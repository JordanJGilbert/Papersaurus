/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/page";
exports.ids = ["app/page"];
exports.modules = {

/***/ "../../client/components/action-async-storage.external":
/*!*******************************************************************************!*\
  !*** external "next/dist/client/components/action-async-storage.external.js" ***!
  \*******************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/client/components/action-async-storage.external.js");

/***/ }),

/***/ "../../client/components/request-async-storage.external":
/*!********************************************************************************!*\
  !*** external "next/dist/client/components/request-async-storage.external.js" ***!
  \********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/client/components/request-async-storage.external.js");

/***/ }),

/***/ "../../client/components/static-generation-async-storage.external":
/*!******************************************************************************************!*\
  !*** external "next/dist/client/components/static-generation-async-storage.external.js" ***!
  \******************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/client/components/static-generation-async-storage.external.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("crypto");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fpage&page=%2Fpage&appPaths=%2Fpage&pagePath=private-next-app-dir%2Fpage.tsx&appDir=%2Fvar%2Fwww%2Fflask_app%2Fast_chat%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fvar%2Fwww%2Fflask_app%2Fast_chat&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fpage&page=%2Fpage&appPaths=%2Fpage&pagePath=private-next-app-dir%2Fpage.tsx&appDir=%2Fvar%2Fwww%2Fflask_app%2Fast_chat%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fvar%2Fwww%2Fflask_app%2Fast_chat&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GlobalError: () => (/* reexport default from dynamic */ next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_2___default.a),\n/* harmony export */   __next_app__: () => (/* binding */ __next_app__),\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   pages: () => (/* binding */ pages),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   tree: () => (/* binding */ tree)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_page_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-page/module.compiled */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/module.compiled.js?d969\");\n/* harmony import */ var next_dist_server_future_route_modules_app_page_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_page_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/client/components/error-boundary */ \"(rsc)/./node_modules/next/dist/client/components/error-boundary.js\");\n/* harmony import */ var next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next/dist/server/app-render/entry-base */ \"(rsc)/./node_modules/next/dist/server/app-render/entry-base.js\");\n/* harmony import */ var next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};\n/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3__) if([\"default\",\"tree\",\"pages\",\"GlobalError\",\"originalPathname\",\"__next_app__\",\"routeModule\"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3__[__WEBPACK_IMPORT_KEY__]\n/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);\n\"TURBOPACK { transition: next-ssr }\";\n\n\n// We inject the tree and pages here so that we can use them in the route\n// module.\nconst tree = {\n        children: [\n        '',\n        {\n        children: ['__PAGE__', {}, {\n          page: [() => Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./app/page.tsx */ \"(rsc)/./app/page.tsx\")), \"/var/www/flask_app/ast_chat/app/page.tsx\"],\n          \n        }]\n      },\n        {\n        'layout': [() => Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./app/layout.tsx */ \"(rsc)/./app/layout.tsx\")), \"/var/www/flask_app/ast_chat/app/layout.tsx\"],\n'not-found': [() => Promise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! next/dist/client/components/not-found-error */ \"(rsc)/./node_modules/next/dist/client/components/not-found-error.js\", 23)), \"next/dist/client/components/not-found-error\"],\n        \n      }\n      ]\n      }.children;\nconst pages = [\"/var/www/flask_app/ast_chat/app/page.tsx\"];\n\n\nconst __next_app_require__ = __webpack_require__\nconst __next_app_load_chunk__ = () => Promise.resolve()\nconst originalPathname = \"/page\";\nconst __next_app__ = {\n    require: __next_app_require__,\n    loadChunk: __next_app_load_chunk__\n};\n\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_app_page_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppPageRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_PAGE,\n        page: \"/page\",\n        pathname: \"/\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\",\n        appPaths: []\n    },\n    userland: {\n        loaderTree: tree\n    }\n});\n\n//# sourceMappingURL=app-page.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZwYWdlJnBhZ2U9JTJGcGFnZSZhcHBQYXRocz0lMkZwYWdlJnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGcGFnZS50c3gmYXBwRGlyPSUyRnZhciUyRnd3dyUyRmZsYXNrX2FwcCUyRmFzdF9jaGF0JTJGYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj0lMkZ2YXIlMkZ3d3clMkZmbGFza19hcHAlMkZhc3RfY2hhdCZpc0Rldj10cnVlJnRzY29uZmlnUGF0aD10c2NvbmZpZy5qc29uJmJhc2VQYXRoPSZhc3NldFByZWZpeD0mbmV4dENvbmZpZ091dHB1dD0mcHJlZmVycmVkUmVnaW9uPSZtaWRkbGV3YXJlQ29uZmlnPWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLGFBQWEsc0JBQXNCO0FBQ2lFO0FBQ3JDO0FBQy9EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQztBQUNqQyx1QkFBdUIsd0lBQTZFO0FBQ3BHO0FBQ0EsU0FBUztBQUNULE9BQU87QUFDUDtBQUNBLHlCQUF5Qiw0SUFBK0U7QUFDeEcsb0JBQW9CLDBOQUFnRjtBQUNwRztBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDdUI7QUFDNkQ7QUFDcEYsNkJBQTZCLG1CQUFtQjtBQUNoRDtBQUNPO0FBQ0E7QUFDUDtBQUNBO0FBQ0E7QUFDdUQ7QUFDdkQ7QUFDTyx3QkFBd0IsOEdBQWtCO0FBQ2pEO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRCIsInNvdXJjZXMiOlsid2VicGFjazovL2FzdF9jaGF0Lz81MmRjIl0sInNvdXJjZXNDb250ZW50IjpbIlwiVFVSQk9QQUNLIHsgdHJhbnNpdGlvbjogbmV4dC1zc3IgfVwiO1xuaW1wb3J0IHsgQXBwUGFnZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvYXBwLXBhZ2UvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuLy8gV2UgaW5qZWN0IHRoZSB0cmVlIGFuZCBwYWdlcyBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgdHJlZSA9IHtcbiAgICAgICAgY2hpbGRyZW46IFtcbiAgICAgICAgJycsXG4gICAgICAgIHtcbiAgICAgICAgY2hpbGRyZW46IFsnX19QQUdFX18nLCB7fSwge1xuICAgICAgICAgIHBhZ2U6IFsoKSA9PiBpbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIi92YXIvd3d3L2ZsYXNrX2FwcC9hc3RfY2hhdC9hcHAvcGFnZS50c3hcIiksIFwiL3Zhci93d3cvZmxhc2tfYXBwL2FzdF9jaGF0L2FwcC9wYWdlLnRzeFwiXSxcbiAgICAgICAgICBcbiAgICAgICAgfV1cbiAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgJ2xheW91dCc6IFsoKSA9PiBpbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIi92YXIvd3d3L2ZsYXNrX2FwcC9hc3RfY2hhdC9hcHAvbGF5b3V0LnRzeFwiKSwgXCIvdmFyL3d3dy9mbGFza19hcHAvYXN0X2NoYXQvYXBwL2xheW91dC50c3hcIl0sXG4nbm90LWZvdW5kJzogWygpID0+IGltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwibmV4dC9kaXN0L2NsaWVudC9jb21wb25lbnRzL25vdC1mb3VuZC1lcnJvclwiKSwgXCJuZXh0L2Rpc3QvY2xpZW50L2NvbXBvbmVudHMvbm90LWZvdW5kLWVycm9yXCJdLFxuICAgICAgICBcbiAgICAgIH1cbiAgICAgIF1cbiAgICAgIH0uY2hpbGRyZW47XG5jb25zdCBwYWdlcyA9IFtcIi92YXIvd3d3L2ZsYXNrX2FwcC9hc3RfY2hhdC9hcHAvcGFnZS50c3hcIl07XG5leHBvcnQgeyB0cmVlLCBwYWdlcyB9O1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBHbG9iYWxFcnJvciB9IGZyb20gXCJuZXh0L2Rpc3QvY2xpZW50L2NvbXBvbmVudHMvZXJyb3ItYm91bmRhcnlcIjtcbmNvbnN0IF9fbmV4dF9hcHBfcmVxdWlyZV9fID0gX193ZWJwYWNrX3JlcXVpcmVfX1xuY29uc3QgX19uZXh0X2FwcF9sb2FkX2NodW5rX18gPSAoKSA9PiBQcm9taXNlLnJlc29sdmUoKVxuZXhwb3J0IGNvbnN0IG9yaWdpbmFsUGF0aG5hbWUgPSBcIi9wYWdlXCI7XG5leHBvcnQgY29uc3QgX19uZXh0X2FwcF9fID0ge1xuICAgIHJlcXVpcmU6IF9fbmV4dF9hcHBfcmVxdWlyZV9fLFxuICAgIGxvYWRDaHVuazogX19uZXh0X2FwcF9sb2FkX2NodW5rX19cbn07XG5leHBvcnQgKiBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9hcHAtcmVuZGVyL2VudHJ5LWJhc2VcIjtcbi8vIENyZWF0ZSBhbmQgZXhwb3J0IHRoZSByb3V0ZSBtb2R1bGUgdGhhdCB3aWxsIGJlIGNvbnN1bWVkLlxuZXhwb3J0IGNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFBhZ2VSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1BBR0UsXG4gICAgICAgIHBhZ2U6IFwiL3BhZ2VcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL1wiLFxuICAgICAgICAvLyBUaGUgZm9sbG93aW5nIGFyZW4ndCB1c2VkIGluIHByb2R1Y3Rpb24uXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcIlwiLFxuICAgICAgICBhcHBQYXRoczogW11cbiAgICB9LFxuICAgIHVzZXJsYW5kOiB7XG4gICAgICAgIGxvYWRlclRyZWU6IHRyZWVcbiAgICB9XG59KTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXBhZ2UuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fpage&page=%2Fpage&appPaths=%2Fpage&pagePath=private-next-app-dir%2Fpage.tsx&appDir=%2Fvar%2Fwww%2Fflask_app%2Fast_chat%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fvar%2Fwww%2Fflask_app%2Fast_chat&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2Fvar%2Fwww%2Fflask_app%2Fast_chat%2Fapp%2Fpage.tsx%22%2C%22ids%22%3A%5B%5D%7D&server=true!":
/*!********************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2Fvar%2Fwww%2Fflask_app%2Fast_chat%2Fapp%2Fpage.tsx%22%2C%22ids%22%3A%5B%5D%7D&server=true! ***!
  \********************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

eval("Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./app/page.tsx */ \"(ssr)/./app/page.tsx\"));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWZsaWdodC1jbGllbnQtZW50cnktbG9hZGVyLmpzP21vZHVsZXM9JTdCJTIycmVxdWVzdCUyMiUzQSUyMiUyRnZhciUyRnd3dyUyRmZsYXNrX2FwcCUyRmFzdF9jaGF0JTJGYXBwJTJGcGFnZS50c3glMjIlMkMlMjJpZHMlMjIlM0ElNUIlNUQlN0Qmc2VydmVyPXRydWUhIiwibWFwcGluZ3MiOiJBQUFBLHdJQUE2RSIsInNvdXJjZXMiOlsid2VicGFjazovL2FzdF9jaGF0Lz82ZTg0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwiL3Zhci93d3cvZmxhc2tfYXBwL2FzdF9jaGF0L2FwcC9wYWdlLnRzeFwiKTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2Fvar%2Fwww%2Fflask_app%2Fast_chat%2Fapp%2Fpage.tsx%22%2C%22ids%22%3A%5B%5D%7D&server=true!\n");

/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2Fvar%2Fwww%2Fflask_app%2Fast_chat%2Fcomponents%2Ftheme-provider.tsx%22%2C%22ids%22%3A%5B%22ThemeProvider%22%5D%7D&modules=%7B%22request%22%3A%22%2Fvar%2Fwww%2Fflask_app%2Fast_chat%2Fnode_modules%2Fnext%2Ffont%2Fgoogle%2Ftarget.css%3F%7B%5C%22path%5C%22%3A%5C%22app%2Flayout.tsx%5C%22%2C%5C%22import%5C%22%3A%5C%22Inter%5C%22%2C%5C%22arguments%5C%22%3A%5B%7B%5C%22subsets%5C%22%3A%5B%5C%22latin%5C%22%5D%7D%5D%2C%5C%22variableName%5C%22%3A%5C%22inter%5C%22%7D%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fvar%2Fwww%2Fflask_app%2Fast_chat%2Fapp%2Fglobals.css%22%2C%22ids%22%3A%5B%5D%7D&server=true!":
/*!*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2Fvar%2Fwww%2Fflask_app%2Fast_chat%2Fcomponents%2Ftheme-provider.tsx%22%2C%22ids%22%3A%5B%22ThemeProvider%22%5D%7D&modules=%7B%22request%22%3A%22%2Fvar%2Fwww%2Fflask_app%2Fast_chat%2Fnode_modules%2Fnext%2Ffont%2Fgoogle%2Ftarget.css%3F%7B%5C%22path%5C%22%3A%5C%22app%2Flayout.tsx%5C%22%2C%5C%22import%5C%22%3A%5C%22Inter%5C%22%2C%5C%22arguments%5C%22%3A%5B%7B%5C%22subsets%5C%22%3A%5B%5C%22latin%5C%22%5D%7D%5D%2C%5C%22variableName%5C%22%3A%5C%22inter%5C%22%7D%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fvar%2Fwww%2Fflask_app%2Fast_chat%2Fapp%2Fglobals.css%22%2C%22ids%22%3A%5B%5D%7D&server=true! ***!
  \*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

eval("Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./components/theme-provider.tsx */ \"(ssr)/./components/theme-provider.tsx\"));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWZsaWdodC1jbGllbnQtZW50cnktbG9hZGVyLmpzP21vZHVsZXM9JTdCJTIycmVxdWVzdCUyMiUzQSUyMiUyRnZhciUyRnd3dyUyRmZsYXNrX2FwcCUyRmFzdF9jaGF0JTJGY29tcG9uZW50cyUyRnRoZW1lLXByb3ZpZGVyLnRzeCUyMiUyQyUyMmlkcyUyMiUzQSU1QiUyMlRoZW1lUHJvdmlkZXIlMjIlNUQlN0QmbW9kdWxlcz0lN0IlMjJyZXF1ZXN0JTIyJTNBJTIyJTJGdmFyJTJGd3d3JTJGZmxhc2tfYXBwJTJGYXN0X2NoYXQlMkZub2RlX21vZHVsZXMlMkZuZXh0JTJGZm9udCUyRmdvb2dsZSUyRnRhcmdldC5jc3MlM0YlN0IlNUMlMjJwYXRoJTVDJTIyJTNBJTVDJTIyYXBwJTJGbGF5b3V0LnRzeCU1QyUyMiUyQyU1QyUyMmltcG9ydCU1QyUyMiUzQSU1QyUyMkludGVyJTVDJTIyJTJDJTVDJTIyYXJndW1lbnRzJTVDJTIyJTNBJTVCJTdCJTVDJTIyc3Vic2V0cyU1QyUyMiUzQSU1QiU1QyUyMmxhdGluJTVDJTIyJTVEJTdEJTVEJTJDJTVDJTIydmFyaWFibGVOYW1lJTVDJTIyJTNBJTVDJTIyaW50ZXIlNUMlMjIlN0QlMjIlMkMlMjJpZHMlMjIlM0ElNUIlNUQlN0QmbW9kdWxlcz0lN0IlMjJyZXF1ZXN0JTIyJTNBJTIyJTJGdmFyJTJGd3d3JTJGZmxhc2tfYXBwJTJGYXN0X2NoYXQlMkZhcHAlMkZnbG9iYWxzLmNzcyUyMiUyQyUyMmlkcyUyMiUzQSU1QiU1RCU3RCZzZXJ2ZXI9dHJ1ZSEiLCJtYXBwaW5ncyI6IkFBQUEsMEtBQWlJIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYXN0X2NoYXQvP2ExODIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIsIHdlYnBhY2tFeHBvcnRzOiBbXCJUaGVtZVByb3ZpZGVyXCJdICovIFwiL3Zhci93d3cvZmxhc2tfYXBwL2FzdF9jaGF0L2NvbXBvbmVudHMvdGhlbWUtcHJvdmlkZXIudHN4XCIpO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2Fvar%2Fwww%2Fflask_app%2Fast_chat%2Fcomponents%2Ftheme-provider.tsx%22%2C%22ids%22%3A%5B%22ThemeProvider%22%5D%7D&modules=%7B%22request%22%3A%22%2Fvar%2Fwww%2Fflask_app%2Fast_chat%2Fnode_modules%2Fnext%2Ffont%2Fgoogle%2Ftarget.css%3F%7B%5C%22path%5C%22%3A%5C%22app%2Flayout.tsx%5C%22%2C%5C%22import%5C%22%3A%5C%22Inter%5C%22%2C%5C%22arguments%5C%22%3A%5B%7B%5C%22subsets%5C%22%3A%5B%5C%22latin%5C%22%5D%7D%5D%2C%5C%22variableName%5C%22%3A%5C%22inter%5C%22%7D%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fvar%2Fwww%2Fflask_app%2Fast_chat%2Fapp%2Fglobals.css%22%2C%22ids%22%3A%5B%5D%7D&server=true!\n");

/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2Fvar%2Fwww%2Fflask_app%2Fast_chat%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fapp-router.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fvar%2Fwww%2Fflask_app%2Fast_chat%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fclient-page.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fvar%2Fwww%2Fflask_app%2Fast_chat%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Ferror-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fvar%2Fwww%2Fflask_app%2Fast_chat%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Flayout-router.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fvar%2Fwww%2Fflask_app%2Fast_chat%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fnot-found-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fvar%2Fwww%2Fflask_app%2Fast_chat%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Frender-from-template-context.js%22%2C%22ids%22%3A%5B%5D%7D&server=true!":
/*!****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2Fvar%2Fwww%2Fflask_app%2Fast_chat%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fapp-router.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fvar%2Fwww%2Fflask_app%2Fast_chat%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fclient-page.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fvar%2Fwww%2Fflask_app%2Fast_chat%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Ferror-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fvar%2Fwww%2Fflask_app%2Fast_chat%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Flayout-router.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fvar%2Fwww%2Fflask_app%2Fast_chat%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fnot-found-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fvar%2Fwww%2Fflask_app%2Fast_chat%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Frender-from-template-context.js%22%2C%22ids%22%3A%5B%5D%7D&server=true! ***!
  \****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

eval("Promise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/app-router.js */ \"(ssr)/./node_modules/next/dist/client/components/app-router.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/client-page.js */ \"(ssr)/./node_modules/next/dist/client/components/client-page.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/error-boundary.js */ \"(ssr)/./node_modules/next/dist/client/components/error-boundary.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/layout-router.js */ \"(ssr)/./node_modules/next/dist/client/components/layout-router.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/not-found-boundary.js */ \"(ssr)/./node_modules/next/dist/client/components/not-found-boundary.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/render-from-template-context.js */ \"(ssr)/./node_modules/next/dist/client/components/render-from-template-context.js\", 23));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWZsaWdodC1jbGllbnQtZW50cnktbG9hZGVyLmpzP21vZHVsZXM9JTdCJTIycmVxdWVzdCUyMiUzQSUyMiUyRnZhciUyRnd3dyUyRmZsYXNrX2FwcCUyRmFzdF9jaGF0JTJGbm9kZV9tb2R1bGVzJTJGbmV4dCUyRmRpc3QlMkZjbGllbnQlMkZjb21wb25lbnRzJTJGYXBwLXJvdXRlci5qcyUyMiUyQyUyMmlkcyUyMiUzQSU1QiU1RCU3RCZtb2R1bGVzPSU3QiUyMnJlcXVlc3QlMjIlM0ElMjIlMkZ2YXIlMkZ3d3clMkZmbGFza19hcHAlMkZhc3RfY2hhdCUyRm5vZGVfbW9kdWxlcyUyRm5leHQlMkZkaXN0JTJGY2xpZW50JTJGY29tcG9uZW50cyUyRmNsaWVudC1wYWdlLmpzJTIyJTJDJTIyaWRzJTIyJTNBJTVCJTVEJTdEJm1vZHVsZXM9JTdCJTIycmVxdWVzdCUyMiUzQSUyMiUyRnZhciUyRnd3dyUyRmZsYXNrX2FwcCUyRmFzdF9jaGF0JTJGbm9kZV9tb2R1bGVzJTJGbmV4dCUyRmRpc3QlMkZjbGllbnQlMkZjb21wb25lbnRzJTJGZXJyb3ItYm91bmRhcnkuanMlMjIlMkMlMjJpZHMlMjIlM0ElNUIlNUQlN0QmbW9kdWxlcz0lN0IlMjJyZXF1ZXN0JTIyJTNBJTIyJTJGdmFyJTJGd3d3JTJGZmxhc2tfYXBwJTJGYXN0X2NoYXQlMkZub2RlX21vZHVsZXMlMkZuZXh0JTJGZGlzdCUyRmNsaWVudCUyRmNvbXBvbmVudHMlMkZsYXlvdXQtcm91dGVyLmpzJTIyJTJDJTIyaWRzJTIyJTNBJTVCJTVEJTdEJm1vZHVsZXM9JTdCJTIycmVxdWVzdCUyMiUzQSUyMiUyRnZhciUyRnd3dyUyRmZsYXNrX2FwcCUyRmFzdF9jaGF0JTJGbm9kZV9tb2R1bGVzJTJGbmV4dCUyRmRpc3QlMkZjbGllbnQlMkZjb21wb25lbnRzJTJGbm90LWZvdW5kLWJvdW5kYXJ5LmpzJTIyJTJDJTIyaWRzJTIyJTNBJTVCJTVEJTdEJm1vZHVsZXM9JTdCJTIycmVxdWVzdCUyMiUzQSUyMiUyRnZhciUyRnd3dyUyRmZsYXNrX2FwcCUyRmFzdF9jaGF0JTJGbm9kZV9tb2R1bGVzJTJGbmV4dCUyRmRpc3QlMkZjbGllbnQlMkZjb21wb25lbnRzJTJGcmVuZGVyLWZyb20tdGVtcGxhdGUtY29udGV4dC5qcyUyMiUyQyUyMmlkcyUyMiUzQSU1QiU1RCU3RCZzZXJ2ZXI9dHJ1ZSEiLCJtYXBwaW5ncyI6IkFBQUEsa09BQXVIO0FBQ3ZIO0FBQ0Esb09BQXdIO0FBQ3hIO0FBQ0EsME9BQTJIO0FBQzNIO0FBQ0Esd09BQTBIO0FBQzFIO0FBQ0Esa1BBQStIO0FBQy9IO0FBQ0Esc1FBQXlJIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYXN0X2NoYXQvP2NmZDciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIgKi8gXCIvdmFyL3d3dy9mbGFza19hcHAvYXN0X2NoYXQvbm9kZV9tb2R1bGVzL25leHQvZGlzdC9jbGllbnQvY29tcG9uZW50cy9hcHAtcm91dGVyLmpzXCIpO1xuO1xuaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIgKi8gXCIvdmFyL3d3dy9mbGFza19hcHAvYXN0X2NoYXQvbm9kZV9tb2R1bGVzL25leHQvZGlzdC9jbGllbnQvY29tcG9uZW50cy9jbGllbnQtcGFnZS5qc1wiKTtcbjtcbmltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwiL3Zhci93d3cvZmxhc2tfYXBwL2FzdF9jaGF0L25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvY2xpZW50L2NvbXBvbmVudHMvZXJyb3ItYm91bmRhcnkuanNcIik7XG47XG5pbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIi92YXIvd3d3L2ZsYXNrX2FwcC9hc3RfY2hhdC9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2NsaWVudC9jb21wb25lbnRzL2xheW91dC1yb3V0ZXIuanNcIik7XG47XG5pbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIi92YXIvd3d3L2ZsYXNrX2FwcC9hc3RfY2hhdC9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2NsaWVudC9jb21wb25lbnRzL25vdC1mb3VuZC1ib3VuZGFyeS5qc1wiKTtcbjtcbmltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwiL3Zhci93d3cvZmxhc2tfYXBwL2FzdF9jaGF0L25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvY2xpZW50L2NvbXBvbmVudHMvcmVuZGVyLWZyb20tdGVtcGxhdGUtY29udGV4dC5qc1wiKTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2Fvar%2Fwww%2Fflask_app%2Fast_chat%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fapp-router.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fvar%2Fwww%2Fflask_app%2Fast_chat%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fclient-page.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fvar%2Fwww%2Fflask_app%2Fast_chat%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Ferror-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fvar%2Fwww%2Fflask_app%2Fast_chat%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Flayout-router.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fvar%2Fwww%2Fflask_app%2Fast_chat%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fnot-found-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fvar%2Fwww%2Fflask_app%2Fast_chat%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Frender-from-template-context.js%22%2C%22ids%22%3A%5B%5D%7D&server=true!\n");

/***/ }),

/***/ "(ssr)/./app/page.tsx":
/*!**********************!*\
  !*** ./app/page.tsx ***!
  \**********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ChatPage)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _components_mode_toggle__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/components/mode-toggle */ \"(ssr)/./components/mode-toggle.tsx\");\n/* harmony import */ var _components_ui_button__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/components/ui/button */ \"(ssr)/./components/ui/button.tsx\");\n/* harmony import */ var _components_ui_input__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/components/ui/input */ \"(ssr)/./components/ui/input.tsx\");\n/* harmony import */ var _components_ui_scroll_area__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/components/ui/scroll-area */ \"(ssr)/./components/ui/scroll-area.tsx\");\n/* harmony import */ var _barrel_optimize_names_ArrowUp_ChevronDown_Loader2_MapPin_Menu_Paperclip_lucide_react__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowUp,ChevronDown,Loader2,MapPin,Menu,Paperclip!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/menu.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowUp_ChevronDown_Loader2_MapPin_Menu_Paperclip_lucide_react__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowUp,ChevronDown,Loader2,MapPin,Menu,Paperclip!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/chevron-down.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowUp_ChevronDown_Loader2_MapPin_Menu_Paperclip_lucide_react__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowUp,ChevronDown,Loader2,MapPin,Menu,Paperclip!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/loader-circle.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowUp_ChevronDown_Loader2_MapPin_Menu_Paperclip_lucide_react__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowUp,ChevronDown,Loader2,MapPin,Menu,Paperclip!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/paperclip.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowUp_ChevronDown_Loader2_MapPin_Menu_Paperclip_lucide_react__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowUp,ChevronDown,Loader2,MapPin,Menu,Paperclip!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/map-pin.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowUp_ChevronDown_Loader2_MapPin_Menu_Paperclip_lucide_react__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowUp,ChevronDown,Loader2,MapPin,Menu,Paperclip!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/arrow-up.js\");\n/* harmony import */ var marked__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! marked */ \"(ssr)/./node_modules/marked/lib/marked.esm.js\");\n/* harmony import */ var dompurify__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! dompurify */ \"(ssr)/./node_modules/dompurify/dist/purify.es.mjs\");\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! uuid */ \"(ssr)/./node_modules/uuid/dist/esm/v4.js\");\n/* harmony import */ var _components_ToolCallDisplay__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @/components/ToolCallDisplay */ \"(ssr)/./components/ToolCallDisplay.tsx\");\n/* harmony import */ var _components_URLPreview__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @/components/URLPreview */ \"(ssr)/./components/URLPreview.tsx\");\n/* harmony import */ var _components_MapDisplay__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @/components/MapDisplay */ \"(ssr)/./components/MapDisplay.tsx\");\n/* harmony import */ var _components_DirectionsSteps__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @/components/DirectionsSteps */ \"(ssr)/./components/DirectionsSteps.tsx\");\n/* harmony import */ var _components_ImageDisplay__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @/components/ImageDisplay */ \"(ssr)/./components/ImageDisplay.tsx\");\n/* harmony import */ var next_themes__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! next-themes */ \"(ssr)/./node_modules/next-themes/dist/index.mjs\");\n/* harmony import */ var _hooks_useContentPreviews__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @/hooks/useContentPreviews */ \"(ssr)/./hooks/useContentPreviews.ts\");\n/* harmony import */ var _components_ContentPreview__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @/components/ContentPreview */ \"(ssr)/./components/ContentPreview.tsx\");\n/* harmony import */ var _utils_previewExtractors__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @/utils/previewExtractors */ \"(ssr)/./utils/previewExtractors.ts\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// Ensure marked runs synchronously for this page too, if not already global\nmarked__WEBPACK_IMPORTED_MODULE_6__.marked.setOptions({\n    async: false\n});\n// Configuration for the backend API endpoint\nconst BACKEND_API_BASE_URL = \"https://jordanjohngilbert.link\" || 0; // Default to localhost:5001\nfunction ChatPage() {\n    const [userInput, setUserInput] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [messages, setMessages] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [selectedFiles, setSelectedFiles] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]); // <-- New state for selected files\n    const fileInputRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null); // <-- Ref for file input\n    const [fileProcessingStatus, setFileProcessingStatus] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null); // <-- Status for file processing\n    const [showInitialView, setShowInitialView] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const scrollAreaRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null); // Ref for the ScrollArea's viewport element\n    const [status, setStatus] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"Ready\");\n    const [apiSender] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"+17145986105\");\n    const [currentUserLocation, setCurrentUserLocation] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [sendLocation, setSendLocation] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false); // New state for toggle\n    const [directionsData, setDirectionsData] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [googleMapsApiKey] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"AIzaSyC0_w7ucVDKZ7pD3JinvokDwxl9OohMkwQ\" || 0);\n    const [mapDisplayKey, setMapDisplayKey] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0); // Key for forcing MapDisplay re-render\n    const [showTraffic, setShowTraffic] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false); // State for traffic layer\n    const [isMapSectionVisible, setIsMapSectionVisible] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false); // <-- State for map section visibility\n    const { theme: appTheme } = (0,next_themes__WEBPACK_IMPORTED_MODULE_13__.useTheme)(); // Get current application theme\n    // NEW: Add content previews hook\n    const { upsertPreview, updatePreview, getPreviewsForMessage, removePreview } = (0,_hooks_useContentPreviews__WEBPACK_IMPORTED_MODULE_14__.useContentPreviews)();\n    // Define available models as an array of objects for the dropdown\n    const modelOptions = [\n        {\n            value: \"gemini-2.5-flash-preview-05-20\",\n            label: \"Gemini 2.5 Flash\"\n        },\n        {\n            value: \"gemini-2.5-pro-preview-05-06\",\n            label: \"Gemini 2.5 Pro\"\n        }\n    ];\n    const [selectedModel, setSelectedModel] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(modelOptions[1].value); // Default to the second model (Pro)\n    // NEW: Helper function to process tool calls for preview extraction\n    const processToolCallForPreview = (toolCall, messageId)=>{\n        if ((0,_utils_previewExtractors__WEBPACK_IMPORTED_MODULE_16__.shouldExtractPreview)(toolCall)) {\n            const extractedPreview = (0,_utils_previewExtractors__WEBPACK_IMPORTED_MODULE_16__.extractPreviewFromToolCall)(toolCall);\n            if (extractedPreview && extractedPreview.shouldShow) {\n                console.log(`[PAGE.TSX] Extracted preview for tool ${toolCall.name}:`, extractedPreview);\n                upsertPreview(extractedPreview.id, extractedPreview.type, extractedPreview.data, messageId, {\n                    name: toolCall.name,\n                    call_id: toolCall.call_id,\n                    status: toolCall.status\n                });\n            }\n        }\n    };\n    // Function to detect and convert HEIC files to JPEG\n    const convertHeicToJpeg = async (file)=>{\n        const isHeic = file.name.toLowerCase().endsWith(\".heic\") || file.name.toLowerCase().endsWith(\".heif\") || file.type === \"image/heic\" || file.type === \"image/heif\";\n        if (!isHeic) {\n            return file; // Return original file if not HEIC\n        }\n        try {\n            console.log(`🔄 Converting HEIC file \"${file.name}\" to JPEG...`);\n            // Dynamic import to avoid SSR issues\n            const { default: heic2any } = await __webpack_require__.e(/*! import() */ \"vendor-chunks/heic2any\").then(__webpack_require__.t.bind(__webpack_require__, /*! heic2any */ \"(ssr)/./node_modules/heic2any/dist/heic2any.js\", 23));\n            // Try heic2any conversion\n            const convertedBlob = await heic2any({\n                blob: file,\n                toType: \"image/jpeg\",\n                quality: 0.85\n            });\n            // Create new filename with .jpg extension\n            const originalName = file.name.replace(/\\.(heic|heif)$/i, \"\");\n            const newFileName = `${originalName}.jpg`;\n            // Create new File object with converted blob\n            const convertedFile = new File([\n                convertedBlob\n            ], newFileName, {\n                type: \"image/jpeg\",\n                lastModified: file.lastModified\n            });\n            console.log(`✅ Successfully converted \"${file.name}\" to \"${newFileName}\" (${Math.round(convertedFile.size / 1024)}KB)`);\n            return convertedFile;\n        } catch (error) {\n            console.warn(`⚠️ Frontend HEIC conversion failed for \"${file.name}\":`, error);\n            // Try Canvas API fallback\n            try {\n                console.log(`🔄 Attempting Canvas API fallback for \"${file.name}\"...`);\n                const imageBitmap = await createImageBitmap(file);\n                const canvas = document.createElement(\"canvas\");\n                const ctx = canvas.getContext(\"2d\");\n                if (!ctx) {\n                    throw new Error(\"Could not get canvas context\");\n                }\n                canvas.width = imageBitmap.width;\n                canvas.height = imageBitmap.height;\n                ctx.drawImage(imageBitmap, 0, 0);\n                const canvasBlob = await new Promise((resolve, reject)=>{\n                    canvas.toBlob((blob)=>{\n                        if (blob) {\n                            resolve(blob);\n                        } else {\n                            reject(new Error(\"Canvas toBlob failed\"));\n                        }\n                    }, \"image/jpeg\", 0.85);\n                });\n                const originalName = file.name.replace(/\\.(heic|heif)$/i, \"\");\n                const newFileName = `${originalName}.jpg`;\n                const convertedFile = new File([\n                    canvasBlob\n                ], newFileName, {\n                    type: \"image/jpeg\",\n                    lastModified: file.lastModified\n                });\n                console.log(`✅ Canvas API fallback succeeded for \"${file.name}\" → \"${newFileName}\"`);\n                return convertedFile;\n            } catch (canvasError) {\n                console.warn(`⚠️ Canvas API fallback also failed for \"${file.name}\":`, canvasError);\n                // Final fallback: Upload HEIC file and let backend handle conversion\n                console.log(`🔄 Will upload \"${file.name}\" for server-side conversion...`);\n                // Mark this file for server-side conversion by adding a special property\n                const fileWithConversionFlag = new File([\n                    file\n                ], file.name, {\n                    type: file.type || \"image/heic\",\n                    lastModified: file.lastModified\n                });\n                // Add a custom property to indicate this needs server-side conversion\n                fileWithConversionFlag.needsServerConversion = true;\n                return fileWithConversionFlag;\n            }\n        }\n    };\n    const examplePrompts = [\n        {\n            title: \"What are the advantages\",\n            detail: \"of using Next.js?\"\n        },\n        {\n            title: \"Write code to\",\n            detail: \"demonstrate dijkstra\\\\'s algorithm\"\n        },\n        {\n            title: \"Help me write an essay\",\n            detail: \"about silicon valley\"\n        },\n        {\n            title: \"What is the weather\",\n            detail: \"in San Francisco?\"\n        }\n    ];\n    // Helper to ensure markdown block elements are properly spaced\n    const normalizeFragment = (fragment, _prevContent)=>{\n        // TEMPORARILY A PASS-THROUGH\n        return fragment;\n    };\n    // NEW: Function to convert standalone image/video URLs to HTML elements\n    const convertMediaUrls = (text)=>{\n        // Common image extensions\n        const imageExtensions = /\\.(jpg|jpeg|png|gif|webp|svg|bmp|ico|tiff)(\\?[^)\\s\"']*)?$/i;\n        // Common video extensions  \n        const videoExtensions = /\\.(mp4|webm|ogg|mov|avi|wmv|flv|m4v)(\\?[^)\\s\"']*)?$/i;\n        // More comprehensive URL pattern that handles URLs in various contexts\n        // This pattern looks for http/https URLs that are not already in markdown image/link format\n        const urlPattern = /(?<!!\\[)(?<!\\]\\()(?<!\\[.*?\\]\\()https?:\\/\\/[^\\s<>\"'\\]\\)]+/g;\n        let processedText = text.replace(urlPattern, (url)=>{\n            // Remove trailing punctuation that might not be part of the URL\n            const cleanUrl = url.replace(/[.,;:!?)\"']+$/, \"\");\n            if (imageExtensions.test(cleanUrl)) {\n                return `![Image](${cleanUrl})`;\n            } else if (videoExtensions.test(cleanUrl)) {\n                return `<video controls style=\"max-width: 100%; height: auto; max-height: 400px; border-radius: 0.375rem; margin: 0.5em auto; display: block;\">\n          <source src=\"${cleanUrl}\" type=\"video/${cleanUrl.split(\".\").pop()?.split(\"?\")[0] || \"mp4\"}\">\n          Your browser does not support the video tag.\n          <a href=\"${cleanUrl}\" target=\"_blank\" rel=\"noopener noreferrer\">View video</a>\n        </video>`;\n            }\n            return url; // Return original URL if not media\n        });\n        // Additional aggressive pattern to catch any URLs that might be in quotes or other contexts\n        const aggressiveUrlPattern = /https?:\\/\\/[^\\s<>\"'\\]\\)\\}]+\\.(jpg|jpeg|png|gif|webp|svg|bmp|ico|tiff|mp4|webm|ogg|mov|avi|wmv|flv|m4v)(\\?[^\\s<>\"'\\]\\)\\}]*)?/gi;\n        processedText = processedText.replace(aggressiveUrlPattern, (url)=>{\n            // Check if this URL is already converted to markdown\n            if (processedText.includes(`![Image](${url})`)) {\n                return url;\n            }\n            const cleanUrl = url.replace(/[.,;:!?)\"'\\}]+$/, \"\");\n            return `![Image](${cleanUrl})`;\n        });\n        return processedText;\n    };\n    const renderSanitizedMarkdown = (text)=>{\n        // First convert standalone media URLs to proper markdown/HTML\n        const textWithMedia = convertMediaUrls(text);\n        // This function assumes it's running in a browser environment\n        // due to the \"use client\" directive on the component and use of DOMPurify.\n        // marked.parse is configured to run synchronously.\n        const dirtyHtml = marked__WEBPACK_IMPORTED_MODULE_6__.marked.parse(textWithMedia, {\n            gfm: true,\n            breaks: true\n        });\n        return dompurify__WEBPACK_IMPORTED_MODULE_7__[\"default\"].sanitize(dirtyHtml);\n    };\n    const parseTextWithURLs = (text)=>{\n        const urlRegex = /https?:\\/\\/[^\\s<>\"'\\]\\)\\}]+/g;\n        const parts = [];\n        let lastIndex = 0;\n        let match;\n        while((match = urlRegex.exec(text)) !== null){\n            // Add text before the URL\n            if (match.index > lastIndex) {\n                const beforeText = text.substring(lastIndex, match.index);\n                if (beforeText.trim()) {\n                    parts.push({\n                        type: \"text\",\n                        content: beforeText\n                    });\n                }\n            }\n            // Add the URL (clean up trailing punctuation)\n            const url = match[0].replace(/[.,;:!?)\"'\\}]+$/, \"\");\n            // Skip if it's already an image/video (handled by markdown)\n            const isMedia = /\\.(jpg|jpeg|png|gif|webp|svg|bmp|ico|tiff|mp4|webm|ogg|mov|avi|wmv|flv|m4v)(\\?[^)\\s\"']*)?$/i.test(url);\n            if (!isMedia) {\n                parts.push({\n                    type: \"url\",\n                    content: url\n                });\n            } else {\n                // Keep as text for markdown processing\n                parts.push({\n                    type: \"text\",\n                    content: match[0]\n                });\n            }\n            lastIndex = urlRegex.lastIndex;\n        }\n        // Add remaining text\n        if (lastIndex < text.length) {\n            const remainingText = text.substring(lastIndex);\n            if (remainingText.trim()) {\n                parts.push({\n                    type: \"text\",\n                    content: remainingText\n                });\n            }\n        }\n        // If no URLs found, return the whole text as one part\n        if (parts.length === 0) {\n            parts.push({\n                type: \"text\",\n                content: text\n            });\n        }\n        return parts;\n    };\n    const getCurrentLocation = ()=>{\n        console.log(\"[PAGE.TSX] getCurrentLocation called\");\n        return new Promise((resolve, reject)=>{\n            if (!navigator.geolocation) {\n                console.error(\"[PAGE.TSX] Geolocation not supported\");\n                reject(\"Geolocation is not supported by your browser.\");\n                return;\n            }\n            const timeoutId = setTimeout(()=>{\n                console.error(\"[PAGE.TSX] Geolocation timeout\");\n                reject(\"Failed to get location: Timeout.\");\n            }, 10000); // 10 second timeout\n            navigator.geolocation.getCurrentPosition((position)=>{\n                clearTimeout(timeoutId);\n                const coords = `${position.coords.latitude},${position.coords.longitude}`;\n                console.log(\"[PAGE.TSX] Geolocation success:\", coords);\n                setCurrentUserLocation(coords); // Update state here as well\n                resolve(coords);\n            }, (error)=>{\n                clearTimeout(timeoutId);\n                console.error(\"[PAGE.TSX] Geolocation error:\", error);\n                let message = \"Unable to retrieve your location. Please ensure location services are enabled.\";\n                switch(error.code){\n                    case error.PERMISSION_DENIED:\n                        message = \"Location permission denied. Please enable it in your browser settings.\";\n                        break;\n                    case error.POSITION_UNAVAILABLE:\n                        message = \"Location information is unavailable.\";\n                        break;\n                    case error.TIMEOUT:\n                        message = \"Request to get user location timed out.\"; // This case might be preempted by our own setTimeout\n                        break;\n                }\n                reject(message);\n            }, {\n                enableHighAccuracy: true,\n                timeout: 8000,\n                maximumAge: 0\n            } // Added options\n            );\n        });\n    };\n    const handleFileSelect = async (event)=>{\n        if (event.target.files) {\n            const files = Array.from(event.target.files);\n            // Check if any files are HEIC\n            const heicFiles = files.filter((file)=>file.name.toLowerCase().endsWith(\".heic\") || file.name.toLowerCase().endsWith(\".heif\") || file.type === \"image/heic\" || file.type === \"image/heif\");\n            if (heicFiles.length > 0) {\n                setFileProcessingStatus(`Converting ${heicFiles.length} HEIC file${heicFiles.length > 1 ? \"s\" : \"\"} to JPEG...`);\n            }\n            try {\n                // Convert any HEIC files to JPEG\n                const convertedFiles = await Promise.all(files.map((file)=>convertHeicToJpeg(file)));\n                // Check if any files need server-side conversion\n                const serverConversionFiles = convertedFiles.filter((file)=>file.needsServerConversion);\n                if (serverConversionFiles.length > 0) {\n                    setFileProcessingStatus(`📤 Sending ${serverConversionFiles.length} HEIC file${serverConversionFiles.length > 1 ? \"s\" : \"\"} for server-side conversion...`);\n                } else {\n                    setFileProcessingStatus(null); // Clear status when done\n                }\n                setSelectedFiles((prevFiles)=>[\n                        ...prevFiles,\n                        ...convertedFiles\n                    ]);\n            } catch (error) {\n                console.error(\"Error processing selected files:\", error);\n                // Show user-friendly error message\n                if (error instanceof Error && error.message.includes(\"Unable to convert HEIC\")) {\n                    setFileProcessingStatus(`❌ HEIC conversion failed. Please try a different image format.`);\n                    setTimeout(()=>setFileProcessingStatus(null), 5000);\n                } else {\n                    // Fall back to adding original files if conversion fails\n                    setSelectedFiles((prevFiles)=>[\n                            ...prevFiles,\n                            ...files\n                        ]);\n                    setFileProcessingStatus(null); // Clear status on error\n                }\n            }\n            event.target.value = \"\"; // Reset file input to allow selecting the same file again\n        }\n    };\n    const removeSelectedFile = (fileNameToRemove)=>{\n        setSelectedFiles((prevFiles)=>prevFiles.filter((file)=>file.name !== fileNameToRemove));\n    };\n    const fileToBase64 = (file)=>{\n        return new Promise((resolve, reject)=>{\n            const reader = new FileReader();\n            reader.readAsDataURL(file);\n            reader.onload = ()=>{\n                const result = reader.result;\n                resolve(result.split(\",\")[1]); // Get data part after comma\n            };\n            reader.onerror = (error)=>reject(error);\n        });\n    };\n    // NEW: Upload files immediately and get URLs\n    const uploadFiles = async (files)=>{\n        const uploadPromises = files.map(async (file)=>{\n            const formData = new FormData();\n            formData.append(\"file\", file);\n            // Check if this file needs server-side HEIC conversion\n            const needsServerConversion = file.needsServerConversion;\n            if (needsServerConversion) {\n                formData.append(\"convert_heic\", \"true\");\n                console.log(`📤 Uploading \"${file.name}\" for server-side HEIC conversion...`);\n            }\n            try {\n                const response = await fetch(`${BACKEND_API_BASE_URL}/upload`, {\n                    method: \"POST\",\n                    body: formData\n                });\n                if (!response.ok) {\n                    throw new Error(`Upload failed: ${response.status}`);\n                }\n                const result = await response.json();\n                // Log server-side HEIC conversion if it occurred\n                if (result.converted_from_heic) {\n                    console.log(`✅ Server converted HEIC file \"${result.original_filename}\" to JPEG: \"${result.filename}\"`);\n                }\n                return result.url; // Backend should return { url: \"...\" }\n            } catch (error) {\n                console.error(`Failed to upload ${file.name}:`, error);\n                throw error;\n            }\n        });\n        return Promise.all(uploadPromises);\n    };\n    const handleSend = async (e)=>{\n        if (e && typeof e.preventDefault === \"function\") {\n            e.preventDefault();\n        }\n        let currentMessageText = userInput.trim(); // Use a mutable variable for message text\n        if (!currentMessageText && selectedFiles.length === 0) return; // Return if no text and no files\n        // --- NEW: Upload files immediately and get URLs ---\n        let attachmentUrls = [];\n        if (selectedFiles.length > 0) {\n            try {\n                setStatus(\"Uploading files...\");\n                attachmentUrls = await uploadFiles(selectedFiles);\n                console.log(\"Files uploaded successfully:\", attachmentUrls);\n            } catch (error) {\n                console.error(\"File upload failed:\", error);\n                setStatus(\"Ready\");\n                // Show error to user\n                const errorMessageId = (0,uuid__WEBPACK_IMPORTED_MODULE_17__[\"default\"])();\n                setMessages((prev)=>[\n                        ...prev,\n                        {\n                            id: errorMessageId,\n                            sender: \"bot\",\n                            parts: [\n                                {\n                                    type: \"text\",\n                                    id: (0,uuid__WEBPACK_IMPORTED_MODULE_17__[\"default\"])(),\n                                    content: `<strong style=\"color: red;\">Upload Error:</strong> Failed to upload files. Please try again.`\n                                }\n                            ],\n                            timestamp: Date.now(),\n                            thinking: false,\n                            is_error_message: true\n                        }\n                    ]);\n                return;\n            }\n        }\n        // --- Location Appending Logic ---\n        let resolvedOriginForQuery = undefined;\n        if (sendLocation) {\n            if (currentUserLocation) {\n                resolvedOriginForQuery = currentUserLocation;\n            } else {\n                try {\n                    console.log(\"Attempting to get current location because toggle is on...\");\n                    const location = await getCurrentLocation();\n                    resolvedOriginForQuery = location;\n                    console.log(\"Current location obtained for query:\", location);\n                } catch (locationError) {\n                    console.error(\"Error getting location for query:\", locationError);\n                    // Display error to user immediately, similar to before, but tied to bot's thinking message\n                    const tempBotMessageId = (0,uuid__WEBPACK_IMPORTED_MODULE_17__[\"default\"])(); // Create a temporary ID for this error message\n                    setMessages((prev)=>[\n                            ...prev,\n                            {\n                                id: (0,uuid__WEBPACK_IMPORTED_MODULE_17__[\"default\"])(),\n                                sender: \"user\",\n                                parts: currentMessageText ? [\n                                    {\n                                        type: \"text\",\n                                        id: (0,uuid__WEBPACK_IMPORTED_MODULE_17__[\"default\"])(),\n                                        content: currentMessageText\n                                    }\n                                ] : [],\n                                timestamp: Date.now()\n                            },\n                            {\n                                id: tempBotMessageId,\n                                sender: \"bot\",\n                                parts: [\n                                    {\n                                        type: \"text\",\n                                        id: (0,uuid__WEBPACK_IMPORTED_MODULE_17__[\"default\"])(),\n                                        content: `<strong style=\\\"color: red;\\\">Location Error:</strong> ${locationError}`\n                                    }\n                                ],\n                                timestamp: Date.now(),\n                                thinking: false,\n                                is_error_message: true\n                            }\n                        ]);\n                    if (showInitialView) setShowInitialView(false);\n                    setUserInput(\"\"); // Clear input\n                    setSelectedFiles([]); // Clear files\n                    setStatus(\"Ready\");\n                    return;\n                }\n            }\n            if (resolvedOriginForQuery) {\n                // Append to the message text that will be sent\n                currentMessageText = `${currentMessageText} (My current location is: ${resolvedOriginForQuery})`;\n            }\n        }\n        // --- End Location Appending Logic ---\n        // --- NEW: Include attachment URLs directly in the message ---\n        if (attachmentUrls.length > 0) {\n            const attachmentList = attachmentUrls.map((url, index)=>{\n                const fileName = selectedFiles[index]?.name || `Attachment ${index + 1}`;\n                return `- ${fileName}: ${url}`;\n            }).join(\"\\n\");\n            currentMessageText += `\\n\\nAttached files:\\n${attachmentList}`;\n        }\n        const userMessageId = (0,uuid__WEBPACK_IMPORTED_MODULE_17__[\"default\"])();\n        const userMessageParts = [];\n        if (currentMessageText) {\n            userMessageParts.push({\n                type: \"text\",\n                id: (0,uuid__WEBPACK_IMPORTED_MODULE_17__[\"default\"])(),\n                content: currentMessageText\n            });\n        }\n        const userMessage = {\n            id: userMessageId,\n            sender: \"user\",\n            parts: userMessageParts,\n            timestamp: Date.now()\n        };\n        setMessages((prevMessages)=>[\n                ...prevMessages,\n                userMessage\n            ]);\n        setUserInput(\"\");\n        if (showInitialView) setShowInitialView(false);\n        const botMessageId = (0,uuid__WEBPACK_IMPORTED_MODULE_17__[\"default\"])();\n        setMessages((prevMessages)=>[\n                ...prevMessages,\n                {\n                    id: botMessageId,\n                    sender: \"bot\",\n                    parts: [\n                        {\n                            type: \"thought_summary\",\n                            id: (0,uuid__WEBPACK_IMPORTED_MODULE_17__[\"default\"])(),\n                            content: \"\"\n                        }\n                    ],\n                    timestamp: Date.now(),\n                    thinking: true\n                }\n            ]);\n        try {\n            // --- NEW: Simplified payload with URLs instead of base64 ---\n            const payload = {\n                sender: apiSender,\n                query: currentMessageText,\n                timestamp: Date.now(),\n                stream: true,\n                model: selectedModel,\n                attachment_urls: attachmentUrls.length > 0 ? attachmentUrls : undefined\n            };\n            // Clear selected files now that they're uploaded and in the message\n            setSelectedFiles([]);\n            setStatus(\"Processing...\");\n            const response = await fetch(`${BACKEND_API_BASE_URL}/query`, {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify(payload)\n            });\n            if (!response.ok) {\n                const errorText = await response.text();\n                let errorDetail = `HTTP error! status: ${response.status}`;\n                try {\n                    const errorJson = JSON.parse(errorText);\n                    errorDetail = errorJson.error || errorJson.detail || errorDetail;\n                } catch (parseError) {\n                    if (errorText) errorDetail += ` - ${errorText}`;\n                }\n                throw new Error(errorDetail);\n            }\n            if (!response.body) throw new Error(\"Response body is null\");\n            const reader = response.body.getReader();\n            const decoder = new TextDecoder();\n            let buffer = \"\"; // Buffer for accumulating stream data\n            while(true){\n                const { done, value } = await reader.read();\n                if (done) {\n                    if (buffer.trim() !== \"\") {\n                        try {\n                            const parsedChunk = JSON.parse(buffer);\n                            console.log(\"[PAGE.TSX] Final Buffer Chunk:\", JSON.stringify(parsedChunk));\n                            if (parsedChunk.type === \"text_chunk\" && parsedChunk.content) {\n                                setMessages((prev)=>prev.map((msg)=>{\n                                        if (msg.id === botMessageId) {\n                                            let currentContent = parsedChunk.content;\n                                            let newParts = [\n                                                ...msg.parts\n                                            ];\n                                            const lastPart = newParts.length > 0 ? newParts[newParts.length - 1] : null;\n                                            if (lastPart && lastPart.type === \"text\") {\n                                                currentContent = normalizeFragment(currentContent, lastPart.content);\n                                                lastPart.content += currentContent;\n                                            } else {\n                                                currentContent = normalizeFragment(currentContent, \"\");\n                                                newParts.push({\n                                                    type: \"text\",\n                                                    id: (0,uuid__WEBPACK_IMPORTED_MODULE_17__[\"default\"])(),\n                                                    content: currentContent\n                                                });\n                                            }\n                                            return {\n                                                ...msg,\n                                                parts: newParts,\n                                                thinking: true\n                                            };\n                                        }\n                                        return msg;\n                                    }));\n                            } else if (parsedChunk.type === \"thought_summary\" && parsedChunk.content) {\n                                setMessages((prev)=>prev.map((msg)=>{\n                                        if (msg.id === botMessageId) {\n                                            const newParts = msg.parts.map((part)=>{\n                                                if (part.type === \"thought_summary\") {\n                                                    const contentFromChunk = normalizeFragment(parsedChunk.content, part.content);\n                                                    return {\n                                                        ...part,\n                                                        content: part.content + contentFromChunk\n                                                    };\n                                                }\n                                                return part;\n                                            });\n                                            return {\n                                                ...msg,\n                                                parts: newParts,\n                                                thinking: true\n                                            };\n                                        }\n                                        return msg;\n                                    }));\n                            } else if (parsedChunk.type === \"tool_call_pending\" && parsedChunk.name && parsedChunk.arguments) {\n                                const call_id_from_chunk = parsedChunk.call_id || `tool-${(0,uuid__WEBPACK_IMPORTED_MODULE_17__[\"default\"])()}`;\n                                setMessages((prev)=>prev.map((msg)=>{\n                                        if (msg.id === botMessageId) {\n                                            const existingToolCallPart = msg.parts.find((part)=>part.type === \"tool_call\" && part.toolCall.call_id === call_id_from_chunk);\n                                            if (existingToolCallPart) {\n                                                console.log(`[PAGE.TSX] (final buffer) Tool call with ID ${call_id_from_chunk} already exists. Ignoring duplicate pending.`);\n                                                return msg;\n                                            }\n                                            const newToolCallData = {\n                                                call_id: call_id_from_chunk,\n                                                name: parsedChunk.name,\n                                                arguments: typeof parsedChunk.arguments === \"string\" ? parsedChunk.arguments : JSON.stringify(parsedChunk.arguments),\n                                                status: \"Pending...\"\n                                            };\n                                            console.log(\"[PAGE.TSX] (final buffer) Tool Call Pending (New):\", JSON.parse(JSON.stringify(newToolCallData)));\n                                            const newParts = [\n                                                ...msg.parts\n                                            ];\n                                            newParts.push({\n                                                type: \"tool_call\",\n                                                id: (0,uuid__WEBPACK_IMPORTED_MODULE_17__[\"default\"])(),\n                                                toolCall: newToolCallData\n                                            });\n                                            newParts.push({\n                                                type: \"text\",\n                                                id: (0,uuid__WEBPACK_IMPORTED_MODULE_17__[\"default\"])(),\n                                                content: \"\"\n                                            });\n                                            return {\n                                                ...msg,\n                                                parts: newParts,\n                                                thinking: true\n                                            };\n                                        }\n                                        return msg;\n                                    }));\n                            } else if (parsedChunk.type === \"tool_result\" && parsedChunk.call_id && typeof parsedChunk.result !== \"undefined\") {\n                                setMessages((prev)=>prev.map((msg)=>{\n                                        if (msg.id === botMessageId) {\n                                            if (parsedChunk.name === \"get_directions\") {\n                                                console.log(\"[PAGE.TSX] (Final Buffer) RAW get_directions tool_result CHUNK:\", JSON.stringify(parsedChunk));\n                                            }\n                                            let matchedToolCallInParts = false;\n                                            const newParts = msg.parts.map((part)=>{\n                                                if (part.type === \"tool_call\" && part.toolCall.call_id === parsedChunk.call_id) {\n                                                    matchedToolCallInParts = true;\n                                                    const tc = part.toolCall;\n                                                    let finalResult = typeof parsedChunk.result === \"string\" ? parsedChunk.result : JSON.stringify(parsedChunk.result);\n                                                    const isPartial = typeof parsedChunk.is_partial === \"boolean\" ? parsedChunk.is_partial : false;\n                                                    const isError = typeof parsedChunk.is_error === \"boolean\" ? parsedChunk.is_error : false;\n                                                    const newStatus = isPartial ? \"Streaming...\" : isError ? \"Error\" : \"Completed\";\n                                                    const updatedToolCall = {\n                                                        ...tc,\n                                                        result: isPartial && tc.result && tc.status === \"Streaming...\" ? tc.result + \"\\n---\\n\" + finalResult : finalResult,\n                                                        status: newStatus,\n                                                        is_error: isError,\n                                                        is_partial: isPartial\n                                                    };\n                                                    let toolResponse = null;\n                                                    if (tc.name === \"get_directions\" && parsedChunk.result) {\n                                                        // Handle both old wrapped format and new direct format\n                                                        if (typeof parsedChunk.result === \"object\") {\n                                                            const responseKey = `${tc.name}_response`;\n                                                            if (parsedChunk.result[responseKey]) {\n                                                                // Old wrapped format\n                                                                toolResponse = parsedChunk.result[responseKey];\n                                                                console.log(\"[PAGE.TSX] (Stream Loop) Using wrapped format for directions, toolResponse:\", JSON.stringify(toolResponse).substring(0, 200) + \"...\");\n                                                            } else {\n                                                                // New direct format from FastMCP\n                                                                toolResponse = parsedChunk.result;\n                                                                console.log(\"[PAGE.TSX] (Stream Loop) Using direct format for directions, toolResponse:\", JSON.stringify(toolResponse).substring(0, 200) + \"...\");\n                                                            }\n                                                        }\n                                                    }\n                                                    if (tc.name === \"get_directions\" && toolResponse && toolResponse.status === \"success\" && toolResponse.data && !isError && !isPartial) {\n                                                        console.log(\"[PAGE.TSX] (Final Buffer) Setting directionsData with:\", JSON.stringify(toolResponse.data).substring(0, 200) + \"...\");\n                                                        setDirectionsData(toolResponse.data);\n                                                        setMapDisplayKey((prevKey)=>prevKey + 1);\n                                                        setIsMapSectionVisible(true);\n                                                    } else if (tc.name === \"get_directions\" && !toolResponse) {\n                                                        console.error(\"[PAGE.TSX] (Final Buffer) ERROR: get_directions_response missing!\");\n                                                    }\n                                                    // NEW: Process tool call for preview extraction\n                                                    processToolCallForPreview(updatedToolCall, msg.id);\n                                                    // NEW: Web app detection logic\n                                                    if ((tc.name === \"create_web_app\" || tc.name === \"edit_web_app\") && !isError && !isPartial && tc.result) {\n                                                        try {\n                                                            const resultData = typeof tc.result === \"string\" ? JSON.parse(tc.result) : tc.result;\n                                                            if (resultData.status === \"success\" && resultData.url) {\n                                                                console.log(\"[PAGE.TSX] (Final Buffer) Setting webAppUrl with:\", resultData.url);\n                                                            // This will be set on the message object below\n                                                            }\n                                                        } catch (e) {\n                                                            console.warn(\"[PAGE.TSX] (Final Buffer) Failed to parse web app result:\", e);\n                                                        }\n                                                    }\n                                                    // NEW: Image generation detection logic\n                                                    if (tc.name === \"generate_images_with_prompts\" && !isError && !isPartial && tc.result) {\n                                                        try {\n                                                            const resultData = typeof tc.result === \"string\" ? JSON.parse(tc.result) : tc.result;\n                                                            if (resultData.status === \"success\" && resultData.results) {\n                                                                // Extract all image URLs from the results array\n                                                                const imageUrls = [];\n                                                                resultData.results.forEach((resultArray)=>{\n                                                                    if (Array.isArray(resultArray)) {\n                                                                        imageUrls.push(...resultArray);\n                                                                    }\n                                                                });\n                                                                if (imageUrls.length > 0) {\n                                                                    console.log(\"[PAGE.TSX] (Stream Loop) Setting generatedImageUrls with:\", imageUrls.length, \"images\");\n                                                                // This will be set on the message object below\n                                                                }\n                                                            }\n                                                        } catch (e) {\n                                                            console.warn(\"[PAGE.TSX] (Stream Loop) Failed to parse image generation result:\", e);\n                                                        }\n                                                    }\n                                                    return {\n                                                        ...part,\n                                                        toolCall: updatedToolCall\n                                                    };\n                                                }\n                                                return part;\n                                            });\n                                            if (!matchedToolCallInParts) {\n                                                console.warn(`[PAGE.TSX] (Final Buffer) Tool call id ${parsedChunk.call_id} not found in ${msg.id}`);\n                                            }\n                                            let toolResponse = null;\n                                            if (parsedChunk.name === \"get_directions\" && parsedChunk.result) {\n                                                if (typeof parsedChunk.result === \"object\") {\n                                                    const responseKey = `${parsedChunk.name}_response`;\n                                                    if (parsedChunk.result[responseKey]) {\n                                                        toolResponse = parsedChunk.result[responseKey];\n                                                    } else {\n                                                        toolResponse = parsedChunk.result;\n                                                    }\n                                                }\n                                            }\n                                            let finalMsgObject = {\n                                                ...msg,\n                                                parts: newParts,\n                                                thinking: true\n                                            };\n                                            if (parsedChunk.name === \"get_directions\" && toolResponse && !(typeof parsedChunk.is_partial === \"boolean\" && parsedChunk.is_partial) && !(typeof parsedChunk.is_error === \"boolean\" && parsedChunk.is_error) && toolResponse.status === \"success\" && toolResponse.data) {\n                                                finalMsgObject.showMapToggleForThisMessage = true;\n                                                finalMsgObject.directionsData = toolResponse.data;\n                                                console.log(\"[PAGE.TSX] (Final Buffer) Setting message directions data:\", JSON.stringify(toolResponse.data).substring(0, 200) + \"...\");\n                                            }\n                                            // NEW: Web app message object updates\n                                            if ((parsedChunk.name === \"create_web_app\" || parsedChunk.name === \"edit_web_app\") && !(typeof parsedChunk.is_partial === \"boolean\" && parsedChunk.is_partial) && !(typeof parsedChunk.is_error === \"boolean\" && parsedChunk.is_error) && parsedChunk.result) {\n                                                try {\n                                                    const resultData = typeof parsedChunk.result === \"string\" ? JSON.parse(parsedChunk.result) : parsedChunk.result;\n                                                    if (resultData.status === \"success\" && resultData.url) {\n                                                        finalMsgObject.showWebAppForThisMessage = true;\n                                                        finalMsgObject.webAppUrl = resultData.url;\n                                                    }\n                                                } catch (e) {\n                                                    console.warn(\"[PAGE.TSX] (Final Buffer) Failed to parse web app result for message:\", e);\n                                                }\n                                            }\n                                            // NEW: Image generation message object updates\n                                            if (parsedChunk.name === \"generate_images_with_prompts\" && !(typeof parsedChunk.is_partial === \"boolean\" && parsedChunk.is_partial) && !(typeof parsedChunk.is_error === \"boolean\" && parsedChunk.is_error) && parsedChunk.result) {\n                                                try {\n                                                    const resultData = typeof parsedChunk.result === \"string\" ? JSON.parse(parsedChunk.result) : parsedChunk.result;\n                                                    if (resultData.status === \"success\" && resultData.results) {\n                                                        // Extract all image URLs from the results array\n                                                        const imageUrls = [];\n                                                        resultData.results.forEach((resultArray)=>{\n                                                            if (Array.isArray(resultArray)) {\n                                                                imageUrls.push(...resultArray);\n                                                            }\n                                                        });\n                                                        if (imageUrls.length > 0) {\n                                                            finalMsgObject.showImagesForThisMessage = true;\n                                                            finalMsgObject.generatedImageUrls = imageUrls;\n                                                            console.log(\"[PAGE.TSX] (Final Buffer) Setting generatedImageUrls with:\", imageUrls.length, \"images\");\n                                                        }\n                                                    }\n                                                } catch (e) {\n                                                    console.warn(\"[PAGE.TSX] (Final Buffer) Failed to parse image generation result for message:\", e);\n                                                }\n                                            }\n                                            return finalMsgObject;\n                                        }\n                                        return msg;\n                                    }));\n                            } else if (parsedChunk.type === \"tool_sample_text_chunk\" && parsedChunk.parent_tool_call_id && typeof parsedChunk.content === \"string\") {\n                                setMessages((prev)=>prev.map((msg)=>{\n                                        if (msg.id === botMessageId) {\n                                            const newParts = msg.parts.map((part)=>{\n                                                if (part.type === \"tool_call\" && part.toolCall.call_id === parsedChunk.parent_tool_call_id) {\n                                                    const tc = part.toolCall;\n                                                    const currentPairs = tc.sampleCallPairs || [];\n                                                    let newPairs;\n                                                    if (currentPairs.length > 0) {\n                                                        const lastPair = currentPairs[currentPairs.length - 1];\n                                                        // Create new pair object with updated output\n                                                        const updatedLastPair = {\n                                                            ...lastPair,\n                                                            output: (lastPair.output || \"\") + parsedChunk.content\n                                                        };\n                                                        // Create new array with updated last pair\n                                                        newPairs = [\n                                                            ...currentPairs.slice(0, -1),\n                                                            updatedLastPair\n                                                        ];\n                                                    } else {\n                                                        // Create new pair\n                                                        newPairs = [\n                                                            {\n                                                                id: (0,uuid__WEBPACK_IMPORTED_MODULE_17__[\"default\"])(),\n                                                                output: parsedChunk.content\n                                                            }\n                                                        ];\n                                                    }\n                                                    console.log(`[PAGE.TSX] (Final Buffer) Updated sampleCallPairs (output) for ${parsedChunk.parent_tool_call_id}:`, JSON.parse(JSON.stringify(newPairs)));\n                                                    return {\n                                                        ...part,\n                                                        toolCall: {\n                                                            ...tc,\n                                                            sampleCallPairs: newPairs\n                                                        }\n                                                    };\n                                                }\n                                                return part;\n                                            });\n                                            return {\n                                                ...msg,\n                                                parts: newParts,\n                                                thinking: true\n                                            };\n                                        }\n                                        return msg;\n                                    }));\n                            } else if (parsedChunk.type === \"tool_sample_thought_chunk\" && parsedChunk.parent_tool_call_id && typeof parsedChunk.content === \"string\") {\n                                setMessages((prev)=>prev.map((msg)=>{\n                                        if (msg.id === botMessageId) {\n                                            const newParts = msg.parts.map((part)=>{\n                                                if (part.type === \"tool_call\" && part.toolCall.call_id === parsedChunk.parent_tool_call_id) {\n                                                    const tc = part.toolCall;\n                                                    const currentPairs = tc.sampleCallPairs || [];\n                                                    let newPairs;\n                                                    // If lastPair exists and is still 'open' (no output yet), append thoughts.\n                                                    // Otherwise, this is a new sampling call's thoughts, so create a new pair.\n                                                    if (currentPairs.length > 0) {\n                                                        const lastPair = currentPairs[currentPairs.length - 1];\n                                                        if (typeof lastPair.output === \"undefined\") {\n                                                            // Update existing pair with thoughts\n                                                            const updatedLastPair = {\n                                                                ...lastPair,\n                                                                thoughts: (lastPair.thoughts || \"\") + parsedChunk.content\n                                                            };\n                                                            newPairs = [\n                                                                ...currentPairs.slice(0, -1),\n                                                                updatedLastPair\n                                                            ];\n                                                        } else {\n                                                            // Create new pair for new sampling call\n                                                            newPairs = [\n                                                                ...currentPairs,\n                                                                {\n                                                                    id: (0,uuid__WEBPACK_IMPORTED_MODULE_17__[\"default\"])(),\n                                                                    thoughts: parsedChunk.content\n                                                                }\n                                                            ];\n                                                        }\n                                                    } else {\n                                                        // Create first pair\n                                                        newPairs = [\n                                                            {\n                                                                id: (0,uuid__WEBPACK_IMPORTED_MODULE_17__[\"default\"])(),\n                                                                thoughts: parsedChunk.content\n                                                            }\n                                                        ];\n                                                    }\n                                                    console.log(`[PAGE.TSX] (Final Buffer) Updated sampleCallPairs (thoughts) for ${parsedChunk.parent_tool_call_id}:`, JSON.parse(JSON.stringify(newPairs)));\n                                                    return {\n                                                        ...part,\n                                                        toolCall: {\n                                                            ...tc,\n                                                            sampleCallPairs: newPairs\n                                                        }\n                                                    };\n                                                }\n                                                return part;\n                                            });\n                                            return {\n                                                ...msg,\n                                                parts: newParts,\n                                                thinking: true\n                                            };\n                                        }\n                                        return msg;\n                                    }));\n                            } else if (parsedChunk.type === \"stream_end\") {\n                                setMessages((prev)=>prev.map((msg)=>msg.id === botMessageId ? {\n                                            ...msg,\n                                            thinking: false\n                                        } : msg));\n                                setStatus(\"Ready\");\n                            } else if (parsedChunk.type === \"error\" && parsedChunk.content) {\n                                setMessages((prev)=>prev.map((msg)=>{\n                                        if (msg.id === botMessageId) {\n                                            const errorTextPart = {\n                                                type: \"text\",\n                                                id: (0,uuid__WEBPACK_IMPORTED_MODULE_17__[\"default\"])(),\n                                                content: `<strong style=\"color: red;\">Stream Error:</strong> ${renderSanitizedMarkdown(parsedChunk.content)}`\n                                            };\n                                            const newParts = [\n                                                ...msg.parts,\n                                                errorTextPart\n                                            ];\n                                            return {\n                                                ...msg,\n                                                parts: newParts,\n                                                thinking: false,\n                                                is_error_message: true\n                                            };\n                                        }\n                                        return msg;\n                                    }));\n                                setStatus(\"Ready\"); // Reset status after error\n                            }\n                        } catch (err) {\n                            console.error(\"Error parsing final stream chunk JSON:\", err, \"Raw final buffer:\", buffer);\n                        }\n                    }\n                    console.log(\"[PAGE.TSX] HTTP Response Stream Reader finished.\");\n                    setMessages((prev)=>prev.map((msg)=>msg.id === botMessageId && msg.thinking ? {\n                                ...msg,\n                                thinking: false\n                            } : msg));\n                    if (status !== \"Ready\") setStatus(\"Ready\");\n                    break;\n                }\n                buffer += decoder.decode(value, {\n                    stream: true\n                });\n                let newlineIndex;\n                while((newlineIndex = buffer.indexOf(\"\\n\")) >= 0){\n                    const line = buffer.substring(0, newlineIndex);\n                    buffer = buffer.substring(newlineIndex + 1);\n                    if (line.trim() === \"\") continue;\n                    try {\n                        const parsedChunk = JSON.parse(line);\n                        // console.log('[PAGE.TSX] Streamed Chunk:', JSON.stringify(parsedChunk)); // General log exists\n                        if (parsedChunk.type === \"text_chunk\" && parsedChunk.content) {\n                            setMessages((prev)=>prev.map((msg)=>{\n                                    if (msg.id === botMessageId) {\n                                        console.log(`[PAGE.TSX] Updating message ${msg.id} with text_chunk (stream loop). Current parts:`, JSON.parse(JSON.stringify(msg.parts))); // DEEP COPY LOGGING\n                                        const newParts = [\n                                            ...msg.parts\n                                        ]; // Shallow copy of parts array\n                                        const lastPartIndex = newParts.length > 0 ? newParts.length - 1 : -1;\n                                        const lastPart = lastPartIndex !== -1 ? newParts[lastPartIndex] : null;\n                                        // Normalize the incoming chunk's content.\n                                        // The second argument to normalizeFragment was lastPart.content or \"\" in the original logic.\n                                        const contentFromChunk = normalizeFragment(parsedChunk.content, lastPart && lastPart.type === \"text\" ? lastPart.content : \"\");\n                                        if (lastPart && lastPart.type === \"text\") {\n                                            // Update the last part immutably by creating a new object\n                                            newParts[lastPartIndex] = {\n                                                ...lastPart,\n                                                content: lastPart.content + contentFromChunk\n                                            };\n                                        } else {\n                                            // Add a new text part if no previous text part or parts array is empty\n                                            newParts.push({\n                                                type: \"text\",\n                                                id: (0,uuid__WEBPACK_IMPORTED_MODULE_17__[\"default\"])(),\n                                                content: contentFromChunk\n                                            });\n                                        }\n                                        return {\n                                            ...msg,\n                                            parts: newParts,\n                                            thinking: true\n                                        };\n                                    }\n                                    return msg;\n                                }));\n                        } else if (parsedChunk.type === \"thought_summary\" && parsedChunk.content) {\n                            setMessages((prev)=>prev.map((msg)=>{\n                                    if (msg.id === botMessageId) {\n                                        console.log(`[PAGE.TSX] Updating message ${msg.id} with thought_summary. Current parts:`, JSON.parse(JSON.stringify(msg.parts)));\n                                        const newParts = [\n                                            ...msg.parts\n                                        ];\n                                        const lastPartIndex = newParts.length > 0 ? newParts.length - 1 : -1;\n                                        const lastPart = lastPartIndex !== -1 ? newParts[lastPartIndex] : null;\n                                        const contentFromChunk = normalizeFragment(parsedChunk.content, lastPart && lastPart.type === \"thought_summary\" ? lastPart.content : \"\");\n                                        if (lastPart && lastPart.type === \"thought_summary\") {\n                                            newParts[lastPartIndex] = {\n                                                ...lastPart,\n                                                content: lastPart.content + contentFromChunk\n                                            };\n                                        } else {\n                                            newParts.push({\n                                                type: \"thought_summary\",\n                                                id: (0,uuid__WEBPACK_IMPORTED_MODULE_17__[\"default\"])(),\n                                                content: contentFromChunk\n                                            });\n                                        }\n                                        return {\n                                            ...msg,\n                                            parts: newParts,\n                                            thinking: true\n                                        };\n                                    }\n                                    return msg;\n                                }));\n                        } else if (parsedChunk.type === \"tool_call_pending\" && parsedChunk.name && parsedChunk.arguments) {\n                            const call_id_from_chunk = parsedChunk.call_id || `tool-${(0,uuid__WEBPACK_IMPORTED_MODULE_17__[\"default\"])()}`;\n                            setMessages((prev)=>prev.map((msg)=>{\n                                    if (msg.id === botMessageId) {\n                                        const existingToolCallPart = msg.parts.find((part)=>part.type === \"tool_call\" && part.toolCall.call_id === call_id_from_chunk);\n                                        if (existingToolCallPart) {\n                                            console.log(`[PAGE.TSX] (stream loop) Tool call with ID ${call_id_from_chunk} already exists in pending state. Ignoring duplicate pending message.`);\n                                            return msg;\n                                        }\n                                        const newToolCallData = {\n                                            call_id: call_id_from_chunk,\n                                            name: parsedChunk.name,\n                                            arguments: typeof parsedChunk.arguments === \"string\" ? parsedChunk.arguments : JSON.stringify(parsedChunk.arguments),\n                                            status: \"Pending...\"\n                                        };\n                                        console.log(\"[PAGE.TSX] Tool Call Pending (New):\", JSON.parse(JSON.stringify(newToolCallData)));\n                                        const newParts = [\n                                            ...msg.parts\n                                        ];\n                                        newParts.push({\n                                            type: \"tool_call\",\n                                            id: (0,uuid__WEBPACK_IMPORTED_MODULE_17__[\"default\"])(),\n                                            toolCall: newToolCallData\n                                        });\n                                        newParts.push({\n                                            type: \"text\",\n                                            id: (0,uuid__WEBPACK_IMPORTED_MODULE_17__[\"default\"])(),\n                                            content: \"\"\n                                        });\n                                        return {\n                                            ...msg,\n                                            parts: newParts,\n                                            thinking: true\n                                        };\n                                    }\n                                    return msg;\n                                }));\n                        } else if (parsedChunk.type === \"tool_result\" && parsedChunk.call_id && typeof parsedChunk.result !== \"undefined\") {\n                            console.log(\"[PAGE.TSX] Received tool_result chunk:\", JSON.parse(JSON.stringify(parsedChunk))); // DEEP COPY LOGGING\n                            if (parsedChunk.name === \"get_directions\") {\n                                console.log(\"[PAGE.TSX] RAW get_directions tool_result CHUNK (repeated block):\", JSON.stringify(parsedChunk));\n                            }\n                            // console.log(`[PAGE.TSX] Parsed chunk is_partial value: ${parsedChunk.is_partial}`); // Keep for debugging if needed\n                            setMessages((prev)=>prev.map((msg)=>{\n                                    if (msg.id === botMessageId) {\n                                        console.log(`[PAGE.TSX] Updating message ${msg.id} with tool_result. Current parts:`, JSON.parse(JSON.stringify(msg.parts))); // DEEP COPY LOGGING\n                                        let matchedToolCallInParts = false;\n                                        const newParts = msg.parts.map((part)=>{\n                                            if (part.type === \"tool_call\" && part.toolCall.call_id === parsedChunk.call_id) {\n                                                matchedToolCallInParts = true;\n                                                const tc = part.toolCall;\n                                                // console.log(`[PAGE.TSX] Existing tool call data for ${tc.call_id}:`, JSON.parse(JSON.stringify(tc)));\n                                                let finalResult = typeof parsedChunk.result === \"string\" ? parsedChunk.result : JSON.stringify(parsedChunk.result);\n                                                const isPartial = typeof parsedChunk.is_partial === \"boolean\" ? parsedChunk.is_partial : false;\n                                                const isError = typeof parsedChunk.is_error === \"boolean\" ? parsedChunk.is_error : false;\n                                                const newStatus = isPartial ? \"Streaming...\" : isError ? \"Error\" : \"Completed\";\n                                                // console.log(`[PAGE.TSX] Updating tool: ${tc.call_id}, New Status: ${newStatus}, Is Partial (derived): ${isPartial}, Is Error (derived): ${isError}`);\n                                                const updatedToolCall = {\n                                                    ...tc,\n                                                    result: isPartial && tc.result && tc.status === \"Streaming...\" ? tc.result + \"\\n---\\n\" + finalResult : finalResult,\n                                                    status: newStatus,\n                                                    is_error: isError,\n                                                    is_partial: isPartial\n                                                };\n                                                // console.log(`[PAGE.TSX] New tool call data for ${tc.call_id}:`, JSON.parse(JSON.stringify(updatedToolCall)));\n                                                // --- NEW: Extract get_directions_response ---\n                                                let toolResponse = null;\n                                                if (tc.name === \"get_directions\" && parsedChunk.result) {\n                                                    // Handle both old wrapped format and new direct format\n                                                    if (typeof parsedChunk.result === \"object\") {\n                                                        const responseKey = `${tc.name}_response`;\n                                                        if (parsedChunk.result[responseKey]) {\n                                                            // Old wrapped format\n                                                            toolResponse = parsedChunk.result[responseKey];\n                                                            console.log(\"[PAGE.TSX] (Stream Loop) Using wrapped format for directions, toolResponse:\", JSON.stringify(toolResponse).substring(0, 200) + \"...\");\n                                                        } else {\n                                                            // New direct format from FastMCP\n                                                            toolResponse = parsedChunk.result;\n                                                            console.log(\"[PAGE.TSX] (Stream Loop) Using direct format for directions, toolResponse:\", JSON.stringify(toolResponse).substring(0, 200) + \"...\");\n                                                        }\n                                                    }\n                                                }\n                                                // --- END NEW ---\n                                                // If this is the final result for get_directions, set map data\n                                                if (tc.name === \"get_directions\" && toolResponse && toolResponse.status === \"success\" && toolResponse.data && !isError && !isPartial) {\n                                                    console.log(\"[PAGE.TSX] (Stream Loop) Setting directionsData with:\", JSON.stringify(toolResponse.data).substring(0, 200) + \"...\");\n                                                    setDirectionsData(toolResponse.data);\n                                                    setMapDisplayKey((prevKey)=>prevKey + 1);\n                                                    setIsMapSectionVisible(true); // MODIFIED: Show map section automatically\n                                                } else if (tc.name === \"get_directions\" && !toolResponse) {\n                                                    console.error(\"[PAGE.TSX] ERROR (stream loop): get_directions_response missing in parsedChunk.result!\");\n                                                }\n                                                // NEW: Web app detection logic\n                                                if ((tc.name === \"create_web_app\" || tc.name === \"edit_web_app\") && !isError && !isPartial && tc.result) {\n                                                    try {\n                                                        const resultData = typeof tc.result === \"string\" ? JSON.parse(tc.result) : tc.result;\n                                                        if (resultData.status === \"success\" && resultData.url) {\n                                                            console.log(\"[PAGE.TSX] (Final Buffer) Setting webAppUrl with:\", resultData.url);\n                                                        // This will be set on the message object below\n                                                        }\n                                                    } catch (e) {\n                                                        console.warn(\"[PAGE.TSX] (Final Buffer) Failed to parse web app result:\", e);\n                                                    }\n                                                }\n                                                // NEW: Image generation detection logic\n                                                if (tc.name === \"generate_images_with_prompts\" && !isError && !isPartial && tc.result) {\n                                                    try {\n                                                        const resultData = typeof tc.result === \"string\" ? JSON.parse(tc.result) : tc.result;\n                                                        if (resultData.status === \"success\" && resultData.results) {\n                                                            // Extract all image URLs from the results array\n                                                            const imageUrls = [];\n                                                            resultData.results.forEach((resultArray)=>{\n                                                                if (Array.isArray(resultArray)) {\n                                                                    imageUrls.push(...resultArray);\n                                                                }\n                                                            });\n                                                            if (imageUrls.length > 0) {\n                                                                console.log(\"[PAGE.TSX] (Stream Loop) Setting generatedImageUrls with:\", imageUrls.length, \"images\");\n                                                            // This will be set on the message object below\n                                                            }\n                                                        }\n                                                    } catch (e) {\n                                                        console.warn(\"[PAGE.TSX] (Stream Loop) Failed to parse image generation result:\", e);\n                                                    }\n                                                }\n                                                // NEW: Process tool call for preview extraction (streaming loop)\n                                                processToolCallForPreview(updatedToolCall, msg.id);\n                                                return {\n                                                    ...part,\n                                                    toolCall: updatedToolCall\n                                                };\n                                            }\n                                            return part;\n                                        });\n                                        if (!matchedToolCallInParts) {\n                                            console.warn(`[PAGE.TSX] (stream loop) Tool call with id ${parsedChunk.call_id} not found in message ${msg.id} parts`);\n                                        }\n                                        // --- NEW: Attach directionsData to message for rendering ---\n                                        let toolResponse = null;\n                                        if (parsedChunk.name === \"get_directions\" && parsedChunk.result) {\n                                            // Handle both old wrapped format and new direct format\n                                            if (typeof parsedChunk.result === \"object\") {\n                                                const responseKey = `${parsedChunk.name}_response`;\n                                                if (parsedChunk.result[responseKey]) {\n                                                    // Old wrapped format\n                                                    toolResponse = parsedChunk.result[responseKey];\n                                                    console.log(\"[PAGE.TSX] (Stream Loop Message) Using wrapped format for directions, toolResponse:\", JSON.stringify(toolResponse).substring(0, 200) + \"...\");\n                                                } else {\n                                                    // New direct format from FastMCP\n                                                    toolResponse = parsedChunk.result;\n                                                    console.log(\"[PAGE.TSX] (Stream Loop Message) Using direct format for directions, toolResponse:\", JSON.stringify(toolResponse).substring(0, 200) + \"...\");\n                                                }\n                                            }\n                                        }\n                                        let finalMsgObject = {\n                                            ...msg,\n                                            parts: newParts,\n                                            thinking: true\n                                        };\n                                        if (parsedChunk.name === \"get_directions\" && toolResponse && !(typeof parsedChunk.is_partial === \"boolean\" && parsedChunk.is_partial) && !(typeof parsedChunk.is_error === \"boolean\" && parsedChunk.is_error) && toolResponse.status === \"success\" && toolResponse.data) {\n                                            finalMsgObject.showMapToggleForThisMessage = true;\n                                            finalMsgObject.directionsData = toolResponse.data;\n                                            console.log(\"[PAGE.TSX] (Stream Loop Message) Setting message directions data:\", JSON.stringify(toolResponse.data).substring(0, 200) + \"...\");\n                                        }\n                                        // NEW: Web app message object updates for streaming loop\n                                        if ((parsedChunk.name === \"create_web_app\" || parsedChunk.name === \"edit_web_app\") && !(typeof parsedChunk.is_partial === \"boolean\" && parsedChunk.is_partial) && !(typeof parsedChunk.is_error === \"boolean\" && parsedChunk.is_error) && parsedChunk.result) {\n                                            try {\n                                                const resultData = typeof parsedChunk.result === \"string\" ? JSON.parse(parsedChunk.result) : parsedChunk.result;\n                                                if (resultData.status === \"success\" && resultData.url) {\n                                                    finalMsgObject.showWebAppForThisMessage = true;\n                                                    finalMsgObject.webAppUrl = resultData.url;\n                                                }\n                                            } catch (e) {\n                                                console.warn(\"[PAGE.TSX] (Stream Loop) Failed to parse web app result for message:\", e);\n                                            }\n                                        }\n                                        // NEW: Image generation message object updates\n                                        if (parsedChunk.name === \"generate_images_with_prompts\" && !(typeof parsedChunk.is_partial === \"boolean\" && parsedChunk.is_partial) && !(typeof parsedChunk.is_error === \"boolean\" && parsedChunk.is_error) && parsedChunk.result) {\n                                            try {\n                                                const resultData = typeof parsedChunk.result === \"string\" ? JSON.parse(parsedChunk.result) : parsedChunk.result;\n                                                if (resultData.status === \"success\" && resultData.results) {\n                                                    // Extract all image URLs from the results array\n                                                    const imageUrls = [];\n                                                    resultData.results.forEach((resultArray)=>{\n                                                        if (Array.isArray(resultArray)) {\n                                                            imageUrls.push(...resultArray);\n                                                        }\n                                                    });\n                                                    if (imageUrls.length > 0) {\n                                                        finalMsgObject.showImagesForThisMessage = true;\n                                                        finalMsgObject.generatedImageUrls = imageUrls;\n                                                        console.log(\"[PAGE.TSX] (Final Buffer) Setting generatedImageUrls with:\", imageUrls.length, \"images\");\n                                                    }\n                                                }\n                                            } catch (e) {\n                                                console.warn(\"[PAGE.TSX] (Final Buffer) Failed to parse image generation result for message:\", e);\n                                            }\n                                        }\n                                        return finalMsgObject;\n                                    }\n                                    return msg;\n                                }));\n                        } else if (parsedChunk.type === \"stream_end\") {\n                            console.log(\"[PAGE.TSX] Stream ended for botMessageId:\", botMessageId);\n                            setMessages((prev)=>prev.map((msg)=>msg.id === botMessageId ? {\n                                        ...msg,\n                                        thinking: false\n                                    } : msg));\n                            setStatus(\"Ready\");\n                        } else if (parsedChunk.type === \"error\" && parsedChunk.content) {\n                            console.error(\"[PAGE.TSX] Received stream error chunk:\", parsedChunk);\n                            setMessages((prev)=>prev.map((msg)=>{\n                                    if (msg.id === botMessageId) {\n                                        const errorTextPart = {\n                                            type: \"text\",\n                                            id: (0,uuid__WEBPACK_IMPORTED_MODULE_17__[\"default\"])(),\n                                            content: `<strong style=\"color: red;\">Stream Error:</strong> ${renderSanitizedMarkdown(parsedChunk.content)}`\n                                        };\n                                        const newParts = [\n                                            ...msg.parts,\n                                            errorTextPart\n                                        ];\n                                        return {\n                                            ...msg,\n                                            parts: newParts,\n                                            thinking: false,\n                                            is_error_message: true\n                                        };\n                                    }\n                                    return msg;\n                                }));\n                            setStatus(\"Ready\"); // Reset status after error\n                        } else if (parsedChunk.type === \"tool_sample_text_chunk\" && parsedChunk.parent_tool_call_id && typeof parsedChunk.content === \"string\") {\n                            setMessages((prev)=>prev.map((msg)=>{\n                                    if (msg.id === botMessageId) {\n                                        const newParts = msg.parts.map((part)=>{\n                                            if (part.type === \"tool_call\" && part.toolCall.call_id === parsedChunk.parent_tool_call_id) {\n                                                const tc = part.toolCall;\n                                                const currentPairs = tc.sampleCallPairs || [];\n                                                let newPairs;\n                                                if (currentPairs.length > 0) {\n                                                    const lastPair = currentPairs[currentPairs.length - 1];\n                                                    // Create new pair object with updated output\n                                                    const updatedLastPair = {\n                                                        ...lastPair,\n                                                        output: (lastPair.output || \"\") + parsedChunk.content\n                                                    };\n                                                    // Create new array with updated last pair\n                                                    newPairs = [\n                                                        ...currentPairs.slice(0, -1),\n                                                        updatedLastPair\n                                                    ];\n                                                } else {\n                                                    // Create new pair\n                                                    newPairs = [\n                                                        {\n                                                            id: (0,uuid__WEBPACK_IMPORTED_MODULE_17__[\"default\"])(),\n                                                            output: parsedChunk.content\n                                                        }\n                                                    ];\n                                                }\n                                                console.log(`[PAGE.TSX] (Stream Line) Updated sampleCallPairs (output) for ${parsedChunk.parent_tool_call_id}:`, JSON.parse(JSON.stringify(newPairs)));\n                                                return {\n                                                    ...part,\n                                                    toolCall: {\n                                                        ...tc,\n                                                        sampleCallPairs: newPairs\n                                                    }\n                                                };\n                                            }\n                                            return part;\n                                        });\n                                        return {\n                                            ...msg,\n                                            parts: newParts,\n                                            thinking: true\n                                        };\n                                    }\n                                    return msg;\n                                }));\n                        } else if (parsedChunk.type === \"tool_sample_thought_chunk\" && parsedChunk.parent_tool_call_id && typeof parsedChunk.content === \"string\") {\n                            setMessages((prev)=>prev.map((msg)=>{\n                                    if (msg.id === botMessageId) {\n                                        const newParts = msg.parts.map((part)=>{\n                                            if (part.type === \"tool_call\" && part.toolCall.call_id === parsedChunk.parent_tool_call_id) {\n                                                const tc = part.toolCall;\n                                                const currentPairs = tc.sampleCallPairs || [];\n                                                let newPairs;\n                                                // If lastPair exists and is still 'open' (no output yet), append thoughts.\n                                                // Otherwise, this is a new sampling call's thoughts, so create a new pair.\n                                                if (currentPairs.length > 0) {\n                                                    const lastPair = currentPairs[currentPairs.length - 1];\n                                                    if (typeof lastPair.output === \"undefined\") {\n                                                        // Update existing pair with thoughts\n                                                        const updatedLastPair = {\n                                                            ...lastPair,\n                                                            thoughts: (lastPair.thoughts || \"\") + parsedChunk.content\n                                                        };\n                                                        newPairs = [\n                                                            ...currentPairs.slice(0, -1),\n                                                            updatedLastPair\n                                                        ];\n                                                    } else {\n                                                        // Create new pair for new sampling call\n                                                        newPairs = [\n                                                            ...currentPairs,\n                                                            {\n                                                                id: (0,uuid__WEBPACK_IMPORTED_MODULE_17__[\"default\"])(),\n                                                                thoughts: parsedChunk.content\n                                                            }\n                                                        ];\n                                                    }\n                                                } else {\n                                                    // Create first pair\n                                                    newPairs = [\n                                                        {\n                                                            id: (0,uuid__WEBPACK_IMPORTED_MODULE_17__[\"default\"])(),\n                                                            thoughts: parsedChunk.content\n                                                        }\n                                                    ];\n                                                }\n                                                console.log(`[PAGE.TSX] (Stream Line) Updated sampleCallPairs (thoughts) for ${parsedChunk.parent_tool_call_id}:`, JSON.parse(JSON.stringify(newPairs)));\n                                                return {\n                                                    ...part,\n                                                    toolCall: {\n                                                        ...tc,\n                                                        sampleCallPairs: newPairs\n                                                    }\n                                                };\n                                            }\n                                            return part;\n                                        });\n                                        return {\n                                            ...msg,\n                                            parts: newParts,\n                                            thinking: true\n                                        };\n                                    }\n                                    return msg;\n                                }));\n                        }\n                    // ---- END: New chunk types for per-line stream processing ----\n                    } catch (err) {\n                        console.error(\"Error parsing stream chunk JSON:\", err, \"Raw line:\", line);\n                    }\n                }\n            }\n        } catch (error) {\n            console.error(\"Error sending message or processing stream:\", error);\n            const errorContent = error instanceof Error ? error.message : \"Sorry, I encountered an error processing your request.\";\n            const renderedErrorContent = renderSanitizedMarkdown(errorContent);\n            let botMessageFoundAndUpdated = false;\n            setMessages((prev)=>prev.map((msg)=>{\n                    if (msg.id === botMessageId) {\n                        botMessageFoundAndUpdated = true;\n                        const newErrorPart = {\n                            type: \"text\",\n                            id: (0,uuid__WEBPACK_IMPORTED_MODULE_17__[\"default\"])(),\n                            content: renderedErrorContent\n                        };\n                        const updatedParts = [\n                            ...msg.parts || [],\n                            newErrorPart\n                        ]; // Ensure msg.parts exists\n                        return {\n                            ...msg,\n                            parts: updatedParts,\n                            thinking: false,\n                            is_error_message: true\n                        };\n                    }\n                    return msg;\n                }));\n            if (!botMessageFoundAndUpdated) {\n                setMessages((prevMessages)=>[\n                        ...prevMessages,\n                        {\n                            id: (0,uuid__WEBPACK_IMPORTED_MODULE_17__[\"default\"])(),\n                            sender: \"bot\",\n                            parts: [\n                                {\n                                    type: \"text\",\n                                    id: (0,uuid__WEBPACK_IMPORTED_MODULE_17__[\"default\"])(),\n                                    content: renderedErrorContent\n                                }\n                            ],\n                            timestamp: Date.now(),\n                            thinking: false,\n                            is_error_message: true\n                        }\n                    ]);\n            }\n        } finally{}\n    };\n    const handleExamplePromptClick = (title, detail)=>{\n        setUserInput(`${title} ${detail}`);\n    };\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const viewport = scrollAreaRef.current;\n        if (viewport) {\n            // The viewport itself is the scrollable container in ScrollArea\n            viewport.scrollTop = viewport.scrollHeight;\n        }\n    }, [\n        messages\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const style = document.createElement(\"style\");\n        style.innerHTML = `\n      .animated-ellipsis span {\n        opacity: 0;\n        animation: an_ellipsis 1.2s infinite;\n        animation-fill-mode: forwards; /* Keep the final state of the animation */\n      }\n      .animated-ellipsis span:nth-child(1) { animation-delay: 0.1s; }\n      .animated-ellipsis span:nth-child(2) { animation-delay: 0.25s; }\n      .animated-ellipsis span:nth-child(3) { animation-delay: 0.4s; }\n      @keyframes an_ellipsis {\n        0% { opacity: 0; transform: translateY(-0.1em);}\n        30% { opacity: 1; transform: translateY(0);}\n        70% { opacity: 1; transform: translateY(0);}\n        100% { opacity: 0; transform: translateY(0.1em);}\n      }\n      /* Add CSS for thought summary details arrow rotation */\n      .thought-summary-details[open] > summary .details-arrow {\n        transform: rotate(180deg);\n      }\n      /* Add CSS for tool call details arrow rotation */\n      .tool-call-display[open] > summary .details-arrow {\n        transform: rotate(180deg);\n      }\n      /* Ensure tool call displays don't cause horizontal overflow */\n      .tool-call-display {\n        max-width: 100%;\n        overflow-wrap: break-word;\n        word-break: break-all;\n      }\n      .tool-call-display pre {\n        max-width: 100%;\n        overflow-x: auto;\n        word-break: break-all;\n        white-space: pre-wrap;\n        overflow-wrap: anywhere;\n      }\n      .tool-call-display .tool-call-content {\n        max-width: 100%;\n        overflow-wrap: break-word;\n      }\n      /* Add some basic prose styling for markdown content if not already globally available */\n      .prose {\n        line-height: 1.35; /* Increased for better readability */\n        font-size: 0.94rem;\n        word-wrap: break-word; /* Force word wrapping */\n        overflow-wrap: break-word; /* Modern equivalent */\n        word-break: break-word; /* Break long words */\n      }\n      .prose p { \n        margin-bottom: 0.5em; /* Reduced for tighter spacing */\n        word-wrap: break-word;\n        overflow-wrap: break-word;\n      }\n      /* Specific URL and link handling to prevent overflow */\n      .prose a {\n        word-break: break-all; /* Break URLs aggressively */\n        overflow-wrap: break-word;\n        hyphens: auto;\n      }\n      /* Line clamp utilities for text truncation */\n      .line-clamp-1 {\n        overflow: hidden;\n        display: -webkit-box;\n        -webkit-box-orient: vertical;\n        -webkit-line-clamp: 1;\n      }\n      .line-clamp-2 {\n        overflow: hidden;\n        display: -webkit-box;\n        -webkit-box-orient: vertical;\n        -webkit-line-clamp: 2;\n      }\n      .line-clamp-3 {\n        overflow: hidden;\n        display: -webkit-box;\n        -webkit-box-orient: vertical;\n        -webkit-line-clamp: 3;\n      }\n      .prose ul {\n        list-style-type: disc;\n        margin-block-start: 0;\n        margin-block-end: 0.5em; /* Reduced */\n        padding-inline-start: 1.25rem;\n      }\n      .prose ul ul {\n        list-style-type: circle;\n      }\n      .prose ul ul ul {\n        list-style-type: square;\n      }\n      .prose ol {\n        list-style-type: decimal;\n        margin-block-start: 0;\n        margin-block-end: 0.5em; /* Reduced */\n        padding-inline-start: 1.25rem;\n      }\n      .prose li p {\n        display: inline;\n        margin-bottom: 0.2em;\n      }\n      .prose li {\n        overflow-wrap: break-word;\n        word-break: break-word; \n        white-space: normal; \n      }\n      .prose pre {\n        background-color: hsl(var(--muted));\n        color: hsl(var(--muted-foreground));\n        padding: 1em;\n        border-radius: 0.375rem; \n        overflow-x: auto;\n        font-size: 0.875em;\n        border: 1px solid hsl(var(--border));\n      }\n      .prose code:not(pre code) {\n        background-color: hsl(var(--muted));\n        color: hsl(var(--primary)); /* Using primary color for inline code for better visibility */\n        padding: 0.2em 0.4em;\n        margin: 0 0.1em;\n        font-size: 0.85em;\n        border-radius: 0.25rem;\n      }\n      .dark .prose pre {\n        background-color: hsl(var(--secondary)); /* A slightly different dark for pre blocks */\n         border: 1px solid hsl(var(--border));\n      }\n       .dark .prose code:not(pre code) {\n        background-color: hsl(var(--secondary));\n      }\n      /* Responsive images in prose */\n      .prose img {\n        max-width: 100%; /* Ensure images are responsive by default */\n        height: auto;    /* Allow image to set its own height based on aspect ratio */\n        min-height: 150px; /* Reserve some minimum space to reduce layout shift on mobile */\n        max-height: 350px; /* Prevent images from becoming excessively tall */\n        object-fit: contain; /* Ensure the image fits within bounds & maintains aspect ratio */\n        display: block;  /* Allows margin auto to work for centering */\n        margin-left: auto;\n        margin-right: auto;\n        margin-top: 0.5em;\n        margin-bottom: 0.5em;\n        border-radius: 0.375rem; /* Add a slight rounding to images */\n        background-color: hsl(var(--muted-foreground) / 0.05); /* Subtle background for loading state */\n      }\n\n      .dark .prose img {\n        background-color: hsl(var(--muted-foreground) / 0.1); /* Slightly more visible on dark for loading */\n      }\n\n      /* Video styling to match images */\n      .prose video {\n        max-width: 100%;\n        height: auto;\n        max-height: 400px;\n        border-radius: 0.375rem;\n        margin: 0.5em auto;\n        display: block;\n        background-color: hsl(var(--muted-foreground) / 0.05);\n        border: 1px solid hsl(var(--border));\n      }\n\n      .dark .prose video {\n        background-color: hsl(var(--muted-foreground) / 0.1);\n        border: 1px solid hsl(var(--border));\n      }\n\n      @media (min-width: 1024px) { /* Desktop screens */\n        .prose img {\n          max-width: 60%; /* Make images smaller on desktop */\n          max-height: 500px; /* Allow larger images on desktop */\n        }\n        \n        .prose video {\n          max-width: 70%; /* Make videos slightly larger than images on desktop */\n          max-height: 600px; /* Allow larger videos on desktop */\n        }\n      }\n    `;\n        document.head.appendChild(style);\n        // Cleanup function to remove the style when the component unmounts\n        return ()=>{\n            document.head.removeChild(style);\n        };\n    }, []); // Empty dependency array ensures this runs only once on mount and unmount\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const setVh = ()=>{\n            document.documentElement.style.setProperty(\"--vh\", `${window.innerHeight}px`);\n        };\n        window.addEventListener(\"resize\", setVh);\n        setVh();\n        return ()=>window.removeEventListener(\"resize\", setVh);\n    }, []);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        // Force re-render of MapDisplay when appTheme changes to apply new mapId\n        setMapDisplayKey((prevKey)=>prevKey + 1);\n    }, [\n        appTheme\n    ]);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"flex flex-col h-[calc(var(--vh))] bg-background text-foreground transition-colors duration-300\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"header\", {\n                className: \"px-2 py-2 sm:px-4 sm:py-3 border-b border-border flex justify-between items-center bg-muted/40 transition-colors duration-300\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center space-x-2\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_3__.Button, {\n                                variant: \"ghost\",\n                                size: \"icon\",\n                                className: \"hover:bg-muted\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowUp_ChevronDown_Loader2_MapPin_Menu_Paperclip_lucide_react__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n                                    className: \"w-5 h-5\"\n                                }, void 0, false, {\n                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                    lineNumber: 1611,\n                                    columnNumber: 13\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                lineNumber: 1610,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"relative\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"select\", {\n                                        value: selectedModel,\n                                        onChange: (e)=>setSelectedModel(e.target.value),\n                                        className: \"bg-background border border-input text-foreground rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-ring hover:bg-muted cursor-pointer appearance-none pr-8 w-auto sm:min-w-[150px]\",\n                                        children: modelOptions.map((option)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                value: option.value,\n                                                children: option.label\n                                            }, option.value, false, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 1621,\n                                                columnNumber: 17\n                                            }, this))\n                                    }, void 0, false, {\n                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                        lineNumber: 1615,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowUp_ChevronDown_Loader2_MapPin_Menu_Paperclip_lucide_react__WEBPACK_IMPORTED_MODULE_19__[\"default\"], {\n                                        className: \"w-4 h-4 absolute right-2 top-1/2 transform -translate-y-1/2 pointer-events-none text-muted-foreground\"\n                                    }, void 0, false, {\n                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                        lineNumber: 1626,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                lineNumber: 1614,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                        lineNumber: 1609,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center space-x-2\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_mode_toggle__WEBPACK_IMPORTED_MODULE_2__.ModeToggle, {}, void 0, false, {\n                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                lineNumber: 1630,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_3__.Button, {\n                                variant: \"ghost\",\n                                size: \"icon\",\n                                className: \"hover:bg-muted\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowUp_ChevronDown_Loader2_MapPin_Menu_Paperclip_lucide_react__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n                                    className: \"w-5 h-5\"\n                                }, void 0, false, {\n                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                    lineNumber: 1632,\n                                    columnNumber: 13\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                lineNumber: 1631,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                        lineNumber: 1629,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                lineNumber: 1608,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"main\", {\n                className: \"flex-grow flex flex-col items-center p-2 sm:p-4 relative overflow-hidden transition-colors duration-300\",\n                children: showInitialView ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    id: \"initialView\",\n                    className: \"text-center w-full px-2 flex-grow flex flex-col justify-center items-center\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                            className: \"text-3xl sm:text-4xl font-semibold text-foreground mb-2 transition-colors duration-300\",\n                            children: \"AST. Chat\"\n                        }, void 0, false, {\n                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                            lineNumber: 1640,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                            className: \"text-md sm:text-lg text-muted-foreground mb-6 sm:mb-10 transition-colors duration-300\",\n                            children: \"How can I help you today?\"\n                        }, void 0, false, {\n                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                            lineNumber: 1643,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4 max-w-4xl lg:max-w-5xl xl:max-w-7xl mx-auto w-full\",\n                            children: examplePrompts.map((prompt, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_3__.Button, {\n                                    variant: \"outline\",\n                                    className: \"h-auto text-left p-3 sm:p-4 border-border rounded-lg shadow hover:shadow-md dark:hover:bg-muted transition\",\n                                    onClick: ()=>handleExamplePromptClick(prompt.title, prompt.detail),\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                            className: \"font-semibold text-foreground text-sm sm:text-base\",\n                                            children: prompt.title\n                                        }, void 0, false, {\n                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                            lineNumber: 1654,\n                                            columnNumber: 19\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                            className: \"text-xs sm:text-sm text-muted-foreground\",\n                                            children: prompt.detail\n                                        }, void 0, false, {\n                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                            lineNumber: 1657,\n                                            columnNumber: 19\n                                        }, this)\n                                    ]\n                                }, index, true, {\n                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                    lineNumber: 1648,\n                                    columnNumber: 17\n                                }, this))\n                        }, void 0, false, {\n                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                            lineNumber: 1646,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                    lineNumber: 1639,\n                    columnNumber: 11\n                }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_scroll_area__WEBPACK_IMPORTED_MODULE_5__.ScrollArea, {\n                    className: \"w-full mx-auto flex-grow\",\n                    ref: scrollAreaRef,\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        id: \"chatLog\",\n                        className: \"space-y-3 sm:space-y-4 flex flex-col pb-[calc(68px+env(safe-area-inset-bottom))] max-w-4xl lg:max-w-5xl xl:max-w-7xl mx-auto px-2 sm:px-4\",\n                        children: messages.map((msg)=>{\n                            // Define base and conditional classes for the message bubble\n                            let bubbleClasses = \"flex flex-col break-words\"; // Common base for all\n                            let thinkingIndicatorColor = \"text-muted-foreground\"; // Default for thinking indicator\n                            if (msg.sender === \"user\") {\n                                bubbleClasses += \" p-2 rounded-2xl max-w-[95%] sm:max-w-[85%] bg-sky-400 text-sky-900 self-end\";\n                            } else {\n                                if (msg.is_error_message) {\n                                    bubbleClasses += \" px-1 py-1 sm:p-2 rounded-xl max-w-[95%] sm:max-w-[85%] bg-destructive text-destructive-foreground self-start rounded-bl-sm\";\n                                    thinkingIndicatorColor = \"text-destructive-foreground\"; // Match error bubble text\n                                } else {\n                                    // Normal bot message - less \"bubble\" like ChatGPT\n                                    bubbleClasses += \" w-full self-start py-1 sm:py-2 text-foreground\"; // Use page foreground color\n                                    // Add some vertical margin to distinguish bot messages, and horizontal padding for content.\n                                    bubbleClasses += \" my-2 sm:my-3 px-1 sm:px-2\";\n                                    thinkingIndicatorColor = \"text-foreground\"; // Match normal bot text\n                                }\n                            }\n                            // Compute which parts to render: for direction messages, only show text before the get_directions tool call\n                            const partsToRender = msg.directionsData ? (()=>{\n                                const idx = msg.parts.findIndex((p)=>p.type === \"tool_call\" && p.toolCall.name === \"get_directions\");\n                                return idx >= 0 ? msg.parts.slice(0, idx) : msg.parts;\n                            })() : msg.parts;\n                            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: bubbleClasses,\n                                children: [\n                                    partsToRender.map((part)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((react__WEBPACK_IMPORTED_MODULE_1___default().Fragment), {\n                                            children: [\n                                                part.type === \"text\" && part.content && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"w-full max-w-full min-w-0\",\n                                                    children: parseTextWithURLs(part.content).map((textPart, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((react__WEBPACK_IMPORTED_MODULE_1___default().Fragment), {\n                                                            children: textPart.type === \"text\" ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"message-content prose dark:prose-invert w-full max-w-full min-w-0 text-part-fade-in\",\n                                                                style: {\n                                                                    wordBreak: \"break-word\",\n                                                                    overflowWrap: \"anywhere\"\n                                                                },\n                                                                dangerouslySetInnerHTML: {\n                                                                    __html: renderSanitizedMarkdown(textPart.content)\n                                                                }\n                                                            }, `${part.id}-text-${index}`, false, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 1706,\n                                                                columnNumber: 35\n                                                            }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_URLPreview__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n                                                                url: textPart.content,\n                                                                className: \"my-2 w-full max-w-full\"\n                                                            }, `${part.id}-url-${index}`, false, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 1713,\n                                                                columnNumber: 35\n                                                            }, this)\n                                                        }, `${part.id}-${index}`, false, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 1704,\n                                                            columnNumber: 31\n                                                        }, this))\n                                                }, void 0, false, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 1702,\n                                                    columnNumber: 27\n                                                }, this),\n                                                part.type === \"tool_call\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ToolCallDisplay__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n                                                        toolCall: part.toolCall,\n                                                        renderSanitizedMarkdown: renderSanitizedMarkdown\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 1725,\n                                                        columnNumber: 29\n                                                    }, this)\n                                                }, void 0, false),\n                                                part.type === \"thought_summary\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"details\", {\n                                                    className: \"thought-summary-details my-2 rounded-lg border border-border bg-muted/20 shadow-sm\",\n                                                    open: false,\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"summary\", {\n                                                            className: \"thought-summary-summary cursor-pointer p-3 list-none flex items-center justify-between text-sm font-medium text-muted-foreground hover:bg-muted/40 rounded-t-lg\",\n                                                            children: [\n                                                                msg.thinking ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    className: \"flex items-center\",\n                                                                    children: [\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowUp_ChevronDown_Loader2_MapPin_Menu_Paperclip_lucide_react__WEBPACK_IMPORTED_MODULE_20__[\"default\"], {\n                                                                            className: \"w-4 h-4 mr-2 animate-spin\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 1737,\n                                                                            columnNumber: 35\n                                                                        }, this),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                            className: \"italic\",\n                                                                            children: \"AST. thinking\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 1738,\n                                                                            columnNumber: 35\n                                                                        }, this)\n                                                                    ]\n                                                                }, void 0, true, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 1736,\n                                                                    columnNumber: 33\n                                                                }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                    className: \"italic\",\n                                                                    children: \"Thought Process\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 1741,\n                                                                    columnNumber: 33\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowUp_ChevronDown_Loader2_MapPin_Menu_Paperclip_lucide_react__WEBPACK_IMPORTED_MODULE_19__[\"default\"], {\n                                                                    className: \"w-5 h-5 transition-transform duration-200 details-arrow\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 1743,\n                                                                    columnNumber: 31\n                                                                }, this)\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 1734,\n                                                            columnNumber: 29\n                                                        }, this),\n                                                        part.content && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"w-full max-w-full min-w-0 p-3 border-t border-border bg-background rounded-b-lg\",\n                                                            children: parseTextWithURLs(part.content).map((textPart, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((react__WEBPACK_IMPORTED_MODULE_1___default().Fragment), {\n                                                                    children: textPart.type === \"text\" ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                        className: \"message-content prose-sm italic text-muted-foreground dark:prose-invert w-full max-w-full min-w-0 text-part-fade-in\",\n                                                                        style: {\n                                                                            wordBreak: \"break-word\",\n                                                                            overflowWrap: \"anywhere\"\n                                                                        },\n                                                                        dangerouslySetInnerHTML: {\n                                                                            __html: renderSanitizedMarkdown(textPart.content)\n                                                                        }\n                                                                    }, `${part.id}-thought-text-${index}`, false, {\n                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                        lineNumber: 1750,\n                                                                        columnNumber: 39\n                                                                    }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_URLPreview__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n                                                                        url: textPart.content,\n                                                                        className: \"my-2 w-full max-w-full\"\n                                                                    }, `${part.id}-thought-url-${index}`, false, {\n                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                        lineNumber: 1757,\n                                                                        columnNumber: 39\n                                                                    }, this)\n                                                                }, `${part.id}-thought-${index}`, false, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 1748,\n                                                                    columnNumber: 35\n                                                                }, this))\n                                                        }, void 0, false, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 1746,\n                                                            columnNumber: 31\n                                                        }, this)\n                                                    ]\n                                                }, `${part.id}-thought-details`, true, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 1729,\n                                                    columnNumber: 27\n                                                }, this)\n                                            ]\n                                        }, part.id, true, {\n                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                            lineNumber: 1700,\n                                            columnNumber: 23\n                                        }, this)),\n                                    getPreviewsForMessage(msg.id).map((preview)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ContentPreview__WEBPACK_IMPORTED_MODULE_15__[\"default\"], {\n                                            id: preview.id,\n                                            type: preview.type,\n                                            data: preview.data,\n                                            toolCall: preview.toolCall,\n                                            onUpdate: updatePreview\n                                        }, preview.id, false, {\n                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                            lineNumber: 1774,\n                                            columnNumber: 23\n                                        }, this)),\n                                    msg.directionsData && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                        children: [\n                                            console.log(\"[PAGE.TSX] Rendering MapDisplay for message\", msg.id, msg.directionsData),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"border rounded-lg shadow-md bg-muted/40 p-0 overflow-hidden mt-2\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_MapDisplay__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\n                                                    directionsResponse: msg.directionsData,\n                                                    googleMapsApiKey: googleMapsApiKey,\n                                                    showTraffic: showTraffic,\n                                                    theme: appTheme === \"dark\" ? _components_MapDisplay__WEBPACK_IMPORTED_MODULE_10__.nightTheme : _components_MapDisplay__WEBPACK_IMPORTED_MODULE_10__.defaultTheme\n                                                }, mapDisplayKey, false, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 1788,\n                                                    columnNumber: 27\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 1787,\n                                                columnNumber: 25\n                                            }, this),\n                                            msg.directionsData?.routes?.[0]?.legs?.[0] && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"p-2\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_DirectionsSteps__WEBPACK_IMPORTED_MODULE_11__[\"default\"], {\n                                                    steps: msg.directionsData.routes[0].legs[0].steps,\n                                                    totalDuration: msg.directionsData.routes[0].legs[0].duration?.text,\n                                                    totalDistance: msg.directionsData.routes[0].legs[0].distance?.text\n                                                }, void 0, false, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 1798,\n                                                    columnNumber: 29\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 1797,\n                                                columnNumber: 27\n                                            }, this)\n                                        ]\n                                    }, void 0, true),\n                                    msg.showImagesForThisMessage && msg.generatedImageUrls && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"mt-4 border rounded-lg shadow-md bg-muted/40 overflow-hidden\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"flex items-center justify-between p-3 bg-background border-b border-border\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h4\", {\n                                                    className: \"text-sm font-semibold text-foreground\",\n                                                    children: \"Generated Images\"\n                                                }, void 0, false, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 1810,\n                                                    columnNumber: 27\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 1809,\n                                                columnNumber: 25\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"bg-background\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ImageDisplay__WEBPACK_IMPORTED_MODULE_12__[\"default\"], {\n                                                    imageUrls: msg.generatedImageUrls\n                                                }, void 0, false, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 1813,\n                                                    columnNumber: 27\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 1812,\n                                                columnNumber: 25\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                        lineNumber: 1808,\n                                        columnNumber: 23\n                                    }, this)\n                                ]\n                            }, msg.id, true, {\n                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                lineNumber: 1695,\n                                columnNumber: 19\n                            }, this);\n                        })\n                    }, void 0, false, {\n                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                        lineNumber: 1666,\n                        columnNumber: 13\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                    lineNumber: 1665,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                lineNumber: 1637,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"footer\", {\n                className: \"flex-none px-2 pb-[env(safe-area-inset-bottom)] pt-2 sm:px-4 sm:pb-[env(safe-area-inset-bottom)] sm:pt-3 bg-muted/40 border-t border-border transition-colors duration-300\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"form\", {\n                        onSubmit: handleSend,\n                        className: \"max-w-4xl lg:max-w-5xl xl:max-w-7xl mx-auto\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex items-center bg-background border border-input rounded-xl shadow-sm p-2 transition-colors duration-300 focus-within:ring-2 focus-within:ring-ring\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_3__.Button, {\n                                    type: \"button\",\n                                    variant: \"ghost\",\n                                    size: \"icon\",\n                                    className: \"text-muted-foreground hover:text-foreground\",\n                                    onClick: ()=>fileInputRef.current?.click(),\n                                    title: \"Attach files\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowUp_ChevronDown_Loader2_MapPin_Menu_Paperclip_lucide_react__WEBPACK_IMPORTED_MODULE_21__[\"default\"], {\n                                        className: \"w-5 h-5\"\n                                    }, void 0, false, {\n                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                        lineNumber: 1836,\n                                        columnNumber: 15\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                    lineNumber: 1828,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                    type: \"file\",\n                                    multiple: true,\n                                    ref: fileInputRef,\n                                    onChange: handleFileSelect,\n                                    style: {\n                                        display: \"none\"\n                                    },\n                                    accept: \"image/*,.heic,.heif,application/pdf,.txt,.md,.py,.js,.html,.css,.json,.csv,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document,application/vnd.ms-excel,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,application/vnd.ms-powerpoint,application/vnd.openxmlformats-officedocument.presentationml.presentation\"\n                                }, void 0, false, {\n                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                    lineNumber: 1839,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_3__.Button, {\n                                    type: \"button\",\n                                    variant: sendLocation ? \"secondary\" : \"ghost\",\n                                    size: \"icon\",\n                                    onClick: ()=>setSendLocation(!sendLocation),\n                                    className: `mr-2 ${sendLocation ? \"text-primary\" : \"text-muted-foreground\"} hover:text-foreground`,\n                                    title: sendLocation ? \"Stop sending location\" : \"Send current location with query\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowUp_ChevronDown_Loader2_MapPin_Menu_Paperclip_lucide_react__WEBPACK_IMPORTED_MODULE_22__[\"default\"], {\n                                        className: \"w-5 h-5\"\n                                    }, void 0, false, {\n                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                        lineNumber: 1855,\n                                        columnNumber: 15\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                    lineNumber: 1847,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_input__WEBPACK_IMPORTED_MODULE_4__.Input, {\n                                    type: \"text\",\n                                    id: \"userInput\",\n                                    value: userInput,\n                                    onChange: (e)=>setUserInput(e.target.value),\n                                    className: \"flex-grow p-2 bg-transparent focus:outline-none border-0 focus:ring-0 placeholder-muted-foreground\",\n                                    placeholder: \"Send a message...\",\n                                    autoComplete: \"off\"\n                                }, void 0, false, {\n                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                    lineNumber: 1857,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_3__.Button, {\n                                    type: \"submit\",\n                                    variant: \"default\",\n                                    size: \"icon\",\n                                    disabled: !(userInput.trim() || selectedFiles.length > 0) || status !== \"Ready\",\n                                    className: \"rounded-lg\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowUp_ChevronDown_Loader2_MapPin_Menu_Paperclip_lucide_react__WEBPACK_IMPORTED_MODULE_23__[\"default\"], {\n                                        className: \"w-5 h-5\"\n                                    }, void 0, false, {\n                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                        lineNumber: 1867,\n                                        columnNumber: 15\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                    lineNumber: 1866,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                            lineNumber: 1827,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                        lineNumber: 1826,\n                        columnNumber: 9\n                    }, this),\n                    selectedFiles.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"max-w-4xl lg:max-w-5xl xl:max-w-7xl mx-auto mt-2 text-xs text-muted-foreground\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"font-medium mb-1\",\n                                children: \"Selected files:\"\n                            }, void 0, false, {\n                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                lineNumber: 1874,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"ul\", {\n                                className: \"list-disc list-inside pl-1 space-y-0.5\",\n                                children: selectedFiles.map((file)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                        className: \"flex items-center justify-between\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                children: [\n                                                    file.name,\n                                                    \" (\",\n                                                    Math.round(file.size / 1024),\n                                                    \" KB)\"\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 1878,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_3__.Button, {\n                                                variant: \"ghost\",\n                                                size: \"sm\",\n                                                onClick: ()=>removeSelectedFile(file.name),\n                                                className: \"text-red-500 hover:text-red-700 p-1 h-auto\",\n                                                children: \"Remove\"\n                                            }, void 0, false, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 1879,\n                                                columnNumber: 19\n                                            }, this)\n                                        ]\n                                    }, file.name, true, {\n                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                        lineNumber: 1877,\n                                        columnNumber: 17\n                                    }, this))\n                            }, void 0, false, {\n                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                lineNumber: 1875,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                        lineNumber: 1873,\n                        columnNumber: 11\n                    }, this),\n                    fileProcessingStatus && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"max-w-4xl lg:max-w-5xl xl:max-w-7xl mx-auto mt-2 text-xs text-blue-600 dark:text-blue-400\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex items-center\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowUp_ChevronDown_Loader2_MapPin_Menu_Paperclip_lucide_react__WEBPACK_IMPORTED_MODULE_20__[\"default\"], {\n                                    className: \"w-3 h-3 mr-1 animate-spin\"\n                                }, void 0, false, {\n                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                    lineNumber: 1891,\n                                    columnNumber: 15\n                                }, this),\n                                fileProcessingStatus\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                            lineNumber: 1890,\n                            columnNumber: 13\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                        lineNumber: 1889,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"text-xs text-muted-foreground/80 text-center mt-2 pb-1\",\n                        children: [\n                            \"Status: \",\n                            status\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                        lineNumber: 1896,\n                        columnNumber: 10\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                lineNumber: 1825,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n        lineNumber: 1607,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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OENBRWYsOERBQUNwWSx5REFBTUE7b0NBQUNpRixNQUFLO29DQUFTcVEsU0FBUTtvQ0FBVS9PLE1BQUs7b0NBQU84UixVQUFVLENBQUVyVyxDQUFBQSxVQUFVZ0ksSUFBSSxNQUFNNUgsY0FBY2dJLE1BQU0sR0FBRyxNQUFNeEgsV0FBVztvQ0FBU3dTLFdBQVU7OENBQzdJLDRFQUFDOVUsOEhBQU9BO3dDQUFDOFUsV0FBVTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztvQkFLeEJoVCxjQUFjZ0ksTUFBTSxHQUFHLG1CQUN0Qiw4REFBQytLO3dCQUFJQyxXQUFVOzswQ0FDYiw4REFBQ1E7Z0NBQUVSLFdBQVU7MENBQW1COzs7Ozs7MENBQ2hDLDhEQUFDa0Q7Z0NBQUdsRCxXQUFVOzBDQUNYaFQsY0FBYytKLEdBQUcsQ0FBQzlHLENBQUFBLHFCQUNqQiw4REFBQ2tUO3dDQUFtQm5ELFdBQVU7OzBEQUM1Qiw4REFBQzJCOztvREFBTTFSLEtBQUtOLElBQUk7b0RBQUM7b0RBQUdzQixLQUFLQyxLQUFLLENBQUNqQixLQUFLa0IsSUFBSSxHQUFHO29EQUFNOzs7Ozs7OzBEQUNqRCw4REFBQ3ZHLHlEQUFNQTtnREFBQ3NWLFNBQVE7Z0RBQVEvTyxNQUFLO2dEQUFLdVAsU0FBUyxJQUFNeEosbUJBQW1CakgsS0FBS04sSUFBSTtnREFBR3FRLFdBQVU7MERBQTZDOzs7Ozs7O3VDQUZoSS9QLEtBQUtOLElBQUk7Ozs7Ozs7Ozs7Ozs7Ozs7b0JBV3pCeEMsc0NBQ0MsOERBQUM0Uzt3QkFBSUMsV0FBVTtrQ0FDYiw0RUFBQ0Q7NEJBQUlDLFdBQVU7OzhDQUNiLDhEQUFDNVUsOEhBQU9BO29DQUFDNFUsV0FBVTs7Ozs7O2dDQUNsQjdTOzs7Ozs7Ozs7Ozs7a0NBSU4sOERBQUNxVDt3QkFBRVIsV0FBVTs7NEJBQXlEOzRCQUFTeFM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFJeEYiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hc3RfY2hhdC8uL2FwcC9wYWdlLnRzeD83NjAzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIGNsaWVudFwiO1xuXG5pbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUsIHVzZUVmZmVjdCwgdXNlUmVmLCBGb3JtRXZlbnQgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IE1vZGVUb2dnbGUgfSBmcm9tIFwiQC9jb21wb25lbnRzL21vZGUtdG9nZ2xlXCI7XG5pbXBvcnQgeyBCdXR0b24gfSBmcm9tIFwiQC9jb21wb25lbnRzL3VpL2J1dHRvblwiO1xuaW1wb3J0IHsgSW5wdXQgfSBmcm9tIFwiQC9jb21wb25lbnRzL3VpL2lucHV0XCI7XG5pbXBvcnQgeyBTY3JvbGxBcmVhIH0gZnJvbSBcIkAvY29tcG9uZW50cy91aS9zY3JvbGwtYXJlYVwiO1xuaW1wb3J0IHsgQ2hldnJvbkRvd24sIE1lbnUsIExvY2ssIFBhcGVyY2xpcCwgQXJyb3dVcCwgTWFwUGluLCBMb2FkZXIyIH0gZnJvbSBcImx1Y2lkZS1yZWFjdFwiO1xuaW1wb3J0IHsgbWFya2VkIH0gZnJvbSAnbWFya2VkJztcbmltcG9ydCBET01QdXJpZnkgZnJvbSAnZG9tcHVyaWZ5JztcbmltcG9ydCB7IHY0IGFzIHV1aWR2NCB9IGZyb20gJ3V1aWQnO1xuaW1wb3J0IFRvb2xDYWxsRGlzcGxheSBmcm9tIFwiQC9jb21wb25lbnRzL1Rvb2xDYWxsRGlzcGxheVwiO1xuaW1wb3J0IFVSTFByZXZpZXcgZnJvbSBcIkAvY29tcG9uZW50cy9VUkxQcmV2aWV3XCI7XG5pbXBvcnQgTWFwRGlzcGxheSwgeyBkZWZhdWx0VGhlbWUsIG5pZ2h0VGhlbWUgfSBmcm9tIFwiQC9jb21wb25lbnRzL01hcERpc3BsYXlcIjtcbmltcG9ydCBEaXJlY3Rpb25zU3RlcHMgZnJvbSBcIkAvY29tcG9uZW50cy9EaXJlY3Rpb25zU3RlcHNcIjtcbmltcG9ydCBJbWFnZURpc3BsYXkgZnJvbSBcIkAvY29tcG9uZW50cy9JbWFnZURpc3BsYXlcIjtcbmltcG9ydCB7IHVzZVRoZW1lIH0gZnJvbSBcIm5leHQtdGhlbWVzXCI7XG5pbXBvcnQgeyB1c2VDb250ZW50UHJldmlld3MgfSBmcm9tIFwiQC9ob29rcy91c2VDb250ZW50UHJldmlld3NcIjtcbmltcG9ydCBDb250ZW50UHJldmlldyBmcm9tIFwiQC9jb21wb25lbnRzL0NvbnRlbnRQcmV2aWV3XCI7XG5pbXBvcnQgeyBleHRyYWN0UHJldmlld0Zyb21Ub29sQ2FsbCwgc2hvdWxkRXh0cmFjdFByZXZpZXcgfSBmcm9tIFwiQC91dGlscy9wcmV2aWV3RXh0cmFjdG9yc1wiO1xuXG4vLyBFbnN1cmUgbWFya2VkIHJ1bnMgc3luY2hyb25vdXNseSBmb3IgdGhpcyBwYWdlIHRvbywgaWYgbm90IGFscmVhZHkgZ2xvYmFsXG5tYXJrZWQuc2V0T3B0aW9ucyh7IGFzeW5jOiBmYWxzZSB9KTtcblxuLy8gQ29uZmlndXJhdGlvbiBmb3IgdGhlIGJhY2tlbmQgQVBJIGVuZHBvaW50XG5jb25zdCBCQUNLRU5EX0FQSV9CQVNFX1VSTCA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0JBQ0tFTkRfQVBJX1VSTCB8fCAnaHR0cDovL2xvY2FsaG9zdDo1MDAxJzsgLy8gRGVmYXVsdCB0byBsb2NhbGhvc3Q6NTAwMVxuXG5pbnRlcmZhY2UgVG9vbENhbGxEYXRhIHtcbiAgY2FsbF9pZDogc3RyaW5nO1xuICBuYW1lOiBzdHJpbmc7XG4gIGFyZ3VtZW50czogc3RyaW5nO1xuICByZXN1bHQ/OiBzdHJpbmc7XG4gIHN0YXR1cz86IFwiUGVuZGluZy4uLlwiIHwgXCJDb21wbGV0ZWRcIiB8IFwiRXJyb3JcIiB8IFwiU3RyZWFtaW5nLi4uXCI7XG4gIGlzX2Vycm9yPzogYm9vbGVhbjtcbiAgaXNfcGFydGlhbD86IGJvb2xlYW47XG4gIHNhbXBsZUNhbGxQYWlycz86IEFycmF5PHsgaWQ6IHN0cmluZzsgdGhvdWdodHM/OiBzdHJpbmc7IG91dHB1dD86IHN0cmluZzsgfT47XG59XG5cbi8vIE5FVzogRGVmaW5lIGEgdHlwZSBmb3IgaW5kaXZpZHVhbCBwYXJ0cyBvZiBhIG1lc3NhZ2VcbnR5cGUgTWVzc2FnZVBhcnQgPVxuICB8IHsgdHlwZTogXCJ0ZXh0XCI7IGlkOiBzdHJpbmc7IGNvbnRlbnQ6IHN0cmluZyB9XG4gIHwgeyB0eXBlOiBcInRvb2xfY2FsbFwiOyBpZDogc3RyaW5nOyB0b29sQ2FsbDogVG9vbENhbGxEYXRhIH1cbiAgfCB7IHR5cGU6IFwidGhvdWdodF9zdW1tYXJ5XCI7IGlkOiBzdHJpbmc7IGNvbnRlbnQ6IHN0cmluZyB9O1xuXG5pbnRlcmZhY2UgTWVzc2FnZSB7XG4gIGlkOiBzdHJpbmc7XG4gIHNlbmRlcjogXCJ1c2VyXCIgfCBcImJvdFwiO1xuICBwYXJ0czogTWVzc2FnZVBhcnRbXTsgLy8gUkVQTEFDRVMgY29udGVudCBhbmQgdG9vbF9jYWxsc1xuICB0aW1lc3RhbXA6IG51bWJlcjtcbiAgdGhpbmtpbmc/OiBib29sZWFuO1xuICBpc19lcnJvcl9tZXNzYWdlPzogYm9vbGVhbjsgLy8gVG8gZmxhZyBib3QgbWVzc2FnZXMgdGhhdCBhcmUgZXJyb3JzXG4gIHNob3dNYXBUb2dnbGVGb3JUaGlzTWVzc2FnZT86IGJvb2xlYW47IC8vIDwtLSBOZXcgZmxhZ1xuICBkaXJlY3Rpb25zRGF0YT86IGFueTtcbiAgc2hvd1dlYkFwcEZvclRoaXNNZXNzYWdlPzogYm9vbGVhbjsgLy8gPC0tIE5ldyBmbGFnIGZvciB3ZWIgYXBwc1xuICB3ZWJBcHBVcmw/OiBzdHJpbmc7IC8vIDwtLSBTdG9yZSB3ZWIgYXBwIFVSTFxuICBzaG93SW1hZ2VzRm9yVGhpc01lc3NhZ2U/OiBib29sZWFuOyAvLyA8LS0gTmV3IGZsYWcgZm9yIGdlbmVyYXRlZCBpbWFnZXNcbiAgZ2VuZXJhdGVkSW1hZ2VVcmxzPzogc3RyaW5nW107IC8vIDwtLSBTdG9yZSBnZW5lcmF0ZWQgaW1hZ2UgVVJMc1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBDaGF0UGFnZSgpIHtcbiAgY29uc3QgW3VzZXJJbnB1dCwgc2V0VXNlcklucHV0XSA9IHVzZVN0YXRlKFwiXCIpO1xuICBjb25zdCBbbWVzc2FnZXMsIHNldE1lc3NhZ2VzXSA9IHVzZVN0YXRlPE1lc3NhZ2VbXT4oW10pO1xuICBjb25zdCBbc2VsZWN0ZWRGaWxlcywgc2V0U2VsZWN0ZWRGaWxlc10gPSB1c2VTdGF0ZTxGaWxlW10+KFtdKTsgLy8gPC0tIE5ldyBzdGF0ZSBmb3Igc2VsZWN0ZWQgZmlsZXNcbiAgY29uc3QgZmlsZUlucHV0UmVmID0gdXNlUmVmPEhUTUxJbnB1dEVsZW1lbnQ+KG51bGwpOyAvLyA8LS0gUmVmIGZvciBmaWxlIGlucHV0XG4gIGNvbnN0IFtmaWxlUHJvY2Vzc2luZ1N0YXR1cywgc2V0RmlsZVByb2Nlc3NpbmdTdGF0dXNdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7IC8vIDwtLSBTdGF0dXMgZm9yIGZpbGUgcHJvY2Vzc2luZ1xuICBjb25zdCBbc2hvd0luaXRpYWxWaWV3LCBzZXRTaG93SW5pdGlhbFZpZXddID0gdXNlU3RhdGUodHJ1ZSk7XG4gIGNvbnN0IHNjcm9sbEFyZWFSZWYgPSB1c2VSZWY8SFRNTERpdkVsZW1lbnQ+KG51bGwpOyAvLyBSZWYgZm9yIHRoZSBTY3JvbGxBcmVhJ3Mgdmlld3BvcnQgZWxlbWVudFxuICBjb25zdCBbc3RhdHVzLCBzZXRTdGF0dXNdID0gdXNlU3RhdGUoJ1JlYWR5Jyk7XG4gIGNvbnN0IFthcGlTZW5kZXJdID0gdXNlU3RhdGUoJysxNzE0NTk4NjEwNScpO1xuICBjb25zdCBbY3VycmVudFVzZXJMb2NhdGlvbiwgc2V0Q3VycmVudFVzZXJMb2NhdGlvbl0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW3NlbmRMb2NhdGlvbiwgc2V0U2VuZExvY2F0aW9uXSA9IHVzZVN0YXRlKGZhbHNlKTsgLy8gTmV3IHN0YXRlIGZvciB0b2dnbGVcbiAgY29uc3QgW2RpcmVjdGlvbnNEYXRhLCBzZXREaXJlY3Rpb25zRGF0YV0gPSB1c2VTdGF0ZTxhbnkgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW2dvb2dsZU1hcHNBcGlLZXldID0gdXNlU3RhdGUocHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfR09PR0xFX01BUFNfQVBJX0tFWSB8fCBcIlwiKTtcbiAgY29uc3QgW21hcERpc3BsYXlLZXksIHNldE1hcERpc3BsYXlLZXldID0gdXNlU3RhdGUoMCk7IC8vIEtleSBmb3IgZm9yY2luZyBNYXBEaXNwbGF5IHJlLXJlbmRlclxuICBjb25zdCBbc2hvd1RyYWZmaWMsIHNldFNob3dUcmFmZmljXSA9IHVzZVN0YXRlKGZhbHNlKTsgLy8gU3RhdGUgZm9yIHRyYWZmaWMgbGF5ZXJcbiAgY29uc3QgW2lzTWFwU2VjdGlvblZpc2libGUsIHNldElzTWFwU2VjdGlvblZpc2libGVdID0gdXNlU3RhdGUoZmFsc2UpOyAvLyA8LS0gU3RhdGUgZm9yIG1hcCBzZWN0aW9uIHZpc2liaWxpdHlcblxuICBjb25zdCB7IHRoZW1lOiBhcHBUaGVtZSB9ID0gdXNlVGhlbWUoKTsgLy8gR2V0IGN1cnJlbnQgYXBwbGljYXRpb24gdGhlbWVcblxuICAvLyBORVc6IEFkZCBjb250ZW50IHByZXZpZXdzIGhvb2tcbiAgY29uc3QgeyBcbiAgICB1cHNlcnRQcmV2aWV3LCBcbiAgICB1cGRhdGVQcmV2aWV3LCBcbiAgICBnZXRQcmV2aWV3c0Zvck1lc3NhZ2UsIFxuICAgIHJlbW92ZVByZXZpZXcgXG4gIH0gPSB1c2VDb250ZW50UHJldmlld3MoKTtcblxuICAvLyBEZWZpbmUgYXZhaWxhYmxlIG1vZGVscyBhcyBhbiBhcnJheSBvZiBvYmplY3RzIGZvciB0aGUgZHJvcGRvd25cbiAgY29uc3QgbW9kZWxPcHRpb25zID0gW1xuICAgIHsgdmFsdWU6IFwiZ2VtaW5pLTIuNS1mbGFzaC1wcmV2aWV3LTA1LTIwXCIsIGxhYmVsOiBcIkdlbWluaSAyLjUgRmxhc2hcIiB9LFxuICAgIHsgdmFsdWU6IFwiZ2VtaW5pLTIuNS1wcm8tcHJldmlldy0wNS0wNlwiLCBsYWJlbDogXCJHZW1pbmkgMi41IFByb1wiIH0sXG4gICAgLy8gQWRkIG1vcmUgbW9kZWxzIGhlcmUgaW4gdGhlIGZ1dHVyZVxuICAgIC8vIHsgdmFsdWU6IFwiZ3B0LTQuMS0yMDI1LTA0LTE0XCIsIGxhYmVsOiBcIkdQVC00LjFcIiB9LCBcbiAgXTtcbiAgY29uc3QgW3NlbGVjdGVkTW9kZWwsIHNldFNlbGVjdGVkTW9kZWxdID0gdXNlU3RhdGUobW9kZWxPcHRpb25zWzFdLnZhbHVlKTsgLy8gRGVmYXVsdCB0byB0aGUgc2Vjb25kIG1vZGVsIChQcm8pXG5cbiAgLy8gTkVXOiBIZWxwZXIgZnVuY3Rpb24gdG8gcHJvY2VzcyB0b29sIGNhbGxzIGZvciBwcmV2aWV3IGV4dHJhY3Rpb25cbiAgY29uc3QgcHJvY2Vzc1Rvb2xDYWxsRm9yUHJldmlldyA9ICh0b29sQ2FsbDogVG9vbENhbGxEYXRhLCBtZXNzYWdlSWQ6IHN0cmluZykgPT4ge1xuICAgIGlmIChzaG91bGRFeHRyYWN0UHJldmlldyh0b29sQ2FsbCkpIHtcbiAgICAgIGNvbnN0IGV4dHJhY3RlZFByZXZpZXcgPSBleHRyYWN0UHJldmlld0Zyb21Ub29sQ2FsbCh0b29sQ2FsbCk7XG4gICAgICBpZiAoZXh0cmFjdGVkUHJldmlldyAmJiBleHRyYWN0ZWRQcmV2aWV3LnNob3VsZFNob3cpIHtcbiAgICAgICAgY29uc29sZS5sb2coYFtQQUdFLlRTWF0gRXh0cmFjdGVkIHByZXZpZXcgZm9yIHRvb2wgJHt0b29sQ2FsbC5uYW1lfTpgLCBleHRyYWN0ZWRQcmV2aWV3KTtcbiAgICAgICAgdXBzZXJ0UHJldmlldyhcbiAgICAgICAgICBleHRyYWN0ZWRQcmV2aWV3LmlkLFxuICAgICAgICAgIGV4dHJhY3RlZFByZXZpZXcudHlwZSxcbiAgICAgICAgICBleHRyYWN0ZWRQcmV2aWV3LmRhdGEsXG4gICAgICAgICAgbWVzc2FnZUlkLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIG5hbWU6IHRvb2xDYWxsLm5hbWUsXG4gICAgICAgICAgICBjYWxsX2lkOiB0b29sQ2FsbC5jYWxsX2lkLFxuICAgICAgICAgICAgc3RhdHVzOiB0b29sQ2FsbC5zdGF0dXMsXG4gICAgICAgICAgfVxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICAvLyBGdW5jdGlvbiB0byBkZXRlY3QgYW5kIGNvbnZlcnQgSEVJQyBmaWxlcyB0byBKUEVHXG4gIGNvbnN0IGNvbnZlcnRIZWljVG9KcGVnID0gYXN5bmMgKGZpbGU6IEZpbGUpOiBQcm9taXNlPEZpbGU+ID0+IHtcbiAgICBjb25zdCBpc0hlaWMgPSBmaWxlLm5hbWUudG9Mb3dlckNhc2UoKS5lbmRzV2l0aCgnLmhlaWMnKSB8fCBcbiAgICAgICAgICAgICAgICAgICBmaWxlLm5hbWUudG9Mb3dlckNhc2UoKS5lbmRzV2l0aCgnLmhlaWYnKSB8fCBcbiAgICAgICAgICAgICAgICAgICBmaWxlLnR5cGUgPT09ICdpbWFnZS9oZWljJyB8fCBcbiAgICAgICAgICAgICAgICAgICBmaWxlLnR5cGUgPT09ICdpbWFnZS9oZWlmJztcblxuICAgIGlmICghaXNIZWljKSB7XG4gICAgICByZXR1cm4gZmlsZTsgLy8gUmV0dXJuIG9yaWdpbmFsIGZpbGUgaWYgbm90IEhFSUNcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgY29uc29sZS5sb2coYPCflIQgQ29udmVydGluZyBIRUlDIGZpbGUgXCIke2ZpbGUubmFtZX1cIiB0byBKUEVHLi4uYCk7XG4gICAgICBcbiAgICAgIC8vIER5bmFtaWMgaW1wb3J0IHRvIGF2b2lkIFNTUiBpc3N1ZXNcbiAgICAgIGNvbnN0IHsgZGVmYXVsdDogaGVpYzJhbnkgfSA9IGF3YWl0IGltcG9ydCgnaGVpYzJhbnknKTtcbiAgICAgIFxuICAgICAgLy8gVHJ5IGhlaWMyYW55IGNvbnZlcnNpb25cbiAgICAgIGNvbnN0IGNvbnZlcnRlZEJsb2IgPSBhd2FpdCBoZWljMmFueSh7XG4gICAgICAgIGJsb2I6IGZpbGUsXG4gICAgICAgIHRvVHlwZTogJ2ltYWdlL2pwZWcnLFxuICAgICAgICBxdWFsaXR5OiAwLjg1LFxuICAgICAgfSkgYXMgQmxvYjtcbiAgICAgIFxuICAgICAgLy8gQ3JlYXRlIG5ldyBmaWxlbmFtZSB3aXRoIC5qcGcgZXh0ZW5zaW9uXG4gICAgICBjb25zdCBvcmlnaW5hbE5hbWUgPSBmaWxlLm5hbWUucmVwbGFjZSgvXFwuKGhlaWN8aGVpZikkL2ksICcnKTtcbiAgICAgIGNvbnN0IG5ld0ZpbGVOYW1lID0gYCR7b3JpZ2luYWxOYW1lfS5qcGdgO1xuXG4gICAgICAvLyBDcmVhdGUgbmV3IEZpbGUgb2JqZWN0IHdpdGggY29udmVydGVkIGJsb2JcbiAgICAgIGNvbnN0IGNvbnZlcnRlZEZpbGUgPSBuZXcgRmlsZShbY29udmVydGVkQmxvYl0sIG5ld0ZpbGVOYW1lLCB7XG4gICAgICAgIHR5cGU6ICdpbWFnZS9qcGVnJyxcbiAgICAgICAgbGFzdE1vZGlmaWVkOiBmaWxlLmxhc3RNb2RpZmllZCxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zb2xlLmxvZyhg4pyFIFN1Y2Nlc3NmdWxseSBjb252ZXJ0ZWQgXCIke2ZpbGUubmFtZX1cIiB0byBcIiR7bmV3RmlsZU5hbWV9XCIgKCR7TWF0aC5yb3VuZChjb252ZXJ0ZWRGaWxlLnNpemUgLyAxMDI0KX1LQilgKTtcbiAgICAgIHJldHVybiBjb252ZXJ0ZWRGaWxlO1xuICAgICAgXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUud2Fybihg4pqg77iPIEZyb250ZW5kIEhFSUMgY29udmVyc2lvbiBmYWlsZWQgZm9yIFwiJHtmaWxlLm5hbWV9XCI6YCwgZXJyb3IpO1xuICAgICAgXG4gICAgICAvLyBUcnkgQ2FudmFzIEFQSSBmYWxsYmFja1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc29sZS5sb2coYPCflIQgQXR0ZW1wdGluZyBDYW52YXMgQVBJIGZhbGxiYWNrIGZvciBcIiR7ZmlsZS5uYW1lfVwiLi4uYCk7XG4gICAgICAgIFxuICAgICAgICBjb25zdCBpbWFnZUJpdG1hcCA9IGF3YWl0IGNyZWF0ZUltYWdlQml0bWFwKGZpbGUpO1xuICAgICAgICBjb25zdCBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICAgICAgY29uc3QgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gICAgICAgIFxuICAgICAgICBpZiAoIWN0eCkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ291bGQgbm90IGdldCBjYW52YXMgY29udGV4dCcpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBjYW52YXMud2lkdGggPSBpbWFnZUJpdG1hcC53aWR0aDtcbiAgICAgICAgY2FudmFzLmhlaWdodCA9IGltYWdlQml0bWFwLmhlaWdodDtcbiAgICAgICAgY3R4LmRyYXdJbWFnZShpbWFnZUJpdG1hcCwgMCwgMCk7XG4gICAgICAgIFxuICAgICAgICBjb25zdCBjYW52YXNCbG9iID0gYXdhaXQgbmV3IFByb21pc2U8QmxvYj4oKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgIGNhbnZhcy50b0Jsb2IoKGJsb2IpID0+IHtcbiAgICAgICAgICAgIGlmIChibG9iKSB7XG4gICAgICAgICAgICAgIHJlc29sdmUoYmxvYik7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICByZWplY3QobmV3IEVycm9yKCdDYW52YXMgdG9CbG9iIGZhaWxlZCcpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LCAnaW1hZ2UvanBlZycsIDAuODUpO1xuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IG9yaWdpbmFsTmFtZSA9IGZpbGUubmFtZS5yZXBsYWNlKC9cXC4oaGVpY3xoZWlmKSQvaSwgJycpO1xuICAgICAgICBjb25zdCBuZXdGaWxlTmFtZSA9IGAke29yaWdpbmFsTmFtZX0uanBnYDtcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IGNvbnZlcnRlZEZpbGUgPSBuZXcgRmlsZShbY2FudmFzQmxvYl0sIG5ld0ZpbGVOYW1lLCB7XG4gICAgICAgICAgdHlwZTogJ2ltYWdlL2pwZWcnLFxuICAgICAgICAgIGxhc3RNb2RpZmllZDogZmlsZS5sYXN0TW9kaWZpZWQsXG4gICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgY29uc29sZS5sb2coYOKchSBDYW52YXMgQVBJIGZhbGxiYWNrIHN1Y2NlZWRlZCBmb3IgXCIke2ZpbGUubmFtZX1cIiDihpIgXCIke25ld0ZpbGVOYW1lfVwiYCk7XG4gICAgICAgIHJldHVybiBjb252ZXJ0ZWRGaWxlO1xuICAgICAgICBcbiAgICAgIH0gY2F0Y2ggKGNhbnZhc0Vycm9yKSB7XG4gICAgICAgIGNvbnNvbGUud2Fybihg4pqg77iPIENhbnZhcyBBUEkgZmFsbGJhY2sgYWxzbyBmYWlsZWQgZm9yIFwiJHtmaWxlLm5hbWV9XCI6YCwgY2FudmFzRXJyb3IpO1xuICAgICAgICBcbiAgICAgICAgLy8gRmluYWwgZmFsbGJhY2s6IFVwbG9hZCBIRUlDIGZpbGUgYW5kIGxldCBiYWNrZW5kIGhhbmRsZSBjb252ZXJzaW9uXG4gICAgICAgIGNvbnNvbGUubG9nKGDwn5SEIFdpbGwgdXBsb2FkIFwiJHtmaWxlLm5hbWV9XCIgZm9yIHNlcnZlci1zaWRlIGNvbnZlcnNpb24uLi5gKTtcbiAgICAgICAgXG4gICAgICAgIC8vIE1hcmsgdGhpcyBmaWxlIGZvciBzZXJ2ZXItc2lkZSBjb252ZXJzaW9uIGJ5IGFkZGluZyBhIHNwZWNpYWwgcHJvcGVydHlcbiAgICAgICAgY29uc3QgZmlsZVdpdGhDb252ZXJzaW9uRmxhZyA9IG5ldyBGaWxlKFtmaWxlXSwgZmlsZS5uYW1lLCB7XG4gICAgICAgICAgdHlwZTogZmlsZS50eXBlIHx8ICdpbWFnZS9oZWljJyxcbiAgICAgICAgICBsYXN0TW9kaWZpZWQ6IGZpbGUubGFzdE1vZGlmaWVkLFxuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIC8vIEFkZCBhIGN1c3RvbSBwcm9wZXJ0eSB0byBpbmRpY2F0ZSB0aGlzIG5lZWRzIHNlcnZlci1zaWRlIGNvbnZlcnNpb25cbiAgICAgICAgKGZpbGVXaXRoQ29udmVyc2lvbkZsYWcgYXMgYW55KS5uZWVkc1NlcnZlckNvbnZlcnNpb24gPSB0cnVlO1xuICAgICAgICBcbiAgICAgICAgcmV0dXJuIGZpbGVXaXRoQ29udmVyc2lvbkZsYWc7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGV4YW1wbGVQcm9tcHRzID0gW1xuICAgIHsgdGl0bGU6IFwiV2hhdCBhcmUgdGhlIGFkdmFudGFnZXNcIiwgZGV0YWlsOiBcIm9mIHVzaW5nIE5leHQuanM/XCIgfSxcbiAgICB7IHRpdGxlOiBcIldyaXRlIGNvZGUgdG9cIiwgZGV0YWlsOiBcImRlbW9uc3RyYXRlIGRpamtzdHJhXFxcXCdzIGFsZ29yaXRobVwiIH0sXG4gICAgeyB0aXRsZTogXCJIZWxwIG1lIHdyaXRlIGFuIGVzc2F5XCIsIGRldGFpbDogXCJhYm91dCBzaWxpY29uIHZhbGxleVwiIH0sXG4gICAgeyB0aXRsZTogXCJXaGF0IGlzIHRoZSB3ZWF0aGVyXCIsIGRldGFpbDogXCJpbiBTYW4gRnJhbmNpc2NvP1wiIH0sXG4gIF07XG5cbiAgLy8gSGVscGVyIHRvIGVuc3VyZSBtYXJrZG93biBibG9jayBlbGVtZW50cyBhcmUgcHJvcGVybHkgc3BhY2VkXG4gIGNvbnN0IG5vcm1hbGl6ZUZyYWdtZW50ID0gKGZyYWdtZW50OiBzdHJpbmcsIF9wcmV2Q29udGVudDogc3RyaW5nKTogc3RyaW5nID0+IHtcbiAgICAvLyBURU1QT1JBUklMWSBBIFBBU1MtVEhST1VHSFxuICAgIHJldHVybiBmcmFnbWVudDtcbiAgfTtcblxuICAvLyBORVc6IEZ1bmN0aW9uIHRvIGNvbnZlcnQgc3RhbmRhbG9uZSBpbWFnZS92aWRlbyBVUkxzIHRvIEhUTUwgZWxlbWVudHNcbiAgY29uc3QgY29udmVydE1lZGlhVXJscyA9ICh0ZXh0OiBzdHJpbmcpOiBzdHJpbmcgPT4ge1xuICAgIC8vIENvbW1vbiBpbWFnZSBleHRlbnNpb25zXG4gICAgY29uc3QgaW1hZ2VFeHRlbnNpb25zID0gL1xcLihqcGd8anBlZ3xwbmd8Z2lmfHdlYnB8c3ZnfGJtcHxpY298dGlmZikoXFw/W14pXFxzXCInXSopPyQvaTtcbiAgICAvLyBDb21tb24gdmlkZW8gZXh0ZW5zaW9ucyAgXG4gICAgY29uc3QgdmlkZW9FeHRlbnNpb25zID0gL1xcLihtcDR8d2VibXxvZ2d8bW92fGF2aXx3bXZ8Zmx2fG00dikoXFw/W14pXFxzXCInXSopPyQvaTtcbiAgICBcbiAgICAvLyBNb3JlIGNvbXByZWhlbnNpdmUgVVJMIHBhdHRlcm4gdGhhdCBoYW5kbGVzIFVSTHMgaW4gdmFyaW91cyBjb250ZXh0c1xuICAgIC8vIFRoaXMgcGF0dGVybiBsb29rcyBmb3IgaHR0cC9odHRwcyBVUkxzIHRoYXQgYXJlIG5vdCBhbHJlYWR5IGluIG1hcmtkb3duIGltYWdlL2xpbmsgZm9ybWF0XG4gICAgY29uc3QgdXJsUGF0dGVybiA9IC8oPzwhIVxcWykoPzwhXFxdXFwoKSg/PCFcXFsuKj9cXF1cXCgpaHR0cHM/OlxcL1xcL1teXFxzPD5cIidcXF1cXCldKy9nO1xuICAgIFxuICAgIGxldCBwcm9jZXNzZWRUZXh0ID0gdGV4dC5yZXBsYWNlKHVybFBhdHRlcm4sICh1cmwpID0+IHtcbiAgICAgIC8vIFJlbW92ZSB0cmFpbGluZyBwdW5jdHVhdGlvbiB0aGF0IG1pZ2h0IG5vdCBiZSBwYXJ0IG9mIHRoZSBVUkxcbiAgICAgIGNvbnN0IGNsZWFuVXJsID0gdXJsLnJlcGxhY2UoL1suLDs6IT8pXCInXSskLywgJycpO1xuICAgICAgXG4gICAgICBpZiAoaW1hZ2VFeHRlbnNpb25zLnRlc3QoY2xlYW5VcmwpKSB7XG4gICAgICAgIHJldHVybiBgIVtJbWFnZV0oJHtjbGVhblVybH0pYDtcbiAgICAgIH0gZWxzZSBpZiAodmlkZW9FeHRlbnNpb25zLnRlc3QoY2xlYW5VcmwpKSB7XG4gICAgICAgIHJldHVybiBgPHZpZGVvIGNvbnRyb2xzIHN0eWxlPVwibWF4LXdpZHRoOiAxMDAlOyBoZWlnaHQ6IGF1dG87IG1heC1oZWlnaHQ6IDQwMHB4OyBib3JkZXItcmFkaXVzOiAwLjM3NXJlbTsgbWFyZ2luOiAwLjVlbSBhdXRvOyBkaXNwbGF5OiBibG9jaztcIj5cbiAgICAgICAgICA8c291cmNlIHNyYz1cIiR7Y2xlYW5Vcmx9XCIgdHlwZT1cInZpZGVvLyR7Y2xlYW5Vcmwuc3BsaXQoJy4nKS5wb3AoKT8uc3BsaXQoJz8nKVswXSB8fCAnbXA0J31cIj5cbiAgICAgICAgICBZb3VyIGJyb3dzZXIgZG9lcyBub3Qgc3VwcG9ydCB0aGUgdmlkZW8gdGFnLlxuICAgICAgICAgIDxhIGhyZWY9XCIke2NsZWFuVXJsfVwiIHRhcmdldD1cIl9ibGFua1wiIHJlbD1cIm5vb3BlbmVyIG5vcmVmZXJyZXJcIj5WaWV3IHZpZGVvPC9hPlxuICAgICAgICA8L3ZpZGVvPmA7XG4gICAgICB9XG4gICAgICBcbiAgICAgIHJldHVybiB1cmw7IC8vIFJldHVybiBvcmlnaW5hbCBVUkwgaWYgbm90IG1lZGlhXG4gICAgfSk7XG5cbiAgICAvLyBBZGRpdGlvbmFsIGFnZ3Jlc3NpdmUgcGF0dGVybiB0byBjYXRjaCBhbnkgVVJMcyB0aGF0IG1pZ2h0IGJlIGluIHF1b3RlcyBvciBvdGhlciBjb250ZXh0c1xuICAgIGNvbnN0IGFnZ3Jlc3NpdmVVcmxQYXR0ZXJuID0gL2h0dHBzPzpcXC9cXC9bXlxcczw+XCInXFxdXFwpXFx9XStcXC4oanBnfGpwZWd8cG5nfGdpZnx3ZWJwfHN2Z3xibXB8aWNvfHRpZmZ8bXA0fHdlYm18b2dnfG1vdnxhdml8d212fGZsdnxtNHYpKFxcP1teXFxzPD5cIidcXF1cXClcXH1dKik/L2dpO1xuICAgIFxuICAgIHByb2Nlc3NlZFRleHQgPSBwcm9jZXNzZWRUZXh0LnJlcGxhY2UoYWdncmVzc2l2ZVVybFBhdHRlcm4sICh1cmwpID0+IHtcbiAgICAgIC8vIENoZWNrIGlmIHRoaXMgVVJMIGlzIGFscmVhZHkgY29udmVydGVkIHRvIG1hcmtkb3duXG4gICAgICBpZiAocHJvY2Vzc2VkVGV4dC5pbmNsdWRlcyhgIVtJbWFnZV0oJHt1cmx9KWApKSB7XG4gICAgICAgIHJldHVybiB1cmw7XG4gICAgICB9XG4gICAgICBjb25zdCBjbGVhblVybCA9IHVybC5yZXBsYWNlKC9bLiw7OiE/KVwiJ1xcfV0rJC8sICcnKTtcbiAgICAgIHJldHVybiBgIVtJbWFnZV0oJHtjbGVhblVybH0pYDtcbiAgICB9KTtcbiAgICBcbiAgICByZXR1cm4gcHJvY2Vzc2VkVGV4dDtcbiAgfTtcblxuICBjb25zdCByZW5kZXJTYW5pdGl6ZWRNYXJrZG93biA9ICh0ZXh0OiBzdHJpbmcpOiBzdHJpbmcgPT4ge1xuICAgIC8vIEZpcnN0IGNvbnZlcnQgc3RhbmRhbG9uZSBtZWRpYSBVUkxzIHRvIHByb3BlciBtYXJrZG93bi9IVE1MXG4gICAgY29uc3QgdGV4dFdpdGhNZWRpYSA9IGNvbnZlcnRNZWRpYVVybHModGV4dCk7XG4gICAgXG4gICAgLy8gVGhpcyBmdW5jdGlvbiBhc3N1bWVzIGl0J3MgcnVubmluZyBpbiBhIGJyb3dzZXIgZW52aXJvbm1lbnRcbiAgICAvLyBkdWUgdG8gdGhlIFwidXNlIGNsaWVudFwiIGRpcmVjdGl2ZSBvbiB0aGUgY29tcG9uZW50IGFuZCB1c2Ugb2YgRE9NUHVyaWZ5LlxuICAgIC8vIG1hcmtlZC5wYXJzZSBpcyBjb25maWd1cmVkIHRvIHJ1biBzeW5jaHJvbm91c2x5LlxuICAgIGNvbnN0IGRpcnR5SHRtbCA9IG1hcmtlZC5wYXJzZSh0ZXh0V2l0aE1lZGlhLCB7IGdmbTogdHJ1ZSwgYnJlYWtzOiB0cnVlIH0pIGFzIHN0cmluZztcbiAgICByZXR1cm4gRE9NUHVyaWZ5LnNhbml0aXplKGRpcnR5SHRtbCk7XG4gIH07XG5cbiAgLy8gTkVXOiBGdW5jdGlvbiB0byBwYXJzZSB0ZXh0IGFuZCBleHRyYWN0IFVSTHMgZm9yIHNwZWNpYWwgcmVuZGVyaW5nXG4gIGludGVyZmFjZSBUZXh0UGFydCB7XG4gICAgdHlwZTogJ3RleHQnIHwgJ3VybCc7XG4gICAgY29udGVudDogc3RyaW5nO1xuICB9XG5cbiAgY29uc3QgcGFyc2VUZXh0V2l0aFVSTHMgPSAodGV4dDogc3RyaW5nKTogVGV4dFBhcnRbXSA9PiB7XG4gICAgY29uc3QgdXJsUmVnZXggPSAvaHR0cHM/OlxcL1xcL1teXFxzPD5cIidcXF1cXClcXH1dKy9nO1xuICAgIGNvbnN0IHBhcnRzOiBUZXh0UGFydFtdID0gW107XG4gICAgbGV0IGxhc3RJbmRleCA9IDA7XG4gICAgbGV0IG1hdGNoO1xuXG4gICAgd2hpbGUgKChtYXRjaCA9IHVybFJlZ2V4LmV4ZWModGV4dCkpICE9PSBudWxsKSB7XG4gICAgICAvLyBBZGQgdGV4dCBiZWZvcmUgdGhlIFVSTFxuICAgICAgaWYgKG1hdGNoLmluZGV4ID4gbGFzdEluZGV4KSB7XG4gICAgICAgIGNvbnN0IGJlZm9yZVRleHQgPSB0ZXh0LnN1YnN0cmluZyhsYXN0SW5kZXgsIG1hdGNoLmluZGV4KTtcbiAgICAgICAgaWYgKGJlZm9yZVRleHQudHJpbSgpKSB7XG4gICAgICAgICAgcGFydHMucHVzaCh7IHR5cGU6ICd0ZXh0JywgY29udGVudDogYmVmb3JlVGV4dCB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBBZGQgdGhlIFVSTCAoY2xlYW4gdXAgdHJhaWxpbmcgcHVuY3R1YXRpb24pXG4gICAgICBjb25zdCB1cmwgPSBtYXRjaFswXS5yZXBsYWNlKC9bLiw7OiE/KVwiJ1xcfV0rJC8sICcnKTtcbiAgICAgIFxuICAgICAgLy8gU2tpcCBpZiBpdCdzIGFscmVhZHkgYW4gaW1hZ2UvdmlkZW8gKGhhbmRsZWQgYnkgbWFya2Rvd24pXG4gICAgICBjb25zdCBpc01lZGlhID0gL1xcLihqcGd8anBlZ3xwbmd8Z2lmfHdlYnB8c3ZnfGJtcHxpY298dGlmZnxtcDR8d2VibXxvZ2d8bW92fGF2aXx3bXZ8Zmx2fG00dikoXFw/W14pXFxzXCInXSopPyQvaS50ZXN0KHVybCk7XG4gICAgICBcbiAgICAgIGlmICghaXNNZWRpYSkge1xuICAgICAgICBwYXJ0cy5wdXNoKHsgdHlwZTogJ3VybCcsIGNvbnRlbnQ6IHVybCB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIEtlZXAgYXMgdGV4dCBmb3IgbWFya2Rvd24gcHJvY2Vzc2luZ1xuICAgICAgICBwYXJ0cy5wdXNoKHsgdHlwZTogJ3RleHQnLCBjb250ZW50OiBtYXRjaFswXSB9KTtcbiAgICAgIH1cblxuICAgICAgbGFzdEluZGV4ID0gdXJsUmVnZXgubGFzdEluZGV4O1xuICAgIH1cblxuICAgIC8vIEFkZCByZW1haW5pbmcgdGV4dFxuICAgIGlmIChsYXN0SW5kZXggPCB0ZXh0Lmxlbmd0aCkge1xuICAgICAgY29uc3QgcmVtYWluaW5nVGV4dCA9IHRleHQuc3Vic3RyaW5nKGxhc3RJbmRleCk7XG4gICAgICBpZiAocmVtYWluaW5nVGV4dC50cmltKCkpIHtcbiAgICAgICAgcGFydHMucHVzaCh7IHR5cGU6ICd0ZXh0JywgY29udGVudDogcmVtYWluaW5nVGV4dCB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBJZiBubyBVUkxzIGZvdW5kLCByZXR1cm4gdGhlIHdob2xlIHRleHQgYXMgb25lIHBhcnRcbiAgICBpZiAocGFydHMubGVuZ3RoID09PSAwKSB7XG4gICAgICBwYXJ0cy5wdXNoKHsgdHlwZTogJ3RleHQnLCBjb250ZW50OiB0ZXh0IH0pO1xuICAgIH1cblxuICAgIHJldHVybiBwYXJ0cztcbiAgfTtcblxuICBjb25zdCBnZXRDdXJyZW50TG9jYXRpb24gPSAoKTogUHJvbWlzZTxzdHJpbmc+ID0+IHtcbiAgICBjb25zb2xlLmxvZyhcIltQQUdFLlRTWF0gZ2V0Q3VycmVudExvY2F0aW9uIGNhbGxlZFwiKTtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgaWYgKCFuYXZpZ2F0b3IuZ2VvbG9jYXRpb24pIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIltQQUdFLlRTWF0gR2VvbG9jYXRpb24gbm90IHN1cHBvcnRlZFwiKTtcbiAgICAgICAgcmVqZWN0KFwiR2VvbG9jYXRpb24gaXMgbm90IHN1cHBvcnRlZCBieSB5b3VyIGJyb3dzZXIuXCIpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBcbiAgICAgIGNvbnN0IHRpbWVvdXRJZCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiW1BBR0UuVFNYXSBHZW9sb2NhdGlvbiB0aW1lb3V0XCIpO1xuICAgICAgICByZWplY3QoXCJGYWlsZWQgdG8gZ2V0IGxvY2F0aW9uOiBUaW1lb3V0LlwiKTtcbiAgICAgIH0sIDEwMDAwKTsgLy8gMTAgc2Vjb25kIHRpbWVvdXRcblxuICAgICAgbmF2aWdhdG9yLmdlb2xvY2F0aW9uLmdldEN1cnJlbnRQb3NpdGlvbihcbiAgICAgICAgKHBvc2l0aW9uKSA9PiB7XG4gICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXRJZCk7XG4gICAgICAgICAgY29uc3QgY29vcmRzID0gYCR7cG9zaXRpb24uY29vcmRzLmxhdGl0dWRlfSwke3Bvc2l0aW9uLmNvb3Jkcy5sb25naXR1ZGV9YDtcbiAgICAgICAgICBjb25zb2xlLmxvZyhcIltQQUdFLlRTWF0gR2VvbG9jYXRpb24gc3VjY2VzczpcIiwgY29vcmRzKTtcbiAgICAgICAgICBzZXRDdXJyZW50VXNlckxvY2F0aW9uKGNvb3Jkcyk7IC8vIFVwZGF0ZSBzdGF0ZSBoZXJlIGFzIHdlbGxcbiAgICAgICAgICByZXNvbHZlKGNvb3Jkcyk7XG4gICAgICAgIH0sXG4gICAgICAgIChlcnJvcikgPT4ge1xuICAgICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0SWQpO1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJbUEFHRS5UU1hdIEdlb2xvY2F0aW9uIGVycm9yOlwiLCBlcnJvcik7XG4gICAgICAgICAgbGV0IG1lc3NhZ2UgPSBcIlVuYWJsZSB0byByZXRyaWV2ZSB5b3VyIGxvY2F0aW9uLiBQbGVhc2UgZW5zdXJlIGxvY2F0aW9uIHNlcnZpY2VzIGFyZSBlbmFibGVkLlwiO1xuICAgICAgICAgIHN3aXRjaChlcnJvci5jb2RlKSB7XG4gICAgICAgICAgICBjYXNlIGVycm9yLlBFUk1JU1NJT05fREVOSUVEOlxuICAgICAgICAgICAgICBtZXNzYWdlID0gXCJMb2NhdGlvbiBwZXJtaXNzaW9uIGRlbmllZC4gUGxlYXNlIGVuYWJsZSBpdCBpbiB5b3VyIGJyb3dzZXIgc2V0dGluZ3MuXCI7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBlcnJvci5QT1NJVElPTl9VTkFWQUlMQUJMRTpcbiAgICAgICAgICAgICAgbWVzc2FnZSA9IFwiTG9jYXRpb24gaW5mb3JtYXRpb24gaXMgdW5hdmFpbGFibGUuXCI7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBlcnJvci5USU1FT1VUOlxuICAgICAgICAgICAgICBtZXNzYWdlID0gXCJSZXF1ZXN0IHRvIGdldCB1c2VyIGxvY2F0aW9uIHRpbWVkIG91dC5cIjsgLy8gVGhpcyBjYXNlIG1pZ2h0IGJlIHByZWVtcHRlZCBieSBvdXIgb3duIHNldFRpbWVvdXRcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJlamVjdChtZXNzYWdlKTtcbiAgICAgICAgfSxcbiAgICAgICAgeyBlbmFibGVIaWdoQWNjdXJhY3k6IHRydWUsIHRpbWVvdXQ6IDgwMDAsIG1heGltdW1BZ2U6IDAgfSAvLyBBZGRlZCBvcHRpb25zXG4gICAgICApO1xuICAgIH0pO1xuICB9O1xuICBcbiAgY29uc3QgaGFuZGxlRmlsZVNlbGVjdCA9IGFzeW5jIChldmVudDogUmVhY3QuQ2hhbmdlRXZlbnQ8SFRNTElucHV0RWxlbWVudD4pID0+IHtcbiAgICBpZiAoZXZlbnQudGFyZ2V0LmZpbGVzKSB7XG4gICAgICBjb25zdCBmaWxlcyA9IEFycmF5LmZyb20oZXZlbnQudGFyZ2V0LmZpbGVzKTtcbiAgICAgIFxuICAgICAgLy8gQ2hlY2sgaWYgYW55IGZpbGVzIGFyZSBIRUlDXG4gICAgICBjb25zdCBoZWljRmlsZXMgPSBmaWxlcy5maWx0ZXIoZmlsZSA9PiBcbiAgICAgICAgZmlsZS5uYW1lLnRvTG93ZXJDYXNlKCkuZW5kc1dpdGgoJy5oZWljJykgfHwgXG4gICAgICAgIGZpbGUubmFtZS50b0xvd2VyQ2FzZSgpLmVuZHNXaXRoKCcuaGVpZicpIHx8IFxuICAgICAgICBmaWxlLnR5cGUgPT09ICdpbWFnZS9oZWljJyB8fCBcbiAgICAgICAgZmlsZS50eXBlID09PSAnaW1hZ2UvaGVpZidcbiAgICAgICk7XG4gICAgICBcbiAgICAgIGlmIChoZWljRmlsZXMubGVuZ3RoID4gMCkge1xuICAgICAgICBzZXRGaWxlUHJvY2Vzc2luZ1N0YXR1cyhgQ29udmVydGluZyAke2hlaWNGaWxlcy5sZW5ndGh9IEhFSUMgZmlsZSR7aGVpY0ZpbGVzLmxlbmd0aCA+IDEgPyAncycgOiAnJ30gdG8gSlBFRy4uLmApO1xuICAgICAgfVxuICAgICAgXG4gICAgICB0cnkge1xuICAgICAgICAvLyBDb252ZXJ0IGFueSBIRUlDIGZpbGVzIHRvIEpQRUdcbiAgICAgICAgY29uc3QgY29udmVydGVkRmlsZXMgPSBhd2FpdCBQcm9taXNlLmFsbChcbiAgICAgICAgICBmaWxlcy5tYXAoZmlsZSA9PiBjb252ZXJ0SGVpY1RvSnBlZyhmaWxlKSlcbiAgICAgICAgKTtcbiAgICAgICAgXG4gICAgICAgIC8vIENoZWNrIGlmIGFueSBmaWxlcyBuZWVkIHNlcnZlci1zaWRlIGNvbnZlcnNpb25cbiAgICAgICAgY29uc3Qgc2VydmVyQ29udmVyc2lvbkZpbGVzID0gY29udmVydGVkRmlsZXMuZmlsdGVyKGZpbGUgPT4gKGZpbGUgYXMgYW55KS5uZWVkc1NlcnZlckNvbnZlcnNpb24pO1xuICAgICAgICBcbiAgICAgICAgaWYgKHNlcnZlckNvbnZlcnNpb25GaWxlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgc2V0RmlsZVByb2Nlc3NpbmdTdGF0dXMoYPCfk6QgU2VuZGluZyAke3NlcnZlckNvbnZlcnNpb25GaWxlcy5sZW5ndGh9IEhFSUMgZmlsZSR7c2VydmVyQ29udmVyc2lvbkZpbGVzLmxlbmd0aCA+IDEgPyAncycgOiAnJ30gZm9yIHNlcnZlci1zaWRlIGNvbnZlcnNpb24uLi5gKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzZXRGaWxlUHJvY2Vzc2luZ1N0YXR1cyhudWxsKTsgLy8gQ2xlYXIgc3RhdHVzIHdoZW4gZG9uZVxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBzZXRTZWxlY3RlZEZpbGVzKHByZXZGaWxlcyA9PiBbLi4ucHJldkZpbGVzLCAuLi5jb252ZXJ0ZWRGaWxlc10pO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgcHJvY2Vzc2luZyBzZWxlY3RlZCBmaWxlczonLCBlcnJvcik7XG4gICAgICAgIFxuICAgICAgICAvLyBTaG93IHVzZXItZnJpZW5kbHkgZXJyb3IgbWVzc2FnZVxuICAgICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvciAmJiBlcnJvci5tZXNzYWdlLmluY2x1ZGVzKCdVbmFibGUgdG8gY29udmVydCBIRUlDJykpIHtcbiAgICAgICAgICBzZXRGaWxlUHJvY2Vzc2luZ1N0YXR1cyhg4p2MIEhFSUMgY29udmVyc2lvbiBmYWlsZWQuIFBsZWFzZSB0cnkgYSBkaWZmZXJlbnQgaW1hZ2UgZm9ybWF0LmApO1xuICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gc2V0RmlsZVByb2Nlc3NpbmdTdGF0dXMobnVsbCksIDUwMDApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIEZhbGwgYmFjayB0byBhZGRpbmcgb3JpZ2luYWwgZmlsZXMgaWYgY29udmVyc2lvbiBmYWlsc1xuICAgICAgICAgIHNldFNlbGVjdGVkRmlsZXMocHJldkZpbGVzID0+IFsuLi5wcmV2RmlsZXMsIC4uLmZpbGVzXSk7XG4gICAgICAgICAgc2V0RmlsZVByb2Nlc3NpbmdTdGF0dXMobnVsbCk7IC8vIENsZWFyIHN0YXR1cyBvbiBlcnJvclxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBcbiAgICAgIGV2ZW50LnRhcmdldC52YWx1ZSA9ICcnOyAvLyBSZXNldCBmaWxlIGlucHV0IHRvIGFsbG93IHNlbGVjdGluZyB0aGUgc2FtZSBmaWxlIGFnYWluXG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IHJlbW92ZVNlbGVjdGVkRmlsZSA9IChmaWxlTmFtZVRvUmVtb3ZlOiBzdHJpbmcpID0+IHtcbiAgICBzZXRTZWxlY3RlZEZpbGVzKHByZXZGaWxlcyA9PiBwcmV2RmlsZXMuZmlsdGVyKGZpbGUgPT4gZmlsZS5uYW1lICE9PSBmaWxlTmFtZVRvUmVtb3ZlKSk7XG4gIH07XG5cbiAgY29uc3QgZmlsZVRvQmFzZTY0ID0gKGZpbGU6IEZpbGUpOiBQcm9taXNlPHN0cmluZz4gPT4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBjb25zdCByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xuICAgICAgcmVhZGVyLnJlYWRBc0RhdGFVUkwoZmlsZSk7XG4gICAgICByZWFkZXIub25sb2FkID0gKCkgPT4ge1xuICAgICAgICBjb25zdCByZXN1bHQgPSByZWFkZXIucmVzdWx0IGFzIHN0cmluZztcbiAgICAgICAgcmVzb2x2ZShyZXN1bHQuc3BsaXQoJywnKVsxXSk7IC8vIEdldCBkYXRhIHBhcnQgYWZ0ZXIgY29tbWFcbiAgICAgIH07XG4gICAgICByZWFkZXIub25lcnJvciA9IGVycm9yID0+IHJlamVjdChlcnJvcik7XG4gICAgfSk7XG4gIH07XG5cbiAgLy8gTkVXOiBVcGxvYWQgZmlsZXMgaW1tZWRpYXRlbHkgYW5kIGdldCBVUkxzXG4gIGNvbnN0IHVwbG9hZEZpbGVzID0gYXN5bmMgKGZpbGVzOiBGaWxlW10pOiBQcm9taXNlPHN0cmluZ1tdPiA9PiB7XG4gICAgY29uc3QgdXBsb2FkUHJvbWlzZXMgPSBmaWxlcy5tYXAoYXN5bmMgKGZpbGUpID0+IHtcbiAgICAgIGNvbnN0IGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7XG4gICAgICBmb3JtRGF0YS5hcHBlbmQoJ2ZpbGUnLCBmaWxlKTtcbiAgICAgIFxuICAgICAgLy8gQ2hlY2sgaWYgdGhpcyBmaWxlIG5lZWRzIHNlcnZlci1zaWRlIEhFSUMgY29udmVyc2lvblxuICAgICAgY29uc3QgbmVlZHNTZXJ2ZXJDb252ZXJzaW9uID0gKGZpbGUgYXMgYW55KS5uZWVkc1NlcnZlckNvbnZlcnNpb247XG4gICAgICBpZiAobmVlZHNTZXJ2ZXJDb252ZXJzaW9uKSB7XG4gICAgICAgIGZvcm1EYXRhLmFwcGVuZCgnY29udmVydF9oZWljJywgJ3RydWUnKTtcbiAgICAgICAgY29uc29sZS5sb2coYPCfk6QgVXBsb2FkaW5nIFwiJHtmaWxlLm5hbWV9XCIgZm9yIHNlcnZlci1zaWRlIEhFSUMgY29udmVyc2lvbi4uLmApO1xuICAgICAgfVxuICAgICAgXG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke0JBQ0tFTkRfQVBJX0JBU0VfVVJMfS91cGxvYWRgLCB7XG4gICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgYm9keTogZm9ybURhdGEsXG4gICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVXBsb2FkIGZhaWxlZDogJHtyZXNwb25zZS5zdGF0dXN9YCk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgXG4gICAgICAgIC8vIExvZyBzZXJ2ZXItc2lkZSBIRUlDIGNvbnZlcnNpb24gaWYgaXQgb2NjdXJyZWRcbiAgICAgICAgaWYgKHJlc3VsdC5jb252ZXJ0ZWRfZnJvbV9oZWljKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coYOKchSBTZXJ2ZXIgY29udmVydGVkIEhFSUMgZmlsZSBcIiR7cmVzdWx0Lm9yaWdpbmFsX2ZpbGVuYW1lfVwiIHRvIEpQRUc6IFwiJHtyZXN1bHQuZmlsZW5hbWV9XCJgKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgcmV0dXJuIHJlc3VsdC51cmw7IC8vIEJhY2tlbmQgc2hvdWxkIHJldHVybiB7IHVybDogXCIuLi5cIiB9XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKGBGYWlsZWQgdG8gdXBsb2FkICR7ZmlsZS5uYW1lfTpgLCBlcnJvcik7XG4gICAgICAgIHRocm93IGVycm9yO1xuICAgICAgfVxuICAgIH0pO1xuICAgIFxuICAgIHJldHVybiBQcm9taXNlLmFsbCh1cGxvYWRQcm9taXNlcyk7XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlU2VuZCA9IGFzeW5jIChlPzogRm9ybUV2ZW50PEhUTUxGb3JtRWxlbWVudD4gfCBSZWFjdC5Nb3VzZUV2ZW50PEhUTUxCdXR0b25FbGVtZW50PikgPT4ge1xuICAgIGlmIChlICYmIHR5cGVvZiAoZSBhcyBGb3JtRXZlbnQ8SFRNTEZvcm1FbGVtZW50PikucHJldmVudERlZmF1bHQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIChlIGFzIEZvcm1FdmVudDxIVE1MRm9ybUVsZW1lbnQ+KS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH1cbiAgICBcbiAgICBsZXQgY3VycmVudE1lc3NhZ2VUZXh0ID0gdXNlcklucHV0LnRyaW0oKTsgLy8gVXNlIGEgbXV0YWJsZSB2YXJpYWJsZSBmb3IgbWVzc2FnZSB0ZXh0XG4gICAgaWYgKCFjdXJyZW50TWVzc2FnZVRleHQgJiYgc2VsZWN0ZWRGaWxlcy5sZW5ndGggPT09IDApIHJldHVybjsgLy8gUmV0dXJuIGlmIG5vIHRleHQgYW5kIG5vIGZpbGVzXG5cbiAgICAvLyAtLS0gTkVXOiBVcGxvYWQgZmlsZXMgaW1tZWRpYXRlbHkgYW5kIGdldCBVUkxzIC0tLVxuICAgIGxldCBhdHRhY2htZW50VXJsczogc3RyaW5nW10gPSBbXTtcbiAgICBpZiAoc2VsZWN0ZWRGaWxlcy5sZW5ndGggPiAwKSB7XG4gICAgICB0cnkge1xuICAgICAgICBzZXRTdGF0dXMoJ1VwbG9hZGluZyBmaWxlcy4uLicpO1xuICAgICAgICBhdHRhY2htZW50VXJscyA9IGF3YWl0IHVwbG9hZEZpbGVzKHNlbGVjdGVkRmlsZXMpO1xuICAgICAgICBjb25zb2xlLmxvZygnRmlsZXMgdXBsb2FkZWQgc3VjY2Vzc2Z1bGx5OicsIGF0dGFjaG1lbnRVcmxzKTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZpbGUgdXBsb2FkIGZhaWxlZDonLCBlcnJvcik7XG4gICAgICAgIHNldFN0YXR1cygnUmVhZHknKTtcbiAgICAgICAgLy8gU2hvdyBlcnJvciB0byB1c2VyXG4gICAgICAgIGNvbnN0IGVycm9yTWVzc2FnZUlkID0gdXVpZHY0KCk7XG4gICAgICAgIHNldE1lc3NhZ2VzKHByZXYgPT4gW1xuICAgICAgICAgIC4uLnByZXYsXG4gICAgICAgICAge1xuICAgICAgICAgICAgaWQ6IGVycm9yTWVzc2FnZUlkLFxuICAgICAgICAgICAgc2VuZGVyOiAnYm90JyxcbiAgICAgICAgICAgIHBhcnRzOiBbe3R5cGU6IFwidGV4dFwiLCBpZDogdXVpZHY0KCksIGNvbnRlbnQ6IGA8c3Ryb25nIHN0eWxlPVwiY29sb3I6IHJlZDtcIj5VcGxvYWQgRXJyb3I6PC9zdHJvbmc+IEZhaWxlZCB0byB1cGxvYWQgZmlsZXMuIFBsZWFzZSB0cnkgYWdhaW4uYH1dLFxuICAgICAgICAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpLFxuICAgICAgICAgICAgdGhpbmtpbmc6IGZhbHNlLFxuICAgICAgICAgICAgaXNfZXJyb3JfbWVzc2FnZTogdHJ1ZVxuICAgICAgICAgIH1cbiAgICAgICAgXSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyAtLS0gTG9jYXRpb24gQXBwZW5kaW5nIExvZ2ljIC0tLVxuICAgIGxldCByZXNvbHZlZE9yaWdpbkZvclF1ZXJ5OiBzdHJpbmcgfCB1bmRlZmluZWQgPSB1bmRlZmluZWQ7XG4gICAgaWYgKHNlbmRMb2NhdGlvbikge1xuICAgICAgaWYgKGN1cnJlbnRVc2VyTG9jYXRpb24pIHtcbiAgICAgICAgcmVzb2x2ZWRPcmlnaW5Gb3JRdWVyeSA9IGN1cnJlbnRVc2VyTG9jYXRpb247XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnNvbGUubG9nKFwiQXR0ZW1wdGluZyB0byBnZXQgY3VycmVudCBsb2NhdGlvbiBiZWNhdXNlIHRvZ2dsZSBpcyBvbi4uLlwiKTtcbiAgICAgICAgICBjb25zdCBsb2NhdGlvbiA9IGF3YWl0IGdldEN1cnJlbnRMb2NhdGlvbigpO1xuICAgICAgICAgIHJlc29sdmVkT3JpZ2luRm9yUXVlcnkgPSBsb2NhdGlvbjtcbiAgICAgICAgICBjb25zb2xlLmxvZyhcIkN1cnJlbnQgbG9jYXRpb24gb2J0YWluZWQgZm9yIHF1ZXJ5OlwiLCBsb2NhdGlvbik7XG4gICAgICAgIH0gY2F0Y2ggKGxvY2F0aW9uRXJyb3I6IGFueSkge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBnZXR0aW5nIGxvY2F0aW9uIGZvciBxdWVyeTpcIiwgbG9jYXRpb25FcnJvcik7XG4gICAgICAgICAgLy8gRGlzcGxheSBlcnJvciB0byB1c2VyIGltbWVkaWF0ZWx5LCBzaW1pbGFyIHRvIGJlZm9yZSwgYnV0IHRpZWQgdG8gYm90J3MgdGhpbmtpbmcgbWVzc2FnZVxuICAgICAgICAgIGNvbnN0IHRlbXBCb3RNZXNzYWdlSWQgPSB1dWlkdjQoKTsgLy8gQ3JlYXRlIGEgdGVtcG9yYXJ5IElEIGZvciB0aGlzIGVycm9yIG1lc3NhZ2VcbiAgICAgICAgICBzZXRNZXNzYWdlcyhwcmV2ID0+IFtcbiAgICAgICAgICAgIC4uLnByZXYsIC8vIEtlZXAgcHJldmlvdXMgbWVzc2FnZXNcbiAgICAgICAgICAgIHsgLy8gQWRkIHRoZSB1c2VyJ3MgYXR0ZW1wdCAoaWYgYW55IHRleHQgd2FzIHR5cGVkKVxuICAgICAgICAgICAgICBpZDogdXVpZHY0KCksXG4gICAgICAgICAgICAgIHNlbmRlcjogXCJ1c2VyXCIsXG4gICAgICAgICAgICAgIHBhcnRzOiBjdXJyZW50TWVzc2FnZVRleHQgPyBbeyB0eXBlOiBcInRleHRcIiwgaWQ6IHV1aWR2NCgpLCBjb250ZW50OiBjdXJyZW50TWVzc2FnZVRleHQgfV0gOiBbXSxcbiAgICAgICAgICAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHsgLy8gQWRkIHRoZSBib3QncyBlcnJvciByZXNwb25zZVxuICAgICAgICAgICAgICBpZDogdGVtcEJvdE1lc3NhZ2VJZCxcbiAgICAgICAgICAgICAgc2VuZGVyOiAnYm90JyxcbiAgICAgICAgICAgICAgcGFydHM6IFt7dHlwZTogXCJ0ZXh0XCIsIGlkOiB1dWlkdjQoKSwgY29udGVudDogYDxzdHJvbmcgc3R5bGU9XFxcImNvbG9yOiByZWQ7XFxcIj5Mb2NhdGlvbiBFcnJvcjo8L3N0cm9uZz4gJHtsb2NhdGlvbkVycm9yfWB9XSxcbiAgICAgICAgICAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpLFxuICAgICAgICAgICAgICB0aGlua2luZzogZmFsc2UsXG4gICAgICAgICAgICAgIGlzX2Vycm9yX21lc3NhZ2U6IHRydWVcbiAgICAgICAgICAgIH1cbiAgICAgICAgICBdKTtcbiAgICAgICAgICBpZiAoc2hvd0luaXRpYWxWaWV3KSBzZXRTaG93SW5pdGlhbFZpZXcoZmFsc2UpO1xuICAgICAgICAgIHNldFVzZXJJbnB1dChcIlwiKTsgLy8gQ2xlYXIgaW5wdXRcbiAgICAgICAgICBzZXRTZWxlY3RlZEZpbGVzKFtdKTsgLy8gQ2xlYXIgZmlsZXNcbiAgICAgICAgICBzZXRTdGF0dXMoJ1JlYWR5Jyk7XG4gICAgICAgICAgcmV0dXJuOyBcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHJlc29sdmVkT3JpZ2luRm9yUXVlcnkpIHtcbiAgICAgICAgLy8gQXBwZW5kIHRvIHRoZSBtZXNzYWdlIHRleHQgdGhhdCB3aWxsIGJlIHNlbnRcbiAgICAgICAgY3VycmVudE1lc3NhZ2VUZXh0ID0gYCR7Y3VycmVudE1lc3NhZ2VUZXh0fSAoTXkgY3VycmVudCBsb2NhdGlvbiBpczogJHtyZXNvbHZlZE9yaWdpbkZvclF1ZXJ5fSlgO1xuICAgICAgfVxuICAgIH1cbiAgICAvLyAtLS0gRW5kIExvY2F0aW9uIEFwcGVuZGluZyBMb2dpYyAtLS1cblxuICAgIC8vIC0tLSBORVc6IEluY2x1ZGUgYXR0YWNobWVudCBVUkxzIGRpcmVjdGx5IGluIHRoZSBtZXNzYWdlIC0tLVxuICAgIGlmIChhdHRhY2htZW50VXJscy5sZW5ndGggPiAwKSB7XG4gICAgICBjb25zdCBhdHRhY2htZW50TGlzdCA9IGF0dGFjaG1lbnRVcmxzLm1hcCgodXJsLCBpbmRleCkgPT4ge1xuICAgICAgICBjb25zdCBmaWxlTmFtZSA9IHNlbGVjdGVkRmlsZXNbaW5kZXhdPy5uYW1lIHx8IGBBdHRhY2htZW50ICR7aW5kZXggKyAxfWA7XG4gICAgICAgIHJldHVybiBgLSAke2ZpbGVOYW1lfTogJHt1cmx9YDtcbiAgICAgIH0pLmpvaW4oJ1xcbicpO1xuICAgICAgXG4gICAgICBjdXJyZW50TWVzc2FnZVRleHQgKz0gYFxcblxcbkF0dGFjaGVkIGZpbGVzOlxcbiR7YXR0YWNobWVudExpc3R9YDtcbiAgICB9XG5cbiAgICBjb25zdCB1c2VyTWVzc2FnZUlkID0gdXVpZHY0KCk7XG4gICAgY29uc3QgdXNlck1lc3NhZ2VQYXJ0czogTWVzc2FnZVBhcnRbXSA9IFtdO1xuICAgIGlmIChjdXJyZW50TWVzc2FnZVRleHQpIHsgLy8gVXNlIHBvdGVudGlhbGx5IG1vZGlmaWVkIG1lc3NhZ2UgdGV4dFxuICAgICAgdXNlck1lc3NhZ2VQYXJ0cy5wdXNoKHsgdHlwZTogXCJ0ZXh0XCIsIGlkOiB1dWlkdjQoKSwgY29udGVudDogY3VycmVudE1lc3NhZ2VUZXh0IH0pO1xuICAgIH1cblxuICAgIGNvbnN0IHVzZXJNZXNzYWdlOiBNZXNzYWdlID0ge1xuICAgICAgaWQ6IHVzZXJNZXNzYWdlSWQsXG4gICAgICBzZW5kZXI6IFwidXNlclwiLFxuICAgICAgcGFydHM6IHVzZXJNZXNzYWdlUGFydHMsXG4gICAgICB0aW1lc3RhbXA6IERhdGUubm93KCksXG4gICAgfTtcbiAgICBzZXRNZXNzYWdlcygocHJldk1lc3NhZ2VzKSA9PiBbLi4ucHJldk1lc3NhZ2VzLCB1c2VyTWVzc2FnZV0pO1xuICAgIHNldFVzZXJJbnB1dChcIlwiKTsgXG4gICAgaWYgKHNob3dJbml0aWFsVmlldykgc2V0U2hvd0luaXRpYWxWaWV3KGZhbHNlKTtcblxuICAgIGNvbnN0IGJvdE1lc3NhZ2VJZCA9IHV1aWR2NCgpO1xuICAgIHNldE1lc3NhZ2VzKChwcmV2TWVzc2FnZXMpID0+IFtcbiAgICAgIC4uLnByZXZNZXNzYWdlcyxcbiAgICAgIHsgXG4gICAgICAgIGlkOiBib3RNZXNzYWdlSWQsIFxuICAgICAgICBzZW5kZXI6ICdib3QnLCBcbiAgICAgICAgcGFydHM6IFt7IHR5cGU6IFwidGhvdWdodF9zdW1tYXJ5XCIsIGlkOiB1dWlkdjQoKSwgY29udGVudDogXCJcIiB9XSxcbiAgICAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpLFxuICAgICAgICB0aGlua2luZzogdHJ1ZVxuICAgICAgfSxcbiAgICBdKTtcblxuICAgIHRyeSB7XG4gICAgICAvLyAtLS0gTkVXOiBTaW1wbGlmaWVkIHBheWxvYWQgd2l0aCBVUkxzIGluc3RlYWQgb2YgYmFzZTY0IC0tLVxuICAgICAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICAgICAgc2VuZGVyOiBhcGlTZW5kZXIsXG4gICAgICAgIHF1ZXJ5OiBjdXJyZW50TWVzc2FnZVRleHQsIC8vIFRoaXMgbm93IGluY2x1ZGVzIGF0dGFjaG1lbnQgVVJMc1xuICAgICAgICB0aW1lc3RhbXA6IERhdGUubm93KCksXG4gICAgICAgIHN0cmVhbTogdHJ1ZSxcbiAgICAgICAgbW9kZWw6IHNlbGVjdGVkTW9kZWwsXG4gICAgICAgIGF0dGFjaG1lbnRfdXJsczogYXR0YWNobWVudFVybHMubGVuZ3RoID4gMCA/IGF0dGFjaG1lbnRVcmxzIDogdW5kZWZpbmVkLCAvLyBORVc6IERpcmVjdCBVUkwgYXJyYXlcbiAgICAgIH07XG5cbiAgICAgIC8vIENsZWFyIHNlbGVjdGVkIGZpbGVzIG5vdyB0aGF0IHRoZXkncmUgdXBsb2FkZWQgYW5kIGluIHRoZSBtZXNzYWdlXG4gICAgICBzZXRTZWxlY3RlZEZpbGVzKFtdKTtcbiAgICAgIHNldFN0YXR1cygnUHJvY2Vzc2luZy4uLicpO1xuXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke0JBQ0tFTkRfQVBJX0JBU0VfVVJMfS9xdWVyeWAsIHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShwYXlsb2FkKSxcbiAgICAgIH0pO1xuXG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIGNvbnN0IGVycm9yVGV4dCA9IGF3YWl0IHJlc3BvbnNlLnRleHQoKTtcbiAgICAgICAgbGV0IGVycm9yRGV0YWlsID0gYEhUVFAgZXJyb3IhIHN0YXR1czogJHtyZXNwb25zZS5zdGF0dXN9YDtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGVycm9ySnNvbiA9IEpTT04ucGFyc2UoZXJyb3JUZXh0KTtcbiAgICAgICAgICAgIGVycm9yRGV0YWlsID0gZXJyb3JKc29uLmVycm9yIHx8IGVycm9ySnNvbi5kZXRhaWwgfHwgZXJyb3JEZXRhaWw7XG4gICAgICAgIH0gY2F0Y2ggKHBhcnNlRXJyb3IpIHtcbiAgICAgICAgICAgIGlmIChlcnJvclRleHQpIGVycm9yRGV0YWlsICs9IGAgLSAke2Vycm9yVGV4dH1gO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvckRldGFpbCk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIGlmICghcmVzcG9uc2UuYm9keSkgdGhyb3cgbmV3IEVycm9yKCdSZXNwb25zZSBib2R5IGlzIG51bGwnKTtcblxuICAgICAgY29uc3QgcmVhZGVyID0gcmVzcG9uc2UuYm9keS5nZXRSZWFkZXIoKTtcbiAgICAgIGNvbnN0IGRlY29kZXIgPSBuZXcgVGV4dERlY29kZXIoKTtcbiAgICAgIGxldCBidWZmZXIgPSBcIlwiOyAvLyBCdWZmZXIgZm9yIGFjY3VtdWxhdGluZyBzdHJlYW0gZGF0YVxuXG4gICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICBjb25zdCB7IGRvbmUsIHZhbHVlIH0gPSBhd2FpdCByZWFkZXIucmVhZCgpO1xuICAgICAgICBpZiAoZG9uZSkge1xuICAgICAgICAgICAgaWYgKGJ1ZmZlci50cmltKCkgIT09ICcnKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGFyc2VkQ2h1bmsgPSBKU09OLnBhcnNlKGJ1ZmZlcik7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdbUEFHRS5UU1hdIEZpbmFsIEJ1ZmZlciBDaHVuazonLCBKU09OLnN0cmluZ2lmeShwYXJzZWRDaHVuaykpO1xuICAgICAgICAgICAgICAgICAgICBpZiAocGFyc2VkQ2h1bmsudHlwZSA9PT0gJ3RleHRfY2h1bmsnICYmIHBhcnNlZENodW5rLmNvbnRlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldE1lc3NhZ2VzKHByZXYgPT4gcHJldi5tYXAobXNnID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobXNnLmlkID09PSBib3RNZXNzYWdlSWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGN1cnJlbnRDb250ZW50ID0gcGFyc2VkQ2h1bmsuY29udGVudDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG5ld1BhcnRzID0gWy4uLm1zZy5wYXJ0c107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGxhc3RQYXJ0ID0gbmV3UGFydHMubGVuZ3RoID4gMCA/IG5ld1BhcnRzW25ld1BhcnRzLmxlbmd0aCAtIDFdIDogbnVsbDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobGFzdFBhcnQgJiYgbGFzdFBhcnQudHlwZSA9PT0gXCJ0ZXh0XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRDb250ZW50ID0gbm9ybWFsaXplRnJhZ21lbnQoY3VycmVudENvbnRlbnQsIGxhc3RQYXJ0LmNvbnRlbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFzdFBhcnQuY29udGVudCArPSBjdXJyZW50Q29udGVudDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRDb250ZW50ID0gbm9ybWFsaXplRnJhZ21lbnQoY3VycmVudENvbnRlbnQsIFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3UGFydHMucHVzaCh7IHR5cGU6IFwidGV4dFwiLCBpZDogdXVpZHY0KCksIGNvbnRlbnQ6IGN1cnJlbnRDb250ZW50IH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7IC4uLm1zZywgcGFydHM6IG5ld1BhcnRzLCB0aGlua2luZzogdHJ1ZSB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbXNnO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHBhcnNlZENodW5rLnR5cGUgPT09ICd0aG91Z2h0X3N1bW1hcnknICYmIHBhcnNlZENodW5rLmNvbnRlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldE1lc3NhZ2VzKHByZXYgPT4gcHJldi5tYXAobXNnID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobXNnLmlkID09PSBib3RNZXNzYWdlSWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3UGFydHMgPSBtc2cucGFydHMubWFwKHBhcnQgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhcnQudHlwZSA9PT0gXCJ0aG91Z2h0X3N1bW1hcnlcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbnRlbnRGcm9tQ2h1bmsgPSBub3JtYWxpemVGcmFnbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyc2VkQ2h1bmsuY29udGVudCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFydC5jb250ZW50XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4geyAuLi5wYXJ0LCBjb250ZW50OiBwYXJ0LmNvbnRlbnQgKyBjb250ZW50RnJvbUNodW5rIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcGFydDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7IC4uLm1zZywgcGFydHM6IG5ld1BhcnRzLCB0aGlua2luZzogdHJ1ZSB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbXNnO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHBhcnNlZENodW5rLnR5cGUgPT09ICd0b29sX2NhbGxfcGVuZGluZycgJiYgcGFyc2VkQ2h1bmsubmFtZSAmJiBwYXJzZWRDaHVuay5hcmd1bWVudHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNhbGxfaWRfZnJvbV9jaHVuayA9IHBhcnNlZENodW5rLmNhbGxfaWQgfHwgYHRvb2wtJHt1dWlkdjQoKX1gO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0TWVzc2FnZXMocHJldiA9PiBwcmV2Lm1hcChtc2cgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtc2cuaWQgPT09IGJvdE1lc3NhZ2VJZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBleGlzdGluZ1Rvb2xDYWxsUGFydCA9IG1zZy5wYXJ0cy5maW5kKHBhcnQgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcnQudHlwZSA9PT0gXCJ0b29sX2NhbGxcIiAmJiBwYXJ0LnRvb2xDYWxsLmNhbGxfaWQgPT09IGNhbGxfaWRfZnJvbV9jaHVua1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXhpc3RpbmdUb29sQ2FsbFBhcnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBbUEFHRS5UU1hdIChmaW5hbCBidWZmZXIpIFRvb2wgY2FsbCB3aXRoIElEICR7Y2FsbF9pZF9mcm9tX2NodW5rfSBhbHJlYWR5IGV4aXN0cy4gSWdub3JpbmcgZHVwbGljYXRlIHBlbmRpbmcuYCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbXNnOyBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXdUb29sQ2FsbERhdGE6IFRvb2xDYWxsRGF0YSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxfaWQ6IGNhbGxfaWRfZnJvbV9jaHVuayxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IHBhcnNlZENodW5rLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmd1bWVudHM6IHR5cGVvZiBwYXJzZWRDaHVuay5hcmd1bWVudHMgPT09ICdzdHJpbmcnID8gcGFyc2VkQ2h1bmsuYXJndW1lbnRzIDogSlNPTi5zdHJpbmdpZnkocGFyc2VkQ2h1bmsuYXJndW1lbnRzKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1czogXCJQZW5kaW5nLi4uXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdbUEFHRS5UU1hdIChmaW5hbCBidWZmZXIpIFRvb2wgQ2FsbCBQZW5kaW5nIChOZXcpOicsIEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkobmV3VG9vbENhbGxEYXRhKSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXdQYXJ0cyA9IFsuLi5tc2cucGFydHNdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdQYXJ0cy5wdXNoKHsgdHlwZTogXCJ0b29sX2NhbGxcIiBhcyBjb25zdCwgaWQ6IHV1aWR2NCgpLCB0b29sQ2FsbDogbmV3VG9vbENhbGxEYXRhIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdQYXJ0cy5wdXNoKHsgdHlwZTogXCJ0ZXh0XCIgYXMgY29uc3QsIGlkOiB1dWlkdjQoKSwgY29udGVudDogXCJcIiB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgLi4ubXNnLCBwYXJ0czogbmV3UGFydHMsIHRoaW5raW5nOiB0cnVlIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBtc2c7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocGFyc2VkQ2h1bmsudHlwZSA9PT0gJ3Rvb2xfcmVzdWx0JyAmJiBwYXJzZWRDaHVuay5jYWxsX2lkICYmIHR5cGVvZiBwYXJzZWRDaHVuay5yZXN1bHQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgc2V0TWVzc2FnZXMocHJldiA9PiBwcmV2Lm1hcChtc2cgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtc2cuaWQgPT09IGJvdE1lc3NhZ2VJZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocGFyc2VkQ2h1bmsubmFtZSA9PT0gXCJnZXRfZGlyZWN0aW9uc1wiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIltQQUdFLlRTWF0gKEZpbmFsIEJ1ZmZlcikgUkFXIGdldF9kaXJlY3Rpb25zIHRvb2xfcmVzdWx0IENIVU5LOlwiLCBKU09OLnN0cmluZ2lmeShwYXJzZWRDaHVuaykpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBtYXRjaGVkVG9vbENhbGxJblBhcnRzID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG5ld1BhcnRzID0gbXNnLnBhcnRzLm1hcChwYXJ0ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYXJ0LnR5cGUgPT09IFwidG9vbF9jYWxsXCIgJiYgcGFydC50b29sQ2FsbC5jYWxsX2lkID09PSBwYXJzZWRDaHVuay5jYWxsX2lkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2hlZFRvb2xDYWxsSW5QYXJ0cyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGMgPSBwYXJ0LnRvb2xDYWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBmaW5hbFJlc3VsdCA9IHR5cGVvZiBwYXJzZWRDaHVuay5yZXN1bHQgPT09ICdzdHJpbmcnID8gcGFyc2VkQ2h1bmsucmVzdWx0IDogSlNPTi5zdHJpbmdpZnkocGFyc2VkQ2h1bmsucmVzdWx0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpc1BhcnRpYWwgPSB0eXBlb2YgcGFyc2VkQ2h1bmsuaXNfcGFydGlhbCA9PT0gJ2Jvb2xlYW4nID8gcGFyc2VkQ2h1bmsuaXNfcGFydGlhbCA6IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlzRXJyb3IgPSB0eXBlb2YgcGFyc2VkQ2h1bmsuaXNfZXJyb3IgPT09ICdib29sZWFuJyA/IHBhcnNlZENodW5rLmlzX2Vycm9yIDogZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3U3RhdHVzOiBUb29sQ2FsbERhdGFbJ3N0YXR1cyddID0gaXNQYXJ0aWFsID8gXCJTdHJlYW1pbmcuLi5cIiA6IChpc0Vycm9yID8gXCJFcnJvclwiIDogXCJDb21wbGV0ZWRcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdXBkYXRlZFRvb2xDYWxsOiBUb29sQ2FsbERhdGEgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLnRjLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQ6IGlzUGFydGlhbCAmJiB0Yy5yZXN1bHQgJiYgdGMuc3RhdHVzID09PSBcIlN0cmVhbWluZy4uLlwiID8gdGMucmVzdWx0ICsgJ1xcbi0tLVxcbicgKyBmaW5hbFJlc3VsdCA6IGZpbmFsUmVzdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IG5ld1N0YXR1cyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNfZXJyb3I6IGlzRXJyb3IsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzX3BhcnRpYWw6IGlzUGFydGlhbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0b29sUmVzcG9uc2UgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0Yy5uYW1lID09PSBcImdldF9kaXJlY3Rpb25zXCIgJiYgcGFyc2VkQ2h1bmsucmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEhhbmRsZSBib3RoIG9sZCB3cmFwcGVkIGZvcm1hdCBhbmQgbmV3IGRpcmVjdCBmb3JtYXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBwYXJzZWRDaHVuay5yZXN1bHQgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZXNwb25zZUtleSA9IGAke3RjLm5hbWV9X3Jlc3BvbnNlYDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYXJzZWRDaHVuay5yZXN1bHRbcmVzcG9uc2VLZXldKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gT2xkIHdyYXBwZWQgZm9ybWF0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9vbFJlc3BvbnNlID0gcGFyc2VkQ2h1bmsucmVzdWx0W3Jlc3BvbnNlS2V5XTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIltQQUdFLlRTWF0gKFN0cmVhbSBMb29wKSBVc2luZyB3cmFwcGVkIGZvcm1hdCBmb3IgZGlyZWN0aW9ucywgdG9vbFJlc3BvbnNlOlwiLCBKU09OLnN0cmluZ2lmeSh0b29sUmVzcG9uc2UpLnN1YnN0cmluZygwLCAyMDApICsgXCIuLi5cIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE5ldyBkaXJlY3QgZm9ybWF0IGZyb20gRmFzdE1DUFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvb2xSZXNwb25zZSA9IHBhcnNlZENodW5rLnJlc3VsdDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIltQQUdFLlRTWF0gKFN0cmVhbSBMb29wKSBVc2luZyBkaXJlY3QgZm9ybWF0IGZvciBkaXJlY3Rpb25zLCB0b29sUmVzcG9uc2U6XCIsIEpTT04uc3RyaW5naWZ5KHRvb2xSZXNwb25zZSkuc3Vic3RyaW5nKDAsIDIwMCkgKyBcIi4uLlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGMubmFtZSA9PT0gXCJnZXRfZGlyZWN0aW9uc1wiICYmIHRvb2xSZXNwb25zZSAmJiB0b29sUmVzcG9uc2Uuc3RhdHVzID09PSBcInN1Y2Nlc3NcIiAmJiB0b29sUmVzcG9uc2UuZGF0YSAmJiAhaXNFcnJvciAmJiAhaXNQYXJ0aWFsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiW1BBR0UuVFNYXSAoRmluYWwgQnVmZmVyKSBTZXR0aW5nIGRpcmVjdGlvbnNEYXRhIHdpdGg6XCIsIEpTT04uc3RyaW5naWZ5KHRvb2xSZXNwb25zZS5kYXRhKS5zdWJzdHJpbmcoMCwgMjAwKSArIFwiLi4uXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXREaXJlY3Rpb25zRGF0YSh0b29sUmVzcG9uc2UuZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldE1hcERpc3BsYXlLZXkocHJldktleSA9PiBwcmV2S2V5ICsgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldElzTWFwU2VjdGlvblZpc2libGUodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0Yy5uYW1lID09PSBcImdldF9kaXJlY3Rpb25zXCIgJiYgIXRvb2xSZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiW1BBR0UuVFNYXSAoRmluYWwgQnVmZmVyKSBFUlJPUjogZ2V0X2RpcmVjdGlvbnNfcmVzcG9uc2UgbWlzc2luZyFcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE5FVzogUHJvY2VzcyB0b29sIGNhbGwgZm9yIHByZXZpZXcgZXh0cmFjdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2Nlc3NUb29sQ2FsbEZvclByZXZpZXcodXBkYXRlZFRvb2xDYWxsLCBtc2cuaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE5FVzogV2ViIGFwcCBkZXRlY3Rpb24gbG9naWNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoKHRjLm5hbWUgPT09IFwiY3JlYXRlX3dlYl9hcHBcIiB8fCB0Yy5uYW1lID09PSBcImVkaXRfd2ViX2FwcFwiKSAmJiAhaXNFcnJvciAmJiAhaXNQYXJ0aWFsICYmIHRjLnJlc3VsdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0RGF0YSA9IHR5cGVvZiB0Yy5yZXN1bHQgPT09ICdzdHJpbmcnID8gSlNPTi5wYXJzZSh0Yy5yZXN1bHQpIDogdGMucmVzdWx0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdERhdGEuc3RhdHVzID09PSBcInN1Y2Nlc3NcIiAmJiByZXN1bHREYXRhLnVybCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiW1BBR0UuVFNYXSAoRmluYWwgQnVmZmVyKSBTZXR0aW5nIHdlYkFwcFVybCB3aXRoOlwiLCByZXN1bHREYXRhLnVybCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhpcyB3aWxsIGJlIHNldCBvbiB0aGUgbWVzc2FnZSBvYmplY3QgYmVsb3dcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFwiW1BBR0UuVFNYXSAoRmluYWwgQnVmZmVyKSBGYWlsZWQgdG8gcGFyc2Ugd2ViIGFwcCByZXN1bHQ6XCIsIGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE5FVzogSW1hZ2UgZ2VuZXJhdGlvbiBkZXRlY3Rpb24gbG9naWNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGMubmFtZSA9PT0gXCJnZW5lcmF0ZV9pbWFnZXNfd2l0aF9wcm9tcHRzXCIgJiYgIWlzRXJyb3IgJiYgIWlzUGFydGlhbCAmJiB0Yy5yZXN1bHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdERhdGEgPSB0eXBlb2YgdGMucmVzdWx0ID09PSAnc3RyaW5nJyA/IEpTT04ucGFyc2UodGMucmVzdWx0KSA6IHRjLnJlc3VsdDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHREYXRhLnN0YXR1cyA9PT0gXCJzdWNjZXNzXCIgJiYgcmVzdWx0RGF0YS5yZXN1bHRzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRXh0cmFjdCBhbGwgaW1hZ2UgVVJMcyBmcm9tIHRoZSByZXN1bHRzIGFycmF5XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaW1hZ2VVcmxzOiBzdHJpbmdbXSA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdERhdGEucmVzdWx0cy5mb3JFYWNoKChyZXN1bHRBcnJheTogYW55KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHJlc3VsdEFycmF5KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2VVcmxzLnB1c2goLi4ucmVzdWx0QXJyYXkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGltYWdlVXJscy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiW1BBR0UuVFNYXSAoU3RyZWFtIExvb3ApIFNldHRpbmcgZ2VuZXJhdGVkSW1hZ2VVcmxzIHdpdGg6XCIsIGltYWdlVXJscy5sZW5ndGgsIFwiaW1hZ2VzXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBUaGlzIHdpbGwgYmUgc2V0IG9uIHRoZSBtZXNzYWdlIG9iamVjdCBiZWxvd1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFwiW1BBR0UuVFNYXSAoU3RyZWFtIExvb3ApIEZhaWxlZCB0byBwYXJzZSBpbWFnZSBnZW5lcmF0aW9uIHJlc3VsdDpcIiwgZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgLi4ucGFydCwgdG9vbENhbGw6IHVwZGF0ZWRUb29sQ2FsbCB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBhcnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIW1hdGNoZWRUb29sQ2FsbEluUGFydHMpIHsgY29uc29sZS53YXJuKGBbUEFHRS5UU1hdIChGaW5hbCBCdWZmZXIpIFRvb2wgY2FsbCBpZCAke3BhcnNlZENodW5rLmNhbGxfaWR9IG5vdCBmb3VuZCBpbiAke21zZy5pZH1gKTsgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgdG9vbFJlc3BvbnNlID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhcnNlZENodW5rLm5hbWUgPT09IFwiZ2V0X2RpcmVjdGlvbnNcIiAmJiBwYXJzZWRDaHVuay5yZXN1bHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgcGFyc2VkQ2h1bmsucmVzdWx0ID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlS2V5ID0gYCR7cGFyc2VkQ2h1bmsubmFtZX1fcmVzcG9uc2VgO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYXJzZWRDaHVuay5yZXN1bHRbcmVzcG9uc2VLZXldKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvb2xSZXNwb25zZSA9IHBhcnNlZENodW5rLnJlc3VsdFtyZXNwb25zZUtleV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9vbFJlc3BvbnNlID0gcGFyc2VkQ2h1bmsucmVzdWx0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZmluYWxNc2dPYmplY3QgPSB7IC4uLm1zZywgcGFydHM6IG5ld1BhcnRzLCB0aGlua2luZzogdHJ1ZSB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJzZWRDaHVuay5uYW1lID09PSBcImdldF9kaXJlY3Rpb25zXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvb2xSZXNwb25zZSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgISh0eXBlb2YgcGFyc2VkQ2h1bmsuaXNfcGFydGlhbCA9PT0gJ2Jvb2xlYW4nICYmIHBhcnNlZENodW5rLmlzX3BhcnRpYWwpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAhKHR5cGVvZiBwYXJzZWRDaHVuay5pc19lcnJvciA9PT0gJ2Jvb2xlYW4nICYmIHBhcnNlZENodW5rLmlzX2Vycm9yKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9vbFJlc3BvbnNlLnN0YXR1cyA9PT0gXCJzdWNjZXNzXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvb2xSZXNwb25zZS5kYXRhXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmluYWxNc2dPYmplY3Quc2hvd01hcFRvZ2dsZUZvclRoaXNNZXNzYWdlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbmFsTXNnT2JqZWN0LmRpcmVjdGlvbnNEYXRhID0gdG9vbFJlc3BvbnNlLmRhdGE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIltQQUdFLlRTWF0gKEZpbmFsIEJ1ZmZlcikgU2V0dGluZyBtZXNzYWdlIGRpcmVjdGlvbnMgZGF0YTpcIiwgSlNPTi5zdHJpbmdpZnkodG9vbFJlc3BvbnNlLmRhdGEpLnN1YnN0cmluZygwLCAyMDApICsgXCIuLi5cIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gTkVXOiBXZWIgYXBwIG1lc3NhZ2Ugb2JqZWN0IHVwZGF0ZXNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKChwYXJzZWRDaHVuay5uYW1lID09PSBcImNyZWF0ZV93ZWJfYXBwXCIgfHwgcGFyc2VkQ2h1bmsubmFtZSA9PT0gXCJlZGl0X3dlYl9hcHBcIikgJiYgISh0eXBlb2YgcGFyc2VkQ2h1bmsuaXNfcGFydGlhbCA9PT0gJ2Jvb2xlYW4nICYmIHBhcnNlZENodW5rLmlzX3BhcnRpYWwpICYmICEodHlwZW9mIHBhcnNlZENodW5rLmlzX2Vycm9yID09PSAnYm9vbGVhbicgJiYgcGFyc2VkQ2h1bmsuaXNfZXJyb3IpICYmIHBhcnNlZENodW5rLnJlc3VsdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZXN1bHREYXRhID0gdHlwZW9mIHBhcnNlZENodW5rLnJlc3VsdCA9PT0gJ3N0cmluZycgPyBKU09OLnBhcnNlKHBhcnNlZENodW5rLnJlc3VsdCkgOiBwYXJzZWRDaHVuay5yZXN1bHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdERhdGEuc3RhdHVzID09PSBcInN1Y2Nlc3NcIiAmJiByZXN1bHREYXRhLnVybCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaW5hbE1zZ09iamVjdC5zaG93V2ViQXBwRm9yVGhpc01lc3NhZ2UgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaW5hbE1zZ09iamVjdC53ZWJBcHBVcmwgPSByZXN1bHREYXRhLnVybDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFwiW1BBR0UuVFNYXSAoRmluYWwgQnVmZmVyKSBGYWlsZWQgdG8gcGFyc2Ugd2ViIGFwcCByZXN1bHQgZm9yIG1lc3NhZ2U6XCIsIGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE5FVzogSW1hZ2UgZ2VuZXJhdGlvbiBtZXNzYWdlIG9iamVjdCB1cGRhdGVzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYXJzZWRDaHVuay5uYW1lID09PSBcImdlbmVyYXRlX2ltYWdlc193aXRoX3Byb21wdHNcIiAmJiAhKHR5cGVvZiBwYXJzZWRDaHVuay5pc19wYXJ0aWFsID09PSAnYm9vbGVhbicgJiYgcGFyc2VkQ2h1bmsuaXNfcGFydGlhbCkgJiYgISh0eXBlb2YgcGFyc2VkQ2h1bmsuaXNfZXJyb3IgPT09ICdib29sZWFuJyAmJiBwYXJzZWRDaHVuay5pc19lcnJvcikgJiYgcGFyc2VkQ2h1bmsucmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdERhdGEgPSB0eXBlb2YgcGFyc2VkQ2h1bmsucmVzdWx0ID09PSAnc3RyaW5nJyA/IEpTT04ucGFyc2UocGFyc2VkQ2h1bmsucmVzdWx0KSA6IHBhcnNlZENodW5rLnJlc3VsdDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0RGF0YS5zdGF0dXMgPT09IFwic3VjY2Vzc1wiICYmIHJlc3VsdERhdGEucmVzdWx0cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBFeHRyYWN0IGFsbCBpbWFnZSBVUkxzIGZyb20gdGhlIHJlc3VsdHMgYXJyYXlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaW1hZ2VVcmxzOiBzdHJpbmdbXSA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHREYXRhLnJlc3VsdHMuZm9yRWFjaCgocmVzdWx0QXJyYXk6IGFueSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkocmVzdWx0QXJyYXkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2VVcmxzLnB1c2goLi4ucmVzdWx0QXJyYXkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGltYWdlVXJscy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaW5hbE1zZ09iamVjdC5zaG93SW1hZ2VzRm9yVGhpc01lc3NhZ2UgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmluYWxNc2dPYmplY3QuZ2VuZXJhdGVkSW1hZ2VVcmxzID0gaW1hZ2VVcmxzO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJbUEFHRS5UU1hdIChGaW5hbCBCdWZmZXIpIFNldHRpbmcgZ2VuZXJhdGVkSW1hZ2VVcmxzIHdpdGg6XCIsIGltYWdlVXJscy5sZW5ndGgsIFwiaW1hZ2VzXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihcIltQQUdFLlRTWF0gKEZpbmFsIEJ1ZmZlcikgRmFpbGVkIHRvIHBhcnNlIGltYWdlIGdlbmVyYXRpb24gcmVzdWx0IGZvciBtZXNzYWdlOlwiLCBlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmluYWxNc2dPYmplY3Q7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBtc2c7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgICAgIH0gXG4gICAgICAgICAgICAgICAgICAgIC8vIC0tLS0gU1RBUlQ6IE5ldyBjaHVuayB0eXBlcyBmb3IgZmluYWwgYnVmZmVyIHByb2Nlc3NpbmcgLS0tLVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChwYXJzZWRDaHVuay50eXBlID09PSAndG9vbF9zYW1wbGVfdGV4dF9jaHVuaycgJiYgcGFyc2VkQ2h1bmsucGFyZW50X3Rvb2xfY2FsbF9pZCAmJiB0eXBlb2YgcGFyc2VkQ2h1bmsuY29udGVudCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldE1lc3NhZ2VzKHByZXYgPT4gcHJldi5tYXAobXNnID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobXNnLmlkID09PSBib3RNZXNzYWdlSWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3UGFydHMgPSBtc2cucGFydHMubWFwKHBhcnQgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhcnQudHlwZSA9PT0gXCJ0b29sX2NhbGxcIiAmJiBwYXJ0LnRvb2xDYWxsLmNhbGxfaWQgPT09IHBhcnNlZENodW5rLnBhcmVudF90b29sX2NhbGxfaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0YyA9IHBhcnQudG9vbENhbGw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY3VycmVudFBhaXJzID0gdGMuc2FtcGxlQ2FsbFBhaXJzIHx8IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBuZXdQYWlycztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudFBhaXJzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbGFzdFBhaXIgPSBjdXJyZW50UGFpcnNbY3VycmVudFBhaXJzLmxlbmd0aCAtIDFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDcmVhdGUgbmV3IHBhaXIgb2JqZWN0IHdpdGggdXBkYXRlZCBvdXRwdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdXBkYXRlZExhc3RQYWlyID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4ubGFzdFBhaXIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvdXRwdXQ6IChsYXN0UGFpci5vdXRwdXQgfHwgXCJcIikgKyBwYXJzZWRDaHVuay5jb250ZW50XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENyZWF0ZSBuZXcgYXJyYXkgd2l0aCB1cGRhdGVkIGxhc3QgcGFpclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdQYWlycyA9IFsuLi5jdXJyZW50UGFpcnMuc2xpY2UoMCwgLTEpLCB1cGRhdGVkTGFzdFBhaXJdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENyZWF0ZSBuZXcgcGFpclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdQYWlycyA9IFt7IGlkOiB1dWlkdjQoKSwgb3V0cHV0OiBwYXJzZWRDaHVuay5jb250ZW50IH1dO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgW1BBR0UuVFNYXSAoRmluYWwgQnVmZmVyKSBVcGRhdGVkIHNhbXBsZUNhbGxQYWlycyAob3V0cHV0KSBmb3IgJHtwYXJzZWRDaHVuay5wYXJlbnRfdG9vbF9jYWxsX2lkfTpgLCBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KG5ld1BhaXJzKSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7IC4uLnBhcnQsIHRvb2xDYWxsOiB7IC4uLnRjLCBzYW1wbGVDYWxsUGFpcnM6IG5ld1BhaXJzIH0gfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBwYXJ0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgLi4ubXNnLCBwYXJ0czogbmV3UGFydHMsIHRoaW5raW5nOiB0cnVlIH07IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbXNnO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHBhcnNlZENodW5rLnR5cGUgPT09ICd0b29sX3NhbXBsZV90aG91Z2h0X2NodW5rJyAmJiBwYXJzZWRDaHVuay5wYXJlbnRfdG9vbF9jYWxsX2lkICYmIHR5cGVvZiBwYXJzZWRDaHVuay5jb250ZW50ID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0TWVzc2FnZXMocHJldiA9PiBwcmV2Lm1hcChtc2cgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtc2cuaWQgPT09IGJvdE1lc3NhZ2VJZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXdQYXJ0cyA9IG1zZy5wYXJ0cy5tYXAocGFydCA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocGFydC50eXBlID09PSBcInRvb2xfY2FsbFwiICYmIHBhcnQudG9vbENhbGwuY2FsbF9pZCA9PT0gcGFyc2VkQ2h1bmsucGFyZW50X3Rvb2xfY2FsbF9pZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRjID0gcGFydC50b29sQ2FsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50UGFpcnMgPSB0Yy5zYW1wbGVDYWxsUGFpcnMgfHwgW107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG5ld1BhaXJzO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gSWYgbGFzdFBhaXIgZXhpc3RzIGFuZCBpcyBzdGlsbCAnb3BlbicgKG5vIG91dHB1dCB5ZXQpLCBhcHBlbmQgdGhvdWdodHMuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gT3RoZXJ3aXNlLCB0aGlzIGlzIGEgbmV3IHNhbXBsaW5nIGNhbGwncyB0aG91Z2h0cywgc28gY3JlYXRlIGEgbmV3IHBhaXIuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRQYWlycy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGxhc3RQYWlyID0gY3VycmVudFBhaXJzW2N1cnJlbnRQYWlycy5sZW5ndGggLSAxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBsYXN0UGFpci5vdXRwdXQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBVcGRhdGUgZXhpc3RpbmcgcGFpciB3aXRoIHRob3VnaHRzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB1cGRhdGVkTGFzdFBhaXIgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4ubGFzdFBhaXIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhvdWdodHM6IChsYXN0UGFpci50aG91Z2h0cyB8fCBcIlwiKSArIHBhcnNlZENodW5rLmNvbnRlbnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdQYWlycyA9IFsuLi5jdXJyZW50UGFpcnMuc2xpY2UoMCwgLTEpLCB1cGRhdGVkTGFzdFBhaXJdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ3JlYXRlIG5ldyBwYWlyIGZvciBuZXcgc2FtcGxpbmcgY2FsbFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3UGFpcnMgPSBbLi4uY3VycmVudFBhaXJzLCB7IGlkOiB1dWlkdjQoKSwgdGhvdWdodHM6IHBhcnNlZENodW5rLmNvbnRlbnQgfV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDcmVhdGUgZmlyc3QgcGFpclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdQYWlycyA9IFt7IGlkOiB1dWlkdjQoKSwgdGhvdWdodHM6IHBhcnNlZENodW5rLmNvbnRlbnQgfV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBbUEFHRS5UU1hdIChGaW5hbCBCdWZmZXIpIFVwZGF0ZWQgc2FtcGxlQ2FsbFBhaXJzICh0aG91Z2h0cykgZm9yICR7cGFyc2VkQ2h1bmsucGFyZW50X3Rvb2xfY2FsbF9pZH06YCwgSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShuZXdQYWlycykpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4geyAuLi5wYXJ0LCB0b29sQ2FsbDogeyAuLi50Yywgc2FtcGxlQ2FsbFBhaXJzOiBuZXdQYWlycyB9IH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcGFydDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7IC4uLm1zZywgcGFydHM6IG5ld1BhcnRzLCB0aGlua2luZzogdHJ1ZSB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbXNnO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIC0tLS0gRU5EOiBOZXcgY2h1bmsgdHlwZXMgZm9yIGZpbmFsIGJ1ZmZlciBwcm9jZXNzaW5nIC0tLS1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAocGFyc2VkQ2h1bmsudHlwZSA9PT0gJ3N0cmVhbV9lbmQnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRNZXNzYWdlcyhwcmV2ID0+IHByZXYubWFwKG1zZyA9PiBtc2cuaWQgPT09IGJvdE1lc3NhZ2VJZCA/IHsuLi5tc2csIHRoaW5raW5nOiBmYWxzZSB9IDogbXNnKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRTdGF0dXMoJ1JlYWR5Jyk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocGFyc2VkQ2h1bmsudHlwZSA9PT0gJ2Vycm9yJyAmJiBwYXJzZWRDaHVuay5jb250ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgc2V0TWVzc2FnZXMocHJldiA9PiBwcmV2Lm1hcChtc2cgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtc2cuaWQgPT09IGJvdE1lc3NhZ2VJZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBlcnJvclRleHRQYXJ0OiBNZXNzYWdlUGFydCA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwidGV4dFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IHV1aWR2NCgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogYDxzdHJvbmcgc3R5bGU9XCJjb2xvcjogcmVkO1wiPlN0cmVhbSBFcnJvcjo8L3N0cm9uZz4gJHtyZW5kZXJTYW5pdGl6ZWRNYXJrZG93bihwYXJzZWRDaHVuay5jb250ZW50KX1gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG5ld1BhcnRzID0gWy4uLm1zZy5wYXJ0cywgZXJyb3JUZXh0UGFydF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4ubXNnLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcnRzOiBuZXdQYXJ0cyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaW5raW5nOiBmYWxzZSwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc19lcnJvcl9tZXNzYWdlOiB0cnVlIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbXNnO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0U3RhdHVzKCdSZWFkeScpOyAvLyBSZXNldCBzdGF0dXMgYWZ0ZXIgZXJyb3JcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBwYXJzaW5nIGZpbmFsIHN0cmVhbSBjaHVuayBKU09OOicsIGVyciwgJ1JhdyBmaW5hbCBidWZmZXI6JywgYnVmZmVyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnW1BBR0UuVFNYXSBIVFRQIFJlc3BvbnNlIFN0cmVhbSBSZWFkZXIgZmluaXNoZWQuJyk7XG4gICAgICAgICAgICBzZXRNZXNzYWdlcyhwcmV2ID0+IHByZXYubWFwKG1zZyA9PiBtc2cuaWQgPT09IGJvdE1lc3NhZ2VJZCAmJiBtc2cudGhpbmtpbmcgPyB7Li4ubXNnLCB0aGlua2luZzogZmFsc2UgfSA6IG1zZykpO1xuICAgICAgICAgICAgaWYgKHN0YXR1cyAhPT0gJ1JlYWR5Jykgc2V0U3RhdHVzKCdSZWFkeScpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICBidWZmZXIgKz0gZGVjb2Rlci5kZWNvZGUodmFsdWUsIHsgc3RyZWFtOiB0cnVlIH0pO1xuICAgICAgICBsZXQgbmV3bGluZUluZGV4O1xuXG4gICAgICAgIHdoaWxlICgobmV3bGluZUluZGV4ID0gYnVmZmVyLmluZGV4T2YoJ1xcbicpKSA+PSAwKSB7XG4gICAgICAgICAgICBjb25zdCBsaW5lID0gYnVmZmVyLnN1YnN0cmluZygwLCBuZXdsaW5lSW5kZXgpO1xuICAgICAgICAgICAgYnVmZmVyID0gYnVmZmVyLnN1YnN0cmluZyhuZXdsaW5lSW5kZXggKyAxKTtcblxuICAgICAgICAgICAgaWYgKGxpbmUudHJpbSgpID09PSAnJykgY29udGludWU7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHBhcnNlZENodW5rID0gSlNPTi5wYXJzZShsaW5lKTtcbiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnW1BBR0UuVFNYXSBTdHJlYW1lZCBDaHVuazonLCBKU09OLnN0cmluZ2lmeShwYXJzZWRDaHVuaykpOyAvLyBHZW5lcmFsIGxvZyBleGlzdHNcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGlmIChwYXJzZWRDaHVuay50eXBlID09PSAndGV4dF9jaHVuaycgJiYgcGFyc2VkQ2h1bmsuY29udGVudCkge1xuICAgICAgICAgICAgICAgICAgICBzZXRNZXNzYWdlcyhwcmV2ID0+IHByZXYubWFwKG1zZyA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobXNnLmlkID09PSBib3RNZXNzYWdlSWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgW1BBR0UuVFNYXSBVcGRhdGluZyBtZXNzYWdlICR7bXNnLmlkfSB3aXRoIHRleHRfY2h1bmsgKHN0cmVhbSBsb29wKS4gQ3VycmVudCBwYXJ0czpgLCBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KG1zZy5wYXJ0cykpKTsgLy8gREVFUCBDT1BZIExPR0dJTkdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXdQYXJ0cyA9IFsuLi5tc2cucGFydHNdOyAvLyBTaGFsbG93IGNvcHkgb2YgcGFydHMgYXJyYXlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBsYXN0UGFydEluZGV4ID0gbmV3UGFydHMubGVuZ3RoID4gMCA/IG5ld1BhcnRzLmxlbmd0aCAtIDEgOiAtMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBsYXN0UGFydCA9IGxhc3RQYXJ0SW5kZXggIT09IC0xID8gbmV3UGFydHNbbGFzdFBhcnRJbmRleF0gOiBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE5vcm1hbGl6ZSB0aGUgaW5jb21pbmcgY2h1bmsncyBjb250ZW50LlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRoZSBzZWNvbmQgYXJndW1lbnQgdG8gbm9ybWFsaXplRnJhZ21lbnQgd2FzIGxhc3RQYXJ0LmNvbnRlbnQgb3IgXCJcIiBpbiB0aGUgb3JpZ2luYWwgbG9naWMuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY29udGVudEZyb21DaHVuayA9IG5vcm1hbGl6ZUZyYWdtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJzZWRDaHVuay5jb250ZW50LCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFzdFBhcnQgJiYgbGFzdFBhcnQudHlwZSA9PT0gXCJ0ZXh0XCIgPyBsYXN0UGFydC5jb250ZW50IDogXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobGFzdFBhcnQgJiYgbGFzdFBhcnQudHlwZSA9PT0gXCJ0ZXh0XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVXBkYXRlIHRoZSBsYXN0IHBhcnQgaW1tdXRhYmx5IGJ5IGNyZWF0aW5nIGEgbmV3IG9iamVjdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdQYXJ0c1tsYXN0UGFydEluZGV4XSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLihsYXN0UGFydCBhcyB7IHR5cGU6IFwidGV4dFwiOyBpZDogc3RyaW5nOyBjb250ZW50OiBzdHJpbmcgfSksIC8vIEVuc3VyZSBjb3JyZWN0IHR5cGUgZm9yIHNwcmVhZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogbGFzdFBhcnQuY29udGVudCArIGNvbnRlbnRGcm9tQ2h1bmsgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQWRkIGEgbmV3IHRleHQgcGFydCBpZiBubyBwcmV2aW91cyB0ZXh0IHBhcnQgb3IgcGFydHMgYXJyYXkgaXMgZW1wdHlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3UGFydHMucHVzaCh7IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJ0ZXh0XCIsIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IHV1aWR2NCgpLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IGNvbnRlbnRGcm9tQ2h1bmsgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4geyAuLi5tc2csIHBhcnRzOiBuZXdQYXJ0cywgdGhpbmtpbmc6IHRydWUgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBtc2c7XG4gICAgICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHBhcnNlZENodW5rLnR5cGUgPT09ICd0aG91Z2h0X3N1bW1hcnknICYmIHBhcnNlZENodW5rLmNvbnRlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgc2V0TWVzc2FnZXMocHJldiA9PiBwcmV2Lm1hcChtc2cgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1zZy5pZCA9PT0gYm90TWVzc2FnZUlkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coYFtQQUdFLlRTWF0gVXBkYXRpbmcgbWVzc2FnZSAke21zZy5pZH0gd2l0aCB0aG91Z2h0X3N1bW1hcnkuIEN1cnJlbnQgcGFydHM6YCwgSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShtc2cucGFydHMpKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3UGFydHMgPSBbLi4ubXNnLnBhcnRzXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBsYXN0UGFydEluZGV4ID0gbmV3UGFydHMubGVuZ3RoID4gMCA/IG5ld1BhcnRzLmxlbmd0aCAtIDEgOiAtMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBsYXN0UGFydCA9IGxhc3RQYXJ0SW5kZXggIT09IC0xID8gbmV3UGFydHNbbGFzdFBhcnRJbmRleF0gOiBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbnRlbnRGcm9tQ2h1bmsgPSBub3JtYWxpemVGcmFnbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyc2VkQ2h1bmsuY29udGVudCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFzdFBhcnQgJiYgbGFzdFBhcnQudHlwZSA9PT0gXCJ0aG91Z2h0X3N1bW1hcnlcIiA/IGxhc3RQYXJ0LmNvbnRlbnQgOiBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsYXN0UGFydCAmJiBsYXN0UGFydC50eXBlID09PSBcInRob3VnaHRfc3VtbWFyeVwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld1BhcnRzW2xhc3RQYXJ0SW5kZXhdID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uKGxhc3RQYXJ0IGFzIHsgdHlwZTogXCJ0aG91Z2h0X3N1bW1hcnlcIjsgaWQ6IHN0cmluZzsgY29udGVudDogc3RyaW5nIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogbGFzdFBhcnQuY29udGVudCArIGNvbnRlbnRGcm9tQ2h1bmtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdQYXJ0cy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwidGhvdWdodF9zdW1tYXJ5XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogdXVpZHY0KCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiBjb250ZW50RnJvbUNodW5rXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4geyAuLi5tc2csIHBhcnRzOiBuZXdQYXJ0cywgdGhpbmtpbmc6IHRydWUgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBtc2c7XG4gICAgICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHBhcnNlZENodW5rLnR5cGUgPT09ICd0b29sX2NhbGxfcGVuZGluZycgJiYgcGFyc2VkQ2h1bmsubmFtZSAmJiBwYXJzZWRDaHVuay5hcmd1bWVudHMpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY2FsbF9pZF9mcm9tX2NodW5rID0gcGFyc2VkQ2h1bmsuY2FsbF9pZCB8fCBgdG9vbC0ke3V1aWR2NCgpfWA7XG4gICAgICAgICAgICAgICAgICAgIHNldE1lc3NhZ2VzKHByZXYgPT4gcHJldi5tYXAobXNnID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtc2cuaWQgPT09IGJvdE1lc3NhZ2VJZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGV4aXN0aW5nVG9vbENhbGxQYXJ0ID0gbXNnLnBhcnRzLmZpbmQocGFydCA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJ0LnR5cGUgPT09IFwidG9vbF9jYWxsXCIgJiYgcGFydC50b29sQ2FsbC5jYWxsX2lkID09PSBjYWxsX2lkX2Zyb21fY2h1bmtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGV4aXN0aW5nVG9vbENhbGxQYXJ0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBbUEFHRS5UU1hdIChzdHJlYW0gbG9vcCkgVG9vbCBjYWxsIHdpdGggSUQgJHtjYWxsX2lkX2Zyb21fY2h1bmt9IGFscmVhZHkgZXhpc3RzIGluIHBlbmRpbmcgc3RhdGUuIElnbm9yaW5nIGR1cGxpY2F0ZSBwZW5kaW5nIG1lc3NhZ2UuYCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBtc2c7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3VG9vbENhbGxEYXRhOiBUb29sQ2FsbERhdGEgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxfaWQ6IGNhbGxfaWRfZnJvbV9jaHVuayxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogcGFyc2VkQ2h1bmsubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJndW1lbnRzOiB0eXBlb2YgcGFyc2VkQ2h1bmsuYXJndW1lbnRzID09PSAnc3RyaW5nJyA/IHBhcnNlZENodW5rLmFyZ3VtZW50cyA6IEpTT04uc3RyaW5naWZ5KHBhcnNlZENodW5rLmFyZ3VtZW50cyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1czogXCJQZW5kaW5nLi4uXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnW1BBR0UuVFNYXSBUb29sIENhbGwgUGVuZGluZyAoTmV3KTonLCBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KG5ld1Rvb2xDYWxsRGF0YSkpKTsgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3UGFydHMgPSBbLi4ubXNnLnBhcnRzXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdQYXJ0cy5wdXNoKHsgdHlwZTogXCJ0b29sX2NhbGxcIiBhcyBjb25zdCwgaWQ6IHV1aWR2NCgpLCB0b29sQ2FsbDogbmV3VG9vbENhbGxEYXRhIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld1BhcnRzLnB1c2goeyB0eXBlOiBcInRleHRcIiBhcyBjb25zdCwgaWQ6IHV1aWR2NCgpLCBjb250ZW50OiBcIlwiIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7IC4uLm1zZywgcGFydHM6IG5ld1BhcnRzLCB0aGlua2luZzogdHJ1ZSB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1zZztcbiAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocGFyc2VkQ2h1bmsudHlwZSA9PT0gJ3Rvb2xfcmVzdWx0JyAmJiBwYXJzZWRDaHVuay5jYWxsX2lkICYmIHR5cGVvZiBwYXJzZWRDaHVuay5yZXN1bHQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdbUEFHRS5UU1hdIFJlY2VpdmVkIHRvb2xfcmVzdWx0IGNodW5rOicsIEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkocGFyc2VkQ2h1bmspKSk7IC8vIERFRVAgQ09QWSBMT0dHSU5HXG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXJzZWRDaHVuay5uYW1lID09PSBcImdldF9kaXJlY3Rpb25zXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiW1BBR0UuVFNYXSBSQVcgZ2V0X2RpcmVjdGlvbnMgdG9vbF9yZXN1bHQgQ0hVTksgKHJlcGVhdGVkIGJsb2NrKTpcIiwgSlNPTi5zdHJpbmdpZnkocGFyc2VkQ2h1bmspKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhgW1BBR0UuVFNYXSBQYXJzZWQgY2h1bmsgaXNfcGFydGlhbCB2YWx1ZTogJHtwYXJzZWRDaHVuay5pc19wYXJ0aWFsfWApOyAvLyBLZWVwIGZvciBkZWJ1Z2dpbmcgaWYgbmVlZGVkXG5cbiAgICAgICAgICAgICAgICAgICAgc2V0TWVzc2FnZXMocHJldiA9PiBwcmV2Lm1hcChtc2cgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1zZy5pZCA9PT0gYm90TWVzc2FnZUlkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coYFtQQUdFLlRTWF0gVXBkYXRpbmcgbWVzc2FnZSAke21zZy5pZH0gd2l0aCB0b29sX3Jlc3VsdC4gQ3VycmVudCBwYXJ0czpgLCBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KG1zZy5wYXJ0cykpKTsgLy8gREVFUCBDT1BZIExPR0dJTkdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgbWF0Y2hlZFRvb2xDYWxsSW5QYXJ0cyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG5ld1BhcnRzID0gbXNnLnBhcnRzLm1hcChwYXJ0ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhcnQudHlwZSA9PT0gXCJ0b29sX2NhbGxcIiAmJiBwYXJ0LnRvb2xDYWxsLmNhbGxfaWQgPT09IHBhcnNlZENodW5rLmNhbGxfaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoZWRUb29sQ2FsbEluUGFydHMgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGMgPSBwYXJ0LnRvb2xDYWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coYFtQQUdFLlRTWF0gRXhpc3RpbmcgdG9vbCBjYWxsIGRhdGEgZm9yICR7dGMuY2FsbF9pZH06YCwgSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh0YykpKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGZpbmFsUmVzdWx0ID0gdHlwZW9mIHBhcnNlZENodW5rLnJlc3VsdCA9PT0gJ3N0cmluZycgPyBwYXJzZWRDaHVuay5yZXN1bHQgOiBKU09OLnN0cmluZ2lmeShwYXJzZWRDaHVuay5yZXN1bHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaXNQYXJ0aWFsID0gdHlwZW9mIHBhcnNlZENodW5rLmlzX3BhcnRpYWwgPT09ICdib29sZWFuJyA/IHBhcnNlZENodW5rLmlzX3BhcnRpYWwgOiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlzRXJyb3IgPSB0eXBlb2YgcGFyc2VkQ2h1bmsuaXNfZXJyb3IgPT09ICdib29sZWFuJyA/IHBhcnNlZENodW5rLmlzX2Vycm9yIDogZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXdTdGF0dXM6IFRvb2xDYWxsRGF0YVsnc3RhdHVzJ10gPSBpc1BhcnRpYWwgPyBcIlN0cmVhbWluZy4uLlwiIDogKGlzRXJyb3IgPyBcIkVycm9yXCIgOiBcIkNvbXBsZXRlZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coYFtQQUdFLlRTWF0gVXBkYXRpbmcgdG9vbDogJHt0Yy5jYWxsX2lkfSwgTmV3IFN0YXR1czogJHtuZXdTdGF0dXN9LCBJcyBQYXJ0aWFsIChkZXJpdmVkKTogJHtpc1BhcnRpYWx9LCBJcyBFcnJvciAoZGVyaXZlZCk6ICR7aXNFcnJvcn1gKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdXBkYXRlZFRvb2xDYWxsOiBUb29sQ2FsbERhdGEgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4udGMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0OiBpc1BhcnRpYWwgJiYgdGMucmVzdWx0ICYmIHRjLnN0YXR1cyA9PT0gXCJTdHJlYW1pbmcuLi5cIiA/IHRjLnJlc3VsdCArICdcXG4tLS1cXG4nICsgZmluYWxSZXN1bHQgOiBmaW5hbFJlc3VsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IG5ld1N0YXR1cyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc19lcnJvcjogaXNFcnJvcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc19wYXJ0aWFsOiBpc1BhcnRpYWwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coYFtQQUdFLlRTWF0gTmV3IHRvb2wgY2FsbCBkYXRhIGZvciAke3RjLmNhbGxfaWR9OmAsIEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodXBkYXRlZFRvb2xDYWxsKSkpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAtLS0gTkVXOiBFeHRyYWN0IGdldF9kaXJlY3Rpb25zX3Jlc3BvbnNlIC0tLVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHRvb2xSZXNwb25zZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGMubmFtZSA9PT0gXCJnZXRfZGlyZWN0aW9uc1wiICYmIHBhcnNlZENodW5rLnJlc3VsdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEhhbmRsZSBib3RoIG9sZCB3cmFwcGVkIGZvcm1hdCBhbmQgbmV3IGRpcmVjdCBmb3JtYXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHBhcnNlZENodW5rLnJlc3VsdCA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzcG9uc2VLZXkgPSBgJHt0Yy5uYW1lfV9yZXNwb25zZWA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYXJzZWRDaHVuay5yZXN1bHRbcmVzcG9uc2VLZXldKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBPbGQgd3JhcHBlZCBmb3JtYXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvb2xSZXNwb25zZSA9IHBhcnNlZENodW5rLnJlc3VsdFtyZXNwb25zZUtleV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIltQQUdFLlRTWF0gKFN0cmVhbSBMb29wKSBVc2luZyB3cmFwcGVkIGZvcm1hdCBmb3IgZGlyZWN0aW9ucywgdG9vbFJlc3BvbnNlOlwiLCBKU09OLnN0cmluZ2lmeSh0b29sUmVzcG9uc2UpLnN1YnN0cmluZygwLCAyMDApICsgXCIuLi5cIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBOZXcgZGlyZWN0IGZvcm1hdCBmcm9tIEZhc3RNQ1BcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvb2xSZXNwb25zZSA9IHBhcnNlZENodW5rLnJlc3VsdDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiW1BBR0UuVFNYXSAoU3RyZWFtIExvb3ApIFVzaW5nIGRpcmVjdCBmb3JtYXQgZm9yIGRpcmVjdGlvbnMsIHRvb2xSZXNwb25zZTpcIiwgSlNPTi5zdHJpbmdpZnkodG9vbFJlc3BvbnNlKS5zdWJzdHJpbmcoMCwgMjAwKSArIFwiLi4uXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gLS0tIEVORCBORVcgLS0tXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIElmIHRoaXMgaXMgdGhlIGZpbmFsIHJlc3VsdCBmb3IgZ2V0X2RpcmVjdGlvbnMsIHNldCBtYXAgZGF0YVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRjLm5hbWUgPT09IFwiZ2V0X2RpcmVjdGlvbnNcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvb2xSZXNwb25zZSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvb2xSZXNwb25zZS5zdGF0dXMgPT09IFwic3VjY2Vzc1wiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9vbFJlc3BvbnNlLmRhdGEgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAhaXNFcnJvciAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICFpc1BhcnRpYWxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiW1BBR0UuVFNYXSAoU3RyZWFtIExvb3ApIFNldHRpbmcgZGlyZWN0aW9uc0RhdGEgd2l0aDpcIiwgSlNPTi5zdHJpbmdpZnkodG9vbFJlc3BvbnNlLmRhdGEpLnN1YnN0cmluZygwLCAyMDApICsgXCIuLi5cIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0RGlyZWN0aW9uc0RhdGEodG9vbFJlc3BvbnNlLmRhdGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldE1hcERpc3BsYXlLZXkocHJldktleSA9PiBwcmV2S2V5ICsgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0SXNNYXBTZWN0aW9uVmlzaWJsZSh0cnVlKTsgLy8gTU9ESUZJRUQ6IFNob3cgbWFwIHNlY3Rpb24gYXV0b21hdGljYWxseVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0Yy5uYW1lID09PSBcImdldF9kaXJlY3Rpb25zXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAhdG9vbFJlc3BvbnNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIltQQUdFLlRTWF0gRVJST1IgKHN0cmVhbSBsb29wKTogZ2V0X2RpcmVjdGlvbnNfcmVzcG9uc2UgbWlzc2luZyBpbiBwYXJzZWRDaHVuay5yZXN1bHQhXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBORVc6IFdlYiBhcHAgZGV0ZWN0aW9uIGxvZ2ljXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoKHRjLm5hbWUgPT09IFwiY3JlYXRlX3dlYl9hcHBcIiB8fCB0Yy5uYW1lID09PSBcImVkaXRfd2ViX2FwcFwiKSAmJiAhaXNFcnJvciAmJiAhaXNQYXJ0aWFsICYmIHRjLnJlc3VsdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdERhdGEgPSB0eXBlb2YgdGMucmVzdWx0ID09PSAnc3RyaW5nJyA/IEpTT04ucGFyc2UodGMucmVzdWx0KSA6IHRjLnJlc3VsdDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdERhdGEuc3RhdHVzID09PSBcInN1Y2Nlc3NcIiAmJiByZXN1bHREYXRhLnVybCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJbUEFHRS5UU1hdIChGaW5hbCBCdWZmZXIpIFNldHRpbmcgd2ViQXBwVXJsIHdpdGg6XCIsIHJlc3VsdERhdGEudXJsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRoaXMgd2lsbCBiZSBzZXQgb24gdGhlIG1lc3NhZ2Ugb2JqZWN0IGJlbG93XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihcIltQQUdFLlRTWF0gKEZpbmFsIEJ1ZmZlcikgRmFpbGVkIHRvIHBhcnNlIHdlYiBhcHAgcmVzdWx0OlwiLCBlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE5FVzogSW1hZ2UgZ2VuZXJhdGlvbiBkZXRlY3Rpb24gbG9naWNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0Yy5uYW1lID09PSBcImdlbmVyYXRlX2ltYWdlc193aXRoX3Byb21wdHNcIiAmJiAhaXNFcnJvciAmJiAhaXNQYXJ0aWFsICYmIHRjLnJlc3VsdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdERhdGEgPSB0eXBlb2YgdGMucmVzdWx0ID09PSAnc3RyaW5nJyA/IEpTT04ucGFyc2UodGMucmVzdWx0KSA6IHRjLnJlc3VsdDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdERhdGEuc3RhdHVzID09PSBcInN1Y2Nlc3NcIiAmJiByZXN1bHREYXRhLnJlc3VsdHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEV4dHJhY3QgYWxsIGltYWdlIFVSTHMgZnJvbSB0aGUgcmVzdWx0cyBhcnJheVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaW1hZ2VVcmxzOiBzdHJpbmdbXSA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0RGF0YS5yZXN1bHRzLmZvckVhY2goKHJlc3VsdEFycmF5OiBhbnkpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShyZXN1bHRBcnJheSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2VVcmxzLnB1c2goLi4ucmVzdWx0QXJyYXkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGltYWdlVXJscy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJbUEFHRS5UU1hdIChTdHJlYW0gTG9vcCkgU2V0dGluZyBnZW5lcmF0ZWRJbWFnZVVybHMgd2l0aDpcIiwgaW1hZ2VVcmxzLmxlbmd0aCwgXCJpbWFnZXNcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhpcyB3aWxsIGJlIHNldCBvbiB0aGUgbWVzc2FnZSBvYmplY3QgYmVsb3dcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFwiW1BBR0UuVFNYXSAoU3RyZWFtIExvb3ApIEZhaWxlZCB0byBwYXJzZSBpbWFnZSBnZW5lcmF0aW9uIHJlc3VsdDpcIiwgZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBORVc6IFByb2Nlc3MgdG9vbCBjYWxsIGZvciBwcmV2aWV3IGV4dHJhY3Rpb24gKHN0cmVhbWluZyBsb29wKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvY2Vzc1Rvb2xDYWxsRm9yUHJldmlldyh1cGRhdGVkVG9vbENhbGwsIG1zZy5pZCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7IC4uLnBhcnQsIHRvb2xDYWxsOiB1cGRhdGVkVG9vbENhbGwgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcGFydDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIW1hdGNoZWRUb29sQ2FsbEluUGFydHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYFtQQUdFLlRTWF0gKHN0cmVhbSBsb29wKSBUb29sIGNhbGwgd2l0aCBpZCAke3BhcnNlZENodW5rLmNhbGxfaWR9IG5vdCBmb3VuZCBpbiBtZXNzYWdlICR7bXNnLmlkfSBwYXJ0c2BcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAtLS0gTkVXOiBBdHRhY2ggZGlyZWN0aW9uc0RhdGEgdG8gbWVzc2FnZSBmb3IgcmVuZGVyaW5nIC0tLVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0b29sUmVzcG9uc2UgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYXJzZWRDaHVuay5uYW1lID09PSBcImdldF9kaXJlY3Rpb25zXCIgJiYgcGFyc2VkQ2h1bmsucmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBIYW5kbGUgYm90aCBvbGQgd3JhcHBlZCBmb3JtYXQgYW5kIG5ldyBkaXJlY3QgZm9ybWF0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHBhcnNlZENodW5rLnJlc3VsdCA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZXNwb25zZUtleSA9IGAke3BhcnNlZENodW5rLm5hbWV9X3Jlc3BvbnNlYDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocGFyc2VkQ2h1bmsucmVzdWx0W3Jlc3BvbnNlS2V5XSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBPbGQgd3JhcHBlZCBmb3JtYXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9vbFJlc3BvbnNlID0gcGFyc2VkQ2h1bmsucmVzdWx0W3Jlc3BvbnNlS2V5XTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJbUEFHRS5UU1hdIChTdHJlYW0gTG9vcCBNZXNzYWdlKSBVc2luZyB3cmFwcGVkIGZvcm1hdCBmb3IgZGlyZWN0aW9ucywgdG9vbFJlc3BvbnNlOlwiLCBKU09OLnN0cmluZ2lmeSh0b29sUmVzcG9uc2UpLnN1YnN0cmluZygwLCAyMDApICsgXCIuLi5cIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gTmV3IGRpcmVjdCBmb3JtYXQgZnJvbSBGYXN0TUNQXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvb2xSZXNwb25zZSA9IHBhcnNlZENodW5rLnJlc3VsdDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJbUEFHRS5UU1hdIChTdHJlYW0gTG9vcCBNZXNzYWdlKSBVc2luZyBkaXJlY3QgZm9ybWF0IGZvciBkaXJlY3Rpb25zLCB0b29sUmVzcG9uc2U6XCIsIEpTT04uc3RyaW5naWZ5KHRvb2xSZXNwb25zZSkuc3Vic3RyaW5nKDAsIDIwMCkgKyBcIi4uLlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZmluYWxNc2dPYmplY3QgPSB7IC4uLm1zZywgcGFydHM6IG5ld1BhcnRzLCB0aGlua2luZzogdHJ1ZSB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyc2VkQ2h1bmsubmFtZSA9PT0gXCJnZXRfZGlyZWN0aW9uc1wiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvb2xSZXNwb25zZSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAhKHR5cGVvZiBwYXJzZWRDaHVuay5pc19wYXJ0aWFsID09PSAnYm9vbGVhbicgJiYgcGFyc2VkQ2h1bmsuaXNfcGFydGlhbCkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgISh0eXBlb2YgcGFyc2VkQ2h1bmsuaXNfZXJyb3IgPT09ICdib29sZWFuJyAmJiBwYXJzZWRDaHVuay5pc19lcnJvcikgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9vbFJlc3BvbnNlLnN0YXR1cyA9PT0gXCJzdWNjZXNzXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9vbFJlc3BvbnNlLmRhdGFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmluYWxNc2dPYmplY3Quc2hvd01hcFRvZ2dsZUZvclRoaXNNZXNzYWdlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmluYWxNc2dPYmplY3QuZGlyZWN0aW9uc0RhdGEgPSB0b29sUmVzcG9uc2UuZGF0YTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJbUEFHRS5UU1hdIChTdHJlYW0gTG9vcCBNZXNzYWdlKSBTZXR0aW5nIG1lc3NhZ2UgZGlyZWN0aW9ucyBkYXRhOlwiLCBKU09OLnN0cmluZ2lmeSh0b29sUmVzcG9uc2UuZGF0YSkuc3Vic3RyaW5nKDAsIDIwMCkgKyBcIi4uLlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gTkVXOiBXZWIgYXBwIG1lc3NhZ2Ugb2JqZWN0IHVwZGF0ZXMgZm9yIHN0cmVhbWluZyBsb29wXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKChwYXJzZWRDaHVuay5uYW1lID09PSBcImNyZWF0ZV93ZWJfYXBwXCIgfHwgcGFyc2VkQ2h1bmsubmFtZSA9PT0gXCJlZGl0X3dlYl9hcHBcIikgJiYgISh0eXBlb2YgcGFyc2VkQ2h1bmsuaXNfcGFydGlhbCA9PT0gJ2Jvb2xlYW4nICYmIHBhcnNlZENodW5rLmlzX3BhcnRpYWwpICYmICEodHlwZW9mIHBhcnNlZENodW5rLmlzX2Vycm9yID09PSAnYm9vbGVhbicgJiYgcGFyc2VkQ2h1bmsuaXNfZXJyb3IpICYmIHBhcnNlZENodW5rLnJlc3VsdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0RGF0YSA9IHR5cGVvZiBwYXJzZWRDaHVuay5yZXN1bHQgPT09ICdzdHJpbmcnID8gSlNPTi5wYXJzZShwYXJzZWRDaHVuay5yZXN1bHQpIDogcGFyc2VkQ2h1bmsucmVzdWx0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdERhdGEuc3RhdHVzID09PSBcInN1Y2Nlc3NcIiAmJiByZXN1bHREYXRhLnVybCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbmFsTXNnT2JqZWN0LnNob3dXZWJBcHBGb3JUaGlzTWVzc2FnZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmluYWxNc2dPYmplY3Qud2ViQXBwVXJsID0gcmVzdWx0RGF0YS51cmw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihcIltQQUdFLlRTWF0gKFN0cmVhbSBMb29wKSBGYWlsZWQgdG8gcGFyc2Ugd2ViIGFwcCByZXN1bHQgZm9yIG1lc3NhZ2U6XCIsIGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE5FVzogSW1hZ2UgZ2VuZXJhdGlvbiBtZXNzYWdlIG9iamVjdCB1cGRhdGVzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhcnNlZENodW5rLm5hbWUgPT09IFwiZ2VuZXJhdGVfaW1hZ2VzX3dpdGhfcHJvbXB0c1wiICYmICEodHlwZW9mIHBhcnNlZENodW5rLmlzX3BhcnRpYWwgPT09ICdib29sZWFuJyAmJiBwYXJzZWRDaHVuay5pc19wYXJ0aWFsKSAmJiAhKHR5cGVvZiBwYXJzZWRDaHVuay5pc19lcnJvciA9PT0gJ2Jvb2xlYW4nICYmIHBhcnNlZENodW5rLmlzX2Vycm9yKSAmJiBwYXJzZWRDaHVuay5yZXN1bHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdERhdGEgPSB0eXBlb2YgcGFyc2VkQ2h1bmsucmVzdWx0ID09PSAnc3RyaW5nJyA/IEpTT04ucGFyc2UocGFyc2VkQ2h1bmsucmVzdWx0KSA6IHBhcnNlZENodW5rLnJlc3VsdDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHREYXRhLnN0YXR1cyA9PT0gXCJzdWNjZXNzXCIgJiYgcmVzdWx0RGF0YS5yZXN1bHRzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRXh0cmFjdCBhbGwgaW1hZ2UgVVJMcyBmcm9tIHRoZSByZXN1bHRzIGFycmF5XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaW1hZ2VVcmxzOiBzdHJpbmdbXSA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdERhdGEucmVzdWx0cy5mb3JFYWNoKChyZXN1bHRBcnJheTogYW55KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHJlc3VsdEFycmF5KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2VVcmxzLnB1c2goLi4ucmVzdWx0QXJyYXkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGltYWdlVXJscy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbmFsTXNnT2JqZWN0LnNob3dJbWFnZXNGb3JUaGlzTWVzc2FnZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbmFsTXNnT2JqZWN0LmdlbmVyYXRlZEltYWdlVXJscyA9IGltYWdlVXJscztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJbUEFHRS5UU1hdIChGaW5hbCBCdWZmZXIpIFNldHRpbmcgZ2VuZXJhdGVkSW1hZ2VVcmxzIHdpdGg6XCIsIGltYWdlVXJscy5sZW5ndGgsIFwiaW1hZ2VzXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFwiW1BBR0UuVFNYXSAoRmluYWwgQnVmZmVyKSBGYWlsZWQgdG8gcGFyc2UgaW1hZ2UgZ2VuZXJhdGlvbiByZXN1bHQgZm9yIG1lc3NhZ2U6XCIsIGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmaW5hbE1zZ09iamVjdDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBtc2c7XG4gICAgICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHBhcnNlZENodW5rLnR5cGUgPT09ICdzdHJlYW1fZW5kJykge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnW1BBR0UuVFNYXSBTdHJlYW0gZW5kZWQgZm9yIGJvdE1lc3NhZ2VJZDonLCBib3RNZXNzYWdlSWQpO1xuICAgICAgICAgICAgICAgICAgICBzZXRNZXNzYWdlcyhwcmV2ID0+IHByZXYubWFwKG1zZyA9PiBtc2cuaWQgPT09IGJvdE1lc3NhZ2VJZCA/IHsuLi5tc2csIHRoaW5raW5nOiBmYWxzZSB9IDogbXNnKSk7XG4gICAgICAgICAgICAgICAgICAgIHNldFN0YXR1cygnUmVhZHknKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHBhcnNlZENodW5rLnR5cGUgPT09ICdlcnJvcicgJiYgcGFyc2VkQ2h1bmsuY29udGVudCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdbUEFHRS5UU1hdIFJlY2VpdmVkIHN0cmVhbSBlcnJvciBjaHVuazonLCBwYXJzZWRDaHVuayk7XG4gICAgICAgICAgICAgICAgICAgIHNldE1lc3NhZ2VzKHByZXYgPT4gcHJldi5tYXAobXNnID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtc2cuaWQgPT09IGJvdE1lc3NhZ2VJZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGVycm9yVGV4dFBhcnQ6IE1lc3NhZ2VQYXJ0ID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcInRleHRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IHV1aWR2NCgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiBgPHN0cm9uZyBzdHlsZT1cImNvbG9yOiByZWQ7XCI+U3RyZWFtIEVycm9yOjwvc3Ryb25nPiAke3JlbmRlclNhbml0aXplZE1hcmtkb3duKHBhcnNlZENodW5rLmNvbnRlbnQpfWBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG5ld1BhcnRzID0gWy4uLm1zZy5wYXJ0cywgZXJyb3JUZXh0UGFydF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLm1zZywgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcnRzOiBuZXdQYXJ0cyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpbmtpbmc6IGZhbHNlLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNfZXJyb3JfbWVzc2FnZTogdHJ1ZSBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1zZztcbiAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgICAgICBzZXRTdGF0dXMoJ1JlYWR5Jyk7IC8vIFJlc2V0IHN0YXR1cyBhZnRlciBlcnJvclxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyAtLS0tIFNUQVJUOiBOZXcgY2h1bmsgdHlwZXMgZm9yIHBlci1saW5lIHN0cmVhbSBwcm9jZXNzaW5nIC0tLS1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChwYXJzZWRDaHVuay50eXBlID09PSAndG9vbF9zYW1wbGVfdGV4dF9jaHVuaycgJiYgcGFyc2VkQ2h1bmsucGFyZW50X3Rvb2xfY2FsbF9pZCAmJiB0eXBlb2YgcGFyc2VkQ2h1bmsuY29udGVudCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICAgICAgc2V0TWVzc2FnZXMocHJldiA9PiBwcmV2Lm1hcChtc2cgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1zZy5pZCA9PT0gYm90TWVzc2FnZUlkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3UGFydHMgPSBtc2cucGFydHMubWFwKHBhcnQgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocGFydC50eXBlID09PSBcInRvb2xfY2FsbFwiICYmIHBhcnQudG9vbENhbGwuY2FsbF9pZCA9PT0gcGFyc2VkQ2h1bmsucGFyZW50X3Rvb2xfY2FsbF9pZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRjID0gcGFydC50b29sQ2FsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRQYWlycyA9IHRjLnNhbXBsZUNhbGxQYWlycyB8fCBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBuZXdQYWlycztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRQYWlycy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbGFzdFBhaXIgPSBjdXJyZW50UGFpcnNbY3VycmVudFBhaXJzLmxlbmd0aCAtIDFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENyZWF0ZSBuZXcgcGFpciBvYmplY3Qgd2l0aCB1cGRhdGVkIG91dHB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHVwZGF0ZWRMYXN0UGFpciA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4ubGFzdFBhaXIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG91dHB1dDogKGxhc3RQYWlyLm91dHB1dCB8fCBcIlwiKSArIHBhcnNlZENodW5rLmNvbnRlbnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENyZWF0ZSBuZXcgYXJyYXkgd2l0aCB1cGRhdGVkIGxhc3QgcGFpclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld1BhaXJzID0gWy4uLmN1cnJlbnRQYWlycy5zbGljZSgwLCAtMSksIHVwZGF0ZWRMYXN0UGFpcl07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENyZWF0ZSBuZXcgcGFpclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld1BhaXJzID0gW3sgaWQ6IHV1aWR2NCgpLCBvdXRwdXQ6IHBhcnNlZENodW5rLmNvbnRlbnQgfV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBbUEFHRS5UU1hdIChTdHJlYW0gTGluZSkgVXBkYXRlZCBzYW1wbGVDYWxsUGFpcnMgKG91dHB1dCkgZm9yICR7cGFyc2VkQ2h1bmsucGFyZW50X3Rvb2xfY2FsbF9pZH06YCwgSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShuZXdQYWlycykpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7IC4uLnBhcnQsIHRvb2xDYWxsOiB7IC4uLnRjLCBzYW1wbGVDYWxsUGFpcnM6IG5ld1BhaXJzIH0gfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcGFydDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4geyAuLi5tc2csIHBhcnRzOiBuZXdQYXJ0cywgdGhpbmtpbmc6IHRydWUgfTsgXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbXNnO1xuICAgICAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChwYXJzZWRDaHVuay50eXBlID09PSAndG9vbF9zYW1wbGVfdGhvdWdodF9jaHVuaycgJiYgcGFyc2VkQ2h1bmsucGFyZW50X3Rvb2xfY2FsbF9pZCAmJiB0eXBlb2YgcGFyc2VkQ2h1bmsuY29udGVudCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICAgICAgc2V0TWVzc2FnZXMocHJldiA9PiBwcmV2Lm1hcChtc2cgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1zZy5pZCA9PT0gYm90TWVzc2FnZUlkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3UGFydHMgPSBtc2cucGFydHMubWFwKHBhcnQgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocGFydC50eXBlID09PSBcInRvb2xfY2FsbFwiICYmIHBhcnQudG9vbENhbGwuY2FsbF9pZCA9PT0gcGFyc2VkQ2h1bmsucGFyZW50X3Rvb2xfY2FsbF9pZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGMgPSBwYXJ0LnRvb2xDYWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY3VycmVudFBhaXJzID0gdGMuc2FtcGxlQ2FsbFBhaXJzIHx8IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG5ld1BhaXJzO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBJZiBsYXN0UGFpciBleGlzdHMgYW5kIGlzIHN0aWxsICdvcGVuJyAobm8gb3V0cHV0IHlldCksIGFwcGVuZCB0aG91Z2h0cy5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE90aGVyd2lzZSwgdGhpcyBpcyBhIG5ldyBzYW1wbGluZyBjYWxsJ3MgdGhvdWdodHMsIHNvIGNyZWF0ZSBhIG5ldyBwYWlyLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRQYWlycy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbGFzdFBhaXIgPSBjdXJyZW50UGFpcnNbY3VycmVudFBhaXJzLmxlbmd0aCAtIDFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbGFzdFBhaXIub3V0cHV0ID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBVcGRhdGUgZXhpc3RpbmcgcGFpciB3aXRoIHRob3VnaHRzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHVwZGF0ZWRMYXN0UGFpciA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmxhc3RQYWlyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhvdWdodHM6IChsYXN0UGFpci50aG91Z2h0cyB8fCBcIlwiKSArIHBhcnNlZENodW5rLmNvbnRlbnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3UGFpcnMgPSBbLi4uY3VycmVudFBhaXJzLnNsaWNlKDAsIC0xKSwgdXBkYXRlZExhc3RQYWlyXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDcmVhdGUgbmV3IHBhaXIgZm9yIG5ldyBzYW1wbGluZyBjYWxsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld1BhaXJzID0gWy4uLmN1cnJlbnRQYWlycywgeyBpZDogdXVpZHY0KCksIHRob3VnaHRzOiBwYXJzZWRDaHVuay5jb250ZW50IH1dO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ3JlYXRlIGZpcnN0IHBhaXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdQYWlycyA9IFt7IGlkOiB1dWlkdjQoKSwgdGhvdWdodHM6IHBhcnNlZENodW5rLmNvbnRlbnQgfV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBbUEFHRS5UU1hdIChTdHJlYW0gTGluZSkgVXBkYXRlZCBzYW1wbGVDYWxsUGFpcnMgKHRob3VnaHRzKSBmb3IgJHtwYXJzZWRDaHVuay5wYXJlbnRfdG9vbF9jYWxsX2lkfTpgLCBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KG5ld1BhaXJzKSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgLi4ucGFydCwgdG9vbENhbGw6IHsgLi4udGMsIHNhbXBsZUNhbGxQYWlyczogbmV3UGFpcnMgfSB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBwYXJ0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7IC4uLm1zZywgcGFydHM6IG5ld1BhcnRzLCB0aGlua2luZzogdHJ1ZSB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1zZztcbiAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyAtLS0tIEVORDogTmV3IGNodW5rIHR5cGVzIGZvciBwZXItbGluZSBzdHJlYW0gcHJvY2Vzc2luZyAtLS0tXG4gICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBwYXJzaW5nIHN0cmVhbSBjaHVuayBKU09OOicsIGVyciwgJ1JhdyBsaW5lOicsIGxpbmUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHNlbmRpbmcgbWVzc2FnZSBvciBwcm9jZXNzaW5nIHN0cmVhbTonLCBlcnJvcik7XG4gICAgICBjb25zdCBlcnJvckNvbnRlbnQgPSBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdTb3JyeSwgSSBlbmNvdW50ZXJlZCBhbiBlcnJvciBwcm9jZXNzaW5nIHlvdXIgcmVxdWVzdC4nO1xuICAgICAgY29uc3QgcmVuZGVyZWRFcnJvckNvbnRlbnQgPSByZW5kZXJTYW5pdGl6ZWRNYXJrZG93bihlcnJvckNvbnRlbnQpO1xuICAgICAgXG4gICAgICBsZXQgYm90TWVzc2FnZUZvdW5kQW5kVXBkYXRlZCA9IGZhbHNlO1xuICAgICAgc2V0TWVzc2FnZXMocHJldiA9PiBwcmV2Lm1hcChtc2cgPT4ge1xuICAgICAgICBpZiAobXNnLmlkID09PSBib3RNZXNzYWdlSWQpIHtcbiAgICAgICAgICBib3RNZXNzYWdlRm91bmRBbmRVcGRhdGVkID0gdHJ1ZTtcbiAgICAgICAgICBjb25zdCBuZXdFcnJvclBhcnQ6IE1lc3NhZ2VQYXJ0ID0geyB0eXBlOiBcInRleHRcIiwgaWQ6IHV1aWR2NCgpLCBjb250ZW50OiByZW5kZXJlZEVycm9yQ29udGVudCB9O1xuICAgICAgICAgIGNvbnN0IHVwZGF0ZWRQYXJ0cyA9IFsuLi4obXNnLnBhcnRzIHx8IFtdKSwgbmV3RXJyb3JQYXJ0XTsgLy8gRW5zdXJlIG1zZy5wYXJ0cyBleGlzdHNcbiAgICAgICAgICByZXR1cm4geyAuLi5tc2csIHBhcnRzOiB1cGRhdGVkUGFydHMsIHRoaW5raW5nOiBmYWxzZSwgaXNfZXJyb3JfbWVzc2FnZTogdHJ1ZSB9O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtc2c7XG4gICAgICB9KSk7XG5cbiAgICAgICBpZiAoIWJvdE1lc3NhZ2VGb3VuZEFuZFVwZGF0ZWQpIHtcbiAgICAgICAgICAgIHNldE1lc3NhZ2VzKHByZXZNZXNzYWdlcyA9PiBbXG4gICAgICAgICAgICAgICAgLi4ucHJldk1lc3NhZ2VzLFxuICAgICAgICAgICAgICAgIHsgXG4gICAgICAgICAgICAgICAgICAgIGlkOiB1dWlkdjQoKSwgXG4gICAgICAgICAgICAgICAgICAgIHNlbmRlcjogJ2JvdCcsIFxuICAgICAgICAgICAgICAgICAgICBwYXJ0czogW3sgdHlwZTogXCJ0ZXh0XCIsIGlkOiB1dWlkdjQoKSwgY29udGVudDogcmVuZGVyZWRFcnJvckNvbnRlbnQgfV0sXG4gICAgICAgICAgICAgICAgICAgIHRpbWVzdGFtcDogRGF0ZS5ub3coKSwgXG4gICAgICAgICAgICAgICAgICAgIHRoaW5raW5nOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgaXNfZXJyb3JfbWVzc2FnZTogdHJ1ZSBcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdKTtcbiAgICAgICB9XG4gICAgfSBmaW5hbGx5IHtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlRXhhbXBsZVByb21wdENsaWNrID0gKHRpdGxlOiBzdHJpbmcsIGRldGFpbDogc3RyaW5nKSA9PiB7XG4gICAgc2V0VXNlcklucHV0KGAke3RpdGxlfSAke2RldGFpbH1gKTtcbiAgfTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IHZpZXdwb3J0ID0gc2Nyb2xsQXJlYVJlZi5jdXJyZW50O1xuICAgIGlmICh2aWV3cG9ydCkge1xuICAgICAgICAvLyBUaGUgdmlld3BvcnQgaXRzZWxmIGlzIHRoZSBzY3JvbGxhYmxlIGNvbnRhaW5lciBpbiBTY3JvbGxBcmVhXG4gICAgICAgIHZpZXdwb3J0LnNjcm9sbFRvcCA9IHZpZXdwb3J0LnNjcm9sbEhlaWdodDtcbiAgICB9XG4gIH0sIFttZXNzYWdlc10pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3Qgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xuICAgIHN0eWxlLmlubmVySFRNTCA9IGBcbiAgICAgIC5hbmltYXRlZC1lbGxpcHNpcyBzcGFuIHtcbiAgICAgICAgb3BhY2l0eTogMDtcbiAgICAgICAgYW5pbWF0aW9uOiBhbl9lbGxpcHNpcyAxLjJzIGluZmluaXRlO1xuICAgICAgICBhbmltYXRpb24tZmlsbC1tb2RlOiBmb3J3YXJkczsgLyogS2VlcCB0aGUgZmluYWwgc3RhdGUgb2YgdGhlIGFuaW1hdGlvbiAqL1xuICAgICAgfVxuICAgICAgLmFuaW1hdGVkLWVsbGlwc2lzIHNwYW46bnRoLWNoaWxkKDEpIHsgYW5pbWF0aW9uLWRlbGF5OiAwLjFzOyB9XG4gICAgICAuYW5pbWF0ZWQtZWxsaXBzaXMgc3BhbjpudGgtY2hpbGQoMikgeyBhbmltYXRpb24tZGVsYXk6IDAuMjVzOyB9XG4gICAgICAuYW5pbWF0ZWQtZWxsaXBzaXMgc3BhbjpudGgtY2hpbGQoMykgeyBhbmltYXRpb24tZGVsYXk6IDAuNHM7IH1cbiAgICAgIEBrZXlmcmFtZXMgYW5fZWxsaXBzaXMge1xuICAgICAgICAwJSB7IG9wYWNpdHk6IDA7IHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtMC4xZW0pO31cbiAgICAgICAgMzAlIHsgb3BhY2l0eTogMTsgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKDApO31cbiAgICAgICAgNzAlIHsgb3BhY2l0eTogMTsgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKDApO31cbiAgICAgICAgMTAwJSB7IG9wYWNpdHk6IDA7IHRyYW5zZm9ybTogdHJhbnNsYXRlWSgwLjFlbSk7fVxuICAgICAgfVxuICAgICAgLyogQWRkIENTUyBmb3IgdGhvdWdodCBzdW1tYXJ5IGRldGFpbHMgYXJyb3cgcm90YXRpb24gKi9cbiAgICAgIC50aG91Z2h0LXN1bW1hcnktZGV0YWlsc1tvcGVuXSA+IHN1bW1hcnkgLmRldGFpbHMtYXJyb3cge1xuICAgICAgICB0cmFuc2Zvcm06IHJvdGF0ZSgxODBkZWcpO1xuICAgICAgfVxuICAgICAgLyogQWRkIENTUyBmb3IgdG9vbCBjYWxsIGRldGFpbHMgYXJyb3cgcm90YXRpb24gKi9cbiAgICAgIC50b29sLWNhbGwtZGlzcGxheVtvcGVuXSA+IHN1bW1hcnkgLmRldGFpbHMtYXJyb3cge1xuICAgICAgICB0cmFuc2Zvcm06IHJvdGF0ZSgxODBkZWcpO1xuICAgICAgfVxuICAgICAgLyogRW5zdXJlIHRvb2wgY2FsbCBkaXNwbGF5cyBkb24ndCBjYXVzZSBob3Jpem9udGFsIG92ZXJmbG93ICovXG4gICAgICAudG9vbC1jYWxsLWRpc3BsYXkge1xuICAgICAgICBtYXgtd2lkdGg6IDEwMCU7XG4gICAgICAgIG92ZXJmbG93LXdyYXA6IGJyZWFrLXdvcmQ7XG4gICAgICAgIHdvcmQtYnJlYWs6IGJyZWFrLWFsbDtcbiAgICAgIH1cbiAgICAgIC50b29sLWNhbGwtZGlzcGxheSBwcmUge1xuICAgICAgICBtYXgtd2lkdGg6IDEwMCU7XG4gICAgICAgIG92ZXJmbG93LXg6IGF1dG87XG4gICAgICAgIHdvcmQtYnJlYWs6IGJyZWFrLWFsbDtcbiAgICAgICAgd2hpdGUtc3BhY2U6IHByZS13cmFwO1xuICAgICAgICBvdmVyZmxvdy13cmFwOiBhbnl3aGVyZTtcbiAgICAgIH1cbiAgICAgIC50b29sLWNhbGwtZGlzcGxheSAudG9vbC1jYWxsLWNvbnRlbnQge1xuICAgICAgICBtYXgtd2lkdGg6IDEwMCU7XG4gICAgICAgIG92ZXJmbG93LXdyYXA6IGJyZWFrLXdvcmQ7XG4gICAgICB9XG4gICAgICAvKiBBZGQgc29tZSBiYXNpYyBwcm9zZSBzdHlsaW5nIGZvciBtYXJrZG93biBjb250ZW50IGlmIG5vdCBhbHJlYWR5IGdsb2JhbGx5IGF2YWlsYWJsZSAqL1xuICAgICAgLnByb3NlIHtcbiAgICAgICAgbGluZS1oZWlnaHQ6IDEuMzU7IC8qIEluY3JlYXNlZCBmb3IgYmV0dGVyIHJlYWRhYmlsaXR5ICovXG4gICAgICAgIGZvbnQtc2l6ZTogMC45NHJlbTtcbiAgICAgICAgd29yZC13cmFwOiBicmVhay13b3JkOyAvKiBGb3JjZSB3b3JkIHdyYXBwaW5nICovXG4gICAgICAgIG92ZXJmbG93LXdyYXA6IGJyZWFrLXdvcmQ7IC8qIE1vZGVybiBlcXVpdmFsZW50ICovXG4gICAgICAgIHdvcmQtYnJlYWs6IGJyZWFrLXdvcmQ7IC8qIEJyZWFrIGxvbmcgd29yZHMgKi9cbiAgICAgIH1cbiAgICAgIC5wcm9zZSBwIHsgXG4gICAgICAgIG1hcmdpbi1ib3R0b206IDAuNWVtOyAvKiBSZWR1Y2VkIGZvciB0aWdodGVyIHNwYWNpbmcgKi9cbiAgICAgICAgd29yZC13cmFwOiBicmVhay13b3JkO1xuICAgICAgICBvdmVyZmxvdy13cmFwOiBicmVhay13b3JkO1xuICAgICAgfVxuICAgICAgLyogU3BlY2lmaWMgVVJMIGFuZCBsaW5rIGhhbmRsaW5nIHRvIHByZXZlbnQgb3ZlcmZsb3cgKi9cbiAgICAgIC5wcm9zZSBhIHtcbiAgICAgICAgd29yZC1icmVhazogYnJlYWstYWxsOyAvKiBCcmVhayBVUkxzIGFnZ3Jlc3NpdmVseSAqL1xuICAgICAgICBvdmVyZmxvdy13cmFwOiBicmVhay13b3JkO1xuICAgICAgICBoeXBoZW5zOiBhdXRvO1xuICAgICAgfVxuICAgICAgLyogTGluZSBjbGFtcCB1dGlsaXRpZXMgZm9yIHRleHQgdHJ1bmNhdGlvbiAqL1xuICAgICAgLmxpbmUtY2xhbXAtMSB7XG4gICAgICAgIG92ZXJmbG93OiBoaWRkZW47XG4gICAgICAgIGRpc3BsYXk6IC13ZWJraXQtYm94O1xuICAgICAgICAtd2Via2l0LWJveC1vcmllbnQ6IHZlcnRpY2FsO1xuICAgICAgICAtd2Via2l0LWxpbmUtY2xhbXA6IDE7XG4gICAgICB9XG4gICAgICAubGluZS1jbGFtcC0yIHtcbiAgICAgICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgICAgICAgZGlzcGxheTogLXdlYmtpdC1ib3g7XG4gICAgICAgIC13ZWJraXQtYm94LW9yaWVudDogdmVydGljYWw7XG4gICAgICAgIC13ZWJraXQtbGluZS1jbGFtcDogMjtcbiAgICAgIH1cbiAgICAgIC5saW5lLWNsYW1wLTMge1xuICAgICAgICBvdmVyZmxvdzogaGlkZGVuO1xuICAgICAgICBkaXNwbGF5OiAtd2Via2l0LWJveDtcbiAgICAgICAgLXdlYmtpdC1ib3gtb3JpZW50OiB2ZXJ0aWNhbDtcbiAgICAgICAgLXdlYmtpdC1saW5lLWNsYW1wOiAzO1xuICAgICAgfVxuICAgICAgLnByb3NlIHVsIHtcbiAgICAgICAgbGlzdC1zdHlsZS10eXBlOiBkaXNjO1xuICAgICAgICBtYXJnaW4tYmxvY2stc3RhcnQ6IDA7XG4gICAgICAgIG1hcmdpbi1ibG9jay1lbmQ6IDAuNWVtOyAvKiBSZWR1Y2VkICovXG4gICAgICAgIHBhZGRpbmctaW5saW5lLXN0YXJ0OiAxLjI1cmVtO1xuICAgICAgfVxuICAgICAgLnByb3NlIHVsIHVsIHtcbiAgICAgICAgbGlzdC1zdHlsZS10eXBlOiBjaXJjbGU7XG4gICAgICB9XG4gICAgICAucHJvc2UgdWwgdWwgdWwge1xuICAgICAgICBsaXN0LXN0eWxlLXR5cGU6IHNxdWFyZTtcbiAgICAgIH1cbiAgICAgIC5wcm9zZSBvbCB7XG4gICAgICAgIGxpc3Qtc3R5bGUtdHlwZTogZGVjaW1hbDtcbiAgICAgICAgbWFyZ2luLWJsb2NrLXN0YXJ0OiAwO1xuICAgICAgICBtYXJnaW4tYmxvY2stZW5kOiAwLjVlbTsgLyogUmVkdWNlZCAqL1xuICAgICAgICBwYWRkaW5nLWlubGluZS1zdGFydDogMS4yNXJlbTtcbiAgICAgIH1cbiAgICAgIC5wcm9zZSBsaSBwIHtcbiAgICAgICAgZGlzcGxheTogaW5saW5lO1xuICAgICAgICBtYXJnaW4tYm90dG9tOiAwLjJlbTtcbiAgICAgIH1cbiAgICAgIC5wcm9zZSBsaSB7XG4gICAgICAgIG92ZXJmbG93LXdyYXA6IGJyZWFrLXdvcmQ7XG4gICAgICAgIHdvcmQtYnJlYWs6IGJyZWFrLXdvcmQ7IFxuICAgICAgICB3aGl0ZS1zcGFjZTogbm9ybWFsOyBcbiAgICAgIH1cbiAgICAgIC5wcm9zZSBwcmUge1xuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiBoc2wodmFyKC0tbXV0ZWQpKTtcbiAgICAgICAgY29sb3I6IGhzbCh2YXIoLS1tdXRlZC1mb3JlZ3JvdW5kKSk7XG4gICAgICAgIHBhZGRpbmc6IDFlbTtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogMC4zNzVyZW07IFxuICAgICAgICBvdmVyZmxvdy14OiBhdXRvO1xuICAgICAgICBmb250LXNpemU6IDAuODc1ZW07XG4gICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIGhzbCh2YXIoLS1ib3JkZXIpKTtcbiAgICAgIH1cbiAgICAgIC5wcm9zZSBjb2RlOm5vdChwcmUgY29kZSkge1xuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiBoc2wodmFyKC0tbXV0ZWQpKTtcbiAgICAgICAgY29sb3I6IGhzbCh2YXIoLS1wcmltYXJ5KSk7IC8qIFVzaW5nIHByaW1hcnkgY29sb3IgZm9yIGlubGluZSBjb2RlIGZvciBiZXR0ZXIgdmlzaWJpbGl0eSAqL1xuICAgICAgICBwYWRkaW5nOiAwLjJlbSAwLjRlbTtcbiAgICAgICAgbWFyZ2luOiAwIDAuMWVtO1xuICAgICAgICBmb250LXNpemU6IDAuODVlbTtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogMC4yNXJlbTtcbiAgICAgIH1cbiAgICAgIC5kYXJrIC5wcm9zZSBwcmUge1xuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiBoc2wodmFyKC0tc2Vjb25kYXJ5KSk7IC8qIEEgc2xpZ2h0bHkgZGlmZmVyZW50IGRhcmsgZm9yIHByZSBibG9ja3MgKi9cbiAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIGhzbCh2YXIoLS1ib3JkZXIpKTtcbiAgICAgIH1cbiAgICAgICAuZGFyayAucHJvc2UgY29kZTpub3QocHJlIGNvZGUpIHtcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogaHNsKHZhcigtLXNlY29uZGFyeSkpO1xuICAgICAgfVxuICAgICAgLyogUmVzcG9uc2l2ZSBpbWFnZXMgaW4gcHJvc2UgKi9cbiAgICAgIC5wcm9zZSBpbWcge1xuICAgICAgICBtYXgtd2lkdGg6IDEwMCU7IC8qIEVuc3VyZSBpbWFnZXMgYXJlIHJlc3BvbnNpdmUgYnkgZGVmYXVsdCAqL1xuICAgICAgICBoZWlnaHQ6IGF1dG87ICAgIC8qIEFsbG93IGltYWdlIHRvIHNldCBpdHMgb3duIGhlaWdodCBiYXNlZCBvbiBhc3BlY3QgcmF0aW8gKi9cbiAgICAgICAgbWluLWhlaWdodDogMTUwcHg7IC8qIFJlc2VydmUgc29tZSBtaW5pbXVtIHNwYWNlIHRvIHJlZHVjZSBsYXlvdXQgc2hpZnQgb24gbW9iaWxlICovXG4gICAgICAgIG1heC1oZWlnaHQ6IDM1MHB4OyAvKiBQcmV2ZW50IGltYWdlcyBmcm9tIGJlY29taW5nIGV4Y2Vzc2l2ZWx5IHRhbGwgKi9cbiAgICAgICAgb2JqZWN0LWZpdDogY29udGFpbjsgLyogRW5zdXJlIHRoZSBpbWFnZSBmaXRzIHdpdGhpbiBib3VuZHMgJiBtYWludGFpbnMgYXNwZWN0IHJhdGlvICovXG4gICAgICAgIGRpc3BsYXk6IGJsb2NrOyAgLyogQWxsb3dzIG1hcmdpbiBhdXRvIHRvIHdvcmsgZm9yIGNlbnRlcmluZyAqL1xuICAgICAgICBtYXJnaW4tbGVmdDogYXV0bztcbiAgICAgICAgbWFyZ2luLXJpZ2h0OiBhdXRvO1xuICAgICAgICBtYXJnaW4tdG9wOiAwLjVlbTtcbiAgICAgICAgbWFyZ2luLWJvdHRvbTogMC41ZW07XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDAuMzc1cmVtOyAvKiBBZGQgYSBzbGlnaHQgcm91bmRpbmcgdG8gaW1hZ2VzICovXG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6IGhzbCh2YXIoLS1tdXRlZC1mb3JlZ3JvdW5kKSAvIDAuMDUpOyAvKiBTdWJ0bGUgYmFja2dyb3VuZCBmb3IgbG9hZGluZyBzdGF0ZSAqL1xuICAgICAgfVxuXG4gICAgICAuZGFyayAucHJvc2UgaW1nIHtcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogaHNsKHZhcigtLW11dGVkLWZvcmVncm91bmQpIC8gMC4xKTsgLyogU2xpZ2h0bHkgbW9yZSB2aXNpYmxlIG9uIGRhcmsgZm9yIGxvYWRpbmcgKi9cbiAgICAgIH1cblxuICAgICAgLyogVmlkZW8gc3R5bGluZyB0byBtYXRjaCBpbWFnZXMgKi9cbiAgICAgIC5wcm9zZSB2aWRlbyB7XG4gICAgICAgIG1heC13aWR0aDogMTAwJTtcbiAgICAgICAgaGVpZ2h0OiBhdXRvO1xuICAgICAgICBtYXgtaGVpZ2h0OiA0MDBweDtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogMC4zNzVyZW07XG4gICAgICAgIG1hcmdpbjogMC41ZW0gYXV0bztcbiAgICAgICAgZGlzcGxheTogYmxvY2s7XG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6IGhzbCh2YXIoLS1tdXRlZC1mb3JlZ3JvdW5kKSAvIDAuMDUpO1xuICAgICAgICBib3JkZXI6IDFweCBzb2xpZCBoc2wodmFyKC0tYm9yZGVyKSk7XG4gICAgICB9XG5cbiAgICAgIC5kYXJrIC5wcm9zZSB2aWRlbyB7XG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6IGhzbCh2YXIoLS1tdXRlZC1mb3JlZ3JvdW5kKSAvIDAuMSk7XG4gICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIGhzbCh2YXIoLS1ib3JkZXIpKTtcbiAgICAgIH1cblxuICAgICAgQG1lZGlhIChtaW4td2lkdGg6IDEwMjRweCkgeyAvKiBEZXNrdG9wIHNjcmVlbnMgKi9cbiAgICAgICAgLnByb3NlIGltZyB7XG4gICAgICAgICAgbWF4LXdpZHRoOiA2MCU7IC8qIE1ha2UgaW1hZ2VzIHNtYWxsZXIgb24gZGVza3RvcCAqL1xuICAgICAgICAgIG1heC1oZWlnaHQ6IDUwMHB4OyAvKiBBbGxvdyBsYXJnZXIgaW1hZ2VzIG9uIGRlc2t0b3AgKi9cbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLnByb3NlIHZpZGVvIHtcbiAgICAgICAgICBtYXgtd2lkdGg6IDcwJTsgLyogTWFrZSB2aWRlb3Mgc2xpZ2h0bHkgbGFyZ2VyIHRoYW4gaW1hZ2VzIG9uIGRlc2t0b3AgKi9cbiAgICAgICAgICBtYXgtaGVpZ2h0OiA2MDBweDsgLyogQWxsb3cgbGFyZ2VyIHZpZGVvcyBvbiBkZXNrdG9wICovXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICBgO1xuICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xuXG4gICAgLy8gQ2xlYW51cCBmdW5jdGlvbiB0byByZW1vdmUgdGhlIHN0eWxlIHdoZW4gdGhlIGNvbXBvbmVudCB1bm1vdW50c1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBkb2N1bWVudC5oZWFkLnJlbW92ZUNoaWxkKHN0eWxlKTtcbiAgICB9O1xuICB9LCBbXSk7IC8vIEVtcHR5IGRlcGVuZGVuY3kgYXJyYXkgZW5zdXJlcyB0aGlzIHJ1bnMgb25seSBvbmNlIG9uIG1vdW50IGFuZCB1bm1vdW50XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBzZXRWaCA9ICgpID0+IHtcbiAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZS5zZXRQcm9wZXJ0eSgnLS12aCcsIGAke3dpbmRvdy5pbm5lckhlaWdodH1weGApO1xuICAgIH07XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHNldFZoKTtcbiAgICBzZXRWaCgpO1xuICAgIHJldHVybiAoKSA9PiB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzaXplJywgc2V0VmgpO1xuICB9LCBbXSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAvLyBGb3JjZSByZS1yZW5kZXIgb2YgTWFwRGlzcGxheSB3aGVuIGFwcFRoZW1lIGNoYW5nZXMgdG8gYXBwbHkgbmV3IG1hcElkXG4gICAgc2V0TWFwRGlzcGxheUtleShwcmV2S2V5ID0+IHByZXZLZXkgKyAxKTtcbiAgfSwgW2FwcFRoZW1lXSk7XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgaC1bY2FsYyh2YXIoLS12aCkpXSBiZy1iYWNrZ3JvdW5kIHRleHQtZm9yZWdyb3VuZCB0cmFuc2l0aW9uLWNvbG9ycyBkdXJhdGlvbi0zMDBcIj5cbiAgICAgIDxoZWFkZXIgY2xhc3NOYW1lPVwicHgtMiBweS0yIHNtOnB4LTQgc206cHktMyBib3JkZXItYiBib3JkZXItYm9yZGVyIGZsZXgganVzdGlmeS1iZXR3ZWVuIGl0ZW1zLWNlbnRlciBiZy1tdXRlZC80MCB0cmFuc2l0aW9uLWNvbG9ycyBkdXJhdGlvbi0zMDBcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBzcGFjZS14LTJcIj5cbiAgICAgICAgICA8QnV0dG9uIHZhcmlhbnQ9XCJnaG9zdFwiIHNpemU9XCJpY29uXCIgY2xhc3NOYW1lPVwiaG92ZXI6YmctbXV0ZWRcIj5cbiAgICAgICAgICAgIDxNZW51IGNsYXNzTmFtZT1cInctNSBoLTVcIiAvPlxuICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgIHsvKiBSZXBsYWNlIEJ1dHRvbiB3aXRoIGEgU2VsZWN0IGRyb3Bkb3duIGZvciBtb2RlbCBzZWxlY3Rpb24gKi99XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyZWxhdGl2ZVwiPlxuICAgICAgICAgICAgPHNlbGVjdFxuICAgICAgICAgICAgICB2YWx1ZT17c2VsZWN0ZWRNb2RlbH1cbiAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRTZWxlY3RlZE1vZGVsKGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYmctYmFja2dyb3VuZCBib3JkZXIgYm9yZGVyLWlucHV0IHRleHQtZm9yZWdyb3VuZCByb3VuZGVkLW1kIHB4LTMgcHktMiB0ZXh0LXNtIGZvY3VzOm91dGxpbmUtbm9uZSBmb2N1czpyaW5nLTIgZm9jdXM6cmluZy1yaW5nIGhvdmVyOmJnLW11dGVkIGN1cnNvci1wb2ludGVyIGFwcGVhcmFuY2Utbm9uZSBwci04IHctYXV0byBzbTptaW4tdy1bMTUwcHhdXCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAge21vZGVsT3B0aW9ucy5tYXAob3B0aW9uID0+IChcbiAgICAgICAgICAgICAgICA8b3B0aW9uIGtleT17b3B0aW9uLnZhbHVlfSB2YWx1ZT17b3B0aW9uLnZhbHVlfT5cbiAgICAgICAgICAgICAgICAgIHtvcHRpb24ubGFiZWx9XG4gICAgICAgICAgICAgICAgPC9vcHRpb24+XG4gICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgPC9zZWxlY3Q+XG4gICAgICAgICAgICA8Q2hldnJvbkRvd24gY2xhc3NOYW1lPVwidy00IGgtNCBhYnNvbHV0ZSByaWdodC0yIHRvcC0xLzIgdHJhbnNmb3JtIC10cmFuc2xhdGUteS0xLzIgcG9pbnRlci1ldmVudHMtbm9uZSB0ZXh0LW11dGVkLWZvcmVncm91bmRcIiAvPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBzcGFjZS14LTJcIj5cbiAgICAgICAgICA8TW9kZVRvZ2dsZSAvPlxuICAgICAgICAgIDxCdXR0b24gdmFyaWFudD1cImdob3N0XCIgc2l6ZT1cImljb25cIiBjbGFzc05hbWU9XCJob3ZlcjpiZy1tdXRlZFwiPlxuICAgICAgICAgICAgPE1lbnUgY2xhc3NOYW1lPVwidy01IGgtNVwiIC8+XG4gICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9oZWFkZXI+XG5cbiAgICAgIDxtYWluIGNsYXNzTmFtZT1cImZsZXgtZ3JvdyBmbGV4IGZsZXgtY29sIGl0ZW1zLWNlbnRlciBwLTIgc206cC00IHJlbGF0aXZlIG92ZXJmbG93LWhpZGRlbiB0cmFuc2l0aW9uLWNvbG9ycyBkdXJhdGlvbi0zMDBcIj5cbiAgICAgICAge3Nob3dJbml0aWFsVmlldyA/IChcbiAgICAgICAgICA8ZGl2IGlkPVwiaW5pdGlhbFZpZXdcIiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlciB3LWZ1bGwgcHgtMiBmbGV4LWdyb3cgZmxleCBmbGV4LWNvbCBqdXN0aWZ5LWNlbnRlciBpdGVtcy1jZW50ZXJcIj5cbiAgICAgICAgICAgIDxoMSBjbGFzc05hbWU9XCJ0ZXh0LTN4bCBzbTp0ZXh0LTR4bCBmb250LXNlbWlib2xkIHRleHQtZm9yZWdyb3VuZCBtYi0yIHRyYW5zaXRpb24tY29sb3JzIGR1cmF0aW9uLTMwMFwiPlxuICAgICAgICAgICAgICBBU1QuIENoYXRcbiAgICAgICAgICAgIDwvaDE+XG4gICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LW1kIHNtOnRleHQtbGcgdGV4dC1tdXRlZC1mb3JlZ3JvdW5kIG1iLTYgc206bWItMTAgdHJhbnNpdGlvbi1jb2xvcnMgZHVyYXRpb24tMzAwXCI+XG4gICAgICAgICAgICAgIEhvdyBjYW4gSSBoZWxwIHlvdSB0b2RheT9cbiAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JpZCBncmlkLWNvbHMtMSBzbTpncmlkLWNvbHMtMiBnYXAtMyBzbTpnYXAtNCBtYXgtdy00eGwgbGc6bWF4LXctNXhsIHhsOm1heC13LTd4bCBteC1hdXRvIHctZnVsbFwiPlxuICAgICAgICAgICAgICB7ZXhhbXBsZVByb21wdHMubWFwKChwcm9tcHQsIGluZGV4KSA9PiAoXG4gICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAga2V5PXtpbmRleH1cbiAgICAgICAgICAgICAgICAgIHZhcmlhbnQ9XCJvdXRsaW5lXCJcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImgtYXV0byB0ZXh0LWxlZnQgcC0zIHNtOnAtNCBib3JkZXItYm9yZGVyIHJvdW5kZWQtbGcgc2hhZG93IGhvdmVyOnNoYWRvdy1tZCBkYXJrOmhvdmVyOmJnLW11dGVkIHRyYW5zaXRpb25cIlxuICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gaGFuZGxlRXhhbXBsZVByb21wdENsaWNrKHByb21wdC50aXRsZSwgcHJvbXB0LmRldGFpbCl9XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgPGgzIGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGQgdGV4dC1mb3JlZ3JvdW5kIHRleHQtc20gc206dGV4dC1iYXNlXCI+XG4gICAgICAgICAgICAgICAgICAgIHtwcm9tcHQudGl0bGV9XG4gICAgICAgICAgICAgICAgICA8L2gzPlxuICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC14cyBzbTp0ZXh0LXNtIHRleHQtbXV0ZWQtZm9yZWdyb3VuZFwiPlxuICAgICAgICAgICAgICAgICAgICB7cHJvbXB0LmRldGFpbH1cbiAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKSA6IChcbiAgICAgICAgICA8U2Nyb2xsQXJlYSBjbGFzc05hbWU9XCJ3LWZ1bGwgbXgtYXV0byBmbGV4LWdyb3dcIiByZWY9e3Njcm9sbEFyZWFSZWZ9PlxuICAgICAgICAgICAgPGRpdiBpZD1cImNoYXRMb2dcIiBjbGFzc05hbWU9XCJzcGFjZS15LTMgc206c3BhY2UteS00IGZsZXggZmxleC1jb2wgcGItW2NhbGMoNjhweCtlbnYoc2FmZS1hcmVhLWluc2V0LWJvdHRvbSkpXSBtYXgtdy00eGwgbGc6bWF4LXctNXhsIHhsOm1heC13LTd4bCBteC1hdXRvIHB4LTIgc206cHgtNFwiPlxuICAgICAgICAgICAgICB7bWVzc2FnZXMubWFwKChtc2cpID0+IHtcbiAgICAgICAgICAgICAgICAvLyBEZWZpbmUgYmFzZSBhbmQgY29uZGl0aW9uYWwgY2xhc3NlcyBmb3IgdGhlIG1lc3NhZ2UgYnViYmxlXG4gICAgICAgICAgICAgICAgbGV0IGJ1YmJsZUNsYXNzZXMgPSBcImZsZXggZmxleC1jb2wgYnJlYWstd29yZHNcIjsgLy8gQ29tbW9uIGJhc2UgZm9yIGFsbFxuICAgICAgICAgICAgICAgIGxldCB0aGlua2luZ0luZGljYXRvckNvbG9yID0gXCJ0ZXh0LW11dGVkLWZvcmVncm91bmRcIjsgLy8gRGVmYXVsdCBmb3IgdGhpbmtpbmcgaW5kaWNhdG9yXG5cbiAgICAgICAgICAgICAgICBpZiAobXNnLnNlbmRlciA9PT0gXCJ1c2VyXCIpIHtcbiAgICAgICAgICAgICAgICAgIGJ1YmJsZUNsYXNzZXMgKz0gXCIgcC0yIHJvdW5kZWQtMnhsIG1heC13LVs5NSVdIHNtOm1heC13LVs4NSVdIGJnLXNreS00MDAgdGV4dC1za3ktOTAwIHNlbGYtZW5kXCI7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHsgLy8gQm90IG1lc3NhZ2VcbiAgICAgICAgICAgICAgICAgIGlmIChtc2cuaXNfZXJyb3JfbWVzc2FnZSkge1xuICAgICAgICAgICAgICAgICAgICBidWJibGVDbGFzc2VzICs9IFwiIHB4LTEgcHktMSBzbTpwLTIgcm91bmRlZC14bCBtYXgtdy1bOTUlXSBzbTptYXgtdy1bODUlXSBiZy1kZXN0cnVjdGl2ZSB0ZXh0LWRlc3RydWN0aXZlLWZvcmVncm91bmQgc2VsZi1zdGFydCByb3VuZGVkLWJsLXNtXCI7XG4gICAgICAgICAgICAgICAgICAgIHRoaW5raW5nSW5kaWNhdG9yQ29sb3IgPSBcInRleHQtZGVzdHJ1Y3RpdmUtZm9yZWdyb3VuZFwiOyAvLyBNYXRjaCBlcnJvciBidWJibGUgdGV4dFxuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gTm9ybWFsIGJvdCBtZXNzYWdlIC0gbGVzcyBcImJ1YmJsZVwiIGxpa2UgQ2hhdEdQVFxuICAgICAgICAgICAgICAgICAgICBidWJibGVDbGFzc2VzICs9IFwiIHctZnVsbCBzZWxmLXN0YXJ0IHB5LTEgc206cHktMiB0ZXh0LWZvcmVncm91bmRcIjsgLy8gVXNlIHBhZ2UgZm9yZWdyb3VuZCBjb2xvclxuICAgICAgICAgICAgICAgICAgICAvLyBBZGQgc29tZSB2ZXJ0aWNhbCBtYXJnaW4gdG8gZGlzdGluZ3Vpc2ggYm90IG1lc3NhZ2VzLCBhbmQgaG9yaXpvbnRhbCBwYWRkaW5nIGZvciBjb250ZW50LlxuICAgICAgICAgICAgICAgICAgICBidWJibGVDbGFzc2VzICs9IFwiIG15LTIgc206bXktMyBweC0xIHNtOnB4LTJcIjsgXG4gICAgICAgICAgICAgICAgICAgIHRoaW5raW5nSW5kaWNhdG9yQ29sb3IgPSBcInRleHQtZm9yZWdyb3VuZFwiOyAvLyBNYXRjaCBub3JtYWwgYm90IHRleHRcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBDb21wdXRlIHdoaWNoIHBhcnRzIHRvIHJlbmRlcjogZm9yIGRpcmVjdGlvbiBtZXNzYWdlcywgb25seSBzaG93IHRleHQgYmVmb3JlIHRoZSBnZXRfZGlyZWN0aW9ucyB0b29sIGNhbGxcbiAgICAgICAgICAgICAgICBjb25zdCBwYXJ0c1RvUmVuZGVyID0gbXNnLmRpcmVjdGlvbnNEYXRhXG4gICAgICAgICAgICAgICAgICA/ICgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgY29uc3QgaWR4ID0gbXNnLnBhcnRzLmZpbmRJbmRleChwID0+IHAudHlwZSA9PT0gXCJ0b29sX2NhbGxcIiAmJiBwLnRvb2xDYWxsLm5hbWUgPT09IFwiZ2V0X2RpcmVjdGlvbnNcIik7XG4gICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGlkeCA+PSAwID8gbXNnLnBhcnRzLnNsaWNlKDAsIGlkeCkgOiBtc2cucGFydHM7XG4gICAgICAgICAgICAgICAgICAgIH0pKClcbiAgICAgICAgICAgICAgICAgIDogbXNnLnBhcnRzO1xuICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgIGtleT17bXNnLmlkfVxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2J1YmJsZUNsYXNzZXN9IC8vIFVzZSB0aGUgZHluYW1pY2FsbHkgY29uc3RydWN0ZWQgY2xhc3Nlc1xuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICB7cGFydHNUb1JlbmRlci5tYXAoKHBhcnQpID0+IChcbiAgICAgICAgICAgICAgICAgICAgICA8UmVhY3QuRnJhZ21lbnQga2V5PXtwYXJ0LmlkfT5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtwYXJ0LnR5cGUgPT09IFwidGV4dFwiICYmIHBhcnQuY29udGVudCAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy1mdWxsIG1heC13LWZ1bGwgbWluLXctMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtwYXJzZVRleHRXaXRoVVJMcyhwYXJ0LmNvbnRlbnQpLm1hcCgodGV4dFBhcnQsIGluZGV4KSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8UmVhY3QuRnJhZ21lbnQga2V5PXtgJHtwYXJ0LmlkfS0ke2luZGV4fWB9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7dGV4dFBhcnQudHlwZSA9PT0gJ3RleHQnID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2Ake3BhcnQuaWR9LXRleHQtJHtpbmRleH1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwibWVzc2FnZS1jb250ZW50IHByb3NlIGRhcms6cHJvc2UtaW52ZXJ0IHctZnVsbCBtYXgtdy1mdWxsIG1pbi13LTAgdGV4dC1wYXJ0LWZhZGUtaW5cIiBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IHdvcmRCcmVhazogJ2JyZWFrLXdvcmQnLCBvdmVyZmxvd1dyYXA6ICdhbnl3aGVyZScgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MPXt7IF9faHRtbDogcmVuZGVyU2FuaXRpemVkTWFya2Rvd24odGV4dFBhcnQuY29udGVudCkgfX0gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VVJMUHJldmlldyBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17YCR7cGFydC5pZH0tdXJsLSR7aW5kZXh9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybD17dGV4dFBhcnQuY29udGVudH0gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJteS0yIHctZnVsbCBtYXgtdy1mdWxsXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9SZWFjdC5GcmFnbWVudD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAge3BhcnQudHlwZSA9PT0gXCJ0b29sX2NhbGxcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRvb2xDYWxsRGlzcGxheSB0b29sQ2FsbD17cGFydC50b29sQ2FsbH0gcmVuZGVyU2FuaXRpemVkTWFya2Rvd249e3JlbmRlclNhbml0aXplZE1hcmtkb3dufSAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICB7cGFydC50eXBlID09PSBcInRob3VnaHRfc3VtbWFyeVwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRldGFpbHNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2Ake3BhcnQuaWR9LXRob3VnaHQtZGV0YWlsc2B9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidGhvdWdodC1zdW1tYXJ5LWRldGFpbHMgbXktMiByb3VuZGVkLWxnIGJvcmRlciBib3JkZXItYm9yZGVyIGJnLW11dGVkLzIwIHNoYWRvdy1zbVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3Blbj17ZmFsc2V9XG4gICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3VtbWFyeSBjbGFzc05hbWU9XCJ0aG91Z2h0LXN1bW1hcnktc3VtbWFyeSBjdXJzb3ItcG9pbnRlciBwLTMgbGlzdC1ub25lIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiB0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtbXV0ZWQtZm9yZWdyb3VuZCBob3ZlcjpiZy1tdXRlZC80MCByb3VuZGVkLXQtbGdcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHttc2cudGhpbmtpbmcgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TG9hZGVyMiBjbGFzc05hbWU9XCJ3LTQgaC00IG1yLTIgYW5pbWF0ZS1zcGluXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJpdGFsaWNcIj5BU1QuIHRoaW5raW5nPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIml0YWxpY1wiPlRob3VnaHQgUHJvY2Vzczwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hldnJvbkRvd24gY2xhc3NOYW1lPVwidy01IGgtNSB0cmFuc2l0aW9uLXRyYW5zZm9ybSBkdXJhdGlvbi0yMDAgZGV0YWlscy1hcnJvd1wiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zdW1tYXJ5PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtwYXJ0LmNvbnRlbnQgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LWZ1bGwgbWF4LXctZnVsbCBtaW4tdy0wIHAtMyBib3JkZXItdCBib3JkZXItYm9yZGVyIGJnLWJhY2tncm91bmQgcm91bmRlZC1iLWxnXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtwYXJzZVRleHRXaXRoVVJMcyhwYXJ0LmNvbnRlbnQpLm1hcCgodGV4dFBhcnQsIGluZGV4KSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFJlYWN0LkZyYWdtZW50IGtleT17YCR7cGFydC5pZH0tdGhvdWdodC0ke2luZGV4fWB9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3RleHRQYXJ0LnR5cGUgPT09ICd0ZXh0JyA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17YCR7cGFydC5pZH0tdGhvdWdodC10ZXh0LSR7aW5kZXh9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJtZXNzYWdlLWNvbnRlbnQgcHJvc2Utc20gaXRhbGljIHRleHQtbXV0ZWQtZm9yZWdyb3VuZCBkYXJrOnByb3NlLWludmVydCB3LWZ1bGwgbWF4LXctZnVsbCBtaW4tdy0wIHRleHQtcGFydC1mYWRlLWluXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyB3b3JkQnJlYWs6ICdicmVhay13b3JkJywgb3ZlcmZsb3dXcmFwOiAnYW55d2hlcmUnIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw9e3sgX19odG1sOiByZW5kZXJTYW5pdGl6ZWRNYXJrZG93bih0ZXh0UGFydC5jb250ZW50KSB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFVSTFByZXZpZXcgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtgJHtwYXJ0LmlkfS10aG91Z2h0LXVybC0ke2luZGV4fWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsPXt0ZXh0UGFydC5jb250ZW50fSBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJteS0yIHctZnVsbCBtYXgtdy1mdWxsXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9SZWFjdC5GcmFnbWVudD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2RldGFpbHM+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgIDwvUmVhY3QuRnJhZ21lbnQ+XG4gICAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgey8qIE5FVzogUmVuZGVyIHBlcnNpc3RlbnQgY29udGVudCBwcmV2aWV3cyAqL31cbiAgICAgICAgICAgICAgICAgICAge2dldFByZXZpZXdzRm9yTWVzc2FnZShtc2cuaWQpLm1hcCgocHJldmlldykgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgIDxDb250ZW50UHJldmlld1xuICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtwcmV2aWV3LmlkfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWQ9e3ByZXZpZXcuaWR9XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlPXtwcmV2aWV3LnR5cGV9XG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhPXtwcmV2aWV3LmRhdGF9XG4gICAgICAgICAgICAgICAgICAgICAgICB0b29sQ2FsbD17cHJldmlldy50b29sQ2FsbH1cbiAgICAgICAgICAgICAgICAgICAgICAgIG9uVXBkYXRlPXt1cGRhdGVQcmV2aWV3fVxuICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAge21zZy5kaXJlY3Rpb25zRGF0YSAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtjb25zb2xlLmxvZyhcIltQQUdFLlRTWF0gUmVuZGVyaW5nIE1hcERpc3BsYXkgZm9yIG1lc3NhZ2VcIiwgbXNnLmlkLCBtc2cuZGlyZWN0aW9uc0RhdGEpfVxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJib3JkZXIgcm91bmRlZC1sZyBzaGFkb3ctbWQgYmctbXV0ZWQvNDAgcC0wIG92ZXJmbG93LWhpZGRlbiBtdC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxNYXBEaXNwbGF5XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXttYXBEaXNwbGF5S2V5fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpcmVjdGlvbnNSZXNwb25zZT17bXNnLmRpcmVjdGlvbnNEYXRhfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdvb2dsZU1hcHNBcGlLZXk9e2dvb2dsZU1hcHNBcGlLZXl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd1RyYWZmaWM9e3Nob3dUcmFmZmljfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoZW1lPXthcHBUaGVtZSA9PT0gJ2RhcmsnID8gbmlnaHRUaGVtZSA6IGRlZmF1bHRUaGVtZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAge21zZy5kaXJlY3Rpb25zRGF0YT8ucm91dGVzPy5bMF0/LmxlZ3M/LlswXSAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPERpcmVjdGlvbnNTdGVwc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RlcHM9e21zZy5kaXJlY3Rpb25zRGF0YS5yb3V0ZXNbMF0ubGVnc1swXS5zdGVwc31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvdGFsRHVyYXRpb249e21zZy5kaXJlY3Rpb25zRGF0YS5yb3V0ZXNbMF0ubGVnc1swXS5kdXJhdGlvbj8udGV4dH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvdGFsRGlzdGFuY2U9e21zZy5kaXJlY3Rpb25zRGF0YS5yb3V0ZXNbMF0ubGVnc1swXS5kaXN0YW5jZT8udGV4dH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgIHttc2cuc2hvd0ltYWdlc0ZvclRoaXNNZXNzYWdlICYmIG1zZy5nZW5lcmF0ZWRJbWFnZVVybHMgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtNCBib3JkZXIgcm91bmRlZC1sZyBzaGFkb3ctbWQgYmctbXV0ZWQvNDAgb3ZlcmZsb3ctaGlkZGVuXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiBwLTMgYmctYmFja2dyb3VuZCBib3JkZXItYiBib3JkZXItYm9yZGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxoNCBjbGFzc05hbWU9XCJ0ZXh0LXNtIGZvbnQtc2VtaWJvbGQgdGV4dC1mb3JlZ3JvdW5kXCI+R2VuZXJhdGVkIEltYWdlczwvaDQ+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctYmFja2dyb3VuZFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8SW1hZ2VEaXNwbGF5IGltYWdlVXJscz17bXNnLmdlbmVyYXRlZEltYWdlVXJsc30gLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L1Njcm9sbEFyZWE+XG4gICAgICAgICl9XG4gICAgICA8L21haW4+XG5cbiAgICAgIDxmb290ZXIgY2xhc3NOYW1lPVwiZmxleC1ub25lIHB4LTIgcGItW2VudihzYWZlLWFyZWEtaW5zZXQtYm90dG9tKV0gcHQtMiBzbTpweC00IHNtOnBiLVtlbnYoc2FmZS1hcmVhLWluc2V0LWJvdHRvbSldIHNtOnB0LTMgYmctbXV0ZWQvNDAgYm9yZGVyLXQgYm9yZGVyLWJvcmRlciB0cmFuc2l0aW9uLWNvbG9ycyBkdXJhdGlvbi0zMDBcIj5cbiAgICAgICAgPGZvcm0gb25TdWJtaXQ9e2hhbmRsZVNlbmR9IGNsYXNzTmFtZT1cIm1heC13LTR4bCBsZzptYXgtdy01eGwgeGw6bWF4LXctN3hsIG14LWF1dG9cIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGJnLWJhY2tncm91bmQgYm9yZGVyIGJvcmRlci1pbnB1dCByb3VuZGVkLXhsIHNoYWRvdy1zbSBwLTIgdHJhbnNpdGlvbi1jb2xvcnMgZHVyYXRpb24tMzAwIGZvY3VzLXdpdGhpbjpyaW5nLTIgZm9jdXMtd2l0aGluOnJpbmctcmluZ1wiPlxuICAgICAgICAgICAgPEJ1dHRvbiBcbiAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiIFxuICAgICAgICAgICAgICB2YXJpYW50PVwiZ2hvc3RcIiBcbiAgICAgICAgICAgICAgc2l6ZT1cImljb25cIiBcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidGV4dC1tdXRlZC1mb3JlZ3JvdW5kIGhvdmVyOnRleHQtZm9yZWdyb3VuZFwiIFxuICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBmaWxlSW5wdXRSZWYuY3VycmVudD8uY2xpY2soKX1cbiAgICAgICAgICAgICAgdGl0bGU9XCJBdHRhY2ggZmlsZXNcIlxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8UGFwZXJjbGlwIGNsYXNzTmFtZT1cInctNSBoLTVcIiAvPlxuICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICB7LyogSGlkZGVuIGZpbGUgaW5wdXQgKi99XG4gICAgICAgICAgICA8aW5wdXQgXG4gICAgICAgICAgICAgIHR5cGU9XCJmaWxlXCIgXG4gICAgICAgICAgICAgIG11bHRpcGxlIFxuICAgICAgICAgICAgICByZWY9e2ZpbGVJbnB1dFJlZn0gXG4gICAgICAgICAgICAgIG9uQ2hhbmdlPXtoYW5kbGVGaWxlU2VsZWN0fSBcbiAgICAgICAgICAgICAgc3R5bGU9e3sgZGlzcGxheTogJ25vbmUnIH19IFxuICAgICAgICAgICAgICBhY2NlcHQ9XCJpbWFnZS8qLC5oZWljLC5oZWlmLGFwcGxpY2F0aW9uL3BkZiwudHh0LC5tZCwucHksLmpzLC5odG1sLC5jc3MsLmpzb24sLmNzdixhcHBsaWNhdGlvbi9tc3dvcmQsYXBwbGljYXRpb24vdm5kLm9wZW54bWxmb3JtYXRzLW9mZmljZWRvY3VtZW50LndvcmRwcm9jZXNzaW5nbWwuZG9jdW1lbnQsYXBwbGljYXRpb24vdm5kLm1zLWV4Y2VsLGFwcGxpY2F0aW9uL3ZuZC5vcGVueG1sZm9ybWF0cy1vZmZpY2Vkb2N1bWVudC5zcHJlYWRzaGVldG1sLnNoZWV0LGFwcGxpY2F0aW9uL3ZuZC5tcy1wb3dlcnBvaW50LGFwcGxpY2F0aW9uL3ZuZC5vcGVueG1sZm9ybWF0cy1vZmZpY2Vkb2N1bWVudC5wcmVzZW50YXRpb25tbC5wcmVzZW50YXRpb25cIlxuICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDxCdXR0b24gXG4gICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIiBcbiAgICAgICAgICAgICAgdmFyaWFudD17c2VuZExvY2F0aW9uID8gXCJzZWNvbmRhcnlcIiA6IFwiZ2hvc3RcIn0gXG4gICAgICAgICAgICAgIHNpemU9XCJpY29uXCIgXG4gICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldFNlbmRMb2NhdGlvbighc2VuZExvY2F0aW9uKX1cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgbXItMiAke3NlbmRMb2NhdGlvbiA/IFwidGV4dC1wcmltYXJ5XCIgOiBcInRleHQtbXV0ZWQtZm9yZWdyb3VuZFwifSBob3Zlcjp0ZXh0LWZvcmVncm91bmRgfVxuICAgICAgICAgICAgICB0aXRsZT17c2VuZExvY2F0aW9uID8gXCJTdG9wIHNlbmRpbmcgbG9jYXRpb25cIiA6IFwiU2VuZCBjdXJyZW50IGxvY2F0aW9uIHdpdGggcXVlcnlcIn1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPE1hcFBpbiBjbGFzc05hbWU9XCJ3LTUgaC01XCIgLz5cbiAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgICAgaWQ9XCJ1c2VySW5wdXRcIlxuICAgICAgICAgICAgICB2YWx1ZT17dXNlcklucHV0fVxuICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldFVzZXJJbnB1dChlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZsZXgtZ3JvdyBwLTIgYmctdHJhbnNwYXJlbnQgZm9jdXM6b3V0bGluZS1ub25lIGJvcmRlci0wIGZvY3VzOnJpbmctMCBwbGFjZWhvbGRlci1tdXRlZC1mb3JlZ3JvdW5kXCJcbiAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJTZW5kIGEgbWVzc2FnZS4uLlwiXG4gICAgICAgICAgICAgIGF1dG9Db21wbGV0ZT1cIm9mZlwiXG4gICAgICAgICAgICAvPlxuICAgICAgICAgICAgPEJ1dHRvbiB0eXBlPVwic3VibWl0XCIgdmFyaWFudD1cImRlZmF1bHRcIiBzaXplPVwiaWNvblwiIGRpc2FibGVkPXshKHVzZXJJbnB1dC50cmltKCkgfHwgc2VsZWN0ZWRGaWxlcy5sZW5ndGggPiAwKSB8fCBzdGF0dXMgIT09ICdSZWFkeSd9IGNsYXNzTmFtZT1cInJvdW5kZWQtbGdcIj5cbiAgICAgICAgICAgICAgPEFycm93VXAgY2xhc3NOYW1lPVwidy01IGgtNVwiIC8+XG4gICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9mb3JtPlxuICAgICAgICB7LyogRGlzcGxheSBzZWxlY3RlZCBmaWxlcyAob3B0aW9uYWwgVVgpICovfVxuICAgICAgICB7c2VsZWN0ZWRGaWxlcy5sZW5ndGggPiAwICYmIChcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1heC13LTR4bCBsZzptYXgtdy01eGwgeGw6bWF4LXctN3hsIG14LWF1dG8gbXQtMiB0ZXh0LXhzIHRleHQtbXV0ZWQtZm9yZWdyb3VuZFwiPlxuICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwiZm9udC1tZWRpdW0gbWItMVwiPlNlbGVjdGVkIGZpbGVzOjwvcD5cbiAgICAgICAgICAgIDx1bCBjbGFzc05hbWU9XCJsaXN0LWRpc2MgbGlzdC1pbnNpZGUgcGwtMSBzcGFjZS15LTAuNVwiPlxuICAgICAgICAgICAgICB7c2VsZWN0ZWRGaWxlcy5tYXAoZmlsZSA9PiAoXG4gICAgICAgICAgICAgICAgPGxpIGtleT17ZmlsZS5uYW1lfSBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW5cIj5cbiAgICAgICAgICAgICAgICAgIDxzcGFuPntmaWxlLm5hbWV9ICh7TWF0aC5yb3VuZChmaWxlLnNpemUgLyAxMDI0KX0gS0IpPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgPEJ1dHRvbiB2YXJpYW50PVwiZ2hvc3RcIiBzaXplPVwic21cIiBvbkNsaWNrPXsoKSA9PiByZW1vdmVTZWxlY3RlZEZpbGUoZmlsZS5uYW1lKX0gY2xhc3NOYW1lPVwidGV4dC1yZWQtNTAwIGhvdmVyOnRleHQtcmVkLTcwMCBwLTEgaC1hdXRvXCI+XG4gICAgICAgICAgICAgICAgICAgIFJlbW92ZVxuICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICA8L3VsPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApfVxuICAgICAgICB7LyogRGlzcGxheSBmaWxlIHByb2Nlc3Npbmcgc3RhdHVzICovfVxuICAgICAgICB7ZmlsZVByb2Nlc3NpbmdTdGF0dXMgJiYgKFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWF4LXctNHhsIGxnOm1heC13LTV4bCB4bDptYXgtdy03eGwgbXgtYXV0byBtdC0yIHRleHQteHMgdGV4dC1ibHVlLTYwMCBkYXJrOnRleHQtYmx1ZS00MDBcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgPExvYWRlcjIgY2xhc3NOYW1lPVwidy0zIGgtMyBtci0xIGFuaW1hdGUtc3BpblwiIC8+XG4gICAgICAgICAgICAgIHtmaWxlUHJvY2Vzc2luZ1N0YXR1c31cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApfVxuICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LW11dGVkLWZvcmVncm91bmQvODAgdGV4dC1jZW50ZXIgbXQtMiBwYi0xXCI+U3RhdHVzOiB7c3RhdHVzfTwvcD5cbiAgICAgIDwvZm9vdGVyPlxuICAgIDwvZGl2PlxuICApO1xufSAiXSwibmFtZXMiOlsiUmVhY3QiLCJ1c2VTdGF0ZSIsInVzZUVmZmVjdCIsInVzZVJlZiIsIk1vZGVUb2dnbGUiLCJCdXR0b24iLCJJbnB1dCIsIlNjcm9sbEFyZWEiLCJDaGV2cm9uRG93biIsIk1lbnUiLCJQYXBlcmNsaXAiLCJBcnJvd1VwIiwiTWFwUGluIiwiTG9hZGVyMiIsIm1hcmtlZCIsIkRPTVB1cmlmeSIsInY0IiwidXVpZHY0IiwiVG9vbENhbGxEaXNwbGF5IiwiVVJMUHJldmlldyIsIk1hcERpc3BsYXkiLCJkZWZhdWx0VGhlbWUiLCJuaWdodFRoZW1lIiwiRGlyZWN0aW9uc1N0ZXBzIiwiSW1hZ2VEaXNwbGF5IiwidXNlVGhlbWUiLCJ1c2VDb250ZW50UHJldmlld3MiLCJDb250ZW50UHJldmlldyIsImV4dHJhY3RQcmV2aWV3RnJvbVRvb2xDYWxsIiwic2hvdWxkRXh0cmFjdFByZXZpZXciLCJzZXRPcHRpb25zIiwiYXN5bmMiLCJCQUNLRU5EX0FQSV9CQVNFX1VSTCIsInByb2Nlc3MiLCJlbnYiLCJORVhUX1BVQkxJQ19CQUNLRU5EX0FQSV9VUkwiLCJDaGF0UGFnZSIsInVzZXJJbnB1dCIsInNldFVzZXJJbnB1dCIsIm1lc3NhZ2VzIiwic2V0TWVzc2FnZXMiLCJzZWxlY3RlZEZpbGVzIiwic2V0U2VsZWN0ZWRGaWxlcyIsImZpbGVJbnB1dFJlZiIsImZpbGVQcm9jZXNzaW5nU3RhdHVzIiwic2V0RmlsZVByb2Nlc3NpbmdTdGF0dXMiLCJzaG93SW5pdGlhbFZpZXciLCJzZXRTaG93SW5pdGlhbFZpZXciLCJzY3JvbGxBcmVhUmVmIiwic3RhdHVzIiwic2V0U3RhdHVzIiwiYXBpU2VuZGVyIiwiY3VycmVudFVzZXJMb2NhdGlvbiIsInNldEN1cnJlbnRVc2VyTG9jYXRpb24iLCJzZW5kTG9jYXRpb24iLCJzZXRTZW5kTG9jYXRpb24iLCJkaXJlY3Rpb25zRGF0YSIsInNldERpcmVjdGlvbnNEYXRhIiwiZ29vZ2xlTWFwc0FwaUtleSIsIk5FWFRfUFVCTElDX0dPT0dMRV9NQVBTX0FQSV9LRVkiLCJtYXBEaXNwbGF5S2V5Iiwic2V0TWFwRGlzcGxheUtleSIsInNob3dUcmFmZmljIiwic2V0U2hvd1RyYWZmaWMiLCJpc01hcFNlY3Rpb25WaXNpYmxlIiwic2V0SXNNYXBTZWN0aW9uVmlzaWJsZSIsInRoZW1lIiwiYXBwVGhlbWUiLCJ1cHNlcnRQcmV2aWV3IiwidXBkYXRlUHJldmlldyIsImdldFByZXZpZXdzRm9yTWVzc2FnZSIsInJlbW92ZVByZXZpZXciLCJtb2RlbE9wdGlvbnMiLCJ2YWx1ZSIsImxhYmVsIiwic2VsZWN0ZWRNb2RlbCIsInNldFNlbGVjdGVkTW9kZWwiLCJwcm9jZXNzVG9vbENhbGxGb3JQcmV2aWV3IiwidG9vbENhbGwiLCJtZXNzYWdlSWQiLCJleHRyYWN0ZWRQcmV2aWV3Iiwic2hvdWxkU2hvdyIsImNvbnNvbGUiLCJsb2ciLCJuYW1lIiwiaWQiLCJ0eXBlIiwiZGF0YSIsImNhbGxfaWQiLCJjb252ZXJ0SGVpY1RvSnBlZyIsImZpbGUiLCJpc0hlaWMiLCJ0b0xvd2VyQ2FzZSIsImVuZHNXaXRoIiwiZGVmYXVsdCIsImhlaWMyYW55IiwiY29udmVydGVkQmxvYiIsImJsb2IiLCJ0b1R5cGUiLCJxdWFsaXR5Iiwib3JpZ2luYWxOYW1lIiwicmVwbGFjZSIsIm5ld0ZpbGVOYW1lIiwiY29udmVydGVkRmlsZSIsIkZpbGUiLCJsYXN0TW9kaWZpZWQiLCJNYXRoIiwicm91bmQiLCJzaXplIiwiZXJyb3IiLCJ3YXJuIiwiaW1hZ2VCaXRtYXAiLCJjcmVhdGVJbWFnZUJpdG1hcCIsImNhbnZhcyIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImN0eCIsImdldENvbnRleHQiLCJFcnJvciIsIndpZHRoIiwiaGVpZ2h0IiwiZHJhd0ltYWdlIiwiY2FudmFzQmxvYiIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwidG9CbG9iIiwiY2FudmFzRXJyb3IiLCJmaWxlV2l0aENvbnZlcnNpb25GbGFnIiwibmVlZHNTZXJ2ZXJDb252ZXJzaW9uIiwiZXhhbXBsZVByb21wdHMiLCJ0aXRsZSIsImRldGFpbCIsIm5vcm1hbGl6ZUZyYWdtZW50IiwiZnJhZ21lbnQiLCJfcHJldkNvbnRlbnQiLCJjb252ZXJ0TWVkaWFVcmxzIiwidGV4dCIsImltYWdlRXh0ZW5zaW9ucyIsInZpZGVvRXh0ZW5zaW9ucyIsInVybFBhdHRlcm4iLCJwcm9jZXNzZWRUZXh0IiwidXJsIiwiY2xlYW5VcmwiLCJ0ZXN0Iiwic3BsaXQiLCJwb3AiLCJhZ2dyZXNzaXZlVXJsUGF0dGVybiIsImluY2x1ZGVzIiwicmVuZGVyU2FuaXRpemVkTWFya2Rvd24iLCJ0ZXh0V2l0aE1lZGlhIiwiZGlydHlIdG1sIiwicGFyc2UiLCJnZm0iLCJicmVha3MiLCJzYW5pdGl6ZSIsInBhcnNlVGV4dFdpdGhVUkxzIiwidXJsUmVnZXgiLCJwYXJ0cyIsImxhc3RJbmRleCIsIm1hdGNoIiwiZXhlYyIsImluZGV4IiwiYmVmb3JlVGV4dCIsInN1YnN0cmluZyIsInRyaW0iLCJwdXNoIiwiY29udGVudCIsImlzTWVkaWEiLCJsZW5ndGgiLCJyZW1haW5pbmdUZXh0IiwiZ2V0Q3VycmVudExvY2F0aW9uIiwibmF2aWdhdG9yIiwiZ2VvbG9jYXRpb24iLCJ0aW1lb3V0SWQiLCJzZXRUaW1lb3V0IiwiZ2V0Q3VycmVudFBvc2l0aW9uIiwicG9zaXRpb24iLCJjbGVhclRpbWVvdXQiLCJjb29yZHMiLCJsYXRpdHVkZSIsImxvbmdpdHVkZSIsIm1lc3NhZ2UiLCJjb2RlIiwiUEVSTUlTU0lPTl9ERU5JRUQiLCJQT1NJVElPTl9VTkFWQUlMQUJMRSIsIlRJTUVPVVQiLCJlbmFibGVIaWdoQWNjdXJhY3kiLCJ0aW1lb3V0IiwibWF4aW11bUFnZSIsImhhbmRsZUZpbGVTZWxlY3QiLCJldmVudCIsInRhcmdldCIsImZpbGVzIiwiQXJyYXkiLCJmcm9tIiwiaGVpY0ZpbGVzIiwiZmlsdGVyIiwiY29udmVydGVkRmlsZXMiLCJhbGwiLCJtYXAiLCJzZXJ2ZXJDb252ZXJzaW9uRmlsZXMiLCJwcmV2RmlsZXMiLCJyZW1vdmVTZWxlY3RlZEZpbGUiLCJmaWxlTmFtZVRvUmVtb3ZlIiwiZmlsZVRvQmFzZTY0IiwicmVhZGVyIiwiRmlsZVJlYWRlciIsInJlYWRBc0RhdGFVUkwiLCJvbmxvYWQiLCJyZXN1bHQiLCJvbmVycm9yIiwidXBsb2FkRmlsZXMiLCJ1cGxvYWRQcm9taXNlcyIsImZvcm1EYXRhIiwiRm9ybURhdGEiLCJhcHBlbmQiLCJyZXNwb25zZSIsImZldGNoIiwibWV0aG9kIiwiYm9keSIsIm9rIiwianNvbiIsImNvbnZlcnRlZF9mcm9tX2hlaWMiLCJvcmlnaW5hbF9maWxlbmFtZSIsImZpbGVuYW1lIiwiaGFuZGxlU2VuZCIsImUiLCJwcmV2ZW50RGVmYXVsdCIsImN1cnJlbnRNZXNzYWdlVGV4dCIsImF0dGFjaG1lbnRVcmxzIiwiZXJyb3JNZXNzYWdlSWQiLCJwcmV2Iiwic2VuZGVyIiwidGltZXN0YW1wIiwiRGF0ZSIsIm5vdyIsInRoaW5raW5nIiwiaXNfZXJyb3JfbWVzc2FnZSIsInJlc29sdmVkT3JpZ2luRm9yUXVlcnkiLCJ1bmRlZmluZWQiLCJsb2NhdGlvbiIsImxvY2F0aW9uRXJyb3IiLCJ0ZW1wQm90TWVzc2FnZUlkIiwiYXR0YWNobWVudExpc3QiLCJmaWxlTmFtZSIsImpvaW4iLCJ1c2VyTWVzc2FnZUlkIiwidXNlck1lc3NhZ2VQYXJ0cyIsInVzZXJNZXNzYWdlIiwicHJldk1lc3NhZ2VzIiwiYm90TWVzc2FnZUlkIiwicGF5bG9hZCIsInF1ZXJ5Iiwic3RyZWFtIiwibW9kZWwiLCJhdHRhY2htZW50X3VybHMiLCJoZWFkZXJzIiwiSlNPTiIsInN0cmluZ2lmeSIsImVycm9yVGV4dCIsImVycm9yRGV0YWlsIiwiZXJyb3JKc29uIiwicGFyc2VFcnJvciIsImdldFJlYWRlciIsImRlY29kZXIiLCJUZXh0RGVjb2RlciIsImJ1ZmZlciIsImRvbmUiLCJyZWFkIiwicGFyc2VkQ2h1bmsiLCJtc2ciLCJjdXJyZW50Q29udGVudCIsIm5ld1BhcnRzIiwibGFzdFBhcnQiLCJwYXJ0IiwiY29udGVudEZyb21DaHVuayIsImFyZ3VtZW50cyIsImNhbGxfaWRfZnJvbV9jaHVuayIsImV4aXN0aW5nVG9vbENhbGxQYXJ0IiwiZmluZCIsIm5ld1Rvb2xDYWxsRGF0YSIsIm1hdGNoZWRUb29sQ2FsbEluUGFydHMiLCJ0YyIsImZpbmFsUmVzdWx0IiwiaXNQYXJ0aWFsIiwiaXNfcGFydGlhbCIsImlzRXJyb3IiLCJpc19lcnJvciIsIm5ld1N0YXR1cyIsInVwZGF0ZWRUb29sQ2FsbCIsInRvb2xSZXNwb25zZSIsInJlc3BvbnNlS2V5IiwicHJldktleSIsInJlc3VsdERhdGEiLCJyZXN1bHRzIiwiaW1hZ2VVcmxzIiwiZm9yRWFjaCIsInJlc3VsdEFycmF5IiwiaXNBcnJheSIsImZpbmFsTXNnT2JqZWN0Iiwic2hvd01hcFRvZ2dsZUZvclRoaXNNZXNzYWdlIiwic2hvd1dlYkFwcEZvclRoaXNNZXNzYWdlIiwid2ViQXBwVXJsIiwic2hvd0ltYWdlc0ZvclRoaXNNZXNzYWdlIiwiZ2VuZXJhdGVkSW1hZ2VVcmxzIiwicGFyZW50X3Rvb2xfY2FsbF9pZCIsImN1cnJlbnRQYWlycyIsInNhbXBsZUNhbGxQYWlycyIsIm5ld1BhaXJzIiwibGFzdFBhaXIiLCJ1cGRhdGVkTGFzdFBhaXIiLCJvdXRwdXQiLCJzbGljZSIsInRob3VnaHRzIiwiZXJyb3JUZXh0UGFydCIsImVyciIsImRlY29kZSIsIm5ld2xpbmVJbmRleCIsImluZGV4T2YiLCJsaW5lIiwibGFzdFBhcnRJbmRleCIsImVycm9yQ29udGVudCIsInJlbmRlcmVkRXJyb3JDb250ZW50IiwiYm90TWVzc2FnZUZvdW5kQW5kVXBkYXRlZCIsIm5ld0Vycm9yUGFydCIsInVwZGF0ZWRQYXJ0cyIsImhhbmRsZUV4YW1wbGVQcm9tcHRDbGljayIsInZpZXdwb3J0IiwiY3VycmVudCIsInNjcm9sbFRvcCIsInNjcm9sbEhlaWdodCIsInN0eWxlIiwiaW5uZXJIVE1MIiwiaGVhZCIsImFwcGVuZENoaWxkIiwicmVtb3ZlQ2hpbGQiLCJzZXRWaCIsImRvY3VtZW50RWxlbWVudCIsInNldFByb3BlcnR5Iiwid2luZG93IiwiaW5uZXJIZWlnaHQiLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImRpdiIsImNsYXNzTmFtZSIsImhlYWRlciIsInZhcmlhbnQiLCJzZWxlY3QiLCJvbkNoYW5nZSIsIm9wdGlvbiIsIm1haW4iLCJoMSIsInAiLCJwcm9tcHQiLCJvbkNsaWNrIiwiaDMiLCJyZWYiLCJidWJibGVDbGFzc2VzIiwidGhpbmtpbmdJbmRpY2F0b3JDb2xvciIsInBhcnRzVG9SZW5kZXIiLCJpZHgiLCJmaW5kSW5kZXgiLCJGcmFnbWVudCIsInRleHRQYXJ0Iiwid29yZEJyZWFrIiwib3ZlcmZsb3dXcmFwIiwiZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUwiLCJfX2h0bWwiLCJkZXRhaWxzIiwib3BlbiIsInN1bW1hcnkiLCJzcGFuIiwicHJldmlldyIsIm9uVXBkYXRlIiwiZGlyZWN0aW9uc1Jlc3BvbnNlIiwicm91dGVzIiwibGVncyIsInN0ZXBzIiwidG90YWxEdXJhdGlvbiIsImR1cmF0aW9uIiwidG90YWxEaXN0YW5jZSIsImRpc3RhbmNlIiwiaDQiLCJmb290ZXIiLCJmb3JtIiwib25TdWJtaXQiLCJjbGljayIsImlucHV0IiwibXVsdGlwbGUiLCJkaXNwbGF5IiwiYWNjZXB0IiwicGxhY2Vob2xkZXIiLCJhdXRvQ29tcGxldGUiLCJkaXNhYmxlZCIsInVsIiwibGkiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./app/page.tsx\n");

/***/ }),

/***/ "(ssr)/./components/ContentPreview.tsx":
/*!***************************************!*\
  !*** ./components/ContentPreview.tsx ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _barrel_optimize_names_Check_Code2_Copy_ExternalLink_Eye_FileText_lucide_react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! __barrel_optimize__?names=Check,Code2,Copy,ExternalLink,Eye,FileText!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/eye.js\");\n/* harmony import */ var _barrel_optimize_names_Check_Code2_Copy_ExternalLink_Eye_FileText_lucide_react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! __barrel_optimize__?names=Check,Code2,Copy,ExternalLink,Eye,FileText!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/code-xml.js\");\n/* harmony import */ var _barrel_optimize_names_Check_Code2_Copy_ExternalLink_Eye_FileText_lucide_react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! __barrel_optimize__?names=Check,Code2,Copy,ExternalLink,Eye,FileText!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/file-text.js\");\n/* harmony import */ var _barrel_optimize_names_Check_Code2_Copy_ExternalLink_Eye_FileText_lucide_react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! __barrel_optimize__?names=Check,Code2,Copy,ExternalLink,Eye,FileText!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/check.js\");\n/* harmony import */ var _barrel_optimize_names_Check_Code2_Copy_ExternalLink_Eye_FileText_lucide_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! __barrel_optimize__?names=Check,Code2,Copy,ExternalLink,Eye,FileText!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/copy.js\");\n/* harmony import */ var _barrel_optimize_names_Check_Code2_Copy_ExternalLink_Eye_FileText_lucide_react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! __barrel_optimize__?names=Check,Code2,Copy,ExternalLink,Eye,FileText!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/external-link.js\");\n/* harmony import */ var _MonacoDiffViewer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./MonacoDiffViewer */ \"(ssr)/./components/MonacoDiffViewer.tsx\");\n/* harmony import */ var next_themes__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next-themes */ \"(ssr)/./node_modules/next-themes/dist/index.mjs\");\n\n\n\n\n\nconst ContentPreview = ({ id, type, data, toolCall, onUpdate })=>{\n    const [activeTab, setActiveTab] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"preview\");\n    const [copied, setCopied] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [htmlContent, setHtmlContent] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [loadingHtml, setLoadingHtml] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const { theme } = (0,next_themes__WEBPACK_IMPORTED_MODULE_3__.useTheme)();\n    // Determine available tabs based on content type\n    const availableTabs = react__WEBPACK_IMPORTED_MODULE_1___default().useMemo(()=>{\n        const tabs = [];\n        if (type === \"web_app\") {\n            tabs.push({\n                key: \"preview\",\n                label: \"Preview\",\n                icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Check_Code2_Copy_ExternalLink_Eye_FileText_lucide_react__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n                    className: \"w-4 h-4\"\n                }, void 0, false, {\n                    fileName: \"/var/www/flask_app/ast_chat/components/ContentPreview.tsx\",\n                    lineNumber: 66,\n                    columnNumber: 59\n                }, undefined)\n            });\n            tabs.push({\n                key: \"code\",\n                label: \"Code\",\n                icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Check_Code2_Copy_ExternalLink_Eye_FileText_lucide_react__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n                    className: \"w-4 h-4\"\n                }, void 0, false, {\n                    fileName: \"/var/www/flask_app/ast_chat/components/ContentPreview.tsx\",\n                    lineNumber: 67,\n                    columnNumber: 53\n                }, undefined)\n            });\n        } else if (type === \"code\") {\n            tabs.push({\n                key: \"code\",\n                label: \"Code\",\n                icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Check_Code2_Copy_ExternalLink_Eye_FileText_lucide_react__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n                    className: \"w-4 h-4\"\n                }, void 0, false, {\n                    fileName: \"/var/www/flask_app/ast_chat/components/ContentPreview.tsx\",\n                    lineNumber: 69,\n                    columnNumber: 53\n                }, undefined)\n            });\n        } else if (type === \"diff\") {\n            const codeData = data;\n            // If it's a web app diff (has URL), show preview tab too\n            if (codeData.url) {\n                tabs.push({\n                    key: \"preview\",\n                    label: \"Preview\",\n                    icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Check_Code2_Copy_ExternalLink_Eye_FileText_lucide_react__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n                        className: \"w-4 h-4\"\n                    }, void 0, false, {\n                        fileName: \"/var/www/flask_app/ast_chat/components/ContentPreview.tsx\",\n                        lineNumber: 74,\n                        columnNumber: 61\n                    }, undefined)\n                });\n            }\n            tabs.push({\n                key: \"code\",\n                label: \"Code\",\n                icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Check_Code2_Copy_ExternalLink_Eye_FileText_lucide_react__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n                    className: \"w-4 h-4\"\n                }, void 0, false, {\n                    fileName: \"/var/www/flask_app/ast_chat/components/ContentPreview.tsx\",\n                    lineNumber: 76,\n                    columnNumber: 53\n                }, undefined)\n            });\n            tabs.push({\n                key: \"diff\",\n                label: \"Diff\",\n                icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Check_Code2_Copy_ExternalLink_Eye_FileText_lucide_react__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n                    className: \"w-4 h-4\"\n                }, void 0, false, {\n                    fileName: \"/var/www/flask_app/ast_chat/components/ContentPreview.tsx\",\n                    lineNumber: 77,\n                    columnNumber: 53\n                }, undefined)\n            });\n        }\n        return tabs;\n    }, [\n        type,\n        data\n    ]);\n    // Set default active tab based on available tabs\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (availableTabs.length > 0 && !availableTabs.find((tab)=>tab.key === activeTab)) {\n            setActiveTab(availableTabs[0].key);\n        }\n    }, [\n        availableTabs,\n        activeTab\n    ]);\n    // Function to fetch HTML content for web apps\n    const fetchHtmlContent = async (url)=>{\n        if (htmlContent || loadingHtml) return; // Don't fetch if already loaded or loading\n        setLoadingHtml(true);\n        try {\n            const response = await fetch(url);\n            if (response.ok) {\n                const html = await response.text();\n                setHtmlContent(html);\n            } else {\n                setHtmlContent(\"// Failed to fetch HTML content\");\n            }\n        } catch (error) {\n            console.error(\"Failed to fetch HTML:\", error);\n            setHtmlContent(\"// Error fetching HTML content\");\n        } finally{\n            setLoadingHtml(false);\n        }\n    };\n    // Fetch HTML when switching to code tab for web apps\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (type === \"web_app\" && activeTab === \"code\" && !htmlContent && !loadingHtml) {\n            const webAppData = data;\n            if (webAppData.url) {\n                fetchHtmlContent(webAppData.url);\n            }\n        }\n    }, [\n        activeTab,\n        type,\n        htmlContent,\n        loadingHtml,\n        data\n    ]);\n    const handleCopy = async (content)=>{\n        try {\n            await navigator.clipboard.writeText(content);\n            setCopied(true);\n            setTimeout(()=>setCopied(false), 2000);\n        } catch (err) {\n            console.error(\"Failed to copy:\", err);\n        }\n    };\n    const renderWebAppPreview = (webAppData)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"bg-background\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"iframe\", {\n                src: webAppData.url,\n                className: \"w-full h-64 sm:h-80 md:h-96\",\n                title: `Web App Preview: ${webAppData.appName || \"Untitled\"}`,\n                sandbox: \"allow-scripts allow-same-origin allow-forms allow-popups allow-top-navigation-by-user-activation\",\n                loading: \"lazy\"\n            }, void 0, false, {\n                fileName: \"/var/www/flask_app/ast_chat/components/ContentPreview.tsx\",\n                lineNumber: 133,\n                columnNumber: 7\n            }, undefined)\n        }, void 0, false, {\n            fileName: \"/var/www/flask_app/ast_chat/components/ContentPreview.tsx\",\n            lineNumber: 132,\n            columnNumber: 5\n        }, undefined);\n    const renderCodeView = (codeData)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"bg-background\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex items-center justify-between p-3 border-b border-border\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex items-center gap-2\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Check_Code2_Copy_ExternalLink_Eye_FileText_lucide_react__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n                                    className: \"w-4 h-4\"\n                                }, void 0, false, {\n                                    fileName: \"/var/www/flask_app/ast_chat/components/ContentPreview.tsx\",\n                                    lineNumber: 147,\n                                    columnNumber: 11\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    className: \"text-sm font-medium\",\n                                    children: codeData.filename || `${codeData.language || \"text\"} code`\n                                }, void 0, false, {\n                                    fileName: \"/var/www/flask_app/ast_chat/components/ContentPreview.tsx\",\n                                    lineNumber: 148,\n                                    columnNumber: 11\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/var/www/flask_app/ast_chat/components/ContentPreview.tsx\",\n                            lineNumber: 146,\n                            columnNumber: 9\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            onClick: ()=>handleCopy(codeData.content),\n                            className: \"inline-flex items-center px-2 py-1 text-xs bg-muted text-muted-foreground rounded-md hover:bg-muted/80 transition-colors\",\n                            children: [\n                                copied ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Check_Code2_Copy_ExternalLink_Eye_FileText_lucide_react__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n                                    className: \"w-3 h-3 mr-1\"\n                                }, void 0, false, {\n                                    fileName: \"/var/www/flask_app/ast_chat/components/ContentPreview.tsx\",\n                                    lineNumber: 156,\n                                    columnNumber: 21\n                                }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Check_Code2_Copy_ExternalLink_Eye_FileText_lucide_react__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n                                    className: \"w-3 h-3 mr-1\"\n                                }, void 0, false, {\n                                    fileName: \"/var/www/flask_app/ast_chat/components/ContentPreview.tsx\",\n                                    lineNumber: 156,\n                                    columnNumber: 58\n                                }, undefined),\n                                copied ? \"Copied!\" : \"Copy\"\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/var/www/flask_app/ast_chat/components/ContentPreview.tsx\",\n                            lineNumber: 152,\n                            columnNumber: 9\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/var/www/flask_app/ast_chat/components/ContentPreview.tsx\",\n                    lineNumber: 145,\n                    columnNumber: 7\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"p-0\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"pre\", {\n                        className: \"p-4 overflow-x-auto text-sm bg-muted/30 font-mono\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"code\", {\n                            children: codeData.content\n                        }, void 0, false, {\n                            fileName: \"/var/www/flask_app/ast_chat/components/ContentPreview.tsx\",\n                            lineNumber: 162,\n                            columnNumber: 11\n                        }, undefined)\n                    }, void 0, false, {\n                        fileName: \"/var/www/flask_app/ast_chat/components/ContentPreview.tsx\",\n                        lineNumber: 161,\n                        columnNumber: 9\n                    }, undefined)\n                }, void 0, false, {\n                    fileName: \"/var/www/flask_app/ast_chat/components/ContentPreview.tsx\",\n                    lineNumber: 160,\n                    columnNumber: 7\n                }, undefined)\n            ]\n        }, void 0, true, {\n            fileName: \"/var/www/flask_app/ast_chat/components/ContentPreview.tsx\",\n            lineNumber: 144,\n            columnNumber: 5\n        }, undefined);\n    const renderWebAppCodeView = ()=>{\n        if (loadingHtml) {\n            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"bg-background p-8 text-center\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4\"\n                    }, void 0, false, {\n                        fileName: \"/var/www/flask_app/ast_chat/components/ContentPreview.tsx\",\n                        lineNumber: 172,\n                        columnNumber: 11\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"text-muted-foreground\",\n                        children: \"Loading HTML source...\"\n                    }, void 0, false, {\n                        fileName: \"/var/www/flask_app/ast_chat/components/ContentPreview.tsx\",\n                        lineNumber: 173,\n                        columnNumber: 11\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/var/www/flask_app/ast_chat/components/ContentPreview.tsx\",\n                lineNumber: 171,\n                columnNumber: 9\n            }, undefined);\n        }\n        const content = htmlContent || \"// No HTML content available\";\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"bg-background\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex items-center justify-between p-3 border-b border-border\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex items-center gap-2\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Check_Code2_Copy_ExternalLink_Eye_FileText_lucide_react__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n                                    className: \"w-4 h-4\"\n                                }, void 0, false, {\n                                    fileName: \"/var/www/flask_app/ast_chat/components/ContentPreview.tsx\",\n                                    lineNumber: 184,\n                                    columnNumber: 13\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    className: \"text-sm font-medium\",\n                                    children: [\n                                        data.appName || \"Web App\",\n                                        \".html\"\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/var/www/flask_app/ast_chat/components/ContentPreview.tsx\",\n                                    lineNumber: 185,\n                                    columnNumber: 13\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/var/www/flask_app/ast_chat/components/ContentPreview.tsx\",\n                            lineNumber: 183,\n                            columnNumber: 11\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            onClick: ()=>handleCopy(content),\n                            className: \"inline-flex items-center px-2 py-1 text-xs bg-muted text-muted-foreground rounded-md hover:bg-muted/80 transition-colors\",\n                            children: [\n                                copied ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Check_Code2_Copy_ExternalLink_Eye_FileText_lucide_react__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n                                    className: \"w-3 h-3 mr-1\"\n                                }, void 0, false, {\n                                    fileName: \"/var/www/flask_app/ast_chat/components/ContentPreview.tsx\",\n                                    lineNumber: 193,\n                                    columnNumber: 23\n                                }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Check_Code2_Copy_ExternalLink_Eye_FileText_lucide_react__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n                                    className: \"w-3 h-3 mr-1\"\n                                }, void 0, false, {\n                                    fileName: \"/var/www/flask_app/ast_chat/components/ContentPreview.tsx\",\n                                    lineNumber: 193,\n                                    columnNumber: 60\n                                }, undefined),\n                                copied ? \"Copied!\" : \"Copy\"\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/var/www/flask_app/ast_chat/components/ContentPreview.tsx\",\n                            lineNumber: 189,\n                            columnNumber: 11\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/var/www/flask_app/ast_chat/components/ContentPreview.tsx\",\n                    lineNumber: 182,\n                    columnNumber: 9\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"p-0\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"pre\", {\n                        className: \"p-4 overflow-x-auto text-sm bg-muted/30 font-mono\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"code\", {\n                            children: content\n                        }, void 0, false, {\n                            fileName: \"/var/www/flask_app/ast_chat/components/ContentPreview.tsx\",\n                            lineNumber: 199,\n                            columnNumber: 13\n                        }, undefined)\n                    }, void 0, false, {\n                        fileName: \"/var/www/flask_app/ast_chat/components/ContentPreview.tsx\",\n                        lineNumber: 198,\n                        columnNumber: 11\n                    }, undefined)\n                }, void 0, false, {\n                    fileName: \"/var/www/flask_app/ast_chat/components/ContentPreview.tsx\",\n                    lineNumber: 197,\n                    columnNumber: 9\n                }, undefined)\n            ]\n        }, void 0, true, {\n            fileName: \"/var/www/flask_app/ast_chat/components/ContentPreview.tsx\",\n            lineNumber: 181,\n            columnNumber: 7\n        }, undefined);\n    };\n    const renderDiffView = (codeData)=>{\n        if (!codeData.original || !codeData.modified) {\n            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"p-4 text-center text-muted-foreground\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Check_Code2_Copy_ExternalLink_Eye_FileText_lucide_react__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n                        className: \"w-8 h-8 mx-auto mb-2 opacity-50\"\n                    }, void 0, false, {\n                        fileName: \"/var/www/flask_app/ast_chat/components/ContentPreview.tsx\",\n                        lineNumber: 210,\n                        columnNumber: 11\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        children: \"No diff data available\"\n                    }, void 0, false, {\n                        fileName: \"/var/www/flask_app/ast_chat/components/ContentPreview.tsx\",\n                        lineNumber: 211,\n                        columnNumber: 11\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/var/www/flask_app/ast_chat/components/ContentPreview.tsx\",\n                lineNumber: 209,\n                columnNumber: 9\n            }, undefined);\n        }\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_MonacoDiffViewer__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n            original: codeData.original,\n            modified: codeData.modified,\n            language: codeData.language || \"text\",\n            filename: codeData.filename || \"file\",\n            height: \"500px\",\n            className: \"w-full\"\n        }, void 0, false, {\n            fileName: \"/var/www/flask_app/ast_chat/components/ContentPreview.tsx\",\n            lineNumber: 217,\n            columnNumber: 7\n        }, undefined);\n    };\n    const renderTabContent = ()=>{\n        switch(activeTab){\n            case \"preview\":\n                if (type === \"web_app\") {\n                    return renderWebAppPreview(data);\n                } else if (type === \"diff\") {\n                    const codeData = data;\n                    if (codeData.url) {\n                        // Render web app preview for web app diffs\n                        return renderWebAppPreview({\n                            url: codeData.url,\n                            appName: codeData.appName,\n                            status: codeData.status || \"success\",\n                            message: codeData.message || \"\",\n                            backup_created: codeData.backup_created\n                        });\n                    }\n                }\n                break;\n            case \"code\":\n                if (type === \"web_app\") {\n                    return renderWebAppCodeView();\n                } else if (type === \"code\") {\n                    return renderCodeView(data);\n                } else if (type === \"diff\") {\n                    const codeData = data;\n                    // For web app diffs, show the modified code\n                    return renderCodeView({\n                        content: codeData.modified || \"\",\n                        language: codeData.language,\n                        filename: codeData.filename\n                    });\n                }\n                break;\n            case \"diff\":\n                if (type === \"diff\") {\n                    return renderDiffView(data);\n                }\n                break;\n        }\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"p-4 text-center text-muted-foreground\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                children: \"Content not available for this tab\"\n            }, void 0, false, {\n                fileName: \"/var/www/flask_app/ast_chat/components/ContentPreview.tsx\",\n                lineNumber: 271,\n                columnNumber: 9\n            }, undefined)\n        }, void 0, false, {\n            fileName: \"/var/www/flask_app/ast_chat/components/ContentPreview.tsx\",\n            lineNumber: 270,\n            columnNumber: 7\n        }, undefined);\n    };\n    const getTitle = ()=>{\n        if (type === \"web_app\") {\n            const webAppData = data;\n            return webAppData.appName || \"Web Application\";\n        } else if (type === \"code\") {\n            const codeData = data;\n            return codeData.filename || `${codeData.language || \"Code\"} Preview`;\n        } else if (type === \"diff\") {\n            const codeData = data;\n            if (codeData.url && codeData.appName) {\n                return `${codeData.appName} (Edited)`;\n            }\n            return codeData.filename || `${codeData.language || \"Code\"} Diff`;\n        }\n        return \"Content Preview\";\n    };\n    const getExternalUrl = ()=>{\n        if (type === \"web_app\") {\n            return data.url;\n        } else if (type === \"diff\") {\n            const codeData = data;\n            return codeData.url || null;\n        }\n        return null;\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"mt-4 border rounded-lg shadow-md bg-muted/40 overflow-hidden\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex items-center justify-between p-3 bg-background border-b border-border\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center gap-4\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h4\", {\n                                className: \"text-sm font-semibold text-foreground\",\n                                children: getTitle()\n                            }, void 0, false, {\n                                fileName: \"/var/www/flask_app/ast_chat/components/ContentPreview.tsx\",\n                                lineNumber: 308,\n                                columnNumber: 11\n                            }, undefined),\n                            availableTabs.length > 1 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex items-center gap-1\",\n                                children: availableTabs.map((tab)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: ()=>setActiveTab(tab.key),\n                                        className: `inline-flex items-center px-3 py-1 text-xs rounded-md transition-colors ${activeTab === tab.key ? \"bg-primary text-primary-foreground\" : \"bg-muted text-muted-foreground hover:bg-muted/80\"}`,\n                                        children: [\n                                            tab.icon,\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"ml-1\",\n                                                children: tab.label\n                                            }, void 0, false, {\n                                                fileName: \"/var/www/flask_app/ast_chat/components/ContentPreview.tsx\",\n                                                lineNumber: 324,\n                                                columnNumber: 19\n                                            }, undefined)\n                                        ]\n                                    }, tab.key, true, {\n                                        fileName: \"/var/www/flask_app/ast_chat/components/ContentPreview.tsx\",\n                                        lineNumber: 314,\n                                        columnNumber: 17\n                                    }, undefined))\n                            }, void 0, false, {\n                                fileName: \"/var/www/flask_app/ast_chat/components/ContentPreview.tsx\",\n                                lineNumber: 312,\n                                columnNumber: 13\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/var/www/flask_app/ast_chat/components/ContentPreview.tsx\",\n                        lineNumber: 307,\n                        columnNumber: 9\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center gap-2\",\n                        children: [\n                            getExternalUrl() && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: ()=>window.open(getExternalUrl(), \"_blank\"),\n                                className: \"inline-flex items-center px-3 py-1 text-xs bg-primary text-primary-foreground rounded-md hover:bg-primary/90 transition-colors\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Check_Code2_Copy_ExternalLink_Eye_FileText_lucide_react__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n                                        className: \"w-3 h-3 mr-1\"\n                                    }, void 0, false, {\n                                        fileName: \"/var/www/flask_app/ast_chat/components/ContentPreview.tsx\",\n                                        lineNumber: 338,\n                                        columnNumber: 15\n                                    }, undefined),\n                                    \"Open\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/var/www/flask_app/ast_chat/components/ContentPreview.tsx\",\n                                lineNumber: 334,\n                                columnNumber: 13\n                            }, undefined),\n                            toolCall && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: \"text-xs text-muted-foreground\",\n                                children: toolCall.name\n                            }, void 0, false, {\n                                fileName: \"/var/www/flask_app/ast_chat/components/ContentPreview.tsx\",\n                                lineNumber: 344,\n                                columnNumber: 13\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/var/www/flask_app/ast_chat/components/ContentPreview.tsx\",\n                        lineNumber: 332,\n                        columnNumber: 9\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/var/www/flask_app/ast_chat/components/ContentPreview.tsx\",\n                lineNumber: 306,\n                columnNumber: 7\n            }, undefined),\n            renderTabContent()\n        ]\n    }, void 0, true, {\n        fileName: \"/var/www/flask_app/ast_chat/components/ContentPreview.tsx\",\n        lineNumber: 304,\n        columnNumber: 5\n    }, undefined);\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ContentPreview);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFVOzswQkFFYiw4REFBQ3VCO2dCQUFJdkIsV0FBVTs7a0NBQ2IsOERBQUN1Qjt3QkFBSXZCLFdBQVU7OzBDQUNiLDhEQUFDa0Q7Z0NBQUdsRCxXQUFVOzBDQUF5Q2dEOzs7Ozs7NEJBR3REdkQsY0FBY1UsTUFBTSxHQUFHLG1CQUN0Qiw4REFBQ29CO2dDQUFJdkIsV0FBVTswQ0FDWlAsY0FBYzBELEdBQUcsQ0FBQyxDQUFDOUMsb0JBQ2xCLDhEQUFDNkI7d0NBRUNDLFNBQVMsSUFBTWxELGFBQWFvQixJQUFJUixHQUFHO3dDQUNuQ0csV0FBVyxDQUFDLHdFQUF3RSxFQUNsRmhCLGNBQWNxQixJQUFJUixHQUFHLEdBQ2pCLHVDQUNBLG1EQUNMLENBQUM7OzRDQUVEUSxJQUFJTixJQUFJOzBEQUNULDhEQUFDZ0M7Z0RBQUsvQixXQUFVOzBEQUFRSyxJQUFJUCxLQUFLOzs7Ozs7O3VDQVQ1Qk8sSUFBSVIsR0FBRzs7Ozs7Ozs7Ozs7Ozs7OztrQ0FpQnRCLDhEQUFDMEI7d0JBQUl2QixXQUFVOzs0QkFDWmlELGtDQUNDLDhEQUFDZjtnQ0FDQ0MsU0FBUyxJQUFNaUIsT0FBT0MsSUFBSSxDQUFDSixrQkFBbUI7Z0NBQzlDakQsV0FBVTs7a0RBRVYsOERBQUM5QixzSEFBWUE7d0NBQUM4QixXQUFVOzs7Ozs7b0NBQWlCOzs7Ozs7OzRCQUs1Q2xCLDBCQUNDLDhEQUFDaUQ7Z0NBQUsvQixXQUFVOzBDQUNibEIsU0FBU3dFLElBQUk7Ozs7Ozs7Ozs7Ozs7Ozs7OztZQU9yQlY7Ozs7Ozs7QUFHUDtBQUVBLGlFQUFlbEUsY0FBY0EsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2FzdF9jaGF0Ly4vY29tcG9uZW50cy9Db250ZW50UHJldmlldy50c3g/MDQzMSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUsIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IEV4dGVybmFsTGluaywgQ29kZTIsIEV5ZSwgRmlsZVRleHQsIERvd25sb2FkLCBDb3B5LCBDaGVjayB9IGZyb20gJ2x1Y2lkZS1yZWFjdCc7XG5pbXBvcnQgTW9uYWNvRGlmZlZpZXdlciBmcm9tICcuL01vbmFjb0RpZmZWaWV3ZXInO1xuaW1wb3J0IHsgdXNlVGhlbWUgfSBmcm9tIFwibmV4dC10aGVtZXNcIjtcblxuaW50ZXJmYWNlIFdlYkFwcERhdGEge1xuICB1cmw6IHN0cmluZztcbiAgYXBwTmFtZT86IHN0cmluZztcbiAgc3RhdHVzOiAnc3VjY2VzcycgfCAnZXJyb3InO1xuICBtZXNzYWdlOiBzdHJpbmc7XG4gIGJhY2t1cF9jcmVhdGVkPzogc3RyaW5nO1xuICBodG1sQ29udGVudD86IHN0cmluZzsgLy8gQWRkIEhUTUwgY29udGVudCBmb3IgY29kZSB2aWV3XG59XG5cbmludGVyZmFjZSBDb2RlRGF0YSB7XG4gIGNvbnRlbnQ6IHN0cmluZztcbiAgbGFuZ3VhZ2U/OiBzdHJpbmc7XG4gIGZpbGVuYW1lPzogc3RyaW5nO1xuICBvcmlnaW5hbD86IHN0cmluZzsgLy8gRm9yIGRpZmZzXG4gIG1vZGlmaWVkPzogc3RyaW5nOyAvLyBGb3IgZGlmZnNcbiAgLy8gV2ViIGFwcCBkaWZmIHNwZWNpZmljIGZpZWxkc1xuICB1cmw/OiBzdHJpbmc7XG4gIGFwcE5hbWU/OiBzdHJpbmc7XG4gIHN0YXR1cz86ICdzdWNjZXNzJyB8ICdlcnJvcic7XG4gIG1lc3NhZ2U/OiBzdHJpbmc7XG4gIGJhY2t1cF9jcmVhdGVkPzogc3RyaW5nO1xufVxuXG5pbnRlcmZhY2UgQ29udGVudFByZXZpZXdQcm9wcyB7XG4gIC8vIFVuaXF1ZSBpZGVudGlmaWVyIGZvciB0aGlzIHByZXZpZXcgaW5zdGFuY2UgKGUuZy4sIGFwcF9uYW1lIGZvciB3ZWIgYXBwcylcbiAgaWQ6IHN0cmluZztcbiAgXG4gIC8vIENvbnRlbnQgdHlwZSBhbmQgZGF0YVxuICB0eXBlOiAnd2ViX2FwcCcgfCAnY29kZScgfCAnZGlmZic7XG4gIGRhdGE6IFdlYkFwcERhdGEgfCBDb2RlRGF0YTtcbiAgXG4gIC8vIFRvb2wgY2FsbCBjb250ZXh0IGZvciBhZGRpdGlvbmFsIGluZm9cbiAgdG9vbENhbGw/OiB7XG4gICAgbmFtZTogc3RyaW5nO1xuICAgIGNhbGxfaWQ6IHN0cmluZztcbiAgICBzdGF0dXM/OiBzdHJpbmc7XG4gIH07XG4gIFxuICAvLyBVcGRhdGUgY2FsbGJhY2sgZm9yIHdoZW4gY29udGVudCBjaGFuZ2VzXG4gIG9uVXBkYXRlPzogKGlkOiBzdHJpbmcsIG5ld0RhdGE6IGFueSkgPT4gdm9pZDtcbn1cblxuY29uc3QgQ29udGVudFByZXZpZXc6IFJlYWN0LkZDPENvbnRlbnRQcmV2aWV3UHJvcHM+ID0gKHsgXG4gIGlkLCBcbiAgdHlwZSwgXG4gIGRhdGEsIFxuICB0b29sQ2FsbCxcbiAgb25VcGRhdGUgXG59KSA9PiB7XG4gIGNvbnN0IFthY3RpdmVUYWIsIHNldEFjdGl2ZVRhYl0gPSB1c2VTdGF0ZTwncHJldmlldycgfCAnY29kZScgfCAnZGlmZic+KCdwcmV2aWV3Jyk7XG4gIGNvbnN0IFtjb3BpZWQsIHNldENvcGllZF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtodG1sQ29udGVudCwgc2V0SHRtbENvbnRlbnRdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtsb2FkaW5nSHRtbCwgc2V0TG9hZGluZ0h0bWxdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCB7IHRoZW1lIH0gPSB1c2VUaGVtZSgpO1xuXG4gIC8vIERldGVybWluZSBhdmFpbGFibGUgdGFicyBiYXNlZCBvbiBjb250ZW50IHR5cGVcbiAgY29uc3QgYXZhaWxhYmxlVGFicyA9IFJlYWN0LnVzZU1lbW8oKCkgPT4ge1xuICAgIGNvbnN0IHRhYnM6IEFycmF5PHsga2V5OiAncHJldmlldycgfCAnY29kZScgfCAnZGlmZic7IGxhYmVsOiBzdHJpbmc7IGljb246IFJlYWN0LlJlYWN0Tm9kZSB9PiA9IFtdO1xuICAgIFxuICAgIGlmICh0eXBlID09PSAnd2ViX2FwcCcpIHtcbiAgICAgIHRhYnMucHVzaCh7IGtleTogJ3ByZXZpZXcnLCBsYWJlbDogJ1ByZXZpZXcnLCBpY29uOiA8RXllIGNsYXNzTmFtZT1cInctNCBoLTRcIiAvPiB9KTtcbiAgICAgIHRhYnMucHVzaCh7IGtleTogJ2NvZGUnLCBsYWJlbDogJ0NvZGUnLCBpY29uOiA8Q29kZTIgY2xhc3NOYW1lPVwidy00IGgtNFwiIC8+IH0pO1xuICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ2NvZGUnKSB7XG4gICAgICB0YWJzLnB1c2goeyBrZXk6ICdjb2RlJywgbGFiZWw6ICdDb2RlJywgaWNvbjogPENvZGUyIGNsYXNzTmFtZT1cInctNCBoLTRcIiAvPiB9KTtcbiAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdkaWZmJykge1xuICAgICAgY29uc3QgY29kZURhdGEgPSBkYXRhIGFzIENvZGVEYXRhO1xuICAgICAgLy8gSWYgaXQncyBhIHdlYiBhcHAgZGlmZiAoaGFzIFVSTCksIHNob3cgcHJldmlldyB0YWIgdG9vXG4gICAgICBpZiAoY29kZURhdGEudXJsKSB7XG4gICAgICAgIHRhYnMucHVzaCh7IGtleTogJ3ByZXZpZXcnLCBsYWJlbDogJ1ByZXZpZXcnLCBpY29uOiA8RXllIGNsYXNzTmFtZT1cInctNCBoLTRcIiAvPiB9KTtcbiAgICAgIH1cbiAgICAgIHRhYnMucHVzaCh7IGtleTogJ2NvZGUnLCBsYWJlbDogJ0NvZGUnLCBpY29uOiA8Q29kZTIgY2xhc3NOYW1lPVwidy00IGgtNFwiIC8+IH0pO1xuICAgICAgdGFicy5wdXNoKHsga2V5OiAnZGlmZicsIGxhYmVsOiAnRGlmZicsIGljb246IDxGaWxlVGV4dCBjbGFzc05hbWU9XCJ3LTQgaC00XCIgLz4gfSk7XG4gICAgfVxuICAgIFxuICAgIHJldHVybiB0YWJzO1xuICB9LCBbdHlwZSwgZGF0YV0pO1xuXG4gIC8vIFNldCBkZWZhdWx0IGFjdGl2ZSB0YWIgYmFzZWQgb24gYXZhaWxhYmxlIHRhYnNcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoYXZhaWxhYmxlVGFicy5sZW5ndGggPiAwICYmICFhdmFpbGFibGVUYWJzLmZpbmQodGFiID0+IHRhYi5rZXkgPT09IGFjdGl2ZVRhYikpIHtcbiAgICAgIHNldEFjdGl2ZVRhYihhdmFpbGFibGVUYWJzWzBdLmtleSk7XG4gICAgfVxuICB9LCBbYXZhaWxhYmxlVGFicywgYWN0aXZlVGFiXSk7XG5cbiAgLy8gRnVuY3Rpb24gdG8gZmV0Y2ggSFRNTCBjb250ZW50IGZvciB3ZWIgYXBwc1xuICBjb25zdCBmZXRjaEh0bWxDb250ZW50ID0gYXN5bmMgKHVybDogc3RyaW5nKSA9PiB7XG4gICAgaWYgKGh0bWxDb250ZW50IHx8IGxvYWRpbmdIdG1sKSByZXR1cm47IC8vIERvbid0IGZldGNoIGlmIGFscmVhZHkgbG9hZGVkIG9yIGxvYWRpbmdcbiAgICBcbiAgICBzZXRMb2FkaW5nSHRtbCh0cnVlKTtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh1cmwpO1xuICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7XG4gICAgICAgIGNvbnN0IGh0bWwgPSBhd2FpdCByZXNwb25zZS50ZXh0KCk7XG4gICAgICAgIHNldEh0bWxDb250ZW50KGh0bWwpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2V0SHRtbENvbnRlbnQoJy8vIEZhaWxlZCB0byBmZXRjaCBIVE1MIGNvbnRlbnQnKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGZldGNoIEhUTUw6JywgZXJyb3IpO1xuICAgICAgc2V0SHRtbENvbnRlbnQoJy8vIEVycm9yIGZldGNoaW5nIEhUTUwgY29udGVudCcpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBzZXRMb2FkaW5nSHRtbChmYWxzZSk7XG4gICAgfVxuICB9O1xuXG4gIC8vIEZldGNoIEhUTUwgd2hlbiBzd2l0Y2hpbmcgdG8gY29kZSB0YWIgZm9yIHdlYiBhcHBzXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKHR5cGUgPT09ICd3ZWJfYXBwJyAmJiBhY3RpdmVUYWIgPT09ICdjb2RlJyAmJiAhaHRtbENvbnRlbnQgJiYgIWxvYWRpbmdIdG1sKSB7XG4gICAgICBjb25zdCB3ZWJBcHBEYXRhID0gZGF0YSBhcyBXZWJBcHBEYXRhO1xuICAgICAgaWYgKHdlYkFwcERhdGEudXJsKSB7XG4gICAgICAgIGZldGNoSHRtbENvbnRlbnQod2ViQXBwRGF0YS51cmwpO1xuICAgICAgfVxuICAgIH1cbiAgfSwgW2FjdGl2ZVRhYiwgdHlwZSwgaHRtbENvbnRlbnQsIGxvYWRpbmdIdG1sLCBkYXRhXSk7XG5cbiAgY29uc3QgaGFuZGxlQ29weSA9IGFzeW5jIChjb250ZW50OiBzdHJpbmcpID0+IHtcbiAgICB0cnkge1xuICAgICAgYXdhaXQgbmF2aWdhdG9yLmNsaXBib2FyZC53cml0ZVRleHQoY29udGVudCk7XG4gICAgICBzZXRDb3BpZWQodHJ1ZSk7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHNldENvcGllZChmYWxzZSksIDIwMDApO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGNvcHk6JywgZXJyKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgcmVuZGVyV2ViQXBwUHJldmlldyA9ICh3ZWJBcHBEYXRhOiBXZWJBcHBEYXRhKSA9PiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJiZy1iYWNrZ3JvdW5kXCI+XG4gICAgICA8aWZyYW1lXG4gICAgICAgIHNyYz17d2ViQXBwRGF0YS51cmx9XG4gICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBoLTY0IHNtOmgtODAgbWQ6aC05NlwiXG4gICAgICAgIHRpdGxlPXtgV2ViIEFwcCBQcmV2aWV3OiAke3dlYkFwcERhdGEuYXBwTmFtZSB8fCAnVW50aXRsZWQnfWB9XG4gICAgICAgIHNhbmRib3g9XCJhbGxvdy1zY3JpcHRzIGFsbG93LXNhbWUtb3JpZ2luIGFsbG93LWZvcm1zIGFsbG93LXBvcHVwcyBhbGxvdy10b3AtbmF2aWdhdGlvbi1ieS11c2VyLWFjdGl2YXRpb25cIlxuICAgICAgICBsb2FkaW5nPVwibGF6eVwiXG4gICAgICAvPlxuICAgIDwvZGl2PlxuICApO1xuXG4gIGNvbnN0IHJlbmRlckNvZGVWaWV3ID0gKGNvZGVEYXRhOiBDb2RlRGF0YSkgPT4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctYmFja2dyb3VuZFwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gcC0zIGJvcmRlci1iIGJvcmRlci1ib3JkZXJcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxuICAgICAgICAgIDxDb2RlMiBjbGFzc05hbWU9XCJ3LTQgaC00XCIgLz5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXNtIGZvbnQtbWVkaXVtXCI+XG4gICAgICAgICAgICB7Y29kZURhdGEuZmlsZW5hbWUgfHwgYCR7Y29kZURhdGEubGFuZ3VhZ2UgfHwgJ3RleHQnfSBjb2RlYH1cbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgb25DbGljaz17KCkgPT4gaGFuZGxlQ29weShjb2RlRGF0YS5jb250ZW50KX1cbiAgICAgICAgICBjbGFzc05hbWU9XCJpbmxpbmUtZmxleCBpdGVtcy1jZW50ZXIgcHgtMiBweS0xIHRleHQteHMgYmctbXV0ZWQgdGV4dC1tdXRlZC1mb3JlZ3JvdW5kIHJvdW5kZWQtbWQgaG92ZXI6YmctbXV0ZWQvODAgdHJhbnNpdGlvbi1jb2xvcnNcIlxuICAgICAgICA+XG4gICAgICAgICAge2NvcGllZCA/IDxDaGVjayBjbGFzc05hbWU9XCJ3LTMgaC0zIG1yLTFcIiAvPiA6IDxDb3B5IGNsYXNzTmFtZT1cInctMyBoLTMgbXItMVwiIC8+fVxuICAgICAgICAgIHtjb3BpZWQgPyAnQ29waWVkIScgOiAnQ29weSd9XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInAtMFwiPlxuICAgICAgICA8cHJlIGNsYXNzTmFtZT1cInAtNCBvdmVyZmxvdy14LWF1dG8gdGV4dC1zbSBiZy1tdXRlZC8zMCBmb250LW1vbm9cIj5cbiAgICAgICAgICA8Y29kZT57Y29kZURhdGEuY29udGVudH08L2NvZGU+XG4gICAgICAgIDwvcHJlPlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICk7XG5cbiAgY29uc3QgcmVuZGVyV2ViQXBwQ29kZVZpZXcgPSAoKSA9PiB7XG4gICAgaWYgKGxvYWRpbmdIdG1sKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLWJhY2tncm91bmQgcC04IHRleHQtY2VudGVyXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhbmltYXRlLXNwaW4gcm91bmRlZC1mdWxsIGgtOCB3LTggYm9yZGVyLWItMiBib3JkZXItcHJpbWFyeSBteC1hdXRvIG1iLTRcIj48L2Rpdj5cbiAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LW11dGVkLWZvcmVncm91bmRcIj5Mb2FkaW5nIEhUTUwgc291cmNlLi4uPC9wPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICk7XG4gICAgfVxuXG4gICAgY29uc3QgY29udGVudCA9IGh0bWxDb250ZW50IHx8ICcvLyBObyBIVE1MIGNvbnRlbnQgYXZhaWxhYmxlJztcbiAgICBcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy1iYWNrZ3JvdW5kXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIHAtMyBib3JkZXItYiBib3JkZXItYm9yZGVyXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxuICAgICAgICAgICAgPENvZGUyIGNsYXNzTmFtZT1cInctNCBoLTRcIiAvPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1zbSBmb250LW1lZGl1bVwiPlxuICAgICAgICAgICAgICB7KGRhdGEgYXMgV2ViQXBwRGF0YSkuYXBwTmFtZSB8fCAnV2ViIEFwcCd9Lmh0bWxcbiAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBoYW5kbGVDb3B5KGNvbnRlbnQpfVxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiaW5saW5lLWZsZXggaXRlbXMtY2VudGVyIHB4LTIgcHktMSB0ZXh0LXhzIGJnLW11dGVkIHRleHQtbXV0ZWQtZm9yZWdyb3VuZCByb3VuZGVkLW1kIGhvdmVyOmJnLW11dGVkLzgwIHRyYW5zaXRpb24tY29sb3JzXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICB7Y29waWVkID8gPENoZWNrIGNsYXNzTmFtZT1cInctMyBoLTMgbXItMVwiIC8+IDogPENvcHkgY2xhc3NOYW1lPVwidy0zIGgtMyBtci0xXCIgLz59XG4gICAgICAgICAgICB7Y29waWVkID8gJ0NvcGllZCEnIDogJ0NvcHknfVxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwLTBcIj5cbiAgICAgICAgICA8cHJlIGNsYXNzTmFtZT1cInAtNCBvdmVyZmxvdy14LWF1dG8gdGV4dC1zbSBiZy1tdXRlZC8zMCBmb250LW1vbm9cIj5cbiAgICAgICAgICAgIDxjb2RlPntjb250ZW50fTwvY29kZT5cbiAgICAgICAgICA8L3ByZT5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9O1xuXG4gIGNvbnN0IHJlbmRlckRpZmZWaWV3ID0gKGNvZGVEYXRhOiBDb2RlRGF0YSkgPT4ge1xuICAgIGlmICghY29kZURhdGEub3JpZ2luYWwgfHwgIWNvZGVEYXRhLm1vZGlmaWVkKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInAtNCB0ZXh0LWNlbnRlciB0ZXh0LW11dGVkLWZvcmVncm91bmRcIj5cbiAgICAgICAgICA8RmlsZVRleHQgY2xhc3NOYW1lPVwidy04IGgtOCBteC1hdXRvIG1iLTIgb3BhY2l0eS01MFwiIC8+XG4gICAgICAgICAgPHA+Tm8gZGlmZiBkYXRhIGF2YWlsYWJsZTwvcD5cbiAgICAgICAgPC9kaXY+XG4gICAgICApO1xuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICA8TW9uYWNvRGlmZlZpZXdlclxuICAgICAgICBvcmlnaW5hbD17Y29kZURhdGEub3JpZ2luYWx9XG4gICAgICAgIG1vZGlmaWVkPXtjb2RlRGF0YS5tb2RpZmllZH1cbiAgICAgICAgbGFuZ3VhZ2U9e2NvZGVEYXRhLmxhbmd1YWdlIHx8ICd0ZXh0J31cbiAgICAgICAgZmlsZW5hbWU9e2NvZGVEYXRhLmZpbGVuYW1lIHx8ICdmaWxlJ31cbiAgICAgICAgaGVpZ2h0PVwiNTAwcHhcIlxuICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGxcIlxuICAgICAgLz5cbiAgICApO1xuICB9O1xuXG4gIGNvbnN0IHJlbmRlclRhYkNvbnRlbnQgPSAoKSA9PiB7XG4gICAgc3dpdGNoIChhY3RpdmVUYWIpIHtcbiAgICAgIGNhc2UgJ3ByZXZpZXcnOlxuICAgICAgICBpZiAodHlwZSA9PT0gJ3dlYl9hcHAnKSB7XG4gICAgICAgICAgcmV0dXJuIHJlbmRlcldlYkFwcFByZXZpZXcoZGF0YSBhcyBXZWJBcHBEYXRhKTtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlID09PSAnZGlmZicpIHtcbiAgICAgICAgICBjb25zdCBjb2RlRGF0YSA9IGRhdGEgYXMgQ29kZURhdGE7XG4gICAgICAgICAgaWYgKGNvZGVEYXRhLnVybCkge1xuICAgICAgICAgICAgLy8gUmVuZGVyIHdlYiBhcHAgcHJldmlldyBmb3Igd2ViIGFwcCBkaWZmc1xuICAgICAgICAgICAgcmV0dXJuIHJlbmRlcldlYkFwcFByZXZpZXcoe1xuICAgICAgICAgICAgICB1cmw6IGNvZGVEYXRhLnVybCxcbiAgICAgICAgICAgICAgYXBwTmFtZTogY29kZURhdGEuYXBwTmFtZSxcbiAgICAgICAgICAgICAgc3RhdHVzOiBjb2RlRGF0YS5zdGF0dXMgfHwgJ3N1Y2Nlc3MnLFxuICAgICAgICAgICAgICBtZXNzYWdlOiBjb2RlRGF0YS5tZXNzYWdlIHx8ICcnLFxuICAgICAgICAgICAgICBiYWNrdXBfY3JlYXRlZDogY29kZURhdGEuYmFja3VwX2NyZWF0ZWQsXG4gICAgICAgICAgICB9IGFzIFdlYkFwcERhdGEpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ2NvZGUnOlxuICAgICAgICBpZiAodHlwZSA9PT0gJ3dlYl9hcHAnKSB7XG4gICAgICAgICAgcmV0dXJuIHJlbmRlcldlYkFwcENvZGVWaWV3KCk7XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ2NvZGUnKSB7XG4gICAgICAgICAgcmV0dXJuIHJlbmRlckNvZGVWaWV3KGRhdGEgYXMgQ29kZURhdGEpO1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdkaWZmJykge1xuICAgICAgICAgIGNvbnN0IGNvZGVEYXRhID0gZGF0YSBhcyBDb2RlRGF0YTtcbiAgICAgICAgICAvLyBGb3Igd2ViIGFwcCBkaWZmcywgc2hvdyB0aGUgbW9kaWZpZWQgY29kZVxuICAgICAgICAgIHJldHVybiByZW5kZXJDb2RlVmlldyh7XG4gICAgICAgICAgICBjb250ZW50OiBjb2RlRGF0YS5tb2RpZmllZCB8fCAnJyxcbiAgICAgICAgICAgIGxhbmd1YWdlOiBjb2RlRGF0YS5sYW5ndWFnZSxcbiAgICAgICAgICAgIGZpbGVuYW1lOiBjb2RlRGF0YS5maWxlbmFtZSxcbiAgICAgICAgICB9IGFzIENvZGVEYXRhKTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ2RpZmYnOlxuICAgICAgICBpZiAodHlwZSA9PT0gJ2RpZmYnKSB7XG4gICAgICAgICAgcmV0dXJuIHJlbmRlckRpZmZWaWV3KGRhdGEgYXMgQ29kZURhdGEpO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJwLTQgdGV4dC1jZW50ZXIgdGV4dC1tdXRlZC1mb3JlZ3JvdW5kXCI+XG4gICAgICAgIDxwPkNvbnRlbnQgbm90IGF2YWlsYWJsZSBmb3IgdGhpcyB0YWI8L3A+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9O1xuXG4gIGNvbnN0IGdldFRpdGxlID0gKCkgPT4ge1xuICAgIGlmICh0eXBlID09PSAnd2ViX2FwcCcpIHtcbiAgICAgIGNvbnN0IHdlYkFwcERhdGEgPSBkYXRhIGFzIFdlYkFwcERhdGE7XG4gICAgICByZXR1cm4gd2ViQXBwRGF0YS5hcHBOYW1lIHx8ICdXZWIgQXBwbGljYXRpb24nO1xuICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ2NvZGUnKSB7XG4gICAgICBjb25zdCBjb2RlRGF0YSA9IGRhdGEgYXMgQ29kZURhdGE7XG4gICAgICByZXR1cm4gY29kZURhdGEuZmlsZW5hbWUgfHwgYCR7Y29kZURhdGEubGFuZ3VhZ2UgfHwgJ0NvZGUnfSBQcmV2aWV3YDtcbiAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdkaWZmJykge1xuICAgICAgY29uc3QgY29kZURhdGEgPSBkYXRhIGFzIENvZGVEYXRhO1xuICAgICAgaWYgKGNvZGVEYXRhLnVybCAmJiBjb2RlRGF0YS5hcHBOYW1lKSB7XG4gICAgICAgIHJldHVybiBgJHtjb2RlRGF0YS5hcHBOYW1lfSAoRWRpdGVkKWA7XG4gICAgICB9XG4gICAgICByZXR1cm4gY29kZURhdGEuZmlsZW5hbWUgfHwgYCR7Y29kZURhdGEubGFuZ3VhZ2UgfHwgJ0NvZGUnfSBEaWZmYDtcbiAgICB9XG4gICAgcmV0dXJuICdDb250ZW50IFByZXZpZXcnO1xuICB9O1xuXG4gIGNvbnN0IGdldEV4dGVybmFsVXJsID0gKCkgPT4ge1xuICAgIGlmICh0eXBlID09PSAnd2ViX2FwcCcpIHtcbiAgICAgIHJldHVybiAoZGF0YSBhcyBXZWJBcHBEYXRhKS51cmw7XG4gICAgfSBlbHNlIGlmICh0eXBlID09PSAnZGlmZicpIHtcbiAgICAgIGNvbnN0IGNvZGVEYXRhID0gZGF0YSBhcyBDb2RlRGF0YTtcbiAgICAgIHJldHVybiBjb2RlRGF0YS51cmwgfHwgbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH07XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTQgYm9yZGVyIHJvdW5kZWQtbGcgc2hhZG93LW1kIGJnLW11dGVkLzQwIG92ZXJmbG93LWhpZGRlblwiPlxuICAgICAgey8qIEhlYWRlciB3aXRoIHRhYnMgKi99XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiBwLTMgYmctYmFja2dyb3VuZCBib3JkZXItYiBib3JkZXItYm9yZGVyXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTRcIj5cbiAgICAgICAgICA8aDQgY2xhc3NOYW1lPVwidGV4dC1zbSBmb250LXNlbWlib2xkIHRleHQtZm9yZWdyb3VuZFwiPntnZXRUaXRsZSgpfTwvaDQ+XG4gICAgICAgICAgXG4gICAgICAgICAgey8qIFRhYnMgKi99XG4gICAgICAgICAge2F2YWlsYWJsZVRhYnMubGVuZ3RoID4gMSAmJiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0xXCI+XG4gICAgICAgICAgICAgIHthdmFpbGFibGVUYWJzLm1hcCgodGFiKSA9PiAoXG4gICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAga2V5PXt0YWIua2V5fVxuICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0QWN0aXZlVGFiKHRhYi5rZXkpfVxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgaW5saW5lLWZsZXggaXRlbXMtY2VudGVyIHB4LTMgcHktMSB0ZXh0LXhzIHJvdW5kZWQtbWQgdHJhbnNpdGlvbi1jb2xvcnMgJHtcbiAgICAgICAgICAgICAgICAgICAgYWN0aXZlVGFiID09PSB0YWIua2V5XG4gICAgICAgICAgICAgICAgICAgICAgPyAnYmctcHJpbWFyeSB0ZXh0LXByaW1hcnktZm9yZWdyb3VuZCdcbiAgICAgICAgICAgICAgICAgICAgICA6ICdiZy1tdXRlZCB0ZXh0LW11dGVkLWZvcmVncm91bmQgaG92ZXI6YmctbXV0ZWQvODAnXG4gICAgICAgICAgICAgICAgICB9YH1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICB7dGFiLmljb259XG4gICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtbC0xXCI+e3RhYi5sYWJlbH08L3NwYW4+XG4gICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKX1cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgey8qIEFjdGlvbnMgKi99XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cbiAgICAgICAgICB7Z2V0RXh0ZXJuYWxVcmwoKSAmJiAoXG4gICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHdpbmRvdy5vcGVuKGdldEV4dGVybmFsVXJsKCkhLCAnX2JsYW5rJyl9XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImlubGluZS1mbGV4IGl0ZW1zLWNlbnRlciBweC0zIHB5LTEgdGV4dC14cyBiZy1wcmltYXJ5IHRleHQtcHJpbWFyeS1mb3JlZ3JvdW5kIHJvdW5kZWQtbWQgaG92ZXI6YmctcHJpbWFyeS85MCB0cmFuc2l0aW9uLWNvbG9yc1wiXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxFeHRlcm5hbExpbmsgY2xhc3NOYW1lPVwidy0zIGgtMyBtci0xXCIgLz5cbiAgICAgICAgICAgICAgT3BlblxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgKX1cbiAgICAgICAgICBcbiAgICAgICAgICB7dG9vbENhbGwgJiYgKFxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LW11dGVkLWZvcmVncm91bmRcIj5cbiAgICAgICAgICAgICAge3Rvb2xDYWxsLm5hbWV9XG4gICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgKX1cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cblxuICAgICAgey8qIENvbnRlbnQgKi99XG4gICAgICB7cmVuZGVyVGFiQ29udGVudCgpfVxuICAgIDwvZGl2PlxuICApO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgQ29udGVudFByZXZpZXc7ICJdLCJuYW1lcyI6WyJSZWFjdCIsInVzZVN0YXRlIiwidXNlRWZmZWN0IiwiRXh0ZXJuYWxMaW5rIiwiQ29kZTIiLCJFeWUiLCJGaWxlVGV4dCIsIkNvcHkiLCJDaGVjayIsIk1vbmFjb0RpZmZWaWV3ZXIiLCJ1c2VUaGVtZSIsIkNvbnRlbnRQcmV2aWV3IiwiaWQiLCJ0eXBlIiwiZGF0YSIsInRvb2xDYWxsIiwib25VcGRhdGUiLCJhY3RpdmVUYWIiLCJzZXRBY3RpdmVUYWIiLCJjb3BpZWQiLCJzZXRDb3BpZWQiLCJodG1sQ29udGVudCIsInNldEh0bWxDb250ZW50IiwibG9hZGluZ0h0bWwiLCJzZXRMb2FkaW5nSHRtbCIsInRoZW1lIiwiYXZhaWxhYmxlVGFicyIsInVzZU1lbW8iLCJ0YWJzIiwicHVzaCIsImtleSIsImxhYmVsIiwiaWNvbiIsImNsYXNzTmFtZSIsImNvZGVEYXRhIiwidXJsIiwibGVuZ3RoIiwiZmluZCIsInRhYiIsImZldGNoSHRtbENvbnRlbnQiLCJyZXNwb25zZSIsImZldGNoIiwib2siLCJodG1sIiwidGV4dCIsImVycm9yIiwiY29uc29sZSIsIndlYkFwcERhdGEiLCJoYW5kbGVDb3B5IiwiY29udGVudCIsIm5hdmlnYXRvciIsImNsaXBib2FyZCIsIndyaXRlVGV4dCIsInNldFRpbWVvdXQiLCJlcnIiLCJyZW5kZXJXZWJBcHBQcmV2aWV3IiwiZGl2IiwiaWZyYW1lIiwic3JjIiwidGl0bGUiLCJhcHBOYW1lIiwic2FuZGJveCIsImxvYWRpbmciLCJyZW5kZXJDb2RlVmlldyIsInNwYW4iLCJmaWxlbmFtZSIsImxhbmd1YWdlIiwiYnV0dG9uIiwib25DbGljayIsInByZSIsImNvZGUiLCJyZW5kZXJXZWJBcHBDb2RlVmlldyIsInAiLCJyZW5kZXJEaWZmVmlldyIsIm9yaWdpbmFsIiwibW9kaWZpZWQiLCJoZWlnaHQiLCJyZW5kZXJUYWJDb250ZW50Iiwic3RhdHVzIiwibWVzc2FnZSIsImJhY2t1cF9jcmVhdGVkIiwiZ2V0VGl0bGUiLCJnZXRFeHRlcm5hbFVybCIsImg0IiwibWFwIiwid2luZG93Iiwib3BlbiIsIm5hbWUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./components/ContentPreview.tsx\n");

/***/ }),

/***/ "(ssr)/./components/DirectionsSteps.tsx":
/*!****************************************!*\
  !*** ./components/DirectionsSteps.tsx ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n\n\nconst DirectionsSteps = ({ steps, totalDuration, totalDistance })=>{\n    if (!steps || steps.length === 0) {\n        return null; // Or <p>No steps available.</p>\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"mt-4 p-3 border rounded-lg shadow bg-muted/30 max-h-96 overflow-y-auto text-sm\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex justify-between items-center mb-2\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                        className: \"text-lg font-semibold text-foreground\",\n                        children: \"Directions\"\n                    }, void 0, false, {\n                        fileName: \"/var/www/flask_app/ast_chat/components/DirectionsSteps.tsx\",\n                        lineNumber: 24,\n                        columnNumber: 9\n                    }, undefined),\n                    (totalDuration || totalDistance) && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"text-xs text-primary font-medium\",\n                        children: [\n                            totalDistance && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                children: totalDistance\n                            }, void 0, false, {\n                                fileName: \"/var/www/flask_app/ast_chat/components/DirectionsSteps.tsx\",\n                                lineNumber: 27,\n                                columnNumber: 31\n                            }, undefined),\n                            totalDistance && totalDuration && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: \"mx-1\",\n                                children: \"|\"\n                            }, void 0, false, {\n                                fileName: \"/var/www/flask_app/ast_chat/components/DirectionsSteps.tsx\",\n                                lineNumber: 28,\n                                columnNumber: 48\n                            }, undefined),\n                            totalDuration && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                children: totalDuration\n                            }, void 0, false, {\n                                fileName: \"/var/www/flask_app/ast_chat/components/DirectionsSteps.tsx\",\n                                lineNumber: 29,\n                                columnNumber: 31\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/var/www/flask_app/ast_chat/components/DirectionsSteps.tsx\",\n                        lineNumber: 26,\n                        columnNumber: 11\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/var/www/flask_app/ast_chat/components/DirectionsSteps.tsx\",\n                lineNumber: 23,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"ol\", {\n                className: \"list-decimal list-inside space-y-2\",\n                children: steps.map((step, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                        className: \"text-muted-foreground leading-relaxed\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                dangerouslySetInnerHTML: {\n                                    __html: step.html_instructions\n                                }\n                            }, void 0, false, {\n                                fileName: \"/var/www/flask_app/ast_chat/components/DirectionsSteps.tsx\",\n                                lineNumber: 36,\n                                columnNumber: 13\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"text-xs text-muted-foreground/80 mt-1\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        children: step.distance.text\n                                    }, void 0, false, {\n                                        fileName: \"/var/www/flask_app/ast_chat/components/DirectionsSteps.tsx\",\n                                        lineNumber: 38,\n                                        columnNumber: 15\n                                    }, undefined),\n                                    \" | \",\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        children: step.duration.text\n                                    }, void 0, false, {\n                                        fileName: \"/var/www/flask_app/ast_chat/components/DirectionsSteps.tsx\",\n                                        lineNumber: 38,\n                                        columnNumber: 51\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/var/www/flask_app/ast_chat/components/DirectionsSteps.tsx\",\n                                lineNumber: 37,\n                                columnNumber: 13\n                            }, undefined)\n                        ]\n                    }, index, true, {\n                        fileName: \"/var/www/flask_app/ast_chat/components/DirectionsSteps.tsx\",\n                        lineNumber: 35,\n                        columnNumber: 11\n                    }, undefined))\n            }, void 0, false, {\n                fileName: \"/var/www/flask_app/ast_chat/components/DirectionsSteps.tsx\",\n                lineNumber: 33,\n                columnNumber: 7\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/var/www/flask_app/ast_chat/components/DirectionsSteps.tsx\",\n        lineNumber: 22,\n        columnNumber: 5\n    }, undefined);\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (DirectionsSteps);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9jb21wb25lbnRzL0RpcmVjdGlvbnNTdGVwcy50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQTBCO0FBZTFCLE1BQU1DLGtCQUFrRCxDQUFDLEVBQUVDLEtBQUssRUFBRUMsYUFBYSxFQUFFQyxhQUFhLEVBQUU7SUFDOUYsSUFBSSxDQUFDRixTQUFTQSxNQUFNRyxNQUFNLEtBQUssR0FBRztRQUNoQyxPQUFPLE1BQU0sZ0NBQWdDO0lBQy9DO0lBRUEscUJBQ0UsOERBQUNDO1FBQUlDLFdBQVU7OzBCQUNiLDhEQUFDRDtnQkFBSUMsV0FBVTs7a0NBQ2IsOERBQUNDO3dCQUFHRCxXQUFVO2tDQUF3Qzs7Ozs7O29CQUNwREosQ0FBQUEsaUJBQWlCQyxhQUFZLG1CQUM3Qiw4REFBQ0U7d0JBQUlDLFdBQVU7OzRCQUNaSCwrQkFBaUIsOERBQUNLOzBDQUFNTDs7Ozs7OzRCQUN4QkEsaUJBQWlCRCwrQkFBaUIsOERBQUNNO2dDQUFLRixXQUFVOzBDQUFPOzs7Ozs7NEJBQ3pESiwrQkFBaUIsOERBQUNNOzBDQUFNTjs7Ozs7Ozs7Ozs7Ozs7Ozs7OzBCQUkvQiw4REFBQ087Z0JBQUdILFdBQVU7MEJBQ1hMLE1BQU1TLEdBQUcsQ0FBQyxDQUFDQyxNQUFNQyxzQkFDaEIsOERBQUNDO3dCQUFlUCxXQUFVOzswQ0FDeEIsOERBQUNFO2dDQUFLTSx5QkFBeUI7b0NBQUVDLFFBQVFKLEtBQUtLLGlCQUFpQjtnQ0FBQzs7Ozs7OzBDQUNoRSw4REFBQ1g7Z0NBQUlDLFdBQVU7O2tEQUNiLDhEQUFDRTtrREFBTUcsS0FBS00sUUFBUSxDQUFDQyxJQUFJOzs7Ozs7b0NBQVE7a0RBQUcsOERBQUNWO2tEQUFNRyxLQUFLUSxRQUFRLENBQUNELElBQUk7Ozs7Ozs7Ozs7Ozs7dUJBSHhETjs7Ozs7Ozs7Ozs7Ozs7OztBQVVuQjtBQUVBLGlFQUFlWixlQUFlQSxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYXN0X2NoYXQvLi9jb21wb25lbnRzL0RpcmVjdGlvbnNTdGVwcy50c3g/ZDc2MiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5pbnRlcmZhY2UgU3RlcCB7XG4gIGh0bWxfaW5zdHJ1Y3Rpb25zOiBzdHJpbmc7XG4gIGRpc3RhbmNlOiB7IHRleHQ6IHN0cmluZyB9O1xuICBkdXJhdGlvbjogeyB0ZXh0OiBzdHJpbmcgfTtcbiAgLy8gQWRkIG90aGVyIHN0ZXAgcHJvcGVydGllcyBpZiBuZWVkZWQsIGUuZy4sIG1hbmV1dmVyXG59XG5cbmludGVyZmFjZSBEaXJlY3Rpb25zU3RlcHNQcm9wcyB7XG4gIHN0ZXBzOiBTdGVwW10gfCB1bmRlZmluZWQ7XG4gIHRvdGFsRHVyYXRpb24/OiBzdHJpbmc7XG4gIHRvdGFsRGlzdGFuY2U/OiBzdHJpbmc7XG59XG5cbmNvbnN0IERpcmVjdGlvbnNTdGVwczogUmVhY3QuRkM8RGlyZWN0aW9uc1N0ZXBzUHJvcHM+ID0gKHsgc3RlcHMsIHRvdGFsRHVyYXRpb24sIHRvdGFsRGlzdGFuY2UgfSkgPT4ge1xuICBpZiAoIXN0ZXBzIHx8IHN0ZXBzLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBudWxsOyAvLyBPciA8cD5ObyBzdGVwcyBhdmFpbGFibGUuPC9wPlxuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTQgcC0zIGJvcmRlciByb3VuZGVkLWxnIHNoYWRvdyBiZy1tdXRlZC8zMCBtYXgtaC05NiBvdmVyZmxvdy15LWF1dG8gdGV4dC1zbVwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGp1c3RpZnktYmV0d2VlbiBpdGVtcy1jZW50ZXIgbWItMlwiPlxuICAgICAgICA8aDMgY2xhc3NOYW1lPVwidGV4dC1sZyBmb250LXNlbWlib2xkIHRleHQtZm9yZWdyb3VuZFwiPkRpcmVjdGlvbnM8L2gzPlxuICAgICAgICB7KHRvdGFsRHVyYXRpb24gfHwgdG90YWxEaXN0YW5jZSkgJiYgKFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LXByaW1hcnkgZm9udC1tZWRpdW1cIj5cbiAgICAgICAgICAgIHt0b3RhbERpc3RhbmNlICYmIDxzcGFuPnt0b3RhbERpc3RhbmNlfTwvc3Bhbj59XG4gICAgICAgICAgICB7dG90YWxEaXN0YW5jZSAmJiB0b3RhbER1cmF0aW9uICYmIDxzcGFuIGNsYXNzTmFtZT1cIm14LTFcIj58PC9zcGFuPn1cbiAgICAgICAgICAgIHt0b3RhbER1cmF0aW9uICYmIDxzcGFuPnt0b3RhbER1cmF0aW9ufTwvc3Bhbj59XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICl9XG4gICAgICA8L2Rpdj5cbiAgICAgIDxvbCBjbGFzc05hbWU9XCJsaXN0LWRlY2ltYWwgbGlzdC1pbnNpZGUgc3BhY2UteS0yXCI+XG4gICAgICAgIHtzdGVwcy5tYXAoKHN0ZXAsIGluZGV4KSA9PiAoXG4gICAgICAgICAgPGxpIGtleT17aW5kZXh9IGNsYXNzTmFtZT1cInRleHQtbXV0ZWQtZm9yZWdyb3VuZCBsZWFkaW5nLXJlbGF4ZWRcIj5cbiAgICAgICAgICAgIDxzcGFuIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MPXt7IF9faHRtbDogc3RlcC5odG1sX2luc3RydWN0aW9ucyB9fSAvPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtbXV0ZWQtZm9yZWdyb3VuZC84MCBtdC0xXCI+XG4gICAgICAgICAgICAgIDxzcGFuPntzdGVwLmRpc3RhbmNlLnRleHR9PC9zcGFuPiB8IDxzcGFuPntzdGVwLmR1cmF0aW9uLnRleHR9PC9zcGFuPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9saT5cbiAgICAgICAgKSl9XG4gICAgICA8L29sPlxuICAgIDwvZGl2PlxuICApO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgRGlyZWN0aW9uc1N0ZXBzOyAiXSwibmFtZXMiOlsiUmVhY3QiLCJEaXJlY3Rpb25zU3RlcHMiLCJzdGVwcyIsInRvdGFsRHVyYXRpb24iLCJ0b3RhbERpc3RhbmNlIiwibGVuZ3RoIiwiZGl2IiwiY2xhc3NOYW1lIiwiaDMiLCJzcGFuIiwib2wiLCJtYXAiLCJzdGVwIiwiaW5kZXgiLCJsaSIsImRhbmdlcm91c2x5U2V0SW5uZXJIVE1MIiwiX19odG1sIiwiaHRtbF9pbnN0cnVjdGlvbnMiLCJkaXN0YW5jZSIsInRleHQiLCJkdXJhdGlvbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./components/DirectionsSteps.tsx\n");

/***/ }),

/***/ "(ssr)/./components/ImageDisplay.tsx":
/*!*************************************!*\
  !*** ./components/ImageDisplay.tsx ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _barrel_optimize_names_Download_ExternalLink_EyeOff_lucide_react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! __barrel_optimize__?names=Download,ExternalLink,EyeOff!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/external-link.js\");\n/* harmony import */ var _barrel_optimize_names_Download_ExternalLink_EyeOff_lucide_react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! __barrel_optimize__?names=Download,ExternalLink,EyeOff!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/download.js\");\n/* harmony import */ var _barrel_optimize_names_Download_ExternalLink_EyeOff_lucide_react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! __barrel_optimize__?names=Download,ExternalLink,EyeOff!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/eye-off.js\");\n/* harmony import */ var _components_ui_button__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/components/ui/button */ \"(ssr)/./components/ui/button.tsx\");\n\n\n\n\nconst ImageDisplay = ({ imageUrls, className = \"\" })=>{\n    const [expandedImage, setExpandedImage] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [loadingImages, setLoadingImages] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({});\n    const [errorImages, setErrorImages] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({});\n    const handleImageLoad = (url)=>{\n        setLoadingImages((prev)=>({\n                ...prev,\n                [url]: false\n            }));\n    };\n    const handleImageError = (url)=>{\n        setLoadingImages((prev)=>({\n                ...prev,\n                [url]: false\n            }));\n        setErrorImages((prev)=>({\n                ...prev,\n                [url]: true\n            }));\n    };\n    const handleImageClick = (url)=>{\n        setExpandedImage(url);\n    };\n    const handleDownload = async (url, event)=>{\n        event.stopPropagation();\n        try {\n            const response = await fetch(url);\n            const blob = await response.blob();\n            const downloadUrl = window.URL.createObjectURL(blob);\n            const link = document.createElement(\"a\");\n            link.href = downloadUrl;\n            // Extract filename from URL or generate one\n            const urlParts = url.split(\"/\");\n            const filename = urlParts[urlParts.length - 1] || `generated-image-${Date.now()}.png`;\n            link.download = filename;\n            document.body.appendChild(link);\n            link.click();\n            document.body.removeChild(link);\n            window.URL.revokeObjectURL(downloadUrl);\n        } catch (error) {\n            console.error(\"Failed to download image:\", error);\n        }\n    };\n    const handleOpenInNewTab = (url, event)=>{\n        event.stopPropagation();\n        window.open(url, \"_blank\", \"noopener,noreferrer\");\n    };\n    if (!imageUrls || imageUrls.length === 0) {\n        return null;\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: `image-display ${className}`,\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: `grid gap-3 ${imageUrls.length === 1 ? \"grid-cols-1\" : imageUrls.length === 2 ? \"grid-cols-1 sm:grid-cols-2\" : \"grid-cols-1 sm:grid-cols-2 lg:grid-cols-3\"}`,\n                children: imageUrls.map((url, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"relative group cursor-pointer rounded-lg overflow-hidden border border-border bg-muted/10 hover:shadow-lg transition-all duration-200\",\n                        onClick: ()=>handleImageClick(url),\n                        children: [\n                            loadingImages[url] && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"absolute inset-0 flex items-center justify-center bg-muted/50 z-10\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"animate-spin rounded-full h-8 w-8 border-b-2 border-primary\"\n                                }, void 0, false, {\n                                    fileName: \"/var/www/flask_app/ast_chat/components/ImageDisplay.tsx\",\n                                    lineNumber: 79,\n                                    columnNumber: 17\n                                }, undefined)\n                            }, void 0, false, {\n                                fileName: \"/var/www/flask_app/ast_chat/components/ImageDisplay.tsx\",\n                                lineNumber: 78,\n                                columnNumber: 15\n                            }, undefined),\n                            errorImages[url] && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"aspect-square flex items-center justify-center bg-muted text-muted-foreground\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"text-center\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"text-2xl mb-2\",\n                                            children: \"\\uD83D\\uDDBC️\"\n                                        }, void 0, false, {\n                                            fileName: \"/var/www/flask_app/ast_chat/components/ImageDisplay.tsx\",\n                                            lineNumber: 87,\n                                            columnNumber: 19\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"text-sm\",\n                                            children: \"Failed to load image\"\n                                        }, void 0, false, {\n                                            fileName: \"/var/www/flask_app/ast_chat/components/ImageDisplay.tsx\",\n                                            lineNumber: 88,\n                                            columnNumber: 19\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/var/www/flask_app/ast_chat/components/ImageDisplay.tsx\",\n                                    lineNumber: 86,\n                                    columnNumber: 17\n                                }, undefined)\n                            }, void 0, false, {\n                                fileName: \"/var/www/flask_app/ast_chat/components/ImageDisplay.tsx\",\n                                lineNumber: 85,\n                                columnNumber: 15\n                            }, undefined),\n                            !errorImages[url] && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                src: url,\n                                alt: `Generated image ${index + 1}`,\n                                className: \"w-full aspect-square object-cover transition-transform duration-200 group-hover:scale-105\",\n                                onLoad: ()=>handleImageLoad(url),\n                                onError: ()=>handleImageError(url),\n                                onLoadStart: ()=>setLoadingImages((prev)=>({\n                                            ...prev,\n                                            [url]: true\n                                        })),\n                                loading: \"lazy\"\n                            }, void 0, false, {\n                                fileName: \"/var/www/flask_app/ast_chat/components/ImageDisplay.tsx\",\n                                lineNumber: 95,\n                                columnNumber: 15\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity duration-200 flex items-center justify-center\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex space-x-2\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                            size: \"sm\",\n                                            variant: \"secondary\",\n                                            onClick: (e)=>handleOpenInNewTab(url, e),\n                                            className: \"bg-white/90 hover:bg-white text-black\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Download_ExternalLink_EyeOff_lucide_react__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n                                                className: \"w-4 h-4\"\n                                            }, void 0, false, {\n                                                fileName: \"/var/www/flask_app/ast_chat/components/ImageDisplay.tsx\",\n                                                lineNumber: 115,\n                                                columnNumber: 19\n                                            }, undefined)\n                                        }, void 0, false, {\n                                            fileName: \"/var/www/flask_app/ast_chat/components/ImageDisplay.tsx\",\n                                            lineNumber: 109,\n                                            columnNumber: 17\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                            size: \"sm\",\n                                            variant: \"secondary\",\n                                            onClick: (e)=>handleDownload(url, e),\n                                            className: \"bg-white/90 hover:bg-white text-black\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Download_ExternalLink_EyeOff_lucide_react__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n                                                className: \"w-4 h-4\"\n                                            }, void 0, false, {\n                                                fileName: \"/var/www/flask_app/ast_chat/components/ImageDisplay.tsx\",\n                                                lineNumber: 123,\n                                                columnNumber: 19\n                                            }, undefined)\n                                        }, void 0, false, {\n                                            fileName: \"/var/www/flask_app/ast_chat/components/ImageDisplay.tsx\",\n                                            lineNumber: 117,\n                                            columnNumber: 17\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/var/www/flask_app/ast_chat/components/ImageDisplay.tsx\",\n                                    lineNumber: 108,\n                                    columnNumber: 15\n                                }, undefined)\n                            }, void 0, false, {\n                                fileName: \"/var/www/flask_app/ast_chat/components/ImageDisplay.tsx\",\n                                lineNumber: 107,\n                                columnNumber: 13\n                            }, undefined),\n                            imageUrls.length > 1 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"absolute top-2 left-2 bg-black/70 text-white text-xs px-2 py-1 rounded-full\",\n                                children: index + 1\n                            }, void 0, false, {\n                                fileName: \"/var/www/flask_app/ast_chat/components/ImageDisplay.tsx\",\n                                lineNumber: 130,\n                                columnNumber: 15\n                            }, undefined)\n                        ]\n                    }, `${url}-${index}`, true, {\n                        fileName: \"/var/www/flask_app/ast_chat/components/ImageDisplay.tsx\",\n                        lineNumber: 71,\n                        columnNumber: 11\n                    }, undefined))\n            }, void 0, false, {\n                fileName: \"/var/www/flask_app/ast_chat/components/ImageDisplay.tsx\",\n                lineNumber: 63,\n                columnNumber: 7\n            }, undefined),\n            expandedImage && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-4\",\n                onClick: ()=>setExpandedImage(null),\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"relative max-w-[95vw] max-h-[95vh]\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                            variant: \"secondary\",\n                            size: \"icon\",\n                            className: \"absolute -top-12 right-0 bg-white/90 hover:bg-white text-black\",\n                            onClick: ()=>setExpandedImage(null),\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Download_ExternalLink_EyeOff_lucide_react__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n                                className: \"w-4 h-4\"\n                            }, void 0, false, {\n                                fileName: \"/var/www/flask_app/ast_chat/components/ImageDisplay.tsx\",\n                                lineNumber: 151,\n                                columnNumber: 15\n                            }, undefined)\n                        }, void 0, false, {\n                            fileName: \"/var/www/flask_app/ast_chat/components/ImageDisplay.tsx\",\n                            lineNumber: 145,\n                            columnNumber: 13\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                            src: expandedImage,\n                            alt: \"Expanded view\",\n                            className: \"max-w-full max-h-full object-contain rounded-lg\",\n                            onClick: (e)=>e.stopPropagation()\n                        }, void 0, false, {\n                            fileName: \"/var/www/flask_app/ast_chat/components/ImageDisplay.tsx\",\n                            lineNumber: 153,\n                            columnNumber: 13\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"absolute -bottom-12 left-0 right-0 flex justify-center space-x-2\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                    size: \"sm\",\n                                    variant: \"secondary\",\n                                    onClick: (e)=>handleOpenInNewTab(expandedImage, e),\n                                    className: \"bg-white/90 hover:bg-white text-black\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Download_ExternalLink_EyeOff_lucide_react__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n                                            className: \"w-4 h-4 mr-2\"\n                                        }, void 0, false, {\n                                            fileName: \"/var/www/flask_app/ast_chat/components/ImageDisplay.tsx\",\n                                            lineNumber: 166,\n                                            columnNumber: 17\n                                        }, undefined),\n                                        \"Open\"\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/var/www/flask_app/ast_chat/components/ImageDisplay.tsx\",\n                                    lineNumber: 160,\n                                    columnNumber: 15\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                    size: \"sm\",\n                                    variant: \"secondary\",\n                                    onClick: (e)=>handleDownload(expandedImage, e),\n                                    className: \"bg-white/90 hover:bg-white text-black\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Download_ExternalLink_EyeOff_lucide_react__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n                                            className: \"w-4 h-4 mr-2\"\n                                        }, void 0, false, {\n                                            fileName: \"/var/www/flask_app/ast_chat/components/ImageDisplay.tsx\",\n                                            lineNumber: 175,\n                                            columnNumber: 17\n                                        }, undefined),\n                                        \"Download\"\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/var/www/flask_app/ast_chat/components/ImageDisplay.tsx\",\n                                    lineNumber: 169,\n                                    columnNumber: 15\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/var/www/flask_app/ast_chat/components/ImageDisplay.tsx\",\n                            lineNumber: 159,\n                            columnNumber: 13\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/var/www/flask_app/ast_chat/components/ImageDisplay.tsx\",\n                    lineNumber: 144,\n                    columnNumber: 11\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"/var/www/flask_app/ast_chat/components/ImageDisplay.tsx\",\n                lineNumber: 140,\n                columnNumber: 9\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"text-xs text-muted-foreground mt-2 text-center\",\n                children: imageUrls.length === 1 ? \"1 image generated\" : `${imageUrls.length} images generated`\n            }, void 0, false, {\n                fileName: \"/var/www/flask_app/ast_chat/components/ImageDisplay.tsx\",\n                lineNumber: 184,\n                columnNumber: 7\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/var/www/flask_app/ast_chat/components/ImageDisplay.tsx\",\n        lineNumber: 61,\n        columnNumber: 5\n    }, undefined);\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ImageDisplay);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QkFFaEMsNEVBQUN3QztvQkFBSTFDLFdBQVU7O3NDQUNiLDhEQUFDSCx5REFBTUE7NEJBQ0x5RCxTQUFROzRCQUNSRCxNQUFLOzRCQUNMckQsV0FBVTs0QkFDVjZDLFNBQVMsSUFBTTNDLGlCQUFpQjtzQ0FFaEMsNEVBQUNOLHdHQUFNQTtnQ0FBQ0ksV0FBVTs7Ozs7Ozs7Ozs7c0NBRXBCLDhEQUFDOEM7NEJBQ0NDLEtBQUs5Qzs0QkFDTCtDLEtBQUk7NEJBQ0poRCxXQUFVOzRCQUNWNkMsU0FBUyxDQUFDVSxJQUFNQSxFQUFFekMsZUFBZTs7Ozs7O3NDQUVuQyw4REFBQzRCOzRCQUFJMUMsV0FBVTs7OENBQ2IsOERBQUNILHlEQUFNQTtvQ0FDTHdELE1BQUs7b0NBQ0xDLFNBQVE7b0NBQ1JULFNBQVMsQ0FBQ1UsSUFBTWYsbUJBQW1CdkMsZUFBZXNEO29DQUNsRHZELFdBQVU7O3NEQUVWLDhEQUFDTCx3R0FBWUE7NENBQUNLLFdBQVU7Ozs7Ozt3Q0FBaUI7Ozs7Ozs7OENBRzNDLDhEQUFDSCx5REFBTUE7b0NBQ0x3RCxNQUFLO29DQUNMQyxTQUFRO29DQUNSVCxTQUFTLENBQUNVLElBQU0zQyxlQUFlWCxlQUFlc0Q7b0NBQzlDdkQsV0FBVTs7c0RBRVYsOERBQUNOLHdHQUFRQTs0Q0FBQ00sV0FBVTs7Ozs7O3dDQUFpQjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OzBCQVMvQyw4REFBQzBDO2dCQUFJMUMsV0FBVTswQkFDWkQsVUFBVThCLE1BQU0sS0FBSyxJQUNsQixzQkFDQSxDQUFDLEVBQUU5QixVQUFVOEIsTUFBTSxDQUFDLGlCQUFpQixDQUFDOzs7Ozs7Ozs7Ozs7QUFJbEQ7QUFFQSxpRUFBZS9CLFlBQVlBLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hc3RfY2hhdC8uL2NvbXBvbmVudHMvSW1hZ2VEaXNwbGF5LnRzeD8xYWQ3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IERvd25sb2FkLCBFeHRlcm5hbExpbmssIEV5ZSwgRXllT2ZmIH0gZnJvbSAnbHVjaWRlLXJlYWN0JztcbmltcG9ydCB7IEJ1dHRvbiB9IGZyb20gJ0AvY29tcG9uZW50cy91aS9idXR0b24nO1xuXG5pbnRlcmZhY2UgSW1hZ2VEaXNwbGF5UHJvcHMge1xuICBpbWFnZVVybHM6IHN0cmluZ1tdO1xuICBjbGFzc05hbWU/OiBzdHJpbmc7XG59XG5cbmNvbnN0IEltYWdlRGlzcGxheTogUmVhY3QuRkM8SW1hZ2VEaXNwbGF5UHJvcHM+ID0gKHsgaW1hZ2VVcmxzLCBjbGFzc05hbWUgPSBcIlwiIH0pID0+IHtcbiAgY29uc3QgW2V4cGFuZGVkSW1hZ2UsIHNldEV4cGFuZGVkSW1hZ2VdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtsb2FkaW5nSW1hZ2VzLCBzZXRMb2FkaW5nSW1hZ2VzXSA9IHVzZVN0YXRlPFJlY29yZDxzdHJpbmcsIGJvb2xlYW4+Pih7fSk7XG4gIGNvbnN0IFtlcnJvckltYWdlcywgc2V0RXJyb3JJbWFnZXNdID0gdXNlU3RhdGU8UmVjb3JkPHN0cmluZywgYm9vbGVhbj4+KHt9KTtcblxuICBjb25zdCBoYW5kbGVJbWFnZUxvYWQgPSAodXJsOiBzdHJpbmcpID0+IHtcbiAgICBzZXRMb2FkaW5nSW1hZ2VzKHByZXYgPT4gKHsgLi4ucHJldiwgW3VybF06IGZhbHNlIH0pKTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVJbWFnZUVycm9yID0gKHVybDogc3RyaW5nKSA9PiB7XG4gICAgc2V0TG9hZGluZ0ltYWdlcyhwcmV2ID0+ICh7IC4uLnByZXYsIFt1cmxdOiBmYWxzZSB9KSk7XG4gICAgc2V0RXJyb3JJbWFnZXMocHJldiA9PiAoeyAuLi5wcmV2LCBbdXJsXTogdHJ1ZSB9KSk7XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlSW1hZ2VDbGljayA9ICh1cmw6IHN0cmluZykgPT4ge1xuICAgIHNldEV4cGFuZGVkSW1hZ2UodXJsKTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVEb3dubG9hZCA9IGFzeW5jICh1cmw6IHN0cmluZywgZXZlbnQ6IFJlYWN0Lk1vdXNlRXZlbnQpID0+IHtcbiAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh1cmwpO1xuICAgICAgY29uc3QgYmxvYiA9IGF3YWl0IHJlc3BvbnNlLmJsb2IoKTtcbiAgICAgIGNvbnN0IGRvd25sb2FkVXJsID0gd2luZG93LlVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7XG4gICAgICBjb25zdCBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuICAgICAgbGluay5ocmVmID0gZG93bmxvYWRVcmw7XG4gICAgICBcbiAgICAgIC8vIEV4dHJhY3QgZmlsZW5hbWUgZnJvbSBVUkwgb3IgZ2VuZXJhdGUgb25lXG4gICAgICBjb25zdCB1cmxQYXJ0cyA9IHVybC5zcGxpdCgnLycpO1xuICAgICAgY29uc3QgZmlsZW5hbWUgPSB1cmxQYXJ0c1t1cmxQYXJ0cy5sZW5ndGggLSAxXSB8fCBgZ2VuZXJhdGVkLWltYWdlLSR7RGF0ZS5ub3coKX0ucG5nYDtcbiAgICAgIGxpbmsuZG93bmxvYWQgPSBmaWxlbmFtZTtcbiAgICAgIFxuICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChsaW5rKTtcbiAgICAgIGxpbmsuY2xpY2soKTtcbiAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQobGluayk7XG4gICAgICB3aW5kb3cuVVJMLnJldm9rZU9iamVjdFVSTChkb3dubG9hZFVybCk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBkb3dubG9hZCBpbWFnZTonLCBlcnJvcik7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGhhbmRsZU9wZW5Jbk5ld1RhYiA9ICh1cmw6IHN0cmluZywgZXZlbnQ6IFJlYWN0Lk1vdXNlRXZlbnQpID0+IHtcbiAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICB3aW5kb3cub3Blbih1cmwsICdfYmxhbmsnLCAnbm9vcGVuZXIsbm9yZWZlcnJlcicpO1xuICB9O1xuXG4gIGlmICghaW1hZ2VVcmxzIHx8IGltYWdlVXJscy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9e2BpbWFnZS1kaXNwbGF5ICR7Y2xhc3NOYW1lfWB9PlxuICAgICAgey8qIEltYWdlIEdyaWQgKi99XG4gICAgICA8ZGl2IGNsYXNzTmFtZT17YGdyaWQgZ2FwLTMgJHtcbiAgICAgICAgaW1hZ2VVcmxzLmxlbmd0aCA9PT0gMSBcbiAgICAgICAgICA/ICdncmlkLWNvbHMtMScgXG4gICAgICAgICAgOiBpbWFnZVVybHMubGVuZ3RoID09PSAyIFxuICAgICAgICAgID8gJ2dyaWQtY29scy0xIHNtOmdyaWQtY29scy0yJyBcbiAgICAgICAgICA6ICdncmlkLWNvbHMtMSBzbTpncmlkLWNvbHMtMiBsZzpncmlkLWNvbHMtMydcbiAgICAgIH1gfT5cbiAgICAgICAge2ltYWdlVXJscy5tYXAoKHVybCwgaW5kZXgpID0+IChcbiAgICAgICAgICA8ZGl2IFxuICAgICAgICAgICAga2V5PXtgJHt1cmx9LSR7aW5kZXh9YH1cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cInJlbGF0aXZlIGdyb3VwIGN1cnNvci1wb2ludGVyIHJvdW5kZWQtbGcgb3ZlcmZsb3ctaGlkZGVuIGJvcmRlciBib3JkZXItYm9yZGVyIGJnLW11dGVkLzEwIGhvdmVyOnNoYWRvdy1sZyB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0yMDBcIlxuICAgICAgICAgICAgb25DbGljaz17KCkgPT4gaGFuZGxlSW1hZ2VDbGljayh1cmwpfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIHsvKiBMb2FkaW5nIFN0YXRlICovfVxuICAgICAgICAgICAge2xvYWRpbmdJbWFnZXNbdXJsXSAmJiAoXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWJzb2x1dGUgaW5zZXQtMCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBiZy1tdXRlZC81MCB6LTEwXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhbmltYXRlLXNwaW4gcm91bmRlZC1mdWxsIGgtOCB3LTggYm9yZGVyLWItMiBib3JkZXItcHJpbWFyeVwiPjwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHsvKiBFcnJvciBTdGF0ZSAqL31cbiAgICAgICAgICAgIHtlcnJvckltYWdlc1t1cmxdICYmIChcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhc3BlY3Qtc3F1YXJlIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIGJnLW11dGVkIHRleHQtbXV0ZWQtZm9yZWdyb3VuZFwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC0yeGwgbWItMlwiPvCflrzvuI88L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1zbVwiPkZhaWxlZCB0byBsb2FkIGltYWdlPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgey8qIEltYWdlICovfVxuICAgICAgICAgICAgeyFlcnJvckltYWdlc1t1cmxdICYmIChcbiAgICAgICAgICAgICAgPGltZ1xuICAgICAgICAgICAgICAgIHNyYz17dXJsfVxuICAgICAgICAgICAgICAgIGFsdD17YEdlbmVyYXRlZCBpbWFnZSAke2luZGV4ICsgMX1gfVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBhc3BlY3Qtc3F1YXJlIG9iamVjdC1jb3ZlciB0cmFuc2l0aW9uLXRyYW5zZm9ybSBkdXJhdGlvbi0yMDAgZ3JvdXAtaG92ZXI6c2NhbGUtMTA1XCJcbiAgICAgICAgICAgICAgICBvbkxvYWQ9eygpID0+IGhhbmRsZUltYWdlTG9hZCh1cmwpfVxuICAgICAgICAgICAgICAgIG9uRXJyb3I9eygpID0+IGhhbmRsZUltYWdlRXJyb3IodXJsKX1cbiAgICAgICAgICAgICAgICBvbkxvYWRTdGFydD17KCkgPT4gc2V0TG9hZGluZ0ltYWdlcyhwcmV2ID0+ICh7IC4uLnByZXYsIFt1cmxdOiB0cnVlIH0pKX1cbiAgICAgICAgICAgICAgICBsb2FkaW5nPVwibGF6eVwiXG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICApfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICB7LyogSG92ZXIgT3ZlcmxheSAqL31cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWJzb2x1dGUgaW5zZXQtMCBiZy1ibGFjay81MCBvcGFjaXR5LTAgZ3JvdXAtaG92ZXI6b3BhY2l0eS0xMDAgdHJhbnNpdGlvbi1vcGFjaXR5IGR1cmF0aW9uLTIwMCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggc3BhY2UteC0yXCI+XG4gICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgc2l6ZT1cInNtXCJcbiAgICAgICAgICAgICAgICAgIHZhcmlhbnQ9XCJzZWNvbmRhcnlcIlxuICAgICAgICAgICAgICAgICAgb25DbGljaz17KGUpID0+IGhhbmRsZU9wZW5Jbk5ld1RhYih1cmwsIGUpfVxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYmctd2hpdGUvOTAgaG92ZXI6Ymctd2hpdGUgdGV4dC1ibGFja1wiXG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgPEV4dGVybmFsTGluayBjbGFzc05hbWU9XCJ3LTQgaC00XCIgLz5cbiAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICBzaXplPVwic21cIlxuICAgICAgICAgICAgICAgICAgdmFyaWFudD1cInNlY29uZGFyeVwiXG4gICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoZSkgPT4gaGFuZGxlRG93bmxvYWQodXJsLCBlKX1cbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJnLXdoaXRlLzkwIGhvdmVyOmJnLXdoaXRlIHRleHQtYmxhY2tcIlxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIDxEb3dubG9hZCBjbGFzc05hbWU9XCJ3LTQgaC00XCIgLz5cbiAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgey8qIEltYWdlIE51bWJlciBCYWRnZSAqL31cbiAgICAgICAgICAgIHtpbWFnZVVybHMubGVuZ3RoID4gMSAmJiAoXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWJzb2x1dGUgdG9wLTIgbGVmdC0yIGJnLWJsYWNrLzcwIHRleHQtd2hpdGUgdGV4dC14cyBweC0yIHB5LTEgcm91bmRlZC1mdWxsXCI+XG4gICAgICAgICAgICAgICAge2luZGV4ICsgMX1cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApKX1cbiAgICAgIDwvZGl2PlxuXG4gICAgICB7LyogRXhwYW5kZWQgSW1hZ2UgTW9kYWwgKi99XG4gICAgICB7ZXhwYW5kZWRJbWFnZSAmJiAoXG4gICAgICAgIDxkaXYgXG4gICAgICAgICAgY2xhc3NOYW1lPVwiZml4ZWQgaW5zZXQtMCBiZy1ibGFjay84MCB6LTUwIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHAtNFwiXG4gICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0RXhwYW5kZWRJbWFnZShudWxsKX1cbiAgICAgICAgPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmVsYXRpdmUgbWF4LXctWzk1dnddIG1heC1oLVs5NXZoXVwiPlxuICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICB2YXJpYW50PVwic2Vjb25kYXJ5XCJcbiAgICAgICAgICAgICAgc2l6ZT1cImljb25cIlxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJhYnNvbHV0ZSAtdG9wLTEyIHJpZ2h0LTAgYmctd2hpdGUvOTAgaG92ZXI6Ymctd2hpdGUgdGV4dC1ibGFja1wiXG4gICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldEV4cGFuZGVkSW1hZ2UobnVsbCl9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxFeWVPZmYgY2xhc3NOYW1lPVwidy00IGgtNFwiIC8+XG4gICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgIDxpbWdcbiAgICAgICAgICAgICAgc3JjPXtleHBhbmRlZEltYWdlfVxuICAgICAgICAgICAgICBhbHQ9XCJFeHBhbmRlZCB2aWV3XCJcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwibWF4LXctZnVsbCBtYXgtaC1mdWxsIG9iamVjdC1jb250YWluIHJvdW5kZWQtbGdcIlxuICAgICAgICAgICAgICBvbkNsaWNrPXsoZSkgPT4gZS5zdG9wUHJvcGFnYXRpb24oKX1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIC1ib3R0b20tMTIgbGVmdC0wIHJpZ2h0LTAgZmxleCBqdXN0aWZ5LWNlbnRlciBzcGFjZS14LTJcIj5cbiAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgIHNpemU9XCJzbVwiXG4gICAgICAgICAgICAgICAgdmFyaWFudD1cInNlY29uZGFyeVwiXG4gICAgICAgICAgICAgICAgb25DbGljaz17KGUpID0+IGhhbmRsZU9wZW5Jbk5ld1RhYihleHBhbmRlZEltYWdlLCBlKX1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJiZy13aGl0ZS85MCBob3ZlcjpiZy13aGl0ZSB0ZXh0LWJsYWNrXCJcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxFeHRlcm5hbExpbmsgY2xhc3NOYW1lPVwidy00IGgtNCBtci0yXCIgLz5cbiAgICAgICAgICAgICAgICBPcGVuXG4gICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgc2l6ZT1cInNtXCJcbiAgICAgICAgICAgICAgICB2YXJpYW50PVwic2Vjb25kYXJ5XCJcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoZSkgPT4gaGFuZGxlRG93bmxvYWQoZXhwYW5kZWRJbWFnZSwgZSl9XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYmctd2hpdGUvOTAgaG92ZXI6Ymctd2hpdGUgdGV4dC1ibGFja1wiXG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8RG93bmxvYWQgY2xhc3NOYW1lPVwidy00IGgtNCBtci0yXCIgLz5cbiAgICAgICAgICAgICAgICBEb3dubG9hZFxuICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICl9XG5cbiAgICAgIHsvKiBJbWFnZSBDb3VudCBJbmZvICovfVxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtbXV0ZWQtZm9yZWdyb3VuZCBtdC0yIHRleHQtY2VudGVyXCI+XG4gICAgICAgIHtpbWFnZVVybHMubGVuZ3RoID09PSAxIFxuICAgICAgICAgID8gXCIxIGltYWdlIGdlbmVyYXRlZFwiIFxuICAgICAgICAgIDogYCR7aW1hZ2VVcmxzLmxlbmd0aH0gaW1hZ2VzIGdlbmVyYXRlZGB9XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IEltYWdlRGlzcGxheTsgIl0sIm5hbWVzIjpbIlJlYWN0IiwidXNlU3RhdGUiLCJEb3dubG9hZCIsIkV4dGVybmFsTGluayIsIkV5ZU9mZiIsIkJ1dHRvbiIsIkltYWdlRGlzcGxheSIsImltYWdlVXJscyIsImNsYXNzTmFtZSIsImV4cGFuZGVkSW1hZ2UiLCJzZXRFeHBhbmRlZEltYWdlIiwibG9hZGluZ0ltYWdlcyIsInNldExvYWRpbmdJbWFnZXMiLCJlcnJvckltYWdlcyIsInNldEVycm9ySW1hZ2VzIiwiaGFuZGxlSW1hZ2VMb2FkIiwidXJsIiwicHJldiIsImhhbmRsZUltYWdlRXJyb3IiLCJoYW5kbGVJbWFnZUNsaWNrIiwiaGFuZGxlRG93bmxvYWQiLCJldmVudCIsInN0b3BQcm9wYWdhdGlvbiIsInJlc3BvbnNlIiwiZmV0Y2giLCJibG9iIiwiZG93bmxvYWRVcmwiLCJ3aW5kb3ciLCJVUkwiLCJjcmVhdGVPYmplY3RVUkwiLCJsaW5rIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiaHJlZiIsInVybFBhcnRzIiwic3BsaXQiLCJmaWxlbmFtZSIsImxlbmd0aCIsIkRhdGUiLCJub3ciLCJkb3dubG9hZCIsImJvZHkiLCJhcHBlbmRDaGlsZCIsImNsaWNrIiwicmVtb3ZlQ2hpbGQiLCJyZXZva2VPYmplY3RVUkwiLCJlcnJvciIsImNvbnNvbGUiLCJoYW5kbGVPcGVuSW5OZXdUYWIiLCJvcGVuIiwiZGl2IiwibWFwIiwiaW5kZXgiLCJvbkNsaWNrIiwiaW1nIiwic3JjIiwiYWx0Iiwib25Mb2FkIiwib25FcnJvciIsIm9uTG9hZFN0YXJ0IiwibG9hZGluZyIsInNpemUiLCJ2YXJpYW50IiwiZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./components/ImageDisplay.tsx\n");

/***/ }),

/***/ "(ssr)/./components/MapDisplay.tsx":
/*!***********************************!*\
  !*** ./components/MapDisplay.tsx ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   defaultTheme: () => (/* binding */ defaultTheme),\n/* harmony export */   nightTheme: () => (/* binding */ nightTheme)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _vis_gl_react_google_maps__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @vis.gl/react-google-maps */ \"(ssr)/./node_modules/@vis.gl/react-google-maps/dist/index.modern.mjs\");\n\n\n\n// Updated Modern Light Theme (replaces old defaultTheme)\nconst defaultTheme = {\n    name: \"Modern Light\",\n    mapTypeStyles: [\n        {\n            elementType: \"geometry\",\n            stylers: [\n                {\n                    color: \"#f5f5f5\"\n                }\n            ]\n        },\n        {\n            elementType: \"labels.icon\",\n            stylers: [\n                {\n                    visibility: \"off\"\n                }\n            ]\n        },\n        {\n            elementType: \"labels.text.fill\",\n            stylers: [\n                {\n                    color: \"#616161\"\n                }\n            ]\n        },\n        {\n            elementType: \"labels.text.stroke\",\n            stylers: [\n                {\n                    color: \"#f5f5f5\"\n                }\n            ]\n        },\n        {\n            featureType: \"administrative.land_parcel\",\n            elementType: \"labels.text.fill\",\n            stylers: [\n                {\n                    color: \"#bdbdbd\"\n                }\n            ]\n        },\n        {\n            featureType: \"poi\",\n            elementType: \"geometry\",\n            stylers: [\n                {\n                    color: \"#eeeeee\"\n                }\n            ]\n        },\n        {\n            featureType: \"poi\",\n            elementType: \"labels.text.fill\",\n            stylers: [\n                {\n                    color: \"#757575\"\n                }\n            ]\n        },\n        {\n            featureType: \"poi.park\",\n            elementType: \"geometry\",\n            stylers: [\n                {\n                    color: \"#e5e5e5\"\n                }\n            ]\n        },\n        {\n            featureType: \"poi.park\",\n            elementType: \"labels.text.fill\",\n            stylers: [\n                {\n                    color: \"#9e9e9e\"\n                }\n            ]\n        },\n        {\n            featureType: \"road\",\n            elementType: \"geometry\",\n            stylers: [\n                {\n                    color: \"#ffffff\"\n                }\n            ]\n        },\n        {\n            featureType: \"road.arterial\",\n            elementType: \"labels.text.fill\",\n            stylers: [\n                {\n                    color: \"#757575\"\n                }\n            ]\n        },\n        {\n            featureType: \"road.highway\",\n            elementType: \"geometry\",\n            stylers: [\n                {\n                    color: \"#dadada\"\n                }\n            ]\n        },\n        {\n            featureType: \"road.highway\",\n            elementType: \"labels.text.fill\",\n            stylers: [\n                {\n                    color: \"#616161\"\n                }\n            ]\n        },\n        {\n            featureType: \"road.local\",\n            elementType: \"labels.text.fill\",\n            stylers: [\n                {\n                    color: \"#9e9e9e\"\n                }\n            ]\n        },\n        {\n            featureType: \"transit.line\",\n            elementType: \"geometry\",\n            stylers: [\n                {\n                    color: \"#e5e5e5\"\n                }\n            ]\n        },\n        {\n            featureType: \"transit.station\",\n            elementType: \"geometry\",\n            stylers: [\n                {\n                    color: \"#eeeeee\"\n                }\n            ]\n        },\n        {\n            featureType: \"water\",\n            elementType: \"geometry\",\n            stylers: [\n                {\n                    color: \"#c9c9c9\"\n                }\n            ]\n        },\n        {\n            featureType: \"water\",\n            elementType: \"labels.text.fill\",\n            stylers: [\n                {\n                    color: \"#9e9e9e\"\n                }\n            ]\n        }\n    ],\n    routeColor: \"#4285F4\"\n};\n// Updated Modern Dark Theme (replaces old nightTheme)\nconst nightTheme = {\n    name: \"Modern Dark\",\n    mapTypeStyles: [\n        {\n            elementType: \"geometry\",\n            stylers: [\n                {\n                    color: \"#242f3e\"\n                }\n            ]\n        },\n        {\n            elementType: \"labels.text.stroke\",\n            stylers: [\n                {\n                    color: \"#242f3e\"\n                }\n            ]\n        },\n        {\n            elementType: \"labels.text.fill\",\n            stylers: [\n                {\n                    color: \"#746855\"\n                }\n            ]\n        },\n        {\n            featureType: \"administrative.locality\",\n            elementType: \"labels.text.fill\",\n            stylers: [\n                {\n                    color: \"#d59563\"\n                }\n            ]\n        },\n        {\n            featureType: \"poi\",\n            elementType: \"labels.text.fill\",\n            stylers: [\n                {\n                    color: \"#d59563\"\n                }\n            ]\n        },\n        {\n            featureType: \"poi.park\",\n            elementType: \"geometry\",\n            stylers: [\n                {\n                    color: \"#263c3f\"\n                }\n            ]\n        },\n        {\n            featureType: \"poi.park\",\n            elementType: \"labels.text.fill\",\n            stylers: [\n                {\n                    color: \"#6b9a76\"\n                }\n            ]\n        },\n        {\n            featureType: \"road\",\n            elementType: \"geometry\",\n            stylers: [\n                {\n                    color: \"#38414e\"\n                }\n            ]\n        },\n        {\n            featureType: \"road\",\n            elementType: \"geometry.stroke\",\n            stylers: [\n                {\n                    color: \"#212a37\"\n                }\n            ]\n        },\n        {\n            featureType: \"road\",\n            elementType: \"labels.text.fill\",\n            stylers: [\n                {\n                    color: \"#9ca5b3\"\n                }\n            ]\n        },\n        {\n            featureType: \"road.highway\",\n            elementType: \"geometry\",\n            stylers: [\n                {\n                    color: \"#746855\"\n                }\n            ]\n        },\n        {\n            featureType: \"road.highway\",\n            elementType: \"geometry.stroke\",\n            stylers: [\n                {\n                    color: \"#1f2835\"\n                }\n            ]\n        },\n        {\n            featureType: \"road.highway\",\n            elementType: \"labels.text.fill\",\n            stylers: [\n                {\n                    color: \"#f3d19c\"\n                }\n            ]\n        },\n        {\n            featureType: \"transit\",\n            elementType: \"geometry\",\n            stylers: [\n                {\n                    color: \"#2f3948\"\n                }\n            ]\n        },\n        {\n            featureType: \"transit.station\",\n            elementType: \"labels.text.fill\",\n            stylers: [\n                {\n                    color: \"#d59563\"\n                }\n            ]\n        },\n        {\n            featureType: \"water\",\n            elementType: \"geometry\",\n            stylers: [\n                {\n                    color: \"#17263c\"\n                }\n            ]\n        },\n        {\n            featureType: \"water\",\n            elementType: \"labels.text.fill\",\n            stylers: [\n                {\n                    color: \"#515c6d\"\n                }\n            ]\n        },\n        {\n            featureType: \"water\",\n            elementType: \"labels.text.stroke\",\n            stylers: [\n                {\n                    color: \"#17263c\"\n                }\n            ]\n        }\n    ],\n    routeColor: \"#80CBC4\"\n};\n// Helper function to decode polyline\nconst decodePolyline = (encodedPath)=>{\n    if (!window.google || !window.google.maps || !window.google.maps.geometry) {\n        console.warn(\"[MapDisplay.tsx] Google Maps Geometry library not loaded yet for polyline decoding.\");\n        return [];\n    }\n    return window.google.maps.geometry.encoding.decodePath(encodedPath).map((p)=>({\n            lat: p.lat(),\n            lng: p.lng()\n        }));\n};\nconst containerStyle = {\n    width: \"100%\",\n    height: \"400px\"\n};\nconst defaultCenter = {\n    lat: 39.8283,\n    lng: -98.5795\n};\nconst defaultZoom = 5;\n// This component will handle drawing the polyline and fitting bounds\nconst RoutePolyline = ({ directionsResponse, routeColor = defaultTheme.routeColor })=>{\n    const map = (0,_vis_gl_react_google_maps__WEBPACK_IMPORTED_MODULE_2__.useMap)();\n    const [polyline, setPolyline] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!map) return;\n        // Clear existing polyline if any\n        if (polyline) {\n            polyline.setMap(null);\n        }\n        if (directionsResponse && directionsResponse.routes && directionsResponse.routes[0]) {\n            const route = directionsResponse.routes[0];\n            if (route.overview_polyline && route.overview_polyline.points) {\n                if (window.google && window.google.maps && window.google.maps.geometry) {\n                    const decodedPath = decodePolyline(route.overview_polyline.points);\n                    if (decodedPath.length > 0) {\n                        const newPolyline = new window.google.maps.Polyline({\n                            path: decodedPath,\n                            strokeColor: routeColor,\n                            strokeOpacity: 0.75,\n                            strokeWeight: 5,\n                            map: map\n                        });\n                        setPolyline(newPolyline);\n                        const bounds = new window.google.maps.LatLngBounds();\n                        decodedPath.forEach((point)=>bounds.extend(point));\n                        map.fitBounds(bounds);\n                        // Adjust zoom after fitBounds, with a slight delay if necessary for map to settle\n                        setTimeout(()=>{\n                            if (map.getProjection() && typeof map.getZoom() === \"number\") {\n                                const currentZoom = map.getZoom();\n                                // Prevent over-zooming, cap at a reasonable level like 15 or 16\n                                // also, fitBounds might make it too tight, so we can optionally zoom out one level\n                                let newZoom = Math.min(currentZoom, 16);\n                                if (decodedPath.length > 1 && currentZoom === map.getZoom()) {\n                                // newZoom = Math.max(newZoom -1, 2); // zoom out slightly\n                                }\n                                map.setZoom(newZoom);\n                                if (decodedPath.length === 1) {\n                                    map.setCenter(decodedPath[0]);\n                                    map.setZoom(14);\n                                }\n                            } else {\n                                console.warn(\"[MapDisplay.tsx] Map projection or zoom not available for adjustment after fitBounds.\");\n                            }\n                        }, 100); // Small delay for map to process fitBounds\n                    } else {\n                        setPolyline(null); // No path to draw\n                    }\n                } else {\n                    console.warn(\"[MapDisplay.tsx] Geometry library not ready for polyline decoding.\");\n                }\n            } else {\n                setPolyline(null); // No overview_polyline\n            }\n        } else {\n            setPolyline(null); // No directionsResponse\n        }\n        // Cleanup: remove polyline when component unmounts or dependencies change\n        return ()=>{\n            if (polyline) {\n                polyline.setMap(null);\n            }\n        };\n    }, [\n        map,\n        directionsResponse,\n        routeColor\n    ]);\n    return null; // This component only draws on the map, doesn't render its own DOM element\n};\n// New component to manage the traffic layer\nconst TrafficLayerControl = ({ showTraffic })=>{\n    const map = (0,_vis_gl_react_google_maps__WEBPACK_IMPORTED_MODULE_2__.useMap)();\n    const [trafficLayer, setTrafficLayer] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!map) return;\n        if (showTraffic) {\n            if (!trafficLayer) {\n                const newTrafficLayer = new window.google.maps.TrafficLayer();\n                newTrafficLayer.setMap(map);\n                setTrafficLayer(newTrafficLayer);\n                console.log(\"[MapDisplay.tsx] Traffic layer enabled.\");\n            } else {\n                trafficLayer.setMap(map); // Ensure it's on the current map instance if map re-instantiated\n                console.log(\"[MapDisplay.tsx] Traffic layer re-enabled on map.\");\n            }\n        } else {\n            if (trafficLayer) {\n                trafficLayer.setMap(null);\n                // setTrafficLayer(null); // Optional: nullify if you want it to be recreated next time\n                console.log(\"[MapDisplay.tsx] Traffic layer disabled.\");\n            }\n        }\n    // No cleanup needed for setMap(null) beyond what's done above for toggling\n    }, [\n        map,\n        showTraffic,\n        trafficLayer\n    ]);\n    return null; // This component is for control, doesn't render UI elements itself\n};\nconst MapDisplay = ({ directionsResponse, googleMapsApiKey, showTraffic, theme = defaultTheme })=>{\n    if (!googleMapsApiKey) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            style: {\n                color: \"red\",\n                padding: \"20px\",\n                border: \"1px solid red\"\n            },\n            children: \"Error: Google Maps API Key is missing. Please set NEXT_PUBLIC_GOOGLE_MAPS_API_KEY.\"\n        }, void 0, false, {\n            fileName: \"/var/www/flask_app/ast_chat/components/MapDisplay.tsx\",\n            lineNumber: 318,\n            columnNumber: 12\n        }, undefined);\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_vis_gl_react_google_maps__WEBPACK_IMPORTED_MODULE_2__.APIProvider, {\n        apiKey: googleMapsApiKey,\n        libraries: [\n            \"geometry\"\n        ],\n        onLoad: ()=>console.log(\"[MapDisplay.tsx] APIProvider loaded with libraries.\"),\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_vis_gl_react_google_maps__WEBPACK_IMPORTED_MODULE_2__.Map, {\n            style: containerStyle,\n            defaultCenter: defaultCenter,\n            defaultZoom: defaultZoom,\n            gestureHandling: \"greedy\",\n            disableDefaultUI: false,\n            styles: theme.mapTypeStyles,\n            onCameraChanged: (ev)=>console.log(\"[MapDisplay.tsx] Map camera changed:\", ev.detail.center, ev.detail.zoom),\n            children: [\n                directionsResponse?.routes?.[0]?.legs?.[0]?.start_location && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_vis_gl_react_google_maps__WEBPACK_IMPORTED_MODULE_2__.Marker, {\n                    position: directionsResponse.routes[0].legs[0].start_location,\n                    title: `Start: ${directionsResponse.routes[0].legs[0].start_address}`\n                }, void 0, false, {\n                    fileName: \"/var/www/flask_app/ast_chat/components/MapDisplay.tsx\",\n                    lineNumber: 334,\n                    columnNumber: 13\n                }, undefined),\n                directionsResponse?.routes?.[0]?.legs?.[0]?.end_location && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_vis_gl_react_google_maps__WEBPACK_IMPORTED_MODULE_2__.Marker, {\n                    position: directionsResponse.routes[0].legs[0].end_location,\n                    title: `End: ${directionsResponse.routes[0].legs[0].end_address}`\n                }, void 0, false, {\n                    fileName: \"/var/www/flask_app/ast_chat/components/MapDisplay.tsx\",\n                    lineNumber: 340,\n                    columnNumber: 13\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(RoutePolyline, {\n                    directionsResponse: directionsResponse,\n                    routeColor: theme.routeColor\n                }, void 0, false, {\n                    fileName: \"/var/www/flask_app/ast_chat/components/MapDisplay.tsx\",\n                    lineNumber: 345,\n                    columnNumber: 9\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(TrafficLayerControl, {\n                    showTraffic: showTraffic\n                }, void 0, false, {\n                    fileName: \"/var/www/flask_app/ast_chat/components/MapDisplay.tsx\",\n                    lineNumber: 346,\n                    columnNumber: 9\n                }, undefined)\n            ]\n        }, void 0, true, {\n            fileName: \"/var/www/flask_app/ast_chat/components/MapDisplay.tsx\",\n            lineNumber: 323,\n            columnNumber: 7\n        }, undefined)\n    }, void 0, false, {\n        fileName: \"/var/www/flask_app/ast_chat/components/MapDisplay.tsx\",\n        lineNumber: 322,\n        columnNumber: 5\n    }, undefined);\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (/*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_1__.memo)(MapDisplay));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9jb21wb25lbnRzL01hcERpc3BsYXkudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUF5RDtBQUNvQjtBQVU3RSx5REFBeUQ7QUFDbEQsTUFBTVEsZUFBeUI7SUFDcENDLE1BQU07SUFDTkMsZUFBZTtRQUNiO1lBQUVDLGFBQWE7WUFBWUMsU0FBUztnQkFBQztvQkFBRUMsT0FBTztnQkFBVTthQUFFO1FBQUM7UUFDM0Q7WUFBRUYsYUFBYTtZQUFlQyxTQUFTO2dCQUFDO29CQUFFRSxZQUFZO2dCQUFNO2FBQUU7UUFBQztRQUMvRDtZQUFFSCxhQUFhO1lBQW9CQyxTQUFTO2dCQUFDO29CQUFFQyxPQUFPO2dCQUFVO2FBQUU7UUFBQztRQUNuRTtZQUFFRixhQUFhO1lBQXNCQyxTQUFTO2dCQUFDO29CQUFFQyxPQUFPO2dCQUFVO2FBQUU7UUFBQztRQUNyRTtZQUNFRSxhQUFhO1lBQ2JKLGFBQWE7WUFDYkMsU0FBUztnQkFBQztvQkFBRUMsT0FBTztnQkFBVTthQUFFO1FBQ2pDO1FBQ0E7WUFDRUUsYUFBYTtZQUNiSixhQUFhO1lBQ2JDLFNBQVM7Z0JBQUM7b0JBQUVDLE9BQU87Z0JBQVU7YUFBRTtRQUNqQztRQUNBO1lBQ0VFLGFBQWE7WUFDYkosYUFBYTtZQUNiQyxTQUFTO2dCQUFDO29CQUFFQyxPQUFPO2dCQUFVO2FBQUU7UUFDakM7UUFDQTtZQUNFRSxhQUFhO1lBQ2JKLGFBQWE7WUFDYkMsU0FBUztnQkFBQztvQkFBRUMsT0FBTztnQkFBVTthQUFFO1FBQ2pDO1FBQ0E7WUFDRUUsYUFBYTtZQUNiSixhQUFhO1lBQ2JDLFNBQVM7Z0JBQUM7b0JBQUVDLE9BQU87Z0JBQVU7YUFBRTtRQUNqQztRQUNBO1lBQ0VFLGFBQWE7WUFDYkosYUFBYTtZQUNiQyxTQUFTO2dCQUFDO29CQUFFQyxPQUFPO2dCQUFVO2FBQUU7UUFDakM7UUFDQTtZQUNFRSxhQUFhO1lBQ2JKLGFBQWE7WUFDYkMsU0FBUztnQkFBQztvQkFBRUMsT0FBTztnQkFBVTthQUFFO1FBQ2pDO1FBQ0E7WUFDRUUsYUFBYTtZQUNiSixhQUFhO1lBQ2JDLFNBQVM7Z0JBQUM7b0JBQUVDLE9BQU87Z0JBQVU7YUFBRTtRQUNqQztRQUNBO1lBQ0VFLGFBQWE7WUFDYkosYUFBYTtZQUNiQyxTQUFTO2dCQUFDO29CQUFFQyxPQUFPO2dCQUFVO2FBQUU7UUFDakM7UUFDQTtZQUNFRSxhQUFhO1lBQ2JKLGFBQWE7WUFDYkMsU0FBUztnQkFBQztvQkFBRUMsT0FBTztnQkFBVTthQUFFO1FBQ2pDO1FBQ0E7WUFDRUUsYUFBYTtZQUNiSixhQUFhO1lBQ2JDLFNBQVM7Z0JBQUM7b0JBQUVDLE9BQU87Z0JBQVU7YUFBRTtRQUNqQztRQUNBO1lBQ0VFLGFBQWE7WUFDYkosYUFBYTtZQUNiQyxTQUFTO2dCQUFDO29CQUFFQyxPQUFPO2dCQUFVO2FBQUU7UUFDakM7UUFDQTtZQUNFRSxhQUFhO1lBQ2JKLGFBQWE7WUFDYkMsU0FBUztnQkFBQztvQkFBRUMsT0FBTztnQkFBVTthQUFFO1FBQ2pDO1FBQ0E7WUFDRUUsYUFBYTtZQUNiSixhQUFhO1lBQ2JDLFNBQVM7Z0JBQUM7b0JBQUVDLE9BQU87Z0JBQVU7YUFBRTtRQUNqQztLQUNEO0lBQ0RHLFlBQVk7QUFDZCxFQUFFO0FBRUYsc0RBQXNEO0FBQy9DLE1BQU1DLGFBQXVCO0lBQ2xDUixNQUFNO0lBQ05DLGVBQWU7UUFDYjtZQUFFQyxhQUFhO1lBQVlDLFNBQVM7Z0JBQUM7b0JBQUVDLE9BQU87Z0JBQVU7YUFBRTtRQUFDO1FBQzNEO1lBQUVGLGFBQWE7WUFBc0JDLFNBQVM7Z0JBQUM7b0JBQUVDLE9BQU87Z0JBQVU7YUFBRTtRQUFDO1FBQ3JFO1lBQUVGLGFBQWE7WUFBb0JDLFNBQVM7Z0JBQUM7b0JBQUVDLE9BQU87Z0JBQVU7YUFBRTtRQUFDO1FBQ25FO1lBQ0VFLGFBQWE7WUFDYkosYUFBYTtZQUNiQyxTQUFTO2dCQUFDO29CQUFFQyxPQUFPO2dCQUFVO2FBQUU7UUFDakM7UUFDQTtZQUNFRSxhQUFhO1lBQ2JKLGFBQWE7WUFDYkMsU0FBUztnQkFBQztvQkFBRUMsT0FBTztnQkFBVTthQUFFO1FBQ2pDO1FBQ0E7WUFDRUUsYUFBYTtZQUNiSixhQUFhO1lBQ2JDLFNBQVM7Z0JBQUM7b0JBQUVDLE9BQU87Z0JBQVU7YUFBRTtRQUNqQztRQUNBO1lBQ0VFLGFBQWE7WUFDYkosYUFBYTtZQUNiQyxTQUFTO2dCQUFDO29CQUFFQyxPQUFPO2dCQUFVO2FBQUU7UUFDakM7UUFDQTtZQUNFRSxhQUFhO1lBQ2JKLGFBQWE7WUFDYkMsU0FBUztnQkFBQztvQkFBRUMsT0FBTztnQkFBVTthQUFFO1FBQ2pDO1FBQ0E7WUFDRUUsYUFBYTtZQUNiSixhQUFhO1lBQ2JDLFNBQVM7Z0JBQUM7b0JBQUVDLE9BQU87Z0JBQVU7YUFBRTtRQUNqQztRQUNBO1lBQ0VFLGFBQWE7WUFDYkosYUFBYTtZQUNiQyxTQUFTO2dCQUFDO29CQUFFQyxPQUFPO2dCQUFVO2FBQUU7UUFDakM7UUFDQTtZQUNFRSxhQUFhO1lBQ2JKLGFBQWE7WUFDYkMsU0FBUztnQkFBQztvQkFBRUMsT0FBTztnQkFBVTthQUFFO1FBQ2pDO1FBQ0E7WUFDRUUsYUFBYTtZQUNiSixhQUFhO1lBQ2JDLFNBQVM7Z0JBQUM7b0JBQUVDLE9BQU87Z0JBQVU7YUFBRTtRQUNqQztRQUNBO1lBQ0VFLGFBQWE7WUFDYkosYUFBYTtZQUNiQyxTQUFTO2dCQUFDO29CQUFFQyxPQUFPO2dCQUFVO2FBQUU7UUFDakM7UUFDQTtZQUNFRSxhQUFhO1lBQ2JKLGFBQWE7WUFDYkMsU0FBUztnQkFBQztvQkFBRUMsT0FBTztnQkFBVTthQUFFO1FBQ2pDO1FBQ0E7WUFDRUUsYUFBYTtZQUNiSixhQUFhO1lBQ2JDLFNBQVM7Z0JBQUM7b0JBQUVDLE9BQU87Z0JBQVU7YUFBRTtRQUNqQztRQUNBO1lBQ0VFLGFBQWE7WUFDYkosYUFBYTtZQUNiQyxTQUFTO2dCQUFDO29CQUFFQyxPQUFPO2dCQUFVO2FBQUU7UUFDakM7UUFDQTtZQUNFRSxhQUFhO1lBQ2JKLGFBQWE7WUFDYkMsU0FBUztnQkFBQztvQkFBRUMsT0FBTztnQkFBVTthQUFFO1FBQ2pDO1FBQ0E7WUFDRUUsYUFBYTtZQUNiSixhQUFhO1lBQ2JDLFNBQVM7Z0JBQUM7b0JBQUVDLE9BQU87Z0JBQVU7YUFBRTtRQUNqQztLQUNEO0lBQ0RHLFlBQVk7QUFDZCxFQUFFO0FBRUYscUNBQXFDO0FBQ3JDLE1BQU1FLGlCQUFpQixDQUFDQztJQUN0QixJQUFJLENBQUNDLE9BQU9DLE1BQU0sSUFBSSxDQUFDRCxPQUFPQyxNQUFNLENBQUNDLElBQUksSUFBSSxDQUFDRixPQUFPQyxNQUFNLENBQUNDLElBQUksQ0FBQ0MsUUFBUSxFQUFFO1FBQ3pFQyxRQUFRQyxJQUFJLENBQUM7UUFDYixPQUFPLEVBQUU7SUFDWDtJQUNBLE9BQU9MLE9BQU9DLE1BQU0sQ0FBQ0MsSUFBSSxDQUFDQyxRQUFRLENBQUNHLFFBQVEsQ0FBQ0MsVUFBVSxDQUFDUixhQUFhUyxHQUFHLENBQUNDLENBQUFBLElBQU07WUFBRUMsS0FBS0QsRUFBRUMsR0FBRztZQUFJQyxLQUFLRixFQUFFRSxHQUFHO1FBQUc7QUFDN0c7QUFTQSxNQUFNQyxpQkFBaUI7SUFDckJDLE9BQU87SUFDUEMsUUFBUTtBQUNWO0FBRUEsTUFBTUMsZ0JBQWdCO0lBQ3BCTCxLQUFLO0lBQ0xDLEtBQUssQ0FBQztBQUNSO0FBQ0EsTUFBTUssY0FBYztBQUVwQixxRUFBcUU7QUFDckUsTUFBTUMsZ0JBQTRFLENBQUMsRUFBRUMsa0JBQWtCLEVBQUV0QixhQUFhUixhQUFhUSxVQUFVLEVBQUU7SUFDN0ksTUFBTVksTUFBTXJCLGlFQUFNQTtJQUNsQixNQUFNLENBQUNnQyxVQUFVQyxZQUFZLEdBQUdyQywrQ0FBUUEsQ0FBOEI7SUFFdEVELGdEQUFTQSxDQUFDO1FBQ1IsSUFBSSxDQUFDMEIsS0FBSztRQUVWLGlDQUFpQztRQUNqQyxJQUFJVyxVQUFVO1lBQ1pBLFNBQVNFLE1BQU0sQ0FBQztRQUNsQjtRQUVBLElBQUlILHNCQUFzQkEsbUJBQW1CSSxNQUFNLElBQUlKLG1CQUFtQkksTUFBTSxDQUFDLEVBQUUsRUFBRTtZQUNuRixNQUFNQyxRQUFRTCxtQkFBbUJJLE1BQU0sQ0FBQyxFQUFFO1lBQzFDLElBQUlDLE1BQU1DLGlCQUFpQixJQUFJRCxNQUFNQyxpQkFBaUIsQ0FBQ0MsTUFBTSxFQUFFO2dCQUM3RCxJQUFJekIsT0FBT0MsTUFBTSxJQUFJRCxPQUFPQyxNQUFNLENBQUNDLElBQUksSUFBSUYsT0FBT0MsTUFBTSxDQUFDQyxJQUFJLENBQUNDLFFBQVEsRUFBRTtvQkFDdEUsTUFBTXVCLGNBQWM1QixlQUFleUIsTUFBTUMsaUJBQWlCLENBQUNDLE1BQU07b0JBRWpFLElBQUlDLFlBQVlDLE1BQU0sR0FBRyxHQUFHO3dCQUMxQixNQUFNQyxjQUFjLElBQUk1QixPQUFPQyxNQUFNLENBQUNDLElBQUksQ0FBQzJCLFFBQVEsQ0FBQzs0QkFDbERDLE1BQU1KOzRCQUNOSyxhQUFhbkM7NEJBQ2JvQyxlQUFlOzRCQUNmQyxjQUFjOzRCQUNkekIsS0FBS0E7d0JBQ1A7d0JBQ0FZLFlBQVlRO3dCQUVaLE1BQU1NLFNBQVMsSUFBSWxDLE9BQU9DLE1BQU0sQ0FBQ0MsSUFBSSxDQUFDaUMsWUFBWTt3QkFDbERULFlBQVlVLE9BQU8sQ0FBQ0MsQ0FBQUEsUUFBU0gsT0FBT0ksTUFBTSxDQUFDRDt3QkFDM0M3QixJQUFJK0IsU0FBUyxDQUFDTDt3QkFFZCxrRkFBa0Y7d0JBQ2xGTSxXQUFXOzRCQUNQLElBQUloQyxJQUFJaUMsYUFBYSxNQUFNLE9BQU9qQyxJQUFJa0MsT0FBTyxPQUFPLFVBQVU7Z0NBQzFELE1BQU1DLGNBQWNuQyxJQUFJa0MsT0FBTztnQ0FDL0IsZ0VBQWdFO2dDQUNoRSxtRkFBbUY7Z0NBQ25GLElBQUlFLFVBQVVDLEtBQUtDLEdBQUcsQ0FBQ0gsYUFBYTtnQ0FDcEMsSUFBSWpCLFlBQVlDLE1BQU0sR0FBRyxLQUFLZ0IsZ0JBQWdCbkMsSUFBSWtDLE9BQU8sSUFBSTtnQ0FDekQsMERBQTBEO2dDQUM5RDtnQ0FDQWxDLElBQUl1QyxPQUFPLENBQUNIO2dDQUVaLElBQUlsQixZQUFZQyxNQUFNLEtBQUssR0FBRztvQ0FDMUJuQixJQUFJd0MsU0FBUyxDQUFDdEIsV0FBVyxDQUFDLEVBQUU7b0NBQzVCbEIsSUFBSXVDLE9BQU8sQ0FBQztnQ0FDaEI7NEJBQ0osT0FBTztnQ0FDSDNDLFFBQVFDLElBQUksQ0FBQzs0QkFDakI7d0JBQ0osR0FBRyxNQUFNLDJDQUEyQztvQkFFdEQsT0FBTzt3QkFDTGUsWUFBWSxPQUFPLGtCQUFrQjtvQkFDdkM7Z0JBQ0YsT0FBTztvQkFDTGhCLFFBQVFDLElBQUksQ0FBQztnQkFDZjtZQUNGLE9BQU87Z0JBQ0xlLFlBQVksT0FBTyx1QkFBdUI7WUFDNUM7UUFDRixPQUFPO1lBQ0xBLFlBQVksT0FBTyx3QkFBd0I7UUFDN0M7UUFFQSwwRUFBMEU7UUFDMUUsT0FBTztZQUNMLElBQUlELFVBQVU7Z0JBQ1pBLFNBQVNFLE1BQU0sQ0FBQztZQUNsQjtRQUNGO0lBQ0YsR0FBRztRQUFDYjtRQUFLVTtRQUFvQnRCO0tBQVc7SUFFeEMsT0FBTyxNQUFNLDJFQUEyRTtBQUMxRjtBQUVBLDRDQUE0QztBQUM1QyxNQUFNcUQsc0JBQTBELENBQUMsRUFBRUMsV0FBVyxFQUFFO0lBQzlFLE1BQU0xQyxNQUFNckIsaUVBQU1BO0lBQ2xCLE1BQU0sQ0FBQ2dFLGNBQWNDLGdCQUFnQixHQUFHckUsK0NBQVFBLENBQWtDO0lBRWxGRCxnREFBU0EsQ0FBQztRQUNSLElBQUksQ0FBQzBCLEtBQUs7UUFFVixJQUFJMEMsYUFBYTtZQUNmLElBQUksQ0FBQ0MsY0FBYztnQkFDakIsTUFBTUUsa0JBQWtCLElBQUlyRCxPQUFPQyxNQUFNLENBQUNDLElBQUksQ0FBQ29ELFlBQVk7Z0JBQzNERCxnQkFBZ0JoQyxNQUFNLENBQUNiO2dCQUN2QjRDLGdCQUFnQkM7Z0JBQ2hCakQsUUFBUW1ELEdBQUcsQ0FBQztZQUNkLE9BQU87Z0JBQ0xKLGFBQWE5QixNQUFNLENBQUNiLE1BQU0saUVBQWlFO2dCQUMzRkosUUFBUW1ELEdBQUcsQ0FBQztZQUNkO1FBQ0YsT0FBTztZQUNMLElBQUlKLGNBQWM7Z0JBQ2hCQSxhQUFhOUIsTUFBTSxDQUFDO2dCQUNwQix1RkFBdUY7Z0JBQ3ZGakIsUUFBUW1ELEdBQUcsQ0FBQztZQUNkO1FBQ0Y7SUFDQSwyRUFBMkU7SUFDN0UsR0FBRztRQUFDL0M7UUFBSzBDO1FBQWFDO0tBQWE7SUFFbkMsT0FBTyxNQUFNLG1FQUFtRTtBQUNsRjtBQUVBLE1BQU1LLGFBQXdDLENBQUMsRUFBRXRDLGtCQUFrQixFQUFFdUMsZ0JBQWdCLEVBQUVQLFdBQVcsRUFBRVEsUUFBUXRFLFlBQVksRUFBRTtJQUN4SCxJQUFJLENBQUNxRSxrQkFBa0I7UUFDckIscUJBQU8sOERBQUNFO1lBQUlDLE9BQU87Z0JBQUNuRSxPQUFPO2dCQUFPb0UsU0FBUztnQkFBUUMsUUFBUTtZQUFlO3NCQUFHOzs7Ozs7SUFDL0U7SUFFQSxxQkFDRSw4REFBQzlFLGtFQUFXQTtRQUFDK0UsUUFBUU47UUFBa0JPLFdBQVc7WUFBQztTQUFXO1FBQUVDLFFBQVEsSUFBTTdELFFBQVFtRCxHQUFHLENBQUM7a0JBQ3hGLDRFQUFDdEUsMERBQUdBO1lBQ0YyRSxPQUFPaEQ7WUFDUEcsZUFBZUE7WUFDZkMsYUFBYUE7WUFDYmtELGlCQUFpQjtZQUNqQkMsa0JBQWtCO1lBQ2xCQyxRQUFRVixNQUFNcEUsYUFBYTtZQUMzQitFLGlCQUFpQixDQUFDQyxLQUFPbEUsUUFBUW1ELEdBQUcsQ0FBQyx3Q0FBd0NlLEdBQUdDLE1BQU0sQ0FBQ0MsTUFBTSxFQUFFRixHQUFHQyxNQUFNLENBQUNFLElBQUk7O2dCQUc1R3ZELG9CQUFvQkksUUFBUSxDQUFDLEVBQUUsRUFBRW9ELE1BQU0sQ0FBQyxFQUFFLEVBQUVDLGdDQUN6Qyw4REFBQ3pGLDZEQUFNQTtvQkFDSDBGLFVBQVUxRCxtQkFBbUJJLE1BQU0sQ0FBQyxFQUFFLENBQUNvRCxJQUFJLENBQUMsRUFBRSxDQUFDQyxjQUFjO29CQUM3REUsT0FBTyxDQUFDLE9BQU8sRUFBRTNELG1CQUFtQkksTUFBTSxDQUFDLEVBQUUsQ0FBQ29ELElBQUksQ0FBQyxFQUFFLENBQUNJLGFBQWEsQ0FBQyxDQUFDOzs7Ozs7Z0JBRzVFNUQsb0JBQW9CSSxRQUFRLENBQUMsRUFBRSxFQUFFb0QsTUFBTSxDQUFDLEVBQUUsRUFBRUssOEJBQ3pDLDhEQUFDN0YsNkRBQU1BO29CQUNIMEYsVUFBVTFELG1CQUFtQkksTUFBTSxDQUFDLEVBQUUsQ0FBQ29ELElBQUksQ0FBQyxFQUFFLENBQUNLLFlBQVk7b0JBQzNERixPQUFPLENBQUMsS0FBSyxFQUFFM0QsbUJBQW1CSSxNQUFNLENBQUMsRUFBRSxDQUFDb0QsSUFBSSxDQUFDLEVBQUUsQ0FBQ00sV0FBVyxDQUFDLENBQUM7Ozs7Ozs4QkFHekUsOERBQUMvRDtvQkFBY0Msb0JBQW9CQTtvQkFBb0J0QixZQUFZOEQsTUFBTTlELFVBQVU7Ozs7Ozs4QkFDbkYsOERBQUNxRDtvQkFBb0JDLGFBQWFBOzs7Ozs7Ozs7Ozs7Ozs7OztBQUkxQztBQUVBLDhFQUFlckUsMkNBQUlBLENBQUMyRSxXQUFXQSxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYXN0X2NoYXQvLi9jb21wb25lbnRzL01hcERpc3BsYXkudHN4P2UwNDIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IG1lbW8sIHVzZUVmZmVjdCwgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBBUElQcm92aWRlciwgTWFwLCBNYXJrZXIsIHVzZU1hcCB9IGZyb20gJ0B2aXMuZ2wvcmVhY3QtZ29vZ2xlLW1hcHMnO1xuXG4vLyBEZWZpbmUgdGhlIHN0cnVjdHVyZSBmb3Igb3VyIG1hcCB0aGVtZXNcbmV4cG9ydCBpbnRlcmZhY2UgTWFwVGhlbWUge1xuICBuYW1lOiBzdHJpbmc7XG4gIG1hcFR5cGVTdHlsZXM6IGdvb2dsZS5tYXBzLk1hcFR5cGVTdHlsZVtdO1xuICByb3V0ZUNvbG9yOiBzdHJpbmc7XG4gIC8vIFBvdGVudGlhbGx5IGFkZCBvdGhlciB0aGVtZS1zcGVjaWZpYyBwcm9wZXJ0aWVzIGxpa2UgbWFya2VyIGljb25zLCBldGMuXG59XG5cbi8vIFVwZGF0ZWQgTW9kZXJuIExpZ2h0IFRoZW1lIChyZXBsYWNlcyBvbGQgZGVmYXVsdFRoZW1lKVxuZXhwb3J0IGNvbnN0IGRlZmF1bHRUaGVtZTogTWFwVGhlbWUgPSB7XG4gIG5hbWU6ICdNb2Rlcm4gTGlnaHQnLFxuICBtYXBUeXBlU3R5bGVzOiBbXG4gICAgeyBlbGVtZW50VHlwZTogJ2dlb21ldHJ5Jywgc3R5bGVyczogW3sgY29sb3I6ICcjZjVmNWY1JyB9XSB9LFxuICAgIHsgZWxlbWVudFR5cGU6ICdsYWJlbHMuaWNvbicsIHN0eWxlcnM6IFt7IHZpc2liaWxpdHk6ICdvZmYnIH1dIH0sXG4gICAgeyBlbGVtZW50VHlwZTogJ2xhYmVscy50ZXh0LmZpbGwnLCBzdHlsZXJzOiBbeyBjb2xvcjogJyM2MTYxNjEnIH1dIH0sXG4gICAgeyBlbGVtZW50VHlwZTogJ2xhYmVscy50ZXh0LnN0cm9rZScsIHN0eWxlcnM6IFt7IGNvbG9yOiAnI2Y1ZjVmNScgfV0gfSxcbiAgICB7XG4gICAgICBmZWF0dXJlVHlwZTogJ2FkbWluaXN0cmF0aXZlLmxhbmRfcGFyY2VsJyxcbiAgICAgIGVsZW1lbnRUeXBlOiAnbGFiZWxzLnRleHQuZmlsbCcsXG4gICAgICBzdHlsZXJzOiBbeyBjb2xvcjogJyNiZGJkYmQnIH1dLFxuICAgIH0sXG4gICAge1xuICAgICAgZmVhdHVyZVR5cGU6ICdwb2knLFxuICAgICAgZWxlbWVudFR5cGU6ICdnZW9tZXRyeScsXG4gICAgICBzdHlsZXJzOiBbeyBjb2xvcjogJyNlZWVlZWUnIH1dLFxuICAgIH0sXG4gICAge1xuICAgICAgZmVhdHVyZVR5cGU6ICdwb2knLFxuICAgICAgZWxlbWVudFR5cGU6ICdsYWJlbHMudGV4dC5maWxsJyxcbiAgICAgIHN0eWxlcnM6IFt7IGNvbG9yOiAnIzc1NzU3NScgfV0sXG4gICAgfSxcbiAgICB7XG4gICAgICBmZWF0dXJlVHlwZTogJ3BvaS5wYXJrJyxcbiAgICAgIGVsZW1lbnRUeXBlOiAnZ2VvbWV0cnknLFxuICAgICAgc3R5bGVyczogW3sgY29sb3I6ICcjZTVlNWU1JyB9XSxcbiAgICB9LFxuICAgIHtcbiAgICAgIGZlYXR1cmVUeXBlOiAncG9pLnBhcmsnLFxuICAgICAgZWxlbWVudFR5cGU6ICdsYWJlbHMudGV4dC5maWxsJyxcbiAgICAgIHN0eWxlcnM6IFt7IGNvbG9yOiAnIzllOWU5ZScgfV0sXG4gICAgfSxcbiAgICB7XG4gICAgICBmZWF0dXJlVHlwZTogJ3JvYWQnLFxuICAgICAgZWxlbWVudFR5cGU6ICdnZW9tZXRyeScsXG4gICAgICBzdHlsZXJzOiBbeyBjb2xvcjogJyNmZmZmZmYnIH1dLFxuICAgIH0sXG4gICAge1xuICAgICAgZmVhdHVyZVR5cGU6ICdyb2FkLmFydGVyaWFsJyxcbiAgICAgIGVsZW1lbnRUeXBlOiAnbGFiZWxzLnRleHQuZmlsbCcsXG4gICAgICBzdHlsZXJzOiBbeyBjb2xvcjogJyM3NTc1NzUnIH1dLFxuICAgIH0sXG4gICAge1xuICAgICAgZmVhdHVyZVR5cGU6ICdyb2FkLmhpZ2h3YXknLFxuICAgICAgZWxlbWVudFR5cGU6ICdnZW9tZXRyeScsXG4gICAgICBzdHlsZXJzOiBbeyBjb2xvcjogJyNkYWRhZGEnIH1dLFxuICAgIH0sXG4gICAge1xuICAgICAgZmVhdHVyZVR5cGU6ICdyb2FkLmhpZ2h3YXknLFxuICAgICAgZWxlbWVudFR5cGU6ICdsYWJlbHMudGV4dC5maWxsJyxcbiAgICAgIHN0eWxlcnM6IFt7IGNvbG9yOiAnIzYxNjE2MScgfV0sXG4gICAgfSxcbiAgICB7XG4gICAgICBmZWF0dXJlVHlwZTogJ3JvYWQubG9jYWwnLFxuICAgICAgZWxlbWVudFR5cGU6ICdsYWJlbHMudGV4dC5maWxsJyxcbiAgICAgIHN0eWxlcnM6IFt7IGNvbG9yOiAnIzllOWU5ZScgfV0sXG4gICAgfSxcbiAgICB7XG4gICAgICBmZWF0dXJlVHlwZTogJ3RyYW5zaXQubGluZScsXG4gICAgICBlbGVtZW50VHlwZTogJ2dlb21ldHJ5JyxcbiAgICAgIHN0eWxlcnM6IFt7IGNvbG9yOiAnI2U1ZTVlNScgfV0sXG4gICAgfSxcbiAgICB7XG4gICAgICBmZWF0dXJlVHlwZTogJ3RyYW5zaXQuc3RhdGlvbicsXG4gICAgICBlbGVtZW50VHlwZTogJ2dlb21ldHJ5JyxcbiAgICAgIHN0eWxlcnM6IFt7IGNvbG9yOiAnI2VlZWVlZScgfV0sXG4gICAgfSxcbiAgICB7XG4gICAgICBmZWF0dXJlVHlwZTogJ3dhdGVyJyxcbiAgICAgIGVsZW1lbnRUeXBlOiAnZ2VvbWV0cnknLFxuICAgICAgc3R5bGVyczogW3sgY29sb3I6ICcjYzljOWM5JyB9XSxcbiAgICB9LFxuICAgIHtcbiAgICAgIGZlYXR1cmVUeXBlOiAnd2F0ZXInLFxuICAgICAgZWxlbWVudFR5cGU6ICdsYWJlbHMudGV4dC5maWxsJyxcbiAgICAgIHN0eWxlcnM6IFt7IGNvbG9yOiAnIzllOWU5ZScgfV0sXG4gICAgfSxcbiAgXSxcbiAgcm91dGVDb2xvcjogJyM0Mjg1RjQnLCAvLyBHb29nbGUgQmx1ZSBmb3IgYSBtb2Rlcm4sIGNsZWFuIHJvdXRlXG59O1xuXG4vLyBVcGRhdGVkIE1vZGVybiBEYXJrIFRoZW1lIChyZXBsYWNlcyBvbGQgbmlnaHRUaGVtZSlcbmV4cG9ydCBjb25zdCBuaWdodFRoZW1lOiBNYXBUaGVtZSA9IHtcbiAgbmFtZTogJ01vZGVybiBEYXJrJyxcbiAgbWFwVHlwZVN0eWxlczogW1xuICAgIHsgZWxlbWVudFR5cGU6IFwiZ2VvbWV0cnlcIiwgc3R5bGVyczogW3sgY29sb3I6IFwiIzI0MmYzZVwiIH1dIH0sXG4gICAgeyBlbGVtZW50VHlwZTogXCJsYWJlbHMudGV4dC5zdHJva2VcIiwgc3R5bGVyczogW3sgY29sb3I6IFwiIzI0MmYzZVwiIH1dIH0sXG4gICAgeyBlbGVtZW50VHlwZTogXCJsYWJlbHMudGV4dC5maWxsXCIsIHN0eWxlcnM6IFt7IGNvbG9yOiBcIiM3NDY4NTVcIiB9XSB9LFxuICAgIHtcbiAgICAgIGZlYXR1cmVUeXBlOiBcImFkbWluaXN0cmF0aXZlLmxvY2FsaXR5XCIsXG4gICAgICBlbGVtZW50VHlwZTogXCJsYWJlbHMudGV4dC5maWxsXCIsXG4gICAgICBzdHlsZXJzOiBbeyBjb2xvcjogXCIjZDU5NTYzXCIgfV0sXG4gICAgfSxcbiAgICB7XG4gICAgICBmZWF0dXJlVHlwZTogXCJwb2lcIixcbiAgICAgIGVsZW1lbnRUeXBlOiBcImxhYmVscy50ZXh0LmZpbGxcIixcbiAgICAgIHN0eWxlcnM6IFt7IGNvbG9yOiBcIiNkNTk1NjNcIiB9XSxcbiAgICB9LFxuICAgIHtcbiAgICAgIGZlYXR1cmVUeXBlOiBcInBvaS5wYXJrXCIsXG4gICAgICBlbGVtZW50VHlwZTogXCJnZW9tZXRyeVwiLFxuICAgICAgc3R5bGVyczogW3sgY29sb3I6IFwiIzI2M2MzZlwiIH1dLFxuICAgIH0sXG4gICAge1xuICAgICAgZmVhdHVyZVR5cGU6IFwicG9pLnBhcmtcIixcbiAgICAgIGVsZW1lbnRUeXBlOiBcImxhYmVscy50ZXh0LmZpbGxcIixcbiAgICAgIHN0eWxlcnM6IFt7IGNvbG9yOiBcIiM2YjlhNzZcIiB9XSxcbiAgICB9LFxuICAgIHtcbiAgICAgIGZlYXR1cmVUeXBlOiBcInJvYWRcIixcbiAgICAgIGVsZW1lbnRUeXBlOiBcImdlb21ldHJ5XCIsXG4gICAgICBzdHlsZXJzOiBbeyBjb2xvcjogXCIjMzg0MTRlXCIgfV0sXG4gICAgfSxcbiAgICB7XG4gICAgICBmZWF0dXJlVHlwZTogXCJyb2FkXCIsXG4gICAgICBlbGVtZW50VHlwZTogXCJnZW9tZXRyeS5zdHJva2VcIixcbiAgICAgIHN0eWxlcnM6IFt7IGNvbG9yOiBcIiMyMTJhMzdcIiB9XSxcbiAgICB9LFxuICAgIHtcbiAgICAgIGZlYXR1cmVUeXBlOiBcInJvYWRcIixcbiAgICAgIGVsZW1lbnRUeXBlOiBcImxhYmVscy50ZXh0LmZpbGxcIixcbiAgICAgIHN0eWxlcnM6IFt7IGNvbG9yOiBcIiM5Y2E1YjNcIiB9XSxcbiAgICB9LFxuICAgIHtcbiAgICAgIGZlYXR1cmVUeXBlOiBcInJvYWQuaGlnaHdheVwiLFxuICAgICAgZWxlbWVudFR5cGU6IFwiZ2VvbWV0cnlcIixcbiAgICAgIHN0eWxlcnM6IFt7IGNvbG9yOiBcIiM3NDY4NTVcIiB9XSxcbiAgICB9LFxuICAgIHtcbiAgICAgIGZlYXR1cmVUeXBlOiBcInJvYWQuaGlnaHdheVwiLFxuICAgICAgZWxlbWVudFR5cGU6IFwiZ2VvbWV0cnkuc3Ryb2tlXCIsXG4gICAgICBzdHlsZXJzOiBbeyBjb2xvcjogXCIjMWYyODM1XCIgfV0sXG4gICAgfSxcbiAgICB7XG4gICAgICBmZWF0dXJlVHlwZTogXCJyb2FkLmhpZ2h3YXlcIixcbiAgICAgIGVsZW1lbnRUeXBlOiBcImxhYmVscy50ZXh0LmZpbGxcIixcbiAgICAgIHN0eWxlcnM6IFt7IGNvbG9yOiBcIiNmM2QxOWNcIiB9XSxcbiAgICB9LFxuICAgIHtcbiAgICAgIGZlYXR1cmVUeXBlOiBcInRyYW5zaXRcIixcbiAgICAgIGVsZW1lbnRUeXBlOiBcImdlb21ldHJ5XCIsXG4gICAgICBzdHlsZXJzOiBbeyBjb2xvcjogXCIjMmYzOTQ4XCIgfV0sXG4gICAgfSxcbiAgICB7XG4gICAgICBmZWF0dXJlVHlwZTogXCJ0cmFuc2l0LnN0YXRpb25cIixcbiAgICAgIGVsZW1lbnRUeXBlOiBcImxhYmVscy50ZXh0LmZpbGxcIixcbiAgICAgIHN0eWxlcnM6IFt7IGNvbG9yOiBcIiNkNTk1NjNcIiB9XSxcbiAgICB9LFxuICAgIHtcbiAgICAgIGZlYXR1cmVUeXBlOiBcIndhdGVyXCIsXG4gICAgICBlbGVtZW50VHlwZTogXCJnZW9tZXRyeVwiLFxuICAgICAgc3R5bGVyczogW3sgY29sb3I6IFwiIzE3MjYzY1wiIH1dLFxuICAgIH0sXG4gICAge1xuICAgICAgZmVhdHVyZVR5cGU6IFwid2F0ZXJcIixcbiAgICAgIGVsZW1lbnRUeXBlOiBcImxhYmVscy50ZXh0LmZpbGxcIixcbiAgICAgIHN0eWxlcnM6IFt7IGNvbG9yOiBcIiM1MTVjNmRcIiB9XSxcbiAgICB9LFxuICAgIHtcbiAgICAgIGZlYXR1cmVUeXBlOiBcIndhdGVyXCIsXG4gICAgICBlbGVtZW50VHlwZTogXCJsYWJlbHMudGV4dC5zdHJva2VcIixcbiAgICAgIHN0eWxlcnM6IFt7IGNvbG9yOiBcIiMxNzI2M2NcIiB9XSxcbiAgICB9LFxuICBdLFxuICByb3V0ZUNvbG9yOiAnIzgwQ0JDNCcsIC8vIEEgdGVhbC9taW50IGNvbG9yIGZvciB0aGUgcm91dGUsIGNvbnRyYXN0cyB3ZWxsIHdpdGggZGFya1xufTtcblxuLy8gSGVscGVyIGZ1bmN0aW9uIHRvIGRlY29kZSBwb2x5bGluZVxuY29uc3QgZGVjb2RlUG9seWxpbmUgPSAoZW5jb2RlZFBhdGg6IHN0cmluZyk6IGdvb2dsZS5tYXBzLkxhdExuZ0xpdGVyYWxbXSA9PiB7XG4gIGlmICghd2luZG93Lmdvb2dsZSB8fCAhd2luZG93Lmdvb2dsZS5tYXBzIHx8ICF3aW5kb3cuZ29vZ2xlLm1hcHMuZ2VvbWV0cnkpIHtcbiAgICBjb25zb2xlLndhcm4oJ1tNYXBEaXNwbGF5LnRzeF0gR29vZ2xlIE1hcHMgR2VvbWV0cnkgbGlicmFyeSBub3QgbG9hZGVkIHlldCBmb3IgcG9seWxpbmUgZGVjb2RpbmcuJyk7XG4gICAgcmV0dXJuIFtdO1xuICB9XG4gIHJldHVybiB3aW5kb3cuZ29vZ2xlLm1hcHMuZ2VvbWV0cnkuZW5jb2RpbmcuZGVjb2RlUGF0aChlbmNvZGVkUGF0aCkubWFwKHAgPT4gKHsgbGF0OiBwLmxhdCgpLCBsbmc6IHAubG5nKCkgfSkpO1xufTtcblxuaW50ZXJmYWNlIE1hcERpc3BsYXlQcm9wcyB7XG4gIGRpcmVjdGlvbnNSZXNwb25zZTogYW55O1xuICBnb29nbGVNYXBzQXBpS2V5OiBzdHJpbmc7XG4gIHNob3dUcmFmZmljOiBib29sZWFuO1xuICB0aGVtZT86IE1hcFRoZW1lOyAvLyBBZGRlZCB0aGVtZSBwcm9wXG59XG5cbmNvbnN0IGNvbnRhaW5lclN0eWxlID0ge1xuICB3aWR0aDogJzEwMCUnLFxuICBoZWlnaHQ6ICc0MDBweCdcbn07XG5cbmNvbnN0IGRlZmF1bHRDZW50ZXIgPSB7XG4gIGxhdDogMzkuODI4MyxcbiAgbG5nOiAtOTguNTc5NVxufTtcbmNvbnN0IGRlZmF1bHRab29tID0gNTtcblxuLy8gVGhpcyBjb21wb25lbnQgd2lsbCBoYW5kbGUgZHJhd2luZyB0aGUgcG9seWxpbmUgYW5kIGZpdHRpbmcgYm91bmRzXG5jb25zdCBSb3V0ZVBvbHlsaW5lOiBSZWFjdC5GQzx7IGRpcmVjdGlvbnNSZXNwb25zZTogYW55LCByb3V0ZUNvbG9yPzogc3RyaW5nIH0+ID0gKHsgZGlyZWN0aW9uc1Jlc3BvbnNlLCByb3V0ZUNvbG9yID0gZGVmYXVsdFRoZW1lLnJvdXRlQ29sb3IgfSkgPT4ge1xuICBjb25zdCBtYXAgPSB1c2VNYXAoKTtcbiAgY29uc3QgW3BvbHlsaW5lLCBzZXRQb2x5bGluZV0gPSB1c2VTdGF0ZTxnb29nbGUubWFwcy5Qb2x5bGluZSB8IG51bGw+KG51bGwpO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFtYXApIHJldHVybjtcblxuICAgIC8vIENsZWFyIGV4aXN0aW5nIHBvbHlsaW5lIGlmIGFueVxuICAgIGlmIChwb2x5bGluZSkge1xuICAgICAgcG9seWxpbmUuc2V0TWFwKG51bGwpO1xuICAgIH1cblxuICAgIGlmIChkaXJlY3Rpb25zUmVzcG9uc2UgJiYgZGlyZWN0aW9uc1Jlc3BvbnNlLnJvdXRlcyAmJiBkaXJlY3Rpb25zUmVzcG9uc2Uucm91dGVzWzBdKSB7XG4gICAgICBjb25zdCByb3V0ZSA9IGRpcmVjdGlvbnNSZXNwb25zZS5yb3V0ZXNbMF07XG4gICAgICBpZiAocm91dGUub3ZlcnZpZXdfcG9seWxpbmUgJiYgcm91dGUub3ZlcnZpZXdfcG9seWxpbmUucG9pbnRzKSB7XG4gICAgICAgIGlmICh3aW5kb3cuZ29vZ2xlICYmIHdpbmRvdy5nb29nbGUubWFwcyAmJiB3aW5kb3cuZ29vZ2xlLm1hcHMuZ2VvbWV0cnkpIHtcbiAgICAgICAgICBjb25zdCBkZWNvZGVkUGF0aCA9IGRlY29kZVBvbHlsaW5lKHJvdXRlLm92ZXJ2aWV3X3BvbHlsaW5lLnBvaW50cyk7XG5cbiAgICAgICAgICBpZiAoZGVjb2RlZFBhdGgubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgY29uc3QgbmV3UG9seWxpbmUgPSBuZXcgd2luZG93Lmdvb2dsZS5tYXBzLlBvbHlsaW5lKHtcbiAgICAgICAgICAgICAgcGF0aDogZGVjb2RlZFBhdGgsXG4gICAgICAgICAgICAgIHN0cm9rZUNvbG9yOiByb3V0ZUNvbG9yLFxuICAgICAgICAgICAgICBzdHJva2VPcGFjaXR5OiAwLjc1LFxuICAgICAgICAgICAgICBzdHJva2VXZWlnaHQ6IDUsXG4gICAgICAgICAgICAgIG1hcDogbWFwXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHNldFBvbHlsaW5lKG5ld1BvbHlsaW5lKTtcblxuICAgICAgICAgICAgY29uc3QgYm91bmRzID0gbmV3IHdpbmRvdy5nb29nbGUubWFwcy5MYXRMbmdCb3VuZHMoKTtcbiAgICAgICAgICAgIGRlY29kZWRQYXRoLmZvckVhY2gocG9pbnQgPT4gYm91bmRzLmV4dGVuZChwb2ludCkpO1xuICAgICAgICAgICAgbWFwLmZpdEJvdW5kcyhib3VuZHMpO1xuXG4gICAgICAgICAgICAvLyBBZGp1c3Qgem9vbSBhZnRlciBmaXRCb3VuZHMsIHdpdGggYSBzbGlnaHQgZGVsYXkgaWYgbmVjZXNzYXJ5IGZvciBtYXAgdG8gc2V0dGxlXG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAobWFwLmdldFByb2plY3Rpb24oKSAmJiB0eXBlb2YgbWFwLmdldFpvb20oKSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY3VycmVudFpvb20gPSBtYXAuZ2V0Wm9vbSgpITtcbiAgICAgICAgICAgICAgICAgICAgLy8gUHJldmVudCBvdmVyLXpvb21pbmcsIGNhcCBhdCBhIHJlYXNvbmFibGUgbGV2ZWwgbGlrZSAxNSBvciAxNlxuICAgICAgICAgICAgICAgICAgICAvLyBhbHNvLCBmaXRCb3VuZHMgbWlnaHQgbWFrZSBpdCB0b28gdGlnaHQsIHNvIHdlIGNhbiBvcHRpb25hbGx5IHpvb20gb3V0IG9uZSBsZXZlbFxuICAgICAgICAgICAgICAgICAgICBsZXQgbmV3Wm9vbSA9IE1hdGgubWluKGN1cnJlbnRab29tLCAxNik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkZWNvZGVkUGF0aC5sZW5ndGggPiAxICYmIGN1cnJlbnRab29tID09PSBtYXAuZ2V0Wm9vbSgpKSB7IC8vIGlmIGZpdGJvdW5kcyBkaWRuJ3QgY2hhbmdlIHpvb20gbXVjaFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gbmV3Wm9vbSA9IE1hdGgubWF4KG5ld1pvb20gLTEsIDIpOyAvLyB6b29tIG91dCBzbGlnaHRseVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1hcC5zZXRab29tKG5ld1pvb20pO1xuICAgIFxuICAgICAgICAgICAgICAgICAgICBpZiAoZGVjb2RlZFBhdGgubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtYXAuc2V0Q2VudGVyKGRlY29kZWRQYXRoWzBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hcC5zZXRab29tKDE0KTsgXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ1tNYXBEaXNwbGF5LnRzeF0gTWFwIHByb2plY3Rpb24gb3Igem9vbSBub3QgYXZhaWxhYmxlIGZvciBhZGp1c3RtZW50IGFmdGVyIGZpdEJvdW5kcy4nKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCAxMDApOyAvLyBTbWFsbCBkZWxheSBmb3IgbWFwIHRvIHByb2Nlc3MgZml0Qm91bmRzXG5cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2V0UG9seWxpbmUobnVsbCk7IC8vIE5vIHBhdGggdG8gZHJhd1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zb2xlLndhcm4oJ1tNYXBEaXNwbGF5LnRzeF0gR2VvbWV0cnkgbGlicmFyeSBub3QgcmVhZHkgZm9yIHBvbHlsaW5lIGRlY29kaW5nLicpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzZXRQb2x5bGluZShudWxsKTsgLy8gTm8gb3ZlcnZpZXdfcG9seWxpbmVcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgc2V0UG9seWxpbmUobnVsbCk7IC8vIE5vIGRpcmVjdGlvbnNSZXNwb25zZVxuICAgIH1cblxuICAgIC8vIENsZWFudXA6IHJlbW92ZSBwb2x5bGluZSB3aGVuIGNvbXBvbmVudCB1bm1vdW50cyBvciBkZXBlbmRlbmNpZXMgY2hhbmdlXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGlmIChwb2x5bGluZSkge1xuICAgICAgICBwb2x5bGluZS5zZXRNYXAobnVsbCk7XG4gICAgICB9XG4gICAgfTtcbiAgfSwgW21hcCwgZGlyZWN0aW9uc1Jlc3BvbnNlLCByb3V0ZUNvbG9yXSk7XG5cbiAgcmV0dXJuIG51bGw7IC8vIFRoaXMgY29tcG9uZW50IG9ubHkgZHJhd3Mgb24gdGhlIG1hcCwgZG9lc24ndCByZW5kZXIgaXRzIG93biBET00gZWxlbWVudFxufTtcblxuLy8gTmV3IGNvbXBvbmVudCB0byBtYW5hZ2UgdGhlIHRyYWZmaWMgbGF5ZXJcbmNvbnN0IFRyYWZmaWNMYXllckNvbnRyb2w6IFJlYWN0LkZDPHsgc2hvd1RyYWZmaWM6IGJvb2xlYW4gfT4gPSAoeyBzaG93VHJhZmZpYyB9KSA9PiB7XG4gIGNvbnN0IG1hcCA9IHVzZU1hcCgpO1xuICBjb25zdCBbdHJhZmZpY0xheWVyLCBzZXRUcmFmZmljTGF5ZXJdID0gdXNlU3RhdGU8Z29vZ2xlLm1hcHMuVHJhZmZpY0xheWVyIHwgbnVsbD4obnVsbCk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIW1hcCkgcmV0dXJuO1xuXG4gICAgaWYgKHNob3dUcmFmZmljKSB7XG4gICAgICBpZiAoIXRyYWZmaWNMYXllcikgeyAvLyBPbmx5IGNyZWF0ZSBpZiBpdCBkb2Vzbid0IGV4aXN0XG4gICAgICAgIGNvbnN0IG5ld1RyYWZmaWNMYXllciA9IG5ldyB3aW5kb3cuZ29vZ2xlLm1hcHMuVHJhZmZpY0xheWVyKCk7XG4gICAgICAgIG5ld1RyYWZmaWNMYXllci5zZXRNYXAobWFwKTtcbiAgICAgICAgc2V0VHJhZmZpY0xheWVyKG5ld1RyYWZmaWNMYXllcik7XG4gICAgICAgIGNvbnNvbGUubG9nKCdbTWFwRGlzcGxheS50c3hdIFRyYWZmaWMgbGF5ZXIgZW5hYmxlZC4nKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRyYWZmaWNMYXllci5zZXRNYXAobWFwKTsgLy8gRW5zdXJlIGl0J3Mgb24gdGhlIGN1cnJlbnQgbWFwIGluc3RhbmNlIGlmIG1hcCByZS1pbnN0YW50aWF0ZWRcbiAgICAgICAgY29uc29sZS5sb2coJ1tNYXBEaXNwbGF5LnRzeF0gVHJhZmZpYyBsYXllciByZS1lbmFibGVkIG9uIG1hcC4nKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHRyYWZmaWNMYXllcikge1xuICAgICAgICB0cmFmZmljTGF5ZXIuc2V0TWFwKG51bGwpO1xuICAgICAgICAvLyBzZXRUcmFmZmljTGF5ZXIobnVsbCk7IC8vIE9wdGlvbmFsOiBudWxsaWZ5IGlmIHlvdSB3YW50IGl0IHRvIGJlIHJlY3JlYXRlZCBuZXh0IHRpbWVcbiAgICAgICAgY29uc29sZS5sb2coJ1tNYXBEaXNwbGF5LnRzeF0gVHJhZmZpYyBsYXllciBkaXNhYmxlZC4nKTtcbiAgICAgIH1cbiAgICB9XG4gICAgLy8gTm8gY2xlYW51cCBuZWVkZWQgZm9yIHNldE1hcChudWxsKSBiZXlvbmQgd2hhdCdzIGRvbmUgYWJvdmUgZm9yIHRvZ2dsaW5nXG4gIH0sIFttYXAsIHNob3dUcmFmZmljLCB0cmFmZmljTGF5ZXJdKTtcblxuICByZXR1cm4gbnVsbDsgLy8gVGhpcyBjb21wb25lbnQgaXMgZm9yIGNvbnRyb2wsIGRvZXNuJ3QgcmVuZGVyIFVJIGVsZW1lbnRzIGl0c2VsZlxufTtcblxuY29uc3QgTWFwRGlzcGxheTogUmVhY3QuRkM8TWFwRGlzcGxheVByb3BzPiA9ICh7IGRpcmVjdGlvbnNSZXNwb25zZSwgZ29vZ2xlTWFwc0FwaUtleSwgc2hvd1RyYWZmaWMsIHRoZW1lID0gZGVmYXVsdFRoZW1lIH0pID0+IHtcbiAgaWYgKCFnb29nbGVNYXBzQXBpS2V5KSB7XG4gICAgcmV0dXJuIDxkaXYgc3R5bGU9e3tjb2xvcjogJ3JlZCcsIHBhZGRpbmc6ICcyMHB4JywgYm9yZGVyOiAnMXB4IHNvbGlkIHJlZCd9fT5FcnJvcjogR29vZ2xlIE1hcHMgQVBJIEtleSBpcyBtaXNzaW5nLiBQbGVhc2Ugc2V0IE5FWFRfUFVCTElDX0dPT0dMRV9NQVBTX0FQSV9LRVkuPC9kaXY+O1xuICB9XG4gIFxuICByZXR1cm4gKFxuICAgIDxBUElQcm92aWRlciBhcGlLZXk9e2dvb2dsZU1hcHNBcGlLZXl9IGxpYnJhcmllcz17WydnZW9tZXRyeSddfSBvbkxvYWQ9eygpID0+IGNvbnNvbGUubG9nKCdbTWFwRGlzcGxheS50c3hdIEFQSVByb3ZpZGVyIGxvYWRlZCB3aXRoIGxpYnJhcmllcy4nKX0+XG4gICAgICA8TWFwXG4gICAgICAgIHN0eWxlPXtjb250YWluZXJTdHlsZX1cbiAgICAgICAgZGVmYXVsdENlbnRlcj17ZGVmYXVsdENlbnRlcn1cbiAgICAgICAgZGVmYXVsdFpvb209e2RlZmF1bHRab29tfVxuICAgICAgICBnZXN0dXJlSGFuZGxpbmc9eydncmVlZHknfVxuICAgICAgICBkaXNhYmxlRGVmYXVsdFVJPXtmYWxzZX1cbiAgICAgICAgc3R5bGVzPXt0aGVtZS5tYXBUeXBlU3R5bGVzfVxuICAgICAgICBvbkNhbWVyYUNoYW5nZWQ9eyhldikgPT4gY29uc29sZS5sb2coJ1tNYXBEaXNwbGF5LnRzeF0gTWFwIGNhbWVyYSBjaGFuZ2VkOicsIGV2LmRldGFpbC5jZW50ZXIsIGV2LmRldGFpbC56b29tKX1cbiAgICAgID5cbiAgICAgICAgey8qIE9wdGlvbmFsOiBBZGQgbWFya2VycyBmb3Igc3RhcnQgYW5kIGVuZCBwb2ludHMgKi99XG4gICAgICAgIHtkaXJlY3Rpb25zUmVzcG9uc2U/LnJvdXRlcz8uWzBdPy5sZWdzPy5bMF0/LnN0YXJ0X2xvY2F0aW9uICYmIFxuICAgICAgICAgICAgPE1hcmtlclxuICAgICAgICAgICAgICAgIHBvc2l0aW9uPXtkaXJlY3Rpb25zUmVzcG9uc2Uucm91dGVzWzBdLmxlZ3NbMF0uc3RhcnRfbG9jYXRpb259IFxuICAgICAgICAgICAgICAgIHRpdGxlPXtgU3RhcnQ6ICR7ZGlyZWN0aW9uc1Jlc3BvbnNlLnJvdXRlc1swXS5sZWdzWzBdLnN0YXJ0X2FkZHJlc3N9YH0gXG4gICAgICAgICAgICAvPiBcbiAgICAgICAgfVxuICAgICAgICB7ZGlyZWN0aW9uc1Jlc3BvbnNlPy5yb3V0ZXM/LlswXT8ubGVncz8uWzBdPy5lbmRfbG9jYXRpb24gJiYgXG4gICAgICAgICAgICA8TWFya2VyXG4gICAgICAgICAgICAgICAgcG9zaXRpb249e2RpcmVjdGlvbnNSZXNwb25zZS5yb3V0ZXNbMF0ubGVnc1swXS5lbmRfbG9jYXRpb259IFxuICAgICAgICAgICAgICAgIHRpdGxlPXtgRW5kOiAke2RpcmVjdGlvbnNSZXNwb25zZS5yb3V0ZXNbMF0ubGVnc1swXS5lbmRfYWRkcmVzc31gfSBcbiAgICAgICAgICAgIC8+XG4gICAgICAgIH1cbiAgICAgICAgPFJvdXRlUG9seWxpbmUgZGlyZWN0aW9uc1Jlc3BvbnNlPXtkaXJlY3Rpb25zUmVzcG9uc2V9IHJvdXRlQ29sb3I9e3RoZW1lLnJvdXRlQ29sb3J9IC8+XG4gICAgICAgIDxUcmFmZmljTGF5ZXJDb250cm9sIHNob3dUcmFmZmljPXtzaG93VHJhZmZpY30gLz5cbiAgICAgIDwvTWFwPlxuICAgIDwvQVBJUHJvdmlkZXI+XG4gICk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBtZW1vKE1hcERpc3BsYXkpOyAiXSwibmFtZXMiOlsiUmVhY3QiLCJtZW1vIiwidXNlRWZmZWN0IiwidXNlU3RhdGUiLCJBUElQcm92aWRlciIsIk1hcCIsIk1hcmtlciIsInVzZU1hcCIsImRlZmF1bHRUaGVtZSIsIm5hbWUiLCJtYXBUeXBlU3R5bGVzIiwiZWxlbWVudFR5cGUiLCJzdHlsZXJzIiwiY29sb3IiLCJ2aXNpYmlsaXR5IiwiZmVhdHVyZVR5cGUiLCJyb3V0ZUNvbG9yIiwibmlnaHRUaGVtZSIsImRlY29kZVBvbHlsaW5lIiwiZW5jb2RlZFBhdGgiLCJ3aW5kb3ciLCJnb29nbGUiLCJtYXBzIiwiZ2VvbWV0cnkiLCJjb25zb2xlIiwid2FybiIsImVuY29kaW5nIiwiZGVjb2RlUGF0aCIsIm1hcCIsInAiLCJsYXQiLCJsbmciLCJjb250YWluZXJTdHlsZSIsIndpZHRoIiwiaGVpZ2h0IiwiZGVmYXVsdENlbnRlciIsImRlZmF1bHRab29tIiwiUm91dGVQb2x5bGluZSIsImRpcmVjdGlvbnNSZXNwb25zZSIsInBvbHlsaW5lIiwic2V0UG9seWxpbmUiLCJzZXRNYXAiLCJyb3V0ZXMiLCJyb3V0ZSIsIm92ZXJ2aWV3X3BvbHlsaW5lIiwicG9pbnRzIiwiZGVjb2RlZFBhdGgiLCJsZW5ndGgiLCJuZXdQb2x5bGluZSIsIlBvbHlsaW5lIiwicGF0aCIsInN0cm9rZUNvbG9yIiwic3Ryb2tlT3BhY2l0eSIsInN0cm9rZVdlaWdodCIsImJvdW5kcyIsIkxhdExuZ0JvdW5kcyIsImZvckVhY2giLCJwb2ludCIsImV4dGVuZCIsImZpdEJvdW5kcyIsInNldFRpbWVvdXQiLCJnZXRQcm9qZWN0aW9uIiwiZ2V0Wm9vbSIsImN1cnJlbnRab29tIiwibmV3Wm9vbSIsIk1hdGgiLCJtaW4iLCJzZXRab29tIiwic2V0Q2VudGVyIiwiVHJhZmZpY0xheWVyQ29udHJvbCIsInNob3dUcmFmZmljIiwidHJhZmZpY0xheWVyIiwic2V0VHJhZmZpY0xheWVyIiwibmV3VHJhZmZpY0xheWVyIiwiVHJhZmZpY0xheWVyIiwibG9nIiwiTWFwRGlzcGxheSIsImdvb2dsZU1hcHNBcGlLZXkiLCJ0aGVtZSIsImRpdiIsInN0eWxlIiwicGFkZGluZyIsImJvcmRlciIsImFwaUtleSIsImxpYnJhcmllcyIsIm9uTG9hZCIsImdlc3R1cmVIYW5kbGluZyIsImRpc2FibGVEZWZhdWx0VUkiLCJzdHlsZXMiLCJvbkNhbWVyYUNoYW5nZWQiLCJldiIsImRldGFpbCIsImNlbnRlciIsInpvb20iLCJsZWdzIiwic3RhcnRfbG9jYXRpb24iLCJwb3NpdGlvbiIsInRpdGxlIiwic3RhcnRfYWRkcmVzcyIsImVuZF9sb2NhdGlvbiIsImVuZF9hZGRyZXNzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./components/MapDisplay.tsx\n");

/***/ }),

/***/ "(ssr)/./components/MonacoDiffViewer.tsx":
/*!*****************************************!*\
  !*** ./components/MonacoDiffViewer.tsx ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _monaco_editor_react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @monaco-editor/react */ \"(ssr)/./node_modules/@monaco-editor/react/dist/index.mjs\");\n/* harmony import */ var next_themes__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next-themes */ \"(ssr)/./node_modules/next-themes/dist/index.mjs\");\n\n\n\n\nconst MonacoDiffViewer = ({ original, modified, language = \"python\", filename = \"file.py\", height = \"400px\", className = \"\" })=>{\n    const { theme } = (0,next_themes__WEBPACK_IMPORTED_MODULE_3__.useTheme)();\n    const editorRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    // Monaco editor options\n    const options = {\n        readOnly: true,\n        automaticLayout: true,\n        minimap: {\n            enabled: false\n        },\n        scrollBeyondLastLine: false,\n        renderSideBySide: true,\n        renderOverviewRuler: false,\n        enableSplitViewResizing: true,\n        fontFamily: \"JetBrains Mono, Fira Code, Consolas, Monaco, monospace\",\n        fontSize: 13,\n        lineHeight: 18,\n        wordWrap: \"on\",\n        scrollbar: {\n            vertical: \"auto\",\n            horizontal: \"auto\",\n            verticalScrollbarSize: 8,\n            horizontalScrollbarSize: 8\n        },\n        diffWordWrap: \"on\",\n        ignoreTrimWhitespace: false,\n        renderIndicators: true,\n        originalEditable: false,\n        modifiedEditable: false\n    };\n    const handleEditorDidMount = (editor)=>{\n        editorRef.current = editor;\n        // Optionally focus on first diff\n        setTimeout(()=>{\n            try {\n                const diffNavigator = editor.getLineChanges();\n                if (diffNavigator && diffNavigator.length > 0) {\n                    // Go to first change\n                    editor.revealLineInCenter(diffNavigator[0].modifiedStartLineNumber || 1);\n                }\n            } catch (error) {\n                console.warn(\"Could not navigate to first diff:\", error);\n            }\n        }, 100);\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: `monaco-diff-container border rounded-md overflow-hidden ${className}`,\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"bg-muted px-3 py-2 border-b flex items-center justify-between\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center gap-2\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h4\", {\n                                className: \"text-sm font-medium text-foreground\",\n                                children: filename\n                            }, void 0, false, {\n                                fileName: \"/var/www/flask_app/ast_chat/components/MonacoDiffViewer.tsx\",\n                                lineNumber: 73,\n                                columnNumber: 11\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: \"text-xs text-muted-foreground\",\n                                children: \"(Before vs After)\"\n                            }, void 0, false, {\n                                fileName: \"/var/www/flask_app/ast_chat/components/MonacoDiffViewer.tsx\",\n                                lineNumber: 74,\n                                columnNumber: 11\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/var/www/flask_app/ast_chat/components/MonacoDiffViewer.tsx\",\n                        lineNumber: 72,\n                        columnNumber: 9\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center gap-2 text-xs text-muted-foreground\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: \"inline-flex items-center gap-1\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"w-2 h-2 bg-red-500 rounded-full\"\n                                    }, void 0, false, {\n                                        fileName: \"/var/www/flask_app/ast_chat/components/MonacoDiffViewer.tsx\",\n                                        lineNumber: 80,\n                                        columnNumber: 13\n                                    }, undefined),\n                                    \"Removed\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/var/www/flask_app/ast_chat/components/MonacoDiffViewer.tsx\",\n                                lineNumber: 79,\n                                columnNumber: 11\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: \"inline-flex items-center gap-1\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"w-2 h-2 bg-green-500 rounded-full\"\n                                    }, void 0, false, {\n                                        fileName: \"/var/www/flask_app/ast_chat/components/MonacoDiffViewer.tsx\",\n                                        lineNumber: 84,\n                                        columnNumber: 13\n                                    }, undefined),\n                                    \"Added\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/var/www/flask_app/ast_chat/components/MonacoDiffViewer.tsx\",\n                                lineNumber: 83,\n                                columnNumber: 11\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/var/www/flask_app/ast_chat/components/MonacoDiffViewer.tsx\",\n                        lineNumber: 78,\n                        columnNumber: 9\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/var/www/flask_app/ast_chat/components/MonacoDiffViewer.tsx\",\n                lineNumber: 71,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                style: {\n                    height\n                },\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_monaco_editor_react__WEBPACK_IMPORTED_MODULE_2__.DiffEditor, {\n                    original: original,\n                    modified: modified,\n                    language: language,\n                    theme: theme === \"dark\" ? \"vs-dark\" : \"light\",\n                    options: options,\n                    onMount: handleEditorDidMount,\n                    loading: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center justify-center h-full\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"text-muted-foreground\",\n                            children: \"Loading diff viewer...\"\n                        }, void 0, false, {\n                            fileName: \"/var/www/flask_app/ast_chat/components/MonacoDiffViewer.tsx\",\n                            lineNumber: 101,\n                            columnNumber: 15\n                        }, void 0)\n                    }, void 0, false, {\n                        fileName: \"/var/www/flask_app/ast_chat/components/MonacoDiffViewer.tsx\",\n                        lineNumber: 100,\n                        columnNumber: 13\n                    }, void 0)\n                }, void 0, false, {\n                    fileName: \"/var/www/flask_app/ast_chat/components/MonacoDiffViewer.tsx\",\n                    lineNumber: 92,\n                    columnNumber: 9\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"/var/www/flask_app/ast_chat/components/MonacoDiffViewer.tsx\",\n                lineNumber: 91,\n                columnNumber: 7\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/var/www/flask_app/ast_chat/components/MonacoDiffViewer.tsx\",\n        lineNumber: 69,\n        columnNumber: 5\n    }, undefined);\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (MonacoDiffViewer);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9jb21wb25lbnRzL01vbmFjb0RpZmZWaWV3ZXIudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQXNDO0FBQ1k7QUFDWDtBQVd2QyxNQUFNSSxtQkFBb0QsQ0FBQyxFQUN6REMsUUFBUSxFQUNSQyxRQUFRLEVBQ1JDLFdBQVcsUUFBUSxFQUNuQkMsV0FBVyxTQUFTLEVBQ3BCQyxTQUFTLE9BQU8sRUFDaEJDLFlBQVksRUFBRSxFQUNmO0lBQ0MsTUFBTSxFQUFFQyxLQUFLLEVBQUUsR0FBR1IscURBQVFBO0lBQzFCLE1BQU1TLFlBQVlYLDZDQUFNQSxDQUFNO0lBRTlCLHdCQUF3QjtJQUN4QixNQUFNWSxVQUFVO1FBQ2RDLFVBQVU7UUFDVkMsaUJBQWlCO1FBQ2pCQyxTQUFTO1lBQUVDLFNBQVM7UUFBTTtRQUMxQkMsc0JBQXNCO1FBQ3RCQyxrQkFBa0I7UUFDbEJDLHFCQUFxQjtRQUNyQkMseUJBQXlCO1FBQ3pCQyxZQUFZO1FBQ1pDLFVBQVU7UUFDVkMsWUFBWTtRQUNaQyxVQUFVO1FBQ1ZDLFdBQVc7WUFDVEMsVUFBVTtZQUNWQyxZQUFZO1lBQ1pDLHVCQUF1QjtZQUN2QkMseUJBQXlCO1FBQzNCO1FBQ0FDLGNBQWM7UUFDZEMsc0JBQXNCO1FBQ3RCQyxrQkFBa0I7UUFDbEJDLGtCQUFrQjtRQUNsQkMsa0JBQWtCO0lBQ3BCO0lBRUEsTUFBTUMsdUJBQXVCLENBQUNDO1FBQzVCekIsVUFBVTBCLE9BQU8sR0FBR0Q7UUFFcEIsaUNBQWlDO1FBQ2pDRSxXQUFXO1lBQ1QsSUFBSTtnQkFDRixNQUFNQyxnQkFBZ0JILE9BQU9JLGNBQWM7Z0JBQzNDLElBQUlELGlCQUFpQkEsY0FBY0UsTUFBTSxHQUFHLEdBQUc7b0JBQzdDLHFCQUFxQjtvQkFDckJMLE9BQU9NLGtCQUFrQixDQUFDSCxhQUFhLENBQUMsRUFBRSxDQUFDSSx1QkFBdUIsSUFBSTtnQkFDeEU7WUFDRixFQUFFLE9BQU9DLE9BQU87Z0JBQ2RDLFFBQVFDLElBQUksQ0FBQyxxQ0FBcUNGO1lBQ3BEO1FBQ0YsR0FBRztJQUNMO0lBRUEscUJBQ0UsOERBQUNHO1FBQUl0QyxXQUFXLENBQUMsd0RBQXdELEVBQUVBLFVBQVUsQ0FBQzs7MEJBRXBGLDhEQUFDc0M7Z0JBQUl0QyxXQUFVOztrQ0FDYiw4REFBQ3NDO3dCQUFJdEMsV0FBVTs7MENBQ2IsOERBQUN1QztnQ0FBR3ZDLFdBQVU7MENBQXVDRjs7Ozs7OzBDQUNyRCw4REFBQzBDO2dDQUFLeEMsV0FBVTswQ0FBZ0M7Ozs7Ozs7Ozs7OztrQ0FJbEQsOERBQUNzQzt3QkFBSXRDLFdBQVU7OzBDQUNiLDhEQUFDd0M7Z0NBQUt4QyxXQUFVOztrREFDZCw4REFBQ3NDO3dDQUFJdEMsV0FBVTs7Ozs7O29DQUF3Qzs7Ozs7OzswQ0FHekQsOERBQUN3QztnQ0FBS3hDLFdBQVU7O2tEQUNkLDhEQUFDc0M7d0NBQUl0QyxXQUFVOzs7Ozs7b0NBQTBDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OzBCQU8vRCw4REFBQ3NDO2dCQUFJRyxPQUFPO29CQUFFMUM7Z0JBQU87MEJBQ25CLDRFQUFDUCw0REFBVUE7b0JBQ1RHLFVBQVVBO29CQUNWQyxVQUFVQTtvQkFDVkMsVUFBVUE7b0JBQ1ZJLE9BQU9BLFVBQVUsU0FBUyxZQUFZO29CQUN0Q0UsU0FBU0E7b0JBQ1R1QyxTQUFTaEI7b0JBQ1RpQix1QkFDRSw4REFBQ0w7d0JBQUl0QyxXQUFVO2tDQUNiLDRFQUFDc0M7NEJBQUl0QyxXQUFVO3NDQUF3Qjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBT3JEO0FBRUEsaUVBQWVOLGdCQUFnQkEsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2FzdF9jaGF0Ly4vY29tcG9uZW50cy9Nb25hY29EaWZmVmlld2VyLnRzeD8yODM0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyB1c2VSZWYgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBEaWZmRWRpdG9yIH0gZnJvbSAnQG1vbmFjby1lZGl0b3IvcmVhY3QnO1xuaW1wb3J0IHsgdXNlVGhlbWUgfSBmcm9tIFwibmV4dC10aGVtZXNcIjtcblxuaW50ZXJmYWNlIE1vbmFjb0RpZmZWaWV3ZXJQcm9wcyB7XG4gIG9yaWdpbmFsOiBzdHJpbmc7XG4gIG1vZGlmaWVkOiBzdHJpbmc7XG4gIGxhbmd1YWdlPzogc3RyaW5nO1xuICBmaWxlbmFtZT86IHN0cmluZztcbiAgaGVpZ2h0Pzogc3RyaW5nO1xuICBjbGFzc05hbWU/OiBzdHJpbmc7XG59XG5cbmNvbnN0IE1vbmFjb0RpZmZWaWV3ZXI6IFJlYWN0LkZDPE1vbmFjb0RpZmZWaWV3ZXJQcm9wcz4gPSAoe1xuICBvcmlnaW5hbCxcbiAgbW9kaWZpZWQsXG4gIGxhbmd1YWdlID0gJ3B5dGhvbicsXG4gIGZpbGVuYW1lID0gJ2ZpbGUucHknLFxuICBoZWlnaHQgPSAnNDAwcHgnLFxuICBjbGFzc05hbWUgPSAnJ1xufSkgPT4ge1xuICBjb25zdCB7IHRoZW1lIH0gPSB1c2VUaGVtZSgpO1xuICBjb25zdCBlZGl0b3JSZWYgPSB1c2VSZWY8YW55PihudWxsKTtcblxuICAvLyBNb25hY28gZWRpdG9yIG9wdGlvbnNcbiAgY29uc3Qgb3B0aW9ucyA9IHtcbiAgICByZWFkT25seTogdHJ1ZSxcbiAgICBhdXRvbWF0aWNMYXlvdXQ6IHRydWUsXG4gICAgbWluaW1hcDogeyBlbmFibGVkOiBmYWxzZSB9LFxuICAgIHNjcm9sbEJleW9uZExhc3RMaW5lOiBmYWxzZSxcbiAgICByZW5kZXJTaWRlQnlTaWRlOiB0cnVlLFxuICAgIHJlbmRlck92ZXJ2aWV3UnVsZXI6IGZhbHNlLFxuICAgIGVuYWJsZVNwbGl0Vmlld1Jlc2l6aW5nOiB0cnVlLFxuICAgIGZvbnRGYW1pbHk6ICdKZXRCcmFpbnMgTW9ubywgRmlyYSBDb2RlLCBDb25zb2xhcywgTW9uYWNvLCBtb25vc3BhY2UnLFxuICAgIGZvbnRTaXplOiAxMyxcbiAgICBsaW5lSGVpZ2h0OiAxOCxcbiAgICB3b3JkV3JhcDogJ29uJyBhcyBjb25zdCxcbiAgICBzY3JvbGxiYXI6IHtcbiAgICAgIHZlcnRpY2FsOiAnYXV0bycgYXMgY29uc3QsXG4gICAgICBob3Jpem9udGFsOiAnYXV0bycgYXMgY29uc3QsXG4gICAgICB2ZXJ0aWNhbFNjcm9sbGJhclNpemU6IDgsXG4gICAgICBob3Jpem9udGFsU2Nyb2xsYmFyU2l6ZTogOCxcbiAgICB9LFxuICAgIGRpZmZXb3JkV3JhcDogJ29uJyBhcyBjb25zdCxcbiAgICBpZ25vcmVUcmltV2hpdGVzcGFjZTogZmFsc2UsXG4gICAgcmVuZGVySW5kaWNhdG9yczogdHJ1ZSxcbiAgICBvcmlnaW5hbEVkaXRhYmxlOiBmYWxzZSxcbiAgICBtb2RpZmllZEVkaXRhYmxlOiBmYWxzZSxcbiAgfTtcblxuICBjb25zdCBoYW5kbGVFZGl0b3JEaWRNb3VudCA9IChlZGl0b3I6IGFueSkgPT4ge1xuICAgIGVkaXRvclJlZi5jdXJyZW50ID0gZWRpdG9yO1xuICAgIFxuICAgIC8vIE9wdGlvbmFsbHkgZm9jdXMgb24gZmlyc3QgZGlmZlxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgZGlmZk5hdmlnYXRvciA9IGVkaXRvci5nZXRMaW5lQ2hhbmdlcygpO1xuICAgICAgICBpZiAoZGlmZk5hdmlnYXRvciAmJiBkaWZmTmF2aWdhdG9yLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAvLyBHbyB0byBmaXJzdCBjaGFuZ2VcbiAgICAgICAgICBlZGl0b3IucmV2ZWFsTGluZUluQ2VudGVyKGRpZmZOYXZpZ2F0b3JbMF0ubW9kaWZpZWRTdGFydExpbmVOdW1iZXIgfHwgMSk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUud2FybignQ291bGQgbm90IG5hdmlnYXRlIHRvIGZpcnN0IGRpZmY6JywgZXJyb3IpO1xuICAgICAgfVxuICAgIH0sIDEwMCk7XG4gIH07XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT17YG1vbmFjby1kaWZmLWNvbnRhaW5lciBib3JkZXIgcm91bmRlZC1tZCBvdmVyZmxvdy1oaWRkZW4gJHtjbGFzc05hbWV9YH0+XG4gICAgICB7LyogSGVhZGVyICovfVxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy1tdXRlZCBweC0zIHB5LTIgYm9yZGVyLWIgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cbiAgICAgICAgICA8aDQgY2xhc3NOYW1lPVwidGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWZvcmVncm91bmRcIj57ZmlsZW5hbWV9PC9oND5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtbXV0ZWQtZm9yZWdyb3VuZFwiPlxuICAgICAgICAgICAgKEJlZm9yZSB2cyBBZnRlcilcbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yIHRleHQteHMgdGV4dC1tdXRlZC1mb3JlZ3JvdW5kXCI+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiaW5saW5lLWZsZXggaXRlbXMtY2VudGVyIGdhcC0xXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMiBoLTIgYmctcmVkLTUwMCByb3VuZGVkLWZ1bGxcIj48L2Rpdj5cbiAgICAgICAgICAgIFJlbW92ZWRcbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiaW5saW5lLWZsZXggaXRlbXMtY2VudGVyIGdhcC0xXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMiBoLTIgYmctZ3JlZW4tNTAwIHJvdW5kZWQtZnVsbFwiPjwvZGl2PlxuICAgICAgICAgICAgQWRkZWRcbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgICBcbiAgICAgIHsvKiBEaWZmIEVkaXRvciAqL31cbiAgICAgIDxkaXYgc3R5bGU9e3sgaGVpZ2h0IH19PlxuICAgICAgICA8RGlmZkVkaXRvclxuICAgICAgICAgIG9yaWdpbmFsPXtvcmlnaW5hbH1cbiAgICAgICAgICBtb2RpZmllZD17bW9kaWZpZWR9XG4gICAgICAgICAgbGFuZ3VhZ2U9e2xhbmd1YWdlfVxuICAgICAgICAgIHRoZW1lPXt0aGVtZSA9PT0gJ2RhcmsnID8gJ3ZzLWRhcmsnIDogJ2xpZ2h0J31cbiAgICAgICAgICBvcHRpb25zPXtvcHRpb25zfVxuICAgICAgICAgIG9uTW91bnQ9e2hhbmRsZUVkaXRvckRpZE1vdW50fVxuICAgICAgICAgIGxvYWRpbmc9e1xuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBoLWZ1bGxcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LW11dGVkLWZvcmVncm91bmRcIj5Mb2FkaW5nIGRpZmYgdmlld2VyLi4uPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICB9XG4gICAgICAgIC8+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IE1vbmFjb0RpZmZWaWV3ZXI7ICJdLCJuYW1lcyI6WyJSZWFjdCIsInVzZVJlZiIsIkRpZmZFZGl0b3IiLCJ1c2VUaGVtZSIsIk1vbmFjb0RpZmZWaWV3ZXIiLCJvcmlnaW5hbCIsIm1vZGlmaWVkIiwibGFuZ3VhZ2UiLCJmaWxlbmFtZSIsImhlaWdodCIsImNsYXNzTmFtZSIsInRoZW1lIiwiZWRpdG9yUmVmIiwib3B0aW9ucyIsInJlYWRPbmx5IiwiYXV0b21hdGljTGF5b3V0IiwibWluaW1hcCIsImVuYWJsZWQiLCJzY3JvbGxCZXlvbmRMYXN0TGluZSIsInJlbmRlclNpZGVCeVNpZGUiLCJyZW5kZXJPdmVydmlld1J1bGVyIiwiZW5hYmxlU3BsaXRWaWV3UmVzaXppbmciLCJmb250RmFtaWx5IiwiZm9udFNpemUiLCJsaW5lSGVpZ2h0Iiwid29yZFdyYXAiLCJzY3JvbGxiYXIiLCJ2ZXJ0aWNhbCIsImhvcml6b250YWwiLCJ2ZXJ0aWNhbFNjcm9sbGJhclNpemUiLCJob3Jpem9udGFsU2Nyb2xsYmFyU2l6ZSIsImRpZmZXb3JkV3JhcCIsImlnbm9yZVRyaW1XaGl0ZXNwYWNlIiwicmVuZGVySW5kaWNhdG9ycyIsIm9yaWdpbmFsRWRpdGFibGUiLCJtb2RpZmllZEVkaXRhYmxlIiwiaGFuZGxlRWRpdG9yRGlkTW91bnQiLCJlZGl0b3IiLCJjdXJyZW50Iiwic2V0VGltZW91dCIsImRpZmZOYXZpZ2F0b3IiLCJnZXRMaW5lQ2hhbmdlcyIsImxlbmd0aCIsInJldmVhbExpbmVJbkNlbnRlciIsIm1vZGlmaWVkU3RhcnRMaW5lTnVtYmVyIiwiZXJyb3IiLCJjb25zb2xlIiwid2FybiIsImRpdiIsImg0Iiwic3BhbiIsInN0eWxlIiwib25Nb3VudCIsImxvYWRpbmciXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./components/MonacoDiffViewer.tsx\n");

/***/ }),

/***/ "(ssr)/./components/ToolCallDisplay.tsx":
/*!****************************************!*\
  !*** ./components/ToolCallDisplay.tsx ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _barrel_optimize_names_CheckCircle_ChevronDown_Code2_FileText_Loader2_XCircle_lucide_react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! __barrel_optimize__?names=CheckCircle,ChevronDown,Code2,FileText,Loader2,XCircle!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/circle-check-big.js\");\n/* harmony import */ var _barrel_optimize_names_CheckCircle_ChevronDown_Code2_FileText_Loader2_XCircle_lucide_react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! __barrel_optimize__?names=CheckCircle,ChevronDown,Code2,FileText,Loader2,XCircle!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/circle-x.js\");\n/* harmony import */ var _barrel_optimize_names_CheckCircle_ChevronDown_Code2_FileText_Loader2_XCircle_lucide_react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! __barrel_optimize__?names=CheckCircle,ChevronDown,Code2,FileText,Loader2,XCircle!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/loader-circle.js\");\n/* harmony import */ var _barrel_optimize_names_CheckCircle_ChevronDown_Code2_FileText_Loader2_XCircle_lucide_react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! __barrel_optimize__?names=CheckCircle,ChevronDown,Code2,FileText,Loader2,XCircle!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/chevron-down.js\");\n/* harmony import */ var _barrel_optimize_names_CheckCircle_ChevronDown_Code2_FileText_Loader2_XCircle_lucide_react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! __barrel_optimize__?names=CheckCircle,ChevronDown,Code2,FileText,Loader2,XCircle!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/code-xml.js\");\n/* harmony import */ var _barrel_optimize_names_CheckCircle_ChevronDown_Code2_FileText_Loader2_XCircle_lucide_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! __barrel_optimize__?names=CheckCircle,ChevronDown,Code2,FileText,Loader2,XCircle!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/file-text.js\");\n/* harmony import */ var _MonacoDiffViewer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./MonacoDiffViewer */ \"(ssr)/./components/MonacoDiffViewer.tsx\");\n\n\n\n\nconst ToolCallDisplay = ({ toolCall, renderSanitizedMarkdown })=>{\n    const [viewMode, setViewMode] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"diff\");\n    // Debug logging for sampling data\n    console.log(`[ToolCallDisplay] Rendering tool: ${toolCall.name}, call_id: ${toolCall.call_id}`);\n    console.log(`[ToolCallDisplay] sampleCallPairs:`, toolCall.sampleCallPairs);\n    console.log(`[ToolCallDisplay] sampleCallPairs length:`, toolCall.sampleCallPairs?.length || 0);\n    // Parse the result for edit_mcp_server tools\n    const getEditServerData = ()=>{\n        if (toolCall.name !== \"edit_mcp_server\" || !toolCall.result) return null;\n        try {\n            const result = JSON.parse(toolCall.result);\n            if (result.original_code && result.modified_code) {\n                return {\n                    original: result.original_code,\n                    modified: result.modified_code,\n                    serverName: result.server_name || \"unknown_server\",\n                    changesApplied: result.changes_applied || 0,\n                    status: result.status,\n                    message: result.message,\n                    reloadResult: result.reload_result\n                };\n            }\n        } catch (e) {\n            console.warn(\"Failed to parse edit_mcp_server result:\", e);\n        }\n        return null;\n    };\n    const editData = getEditServerData();\n    const isEditTool = toolCall.name === \"edit_mcp_server\";\n    const getStatusIcon = ()=>{\n        if (toolCall.status === \"Completed\" && !toolCall.is_error) return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_CheckCircle_ChevronDown_Code2_FileText_Loader2_XCircle_lucide_react__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n            className: \"w-4 h-4 text-green-500\"\n        }, void 0, false, {\n            fileName: \"/var/www/flask_app/ast_chat/components/ToolCallDisplay.tsx\",\n            lineNumber: 59,\n            columnNumber: 71\n        }, undefined);\n        if (toolCall.is_error) return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_CheckCircle_ChevronDown_Code2_FileText_Loader2_XCircle_lucide_react__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n            className: \"w-4 h-4 text-red-500\"\n        }, void 0, false, {\n            fileName: \"/var/www/flask_app/ast_chat/components/ToolCallDisplay.tsx\",\n            lineNumber: 60,\n            columnNumber: 35\n        }, undefined);\n        if (toolCall.status === \"Pending...\" || toolCall.status === \"Streaming...\") return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_CheckCircle_ChevronDown_Code2_FileText_Loader2_XCircle_lucide_react__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n            className: \"w-4 h-4 animate-spin text-muted-foreground\"\n        }, void 0, false, {\n            fileName: \"/var/www/flask_app/ast_chat/components/ToolCallDisplay.tsx\",\n            lineNumber: 61,\n            columnNumber: 88\n        }, undefined);\n        return null;\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"details\", {\n        className: \"tool-call-display my-2 rounded-lg border border-border bg-muted/20 shadow-sm\",\n        open: false,\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"summary\", {\n                className: \"tool-call-summary cursor-pointer p-3 list-none flex items-center justify-between text-sm font-medium text-foreground hover:bg-muted/40 rounded-t-lg\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center\",\n                        children: [\n                            getStatusIcon(),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: \"ml-2 font-mono text-xs sm:text-sm\",\n                                children: [\n                                    \"Tool: \",\n                                    toolCall.name\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/var/www/flask_app/ast_chat/components/ToolCallDisplay.tsx\",\n                                lineNumber: 74,\n                                columnNumber: 11\n                            }, undefined),\n                            toolCall.status === \"Streaming...\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: \"ml-2 text-xs italic text-muted-foreground\",\n                                children: \"streaming result...\"\n                            }, void 0, false, {\n                                fileName: \"/var/www/flask_app/ast_chat/components/ToolCallDisplay.tsx\",\n                                lineNumber: 75,\n                                columnNumber: 50\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/var/www/flask_app/ast_chat/components/ToolCallDisplay.tsx\",\n                        lineNumber: 72,\n                        columnNumber: 9\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_CheckCircle_ChevronDown_Code2_FileText_Loader2_XCircle_lucide_react__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n                        className: \"w-5 h-5 transition-transform duration-200 details-arrow\"\n                    }, void 0, false, {\n                        fileName: \"/var/www/flask_app/ast_chat/components/ToolCallDisplay.tsx\",\n                        lineNumber: 77,\n                        columnNumber: 9\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/var/www/flask_app/ast_chat/components/ToolCallDisplay.tsx\",\n                lineNumber: 71,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"tool-call-content p-3 border-t border-border bg-background rounded-b-lg space-y-2\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h4\", {\n                                className: \"text-xs font-semibold uppercase text-muted-foreground mb-1\",\n                                children: \"Arguments:\"\n                            }, void 0, false, {\n                                fileName: \"/var/www/flask_app/ast_chat/components/ToolCallDisplay.tsx\",\n                                lineNumber: 81,\n                                columnNumber: 11\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"pre\", {\n                                className: \"w-full max-w-full p-2 border rounded-md bg-muted/30 text-xs overflow-x-auto overflow-y-auto max-h-40 min-w-0\",\n                                style: {\n                                    wordBreak: \"break-all\",\n                                    whiteSpace: \"pre-wrap\",\n                                    overflowWrap: \"anywhere\",\n                                    hyphens: \"auto\"\n                                },\n                                children: toolCall.arguments\n                            }, void 0, false, {\n                                fileName: \"/var/www/flask_app/ast_chat/components/ToolCallDisplay.tsx\",\n                                lineNumber: 82,\n                                columnNumber: 11\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/var/www/flask_app/ast_chat/components/ToolCallDisplay.tsx\",\n                        lineNumber: 80,\n                        columnNumber: 9\n                    }, undefined),\n                    toolCall.result && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        children: isEditTool && editData ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"space-y-3\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"bg-muted/40 rounded-lg p-3 border\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex items-center justify-between mb-2\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h4\", {\n                                                    className: \"text-sm font-semibold text-foreground\",\n                                                    children: \"Server Edit Summary\"\n                                                }, void 0, false, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/components/ToolCallDisplay.tsx\",\n                                                    lineNumber: 100,\n                                                    columnNumber: 21\n                                                }, undefined),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"flex items-center gap-2\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                            onClick: ()=>setViewMode(\"diff\"),\n                                                            className: `inline-flex items-center px-2 py-1 text-xs rounded-md transition-colors ${viewMode === \"diff\" ? \"bg-primary text-primary-foreground\" : \"bg-muted text-muted-foreground hover:bg-muted/80\"}`,\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_CheckCircle_ChevronDown_Code2_FileText_Loader2_XCircle_lucide_react__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n                                                                    className: \"w-3 h-3 mr-1\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/components/ToolCallDisplay.tsx\",\n                                                                    lineNumber: 110,\n                                                                    columnNumber: 25\n                                                                }, undefined),\n                                                                \"Diff View\"\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/components/ToolCallDisplay.tsx\",\n                                                            lineNumber: 102,\n                                                            columnNumber: 23\n                                                        }, undefined),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                            onClick: ()=>setViewMode(\"raw\"),\n                                                            className: `inline-flex items-center px-2 py-1 text-xs rounded-md transition-colors ${viewMode === \"raw\" ? \"bg-primary text-primary-foreground\" : \"bg-muted text-muted-foreground hover:bg-muted/80\"}`,\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_CheckCircle_ChevronDown_Code2_FileText_Loader2_XCircle_lucide_react__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n                                                                    className: \"w-3 h-3 mr-1\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/components/ToolCallDisplay.tsx\",\n                                                                    lineNumber: 121,\n                                                                    columnNumber: 25\n                                                                }, undefined),\n                                                                \"Raw Output\"\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/components/ToolCallDisplay.tsx\",\n                                                            lineNumber: 113,\n                                                            columnNumber: 23\n                                                        }, undefined)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/components/ToolCallDisplay.tsx\",\n                                                    lineNumber: 101,\n                                                    columnNumber: 21\n                                                }, undefined)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/var/www/flask_app/ast_chat/components/ToolCallDisplay.tsx\",\n                                            lineNumber: 99,\n                                            columnNumber: 19\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"grid grid-cols-2 gap-4 text-xs\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            className: \"font-medium text-muted-foreground\",\n                                                            children: \"Server:\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/components/ToolCallDisplay.tsx\",\n                                                            lineNumber: 129,\n                                                            columnNumber: 23\n                                                        }, undefined),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            className: \"ml-1 font-mono\",\n                                                            children: [\n                                                                editData.serverName,\n                                                                \".py\"\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/components/ToolCallDisplay.tsx\",\n                                                            lineNumber: 130,\n                                                            columnNumber: 23\n                                                        }, undefined)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/components/ToolCallDisplay.tsx\",\n                                                    lineNumber: 128,\n                                                    columnNumber: 21\n                                                }, undefined),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            className: \"font-medium text-muted-foreground\",\n                                                            children: \"Status:\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/components/ToolCallDisplay.tsx\",\n                                                            lineNumber: 133,\n                                                            columnNumber: 23\n                                                        }, undefined),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            className: `ml-1 px-1.5 py-0.5 rounded text-xs font-medium ${editData.status === \"success\" ? \"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300\" : editData.status === \"error\" ? \"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300\" : \"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300\"}`,\n                                                            children: editData.status\n                                                        }, void 0, false, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/components/ToolCallDisplay.tsx\",\n                                                            lineNumber: 134,\n                                                            columnNumber: 23\n                                                        }, undefined)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/components/ToolCallDisplay.tsx\",\n                                                    lineNumber: 132,\n                                                    columnNumber: 21\n                                                }, undefined)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/var/www/flask_app/ast_chat/components/ToolCallDisplay.tsx\",\n                                            lineNumber: 127,\n                                            columnNumber: 19\n                                        }, undefined),\n                                        editData.message && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                            className: \"text-xs text-muted-foreground mt-2\",\n                                            children: editData.message\n                                        }, void 0, false, {\n                                            fileName: \"/var/www/flask_app/ast_chat/components/ToolCallDisplay.tsx\",\n                                            lineNumber: 147,\n                                            columnNumber: 21\n                                        }, undefined),\n                                        editData.reloadResult && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"mt-2 p-2 bg-background rounded border text-xs\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"font-medium\",\n                                                    children: \"Reload Status:\"\n                                                }, void 0, false, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/components/ToolCallDisplay.tsx\",\n                                                    lineNumber: 152,\n                                                    columnNumber: 23\n                                                }, undefined),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: `ml-1 ${editData.reloadResult.status === \"success\" ? \"text-green-600\" : \"text-red-600\"}`,\n                                                    children: editData.reloadResult.message\n                                                }, void 0, false, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/components/ToolCallDisplay.tsx\",\n                                                    lineNumber: 153,\n                                                    columnNumber: 23\n                                                }, undefined)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/var/www/flask_app/ast_chat/components/ToolCallDisplay.tsx\",\n                                            lineNumber: 151,\n                                            columnNumber: 21\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/var/www/flask_app/ast_chat/components/ToolCallDisplay.tsx\",\n                                    lineNumber: 98,\n                                    columnNumber: 17\n                                }, undefined),\n                                viewMode === \"diff\" ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_MonacoDiffViewer__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n                                    original: editData.original,\n                                    modified: editData.modified,\n                                    language: \"python\",\n                                    filename: `${editData.serverName}.py`,\n                                    height: \"500px\",\n                                    className: \"w-full\"\n                                }, void 0, false, {\n                                    fileName: \"/var/www/flask_app/ast_chat/components/ToolCallDisplay.tsx\",\n                                    lineNumber: 164,\n                                    columnNumber: 19\n                                }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h4\", {\n                                            className: \"text-xs font-semibold uppercase text-muted-foreground mb-1\",\n                                            children: [\n                                                \"Raw Result (\",\n                                                toolCall.status === \"Streaming...\" && !toolCall.is_error ? \"Streaming...\" : toolCall.status,\n                                                \"):\"\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/var/www/flask_app/ast_chat/components/ToolCallDisplay.tsx\",\n                                            lineNumber: 174,\n                                            columnNumber: 21\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: `w-full max-w-full p-2 border rounded-md overflow-x-auto overflow-y-auto max-h-60 text-xs min-w-0 ${toolCall.is_error ? \"border-red-500 bg-red-50 text-red-700 dark:bg-red-900/30 dark:text-red-300\" : \"border-border bg-muted/30\"}`,\n                                            style: {\n                                                wordBreak: \"break-all\",\n                                                overflowWrap: \"anywhere\",\n                                                hyphens: \"auto\"\n                                            },\n                                            dangerouslySetInnerHTML: {\n                                                __html: renderSanitizedMarkdown(toolCall.result)\n                                            }\n                                        }, void 0, false, {\n                                            fileName: \"/var/www/flask_app/ast_chat/components/ToolCallDisplay.tsx\",\n                                            lineNumber: 177,\n                                            columnNumber: 21\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/var/www/flask_app/ast_chat/components/ToolCallDisplay.tsx\",\n                                    lineNumber: 173,\n                                    columnNumber: 19\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/var/www/flask_app/ast_chat/components/ToolCallDisplay.tsx\",\n                            lineNumber: 96,\n                            columnNumber: 15\n                        }, undefined) : /* Default result display for other tools */ /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h4\", {\n                                    className: \"text-xs font-semibold uppercase text-muted-foreground mb-1\",\n                                    children: [\n                                        \"Result (\",\n                                        toolCall.status === \"Streaming...\" && !toolCall.is_error ? \"Streaming...\" : toolCall.status,\n                                        \"):\"\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/var/www/flask_app/ast_chat/components/ToolCallDisplay.tsx\",\n                                    lineNumber: 195,\n                                    columnNumber: 17\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: `w-full max-w-full p-2 border rounded-md overflow-x-auto overflow-y-auto max-h-60 text-xs min-w-0 ${toolCall.is_error ? \"border-red-500 bg-red-50 text-red-700 dark:bg-red-900/30 dark:text-red-300\" : \"border-border bg-muted/30\"}`,\n                                    style: {\n                                        wordBreak: \"break-all\",\n                                        overflowWrap: \"anywhere\",\n                                        hyphens: \"auto\"\n                                    },\n                                    dangerouslySetInnerHTML: {\n                                        __html: renderSanitizedMarkdown(toolCall.result)\n                                    }\n                                }, void 0, false, {\n                                    fileName: \"/var/www/flask_app/ast_chat/components/ToolCallDisplay.tsx\",\n                                    lineNumber: 198,\n                                    columnNumber: 17\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/var/www/flask_app/ast_chat/components/ToolCallDisplay.tsx\",\n                            lineNumber: 194,\n                            columnNumber: 15\n                        }, undefined)\n                    }, void 0, false, {\n                        fileName: \"/var/www/flask_app/ast_chat/components/ToolCallDisplay.tsx\",\n                        lineNumber: 93,\n                        columnNumber: 11\n                    }, undefined),\n                    toolCall.sampleCallPairs && toolCall.sampleCallPairs.length > 0 && (()=>{\n                        console.log(`[ToolCallDisplay] About to render ${toolCall.sampleCallPairs.length} sampleCallPairs for ${toolCall.name}`);\n                        return toolCall.sampleCallPairs.map((pair, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((react__WEBPACK_IMPORTED_MODULE_1___default().Fragment), {\n                                children: [\n                                    pair.thoughts && (()=>{\n                                        console.log(`[ToolCallDisplay] Rendering thoughts for pair ${index + 1}:`, pair.thoughts.substring(0, 100));\n                                        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"mt-3 pt-3 border-t border-dashed border-border/50\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h4\", {\n                                                    className: \"font-medium text-blue-500 dark:text-blue-400 text-xs mb-1\",\n                                                    children: [\n                                                        \"↳ LLM Sampling Thoughts (#\",\n                                                        index + 1,\n                                                        \"):\"\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/components/ToolCallDisplay.tsx\",\n                                                    lineNumber: 224,\n                                                    columnNumber: 21\n                                                }, undefined),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"pre\", {\n                                                    className: \"mt-1 p-2 border rounded-md border-blue-500/30 bg-blue-500/5 whitespace-pre-wrap text-xs font-mono w-full max-w-full overflow-x-auto min-w-0\",\n                                                    style: {\n                                                        wordBreak: \"break-word\",\n                                                        overflowWrap: \"anywhere\"\n                                                    },\n                                                    children: pair.thoughts\n                                                }, void 0, false, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/components/ToolCallDisplay.tsx\",\n                                                    lineNumber: 227,\n                                                    columnNumber: 21\n                                                }, undefined)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/var/www/flask_app/ast_chat/components/ToolCallDisplay.tsx\",\n                                            lineNumber: 223,\n                                            columnNumber: 19\n                                        }, undefined);\n                                    })(),\n                                    pair.output && (()=>{\n                                        console.log(`[ToolCallDisplay] Rendering output for pair ${index + 1}:`, pair.output.substring(0, 100));\n                                        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"mt-3 pt-3 border-t border-dashed border-border/50\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h4\", {\n                                                    className: \"font-medium text-green-600 dark:text-green-400 text-xs mb-1\",\n                                                    children: [\n                                                        \"↳ LLM Sampling Output (#\",\n                                                        index + 1,\n                                                        \"):\"\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/components/ToolCallDisplay.tsx\",\n                                                    lineNumber: 237,\n                                                    columnNumber: 21\n                                                }, undefined),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"pre\", {\n                                                    className: \"mt-1 p-2 border rounded-md border-green-500/30 bg-green-500/5 whitespace-pre-wrap text-xs font-mono w-full max-w-full overflow-x-auto min-w-0\",\n                                                    style: {\n                                                        wordBreak: \"break-word\",\n                                                        overflowWrap: \"anywhere\"\n                                                    },\n                                                    children: pair.output\n                                                }, void 0, false, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/components/ToolCallDisplay.tsx\",\n                                                    lineNumber: 240,\n                                                    columnNumber: 21\n                                                }, undefined)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/var/www/flask_app/ast_chat/components/ToolCallDisplay.tsx\",\n                                            lineNumber: 236,\n                                            columnNumber: 19\n                                        }, undefined);\n                                    })()\n                                ]\n                            }, `${pair.id || index}-${toolCall.call_id}-${index}`, true, {\n                                fileName: \"/var/www/flask_app/ast_chat/components/ToolCallDisplay.tsx\",\n                                lineNumber: 219,\n                                columnNumber: 13\n                            }, undefined));\n                    })(),\n                    toolCall.status === \"Pending...\" && !toolCall.result && (!toolCall.sampleCallPairs || toolCall.sampleCallPairs.length === 0) && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center text-xs text-muted-foreground pt-2\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_CheckCircle_ChevronDown_Code2_FileText_Loader2_XCircle_lucide_react__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n                                className: \"w-3 h-3 mr-1 animate-spin\"\n                            }, void 0, false, {\n                                fileName: \"/var/www/flask_app/ast_chat/components/ToolCallDisplay.tsx\",\n                                lineNumber: 253,\n                                columnNumber: 14\n                            }, undefined),\n                            \"Awaiting first tool output...\"\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/var/www/flask_app/ast_chat/components/ToolCallDisplay.tsx\",\n                        lineNumber: 252,\n                        columnNumber: 12\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/var/www/flask_app/ast_chat/components/ToolCallDisplay.tsx\",\n                lineNumber: 79,\n                columnNumber: 7\n            }, undefined)\n        ]\n    }, toolCall.call_id, true, {\n        fileName: \"/var/www/flask_app/ast_chat/components/ToolCallDisplay.tsx\",\n        lineNumber: 66,\n        columnNumber: 5\n    }, undefined);\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ToolCallDisplay);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LDhEQUFDTTtvREFBR04sV0FBVTs7d0RBQThEO3dEQUNqRHdCLFFBQVE7d0RBQUU7Ozs7Ozs7OERBRXJDLDhEQUFDakI7b0RBQUlQLFdBQVU7b0RBQWdKUSxPQUFPO3dEQUFFQyxXQUFXO3dEQUFjRSxjQUFjO29EQUFXOzhEQUN2TlksS0FBS0ssTUFBTTs7Ozs7Ozs7Ozs7O29DQUlwQjs7K0JBMUJtQixDQUFDLEVBQUVMLEtBQUtNLEVBQUUsSUFBSUwsTUFBTSxDQUFDLEVBQUV4RCxTQUFTTyxPQUFPLENBQUMsQ0FBQyxFQUFFaUQsTUFBTSxDQUFDOzs7OztvQkE2QjNFO29CQUdFeEQsU0FBU3NCLE1BQU0sS0FBSyxnQkFBZ0IsQ0FBQ3RCLFNBQVNXLE1BQU0sSUFBSyxFQUFDWCxTQUFTUSxlQUFlLElBQUlSLFNBQVNRLGVBQWUsQ0FBQ0MsTUFBTSxLQUFLLG9CQUN6SCw4REFBQzJCO3dCQUFJSixXQUFVOzswQ0FDYiw4REFBQ3RDLGtJQUFPQTtnQ0FBQ3NDLFdBQVU7Ozs7Ozs0QkFBOEI7Ozs7Ozs7Ozs7Ozs7O09BMUxuRGhDLFNBQVNPLE9BQU87Ozs7O0FBaU0zQjtBQUVBLGlFQUFlUixlQUFlQSxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYXN0X2NoYXQvLi9jb21wb25lbnRzL1Rvb2xDYWxsRGlzcGxheS50c3g/YmU5YiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBDaGVja0NpcmNsZSwgWENpcmNsZSwgTG9hZGVyMiwgQ2hldnJvbkRvd24sIENvZGUyLCBGaWxlVGV4dCB9IGZyb20gJ2x1Y2lkZS1yZWFjdCc7XG5pbXBvcnQgTW9uYWNvRGlmZlZpZXdlciBmcm9tICcuL01vbmFjb0RpZmZWaWV3ZXInO1xuXG4vLyBBc3N1bWluZyBUb29sQ2FsbERhdGEgaXMgZGVmaW5lZCBpbiBwYWdlLnRzeCBhbmQgaW1wb3J0ZWQgb3IgZHVwbGljYXRlZCBoZXJlXG5pbnRlcmZhY2UgVG9vbENhbGxEYXRhIHtcbiAgY2FsbF9pZDogc3RyaW5nO1xuICBuYW1lOiBzdHJpbmc7XG4gIGFyZ3VtZW50czogc3RyaW5nOyAvLyBUaGlzIGlzIGEgSlNPTiBzdHJpbmdcbiAgcmVzdWx0Pzogc3RyaW5nOyAgICAvLyBUaGlzIGNhbiBiZSBhIEpTT04gc3RyaW5nIG9yIHBsYWluIHRleHRcbiAgc3RhdHVzPzogXCJQZW5kaW5nLi4uXCIgfCBcIkNvbXBsZXRlZFwiIHwgXCJFcnJvclwiIHwgXCJTdHJlYW1pbmcuLi5cIjtcbiAgaXNfZXJyb3I/OiBib29sZWFuO1xuICBpc19wYXJ0aWFsPzogYm9vbGVhbjtcbiAgLy8gc2FtcGxlU3RyZWFtT3V0cHV0Pzogc3RyaW5nOyAvLyBSRU1PVkVEXG4gIC8vIHNhbXBsZVRob3VnaHRPdXRwdXQ/OiBzdHJpbmc7IC8vIFJFTU9WRURcbiAgc2FtcGxlQ2FsbFBhaXJzPzogQXJyYXk8eyBpZDogc3RyaW5nOyB0aG91Z2h0cz86IHN0cmluZzsgb3V0cHV0Pzogc3RyaW5nOyB9PjsgLy8gQURERURcbn1cblxuaW50ZXJmYWNlIFRvb2xDYWxsRGlzcGxheVByb3BzIHtcbiAgdG9vbENhbGw6IFRvb2xDYWxsRGF0YTtcbiAgcmVuZGVyU2FuaXRpemVkTWFya2Rvd246ICh0ZXh0OiBzdHJpbmcpID0+IHN0cmluZzsgXG59XG5cbmNvbnN0IFRvb2xDYWxsRGlzcGxheTogUmVhY3QuRkM8VG9vbENhbGxEaXNwbGF5UHJvcHM+ID0gKHsgdG9vbENhbGwsIHJlbmRlclNhbml0aXplZE1hcmtkb3duIH0pID0+IHtcbiAgY29uc3QgW3ZpZXdNb2RlLCBzZXRWaWV3TW9kZV0gPSB1c2VTdGF0ZTwnZGlmZicgfCAncmF3Jz4oJ2RpZmYnKTtcblxuICAvLyBEZWJ1ZyBsb2dnaW5nIGZvciBzYW1wbGluZyBkYXRhXG4gIGNvbnNvbGUubG9nKGBbVG9vbENhbGxEaXNwbGF5XSBSZW5kZXJpbmcgdG9vbDogJHt0b29sQ2FsbC5uYW1lfSwgY2FsbF9pZDogJHt0b29sQ2FsbC5jYWxsX2lkfWApO1xuICBjb25zb2xlLmxvZyhgW1Rvb2xDYWxsRGlzcGxheV0gc2FtcGxlQ2FsbFBhaXJzOmAsIHRvb2xDYWxsLnNhbXBsZUNhbGxQYWlycyk7XG4gIGNvbnNvbGUubG9nKGBbVG9vbENhbGxEaXNwbGF5XSBzYW1wbGVDYWxsUGFpcnMgbGVuZ3RoOmAsIHRvb2xDYWxsLnNhbXBsZUNhbGxQYWlycz8ubGVuZ3RoIHx8IDApO1xuICBcbiAgLy8gUGFyc2UgdGhlIHJlc3VsdCBmb3IgZWRpdF9tY3Bfc2VydmVyIHRvb2xzXG4gIGNvbnN0IGdldEVkaXRTZXJ2ZXJEYXRhID0gKCkgPT4ge1xuICAgIGlmICh0b29sQ2FsbC5uYW1lICE9PSAnZWRpdF9tY3Bfc2VydmVyJyB8fCAhdG9vbENhbGwucmVzdWx0KSByZXR1cm4gbnVsbDtcbiAgICBcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzdWx0ID0gSlNPTi5wYXJzZSh0b29sQ2FsbC5yZXN1bHQpO1xuICAgICAgaWYgKHJlc3VsdC5vcmlnaW5hbF9jb2RlICYmIHJlc3VsdC5tb2RpZmllZF9jb2RlKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgb3JpZ2luYWw6IHJlc3VsdC5vcmlnaW5hbF9jb2RlLFxuICAgICAgICAgIG1vZGlmaWVkOiByZXN1bHQubW9kaWZpZWRfY29kZSxcbiAgICAgICAgICBzZXJ2ZXJOYW1lOiByZXN1bHQuc2VydmVyX25hbWUgfHwgJ3Vua25vd25fc2VydmVyJyxcbiAgICAgICAgICBjaGFuZ2VzQXBwbGllZDogcmVzdWx0LmNoYW5nZXNfYXBwbGllZCB8fCAwLFxuICAgICAgICAgIHN0YXR1czogcmVzdWx0LnN0YXR1cyxcbiAgICAgICAgICBtZXNzYWdlOiByZXN1bHQubWVzc2FnZSxcbiAgICAgICAgICByZWxvYWRSZXN1bHQ6IHJlc3VsdC5yZWxvYWRfcmVzdWx0XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgY29uc29sZS53YXJuKCdGYWlsZWQgdG8gcGFyc2UgZWRpdF9tY3Bfc2VydmVyIHJlc3VsdDonLCBlKTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH07XG5cbiAgY29uc3QgZWRpdERhdGEgPSBnZXRFZGl0U2VydmVyRGF0YSgpO1xuICBjb25zdCBpc0VkaXRUb29sID0gdG9vbENhbGwubmFtZSA9PT0gJ2VkaXRfbWNwX3NlcnZlcic7XG4gIFxuICBjb25zdCBnZXRTdGF0dXNJY29uID0gKCkgPT4ge1xuICAgIGlmICh0b29sQ2FsbC5zdGF0dXMgPT09IFwiQ29tcGxldGVkXCIgJiYgIXRvb2xDYWxsLmlzX2Vycm9yKSByZXR1cm4gPENoZWNrQ2lyY2xlIGNsYXNzTmFtZT1cInctNCBoLTQgdGV4dC1ncmVlbi01MDBcIiAvPjtcbiAgICBpZiAodG9vbENhbGwuaXNfZXJyb3IpIHJldHVybiA8WENpcmNsZSBjbGFzc05hbWU9XCJ3LTQgaC00IHRleHQtcmVkLTUwMFwiIC8+O1xuICAgIGlmICh0b29sQ2FsbC5zdGF0dXMgPT09IFwiUGVuZGluZy4uLlwiIHx8IHRvb2xDYWxsLnN0YXR1cyA9PT0gXCJTdHJlYW1pbmcuLi5cIikgcmV0dXJuIDxMb2FkZXIyIGNsYXNzTmFtZT1cInctNCBoLTQgYW5pbWF0ZS1zcGluIHRleHQtbXV0ZWQtZm9yZWdyb3VuZFwiIC8+O1xuICAgIHJldHVybiBudWxsO1xuICB9O1xuXG4gIHJldHVybiAoXG4gICAgPGRldGFpbHMgXG4gICAgICBrZXk9e3Rvb2xDYWxsLmNhbGxfaWR9IFxuICAgICAgY2xhc3NOYW1lPVwidG9vbC1jYWxsLWRpc3BsYXkgbXktMiByb3VuZGVkLWxnIGJvcmRlciBib3JkZXItYm9yZGVyIGJnLW11dGVkLzIwIHNoYWRvdy1zbVwiIFxuICAgICAgb3Blbj17ZmFsc2V9XG4gICAgPlxuICAgICAgPHN1bW1hcnkgY2xhc3NOYW1lPVwidG9vbC1jYWxsLXN1bW1hcnkgY3Vyc29yLXBvaW50ZXIgcC0zIGxpc3Qtbm9uZSBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gdGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWZvcmVncm91bmQgaG92ZXI6YmctbXV0ZWQvNDAgcm91bmRlZC10LWxnXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXJcIj5cbiAgICAgICAgICB7Z2V0U3RhdHVzSWNvbigpfVxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1sLTIgZm9udC1tb25vIHRleHQteHMgc206dGV4dC1zbVwiPlRvb2w6IHt0b29sQ2FsbC5uYW1lfTwvc3Bhbj5cbiAgICAgICAgICB7dG9vbENhbGwuc3RhdHVzID09PSBcIlN0cmVhbWluZy4uLlwiICYmIDxzcGFuIGNsYXNzTmFtZT0nbWwtMiB0ZXh0LXhzIGl0YWxpYyB0ZXh0LW11dGVkLWZvcmVncm91bmQnPnN0cmVhbWluZyByZXN1bHQuLi48L3NwYW4+fVxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPENoZXZyb25Eb3duIGNsYXNzTmFtZT1cInctNSBoLTUgdHJhbnNpdGlvbi10cmFuc2Zvcm0gZHVyYXRpb24tMjAwIGRldGFpbHMtYXJyb3dcIiAvPlxuICAgICAgPC9zdW1tYXJ5PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0b29sLWNhbGwtY29udGVudCBwLTMgYm9yZGVyLXQgYm9yZGVyLWJvcmRlciBiZy1iYWNrZ3JvdW5kIHJvdW5kZWQtYi1sZyBzcGFjZS15LTJcIj5cbiAgICAgICAgPGRpdj5cbiAgICAgICAgICA8aDQgY2xhc3NOYW1lPVwidGV4dC14cyBmb250LXNlbWlib2xkIHVwcGVyY2FzZSB0ZXh0LW11dGVkLWZvcmVncm91bmQgbWItMVwiPkFyZ3VtZW50czo8L2g0PlxuICAgICAgICAgIDxwcmUgY2xhc3NOYW1lPVwidy1mdWxsIG1heC13LWZ1bGwgcC0yIGJvcmRlciByb3VuZGVkLW1kIGJnLW11dGVkLzMwIHRleHQteHMgb3ZlcmZsb3cteC1hdXRvIG92ZXJmbG93LXktYXV0byBtYXgtaC00MCBtaW4tdy0wXCIgc3R5bGU9e3sgXG4gICAgICAgICAgICB3b3JkQnJlYWs6ICdicmVhay1hbGwnLCBcbiAgICAgICAgICAgIHdoaXRlU3BhY2U6ICdwcmUtd3JhcCcsIFxuICAgICAgICAgICAgb3ZlcmZsb3dXcmFwOiAnYW55d2hlcmUnLFxuICAgICAgICAgICAgaHlwaGVuczogJ2F1dG8nXG4gICAgICAgICAgfX0+XG4gICAgICAgICAgICB7dG9vbENhbGwuYXJndW1lbnRzfVxuICAgICAgICAgIDwvcHJlPlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICB7dG9vbENhbGwucmVzdWx0ICYmIChcbiAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgey8qIFNwZWNpYWwgaGFuZGxpbmcgZm9yIGVkaXRfbWNwX3NlcnZlciB0b29scyAqL31cbiAgICAgICAgICAgIHtpc0VkaXRUb29sICYmIGVkaXREYXRhID8gKFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktM1wiPlxuICAgICAgICAgICAgICAgIHsvKiBTdGF0dXMgU3VtbWFyeSAqL31cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLW11dGVkLzQwIHJvdW5kZWQtbGcgcC0zIGJvcmRlclwiPlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gbWItMlwiPlxuICAgICAgICAgICAgICAgICAgICA8aDQgY2xhc3NOYW1lPVwidGV4dC1zbSBmb250LXNlbWlib2xkIHRleHQtZm9yZWdyb3VuZFwiPlNlcnZlciBFZGl0IFN1bW1hcnk8L2g0PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0Vmlld01vZGUoJ2RpZmYnKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YGlubGluZS1mbGV4IGl0ZW1zLWNlbnRlciBweC0yIHB5LTEgdGV4dC14cyByb3VuZGVkLW1kIHRyYW5zaXRpb24tY29sb3JzICR7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHZpZXdNb2RlID09PSAnZGlmZicgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyAnYmctcHJpbWFyeSB0ZXh0LXByaW1hcnktZm9yZWdyb3VuZCcgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiAnYmctbXV0ZWQgdGV4dC1tdXRlZC1mb3JlZ3JvdW5kIGhvdmVyOmJnLW11dGVkLzgwJ1xuICAgICAgICAgICAgICAgICAgICAgICAgfWB9XG4gICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgPENvZGUyIGNsYXNzTmFtZT1cInctMyBoLTMgbXItMVwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICBEaWZmIFZpZXdcbiAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRWaWV3TW9kZSgncmF3Jyl9XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2BpbmxpbmUtZmxleCBpdGVtcy1jZW50ZXIgcHgtMiBweS0xIHRleHQteHMgcm91bmRlZC1tZCB0cmFuc2l0aW9uLWNvbG9ycyAke1xuICAgICAgICAgICAgICAgICAgICAgICAgICB2aWV3TW9kZSA9PT0gJ3JhdycgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyAnYmctcHJpbWFyeSB0ZXh0LXByaW1hcnktZm9yZWdyb3VuZCcgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiAnYmctbXV0ZWQgdGV4dC1tdXRlZC1mb3JlZ3JvdW5kIGhvdmVyOmJnLW11dGVkLzgwJ1xuICAgICAgICAgICAgICAgICAgICAgICAgfWB9XG4gICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgPEZpbGVUZXh0IGNsYXNzTmFtZT1cInctMyBoLTMgbXItMVwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICBSYXcgT3V0cHV0XG4gICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JpZCBncmlkLWNvbHMtMiBnYXAtNCB0ZXh0LXhzXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZm9udC1tZWRpdW0gdGV4dC1tdXRlZC1mb3JlZ3JvdW5kXCI+U2VydmVyOjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtbC0xIGZvbnQtbW9ub1wiPntlZGl0RGF0YS5zZXJ2ZXJOYW1lfS5weTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZm9udC1tZWRpdW0gdGV4dC1tdXRlZC1mb3JlZ3JvdW5kXCI+U3RhdHVzOjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9e2BtbC0xIHB4LTEuNSBweS0wLjUgcm91bmRlZCB0ZXh0LXhzIGZvbnQtbWVkaXVtICR7XG4gICAgICAgICAgICAgICAgICAgICAgICBlZGl0RGF0YS5zdGF0dXMgPT09ICdzdWNjZXNzJyBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPyAnYmctZ3JlZW4tMTAwIHRleHQtZ3JlZW4tODAwIGRhcms6YmctZ3JlZW4tOTAwLzMwIGRhcms6dGV4dC1ncmVlbi0zMDAnXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDogZWRpdERhdGEuc3RhdHVzID09PSAnZXJyb3InXG4gICAgICAgICAgICAgICAgICAgICAgICAgID8gJ2JnLXJlZC0xMDAgdGV4dC1yZWQtODAwIGRhcms6YmctcmVkLTkwMC8zMCBkYXJrOnRleHQtcmVkLTMwMCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgOiAnYmcteWVsbG93LTEwMCB0ZXh0LXllbGxvdy04MDAgZGFyazpiZy15ZWxsb3ctOTAwLzMwIGRhcms6dGV4dC15ZWxsb3ctMzAwJ1xuICAgICAgICAgICAgICAgICAgICAgIH1gfT5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtlZGl0RGF0YS5zdGF0dXN9XG4gICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICB7ZWRpdERhdGEubWVzc2FnZSAmJiAoXG4gICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1tdXRlZC1mb3JlZ3JvdW5kIG10LTJcIj57ZWRpdERhdGEubWVzc2FnZX08L3A+XG4gICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICB7ZWRpdERhdGEucmVsb2FkUmVzdWx0ICYmIChcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC0yIHAtMiBiZy1iYWNrZ3JvdW5kIHJvdW5kZWQgYm9yZGVyIHRleHQteHNcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJmb250LW1lZGl1bVwiPlJlbG9hZCBTdGF0dXM6PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT17YG1sLTEgJHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVkaXREYXRhLnJlbG9hZFJlc3VsdC5zdGF0dXMgPT09ICdzdWNjZXNzJyA/ICd0ZXh0LWdyZWVuLTYwMCcgOiAndGV4dC1yZWQtNjAwJ1xuICAgICAgICAgICAgICAgICAgICAgIH1gfT5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtlZGl0RGF0YS5yZWxvYWRSZXN1bHQubWVzc2FnZX1cbiAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgIHsvKiBDb2RlIERpZmYgb3IgUmF3IFZpZXcgKi99XG4gICAgICAgICAgICAgICAge3ZpZXdNb2RlID09PSAnZGlmZicgPyAoXG4gICAgICAgICAgICAgICAgICA8TW9uYWNvRGlmZlZpZXdlclxuICAgICAgICAgICAgICAgICAgICBvcmlnaW5hbD17ZWRpdERhdGEub3JpZ2luYWx9XG4gICAgICAgICAgICAgICAgICAgIG1vZGlmaWVkPXtlZGl0RGF0YS5tb2RpZmllZH1cbiAgICAgICAgICAgICAgICAgICAgbGFuZ3VhZ2U9XCJweXRob25cIlxuICAgICAgICAgICAgICAgICAgICBmaWxlbmFtZT17YCR7ZWRpdERhdGEuc2VydmVyTmFtZX0ucHlgfVxuICAgICAgICAgICAgICAgICAgICBoZWlnaHQ9XCI1MDBweFwiXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbFwiXG4gICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICA8aDQgY2xhc3NOYW1lPVwidGV4dC14cyBmb250LXNlbWlib2xkIHVwcGVyY2FzZSB0ZXh0LW11dGVkLWZvcmVncm91bmQgbWItMVwiPlxuICAgICAgICAgICAgICAgICAgICAgIFJhdyBSZXN1bHQgKHt0b29sQ2FsbC5zdGF0dXMgPT09IFwiU3RyZWFtaW5nLi4uXCIgJiYgIXRvb2xDYWxsLmlzX2Vycm9yID8gXCJTdHJlYW1pbmcuLi5cIiA6IHRvb2xDYWxsLnN0YXR1c30pOlxuICAgICAgICAgICAgICAgICAgICA8L2g0PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgdy1mdWxsIG1heC13LWZ1bGwgcC0yIGJvcmRlciByb3VuZGVkLW1kIG92ZXJmbG93LXgtYXV0byBvdmVyZmxvdy15LWF1dG8gbWF4LWgtNjAgdGV4dC14cyBtaW4tdy0wICR7XG4gICAgICAgICAgICAgICAgICAgICAgICB0b29sQ2FsbC5pc19lcnJvciA/ICdib3JkZXItcmVkLTUwMCBiZy1yZWQtNTAgdGV4dC1yZWQtNzAwIGRhcms6YmctcmVkLTkwMC8zMCBkYXJrOnRleHQtcmVkLTMwMCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogJ2JvcmRlci1ib3JkZXIgYmctbXV0ZWQvMzAnXG4gICAgICAgICAgICAgICAgICAgICAgfWB9XG4gICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgXG4gICAgICAgICAgICAgICAgICAgICAgICB3b3JkQnJlYWs6ICdicmVhay1hbGwnLCBcbiAgICAgICAgICAgICAgICAgICAgICAgIG92ZXJmbG93V3JhcDogJ2FueXdoZXJlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGh5cGhlbnM6ICdhdXRvJ1xuICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw9e3sgX19odG1sOiByZW5kZXJTYW5pdGl6ZWRNYXJrZG93bih0b29sQ2FsbC5yZXN1bHQpIH19XG4gICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgIC8qIERlZmF1bHQgcmVzdWx0IGRpc3BsYXkgZm9yIG90aGVyIHRvb2xzICovXG4gICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgPGg0IGNsYXNzTmFtZT1cInRleHQteHMgZm9udC1zZW1pYm9sZCB1cHBlcmNhc2UgdGV4dC1tdXRlZC1mb3JlZ3JvdW5kIG1iLTFcIj5cbiAgICAgICAgICAgICAgICAgIFJlc3VsdCAoe3Rvb2xDYWxsLnN0YXR1cyA9PT0gXCJTdHJlYW1pbmcuLi5cIiAmJiAhdG9vbENhbGwuaXNfZXJyb3IgPyBcIlN0cmVhbWluZy4uLlwiIDogdG9vbENhbGwuc3RhdHVzfSk6XG4gICAgICAgICAgICAgICAgPC9oND5cbiAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2B3LWZ1bGwgbWF4LXctZnVsbCBwLTIgYm9yZGVyIHJvdW5kZWQtbWQgb3ZlcmZsb3cteC1hdXRvIG92ZXJmbG93LXktYXV0byBtYXgtaC02MCB0ZXh0LXhzIG1pbi13LTAgJHtcbiAgICAgICAgICAgICAgICAgICAgdG9vbENhbGwuaXNfZXJyb3IgPyAnYm9yZGVyLXJlZC01MDAgYmctcmVkLTUwIHRleHQtcmVkLTcwMCBkYXJrOmJnLXJlZC05MDAvMzAgZGFyazp0ZXh0LXJlZC0zMDAnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogJ2JvcmRlci1ib3JkZXIgYmctbXV0ZWQvMzAnXG4gICAgICAgICAgICAgICAgICB9YH1cbiAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IFxuICAgICAgICAgICAgICAgICAgICB3b3JkQnJlYWs6ICdicmVhay1hbGwnLCBcbiAgICAgICAgICAgICAgICAgICAgb3ZlcmZsb3dXcmFwOiAnYW55d2hlcmUnLFxuICAgICAgICAgICAgICAgICAgICBoeXBoZW5zOiAnYXV0bydcbiAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICBkYW5nZXJvdXNseVNldElubmVySFRNTD17eyBfX2h0bWw6IHJlbmRlclNhbml0aXplZE1hcmtkb3duKHRvb2xDYWxsLnJlc3VsdCkgfX1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICl9XG5cbiAgICAgICAgey8qIE5FVzogSXRlcmF0ZSBvdmVyIHNhbXBsZUNhbGxQYWlycyAqL31cbiAgICAgICAge3Rvb2xDYWxsLnNhbXBsZUNhbGxQYWlycyAmJiB0b29sQ2FsbC5zYW1wbGVDYWxsUGFpcnMubGVuZ3RoID4gMCAmJiAoKCkgPT4ge1xuICAgICAgICAgIGNvbnNvbGUubG9nKGBbVG9vbENhbGxEaXNwbGF5XSBBYm91dCB0byByZW5kZXIgJHt0b29sQ2FsbC5zYW1wbGVDYWxsUGFpcnMubGVuZ3RofSBzYW1wbGVDYWxsUGFpcnMgZm9yICR7dG9vbENhbGwubmFtZX1gKTtcbiAgICAgICAgICByZXR1cm4gdG9vbENhbGwuc2FtcGxlQ2FsbFBhaXJzLm1hcCgocGFpciwgaW5kZXgpID0+IChcbiAgICAgICAgICAgIDxSZWFjdC5GcmFnbWVudCBrZXk9e2Ake3BhaXIuaWQgfHwgaW5kZXh9LSR7dG9vbENhbGwuY2FsbF9pZH0tJHtpbmRleH1gfT5cbiAgICAgICAgICAgICAge3BhaXIudGhvdWdodHMgJiYgKCgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgW1Rvb2xDYWxsRGlzcGxheV0gUmVuZGVyaW5nIHRob3VnaHRzIGZvciBwYWlyICR7aW5kZXggKyAxfTpgLCBwYWlyLnRob3VnaHRzLnN1YnN0cmluZygwLCAxMDApKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC0zIHB0LTMgYm9yZGVyLXQgYm9yZGVyLWRhc2hlZCBib3JkZXItYm9yZGVyLzUwXCI+XG4gICAgICAgICAgICAgICAgICAgIDxoNCBjbGFzc05hbWU9XCJmb250LW1lZGl1bSB0ZXh0LWJsdWUtNTAwIGRhcms6dGV4dC1ibHVlLTQwMCB0ZXh0LXhzIG1iLTFcIj5cbiAgICAgICAgICAgICAgICAgICAgICDihrMgTExNIFNhbXBsaW5nIFRob3VnaHRzICgje2luZGV4ICsgMX0pOlxuICAgICAgICAgICAgICAgICAgICA8L2g0PlxuICAgICAgICAgICAgICAgICAgICA8cHJlIGNsYXNzTmFtZT1cIm10LTEgcC0yIGJvcmRlciByb3VuZGVkLW1kIGJvcmRlci1ibHVlLTUwMC8zMCBiZy1ibHVlLTUwMC81IHdoaXRlc3BhY2UtcHJlLXdyYXAgdGV4dC14cyBmb250LW1vbm8gdy1mdWxsIG1heC13LWZ1bGwgb3ZlcmZsb3cteC1hdXRvIG1pbi13LTBcIiBzdHlsZT17eyB3b3JkQnJlYWs6ICdicmVhay13b3JkJywgb3ZlcmZsb3dXcmFwOiAnYW55d2hlcmUnIH19PlxuICAgICAgICAgICAgICAgICAgICAgIHtwYWlyLnRob3VnaHRzfVxuICAgICAgICAgICAgICAgICAgICA8L3ByZT5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIH0pKCl9XG4gICAgICAgICAgICAgIHtwYWlyLm91dHB1dCAmJiAoKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBbVG9vbENhbGxEaXNwbGF5XSBSZW5kZXJpbmcgb3V0cHV0IGZvciBwYWlyICR7aW5kZXggKyAxfTpgLCBwYWlyLm91dHB1dC5zdWJzdHJpbmcoMCwgMTAwKSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtMyBwdC0zIGJvcmRlci10IGJvcmRlci1kYXNoZWQgYm9yZGVyLWJvcmRlci81MFwiPlxuICAgICAgICAgICAgICAgICAgICA8aDQgY2xhc3NOYW1lPVwiZm9udC1tZWRpdW0gdGV4dC1ncmVlbi02MDAgZGFyazp0ZXh0LWdyZWVuLTQwMCB0ZXh0LXhzIG1iLTFcIj5cbiAgICAgICAgICAgICAgICAgICAgICDihrMgTExNIFNhbXBsaW5nIE91dHB1dCAoI3tpbmRleCArIDF9KTpcbiAgICAgICAgICAgICAgICAgICAgPC9oND5cbiAgICAgICAgICAgICAgICAgICAgPHByZSBjbGFzc05hbWU9XCJtdC0xIHAtMiBib3JkZXIgcm91bmRlZC1tZCBib3JkZXItZ3JlZW4tNTAwLzMwIGJnLWdyZWVuLTUwMC81IHdoaXRlc3BhY2UtcHJlLXdyYXAgdGV4dC14cyBmb250LW1vbm8gdy1mdWxsIG1heC13LWZ1bGwgb3ZlcmZsb3cteC1hdXRvIG1pbi13LTBcIiBzdHlsZT17eyB3b3JkQnJlYWs6ICdicmVhay13b3JkJywgb3ZlcmZsb3dXcmFwOiAnYW55d2hlcmUnIH19PlxuICAgICAgICAgICAgICAgICAgICAgIHtwYWlyLm91dHB1dH1cbiAgICAgICAgICAgICAgICAgICAgPC9wcmU+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICB9KSgpfVxuICAgICAgICAgICAgPC9SZWFjdC5GcmFnbWVudD5cbiAgICAgICAgICApKTtcbiAgICAgICAgfSkoKX1cbiAgICAgICAgXG4gICAgICAgIHsvKiBVUERBVEVEIGNvbmRpdGlvbiBmb3IgXCJBd2FpdGluZyBmaXJzdCB0b29sIG91dHB1dC4uLlwiICovfVxuICAgICAgICB7KHRvb2xDYWxsLnN0YXR1cyA9PT0gXCJQZW5kaW5nLi4uXCIgJiYgIXRvb2xDYWxsLnJlc3VsdCAmJiAoIXRvb2xDYWxsLnNhbXBsZUNhbGxQYWlycyB8fCB0b29sQ2FsbC5zYW1wbGVDYWxsUGFpcnMubGVuZ3RoID09PSAwKSkgJiYgKFxuICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIHRleHQteHMgdGV4dC1tdXRlZC1mb3JlZ3JvdW5kIHB0LTJcIj5cbiAgICAgICAgICAgICA8TG9hZGVyMiBjbGFzc05hbWU9XCJ3LTMgaC0zIG1yLTEgYW5pbWF0ZS1zcGluXCIgLz5cbiAgICAgICAgICAgICBBd2FpdGluZyBmaXJzdCB0b29sIG91dHB1dC4uLlxuICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKX1cbiAgICAgIDwvZGl2PlxuICAgIDwvZGV0YWlscz5cbiAgKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IFRvb2xDYWxsRGlzcGxheTsgIl0sIm5hbWVzIjpbIlJlYWN0IiwidXNlU3RhdGUiLCJDaGVja0NpcmNsZSIsIlhDaXJjbGUiLCJMb2FkZXIyIiwiQ2hldnJvbkRvd24iLCJDb2RlMiIsIkZpbGVUZXh0IiwiTW9uYWNvRGlmZlZpZXdlciIsIlRvb2xDYWxsRGlzcGxheSIsInRvb2xDYWxsIiwicmVuZGVyU2FuaXRpemVkTWFya2Rvd24iLCJ2aWV3TW9kZSIsInNldFZpZXdNb2RlIiwiY29uc29sZSIsImxvZyIsIm5hbWUiLCJjYWxsX2lkIiwic2FtcGxlQ2FsbFBhaXJzIiwibGVuZ3RoIiwiZ2V0RWRpdFNlcnZlckRhdGEiLCJyZXN1bHQiLCJKU09OIiwicGFyc2UiLCJvcmlnaW5hbF9jb2RlIiwibW9kaWZpZWRfY29kZSIsIm9yaWdpbmFsIiwibW9kaWZpZWQiLCJzZXJ2ZXJOYW1lIiwic2VydmVyX25hbWUiLCJjaGFuZ2VzQXBwbGllZCIsImNoYW5nZXNfYXBwbGllZCIsInN0YXR1cyIsIm1lc3NhZ2UiLCJyZWxvYWRSZXN1bHQiLCJyZWxvYWRfcmVzdWx0IiwiZSIsIndhcm4iLCJlZGl0RGF0YSIsImlzRWRpdFRvb2wiLCJnZXRTdGF0dXNJY29uIiwiaXNfZXJyb3IiLCJjbGFzc05hbWUiLCJkZXRhaWxzIiwib3BlbiIsInN1bW1hcnkiLCJkaXYiLCJzcGFuIiwiaDQiLCJwcmUiLCJzdHlsZSIsIndvcmRCcmVhayIsIndoaXRlU3BhY2UiLCJvdmVyZmxvd1dyYXAiLCJoeXBoZW5zIiwiYXJndW1lbnRzIiwiYnV0dG9uIiwib25DbGljayIsInAiLCJsYW5ndWFnZSIsImZpbGVuYW1lIiwiaGVpZ2h0IiwiZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUwiLCJfX2h0bWwiLCJtYXAiLCJwYWlyIiwiaW5kZXgiLCJGcmFnbWVudCIsInRob3VnaHRzIiwic3Vic3RyaW5nIiwib3V0cHV0IiwiaWQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./components/ToolCallDisplay.tsx\n");

/***/ }),

/***/ "(ssr)/./components/URLPreview.tsx":
/*!***********************************!*\
  !*** ./components/URLPreview.tsx ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _barrel_optimize_names_ExternalLink_Globe_lucide_react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! __barrel_optimize__?names=ExternalLink,Globe!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/globe.js\");\n/* harmony import */ var _barrel_optimize_names_ExternalLink_Globe_lucide_react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! __barrel_optimize__?names=ExternalLink,Globe!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/external-link.js\");\n\n\n\nconst URLPreview = ({ url, className = \"\" })=>{\n    const [ogData, setOgData] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const fetchOGData = async ()=>{\n            try {\n                setLoading(true);\n                setError(false);\n                // Try multiple CORS proxy services for better reliability\n                const proxies = [\n                    `https://api.allorigins.win/get?url=${encodeURIComponent(url)}`,\n                    `https://corsproxy.io/?${encodeURIComponent(url)}`,\n                    // Fallback: try direct fetch (will fail due to CORS but worth trying)\n                    url\n                ];\n                let htmlContent = \"\";\n                let fetchSuccess = false;\n                for (const proxyUrl of proxies){\n                    try {\n                        const response = await fetch(proxyUrl, {\n                            signal: AbortSignal.timeout(5000) // 5 second timeout\n                        });\n                        if (!response.ok) continue;\n                        if (proxyUrl.includes(\"allorigins.win\")) {\n                            const data = await response.json();\n                            htmlContent = data.contents;\n                        } else if (proxyUrl.includes(\"corsproxy.io\")) {\n                            htmlContent = await response.text();\n                        } else {\n                            htmlContent = await response.text();\n                        }\n                        fetchSuccess = true;\n                        break;\n                    } catch (err) {\n                        console.log(`Failed to fetch via ${proxyUrl}:`, err);\n                        continue;\n                    }\n                }\n                if (!fetchSuccess) {\n                    throw new Error(\"All proxy attempts failed\");\n                }\n                // Parse OG tags from HTML\n                const parser = new DOMParser();\n                const doc = parser.parseFromString(htmlContent, \"text/html\");\n                const ogTitle = doc.querySelector('meta[property=\"og:title\"]')?.getAttribute(\"content\") || doc.querySelector('meta[name=\"twitter:title\"]')?.getAttribute(\"content\") || doc.querySelector(\"title\")?.textContent || \"\";\n                const ogDescription = doc.querySelector('meta[property=\"og:description\"]')?.getAttribute(\"content\") || doc.querySelector('meta[name=\"twitter:description\"]')?.getAttribute(\"content\") || doc.querySelector('meta[name=\"description\"]')?.getAttribute(\"content\") || \"\";\n                let ogImage = doc.querySelector('meta[property=\"og:image\"]')?.getAttribute(\"content\") || doc.querySelector('meta[name=\"twitter:image\"]')?.getAttribute(\"content\") || \"\";\n                // Make relative image URLs absolute\n                if (ogImage && !ogImage.startsWith(\"http\")) {\n                    const urlObj = new URL(url);\n                    if (ogImage.startsWith(\"/\")) {\n                        ogImage = `${urlObj.protocol}//${urlObj.host}${ogImage}`;\n                    } else {\n                        ogImage = `${urlObj.protocol}//${urlObj.host}/${ogImage}`;\n                    }\n                }\n                const urlObj = new URL(url);\n                const ogSiteName = doc.querySelector('meta[property=\"og:site_name\"]')?.getAttribute(\"content\") || urlObj.hostname.replace(\"www.\", \"\");\n                // Only set ogData if we got meaningful content\n                if (ogTitle || ogDescription) {\n                    setOgData({\n                        title: ogTitle || urlObj.hostname.replace(\"www.\", \"\"),\n                        description: ogDescription,\n                        image: ogImage,\n                        siteName: ogSiteName,\n                        url: url\n                    });\n                } else {\n                    throw new Error(\"No meaningful OG data found\");\n                }\n            } catch (err) {\n                console.log(\"Failed to fetch OG data for\", url, err);\n                setError(true);\n                // Create a basic fallback\n                try {\n                    const urlObj = new URL(url);\n                    setOgData({\n                        title: urlObj.hostname.replace(\"www.\", \"\"),\n                        description: url,\n                        siteName: urlObj.hostname.replace(\"www.\", \"\"),\n                        url: url\n                    });\n                } catch (parseErr) {\n                    // If URL parsing also fails, we'll render the fallback link\n                    setOgData(null);\n                }\n            } finally{\n                setLoading(false);\n            }\n        };\n        // Add a small delay to avoid overwhelming with requests\n        const timeoutId = setTimeout(fetchOGData, 100);\n        return ()=>clearTimeout(timeoutId);\n    }, [\n        url\n    ]);\n    const handleClick = ()=>{\n        window.open(url, \"_blank\", \"noopener,noreferrer\");\n    };\n    if (loading) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: `border border-border rounded-lg p-3 bg-muted/20 animate-pulse my-2 ${className}`,\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex items-center space-x-3\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"w-12 h-12 bg-muted rounded\"\n                    }, void 0, false, {\n                        fileName: \"/var/www/flask_app/ast_chat/components/URLPreview.tsx\",\n                        lineNumber: 146,\n                        columnNumber: 11\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex-1 space-y-2\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"h-4 bg-muted rounded w-3/4\"\n                            }, void 0, false, {\n                                fileName: \"/var/www/flask_app/ast_chat/components/URLPreview.tsx\",\n                                lineNumber: 148,\n                                columnNumber: 13\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"h-3 bg-muted rounded w-1/2\"\n                            }, void 0, false, {\n                                fileName: \"/var/www/flask_app/ast_chat/components/URLPreview.tsx\",\n                                lineNumber: 149,\n                                columnNumber: 13\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/var/www/flask_app/ast_chat/components/URLPreview.tsx\",\n                        lineNumber: 147,\n                        columnNumber: 11\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/var/www/flask_app/ast_chat/components/URLPreview.tsx\",\n                lineNumber: 145,\n                columnNumber: 9\n            }, undefined)\n        }, void 0, false, {\n            fileName: \"/var/www/flask_app/ast_chat/components/URLPreview.tsx\",\n            lineNumber: 144,\n            columnNumber: 7\n        }, undefined);\n    }\n    if (!ogData || error) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: `my-2 ${className}`,\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"a\", {\n                href: url,\n                target: \"_blank\",\n                rel: \"noopener noreferrer\",\n                className: \"inline-flex items-center px-3 py-2 text-sm bg-muted/40 hover:bg-muted/60 border border-border rounded-lg transition-colors group\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ExternalLink_Globe_lucide_react__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n                        className: \"w-4 h-4 mr-2 text-muted-foreground\"\n                    }, void 0, false, {\n                        fileName: \"/var/www/flask_app/ast_chat/components/URLPreview.tsx\",\n                        lineNumber: 165,\n                        columnNumber: 11\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                        className: \"text-blue-600 dark:text-blue-400 group-hover:underline truncate max-w-md\",\n                        children: url\n                    }, void 0, false, {\n                        fileName: \"/var/www/flask_app/ast_chat/components/URLPreview.tsx\",\n                        lineNumber: 166,\n                        columnNumber: 11\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ExternalLink_Globe_lucide_react__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n                        className: \"w-4 h-4 ml-2 text-muted-foreground flex-shrink-0\"\n                    }, void 0, false, {\n                        fileName: \"/var/www/flask_app/ast_chat/components/URLPreview.tsx\",\n                        lineNumber: 169,\n                        columnNumber: 11\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/var/www/flask_app/ast_chat/components/URLPreview.tsx\",\n                lineNumber: 159,\n                columnNumber: 9\n            }, undefined)\n        }, void 0, false, {\n            fileName: \"/var/www/flask_app/ast_chat/components/URLPreview.tsx\",\n            lineNumber: 158,\n            columnNumber: 7\n        }, undefined);\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        onClick: handleClick,\n        className: `border border-border rounded-lg overflow-hidden bg-background hover:bg-muted/20 transition-colors cursor-pointer group my-2 ${className}`,\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"flex\",\n            children: [\n                ogData.image && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"w-20 h-20 sm:w-24 sm:h-24 flex-shrink-0\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                        src: ogData.image,\n                        alt: \"\",\n                        className: \"w-full h-full object-cover\",\n                        onError: (e)=>{\n                            e.target.style.display = \"none\";\n                        }\n                    }, void 0, false, {\n                        fileName: \"/var/www/flask_app/ast_chat/components/URLPreview.tsx\",\n                        lineNumber: 183,\n                        columnNumber: 13\n                    }, undefined)\n                }, void 0, false, {\n                    fileName: \"/var/www/flask_app/ast_chat/components/URLPreview.tsx\",\n                    lineNumber: 182,\n                    columnNumber: 11\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex-1 p-3 min-w-0\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-start justify-between\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"min-w-0 flex-1\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                        className: \"font-medium text-sm text-foreground line-clamp-2 group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors\",\n                                        children: ogData.title\n                                    }, void 0, false, {\n                                        fileName: \"/var/www/flask_app/ast_chat/components/URLPreview.tsx\",\n                                        lineNumber: 196,\n                                        columnNumber: 15\n                                    }, undefined),\n                                    ogData.description && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"text-xs text-muted-foreground mt-1 line-clamp-2\",\n                                        children: ogData.description\n                                    }, void 0, false, {\n                                        fileName: \"/var/www/flask_app/ast_chat/components/URLPreview.tsx\",\n                                        lineNumber: 200,\n                                        columnNumber: 17\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex items-center mt-2 text-xs text-muted-foreground\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ExternalLink_Globe_lucide_react__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n                                                className: \"w-3 h-3 mr-1\"\n                                            }, void 0, false, {\n                                                fileName: \"/var/www/flask_app/ast_chat/components/URLPreview.tsx\",\n                                                lineNumber: 205,\n                                                columnNumber: 17\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"truncate\",\n                                                children: ogData.siteName\n                                            }, void 0, false, {\n                                                fileName: \"/var/www/flask_app/ast_chat/components/URLPreview.tsx\",\n                                                lineNumber: 206,\n                                                columnNumber: 17\n                                            }, undefined)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/var/www/flask_app/ast_chat/components/URLPreview.tsx\",\n                                        lineNumber: 204,\n                                        columnNumber: 15\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/var/www/flask_app/ast_chat/components/URLPreview.tsx\",\n                                lineNumber: 195,\n                                columnNumber: 13\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ExternalLink_Globe_lucide_react__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n                                className: \"w-4 h-4 text-muted-foreground ml-2 flex-shrink-0 group-hover:text-blue-600 dark:group-hover:text-blue-400\"\n                            }, void 0, false, {\n                                fileName: \"/var/www/flask_app/ast_chat/components/URLPreview.tsx\",\n                                lineNumber: 209,\n                                columnNumber: 13\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/var/www/flask_app/ast_chat/components/URLPreview.tsx\",\n                        lineNumber: 194,\n                        columnNumber: 11\n                    }, undefined)\n                }, void 0, false, {\n                    fileName: \"/var/www/flask_app/ast_chat/components/URLPreview.tsx\",\n                    lineNumber: 193,\n                    columnNumber: 9\n                }, undefined)\n            ]\n        }, void 0, true, {\n            fileName: \"/var/www/flask_app/ast_chat/components/URLPreview.tsx\",\n            lineNumber: 180,\n            columnNumber: 7\n        }, undefined)\n    }, void 0, false, {\n        fileName: \"/var/www/flask_app/ast_chat/components/URLPreview.tsx\",\n        lineNumber: 176,\n        columnNumber: 5\n    }, undefined);\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (URLPreview);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Ozs7Ozs7b0NBRWQ3QyxPQUFPOEMsV0FBVyxrQkFDakIsOERBQUN5Qjt3Q0FBRXhFLFdBQVU7a0RBQ1ZDLE9BQU84QyxXQUFXOzs7Ozs7a0RBR3ZCLDhEQUFDVTt3Q0FBSXpELFdBQVU7OzBEQUNiLDhEQUFDSCw4RkFBS0E7Z0RBQUNHLFdBQVU7Ozs7OzswREFDakIsOERBQUM4RDtnREFBSzlELFdBQVU7MERBQVlDLE9BQU9nRCxRQUFROzs7Ozs7Ozs7Ozs7Ozs7Ozs7MENBRy9DLDhEQUFDckQsOEZBQVlBO2dDQUFDSSxXQUFVOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBTXBDO0FBRUEsaUVBQWVGLFVBQVVBLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hc3RfY2hhdC8uL2NvbXBvbmVudHMvVVJMUHJldmlldy50c3g/ZjhlNyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUsIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IEV4dGVybmFsTGluaywgR2xvYmUgfSBmcm9tICdsdWNpZGUtcmVhY3QnO1xuXG5pbnRlcmZhY2UgT3BlbkdyYXBoRGF0YSB7XG4gIHRpdGxlPzogc3RyaW5nO1xuICBkZXNjcmlwdGlvbj86IHN0cmluZztcbiAgaW1hZ2U/OiBzdHJpbmc7XG4gIHNpdGVOYW1lPzogc3RyaW5nO1xuICB1cmw6IHN0cmluZztcbn1cblxuaW50ZXJmYWNlIFVSTFByZXZpZXdQcm9wcyB7XG4gIHVybDogc3RyaW5nO1xuICBjbGFzc05hbWU/OiBzdHJpbmc7XG59XG5cbmNvbnN0IFVSTFByZXZpZXc6IFJlYWN0LkZDPFVSTFByZXZpZXdQcm9wcz4gPSAoeyB1cmwsIGNsYXNzTmFtZSA9IFwiXCIgfSkgPT4ge1xuICBjb25zdCBbb2dEYXRhLCBzZXRPZ0RhdGFdID0gdXNlU3RhdGU8T3BlbkdyYXBoRGF0YSB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbbG9hZGluZywgc2V0TG9hZGluZ10gPSB1c2VTdGF0ZSh0cnVlKTtcbiAgY29uc3QgW2Vycm9yLCBzZXRFcnJvcl0gPSB1c2VTdGF0ZShmYWxzZSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBmZXRjaE9HRGF0YSA9IGFzeW5jICgpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHNldExvYWRpbmcodHJ1ZSk7XG4gICAgICAgIHNldEVycm9yKGZhbHNlKTtcbiAgICAgICAgXG4gICAgICAgIC8vIFRyeSBtdWx0aXBsZSBDT1JTIHByb3h5IHNlcnZpY2VzIGZvciBiZXR0ZXIgcmVsaWFiaWxpdHlcbiAgICAgICAgY29uc3QgcHJveGllcyA9IFtcbiAgICAgICAgICBgaHR0cHM6Ly9hcGkuYWxsb3JpZ2lucy53aW4vZ2V0P3VybD0ke2VuY29kZVVSSUNvbXBvbmVudCh1cmwpfWAsXG4gICAgICAgICAgYGh0dHBzOi8vY29yc3Byb3h5LmlvLz8ke2VuY29kZVVSSUNvbXBvbmVudCh1cmwpfWAsXG4gICAgICAgICAgLy8gRmFsbGJhY2s6IHRyeSBkaXJlY3QgZmV0Y2ggKHdpbGwgZmFpbCBkdWUgdG8gQ09SUyBidXQgd29ydGggdHJ5aW5nKVxuICAgICAgICAgIHVybFxuICAgICAgICBdO1xuICAgICAgICBcbiAgICAgICAgbGV0IGh0bWxDb250ZW50ID0gJyc7XG4gICAgICAgIGxldCBmZXRjaFN1Y2Nlc3MgPSBmYWxzZTtcbiAgICAgICAgXG4gICAgICAgIGZvciAoY29uc3QgcHJveHlVcmwgb2YgcHJveGllcykge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHByb3h5VXJsLCB7IFxuICAgICAgICAgICAgICBzaWduYWw6IEFib3J0U2lnbmFsLnRpbWVvdXQoNTAwMCkgLy8gNSBzZWNvbmQgdGltZW91dFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmICghcmVzcG9uc2Uub2spIGNvbnRpbnVlO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAocHJveHlVcmwuaW5jbHVkZXMoJ2FsbG9yaWdpbnMud2luJykpIHtcbiAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgICAgICAgaHRtbENvbnRlbnQgPSBkYXRhLmNvbnRlbnRzO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChwcm94eVVybC5pbmNsdWRlcygnY29yc3Byb3h5LmlvJykpIHtcbiAgICAgICAgICAgICAgaHRtbENvbnRlbnQgPSBhd2FpdCByZXNwb25zZS50ZXh0KCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBodG1sQ29udGVudCA9IGF3YWl0IHJlc3BvbnNlLnRleHQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgZmV0Y2hTdWNjZXNzID0gdHJ1ZTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgY29uc29sZS5sb2coYEZhaWxlZCB0byBmZXRjaCB2aWEgJHtwcm94eVVybH06YCwgZXJyKTtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgaWYgKCFmZXRjaFN1Y2Nlc3MpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0FsbCBwcm94eSBhdHRlbXB0cyBmYWlsZWQnKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gUGFyc2UgT0cgdGFncyBmcm9tIEhUTUxcbiAgICAgICAgY29uc3QgcGFyc2VyID0gbmV3IERPTVBhcnNlcigpO1xuICAgICAgICBjb25zdCBkb2MgPSBwYXJzZXIucGFyc2VGcm9tU3RyaW5nKGh0bWxDb250ZW50LCAndGV4dC9odG1sJyk7XG4gICAgICAgIFxuICAgICAgICBjb25zdCBvZ1RpdGxlID0gZG9jLnF1ZXJ5U2VsZWN0b3IoJ21ldGFbcHJvcGVydHk9XCJvZzp0aXRsZVwiXScpPy5nZXRBdHRyaWJ1dGUoJ2NvbnRlbnQnKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICBkb2MucXVlcnlTZWxlY3RvcignbWV0YVtuYW1lPVwidHdpdHRlcjp0aXRsZVwiXScpPy5nZXRBdHRyaWJ1dGUoJ2NvbnRlbnQnKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICBkb2MucXVlcnlTZWxlY3RvcigndGl0bGUnKT8udGV4dENvbnRlbnQgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgJyc7XG4gICAgICAgIFxuICAgICAgICBjb25zdCBvZ0Rlc2NyaXB0aW9uID0gZG9jLnF1ZXJ5U2VsZWN0b3IoJ21ldGFbcHJvcGVydHk9XCJvZzpkZXNjcmlwdGlvblwiXScpPy5nZXRBdHRyaWJ1dGUoJ2NvbnRlbnQnKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MucXVlcnlTZWxlY3RvcignbWV0YVtuYW1lPVwidHdpdHRlcjpkZXNjcmlwdGlvblwiXScpPy5nZXRBdHRyaWJ1dGUoJ2NvbnRlbnQnKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2MucXVlcnlTZWxlY3RvcignbWV0YVtuYW1lPVwiZGVzY3JpcHRpb25cIl0nKT8uZ2V0QXR0cmlidXRlKCdjb250ZW50JykgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyc7XG4gICAgICAgIFxuICAgICAgICBsZXQgb2dJbWFnZSA9IGRvYy5xdWVyeVNlbGVjdG9yKCdtZXRhW3Byb3BlcnR5PVwib2c6aW1hZ2VcIl0nKT8uZ2V0QXR0cmlidXRlKCdjb250ZW50JykgfHxcbiAgICAgICAgICAgICAgICAgICAgIGRvYy5xdWVyeVNlbGVjdG9yKCdtZXRhW25hbWU9XCJ0d2l0dGVyOmltYWdlXCJdJyk/LmdldEF0dHJpYnV0ZSgnY29udGVudCcpIHx8XG4gICAgICAgICAgICAgICAgICAgICAnJztcbiAgICAgICAgXG4gICAgICAgIC8vIE1ha2UgcmVsYXRpdmUgaW1hZ2UgVVJMcyBhYnNvbHV0ZVxuICAgICAgICBpZiAob2dJbWFnZSAmJiAhb2dJbWFnZS5zdGFydHNXaXRoKCdodHRwJykpIHtcbiAgICAgICAgICBjb25zdCB1cmxPYmogPSBuZXcgVVJMKHVybCk7XG4gICAgICAgICAgaWYgKG9nSW1hZ2Uuc3RhcnRzV2l0aCgnLycpKSB7XG4gICAgICAgICAgICBvZ0ltYWdlID0gYCR7dXJsT2JqLnByb3RvY29sfS8vJHt1cmxPYmouaG9zdH0ke29nSW1hZ2V9YDtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgb2dJbWFnZSA9IGAke3VybE9iai5wcm90b2NvbH0vLyR7dXJsT2JqLmhvc3R9LyR7b2dJbWFnZX1gO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgY29uc3QgdXJsT2JqID0gbmV3IFVSTCh1cmwpO1xuICAgICAgICBjb25zdCBvZ1NpdGVOYW1lID0gZG9jLnF1ZXJ5U2VsZWN0b3IoJ21ldGFbcHJvcGVydHk9XCJvZzpzaXRlX25hbWVcIl0nKT8uZ2V0QXR0cmlidXRlKCdjb250ZW50JykgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsT2JqLmhvc3RuYW1lLnJlcGxhY2UoJ3d3dy4nLCAnJyk7XG4gICAgICAgIFxuICAgICAgICAvLyBPbmx5IHNldCBvZ0RhdGEgaWYgd2UgZ290IG1lYW5pbmdmdWwgY29udGVudFxuICAgICAgICBpZiAob2dUaXRsZSB8fCBvZ0Rlc2NyaXB0aW9uKSB7XG4gICAgICAgICAgc2V0T2dEYXRhKHtcbiAgICAgICAgICAgIHRpdGxlOiBvZ1RpdGxlIHx8IHVybE9iai5ob3N0bmFtZS5yZXBsYWNlKCd3d3cuJywgJycpLFxuICAgICAgICAgICAgZGVzY3JpcHRpb246IG9nRGVzY3JpcHRpb24sXG4gICAgICAgICAgICBpbWFnZTogb2dJbWFnZSxcbiAgICAgICAgICAgIHNpdGVOYW1lOiBvZ1NpdGVOYW1lLFxuICAgICAgICAgICAgdXJsOiB1cmxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIG1lYW5pbmdmdWwgT0cgZGF0YSBmb3VuZCcpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ0ZhaWxlZCB0byBmZXRjaCBPRyBkYXRhIGZvcicsIHVybCwgZXJyKTtcbiAgICAgICAgc2V0RXJyb3IodHJ1ZSk7XG4gICAgICAgIC8vIENyZWF0ZSBhIGJhc2ljIGZhbGxiYWNrXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgdXJsT2JqID0gbmV3IFVSTCh1cmwpO1xuICAgICAgICAgIHNldE9nRGF0YSh7XG4gICAgICAgICAgICB0aXRsZTogdXJsT2JqLmhvc3RuYW1lLnJlcGxhY2UoJ3d3dy4nLCAnJyksXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogdXJsLFxuICAgICAgICAgICAgc2l0ZU5hbWU6IHVybE9iai5ob3N0bmFtZS5yZXBsYWNlKCd3d3cuJywgJycpLFxuICAgICAgICAgICAgdXJsOiB1cmxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBjYXRjaCAocGFyc2VFcnIpIHtcbiAgICAgICAgICAvLyBJZiBVUkwgcGFyc2luZyBhbHNvIGZhaWxzLCB3ZSdsbCByZW5kZXIgdGhlIGZhbGxiYWNrIGxpbmtcbiAgICAgICAgICBzZXRPZ0RhdGEobnVsbCk7XG4gICAgICAgIH1cbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICAvLyBBZGQgYSBzbWFsbCBkZWxheSB0byBhdm9pZCBvdmVyd2hlbG1pbmcgd2l0aCByZXF1ZXN0c1xuICAgIGNvbnN0IHRpbWVvdXRJZCA9IHNldFRpbWVvdXQoZmV0Y2hPR0RhdGEsIDEwMCk7XG4gICAgcmV0dXJuICgpID0+IGNsZWFyVGltZW91dCh0aW1lb3V0SWQpO1xuICB9LCBbdXJsXSk7XG5cbiAgY29uc3QgaGFuZGxlQ2xpY2sgPSAoKSA9PiB7XG4gICAgd2luZG93Lm9wZW4odXJsLCAnX2JsYW5rJywgJ25vb3BlbmVyLG5vcmVmZXJyZXInKTtcbiAgfTtcblxuICBpZiAobG9hZGluZykge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT17YGJvcmRlciBib3JkZXItYm9yZGVyIHJvdW5kZWQtbGcgcC0zIGJnLW11dGVkLzIwIGFuaW1hdGUtcHVsc2UgbXktMiAke2NsYXNzTmFtZX1gfT5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBzcGFjZS14LTNcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMTIgaC0xMiBiZy1tdXRlZCByb3VuZGVkXCI+PC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4LTEgc3BhY2UteS0yXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImgtNCBiZy1tdXRlZCByb3VuZGVkIHctMy80XCI+PC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImgtMyBiZy1tdXRlZCByb3VuZGVkIHctMS8yXCI+PC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxuXG4gIGlmICghb2dEYXRhIHx8IGVycm9yKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPXtgbXktMiAke2NsYXNzTmFtZX1gfT5cbiAgICAgICAgPGFcbiAgICAgICAgICBocmVmPXt1cmx9XG4gICAgICAgICAgdGFyZ2V0PVwiX2JsYW5rXCJcbiAgICAgICAgICByZWw9XCJub29wZW5lciBub3JlZmVycmVyXCJcbiAgICAgICAgICBjbGFzc05hbWU9XCJpbmxpbmUtZmxleCBpdGVtcy1jZW50ZXIgcHgtMyBweS0yIHRleHQtc20gYmctbXV0ZWQvNDAgaG92ZXI6YmctbXV0ZWQvNjAgYm9yZGVyIGJvcmRlci1ib3JkZXIgcm91bmRlZC1sZyB0cmFuc2l0aW9uLWNvbG9ycyBncm91cFwiXG4gICAgICAgID5cbiAgICAgICAgICA8R2xvYmUgY2xhc3NOYW1lPVwidy00IGgtNCBtci0yIHRleHQtbXV0ZWQtZm9yZWdyb3VuZFwiIC8+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1ibHVlLTYwMCBkYXJrOnRleHQtYmx1ZS00MDAgZ3JvdXAtaG92ZXI6dW5kZXJsaW5lIHRydW5jYXRlIG1heC13LW1kXCI+XG4gICAgICAgICAgICB7dXJsfVxuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICA8RXh0ZXJuYWxMaW5rIGNsYXNzTmFtZT1cInctNCBoLTQgbWwtMiB0ZXh0LW11dGVkLWZvcmVncm91bmQgZmxleC1zaHJpbmstMFwiIC8+XG4gICAgICAgIDwvYT5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxkaXZcbiAgICAgIG9uQ2xpY2s9e2hhbmRsZUNsaWNrfVxuICAgICAgY2xhc3NOYW1lPXtgYm9yZGVyIGJvcmRlci1ib3JkZXIgcm91bmRlZC1sZyBvdmVyZmxvdy1oaWRkZW4gYmctYmFja2dyb3VuZCBob3ZlcjpiZy1tdXRlZC8yMCB0cmFuc2l0aW9uLWNvbG9ycyBjdXJzb3ItcG9pbnRlciBncm91cCBteS0yICR7Y2xhc3NOYW1lfWB9XG4gICAgPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4XCI+XG4gICAgICAgIHtvZ0RhdGEuaW1hZ2UgJiYgKFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0yMCBoLTIwIHNtOnctMjQgc206aC0yNCBmbGV4LXNocmluay0wXCI+XG4gICAgICAgICAgICA8aW1nXG4gICAgICAgICAgICAgIHNyYz17b2dEYXRhLmltYWdlfVxuICAgICAgICAgICAgICBhbHQ9XCJcIlxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgaC1mdWxsIG9iamVjdC1jb3ZlclwiXG4gICAgICAgICAgICAgIG9uRXJyb3I9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgKGUudGFyZ2V0IGFzIEhUTUxJbWFnZUVsZW1lbnQpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApfVxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgtMSBwLTMgbWluLXctMFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1zdGFydCBqdXN0aWZ5LWJldHdlZW5cIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWluLXctMCBmbGV4LTFcIj5cbiAgICAgICAgICAgICAgPGgzIGNsYXNzTmFtZT1cImZvbnQtbWVkaXVtIHRleHQtc20gdGV4dC1mb3JlZ3JvdW5kIGxpbmUtY2xhbXAtMiBncm91cC1ob3Zlcjp0ZXh0LWJsdWUtNjAwIGRhcms6Z3JvdXAtaG92ZXI6dGV4dC1ibHVlLTQwMCB0cmFuc2l0aW9uLWNvbG9yc1wiPlxuICAgICAgICAgICAgICAgIHtvZ0RhdGEudGl0bGV9XG4gICAgICAgICAgICAgIDwvaDM+XG4gICAgICAgICAgICAgIHtvZ0RhdGEuZGVzY3JpcHRpb24gJiYgKFxuICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1tdXRlZC1mb3JlZ3JvdW5kIG10LTEgbGluZS1jbGFtcC0yXCI+XG4gICAgICAgICAgICAgICAgICB7b2dEYXRhLmRlc2NyaXB0aW9ufVxuICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBtdC0yIHRleHQteHMgdGV4dC1tdXRlZC1mb3JlZ3JvdW5kXCI+XG4gICAgICAgICAgICAgICAgPEdsb2JlIGNsYXNzTmFtZT1cInctMyBoLTMgbXItMVwiIC8+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidHJ1bmNhdGVcIj57b2dEYXRhLnNpdGVOYW1lfTwvc3Bhbj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxFeHRlcm5hbExpbmsgY2xhc3NOYW1lPVwidy00IGgtNCB0ZXh0LW11dGVkLWZvcmVncm91bmQgbWwtMiBmbGV4LXNocmluay0wIGdyb3VwLWhvdmVyOnRleHQtYmx1ZS02MDAgZGFyazpncm91cC1ob3Zlcjp0ZXh0LWJsdWUtNDAwXCIgLz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IFVSTFByZXZpZXc7ICJdLCJuYW1lcyI6WyJSZWFjdCIsInVzZVN0YXRlIiwidXNlRWZmZWN0IiwiRXh0ZXJuYWxMaW5rIiwiR2xvYmUiLCJVUkxQcmV2aWV3IiwidXJsIiwiY2xhc3NOYW1lIiwib2dEYXRhIiwic2V0T2dEYXRhIiwibG9hZGluZyIsInNldExvYWRpbmciLCJlcnJvciIsInNldEVycm9yIiwiZmV0Y2hPR0RhdGEiLCJwcm94aWVzIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiaHRtbENvbnRlbnQiLCJmZXRjaFN1Y2Nlc3MiLCJwcm94eVVybCIsInJlc3BvbnNlIiwiZmV0Y2giLCJzaWduYWwiLCJBYm9ydFNpZ25hbCIsInRpbWVvdXQiLCJvayIsImluY2x1ZGVzIiwiZGF0YSIsImpzb24iLCJjb250ZW50cyIsInRleHQiLCJlcnIiLCJjb25zb2xlIiwibG9nIiwiRXJyb3IiLCJwYXJzZXIiLCJET01QYXJzZXIiLCJkb2MiLCJwYXJzZUZyb21TdHJpbmciLCJvZ1RpdGxlIiwicXVlcnlTZWxlY3RvciIsImdldEF0dHJpYnV0ZSIsInRleHRDb250ZW50Iiwib2dEZXNjcmlwdGlvbiIsIm9nSW1hZ2UiLCJzdGFydHNXaXRoIiwidXJsT2JqIiwiVVJMIiwicHJvdG9jb2wiLCJob3N0Iiwib2dTaXRlTmFtZSIsImhvc3RuYW1lIiwicmVwbGFjZSIsInRpdGxlIiwiZGVzY3JpcHRpb24iLCJpbWFnZSIsInNpdGVOYW1lIiwicGFyc2VFcnIiLCJ0aW1lb3V0SWQiLCJzZXRUaW1lb3V0IiwiY2xlYXJUaW1lb3V0IiwiaGFuZGxlQ2xpY2siLCJ3aW5kb3ciLCJvcGVuIiwiZGl2IiwiYSIsImhyZWYiLCJ0YXJnZXQiLCJyZWwiLCJzcGFuIiwib25DbGljayIsImltZyIsInNyYyIsImFsdCIsIm9uRXJyb3IiLCJlIiwic3R5bGUiLCJkaXNwbGF5IiwiaDMiLCJwIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./components/URLPreview.tsx\n");

/***/ }),

/***/ "(ssr)/./components/mode-toggle.tsx":
/*!************************************!*\
  !*** ./components/mode-toggle.tsx ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ModeToggle: () => (/* binding */ ModeToggle)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _radix_ui_react_icons__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @radix-ui/react-icons */ \"(ssr)/./node_modules/@radix-ui/react-icons/dist/react-icons.esm.js\");\n/* harmony import */ var next_themes__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next-themes */ \"(ssr)/./node_modules/next-themes/dist/index.mjs\");\n/* harmony import */ var _components_ui_button__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/components/ui/button */ \"(ssr)/./components/ui/button.tsx\");\n/* __next_internal_client_entry_do_not_use__ ModeToggle auto */ \n\n\n\n // Will be created by shadcn-ui add button\nfunction ModeToggle() {\n    const { theme, setTheme } = (0,next_themes__WEBPACK_IMPORTED_MODULE_2__.useTheme)();\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_3__.Button, {\n        variant: \"outline\",\n        size: \"icon\",\n        onClick: ()=>setTheme(theme === \"light\" ? \"dark\" : \"light\"),\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_radix_ui_react_icons__WEBPACK_IMPORTED_MODULE_4__.SunIcon, {\n                className: \"h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0\"\n            }, void 0, false, {\n                fileName: \"/var/www/flask_app/ast_chat/components/mode-toggle.tsx\",\n                lineNumber: 18,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_radix_ui_react_icons__WEBPACK_IMPORTED_MODULE_4__.MoonIcon, {\n                className: \"absolute h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100\"\n            }, void 0, false, {\n                fileName: \"/var/www/flask_app/ast_chat/components/mode-toggle.tsx\",\n                lineNumber: 19,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                className: \"sr-only\",\n                children: \"Toggle theme\"\n            }, void 0, false, {\n                fileName: \"/var/www/flask_app/ast_chat/components/mode-toggle.tsx\",\n                lineNumber: 20,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/var/www/flask_app/ast_chat/components/mode-toggle.tsx\",\n        lineNumber: 13,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9jb21wb25lbnRzL21vZGUtdG9nZ2xlLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFFOEI7QUFDMkI7QUFDbkI7QUFFUyxDQUFDLDBDQUEwQztBQUVuRixTQUFTSztJQUNkLE1BQU0sRUFBRUMsS0FBSyxFQUFFQyxRQUFRLEVBQUUsR0FBR0oscURBQVFBO0lBRXBDLHFCQUNFLDhEQUFDQyx5REFBTUE7UUFDTEksU0FBUTtRQUNSQyxNQUFLO1FBQ0xDLFNBQVMsSUFBTUgsU0FBU0QsVUFBVSxVQUFVLFNBQVM7OzBCQUVyRCw4REFBQ0osMERBQU9BO2dCQUFDUyxXQUFVOzs7Ozs7MEJBQ25CLDhEQUFDViwyREFBUUE7Z0JBQUNVLFdBQVU7Ozs7OzswQkFDcEIsOERBQUNDO2dCQUFLRCxXQUFVOzBCQUFVOzs7Ozs7Ozs7Ozs7QUFHaEMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hc3RfY2hhdC8uL2NvbXBvbmVudHMvbW9kZS10b2dnbGUudHN4P2UyODUiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2UgY2xpZW50XCJcblxuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCB7IE1vb25JY29uLCBTdW5JY29uIH0gZnJvbSBcIkByYWRpeC11aS9yZWFjdC1pY29uc1wiXG5pbXBvcnQgeyB1c2VUaGVtZSB9IGZyb20gXCJuZXh0LXRoZW1lc1wiXG5cbmltcG9ydCB7IEJ1dHRvbiB9IGZyb20gXCJAL2NvbXBvbmVudHMvdWkvYnV0dG9uXCIgLy8gV2lsbCBiZSBjcmVhdGVkIGJ5IHNoYWRjbi11aSBhZGQgYnV0dG9uXG5cbmV4cG9ydCBmdW5jdGlvbiBNb2RlVG9nZ2xlKCkge1xuICBjb25zdCB7IHRoZW1lLCBzZXRUaGVtZSB9ID0gdXNlVGhlbWUoKVxuXG4gIHJldHVybiAoXG4gICAgPEJ1dHRvblxuICAgICAgdmFyaWFudD1cIm91dGxpbmVcIlxuICAgICAgc2l6ZT1cImljb25cIlxuICAgICAgb25DbGljaz17KCkgPT4gc2V0VGhlbWUodGhlbWUgPT09IFwibGlnaHRcIiA/IFwiZGFya1wiIDogXCJsaWdodFwiKX1cbiAgICA+XG4gICAgICA8U3VuSWNvbiBjbGFzc05hbWU9XCJoLVsxLjJyZW1dIHctWzEuMnJlbV0gcm90YXRlLTAgc2NhbGUtMTAwIHRyYW5zaXRpb24tYWxsIGRhcms6LXJvdGF0ZS05MCBkYXJrOnNjYWxlLTBcIiAvPlxuICAgICAgPE1vb25JY29uIGNsYXNzTmFtZT1cImFic29sdXRlIGgtWzEuMnJlbV0gdy1bMS4ycmVtXSByb3RhdGUtOTAgc2NhbGUtMCB0cmFuc2l0aW9uLWFsbCBkYXJrOnJvdGF0ZS0wIGRhcms6c2NhbGUtMTAwXCIgLz5cbiAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInNyLW9ubHlcIj5Ub2dnbGUgdGhlbWU8L3NwYW4+XG4gICAgPC9CdXR0b24+XG4gIClcbn0gIl0sIm5hbWVzIjpbIlJlYWN0IiwiTW9vbkljb24iLCJTdW5JY29uIiwidXNlVGhlbWUiLCJCdXR0b24iLCJNb2RlVG9nZ2xlIiwidGhlbWUiLCJzZXRUaGVtZSIsInZhcmlhbnQiLCJzaXplIiwib25DbGljayIsImNsYXNzTmFtZSIsInNwYW4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./components/mode-toggle.tsx\n");

/***/ }),

/***/ "(ssr)/./components/theme-provider.tsx":
/*!***************************************!*\
  !*** ./components/theme-provider.tsx ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ThemeProvider: () => (/* binding */ ThemeProvider)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_themes__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next-themes */ \"(ssr)/./node_modules/next-themes/dist/index.mjs\");\n/* __next_internal_client_entry_do_not_use__ ThemeProvider auto */ \n\n\nfunction ThemeProvider({ children, ...props }) {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(next_themes__WEBPACK_IMPORTED_MODULE_2__.ThemeProvider, {\n        ...props,\n        children: children\n    }, void 0, false, {\n        fileName: \"/var/www/flask_app/ast_chat/components/theme-provider.tsx\",\n        lineNumber: 8,\n        columnNumber: 10\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9jb21wb25lbnRzL3RoZW1lLXByb3ZpZGVyLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBRThCO0FBQ21DO0FBRzFELFNBQVNDLGNBQWMsRUFBRUUsUUFBUSxFQUFFLEdBQUdDLE9BQTJCO0lBQ3RFLHFCQUFPLDhEQUFDRixzREFBa0JBO1FBQUUsR0FBR0UsS0FBSztrQkFBR0Q7Ozs7OztBQUN6QyIsInNvdXJjZXMiOlsid2VicGFjazovL2FzdF9jaGF0Ly4vY29tcG9uZW50cy90aGVtZS1wcm92aWRlci50c3g/OTI4OSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIlxuXG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IHsgVGhlbWVQcm92aWRlciBhcyBOZXh0VGhlbWVzUHJvdmlkZXIgfSBmcm9tIFwibmV4dC10aGVtZXNcIlxuaW1wb3J0IHsgdHlwZSBUaGVtZVByb3ZpZGVyUHJvcHMgfSBmcm9tIFwibmV4dC10aGVtZXMvZGlzdC90eXBlc1wiXG5cbmV4cG9ydCBmdW5jdGlvbiBUaGVtZVByb3ZpZGVyKHsgY2hpbGRyZW4sIC4uLnByb3BzIH06IFRoZW1lUHJvdmlkZXJQcm9wcykge1xuICByZXR1cm4gPE5leHRUaGVtZXNQcm92aWRlciB7Li4ucHJvcHN9PntjaGlsZHJlbn08L05leHRUaGVtZXNQcm92aWRlcj5cbn0gIl0sIm5hbWVzIjpbIlJlYWN0IiwiVGhlbWVQcm92aWRlciIsIk5leHRUaGVtZXNQcm92aWRlciIsImNoaWxkcmVuIiwicHJvcHMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./components/theme-provider.tsx\n");

/***/ }),

/***/ "(ssr)/./components/ui/button.tsx":
/*!**********************************!*\
  !*** ./components/ui/button.tsx ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Button: () => (/* binding */ Button),\n/* harmony export */   buttonVariants: () => (/* binding */ buttonVariants)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _radix_ui_react_slot__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @radix-ui/react-slot */ \"(ssr)/./node_modules/@radix-ui/react-slot/dist/index.mjs\");\n/* harmony import */ var class_variance_authority__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! class-variance-authority */ \"(ssr)/./node_modules/class-variance-authority/dist/index.mjs\");\n/* harmony import */ var _lib_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/utils */ \"(ssr)/./lib/utils.ts\");\n\n\n\n\n\nconst buttonVariants = (0,class_variance_authority__WEBPACK_IMPORTED_MODULE_2__.cva)(\"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\", {\n    variants: {\n        variant: {\n            default: \"bg-primary text-primary-foreground shadow hover:bg-primary/90\",\n            destructive: \"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90\",\n            outline: \"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground\",\n            secondary: \"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80\",\n            ghost: \"hover:bg-accent hover:text-accent-foreground\",\n            link: \"text-primary underline-offset-4 hover:underline\"\n        },\n        size: {\n            default: \"h-9 px-4 py-2\",\n            sm: \"h-8 rounded-md px-3 text-xs\",\n            lg: \"h-10 rounded-md px-8\",\n            icon: \"h-9 w-9\"\n        }\n    },\n    defaultVariants: {\n        variant: \"default\",\n        size: \"default\"\n    }\n});\nconst Button = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(({ className, variant, size, asChild = false, ...props }, ref)=>{\n    const Comp = asChild ? _radix_ui_react_slot__WEBPACK_IMPORTED_MODULE_4__.Slot : \"button\";\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Comp, {\n        className: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_3__.cn)(buttonVariants({\n            variant,\n            size,\n            className\n        })),\n        ref: ref,\n        ...props\n    }, void 0, false, {\n        fileName: \"/var/www/flask_app/ast_chat/components/ui/button.tsx\",\n        lineNumber: 47,\n        columnNumber: 7\n    }, undefined);\n});\nButton.displayName = \"Button\";\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9jb21wb25lbnRzL3VpL2J1dHRvbi50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUE4QjtBQUNhO0FBQ3NCO0FBRWpDO0FBRWhDLE1BQU1JLGlCQUFpQkYsNkRBQUdBLENBQ3hCLHlTQUNBO0lBQ0VHLFVBQVU7UUFDUkMsU0FBUztZQUNQQyxTQUNFO1lBQ0ZDLGFBQ0U7WUFDRkMsU0FDRTtZQUNGQyxXQUNFO1lBQ0ZDLE9BQU87WUFDUEMsTUFBTTtRQUNSO1FBQ0FDLE1BQU07WUFDSk4sU0FBUztZQUNUTyxJQUFJO1lBQ0pDLElBQUk7WUFDSkMsTUFBTTtRQUNSO0lBQ0Y7SUFDQUMsaUJBQWlCO1FBQ2ZYLFNBQVM7UUFDVE8sTUFBTTtJQUNSO0FBQ0Y7QUFTRixNQUFNSyx1QkFBU2xCLDZDQUFnQixDQUM3QixDQUFDLEVBQUVvQixTQUFTLEVBQUVkLE9BQU8sRUFBRU8sSUFBSSxFQUFFUSxVQUFVLEtBQUssRUFBRSxHQUFHQyxPQUFPLEVBQUVDO0lBQ3hELE1BQU1DLE9BQU9ILFVBQVVwQixzREFBSUEsR0FBRztJQUM5QixxQkFDRSw4REFBQ3VCO1FBQ0NKLFdBQVdqQiw4Q0FBRUEsQ0FBQ0MsZUFBZTtZQUFFRTtZQUFTTztZQUFNTztRQUFVO1FBQ3hERyxLQUFLQTtRQUNKLEdBQUdELEtBQUs7Ozs7OztBQUdmO0FBRUZKLE9BQU9PLFdBQVcsR0FBRztBQUVZIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYXN0X2NoYXQvLi9jb21wb25lbnRzL3VpL2J1dHRvbi50c3g/ODk0NCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IHsgU2xvdCB9IGZyb20gXCJAcmFkaXgtdWkvcmVhY3Qtc2xvdFwiXG5pbXBvcnQgeyBjdmEsIHR5cGUgVmFyaWFudFByb3BzIH0gZnJvbSBcImNsYXNzLXZhcmlhbmNlLWF1dGhvcml0eVwiXG5cbmltcG9ydCB7IGNuIH0gZnJvbSBcIkAvbGliL3V0aWxzXCJcblxuY29uc3QgYnV0dG9uVmFyaWFudHMgPSBjdmEoXG4gIFwiaW5saW5lLWZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIGdhcC0yIHdoaXRlc3BhY2Utbm93cmFwIHJvdW5kZWQtbWQgdGV4dC1zbSBmb250LW1lZGl1bSB0cmFuc2l0aW9uLWNvbG9ycyBmb2N1cy12aXNpYmxlOm91dGxpbmUtbm9uZSBmb2N1cy12aXNpYmxlOnJpbmctMSBmb2N1cy12aXNpYmxlOnJpbmctcmluZyBkaXNhYmxlZDpwb2ludGVyLWV2ZW50cy1ub25lIGRpc2FibGVkOm9wYWNpdHktNTAgWyZfc3ZnXTpwb2ludGVyLWV2ZW50cy1ub25lIFsmX3N2Z106c2l6ZS00IFsmX3N2Z106c2hyaW5rLTBcIixcbiAge1xuICAgIHZhcmlhbnRzOiB7XG4gICAgICB2YXJpYW50OiB7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgXCJiZy1wcmltYXJ5IHRleHQtcHJpbWFyeS1mb3JlZ3JvdW5kIHNoYWRvdyBob3ZlcjpiZy1wcmltYXJ5LzkwXCIsXG4gICAgICAgIGRlc3RydWN0aXZlOlxuICAgICAgICAgIFwiYmctZGVzdHJ1Y3RpdmUgdGV4dC1kZXN0cnVjdGl2ZS1mb3JlZ3JvdW5kIHNoYWRvdy1zbSBob3ZlcjpiZy1kZXN0cnVjdGl2ZS85MFwiLFxuICAgICAgICBvdXRsaW5lOlxuICAgICAgICAgIFwiYm9yZGVyIGJvcmRlci1pbnB1dCBiZy1iYWNrZ3JvdW5kIHNoYWRvdy1zbSBob3ZlcjpiZy1hY2NlbnQgaG92ZXI6dGV4dC1hY2NlbnQtZm9yZWdyb3VuZFwiLFxuICAgICAgICBzZWNvbmRhcnk6XG4gICAgICAgICAgXCJiZy1zZWNvbmRhcnkgdGV4dC1zZWNvbmRhcnktZm9yZWdyb3VuZCBzaGFkb3ctc20gaG92ZXI6Ymctc2Vjb25kYXJ5LzgwXCIsXG4gICAgICAgIGdob3N0OiBcImhvdmVyOmJnLWFjY2VudCBob3Zlcjp0ZXh0LWFjY2VudC1mb3JlZ3JvdW5kXCIsXG4gICAgICAgIGxpbms6IFwidGV4dC1wcmltYXJ5IHVuZGVybGluZS1vZmZzZXQtNCBob3Zlcjp1bmRlcmxpbmVcIixcbiAgICAgIH0sXG4gICAgICBzaXplOiB7XG4gICAgICAgIGRlZmF1bHQ6IFwiaC05IHB4LTQgcHktMlwiLFxuICAgICAgICBzbTogXCJoLTggcm91bmRlZC1tZCBweC0zIHRleHQteHNcIixcbiAgICAgICAgbGc6IFwiaC0xMCByb3VuZGVkLW1kIHB4LThcIixcbiAgICAgICAgaWNvbjogXCJoLTkgdy05XCIsXG4gICAgICB9LFxuICAgIH0sXG4gICAgZGVmYXVsdFZhcmlhbnRzOiB7XG4gICAgICB2YXJpYW50OiBcImRlZmF1bHRcIixcbiAgICAgIHNpemU6IFwiZGVmYXVsdFwiLFxuICAgIH0sXG4gIH1cbilcblxuZXhwb3J0IGludGVyZmFjZSBCdXR0b25Qcm9wc1xuICBleHRlbmRzIFJlYWN0LkJ1dHRvbkhUTUxBdHRyaWJ1dGVzPEhUTUxCdXR0b25FbGVtZW50PixcbiAgICBWYXJpYW50UHJvcHM8dHlwZW9mIGJ1dHRvblZhcmlhbnRzPiB7XG4gIGFzQ2hpbGQ/OiBib29sZWFuXG59XG5cbmNvbnN0IEJ1dHRvbiA9IFJlYWN0LmZvcndhcmRSZWY8SFRNTEJ1dHRvbkVsZW1lbnQsIEJ1dHRvblByb3BzPihcbiAgKHsgY2xhc3NOYW1lLCB2YXJpYW50LCBzaXplLCBhc0NoaWxkID0gZmFsc2UsIC4uLnByb3BzIH0sIHJlZikgPT4ge1xuICAgIGNvbnN0IENvbXAgPSBhc0NoaWxkID8gU2xvdCA6IFwiYnV0dG9uXCJcbiAgICByZXR1cm4gKFxuICAgICAgPENvbXBcbiAgICAgICAgY2xhc3NOYW1lPXtjbihidXR0b25WYXJpYW50cyh7IHZhcmlhbnQsIHNpemUsIGNsYXNzTmFtZSB9KSl9XG4gICAgICAgIHJlZj17cmVmfVxuICAgICAgICB7Li4ucHJvcHN9XG4gICAgICAvPlxuICAgIClcbiAgfVxuKVxuQnV0dG9uLmRpc3BsYXlOYW1lID0gXCJCdXR0b25cIlxuXG5leHBvcnQgeyBCdXR0b24sIGJ1dHRvblZhcmlhbnRzIH1cbiJdLCJuYW1lcyI6WyJSZWFjdCIsIlNsb3QiLCJjdmEiLCJjbiIsImJ1dHRvblZhcmlhbnRzIiwidmFyaWFudHMiLCJ2YXJpYW50IiwiZGVmYXVsdCIsImRlc3RydWN0aXZlIiwib3V0bGluZSIsInNlY29uZGFyeSIsImdob3N0IiwibGluayIsInNpemUiLCJzbSIsImxnIiwiaWNvbiIsImRlZmF1bHRWYXJpYW50cyIsIkJ1dHRvbiIsImZvcndhcmRSZWYiLCJjbGFzc05hbWUiLCJhc0NoaWxkIiwicHJvcHMiLCJyZWYiLCJDb21wIiwiZGlzcGxheU5hbWUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./components/ui/button.tsx\n");

/***/ }),

/***/ "(ssr)/./components/ui/input.tsx":
/*!*********************************!*\
  !*** ./components/ui/input.tsx ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Input: () => (/* binding */ Input)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _lib_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/utils */ \"(ssr)/./lib/utils.ts\");\n\n\n\nconst Input = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(({ className, type, ...props }, ref)=>{\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n        type: type,\n        className: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.cn)(\"flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\", className),\n        ref: ref,\n        ...props\n    }, void 0, false, {\n        fileName: \"/var/www/flask_app/ast_chat/components/ui/input.tsx\",\n        lineNumber: 8,\n        columnNumber: 7\n    }, undefined);\n});\nInput.displayName = \"Input\";\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9jb21wb25lbnRzL3VpL2lucHV0LnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQThCO0FBRUU7QUFFaEMsTUFBTUUsc0JBQVFGLDZDQUFnQixDQUM1QixDQUFDLEVBQUVJLFNBQVMsRUFBRUMsSUFBSSxFQUFFLEdBQUdDLE9BQU8sRUFBRUM7SUFDOUIscUJBQ0UsOERBQUNDO1FBQ0NILE1BQU1BO1FBQ05ELFdBQVdILDhDQUFFQSxDQUNYLDJXQUNBRztRQUVGRyxLQUFLQTtRQUNKLEdBQUdELEtBQUs7Ozs7OztBQUdmO0FBRUZKLE1BQU1PLFdBQVcsR0FBRztBQUVKIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYXN0X2NoYXQvLi9jb21wb25lbnRzL3VpL2lucHV0LnRzeD9kYTc5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIFJlYWN0IGZyb20gXCJyZWFjdFwiXG5cbmltcG9ydCB7IGNuIH0gZnJvbSBcIkAvbGliL3V0aWxzXCJcblxuY29uc3QgSW5wdXQgPSBSZWFjdC5mb3J3YXJkUmVmPEhUTUxJbnB1dEVsZW1lbnQsIFJlYWN0LkNvbXBvbmVudFByb3BzPFwiaW5wdXRcIj4+KFxuICAoeyBjbGFzc05hbWUsIHR5cGUsIC4uLnByb3BzIH0sIHJlZikgPT4ge1xuICAgIHJldHVybiAoXG4gICAgICA8aW5wdXRcbiAgICAgICAgdHlwZT17dHlwZX1cbiAgICAgICAgY2xhc3NOYW1lPXtjbihcbiAgICAgICAgICBcImZsZXggaC05IHctZnVsbCByb3VuZGVkLW1kIGJvcmRlciBib3JkZXItaW5wdXQgYmctdHJhbnNwYXJlbnQgcHgtMyBweS0xIHRleHQtYmFzZSBzaGFkb3ctc20gdHJhbnNpdGlvbi1jb2xvcnMgZmlsZTpib3JkZXItMCBmaWxlOmJnLXRyYW5zcGFyZW50IGZpbGU6dGV4dC1zbSBmaWxlOmZvbnQtbWVkaXVtIGZpbGU6dGV4dC1mb3JlZ3JvdW5kIHBsYWNlaG9sZGVyOnRleHQtbXV0ZWQtZm9yZWdyb3VuZCBmb2N1cy12aXNpYmxlOm91dGxpbmUtbm9uZSBmb2N1cy12aXNpYmxlOnJpbmctMSBmb2N1cy12aXNpYmxlOnJpbmctcmluZyBkaXNhYmxlZDpjdXJzb3Itbm90LWFsbG93ZWQgZGlzYWJsZWQ6b3BhY2l0eS01MCBtZDp0ZXh0LXNtXCIsXG4gICAgICAgICAgY2xhc3NOYW1lXG4gICAgICAgICl9XG4gICAgICAgIHJlZj17cmVmfVxuICAgICAgICB7Li4ucHJvcHN9XG4gICAgICAvPlxuICAgIClcbiAgfVxuKVxuSW5wdXQuZGlzcGxheU5hbWUgPSBcIklucHV0XCJcblxuZXhwb3J0IHsgSW5wdXQgfVxuIl0sIm5hbWVzIjpbIlJlYWN0IiwiY24iLCJJbnB1dCIsImZvcndhcmRSZWYiLCJjbGFzc05hbWUiLCJ0eXBlIiwicHJvcHMiLCJyZWYiLCJpbnB1dCIsImRpc3BsYXlOYW1lIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./components/ui/input.tsx\n");

/***/ }),

/***/ "(ssr)/./components/ui/scroll-area.tsx":
/*!***************************************!*\
  !*** ./components/ui/scroll-area.tsx ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ScrollArea: () => (/* binding */ ScrollArea),\n/* harmony export */   ScrollBar: () => (/* binding */ ScrollBar)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _radix_ui_react_scroll_area__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @radix-ui/react-scroll-area */ \"(ssr)/./node_modules/@radix-ui/react-scroll-area/dist/index.mjs\");\n/* harmony import */ var _lib_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/utils */ \"(ssr)/./lib/utils.ts\");\n/* __next_internal_client_entry_do_not_use__ ScrollArea,ScrollBar auto */ \n\n\n\nconst ScrollArea = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(({ className, children, ...props }, ref)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_radix_ui_react_scroll_area__WEBPACK_IMPORTED_MODULE_3__.Root, {\n        ref: ref,\n        className: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.cn)(\"relative overflow-hidden\", className),\n        ...props,\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_radix_ui_react_scroll_area__WEBPACK_IMPORTED_MODULE_3__.Viewport, {\n                className: \"h-full w-full rounded-[inherit]\",\n                children: children\n            }, void 0, false, {\n                fileName: \"/var/www/flask_app/ast_chat/components/ui/scroll-area.tsx\",\n                lineNumber: 17,\n                columnNumber: 5\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ScrollBar, {}, void 0, false, {\n                fileName: \"/var/www/flask_app/ast_chat/components/ui/scroll-area.tsx\",\n                lineNumber: 20,\n                columnNumber: 5\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_radix_ui_react_scroll_area__WEBPACK_IMPORTED_MODULE_3__.Corner, {}, void 0, false, {\n                fileName: \"/var/www/flask_app/ast_chat/components/ui/scroll-area.tsx\",\n                lineNumber: 21,\n                columnNumber: 5\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/var/www/flask_app/ast_chat/components/ui/scroll-area.tsx\",\n        lineNumber: 12,\n        columnNumber: 3\n    }, undefined));\nScrollArea.displayName = _radix_ui_react_scroll_area__WEBPACK_IMPORTED_MODULE_3__.Root.displayName;\nconst ScrollBar = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(({ className, orientation = \"vertical\", ...props }, ref)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_radix_ui_react_scroll_area__WEBPACK_IMPORTED_MODULE_3__.ScrollAreaScrollbar, {\n        ref: ref,\n        orientation: orientation,\n        className: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.cn)(\"flex touch-none select-none transition-colors\", orientation === \"vertical\" && \"h-full w-2.5 border-l border-l-transparent p-[1px]\", orientation === \"horizontal\" && \"h-2.5 flex-col border-t border-t-transparent p-[1px]\", className),\n        ...props,\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_radix_ui_react_scroll_area__WEBPACK_IMPORTED_MODULE_3__.ScrollAreaThumb, {\n            className: \"relative flex-1 rounded-full bg-border\"\n        }, void 0, false, {\n            fileName: \"/var/www/flask_app/ast_chat/components/ui/scroll-area.tsx\",\n            lineNumber: 43,\n            columnNumber: 5\n        }, undefined)\n    }, void 0, false, {\n        fileName: \"/var/www/flask_app/ast_chat/components/ui/scroll-area.tsx\",\n        lineNumber: 30,\n        columnNumber: 3\n    }, undefined));\nScrollBar.displayName = _radix_ui_react_scroll_area__WEBPACK_IMPORTED_MODULE_3__.ScrollAreaScrollbar.displayName;\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9jb21wb25lbnRzL3VpL3Njcm9sbC1hcmVhLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFFOEI7QUFDb0M7QUFFbEM7QUFFaEMsTUFBTUcsMkJBQWFILDZDQUFnQixDQUdqQyxDQUFDLEVBQUVLLFNBQVMsRUFBRUMsUUFBUSxFQUFFLEdBQUdDLE9BQU8sRUFBRUMsb0JBQ3BDLDhEQUFDUCw2REFBd0I7UUFDdkJPLEtBQUtBO1FBQ0xILFdBQVdILDhDQUFFQSxDQUFDLDRCQUE0Qkc7UUFDekMsR0FBR0UsS0FBSzs7MEJBRVQsOERBQUNOLGlFQUE0QjtnQkFBQ0ksV0FBVTswQkFDckNDOzs7Ozs7MEJBRUgsOERBQUNLOzs7OzswQkFDRCw4REFBQ1YsK0RBQTBCOzs7Ozs7Ozs7OztBQUcvQkUsV0FBV1UsV0FBVyxHQUFHWiw2REFBd0IsQ0FBQ1ksV0FBVztBQUU3RCxNQUFNRiwwQkFBWVgsNkNBQWdCLENBR2hDLENBQUMsRUFBRUssU0FBUyxFQUFFUyxjQUFjLFVBQVUsRUFBRSxHQUFHUCxPQUFPLEVBQUVDLG9CQUNwRCw4REFBQ1AsNEVBQXVDO1FBQ3RDTyxLQUFLQTtRQUNMTSxhQUFhQTtRQUNiVCxXQUFXSCw4Q0FBRUEsQ0FDWCxpREFDQVksZ0JBQWdCLGNBQ2Qsc0RBQ0ZBLGdCQUFnQixnQkFDZCx3REFDRlQ7UUFFRCxHQUFHRSxLQUFLO2tCQUVULDRFQUFDTix3RUFBbUM7WUFBQ0ksV0FBVTs7Ozs7Ozs7Ozs7QUFHbkRNLFVBQVVFLFdBQVcsR0FBR1osNEVBQXVDLENBQUNZLFdBQVc7QUFFM0MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hc3RfY2hhdC8uL2NvbXBvbmVudHMvdWkvc2Nyb2xsLWFyZWEudHN4Pzg5ZWYiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2UgY2xpZW50XCJcblxuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCAqIGFzIFNjcm9sbEFyZWFQcmltaXRpdmUgZnJvbSBcIkByYWRpeC11aS9yZWFjdC1zY3JvbGwtYXJlYVwiXG5cbmltcG9ydCB7IGNuIH0gZnJvbSBcIkAvbGliL3V0aWxzXCJcblxuY29uc3QgU2Nyb2xsQXJlYSA9IFJlYWN0LmZvcndhcmRSZWY8XG4gIFJlYWN0LkVsZW1lbnRSZWY8dHlwZW9mIFNjcm9sbEFyZWFQcmltaXRpdmUuUm9vdD4sXG4gIFJlYWN0LkNvbXBvbmVudFByb3BzV2l0aG91dFJlZjx0eXBlb2YgU2Nyb2xsQXJlYVByaW1pdGl2ZS5Sb290PlxuPigoeyBjbGFzc05hbWUsIGNoaWxkcmVuLCAuLi5wcm9wcyB9LCByZWYpID0+IChcbiAgPFNjcm9sbEFyZWFQcmltaXRpdmUuUm9vdFxuICAgIHJlZj17cmVmfVxuICAgIGNsYXNzTmFtZT17Y24oXCJyZWxhdGl2ZSBvdmVyZmxvdy1oaWRkZW5cIiwgY2xhc3NOYW1lKX1cbiAgICB7Li4ucHJvcHN9XG4gID5cbiAgICA8U2Nyb2xsQXJlYVByaW1pdGl2ZS5WaWV3cG9ydCBjbGFzc05hbWU9XCJoLWZ1bGwgdy1mdWxsIHJvdW5kZWQtW2luaGVyaXRdXCI+XG4gICAgICB7Y2hpbGRyZW59XG4gICAgPC9TY3JvbGxBcmVhUHJpbWl0aXZlLlZpZXdwb3J0PlxuICAgIDxTY3JvbGxCYXIgLz5cbiAgICA8U2Nyb2xsQXJlYVByaW1pdGl2ZS5Db3JuZXIgLz5cbiAgPC9TY3JvbGxBcmVhUHJpbWl0aXZlLlJvb3Q+XG4pKVxuU2Nyb2xsQXJlYS5kaXNwbGF5TmFtZSA9IFNjcm9sbEFyZWFQcmltaXRpdmUuUm9vdC5kaXNwbGF5TmFtZVxuXG5jb25zdCBTY3JvbGxCYXIgPSBSZWFjdC5mb3J3YXJkUmVmPFxuICBSZWFjdC5FbGVtZW50UmVmPHR5cGVvZiBTY3JvbGxBcmVhUHJpbWl0aXZlLlNjcm9sbEFyZWFTY3JvbGxiYXI+LFxuICBSZWFjdC5Db21wb25lbnRQcm9wc1dpdGhvdXRSZWY8dHlwZW9mIFNjcm9sbEFyZWFQcmltaXRpdmUuU2Nyb2xsQXJlYVNjcm9sbGJhcj5cbj4oKHsgY2xhc3NOYW1lLCBvcmllbnRhdGlvbiA9IFwidmVydGljYWxcIiwgLi4ucHJvcHMgfSwgcmVmKSA9PiAoXG4gIDxTY3JvbGxBcmVhUHJpbWl0aXZlLlNjcm9sbEFyZWFTY3JvbGxiYXJcbiAgICByZWY9e3JlZn1cbiAgICBvcmllbnRhdGlvbj17b3JpZW50YXRpb259XG4gICAgY2xhc3NOYW1lPXtjbihcbiAgICAgIFwiZmxleCB0b3VjaC1ub25lIHNlbGVjdC1ub25lIHRyYW5zaXRpb24tY29sb3JzXCIsXG4gICAgICBvcmllbnRhdGlvbiA9PT0gXCJ2ZXJ0aWNhbFwiICYmXG4gICAgICAgIFwiaC1mdWxsIHctMi41IGJvcmRlci1sIGJvcmRlci1sLXRyYW5zcGFyZW50IHAtWzFweF1cIixcbiAgICAgIG9yaWVudGF0aW9uID09PSBcImhvcml6b250YWxcIiAmJlxuICAgICAgICBcImgtMi41IGZsZXgtY29sIGJvcmRlci10IGJvcmRlci10LXRyYW5zcGFyZW50IHAtWzFweF1cIixcbiAgICAgIGNsYXNzTmFtZVxuICAgICl9XG4gICAgey4uLnByb3BzfVxuICA+XG4gICAgPFNjcm9sbEFyZWFQcmltaXRpdmUuU2Nyb2xsQXJlYVRodW1iIGNsYXNzTmFtZT1cInJlbGF0aXZlIGZsZXgtMSByb3VuZGVkLWZ1bGwgYmctYm9yZGVyXCIgLz5cbiAgPC9TY3JvbGxBcmVhUHJpbWl0aXZlLlNjcm9sbEFyZWFTY3JvbGxiYXI+XG4pKVxuU2Nyb2xsQmFyLmRpc3BsYXlOYW1lID0gU2Nyb2xsQXJlYVByaW1pdGl2ZS5TY3JvbGxBcmVhU2Nyb2xsYmFyLmRpc3BsYXlOYW1lXG5cbmV4cG9ydCB7IFNjcm9sbEFyZWEsIFNjcm9sbEJhciB9XG4iXSwibmFtZXMiOlsiUmVhY3QiLCJTY3JvbGxBcmVhUHJpbWl0aXZlIiwiY24iLCJTY3JvbGxBcmVhIiwiZm9yd2FyZFJlZiIsImNsYXNzTmFtZSIsImNoaWxkcmVuIiwicHJvcHMiLCJyZWYiLCJSb290IiwiVmlld3BvcnQiLCJTY3JvbGxCYXIiLCJDb3JuZXIiLCJkaXNwbGF5TmFtZSIsIm9yaWVudGF0aW9uIiwiU2Nyb2xsQXJlYVNjcm9sbGJhciIsIlNjcm9sbEFyZWFUaHVtYiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./components/ui/scroll-area.tsx\n");

/***/ }),

/***/ "(ssr)/./hooks/useContentPreviews.ts":
/*!*************************************!*\
  !*** ./hooks/useContentPreviews.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useContentPreviews: () => (/* binding */ useContentPreviews)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n\nconst useContentPreviews = ()=>{\n    const [previews, setPreviews] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(new Map());\n    // Create or update a preview\n    const upsertPreview = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((id, type, data, messageId, toolCall)=>{\n        setPreviews((prev)=>{\n            const newPreviews = new Map(prev);\n            const existing = newPreviews.get(id);\n            const now = Date.now();\n            const preview = {\n                id,\n                type,\n                data,\n                toolCall,\n                messageId,\n                createdAt: existing?.createdAt || now,\n                updatedAt: now\n            };\n            newPreviews.set(id, preview);\n            return newPreviews;\n        });\n    }, []);\n    // Update existing preview data\n    const updatePreview = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((id, newData)=>{\n        setPreviews((prev)=>{\n            const newPreviews = new Map(prev);\n            const existing = newPreviews.get(id);\n            if (existing) {\n                newPreviews.set(id, {\n                    ...existing,\n                    data: {\n                        ...existing.data,\n                        ...newData\n                    },\n                    updatedAt: Date.now()\n                });\n            }\n            return newPreviews;\n        });\n    }, []);\n    // Get preview by ID\n    const getPreview = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((id)=>{\n        return previews.get(id);\n    }, [\n        previews\n    ]);\n    // Get all previews for a message\n    const getPreviewsForMessage = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((messageId)=>{\n        return Array.from(previews.values()).filter((preview)=>preview.messageId === messageId);\n    }, [\n        previews\n    ]);\n    // Remove preview\n    const removePreview = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((id)=>{\n        setPreviews((prev)=>{\n            const newPreviews = new Map(prev);\n            newPreviews.delete(id);\n            return newPreviews;\n        });\n    }, []);\n    // Clear all previews\n    const clearPreviews = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(()=>{\n        setPreviews(new Map());\n    }, []);\n    return {\n        previews: Array.from(previews.values()),\n        upsertPreview,\n        updatePreview,\n        getPreview,\n        getPreviewsForMessage,\n        removePreview,\n        clearPreviews\n    };\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ob29rcy91c2VDb250ZW50UHJldmlld3MudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQThDO0FBZ0J2QyxNQUFNRSxxQkFBcUI7SUFDaEMsTUFBTSxDQUFDQyxVQUFVQyxZQUFZLEdBQUdKLCtDQUFRQSxDQUErQixJQUFJSztJQUUzRSw2QkFBNkI7SUFDN0IsTUFBTUMsZ0JBQWdCTCxrREFBV0EsQ0FBQyxDQUNoQ00sSUFDQUMsTUFDQUMsTUFDQUMsV0FDQUM7UUFFQVAsWUFBWVEsQ0FBQUE7WUFDVixNQUFNQyxjQUFjLElBQUlSLElBQUlPO1lBQzVCLE1BQU1FLFdBQVdELFlBQVlFLEdBQUcsQ0FBQ1I7WUFDakMsTUFBTVMsTUFBTUMsS0FBS0QsR0FBRztZQUVwQixNQUFNRSxVQUEyQjtnQkFDL0JYO2dCQUNBQztnQkFDQUM7Z0JBQ0FFO2dCQUNBRDtnQkFDQVMsV0FBV0wsVUFBVUssYUFBYUg7Z0JBQ2xDSSxXQUFXSjtZQUNiO1lBRUFILFlBQVlRLEdBQUcsQ0FBQ2QsSUFBSVc7WUFDcEIsT0FBT0w7UUFDVDtJQUNGLEdBQUcsRUFBRTtJQUVMLCtCQUErQjtJQUMvQixNQUFNUyxnQkFBZ0JyQixrREFBV0EsQ0FBQyxDQUFDTSxJQUFZZ0I7UUFDN0NuQixZQUFZUSxDQUFBQTtZQUNWLE1BQU1DLGNBQWMsSUFBSVIsSUFBSU87WUFDNUIsTUFBTUUsV0FBV0QsWUFBWUUsR0FBRyxDQUFDUjtZQUVqQyxJQUFJTyxVQUFVO2dCQUNaRCxZQUFZUSxHQUFHLENBQUNkLElBQUk7b0JBQ2xCLEdBQUdPLFFBQVE7b0JBQ1hMLE1BQU07d0JBQUUsR0FBR0ssU0FBU0wsSUFBSTt3QkFBRSxHQUFHYyxPQUFPO29CQUFDO29CQUNyQ0gsV0FBV0gsS0FBS0QsR0FBRztnQkFDckI7WUFDRjtZQUVBLE9BQU9IO1FBQ1Q7SUFDRixHQUFHLEVBQUU7SUFFTCxvQkFBb0I7SUFDcEIsTUFBTVcsYUFBYXZCLGtEQUFXQSxDQUFDLENBQUNNO1FBQzlCLE9BQU9KLFNBQVNZLEdBQUcsQ0FBQ1I7SUFDdEIsR0FBRztRQUFDSjtLQUFTO0lBRWIsaUNBQWlDO0lBQ2pDLE1BQU1zQix3QkFBd0J4QixrREFBV0EsQ0FBQyxDQUFDUztRQUN6QyxPQUFPZ0IsTUFBTUMsSUFBSSxDQUFDeEIsU0FBU3lCLE1BQU0sSUFBSUMsTUFBTSxDQUFDWCxDQUFBQSxVQUFXQSxRQUFRUixTQUFTLEtBQUtBO0lBQy9FLEdBQUc7UUFBQ1A7S0FBUztJQUViLGlCQUFpQjtJQUNqQixNQUFNMkIsZ0JBQWdCN0Isa0RBQVdBLENBQUMsQ0FBQ007UUFDakNILFlBQVlRLENBQUFBO1lBQ1YsTUFBTUMsY0FBYyxJQUFJUixJQUFJTztZQUM1QkMsWUFBWWtCLE1BQU0sQ0FBQ3hCO1lBQ25CLE9BQU9NO1FBQ1Q7SUFDRixHQUFHLEVBQUU7SUFFTCxxQkFBcUI7SUFDckIsTUFBTW1CLGdCQUFnQi9CLGtEQUFXQSxDQUFDO1FBQ2hDRyxZQUFZLElBQUlDO0lBQ2xCLEdBQUcsRUFBRTtJQUVMLE9BQU87UUFDTEYsVUFBVXVCLE1BQU1DLElBQUksQ0FBQ3hCLFNBQVN5QixNQUFNO1FBQ3BDdEI7UUFDQWdCO1FBQ0FFO1FBQ0FDO1FBQ0FLO1FBQ0FFO0lBQ0Y7QUFDRixFQUFFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYXN0X2NoYXQvLi9ob29rcy91c2VDb250ZW50UHJldmlld3MudHM/ODVmMCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB1c2VTdGF0ZSwgdXNlQ2FsbGJhY2sgfSBmcm9tICdyZWFjdCc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgUHJldmlld0luc3RhbmNlIHtcbiAgaWQ6IHN0cmluZztcbiAgdHlwZTogJ3dlYl9hcHAnIHwgJ2NvZGUnIHwgJ2RpZmYnO1xuICBkYXRhOiBhbnk7XG4gIHRvb2xDYWxsPzoge1xuICAgIG5hbWU6IHN0cmluZztcbiAgICBjYWxsX2lkOiBzdHJpbmc7XG4gICAgc3RhdHVzPzogc3RyaW5nO1xuICB9O1xuICBtZXNzYWdlSWQ6IHN0cmluZzsgLy8gV2hpY2ggbWVzc2FnZSB0aGlzIHByZXZpZXcgYmVsb25ncyB0b1xuICBjcmVhdGVkQXQ6IG51bWJlcjtcbiAgdXBkYXRlZEF0OiBudW1iZXI7XG59XG5cbmV4cG9ydCBjb25zdCB1c2VDb250ZW50UHJldmlld3MgPSAoKSA9PiB7XG4gIGNvbnN0IFtwcmV2aWV3cywgc2V0UHJldmlld3NdID0gdXNlU3RhdGU8TWFwPHN0cmluZywgUHJldmlld0luc3RhbmNlPj4obmV3IE1hcCgpKTtcblxuICAvLyBDcmVhdGUgb3IgdXBkYXRlIGEgcHJldmlld1xuICBjb25zdCB1cHNlcnRQcmV2aWV3ID0gdXNlQ2FsbGJhY2soKFxuICAgIGlkOiBzdHJpbmcsXG4gICAgdHlwZTogJ3dlYl9hcHAnIHwgJ2NvZGUnIHwgJ2RpZmYnLFxuICAgIGRhdGE6IGFueSxcbiAgICBtZXNzYWdlSWQ6IHN0cmluZyxcbiAgICB0b29sQ2FsbD86IHsgbmFtZTogc3RyaW5nOyBjYWxsX2lkOiBzdHJpbmc7IHN0YXR1cz86IHN0cmluZyB9XG4gICkgPT4ge1xuICAgIHNldFByZXZpZXdzKHByZXYgPT4ge1xuICAgICAgY29uc3QgbmV3UHJldmlld3MgPSBuZXcgTWFwKHByZXYpO1xuICAgICAgY29uc3QgZXhpc3RpbmcgPSBuZXdQcmV2aWV3cy5nZXQoaWQpO1xuICAgICAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcbiAgICAgIFxuICAgICAgY29uc3QgcHJldmlldzogUHJldmlld0luc3RhbmNlID0ge1xuICAgICAgICBpZCxcbiAgICAgICAgdHlwZSxcbiAgICAgICAgZGF0YSxcbiAgICAgICAgdG9vbENhbGwsXG4gICAgICAgIG1lc3NhZ2VJZCxcbiAgICAgICAgY3JlYXRlZEF0OiBleGlzdGluZz8uY3JlYXRlZEF0IHx8IG5vdyxcbiAgICAgICAgdXBkYXRlZEF0OiBub3csXG4gICAgICB9O1xuICAgICAgXG4gICAgICBuZXdQcmV2aWV3cy5zZXQoaWQsIHByZXZpZXcpO1xuICAgICAgcmV0dXJuIG5ld1ByZXZpZXdzO1xuICAgIH0pO1xuICB9LCBbXSk7XG5cbiAgLy8gVXBkYXRlIGV4aXN0aW5nIHByZXZpZXcgZGF0YVxuICBjb25zdCB1cGRhdGVQcmV2aWV3ID0gdXNlQ2FsbGJhY2soKGlkOiBzdHJpbmcsIG5ld0RhdGE6IGFueSkgPT4ge1xuICAgIHNldFByZXZpZXdzKHByZXYgPT4ge1xuICAgICAgY29uc3QgbmV3UHJldmlld3MgPSBuZXcgTWFwKHByZXYpO1xuICAgICAgY29uc3QgZXhpc3RpbmcgPSBuZXdQcmV2aWV3cy5nZXQoaWQpO1xuICAgICAgXG4gICAgICBpZiAoZXhpc3RpbmcpIHtcbiAgICAgICAgbmV3UHJldmlld3Muc2V0KGlkLCB7XG4gICAgICAgICAgLi4uZXhpc3RpbmcsXG4gICAgICAgICAgZGF0YTogeyAuLi5leGlzdGluZy5kYXRhLCAuLi5uZXdEYXRhIH0sXG4gICAgICAgICAgdXBkYXRlZEF0OiBEYXRlLm5vdygpLFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgcmV0dXJuIG5ld1ByZXZpZXdzO1xuICAgIH0pO1xuICB9LCBbXSk7XG5cbiAgLy8gR2V0IHByZXZpZXcgYnkgSURcbiAgY29uc3QgZ2V0UHJldmlldyA9IHVzZUNhbGxiYWNrKChpZDogc3RyaW5nKTogUHJldmlld0luc3RhbmNlIHwgdW5kZWZpbmVkID0+IHtcbiAgICByZXR1cm4gcHJldmlld3MuZ2V0KGlkKTtcbiAgfSwgW3ByZXZpZXdzXSk7XG5cbiAgLy8gR2V0IGFsbCBwcmV2aWV3cyBmb3IgYSBtZXNzYWdlXG4gIGNvbnN0IGdldFByZXZpZXdzRm9yTWVzc2FnZSA9IHVzZUNhbGxiYWNrKChtZXNzYWdlSWQ6IHN0cmluZyk6IFByZXZpZXdJbnN0YW5jZVtdID0+IHtcbiAgICByZXR1cm4gQXJyYXkuZnJvbShwcmV2aWV3cy52YWx1ZXMoKSkuZmlsdGVyKHByZXZpZXcgPT4gcHJldmlldy5tZXNzYWdlSWQgPT09IG1lc3NhZ2VJZCk7XG4gIH0sIFtwcmV2aWV3c10pO1xuXG4gIC8vIFJlbW92ZSBwcmV2aWV3XG4gIGNvbnN0IHJlbW92ZVByZXZpZXcgPSB1c2VDYWxsYmFjaygoaWQ6IHN0cmluZykgPT4ge1xuICAgIHNldFByZXZpZXdzKHByZXYgPT4ge1xuICAgICAgY29uc3QgbmV3UHJldmlld3MgPSBuZXcgTWFwKHByZXYpO1xuICAgICAgbmV3UHJldmlld3MuZGVsZXRlKGlkKTtcbiAgICAgIHJldHVybiBuZXdQcmV2aWV3cztcbiAgICB9KTtcbiAgfSwgW10pO1xuXG4gIC8vIENsZWFyIGFsbCBwcmV2aWV3c1xuICBjb25zdCBjbGVhclByZXZpZXdzID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIHNldFByZXZpZXdzKG5ldyBNYXAoKSk7XG4gIH0sIFtdKTtcblxuICByZXR1cm4ge1xuICAgIHByZXZpZXdzOiBBcnJheS5mcm9tKHByZXZpZXdzLnZhbHVlcygpKSxcbiAgICB1cHNlcnRQcmV2aWV3LFxuICAgIHVwZGF0ZVByZXZpZXcsXG4gICAgZ2V0UHJldmlldyxcbiAgICBnZXRQcmV2aWV3c0Zvck1lc3NhZ2UsXG4gICAgcmVtb3ZlUHJldmlldyxcbiAgICBjbGVhclByZXZpZXdzLFxuICB9O1xufTsgIl0sIm5hbWVzIjpbInVzZVN0YXRlIiwidXNlQ2FsbGJhY2siLCJ1c2VDb250ZW50UHJldmlld3MiLCJwcmV2aWV3cyIsInNldFByZXZpZXdzIiwiTWFwIiwidXBzZXJ0UHJldmlldyIsImlkIiwidHlwZSIsImRhdGEiLCJtZXNzYWdlSWQiLCJ0b29sQ2FsbCIsInByZXYiLCJuZXdQcmV2aWV3cyIsImV4aXN0aW5nIiwiZ2V0Iiwibm93IiwiRGF0ZSIsInByZXZpZXciLCJjcmVhdGVkQXQiLCJ1cGRhdGVkQXQiLCJzZXQiLCJ1cGRhdGVQcmV2aWV3IiwibmV3RGF0YSIsImdldFByZXZpZXciLCJnZXRQcmV2aWV3c0Zvck1lc3NhZ2UiLCJBcnJheSIsImZyb20iLCJ2YWx1ZXMiLCJmaWx0ZXIiLCJyZW1vdmVQcmV2aWV3IiwiZGVsZXRlIiwiY2xlYXJQcmV2aWV3cyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./hooks/useContentPreviews.ts\n");

/***/ }),

/***/ "(ssr)/./lib/utils.ts":
/*!**********************!*\
  !*** ./lib/utils.ts ***!
  \**********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   cn: () => (/* binding */ cn)\n/* harmony export */ });\n/* harmony import */ var clsx__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! clsx */ \"(ssr)/./node_modules/clsx/dist/clsx.mjs\");\n/* harmony import */ var tailwind_merge__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! tailwind-merge */ \"(ssr)/./node_modules/tailwind-merge/dist/bundle-mjs.mjs\");\n\n\nfunction cn(...inputs) {\n    return (0,tailwind_merge__WEBPACK_IMPORTED_MODULE_1__.twMerge)((0,clsx__WEBPACK_IMPORTED_MODULE_0__.clsx)(inputs));\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9saWIvdXRpbHMudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQTRDO0FBQ0o7QUFFakMsU0FBU0UsR0FBRyxHQUFHQyxNQUFvQjtJQUN4QyxPQUFPRix1REFBT0EsQ0FBQ0QsMENBQUlBLENBQUNHO0FBQ3RCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYXN0X2NoYXQvLi9saWIvdXRpbHMudHM/Zjc0NSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjbHN4LCB0eXBlIENsYXNzVmFsdWUgfSBmcm9tIFwiY2xzeFwiXG5pbXBvcnQgeyB0d01lcmdlIH0gZnJvbSBcInRhaWx3aW5kLW1lcmdlXCJcblxuZXhwb3J0IGZ1bmN0aW9uIGNuKC4uLmlucHV0czogQ2xhc3NWYWx1ZVtdKSB7XG4gIHJldHVybiB0d01lcmdlKGNsc3goaW5wdXRzKSlcbn1cbiJdLCJuYW1lcyI6WyJjbHN4IiwidHdNZXJnZSIsImNuIiwiaW5wdXRzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./lib/utils.ts\n");

/***/ }),

/***/ "(ssr)/./utils/previewExtractors.ts":
/*!************************************!*\
  !*** ./utils/previewExtractors.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   extractCodeDiffPreview: () => (/* binding */ extractCodeDiffPreview),\n/* harmony export */   extractCodePreview: () => (/* binding */ extractCodePreview),\n/* harmony export */   extractPreviewFromToolCall: () => (/* binding */ extractPreviewFromToolCall),\n/* harmony export */   extractWebAppPreview: () => (/* binding */ extractWebAppPreview),\n/* harmony export */   shouldExtractPreview: () => (/* binding */ shouldExtractPreview)\n/* harmony export */ });\n// Extract web app preview data from create_web_app or edit_web_app tool calls\nconst extractWebAppPreview = (toolCall)=>{\n    if (![\n        \"create_web_app\",\n        \"edit_web_app\"\n    ].includes(toolCall.name)) {\n        return null;\n    }\n    if (!toolCall.result || toolCall.is_error || toolCall.is_partial) {\n        return null;\n    }\n    try {\n        const result = JSON.parse(toolCall.result);\n        if (result.status === \"success\" && result.url) {\n            // Extract app name from arguments\n            let appName = \"Web Application\";\n            try {\n                const args = JSON.parse(toolCall.arguments);\n                appName = args.app_name || appName;\n            } catch (e) {\n                console.warn(\"Failed to parse tool arguments for app name:\", e);\n            }\n            // Use app name as the unique ID for persistence\n            const id = appName.replace(/[^a-zA-Z0-9_-]/g, \"_\").toLowerCase();\n            // Check if this is an edit with diff data\n            if (toolCall.name === \"edit_web_app\" && result.original_html && result.modified_html) {\n                return {\n                    id: `${id}_diff`,\n                    type: \"diff\",\n                    data: {\n                        original: result.original_html,\n                        modified: result.modified_html,\n                        filename: `${appName}.html`,\n                        language: \"html\",\n                        url: result.url,\n                        appName,\n                        status: result.status,\n                        message: result.message,\n                        backup_created: result.backup_created\n                    },\n                    shouldShow: true\n                };\n            }\n            // Regular web app preview (create or edit without diff data)\n            return {\n                id,\n                type: \"web_app\",\n                data: {\n                    url: result.url,\n                    appName,\n                    status: result.status,\n                    message: result.message,\n                    backup_created: result.backup_created\n                },\n                shouldShow: true\n            };\n        }\n    } catch (e) {\n        console.warn(\"Failed to parse web app tool result:\", e);\n    }\n    return null;\n};\n// Extract code diff preview from edit_mcp_server tool calls\nconst extractCodeDiffPreview = (toolCall)=>{\n    if (toolCall.name !== \"edit_mcp_server\") {\n        return null;\n    }\n    if (!toolCall.result || toolCall.is_error || toolCall.is_partial) {\n        return null;\n    }\n    try {\n        const result = JSON.parse(toolCall.result);\n        if (result.original_code && result.modified_code) {\n            const serverName = result.server_name || \"unknown_server\";\n            const id = `mcp_server_${serverName}`;\n            return {\n                id,\n                type: \"diff\",\n                data: {\n                    original: result.original_code,\n                    modified: result.modified_code,\n                    filename: `${serverName}.py`,\n                    language: \"python\",\n                    serverName,\n                    status: result.status,\n                    message: result.message,\n                    changesApplied: result.changes_applied,\n                    reloadResult: result.reload_result\n                },\n                shouldShow: true\n            };\n        }\n    } catch (e) {\n        console.warn(\"Failed to parse edit_mcp_server tool result:\", e);\n    }\n    return null;\n};\n// Extract code preview from other code-related tool calls\nconst extractCodePreview = (toolCall)=>{\n    // Add more code extraction logic here for other tools that generate code\n    // For now, this is a placeholder for future expansion\n    return null;\n};\n// Main function to extract any preview from a tool call\nconst extractPreviewFromToolCall = (toolCall)=>{\n    // Try each extractor in order\n    const extractors = [\n        extractWebAppPreview,\n        extractCodeDiffPreview,\n        extractCodePreview\n    ];\n    for (const extractor of extractors){\n        const preview = extractor(toolCall);\n        if (preview) {\n            return preview;\n        }\n    }\n    return null;\n};\n// Helper to determine if a tool call should trigger preview extraction\nconst shouldExtractPreview = (toolCall)=>{\n    const previewToolNames = [\n        \"create_web_app\",\n        \"edit_web_app\",\n        \"edit_mcp_server\"\n    ];\n    return previewToolNames.includes(toolCall.name) && !toolCall.is_error && !toolCall.is_partial && toolCall.status === \"Completed\";\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUM1QlAsVUFBVTtvQkFDVk87b0JBQ0ExQixRQUFRTCxPQUFPSyxNQUFNO29CQUNyQm9CLFNBQVN6QixPQUFPeUIsT0FBTztvQkFDdkJRLGdCQUFnQmpDLE9BQU9rQyxlQUFlO29CQUN0Q0MsY0FBY25DLE9BQU9vQyxhQUFhO2dCQUNwQztnQkFDQVQsWUFBWTtZQUNkO1FBQ0Y7SUFDRixFQUFFLE9BQU9oQixHQUFHO1FBQ1ZDLFFBQVFDLElBQUksQ0FBQyxnREFBZ0RGO0lBQy9EO0lBRUEsT0FBTztBQUNULEVBQUU7QUFFRiwwREFBMEQ7QUFDbkQsTUFBTTBCLHFCQUFxQixDQUFDeEM7SUFDakMseUVBQXlFO0lBQ3pFLHNEQUFzRDtJQUV0RCxPQUFPO0FBQ1QsRUFBRTtBQUVGLHdEQUF3RDtBQUNqRCxNQUFNeUMsNkJBQTZCLENBQUN6QztJQUN6Qyw4QkFBOEI7SUFDOUIsTUFBTTBDLGFBQWE7UUFDakIzQztRQUNBZ0M7UUFDQVM7S0FDRDtJQUVELEtBQUssTUFBTUcsYUFBYUQsV0FBWTtRQUNsQyxNQUFNRSxVQUFVRCxVQUFVM0M7UUFDMUIsSUFBSTRDLFNBQVM7WUFDWCxPQUFPQTtRQUNUO0lBQ0Y7SUFFQSxPQUFPO0FBQ1QsRUFBRTtBQUVGLHVFQUF1RTtBQUNoRSxNQUFNQyx1QkFBdUIsQ0FBQzdDO0lBQ25DLE1BQU04QyxtQkFBbUI7UUFDdkI7UUFDQTtRQUNBO0tBRUQ7SUFFRCxPQUFPQSxpQkFBaUI3QyxRQUFRLENBQUNELFNBQVNFLElBQUksS0FDdkMsQ0FBQ0YsU0FBU0ksUUFBUSxJQUNsQixDQUFDSixTQUFTSyxVQUFVLElBQ3BCTCxTQUFTUSxNQUFNLEtBQUs7QUFDN0IsRUFBRSIsInNvdXJjZXMiOlsid2VicGFjazovL2FzdF9jaGF0Ly4vdXRpbHMvcHJldmlld0V4dHJhY3RvcnMudHM/NjYzZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbnRlcmZhY2UgVG9vbENhbGxEYXRhIHtcbiAgY2FsbF9pZDogc3RyaW5nO1xuICBuYW1lOiBzdHJpbmc7XG4gIGFyZ3VtZW50czogc3RyaW5nO1xuICByZXN1bHQ/OiBzdHJpbmc7XG4gIHN0YXR1cz86IFwiUGVuZGluZy4uLlwiIHwgXCJDb21wbGV0ZWRcIiB8IFwiRXJyb3JcIiB8IFwiU3RyZWFtaW5nLi4uXCI7XG4gIGlzX2Vycm9yPzogYm9vbGVhbjtcbiAgaXNfcGFydGlhbD86IGJvb2xlYW47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRXh0cmFjdGVkUHJldmlldyB7XG4gIGlkOiBzdHJpbmc7XG4gIHR5cGU6ICd3ZWJfYXBwJyB8ICdjb2RlJyB8ICdkaWZmJztcbiAgZGF0YTogYW55O1xuICBzaG91bGRTaG93OiBib29sZWFuO1xufVxuXG4vLyBFeHRyYWN0IHdlYiBhcHAgcHJldmlldyBkYXRhIGZyb20gY3JlYXRlX3dlYl9hcHAgb3IgZWRpdF93ZWJfYXBwIHRvb2wgY2FsbHNcbmV4cG9ydCBjb25zdCBleHRyYWN0V2ViQXBwUHJldmlldyA9ICh0b29sQ2FsbDogVG9vbENhbGxEYXRhKTogRXh0cmFjdGVkUHJldmlldyB8IG51bGwgPT4ge1xuICBpZiAoIVsnY3JlYXRlX3dlYl9hcHAnLCAnZWRpdF93ZWJfYXBwJ10uaW5jbHVkZXModG9vbENhbGwubmFtZSkpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGlmICghdG9vbENhbGwucmVzdWx0IHx8IHRvb2xDYWxsLmlzX2Vycm9yIHx8IHRvb2xDYWxsLmlzX3BhcnRpYWwpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHRyeSB7XG4gICAgY29uc3QgcmVzdWx0ID0gSlNPTi5wYXJzZSh0b29sQ2FsbC5yZXN1bHQpO1xuICAgIFxuICAgIGlmIChyZXN1bHQuc3RhdHVzID09PSAnc3VjY2VzcycgJiYgcmVzdWx0LnVybCkge1xuICAgICAgLy8gRXh0cmFjdCBhcHAgbmFtZSBmcm9tIGFyZ3VtZW50c1xuICAgICAgbGV0IGFwcE5hbWUgPSAnV2ViIEFwcGxpY2F0aW9uJztcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGFyZ3MgPSBKU09OLnBhcnNlKHRvb2xDYWxsLmFyZ3VtZW50cyk7XG4gICAgICAgIGFwcE5hbWUgPSBhcmdzLmFwcF9uYW1lIHx8IGFwcE5hbWU7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNvbnNvbGUud2FybignRmFpbGVkIHRvIHBhcnNlIHRvb2wgYXJndW1lbnRzIGZvciBhcHAgbmFtZTonLCBlKTtcbiAgICAgIH1cblxuICAgICAgLy8gVXNlIGFwcCBuYW1lIGFzIHRoZSB1bmlxdWUgSUQgZm9yIHBlcnNpc3RlbmNlXG4gICAgICBjb25zdCBpZCA9IGFwcE5hbWUucmVwbGFjZSgvW15hLXpBLVowLTlfLV0vZywgJ18nKS50b0xvd2VyQ2FzZSgpO1xuXG4gICAgICAvLyBDaGVjayBpZiB0aGlzIGlzIGFuIGVkaXQgd2l0aCBkaWZmIGRhdGFcbiAgICAgIGlmICh0b29sQ2FsbC5uYW1lID09PSAnZWRpdF93ZWJfYXBwJyAmJiByZXN1bHQub3JpZ2luYWxfaHRtbCAmJiByZXN1bHQubW9kaWZpZWRfaHRtbCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGlkOiBgJHtpZH1fZGlmZmAsXG4gICAgICAgICAgdHlwZTogJ2RpZmYnLFxuICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgIG9yaWdpbmFsOiByZXN1bHQub3JpZ2luYWxfaHRtbCxcbiAgICAgICAgICAgIG1vZGlmaWVkOiByZXN1bHQubW9kaWZpZWRfaHRtbCxcbiAgICAgICAgICAgIGZpbGVuYW1lOiBgJHthcHBOYW1lfS5odG1sYCxcbiAgICAgICAgICAgIGxhbmd1YWdlOiAnaHRtbCcsXG4gICAgICAgICAgICB1cmw6IHJlc3VsdC51cmwsXG4gICAgICAgICAgICBhcHBOYW1lLFxuICAgICAgICAgICAgc3RhdHVzOiByZXN1bHQuc3RhdHVzLFxuICAgICAgICAgICAgbWVzc2FnZTogcmVzdWx0Lm1lc3NhZ2UsXG4gICAgICAgICAgICBiYWNrdXBfY3JlYXRlZDogcmVzdWx0LmJhY2t1cF9jcmVhdGVkLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgc2hvdWxkU2hvdzogdHJ1ZSxcbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgLy8gUmVndWxhciB3ZWIgYXBwIHByZXZpZXcgKGNyZWF0ZSBvciBlZGl0IHdpdGhvdXQgZGlmZiBkYXRhKVxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgaWQsXG4gICAgICAgIHR5cGU6ICd3ZWJfYXBwJyxcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIHVybDogcmVzdWx0LnVybCxcbiAgICAgICAgICBhcHBOYW1lLFxuICAgICAgICAgIHN0YXR1czogcmVzdWx0LnN0YXR1cyxcbiAgICAgICAgICBtZXNzYWdlOiByZXN1bHQubWVzc2FnZSxcbiAgICAgICAgICBiYWNrdXBfY3JlYXRlZDogcmVzdWx0LmJhY2t1cF9jcmVhdGVkLFxuICAgICAgICB9LFxuICAgICAgICBzaG91bGRTaG93OiB0cnVlLFxuICAgICAgfTtcbiAgICB9XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBjb25zb2xlLndhcm4oJ0ZhaWxlZCB0byBwYXJzZSB3ZWIgYXBwIHRvb2wgcmVzdWx0OicsIGUpO1xuICB9XG5cbiAgcmV0dXJuIG51bGw7XG59O1xuXG4vLyBFeHRyYWN0IGNvZGUgZGlmZiBwcmV2aWV3IGZyb20gZWRpdF9tY3Bfc2VydmVyIHRvb2wgY2FsbHNcbmV4cG9ydCBjb25zdCBleHRyYWN0Q29kZURpZmZQcmV2aWV3ID0gKHRvb2xDYWxsOiBUb29sQ2FsbERhdGEpOiBFeHRyYWN0ZWRQcmV2aWV3IHwgbnVsbCA9PiB7XG4gIGlmICh0b29sQ2FsbC5uYW1lICE9PSAnZWRpdF9tY3Bfc2VydmVyJykge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgaWYgKCF0b29sQ2FsbC5yZXN1bHQgfHwgdG9vbENhbGwuaXNfZXJyb3IgfHwgdG9vbENhbGwuaXNfcGFydGlhbCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgdHJ5IHtcbiAgICBjb25zdCByZXN1bHQgPSBKU09OLnBhcnNlKHRvb2xDYWxsLnJlc3VsdCk7XG4gICAgXG4gICAgaWYgKHJlc3VsdC5vcmlnaW5hbF9jb2RlICYmIHJlc3VsdC5tb2RpZmllZF9jb2RlKSB7XG4gICAgICBjb25zdCBzZXJ2ZXJOYW1lID0gcmVzdWx0LnNlcnZlcl9uYW1lIHx8ICd1bmtub3duX3NlcnZlcic7XG4gICAgICBjb25zdCBpZCA9IGBtY3Bfc2VydmVyXyR7c2VydmVyTmFtZX1gO1xuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBpZCxcbiAgICAgICAgdHlwZTogJ2RpZmYnLFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgb3JpZ2luYWw6IHJlc3VsdC5vcmlnaW5hbF9jb2RlLFxuICAgICAgICAgIG1vZGlmaWVkOiByZXN1bHQubW9kaWZpZWRfY29kZSxcbiAgICAgICAgICBmaWxlbmFtZTogYCR7c2VydmVyTmFtZX0ucHlgLFxuICAgICAgICAgIGxhbmd1YWdlOiAncHl0aG9uJyxcbiAgICAgICAgICBzZXJ2ZXJOYW1lLFxuICAgICAgICAgIHN0YXR1czogcmVzdWx0LnN0YXR1cyxcbiAgICAgICAgICBtZXNzYWdlOiByZXN1bHQubWVzc2FnZSxcbiAgICAgICAgICBjaGFuZ2VzQXBwbGllZDogcmVzdWx0LmNoYW5nZXNfYXBwbGllZCxcbiAgICAgICAgICByZWxvYWRSZXN1bHQ6IHJlc3VsdC5yZWxvYWRfcmVzdWx0LFxuICAgICAgICB9LFxuICAgICAgICBzaG91bGRTaG93OiB0cnVlLFxuICAgICAgfTtcbiAgICB9XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBjb25zb2xlLndhcm4oJ0ZhaWxlZCB0byBwYXJzZSBlZGl0X21jcF9zZXJ2ZXIgdG9vbCByZXN1bHQ6JywgZSk7XG4gIH1cblxuICByZXR1cm4gbnVsbDtcbn07XG5cbi8vIEV4dHJhY3QgY29kZSBwcmV2aWV3IGZyb20gb3RoZXIgY29kZS1yZWxhdGVkIHRvb2wgY2FsbHNcbmV4cG9ydCBjb25zdCBleHRyYWN0Q29kZVByZXZpZXcgPSAodG9vbENhbGw6IFRvb2xDYWxsRGF0YSk6IEV4dHJhY3RlZFByZXZpZXcgfCBudWxsID0+IHtcbiAgLy8gQWRkIG1vcmUgY29kZSBleHRyYWN0aW9uIGxvZ2ljIGhlcmUgZm9yIG90aGVyIHRvb2xzIHRoYXQgZ2VuZXJhdGUgY29kZVxuICAvLyBGb3Igbm93LCB0aGlzIGlzIGEgcGxhY2Vob2xkZXIgZm9yIGZ1dHVyZSBleHBhbnNpb25cbiAgXG4gIHJldHVybiBudWxsO1xufTtcblxuLy8gTWFpbiBmdW5jdGlvbiB0byBleHRyYWN0IGFueSBwcmV2aWV3IGZyb20gYSB0b29sIGNhbGxcbmV4cG9ydCBjb25zdCBleHRyYWN0UHJldmlld0Zyb21Ub29sQ2FsbCA9ICh0b29sQ2FsbDogVG9vbENhbGxEYXRhKTogRXh0cmFjdGVkUHJldmlldyB8IG51bGwgPT4ge1xuICAvLyBUcnkgZWFjaCBleHRyYWN0b3IgaW4gb3JkZXJcbiAgY29uc3QgZXh0cmFjdG9ycyA9IFtcbiAgICBleHRyYWN0V2ViQXBwUHJldmlldyxcbiAgICBleHRyYWN0Q29kZURpZmZQcmV2aWV3LFxuICAgIGV4dHJhY3RDb2RlUHJldmlldyxcbiAgXTtcblxuICBmb3IgKGNvbnN0IGV4dHJhY3RvciBvZiBleHRyYWN0b3JzKSB7XG4gICAgY29uc3QgcHJldmlldyA9IGV4dHJhY3Rvcih0b29sQ2FsbCk7XG4gICAgaWYgKHByZXZpZXcpIHtcbiAgICAgIHJldHVybiBwcmV2aWV3O1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBudWxsO1xufTtcblxuLy8gSGVscGVyIHRvIGRldGVybWluZSBpZiBhIHRvb2wgY2FsbCBzaG91bGQgdHJpZ2dlciBwcmV2aWV3IGV4dHJhY3Rpb25cbmV4cG9ydCBjb25zdCBzaG91bGRFeHRyYWN0UHJldmlldyA9ICh0b29sQ2FsbDogVG9vbENhbGxEYXRhKTogYm9vbGVhbiA9PiB7XG4gIGNvbnN0IHByZXZpZXdUb29sTmFtZXMgPSBbXG4gICAgJ2NyZWF0ZV93ZWJfYXBwJyxcbiAgICAnZWRpdF93ZWJfYXBwJywgXG4gICAgJ2VkaXRfbWNwX3NlcnZlcicsXG4gICAgLy8gQWRkIG1vcmUgdG9vbCBuYW1lcyBoZXJlIGFzIHdlIHN1cHBvcnQgdGhlbVxuICBdO1xuXG4gIHJldHVybiBwcmV2aWV3VG9vbE5hbWVzLmluY2x1ZGVzKHRvb2xDYWxsLm5hbWUpICYmIFxuICAgICAgICAgIXRvb2xDYWxsLmlzX2Vycm9yICYmIFxuICAgICAgICAgIXRvb2xDYWxsLmlzX3BhcnRpYWwgJiZcbiAgICAgICAgIHRvb2xDYWxsLnN0YXR1cyA9PT0gJ0NvbXBsZXRlZCc7XG59OyAiXSwibmFtZXMiOlsiZXh0cmFjdFdlYkFwcFByZXZpZXciLCJ0b29sQ2FsbCIsImluY2x1ZGVzIiwibmFtZSIsInJlc3VsdCIsImlzX2Vycm9yIiwiaXNfcGFydGlhbCIsIkpTT04iLCJwYXJzZSIsInN0YXR1cyIsInVybCIsImFwcE5hbWUiLCJhcmdzIiwiYXJndW1lbnRzIiwiYXBwX25hbWUiLCJlIiwiY29uc29sZSIsIndhcm4iLCJpZCIsInJlcGxhY2UiLCJ0b0xvd2VyQ2FzZSIsIm9yaWdpbmFsX2h0bWwiLCJtb2RpZmllZF9odG1sIiwidHlwZSIsImRhdGEiLCJvcmlnaW5hbCIsIm1vZGlmaWVkIiwiZmlsZW5hbWUiLCJsYW5ndWFnZSIsIm1lc3NhZ2UiLCJiYWNrdXBfY3JlYXRlZCIsInNob3VsZFNob3ciLCJleHRyYWN0Q29kZURpZmZQcmV2aWV3Iiwib3JpZ2luYWxfY29kZSIsIm1vZGlmaWVkX2NvZGUiLCJzZXJ2ZXJOYW1lIiwic2VydmVyX25hbWUiLCJjaGFuZ2VzQXBwbGllZCIsImNoYW5nZXNfYXBwbGllZCIsInJlbG9hZFJlc3VsdCIsInJlbG9hZF9yZXN1bHQiLCJleHRyYWN0Q29kZVByZXZpZXciLCJleHRyYWN0UHJldmlld0Zyb21Ub29sQ2FsbCIsImV4dHJhY3RvcnMiLCJleHRyYWN0b3IiLCJwcmV2aWV3Iiwic2hvdWxkRXh0cmFjdFByZXZpZXciLCJwcmV2aWV3VG9vbE5hbWVzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./utils/previewExtractors.ts\n");

/***/ }),

/***/ "(rsc)/./app/globals.css":
/*!*************************!*\
  !*** ./app/globals.css ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (\"af0c7fd5cf48\");\nif (false) {}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvZ2xvYmFscy5jc3MiLCJtYXBwaW5ncyI6Ijs7OztBQUFBLGlFQUFlLGNBQWM7QUFDN0IsSUFBSSxLQUFVLEVBQUUsRUFBdUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hc3RfY2hhdC8uL2FwcC9nbG9iYWxzLmNzcz9iM2IxIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IFwiYWYwYzdmZDVjZjQ4XCJcbmlmIChtb2R1bGUuaG90KSB7IG1vZHVsZS5ob3QuYWNjZXB0KCkgfVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./app/globals.css\n");

/***/ }),

/***/ "(rsc)/./app/layout.tsx":
/*!************************!*\
  !*** ./app/layout.tsx ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ RootLayout),\n/* harmony export */   metadata: () => (/* binding */ metadata)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/rsc/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_font_google_target_css_path_app_layout_tsx_import_Inter_arguments_subsets_latin_variableName_inter___WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next/font/google/target.css?{\"path\":\"app/layout.tsx\",\"import\":\"Inter\",\"arguments\":[{\"subsets\":[\"latin\"]}],\"variableName\":\"inter\"} */ \"(rsc)/./node_modules/next/font/google/target.css?{\\\"path\\\":\\\"app/layout.tsx\\\",\\\"import\\\":\\\"Inter\\\",\\\"arguments\\\":[{\\\"subsets\\\":[\\\"latin\\\"]}],\\\"variableName\\\":\\\"inter\\\"}\");\n/* harmony import */ var next_font_google_target_css_path_app_layout_tsx_import_Inter_arguments_subsets_latin_variableName_inter___WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(next_font_google_target_css_path_app_layout_tsx_import_Inter_arguments_subsets_latin_variableName_inter___WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _globals_css__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./globals.css */ \"(rsc)/./app/globals.css\");\n/* harmony import */ var _components_theme_provider__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/components/theme-provider */ \"(rsc)/./components/theme-provider.tsx\");\n\n\n\n\nconst metadata = {\n    title: \"AST. Chat\",\n    description: \"An intelligent chat assistant powered by AST.\"\n};\nfunction RootLayout({ children }) {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"html\", {\n        lang: \"en\",\n        suppressHydrationWarning: true,\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"body\", {\n            className: (next_font_google_target_css_path_app_layout_tsx_import_Inter_arguments_subsets_latin_variableName_inter___WEBPACK_IMPORTED_MODULE_3___default().className),\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_theme_provider__WEBPACK_IMPORTED_MODULE_2__.ThemeProvider, {\n                attribute: \"class\",\n                defaultTheme: \"system\",\n                enableSystem: true,\n                disableTransitionOnChange: true,\n                children: children\n            }, void 0, false, {\n                fileName: \"/var/www/flask_app/ast_chat/app/layout.tsx\",\n                lineNumber: 21,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/var/www/flask_app/ast_chat/app/layout.tsx\",\n            lineNumber: 20,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/var/www/flask_app/ast_chat/app/layout.tsx\",\n        lineNumber: 19,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvbGF5b3V0LnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFLTUE7QUFIaUI7QUFDcUM7QUFJckQsTUFBTUUsV0FBcUI7SUFDaENDLE9BQU87SUFDUEMsYUFBYTtBQUNmLEVBQUU7QUFFYSxTQUFTQyxXQUFXLEVBQ2pDQyxRQUFRLEVBR1I7SUFDQSxxQkFDRSw4REFBQ0M7UUFBS0MsTUFBSztRQUFLQyx3QkFBd0I7a0JBQ3RDLDRFQUFDQztZQUFLQyxXQUFXWCwySkFBZTtzQkFDOUIsNEVBQUNDLHFFQUFhQTtnQkFDWlcsV0FBVTtnQkFDVkMsY0FBYTtnQkFDYkMsWUFBWTtnQkFDWkMseUJBQXlCOzBCQUV4QlQ7Ozs7Ozs7Ozs7Ozs7Ozs7QUFLWCIsInNvdXJjZXMiOlsid2VicGFjazovL2FzdF9jaGF0Ly4vYXBwL2xheW91dC50c3g/OTk4OCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdHlwZSB7IE1ldGFkYXRhIH0gZnJvbSBcIm5leHRcIjtcbmltcG9ydCB7IEludGVyIH0gZnJvbSBcIm5leHQvZm9udC9nb29nbGVcIjtcbmltcG9ydCBcIi4vZ2xvYmFscy5jc3NcIjtcbmltcG9ydCB7IFRoZW1lUHJvdmlkZXIgfSBmcm9tIFwiQC9jb21wb25lbnRzL3RoZW1lLXByb3ZpZGVyXCI7XG5cbmNvbnN0IGludGVyID0gSW50ZXIoeyBzdWJzZXRzOiBbXCJsYXRpblwiXSB9KTtcblxuZXhwb3J0IGNvbnN0IG1ldGFkYXRhOiBNZXRhZGF0YSA9IHtcbiAgdGl0bGU6IFwiQVNULiBDaGF0XCIsXG4gIGRlc2NyaXB0aW9uOiBcIkFuIGludGVsbGlnZW50IGNoYXQgYXNzaXN0YW50IHBvd2VyZWQgYnkgQVNULlwiLFxufTtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gUm9vdExheW91dCh7XG4gIGNoaWxkcmVuLFxufTogUmVhZG9ubHk8e1xuICBjaGlsZHJlbjogUmVhY3QuUmVhY3ROb2RlO1xufT4pIHtcbiAgcmV0dXJuIChcbiAgICA8aHRtbCBsYW5nPVwiZW5cIiBzdXBwcmVzc0h5ZHJhdGlvbldhcm5pbmc+XG4gICAgICA8Ym9keSBjbGFzc05hbWU9e2ludGVyLmNsYXNzTmFtZX0+XG4gICAgICAgIDxUaGVtZVByb3ZpZGVyXG4gICAgICAgICAgYXR0cmlidXRlPVwiY2xhc3NcIlxuICAgICAgICAgIGRlZmF1bHRUaGVtZT1cInN5c3RlbVwiXG4gICAgICAgICAgZW5hYmxlU3lzdGVtXG4gICAgICAgICAgZGlzYWJsZVRyYW5zaXRpb25PbkNoYW5nZVxuICAgICAgICA+XG4gICAgICAgICAge2NoaWxkcmVufVxuICAgICAgICA8L1RoZW1lUHJvdmlkZXI+XG4gICAgICA8L2JvZHk+XG4gICAgPC9odG1sPlxuICApO1xufSAiXSwibmFtZXMiOlsiaW50ZXIiLCJUaGVtZVByb3ZpZGVyIiwibWV0YWRhdGEiLCJ0aXRsZSIsImRlc2NyaXB0aW9uIiwiUm9vdExheW91dCIsImNoaWxkcmVuIiwiaHRtbCIsImxhbmciLCJzdXBwcmVzc0h5ZHJhdGlvbldhcm5pbmciLCJib2R5IiwiY2xhc3NOYW1lIiwiYXR0cmlidXRlIiwiZGVmYXVsdFRoZW1lIiwiZW5hYmxlU3lzdGVtIiwiZGlzYWJsZVRyYW5zaXRpb25PbkNoYW5nZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./app/layout.tsx\n");

/***/ }),

/***/ "(rsc)/./app/page.tsx":
/*!**********************!*\
  !*** ./app/page.tsx ***!
  \**********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var next_dist_build_webpack_loaders_next_flight_loader_module_proxy__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/build/webpack/loaders/next-flight-loader/module-proxy */ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-loader/module-proxy.js");

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_webpack_loaders_next_flight_loader_module_proxy__WEBPACK_IMPORTED_MODULE_0__.createProxy)(String.raw`/var/www/flask_app/ast_chat/app/page.tsx#default`));


/***/ }),

/***/ "(rsc)/./components/theme-provider.tsx":
/*!***************************************!*\
  !*** ./components/theme-provider.tsx ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ThemeProvider: () => (/* binding */ e0)
/* harmony export */ });
/* harmony import */ var next_dist_build_webpack_loaders_next_flight_loader_module_proxy__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/build/webpack/loaders/next-flight-loader/module-proxy */ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-loader/module-proxy.js");


const e0 = (0,next_dist_build_webpack_loaders_next_flight_loader_module_proxy__WEBPACK_IMPORTED_MODULE_0__.createProxy)(String.raw`/var/www/flask_app/ast_chat/components/theme-provider.tsx#ThemeProvider`);


/***/ })

};
;

// load runtime
var __webpack_require__ = require("../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/lucide-react","vendor-chunks/@radix-ui","vendor-chunks/@monaco-editor","vendor-chunks/uuid","vendor-chunks/@swc","vendor-chunks/tailwind-merge","vendor-chunks/next-themes","vendor-chunks/marked","vendor-chunks/dompurify","vendor-chunks/clsx","vendor-chunks/class-variance-authority","vendor-chunks/@vis.gl","vendor-chunks/state-local","vendor-chunks/fast-deep-equal"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fpage&page=%2Fpage&appPaths=%2Fpage&pagePath=private-next-app-dir%2Fpage.tsx&appDir=%2Fvar%2Fwww%2Fflask_app%2Fast_chat%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fvar%2Fwww%2Fflask_app%2Fast_chat&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();