/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/wizard/page";
exports.ids = ["app/wizard/page"];
exports.modules = {

/***/ "../../client/components/action-async-storage.external":
/*!*******************************************************************************!*\
  !*** external "next/dist/client/components/action-async-storage.external.js" ***!
  \*******************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/client/components/action-async-storage.external.js");

/***/ }),

/***/ "../../client/components/request-async-storage.external":
/*!********************************************************************************!*\
  !*** external "next/dist/client/components/request-async-storage.external.js" ***!
  \********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/client/components/request-async-storage.external.js");

/***/ }),

/***/ "../../client/components/static-generation-async-storage.external":
/*!******************************************************************************************!*\
  !*** external "next/dist/client/components/static-generation-async-storage.external.js" ***!
  \******************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/client/components/static-generation-async-storage.external.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("buffer");

/***/ }),

/***/ "child_process":
/*!********************************!*\
  !*** external "child_process" ***!
  \********************************/
/***/ ((module) => {

"use strict";
module.exports = require("child_process");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("crypto");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("events");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

"use strict";
module.exports = require("fs");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = require("https");

/***/ }),

/***/ "net":
/*!**********************!*\
  !*** external "net" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("net");

/***/ }),

/***/ "os":
/*!*********************!*\
  !*** external "os" ***!
  \*********************/
/***/ ((module) => {

"use strict";
module.exports = require("os");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("stream");

/***/ }),

/***/ "tls":
/*!**********************!*\
  !*** external "tls" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("tls");

/***/ }),

/***/ "tty":
/*!**********************!*\
  !*** external "tty" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("tty");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("url");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("util");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("zlib");

/***/ }),

/***/ "?32c4":
/*!****************************!*\
  !*** bufferutil (ignored) ***!
  \****************************/
/***/ (() => {

/* (ignored) */

/***/ }),

/***/ "?66e9":
/*!********************************!*\
  !*** utf-8-validate (ignored) ***!
  \********************************/
/***/ (() => {

/* (ignored) */

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fwizard%2Fpage&page=%2Fwizard%2Fpage&appPaths=%2Fwizard%2Fpage&pagePath=private-next-app-dir%2Fwizard%2Fpage.tsx&appDir=%2Fvar%2Fwww%2Fflask_app%2Fast_chat%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fvar%2Fwww%2Fflask_app%2Fast_chat&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fwizard%2Fpage&page=%2Fwizard%2Fpage&appPaths=%2Fwizard%2Fpage&pagePath=private-next-app-dir%2Fwizard%2Fpage.tsx&appDir=%2Fvar%2Fwww%2Fflask_app%2Fast_chat%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fvar%2Fwww%2Fflask_app%2Fast_chat&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GlobalError: () => (/* reexport default from dynamic */ next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_2___default.a),\n/* harmony export */   __next_app__: () => (/* binding */ __next_app__),\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   pages: () => (/* binding */ pages),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   tree: () => (/* binding */ tree)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_page_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-page/module.compiled */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/module.compiled.js?d969\");\n/* harmony import */ var next_dist_server_future_route_modules_app_page_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_page_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/client/components/error-boundary */ \"(rsc)/./node_modules/next/dist/client/components/error-boundary.js\");\n/* harmony import */ var next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next/dist/server/app-render/entry-base */ \"(rsc)/./node_modules/next/dist/server/app-render/entry-base.js\");\n/* harmony import */ var next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};\n/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3__) if([\"default\",\"tree\",\"pages\",\"GlobalError\",\"originalPathname\",\"__next_app__\",\"routeModule\"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_3__[__WEBPACK_IMPORT_KEY__]\n/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);\n\"TURBOPACK { transition: next-ssr }\";\n\n\n// We inject the tree and pages here so that we can use them in the route\n// module.\nconst tree = {\n        children: [\n        '',\n        {\n        children: [\n        'wizard',\n        {\n        children: ['__PAGE__', {}, {\n          page: [() => Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./app/wizard/page.tsx */ \"(rsc)/./app/wizard/page.tsx\")), \"/var/www/flask_app/ast_chat/app/wizard/page.tsx\"],\n          \n        }]\n      },\n        {\n        \n        \n      }\n      ]\n      },\n        {\n        'layout': [() => Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./app/layout.tsx */ \"(rsc)/./app/layout.tsx\")), \"/var/www/flask_app/ast_chat/app/layout.tsx\"],\n'not-found': [() => Promise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! next/dist/client/components/not-found-error */ \"(rsc)/./node_modules/next/dist/client/components/not-found-error.js\", 23)), \"next/dist/client/components/not-found-error\"],\n        \n      }\n      ]\n      }.children;\nconst pages = [\"/var/www/flask_app/ast_chat/app/wizard/page.tsx\"];\n\n\nconst __next_app_require__ = __webpack_require__\nconst __next_app_load_chunk__ = () => Promise.resolve()\nconst originalPathname = \"/wizard/page\";\nconst __next_app__ = {\n    require: __next_app_require__,\n    loadChunk: __next_app_load_chunk__\n};\n\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_app_page_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppPageRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_PAGE,\n        page: \"/wizard/page\",\n        pathname: \"/wizard\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\",\n        appPaths: []\n    },\n    userland: {\n        loaderTree: tree\n    }\n});\n\n//# sourceMappingURL=app-page.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZ3aXphcmQlMkZwYWdlJnBhZ2U9JTJGd2l6YXJkJTJGcGFnZSZhcHBQYXRocz0lMkZ3aXphcmQlMkZwYWdlJnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGd2l6YXJkJTJGcGFnZS50c3gmYXBwRGlyPSUyRnZhciUyRnd3dyUyRmZsYXNrX2FwcCUyRmFzdF9jaGF0JTJGYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj0lMkZ2YXIlMkZ3d3clMkZmbGFza19hcHAlMkZhc3RfY2hhdCZpc0Rldj10cnVlJnRzY29uZmlnUGF0aD10c2NvbmZpZy5qc29uJmJhc2VQYXRoPSZhc3NldFByZWZpeD0mbmV4dENvbmZpZ091dHB1dD0mcHJlZmVycmVkUmVnaW9uPSZtaWRkbGV3YXJlQ29uZmlnPWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLGFBQWEsc0JBQXNCO0FBQ2lFO0FBQ3JDO0FBQy9EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQztBQUNqQyx1QkFBdUIsc0pBQW9GO0FBQzNHO0FBQ0EsU0FBUztBQUNULE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EseUJBQXlCLDRJQUErRTtBQUN4RyxvQkFBb0IsME5BQWdGO0FBQ3BHO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUN1QjtBQUM2RDtBQUNwRiw2QkFBNkIsbUJBQW1CO0FBQ2hEO0FBQ087QUFDQTtBQUNQO0FBQ0E7QUFDQTtBQUN1RDtBQUN2RDtBQUNPLHdCQUF3Qiw4R0FBa0I7QUFDakQ7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdmliZWNhcmRpbmcvP2M4MzMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJUVVJCT1BBQ0sgeyB0cmFuc2l0aW9uOiBuZXh0LXNzciB9XCI7XG5pbXBvcnQgeyBBcHBQYWdlUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9hcHAtcGFnZS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG4vLyBXZSBpbmplY3QgdGhlIHRyZWUgYW5kIHBhZ2VzIGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCB0cmVlID0ge1xuICAgICAgICBjaGlsZHJlbjogW1xuICAgICAgICAnJyxcbiAgICAgICAge1xuICAgICAgICBjaGlsZHJlbjogW1xuICAgICAgICAnd2l6YXJkJyxcbiAgICAgICAge1xuICAgICAgICBjaGlsZHJlbjogWydfX1BBR0VfXycsIHt9LCB7XG4gICAgICAgICAgcGFnZTogWygpID0+IGltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwiL3Zhci93d3cvZmxhc2tfYXBwL2FzdF9jaGF0L2FwcC93aXphcmQvcGFnZS50c3hcIiksIFwiL3Zhci93d3cvZmxhc2tfYXBwL2FzdF9jaGF0L2FwcC93aXphcmQvcGFnZS50c3hcIl0sXG4gICAgICAgICAgXG4gICAgICAgIH1dXG4gICAgICB9LFxuICAgICAgICB7XG4gICAgICAgIFxuICAgICAgICBcbiAgICAgIH1cbiAgICAgIF1cbiAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgJ2xheW91dCc6IFsoKSA9PiBpbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIi92YXIvd3d3L2ZsYXNrX2FwcC9hc3RfY2hhdC9hcHAvbGF5b3V0LnRzeFwiKSwgXCIvdmFyL3d3dy9mbGFza19hcHAvYXN0X2NoYXQvYXBwL2xheW91dC50c3hcIl0sXG4nbm90LWZvdW5kJzogWygpID0+IGltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwibmV4dC9kaXN0L2NsaWVudC9jb21wb25lbnRzL25vdC1mb3VuZC1lcnJvclwiKSwgXCJuZXh0L2Rpc3QvY2xpZW50L2NvbXBvbmVudHMvbm90LWZvdW5kLWVycm9yXCJdLFxuICAgICAgICBcbiAgICAgIH1cbiAgICAgIF1cbiAgICAgIH0uY2hpbGRyZW47XG5jb25zdCBwYWdlcyA9IFtcIi92YXIvd3d3L2ZsYXNrX2FwcC9hc3RfY2hhdC9hcHAvd2l6YXJkL3BhZ2UudHN4XCJdO1xuZXhwb3J0IHsgdHJlZSwgcGFnZXMgfTtcbmV4cG9ydCB7IGRlZmF1bHQgYXMgR2xvYmFsRXJyb3IgfSBmcm9tIFwibmV4dC9kaXN0L2NsaWVudC9jb21wb25lbnRzL2Vycm9yLWJvdW5kYXJ5XCI7XG5jb25zdCBfX25leHRfYXBwX3JlcXVpcmVfXyA9IF9fd2VicGFja19yZXF1aXJlX19cbmNvbnN0IF9fbmV4dF9hcHBfbG9hZF9jaHVua19fID0gKCkgPT4gUHJvbWlzZS5yZXNvbHZlKClcbmV4cG9ydCBjb25zdCBvcmlnaW5hbFBhdGhuYW1lID0gXCIvd2l6YXJkL3BhZ2VcIjtcbmV4cG9ydCBjb25zdCBfX25leHRfYXBwX18gPSB7XG4gICAgcmVxdWlyZTogX19uZXh0X2FwcF9yZXF1aXJlX18sXG4gICAgbG9hZENodW5rOiBfX25leHRfYXBwX2xvYWRfY2h1bmtfX1xufTtcbmV4cG9ydCAqIGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2FwcC1yZW5kZXIvZW50cnktYmFzZVwiO1xuLy8gQ3JlYXRlIGFuZCBleHBvcnQgdGhlIHJvdXRlIG1vZHVsZSB0aGF0IHdpbGwgYmUgY29uc3VtZWQuXG5leHBvcnQgY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUGFnZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUEFHRSxcbiAgICAgICAgcGFnZTogXCIvd2l6YXJkL3BhZ2VcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL3dpemFyZFwiLFxuICAgICAgICAvLyBUaGUgZm9sbG93aW5nIGFyZW4ndCB1c2VkIGluIHByb2R1Y3Rpb24uXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcIlwiLFxuICAgICAgICBhcHBQYXRoczogW11cbiAgICB9LFxuICAgIHVzZXJsYW5kOiB7XG4gICAgICAgIGxvYWRlclRyZWU6IHRyZWVcbiAgICB9XG59KTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXBhZ2UuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fwizard%2Fpage&page=%2Fwizard%2Fpage&appPaths=%2Fwizard%2Fpage&pagePath=private-next-app-dir%2Fwizard%2Fpage.tsx&appDir=%2Fvar%2Fwww%2Fflask_app%2Fast_chat%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fvar%2Fwww%2Fflask_app%2Fast_chat&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2Fvar%2Fwww%2Fflask_app%2Fast_chat%2Fapp%2Fglobals.css%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fvar%2Fwww%2Fflask_app%2Fast_chat%2Fcomponents%2FMobileDebugPanel.tsx%22%2C%22ids%22%3A%5B%22default%22%5D%7D&modules=%7B%22request%22%3A%22%2Fvar%2Fwww%2Fflask_app%2Fast_chat%2Fcomponents%2Ftheme-provider.tsx%22%2C%22ids%22%3A%5B%22ThemeProvider%22%5D%7D&modules=%7B%22request%22%3A%22%2Fvar%2Fwww%2Fflask_app%2Fast_chat%2Fcomponents%2Fui%2Fsonner.tsx%22%2C%22ids%22%3A%5B%22Toaster%22%5D%7D&modules=%7B%22request%22%3A%22%2Fvar%2Fwww%2Fflask_app%2Fast_chat%2Fnode_modules%2Fnext%2Ffont%2Fgoogle%2Ftarget.css%3F%7B%5C%22path%5C%22%3A%5C%22app%2Flayout.tsx%5C%22%2C%5C%22import%5C%22%3A%5C%22Inter%5C%22%2C%5C%22arguments%5C%22%3A%5B%7B%5C%22subsets%5C%22%3A%5B%5C%22latin%5C%22%5D%7D%5D%2C%5C%22variableName%5C%22%3A%5C%22inter%5C%22%7D%22%2C%22ids%22%3A%5B%5D%7D&server=true!":
/*!****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2Fvar%2Fwww%2Fflask_app%2Fast_chat%2Fapp%2Fglobals.css%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fvar%2Fwww%2Fflask_app%2Fast_chat%2Fcomponents%2FMobileDebugPanel.tsx%22%2C%22ids%22%3A%5B%22default%22%5D%7D&modules=%7B%22request%22%3A%22%2Fvar%2Fwww%2Fflask_app%2Fast_chat%2Fcomponents%2Ftheme-provider.tsx%22%2C%22ids%22%3A%5B%22ThemeProvider%22%5D%7D&modules=%7B%22request%22%3A%22%2Fvar%2Fwww%2Fflask_app%2Fast_chat%2Fcomponents%2Fui%2Fsonner.tsx%22%2C%22ids%22%3A%5B%22Toaster%22%5D%7D&modules=%7B%22request%22%3A%22%2Fvar%2Fwww%2Fflask_app%2Fast_chat%2Fnode_modules%2Fnext%2Ffont%2Fgoogle%2Ftarget.css%3F%7B%5C%22path%5C%22%3A%5C%22app%2Flayout.tsx%5C%22%2C%5C%22import%5C%22%3A%5C%22Inter%5C%22%2C%5C%22arguments%5C%22%3A%5B%7B%5C%22subsets%5C%22%3A%5B%5C%22latin%5C%22%5D%7D%5D%2C%5C%22variableName%5C%22%3A%5C%22inter%5C%22%7D%22%2C%22ids%22%3A%5B%5D%7D&server=true! ***!
  \****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

eval("Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./components/MobileDebugPanel.tsx */ \"(ssr)/./components/MobileDebugPanel.tsx\"));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./components/theme-provider.tsx */ \"(ssr)/./components/theme-provider.tsx\"));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./components/ui/sonner.tsx */ \"(ssr)/./components/ui/sonner.tsx\"));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWZsaWdodC1jbGllbnQtZW50cnktbG9hZGVyLmpzP21vZHVsZXM9JTdCJTIycmVxdWVzdCUyMiUzQSUyMiUyRnZhciUyRnd3dyUyRmZsYXNrX2FwcCUyRmFzdF9jaGF0JTJGYXBwJTJGZ2xvYmFscy5jc3MlMjIlMkMlMjJpZHMlMjIlM0ElNUIlNUQlN0QmbW9kdWxlcz0lN0IlMjJyZXF1ZXN0JTIyJTNBJTIyJTJGdmFyJTJGd3d3JTJGZmxhc2tfYXBwJTJGYXN0X2NoYXQlMkZjb21wb25lbnRzJTJGTW9iaWxlRGVidWdQYW5lbC50c3glMjIlMkMlMjJpZHMlMjIlM0ElNUIlMjJkZWZhdWx0JTIyJTVEJTdEJm1vZHVsZXM9JTdCJTIycmVxdWVzdCUyMiUzQSUyMiUyRnZhciUyRnd3dyUyRmZsYXNrX2FwcCUyRmFzdF9jaGF0JTJGY29tcG9uZW50cyUyRnRoZW1lLXByb3ZpZGVyLnRzeCUyMiUyQyUyMmlkcyUyMiUzQSU1QiUyMlRoZW1lUHJvdmlkZXIlMjIlNUQlN0QmbW9kdWxlcz0lN0IlMjJyZXF1ZXN0JTIyJTNBJTIyJTJGdmFyJTJGd3d3JTJGZmxhc2tfYXBwJTJGYXN0X2NoYXQlMkZjb21wb25lbnRzJTJGdWklMkZzb25uZXIudHN4JTIyJTJDJTIyaWRzJTIyJTNBJTVCJTIyVG9hc3RlciUyMiU1RCU3RCZtb2R1bGVzPSU3QiUyMnJlcXVlc3QlMjIlM0ElMjIlMkZ2YXIlMkZ3d3clMkZmbGFza19hcHAlMkZhc3RfY2hhdCUyRm5vZGVfbW9kdWxlcyUyRm5leHQlMkZmb250JTJGZ29vZ2xlJTJGdGFyZ2V0LmNzcyUzRiU3QiU1QyUyMnBhdGglNUMlMjIlM0ElNUMlMjJhcHAlMkZsYXlvdXQudHN4JTVDJTIyJTJDJTVDJTIyaW1wb3J0JTVDJTIyJTNBJTVDJTIySW50ZXIlNUMlMjIlMkMlNUMlMjJhcmd1bWVudHMlNUMlMjIlM0ElNUIlN0IlNUMlMjJzdWJzZXRzJTVDJTIyJTNBJTVCJTVDJTIybGF0aW4lNUMlMjIlNUQlN0QlNUQlMkMlNUMlMjJ2YXJpYWJsZU5hbWUlNUMlMjIlM0ElNUMlMjJpbnRlciU1QyUyMiU3RCUyMiUyQyUyMmlkcyUyMiUzQSU1QiU1RCU3RCZzZXJ2ZXI9dHJ1ZSEiLCJtYXBwaW5ncyI6IkFBQUEsOEtBQTZIO0FBQzdIO0FBQ0EsMEtBQWlJO0FBQ2pJO0FBQ0EsZ0tBQXNIIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdmliZWNhcmRpbmcvP2VmOTMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIsIHdlYnBhY2tFeHBvcnRzOiBbXCJkZWZhdWx0XCJdICovIFwiL3Zhci93d3cvZmxhc2tfYXBwL2FzdF9jaGF0L2NvbXBvbmVudHMvTW9iaWxlRGVidWdQYW5lbC50c3hcIik7XG47XG5pbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiwgd2VicGFja0V4cG9ydHM6IFtcIlRoZW1lUHJvdmlkZXJcIl0gKi8gXCIvdmFyL3d3dy9mbGFza19hcHAvYXN0X2NoYXQvY29tcG9uZW50cy90aGVtZS1wcm92aWRlci50c3hcIik7XG47XG5pbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiwgd2VicGFja0V4cG9ydHM6IFtcIlRvYXN0ZXJcIl0gKi8gXCIvdmFyL3d3dy9mbGFza19hcHAvYXN0X2NoYXQvY29tcG9uZW50cy91aS9zb25uZXIudHN4XCIpO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2Fvar%2Fwww%2Fflask_app%2Fast_chat%2Fapp%2Fglobals.css%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fvar%2Fwww%2Fflask_app%2Fast_chat%2Fcomponents%2FMobileDebugPanel.tsx%22%2C%22ids%22%3A%5B%22default%22%5D%7D&modules=%7B%22request%22%3A%22%2Fvar%2Fwww%2Fflask_app%2Fast_chat%2Fcomponents%2Ftheme-provider.tsx%22%2C%22ids%22%3A%5B%22ThemeProvider%22%5D%7D&modules=%7B%22request%22%3A%22%2Fvar%2Fwww%2Fflask_app%2Fast_chat%2Fcomponents%2Fui%2Fsonner.tsx%22%2C%22ids%22%3A%5B%22Toaster%22%5D%7D&modules=%7B%22request%22%3A%22%2Fvar%2Fwww%2Fflask_app%2Fast_chat%2Fnode_modules%2Fnext%2Ffont%2Fgoogle%2Ftarget.css%3F%7B%5C%22path%5C%22%3A%5C%22app%2Flayout.tsx%5C%22%2C%5C%22import%5C%22%3A%5C%22Inter%5C%22%2C%5C%22arguments%5C%22%3A%5B%7B%5C%22subsets%5C%22%3A%5B%5C%22latin%5C%22%5D%7D%5D%2C%5C%22variableName%5C%22%3A%5C%22inter%5C%22%7D%22%2C%22ids%22%3A%5B%5D%7D&server=true!\n");

/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2Fvar%2Fwww%2Fflask_app%2Fast_chat%2Fapp%2Fwizard%2Fpage.tsx%22%2C%22ids%22%3A%5B%5D%7D&server=true!":
/*!*****************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2Fvar%2Fwww%2Fflask_app%2Fast_chat%2Fapp%2Fwizard%2Fpage.tsx%22%2C%22ids%22%3A%5B%5D%7D&server=true! ***!
  \*****************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

eval("Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./app/wizard/page.tsx */ \"(ssr)/./app/wizard/page.tsx\"));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWZsaWdodC1jbGllbnQtZW50cnktbG9hZGVyLmpzP21vZHVsZXM9JTdCJTIycmVxdWVzdCUyMiUzQSUyMiUyRnZhciUyRnd3dyUyRmZsYXNrX2FwcCUyRmFzdF9jaGF0JTJGYXBwJTJGd2l6YXJkJTJGcGFnZS50c3glMjIlMkMlMjJpZHMlMjIlM0ElNUIlNUQlN0Qmc2VydmVyPXRydWUhIiwibWFwcGluZ3MiOiJBQUFBLHNKQUFvRiIsInNvdXJjZXMiOlsid2VicGFjazovL3ZpYmVjYXJkaW5nLz9mYzQ0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwiL3Zhci93d3cvZmxhc2tfYXBwL2FzdF9jaGF0L2FwcC93aXphcmQvcGFnZS50c3hcIik7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2Fvar%2Fwww%2Fflask_app%2Fast_chat%2Fapp%2Fwizard%2Fpage.tsx%22%2C%22ids%22%3A%5B%5D%7D&server=true!\n");

/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2Fvar%2Fwww%2Fflask_app%2Fast_chat%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fapp-router.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fvar%2Fwww%2Fflask_app%2Fast_chat%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fclient-page.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fvar%2Fwww%2Fflask_app%2Fast_chat%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Ferror-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fvar%2Fwww%2Fflask_app%2Fast_chat%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Flayout-router.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fvar%2Fwww%2Fflask_app%2Fast_chat%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fnot-found-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fvar%2Fwww%2Fflask_app%2Fast_chat%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Frender-from-template-context.js%22%2C%22ids%22%3A%5B%5D%7D&server=true!":
/*!****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2Fvar%2Fwww%2Fflask_app%2Fast_chat%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fapp-router.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fvar%2Fwww%2Fflask_app%2Fast_chat%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fclient-page.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fvar%2Fwww%2Fflask_app%2Fast_chat%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Ferror-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fvar%2Fwww%2Fflask_app%2Fast_chat%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Flayout-router.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fvar%2Fwww%2Fflask_app%2Fast_chat%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fnot-found-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fvar%2Fwww%2Fflask_app%2Fast_chat%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Frender-from-template-context.js%22%2C%22ids%22%3A%5B%5D%7D&server=true! ***!
  \****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

eval("Promise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/app-router.js */ \"(ssr)/./node_modules/next/dist/client/components/app-router.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/client-page.js */ \"(ssr)/./node_modules/next/dist/client/components/client-page.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/error-boundary.js */ \"(ssr)/./node_modules/next/dist/client/components/error-boundary.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/layout-router.js */ \"(ssr)/./node_modules/next/dist/client/components/layout-router.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/not-found-boundary.js */ \"(ssr)/./node_modules/next/dist/client/components/not-found-boundary.js\", 23));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.t.bind(__webpack_require__, /*! ./node_modules/next/dist/client/components/render-from-template-context.js */ \"(ssr)/./node_modules/next/dist/client/components/render-from-template-context.js\", 23));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWZsaWdodC1jbGllbnQtZW50cnktbG9hZGVyLmpzP21vZHVsZXM9JTdCJTIycmVxdWVzdCUyMiUzQSUyMiUyRnZhciUyRnd3dyUyRmZsYXNrX2FwcCUyRmFzdF9jaGF0JTJGbm9kZV9tb2R1bGVzJTJGbmV4dCUyRmRpc3QlMkZjbGllbnQlMkZjb21wb25lbnRzJTJGYXBwLXJvdXRlci5qcyUyMiUyQyUyMmlkcyUyMiUzQSU1QiU1RCU3RCZtb2R1bGVzPSU3QiUyMnJlcXVlc3QlMjIlM0ElMjIlMkZ2YXIlMkZ3d3clMkZmbGFza19hcHAlMkZhc3RfY2hhdCUyRm5vZGVfbW9kdWxlcyUyRm5leHQlMkZkaXN0JTJGY2xpZW50JTJGY29tcG9uZW50cyUyRmNsaWVudC1wYWdlLmpzJTIyJTJDJTIyaWRzJTIyJTNBJTVCJTVEJTdEJm1vZHVsZXM9JTdCJTIycmVxdWVzdCUyMiUzQSUyMiUyRnZhciUyRnd3dyUyRmZsYXNrX2FwcCUyRmFzdF9jaGF0JTJGbm9kZV9tb2R1bGVzJTJGbmV4dCUyRmRpc3QlMkZjbGllbnQlMkZjb21wb25lbnRzJTJGZXJyb3ItYm91bmRhcnkuanMlMjIlMkMlMjJpZHMlMjIlM0ElNUIlNUQlN0QmbW9kdWxlcz0lN0IlMjJyZXF1ZXN0JTIyJTNBJTIyJTJGdmFyJTJGd3d3JTJGZmxhc2tfYXBwJTJGYXN0X2NoYXQlMkZub2RlX21vZHVsZXMlMkZuZXh0JTJGZGlzdCUyRmNsaWVudCUyRmNvbXBvbmVudHMlMkZsYXlvdXQtcm91dGVyLmpzJTIyJTJDJTIyaWRzJTIyJTNBJTVCJTVEJTdEJm1vZHVsZXM9JTdCJTIycmVxdWVzdCUyMiUzQSUyMiUyRnZhciUyRnd3dyUyRmZsYXNrX2FwcCUyRmFzdF9jaGF0JTJGbm9kZV9tb2R1bGVzJTJGbmV4dCUyRmRpc3QlMkZjbGllbnQlMkZjb21wb25lbnRzJTJGbm90LWZvdW5kLWJvdW5kYXJ5LmpzJTIyJTJDJTIyaWRzJTIyJTNBJTVCJTVEJTdEJm1vZHVsZXM9JTdCJTIycmVxdWVzdCUyMiUzQSUyMiUyRnZhciUyRnd3dyUyRmZsYXNrX2FwcCUyRmFzdF9jaGF0JTJGbm9kZV9tb2R1bGVzJTJGbmV4dCUyRmRpc3QlMkZjbGllbnQlMkZjb21wb25lbnRzJTJGcmVuZGVyLWZyb20tdGVtcGxhdGUtY29udGV4dC5qcyUyMiUyQyUyMmlkcyUyMiUzQSU1QiU1RCU3RCZzZXJ2ZXI9dHJ1ZSEiLCJtYXBwaW5ncyI6IkFBQUEsa09BQXVIO0FBQ3ZIO0FBQ0Esb09BQXdIO0FBQ3hIO0FBQ0EsME9BQTJIO0FBQzNIO0FBQ0Esd09BQTBIO0FBQzFIO0FBQ0Esa1BBQStIO0FBQy9IO0FBQ0Esc1FBQXlJIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdmliZWNhcmRpbmcvP2NmZDciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIgKi8gXCIvdmFyL3d3dy9mbGFza19hcHAvYXN0X2NoYXQvbm9kZV9tb2R1bGVzL25leHQvZGlzdC9jbGllbnQvY29tcG9uZW50cy9hcHAtcm91dGVyLmpzXCIpO1xuO1xuaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIgKi8gXCIvdmFyL3d3dy9mbGFza19hcHAvYXN0X2NoYXQvbm9kZV9tb2R1bGVzL25leHQvZGlzdC9jbGllbnQvY29tcG9uZW50cy9jbGllbnQtcGFnZS5qc1wiKTtcbjtcbmltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwiL3Zhci93d3cvZmxhc2tfYXBwL2FzdF9jaGF0L25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvY2xpZW50L2NvbXBvbmVudHMvZXJyb3ItYm91bmRhcnkuanNcIik7XG47XG5pbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIi92YXIvd3d3L2ZsYXNrX2FwcC9hc3RfY2hhdC9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2NsaWVudC9jb21wb25lbnRzL2xheW91dC1yb3V0ZXIuanNcIik7XG47XG5pbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIi92YXIvd3d3L2ZsYXNrX2FwcC9hc3RfY2hhdC9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2NsaWVudC9jb21wb25lbnRzL25vdC1mb3VuZC1ib3VuZGFyeS5qc1wiKTtcbjtcbmltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwiL3Zhci93d3cvZmxhc2tfYXBwL2FzdF9jaGF0L25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvY2xpZW50L2NvbXBvbmVudHMvcmVuZGVyLWZyb20tdGVtcGxhdGUtY29udGV4dC5qc1wiKTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2Fvar%2Fwww%2Fflask_app%2Fast_chat%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fapp-router.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fvar%2Fwww%2Fflask_app%2Fast_chat%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fclient-page.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fvar%2Fwww%2Fflask_app%2Fast_chat%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Ferror-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fvar%2Fwww%2Fflask_app%2Fast_chat%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Flayout-router.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fvar%2Fwww%2Fflask_app%2Fast_chat%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Fnot-found-boundary.js%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2Fvar%2Fwww%2Fflask_app%2Fast_chat%2Fnode_modules%2Fnext%2Fdist%2Fclient%2Fcomponents%2Frender-from-template-context.js%22%2C%22ids%22%3A%5B%5D%7D&server=true!\n");

/***/ }),

/***/ "(ssr)/./app/wizard/page.tsx":
/*!*****************************!*\
  !*** ./app/wizard/page.tsx ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ WizardTestPage)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _components_ui_button__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/components/ui/button */ \"(ssr)/./components/ui/button.tsx\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_Eye_Sparkles_lucide_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,Eye,Sparkles!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/arrow-left.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_Eye_Sparkles_lucide_react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,Eye,Sparkles!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/sparkles.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_Eye_Sparkles_lucide_react__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,Eye,Sparkles!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/eye.js\");\n/* harmony import */ var next_link__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next/link */ \"(ssr)/./node_modules/next/dist/api/link.js\");\n/* harmony import */ var _components_wizard_CardWizard__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/components/wizard/CardWizard */ \"(ssr)/./components/wizard/CardWizard.tsx\");\n/* harmony import */ var _components_mode_toggle__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/components/mode-toggle */ \"(ssr)/./components/mode-toggle.tsx\");\n/* harmony import */ var _components_CriticalResourcePreloader__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/components/CriticalResourcePreloader */ \"(ssr)/./components/CriticalResourcePreloader.tsx\");\n/* harmony import */ var _components_EarlyCardPreloader__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @/components/EarlyCardPreloader */ \"(ssr)/./components/EarlyCardPreloader.tsx\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \n\n\n\n\n\n\n\n\nfunction WizardTestPage() {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-cyan-50 dark:from-gray-900 dark:via-slate-800 dark:to-gray-800\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_CriticalResourcePreloader__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {}, void 0, false, {\n                fileName: \"/var/www/flask_app/ast_chat/app/wizard/page.tsx\",\n                lineNumber: 16,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_EarlyCardPreloader__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {}, void 0, false, {\n                fileName: \"/var/www/flask_app/ast_chat/app/wizard/page.tsx\",\n                lineNumber: 17,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"header\", {\n                className: \"border-b bg-white/80 dark:bg-gray-900/80 backdrop-blur-sm sticky top-0 z-50\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"container mx-auto px-4 py-3\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center justify-between\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex items-center space-x-3\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(next_link__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n                                        href: \"/\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                            variant: \"ghost\",\n                                            size: \"sm\",\n                                            className: \"gap-2\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_Eye_Sparkles_lucide_react__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n                                                    className: \"w-4 h-4\"\n                                                }, void 0, false, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/wizard/page.tsx\",\n                                                    lineNumber: 26,\n                                                    columnNumber: 19\n                                                }, this),\n                                                \"Back to Original\"\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/var/www/flask_app/ast_chat/app/wizard/page.tsx\",\n                                            lineNumber: 25,\n                                            columnNumber: 17\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/var/www/flask_app/ast_chat/app/wizard/page.tsx\",\n                                        lineNumber: 24,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex items-center space-x-2\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"w-8 h-8 bg-gradient-to-br from-purple-500 to-pink-600 rounded-lg flex items-center justify-center\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_Eye_Sparkles_lucide_react__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n                                                    className: \"w-5 h-5 text-white\"\n                                                }, void 0, false, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/wizard/page.tsx\",\n                                                    lineNumber: 32,\n                                                    columnNumber: 19\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/wizard/page.tsx\",\n                                                lineNumber: 31,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                                                        className: \"text-lg font-bold text-gray-900 dark:text-white\",\n                                                        children: \"VibeCarding - Wizard Mode\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/wizard/page.tsx\",\n                                                        lineNumber: 35,\n                                                        columnNumber: 19\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                        className: \"text-xs text-gray-600 dark:text-gray-400\",\n                                                        children: \"Step-by-step card creation\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/wizard/page.tsx\",\n                                                        lineNumber: 38,\n                                                        columnNumber: 19\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/wizard/page.tsx\",\n                                                lineNumber: 34,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/var/www/flask_app/ast_chat/app/wizard/page.tsx\",\n                                        lineNumber: 30,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(next_link__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n                                        href: \"/gallery\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                            variant: \"ghost\",\n                                            size: \"sm\",\n                                            className: \"gap-2 text-gray-600 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-100\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_Eye_Sparkles_lucide_react__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\n                                                    className: \"w-4 h-4\"\n                                                }, void 0, false, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/wizard/page.tsx\",\n                                                    lineNumber: 43,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"hidden sm:inline\",\n                                                    children: \"Gallery\"\n                                                }, void 0, false, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/wizard/page.tsx\",\n                                                    lineNumber: 44,\n                                                    columnNumber: 19\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/var/www/flask_app/ast_chat/app/wizard/page.tsx\",\n                                            lineNumber: 42,\n                                            columnNumber: 17\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/var/www/flask_app/ast_chat/app/wizard/page.tsx\",\n                                        lineNumber: 41,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/var/www/flask_app/ast_chat/app/wizard/page.tsx\",\n                                lineNumber: 23,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_mode_toggle__WEBPACK_IMPORTED_MODULE_5__.ModeToggle, {}, void 0, false, {\n                                fileName: \"/var/www/flask_app/ast_chat/app/wizard/page.tsx\",\n                                lineNumber: 48,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/var/www/flask_app/ast_chat/app/wizard/page.tsx\",\n                        lineNumber: 22,\n                        columnNumber: 11\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/var/www/flask_app/ast_chat/app/wizard/page.tsx\",\n                    lineNumber: 21,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/var/www/flask_app/ast_chat/app/wizard/page.tsx\",\n                lineNumber: 20,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"container mx-auto px-4 py-6 max-w-4xl\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"mb-6 text-center\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"inline-flex items-center gap-2 bg-purple-100 dark:bg-purple-900/20 text-purple-800 dark:text-purple-200 px-4 py-2 rounded-full text-sm font-medium\",\n                                children: \"✨ Wizard Mode - Step-by-Step Card Creation\"\n                            }, void 0, false, {\n                                fileName: \"/var/www/flask_app/ast_chat/app/wizard/page.tsx\",\n                                lineNumber: 56,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"text-gray-600 dark:text-gray-400 mt-2 text-sm\",\n                                children: \"Create your perfect card in guided steps instead of one long form\"\n                            }, void 0, false, {\n                                fileName: \"/var/www/flask_app/ast_chat/app/wizard/page.tsx\",\n                                lineNumber: 59,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/var/www/flask_app/ast_chat/app/wizard/page.tsx\",\n                        lineNumber: 55,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_wizard_CardWizard__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {}, void 0, false, {\n                        fileName: \"/var/www/flask_app/ast_chat/app/wizard/page.tsx\",\n                        lineNumber: 65,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/var/www/flask_app/ast_chat/app/wizard/page.tsx\",\n                lineNumber: 53,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/var/www/flask_app/ast_chat/app/wizard/page.tsx\",\n        lineNumber: 15,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9hcHAvd2l6YXJkL3BhZ2UudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUUwQjtBQUNzQjtBQUNRO0FBQzNCO0FBRTJCO0FBQ0Y7QUFDeUI7QUFDZDtBQUVsRCxTQUFTVTtJQUN0QixxQkFDRSw4REFBQ0M7UUFBSUMsV0FBVTs7MEJBQ2IsOERBQUNKLDZFQUF5QkE7Ozs7OzBCQUMxQiw4REFBQ0Msc0VBQWtCQTs7Ozs7MEJBR25CLDhEQUFDSTtnQkFBT0QsV0FBVTswQkFDaEIsNEVBQUNEO29CQUFJQyxXQUFVOzhCQUNiLDRFQUFDRDt3QkFBSUMsV0FBVTs7MENBQ2IsOERBQUNEO2dDQUFJQyxXQUFVOztrREFDYiw4REFBQ1AsaURBQUlBO3dDQUFDUyxNQUFLO2tEQUNULDRFQUFDYix5REFBTUE7NENBQUNjLFNBQVE7NENBQVFDLE1BQUs7NENBQUtKLFdBQVU7OzhEQUMxQyw4REFBQ1Ysa0dBQVNBO29EQUFDVSxXQUFVOzs7Ozs7Z0RBQVk7Ozs7Ozs7Ozs7OztrREFJckMsOERBQUNEO3dDQUFJQyxXQUFVOzswREFDYiw4REFBQ0Q7Z0RBQUlDLFdBQVU7MERBQ2IsNEVBQUNULGtHQUFRQTtvREFBQ1MsV0FBVTs7Ozs7Ozs7Ozs7MERBRXRCLDhEQUFDRDs7a0VBQ0MsOERBQUNNO3dEQUFHTCxXQUFVO2tFQUFrRDs7Ozs7O2tFQUdoRSw4REFBQ007d0RBQUVOLFdBQVU7a0VBQTJDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7a0RBRzVELDhEQUFDUCxpREFBSUE7d0NBQUNTLE1BQUs7a0RBQ1QsNEVBQUNiLHlEQUFNQTs0Q0FBQ2MsU0FBUTs0Q0FBUUMsTUFBSzs0Q0FBS0osV0FBVTs7OERBQzFDLDhEQUFDUixtR0FBR0E7b0RBQUNRLFdBQVU7Ozs7Ozs4REFDZiw4REFBQ087b0RBQUtQLFdBQVU7OERBQW1COzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OzswQ0FJekMsOERBQUNMLCtEQUFVQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OzBCQUtqQiw4REFBQ0k7Z0JBQUlDLFdBQVU7O2tDQUViLDhEQUFDRDt3QkFBSUMsV0FBVTs7MENBQ2IsOERBQUNEO2dDQUFJQyxXQUFVOzBDQUFxSjs7Ozs7OzBDQUdwSyw4REFBQ007Z0NBQUVOLFdBQVU7MENBQWdEOzs7Ozs7Ozs7Ozs7a0NBTS9ELDhEQUFDTixxRUFBVUE7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBSW5CIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdmliZWNhcmRpbmcvLi9hcHAvd2l6YXJkL3BhZ2UudHN4PzUxZDAiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2UgY2xpZW50XCI7XG5cbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IEJ1dHRvbiB9IGZyb20gXCJAL2NvbXBvbmVudHMvdWkvYnV0dG9uXCI7XG5pbXBvcnQgeyBBcnJvd0xlZnQsIFNwYXJrbGVzLCBFeWUgfSBmcm9tIFwibHVjaWRlLXJlYWN0XCI7XG5pbXBvcnQgTGluayBmcm9tIFwibmV4dC9saW5rXCI7XG5cbmltcG9ydCBDYXJkV2l6YXJkIGZyb20gXCJAL2NvbXBvbmVudHMvd2l6YXJkL0NhcmRXaXphcmRcIjtcbmltcG9ydCB7IE1vZGVUb2dnbGUgfSBmcm9tIFwiQC9jb21wb25lbnRzL21vZGUtdG9nZ2xlXCI7XG5pbXBvcnQgQ3JpdGljYWxSZXNvdXJjZVByZWxvYWRlciBmcm9tIFwiQC9jb21wb25lbnRzL0NyaXRpY2FsUmVzb3VyY2VQcmVsb2FkZXJcIjtcbmltcG9ydCBFYXJseUNhcmRQcmVsb2FkZXIgZnJvbSBcIkAvY29tcG9uZW50cy9FYXJseUNhcmRQcmVsb2FkZXJcIjtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gV2l6YXJkVGVzdFBhZ2UoKSB7XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJtaW4taC1zY3JlZW4gYmctZ3JhZGllbnQtdG8tYnIgZnJvbS1zbGF0ZS01MCB2aWEtYmx1ZS01MCB0by1jeWFuLTUwIGRhcms6ZnJvbS1ncmF5LTkwMCBkYXJrOnZpYS1zbGF0ZS04MDAgZGFyazp0by1ncmF5LTgwMFwiPlxuICAgICAgPENyaXRpY2FsUmVzb3VyY2VQcmVsb2FkZXIgLz5cbiAgICAgIDxFYXJseUNhcmRQcmVsb2FkZXIgLz5cbiAgICAgIFxuICAgICAgey8qIEhlYWRlciAqL31cbiAgICAgIDxoZWFkZXIgY2xhc3NOYW1lPVwiYm9yZGVyLWIgYmctd2hpdGUvODAgZGFyazpiZy1ncmF5LTkwMC84MCBiYWNrZHJvcC1ibHVyLXNtIHN0aWNreSB0b3AtMCB6LTUwXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyIG14LWF1dG8gcHgtNCBweS0zXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW5cIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgc3BhY2UteC0zXCI+XG4gICAgICAgICAgICAgIDxMaW5rIGhyZWY9XCIvXCI+XG4gICAgICAgICAgICAgICAgPEJ1dHRvbiB2YXJpYW50PVwiZ2hvc3RcIiBzaXplPVwic21cIiBjbGFzc05hbWU9XCJnYXAtMlwiPlxuICAgICAgICAgICAgICAgICAgPEFycm93TGVmdCBjbGFzc05hbWU9XCJ3LTQgaC00XCIgLz5cbiAgICAgICAgICAgICAgICAgIEJhY2sgdG8gT3JpZ2luYWxcbiAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgPC9MaW5rPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIHNwYWNlLXgtMlwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy04IGgtOCBiZy1ncmFkaWVudC10by1iciBmcm9tLXB1cnBsZS01MDAgdG8tcGluay02MDAgcm91bmRlZC1sZyBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgPFNwYXJrbGVzIGNsYXNzTmFtZT1cInctNSBoLTUgdGV4dC13aGl0ZVwiIC8+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgIDxoMSBjbGFzc05hbWU9XCJ0ZXh0LWxnIGZvbnQtYm9sZCB0ZXh0LWdyYXktOTAwIGRhcms6dGV4dC13aGl0ZVwiPlxuICAgICAgICAgICAgICAgICAgICBWaWJlQ2FyZGluZyAtIFdpemFyZCBNb2RlXG4gICAgICAgICAgICAgICAgICA8L2gxPlxuICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LWdyYXktNjAwIGRhcms6dGV4dC1ncmF5LTQwMFwiPlN0ZXAtYnktc3RlcCBjYXJkIGNyZWF0aW9uPC9wPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPExpbmsgaHJlZj1cIi9nYWxsZXJ5XCI+XG4gICAgICAgICAgICAgICAgPEJ1dHRvbiB2YXJpYW50PVwiZ2hvc3RcIiBzaXplPVwic21cIiBjbGFzc05hbWU9XCJnYXAtMiB0ZXh0LWdyYXktNjAwIGhvdmVyOnRleHQtZ3JheS05MDAgZGFyazp0ZXh0LWdyYXktNDAwIGRhcms6aG92ZXI6dGV4dC1ncmF5LTEwMFwiPlxuICAgICAgICAgICAgICAgICAgPEV5ZSBjbGFzc05hbWU9XCJ3LTQgaC00XCIgLz5cbiAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImhpZGRlbiBzbTppbmxpbmVcIj5HYWxsZXJ5PC9zcGFuPlxuICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICA8L0xpbms+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxNb2RlVG9nZ2xlIC8+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9oZWFkZXI+XG5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyIG14LWF1dG8gcHgtNCBweS02IG1heC13LTR4bFwiPlxuICAgICAgICB7LyogV2VsY29tZSBNZXNzYWdlICovfVxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1iLTYgdGV4dC1jZW50ZXJcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImlubGluZS1mbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiBiZy1wdXJwbGUtMTAwIGRhcms6YmctcHVycGxlLTkwMC8yMCB0ZXh0LXB1cnBsZS04MDAgZGFyazp0ZXh0LXB1cnBsZS0yMDAgcHgtNCBweS0yIHJvdW5kZWQtZnVsbCB0ZXh0LXNtIGZvbnQtbWVkaXVtXCI+XG4gICAgICAgICAgICDinKggV2l6YXJkIE1vZGUgLSBTdGVwLWJ5LVN0ZXAgQ2FyZCBDcmVhdGlvblxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtZ3JheS02MDAgZGFyazp0ZXh0LWdyYXktNDAwIG10LTIgdGV4dC1zbVwiPlxuICAgICAgICAgICAgQ3JlYXRlIHlvdXIgcGVyZmVjdCBjYXJkIGluIGd1aWRlZCBzdGVwcyBpbnN0ZWFkIG9mIG9uZSBsb25nIGZvcm1cbiAgICAgICAgICA8L3A+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIHsvKiBNYWluIFdpemFyZCBDb21wb25lbnQgKi99XG4gICAgICAgIDxDYXJkV2l6YXJkIC8+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKTtcbn0gIl0sIm5hbWVzIjpbIlJlYWN0IiwiQnV0dG9uIiwiQXJyb3dMZWZ0IiwiU3BhcmtsZXMiLCJFeWUiLCJMaW5rIiwiQ2FyZFdpemFyZCIsIk1vZGVUb2dnbGUiLCJDcml0aWNhbFJlc291cmNlUHJlbG9hZGVyIiwiRWFybHlDYXJkUHJlbG9hZGVyIiwiV2l6YXJkVGVzdFBhZ2UiLCJkaXYiLCJjbGFzc05hbWUiLCJoZWFkZXIiLCJocmVmIiwidmFyaWFudCIsInNpemUiLCJoMSIsInAiLCJzcGFuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./app/wizard/page.tsx\n");

/***/ }),

/***/ "(ssr)/./components/CardHistoryModal.tsx":
/*!*****************************************!*\
  !*** ./components/CardHistoryModal.tsx ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ CardHistoryModal)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _components_ui_dialog__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/components/ui/dialog */ \"(ssr)/./components/ui/dialog.tsx\");\n/* harmony import */ var _components_ui_button__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/components/ui/button */ \"(ssr)/./components/ui/button.tsx\");\n/* harmony import */ var _components_ui_badge__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/components/ui/badge */ \"(ssr)/./components/ui/badge.tsx\");\n/* harmony import */ var _components_ui_card__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/components/ui/card */ \"(ssr)/./components/ui/card.tsx\");\n/* harmony import */ var _components_ui_scroll_area__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/components/ui/scroll-area */ \"(ssr)/./components/ui/scroll-area.tsx\");\n/* harmony import */ var _barrel_optimize_names_Calendar_Clock_FileText_Image_Palette_Share2_Trash2_lucide_react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! __barrel_optimize__?names=Calendar,Clock,FileText,Image,Palette,Share2,Trash2!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/file-text.js\");\n/* harmony import */ var _barrel_optimize_names_Calendar_Clock_FileText_Image_Palette_Share2_Trash2_lucide_react__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! __barrel_optimize__?names=Calendar,Clock,FileText,Image,Palette,Share2,Trash2!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/calendar.js\");\n/* harmony import */ var _barrel_optimize_names_Calendar_Clock_FileText_Image_Palette_Share2_Trash2_lucide_react__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! __barrel_optimize__?names=Calendar,Clock,FileText,Image,Palette,Share2,Trash2!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/clock.js\");\n/* harmony import */ var _barrel_optimize_names_Calendar_Clock_FileText_Image_Palette_Share2_Trash2_lucide_react__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! __barrel_optimize__?names=Calendar,Clock,FileText,Image,Palette,Share2,Trash2!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/palette.js\");\n/* harmony import */ var _barrel_optimize_names_Calendar_Clock_FileText_Image_Palette_Share2_Trash2_lucide_react__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! __barrel_optimize__?names=Calendar,Clock,FileText,Image,Palette,Share2,Trash2!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/image.js\");\n/* harmony import */ var _barrel_optimize_names_Calendar_Clock_FileText_Image_Palette_Share2_Trash2_lucide_react__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! __barrel_optimize__?names=Calendar,Clock,FileText,Image,Palette,Share2,Trash2!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/share-2.js\");\n/* harmony import */ var _barrel_optimize_names_Calendar_Clock_FileText_Image_Palette_Share2_Trash2_lucide_react__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! __barrel_optimize__?names=Calendar,Clock,FileText,Image,Palette,Share2,Trash2!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/trash-2.js\");\n/* harmony import */ var _hooks_useCardHistorySimplified__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @/hooks/useCardHistorySimplified */ \"(ssr)/./hooks/useCardHistorySimplified.ts\");\n/* harmony import */ var sonner__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! sonner */ \"(ssr)/./node_modules/sonner/dist/index.mjs\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \n\n\n\n\n// Tabs removed - draft sessions no longer supported\n\n\n\n\n\nfunction CardHistoryModal({ isOpen, onClose, onResumeDraft, onLoadCard }) {\n    const { cardHistory, draftSessions, clearHistory } = (0,_hooks_useCardHistorySimplified__WEBPACK_IMPORTED_MODULE_7__.useCardHistory)();\n    // These features are no longer available in simplified version\n    const isLoading = false;\n    const history = {\n        completedCards: cardHistory,\n        draftSessions: draftSessions\n    };\n    // Removed tabs since draft sessions are no longer supported\n    const handleResumeDraft = (sessionId)=>{\n        // Draft sessions are no longer supported in simplified version\n        sonner__WEBPACK_IMPORTED_MODULE_8__.toast.info(\"Draft sessions are no longer supported. Please start a new card.\");\n    };\n    const handleDeleteDraft = (sessionId)=>{\n        // Draft deletion not supported in simplified version\n        sonner__WEBPACK_IMPORTED_MODULE_8__.toast.info(\"Draft management has been simplified.\");\n    };\n    const handleDeleteCard = (cardId)=>{\n        // Individual card deletion not supported in simplified version\n        sonner__WEBPACK_IMPORTED_MODULE_8__.toast.info(\"Card history is automatically managed.\");\n    };\n    const handleClearAll = ()=>{\n        clearHistory();\n        sonner__WEBPACK_IMPORTED_MODULE_8__.toast.success(\"All history cleared\");\n    };\n    const handleShareCard = async (card)=>{\n        if (card.shareUrl) {\n            try {\n                await navigator.clipboard.writeText(card.shareUrl);\n                sonner__WEBPACK_IMPORTED_MODULE_8__.toast.success(\"Share link copied to clipboard!\");\n            } catch (error) {\n                sonner__WEBPACK_IMPORTED_MODULE_8__.toast.error(\"Failed to copy share link\");\n            }\n        } else {\n            sonner__WEBPACK_IMPORTED_MODULE_8__.toast.error(\"No share link available for this card\");\n        }\n    };\n    const formatDate = (date)=>{\n        return new Date(date).toLocaleDateString(\"en-US\", {\n            month: \"short\",\n            day: \"numeric\",\n            hour: \"numeric\",\n            minute: \"2-digit\"\n        });\n    };\n    const getRelativeTime = (date)=>{\n        const now = new Date();\n        const diffInHours = Math.floor((now.getTime() - new Date(date).getTime()) / (1000 * 60 * 60));\n        if (diffInHours < 1) return \"Just now\";\n        if (diffInHours < 24) return `${diffInHours}h ago`;\n        if (diffInHours < 48) return \"1 day ago\";\n        return `${Math.floor(diffInHours / 24)} days ago`;\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_dialog__WEBPACK_IMPORTED_MODULE_2__.Dialog, {\n        open: isOpen,\n        onOpenChange: onClose,\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_dialog__WEBPACK_IMPORTED_MODULE_2__.DialogContent, {\n            className: \"max-w-4xl max-h-[80vh] p-0\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_dialog__WEBPACK_IMPORTED_MODULE_2__.DialogHeader, {\n                    className: \"p-6 pb-4\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_dialog__WEBPACK_IMPORTED_MODULE_2__.DialogTitle, {\n                            className: \"text-xl font-bold\",\n                            children: \"Your Card History\"\n                        }, void 0, false, {\n                            fileName: \"/var/www/flask_app/ast_chat/components/CardHistoryModal.tsx\",\n                            lineNumber: 109,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_dialog__WEBPACK_IMPORTED_MODULE_2__.DialogDescription, {\n                            children: \"View your recently generated cards\"\n                        }, void 0, false, {\n                            fileName: \"/var/www/flask_app/ast_chat/components/CardHistoryModal.tsx\",\n                            lineNumber: 110,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/var/www/flask_app/ast_chat/components/CardHistoryModal.tsx\",\n                    lineNumber: 108,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex-1\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"px-6 pb-6\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"mt-4\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_scroll_area__WEBPACK_IMPORTED_MODULE_6__.ScrollArea, {\n                                className: \"h-96\",\n                                children: history.completedCards.length === 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"text-center py-8\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Calendar_Clock_FileText_Image_Palette_Share2_Trash2_lucide_react__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n                                            className: \"w-12 h-12 text-gray-400 mx-auto mb-4\"\n                                        }, void 0, false, {\n                                            fileName: \"/var/www/flask_app/ast_chat/components/CardHistoryModal.tsx\",\n                                            lineNumber: 122,\n                                            columnNumber: 21\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                            className: \"text-gray-500 dark:text-gray-400\",\n                                            children: \"No completed cards yet\"\n                                        }, void 0, false, {\n                                            fileName: \"/var/www/flask_app/ast_chat/components/CardHistoryModal.tsx\",\n                                            lineNumber: 123,\n                                            columnNumber: 21\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                            className: \"text-sm text-gray-400 dark:text-gray-500\",\n                                            children: \"Complete your first card to see it here!\"\n                                        }, void 0, false, {\n                                            fileName: \"/var/www/flask_app/ast_chat/components/CardHistoryModal.tsx\",\n                                            lineNumber: 124,\n                                            columnNumber: 21\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/var/www/flask_app/ast_chat/components/CardHistoryModal.tsx\",\n                                    lineNumber: 121,\n                                    columnNumber: 19\n                                }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"space-y-4\",\n                                    children: history.completedCards.map((card)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_5__.Card, {\n                                            className: \"hover:shadow-md transition-shadow\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_5__.CardContent, {\n                                                className: \"p-4\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"flex items-start gap-4\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"flex-shrink-0\",\n                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                                                src: card.thumbnailUrl || \"/placeholder-card.png\",\n                                                                alt: \"Card preview\",\n                                                                className: \"w-20 h-28 object-cover rounded-lg border shadow-sm\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/components/CardHistoryModal.tsx\",\n                                                                lineNumber: 136,\n                                                                columnNumber: 31\n                                                            }, this)\n                                                        }, void 0, false, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/components/CardHistoryModal.tsx\",\n                                                            lineNumber: 135,\n                                                            columnNumber: 29\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"flex-1 min-w-0\",\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    className: \"flex items-start justify-between mb-2\",\n                                                                    children: [\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                                                            className: \"font-semibold text-gray-900 dark:text-white truncate\",\n                                                                            children: [\n                                                                                card.type,\n                                                                                \" Card \",\n                                                                                card.recipient ? `for ${card.recipient}` : \"\"\n                                                                            ]\n                                                                        }, void 0, true, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/components/CardHistoryModal.tsx\",\n                                                                            lineNumber: 146,\n                                                                            columnNumber: 33\n                                                                        }, this),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                            className: \"flex items-center gap-2 ml-2\",\n                                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_badge__WEBPACK_IMPORTED_MODULE_4__.Badge, {\n                                                                                variant: \"secondary\",\n                                                                                className: \"text-xs\",\n                                                                                children: [\n                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Calendar_Clock_FileText_Image_Palette_Share2_Trash2_lucide_react__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\n                                                                                        className: \"w-3 h-3 mr-1\"\n                                                                                    }, void 0, false, {\n                                                                                        fileName: \"/var/www/flask_app/ast_chat/components/CardHistoryModal.tsx\",\n                                                                                        lineNumber: 151,\n                                                                                        columnNumber: 37\n                                                                                    }, this),\n                                                                                    formatDate(card.date)\n                                                                                ]\n                                                                            }, void 0, true, {\n                                                                                fileName: \"/var/www/flask_app/ast_chat/components/CardHistoryModal.tsx\",\n                                                                                lineNumber: 150,\n                                                                                columnNumber: 35\n                                                                            }, this)\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/components/CardHistoryModal.tsx\",\n                                                                            lineNumber: 149,\n                                                                            columnNumber: 33\n                                                                        }, this)\n                                                                    ]\n                                                                }, void 0, true, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/components/CardHistoryModal.tsx\",\n                                                                    lineNumber: 145,\n                                                                    columnNumber: 31\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    className: \"flex items-center gap-4 text-sm text-gray-600 dark:text-gray-400 mb-3\",\n                                                                    children: [\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                            className: \"flex items-center gap-1\",\n                                                                            children: [\n                                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Calendar_Clock_FileText_Image_Palette_Share2_Trash2_lucide_react__WEBPACK_IMPORTED_MODULE_11__[\"default\"], {\n                                                                                    className: \"w-4 h-4\"\n                                                                                }, void 0, false, {\n                                                                                    fileName: \"/var/www/flask_app/ast_chat/components/CardHistoryModal.tsx\",\n                                                                                    lineNumber: 159,\n                                                                                    columnNumber: 35\n                                                                                }, this),\n                                                                                getRelativeTime(card.date)\n                                                                            ]\n                                                                        }, void 0, true, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/components/CardHistoryModal.tsx\",\n                                                                            lineNumber: 158,\n                                                                            columnNumber: 33\n                                                                        }, this),\n                                                                        card.tone && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                            className: \"flex items-center gap-1\",\n                                                                            children: [\n                                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Calendar_Clock_FileText_Image_Palette_Share2_Trash2_lucide_react__WEBPACK_IMPORTED_MODULE_12__[\"default\"], {\n                                                                                    className: \"w-4 h-4\"\n                                                                                }, void 0, false, {\n                                                                                    fileName: \"/var/www/flask_app/ast_chat/components/CardHistoryModal.tsx\",\n                                                                                    lineNumber: 164,\n                                                                                    columnNumber: 37\n                                                                                }, this),\n                                                                                card.tone\n                                                                            ]\n                                                                        }, void 0, true, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/components/CardHistoryModal.tsx\",\n                                                                            lineNumber: 163,\n                                                                            columnNumber: 35\n                                                                        }, this)\n                                                                    ]\n                                                                }, void 0, true, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/components/CardHistoryModal.tsx\",\n                                                                    lineNumber: 157,\n                                                                    columnNumber: 31\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    className: \"flex items-center gap-2\",\n                                                                    children: [\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_3__.Button, {\n                                                                            variant: \"outline\",\n                                                                            size: \"sm\",\n                                                                            onClick: ()=>onLoadCard?.(card.id),\n                                                                            className: \"flex items-center gap-1\",\n                                                                            children: [\n                                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Calendar_Clock_FileText_Image_Palette_Share2_Trash2_lucide_react__WEBPACK_IMPORTED_MODULE_13__[\"default\"], {\n                                                                                    className: \"w-4 h-4\"\n                                                                                }, void 0, false, {\n                                                                                    fileName: \"/var/www/flask_app/ast_chat/components/CardHistoryModal.tsx\",\n                                                                                    lineNumber: 178,\n                                                                                    columnNumber: 35\n                                                                                }, this),\n                                                                                \"View\"\n                                                                            ]\n                                                                        }, void 0, true, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/components/CardHistoryModal.tsx\",\n                                                                            lineNumber: 172,\n                                                                            columnNumber: 33\n                                                                        }, this),\n                                                                        card.shareUrl && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_3__.Button, {\n                                                                            variant: \"outline\",\n                                                                            size: \"sm\",\n                                                                            onClick: ()=>handleShareCard(card),\n                                                                            className: \"flex items-center gap-1\",\n                                                                            children: [\n                                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Calendar_Clock_FileText_Image_Palette_Share2_Trash2_lucide_react__WEBPACK_IMPORTED_MODULE_14__[\"default\"], {\n                                                                                    className: \"w-4 h-4\"\n                                                                                }, void 0, false, {\n                                                                                    fileName: \"/var/www/flask_app/ast_chat/components/CardHistoryModal.tsx\",\n                                                                                    lineNumber: 189,\n                                                                                    columnNumber: 37\n                                                                                }, this),\n                                                                                \"Share\"\n                                                                            ]\n                                                                        }, void 0, true, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/components/CardHistoryModal.tsx\",\n                                                                            lineNumber: 183,\n                                                                            columnNumber: 35\n                                                                        }, this),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_3__.Button, {\n                                                                            variant: \"outline\",\n                                                                            size: \"sm\",\n                                                                            onClick: ()=>handleDeleteCard(card.id),\n                                                                            className: \"flex items-center gap-1 text-red-600 hover:text-red-700\",\n                                                                            children: [\n                                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Calendar_Clock_FileText_Image_Palette_Share2_Trash2_lucide_react__WEBPACK_IMPORTED_MODULE_15__[\"default\"], {\n                                                                                    className: \"w-4 h-4\"\n                                                                                }, void 0, false, {\n                                                                                    fileName: \"/var/www/flask_app/ast_chat/components/CardHistoryModal.tsx\",\n                                                                                    lineNumber: 200,\n                                                                                    columnNumber: 35\n                                                                                }, this),\n                                                                                \"Delete\"\n                                                                            ]\n                                                                        }, void 0, true, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/components/CardHistoryModal.tsx\",\n                                                                            lineNumber: 194,\n                                                                            columnNumber: 33\n                                                                        }, this)\n                                                                    ]\n                                                                }, void 0, true, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/components/CardHistoryModal.tsx\",\n                                                                    lineNumber: 171,\n                                                                    columnNumber: 31\n                                                                }, this)\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/components/CardHistoryModal.tsx\",\n                                                            lineNumber: 144,\n                                                            columnNumber: 29\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/components/CardHistoryModal.tsx\",\n                                                    lineNumber: 133,\n                                                    columnNumber: 27\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/var/www/flask_app/ast_chat/components/CardHistoryModal.tsx\",\n                                                lineNumber: 132,\n                                                columnNumber: 25\n                                            }, this)\n                                        }, card.id, false, {\n                                            fileName: \"/var/www/flask_app/ast_chat/components/CardHistoryModal.tsx\",\n                                            lineNumber: 131,\n                                            columnNumber: 23\n                                        }, this))\n                                }, void 0, false, {\n                                    fileName: \"/var/www/flask_app/ast_chat/components/CardHistoryModal.tsx\",\n                                    lineNumber: 129,\n                                    columnNumber: 19\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/var/www/flask_app/ast_chat/components/CardHistoryModal.tsx\",\n                                lineNumber: 119,\n                                columnNumber: 15\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/var/www/flask_app/ast_chat/components/CardHistoryModal.tsx\",\n                            lineNumber: 118,\n                            columnNumber: 13\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/var/www/flask_app/ast_chat/components/CardHistoryModal.tsx\",\n                        lineNumber: 116,\n                        columnNumber: 11\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/var/www/flask_app/ast_chat/components/CardHistoryModal.tsx\",\n                    lineNumber: 115,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"border-t p-4 flex items-center justify-between bg-gray-50 dark:bg-gray-800\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"text-sm text-gray-600 dark:text-gray-400\",\n                            children: [\n                                history.completedCards.length,\n                                \" recent cards\"\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/var/www/flask_app/ast_chat/components/CardHistoryModal.tsx\",\n                            lineNumber: 218,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex items-center gap-2\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_3__.Button, {\n                                    variant: \"outline\",\n                                    size: \"sm\",\n                                    onClick: handleClearAll,\n                                    className: \"text-red-600 hover:text-red-700\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Calendar_Clock_FileText_Image_Palette_Share2_Trash2_lucide_react__WEBPACK_IMPORTED_MODULE_15__[\"default\"], {\n                                            className: \"w-4 h-4 mr-1\"\n                                        }, void 0, false, {\n                                            fileName: \"/var/www/flask_app/ast_chat/components/CardHistoryModal.tsx\",\n                                            lineNumber: 228,\n                                            columnNumber: 15\n                                        }, this),\n                                        \"Clear All\"\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/var/www/flask_app/ast_chat/components/CardHistoryModal.tsx\",\n                                    lineNumber: 222,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_3__.Button, {\n                                    variant: \"outline\",\n                                    onClick: onClose,\n                                    children: \"Close\"\n                                }, void 0, false, {\n                                    fileName: \"/var/www/flask_app/ast_chat/components/CardHistoryModal.tsx\",\n                                    lineNumber: 231,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/var/www/flask_app/ast_chat/components/CardHistoryModal.tsx\",\n                            lineNumber: 221,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/var/www/flask_app/ast_chat/components/CardHistoryModal.tsx\",\n                    lineNumber: 217,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/var/www/flask_app/ast_chat/components/CardHistoryModal.tsx\",\n            lineNumber: 107,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/var/www/flask_app/ast_chat/components/CardHistoryModal.tsx\",\n        lineNumber: 106,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFReEQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92aWJlY2FyZGluZy8uL2NvbXBvbmVudHMvQ2FyZEhpc3RvcnlNb2RhbC50c3g/NDE5NCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIjtcblxuaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgRGlhbG9nLCBEaWFsb2dDb250ZW50LCBEaWFsb2dIZWFkZXIsIERpYWxvZ1RpdGxlLCBEaWFsb2dEZXNjcmlwdGlvbiB9IGZyb20gXCJAL2NvbXBvbmVudHMvdWkvZGlhbG9nXCI7XG5pbXBvcnQgeyBCdXR0b24gfSBmcm9tIFwiQC9jb21wb25lbnRzL3VpL2J1dHRvblwiO1xuaW1wb3J0IHsgQmFkZ2UgfSBmcm9tIFwiQC9jb21wb25lbnRzL3VpL2JhZGdlXCI7XG4vLyBUYWJzIHJlbW92ZWQgLSBkcmFmdCBzZXNzaW9ucyBubyBsb25nZXIgc3VwcG9ydGVkXG5pbXBvcnQgeyBDYXJkLCBDYXJkQ29udGVudCwgQ2FyZEhlYWRlciwgQ2FyZFRpdGxlIH0gZnJvbSBcIkAvY29tcG9uZW50cy91aS9jYXJkXCI7XG5pbXBvcnQgeyBTY3JvbGxBcmVhIH0gZnJvbSBcIkAvY29tcG9uZW50cy91aS9zY3JvbGwtYXJlYVwiO1xuaW1wb3J0IHsgXG4gIENsb2NrLCBcbiAgVHJhc2gyLCBcbiAgUGxheSwgXG4gIENhbGVuZGFyLFxuICBJbWFnZSxcbiAgRmlsZVRleHQsXG4gIFBhbGV0dGUsXG4gIE1haWwsXG4gIFNoYXJlMixcbiAgRG93bmxvYWRcbn0gZnJvbSAnbHVjaWRlLXJlYWN0JztcbmltcG9ydCB7IHVzZUNhcmRIaXN0b3J5IH0gZnJvbSAnQC9ob29rcy91c2VDYXJkSGlzdG9yeVNpbXBsaWZpZWQnO1xuaW1wb3J0IHsgdG9hc3QgfSBmcm9tICdzb25uZXInO1xuXG5pbnRlcmZhY2UgQ2FyZEhpc3RvcnlNb2RhbFByb3BzIHtcbiAgaXNPcGVuOiBib29sZWFuO1xuICBvbkNsb3NlOiAoKSA9PiB2b2lkO1xuICBvblJlc3VtZURyYWZ0PzogKHNlc3Npb25JZDogc3RyaW5nKSA9PiB2b2lkO1xuICBvbkxvYWRDYXJkPzogKGNhcmRJZDogc3RyaW5nKSA9PiB2b2lkO1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBDYXJkSGlzdG9yeU1vZGFsKHsgXG4gIGlzT3BlbiwgXG4gIG9uQ2xvc2UsIFxuICBvblJlc3VtZURyYWZ0LFxuICBvbkxvYWRDYXJkIFxufTogQ2FyZEhpc3RvcnlNb2RhbFByb3BzKSB7XG4gIGNvbnN0IHsgXG4gICAgY2FyZEhpc3RvcnksXG4gICAgZHJhZnRTZXNzaW9ucyxcbiAgICBjbGVhckhpc3RvcnkgXG4gIH0gPSB1c2VDYXJkSGlzdG9yeSgpO1xuICBcbiAgLy8gVGhlc2UgZmVhdHVyZXMgYXJlIG5vIGxvbmdlciBhdmFpbGFibGUgaW4gc2ltcGxpZmllZCB2ZXJzaW9uXG4gIGNvbnN0IGlzTG9hZGluZyA9IGZhbHNlO1xuICBjb25zdCBoaXN0b3J5ID0ge1xuICAgIGNvbXBsZXRlZENhcmRzOiBjYXJkSGlzdG9yeSxcbiAgICBkcmFmdFNlc3Npb25zOiBkcmFmdFNlc3Npb25zXG4gIH07XG5cbiAgLy8gUmVtb3ZlZCB0YWJzIHNpbmNlIGRyYWZ0IHNlc3Npb25zIGFyZSBubyBsb25nZXIgc3VwcG9ydGVkXG5cbiAgY29uc3QgaGFuZGxlUmVzdW1lRHJhZnQgPSAoc2Vzc2lvbklkOiBzdHJpbmcpID0+IHtcbiAgICAvLyBEcmFmdCBzZXNzaW9ucyBhcmUgbm8gbG9uZ2VyIHN1cHBvcnRlZCBpbiBzaW1wbGlmaWVkIHZlcnNpb25cbiAgICB0b2FzdC5pbmZvKCdEcmFmdCBzZXNzaW9ucyBhcmUgbm8gbG9uZ2VyIHN1cHBvcnRlZC4gUGxlYXNlIHN0YXJ0IGEgbmV3IGNhcmQuJyk7XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlRGVsZXRlRHJhZnQgPSAoc2Vzc2lvbklkOiBzdHJpbmcpID0+IHtcbiAgICAvLyBEcmFmdCBkZWxldGlvbiBub3Qgc3VwcG9ydGVkIGluIHNpbXBsaWZpZWQgdmVyc2lvblxuICAgIHRvYXN0LmluZm8oJ0RyYWZ0IG1hbmFnZW1lbnQgaGFzIGJlZW4gc2ltcGxpZmllZC4nKTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVEZWxldGVDYXJkID0gKGNhcmRJZDogc3RyaW5nKSA9PiB7XG4gICAgLy8gSW5kaXZpZHVhbCBjYXJkIGRlbGV0aW9uIG5vdCBzdXBwb3J0ZWQgaW4gc2ltcGxpZmllZCB2ZXJzaW9uXG4gICAgdG9hc3QuaW5mbygnQ2FyZCBoaXN0b3J5IGlzIGF1dG9tYXRpY2FsbHkgbWFuYWdlZC4nKTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVDbGVhckFsbCA9ICgpID0+IHtcbiAgICBjbGVhckhpc3RvcnkoKTtcbiAgICB0b2FzdC5zdWNjZXNzKCdBbGwgaGlzdG9yeSBjbGVhcmVkJyk7XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlU2hhcmVDYXJkID0gYXN5bmMgKGNhcmQ6IGFueSkgPT4ge1xuICAgIGlmIChjYXJkLnNoYXJlVXJsKSB7XG4gICAgICB0cnkge1xuICAgICAgICBhd2FpdCBuYXZpZ2F0b3IuY2xpcGJvYXJkLndyaXRlVGV4dChjYXJkLnNoYXJlVXJsKTtcbiAgICAgICAgdG9hc3Quc3VjY2VzcygnU2hhcmUgbGluayBjb3BpZWQgdG8gY2xpcGJvYXJkIScpO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgdG9hc3QuZXJyb3IoJ0ZhaWxlZCB0byBjb3B5IHNoYXJlIGxpbmsnKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdG9hc3QuZXJyb3IoJ05vIHNoYXJlIGxpbmsgYXZhaWxhYmxlIGZvciB0aGlzIGNhcmQnKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgZm9ybWF0RGF0ZSA9IChkYXRlOiBzdHJpbmcgfCBEYXRlKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBEYXRlKGRhdGUpLnRvTG9jYWxlRGF0ZVN0cmluZygnZW4tVVMnLCB7XG4gICAgICBtb250aDogJ3Nob3J0JyxcbiAgICAgIGRheTogJ251bWVyaWMnLFxuICAgICAgaG91cjogJ251bWVyaWMnLFxuICAgICAgbWludXRlOiAnMi1kaWdpdCdcbiAgICB9KTtcbiAgfTtcblxuICBjb25zdCBnZXRSZWxhdGl2ZVRpbWUgPSAoZGF0ZTogc3RyaW5nIHwgRGF0ZSkgPT4ge1xuICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCk7XG4gICAgY29uc3QgZGlmZkluSG91cnMgPSBNYXRoLmZsb29yKChub3cuZ2V0VGltZSgpIC0gbmV3IERhdGUoZGF0ZSkuZ2V0VGltZSgpKSAvICgxMDAwICogNjAgKiA2MCkpO1xuICAgIFxuICAgIGlmIChkaWZmSW5Ib3VycyA8IDEpIHJldHVybiAnSnVzdCBub3cnO1xuICAgIGlmIChkaWZmSW5Ib3VycyA8IDI0KSByZXR1cm4gYCR7ZGlmZkluSG91cnN9aCBhZ29gO1xuICAgIGlmIChkaWZmSW5Ib3VycyA8IDQ4KSByZXR1cm4gJzEgZGF5IGFnbyc7XG4gICAgcmV0dXJuIGAke01hdGguZmxvb3IoZGlmZkluSG91cnMgLyAyNCl9IGRheXMgYWdvYDtcbiAgfTtcblxuICByZXR1cm4gKFxuICAgIDxEaWFsb2cgb3Blbj17aXNPcGVufSBvbk9wZW5DaGFuZ2U9e29uQ2xvc2V9PlxuICAgICAgPERpYWxvZ0NvbnRlbnQgY2xhc3NOYW1lPVwibWF4LXctNHhsIG1heC1oLVs4MHZoXSBwLTBcIj5cbiAgICAgICAgPERpYWxvZ0hlYWRlciBjbGFzc05hbWU9XCJwLTYgcGItNFwiPlxuICAgICAgICAgIDxEaWFsb2dUaXRsZSBjbGFzc05hbWU9XCJ0ZXh0LXhsIGZvbnQtYm9sZFwiPllvdXIgQ2FyZCBIaXN0b3J5PC9EaWFsb2dUaXRsZT5cbiAgICAgICAgICA8RGlhbG9nRGVzY3JpcHRpb24+XG4gICAgICAgICAgICBWaWV3IHlvdXIgcmVjZW50bHkgZ2VuZXJhdGVkIGNhcmRzXG4gICAgICAgICAgPC9EaWFsb2dEZXNjcmlwdGlvbj5cbiAgICAgICAgPC9EaWFsb2dIZWFkZXI+XG5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4LTFcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInB4LTYgcGItNlwiPlxuICAgICAgICAgICAgey8qIENvbXBsZXRlZCBDYXJkcyAqL31cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtNFwiPlxuICAgICAgICAgICAgICA8U2Nyb2xsQXJlYSBjbGFzc05hbWU9XCJoLTk2XCI+XG4gICAgICAgICAgICAgICAge2hpc3RvcnkuY29tcGxldGVkQ2FyZHMubGVuZ3RoID09PSAwID8gKFxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlciBweS04XCI+XG4gICAgICAgICAgICAgICAgICAgIDxGaWxlVGV4dCBjbGFzc05hbWU9XCJ3LTEyIGgtMTIgdGV4dC1ncmF5LTQwMCBteC1hdXRvIG1iLTRcIiAvPlxuICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNTAwIGRhcms6dGV4dC1ncmF5LTQwMFwiPk5vIGNvbXBsZXRlZCBjYXJkcyB5ZXQ8L3A+XG4gICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1ncmF5LTQwMCBkYXJrOnRleHQtZ3JheS01MDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICBDb21wbGV0ZSB5b3VyIGZpcnN0IGNhcmQgdG8gc2VlIGl0IGhlcmUhXG4gICAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktNFwiPlxuICAgICAgICAgICAgICAgICAgICB7aGlzdG9yeS5jb21wbGV0ZWRDYXJkcy5tYXAoKGNhcmQpID0+IChcbiAgICAgICAgICAgICAgICAgICAgICA8Q2FyZCBrZXk9e2NhcmQuaWR9IGNsYXNzTmFtZT1cImhvdmVyOnNoYWRvdy1tZCB0cmFuc2l0aW9uLXNoYWRvd1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPENhcmRDb250ZW50IGNsYXNzTmFtZT1cInAtNFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtc3RhcnQgZ2FwLTRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7LyogQ2FyZCBQcmV2aWV3ICovfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC1zaHJpbmstMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGltZyBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3JjPXtjYXJkLnRodW1ibmFpbFVybCB8fCAnL3BsYWNlaG9sZGVyLWNhcmQucG5nJ30gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsdD1cIkNhcmQgcHJldmlld1wiIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LTIwIGgtMjggb2JqZWN0LWNvdmVyIHJvdW5kZWQtbGcgYm9yZGVyIHNoYWRvdy1zbVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsvKiBDYXJkIERldGFpbHMgKi99XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4LTEgbWluLXctMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLXN0YXJ0IGp1c3RpZnktYmV0d2VlbiBtYi0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkIHRleHQtZ3JheS05MDAgZGFyazp0ZXh0LXdoaXRlIHRydW5jYXRlXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2NhcmQudHlwZX0gQ2FyZCB7Y2FyZC5yZWNpcGllbnQgPyBgZm9yICR7Y2FyZC5yZWNpcGllbnR9YCA6ICcnfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2gzPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yIG1sLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QmFkZ2UgdmFyaWFudD1cInNlY29uZGFyeVwiIGNsYXNzTmFtZT1cInRleHQteHNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDYWxlbmRhciBjbGFzc05hbWU9XCJ3LTMgaC0zIG1yLTFcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2Zvcm1hdERhdGUoY2FyZC5kYXRlKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0JhZGdlPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC00IHRleHQtc20gdGV4dC1ncmF5LTYwMCBkYXJrOnRleHQtZ3JheS00MDAgbWItM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDbG9jayBjbGFzc05hbWU9XCJ3LTQgaC00XCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Z2V0UmVsYXRpdmVUaW1lKGNhcmQuZGF0ZSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2NhcmQudG9uZSAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTFcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxQYWxldHRlIGNsYXNzTmFtZT1cInctNCBoLTRcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2NhcmQudG9uZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgey8qIEFjdGlvbnMgKi99XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXJpYW50PVwib3V0bGluZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZT1cInNtXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBvbkxvYWRDYXJkPy4oY2FyZC5pZCl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTFcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEltYWdlIGNsYXNzTmFtZT1cInctNCBoLTRcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFZpZXdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y2FyZC5zaGFyZVVybCAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyaWFudD1cIm91dGxpbmVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZT1cInNtXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGhhbmRsZVNoYXJlQ2FyZChjYXJkKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0xXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2hhcmUyIGNsYXNzTmFtZT1cInctNCBoLTRcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU2hhcmVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXJpYW50PVwib3V0bGluZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZT1cInNtXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBoYW5kbGVEZWxldGVDYXJkKGNhcmQuaWQpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0xIHRleHQtcmVkLTYwMCBob3Zlcjp0ZXh0LXJlZC03MDBcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRyYXNoMiBjbGFzc05hbWU9XCJ3LTQgaC00XCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWxldGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L0NhcmRDb250ZW50PlxuICAgICAgICAgICAgICAgICAgICAgIDwvQ2FyZD5cbiAgICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICA8L1Njcm9sbEFyZWE+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgey8qIEZvb3RlciBBY3Rpb25zICovfVxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJvcmRlci10IHAtNCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gYmctZ3JheS01MCBkYXJrOmJnLWdyYXktODAwXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtZ3JheS02MDAgZGFyazp0ZXh0LWdyYXktNDAwXCI+XG4gICAgICAgICAgICB7aGlzdG9yeS5jb21wbGV0ZWRDYXJkcy5sZW5ndGh9IHJlY2VudCBjYXJkc1xuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cbiAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgdmFyaWFudD1cIm91dGxpbmVcIlxuICAgICAgICAgICAgICBzaXplPVwic21cIlxuICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVDbGVhckFsbH1cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidGV4dC1yZWQtNjAwIGhvdmVyOnRleHQtcmVkLTcwMFwiXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxUcmFzaDIgY2xhc3NOYW1lPVwidy00IGgtNCBtci0xXCIgLz5cbiAgICAgICAgICAgICAgQ2xlYXIgQWxsXG4gICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgIDxCdXR0b24gdmFyaWFudD1cIm91dGxpbmVcIiBvbkNsaWNrPXtvbkNsb3NlfT5cbiAgICAgICAgICAgICAgQ2xvc2VcbiAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvRGlhbG9nQ29udGVudD5cbiAgICA8L0RpYWxvZz5cbiAgKTtcbn0iXSwibmFtZXMiOlsiUmVhY3QiLCJEaWFsb2ciLCJEaWFsb2dDb250ZW50IiwiRGlhbG9nSGVhZGVyIiwiRGlhbG9nVGl0bGUiLCJEaWFsb2dEZXNjcmlwdGlvbiIsIkJ1dHRvbiIsIkJhZGdlIiwiQ2FyZCIsIkNhcmRDb250ZW50IiwiU2Nyb2xsQXJlYSIsIkNsb2NrIiwiVHJhc2gyIiwiQ2FsZW5kYXIiLCJJbWFnZSIsIkZpbGVUZXh0IiwiUGFsZXR0ZSIsIlNoYXJlMiIsInVzZUNhcmRIaXN0b3J5IiwidG9hc3QiLCJDYXJkSGlzdG9yeU1vZGFsIiwiaXNPcGVuIiwib25DbG9zZSIsIm9uUmVzdW1lRHJhZnQiLCJvbkxvYWRDYXJkIiwiY2FyZEhpc3RvcnkiLCJkcmFmdFNlc3Npb25zIiwiY2xlYXJIaXN0b3J5IiwiaXNMb2FkaW5nIiwiaGlzdG9yeSIsImNvbXBsZXRlZENhcmRzIiwiaGFuZGxlUmVzdW1lRHJhZnQiLCJzZXNzaW9uSWQiLCJpbmZvIiwiaGFuZGxlRGVsZXRlRHJhZnQiLCJoYW5kbGVEZWxldGVDYXJkIiwiY2FyZElkIiwiaGFuZGxlQ2xlYXJBbGwiLCJzdWNjZXNzIiwiaGFuZGxlU2hhcmVDYXJkIiwiY2FyZCIsInNoYXJlVXJsIiwibmF2aWdhdG9yIiwiY2xpcGJvYXJkIiwid3JpdGVUZXh0IiwiZXJyb3IiLCJmb3JtYXREYXRlIiwiZGF0ZSIsIkRhdGUiLCJ0b0xvY2FsZURhdGVTdHJpbmciLCJtb250aCIsImRheSIsImhvdXIiLCJtaW51dGUiLCJnZXRSZWxhdGl2ZVRpbWUiLCJub3ciLCJkaWZmSW5Ib3VycyIsIk1hdGgiLCJmbG9vciIsImdldFRpbWUiLCJvcGVuIiwib25PcGVuQ2hhbmdlIiwiY2xhc3NOYW1lIiwiZGl2IiwibGVuZ3RoIiwicCIsIm1hcCIsImltZyIsInNyYyIsInRodW1ibmFpbFVybCIsImFsdCIsImgzIiwidHlwZSIsInJlY2lwaWVudCIsInZhcmlhbnQiLCJzcGFuIiwidG9uZSIsInNpemUiLCJvbkNsaWNrIiwiaWQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./components/CardHistoryModal.tsx\n");

/***/ }),

/***/ "(ssr)/./components/CardPreview.tsx":
/*!************************************!*\
  !*** ./components/CardPreview.tsx ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ CardPreview)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _components_ui_button__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/components/ui/button */ \"(ssr)/./components/ui/button.tsx\");\n/* harmony import */ var _components_ui_badge__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/components/ui/badge */ \"(ssr)/./components/ui/badge.tsx\");\n/* harmony import */ var _components_ui_dialog__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/components/ui/dialog */ \"(ssr)/./components/ui/dialog.tsx\");\n/* harmony import */ var _components_ui_textarea__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/components/ui/textarea */ \"(ssr)/./components/ui/textarea.tsx\");\n/* harmony import */ var _components_ui_input__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/components/ui/input */ \"(ssr)/./components/ui/input.tsx\");\n/* harmony import */ var _components_ui_select__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @/components/ui/select */ \"(ssr)/./components/ui/select.tsx\");\n/* harmony import */ var _barrel_optimize_names_AlertCircle_CheckCircle_ChevronLeft_ChevronRight_Copy_Edit3_Eye_Loader2_Mail_Maximize2_Pause_Play_Printer_RotateCcw_Share2_Wand2_X_lucide_react__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! __barrel_optimize__?names=AlertCircle,CheckCircle,ChevronLeft,ChevronRight,Copy,Edit3,Eye,Loader2,Mail,Maximize2,Pause,Play,Printer,RotateCcw,Share2,Wand2,X!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/loader-circle.js\");\n/* harmony import */ var _barrel_optimize_names_AlertCircle_CheckCircle_ChevronLeft_ChevronRight_Copy_Edit3_Eye_Loader2_Mail_Maximize2_Pause_Play_Printer_RotateCcw_Share2_Wand2_X_lucide_react__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! __barrel_optimize__?names=AlertCircle,CheckCircle,ChevronLeft,ChevronRight,Copy,Edit3,Eye,Loader2,Mail,Maximize2,Pause,Play,Printer,RotateCcw,Share2,Wand2,X!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/circle-check-big.js\");\n/* harmony import */ var _barrel_optimize_names_AlertCircle_CheckCircle_ChevronLeft_ChevronRight_Copy_Edit3_Eye_Loader2_Mail_Maximize2_Pause_Play_Printer_RotateCcw_Share2_Wand2_X_lucide_react__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! __barrel_optimize__?names=AlertCircle,CheckCircle,ChevronLeft,ChevronRight,Copy,Edit3,Eye,Loader2,Mail,Maximize2,Pause,Play,Printer,RotateCcw,Share2,Wand2,X!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/circle-alert.js\");\n/* harmony import */ var _barrel_optimize_names_AlertCircle_CheckCircle_ChevronLeft_ChevronRight_Copy_Edit3_Eye_Loader2_Mail_Maximize2_Pause_Play_Printer_RotateCcw_Share2_Wand2_X_lucide_react__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! __barrel_optimize__?names=AlertCircle,CheckCircle,ChevronLeft,ChevronRight,Copy,Edit3,Eye,Loader2,Mail,Maximize2,Pause,Play,Printer,RotateCcw,Share2,Wand2,X!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/eye.js\");\n/* harmony import */ var _barrel_optimize_names_AlertCircle_CheckCircle_ChevronLeft_ChevronRight_Copy_Edit3_Eye_Loader2_Mail_Maximize2_Pause_Play_Printer_RotateCcw_Share2_Wand2_X_lucide_react__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! __barrel_optimize__?names=AlertCircle,CheckCircle,ChevronLeft,ChevronRight,Copy,Edit3,Eye,Loader2,Mail,Maximize2,Pause,Play,Printer,RotateCcw,Share2,Wand2,X!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/pause.js\");\n/* harmony import */ var _barrel_optimize_names_AlertCircle_CheckCircle_ChevronLeft_ChevronRight_Copy_Edit3_Eye_Loader2_Mail_Maximize2_Pause_Play_Printer_RotateCcw_Share2_Wand2_X_lucide_react__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! __barrel_optimize__?names=AlertCircle,CheckCircle,ChevronLeft,ChevronRight,Copy,Edit3,Eye,Loader2,Mail,Maximize2,Pause,Play,Printer,RotateCcw,Share2,Wand2,X!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/play.js\");\n/* harmony import */ var _barrel_optimize_names_AlertCircle_CheckCircle_ChevronLeft_ChevronRight_Copy_Edit3_Eye_Loader2_Mail_Maximize2_Pause_Play_Printer_RotateCcw_Share2_Wand2_X_lucide_react__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! __barrel_optimize__?names=AlertCircle,CheckCircle,ChevronLeft,ChevronRight,Copy,Edit3,Eye,Loader2,Mail,Maximize2,Pause,Play,Printer,RotateCcw,Share2,Wand2,X!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/rotate-ccw.js\");\n/* harmony import */ var _barrel_optimize_names_AlertCircle_CheckCircle_ChevronLeft_ChevronRight_Copy_Edit3_Eye_Loader2_Mail_Maximize2_Pause_Play_Printer_RotateCcw_Share2_Wand2_X_lucide_react__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! __barrel_optimize__?names=AlertCircle,CheckCircle,ChevronLeft,ChevronRight,Copy,Edit3,Eye,Loader2,Mail,Maximize2,Pause,Play,Printer,RotateCcw,Share2,Wand2,X!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/maximize-2.js\");\n/* harmony import */ var _barrel_optimize_names_AlertCircle_CheckCircle_ChevronLeft_ChevronRight_Copy_Edit3_Eye_Loader2_Mail_Maximize2_Pause_Play_Printer_RotateCcw_Share2_Wand2_X_lucide_react__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! __barrel_optimize__?names=AlertCircle,CheckCircle,ChevronLeft,ChevronRight,Copy,Edit3,Eye,Loader2,Mail,Maximize2,Pause,Play,Printer,RotateCcw,Share2,Wand2,X!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/pen-line.js\");\n/* harmony import */ var _barrel_optimize_names_AlertCircle_CheckCircle_ChevronLeft_ChevronRight_Copy_Edit3_Eye_Loader2_Mail_Maximize2_Pause_Play_Printer_RotateCcw_Share2_Wand2_X_lucide_react__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! __barrel_optimize__?names=AlertCircle,CheckCircle,ChevronLeft,ChevronRight,Copy,Edit3,Eye,Loader2,Mail,Maximize2,Pause,Play,Printer,RotateCcw,Share2,Wand2,X!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/chevron-left.js\");\n/* harmony import */ var _barrel_optimize_names_AlertCircle_CheckCircle_ChevronLeft_ChevronRight_Copy_Edit3_Eye_Loader2_Mail_Maximize2_Pause_Play_Printer_RotateCcw_Share2_Wand2_X_lucide_react__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! __barrel_optimize__?names=AlertCircle,CheckCircle,ChevronLeft,ChevronRight,Copy,Edit3,Eye,Loader2,Mail,Maximize2,Pause,Play,Printer,RotateCcw,Share2,Wand2,X!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/chevron-right.js\");\n/* harmony import */ var _barrel_optimize_names_AlertCircle_CheckCircle_ChevronLeft_ChevronRight_Copy_Edit3_Eye_Loader2_Mail_Maximize2_Pause_Play_Printer_RotateCcw_Share2_Wand2_X_lucide_react__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! __barrel_optimize__?names=AlertCircle,CheckCircle,ChevronLeft,ChevronRight,Copy,Edit3,Eye,Loader2,Mail,Maximize2,Pause,Play,Printer,RotateCcw,Share2,Wand2,X!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/wand-sparkles.js\");\n/* harmony import */ var _barrel_optimize_names_AlertCircle_CheckCircle_ChevronLeft_ChevronRight_Copy_Edit3_Eye_Loader2_Mail_Maximize2_Pause_Play_Printer_RotateCcw_Share2_Wand2_X_lucide_react__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! __barrel_optimize__?names=AlertCircle,CheckCircle,ChevronLeft,ChevronRight,Copy,Edit3,Eye,Loader2,Mail,Maximize2,Pause,Play,Printer,RotateCcw,Share2,Wand2,X!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/printer.js\");\n/* harmony import */ var _barrel_optimize_names_AlertCircle_CheckCircle_ChevronLeft_ChevronRight_Copy_Edit3_Eye_Loader2_Mail_Maximize2_Pause_Play_Printer_RotateCcw_Share2_Wand2_X_lucide_react__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! __barrel_optimize__?names=AlertCircle,CheckCircle,ChevronLeft,ChevronRight,Copy,Edit3,Eye,Loader2,Mail,Maximize2,Pause,Play,Printer,RotateCcw,Share2,Wand2,X!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/share-2.js\");\n/* harmony import */ var _barrel_optimize_names_AlertCircle_CheckCircle_ChevronLeft_ChevronRight_Copy_Edit3_Eye_Loader2_Mail_Maximize2_Pause_Play_Printer_RotateCcw_Share2_Wand2_X_lucide_react__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! __barrel_optimize__?names=AlertCircle,CheckCircle,ChevronLeft,ChevronRight,Copy,Edit3,Eye,Loader2,Mail,Maximize2,Pause,Play,Printer,RotateCcw,Share2,Wand2,X!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/copy.js\");\n/* harmony import */ var _barrel_optimize_names_AlertCircle_CheckCircle_ChevronLeft_ChevronRight_Copy_Edit3_Eye_Loader2_Mail_Maximize2_Pause_Play_Printer_RotateCcw_Share2_Wand2_X_lucide_react__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! __barrel_optimize__?names=AlertCircle,CheckCircle,ChevronLeft,ChevronRight,Copy,Edit3,Eye,Loader2,Mail,Maximize2,Pause,Play,Printer,RotateCcw,Share2,Wand2,X!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/mail.js\");\n/* harmony import */ var _barrel_optimize_names_AlertCircle_CheckCircle_ChevronLeft_ChevronRight_Copy_Edit3_Eye_Loader2_Mail_Maximize2_Pause_Play_Printer_RotateCcw_Share2_Wand2_X_lucide_react__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! __barrel_optimize__?names=AlertCircle,CheckCircle,ChevronLeft,ChevronRight,Copy,Edit3,Eye,Loader2,Mail,Maximize2,Pause,Play,Printer,RotateCcw,Share2,Wand2,X!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/x.js\");\n/* harmony import */ var framer_motion__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! framer-motion */ \"(ssr)/./node_modules/framer-motion/dist/es/render/components/motion/proxy.mjs\");\n/* harmony import */ var framer_motion__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! framer-motion */ \"(ssr)/./node_modules/framer-motion/dist/es/components/AnimatePresence/index.mjs\");\n/* harmony import */ var sonner__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! sonner */ \"(ssr)/./node_modules/sonner/dist/index.mjs\");\n/* harmony import */ var _ProgressiveImage__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./ProgressiveImage */ \"(ssr)/./components/ProgressiveImage.tsx\");\n/* harmony import */ var _utils_imageUtils__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../utils/imageUtils */ \"(ssr)/./utils/imageUtils.ts\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n// Configuration for the backend API endpoint\nconst BACKEND_API_BASE_URL = \"https://vibecarding.com\" || 0;\nconst slideVariants = {\n    enter: (direction)=>({\n            x: direction > 0 ? 1000 : -1000,\n            opacity: 0,\n            scale: 0.8\n        }),\n    center: {\n        zIndex: 1,\n        x: 0,\n        opacity: 1,\n        scale: 1\n    },\n    exit: (direction)=>({\n            zIndex: 0,\n            x: direction < 0 ? 1000 : -1000,\n            opacity: 0,\n            scale: 0.8\n        })\n};\nconst swipeConfidenceThreshold = 10000;\nconst swipePower = (offset, velocity)=>{\n    return Math.abs(offset) * velocity;\n};\nfunction CardPreview({ card, onCardUpdate, isFrontBackOnly = false, onPrint, paperConfig, sectionLoadingStates, selectedPaperSize, onPaperSizeChange, paperSizes, isCardCompleted, fastPreviewMode = false, onViewFullCard, referenceImageUrls = [], personalTraits, relationshipField, photoReferences = [] }) {\n    // Check if we're in a loading state (when card is null but we have loading states)\n    const isLoadingCard = !card && sectionLoadingStates && Object.values(sectionLoadingStates).some((state)=>state === \"loading\");\n    // Create a placeholder card object when loading\n    const displayCard = card || (isLoadingCard ? {\n        id: \"loading\",\n        prompt: \"Loading...\",\n        frontCover: \"\",\n        backCover: \"\",\n        leftPage: \"\",\n        rightPage: \"\",\n        createdAt: new Date()\n    } : null);\n    // Don't render anything if no card and not loading\n    if (!displayCard) {\n        return null;\n    }\n    const [currentSlide, setCurrentSlide] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const [direction, setDirection] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const [isAutoPlay, setIsAutoPlay] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [autoPlayInterval, setAutoPlayInterval] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [isFullscreen, setIsFullscreen] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // Edit state\n    const [editingSection, setEditingSection] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [editPrompt, setEditPrompt] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [isEditing, setIsEditing] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // Version history state\n    const [versionHistory, setVersionHistory] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({});\n    const [currentVersionIndex, setCurrentVersionIndex] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({});\n    // Sharing state\n    const [isSharing, setIsSharing] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [shareUrl, setShareUrl] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [showShareDialog, setShowShareDialog] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [emailAddress, setEmailAddress] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [isSendingEmail, setIsSendingEmail] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // Factory state\n    const [isSendingToFactory, setIsSendingToFactory] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // Thumbnail generation state\n    const [thumbnailUrls, setThumbnailUrls] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({});\n    // Test toggle for handwritten overlay\n    // Generate thumbnail for an image\n    const generateThumbnail = async (imageUrl)=>{\n        try {\n            // Check if thumbnail already exists\n            if (thumbnailUrls[imageUrl]) {\n                return thumbnailUrls[imageUrl];\n            }\n            const response = await fetch(\"/generate_thumbnail\", {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                    image_url: imageUrl,\n                    width: 400,\n                    height: 600,\n                    quality: 85\n                })\n            });\n            if (!response.ok) {\n                console.warn(\"Failed to generate thumbnail:\", response.statusText);\n                return null;\n            }\n            const data = await response.json();\n            const thumbnailUrl = data.thumbnail_url;\n            // Cache the thumbnail URL\n            setThumbnailUrls((prev)=>({\n                    ...prev,\n                    [imageUrl]: thumbnailUrl\n                }));\n            return thumbnailUrl;\n        } catch (error) {\n            console.warn(\"Error generating thumbnail:\", error);\n            return null;\n        }\n    };\n    // Preload critical images for better performance (no thumbnails - use full quality)\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (displayCard && !isLoadingCard) {\n            // Preload the front cover as it's most critical\n            if (displayCard.frontCover) {\n                (0,_utils_imageUtils__WEBPACK_IMPORTED_MODULE_10__.preloadCriticalImages)([\n                    displayCard.frontCover\n                ]);\n            }\n            // Preload other images for better UX\n            const otherImages = [\n                displayCard.backCover,\n                displayCard.leftPage,\n                displayCard.rightPage\n            ].filter(Boolean);\n            if (otherImages.length > 0) {\n                // Preload other images with a slight delay to prioritize front cover\n                setTimeout(()=>{\n                    (0,_utils_imageUtils__WEBPACK_IMPORTED_MODULE_10__.preloadCriticalImages)(otherImages);\n                }, 1000);\n            }\n        }\n    }, [\n        displayCard,\n        isLoadingCard\n    ]);\n    // Helper function to get the current image (from version history if available, otherwise original)\n    const getCurrentImage = (sectionId, originalImage)=>{\n        const history = versionHistory[sectionId];\n        const currentIndex = currentVersionIndex[sectionId];\n        if (history && history.length > 0 && currentIndex !== undefined) {\n            return history[currentIndex];\n        }\n        return originalImage;\n    };\n    // Version navigation functions\n    const canGoBack = (sectionId)=>{\n        const currentIndex = currentVersionIndex[sectionId];\n        return currentIndex !== undefined && currentIndex > 0;\n    };\n    const canGoForward = (sectionId)=>{\n        const history = versionHistory[sectionId];\n        const currentIndex = currentVersionIndex[sectionId];\n        return history && currentIndex !== undefined && currentIndex < history.length - 1;\n    };\n    const goToPreviousVersion = (sectionId)=>{\n        if (canGoBack(sectionId)) {\n            setCurrentVersionIndex((prev)=>({\n                    ...prev,\n                    [sectionId]: prev[sectionId] - 1\n                }));\n        }\n    };\n    const goToNextVersion = (sectionId)=>{\n        if (canGoForward(sectionId)) {\n            setCurrentVersionIndex((prev)=>({\n                    ...prev,\n                    [sectionId]: prev[sectionId] + 1\n                }));\n        }\n    };\n    const addToVersionHistory = (sectionId, imageUrl)=>{\n        const currentHistory = versionHistory[sectionId] || [];\n        const currentIndex = currentVersionIndex[sectionId] || -1;\n        // If we're not at the latest version, truncate history from current position\n        const truncatedHistory = currentHistory.slice(0, currentIndex + 1);\n        const newHistory = [\n            ...truncatedHistory,\n            imageUrl\n        ];\n        setVersionHistory((prev)=>({\n                ...prev,\n                [sectionId]: newHistory\n            }));\n        setCurrentVersionIndex((prev)=>({\n                ...prev,\n                [sectionId]: newHistory.length - 1 // Points to the newly added version\n            }));\n    };\n    // Helper function to get the source image URL for editing\n    const getSourceImageForEdit = (sectionId)=>{\n        switch(sectionId){\n            case \"front-cover\":\n                return displayCard.frontCover;\n            case \"back-cover\":\n                return displayCard.backCover;\n            case \"left-interior\":\n                return displayCard.leftPage;\n            case \"right-interior\":\n                return displayCard.rightPage;\n            default:\n                return null;\n        }\n    };\n    const allSlides = [\n        {\n            id: \"front-cover\",\n            title: \"Front Cover\",\n            subtitle: \"What recipients see first\",\n            image: getCurrentImage(\"front-cover\", displayCard.frontCover),\n            originalImage: displayCard.frontCover,\n            description: \"The front cover design that recipients will see first.\",\n            color: \"bg-blue-500\",\n            type: \"single\",\n            editLabel: \"Edit Front Cover\"\n        },\n        {\n            id: \"left-interior\",\n            title: \"Left Interior\",\n            subtitle: \"Decorative page\",\n            image: getCurrentImage(\"left-interior\", displayCard.leftPage),\n            originalImage: displayCard.leftPage,\n            description: \"The decorative left page when the card is opened.\",\n            color: \"bg-emerald-500\",\n            type: \"single\",\n            editLabel: \"Edit Left Interior\"\n        },\n        {\n            id: \"right-interior\",\n            title: \"Right Interior\",\n            subtitle: \"Message page\",\n            image: getCurrentImage(\"right-interior\", displayCard.rightPage),\n            originalImage: displayCard.rightPage,\n            description: \"The right page with your message when the card is opened.\",\n            color: \"bg-emerald-600\",\n            type: \"single\",\n            editLabel: \"Edit Right Interior\"\n        },\n        {\n            id: \"back-cover\",\n            title: \"Back Cover\",\n            subtitle: \"What's on the back\",\n            image: getCurrentImage(\"back-cover\", displayCard.backCover),\n            originalImage: displayCard.backCover,\n            description: \"The back of the card with subtle design elements.\",\n            color: \"bg-gray-500\",\n            type: \"single\",\n            editLabel: \"Edit Back Cover\"\n        }\n    ];\n    // Filter slides based on isFrontBackOnly prop\n    const slides = isFrontBackOnly ? allSlides.filter((slide)=>!slide.id.includes(\"interior\")) : allSlides;\n    const paginate = (newDirection)=>{\n        setDirection(newDirection);\n        setCurrentSlide((prev)=>{\n            if (newDirection === 1) {\n                return prev === slides.length - 1 ? 0 : prev + 1;\n            } else {\n                return prev === 0 ? slides.length - 1 : prev - 1;\n            }\n        });\n    };\n    const goToSlide = (index)=>{\n        setDirection(index > currentSlide ? 1 : -1);\n        setCurrentSlide(index);\n    };\n    const toggleAutoPlay = ()=>{\n        if (isAutoPlay) {\n            if (autoPlayInterval) {\n                clearInterval(autoPlayInterval);\n                setAutoPlayInterval(null);\n            }\n            setIsAutoPlay(false);\n        } else {\n            const interval = setInterval(()=>{\n                paginate(1);\n            }, 3000);\n            setAutoPlayInterval(interval);\n            setIsAutoPlay(true);\n        }\n    };\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        return ()=>{\n            if (autoPlayInterval) {\n                clearInterval(autoPlayInterval);\n            }\n        };\n    }, [\n        autoPlayInterval\n    ]);\n    // Handle fullscreen mode\n    const openFullscreen = ()=>{\n        setIsFullscreen(true);\n        // Disable body scroll when fullscreen is open\n        document.body.style.overflow = \"hidden\";\n    };\n    const closeFullscreen = ()=>{\n        setIsFullscreen(false);\n        // Re-enable body scroll\n        document.body.style.overflow = \"unset\";\n    };\n    // Handle escape key to close fullscreen\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const handleEscape = (e)=>{\n            if (e.key === \"Escape\" && isFullscreen) {\n                closeFullscreen();\n            }\n        };\n        if (isFullscreen) {\n            document.addEventListener(\"keydown\", handleEscape);\n            return ()=>document.removeEventListener(\"keydown\", handleEscape);\n        }\n    }, [\n        isFullscreen\n    ]);\n    // Edit functionality\n    const handleEditSection = (sectionId)=>{\n        // Don't allow editing if we're in loading mode\n        if (isLoadingCard) {\n            sonner__WEBPACK_IMPORTED_MODULE_8__.toast.error(\"Please wait for the card to finish generating before editing\");\n            return;\n        }\n        setEditingSection(sectionId);\n        setEditPrompt(\"\");\n    };\n    const handleSubmitEdit = async ()=>{\n        if (!editingSection || !editPrompt.trim()) {\n            sonner__WEBPACK_IMPORTED_MODULE_8__.toast.error(\"Please enter an edit prompt\");\n            return;\n        }\n        const sourceImageUrl = getSourceImageForEdit(editingSection);\n        if (!sourceImageUrl) {\n            sonner__WEBPACK_IMPORTED_MODULE_8__.toast.error(\"Could not find source image for editing\");\n            return;\n        }\n        setIsEditing(true);\n        try {\n            // Get the original generated prompt for this section to provide context\n            let originalPrompt = \"\";\n            if (displayCard.generatedPrompts) {\n                switch(editingSection){\n                    case \"front-cover\":\n                        originalPrompt = displayCard.generatedPrompts.frontCover || \"\";\n                        break;\n                    case \"back-cover\":\n                        originalPrompt = displayCard.generatedPrompts.backCover || \"\";\n                        break;\n                    case \"left-interior\":\n                        originalPrompt = displayCard.generatedPrompts.leftInterior || \"\";\n                        break;\n                    case \"right-interior\":\n                        originalPrompt = displayCard.generatedPrompts.rightInterior || \"\";\n                        break;\n                }\n            }\n            let finalEditPrompt = \"\";\n            if (originalPrompt) {\n                // Build additional context information\n                let additionalContext = \"\";\n                if (editingSection === \"front-cover\" && referenceImageUrls.length > 0) {\n                    additionalContext += `\\n\\nREFERENCE PHOTOS: ${referenceImageUrls.length} reference photos are attached showing the people to be included in the card.`;\n                    if (photoReferences.length > 0) {\n                        additionalContext += \"\\nPeople in photos:\";\n                        photoReferences.forEach((ref, idx)=>{\n                            additionalContext += `\\n- Photo ${idx + 1}: ${ref.description || \"Person in photo\"}`;\n                        });\n                    }\n                    additionalContext += \"\\nIMPORTANT: Transform these people into cartoon/illustrated characters. Keep their clothing but omit any text/logos on clothes.\";\n                }\n                if (personalTraits) {\n                    additionalContext += `\\n\\nPERSONAL TRAITS: ${personalTraits}`;\n                }\n                if (relationshipField) {\n                    additionalContext += `\\n\\nRELATIONSHIP: ${relationshipField}`;\n                }\n                // Use AI to intelligently modify the original prompt based on user's edit request\n                const promptModificationQuery = `You are an expert AI prompt engineer specializing in image generation prompts for greeting cards. Your task is to modify an existing image generation prompt based on a user's edit request.\n\nORIGINAL PROMPT:\n\"${originalPrompt}\"\n\nUSER'S EDIT REQUEST:\n\"${editPrompt}\"${additionalContext}\n\nCRITICAL INSTRUCTIONS:\n1. You MUST return the ENTIRE modified prompt, not just the changes\n2. Keep ALL the original formatting, style instructions, and technical details\n3. Only modify the specific elements mentioned in the user's edit request\n4. Preserve all portrait format requirements and greeting card specifications\n5. Maintain the same level of detail and descriptiveness as the original\n6. Keep all safety instructions and content guidelines from the original\n7. Ensure the modified prompt will generate the same type of image (greeting card ${editingSection.replace(\"-\", \" \")}) with only the requested changes\n\nEXAMPLES OF WHAT TO MODIFY:\n- Colors: If user says \"make it blue\", change color references in the prompt\n- Style: If user says \"more cartoonish\", adjust style descriptors\n- Elements: If user says \"add flowers\", incorporate flower elements\n- Text: If user says \"change the message\", update text content\n- Mood: If user says \"make it happier\", adjust mood descriptors\n\nWHAT TO PRESERVE:\n- All technical specifications (portrait format, dimensions, etc.)\n- All safety and content guidelines\n- The basic structure and purpose of the image\n- All printing and edge safety requirements\n- The greeting card context and purpose\n\nReturn the ENTIRE modified prompt that incorporates the user's requested changes while preserving everything else from the original prompt. Do not provide explanations or summaries - just return the complete modified prompt.`;\n                try {\n                    const modifiedPrompt = await fetch(\"/internal/call_mcp_tool\", {\n                        method: \"POST\",\n                        headers: {\n                            \"Content-Type\": \"application/json\"\n                        },\n                        body: JSON.stringify({\n                            tool_name: \"ai_chat\",\n                            arguments: {\n                                messages: promptModificationQuery,\n                                model: \"gemini-2.5-pro\",\n                                include_thoughts: false\n                            }\n                        })\n                    });\n                    if (!modifiedPrompt.ok) throw new Error(`AI prompt modification failed: ${modifiedPrompt.status}`);\n                    const modifiedData = await modifiedPrompt.json();\n                    if (modifiedData.error && modifiedData.error !== \"None\" && modifiedData.error !== null) {\n                        throw new Error(modifiedData.error);\n                    }\n                    let modifiedResult;\n                    if (typeof modifiedData.result === \"string\") {\n                        try {\n                            modifiedResult = JSON.parse(modifiedData.result);\n                        } catch  {\n                            throw new Error(\"Invalid JSON response from AI\");\n                        }\n                    } else {\n                        modifiedResult = modifiedData.result;\n                    }\n                    if (modifiedResult.status === \"error\") {\n                        throw new Error(modifiedResult.message);\n                    }\n                    finalEditPrompt = modifiedResult.response || originalPrompt;\n                } catch (aiError) {\n                    console.warn(\"AI prompt modification failed, using fallback approach:\", aiError);\n                    // Fallback to the previous approach if AI modification fails\n                    finalEditPrompt = `CRITICAL: This is a greeting card ${editingSection.replace(\"-\", \" \")} in portrait format.\n\nORIGINAL IMAGE DESCRIPTION: The current image was created with this prompt: \"${originalPrompt}\"\n\nYour edit request: \"${editPrompt}\"${additionalContext}\n\nIMPORTANT INSTRUCTIONS:\n- This is a portrait (vertical) image for a greeting card\n- You must PRESERVE the portrait format and dimensions\n- Only modify what was specifically requested in the edit\n- Keep the overall layout structure intact - do not crop or cut off any sections\n- Maintain the aspect ratio and size of the original image\n- Ensure the edited result is suitable for printing as part of a greeting card\n- Position any text elements safely away from edges with generous margins\n- The image should remain focused on its specific purpose: ${editingSection.replace(\"-\", \" \")}\n- Base your edits on the original design described above, making only the requested changes\n\nApply the requested changes while preserving the complete image structure and portrait format.`;\n                }\n            } else {\n                // Fallback when no original prompt is available\n                // Build context for fallback\n                let fallbackContext = \"\";\n                if (editingSection === \"front-cover\" && referenceImageUrls.length > 0) {\n                    fallbackContext += `\\n\\nREFERENCE PHOTOS: ${referenceImageUrls.length} reference photos are attached.`;\n                    if (photoReferences.length > 0) {\n                        fallbackContext += \"\\nPeople in photos:\";\n                        photoReferences.forEach((ref, idx)=>{\n                            fallbackContext += `\\n- Photo ${idx + 1}: ${ref.description || \"Person in photo\"}`;\n                        });\n                    }\n                    fallbackContext += \"\\nTransform these people into cartoon/illustrated characters. Keep their clothing but omit any text/logos on clothes.\";\n                }\n                if (personalTraits) {\n                    fallbackContext += `\\n\\nPERSONAL TRAITS: ${personalTraits}`;\n                }\n                if (relationshipField) {\n                    fallbackContext += `\\n\\nRELATIONSHIP: ${relationshipField}`;\n                }\n                finalEditPrompt = `CRITICAL: This is a greeting card ${editingSection.replace(\"-\", \" \")} in portrait format.\n\nYour edit request: \"${editPrompt}\"${fallbackContext}\n\nIMPORTANT INSTRUCTIONS:\n- This is a portrait (vertical) image for a greeting card\n- You must PRESERVE the portrait format and dimensions\n- Only modify what was specifically requested in the edit\n- Keep the overall layout structure intact - do not crop or cut off any sections\n- Maintain the aspect ratio and size of the original image\n- Ensure the edited result is suitable for printing as part of a greeting card\n- Position any text elements safely away from edges with generous margins\n- The image should remain focused on its specific purpose: ${editingSection.replace(\"-\", \" \")}\n\nApply the requested changes while preserving the complete image structure and portrait format.`;\n            }\n            // Prepare images array with current card image first, then reference images\n            const imagesForEdit = [\n                sourceImageUrl\n            ];\n            // Add reference images if available (for front cover edits especially)\n            if (referenceImageUrls.length > 0 && editingSection === \"front-cover\") {\n                imagesForEdit.push(...referenceImageUrls);\n                console.log(`🖼️ Including ${referenceImageUrls.length} reference images for front cover edit`);\n            }\n            // Call the edit_images tool\n            const response = await fetch(\"/internal/call_mcp_tool\", {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                    tool_name: \"edit_images\",\n                    arguments: {\n                        images: imagesForEdit,\n                        edit_prompt: finalEditPrompt,\n                        user_number: \"+17145986105\",\n                        model: \"gpt-image-1\",\n                        output_format: \"jpeg\",\n                        quality: \"high\",\n                        output_compression: 100,\n                        size: paperConfig?.dimensions || \"1024x1536\",\n                        n: 1\n                    }\n                })\n            });\n            if (!response.ok) throw new Error(`HTTP ${response.status}`);\n            const data = await response.json();\n            if (data.error && data.error !== \"None\" && data.error !== null) {\n                throw new Error(data.error);\n            }\n            let result;\n            if (typeof data.result === \"string\") {\n                try {\n                    result = JSON.parse(data.result);\n                } catch  {\n                    throw new Error(\"Invalid JSON response\");\n                }\n            } else {\n                result = data.result;\n            }\n            if (result.status === \"error\") {\n                throw new Error(result.message);\n            }\n            // Extract the edited image URL\n            const editResult = result.results[0];\n            if (editResult.status === \"error\") {\n                throw new Error(editResult.message);\n            }\n            const editedImageUrl = editResult.edited_url;\n            if (!editedImageUrl) {\n                throw new Error(\"No edited image URL returned\");\n            }\n            // Add to version history\n            addToVersionHistory(editingSection, editedImageUrl);\n            // Update the card object if callback provided (only if not loading placeholder)\n            if (onCardUpdate && !isLoadingCard) {\n                const updatedCard = {\n                    ...displayCard\n                };\n                // Update the image URL\n                switch(editingSection){\n                    case \"front-cover\":\n                        updatedCard.frontCover = editedImageUrl;\n                        break;\n                    case \"back-cover\":\n                        updatedCard.backCover = editedImageUrl;\n                        break;\n                    case \"left-interior\":\n                        updatedCard.leftPage = editedImageUrl;\n                        break;\n                    case \"right-interior\":\n                        updatedCard.rightPage = editedImageUrl;\n                        break;\n                }\n                // Update the generated prompt with the modified version\n                if (updatedCard.generatedPrompts && finalEditPrompt) {\n                    updatedCard.generatedPrompts = {\n                        ...updatedCard.generatedPrompts\n                    };\n                    switch(editingSection){\n                        case \"front-cover\":\n                            updatedCard.generatedPrompts.frontCover = finalEditPrompt;\n                            break;\n                        case \"back-cover\":\n                            updatedCard.generatedPrompts.backCover = finalEditPrompt;\n                            break;\n                        case \"left-interior\":\n                            updatedCard.generatedPrompts.leftInterior = finalEditPrompt;\n                            break;\n                        case \"right-interior\":\n                            updatedCard.generatedPrompts.rightInterior = finalEditPrompt;\n                            break;\n                    }\n                }\n                onCardUpdate(updatedCard);\n            }\n            sonner__WEBPACK_IMPORTED_MODULE_8__.toast.success(`✨ ${slides.find((s)=>s.id === editingSection)?.title} edited successfully!`);\n            setEditingSection(null);\n            setEditPrompt(\"\");\n        } catch (error) {\n            console.error(\"Edit failed:\", error);\n            sonner__WEBPACK_IMPORTED_MODULE_8__.toast.error(`Failed to edit image: ${error instanceof Error ? error.message : \"Unknown error\"}`);\n        } finally{\n            setIsEditing(false);\n        }\n    };\n    const resetSection = (sectionId)=>{\n        setVersionHistory((prev)=>{\n            const newState = {\n                ...prev\n            };\n            delete newState[sectionId];\n            return newState;\n        });\n        setCurrentVersionIndex((prev)=>{\n            const newState = {\n                ...prev\n            };\n            delete newState[sectionId];\n            return newState;\n        });\n        sonner__WEBPACK_IMPORTED_MODULE_8__.toast.success(\"Reset to original image\");\n    };\n    // Helper function to get loading state for a slide\n    const getLoadingState = (slideId)=>{\n        if (!sectionLoadingStates) return \"idle\";\n        switch(slideId){\n            case \"front-cover\":\n                return sectionLoadingStates.frontCover;\n            case \"back-cover\":\n                return sectionLoadingStates.backCover;\n            case \"left-interior\":\n                return sectionLoadingStates.leftInterior;\n            case \"right-interior\":\n                return sectionLoadingStates.rightInterior;\n            case \"interior\":\n                // For combined interior view, show loading if either left or right is loading\n                const leftState = sectionLoadingStates.leftInterior;\n                const rightState = sectionLoadingStates.rightInterior;\n                if (leftState === \"loading\" || rightState === \"loading\") return \"loading\";\n                if (leftState === \"error\" || rightState === \"error\") return \"error\";\n                if (leftState === \"completed\" && rightState === \"completed\") return \"completed\";\n                return \"idle\";\n            default:\n                return \"idle\";\n        }\n    };\n    // Helper function to render loading indicator\n    const renderLoadingIndicator = (state)=>{\n        switch(state){\n            case \"loading\":\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"absolute top-3 left-16 bg-blue-500/90 text-white rounded-full p-2 shadow-lg\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertCircle_CheckCircle_ChevronLeft_ChevronRight_Copy_Edit3_Eye_Loader2_Mail_Maximize2_Pause_Play_Printer_RotateCcw_Share2_Wand2_X_lucide_react__WEBPACK_IMPORTED_MODULE_11__[\"default\"], {\n                        className: \"w-4 h-4 animate-spin\"\n                    }, void 0, false, {\n                        fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                        lineNumber: 808,\n                        columnNumber: 13\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                    lineNumber: 807,\n                    columnNumber: 11\n                }, this);\n            case \"completed\":\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"absolute top-3 left-16 bg-green-500/90 text-white rounded-full p-2 shadow-lg\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertCircle_CheckCircle_ChevronLeft_ChevronRight_Copy_Edit3_Eye_Loader2_Mail_Maximize2_Pause_Play_Printer_RotateCcw_Share2_Wand2_X_lucide_react__WEBPACK_IMPORTED_MODULE_12__[\"default\"], {\n                        className: \"w-4 h-4\"\n                    }, void 0, false, {\n                        fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                        lineNumber: 814,\n                        columnNumber: 13\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                    lineNumber: 813,\n                    columnNumber: 11\n                }, this);\n            case \"error\":\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"absolute top-3 left-16 bg-red-500/90 text-white rounded-full p-2 shadow-lg\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertCircle_CheckCircle_ChevronLeft_ChevronRight_Copy_Edit3_Eye_Loader2_Mail_Maximize2_Pause_Play_Printer_RotateCcw_Share2_Wand2_X_lucide_react__WEBPACK_IMPORTED_MODULE_13__[\"default\"], {\n                        className: \"w-4 h-4\"\n                    }, void 0, false, {\n                        fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                        lineNumber: 820,\n                        columnNumber: 13\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                    lineNumber: 819,\n                    columnNumber: 11\n                }, this);\n            default:\n                return null;\n        }\n    };\n    // Sharing functions\n    const handleShareCard = async ()=>{\n        // Don't allow sharing if we're in loading mode\n        if (isLoadingCard) {\n            sonner__WEBPACK_IMPORTED_MODULE_8__.toast.error(\"Please wait for the card to finish generating before sharing\");\n            return;\n        }\n        setIsSharing(true);\n        try {\n            // Check if card already has a share URL from email creation\n            if (displayCard.shareUrl) {\n                setShareUrl(displayCard.shareUrl);\n                setShowShareDialog(true);\n                sonner__WEBPACK_IMPORTED_MODULE_8__.toast.success(\"Card is ready to share!\");\n                setIsSharing(false);\n                return;\n            }\n            // If no existing URL, create a new one\n            const response = await fetch(\"/api/cards/store\", {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                    prompt: displayCard.prompt,\n                    frontCover: displayCard.frontCover,\n                    backCover: displayCard.backCover,\n                    leftPage: displayCard.leftPage,\n                    rightPage: displayCard.rightPage,\n                    generatedPrompts: displayCard.generatedPrompts || null\n                })\n            });\n            if (!response.ok) {\n                throw new Error(\"Failed to store card\");\n            }\n            const result = await response.json();\n            setShareUrl(result.share_url);\n            // Update the card with the new share URL\n            if (onCardUpdate && !isLoadingCard) {\n                onCardUpdate({\n                    ...displayCard,\n                    shareUrl: result.share_url\n                });\n            }\n            setShowShareDialog(true);\n            sonner__WEBPACK_IMPORTED_MODULE_8__.toast.success(\"Card is ready to share!\");\n        } catch (error) {\n            console.error(\"Error sharing card:\", error);\n            sonner__WEBPACK_IMPORTED_MODULE_8__.toast.error(\"Failed to prepare card for sharing\");\n        } finally{\n            setIsSharing(false);\n        }\n    };\n    const handleCopyShareUrl = async ()=>{\n        try {\n            await navigator.clipboard.writeText(shareUrl);\n            sonner__WEBPACK_IMPORTED_MODULE_8__.toast.success(\"Link copied to clipboard!\");\n        } catch (error) {\n            sonner__WEBPACK_IMPORTED_MODULE_8__.toast.error(\"Failed to copy link\");\n        }\n    };\n    const handleEmailCard = async ()=>{\n        if (!emailAddress.trim()) {\n            sonner__WEBPACK_IMPORTED_MODULE_8__.toast.error(\"Please enter an email address\");\n            return;\n        }\n        // Basic email validation\n        const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n        if (!emailRegex.test(emailAddress)) {\n            sonner__WEBPACK_IMPORTED_MODULE_8__.toast.error(\"Please enter a valid email address\");\n            return;\n        }\n        setIsSendingEmail(true);\n        try {\n            // Use the same working email service as the thank you email\n            const response = await fetch(\"https://vibecarding.com/send_email_nodejs_style\", {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                    to: emailAddress,\n                    from: \"vibecarding@ast.engineer\",\n                    subject: \"\\uD83C\\uDF89 Someone shared a beautiful card with you!\",\n                    body: `Hi there!\n\nSomeone thought you'd love to see this beautiful greeting card created with VibeCarding!\n\nView the card: ${shareUrl}\n\nThis card was created with love using our AI-powered greeting card platform. You can create your own cards at https://vibecarding.com\n\nBest regards,\nThe VibeCarding Team\nvibecarding@ast.engineer`\n                })\n            });\n            if (response.ok) {\n                sonner__WEBPACK_IMPORTED_MODULE_8__.toast.success(\"✉️ Card sent successfully via email!\");\n                setShowShareDialog(false);\n                setEmailAddress(\"\"); // Clear the email field\n            } else {\n                const errorText = await response.text();\n                console.error(\"Email send failed:\", response.status, errorText);\n                sonner__WEBPACK_IMPORTED_MODULE_8__.toast.error(\"Failed to send email. Please try again.\");\n            }\n        } catch (error) {\n            console.error(\"Error sending email:\", error);\n            sonner__WEBPACK_IMPORTED_MODULE_8__.toast.error(\"Failed to send email. Please try again.\");\n        } finally{\n            setIsSendingEmail(false);\n        }\n    };\n    const handleSendToFactory = async ()=>{\n        // Don't allow sending to factory if we're in loading mode\n        if (isLoadingCard) {\n            sonner__WEBPACK_IMPORTED_MODULE_8__.toast.error(\"Please wait for the card to finish generating before sending to factory\");\n            return;\n        }\n        setIsSendingToFactory(true);\n        try {\n            // Create a concatenated string of all image prompts\n            const promptDetails = `\nFront Cover Prompt:\n${displayCard.generatedPrompts?.frontCover || \"Not available\"}\n\nBack Cover Prompt:\n${displayCard.generatedPrompts?.backCover || \"Not available\"}\n\n${!isFrontBackOnly && displayCard.generatedPrompts?.leftInterior ? `Left Interior Prompt:\n${displayCard.generatedPrompts.leftInterior}\n\n` : \"\"}${!isFrontBackOnly && displayCard.generatedPrompts?.rightInterior ? `Right Interior Prompt:\n${displayCard.generatedPrompts.rightInterior}\n\n` : \"\"}`;\n            const response = await fetch(\"https://vibecarding.com/send_email_nodejs_style\", {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                    to: \"cards1@ast.engineer\",\n                    from: \"vibecarding@ast.engineer\",\n                    subject: \"New Card Request\",\n                    body: promptDetails\n                })\n            });\n            if (!response.ok) {\n                throw new Error(`HTTP ${response.status}`);\n            }\n            const result = await response.json();\n            if (result.status === \"success\") {\n                sonner__WEBPACK_IMPORTED_MODULE_8__.toast.success(\"\\uD83C\\uDFED Card sent to factory successfully!\");\n            } else {\n                throw new Error(result.message || \"Failed to send to factory\");\n            }\n        } catch (error) {\n            console.error(\"Error sending to factory:\", error);\n            sonner__WEBPACK_IMPORTED_MODULE_8__.toast.error(\"Failed to send to factory. Please try again.\");\n        } finally{\n            setIsSendingToFactory(false);\n        }\n    };\n    // Fast preview mode - only show front cover for quick loading\n    if (fastPreviewMode && displayCard.frontCover) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_14__.motion.div, {\n            className: \"space-y-4\",\n            initial: {\n                opacity: 0,\n                y: 20\n            },\n            animate: {\n                opacity: 1,\n                y: 0\n            },\n            transition: {\n                duration: 0.4\n            },\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"text-center\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                            className: \"text-lg font-bold mb-1\",\n                            children: \"Quick Preview\"\n                        }, void 0, false, {\n                            fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                            lineNumber: 1017,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                            className: \"text-sm text-gray-600 dark:text-gray-400\",\n                            children: \"Front cover preview - loading faster for you\"\n                        }, void 0, false, {\n                            fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                            lineNumber: 1018,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                    lineNumber: 1016,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"relative bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-800 dark:to-gray-900 rounded-2xl p-6 shadow-lg\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"relative aspect-[2/3] max-w-sm mx-auto\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"w-full h-full relative bg-white rounded-lg overflow-hidden shadow-xl group\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_ProgressiveImage__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n                                        src: displayCard.frontCover,\n                                        thumbnailSrc: undefined,\n                                        alt: \"Card front cover\",\n                                        className: \"w-full h-full object-contain\",\n                                        priority: true,\n                                        sizes: (0,_utils_imageUtils__WEBPACK_IMPORTED_MODULE_10__.generateSizesAttribute)()\n                                    }, void 0, false, {\n                                        fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                                        lineNumber: 1027,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"absolute inset-0 bg-black/0 group-hover:bg-black/5 transition-all duration-200 flex items-center justify-center\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"opacity-0 group-hover:opacity-100 transition-opacity duration-200\",\n                                            children: onViewFullCard && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                                onClick: onViewFullCard,\n                                                className: \"bg-white/90 hover:bg-white text-gray-700 shadow-lg\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertCircle_CheckCircle_ChevronLeft_ChevronRight_Copy_Edit3_Eye_Loader2_Mail_Maximize2_Pause_Play_Printer_RotateCcw_Share2_Wand2_X_lucide_react__WEBPACK_IMPORTED_MODULE_15__[\"default\"], {\n                                                        className: \"w-4 h-4 mr-2\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                                                        lineNumber: 1044,\n                                                        columnNumber: 23\n                                                    }, this),\n                                                    \"View Full Card\"\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                                                lineNumber: 1040,\n                                                columnNumber: 21\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                                            lineNumber: 1038,\n                                            columnNumber: 17\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                                        lineNumber: 1037,\n                                        columnNumber: 15\n                                    }, this),\n                                    renderLoadingIndicator(getLoadingState(\"front-cover\"))\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                                lineNumber: 1026,\n                                columnNumber: 13\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                            lineNumber: 1025,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                            className: \"text-sm text-gray-600 dark:text-gray-400 text-center mt-4\",\n                            children: \"The front cover design that recipients will see first\"\n                        }, void 0, false, {\n                            fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                            lineNumber: 1057,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                    lineNumber: 1024,\n                    columnNumber: 9\n                }, this),\n                onViewFullCard && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex justify-center\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                        onClick: onViewFullCard,\n                        variant: \"outline\",\n                        className: \"border-blue-500 text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertCircle_CheckCircle_ChevronLeft_ChevronRight_Copy_Edit3_Eye_Loader2_Mail_Maximize2_Pause_Play_Printer_RotateCcw_Share2_Wand2_X_lucide_react__WEBPACK_IMPORTED_MODULE_15__[\"default\"], {\n                                className: \"w-4 h-4 mr-2\"\n                            }, void 0, false, {\n                                fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                                lineNumber: 1070,\n                                columnNumber: 15\n                            }, this),\n                            \"View Complete Card\"\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                        lineNumber: 1065,\n                        columnNumber: 13\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                    lineNumber: 1064,\n                    columnNumber: 11\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n            lineNumber: 1009,\n            columnNumber: 7\n        }, this);\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"space-y-6\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_14__.motion.div, {\n                className: \"text-center\",\n                initial: {\n                    opacity: 0,\n                    y: -20\n                },\n                animate: {\n                    opacity: 1,\n                    y: 0\n                },\n                transition: {\n                    duration: 0.6\n                },\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                        className: \"text-xl font-bold mb-2\",\n                        children: \"Card Preview\"\n                    }, void 0, false, {\n                        fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                        lineNumber: 1088,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"text-sm text-gray-600 dark:text-gray-400\",\n                        children: isFrontBackOnly ? \"Swipe through your card: front cover and back cover\" : \"Swipe through your card: front cover, left interior, right interior, and back cover\"\n                    }, void 0, false, {\n                        fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                        lineNumber: 1089,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                lineNumber: 1082,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_14__.motion.div, {\n                className: \"relative bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-800 dark:to-gray-900 rounded-2xl p-6 overflow-hidden shadow-xl\",\n                initial: {\n                    opacity: 0,\n                    scale: 0.9\n                },\n                animate: {\n                    opacity: 1,\n                    scale: 1\n                },\n                transition: {\n                    duration: 0.6,\n                    delay: 0.2\n                },\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center justify-between mb-4\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex items-center gap-2\",\n                                children: slides.map((_, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_14__.motion.button, {\n                                        className: `w-3 h-3 rounded-full transition-all duration-300 ${index === currentSlide ? \"bg-blue-500 scale-125\" : \"bg-gray-300 dark:bg-gray-600 hover:bg-gray-400\"}`,\n                                        onClick: ()=>goToSlide(index),\n                                        whileHover: {\n                                            scale: 1.2\n                                        },\n                                        whileTap: {\n                                            scale: 0.9\n                                        }\n                                    }, index, false, {\n                                        fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                                        lineNumber: 1108,\n                                        columnNumber: 15\n                                    }, this))\n                            }, void 0, false, {\n                                fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                                lineNumber: 1106,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex items-center gap-2\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"text-xs text-gray-500 dark:text-gray-400\",\n                                        children: [\n                                            currentSlide + 1,\n                                            \" / \",\n                                            slides.length\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                                        lineNumber: 1123,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                        variant: \"ghost\",\n                                        size: \"sm\",\n                                        onClick: toggleAutoPlay,\n                                        className: \"h-8 w-8 p-0\",\n                                        children: isAutoPlay ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertCircle_CheckCircle_ChevronLeft_ChevronRight_Copy_Edit3_Eye_Loader2_Mail_Maximize2_Pause_Play_Printer_RotateCcw_Share2_Wand2_X_lucide_react__WEBPACK_IMPORTED_MODULE_16__[\"default\"], {\n                                            className: \"w-4 h-4\"\n                                        }, void 0, false, {\n                                            fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                                            lineNumber: 1133,\n                                            columnNumber: 17\n                                        }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertCircle_CheckCircle_ChevronLeft_ChevronRight_Copy_Edit3_Eye_Loader2_Mail_Maximize2_Pause_Play_Printer_RotateCcw_Share2_Wand2_X_lucide_react__WEBPACK_IMPORTED_MODULE_17__[\"default\"], {\n                                            className: \"w-4 h-4\"\n                                        }, void 0, false, {\n                                            fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                                            lineNumber: 1135,\n                                            columnNumber: 17\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                                        lineNumber: 1126,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                        variant: \"ghost\",\n                                        size: \"sm\",\n                                        onClick: ()=>setCurrentSlide(0),\n                                        className: \"h-8 w-8 p-0\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertCircle_CheckCircle_ChevronLeft_ChevronRight_Copy_Edit3_Eye_Loader2_Mail_Maximize2_Pause_Play_Printer_RotateCcw_Share2_Wand2_X_lucide_react__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n                                            className: \"w-4 h-4\"\n                                        }, void 0, false, {\n                                            fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                                            lineNumber: 1144,\n                                            columnNumber: 15\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                                        lineNumber: 1138,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                        variant: \"ghost\",\n                                        size: \"sm\",\n                                        onClick: openFullscreen,\n                                        className: \"h-8 w-8 p-0\",\n                                        title: \"View in fullscreen\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertCircle_CheckCircle_ChevronLeft_ChevronRight_Copy_Edit3_Eye_Loader2_Mail_Maximize2_Pause_Play_Printer_RotateCcw_Share2_Wand2_X_lucide_react__WEBPACK_IMPORTED_MODULE_19__[\"default\"], {\n                                            className: \"w-4 h-4\"\n                                        }, void 0, false, {\n                                            fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                                            lineNumber: 1153,\n                                            columnNumber: 15\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                                        lineNumber: 1146,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                                lineNumber: 1122,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                        lineNumber: 1105,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"relative h-[60vh] sm:h-80 md:h-96 overflow-hidden rounded-xl\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_20__.AnimatePresence, {\n                            initial: false,\n                            custom: direction,\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_14__.motion.div, {\n                                custom: direction,\n                                variants: slideVariants,\n                                initial: \"enter\",\n                                animate: \"center\",\n                                exit: \"exit\",\n                                transition: {\n                                    x: {\n                                        type: \"spring\",\n                                        stiffness: 300,\n                                        damping: 30\n                                    },\n                                    opacity: {\n                                        duration: 0.2\n                                    },\n                                    scale: {\n                                        duration: 0.2\n                                    }\n                                },\n                                drag: \"x\",\n                                dragConstraints: {\n                                    left: 0,\n                                    right: 0\n                                },\n                                dragElastic: 1,\n                                onDragEnd: (e, { offset, velocity })=>{\n                                    const swipe = swipePower(offset.x, velocity.x);\n                                    if (swipe < -swipeConfidenceThreshold) {\n                                        paginate(1);\n                                    } else if (swipe > swipeConfidenceThreshold) {\n                                        paginate(-1);\n                                    }\n                                },\n                                className: \"absolute inset-0 cursor-grab active:cursor-grabbing\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"h-full flex flex-col\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_14__.motion.div, {\n                                            initial: {\n                                                opacity: 0,\n                                                y: 20\n                                            },\n                                            animate: {\n                                                opacity: 1,\n                                                y: 0\n                                            },\n                                            transition: {\n                                                delay: 0.3\n                                            },\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_badge__WEBPACK_IMPORTED_MODULE_3__.Badge, {\n                                                className: `${slides[currentSlide].color} text-white w-full justify-center py-2 mb-4 text-sm font-medium`,\n                                                children: [\n                                                    slides[currentSlide].title,\n                                                    \" (\",\n                                                    slides[currentSlide].subtitle,\n                                                    \")\"\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                                                lineNumber: 1194,\n                                                columnNumber: 19\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                                            lineNumber: 1189,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_14__.motion.div, {\n                                            className: \"flex-1 relative border-2 border-white/20 rounded-lg overflow-hidden shadow-2xl bg-white group\",\n                                            initial: {\n                                                opacity: 0,\n                                                scale: 0.8\n                                            },\n                                            animate: {\n                                                opacity: 1,\n                                                scale: 1\n                                            },\n                                            transition: {\n                                                delay: 0.4,\n                                                duration: 0.4\n                                            },\n                                            children: slides[currentSlide].image ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"w-full h-full relative cursor-pointer group/image\",\n                                                onClick: openFullscreen,\n                                                title: \"Click to view fullscreen\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_ProgressiveImage__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n                                                        src: slides[currentSlide].image,\n                                                        thumbnailSrc: undefined,\n                                                        alt: slides[currentSlide].title,\n                                                        className: \"w-full h-full object-contain bg-white\",\n                                                        priority: currentSlide === 0,\n                                                        sizes: (0,_utils_imageUtils__WEBPACK_IMPORTED_MODULE_10__.generateSizesAttribute)()\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                                                        lineNumber: 1213,\n                                                        columnNumber: 23\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"absolute inset-0 bg-black/0 group-hover/image:bg-black/10 transition-all duration-200 flex items-center justify-center pointer-events-none\",\n                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"opacity-0 group-hover/image:opacity-100 transition-opacity duration-200 bg-white/90 rounded-full p-3 shadow-lg\",\n                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertCircle_CheckCircle_ChevronLeft_ChevronRight_Copy_Edit3_Eye_Loader2_Mail_Maximize2_Pause_Play_Printer_RotateCcw_Share2_Wand2_X_lucide_react__WEBPACK_IMPORTED_MODULE_19__[\"default\"], {\n                                                                className: \"w-6 h-6 text-gray-700\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                                                                lineNumber: 1226,\n                                                                columnNumber: 27\n                                                            }, this)\n                                                        }, void 0, false, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                                                            lineNumber: 1225,\n                                                            columnNumber: 25\n                                                        }, this)\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                                                        lineNumber: 1224,\n                                                        columnNumber: 23\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"absolute inset-0 pointer-events-none\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"absolute top-3 left-3 pointer-events-auto\",\n                                                                children: renderLoadingIndicator(getLoadingState(slides[currentSlide].id))\n                                                            }, void 0, false, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                                                                lineNumber: 1233,\n                                                                columnNumber: 25\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                onClick: (e)=>{\n                                                                    e.stopPropagation();\n                                                                    handleEditSection(slides[currentSlide].id);\n                                                                },\n                                                                className: \"absolute top-3 right-3 bg-white/90 hover:bg-white text-gray-700 rounded-full p-2 shadow-lg transition-all duration-200 pointer-events-auto\",\n                                                                title: slides[currentSlide].editLabel,\n                                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertCircle_CheckCircle_ChevronLeft_ChevronRight_Copy_Edit3_Eye_Loader2_Mail_Maximize2_Pause_Play_Printer_RotateCcw_Share2_Wand2_X_lucide_react__WEBPACK_IMPORTED_MODULE_21__[\"default\"], {\n                                                                    className: \"w-4 h-4\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                                                                    lineNumber: 1246,\n                                                                    columnNumber: 27\n                                                                }, this)\n                                                            }, void 0, false, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                                                                lineNumber: 1238,\n                                                                columnNumber: 25\n                                                            }, this),\n                                                            versionHistory[slides[currentSlide].id] && versionHistory[slides[currentSlide].id].length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                onClick: (e)=>{\n                                                                    e.stopPropagation();\n                                                                    resetSection(slides[currentSlide].id);\n                                                                },\n                                                                className: \"absolute top-3 left-3 bg-amber-500/90 hover:bg-amber-500 text-white rounded-full p-2 shadow-lg transition-all duration-200 pointer-events-auto\",\n                                                                title: \"Reset to original\",\n                                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertCircle_CheckCircle_ChevronLeft_ChevronRight_Copy_Edit3_Eye_Loader2_Mail_Maximize2_Pause_Play_Printer_RotateCcw_Share2_Wand2_X_lucide_react__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n                                                                    className: \"w-3 h-3\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                                                                    lineNumber: 1260,\n                                                                    columnNumber: 29\n                                                                }, this)\n                                                            }, void 0, false, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                                                                lineNumber: 1252,\n                                                                columnNumber: 27\n                                                            }, this),\n                                                            versionHistory[slides[currentSlide].id] && versionHistory[slides[currentSlide].id].length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"absolute bottom-3 left-3 bg-white/90 rounded-lg shadow-lg p-2 flex items-center gap-2 pointer-events-auto\",\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                        onClick: (e)=>{\n                                                                            e.stopPropagation();\n                                                                            goToPreviousVersion(slides[currentSlide].id);\n                                                                        },\n                                                                        disabled: !canGoBack(slides[currentSlide].id),\n                                                                        className: \"p-1 rounded-full hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200\",\n                                                                        title: \"Previous version\",\n                                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertCircle_CheckCircle_ChevronLeft_ChevronRight_Copy_Edit3_Eye_Loader2_Mail_Maximize2_Pause_Play_Printer_RotateCcw_Share2_Wand2_X_lucide_react__WEBPACK_IMPORTED_MODULE_22__[\"default\"], {\n                                                                            className: \"w-3 h-3\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                                                                            lineNumber: 1276,\n                                                                            columnNumber: 31\n                                                                        }, this)\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                                                                        lineNumber: 1267,\n                                                                        columnNumber: 29\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                        className: \"text-xs text-gray-700 px-1\",\n                                                                        children: [\n                                                                            (currentVersionIndex[slides[currentSlide].id] || 0) + 1,\n                                                                            \"/\",\n                                                                            versionHistory[slides[currentSlide].id].length\n                                                                        ]\n                                                                    }, void 0, true, {\n                                                                        fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                                                                        lineNumber: 1278,\n                                                                        columnNumber: 29\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                        onClick: (e)=>{\n                                                                            e.stopPropagation();\n                                                                            goToNextVersion(slides[currentSlide].id);\n                                                                        },\n                                                                        disabled: !canGoForward(slides[currentSlide].id),\n                                                                        className: \"p-1 rounded-full hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200\",\n                                                                        title: \"Next version\",\n                                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertCircle_CheckCircle_ChevronLeft_ChevronRight_Copy_Edit3_Eye_Loader2_Mail_Maximize2_Pause_Play_Printer_RotateCcw_Share2_Wand2_X_lucide_react__WEBPACK_IMPORTED_MODULE_23__[\"default\"], {\n                                                                            className: \"w-3 h-3\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                                                                            lineNumber: 1290,\n                                                                            columnNumber: 31\n                                                                        }, this)\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                                                                        lineNumber: 1281,\n                                                                        columnNumber: 29\n                                                                    }, this)\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                                                                lineNumber: 1266,\n                                                                columnNumber: 27\n                                                            }, this),\n                                                            versionHistory[slides[currentSlide].id] && versionHistory[slides[currentSlide].id].length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"absolute bottom-3 right-3 bg-emerald-500 text-white text-xs px-2 py-1 rounded-full flex items-center gap-1 pointer-events-auto\",\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertCircle_CheckCircle_ChevronLeft_ChevronRight_Copy_Edit3_Eye_Loader2_Mail_Maximize2_Pause_Play_Printer_RotateCcw_Share2_Wand2_X_lucide_react__WEBPACK_IMPORTED_MODULE_24__[\"default\"], {\n                                                                        className: \"w-3 h-3\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                                                                        lineNumber: 1298,\n                                                                        columnNumber: 29\n                                                                    }, this),\n                                                                    \"Edited\"\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                                                                lineNumber: 1297,\n                                                                columnNumber: 27\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                                                        lineNumber: 1231,\n                                                        columnNumber: 23\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                                                lineNumber: 1208,\n                                                columnNumber: 21\n                                            }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"w-full h-full flex flex-col items-center justify-center bg-gray-100 dark:bg-gray-800\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"bg-gray-200 dark:bg-gray-700 rounded-lg p-8 flex flex-col items-center gap-4\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertCircle_CheckCircle_ChevronLeft_ChevronRight_Copy_Edit3_Eye_Loader2_Mail_Maximize2_Pause_Play_Printer_RotateCcw_Share2_Wand2_X_lucide_react__WEBPACK_IMPORTED_MODULE_11__[\"default\"], {\n                                                            className: \"w-8 h-8 animate-spin text-gray-400\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                                                            lineNumber: 1307,\n                                                            columnNumber: 25\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"text-center\",\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                    className: \"text-gray-500 dark:text-gray-400 font-medium\",\n                                                                    children: getLoadingState(slides[currentSlide].id) === \"loading\" ? \"Generating...\" : \"Loading section...\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                                                                    lineNumber: 1309,\n                                                                    columnNumber: 27\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                    className: \"text-xs text-gray-400 dark:text-gray-500 mt-1\",\n                                                                    children: slides[currentSlide].title\n                                                                }, void 0, false, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                                                                    lineNumber: 1312,\n                                                                    columnNumber: 27\n                                                                }, this)\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                                                            lineNumber: 1308,\n                                                            columnNumber: 25\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                                                    lineNumber: 1306,\n                                                    columnNumber: 23\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                                                lineNumber: 1305,\n                                                columnNumber: 21\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                                            lineNumber: 1200,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_14__.motion.p, {\n                                            className: \"text-sm text-gray-600 dark:text-gray-400 text-center mt-3 px-4 leading-relaxed\",\n                                            initial: {\n                                                opacity: 0\n                                            },\n                                            animate: {\n                                                opacity: 1\n                                            },\n                                            transition: {\n                                                delay: 0.5\n                                            },\n                                            children: slides[currentSlide].description\n                                        }, void 0, false, {\n                                            fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                                            lineNumber: 1322,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                                    lineNumber: 1187,\n                                    columnNumber: 15\n                                }, this)\n                            }, currentSlide, false, {\n                                fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                                lineNumber: 1161,\n                                columnNumber: 13\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                            lineNumber: 1160,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                        lineNumber: 1159,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_14__.motion.button, {\n                        className: \"absolute left-4 top-1/2 -translate-y-1/2 bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm rounded-full p-2 shadow-lg hover:bg-white dark:hover:bg-gray-700 transition-colors z-10\",\n                        onClick: ()=>paginate(-1),\n                        whileHover: {\n                            scale: 1.1\n                        },\n                        whileTap: {\n                            scale: 0.9\n                        },\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertCircle_CheckCircle_ChevronLeft_ChevronRight_Copy_Edit3_Eye_Loader2_Mail_Maximize2_Pause_Play_Printer_RotateCcw_Share2_Wand2_X_lucide_react__WEBPACK_IMPORTED_MODULE_22__[\"default\"], {\n                            className: \"w-5 h-5\"\n                        }, void 0, false, {\n                            fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                            lineNumber: 1342,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                        lineNumber: 1336,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_14__.motion.button, {\n                        className: \"absolute right-4 top-1/2 -translate-y-1/2 bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm rounded-full p-2 shadow-lg hover:bg-white dark:hover:bg-gray-700 transition-colors z-10\",\n                        onClick: ()=>paginate(1),\n                        whileHover: {\n                            scale: 1.1\n                        },\n                        whileTap: {\n                            scale: 0.9\n                        },\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertCircle_CheckCircle_ChevronLeft_ChevronRight_Copy_Edit3_Eye_Loader2_Mail_Maximize2_Pause_Play_Printer_RotateCcw_Share2_Wand2_X_lucide_react__WEBPACK_IMPORTED_MODULE_23__[\"default\"], {\n                            className: \"w-5 h-5\"\n                        }, void 0, false, {\n                            fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                            lineNumber: 1351,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                        lineNumber: 1345,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                lineNumber: 1098,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_14__.motion.div, {\n                className: `grid ${isFrontBackOnly ? \"grid-cols-2\" : \"grid-cols-2 sm:grid-cols-4\"} gap-3`,\n                initial: {\n                    opacity: 0,\n                    y: 20\n                },\n                animate: {\n                    opacity: 1,\n                    y: 0\n                },\n                transition: {\n                    duration: 0.6,\n                    delay: 0.4\n                },\n                children: slides.map((slide, index)=>{\n                    const loadingState = getLoadingState(slide.id);\n                    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_14__.motion.button, {\n                        onClick: ()=>goToSlide(index),\n                        className: `p-3 rounded-lg border-2 transition-all duration-300 text-left relative ${index === currentSlide ? \"border-blue-500 bg-blue-50 dark:bg-blue-900/20\" : \"border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600\"}`,\n                        whileHover: {\n                            scale: 1.02\n                        },\n                        whileTap: {\n                            scale: 0.98\n                        },\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"absolute top-2 right-2\",\n                                children: [\n                                    loadingState === \"loading\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertCircle_CheckCircle_ChevronLeft_ChevronRight_Copy_Edit3_Eye_Loader2_Mail_Maximize2_Pause_Play_Printer_RotateCcw_Share2_Wand2_X_lucide_react__WEBPACK_IMPORTED_MODULE_11__[\"default\"], {\n                                        className: \"w-3 h-3 animate-spin text-blue-500\"\n                                    }, void 0, false, {\n                                        fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                                        lineNumber: 1379,\n                                        columnNumber: 19\n                                    }, this),\n                                    loadingState === \"completed\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertCircle_CheckCircle_ChevronLeft_ChevronRight_Copy_Edit3_Eye_Loader2_Mail_Maximize2_Pause_Play_Printer_RotateCcw_Share2_Wand2_X_lucide_react__WEBPACK_IMPORTED_MODULE_12__[\"default\"], {\n                                        className: \"w-3 h-3 text-green-500\"\n                                    }, void 0, false, {\n                                        fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                                        lineNumber: 1382,\n                                        columnNumber: 19\n                                    }, this),\n                                    loadingState === \"error\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertCircle_CheckCircle_ChevronLeft_ChevronRight_Copy_Edit3_Eye_Loader2_Mail_Maximize2_Pause_Play_Printer_RotateCcw_Share2_Wand2_X_lucide_react__WEBPACK_IMPORTED_MODULE_13__[\"default\"], {\n                                        className: \"w-3 h-3 text-red-500\"\n                                    }, void 0, false, {\n                                        fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                                        lineNumber: 1385,\n                                        columnNumber: 19\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                                lineNumber: 1377,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: `w-3 h-3 rounded-full mb-2 ${slide.color}`\n                            }, void 0, false, {\n                                fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                                lineNumber: 1389,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h4\", {\n                                className: \"text-sm font-medium text-gray-900 dark:text-gray-100\",\n                                children: slide.title\n                            }, void 0, false, {\n                                fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                                lineNumber: 1390,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"text-xs text-gray-500 dark:text-gray-400 mt-1\",\n                                children: slide.subtitle\n                            }, void 0, false, {\n                                fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                                lineNumber: 1393,\n                                columnNumber: 15\n                            }, this)\n                        ]\n                    }, slide.id, true, {\n                        fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                        lineNumber: 1365,\n                        columnNumber: 13\n                    }, this);\n                })\n            }, void 0, false, {\n                fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                lineNumber: 1356,\n                columnNumber: 7\n            }, this),\n            isCardCompleted && paperSizes && onPaperSizeChange && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_14__.motion.div, {\n                className: \"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4 border border-blue-200 dark:border-blue-800\",\n                initial: {\n                    opacity: 0,\n                    y: 20\n                },\n                animate: {\n                    opacity: 1,\n                    y: 0\n                },\n                transition: {\n                    duration: 0.6,\n                    delay: 0.5\n                },\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex items-center justify-between gap-4\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex-1\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h4\", {\n                                    className: \"text-sm font-medium text-blue-900 dark:text-blue-100 mb-1\",\n                                    children: \"Print Size\"\n                                }, void 0, false, {\n                                    fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                                    lineNumber: 1411,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"text-xs text-blue-700 dark:text-blue-300\",\n                                    children: \"Change the paper size for printing (doesn't affect your images)\"\n                                }, void 0, false, {\n                                    fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                                    lineNumber: 1414,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                            lineNumber: 1410,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"w-48\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_select__WEBPACK_IMPORTED_MODULE_7__.Select, {\n                                value: selectedPaperSize,\n                                onValueChange: onPaperSizeChange,\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_select__WEBPACK_IMPORTED_MODULE_7__.SelectTrigger, {\n                                        className: \"border-blue-300 dark:border-blue-700\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_select__WEBPACK_IMPORTED_MODULE_7__.SelectValue, {\n                                            placeholder: \"Choose paper size\"\n                                        }, void 0, false, {\n                                            fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                                            lineNumber: 1421,\n                                            columnNumber: 19\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                                        lineNumber: 1420,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_select__WEBPACK_IMPORTED_MODULE_7__.SelectContent, {\n                                        children: paperSizes.map((size)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_select__WEBPACK_IMPORTED_MODULE_7__.SelectItem, {\n                                                value: size.id,\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"text-left\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"font-medium\",\n                                                            children: size.label\n                                                        }, void 0, false, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                                                            lineNumber: 1427,\n                                                            columnNumber: 25\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"text-xs text-muted-foreground\",\n                                                            children: size.description\n                                                        }, void 0, false, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                                                            lineNumber: 1428,\n                                                            columnNumber: 25\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                                                    lineNumber: 1426,\n                                                    columnNumber: 23\n                                                }, this)\n                                            }, size.id, false, {\n                                                fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                                                lineNumber: 1425,\n                                                columnNumber: 21\n                                            }, this))\n                                    }, void 0, false, {\n                                        fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                                        lineNumber: 1423,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                                lineNumber: 1419,\n                                columnNumber: 15\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                            lineNumber: 1418,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                    lineNumber: 1409,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                lineNumber: 1403,\n                columnNumber: 9\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_14__.motion.div, {\n                className: \"flex flex-col sm:flex-row gap-3 pt-4\",\n                initial: {\n                    opacity: 0,\n                    y: 20\n                },\n                animate: {\n                    opacity: 1,\n                    y: 0\n                },\n                transition: {\n                    duration: 0.6,\n                    delay: 0.6\n                },\n                children: [\n                    onPrint && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                        onClick: onPrint,\n                        className: \"flex-1 bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertCircle_CheckCircle_ChevronLeft_ChevronRight_Copy_Edit3_Eye_Loader2_Mail_Maximize2_Pause_Play_Printer_RotateCcw_Share2_Wand2_X_lucide_react__WEBPACK_IMPORTED_MODULE_25__[\"default\"], {\n                                className: \"w-4 h-4 mr-2\"\n                            }, void 0, false, {\n                                fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                                lineNumber: 1453,\n                                columnNumber: 13\n                            }, this),\n                            \"Print Card\",\n                            paperConfig && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: \"ml-2 text-xs opacity-75\",\n                                children: [\n                                    \"(\",\n                                    paperConfig.printWidth,\n                                    \" \\xd7 \",\n                                    paperConfig.printHeight,\n                                    \")\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                                lineNumber: 1456,\n                                columnNumber: 15\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                        lineNumber: 1449,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                        onClick: handleSendToFactory,\n                        disabled: isSendingToFactory || isLoadingCard,\n                        variant: \"outline\",\n                        className: \"flex-1 border-orange-500 text-orange-600 hover:bg-orange-50 dark:hover:bg-orange-900/20 disabled:opacity-50\",\n                        children: isSendingToFactory ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertCircle_CheckCircle_ChevronLeft_ChevronRight_Copy_Edit3_Eye_Loader2_Mail_Maximize2_Pause_Play_Printer_RotateCcw_Share2_Wand2_X_lucide_react__WEBPACK_IMPORTED_MODULE_11__[\"default\"], {\n                                    className: \"w-4 h-4 mr-2 animate-spin\"\n                                }, void 0, false, {\n                                    fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                                    lineNumber: 1472,\n                                    columnNumber: 15\n                                }, this),\n                                \"Sending...\"\n                            ]\n                        }, void 0, true) : isLoadingCard ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertCircle_CheckCircle_ChevronLeft_ChevronRight_Copy_Edit3_Eye_Loader2_Mail_Maximize2_Pause_Play_Printer_RotateCcw_Share2_Wand2_X_lucide_react__WEBPACK_IMPORTED_MODULE_11__[\"default\"], {\n                                    className: \"w-4 h-4 mr-2 animate-spin\"\n                                }, void 0, false, {\n                                    fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                                    lineNumber: 1477,\n                                    columnNumber: 15\n                                }, this),\n                                \"Generating...\"\n                            ]\n                        }, void 0, true) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                            children: [\n                                \"\\uD83C\\uDFED\",\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    className: \"ml-2\",\n                                    children: \"Send to Factory\"\n                                }, void 0, false, {\n                                    fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                                    lineNumber: 1483,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true)\n                    }, void 0, false, {\n                        fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                        lineNumber: 1464,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                        onClick: handleShareCard,\n                        disabled: isSharing || isLoadingCard,\n                        variant: \"outline\",\n                        className: \"flex-1 border-blue-500 text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20 disabled:opacity-50\",\n                        children: isSharing ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertCircle_CheckCircle_ChevronLeft_ChevronRight_Copy_Edit3_Eye_Loader2_Mail_Maximize2_Pause_Play_Printer_RotateCcw_Share2_Wand2_X_lucide_react__WEBPACK_IMPORTED_MODULE_11__[\"default\"], {\n                                    className: \"w-4 h-4 mr-2 animate-spin\"\n                                }, void 0, false, {\n                                    fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                                    lineNumber: 1497,\n                                    columnNumber: 15\n                                }, this),\n                                \"Preparing...\"\n                            ]\n                        }, void 0, true) : isLoadingCard ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertCircle_CheckCircle_ChevronLeft_ChevronRight_Copy_Edit3_Eye_Loader2_Mail_Maximize2_Pause_Play_Printer_RotateCcw_Share2_Wand2_X_lucide_react__WEBPACK_IMPORTED_MODULE_11__[\"default\"], {\n                                    className: \"w-4 h-4 mr-2 animate-spin\"\n                                }, void 0, false, {\n                                    fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                                    lineNumber: 1502,\n                                    columnNumber: 15\n                                }, this),\n                                \"Generating...\"\n                            ]\n                        }, void 0, true) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertCircle_CheckCircle_ChevronLeft_ChevronRight_Copy_Edit3_Eye_Loader2_Mail_Maximize2_Pause_Play_Printer_RotateCcw_Share2_Wand2_X_lucide_react__WEBPACK_IMPORTED_MODULE_26__[\"default\"], {\n                                    className: \"w-4 h-4 mr-2\"\n                                }, void 0, false, {\n                                    fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                                    lineNumber: 1507,\n                                    columnNumber: 15\n                                }, this),\n                                \"Share Card\"\n                            ]\n                        }, void 0, true)\n                    }, void 0, false, {\n                        fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                        lineNumber: 1489,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                lineNumber: 1441,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_dialog__WEBPACK_IMPORTED_MODULE_4__.Dialog, {\n                open: showShareDialog,\n                onOpenChange: setShowShareDialog,\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_dialog__WEBPACK_IMPORTED_MODULE_4__.DialogContent, {\n                    className: \"sm:max-w-md\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_dialog__WEBPACK_IMPORTED_MODULE_4__.DialogHeader, {\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_dialog__WEBPACK_IMPORTED_MODULE_4__.DialogTitle, {\n                                    className: \"flex items-center gap-2\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertCircle_CheckCircle_ChevronLeft_ChevronRight_Copy_Edit3_Eye_Loader2_Mail_Maximize2_Pause_Play_Printer_RotateCcw_Share2_Wand2_X_lucide_react__WEBPACK_IMPORTED_MODULE_26__[\"default\"], {\n                                            className: \"w-5 h-5\"\n                                        }, void 0, false, {\n                                            fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                                            lineNumber: 1519,\n                                            columnNumber: 15\n                                        }, this),\n                                        \"Share Your Card\"\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                                    lineNumber: 1518,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_dialog__WEBPACK_IMPORTED_MODULE_4__.DialogDescription, {\n                                    children: \"Your card is ready to share! Copy the link or send it via email.\"\n                                }, void 0, false, {\n                                    fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                                    lineNumber: 1522,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                            lineNumber: 1517,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"space-y-4\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"space-y-2\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                            className: \"text-sm font-medium\",\n                                            children: \"Share URL\"\n                                        }, void 0, false, {\n                                            fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                                            lineNumber: 1530,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex gap-2\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_input__WEBPACK_IMPORTED_MODULE_6__.Input, {\n                                                    value: shareUrl,\n                                                    readOnly: true,\n                                                    className: \"flex-1\"\n                                                }, void 0, false, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                                                    lineNumber: 1532,\n                                                    columnNumber: 17\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                                    onClick: handleCopyShareUrl,\n                                                    variant: \"outline\",\n                                                    size: \"sm\",\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertCircle_CheckCircle_ChevronLeft_ChevronRight_Copy_Edit3_Eye_Loader2_Mail_Maximize2_Pause_Play_Printer_RotateCcw_Share2_Wand2_X_lucide_react__WEBPACK_IMPORTED_MODULE_27__[\"default\"], {\n                                                        className: \"w-4 h-4\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                                                        lineNumber: 1542,\n                                                        columnNumber: 19\n                                                    }, this)\n                                                }, void 0, false, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                                                    lineNumber: 1537,\n                                                    columnNumber: 17\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                                            lineNumber: 1531,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                                    lineNumber: 1529,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"space-y-2\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                            className: \"text-sm font-medium\",\n                                            children: \"Send via Email\"\n                                        }, void 0, false, {\n                                            fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                                            lineNumber: 1549,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex gap-2\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_input__WEBPACK_IMPORTED_MODULE_6__.Input, {\n                                                    type: \"email\",\n                                                    placeholder: \"recipient@example.com\",\n                                                    value: emailAddress,\n                                                    onChange: (e)=>setEmailAddress(e.target.value),\n                                                    className: \"flex-1\"\n                                                }, void 0, false, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                                                    lineNumber: 1551,\n                                                    columnNumber: 17\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                                    onClick: handleEmailCard,\n                                                    variant: \"outline\",\n                                                    size: \"sm\",\n                                                    disabled: !emailAddress.trim() || isSendingEmail,\n                                                    children: isSendingEmail ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertCircle_CheckCircle_ChevronLeft_ChevronRight_Copy_Edit3_Eye_Loader2_Mail_Maximize2_Pause_Play_Printer_RotateCcw_Share2_Wand2_X_lucide_react__WEBPACK_IMPORTED_MODULE_11__[\"default\"], {\n                                                        className: \"w-4 h-4 animate-spin\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                                                        lineNumber: 1565,\n                                                        columnNumber: 21\n                                                    }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertCircle_CheckCircle_ChevronLeft_ChevronRight_Copy_Edit3_Eye_Loader2_Mail_Maximize2_Pause_Play_Printer_RotateCcw_Share2_Wand2_X_lucide_react__WEBPACK_IMPORTED_MODULE_28__[\"default\"], {\n                                                        className: \"w-4 h-4\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                                                        lineNumber: 1567,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                }, void 0, false, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                                                    lineNumber: 1558,\n                                                    columnNumber: 17\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                                            lineNumber: 1550,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                            className: \"text-xs text-gray-500\",\n                                            children: isSendingEmail ? \"Sending email...\" : \"Sends the card directly via email\"\n                                        }, void 0, false, {\n                                            fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                                            lineNumber: 1571,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                                    lineNumber: 1548,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                            lineNumber: 1527,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                    lineNumber: 1516,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                lineNumber: 1515,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_20__.AnimatePresence, {\n                children: isFullscreen && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_14__.motion.div, {\n                    initial: {\n                        opacity: 0\n                    },\n                    animate: {\n                        opacity: 1\n                    },\n                    exit: {\n                        opacity: 0\n                    },\n                    className: \"fixed inset-0 z-50 bg-black/95 backdrop-blur-sm\",\n                    onClick: closeFullscreen,\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"h-full flex flex-col\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex items-center justify-between p-4 md:p-6\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex items-center gap-4\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_badge__WEBPACK_IMPORTED_MODULE_3__.Badge, {\n                                                className: `${slides[currentSlide].color} text-white px-4 py-2`,\n                                                children: slides[currentSlide].title\n                                            }, void 0, false, {\n                                                fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                                                lineNumber: 1593,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"text-white/80 text-sm hidden md:block\",\n                                                children: slides[currentSlide].subtitle\n                                            }, void 0, false, {\n                                                fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                                                lineNumber: 1596,\n                                                columnNumber: 19\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                                        lineNumber: 1592,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex items-center gap-3\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"text-white/80 text-sm\",\n                                                children: [\n                                                    currentSlide + 1,\n                                                    \" / \",\n                                                    slides.length\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                                                lineNumber: 1602,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                                variant: \"ghost\",\n                                                size: \"sm\",\n                                                onClick: (e)=>{\n                                                    e.stopPropagation();\n                                                    toggleAutoPlay();\n                                                },\n                                                className: \"h-9 w-9 p-0 text-white hover:bg-white/10\",\n                                                children: isAutoPlay ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertCircle_CheckCircle_ChevronLeft_ChevronRight_Copy_Edit3_Eye_Loader2_Mail_Maximize2_Pause_Play_Printer_RotateCcw_Share2_Wand2_X_lucide_react__WEBPACK_IMPORTED_MODULE_16__[\"default\"], {\n                                                    className: \"w-5 h-5\"\n                                                }, void 0, false, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                                                    lineNumber: 1615,\n                                                    columnNumber: 23\n                                                }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertCircle_CheckCircle_ChevronLeft_ChevronRight_Copy_Edit3_Eye_Loader2_Mail_Maximize2_Pause_Play_Printer_RotateCcw_Share2_Wand2_X_lucide_react__WEBPACK_IMPORTED_MODULE_17__[\"default\"], {\n                                                    className: \"w-5 h-5\"\n                                                }, void 0, false, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                                                    lineNumber: 1617,\n                                                    columnNumber: 23\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                                                lineNumber: 1605,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                                variant: \"ghost\",\n                                                size: \"sm\",\n                                                onClick: (e)=>{\n                                                    e.stopPropagation();\n                                                    closeFullscreen();\n                                                },\n                                                className: \"h-9 w-9 p-0 text-white hover:bg-white/10\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertCircle_CheckCircle_ChevronLeft_ChevronRight_Copy_Edit3_Eye_Loader2_Mail_Maximize2_Pause_Play_Printer_RotateCcw_Share2_Wand2_X_lucide_react__WEBPACK_IMPORTED_MODULE_29__[\"default\"], {\n                                                    className: \"w-5 h-5\"\n                                                }, void 0, false, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                                                    lineNumber: 1629,\n                                                    columnNumber: 21\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                                                lineNumber: 1620,\n                                                columnNumber: 19\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                                        lineNumber: 1601,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                                lineNumber: 1591,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex-1 relative px-4 md:px-6 pb-6\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"h-full relative\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_20__.AnimatePresence, {\n                                            initial: false,\n                                            custom: direction,\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_14__.motion.div, {\n                                                custom: direction,\n                                                variants: slideVariants,\n                                                initial: \"enter\",\n                                                animate: \"center\",\n                                                exit: \"exit\",\n                                                transition: {\n                                                    x: {\n                                                        type: \"spring\",\n                                                        stiffness: 300,\n                                                        damping: 30\n                                                    },\n                                                    opacity: {\n                                                        duration: 0.2\n                                                    },\n                                                    scale: {\n                                                        duration: 0.2\n                                                    }\n                                                },\n                                                drag: \"x\",\n                                                dragConstraints: {\n                                                    left: 0,\n                                                    right: 0\n                                                },\n                                                dragElastic: 1,\n                                                onDragEnd: (_, { offset, velocity })=>{\n                                                    const swipe = swipePower(offset.x, velocity.x);\n                                                    if (swipe < -swipeConfidenceThreshold) {\n                                                        paginate(1);\n                                                    } else if (swipe > swipeConfidenceThreshold) {\n                                                        paginate(-1);\n                                                    }\n                                                },\n                                                className: \"absolute inset-0 cursor-grab active:cursor-grabbing\",\n                                                onClick: (e)=>e.stopPropagation(),\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"h-full flex items-center justify-center\",\n                                                    children: slides[currentSlide].image ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"max-w-full max-h-full relative\",\n                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_ProgressiveImage__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n                                                            src: slides[currentSlide].image,\n                                                            thumbnailSrc: undefined,\n                                                            alt: slides[currentSlide].title,\n                                                            className: \"max-w-full max-h-full object-contain rounded-lg shadow-2xl\",\n                                                            priority: true\n                                                        }, void 0, false, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                                                            lineNumber: 1667,\n                                                            columnNumber: 29\n                                                        }, this)\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                                                        lineNumber: 1666,\n                                                        columnNumber: 27\n                                                    }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"flex items-center justify-center bg-gray-800 rounded-lg p-8\",\n                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                            className: \"text-white/70\",\n                                                            children: \"Loading section...\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                                                            lineNumber: 1678,\n                                                            columnNumber: 29\n                                                        }, this)\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                                                        lineNumber: 1677,\n                                                        columnNumber: 27\n                                                    }, this)\n                                                }, void 0, false, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                                                    lineNumber: 1664,\n                                                    columnNumber: 23\n                                                }, this)\n                                            }, `fullscreen-${currentSlide}`, false, {\n                                                fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                                                lineNumber: 1638,\n                                                columnNumber: 21\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                                            lineNumber: 1637,\n                                            columnNumber: 19\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_14__.motion.button, {\n                                            className: \"absolute left-4 top-1/2 -translate-y-1/2 bg-black/50 backdrop-blur-sm rounded-full p-3 text-white hover:bg-black/70 transition-colors z-10\",\n                                            onClick: (e)=>{\n                                                e.stopPropagation();\n                                                paginate(-1);\n                                            },\n                                            whileHover: {\n                                                scale: 1.1\n                                            },\n                                            whileTap: {\n                                                scale: 0.9\n                                            },\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertCircle_CheckCircle_ChevronLeft_ChevronRight_Copy_Edit3_Eye_Loader2_Mail_Maximize2_Pause_Play_Printer_RotateCcw_Share2_Wand2_X_lucide_react__WEBPACK_IMPORTED_MODULE_22__[\"default\"], {\n                                                className: \"w-6 h-6\"\n                                            }, void 0, false, {\n                                                fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                                                lineNumber: 1695,\n                                                columnNumber: 21\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                                            lineNumber: 1686,\n                                            columnNumber: 19\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_14__.motion.button, {\n                                            className: \"absolute right-4 top-1/2 -translate-y-1/2 bg-black/50 backdrop-blur-sm rounded-full p-3 text-white hover:bg-black/70 transition-colors z-10\",\n                                            onClick: (e)=>{\n                                                e.stopPropagation();\n                                                paginate(1);\n                                            },\n                                            whileHover: {\n                                                scale: 1.1\n                                            },\n                                            whileTap: {\n                                                scale: 0.9\n                                            },\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertCircle_CheckCircle_ChevronLeft_ChevronRight_Copy_Edit3_Eye_Loader2_Mail_Maximize2_Pause_Play_Printer_RotateCcw_Share2_Wand2_X_lucide_react__WEBPACK_IMPORTED_MODULE_23__[\"default\"], {\n                                                className: \"w-6 h-6\"\n                                            }, void 0, false, {\n                                                fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                                                lineNumber: 1707,\n                                                columnNumber: 21\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                                            lineNumber: 1698,\n                                            columnNumber: 19\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                                    lineNumber: 1636,\n                                    columnNumber: 17\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                                lineNumber: 1635,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex items-center justify-center gap-3 pb-6\",\n                                children: slides.map((slide, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_14__.motion.button, {\n                                        className: `transition-all duration-300 ${index === currentSlide ? \"w-8 h-3 bg-white rounded-full\" : \"w-3 h-3 bg-white/40 rounded-full hover:bg-white/60\"}`,\n                                        onClick: (e)=>{\n                                            e.stopPropagation();\n                                            goToSlide(index);\n                                        },\n                                        whileHover: {\n                                            scale: 1.2\n                                        },\n                                        whileTap: {\n                                            scale: 0.9\n                                        }\n                                    }, `fullscreen-indicator-${slide.id}`, false, {\n                                        fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                                        lineNumber: 1715,\n                                        columnNumber: 19\n                                    }, this))\n                            }, void 0, false, {\n                                fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                                lineNumber: 1713,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"px-6 pb-6\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_14__.motion.p, {\n                                    className: \"text-white/80 text-center text-sm md:text-base leading-relaxed max-w-2xl mx-auto\",\n                                    initial: {\n                                        opacity: 0\n                                    },\n                                    animate: {\n                                        opacity: 1\n                                    },\n                                    transition: {\n                                        delay: 0.3\n                                    },\n                                    children: slides[currentSlide].description\n                                }, void 0, false, {\n                                    fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                                    lineNumber: 1734,\n                                    columnNumber: 17\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                                lineNumber: 1733,\n                                columnNumber: 15\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                        lineNumber: 1589,\n                        columnNumber: 13\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                    lineNumber: 1582,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                lineNumber: 1580,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_dialog__WEBPACK_IMPORTED_MODULE_4__.Dialog, {\n                open: !!editingSection,\n                onOpenChange: (open)=>!open && setEditingSection(null),\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_dialog__WEBPACK_IMPORTED_MODULE_4__.DialogContent, {\n                    className: \"sm:max-w-[500px] max-h-[90vh] overflow-y-auto\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_dialog__WEBPACK_IMPORTED_MODULE_4__.DialogHeader, {\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_dialog__WEBPACK_IMPORTED_MODULE_4__.DialogTitle, {\n                                    className: \"flex items-center gap-2\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertCircle_CheckCircle_ChevronLeft_ChevronRight_Copy_Edit3_Eye_Loader2_Mail_Maximize2_Pause_Play_Printer_RotateCcw_Share2_Wand2_X_lucide_react__WEBPACK_IMPORTED_MODULE_24__[\"default\"], {\n                                            className: \"w-5 h-5 text-blue-600\"\n                                        }, void 0, false, {\n                                            fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                                            lineNumber: 1753,\n                                            columnNumber: 15\n                                        }, this),\n                                        editingSection ? slides.find((s)=>s.id === editingSection)?.editLabel : \"Edit Section\"\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                                    lineNumber: 1752,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_dialog__WEBPACK_IMPORTED_MODULE_4__.DialogDescription, {\n                                    children: editingSection === \"interior\" ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                        children: [\n                                            \"Describe how you'd like to modify this section of your card. This interior has \",\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                                children: \"two areas\"\n                                            }, void 0, false, {\n                                                fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                                                lineNumber: 1759,\n                                                columnNumber: 98\n                                            }, this),\n                                            \": decorative artwork on the left and your message on the right. Be specific about which area you want to change and what modifications you want.\",\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"br\", {}, void 0, false, {\n                                                fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                                                lineNumber: 1760,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"br\", {}, void 0, false, {\n                                                fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                                                lineNumber: 1760,\n                                                columnNumber: 25\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"text-amber-600 dark:text-amber-400 text-sm\",\n                                                children: [\n                                                    \"\\uD83D\\uDCA1 \",\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                                        children: \"Tip:\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                                                        lineNumber: 1762,\n                                                        columnNumber: 24\n                                                    }, this),\n                                                    ' Specify \"left side\" for decorative changes or \"right side\" for message changes to ensure both areas are preserved.'\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                                                lineNumber: 1761,\n                                                columnNumber: 19\n                                            }, this)\n                                        ]\n                                    }, void 0, true) : \"Describe how you'd like to modify this section of your card. Be specific about colors, style, content, or any changes you want to make.\"\n                                }, void 0, false, {\n                                    fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                                    lineNumber: 1756,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                            lineNumber: 1751,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"space-y-4 py-4\",\n                            children: [\n                                editingSection && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"space-y-2\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                            className: \"text-sm font-medium text-gray-700 dark:text-gray-300\",\n                                            children: [\n                                                \"Current Image\",\n                                                editingSection === \"left-interior\" || editingSection === \"right-interior\" ? \"s\" : \"\"\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                                            lineNumber: 1775,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"border-2 border-gray-200 dark:border-gray-700 rounded-lg overflow-hidden bg-white\",\n                                            children: editingSection === \"left-interior\" || editingSection === \"right-interior\" ? // Show both interior images for context\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"flex h-64\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"w-1/2 relative\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_ProgressiveImage__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n                                                                src: getCurrentImage(\"left-interior\", card.leftPage),\n                                                                thumbnailSrc: undefined,\n                                                                alt: \"Left Interior\",\n                                                                className: \"w-full h-full object-contain\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                                                                lineNumber: 1783,\n                                                                columnNumber: 25\n                                                            }, this),\n                                                            editingSection === \"left-interior\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"absolute inset-0 border-4 border-blue-500 bg-blue-500/10\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                                                                lineNumber: 1790,\n                                                                columnNumber: 27\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                                                        lineNumber: 1782,\n                                                        columnNumber: 23\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"w-px bg-gray-300\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                                                        lineNumber: 1793,\n                                                        columnNumber: 23\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"w-1/2 relative\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_ProgressiveImage__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n                                                                src: getCurrentImage(\"right-interior\", card.rightPage),\n                                                                thumbnailSrc: undefined,\n                                                                alt: \"Right Interior\",\n                                                                className: \"w-full h-full object-contain\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                                                                lineNumber: 1795,\n                                                                columnNumber: 25\n                                                            }, this),\n                                                            editingSection === \"right-interior\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"absolute inset-0 border-4 border-blue-500 bg-blue-500/10\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                                                                lineNumber: 1802,\n                                                                columnNumber: 27\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                                                        lineNumber: 1794,\n                                                        columnNumber: 23\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                                                lineNumber: 1781,\n                                                columnNumber: 21\n                                            }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_ProgressiveImage__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n                                                src: slides.find((s)=>s.id === editingSection)?.image || \"\",\n                                                thumbnailSrc: undefined,\n                                                alt: \"Current section\",\n                                                className: \"w-full h-64 object-contain\"\n                                            }, void 0, false, {\n                                                fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                                                lineNumber: 1807,\n                                                columnNumber: 21\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                                            lineNumber: 1778,\n                                            columnNumber: 17\n                                        }, this),\n                                        (editingSection === \"left-interior\" || editingSection === \"right-interior\") && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                            className: \"text-xs text-blue-600 dark:text-blue-400\",\n                                            children: \"The highlighted area shows which side you're editing. Both sides are shown for context.\"\n                                        }, void 0, false, {\n                                            fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                                            lineNumber: 1816,\n                                            columnNumber: 19\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                                    lineNumber: 1774,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"space-y-2\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                            className: \"text-sm font-medium text-gray-700 dark:text-gray-300\",\n                                            children: \"Edit Instructions\"\n                                        }, void 0, false, {\n                                            fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                                            lineNumber: 1825,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_textarea__WEBPACK_IMPORTED_MODULE_5__.Textarea, {\n                                            placeholder: \"e.g., Change the background to a sunset sky, make the flowers more colorful, add sparkles, change the text style to handwritten...\",\n                                            value: editPrompt,\n                                            onChange: (e)=>setEditPrompt(e.target.value),\n                                            rows: 4,\n                                            className: \"resize-none\",\n                                            style: {\n                                                fontSize: \"16px\"\n                                            }\n                                        }, void 0, false, {\n                                            fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                                            lineNumber: 1828,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                            className: \"text-xs text-gray-500 dark:text-gray-400\",\n                                            children: \"Be specific about what you want to change. Only the areas you describe will be modified while keeping the rest intact.\"\n                                        }, void 0, false, {\n                                            fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                                            lineNumber: 1836,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                                    lineNumber: 1824,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex gap-3 pt-4\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                            onClick: ()=>setEditingSection(null),\n                                            variant: \"outline\",\n                                            className: \"flex-1\",\n                                            disabled: isEditing,\n                                            children: \"Cancel\"\n                                        }, void 0, false, {\n                                            fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                                            lineNumber: 1846,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                            onClick: handleSubmitEdit,\n                                            disabled: !editPrompt.trim() || isEditing,\n                                            className: \"flex-1 bg-gradient-to-r from-blue-500 to-cyan-600 hover:from-blue-600 hover:to-cyan-700\",\n                                            children: isEditing ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertCircle_CheckCircle_ChevronLeft_ChevronRight_Copy_Edit3_Eye_Loader2_Mail_Maximize2_Pause_Play_Printer_RotateCcw_Share2_Wand2_X_lucide_react__WEBPACK_IMPORTED_MODULE_11__[\"default\"], {\n                                                        className: \"w-4 h-4 mr-2 animate-spin\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                                                        lineNumber: 1861,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    \"Editing...\"\n                                                ]\n                                            }, void 0, true) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertCircle_CheckCircle_ChevronLeft_ChevronRight_Copy_Edit3_Eye_Loader2_Mail_Maximize2_Pause_Play_Printer_RotateCcw_Share2_Wand2_X_lucide_react__WEBPACK_IMPORTED_MODULE_24__[\"default\"], {\n                                                        className: \"w-4 h-4 mr-2\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                                                        lineNumber: 1866,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    \"Apply Edit\"\n                                                ]\n                                            }, void 0, true)\n                                        }, void 0, false, {\n                                            fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                                            lineNumber: 1854,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                                    lineNumber: 1845,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                            lineNumber: 1771,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                    lineNumber: 1750,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n                lineNumber: 1749,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/var/www/flask_app/ast_chat/components/CardPreview.tsx\",\n        lineNumber: 1080,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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O2dEQUFFb0ksVUFBVTs0Q0FBTzs7Ozs7O3NEQUU1Qiw4REFBQzVDOzRDQUFFdkIsV0FBVTtzREFBMkM7Ozs7Ozs7Ozs7Ozs4Q0FTMUQsOERBQUNEO29DQUFJQyxXQUFVOztzREFDYiw4REFBQzFQLHlEQUFNQTs0Q0FDTHVSLFNBQVMsSUFBTXRMLGtCQUFrQjs0Q0FDakN1TCxTQUFROzRDQUNSOUIsV0FBVTs0Q0FDVmtELFVBQVV4TTtzREFDWDs7Ozs7O3NEQUdELDhEQUFDcEcseURBQU1BOzRDQUNMdVIsU0FBU3JGOzRDQUNUMEcsVUFBVSxDQUFDMU0sV0FBV2lHLElBQUksTUFBTS9GOzRDQUNoQ3NKLFdBQVU7c0RBRVR0SiwwQkFDQzs7a0VBQ0UsOERBQUM3RSwrTUFBT0E7d0RBQUNtTyxXQUFVOzs7Ozs7b0RBQThCOzs2RUFJbkQ7O2tFQUNFLDhEQUFDcE8sK01BQUtBO3dEQUFDb08sV0FBVTs7Ozs7O29EQUFpQjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQVl0RCIsInNvdXJjZXMiOlsid2VicGFjazovL3ZpYmVjYXJkaW5nLy4vY29tcG9uZW50cy9DYXJkUHJldmlldy50c3g/MjUzZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUsIHVzZUVmZmVjdCB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgQnV0dG9uIH0gZnJvbSBcIkAvY29tcG9uZW50cy91aS9idXR0b25cIjtcbmltcG9ydCB7IEJhZGdlIH0gZnJvbSBcIkAvY29tcG9uZW50cy91aS9iYWRnZVwiO1xuaW1wb3J0IHsgRGlhbG9nLCBEaWFsb2dDb250ZW50LCBEaWFsb2dEZXNjcmlwdGlvbiwgRGlhbG9nSGVhZGVyLCBEaWFsb2dUaXRsZSwgRGlhbG9nVHJpZ2dlciB9IGZyb20gXCJAL2NvbXBvbmVudHMvdWkvZGlhbG9nXCI7XG5pbXBvcnQgeyBUZXh0YXJlYSB9IGZyb20gXCJAL2NvbXBvbmVudHMvdWkvdGV4dGFyZWFcIjtcbmltcG9ydCB7IElucHV0IH0gZnJvbSBcIkAvY29tcG9uZW50cy91aS9pbnB1dFwiO1xuaW1wb3J0IHsgU2VsZWN0LCBTZWxlY3RDb250ZW50LCBTZWxlY3RJdGVtLCBTZWxlY3RUcmlnZ2VyLCBTZWxlY3RWYWx1ZSB9IGZyb20gXCJAL2NvbXBvbmVudHMvdWkvc2VsZWN0XCI7XG5pbXBvcnQgeyBDaGV2cm9uTGVmdCwgQ2hldnJvblJpZ2h0LCBQbGF5LCBQYXVzZSwgUm90YXRlQ2N3LCBNYXhpbWl6ZTIsIFgsIEVkaXQzLCBXYW5kMiwgTG9hZGVyMiwgUHJpbnRlciwgQ2hlY2tDaXJjbGUsIEFsZXJ0Q2lyY2xlLCBTaGFyZTIsIE1haWwsIENvcHksIEV5ZSwgVHlwZSB9IGZyb20gXCJsdWNpZGUtcmVhY3RcIjtcbmltcG9ydCB7IG1vdGlvbiwgQW5pbWF0ZVByZXNlbmNlIH0gZnJvbSBcImZyYW1lci1tb3Rpb25cIjtcbmltcG9ydCB7IHRvYXN0IH0gZnJvbSBcInNvbm5lclwiO1xuaW1wb3J0IFByb2dyZXNzaXZlSW1hZ2UgZnJvbSBcIi4vUHJvZ3Jlc3NpdmVJbWFnZVwiO1xuaW1wb3J0IHsgZ2VuZXJhdGVTaXplc0F0dHJpYnV0ZSwgcHJlbG9hZENyaXRpY2FsSW1hZ2VzLCBnZW5lcmF0ZU11bHRpcGxlVGh1bWJuYWlscyB9IGZyb20gXCIuLi91dGlscy9pbWFnZVV0aWxzXCI7XG5cbi8vIENvbmZpZ3VyYXRpb24gZm9yIHRoZSBiYWNrZW5kIEFQSSBlbmRwb2ludFxuY29uc3QgQkFDS0VORF9BUElfQkFTRV9VUkwgPSBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19CQUNLRU5EX0FQSV9VUkwgfHwgJ2h0dHBzOi8vdmliZWNhcmRpbmcuY29tJztcblxuaW50ZXJmYWNlIEdlbmVyYXRlZENhcmQge1xuICBpZDogc3RyaW5nO1xuICBwcm9tcHQ6IHN0cmluZztcbiAgZnJvbnRDb3Zlcjogc3RyaW5nOyAgICAgIC8vIFBvcnRyYWl0IGltYWdlIC0gd2hhdCByZWNpcGllbnRzIHNlZSBmaXJzdFxuICBiYWNrQ292ZXI6IHN0cmluZzsgICAgICAgLy8gUG9ydHJhaXQgaW1hZ2UgLSBiYWNrIG9mIHRoZSBjYXJkXG4gIGxlZnRQYWdlOiBzdHJpbmc7ICAgICAgICAvLyBQb3J0cmFpdCBpbWFnZSAtIGxlZnQgaW50ZXJpb3IgKGRlY29yYXRpdmUgYXJ0KVxuICByaWdodFBhZ2U6IHN0cmluZzsgICAgICAgLy8gUG9ydHJhaXQgaW1hZ2UgLSByaWdodCBpbnRlcmlvciAobWVzc2FnZSBhcmVhKVxuICBjcmVhdGVkQXQ6IERhdGU7XG4gIHNoYXJlVXJsPzogc3RyaW5nOyAgICAgICAvLyBPcHRpb25hbCBzaGFyZWFibGUgVVJMIGZvciB0aGUgY2FyZFxuICAvLyBTdG9yZSB0aGUgYWN0dWFsIHByb21wdHMgc2VudCB0byBpbWFnZSBnZW5lcmF0aW9uXG4gIGdlbmVyYXRlZFByb21wdHM/OiB7XG4gICAgZnJvbnRDb3Zlcj86IHN0cmluZztcbiAgICBiYWNrQ292ZXI/OiBzdHJpbmc7XG4gICAgbGVmdEludGVyaW9yPzogc3RyaW5nO1xuICAgIHJpZ2h0SW50ZXJpb3I/OiBzdHJpbmc7XG4gIH07XG4gIC8vIFRodW1ibmFpbCBVUkxzIGZvciBmYXN0ZXIgbG9hZGluZ1xuICB0aHVtYm5haWxzPzoge1xuICAgIGZyb250Q292ZXI/OiBzdHJpbmc7XG4gICAgYmFja0NvdmVyPzogc3RyaW5nO1xuICAgIGxlZnRQYWdlPzogc3RyaW5nO1xuICAgIHJpZ2h0UGFnZT86IHN0cmluZztcbiAgfTtcbiAgLy8gTWVzc2FnZSBkYXRhIGZvciBoYW5kd3JpdHRlbiBvdmVybGF5XG4gIG1lc3NhZ2U/OiBzdHJpbmc7XG4gIGlzSGFuZHdyaXR0ZW5NZXNzYWdlPzogYm9vbGVhbjtcbn1cblxuaW50ZXJmYWNlIFBhcGVyQ29uZmlnIHtcbiAgaWQ6IHN0cmluZztcbiAgbGFiZWw6IHN0cmluZztcbiAgZGVzY3JpcHRpb246IHN0cmluZztcbiAgYXNwZWN0UmF0aW86IHN0cmluZztcbiAgZGltZW5zaW9uczogc3RyaW5nO1xuICBwcmludFdpZHRoOiBzdHJpbmc7XG4gIHByaW50SGVpZ2h0OiBzdHJpbmc7XG59XG5cbmludGVyZmFjZSBDYXJkUHJldmlld1Byb3BzIHtcbiAgY2FyZDogR2VuZXJhdGVkQ2FyZDtcbiAgb25DYXJkVXBkYXRlPzogKHVwZGF0ZWRDYXJkOiBHZW5lcmF0ZWRDYXJkKSA9PiB2b2lkO1xuICBpc0Zyb250QmFja09ubHk/OiBib29sZWFuO1xuICBvblByaW50PzogKCkgPT4gdm9pZDtcbiAgcGFwZXJDb25maWc/OiBQYXBlckNvbmZpZztcbiAgc2VjdGlvbkxvYWRpbmdTdGF0ZXM/OiB7XG4gICAgZnJvbnRDb3ZlcjogJ2lkbGUnIHwgJ2xvYWRpbmcnIHwgJ2NvbXBsZXRlZCcgfCAnZXJyb3InO1xuICAgIGJhY2tDb3ZlcjogJ2lkbGUnIHwgJ2xvYWRpbmcnIHwgJ2NvbXBsZXRlZCcgfCAnZXJyb3InO1xuICAgIGxlZnRJbnRlcmlvcjogJ2lkbGUnIHwgJ2xvYWRpbmcnIHwgJ2NvbXBsZXRlZCcgfCAnZXJyb3InO1xuICAgIHJpZ2h0SW50ZXJpb3I6ICdpZGxlJyB8ICdsb2FkaW5nJyB8ICdjb21wbGV0ZWQnIHwgJ2Vycm9yJztcbiAgfTtcbiAgLy8gUGFwZXIgc2l6ZSBjb250cm9sIHByb3BzXG4gIHNlbGVjdGVkUGFwZXJTaXplPzogc3RyaW5nO1xuICBvblBhcGVyU2l6ZUNoYW5nZT86IChwYXBlclNpemU6IHN0cmluZykgPT4gdm9pZDtcbiAgcGFwZXJTaXplcz86IFBhcGVyQ29uZmlnW107XG4gIGlzQ2FyZENvbXBsZXRlZD86IGJvb2xlYW47XG4gIC8vIEZhc3QgcHJldmlldyBtb2RlIC0gc2hvdyBvbmx5IGZyb250IGNvdmVyIGZvciBxdWljayBsb2FkaW5nXG4gIGZhc3RQcmV2aWV3TW9kZT86IGJvb2xlYW47XG4gIG9uVmlld0Z1bGxDYXJkPzogKCkgPT4gdm9pZDtcbiAgLy8gQWRkaXRpb25hbCBjb250ZXh0IGZvciBlZGl0c1xuICByZWZlcmVuY2VJbWFnZVVybHM/OiBzdHJpbmdbXTtcbiAgcGVyc29uYWxUcmFpdHM/OiBzdHJpbmc7XG4gIHJlbGF0aW9uc2hpcEZpZWxkPzogc3RyaW5nO1xuICBwaG90b1JlZmVyZW5jZXM/OiBBcnJheTx7XG4gICAgaW1hZ2VVcmw6IHN0cmluZztcbiAgICBpbWFnZUluZGV4OiBudW1iZXI7XG4gICAgZGVzY3JpcHRpb24/OiBzdHJpbmc7XG4gIH0+O1xufVxuXG5jb25zdCBzbGlkZVZhcmlhbnRzID0ge1xuICBlbnRlcjogKGRpcmVjdGlvbjogbnVtYmVyKSA9PiAoe1xuICAgIHg6IGRpcmVjdGlvbiA+IDAgPyAxMDAwIDogLTEwMDAsXG4gICAgb3BhY2l0eTogMCxcbiAgICBzY2FsZTogMC44LFxuICB9KSxcbiAgY2VudGVyOiB7XG4gICAgekluZGV4OiAxLFxuICAgIHg6IDAsXG4gICAgb3BhY2l0eTogMSxcbiAgICBzY2FsZTogMSxcbiAgfSxcbiAgZXhpdDogKGRpcmVjdGlvbjogbnVtYmVyKSA9PiAoe1xuICAgIHpJbmRleDogMCxcbiAgICB4OiBkaXJlY3Rpb24gPCAwID8gMTAwMCA6IC0xMDAwLFxuICAgIG9wYWNpdHk6IDAsXG4gICAgc2NhbGU6IDAuOCxcbiAgfSksXG59O1xuXG5jb25zdCBzd2lwZUNvbmZpZGVuY2VUaHJlc2hvbGQgPSAxMDAwMDtcbmNvbnN0IHN3aXBlUG93ZXIgPSAob2Zmc2V0OiBudW1iZXIsIHZlbG9jaXR5OiBudW1iZXIpID0+IHtcbiAgcmV0dXJuIE1hdGguYWJzKG9mZnNldCkgKiB2ZWxvY2l0eTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIENhcmRQcmV2aWV3KHsgXG4gIGNhcmQsIFxuICBvbkNhcmRVcGRhdGUsIFxuICBpc0Zyb250QmFja09ubHkgPSBmYWxzZSwgXG4gIG9uUHJpbnQsIFxuICBwYXBlckNvbmZpZywgXG4gIHNlY3Rpb25Mb2FkaW5nU3RhdGVzLFxuICBzZWxlY3RlZFBhcGVyU2l6ZSxcbiAgb25QYXBlclNpemVDaGFuZ2UsXG4gIHBhcGVyU2l6ZXMsXG4gIGlzQ2FyZENvbXBsZXRlZCxcbiAgZmFzdFByZXZpZXdNb2RlID0gZmFsc2UsXG4gIG9uVmlld0Z1bGxDYXJkLFxuICByZWZlcmVuY2VJbWFnZVVybHMgPSBbXSxcbiAgcGVyc29uYWxUcmFpdHMsXG4gIHJlbGF0aW9uc2hpcEZpZWxkLFxuICBwaG90b1JlZmVyZW5jZXMgPSBbXVxufTogQ2FyZFByZXZpZXdQcm9wcykge1xuICBcbiAgLy8gQ2hlY2sgaWYgd2UncmUgaW4gYSBsb2FkaW5nIHN0YXRlICh3aGVuIGNhcmQgaXMgbnVsbCBidXQgd2UgaGF2ZSBsb2FkaW5nIHN0YXRlcylcbiAgY29uc3QgaXNMb2FkaW5nQ2FyZCA9ICFjYXJkICYmIHNlY3Rpb25Mb2FkaW5nU3RhdGVzICYmIE9iamVjdC52YWx1ZXMoc2VjdGlvbkxvYWRpbmdTdGF0ZXMpLnNvbWUoc3RhdGUgPT4gc3RhdGUgPT09ICdsb2FkaW5nJyk7XG4gIFxuICAvLyBDcmVhdGUgYSBwbGFjZWhvbGRlciBjYXJkIG9iamVjdCB3aGVuIGxvYWRpbmdcbiAgY29uc3QgZGlzcGxheUNhcmQgPSBjYXJkIHx8IChpc0xvYWRpbmdDYXJkID8ge1xuICAgIGlkOiAnbG9hZGluZycsXG4gICAgcHJvbXB0OiAnTG9hZGluZy4uLicsXG4gICAgZnJvbnRDb3ZlcjogJycsIC8vIEVtcHR5IHN0cmluZ3Mgd2lsbCBzaG93IGxvYWRpbmcgcGxhY2Vob2xkZXJzXG4gICAgYmFja0NvdmVyOiAnJyxcbiAgICBsZWZ0UGFnZTogJycsXG4gICAgcmlnaHRQYWdlOiAnJyxcbiAgICBjcmVhdGVkQXQ6IG5ldyBEYXRlKCksXG4gIH0gOiBudWxsKTtcbiAgXG4gIC8vIERvbid0IHJlbmRlciBhbnl0aGluZyBpZiBubyBjYXJkIGFuZCBub3QgbG9hZGluZ1xuICBpZiAoIWRpc3BsYXlDYXJkKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgY29uc3QgW2N1cnJlbnRTbGlkZSwgc2V0Q3VycmVudFNsaWRlXSA9IHVzZVN0YXRlKDApO1xuICBjb25zdCBbZGlyZWN0aW9uLCBzZXREaXJlY3Rpb25dID0gdXNlU3RhdGUoMCk7XG4gIGNvbnN0IFtpc0F1dG9QbGF5LCBzZXRJc0F1dG9QbGF5XSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2F1dG9QbGF5SW50ZXJ2YWwsIHNldEF1dG9QbGF5SW50ZXJ2YWxdID0gdXNlU3RhdGU8Tm9kZUpTLlRpbWVvdXQgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW2lzRnVsbHNjcmVlbiwgc2V0SXNGdWxsc2NyZWVuXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgXG4gIC8vIEVkaXQgc3RhdGVcbiAgY29uc3QgW2VkaXRpbmdTZWN0aW9uLCBzZXRFZGl0aW5nU2VjdGlvbl0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW2VkaXRQcm9tcHQsIHNldEVkaXRQcm9tcHRdID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFtpc0VkaXRpbmcsIHNldElzRWRpdGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIFxuICBcbiAgLy8gVmVyc2lvbiBoaXN0b3J5IHN0YXRlXG4gIGNvbnN0IFt2ZXJzaW9uSGlzdG9yeSwgc2V0VmVyc2lvbkhpc3RvcnldID0gdXNlU3RhdGU8UmVjb3JkPHN0cmluZywgc3RyaW5nW10+Pih7fSk7XG4gIGNvbnN0IFtjdXJyZW50VmVyc2lvbkluZGV4LCBzZXRDdXJyZW50VmVyc2lvbkluZGV4XSA9IHVzZVN0YXRlPFJlY29yZDxzdHJpbmcsIG51bWJlcj4+KHt9KTtcbiAgXG4gIC8vIFNoYXJpbmcgc3RhdGVcbiAgY29uc3QgW2lzU2hhcmluZywgc2V0SXNTaGFyaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3NoYXJlVXJsLCBzZXRTaGFyZVVybF0gPSB1c2VTdGF0ZTxzdHJpbmc+KFwiXCIpO1xuICBjb25zdCBbc2hvd1NoYXJlRGlhbG9nLCBzZXRTaG93U2hhcmVEaWFsb2ddID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbZW1haWxBZGRyZXNzLCBzZXRFbWFpbEFkZHJlc3NdID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFtpc1NlbmRpbmdFbWFpbCwgc2V0SXNTZW5kaW5nRW1haWxdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBcbiAgLy8gRmFjdG9yeSBzdGF0ZVxuICBjb25zdCBbaXNTZW5kaW5nVG9GYWN0b3J5LCBzZXRJc1NlbmRpbmdUb0ZhY3RvcnldID0gdXNlU3RhdGUoZmFsc2UpO1xuXG4gIC8vIFRodW1ibmFpbCBnZW5lcmF0aW9uIHN0YXRlXG4gIGNvbnN0IFt0aHVtYm5haWxVcmxzLCBzZXRUaHVtYm5haWxVcmxzXSA9IHVzZVN0YXRlPFJlY29yZDxzdHJpbmcsIHN0cmluZz4+KHt9KTtcbiAgXG4gIC8vIFRlc3QgdG9nZ2xlIGZvciBoYW5kd3JpdHRlbiBvdmVybGF5XG5cbiAgLy8gR2VuZXJhdGUgdGh1bWJuYWlsIGZvciBhbiBpbWFnZVxuICBjb25zdCBnZW5lcmF0ZVRodW1ibmFpbCA9IGFzeW5jIChpbWFnZVVybDogc3RyaW5nKTogUHJvbWlzZTxzdHJpbmcgfCBudWxsPiA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIC8vIENoZWNrIGlmIHRodW1ibmFpbCBhbHJlYWR5IGV4aXN0c1xuICAgICAgaWYgKHRodW1ibmFpbFVybHNbaW1hZ2VVcmxdKSB7XG4gICAgICAgIHJldHVybiB0aHVtYm5haWxVcmxzW2ltYWdlVXJsXTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnL2dlbmVyYXRlX3RodW1ibmFpbCcsIHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICB9LFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgaW1hZ2VfdXJsOiBpbWFnZVVybCxcbiAgICAgICAgICB3aWR0aDogNDAwLFxuICAgICAgICAgIGhlaWdodDogNjAwLFxuICAgICAgICAgIHF1YWxpdHk6IDg1XG4gICAgICAgIH0pXG4gICAgICB9KTtcblxuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICBjb25zb2xlLndhcm4oJ0ZhaWxlZCB0byBnZW5lcmF0ZSB0aHVtYm5haWw6JywgcmVzcG9uc2Uuc3RhdHVzVGV4dCk7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgY29uc3QgdGh1bWJuYWlsVXJsID0gZGF0YS50aHVtYm5haWxfdXJsO1xuICAgICAgXG4gICAgICAvLyBDYWNoZSB0aGUgdGh1bWJuYWlsIFVSTFxuICAgICAgc2V0VGh1bWJuYWlsVXJscyhwcmV2ID0+ICh7XG4gICAgICAgIC4uLnByZXYsXG4gICAgICAgIFtpbWFnZVVybF06IHRodW1ibmFpbFVybFxuICAgICAgfSkpO1xuXG4gICAgICByZXR1cm4gdGh1bWJuYWlsVXJsO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLndhcm4oJ0Vycm9yIGdlbmVyYXRpbmcgdGh1bWJuYWlsOicsIGVycm9yKTtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfTtcblxuICAvLyBQcmVsb2FkIGNyaXRpY2FsIGltYWdlcyBmb3IgYmV0dGVyIHBlcmZvcm1hbmNlIChubyB0aHVtYm5haWxzIC0gdXNlIGZ1bGwgcXVhbGl0eSlcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoZGlzcGxheUNhcmQgJiYgIWlzTG9hZGluZ0NhcmQpIHtcbiAgICAgIC8vIFByZWxvYWQgdGhlIGZyb250IGNvdmVyIGFzIGl0J3MgbW9zdCBjcml0aWNhbFxuICAgICAgaWYgKGRpc3BsYXlDYXJkLmZyb250Q292ZXIpIHtcbiAgICAgICAgcHJlbG9hZENyaXRpY2FsSW1hZ2VzKFtkaXNwbGF5Q2FyZC5mcm9udENvdmVyXSk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIFByZWxvYWQgb3RoZXIgaW1hZ2VzIGZvciBiZXR0ZXIgVVhcbiAgICAgIGNvbnN0IG90aGVySW1hZ2VzID0gW1xuICAgICAgICBkaXNwbGF5Q2FyZC5iYWNrQ292ZXIsXG4gICAgICAgIGRpc3BsYXlDYXJkLmxlZnRQYWdlLFxuICAgICAgICBkaXNwbGF5Q2FyZC5yaWdodFBhZ2VcbiAgICAgIF0uZmlsdGVyKEJvb2xlYW4pO1xuICAgICAgXG4gICAgICBpZiAob3RoZXJJbWFnZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAvLyBQcmVsb2FkIG90aGVyIGltYWdlcyB3aXRoIGEgc2xpZ2h0IGRlbGF5IHRvIHByaW9yaXRpemUgZnJvbnQgY292ZXJcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgcHJlbG9hZENyaXRpY2FsSW1hZ2VzKG90aGVySW1hZ2VzKTtcbiAgICAgICAgfSwgMTAwMCk7XG4gICAgICB9XG4gICAgfVxuICB9LCBbZGlzcGxheUNhcmQsIGlzTG9hZGluZ0NhcmRdKTtcblxuICAvLyBIZWxwZXIgZnVuY3Rpb24gdG8gZ2V0IHRoZSBjdXJyZW50IGltYWdlIChmcm9tIHZlcnNpb24gaGlzdG9yeSBpZiBhdmFpbGFibGUsIG90aGVyd2lzZSBvcmlnaW5hbClcbiAgY29uc3QgZ2V0Q3VycmVudEltYWdlID0gKHNlY3Rpb25JZDogc3RyaW5nLCBvcmlnaW5hbEltYWdlOiBzdHJpbmcpID0+IHtcbiAgICBjb25zdCBoaXN0b3J5ID0gdmVyc2lvbkhpc3Rvcnlbc2VjdGlvbklkXTtcbiAgICBjb25zdCBjdXJyZW50SW5kZXggPSBjdXJyZW50VmVyc2lvbkluZGV4W3NlY3Rpb25JZF07XG4gICAgXG4gICAgaWYgKGhpc3RvcnkgJiYgaGlzdG9yeS5sZW5ndGggPiAwICYmIGN1cnJlbnRJbmRleCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gaGlzdG9yeVtjdXJyZW50SW5kZXhdO1xuICAgIH1cbiAgICBcbiAgICByZXR1cm4gb3JpZ2luYWxJbWFnZTtcbiAgfTtcblxuICAvLyBWZXJzaW9uIG5hdmlnYXRpb24gZnVuY3Rpb25zXG4gIGNvbnN0IGNhbkdvQmFjayA9IChzZWN0aW9uSWQ6IHN0cmluZykgPT4ge1xuICAgIGNvbnN0IGN1cnJlbnRJbmRleCA9IGN1cnJlbnRWZXJzaW9uSW5kZXhbc2VjdGlvbklkXTtcbiAgICByZXR1cm4gY3VycmVudEluZGV4ICE9PSB1bmRlZmluZWQgJiYgY3VycmVudEluZGV4ID4gMDtcbiAgfTtcblxuICBjb25zdCBjYW5Hb0ZvcndhcmQgPSAoc2VjdGlvbklkOiBzdHJpbmcpID0+IHtcbiAgICBjb25zdCBoaXN0b3J5ID0gdmVyc2lvbkhpc3Rvcnlbc2VjdGlvbklkXTtcbiAgICBjb25zdCBjdXJyZW50SW5kZXggPSBjdXJyZW50VmVyc2lvbkluZGV4W3NlY3Rpb25JZF07XG4gICAgcmV0dXJuIGhpc3RvcnkgJiYgY3VycmVudEluZGV4ICE9PSB1bmRlZmluZWQgJiYgY3VycmVudEluZGV4IDwgaGlzdG9yeS5sZW5ndGggLSAxO1xuICB9O1xuXG4gIGNvbnN0IGdvVG9QcmV2aW91c1ZlcnNpb24gPSAoc2VjdGlvbklkOiBzdHJpbmcpID0+IHtcbiAgICBpZiAoY2FuR29CYWNrKHNlY3Rpb25JZCkpIHtcbiAgICAgIHNldEN1cnJlbnRWZXJzaW9uSW5kZXgocHJldiA9PiAoe1xuICAgICAgICAuLi5wcmV2LFxuICAgICAgICBbc2VjdGlvbklkXTogcHJldltzZWN0aW9uSWRdIC0gMVxuICAgICAgfSkpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBnb1RvTmV4dFZlcnNpb24gPSAoc2VjdGlvbklkOiBzdHJpbmcpID0+IHtcbiAgICBpZiAoY2FuR29Gb3J3YXJkKHNlY3Rpb25JZCkpIHtcbiAgICAgIHNldEN1cnJlbnRWZXJzaW9uSW5kZXgocHJldiA9PiAoe1xuICAgICAgICAuLi5wcmV2LFxuICAgICAgICBbc2VjdGlvbklkXTogcHJldltzZWN0aW9uSWRdICsgMVxuICAgICAgfSkpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBhZGRUb1ZlcnNpb25IaXN0b3J5ID0gKHNlY3Rpb25JZDogc3RyaW5nLCBpbWFnZVVybDogc3RyaW5nKSA9PiB7XG4gICAgY29uc3QgY3VycmVudEhpc3RvcnkgPSB2ZXJzaW9uSGlzdG9yeVtzZWN0aW9uSWRdIHx8IFtdO1xuICAgIGNvbnN0IGN1cnJlbnRJbmRleCA9IGN1cnJlbnRWZXJzaW9uSW5kZXhbc2VjdGlvbklkXSB8fCAtMTtcbiAgICBcbiAgICAvLyBJZiB3ZSdyZSBub3QgYXQgdGhlIGxhdGVzdCB2ZXJzaW9uLCB0cnVuY2F0ZSBoaXN0b3J5IGZyb20gY3VycmVudCBwb3NpdGlvblxuICAgIGNvbnN0IHRydW5jYXRlZEhpc3RvcnkgPSBjdXJyZW50SGlzdG9yeS5zbGljZSgwLCBjdXJyZW50SW5kZXggKyAxKTtcbiAgICBjb25zdCBuZXdIaXN0b3J5ID0gWy4uLnRydW5jYXRlZEhpc3RvcnksIGltYWdlVXJsXTtcbiAgICBcbiAgICBzZXRWZXJzaW9uSGlzdG9yeShwcmV2ID0+ICh7XG4gICAgICAuLi5wcmV2LFxuICAgICAgW3NlY3Rpb25JZF06IG5ld0hpc3RvcnlcbiAgICB9KSk7XG4gICAgXG4gICAgc2V0Q3VycmVudFZlcnNpb25JbmRleChwcmV2ID0+ICh7XG4gICAgICAuLi5wcmV2LFxuICAgICAgW3NlY3Rpb25JZF06IG5ld0hpc3RvcnkubGVuZ3RoIC0gMSAvLyBQb2ludHMgdG8gdGhlIG5ld2x5IGFkZGVkIHZlcnNpb25cbiAgICB9KSk7XG4gIH07XG5cbiAgLy8gSGVscGVyIGZ1bmN0aW9uIHRvIGdldCB0aGUgc291cmNlIGltYWdlIFVSTCBmb3IgZWRpdGluZ1xuICBjb25zdCBnZXRTb3VyY2VJbWFnZUZvckVkaXQgPSAoc2VjdGlvbklkOiBzdHJpbmcpID0+IHtcbiAgICBzd2l0Y2ggKHNlY3Rpb25JZCkge1xuICAgICAgY2FzZSBcImZyb250LWNvdmVyXCI6XG4gICAgICAgIHJldHVybiBkaXNwbGF5Q2FyZC5mcm9udENvdmVyO1xuICAgICAgY2FzZSBcImJhY2stY292ZXJcIjpcbiAgICAgICAgcmV0dXJuIGRpc3BsYXlDYXJkLmJhY2tDb3ZlcjtcbiAgICAgIGNhc2UgXCJsZWZ0LWludGVyaW9yXCI6XG4gICAgICAgIHJldHVybiBkaXNwbGF5Q2FyZC5sZWZ0UGFnZTtcbiAgICAgIGNhc2UgXCJyaWdodC1pbnRlcmlvclwiOlxuICAgICAgICByZXR1cm4gZGlzcGxheUNhcmQucmlnaHRQYWdlO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGFsbFNsaWRlcyA9IFtcbiAgICB7XG4gICAgICBpZDogXCJmcm9udC1jb3ZlclwiLFxuICAgICAgdGl0bGU6IFwiRnJvbnQgQ292ZXJcIixcbiAgICAgIHN1YnRpdGxlOiBcIldoYXQgcmVjaXBpZW50cyBzZWUgZmlyc3RcIixcbiAgICAgIGltYWdlOiBnZXRDdXJyZW50SW1hZ2UoXCJmcm9udC1jb3ZlclwiLCBkaXNwbGF5Q2FyZC5mcm9udENvdmVyKSxcbiAgICAgIG9yaWdpbmFsSW1hZ2U6IGRpc3BsYXlDYXJkLmZyb250Q292ZXIsXG4gICAgICBkZXNjcmlwdGlvbjogXCJUaGUgZnJvbnQgY292ZXIgZGVzaWduIHRoYXQgcmVjaXBpZW50cyB3aWxsIHNlZSBmaXJzdC5cIixcbiAgICAgIGNvbG9yOiBcImJnLWJsdWUtNTAwXCIsXG4gICAgICB0eXBlOiBcInNpbmdsZVwiIGFzIGNvbnN0LFxuICAgICAgZWRpdExhYmVsOiBcIkVkaXQgRnJvbnQgQ292ZXJcIixcbiAgICB9LFxuICAgIHtcbiAgICAgIGlkOiBcImxlZnQtaW50ZXJpb3JcIixcbiAgICAgIHRpdGxlOiBcIkxlZnQgSW50ZXJpb3JcIixcbiAgICAgIHN1YnRpdGxlOiBcIkRlY29yYXRpdmUgcGFnZVwiLFxuICAgICAgaW1hZ2U6IGdldEN1cnJlbnRJbWFnZShcImxlZnQtaW50ZXJpb3JcIiwgZGlzcGxheUNhcmQubGVmdFBhZ2UpLFxuICAgICAgb3JpZ2luYWxJbWFnZTogZGlzcGxheUNhcmQubGVmdFBhZ2UsXG4gICAgICBkZXNjcmlwdGlvbjogXCJUaGUgZGVjb3JhdGl2ZSBsZWZ0IHBhZ2Ugd2hlbiB0aGUgY2FyZCBpcyBvcGVuZWQuXCIsXG4gICAgICBjb2xvcjogXCJiZy1lbWVyYWxkLTUwMFwiLFxuICAgICAgdHlwZTogXCJzaW5nbGVcIiBhcyBjb25zdCxcbiAgICAgIGVkaXRMYWJlbDogXCJFZGl0IExlZnQgSW50ZXJpb3JcIixcbiAgICB9LFxuICAgIHtcbiAgICAgIGlkOiBcInJpZ2h0LWludGVyaW9yXCIsXG4gICAgICB0aXRsZTogXCJSaWdodCBJbnRlcmlvclwiLCBcbiAgICAgIHN1YnRpdGxlOiBcIk1lc3NhZ2UgcGFnZVwiLFxuICAgICAgaW1hZ2U6IGdldEN1cnJlbnRJbWFnZShcInJpZ2h0LWludGVyaW9yXCIsIGRpc3BsYXlDYXJkLnJpZ2h0UGFnZSksXG4gICAgICBvcmlnaW5hbEltYWdlOiBkaXNwbGF5Q2FyZC5yaWdodFBhZ2UsXG4gICAgICBkZXNjcmlwdGlvbjogXCJUaGUgcmlnaHQgcGFnZSB3aXRoIHlvdXIgbWVzc2FnZSB3aGVuIHRoZSBjYXJkIGlzIG9wZW5lZC5cIixcbiAgICAgIGNvbG9yOiBcImJnLWVtZXJhbGQtNjAwXCIsXG4gICAgICB0eXBlOiBcInNpbmdsZVwiIGFzIGNvbnN0LFxuICAgICAgZWRpdExhYmVsOiBcIkVkaXQgUmlnaHQgSW50ZXJpb3JcIixcbiAgICB9LFxuICAgIHtcbiAgICAgIGlkOiBcImJhY2stY292ZXJcIixcbiAgICAgIHRpdGxlOiBcIkJhY2sgQ292ZXJcIixcbiAgICAgIHN1YnRpdGxlOiBcIldoYXQncyBvbiB0aGUgYmFja1wiLFxuICAgICAgaW1hZ2U6IGdldEN1cnJlbnRJbWFnZShcImJhY2stY292ZXJcIiwgZGlzcGxheUNhcmQuYmFja0NvdmVyKSxcbiAgICAgIG9yaWdpbmFsSW1hZ2U6IGRpc3BsYXlDYXJkLmJhY2tDb3ZlcixcbiAgICAgIGRlc2NyaXB0aW9uOiBcIlRoZSBiYWNrIG9mIHRoZSBjYXJkIHdpdGggc3VidGxlIGRlc2lnbiBlbGVtZW50cy5cIixcbiAgICAgIGNvbG9yOiBcImJnLWdyYXktNTAwXCIsXG4gICAgICB0eXBlOiBcInNpbmdsZVwiIGFzIGNvbnN0LFxuICAgICAgZWRpdExhYmVsOiBcIkVkaXQgQmFjayBDb3ZlclwiLFxuICAgIH0sXG4gIF07XG5cbiAgLy8gRmlsdGVyIHNsaWRlcyBiYXNlZCBvbiBpc0Zyb250QmFja09ubHkgcHJvcFxuICBjb25zdCBzbGlkZXMgPSBpc0Zyb250QmFja09ubHkgXG4gICAgPyBhbGxTbGlkZXMuZmlsdGVyKHNsaWRlID0+ICFzbGlkZS5pZC5pbmNsdWRlcyhcImludGVyaW9yXCIpKVxuICAgIDogYWxsU2xpZGVzO1xuXG4gIGNvbnN0IHBhZ2luYXRlID0gKG5ld0RpcmVjdGlvbjogbnVtYmVyKSA9PiB7XG4gICAgc2V0RGlyZWN0aW9uKG5ld0RpcmVjdGlvbik7XG4gICAgc2V0Q3VycmVudFNsaWRlKChwcmV2KSA9PiB7XG4gICAgICBpZiAobmV3RGlyZWN0aW9uID09PSAxKSB7XG4gICAgICAgIHJldHVybiBwcmV2ID09PSBzbGlkZXMubGVuZ3RoIC0gMSA/IDAgOiBwcmV2ICsgMTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBwcmV2ID09PSAwID8gc2xpZGVzLmxlbmd0aCAtIDEgOiBwcmV2IC0gMTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcblxuICBjb25zdCBnb1RvU2xpZGUgPSAoaW5kZXg6IG51bWJlcikgPT4ge1xuICAgIHNldERpcmVjdGlvbihpbmRleCA+IGN1cnJlbnRTbGlkZSA/IDEgOiAtMSk7XG4gICAgc2V0Q3VycmVudFNsaWRlKGluZGV4KTtcbiAgfTtcblxuICBjb25zdCB0b2dnbGVBdXRvUGxheSA9ICgpID0+IHtcbiAgICBpZiAoaXNBdXRvUGxheSkge1xuICAgICAgaWYgKGF1dG9QbGF5SW50ZXJ2YWwpIHtcbiAgICAgICAgY2xlYXJJbnRlcnZhbChhdXRvUGxheUludGVydmFsKTtcbiAgICAgICAgc2V0QXV0b1BsYXlJbnRlcnZhbChudWxsKTtcbiAgICAgIH1cbiAgICAgIHNldElzQXV0b1BsYXkoZmFsc2UpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBpbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgICAgcGFnaW5hdGUoMSk7XG4gICAgICB9LCAzMDAwKTtcbiAgICAgIHNldEF1dG9QbGF5SW50ZXJ2YWwoaW50ZXJ2YWwpO1xuICAgICAgc2V0SXNBdXRvUGxheSh0cnVlKTtcbiAgICB9XG4gIH07XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgaWYgKGF1dG9QbGF5SW50ZXJ2YWwpIHtcbiAgICAgICAgY2xlYXJJbnRlcnZhbChhdXRvUGxheUludGVydmFsKTtcbiAgICAgIH1cbiAgICB9O1xuICB9LCBbYXV0b1BsYXlJbnRlcnZhbF0pO1xuXG4gIC8vIEhhbmRsZSBmdWxsc2NyZWVuIG1vZGVcbiAgY29uc3Qgb3BlbkZ1bGxzY3JlZW4gPSAoKSA9PiB7XG4gICAgc2V0SXNGdWxsc2NyZWVuKHRydWUpO1xuICAgIC8vIERpc2FibGUgYm9keSBzY3JvbGwgd2hlbiBmdWxsc2NyZWVuIGlzIG9wZW5cbiAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93ID0gJ2hpZGRlbic7XG4gIH07XG5cbiAgY29uc3QgY2xvc2VGdWxsc2NyZWVuID0gKCkgPT4ge1xuICAgIHNldElzRnVsbHNjcmVlbihmYWxzZSk7XG4gICAgLy8gUmUtZW5hYmxlIGJvZHkgc2Nyb2xsXG4gICAgZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdyA9ICd1bnNldCc7XG4gIH07XG5cbiAgLy8gSGFuZGxlIGVzY2FwZSBrZXkgdG8gY2xvc2UgZnVsbHNjcmVlblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGhhbmRsZUVzY2FwZSA9IChlOiBLZXlib2FyZEV2ZW50KSA9PiB7XG4gICAgICBpZiAoZS5rZXkgPT09ICdFc2NhcGUnICYmIGlzRnVsbHNjcmVlbikge1xuICAgICAgICBjbG9zZUZ1bGxzY3JlZW4oKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgaWYgKGlzRnVsbHNjcmVlbikge1xuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGhhbmRsZUVzY2FwZSk7XG4gICAgICByZXR1cm4gKCkgPT4gZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGhhbmRsZUVzY2FwZSk7XG4gICAgfVxuICB9LCBbaXNGdWxsc2NyZWVuXSk7XG5cbiAgLy8gRWRpdCBmdW5jdGlvbmFsaXR5XG4gIGNvbnN0IGhhbmRsZUVkaXRTZWN0aW9uID0gKHNlY3Rpb25JZDogc3RyaW5nKSA9PiB7XG4gICAgLy8gRG9uJ3QgYWxsb3cgZWRpdGluZyBpZiB3ZSdyZSBpbiBsb2FkaW5nIG1vZGVcbiAgICBpZiAoaXNMb2FkaW5nQ2FyZCkge1xuICAgICAgdG9hc3QuZXJyb3IoXCJQbGVhc2Ugd2FpdCBmb3IgdGhlIGNhcmQgdG8gZmluaXNoIGdlbmVyYXRpbmcgYmVmb3JlIGVkaXRpbmdcIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFxuICAgIHNldEVkaXRpbmdTZWN0aW9uKHNlY3Rpb25JZCk7XG4gICAgc2V0RWRpdFByb21wdChcIlwiKTtcbiAgfTtcblxuXG5cbiAgY29uc3QgaGFuZGxlU3VibWl0RWRpdCA9IGFzeW5jICgpID0+IHtcbiAgICBpZiAoIWVkaXRpbmdTZWN0aW9uIHx8ICFlZGl0UHJvbXB0LnRyaW0oKSkge1xuICAgICAgdG9hc3QuZXJyb3IoXCJQbGVhc2UgZW50ZXIgYW4gZWRpdCBwcm9tcHRcIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3Qgc291cmNlSW1hZ2VVcmwgPSBnZXRTb3VyY2VJbWFnZUZvckVkaXQoZWRpdGluZ1NlY3Rpb24pO1xuICAgIGlmICghc291cmNlSW1hZ2VVcmwpIHtcbiAgICAgIHRvYXN0LmVycm9yKFwiQ291bGQgbm90IGZpbmQgc291cmNlIGltYWdlIGZvciBlZGl0aW5nXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHNldElzRWRpdGluZyh0cnVlKTtcblxuICAgIHRyeSB7XG4gICAgICAvLyBHZXQgdGhlIG9yaWdpbmFsIGdlbmVyYXRlZCBwcm9tcHQgZm9yIHRoaXMgc2VjdGlvbiB0byBwcm92aWRlIGNvbnRleHRcbiAgICAgIGxldCBvcmlnaW5hbFByb21wdCA9IFwiXCI7XG4gICAgICBpZiAoZGlzcGxheUNhcmQuZ2VuZXJhdGVkUHJvbXB0cykge1xuICAgICAgICBzd2l0Y2ggKGVkaXRpbmdTZWN0aW9uKSB7XG4gICAgICAgICAgY2FzZSBcImZyb250LWNvdmVyXCI6XG4gICAgICAgICAgICBvcmlnaW5hbFByb21wdCA9IGRpc3BsYXlDYXJkLmdlbmVyYXRlZFByb21wdHMuZnJvbnRDb3ZlciB8fCBcIlwiO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBcImJhY2stY292ZXJcIjpcbiAgICAgICAgICAgIG9yaWdpbmFsUHJvbXB0ID0gZGlzcGxheUNhcmQuZ2VuZXJhdGVkUHJvbXB0cy5iYWNrQ292ZXIgfHwgXCJcIjtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgXCJsZWZ0LWludGVyaW9yXCI6XG4gICAgICAgICAgICBvcmlnaW5hbFByb21wdCA9IGRpc3BsYXlDYXJkLmdlbmVyYXRlZFByb21wdHMubGVmdEludGVyaW9yIHx8IFwiXCI7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIFwicmlnaHQtaW50ZXJpb3JcIjpcbiAgICAgICAgICAgIG9yaWdpbmFsUHJvbXB0ID0gZGlzcGxheUNhcmQuZ2VuZXJhdGVkUHJvbXB0cy5yaWdodEludGVyaW9yIHx8IFwiXCI7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBsZXQgZmluYWxFZGl0UHJvbXB0ID0gXCJcIjtcblxuICAgICAgaWYgKG9yaWdpbmFsUHJvbXB0KSB7XG4gICAgICAgIC8vIEJ1aWxkIGFkZGl0aW9uYWwgY29udGV4dCBpbmZvcm1hdGlvblxuICAgICAgICBsZXQgYWRkaXRpb25hbENvbnRleHQgPSBcIlwiO1xuICAgICAgICBpZiAoZWRpdGluZ1NlY3Rpb24gPT09IFwiZnJvbnQtY292ZXJcIiAmJiByZWZlcmVuY2VJbWFnZVVybHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgIGFkZGl0aW9uYWxDb250ZXh0ICs9IGBcXG5cXG5SRUZFUkVOQ0UgUEhPVE9TOiAke3JlZmVyZW5jZUltYWdlVXJscy5sZW5ndGh9IHJlZmVyZW5jZSBwaG90b3MgYXJlIGF0dGFjaGVkIHNob3dpbmcgdGhlIHBlb3BsZSB0byBiZSBpbmNsdWRlZCBpbiB0aGUgY2FyZC5gO1xuICAgICAgICAgIGlmIChwaG90b1JlZmVyZW5jZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgYWRkaXRpb25hbENvbnRleHQgKz0gXCJcXG5QZW9wbGUgaW4gcGhvdG9zOlwiO1xuICAgICAgICAgICAgcGhvdG9SZWZlcmVuY2VzLmZvckVhY2goKHJlZiwgaWR4KSA9PiB7XG4gICAgICAgICAgICAgIGFkZGl0aW9uYWxDb250ZXh0ICs9IGBcXG4tIFBob3RvICR7aWR4ICsgMX06ICR7cmVmLmRlc2NyaXB0aW9uIHx8ICdQZXJzb24gaW4gcGhvdG8nfWA7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYWRkaXRpb25hbENvbnRleHQgKz0gXCJcXG5JTVBPUlRBTlQ6IFRyYW5zZm9ybSB0aGVzZSBwZW9wbGUgaW50byBjYXJ0b29uL2lsbHVzdHJhdGVkIGNoYXJhY3RlcnMuIEtlZXAgdGhlaXIgY2xvdGhpbmcgYnV0IG9taXQgYW55IHRleHQvbG9nb3Mgb24gY2xvdGhlcy5cIjtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGVyc29uYWxUcmFpdHMpIHtcbiAgICAgICAgICBhZGRpdGlvbmFsQ29udGV4dCArPSBgXFxuXFxuUEVSU09OQUwgVFJBSVRTOiAke3BlcnNvbmFsVHJhaXRzfWA7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlbGF0aW9uc2hpcEZpZWxkKSB7XG4gICAgICAgICAgYWRkaXRpb25hbENvbnRleHQgKz0gYFxcblxcblJFTEFUSU9OU0hJUDogJHtyZWxhdGlvbnNoaXBGaWVsZH1gO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVXNlIEFJIHRvIGludGVsbGlnZW50bHkgbW9kaWZ5IHRoZSBvcmlnaW5hbCBwcm9tcHQgYmFzZWQgb24gdXNlcidzIGVkaXQgcmVxdWVzdFxuICAgICAgICBjb25zdCBwcm9tcHRNb2RpZmljYXRpb25RdWVyeSA9IGBZb3UgYXJlIGFuIGV4cGVydCBBSSBwcm9tcHQgZW5naW5lZXIgc3BlY2lhbGl6aW5nIGluIGltYWdlIGdlbmVyYXRpb24gcHJvbXB0cyBmb3IgZ3JlZXRpbmcgY2FyZHMuIFlvdXIgdGFzayBpcyB0byBtb2RpZnkgYW4gZXhpc3RpbmcgaW1hZ2UgZ2VuZXJhdGlvbiBwcm9tcHQgYmFzZWQgb24gYSB1c2VyJ3MgZWRpdCByZXF1ZXN0LlxuXG5PUklHSU5BTCBQUk9NUFQ6XG5cIiR7b3JpZ2luYWxQcm9tcHR9XCJcblxuVVNFUidTIEVESVQgUkVRVUVTVDpcblwiJHtlZGl0UHJvbXB0fVwiJHthZGRpdGlvbmFsQ29udGV4dH1cblxuQ1JJVElDQUwgSU5TVFJVQ1RJT05TOlxuMS4gWW91IE1VU1QgcmV0dXJuIHRoZSBFTlRJUkUgbW9kaWZpZWQgcHJvbXB0LCBub3QganVzdCB0aGUgY2hhbmdlc1xuMi4gS2VlcCBBTEwgdGhlIG9yaWdpbmFsIGZvcm1hdHRpbmcsIHN0eWxlIGluc3RydWN0aW9ucywgYW5kIHRlY2huaWNhbCBkZXRhaWxzXG4zLiBPbmx5IG1vZGlmeSB0aGUgc3BlY2lmaWMgZWxlbWVudHMgbWVudGlvbmVkIGluIHRoZSB1c2VyJ3MgZWRpdCByZXF1ZXN0XG40LiBQcmVzZXJ2ZSBhbGwgcG9ydHJhaXQgZm9ybWF0IHJlcXVpcmVtZW50cyBhbmQgZ3JlZXRpbmcgY2FyZCBzcGVjaWZpY2F0aW9uc1xuNS4gTWFpbnRhaW4gdGhlIHNhbWUgbGV2ZWwgb2YgZGV0YWlsIGFuZCBkZXNjcmlwdGl2ZW5lc3MgYXMgdGhlIG9yaWdpbmFsXG42LiBLZWVwIGFsbCBzYWZldHkgaW5zdHJ1Y3Rpb25zIGFuZCBjb250ZW50IGd1aWRlbGluZXMgZnJvbSB0aGUgb3JpZ2luYWxcbjcuIEVuc3VyZSB0aGUgbW9kaWZpZWQgcHJvbXB0IHdpbGwgZ2VuZXJhdGUgdGhlIHNhbWUgdHlwZSBvZiBpbWFnZSAoZ3JlZXRpbmcgY2FyZCAke2VkaXRpbmdTZWN0aW9uLnJlcGxhY2UoJy0nLCAnICcpfSkgd2l0aCBvbmx5IHRoZSByZXF1ZXN0ZWQgY2hhbmdlc1xuXG5FWEFNUExFUyBPRiBXSEFUIFRPIE1PRElGWTpcbi0gQ29sb3JzOiBJZiB1c2VyIHNheXMgXCJtYWtlIGl0IGJsdWVcIiwgY2hhbmdlIGNvbG9yIHJlZmVyZW5jZXMgaW4gdGhlIHByb21wdFxuLSBTdHlsZTogSWYgdXNlciBzYXlzIFwibW9yZSBjYXJ0b29uaXNoXCIsIGFkanVzdCBzdHlsZSBkZXNjcmlwdG9yc1xuLSBFbGVtZW50czogSWYgdXNlciBzYXlzIFwiYWRkIGZsb3dlcnNcIiwgaW5jb3Jwb3JhdGUgZmxvd2VyIGVsZW1lbnRzXG4tIFRleHQ6IElmIHVzZXIgc2F5cyBcImNoYW5nZSB0aGUgbWVzc2FnZVwiLCB1cGRhdGUgdGV4dCBjb250ZW50XG4tIE1vb2Q6IElmIHVzZXIgc2F5cyBcIm1ha2UgaXQgaGFwcGllclwiLCBhZGp1c3QgbW9vZCBkZXNjcmlwdG9yc1xuXG5XSEFUIFRPIFBSRVNFUlZFOlxuLSBBbGwgdGVjaG5pY2FsIHNwZWNpZmljYXRpb25zIChwb3J0cmFpdCBmb3JtYXQsIGRpbWVuc2lvbnMsIGV0Yy4pXG4tIEFsbCBzYWZldHkgYW5kIGNvbnRlbnQgZ3VpZGVsaW5lc1xuLSBUaGUgYmFzaWMgc3RydWN0dXJlIGFuZCBwdXJwb3NlIG9mIHRoZSBpbWFnZVxuLSBBbGwgcHJpbnRpbmcgYW5kIGVkZ2Ugc2FmZXR5IHJlcXVpcmVtZW50c1xuLSBUaGUgZ3JlZXRpbmcgY2FyZCBjb250ZXh0IGFuZCBwdXJwb3NlXG5cblJldHVybiB0aGUgRU5USVJFIG1vZGlmaWVkIHByb21wdCB0aGF0IGluY29ycG9yYXRlcyB0aGUgdXNlcidzIHJlcXVlc3RlZCBjaGFuZ2VzIHdoaWxlIHByZXNlcnZpbmcgZXZlcnl0aGluZyBlbHNlIGZyb20gdGhlIG9yaWdpbmFsIHByb21wdC4gRG8gbm90IHByb3ZpZGUgZXhwbGFuYXRpb25zIG9yIHN1bW1hcmllcyAtIGp1c3QgcmV0dXJuIHRoZSBjb21wbGV0ZSBtb2RpZmllZCBwcm9tcHQuYDtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IG1vZGlmaWVkUHJvbXB0ID0gYXdhaXQgZmV0Y2goJy9pbnRlcm5hbC9jYWxsX21jcF90b29sJywge1xuICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgICAgdG9vbF9uYW1lOiAnYWlfY2hhdCcsXG4gICAgICAgICAgICAgIGFyZ3VtZW50czoge1xuICAgICAgICAgICAgICAgIG1lc3NhZ2VzOiBwcm9tcHRNb2RpZmljYXRpb25RdWVyeSxcbiAgICAgICAgICAgICAgICBtb2RlbDogJ2dlbWluaS0yLjUtcHJvJyxcbiAgICAgICAgICAgICAgICBpbmNsdWRlX3Rob3VnaHRzOiBmYWxzZVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgaWYgKCFtb2RpZmllZFByb21wdC5vaykgdGhyb3cgbmV3IEVycm9yKGBBSSBwcm9tcHQgbW9kaWZpY2F0aW9uIGZhaWxlZDogJHttb2RpZmllZFByb21wdC5zdGF0dXN9YCk7XG4gICAgICAgICAgXG4gICAgICAgICAgY29uc3QgbW9kaWZpZWREYXRhID0gYXdhaXQgbW9kaWZpZWRQcm9tcHQuanNvbigpO1xuICAgICAgICAgIGlmIChtb2RpZmllZERhdGEuZXJyb3IgJiYgbW9kaWZpZWREYXRhLmVycm9yICE9PSBcIk5vbmVcIiAmJiBtb2RpZmllZERhdGEuZXJyb3IgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihtb2RpZmllZERhdGEuZXJyb3IpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGxldCBtb2RpZmllZFJlc3VsdDtcbiAgICAgICAgICBpZiAodHlwZW9mIG1vZGlmaWVkRGF0YS5yZXN1bHQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBtb2RpZmllZFJlc3VsdCA9IEpTT04ucGFyc2UobW9kaWZpZWREYXRhLnJlc3VsdCk7XG4gICAgICAgICAgICB9IGNhdGNoIHtcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIEpTT04gcmVzcG9uc2UgZnJvbSBBSScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBtb2RpZmllZFJlc3VsdCA9IG1vZGlmaWVkRGF0YS5yZXN1bHQ7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKG1vZGlmaWVkUmVzdWx0LnN0YXR1cyA9PT0gJ2Vycm9yJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKG1vZGlmaWVkUmVzdWx0Lm1lc3NhZ2UpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGZpbmFsRWRpdFByb21wdCA9IG1vZGlmaWVkUmVzdWx0LnJlc3BvbnNlIHx8IG9yaWdpbmFsUHJvbXB0O1xuICAgICAgICAgIFxuICAgICAgICB9IGNhdGNoIChhaUVycm9yKSB7XG4gICAgICAgICAgY29uc29sZS53YXJuKCdBSSBwcm9tcHQgbW9kaWZpY2F0aW9uIGZhaWxlZCwgdXNpbmcgZmFsbGJhY2sgYXBwcm9hY2g6JywgYWlFcnJvcik7XG4gICAgICAgICAgLy8gRmFsbGJhY2sgdG8gdGhlIHByZXZpb3VzIGFwcHJvYWNoIGlmIEFJIG1vZGlmaWNhdGlvbiBmYWlsc1xuICAgICAgICAgIGZpbmFsRWRpdFByb21wdCA9IGBDUklUSUNBTDogVGhpcyBpcyBhIGdyZWV0aW5nIGNhcmQgJHtlZGl0aW5nU2VjdGlvbi5yZXBsYWNlKCctJywgJyAnKX0gaW4gcG9ydHJhaXQgZm9ybWF0LlxuXG5PUklHSU5BTCBJTUFHRSBERVNDUklQVElPTjogVGhlIGN1cnJlbnQgaW1hZ2Ugd2FzIGNyZWF0ZWQgd2l0aCB0aGlzIHByb21wdDogXCIke29yaWdpbmFsUHJvbXB0fVwiXG5cbllvdXIgZWRpdCByZXF1ZXN0OiBcIiR7ZWRpdFByb21wdH1cIiR7YWRkaXRpb25hbENvbnRleHR9XG5cbklNUE9SVEFOVCBJTlNUUlVDVElPTlM6XG4tIFRoaXMgaXMgYSBwb3J0cmFpdCAodmVydGljYWwpIGltYWdlIGZvciBhIGdyZWV0aW5nIGNhcmRcbi0gWW91IG11c3QgUFJFU0VSVkUgdGhlIHBvcnRyYWl0IGZvcm1hdCBhbmQgZGltZW5zaW9uc1xuLSBPbmx5IG1vZGlmeSB3aGF0IHdhcyBzcGVjaWZpY2FsbHkgcmVxdWVzdGVkIGluIHRoZSBlZGl0XG4tIEtlZXAgdGhlIG92ZXJhbGwgbGF5b3V0IHN0cnVjdHVyZSBpbnRhY3QgLSBkbyBub3QgY3JvcCBvciBjdXQgb2ZmIGFueSBzZWN0aW9uc1xuLSBNYWludGFpbiB0aGUgYXNwZWN0IHJhdGlvIGFuZCBzaXplIG9mIHRoZSBvcmlnaW5hbCBpbWFnZVxuLSBFbnN1cmUgdGhlIGVkaXRlZCByZXN1bHQgaXMgc3VpdGFibGUgZm9yIHByaW50aW5nIGFzIHBhcnQgb2YgYSBncmVldGluZyBjYXJkXG4tIFBvc2l0aW9uIGFueSB0ZXh0IGVsZW1lbnRzIHNhZmVseSBhd2F5IGZyb20gZWRnZXMgd2l0aCBnZW5lcm91cyBtYXJnaW5zXG4tIFRoZSBpbWFnZSBzaG91bGQgcmVtYWluIGZvY3VzZWQgb24gaXRzIHNwZWNpZmljIHB1cnBvc2U6ICR7ZWRpdGluZ1NlY3Rpb24ucmVwbGFjZSgnLScsICcgJyl9XG4tIEJhc2UgeW91ciBlZGl0cyBvbiB0aGUgb3JpZ2luYWwgZGVzaWduIGRlc2NyaWJlZCBhYm92ZSwgbWFraW5nIG9ubHkgdGhlIHJlcXVlc3RlZCBjaGFuZ2VzXG5cbkFwcGx5IHRoZSByZXF1ZXN0ZWQgY2hhbmdlcyB3aGlsZSBwcmVzZXJ2aW5nIHRoZSBjb21wbGV0ZSBpbWFnZSBzdHJ1Y3R1cmUgYW5kIHBvcnRyYWl0IGZvcm1hdC5gO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBGYWxsYmFjayB3aGVuIG5vIG9yaWdpbmFsIHByb21wdCBpcyBhdmFpbGFibGVcbiAgICAgICAgLy8gQnVpbGQgY29udGV4dCBmb3IgZmFsbGJhY2tcbiAgICAgICAgbGV0IGZhbGxiYWNrQ29udGV4dCA9IFwiXCI7XG4gICAgICAgIGlmIChlZGl0aW5nU2VjdGlvbiA9PT0gXCJmcm9udC1jb3ZlclwiICYmIHJlZmVyZW5jZUltYWdlVXJscy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgZmFsbGJhY2tDb250ZXh0ICs9IGBcXG5cXG5SRUZFUkVOQ0UgUEhPVE9TOiAke3JlZmVyZW5jZUltYWdlVXJscy5sZW5ndGh9IHJlZmVyZW5jZSBwaG90b3MgYXJlIGF0dGFjaGVkLmA7XG4gICAgICAgICAgaWYgKHBob3RvUmVmZXJlbmNlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBmYWxsYmFja0NvbnRleHQgKz0gXCJcXG5QZW9wbGUgaW4gcGhvdG9zOlwiO1xuICAgICAgICAgICAgcGhvdG9SZWZlcmVuY2VzLmZvckVhY2goKHJlZiwgaWR4KSA9PiB7XG4gICAgICAgICAgICAgIGZhbGxiYWNrQ29udGV4dCArPSBgXFxuLSBQaG90byAke2lkeCArIDF9OiAke3JlZi5kZXNjcmlwdGlvbiB8fCAnUGVyc29uIGluIHBob3RvJ31gO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGZhbGxiYWNrQ29udGV4dCArPSBcIlxcblRyYW5zZm9ybSB0aGVzZSBwZW9wbGUgaW50byBjYXJ0b29uL2lsbHVzdHJhdGVkIGNoYXJhY3RlcnMuIEtlZXAgdGhlaXIgY2xvdGhpbmcgYnV0IG9taXQgYW55IHRleHQvbG9nb3Mgb24gY2xvdGhlcy5cIjtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGVyc29uYWxUcmFpdHMpIHtcbiAgICAgICAgICBmYWxsYmFja0NvbnRleHQgKz0gYFxcblxcblBFUlNPTkFMIFRSQUlUUzogJHtwZXJzb25hbFRyYWl0c31gO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyZWxhdGlvbnNoaXBGaWVsZCkge1xuICAgICAgICAgIGZhbGxiYWNrQ29udGV4dCArPSBgXFxuXFxuUkVMQVRJT05TSElQOiAke3JlbGF0aW9uc2hpcEZpZWxkfWA7XG4gICAgICAgIH1cblxuICAgICAgICBmaW5hbEVkaXRQcm9tcHQgPSBgQ1JJVElDQUw6IFRoaXMgaXMgYSBncmVldGluZyBjYXJkICR7ZWRpdGluZ1NlY3Rpb24ucmVwbGFjZSgnLScsICcgJyl9IGluIHBvcnRyYWl0IGZvcm1hdC5cblxuWW91ciBlZGl0IHJlcXVlc3Q6IFwiJHtlZGl0UHJvbXB0fVwiJHtmYWxsYmFja0NvbnRleHR9XG5cbklNUE9SVEFOVCBJTlNUUlVDVElPTlM6XG4tIFRoaXMgaXMgYSBwb3J0cmFpdCAodmVydGljYWwpIGltYWdlIGZvciBhIGdyZWV0aW5nIGNhcmRcbi0gWW91IG11c3QgUFJFU0VSVkUgdGhlIHBvcnRyYWl0IGZvcm1hdCBhbmQgZGltZW5zaW9uc1xuLSBPbmx5IG1vZGlmeSB3aGF0IHdhcyBzcGVjaWZpY2FsbHkgcmVxdWVzdGVkIGluIHRoZSBlZGl0XG4tIEtlZXAgdGhlIG92ZXJhbGwgbGF5b3V0IHN0cnVjdHVyZSBpbnRhY3QgLSBkbyBub3QgY3JvcCBvciBjdXQgb2ZmIGFueSBzZWN0aW9uc1xuLSBNYWludGFpbiB0aGUgYXNwZWN0IHJhdGlvIGFuZCBzaXplIG9mIHRoZSBvcmlnaW5hbCBpbWFnZVxuLSBFbnN1cmUgdGhlIGVkaXRlZCByZXN1bHQgaXMgc3VpdGFibGUgZm9yIHByaW50aW5nIGFzIHBhcnQgb2YgYSBncmVldGluZyBjYXJkXG4tIFBvc2l0aW9uIGFueSB0ZXh0IGVsZW1lbnRzIHNhZmVseSBhd2F5IGZyb20gZWRnZXMgd2l0aCBnZW5lcm91cyBtYXJnaW5zXG4tIFRoZSBpbWFnZSBzaG91bGQgcmVtYWluIGZvY3VzZWQgb24gaXRzIHNwZWNpZmljIHB1cnBvc2U6ICR7ZWRpdGluZ1NlY3Rpb24ucmVwbGFjZSgnLScsICcgJyl9XG5cbkFwcGx5IHRoZSByZXF1ZXN0ZWQgY2hhbmdlcyB3aGlsZSBwcmVzZXJ2aW5nIHRoZSBjb21wbGV0ZSBpbWFnZSBzdHJ1Y3R1cmUgYW5kIHBvcnRyYWl0IGZvcm1hdC5gO1xuICAgICAgfVxuXG4gICAgICAvLyBQcmVwYXJlIGltYWdlcyBhcnJheSB3aXRoIGN1cnJlbnQgY2FyZCBpbWFnZSBmaXJzdCwgdGhlbiByZWZlcmVuY2UgaW1hZ2VzXG4gICAgICBjb25zdCBpbWFnZXNGb3JFZGl0OiBzdHJpbmdbXSA9IFtzb3VyY2VJbWFnZVVybF07XG4gICAgICBcbiAgICAgIC8vIEFkZCByZWZlcmVuY2UgaW1hZ2VzIGlmIGF2YWlsYWJsZSAoZm9yIGZyb250IGNvdmVyIGVkaXRzIGVzcGVjaWFsbHkpXG4gICAgICBpZiAocmVmZXJlbmNlSW1hZ2VVcmxzLmxlbmd0aCA+IDAgJiYgZWRpdGluZ1NlY3Rpb24gPT09IFwiZnJvbnQtY292ZXJcIikge1xuICAgICAgICBpbWFnZXNGb3JFZGl0LnB1c2goLi4ucmVmZXJlbmNlSW1hZ2VVcmxzKTtcbiAgICAgICAgY29uc29sZS5sb2coYPCflrzvuI8gSW5jbHVkaW5nICR7cmVmZXJlbmNlSW1hZ2VVcmxzLmxlbmd0aH0gcmVmZXJlbmNlIGltYWdlcyBmb3IgZnJvbnQgY292ZXIgZWRpdGApO1xuICAgICAgfVxuXG4gICAgICAvLyBDYWxsIHRoZSBlZGl0X2ltYWdlcyB0b29sXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCcvaW50ZXJuYWwvY2FsbF9tY3BfdG9vbCcsIHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgdG9vbF9uYW1lOiAnZWRpdF9pbWFnZXMnLFxuICAgICAgICAgIGFyZ3VtZW50czoge1xuICAgICAgICAgICAgaW1hZ2VzOiBpbWFnZXNGb3JFZGl0LFxuICAgICAgICAgICAgZWRpdF9wcm9tcHQ6IGZpbmFsRWRpdFByb21wdCxcbiAgICAgICAgICAgIHVzZXJfbnVtYmVyOiBcIisxNzE0NTk4NjEwNVwiLFxuICAgICAgICAgICAgbW9kZWw6IFwiZ3B0LWltYWdlLTFcIixcbiAgICAgICAgICAgIG91dHB1dF9mb3JtYXQ6IFwianBlZ1wiLFxuICAgICAgICAgICAgcXVhbGl0eTogXCJoaWdoXCIsXG4gICAgICAgICAgICBvdXRwdXRfY29tcHJlc3Npb246IDEwMCxcbiAgICAgICAgICAgIHNpemU6IHBhcGVyQ29uZmlnPy5kaW1lbnNpb25zIHx8IFwiMTAyNHgxNTM2XCIsIC8vIFVzZSBwYXBlciBjb25maWcgZGltZW5zaW9uc1xuICAgICAgICAgICAgbjogMVxuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgIH0pO1xuXG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB0aHJvdyBuZXcgRXJyb3IoYEhUVFAgJHtyZXNwb25zZS5zdGF0dXN9YCk7XG5cbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICBpZiAoZGF0YS5lcnJvciAmJiBkYXRhLmVycm9yICE9PSBcIk5vbmVcIiAmJiBkYXRhLmVycm9yICE9PSBudWxsKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihkYXRhLmVycm9yKTtcbiAgICAgIH1cblxuICAgICAgbGV0IHJlc3VsdDtcbiAgICAgIGlmICh0eXBlb2YgZGF0YS5yZXN1bHQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcmVzdWx0ID0gSlNPTi5wYXJzZShkYXRhLnJlc3VsdCk7XG4gICAgICAgIH0gY2F0Y2gge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBKU09OIHJlc3BvbnNlJyk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc3VsdCA9IGRhdGEucmVzdWx0O1xuICAgICAgfVxuXG4gICAgICBpZiAocmVzdWx0LnN0YXR1cyA9PT0gJ2Vycm9yJykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IocmVzdWx0Lm1lc3NhZ2UpO1xuICAgICAgfVxuXG4gICAgICAvLyBFeHRyYWN0IHRoZSBlZGl0ZWQgaW1hZ2UgVVJMXG4gICAgICBjb25zdCBlZGl0UmVzdWx0ID0gcmVzdWx0LnJlc3VsdHNbMF07XG4gICAgICBpZiAoZWRpdFJlc3VsdC5zdGF0dXMgPT09ICdlcnJvcicpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVkaXRSZXN1bHQubWVzc2FnZSk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGVkaXRlZEltYWdlVXJsID0gZWRpdFJlc3VsdC5lZGl0ZWRfdXJsO1xuICAgICAgaWYgKCFlZGl0ZWRJbWFnZVVybCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIGVkaXRlZCBpbWFnZSBVUkwgcmV0dXJuZWQnKTtcbiAgICAgIH1cblxuICAgICAgLy8gQWRkIHRvIHZlcnNpb24gaGlzdG9yeVxuICAgICAgYWRkVG9WZXJzaW9uSGlzdG9yeShlZGl0aW5nU2VjdGlvbiwgZWRpdGVkSW1hZ2VVcmwpO1xuXG4gICAgICAvLyBVcGRhdGUgdGhlIGNhcmQgb2JqZWN0IGlmIGNhbGxiYWNrIHByb3ZpZGVkIChvbmx5IGlmIG5vdCBsb2FkaW5nIHBsYWNlaG9sZGVyKVxuICAgICAgaWYgKG9uQ2FyZFVwZGF0ZSAmJiAhaXNMb2FkaW5nQ2FyZCkge1xuICAgICAgICBjb25zdCB1cGRhdGVkQ2FyZCA9IHsgLi4uZGlzcGxheUNhcmQgfTtcbiAgICAgICAgXG4gICAgICAgIC8vIFVwZGF0ZSB0aGUgaW1hZ2UgVVJMXG4gICAgICAgIHN3aXRjaCAoZWRpdGluZ1NlY3Rpb24pIHtcbiAgICAgICAgICBjYXNlIFwiZnJvbnQtY292ZXJcIjpcbiAgICAgICAgICAgIHVwZGF0ZWRDYXJkLmZyb250Q292ZXIgPSBlZGl0ZWRJbWFnZVVybDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgXCJiYWNrLWNvdmVyXCI6XG4gICAgICAgICAgICB1cGRhdGVkQ2FyZC5iYWNrQ292ZXIgPSBlZGl0ZWRJbWFnZVVybDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgXCJsZWZ0LWludGVyaW9yXCI6XG4gICAgICAgICAgICB1cGRhdGVkQ2FyZC5sZWZ0UGFnZSA9IGVkaXRlZEltYWdlVXJsO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBcInJpZ2h0LWludGVyaW9yXCI6XG4gICAgICAgICAgICB1cGRhdGVkQ2FyZC5yaWdodFBhZ2UgPSBlZGl0ZWRJbWFnZVVybDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyBVcGRhdGUgdGhlIGdlbmVyYXRlZCBwcm9tcHQgd2l0aCB0aGUgbW9kaWZpZWQgdmVyc2lvblxuICAgICAgICBpZiAodXBkYXRlZENhcmQuZ2VuZXJhdGVkUHJvbXB0cyAmJiBmaW5hbEVkaXRQcm9tcHQpIHtcbiAgICAgICAgICB1cGRhdGVkQ2FyZC5nZW5lcmF0ZWRQcm9tcHRzID0geyAuLi51cGRhdGVkQ2FyZC5nZW5lcmF0ZWRQcm9tcHRzIH07XG4gICAgICAgICAgc3dpdGNoIChlZGl0aW5nU2VjdGlvbikge1xuICAgICAgICAgICAgY2FzZSBcImZyb250LWNvdmVyXCI6XG4gICAgICAgICAgICAgIHVwZGF0ZWRDYXJkLmdlbmVyYXRlZFByb21wdHMuZnJvbnRDb3ZlciA9IGZpbmFsRWRpdFByb21wdDtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiYmFjay1jb3ZlclwiOlxuICAgICAgICAgICAgICB1cGRhdGVkQ2FyZC5nZW5lcmF0ZWRQcm9tcHRzLmJhY2tDb3ZlciA9IGZpbmFsRWRpdFByb21wdDtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwibGVmdC1pbnRlcmlvclwiOlxuICAgICAgICAgICAgICB1cGRhdGVkQ2FyZC5nZW5lcmF0ZWRQcm9tcHRzLmxlZnRJbnRlcmlvciA9IGZpbmFsRWRpdFByb21wdDtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwicmlnaHQtaW50ZXJpb3JcIjpcbiAgICAgICAgICAgICAgdXBkYXRlZENhcmQuZ2VuZXJhdGVkUHJvbXB0cy5yaWdodEludGVyaW9yID0gZmluYWxFZGl0UHJvbXB0O1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIG9uQ2FyZFVwZGF0ZSh1cGRhdGVkQ2FyZCk7XG4gICAgICB9XG5cbiAgICAgIHRvYXN0LnN1Y2Nlc3MoYOKcqCAke3NsaWRlcy5maW5kKHMgPT4gcy5pZCA9PT0gZWRpdGluZ1NlY3Rpb24pPy50aXRsZX0gZWRpdGVkIHN1Y2Nlc3NmdWxseSFgKTtcbiAgICAgIHNldEVkaXRpbmdTZWN0aW9uKG51bGwpO1xuICAgICAgc2V0RWRpdFByb21wdChcIlwiKTtcblxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFZGl0IGZhaWxlZDonLCBlcnJvcik7XG4gICAgICB0b2FzdC5lcnJvcihgRmFpbGVkIHRvIGVkaXQgaW1hZ2U6ICR7ZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnVW5rbm93biBlcnJvcid9YCk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldElzRWRpdGluZyhmYWxzZSk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IHJlc2V0U2VjdGlvbiA9IChzZWN0aW9uSWQ6IHN0cmluZykgPT4ge1xuICAgIHNldFZlcnNpb25IaXN0b3J5KHByZXYgPT4ge1xuICAgICAgY29uc3QgbmV3U3RhdGUgPSB7IC4uLnByZXYgfTtcbiAgICAgIGRlbGV0ZSBuZXdTdGF0ZVtzZWN0aW9uSWRdO1xuICAgICAgcmV0dXJuIG5ld1N0YXRlO1xuICAgIH0pO1xuICAgIHNldEN1cnJlbnRWZXJzaW9uSW5kZXgocHJldiA9PiB7XG4gICAgICBjb25zdCBuZXdTdGF0ZSA9IHsgLi4ucHJldiB9O1xuICAgICAgZGVsZXRlIG5ld1N0YXRlW3NlY3Rpb25JZF07XG4gICAgICByZXR1cm4gbmV3U3RhdGU7XG4gICAgfSk7XG4gICAgdG9hc3Quc3VjY2VzcyhcIlJlc2V0IHRvIG9yaWdpbmFsIGltYWdlXCIpO1xuICB9O1xuXG4gIC8vIEhlbHBlciBmdW5jdGlvbiB0byBnZXQgbG9hZGluZyBzdGF0ZSBmb3IgYSBzbGlkZVxuICBjb25zdCBnZXRMb2FkaW5nU3RhdGUgPSAoc2xpZGVJZDogc3RyaW5nKSA9PiB7XG4gICAgaWYgKCFzZWN0aW9uTG9hZGluZ1N0YXRlcykgcmV0dXJuICdpZGxlJztcbiAgICBcbiAgICBzd2l0Y2ggKHNsaWRlSWQpIHtcbiAgICAgIGNhc2UgJ2Zyb250LWNvdmVyJzpcbiAgICAgICAgcmV0dXJuIHNlY3Rpb25Mb2FkaW5nU3RhdGVzLmZyb250Q292ZXI7XG4gICAgICBjYXNlICdiYWNrLWNvdmVyJzpcbiAgICAgICAgcmV0dXJuIHNlY3Rpb25Mb2FkaW5nU3RhdGVzLmJhY2tDb3ZlcjtcbiAgICAgIGNhc2UgJ2xlZnQtaW50ZXJpb3InOlxuICAgICAgICByZXR1cm4gc2VjdGlvbkxvYWRpbmdTdGF0ZXMubGVmdEludGVyaW9yO1xuICAgICAgY2FzZSAncmlnaHQtaW50ZXJpb3InOlxuICAgICAgICByZXR1cm4gc2VjdGlvbkxvYWRpbmdTdGF0ZXMucmlnaHRJbnRlcmlvcjtcbiAgICAgIGNhc2UgJ2ludGVyaW9yJzpcbiAgICAgICAgLy8gRm9yIGNvbWJpbmVkIGludGVyaW9yIHZpZXcsIHNob3cgbG9hZGluZyBpZiBlaXRoZXIgbGVmdCBvciByaWdodCBpcyBsb2FkaW5nXG4gICAgICAgIGNvbnN0IGxlZnRTdGF0ZSA9IHNlY3Rpb25Mb2FkaW5nU3RhdGVzLmxlZnRJbnRlcmlvcjtcbiAgICAgICAgY29uc3QgcmlnaHRTdGF0ZSA9IHNlY3Rpb25Mb2FkaW5nU3RhdGVzLnJpZ2h0SW50ZXJpb3I7XG4gICAgICAgIGlmIChsZWZ0U3RhdGUgPT09ICdsb2FkaW5nJyB8fCByaWdodFN0YXRlID09PSAnbG9hZGluZycpIHJldHVybiAnbG9hZGluZyc7XG4gICAgICAgIGlmIChsZWZ0U3RhdGUgPT09ICdlcnJvcicgfHwgcmlnaHRTdGF0ZSA9PT0gJ2Vycm9yJykgcmV0dXJuICdlcnJvcic7XG4gICAgICAgIGlmIChsZWZ0U3RhdGUgPT09ICdjb21wbGV0ZWQnICYmIHJpZ2h0U3RhdGUgPT09ICdjb21wbGV0ZWQnKSByZXR1cm4gJ2NvbXBsZXRlZCc7XG4gICAgICAgIHJldHVybiAnaWRsZSc7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gJ2lkbGUnO1xuICAgIH1cbiAgfTtcblxuICAvLyBIZWxwZXIgZnVuY3Rpb24gdG8gcmVuZGVyIGxvYWRpbmcgaW5kaWNhdG9yXG4gIGNvbnN0IHJlbmRlckxvYWRpbmdJbmRpY2F0b3IgPSAoc3RhdGU6ICdpZGxlJyB8ICdsb2FkaW5nJyB8ICdjb21wbGV0ZWQnIHwgJ2Vycm9yJykgPT4ge1xuICAgIHN3aXRjaCAoc3RhdGUpIHtcbiAgICAgIGNhc2UgJ2xvYWRpbmcnOlxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWJzb2x1dGUgdG9wLTMgbGVmdC0xNiBiZy1ibHVlLTUwMC85MCB0ZXh0LXdoaXRlIHJvdW5kZWQtZnVsbCBwLTIgc2hhZG93LWxnXCI+XG4gICAgICAgICAgICA8TG9hZGVyMiBjbGFzc05hbWU9XCJ3LTQgaC00IGFuaW1hdGUtc3BpblwiIC8+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICk7XG4gICAgICBjYXNlICdjb21wbGV0ZWQnOlxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWJzb2x1dGUgdG9wLTMgbGVmdC0xNiBiZy1ncmVlbi01MDAvOTAgdGV4dC13aGl0ZSByb3VuZGVkLWZ1bGwgcC0yIHNoYWRvdy1sZ1wiPlxuICAgICAgICAgICAgPENoZWNrQ2lyY2xlIGNsYXNzTmFtZT1cInctNCBoLTRcIiAvPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApO1xuICAgICAgY2FzZSAnZXJyb3InOlxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWJzb2x1dGUgdG9wLTMgbGVmdC0xNiBiZy1yZWQtNTAwLzkwIHRleHQtd2hpdGUgcm91bmRlZC1mdWxsIHAtMiBzaGFkb3ctbGdcIj5cbiAgICAgICAgICAgIDxBbGVydENpcmNsZSBjbGFzc05hbWU9XCJ3LTQgaC00XCIgLz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKTtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfTtcblxuICAvLyBTaGFyaW5nIGZ1bmN0aW9uc1xuICBjb25zdCBoYW5kbGVTaGFyZUNhcmQgPSBhc3luYyAoKSA9PiB7XG4gICAgLy8gRG9uJ3QgYWxsb3cgc2hhcmluZyBpZiB3ZSdyZSBpbiBsb2FkaW5nIG1vZGVcbiAgICBpZiAoaXNMb2FkaW5nQ2FyZCkge1xuICAgICAgdG9hc3QuZXJyb3IoXCJQbGVhc2Ugd2FpdCBmb3IgdGhlIGNhcmQgdG8gZmluaXNoIGdlbmVyYXRpbmcgYmVmb3JlIHNoYXJpbmdcIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFxuICAgIHNldElzU2hhcmluZyh0cnVlKTtcbiAgICB0cnkge1xuICAgICAgLy8gQ2hlY2sgaWYgY2FyZCBhbHJlYWR5IGhhcyBhIHNoYXJlIFVSTCBmcm9tIGVtYWlsIGNyZWF0aW9uXG4gICAgICBpZiAoZGlzcGxheUNhcmQuc2hhcmVVcmwpIHtcbiAgICAgICAgc2V0U2hhcmVVcmwoZGlzcGxheUNhcmQuc2hhcmVVcmwpO1xuICAgICAgICBzZXRTaG93U2hhcmVEaWFsb2codHJ1ZSk7XG4gICAgICAgIHRvYXN0LnN1Y2Nlc3MoXCJDYXJkIGlzIHJlYWR5IHRvIHNoYXJlIVwiKTtcbiAgICAgICAgc2V0SXNTaGFyaW5nKGZhbHNlKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyBJZiBubyBleGlzdGluZyBVUkwsIGNyZWF0ZSBhIG5ldyBvbmVcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hcGkvY2FyZHMvc3RvcmUnLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgIHByb21wdDogZGlzcGxheUNhcmQucHJvbXB0LFxuICAgICAgICAgIGZyb250Q292ZXI6IGRpc3BsYXlDYXJkLmZyb250Q292ZXIsXG4gICAgICAgICAgYmFja0NvdmVyOiBkaXNwbGF5Q2FyZC5iYWNrQ292ZXIsXG4gICAgICAgICAgbGVmdFBhZ2U6IGRpc3BsYXlDYXJkLmxlZnRQYWdlLFxuICAgICAgICAgIHJpZ2h0UGFnZTogZGlzcGxheUNhcmQucmlnaHRQYWdlLFxuICAgICAgICAgIGdlbmVyYXRlZFByb21wdHM6IGRpc3BsYXlDYXJkLmdlbmVyYXRlZFByb21wdHMgfHwgbnVsbCxcbiAgICAgICAgfSksXG4gICAgICB9KTtcblxuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byBzdG9yZSBjYXJkJyk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgIHNldFNoYXJlVXJsKHJlc3VsdC5zaGFyZV91cmwpO1xuICAgICAgXG4gICAgICAvLyBVcGRhdGUgdGhlIGNhcmQgd2l0aCB0aGUgbmV3IHNoYXJlIFVSTFxuICAgICAgaWYgKG9uQ2FyZFVwZGF0ZSAmJiAhaXNMb2FkaW5nQ2FyZCkge1xuICAgICAgICBvbkNhcmRVcGRhdGUoeyAuLi5kaXNwbGF5Q2FyZCwgc2hhcmVVcmw6IHJlc3VsdC5zaGFyZV91cmwgfSk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIHNldFNob3dTaGFyZURpYWxvZyh0cnVlKTtcbiAgICAgIHRvYXN0LnN1Y2Nlc3MoXCJDYXJkIGlzIHJlYWR5IHRvIHNoYXJlIVwiKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3Igc2hhcmluZyBjYXJkOicsIGVycm9yKTtcbiAgICAgIHRvYXN0LmVycm9yKFwiRmFpbGVkIHRvIHByZXBhcmUgY2FyZCBmb3Igc2hhcmluZ1wiKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgc2V0SXNTaGFyaW5nKGZhbHNlKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlQ29weVNoYXJlVXJsID0gYXN5bmMgKCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICBhd2FpdCBuYXZpZ2F0b3IuY2xpcGJvYXJkLndyaXRlVGV4dChzaGFyZVVybCk7XG4gICAgICB0b2FzdC5zdWNjZXNzKFwiTGluayBjb3BpZWQgdG8gY2xpcGJvYXJkIVwiKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgdG9hc3QuZXJyb3IoXCJGYWlsZWQgdG8gY29weSBsaW5rXCIpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBoYW5kbGVFbWFpbENhcmQgPSBhc3luYyAoKSA9PiB7XG4gICAgaWYgKCFlbWFpbEFkZHJlc3MudHJpbSgpKSB7XG4gICAgICB0b2FzdC5lcnJvcihcIlBsZWFzZSBlbnRlciBhbiBlbWFpbCBhZGRyZXNzXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIEJhc2ljIGVtYWlsIHZhbGlkYXRpb25cbiAgICBjb25zdCBlbWFpbFJlZ2V4ID0gL15bXlxcc0BdK0BbXlxcc0BdK1xcLlteXFxzQF0rJC87XG4gICAgaWYgKCFlbWFpbFJlZ2V4LnRlc3QoZW1haWxBZGRyZXNzKSkge1xuICAgICAgdG9hc3QuZXJyb3IoXCJQbGVhc2UgZW50ZXIgYSB2YWxpZCBlbWFpbCBhZGRyZXNzXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHNldElzU2VuZGluZ0VtYWlsKHRydWUpO1xuICAgIHRyeSB7XG4gICAgICAvLyBVc2UgdGhlIHNhbWUgd29ya2luZyBlbWFpbCBzZXJ2aWNlIGFzIHRoZSB0aGFuayB5b3UgZW1haWxcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJ2h0dHBzOi8vdmliZWNhcmRpbmcuY29tL3NlbmRfZW1haWxfbm9kZWpzX3N0eWxlJywge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICB0bzogZW1haWxBZGRyZXNzLFxuICAgICAgICAgIGZyb206ICd2aWJlY2FyZGluZ0Bhc3QuZW5naW5lZXInLFxuICAgICAgICAgIHN1YmplY3Q6ICfwn46JIFNvbWVvbmUgc2hhcmVkIGEgYmVhdXRpZnVsIGNhcmQgd2l0aCB5b3UhJyxcbiAgICAgICAgICBib2R5OiBgSGkgdGhlcmUhXG5cblNvbWVvbmUgdGhvdWdodCB5b3UnZCBsb3ZlIHRvIHNlZSB0aGlzIGJlYXV0aWZ1bCBncmVldGluZyBjYXJkIGNyZWF0ZWQgd2l0aCBWaWJlQ2FyZGluZyFcblxuVmlldyB0aGUgY2FyZDogJHtzaGFyZVVybH1cblxuVGhpcyBjYXJkIHdhcyBjcmVhdGVkIHdpdGggbG92ZSB1c2luZyBvdXIgQUktcG93ZXJlZCBncmVldGluZyBjYXJkIHBsYXRmb3JtLiBZb3UgY2FuIGNyZWF0ZSB5b3VyIG93biBjYXJkcyBhdCBodHRwczovL3ZpYmVjYXJkaW5nLmNvbVxuXG5CZXN0IHJlZ2FyZHMsXG5UaGUgVmliZUNhcmRpbmcgVGVhbVxudmliZWNhcmRpbmdAYXN0LmVuZ2luZWVyYFxuICAgICAgICB9KSxcbiAgICAgIH0pO1xuXG4gICAgICBpZiAocmVzcG9uc2Uub2spIHtcbiAgICAgICAgdG9hc3Quc3VjY2VzcyhcIuKcie+4jyBDYXJkIHNlbnQgc3VjY2Vzc2Z1bGx5IHZpYSBlbWFpbCFcIik7XG4gICAgICAgIHNldFNob3dTaGFyZURpYWxvZyhmYWxzZSk7XG4gICAgICAgIHNldEVtYWlsQWRkcmVzcyhcIlwiKTsgLy8gQ2xlYXIgdGhlIGVtYWlsIGZpZWxkXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBlcnJvclRleHQgPSBhd2FpdCByZXNwb25zZS50ZXh0KCk7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0VtYWlsIHNlbmQgZmFpbGVkOicsIHJlc3BvbnNlLnN0YXR1cywgZXJyb3JUZXh0KTtcbiAgICAgICAgdG9hc3QuZXJyb3IoXCJGYWlsZWQgdG8gc2VuZCBlbWFpbC4gUGxlYXNlIHRyeSBhZ2Fpbi5cIik7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHNlbmRpbmcgZW1haWw6JywgZXJyb3IpO1xuICAgICAgdG9hc3QuZXJyb3IoXCJGYWlsZWQgdG8gc2VuZCBlbWFpbC4gUGxlYXNlIHRyeSBhZ2Fpbi5cIik7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldElzU2VuZGluZ0VtYWlsKGZhbHNlKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlU2VuZFRvRmFjdG9yeSA9IGFzeW5jICgpID0+IHtcbiAgICAvLyBEb24ndCBhbGxvdyBzZW5kaW5nIHRvIGZhY3RvcnkgaWYgd2UncmUgaW4gbG9hZGluZyBtb2RlXG4gICAgaWYgKGlzTG9hZGluZ0NhcmQpIHtcbiAgICAgIHRvYXN0LmVycm9yKFwiUGxlYXNlIHdhaXQgZm9yIHRoZSBjYXJkIHRvIGZpbmlzaCBnZW5lcmF0aW5nIGJlZm9yZSBzZW5kaW5nIHRvIGZhY3RvcnlcIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFxuICAgIHNldElzU2VuZGluZ1RvRmFjdG9yeSh0cnVlKTtcbiAgICB0cnkge1xuICAgICAgLy8gQ3JlYXRlIGEgY29uY2F0ZW5hdGVkIHN0cmluZyBvZiBhbGwgaW1hZ2UgcHJvbXB0c1xuICAgICAgY29uc3QgcHJvbXB0RGV0YWlscyA9IGBcbkZyb250IENvdmVyIFByb21wdDpcbiR7ZGlzcGxheUNhcmQuZ2VuZXJhdGVkUHJvbXB0cz8uZnJvbnRDb3ZlciB8fCAnTm90IGF2YWlsYWJsZSd9XG5cbkJhY2sgQ292ZXIgUHJvbXB0OlxuJHtkaXNwbGF5Q2FyZC5nZW5lcmF0ZWRQcm9tcHRzPy5iYWNrQ292ZXIgfHwgJ05vdCBhdmFpbGFibGUnfVxuXG4keyFpc0Zyb250QmFja09ubHkgJiYgZGlzcGxheUNhcmQuZ2VuZXJhdGVkUHJvbXB0cz8ubGVmdEludGVyaW9yID8gYExlZnQgSW50ZXJpb3IgUHJvbXB0OlxuJHtkaXNwbGF5Q2FyZC5nZW5lcmF0ZWRQcm9tcHRzLmxlZnRJbnRlcmlvcn1cblxuYCA6ICcnfSR7IWlzRnJvbnRCYWNrT25seSAmJiBkaXNwbGF5Q2FyZC5nZW5lcmF0ZWRQcm9tcHRzPy5yaWdodEludGVyaW9yID8gYFJpZ2h0IEludGVyaW9yIFByb21wdDpcbiR7ZGlzcGxheUNhcmQuZ2VuZXJhdGVkUHJvbXB0cy5yaWdodEludGVyaW9yfVxuXG5gIDogJyd9YDtcblxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnaHR0cHM6Ly92aWJlY2FyZGluZy5jb20vc2VuZF9lbWFpbF9ub2RlanNfc3R5bGUnLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgIHRvOiAnY2FyZHMxQGFzdC5lbmdpbmVlcicsXG4gICAgICAgICAgZnJvbTogJ3ZpYmVjYXJkaW5nQGFzdC5lbmdpbmVlcicsXG4gICAgICAgICAgc3ViamVjdDogJ05ldyBDYXJkIFJlcXVlc3QnLFxuICAgICAgICAgIGJvZHk6IHByb21wdERldGFpbHMsXG4gICAgICAgIH0pLFxuICAgICAgfSk7XG5cbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBIVFRQICR7cmVzcG9uc2Uuc3RhdHVzfWApO1xuICAgICAgfVxuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICBpZiAocmVzdWx0LnN0YXR1cyA9PT0gJ3N1Y2Nlc3MnKSB7XG4gICAgICAgIHRvYXN0LnN1Y2Nlc3MoXCLwn4+tIENhcmQgc2VudCB0byBmYWN0b3J5IHN1Y2Nlc3NmdWxseSFcIik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IocmVzdWx0Lm1lc3NhZ2UgfHwgJ0ZhaWxlZCB0byBzZW5kIHRvIGZhY3RvcnknKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3Igc2VuZGluZyB0byBmYWN0b3J5OicsIGVycm9yKTtcbiAgICAgIHRvYXN0LmVycm9yKFwiRmFpbGVkIHRvIHNlbmQgdG8gZmFjdG9yeS4gUGxlYXNlIHRyeSBhZ2Fpbi5cIik7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldElzU2VuZGluZ1RvRmFjdG9yeShmYWxzZSk7XG4gICAgfVxuICB9O1xuXG4gIC8vIEZhc3QgcHJldmlldyBtb2RlIC0gb25seSBzaG93IGZyb250IGNvdmVyIGZvciBxdWljayBsb2FkaW5nXG4gIGlmIChmYXN0UHJldmlld01vZGUgJiYgZGlzcGxheUNhcmQuZnJvbnRDb3Zlcikge1xuICAgIHJldHVybiAoXG4gICAgICA8bW90aW9uLmRpdiBcbiAgICAgICAgY2xhc3NOYW1lPVwic3BhY2UteS00XCJcbiAgICAgICAgaW5pdGlhbD17eyBvcGFjaXR5OiAwLCB5OiAyMCB9fVxuICAgICAgICBhbmltYXRlPXt7IG9wYWNpdHk6IDEsIHk6IDAgfX1cbiAgICAgICAgdHJhbnNpdGlvbj17eyBkdXJhdGlvbjogMC40IH19XG4gICAgICA+XG4gICAgICAgIHsvKiBGYXN0IFByZXZpZXcgSGVhZGVyICovfVxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtY2VudGVyXCI+XG4gICAgICAgICAgPGgzIGNsYXNzTmFtZT1cInRleHQtbGcgZm9udC1ib2xkIG1iLTFcIj5RdWljayBQcmV2aWV3PC9oMz5cbiAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtZ3JheS02MDAgZGFyazp0ZXh0LWdyYXktNDAwXCI+XG4gICAgICAgICAgICBGcm9udCBjb3ZlciBwcmV2aWV3IC0gbG9hZGluZyBmYXN0ZXIgZm9yIHlvdVxuICAgICAgICAgIDwvcD5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgey8qIEZyb250IENvdmVyIFByZXZpZXcgKi99XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmVsYXRpdmUgYmctZ3JhZGllbnQtdG8tYnIgZnJvbS1ncmF5LTUwIHRvLWdyYXktMTAwIGRhcms6ZnJvbS1ncmF5LTgwMCBkYXJrOnRvLWdyYXktOTAwIHJvdW5kZWQtMnhsIHAtNiBzaGFkb3ctbGdcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJlbGF0aXZlIGFzcGVjdC1bMi8zXSBtYXgtdy1zbSBteC1hdXRvXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctZnVsbCBoLWZ1bGwgcmVsYXRpdmUgYmctd2hpdGUgcm91bmRlZC1sZyBvdmVyZmxvdy1oaWRkZW4gc2hhZG93LXhsIGdyb3VwXCI+XG4gICAgICAgICAgICAgIDxQcm9ncmVzc2l2ZUltYWdlXG4gICAgICAgICAgICAgICAgc3JjPXtkaXNwbGF5Q2FyZC5mcm9udENvdmVyfVxuICAgICAgICAgICAgICAgIHRodW1ibmFpbFNyYz17dW5kZWZpbmVkfVxuICAgICAgICAgICAgICAgIGFsdD1cIkNhcmQgZnJvbnQgY292ZXJcIlxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBoLWZ1bGwgb2JqZWN0LWNvbnRhaW5cIlxuICAgICAgICAgICAgICAgIHByaW9yaXR5PXt0cnVlfVxuICAgICAgICAgICAgICAgIHNpemVzPXtnZW5lcmF0ZVNpemVzQXR0cmlidXRlKCl9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICB7LyogUXVpY2sgYWN0aW9ucyBvdmVybGF5ICovfVxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIGluc2V0LTAgYmctYmxhY2svMCBncm91cC1ob3ZlcjpiZy1ibGFjay81IHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTIwMCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwib3BhY2l0eS0wIGdyb3VwLWhvdmVyOm9wYWNpdHktMTAwIHRyYW5zaXRpb24tb3BhY2l0eSBkdXJhdGlvbi0yMDBcIj5cbiAgICAgICAgICAgICAgICAgIHtvblZpZXdGdWxsQ2FyZCAmJiAoXG4gICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXtvblZpZXdGdWxsQ2FyZH1cbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJiZy13aGl0ZS85MCBob3ZlcjpiZy13aGl0ZSB0ZXh0LWdyYXktNzAwIHNoYWRvdy1sZ1wiXG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICA8RXllIGNsYXNzTmFtZT1cInctNCBoLTQgbXItMlwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgVmlldyBGdWxsIENhcmRcbiAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIHsvKiBMb2FkaW5nIHN0YXRlIGluZGljYXRvciAqL31cbiAgICAgICAgICAgICAge3JlbmRlckxvYWRpbmdJbmRpY2F0b3IoZ2V0TG9hZGluZ1N0YXRlKCdmcm9udC1jb3ZlcicpKX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIFxuICAgICAgICAgIHsvKiBGYXN0IHByZXZpZXcgZGVzY3JpcHRpb24gKi99XG4gICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LWdyYXktNjAwIGRhcms6dGV4dC1ncmF5LTQwMCB0ZXh0LWNlbnRlciBtdC00XCI+XG4gICAgICAgICAgICBUaGUgZnJvbnQgY292ZXIgZGVzaWduIHRoYXQgcmVjaXBpZW50cyB3aWxsIHNlZSBmaXJzdFxuICAgICAgICAgIDwvcD5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgey8qIFZpZXcgRnVsbCBDYXJkIEJ1dHRvbiAqL31cbiAgICAgICAge29uVmlld0Z1bGxDYXJkICYmIChcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgganVzdGlmeS1jZW50ZXJcIj5cbiAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgb25DbGljaz17b25WaWV3RnVsbENhcmR9XG4gICAgICAgICAgICAgIHZhcmlhbnQ9XCJvdXRsaW5lXCJcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYm9yZGVyLWJsdWUtNTAwIHRleHQtYmx1ZS02MDAgaG92ZXI6YmctYmx1ZS01MCBkYXJrOmhvdmVyOmJnLWJsdWUtOTAwLzIwXCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPEV5ZSBjbGFzc05hbWU9XCJ3LTQgaC00IG1yLTJcIiAvPlxuICAgICAgICAgICAgICBWaWV3IENvbXBsZXRlIENhcmRcbiAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApfVxuICAgICAgPC9tb3Rpb24uZGl2PlxuICAgICk7XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS02XCI+XG4gICAgICB7LyogSGVhZGVyICovfVxuICAgICAgPG1vdGlvbi5kaXYgXG4gICAgICAgIGNsYXNzTmFtZT1cInRleHQtY2VudGVyXCJcbiAgICAgICAgaW5pdGlhbD17eyBvcGFjaXR5OiAwLCB5OiAtMjAgfX1cbiAgICAgICAgYW5pbWF0ZT17eyBvcGFjaXR5OiAxLCB5OiAwIH19XG4gICAgICAgIHRyYW5zaXRpb249e3sgZHVyYXRpb246IDAuNiB9fVxuICAgICAgPlxuICAgICAgICA8aDMgY2xhc3NOYW1lPVwidGV4dC14bCBmb250LWJvbGQgbWItMlwiPkNhcmQgUHJldmlldzwvaDM+XG4gICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1ncmF5LTYwMCBkYXJrOnRleHQtZ3JheS00MDBcIj5cbiAgICAgICAgICB7aXNGcm9udEJhY2tPbmx5IFxuICAgICAgICAgICAgPyBcIlN3aXBlIHRocm91Z2ggeW91ciBjYXJkOiBmcm9udCBjb3ZlciBhbmQgYmFjayBjb3ZlclwiXG4gICAgICAgICAgICA6IFwiU3dpcGUgdGhyb3VnaCB5b3VyIGNhcmQ6IGZyb250IGNvdmVyLCBsZWZ0IGludGVyaW9yLCByaWdodCBpbnRlcmlvciwgYW5kIGJhY2sgY292ZXJcIlxuICAgICAgICAgIH1cbiAgICAgICAgPC9wPlxuICAgICAgPC9tb3Rpb24uZGl2PlxuXG4gICAgICB7LyogTWFpbiBDYXJvdXNlbCBDb250YWluZXIgKi99XG4gICAgICA8bW90aW9uLmRpdiBcbiAgICAgICAgY2xhc3NOYW1lPVwicmVsYXRpdmUgYmctZ3JhZGllbnQtdG8tYnIgZnJvbS1ncmF5LTUwIHRvLWdyYXktMTAwIGRhcms6ZnJvbS1ncmF5LTgwMCBkYXJrOnRvLWdyYXktOTAwIHJvdW5kZWQtMnhsIHAtNiBvdmVyZmxvdy1oaWRkZW4gc2hhZG93LXhsXCJcbiAgICAgICAgaW5pdGlhbD17eyBvcGFjaXR5OiAwLCBzY2FsZTogMC45IH19XG4gICAgICAgIGFuaW1hdGU9e3sgb3BhY2l0eTogMSwgc2NhbGU6IDEgfX1cbiAgICAgICAgdHJhbnNpdGlvbj17eyBkdXJhdGlvbjogMC42LCBkZWxheTogMC4yIH19XG4gICAgICA+XG4gICAgICAgIHsvKiBTbGlkZSBDb3VudGVyICYgQXV0by1wbGF5IENvbnRyb2xzICovfVxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiBtYi00XCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxuICAgICAgICAgICAge3NsaWRlcy5tYXAoKF8sIGluZGV4KSA9PiAoXG4gICAgICAgICAgICAgIDxtb3Rpb24uYnV0dG9uXG4gICAgICAgICAgICAgICAga2V5PXtpbmRleH1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2B3LTMgaC0zIHJvdW5kZWQtZnVsbCB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0zMDAgJHtcbiAgICAgICAgICAgICAgICAgIGluZGV4ID09PSBjdXJyZW50U2xpZGUgXG4gICAgICAgICAgICAgICAgICAgID8gJ2JnLWJsdWUtNTAwIHNjYWxlLTEyNScgXG4gICAgICAgICAgICAgICAgICAgIDogJ2JnLWdyYXktMzAwIGRhcms6YmctZ3JheS02MDAgaG92ZXI6YmctZ3JheS00MDAnXG4gICAgICAgICAgICAgICAgfWB9XG4gICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gZ29Ub1NsaWRlKGluZGV4KX1cbiAgICAgICAgICAgICAgICB3aGlsZUhvdmVyPXt7IHNjYWxlOiAxLjIgfX1cbiAgICAgICAgICAgICAgICB3aGlsZVRhcD17eyBzY2FsZTogMC45IH19XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1ncmF5LTUwMCBkYXJrOnRleHQtZ3JheS00MDBcIj5cbiAgICAgICAgICAgICAge2N1cnJlbnRTbGlkZSArIDF9IC8ge3NsaWRlcy5sZW5ndGh9XG4gICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgIHZhcmlhbnQ9XCJnaG9zdFwiXG4gICAgICAgICAgICAgIHNpemU9XCJzbVwiXG4gICAgICAgICAgICAgIG9uQ2xpY2s9e3RvZ2dsZUF1dG9QbGF5fVxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJoLTggdy04IHAtMFwiXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIHtpc0F1dG9QbGF5ID8gKFxuICAgICAgICAgICAgICAgIDxQYXVzZSBjbGFzc05hbWU9XCJ3LTQgaC00XCIgLz5cbiAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICA8UGxheSBjbGFzc05hbWU9XCJ3LTQgaC00XCIgLz5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICB2YXJpYW50PVwiZ2hvc3RcIlxuICAgICAgICAgICAgICBzaXplPVwic21cIlxuICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRDdXJyZW50U2xpZGUoMCl9XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImgtOCB3LTggcC0wXCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPFJvdGF0ZUNjdyBjbGFzc05hbWU9XCJ3LTQgaC00XCIgLz5cbiAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICB2YXJpYW50PVwiZ2hvc3RcIlxuICAgICAgICAgICAgICBzaXplPVwic21cIlxuICAgICAgICAgICAgICBvbkNsaWNrPXtvcGVuRnVsbHNjcmVlbn1cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiaC04IHctOCBwLTBcIlxuICAgICAgICAgICAgICB0aXRsZT1cIlZpZXcgaW4gZnVsbHNjcmVlblwiXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxNYXhpbWl6ZTIgY2xhc3NOYW1lPVwidy00IGgtNFwiIC8+XG4gICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgey8qIENhcm91c2VsICovfVxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJlbGF0aXZlIGgtWzYwdmhdIHNtOmgtODAgbWQ6aC05NiBvdmVyZmxvdy1oaWRkZW4gcm91bmRlZC14bFwiPlxuICAgICAgICAgIDxBbmltYXRlUHJlc2VuY2UgaW5pdGlhbD17ZmFsc2V9IGN1c3RvbT17ZGlyZWN0aW9ufT5cbiAgICAgICAgICAgIDxtb3Rpb24uZGl2XG4gICAgICAgICAgICAgIGtleT17Y3VycmVudFNsaWRlfVxuICAgICAgICAgICAgICBjdXN0b209e2RpcmVjdGlvbn1cbiAgICAgICAgICAgICAgdmFyaWFudHM9e3NsaWRlVmFyaWFudHN9XG4gICAgICAgICAgICAgIGluaXRpYWw9XCJlbnRlclwiXG4gICAgICAgICAgICAgIGFuaW1hdGU9XCJjZW50ZXJcIlxuICAgICAgICAgICAgICBleGl0PVwiZXhpdFwiXG4gICAgICAgICAgICAgIHRyYW5zaXRpb249e3tcbiAgICAgICAgICAgICAgICB4OiB7IHR5cGU6IFwic3ByaW5nXCIsIHN0aWZmbmVzczogMzAwLCBkYW1waW5nOiAzMCB9LFxuICAgICAgICAgICAgICAgIG9wYWNpdHk6IHsgZHVyYXRpb246IDAuMiB9LFxuICAgICAgICAgICAgICAgIHNjYWxlOiB7IGR1cmF0aW9uOiAwLjIgfSxcbiAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgZHJhZz1cInhcIlxuICAgICAgICAgICAgICBkcmFnQ29uc3RyYWludHM9e3sgbGVmdDogMCwgcmlnaHQ6IDAgfX1cbiAgICAgICAgICAgICAgZHJhZ0VsYXN0aWM9ezF9XG4gICAgICAgICAgICAgIG9uRHJhZ0VuZD17KGUsIHsgb2Zmc2V0LCB2ZWxvY2l0eSB9KSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3dpcGUgPSBzd2lwZVBvd2VyKG9mZnNldC54LCB2ZWxvY2l0eS54KTtcblxuICAgICAgICAgICAgICAgIGlmIChzd2lwZSA8IC1zd2lwZUNvbmZpZGVuY2VUaHJlc2hvbGQpIHtcbiAgICAgICAgICAgICAgICAgIHBhZ2luYXRlKDEpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoc3dpcGUgPiBzd2lwZUNvbmZpZGVuY2VUaHJlc2hvbGQpIHtcbiAgICAgICAgICAgICAgICAgIHBhZ2luYXRlKC0xKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImFic29sdXRlIGluc2V0LTAgY3Vyc29yLWdyYWIgYWN0aXZlOmN1cnNvci1ncmFiYmluZ1wiXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaC1mdWxsIGZsZXggZmxleC1jb2xcIj5cbiAgICAgICAgICAgICAgICB7LyogU2xpZGUgSGVhZGVyICovfVxuICAgICAgICAgICAgICAgIDxtb3Rpb24uZGl2XG4gICAgICAgICAgICAgICAgICBpbml0aWFsPXt7IG9wYWNpdHk6IDAsIHk6IDIwIH19XG4gICAgICAgICAgICAgICAgICBhbmltYXRlPXt7IG9wYWNpdHk6IDEsIHk6IDAgfX1cbiAgICAgICAgICAgICAgICAgIHRyYW5zaXRpb249e3sgZGVsYXk6IDAuMyB9fVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIDxCYWRnZSBjbGFzc05hbWU9e2Ake3NsaWRlc1tjdXJyZW50U2xpZGVdLmNvbG9yfSB0ZXh0LXdoaXRlIHctZnVsbCBqdXN0aWZ5LWNlbnRlciBweS0yIG1iLTQgdGV4dC1zbSBmb250LW1lZGl1bWB9PlxuICAgICAgICAgICAgICAgICAgICB7c2xpZGVzW2N1cnJlbnRTbGlkZV0udGl0bGV9ICh7c2xpZGVzW2N1cnJlbnRTbGlkZV0uc3VidGl0bGV9KVxuICAgICAgICAgICAgICAgICAgPC9CYWRnZT5cbiAgICAgICAgICAgICAgICA8L21vdGlvbi5kaXY+XG5cbiAgICAgICAgICAgICAgICB7LyogSW1hZ2UgQ29udGFpbmVyIC0gU2hvd3Mgc2luZ2xlIG9yIGRvdWJsZSBpbWFnZXMgKi99XG4gICAgICAgICAgICAgICAgPG1vdGlvbi5kaXYgXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmbGV4LTEgcmVsYXRpdmUgYm9yZGVyLTIgYm9yZGVyLXdoaXRlLzIwIHJvdW5kZWQtbGcgb3ZlcmZsb3ctaGlkZGVuIHNoYWRvdy0yeGwgYmctd2hpdGUgZ3JvdXBcIlxuICAgICAgICAgICAgICAgICAgaW5pdGlhbD17eyBvcGFjaXR5OiAwLCBzY2FsZTogMC44IH19XG4gICAgICAgICAgICAgICAgICBhbmltYXRlPXt7IG9wYWNpdHk6IDEsIHNjYWxlOiAxIH19XG4gICAgICAgICAgICAgICAgICB0cmFuc2l0aW9uPXt7IGRlbGF5OiAwLjQsIGR1cmF0aW9uOiAwLjQgfX1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICB7LyogU2luZ2xlIGltYWdlIGxheW91dCB3aXRoIGNsaWNrLXRvLWZ1bGxzY3JlZW4gKi99XG4gICAgICAgICAgICAgICAgICB7c2xpZGVzW2N1cnJlbnRTbGlkZV0uaW1hZ2UgPyAoXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgXG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIGgtZnVsbCByZWxhdGl2ZSBjdXJzb3ItcG9pbnRlciBncm91cC9pbWFnZVwiXG4gICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17b3BlbkZ1bGxzY3JlZW59XG4gICAgICAgICAgICAgICAgICAgICAgdGl0bGU9XCJDbGljayB0byB2aWV3IGZ1bGxzY3JlZW5cIlxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgPFByb2dyZXNzaXZlSW1hZ2VcbiAgICAgICAgICAgICAgICAgICAgICAgIHNyYz17c2xpZGVzW2N1cnJlbnRTbGlkZV0uaW1hZ2V9XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHVtYm5haWxTcmM9e3VuZGVmaW5lZH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGFsdD17c2xpZGVzW2N1cnJlbnRTbGlkZV0udGl0bGV9XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgaC1mdWxsIG9iamVjdC1jb250YWluIGJnLXdoaXRlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIHByaW9yaXR5PXtjdXJyZW50U2xpZGUgPT09IDB9IC8vIE9ubHkgcHJpb3JpdGl6ZSBmcm9udCBjb3ZlclxuICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZXM9e2dlbmVyYXRlU2l6ZXNBdHRyaWJ1dGUoKX1cbiAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgIHsvKiBGdWxsc2NyZWVuIGhpbnQgb3ZlcmxheSAqL31cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIGluc2V0LTAgYmctYmxhY2svMCBncm91cC1ob3Zlci9pbWFnZTpiZy1ibGFjay8xMCB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0yMDAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgcG9pbnRlci1ldmVudHMtbm9uZVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJvcGFjaXR5LTAgZ3JvdXAtaG92ZXIvaW1hZ2U6b3BhY2l0eS0xMDAgdHJhbnNpdGlvbi1vcGFjaXR5IGR1cmF0aW9uLTIwMCBiZy13aGl0ZS85MCByb3VuZGVkLWZ1bGwgcC0zIHNoYWRvdy1sZ1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8TWF4aW1pemUyIGNsYXNzTmFtZT1cInctNiBoLTYgdGV4dC1ncmF5LTcwMFwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICB7LyogRWRpdCBCdXR0b25zIC0gQWx3YXlzIHZpc2libGUgKi99XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSBpbnNldC0wIHBvaW50ZXItZXZlbnRzLW5vbmVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHsvKiBMb2FkaW5nIFN0YXRlIEluZGljYXRvciAqL31cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWJzb2x1dGUgdG9wLTMgbGVmdC0zIHBvaW50ZXItZXZlbnRzLWF1dG9cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAge3JlbmRlckxvYWRpbmdJbmRpY2F0b3IoZ2V0TG9hZGluZ1N0YXRlKHNsaWRlc1tjdXJyZW50U2xpZGVdLmlkKSl9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgICAgICAgICAgey8qIEVkaXQgQnV0dG9uIC0gQWx3YXlzIHZpc2libGUgKi99XG4gICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVFZGl0U2VjdGlvbihzbGlkZXNbY3VycmVudFNsaWRlXS5pZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImFic29sdXRlIHRvcC0zIHJpZ2h0LTMgYmctd2hpdGUvOTAgaG92ZXI6Ymctd2hpdGUgdGV4dC1ncmF5LTcwMCByb3VuZGVkLWZ1bGwgcC0yIHNoYWRvdy1sZyB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0yMDAgcG9pbnRlci1ldmVudHMtYXV0b1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlPXtzbGlkZXNbY3VycmVudFNsaWRlXS5lZGl0TGFiZWx9XG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxFZGl0MyBjbGFzc05hbWU9XCJ3LTQgaC00XCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuXG4gICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIHsvKiBSZXNldCBCdXR0b24gLSBTaG93IG9ubHkgaWYgaGFzIHZlcnNpb24gaGlzdG9yeSAqL31cbiAgICAgICAgICAgICAgICAgICAgICAgIHt2ZXJzaW9uSGlzdG9yeVtzbGlkZXNbY3VycmVudFNsaWRlXS5pZF0gJiYgdmVyc2lvbkhpc3Rvcnlbc2xpZGVzW2N1cnJlbnRTbGlkZV0uaWRdLmxlbmd0aCA+IDAgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNldFNlY3Rpb24oc2xpZGVzW2N1cnJlbnRTbGlkZV0uaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYWJzb2x1dGUgdG9wLTMgbGVmdC0zIGJnLWFtYmVyLTUwMC85MCBob3ZlcjpiZy1hbWJlci01MDAgdGV4dC13aGl0ZSByb3VuZGVkLWZ1bGwgcC0yIHNoYWRvdy1sZyB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0yMDAgcG9pbnRlci1ldmVudHMtYXV0b1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9XCJSZXNldCB0byBvcmlnaW5hbFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Um90YXRlQ2N3IGNsYXNzTmFtZT1cInctMyBoLTNcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIHsvKiBWZXJzaW9uIE5hdmlnYXRpb24gLSBTaG93IG9ubHkgaWYgaGFzIHZlcnNpb24gaGlzdG9yeSAqL31cbiAgICAgICAgICAgICAgICAgICAgICAgIHt2ZXJzaW9uSGlzdG9yeVtzbGlkZXNbY3VycmVudFNsaWRlXS5pZF0gJiYgdmVyc2lvbkhpc3Rvcnlbc2xpZGVzW2N1cnJlbnRTbGlkZV0uaWRdLmxlbmd0aCA+IDAgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIGJvdHRvbS0zIGxlZnQtMyBiZy13aGl0ZS85MCByb3VuZGVkLWxnIHNoYWRvdy1sZyBwLTIgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgcG9pbnRlci1ldmVudHMtYXV0b1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdvVG9QcmV2aW91c1ZlcnNpb24oc2xpZGVzW2N1cnJlbnRTbGlkZV0uaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXshY2FuR29CYWNrKHNsaWRlc1tjdXJyZW50U2xpZGVdLmlkKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInAtMSByb3VuZGVkLWZ1bGwgaG92ZXI6YmctZ3JheS0xMDAgZGlzYWJsZWQ6b3BhY2l0eS01MCBkaXNhYmxlZDpjdXJzb3Itbm90LWFsbG93ZWQgdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMjAwXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlPVwiUHJldmlvdXMgdmVyc2lvblwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZXZyb25MZWZ0IGNsYXNzTmFtZT1cInctMyBoLTNcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1ncmF5LTcwMCBweC0xXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7KGN1cnJlbnRWZXJzaW9uSW5kZXhbc2xpZGVzW2N1cnJlbnRTbGlkZV0uaWRdIHx8IDApICsgMX0ve3ZlcnNpb25IaXN0b3J5W3NsaWRlc1tjdXJyZW50U2xpZGVdLmlkXS5sZW5ndGh9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdvVG9OZXh0VmVyc2lvbihzbGlkZXNbY3VycmVudFNsaWRlXS5pZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9eyFjYW5Hb0ZvcndhcmQoc2xpZGVzW2N1cnJlbnRTbGlkZV0uaWQpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicC0xIHJvdW5kZWQtZnVsbCBob3ZlcjpiZy1ncmF5LTEwMCBkaXNhYmxlZDpvcGFjaXR5LTUwIGRpc2FibGVkOmN1cnNvci1ub3QtYWxsb3dlZCB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0yMDBcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9XCJOZXh0IHZlcnNpb25cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGV2cm9uUmlnaHQgY2xhc3NOYW1lPVwidy0zIGgtM1wiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgey8qIEVkaXRlZCBJbmRpY2F0b3IgKi99XG4gICAgICAgICAgICAgICAgICAgICAgICB7dmVyc2lvbkhpc3Rvcnlbc2xpZGVzW2N1cnJlbnRTbGlkZV0uaWRdICYmIHZlcnNpb25IaXN0b3J5W3NsaWRlc1tjdXJyZW50U2xpZGVdLmlkXS5sZW5ndGggPiAwICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSBib3R0b20tMyByaWdodC0zIGJnLWVtZXJhbGQtNTAwIHRleHQtd2hpdGUgdGV4dC14cyBweC0yIHB5LTEgcm91bmRlZC1mdWxsIGZsZXggaXRlbXMtY2VudGVyIGdhcC0xIHBvaW50ZXItZXZlbnRzLWF1dG9cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8V2FuZDIgY2xhc3NOYW1lPVwidy0zIGgtM1wiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRWRpdGVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctZnVsbCBoLWZ1bGwgZmxleCBmbGV4LWNvbCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgYmctZ3JheS0xMDAgZGFyazpiZy1ncmF5LTgwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctZ3JheS0yMDAgZGFyazpiZy1ncmF5LTcwMCByb3VuZGVkLWxnIHAtOCBmbGV4IGZsZXgtY29sIGl0ZW1zLWNlbnRlciBnYXAtNFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPExvYWRlcjIgY2xhc3NOYW1lPVwidy04IGgtOCBhbmltYXRlLXNwaW4gdGV4dC1ncmF5LTQwMFwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtZ3JheS01MDAgZGFyazp0ZXh0LWdyYXktNDAwIGZvbnQtbWVkaXVtXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2dldExvYWRpbmdTdGF0ZShzbGlkZXNbY3VycmVudFNsaWRlXS5pZCkgPT09ICdsb2FkaW5nJyA/ICdHZW5lcmF0aW5nLi4uJyA6ICdMb2FkaW5nIHNlY3Rpb24uLi4nfVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1ncmF5LTQwMCBkYXJrOnRleHQtZ3JheS01MDAgbXQtMVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtzbGlkZXNbY3VycmVudFNsaWRlXS50aXRsZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICA8L21vdGlvbi5kaXY+XG5cbiAgICAgICAgICAgICAgICB7LyogRGVzY3JpcHRpb24gKi99XG4gICAgICAgICAgICAgICAgPG1vdGlvbi5wIFxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LWdyYXktNjAwIGRhcms6dGV4dC1ncmF5LTQwMCB0ZXh0LWNlbnRlciBtdC0zIHB4LTQgbGVhZGluZy1yZWxheGVkXCJcbiAgICAgICAgICAgICAgICAgIGluaXRpYWw9e3sgb3BhY2l0eTogMCB9fVxuICAgICAgICAgICAgICAgICAgYW5pbWF0ZT17eyBvcGFjaXR5OiAxIH19XG4gICAgICAgICAgICAgICAgICB0cmFuc2l0aW9uPXt7IGRlbGF5OiAwLjUgfX1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICB7c2xpZGVzW2N1cnJlbnRTbGlkZV0uZGVzY3JpcHRpb259XG4gICAgICAgICAgICAgICAgPC9tb3Rpb24ucD5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L21vdGlvbi5kaXY+XG4gICAgICAgICAgPC9BbmltYXRlUHJlc2VuY2U+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIHsvKiBOYXZpZ2F0aW9uIEFycm93cyAqL31cbiAgICAgICAgPG1vdGlvbi5idXR0b25cbiAgICAgICAgICBjbGFzc05hbWU9XCJhYnNvbHV0ZSBsZWZ0LTQgdG9wLTEvMiAtdHJhbnNsYXRlLXktMS8yIGJnLXdoaXRlLzgwIGRhcms6YmctZ3JheS04MDAvODAgYmFja2Ryb3AtYmx1ci1zbSByb3VuZGVkLWZ1bGwgcC0yIHNoYWRvdy1sZyBob3ZlcjpiZy13aGl0ZSBkYXJrOmhvdmVyOmJnLWdyYXktNzAwIHRyYW5zaXRpb24tY29sb3JzIHotMTBcIlxuICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHBhZ2luYXRlKC0xKX1cbiAgICAgICAgICB3aGlsZUhvdmVyPXt7IHNjYWxlOiAxLjEgfX1cbiAgICAgICAgICB3aGlsZVRhcD17eyBzY2FsZTogMC45IH19XG4gICAgICAgID5cbiAgICAgICAgICA8Q2hldnJvbkxlZnQgY2xhc3NOYW1lPVwidy01IGgtNVwiIC8+XG4gICAgICAgIDwvbW90aW9uLmJ1dHRvbj5cbiAgICAgICAgXG4gICAgICAgIDxtb3Rpb24uYnV0dG9uXG4gICAgICAgICAgY2xhc3NOYW1lPVwiYWJzb2x1dGUgcmlnaHQtNCB0b3AtMS8yIC10cmFuc2xhdGUteS0xLzIgYmctd2hpdGUvODAgZGFyazpiZy1ncmF5LTgwMC84MCBiYWNrZHJvcC1ibHVyLXNtIHJvdW5kZWQtZnVsbCBwLTIgc2hhZG93LWxnIGhvdmVyOmJnLXdoaXRlIGRhcms6aG92ZXI6YmctZ3JheS03MDAgdHJhbnNpdGlvbi1jb2xvcnMgei0xMFwiXG4gICAgICAgICAgb25DbGljaz17KCkgPT4gcGFnaW5hdGUoMSl9XG4gICAgICAgICAgd2hpbGVIb3Zlcj17eyBzY2FsZTogMS4xIH19XG4gICAgICAgICAgd2hpbGVUYXA9e3sgc2NhbGU6IDAuOSB9fVxuICAgICAgICA+XG4gICAgICAgICAgPENoZXZyb25SaWdodCBjbGFzc05hbWU9XCJ3LTUgaC01XCIgLz5cbiAgICAgICAgPC9tb3Rpb24uYnV0dG9uPlxuICAgICAgPC9tb3Rpb24uZGl2PlxuXG4gICAgICB7LyogUXVpY2sgTmF2aWdhdGlvbiBDYXJkcyAqL31cbiAgICAgIDxtb3Rpb24uZGl2IFxuICAgICAgICBjbGFzc05hbWU9e2BncmlkICR7aXNGcm9udEJhY2tPbmx5ID8gJ2dyaWQtY29scy0yJyA6ICdncmlkLWNvbHMtMiBzbTpncmlkLWNvbHMtNCd9IGdhcC0zYH1cbiAgICAgICAgaW5pdGlhbD17eyBvcGFjaXR5OiAwLCB5OiAyMCB9fVxuICAgICAgICBhbmltYXRlPXt7IG9wYWNpdHk6IDEsIHk6IDAgfX1cbiAgICAgICAgdHJhbnNpdGlvbj17eyBkdXJhdGlvbjogMC42LCBkZWxheTogMC40IH19XG4gICAgICA+XG4gICAgICAgIHtzbGlkZXMubWFwKChzbGlkZSwgaW5kZXgpID0+IHtcbiAgICAgICAgICBjb25zdCBsb2FkaW5nU3RhdGUgPSBnZXRMb2FkaW5nU3RhdGUoc2xpZGUuaWQpO1xuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8bW90aW9uLmJ1dHRvblxuICAgICAgICAgICAgICBrZXk9e3NsaWRlLmlkfVxuICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBnb1RvU2xpZGUoaW5kZXgpfVxuICAgICAgICAgICAgICBjbGFzc05hbWU9e2BwLTMgcm91bmRlZC1sZyBib3JkZXItMiB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0zMDAgdGV4dC1sZWZ0IHJlbGF0aXZlICR7XG4gICAgICAgICAgICAgICAgaW5kZXggPT09IGN1cnJlbnRTbGlkZVxuICAgICAgICAgICAgICAgICAgPyAnYm9yZGVyLWJsdWUtNTAwIGJnLWJsdWUtNTAgZGFyazpiZy1ibHVlLTkwMC8yMCdcbiAgICAgICAgICAgICAgICAgIDogJ2JvcmRlci1ncmF5LTIwMCBkYXJrOmJvcmRlci1ncmF5LTcwMCBob3Zlcjpib3JkZXItZ3JheS0zMDAgZGFyazpob3Zlcjpib3JkZXItZ3JheS02MDAnXG4gICAgICAgICAgICAgIH1gfVxuICAgICAgICAgICAgICB3aGlsZUhvdmVyPXt7IHNjYWxlOiAxLjAyIH19XG4gICAgICAgICAgICAgIHdoaWxlVGFwPXt7IHNjYWxlOiAwLjk4IH19XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIHsvKiBMb2FkaW5nIHN0YXRlIGluZGljYXRvciBmb3IgbmF2aWdhdGlvbiBjYXJkcyAqL31cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSB0b3AtMiByaWdodC0yXCI+XG4gICAgICAgICAgICAgICAge2xvYWRpbmdTdGF0ZSA9PT0gJ2xvYWRpbmcnICYmIChcbiAgICAgICAgICAgICAgICAgIDxMb2FkZXIyIGNsYXNzTmFtZT1cInctMyBoLTMgYW5pbWF0ZS1zcGluIHRleHQtYmx1ZS01MDBcIiAvPlxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAge2xvYWRpbmdTdGF0ZSA9PT0gJ2NvbXBsZXRlZCcgJiYgKFxuICAgICAgICAgICAgICAgICAgPENoZWNrQ2lyY2xlIGNsYXNzTmFtZT1cInctMyBoLTMgdGV4dC1ncmVlbi01MDBcIiAvPlxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAge2xvYWRpbmdTdGF0ZSA9PT0gJ2Vycm9yJyAmJiAoXG4gICAgICAgICAgICAgICAgICA8QWxlcnRDaXJjbGUgY2xhc3NOYW1lPVwidy0zIGgtMyB0ZXh0LXJlZC01MDBcIiAvPlxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2B3LTMgaC0zIHJvdW5kZWQtZnVsbCBtYi0yICR7c2xpZGUuY29sb3J9YH0+PC9kaXY+XG4gICAgICAgICAgICAgIDxoNCBjbGFzc05hbWU9XCJ0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZ3JheS05MDAgZGFyazp0ZXh0LWdyYXktMTAwXCI+XG4gICAgICAgICAgICAgICAge3NsaWRlLnRpdGxlfVxuICAgICAgICAgICAgICA8L2g0PlxuICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtZ3JheS01MDAgZGFyazp0ZXh0LWdyYXktNDAwIG10LTFcIj5cbiAgICAgICAgICAgICAgICB7c2xpZGUuc3VidGl0bGV9XG4gICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgIDwvbW90aW9uLmJ1dHRvbj5cbiAgICAgICAgICApO1xuICAgICAgICB9KX1cbiAgICAgIDwvbW90aW9uLmRpdj5cblxuICAgICAgey8qIFBhcGVyIFNpemUgU2VsZWN0b3IgLSBPbmx5IHNob3cgaWYgY2FyZCBpcyBjb21wbGV0ZWQgYW5kIHByb3BzIGFyZSBwcm92aWRlZCAqL31cbiAgICAgIHtpc0NhcmRDb21wbGV0ZWQgJiYgcGFwZXJTaXplcyAmJiBvblBhcGVyU2l6ZUNoYW5nZSAmJiAoXG4gICAgICAgIDxtb3Rpb24uZGl2IFxuICAgICAgICAgIGNsYXNzTmFtZT1cImJnLWJsdWUtNTAgZGFyazpiZy1ibHVlLTkwMC8yMCByb3VuZGVkLWxnIHAtNCBib3JkZXIgYm9yZGVyLWJsdWUtMjAwIGRhcms6Ym9yZGVyLWJsdWUtODAwXCJcbiAgICAgICAgICBpbml0aWFsPXt7IG9wYWNpdHk6IDAsIHk6IDIwIH19XG4gICAgICAgICAgYW5pbWF0ZT17eyBvcGFjaXR5OiAxLCB5OiAwIH19XG4gICAgICAgICAgdHJhbnNpdGlvbj17eyBkdXJhdGlvbjogMC42LCBkZWxheTogMC41IH19XG4gICAgICAgID5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiBnYXAtNFwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4LTFcIj5cbiAgICAgICAgICAgICAgPGg0IGNsYXNzTmFtZT1cInRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1ibHVlLTkwMCBkYXJrOnRleHQtYmx1ZS0xMDAgbWItMVwiPlxuICAgICAgICAgICAgICAgIFByaW50IFNpemVcbiAgICAgICAgICAgICAgPC9oND5cbiAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LWJsdWUtNzAwIGRhcms6dGV4dC1ibHVlLTMwMFwiPlxuICAgICAgICAgICAgICAgIENoYW5nZSB0aGUgcGFwZXIgc2l6ZSBmb3IgcHJpbnRpbmcgKGRvZXNuJ3QgYWZmZWN0IHlvdXIgaW1hZ2VzKVxuICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy00OFwiPlxuICAgICAgICAgICAgICA8U2VsZWN0IHZhbHVlPXtzZWxlY3RlZFBhcGVyU2l6ZX0gb25WYWx1ZUNoYW5nZT17b25QYXBlclNpemVDaGFuZ2V9PlxuICAgICAgICAgICAgICAgIDxTZWxlY3RUcmlnZ2VyIGNsYXNzTmFtZT1cImJvcmRlci1ibHVlLTMwMCBkYXJrOmJvcmRlci1ibHVlLTcwMFwiPlxuICAgICAgICAgICAgICAgICAgPFNlbGVjdFZhbHVlIHBsYWNlaG9sZGVyPVwiQ2hvb3NlIHBhcGVyIHNpemVcIiAvPlxuICAgICAgICAgICAgICAgIDwvU2VsZWN0VHJpZ2dlcj5cbiAgICAgICAgICAgICAgICA8U2VsZWN0Q29udGVudD5cbiAgICAgICAgICAgICAgICAgIHtwYXBlclNpemVzLm1hcCgoc2l6ZSkgPT4gKFxuICAgICAgICAgICAgICAgICAgICA8U2VsZWN0SXRlbSBrZXk9e3NpemUuaWR9IHZhbHVlPXtzaXplLmlkfT5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtbGVmdFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmb250LW1lZGl1bVwiPntzaXplLmxhYmVsfTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtbXV0ZWQtZm9yZWdyb3VuZFwiPntzaXplLmRlc2NyaXB0aW9ufTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdEl0ZW0+XG4gICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICA8L1NlbGVjdENvbnRlbnQ+XG4gICAgICAgICAgICAgIDwvU2VsZWN0PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvbW90aW9uLmRpdj5cbiAgICAgICl9XG5cblxuICAgICAgey8qIENhcmQgQWN0aW9ucyAqL31cbiAgICAgIDxtb3Rpb24uZGl2IFxuICAgICAgICBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIHNtOmZsZXgtcm93IGdhcC0zIHB0LTRcIlxuICAgICAgICBpbml0aWFsPXt7IG9wYWNpdHk6IDAsIHk6IDIwIH19XG4gICAgICAgIGFuaW1hdGU9e3sgb3BhY2l0eTogMSwgeTogMCB9fVxuICAgICAgICB0cmFuc2l0aW9uPXt7IGR1cmF0aW9uOiAwLjYsIGRlbGF5OiAwLjYgfX1cbiAgICAgID5cbiAgICAgICAgey8qIFByaW50IEJ1dHRvbiAqL31cbiAgICAgICAge29uUHJpbnQgJiYgKFxuICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgIG9uQ2xpY2s9e29uUHJpbnR9XG4gICAgICAgICAgICBjbGFzc05hbWU9XCJmbGV4LTEgYmctZ3JhZGllbnQtdG8tciBmcm9tLWdyZWVuLTUwMCB0by1ncmVlbi02MDAgaG92ZXI6ZnJvbS1ncmVlbi02MDAgaG92ZXI6dG8tZ3JlZW4tNzAwIHRleHQtd2hpdGVcIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxQcmludGVyIGNsYXNzTmFtZT1cInctNCBoLTQgbXItMlwiIC8+XG4gICAgICAgICAgICBQcmludCBDYXJkXG4gICAgICAgICAgICB7cGFwZXJDb25maWcgJiYgKFxuICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtbC0yIHRleHQteHMgb3BhY2l0eS03NVwiPlxuICAgICAgICAgICAgICAgICh7cGFwZXJDb25maWcucHJpbnRXaWR0aH0gw5cge3BhcGVyQ29uZmlnLnByaW50SGVpZ2h0fSlcbiAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgKX1cblxuICAgICAgICB7LyogU2VuZCB0byBGYWN0b3J5IEJ1dHRvbiAqL31cbiAgICAgICAgPEJ1dHRvblxuICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZVNlbmRUb0ZhY3Rvcnl9XG4gICAgICAgICAgZGlzYWJsZWQ9e2lzU2VuZGluZ1RvRmFjdG9yeSB8fCBpc0xvYWRpbmdDYXJkfVxuICAgICAgICAgIHZhcmlhbnQ9XCJvdXRsaW5lXCJcbiAgICAgICAgICBjbGFzc05hbWU9XCJmbGV4LTEgYm9yZGVyLW9yYW5nZS01MDAgdGV4dC1vcmFuZ2UtNjAwIGhvdmVyOmJnLW9yYW5nZS01MCBkYXJrOmhvdmVyOmJnLW9yYW5nZS05MDAvMjAgZGlzYWJsZWQ6b3BhY2l0eS01MFwiXG4gICAgICAgID5cbiAgICAgICAgICB7aXNTZW5kaW5nVG9GYWN0b3J5ID8gKFxuICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgPExvYWRlcjIgY2xhc3NOYW1lPVwidy00IGgtNCBtci0yIGFuaW1hdGUtc3BpblwiIC8+XG4gICAgICAgICAgICAgIFNlbmRpbmcuLi5cbiAgICAgICAgICAgIDwvPlxuICAgICAgICAgICkgOiBpc0xvYWRpbmdDYXJkID8gKFxuICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgPExvYWRlcjIgY2xhc3NOYW1lPVwidy00IGgtNCBtci0yIGFuaW1hdGUtc3BpblwiIC8+XG4gICAgICAgICAgICAgIEdlbmVyYXRpbmcuLi5cbiAgICAgICAgICAgIDwvPlxuICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICA8PlxuICAgICAgICAgICAgICDwn4+tXG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1sLTJcIj5TZW5kIHRvIEZhY3Rvcnk8L3NwYW4+XG4gICAgICAgICAgICA8Lz5cbiAgICAgICAgICApfVxuICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgXG4gICAgICAgIHsvKiBTaGFyZSBCdXR0b24gKi99XG4gICAgICAgIDxCdXR0b25cbiAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVTaGFyZUNhcmR9XG4gICAgICAgICAgZGlzYWJsZWQ9e2lzU2hhcmluZyB8fCBpc0xvYWRpbmdDYXJkfVxuICAgICAgICAgIHZhcmlhbnQ9XCJvdXRsaW5lXCJcbiAgICAgICAgICBjbGFzc05hbWU9XCJmbGV4LTEgYm9yZGVyLWJsdWUtNTAwIHRleHQtYmx1ZS02MDAgaG92ZXI6YmctYmx1ZS01MCBkYXJrOmhvdmVyOmJnLWJsdWUtOTAwLzIwIGRpc2FibGVkOm9wYWNpdHktNTBcIlxuICAgICAgICA+XG4gICAgICAgICAge2lzU2hhcmluZyA/IChcbiAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgIDxMb2FkZXIyIGNsYXNzTmFtZT1cInctNCBoLTQgbXItMiBhbmltYXRlLXNwaW5cIiAvPlxuICAgICAgICAgICAgICBQcmVwYXJpbmcuLi5cbiAgICAgICAgICAgIDwvPlxuICAgICAgICAgICkgOiBpc0xvYWRpbmdDYXJkID8gKFxuICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgPExvYWRlcjIgY2xhc3NOYW1lPVwidy00IGgtNCBtci0yIGFuaW1hdGUtc3BpblwiIC8+XG4gICAgICAgICAgICAgIEdlbmVyYXRpbmcuLi5cbiAgICAgICAgICAgIDwvPlxuICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICA8PlxuICAgICAgICAgICAgICA8U2hhcmUyIGNsYXNzTmFtZT1cInctNCBoLTQgbXItMlwiIC8+XG4gICAgICAgICAgICAgIFNoYXJlIENhcmRcbiAgICAgICAgICAgIDwvPlxuICAgICAgICAgICl9XG4gICAgICAgIDwvQnV0dG9uPlxuICAgICAgPC9tb3Rpb24uZGl2PlxuXG4gICAgICB7LyogU2hhcmUgRGlhbG9nICovfVxuICAgICAgPERpYWxvZyBvcGVuPXtzaG93U2hhcmVEaWFsb2d9IG9uT3BlbkNoYW5nZT17c2V0U2hvd1NoYXJlRGlhbG9nfT5cbiAgICAgICAgPERpYWxvZ0NvbnRlbnQgY2xhc3NOYW1lPVwic206bWF4LXctbWRcIj5cbiAgICAgICAgICA8RGlhbG9nSGVhZGVyPlxuICAgICAgICAgICAgPERpYWxvZ1RpdGxlIGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XG4gICAgICAgICAgICAgIDxTaGFyZTIgY2xhc3NOYW1lPVwidy01IGgtNVwiIC8+XG4gICAgICAgICAgICAgIFNoYXJlIFlvdXIgQ2FyZFxuICAgICAgICAgICAgPC9EaWFsb2dUaXRsZT5cbiAgICAgICAgICAgIDxEaWFsb2dEZXNjcmlwdGlvbj5cbiAgICAgICAgICAgICAgWW91ciBjYXJkIGlzIHJlYWR5IHRvIHNoYXJlISBDb3B5IHRoZSBsaW5rIG9yIHNlbmQgaXQgdmlhIGVtYWlsLlxuICAgICAgICAgICAgPC9EaWFsb2dEZXNjcmlwdGlvbj5cbiAgICAgICAgICA8L0RpYWxvZ0hlYWRlcj5cbiAgICAgICAgICBcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktNFwiPlxuICAgICAgICAgICAgey8qIFNoYXJlIFVSTCAqL31cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0yXCI+XG4gICAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJ0ZXh0LXNtIGZvbnQtbWVkaXVtXCI+U2hhcmUgVVJMPC9sYWJlbD5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGdhcC0yXCI+XG4gICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICB2YWx1ZT17c2hhcmVVcmx9XG4gICAgICAgICAgICAgICAgICByZWFkT25seVxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZmxleC0xXCJcbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZUNvcHlTaGFyZVVybH1cbiAgICAgICAgICAgICAgICAgIHZhcmlhbnQ9XCJvdXRsaW5lXCJcbiAgICAgICAgICAgICAgICAgIHNpemU9XCJzbVwiXG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgPENvcHkgY2xhc3NOYW1lPVwidy00IGgtNFwiIC8+XG4gICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHsvKiBFbWFpbCBTZWN0aW9uICovfVxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTJcIj5cbiAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cInRleHQtc20gZm9udC1tZWRpdW1cIj5TZW5kIHZpYSBFbWFpbDwvbGFiZWw+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBnYXAtMlwiPlxuICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgdHlwZT1cImVtYWlsXCJcbiAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwicmVjaXBpZW50QGV4YW1wbGUuY29tXCJcbiAgICAgICAgICAgICAgICAgIHZhbHVlPXtlbWFpbEFkZHJlc3N9XG4gICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldEVtYWlsQWRkcmVzcyhlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmbGV4LTFcIlxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlRW1haWxDYXJkfVxuICAgICAgICAgICAgICAgICAgdmFyaWFudD1cIm91dGxpbmVcIlxuICAgICAgICAgICAgICAgICAgc2l6ZT1cInNtXCJcbiAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXshZW1haWxBZGRyZXNzLnRyaW0oKSB8fCBpc1NlbmRpbmdFbWFpbH1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICB7aXNTZW5kaW5nRW1haWwgPyAoXG4gICAgICAgICAgICAgICAgICAgIDxMb2FkZXIyIGNsYXNzTmFtZT1cInctNCBoLTQgYW5pbWF0ZS1zcGluXCIgLz5cbiAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgIDxNYWlsIGNsYXNzTmFtZT1cInctNCBoLTRcIiAvPlxuICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1ncmF5LTUwMFwiPlxuICAgICAgICAgICAgICAgIHtpc1NlbmRpbmdFbWFpbCA/IFwiU2VuZGluZyBlbWFpbC4uLlwiIDogXCJTZW5kcyB0aGUgY2FyZCBkaXJlY3RseSB2aWEgZW1haWxcIn1cbiAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvRGlhbG9nQ29udGVudD5cbiAgICAgIDwvRGlhbG9nPlxuXG4gICAgICB7LyogRnVsbHNjcmVlbiBTbGlkZXNob3cgTW9kYWwgKi99XG4gICAgICA8QW5pbWF0ZVByZXNlbmNlPlxuICAgICAgICB7aXNGdWxsc2NyZWVuICYmIChcbiAgICAgICAgICA8bW90aW9uLmRpdlxuICAgICAgICAgICAgaW5pdGlhbD17eyBvcGFjaXR5OiAwIH19XG4gICAgICAgICAgICBhbmltYXRlPXt7IG9wYWNpdHk6IDEgfX1cbiAgICAgICAgICAgIGV4aXQ9e3sgb3BhY2l0eTogMCB9fVxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiZml4ZWQgaW5zZXQtMCB6LTUwIGJnLWJsYWNrLzk1IGJhY2tkcm9wLWJsdXItc21cIlxuICAgICAgICAgICAgb25DbGljaz17Y2xvc2VGdWxsc2NyZWVufVxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaC1mdWxsIGZsZXggZmxleC1jb2xcIj5cbiAgICAgICAgICAgICAgey8qIEZ1bGxzY3JlZW4gSGVhZGVyICovfVxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiBwLTQgbWQ6cC02XCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtNFwiPlxuICAgICAgICAgICAgICAgICAgPEJhZGdlIGNsYXNzTmFtZT17YCR7c2xpZGVzW2N1cnJlbnRTbGlkZV0uY29sb3J9IHRleHQtd2hpdGUgcHgtNCBweS0yYH0+XG4gICAgICAgICAgICAgICAgICAgIHtzbGlkZXNbY3VycmVudFNsaWRlXS50aXRsZX1cbiAgICAgICAgICAgICAgICAgIDwvQmFkZ2U+XG4gICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXdoaXRlLzgwIHRleHQtc20gaGlkZGVuIG1kOmJsb2NrXCI+XG4gICAgICAgICAgICAgICAgICAgIHtzbGlkZXNbY3VycmVudFNsaWRlXS5zdWJ0aXRsZX1cbiAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0zXCI+XG4gICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXdoaXRlLzgwIHRleHQtc21cIj5cbiAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRTbGlkZSArIDF9IC8ge3NsaWRlcy5sZW5ndGh9XG4gICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgIHZhcmlhbnQ9XCJnaG9zdFwiXG4gICAgICAgICAgICAgICAgICAgIHNpemU9XCJzbVwiXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgICB0b2dnbGVBdXRvUGxheSgpO1xuICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJoLTkgdy05IHAtMCB0ZXh0LXdoaXRlIGhvdmVyOmJnLXdoaXRlLzEwXCJcbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAge2lzQXV0b1BsYXkgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgPFBhdXNlIGNsYXNzTmFtZT1cInctNSBoLTVcIiAvPlxuICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgIDxQbGF5IGNsYXNzTmFtZT1cInctNSBoLTVcIiAvPlxuICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgIHZhcmlhbnQ9XCJnaG9zdFwiXG4gICAgICAgICAgICAgICAgICAgIHNpemU9XCJzbVwiXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgICBjbG9zZUZ1bGxzY3JlZW4oKTtcbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiaC05IHctOSBwLTAgdGV4dC13aGl0ZSBob3ZlcjpiZy13aGl0ZS8xMFwiXG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIDxYIGNsYXNzTmFtZT1cInctNSBoLTVcIiAvPlxuICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgIHsvKiBGdWxsc2NyZWVuIEltYWdlIENvbnRhaW5lciAqL31cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4LTEgcmVsYXRpdmUgcHgtNCBtZDpweC02IHBiLTZcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImgtZnVsbCByZWxhdGl2ZVwiPlxuICAgICAgICAgICAgICAgICAgPEFuaW1hdGVQcmVzZW5jZSBpbml0aWFsPXtmYWxzZX0gY3VzdG9tPXtkaXJlY3Rpb259PlxuICAgICAgICAgICAgICAgICAgICA8bW90aW9uLmRpdlxuICAgICAgICAgICAgICAgICAgICAgIGtleT17YGZ1bGxzY3JlZW4tJHtjdXJyZW50U2xpZGV9YH1cbiAgICAgICAgICAgICAgICAgICAgICBjdXN0b209e2RpcmVjdGlvbn1cbiAgICAgICAgICAgICAgICAgICAgICB2YXJpYW50cz17c2xpZGVWYXJpYW50c31cbiAgICAgICAgICAgICAgICAgICAgICBpbml0aWFsPVwiZW50ZXJcIlxuICAgICAgICAgICAgICAgICAgICAgIGFuaW1hdGU9XCJjZW50ZXJcIlxuICAgICAgICAgICAgICAgICAgICAgIGV4aXQ9XCJleGl0XCJcbiAgICAgICAgICAgICAgICAgICAgICB0cmFuc2l0aW9uPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICB4OiB7IHR5cGU6IFwic3ByaW5nXCIsIHN0aWZmbmVzczogMzAwLCBkYW1waW5nOiAzMCB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgb3BhY2l0eTogeyBkdXJhdGlvbjogMC4yIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBzY2FsZTogeyBkdXJhdGlvbjogMC4yIH0sXG4gICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICBkcmFnPVwieFwiXG4gICAgICAgICAgICAgICAgICAgICAgZHJhZ0NvbnN0cmFpbnRzPXt7IGxlZnQ6IDAsIHJpZ2h0OiAwIH19XG4gICAgICAgICAgICAgICAgICAgICAgZHJhZ0VsYXN0aWM9ezF9XG4gICAgICAgICAgICAgICAgICAgICAgb25EcmFnRW5kPXsoXywgeyBvZmZzZXQsIHZlbG9jaXR5IH0pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHN3aXBlID0gc3dpcGVQb3dlcihvZmZzZXQueCwgdmVsb2NpdHkueCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3dpcGUgPCAtc3dpcGVDb25maWRlbmNlVGhyZXNob2xkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHBhZ2luYXRlKDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChzd2lwZSA+IHN3aXBlQ29uZmlkZW5jZVRocmVzaG9sZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBwYWdpbmF0ZSgtMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJhYnNvbHV0ZSBpbnNldC0wIGN1cnNvci1ncmFiIGFjdGl2ZTpjdXJzb3ItZ3JhYmJpbmdcIlxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eyhlKSA9PiBlLnN0b3BQcm9wYWdhdGlvbigpfVxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJoLWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtzbGlkZXNbY3VycmVudFNsaWRlXS5pbWFnZSA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYXgtdy1mdWxsIG1heC1oLWZ1bGwgcmVsYXRpdmVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8UHJvZ3Jlc3NpdmVJbWFnZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3JjPXtzbGlkZXNbY3VycmVudFNsaWRlXS5pbWFnZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRodW1ibmFpbFNyYz17dW5kZWZpbmVkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWx0PXtzbGlkZXNbY3VycmVudFNsaWRlXS50aXRsZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cIm1heC13LWZ1bGwgbWF4LWgtZnVsbCBvYmplY3QtY29udGFpbiByb3VuZGVkLWxnIHNoYWRvdy0yeGxcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpb3JpdHk9e3RydWV9IC8vIEFsd2F5cyBwcmlvcml0aXplIGluIGZ1bGxzY3JlZW5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgYmctZ3JheS04MDAgcm91bmRlZC1sZyBwLThcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXdoaXRlLzcwXCI+TG9hZGluZyBzZWN0aW9uLi4uPC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvbW90aW9uLmRpdj5cbiAgICAgICAgICAgICAgICAgIDwvQW5pbWF0ZVByZXNlbmNlPlxuXG4gICAgICAgICAgICAgICAgICB7LyogRnVsbHNjcmVlbiBOYXZpZ2F0aW9uIEFycm93cyAqL31cbiAgICAgICAgICAgICAgICAgIDxtb3Rpb24uYnV0dG9uXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImFic29sdXRlIGxlZnQtNCB0b3AtMS8yIC10cmFuc2xhdGUteS0xLzIgYmctYmxhY2svNTAgYmFja2Ryb3AtYmx1ci1zbSByb3VuZGVkLWZ1bGwgcC0zIHRleHQtd2hpdGUgaG92ZXI6YmctYmxhY2svNzAgdHJhbnNpdGlvbi1jb2xvcnMgei0xMFwiXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgICBwYWdpbmF0ZSgtMSk7XG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgIHdoaWxlSG92ZXI9e3sgc2NhbGU6IDEuMSB9fVxuICAgICAgICAgICAgICAgICAgICB3aGlsZVRhcD17eyBzY2FsZTogMC45IH19XG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIDxDaGV2cm9uTGVmdCBjbGFzc05hbWU9XCJ3LTYgaC02XCIgLz5cbiAgICAgICAgICAgICAgICAgIDwvbW90aW9uLmJ1dHRvbj5cbiAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgPG1vdGlvbi5idXR0b25cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYWJzb2x1dGUgcmlnaHQtNCB0b3AtMS8yIC10cmFuc2xhdGUteS0xLzIgYmctYmxhY2svNTAgYmFja2Ryb3AtYmx1ci1zbSByb3VuZGVkLWZ1bGwgcC0zIHRleHQtd2hpdGUgaG92ZXI6YmctYmxhY2svNzAgdHJhbnNpdGlvbi1jb2xvcnMgei0xMFwiXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgICBwYWdpbmF0ZSgxKTtcbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgd2hpbGVIb3Zlcj17eyBzY2FsZTogMS4xIH19XG4gICAgICAgICAgICAgICAgICAgIHdoaWxlVGFwPXt7IHNjYWxlOiAwLjkgfX1cbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPENoZXZyb25SaWdodCBjbGFzc05hbWU9XCJ3LTYgaC02XCIgLz5cbiAgICAgICAgICAgICAgICAgIDwvbW90aW9uLmJ1dHRvbj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgey8qIEZ1bGxzY3JlZW4gU2xpZGUgSW5kaWNhdG9ycyAqL31cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBnYXAtMyBwYi02XCI+XG4gICAgICAgICAgICAgICAge3NsaWRlcy5tYXAoKHNsaWRlLCBpbmRleCkgPT4gKFxuICAgICAgICAgICAgICAgICAgPG1vdGlvbi5idXR0b25cbiAgICAgICAgICAgICAgICAgICAga2V5PXtgZnVsbHNjcmVlbi1pbmRpY2F0b3ItJHtzbGlkZS5pZH1gfVxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2B0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0zMDAgJHtcbiAgICAgICAgICAgICAgICAgICAgICBpbmRleCA9PT0gY3VycmVudFNsaWRlIFxuICAgICAgICAgICAgICAgICAgICAgICAgPyAndy04IGgtMyBiZy13aGl0ZSByb3VuZGVkLWZ1bGwnIFxuICAgICAgICAgICAgICAgICAgICAgICAgOiAndy0zIGgtMyBiZy13aGl0ZS80MCByb3VuZGVkLWZ1bGwgaG92ZXI6Ymctd2hpdGUvNjAnXG4gICAgICAgICAgICAgICAgICAgIH1gfVxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgICAgZ29Ub1NsaWRlKGluZGV4KTtcbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgd2hpbGVIb3Zlcj17eyBzY2FsZTogMS4yIH19XG4gICAgICAgICAgICAgICAgICAgIHdoaWxlVGFwPXt7IHNjYWxlOiAwLjkgfX1cbiAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgIHsvKiBGdWxsc2NyZWVuIERlc2NyaXB0aW9uICovfVxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInB4LTYgcGItNlwiPlxuICAgICAgICAgICAgICAgIDxtb3Rpb24ucCBcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInRleHQtd2hpdGUvODAgdGV4dC1jZW50ZXIgdGV4dC1zbSBtZDp0ZXh0LWJhc2UgbGVhZGluZy1yZWxheGVkIG1heC13LTJ4bCBteC1hdXRvXCJcbiAgICAgICAgICAgICAgICAgIGluaXRpYWw9e3sgb3BhY2l0eTogMCB9fVxuICAgICAgICAgICAgICAgICAgYW5pbWF0ZT17eyBvcGFjaXR5OiAxIH19XG4gICAgICAgICAgICAgICAgICB0cmFuc2l0aW9uPXt7IGRlbGF5OiAwLjMgfX1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICB7c2xpZGVzW2N1cnJlbnRTbGlkZV0uZGVzY3JpcHRpb259XG4gICAgICAgICAgICAgICAgPC9tb3Rpb24ucD5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L21vdGlvbi5kaXY+XG4gICAgICAgICl9XG4gICAgICA8L0FuaW1hdGVQcmVzZW5jZT5cblxuICAgICAgey8qIEVkaXQgTW9kYWwgKi99XG4gICAgICA8RGlhbG9nIG9wZW49eyEhZWRpdGluZ1NlY3Rpb259IG9uT3BlbkNoYW5nZT17KG9wZW4pID0+ICFvcGVuICYmIHNldEVkaXRpbmdTZWN0aW9uKG51bGwpfT5cbiAgICAgICAgPERpYWxvZ0NvbnRlbnQgY2xhc3NOYW1lPVwic206bWF4LXctWzUwMHB4XSBtYXgtaC1bOTB2aF0gb3ZlcmZsb3cteS1hdXRvXCI+XG4gICAgICAgICAgPERpYWxvZ0hlYWRlcj5cbiAgICAgICAgICAgIDxEaWFsb2dUaXRsZSBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxuICAgICAgICAgICAgICA8V2FuZDIgY2xhc3NOYW1lPVwidy01IGgtNSB0ZXh0LWJsdWUtNjAwXCIgLz5cbiAgICAgICAgICAgICAge2VkaXRpbmdTZWN0aW9uID8gc2xpZGVzLmZpbmQocyA9PiBzLmlkID09PSBlZGl0aW5nU2VjdGlvbik/LmVkaXRMYWJlbCA6IFwiRWRpdCBTZWN0aW9uXCJ9XG4gICAgICAgICAgICA8L0RpYWxvZ1RpdGxlPlxuICAgICAgICAgICAgPERpYWxvZ0Rlc2NyaXB0aW9uPlxuICAgICAgICAgICAgICB7ZWRpdGluZ1NlY3Rpb24gPT09IFwiaW50ZXJpb3JcIiA/IChcbiAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgRGVzY3JpYmUgaG93IHlvdSdkIGxpa2UgdG8gbW9kaWZ5IHRoaXMgc2VjdGlvbiBvZiB5b3VyIGNhcmQuIFRoaXMgaW50ZXJpb3IgaGFzIDxzdHJvbmc+dHdvIGFyZWFzPC9zdHJvbmc+OiBkZWNvcmF0aXZlIGFydHdvcmsgb24gdGhlIGxlZnQgYW5kIHlvdXIgbWVzc2FnZSBvbiB0aGUgcmlnaHQuIEJlIHNwZWNpZmljIGFib3V0IHdoaWNoIGFyZWEgeW91IHdhbnQgdG8gY2hhbmdlIGFuZCB3aGF0IG1vZGlmaWNhdGlvbnMgeW91IHdhbnQuXG4gICAgICAgICAgICAgICAgICA8YnIgLz48YnIgLz5cbiAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtYW1iZXItNjAwIGRhcms6dGV4dC1hbWJlci00MDAgdGV4dC1zbVwiPlxuICAgICAgICAgICAgICAgICAgICDwn5KhIDxzdHJvbmc+VGlwOjwvc3Ryb25nPiBTcGVjaWZ5IFwibGVmdCBzaWRlXCIgZm9yIGRlY29yYXRpdmUgY2hhbmdlcyBvciBcInJpZ2h0IHNpZGVcIiBmb3IgbWVzc2FnZSBjaGFuZ2VzIHRvIGVuc3VyZSBib3RoIGFyZWFzIGFyZSBwcmVzZXJ2ZWQuXG4gICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgXCJEZXNjcmliZSBob3cgeW91J2QgbGlrZSB0byBtb2RpZnkgdGhpcyBzZWN0aW9uIG9mIHlvdXIgY2FyZC4gQmUgc3BlY2lmaWMgYWJvdXQgY29sb3JzLCBzdHlsZSwgY29udGVudCwgb3IgYW55IGNoYW5nZXMgeW91IHdhbnQgdG8gbWFrZS5cIlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgPC9EaWFsb2dEZXNjcmlwdGlvbj5cbiAgICAgICAgICA8L0RpYWxvZ0hlYWRlcj5cblxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS00IHB5LTRcIj5cbiAgICAgICAgICAgIHsvKiBDdXJyZW50IEltYWdlIFByZXZpZXcgKi99XG4gICAgICAgICAgICB7ZWRpdGluZ1NlY3Rpb24gJiYgKFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktMlwiPlxuICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJ0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZ3JheS03MDAgZGFyazp0ZXh0LWdyYXktMzAwXCI+XG4gICAgICAgICAgICAgICAgICBDdXJyZW50IEltYWdle2VkaXRpbmdTZWN0aW9uID09PSBcImxlZnQtaW50ZXJpb3JcIiB8fCBlZGl0aW5nU2VjdGlvbiA9PT0gXCJyaWdodC1pbnRlcmlvclwiID8gXCJzXCIgOiBcIlwifVxuICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJib3JkZXItMiBib3JkZXItZ3JheS0yMDAgZGFyazpib3JkZXItZ3JheS03MDAgcm91bmRlZC1sZyBvdmVyZmxvdy1oaWRkZW4gYmctd2hpdGVcIj5cbiAgICAgICAgICAgICAgICAgIHtlZGl0aW5nU2VjdGlvbiA9PT0gXCJsZWZ0LWludGVyaW9yXCIgfHwgZWRpdGluZ1NlY3Rpb24gPT09IFwicmlnaHQtaW50ZXJpb3JcIiA/IChcbiAgICAgICAgICAgICAgICAgICAgLy8gU2hvdyBib3RoIGludGVyaW9yIGltYWdlcyBmb3IgY29udGV4dFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaC02NFwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0xLzIgcmVsYXRpdmVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxQcm9ncmVzc2l2ZUltYWdlXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNyYz17Z2V0Q3VycmVudEltYWdlKFwibGVmdC1pbnRlcmlvclwiLCBjYXJkLmxlZnRQYWdlKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgdGh1bWJuYWlsU3JjPXt1bmRlZmluZWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGFsdD1cIkxlZnQgSW50ZXJpb3JcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgaC1mdWxsIG9iamVjdC1jb250YWluXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICB7ZWRpdGluZ1NlY3Rpb24gPT09IFwibGVmdC1pbnRlcmlvclwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSBpbnNldC0wIGJvcmRlci00IGJvcmRlci1ibHVlLTUwMCBiZy1ibHVlLTUwMC8xMFwiPjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctcHggYmctZ3JheS0zMDBcIj48L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMS8yIHJlbGF0aXZlXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8UHJvZ3Jlc3NpdmVJbWFnZVxuICAgICAgICAgICAgICAgICAgICAgICAgICBzcmM9e2dldEN1cnJlbnRJbWFnZShcInJpZ2h0LWludGVyaW9yXCIsIGNhcmQucmlnaHRQYWdlKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgdGh1bWJuYWlsU3JjPXt1bmRlZmluZWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGFsdD1cIlJpZ2h0IEludGVyaW9yXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIGgtZnVsbCBvYmplY3QtY29udGFpblwiXG4gICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAge2VkaXRpbmdTZWN0aW9uID09PSBcInJpZ2h0LWludGVyaW9yXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIGluc2V0LTAgYm9yZGVyLTQgYm9yZGVyLWJsdWUtNTAwIGJnLWJsdWUtNTAwLzEwXCI+PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgIDxQcm9ncmVzc2l2ZUltYWdlXG4gICAgICAgICAgICAgICAgICAgICAgc3JjPXtzbGlkZXMuZmluZChzID0+IHMuaWQgPT09IGVkaXRpbmdTZWN0aW9uKT8uaW1hZ2UgfHwgXCJcIn1cbiAgICAgICAgICAgICAgICAgICAgICB0aHVtYm5haWxTcmM9e3VuZGVmaW5lZH1cbiAgICAgICAgICAgICAgICAgICAgICBhbHQ9XCJDdXJyZW50IHNlY3Rpb25cIlxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBoLTY0IG9iamVjdC1jb250YWluXCJcbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgeyhlZGl0aW5nU2VjdGlvbiA9PT0gXCJsZWZ0LWludGVyaW9yXCIgfHwgZWRpdGluZ1NlY3Rpb24gPT09IFwicmlnaHQtaW50ZXJpb3JcIikgJiYgKFxuICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LWJsdWUtNjAwIGRhcms6dGV4dC1ibHVlLTQwMFwiPlxuICAgICAgICAgICAgICAgICAgICBUaGUgaGlnaGxpZ2h0ZWQgYXJlYSBzaG93cyB3aGljaCBzaWRlIHlvdSdyZSBlZGl0aW5nLiBCb3RoIHNpZGVzIGFyZSBzaG93biBmb3IgY29udGV4dC5cbiAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICl9XG5cbiAgICAgICAgICAgIHsvKiBFZGl0IFByb21wdCAqL31cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0yXCI+XG4gICAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJ0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZ3JheS03MDAgZGFyazp0ZXh0LWdyYXktMzAwXCI+XG4gICAgICAgICAgICAgICAgRWRpdCBJbnN0cnVjdGlvbnNcbiAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgICAgPFRleHRhcmVhXG4gICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJlLmcuLCBDaGFuZ2UgdGhlIGJhY2tncm91bmQgdG8gYSBzdW5zZXQgc2t5LCBtYWtlIHRoZSBmbG93ZXJzIG1vcmUgY29sb3JmdWwsIGFkZCBzcGFya2xlcywgY2hhbmdlIHRoZSB0ZXh0IHN0eWxlIHRvIGhhbmR3cml0dGVuLi4uXCJcbiAgICAgICAgICAgICAgICB2YWx1ZT17ZWRpdFByb21wdH1cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldEVkaXRQcm9tcHQoZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgICAgIHJvd3M9ezR9XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicmVzaXplLW5vbmVcIlxuICAgICAgICAgICAgICAgIHN0eWxlPXt7IGZvbnRTaXplOiAnMTZweCcgfX1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LWdyYXktNTAwIGRhcms6dGV4dC1ncmF5LTQwMFwiPlxuICAgICAgICAgICAgICAgIEJlIHNwZWNpZmljIGFib3V0IHdoYXQgeW91IHdhbnQgdG8gY2hhbmdlLiBPbmx5IHRoZSBhcmVhcyB5b3UgZGVzY3JpYmUgd2lsbCBiZSBtb2RpZmllZCB3aGlsZSBrZWVwaW5nIHRoZSByZXN0IGludGFjdC5cbiAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgPC9kaXY+XG5cblxuXG5cbiAgICAgICAgICAgIHsvKiBBY3Rpb24gQnV0dG9ucyAqL31cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBnYXAtMyBwdC00XCI+XG4gICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRFZGl0aW5nU2VjdGlvbihudWxsKX1cbiAgICAgICAgICAgICAgICB2YXJpYW50PVwib3V0bGluZVwiXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZmxleC0xXCJcbiAgICAgICAgICAgICAgICBkaXNhYmxlZD17aXNFZGl0aW5nfVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgQ2FuY2VsXG4gICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlU3VibWl0RWRpdH1cbiAgICAgICAgICAgICAgICBkaXNhYmxlZD17IWVkaXRQcm9tcHQudHJpbSgpIHx8IGlzRWRpdGluZ31cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmbGV4LTEgYmctZ3JhZGllbnQtdG8tciBmcm9tLWJsdWUtNTAwIHRvLWN5YW4tNjAwIGhvdmVyOmZyb20tYmx1ZS02MDAgaG92ZXI6dG8tY3lhbi03MDBcIlxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAge2lzRWRpdGluZyA/IChcbiAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgIDxMb2FkZXIyIGNsYXNzTmFtZT1cInctNCBoLTQgbXItMiBhbmltYXRlLXNwaW5cIiAvPlxuICAgICAgICAgICAgICAgICAgICBFZGl0aW5nLi4uXG4gICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgPFdhbmQyIGNsYXNzTmFtZT1cInctNCBoLTQgbXItMlwiIC8+XG4gICAgICAgICAgICAgICAgICAgIEFwcGx5IEVkaXRcbiAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvRGlhbG9nQ29udGVudD5cbiAgICAgIDwvRGlhbG9nPlxuXG4gICAgPC9kaXY+XG4gICk7XG59ICJdLCJuYW1lcyI6WyJSZWFjdCIsInVzZVN0YXRlIiwidXNlRWZmZWN0IiwiQnV0dG9uIiwiQmFkZ2UiLCJEaWFsb2ciLCJEaWFsb2dDb250ZW50IiwiRGlhbG9nRGVzY3JpcHRpb24iLCJEaWFsb2dIZWFkZXIiLCJEaWFsb2dUaXRsZSIsIlRleHRhcmVhIiwiSW5wdXQiLCJTZWxlY3QiLCJTZWxlY3RDb250ZW50IiwiU2VsZWN0SXRlbSIsIlNlbGVjdFRyaWdnZXIiLCJTZWxlY3RWYWx1ZSIsIkNoZXZyb25MZWZ0IiwiQ2hldnJvblJpZ2h0IiwiUGxheSIsIlBhdXNlIiwiUm90YXRlQ2N3IiwiTWF4aW1pemUyIiwiWCIsIkVkaXQzIiwiV2FuZDIiLCJMb2FkZXIyIiwiUHJpbnRlciIsIkNoZWNrQ2lyY2xlIiwiQWxlcnRDaXJjbGUiLCJTaGFyZTIiLCJNYWlsIiwiQ29weSIsIkV5ZSIsIm1vdGlvbiIsIkFuaW1hdGVQcmVzZW5jZSIsInRvYXN0IiwiUHJvZ3Jlc3NpdmVJbWFnZSIsImdlbmVyYXRlU2l6ZXNBdHRyaWJ1dGUiLCJwcmVsb2FkQ3JpdGljYWxJbWFnZXMiLCJCQUNLRU5EX0FQSV9CQVNFX1VSTCIsInByb2Nlc3MiLCJlbnYiLCJORVhUX1BVQkxJQ19CQUNLRU5EX0FQSV9VUkwiLCJzbGlkZVZhcmlhbnRzIiwiZW50ZXIiLCJkaXJlY3Rpb24iLCJ4Iiwib3BhY2l0eSIsInNjYWxlIiwiY2VudGVyIiwiekluZGV4IiwiZXhpdCIsInN3aXBlQ29uZmlkZW5jZVRocmVzaG9sZCIsInN3aXBlUG93ZXIiLCJvZmZzZXQiLCJ2ZWxvY2l0eSIsIk1hdGgiLCJhYnMiLCJDYXJkUHJldmlldyIsImNhcmQiLCJvbkNhcmRVcGRhdGUiLCJpc0Zyb250QmFja09ubHkiLCJvblByaW50IiwicGFwZXJDb25maWciLCJzZWN0aW9uTG9hZGluZ1N0YXRlcyIsInNlbGVjdGVkUGFwZXJTaXplIiwib25QYXBlclNpemVDaGFuZ2UiLCJwYXBlclNpemVzIiwiaXNDYXJkQ29tcGxldGVkIiwiZmFzdFByZXZpZXdNb2RlIiwib25WaWV3RnVsbENhcmQiLCJyZWZlcmVuY2VJbWFnZVVybHMiLCJwZXJzb25hbFRyYWl0cyIsInJlbGF0aW9uc2hpcEZpZWxkIiwicGhvdG9SZWZlcmVuY2VzIiwiaXNMb2FkaW5nQ2FyZCIsIk9iamVjdCIsInZhbHVlcyIsInNvbWUiLCJzdGF0ZSIsImRpc3BsYXlDYXJkIiwiaWQiLCJwcm9tcHQiLCJmcm9udENvdmVyIiwiYmFja0NvdmVyIiwibGVmdFBhZ2UiLCJyaWdodFBhZ2UiLCJjcmVhdGVkQXQiLCJEYXRlIiwiY3VycmVudFNsaWRlIiwic2V0Q3VycmVudFNsaWRlIiwic2V0RGlyZWN0aW9uIiwiaXNBdXRvUGxheSIsInNldElzQXV0b1BsYXkiLCJhdXRvUGxheUludGVydmFsIiwic2V0QXV0b1BsYXlJbnRlcnZhbCIsImlzRnVsbHNjcmVlbiIsInNldElzRnVsbHNjcmVlbiIsImVkaXRpbmdTZWN0aW9uIiwic2V0RWRpdGluZ1NlY3Rpb24iLCJlZGl0UHJvbXB0Iiwic2V0RWRpdFByb21wdCIsImlzRWRpdGluZyIsInNldElzRWRpdGluZyIsInZlcnNpb25IaXN0b3J5Iiwic2V0VmVyc2lvbkhpc3RvcnkiLCJjdXJyZW50VmVyc2lvbkluZGV4Iiwic2V0Q3VycmVudFZlcnNpb25JbmRleCIsImlzU2hhcmluZyIsInNldElzU2hhcmluZyIsInNoYXJlVXJsIiwic2V0U2hhcmVVcmwiLCJzaG93U2hhcmVEaWFsb2ciLCJzZXRTaG93U2hhcmVEaWFsb2ciLCJlbWFpbEFkZHJlc3MiLCJzZXRFbWFpbEFkZHJlc3MiLCJpc1NlbmRpbmdFbWFpbCIsInNldElzU2VuZGluZ0VtYWlsIiwiaXNTZW5kaW5nVG9GYWN0b3J5Iiwic2V0SXNTZW5kaW5nVG9GYWN0b3J5IiwidGh1bWJuYWlsVXJscyIsInNldFRodW1ibmFpbFVybHMiLCJnZW5lcmF0ZVRodW1ibmFpbCIsImltYWdlVXJsIiwicmVzcG9uc2UiLCJmZXRjaCIsIm1ldGhvZCIsImhlYWRlcnMiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsImltYWdlX3VybCIsIndpZHRoIiwiaGVpZ2h0IiwicXVhbGl0eSIsIm9rIiwiY29uc29sZSIsIndhcm4iLCJzdGF0dXNUZXh0IiwiZGF0YSIsImpzb24iLCJ0aHVtYm5haWxVcmwiLCJ0aHVtYm5haWxfdXJsIiwicHJldiIsImVycm9yIiwib3RoZXJJbWFnZXMiLCJmaWx0ZXIiLCJCb29sZWFuIiwibGVuZ3RoIiwic2V0VGltZW91dCIsImdldEN1cnJlbnRJbWFnZSIsInNlY3Rpb25JZCIsIm9yaWdpbmFsSW1hZ2UiLCJoaXN0b3J5IiwiY3VycmVudEluZGV4IiwidW5kZWZpbmVkIiwiY2FuR29CYWNrIiwiY2FuR29Gb3J3YXJkIiwiZ29Ub1ByZXZpb3VzVmVyc2lvbiIsImdvVG9OZXh0VmVyc2lvbiIsImFkZFRvVmVyc2lvbkhpc3RvcnkiLCJjdXJyZW50SGlzdG9yeSIsInRydW5jYXRlZEhpc3RvcnkiLCJzbGljZSIsIm5ld0hpc3RvcnkiLCJnZXRTb3VyY2VJbWFnZUZvckVkaXQiLCJhbGxTbGlkZXMiLCJ0aXRsZSIsInN1YnRpdGxlIiwiaW1hZ2UiLCJkZXNjcmlwdGlvbiIsImNvbG9yIiwidHlwZSIsImVkaXRMYWJlbCIsInNsaWRlcyIsInNsaWRlIiwiaW5jbHVkZXMiLCJwYWdpbmF0ZSIsIm5ld0RpcmVjdGlvbiIsImdvVG9TbGlkZSIsImluZGV4IiwidG9nZ2xlQXV0b1BsYXkiLCJjbGVhckludGVydmFsIiwiaW50ZXJ2YWwiLCJzZXRJbnRlcnZhbCIsIm9wZW5GdWxsc2NyZWVuIiwiZG9jdW1lbnQiLCJzdHlsZSIsIm92ZXJmbG93IiwiY2xvc2VGdWxsc2NyZWVuIiwiaGFuZGxlRXNjYXBlIiwiZSIsImtleSIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiaGFuZGxlRWRpdFNlY3Rpb24iLCJoYW5kbGVTdWJtaXRFZGl0IiwidHJpbSIsInNvdXJjZUltYWdlVXJsIiwib3JpZ2luYWxQcm9tcHQiLCJnZW5lcmF0ZWRQcm9tcHRzIiwibGVmdEludGVyaW9yIiwicmlnaHRJbnRlcmlvciIsImZpbmFsRWRpdFByb21wdCIsImFkZGl0aW9uYWxDb250ZXh0IiwiZm9yRWFjaCIsInJlZiIsImlkeCIsInByb21wdE1vZGlmaWNhdGlvblF1ZXJ5IiwicmVwbGFjZSIsIm1vZGlmaWVkUHJvbXB0IiwidG9vbF9uYW1lIiwiYXJndW1lbnRzIiwibWVzc2FnZXMiLCJtb2RlbCIsImluY2x1ZGVfdGhvdWdodHMiLCJFcnJvciIsInN0YXR1cyIsIm1vZGlmaWVkRGF0YSIsIm1vZGlmaWVkUmVzdWx0IiwicmVzdWx0IiwicGFyc2UiLCJtZXNzYWdlIiwiYWlFcnJvciIsImZhbGxiYWNrQ29udGV4dCIsImltYWdlc0ZvckVkaXQiLCJwdXNoIiwibG9nIiwiaW1hZ2VzIiwiZWRpdF9wcm9tcHQiLCJ1c2VyX251bWJlciIsIm91dHB1dF9mb3JtYXQiLCJvdXRwdXRfY29tcHJlc3Npb24iLCJzaXplIiwiZGltZW5zaW9ucyIsIm4iLCJlZGl0UmVzdWx0IiwicmVzdWx0cyIsImVkaXRlZEltYWdlVXJsIiwiZWRpdGVkX3VybCIsInVwZGF0ZWRDYXJkIiwic3VjY2VzcyIsImZpbmQiLCJzIiwicmVzZXRTZWN0aW9uIiwibmV3U3RhdGUiLCJnZXRMb2FkaW5nU3RhdGUiLCJzbGlkZUlkIiwibGVmdFN0YXRlIiwicmlnaHRTdGF0ZSIsInJlbmRlckxvYWRpbmdJbmRpY2F0b3IiLCJkaXYiLCJjbGFzc05hbWUiLCJoYW5kbGVTaGFyZUNhcmQiLCJzaGFyZV91cmwiLCJoYW5kbGVDb3B5U2hhcmVVcmwiLCJuYXZpZ2F0b3IiLCJjbGlwYm9hcmQiLCJ3cml0ZVRleHQiLCJoYW5kbGVFbWFpbENhcmQiLCJlbWFpbFJlZ2V4IiwidGVzdCIsInRvIiwiZnJvbSIsInN1YmplY3QiLCJlcnJvclRleHQiLCJ0ZXh0IiwiaGFuZGxlU2VuZFRvRmFjdG9yeSIsInByb21wdERldGFpbHMiLCJpbml0aWFsIiwieSIsImFuaW1hdGUiLCJ0cmFuc2l0aW9uIiwiZHVyYXRpb24iLCJoMyIsInAiLCJzcmMiLCJ0aHVtYm5haWxTcmMiLCJhbHQiLCJwcmlvcml0eSIsInNpemVzIiwib25DbGljayIsInZhcmlhbnQiLCJkZWxheSIsIm1hcCIsIl8iLCJidXR0b24iLCJ3aGlsZUhvdmVyIiwid2hpbGVUYXAiLCJzcGFuIiwiY3VzdG9tIiwidmFyaWFudHMiLCJzdGlmZm5lc3MiLCJkYW1waW5nIiwiZHJhZyIsImRyYWdDb25zdHJhaW50cyIsImxlZnQiLCJyaWdodCIsImRyYWdFbGFzdGljIiwib25EcmFnRW5kIiwic3dpcGUiLCJzdG9wUHJvcGFnYXRpb24iLCJkaXNhYmxlZCIsImxvYWRpbmdTdGF0ZSIsImg0IiwidmFsdWUiLCJvblZhbHVlQ2hhbmdlIiwicGxhY2Vob2xkZXIiLCJsYWJlbCIsInByaW50V2lkdGgiLCJwcmludEhlaWdodCIsIm9wZW4iLCJvbk9wZW5DaGFuZ2UiLCJyZWFkT25seSIsIm9uQ2hhbmdlIiwidGFyZ2V0Iiwic3Ryb25nIiwiYnIiLCJyb3dzIiwiZm9udFNpemUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./components/CardPreview.tsx\n");

/***/ }),

/***/ "(ssr)/./components/CriticalResourcePreloader.tsx":
/*!**************************************************!*\
  !*** ./components/CriticalResourcePreloader.tsx ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n\nconst CriticalResourcePreloader = ()=>{\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        // Preload critical resources\n        const preloadResources = ()=>{\n            // DNS prefetch for external domains\n            const prefetchDomains = [\n                \"vibecarding.com\",\n                \"fonts.googleapis.com\",\n                \"fonts.gstatic.com\"\n            ];\n            prefetchDomains.forEach((domain)=>{\n                const link = document.createElement(\"link\");\n                link.rel = \"dns-prefetch\";\n                link.href = `//${domain}`;\n                document.head.appendChild(link);\n            });\n            // Preconnect to API endpoint\n            const preconnect = document.createElement(\"link\");\n            preconnect.rel = \"preconnect\";\n            preconnect.href = \"https://vibecarding.com\";\n            preconnect.crossOrigin = \"anonymous\";\n            document.head.appendChild(preconnect);\n            // Preload critical API endpoint\n            const apiPreload = document.createElement(\"link\");\n            apiPreload.rel = \"prefetch\";\n            apiPreload.href = \"https://vibecarding.com/api/cards/list?page=1&per_page=40&template_mode=true\";\n            apiPreload.as = \"fetch\";\n            apiPreload.crossOrigin = \"anonymous\";\n            document.head.appendChild(apiPreload);\n            // Enable resource hints for better performance\n            if (\"connection\" in navigator) {\n                try {\n                    // @ts-ignore\n                    navigator.connection?.addEventListener?.(\"change\", ()=>{\n                        const connection = navigator.connection;\n                        if (connection?.effectiveType === \"4g\" || connection?.downlink > 1.5) {\n                            // Good connection - be more aggressive with preloading\n                            console.log(\"\\uD83D\\uDE80 Good connection detected, enabling aggressive preloading\");\n                        }\n                    });\n                } catch (error) {\n                // Network API not supported\n                }\n            }\n        };\n        // Run immediately, but not blocking\n        setTimeout(preloadResources, 0);\n    }, []);\n    return null; // This component doesn't render anything\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (CriticalResourcePreloader);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9jb21wb25lbnRzL0NyaXRpY2FsUmVzb3VyY2VQcmVsb2FkZXIudHN4IiwibWFwcGluZ3MiOiI7Ozs7OztBQUFrQztBQUVsQyxNQUFNQyw0QkFBNEI7SUFDaENELGdEQUFTQSxDQUFDO1FBQ1IsNkJBQTZCO1FBQzdCLE1BQU1FLG1CQUFtQjtZQUN2QixvQ0FBb0M7WUFDcEMsTUFBTUMsa0JBQWtCO2dCQUN0QjtnQkFDQTtnQkFDQTthQUNEO1lBRURBLGdCQUFnQkMsT0FBTyxDQUFDQyxDQUFBQTtnQkFDdEIsTUFBTUMsT0FBT0MsU0FBU0MsYUFBYSxDQUFDO2dCQUNwQ0YsS0FBS0csR0FBRyxHQUFHO2dCQUNYSCxLQUFLSSxJQUFJLEdBQUcsQ0FBQyxFQUFFLEVBQUVMLE9BQU8sQ0FBQztnQkFDekJFLFNBQVNJLElBQUksQ0FBQ0MsV0FBVyxDQUFDTjtZQUM1QjtZQUVBLDZCQUE2QjtZQUM3QixNQUFNTyxhQUFhTixTQUFTQyxhQUFhLENBQUM7WUFDMUNLLFdBQVdKLEdBQUcsR0FBRztZQUNqQkksV0FBV0gsSUFBSSxHQUFHO1lBQ2xCRyxXQUFXQyxXQUFXLEdBQUc7WUFDekJQLFNBQVNJLElBQUksQ0FBQ0MsV0FBVyxDQUFDQztZQUUxQixnQ0FBZ0M7WUFDaEMsTUFBTUUsYUFBYVIsU0FBU0MsYUFBYSxDQUFDO1lBQzFDTyxXQUFXTixHQUFHLEdBQUc7WUFDakJNLFdBQVdMLElBQUksR0FBRztZQUNsQkssV0FBV0MsRUFBRSxHQUFHO1lBQ2hCRCxXQUFXRCxXQUFXLEdBQUc7WUFDekJQLFNBQVNJLElBQUksQ0FBQ0MsV0FBVyxDQUFDRztZQUUxQiwrQ0FBK0M7WUFDL0MsSUFBSSxnQkFBZ0JFLFdBQVc7Z0JBQzdCLElBQUk7b0JBQ0YsYUFBYTtvQkFDYkEsVUFBVUMsVUFBVSxFQUFFQyxtQkFBbUIsVUFBVTt3QkFDakQsTUFBTUQsYUFBYSxVQUFtQkEsVUFBVTt3QkFDaEQsSUFBSUEsWUFBWUUsa0JBQWtCLFFBQVFGLFlBQVlHLFdBQVcsS0FBSzs0QkFDcEUsdURBQXVEOzRCQUN2REMsUUFBUUMsR0FBRyxDQUFDO3dCQUNkO29CQUNGO2dCQUNGLEVBQUUsT0FBT0MsT0FBTztnQkFDZCw0QkFBNEI7Z0JBQzlCO1lBQ0Y7UUFDRjtRQUVBLG9DQUFvQztRQUNwQ0MsV0FBV3ZCLGtCQUFrQjtJQUMvQixHQUFHLEVBQUU7SUFFTCxPQUFPLE1BQU0seUNBQXlDO0FBQ3hEO0FBRUEsaUVBQWVELHlCQUF5QkEsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL3ZpYmVjYXJkaW5nLy4vY29tcG9uZW50cy9Dcml0aWNhbFJlc291cmNlUHJlbG9hZGVyLnRzeD9hODA2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcblxuY29uc3QgQ3JpdGljYWxSZXNvdXJjZVByZWxvYWRlciA9ICgpID0+IHtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAvLyBQcmVsb2FkIGNyaXRpY2FsIHJlc291cmNlc1xuICAgIGNvbnN0IHByZWxvYWRSZXNvdXJjZXMgPSAoKSA9PiB7XG4gICAgICAvLyBETlMgcHJlZmV0Y2ggZm9yIGV4dGVybmFsIGRvbWFpbnNcbiAgICAgIGNvbnN0IHByZWZldGNoRG9tYWlucyA9IFtcbiAgICAgICAgJ3ZpYmVjYXJkaW5nLmNvbScsXG4gICAgICAgICdmb250cy5nb29nbGVhcGlzLmNvbScsXG4gICAgICAgICdmb250cy5nc3RhdGljLmNvbSdcbiAgICAgIF07XG4gICAgICBcbiAgICAgIHByZWZldGNoRG9tYWlucy5mb3JFYWNoKGRvbWFpbiA9PiB7XG4gICAgICAgIGNvbnN0IGxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaW5rJyk7XG4gICAgICAgIGxpbmsucmVsID0gJ2Rucy1wcmVmZXRjaCc7XG4gICAgICAgIGxpbmsuaHJlZiA9IGAvLyR7ZG9tYWlufWA7XG4gICAgICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQobGluayk7XG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgLy8gUHJlY29ubmVjdCB0byBBUEkgZW5kcG9pbnRcbiAgICAgIGNvbnN0IHByZWNvbm5lY3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaW5rJyk7XG4gICAgICBwcmVjb25uZWN0LnJlbCA9ICdwcmVjb25uZWN0JztcbiAgICAgIHByZWNvbm5lY3QuaHJlZiA9ICdodHRwczovL3ZpYmVjYXJkaW5nLmNvbSc7XG4gICAgICBwcmVjb25uZWN0LmNyb3NzT3JpZ2luID0gJ2Fub255bW91cyc7XG4gICAgICBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHByZWNvbm5lY3QpO1xuICAgICAgXG4gICAgICAvLyBQcmVsb2FkIGNyaXRpY2FsIEFQSSBlbmRwb2ludFxuICAgICAgY29uc3QgYXBpUHJlbG9hZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpbmsnKTtcbiAgICAgIGFwaVByZWxvYWQucmVsID0gJ3ByZWZldGNoJztcbiAgICAgIGFwaVByZWxvYWQuaHJlZiA9ICdodHRwczovL3ZpYmVjYXJkaW5nLmNvbS9hcGkvY2FyZHMvbGlzdD9wYWdlPTEmcGVyX3BhZ2U9NDAmdGVtcGxhdGVfbW9kZT10cnVlJztcbiAgICAgIGFwaVByZWxvYWQuYXMgPSAnZmV0Y2gnO1xuICAgICAgYXBpUHJlbG9hZC5jcm9zc09yaWdpbiA9ICdhbm9ueW1vdXMnO1xuICAgICAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChhcGlQcmVsb2FkKTtcbiAgICAgIFxuICAgICAgLy8gRW5hYmxlIHJlc291cmNlIGhpbnRzIGZvciBiZXR0ZXIgcGVyZm9ybWFuY2VcbiAgICAgIGlmICgnY29ubmVjdGlvbicgaW4gbmF2aWdhdG9yKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgIG5hdmlnYXRvci5jb25uZWN0aW9uPy5hZGRFdmVudExpc3RlbmVyPy4oJ2NoYW5nZScsICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGNvbm5lY3Rpb24gPSAobmF2aWdhdG9yIGFzIGFueSkuY29ubmVjdGlvbjtcbiAgICAgICAgICAgIGlmIChjb25uZWN0aW9uPy5lZmZlY3RpdmVUeXBlID09PSAnNGcnIHx8IGNvbm5lY3Rpb24/LmRvd25saW5rID4gMS41KSB7XG4gICAgICAgICAgICAgIC8vIEdvb2QgY29ubmVjdGlvbiAtIGJlIG1vcmUgYWdncmVzc2l2ZSB3aXRoIHByZWxvYWRpbmdcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/CfmoAgR29vZCBjb25uZWN0aW9uIGRldGVjdGVkLCBlbmFibGluZyBhZ2dyZXNzaXZlIHByZWxvYWRpbmcnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAvLyBOZXR3b3JrIEFQSSBub3Qgc3VwcG9ydGVkXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICAgIFxuICAgIC8vIFJ1biBpbW1lZGlhdGVseSwgYnV0IG5vdCBibG9ja2luZ1xuICAgIHNldFRpbWVvdXQocHJlbG9hZFJlc291cmNlcywgMCk7XG4gIH0sIFtdKTtcbiAgXG4gIHJldHVybiBudWxsOyAvLyBUaGlzIGNvbXBvbmVudCBkb2Vzbid0IHJlbmRlciBhbnl0aGluZ1xufTtcblxuZXhwb3J0IGRlZmF1bHQgQ3JpdGljYWxSZXNvdXJjZVByZWxvYWRlcjsiXSwibmFtZXMiOlsidXNlRWZmZWN0IiwiQ3JpdGljYWxSZXNvdXJjZVByZWxvYWRlciIsInByZWxvYWRSZXNvdXJjZXMiLCJwcmVmZXRjaERvbWFpbnMiLCJmb3JFYWNoIiwiZG9tYWluIiwibGluayIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsInJlbCIsImhyZWYiLCJoZWFkIiwiYXBwZW5kQ2hpbGQiLCJwcmVjb25uZWN0IiwiY3Jvc3NPcmlnaW4iLCJhcGlQcmVsb2FkIiwiYXMiLCJuYXZpZ2F0b3IiLCJjb25uZWN0aW9uIiwiYWRkRXZlbnRMaXN0ZW5lciIsImVmZmVjdGl2ZVR5cGUiLCJkb3dubGluayIsImNvbnNvbGUiLCJsb2ciLCJlcnJvciIsInNldFRpbWVvdXQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./components/CriticalResourcePreloader.tsx\n");

/***/ }),

/***/ "(ssr)/./components/EarlyCardPreloader.tsx":
/*!*******************************************!*\
  !*** ./components/EarlyCardPreloader.tsx ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _hooks_useCardCache__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../hooks/useCardCache */ \"(ssr)/./hooks/useCardCache.ts\");\n\n\n/**\n * Component that starts preloading cards as early as possible\n * This runs before the main page even finishes loading\n */ const EarlyCardPreloader = ()=>{\n    const { preloadAllCards } = (0,_hooks_useCardCache__WEBPACK_IMPORTED_MODULE_1__.useCardCache)();\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        // Start preloading immediately when this component mounts\n        // This happens very early in the page lifecycle\n        const startPreload = async ()=>{\n            try {\n                await preloadAllCards();\n            } catch (error) {\n                console.warn(\"Early preload failed:\", error);\n            }\n        };\n        // Start immediately, don't wait\n        startPreload();\n    }, [\n        preloadAllCards\n    ]);\n    return null; // This component doesn't render anything\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (EarlyCardPreloader);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9jb21wb25lbnRzL0Vhcmx5Q2FyZFByZWxvYWRlci50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFrQztBQUNtQjtBQUVyRDs7O0NBR0MsR0FDRCxNQUFNRSxxQkFBcUI7SUFDekIsTUFBTSxFQUFFQyxlQUFlLEVBQUUsR0FBR0YsaUVBQVlBO0lBRXhDRCxnREFBU0EsQ0FBQztRQUNSLDBEQUEwRDtRQUMxRCxnREFBZ0Q7UUFDaEQsTUFBTUksZUFBZTtZQUNuQixJQUFJO2dCQUNGLE1BQU1EO1lBQ1IsRUFBRSxPQUFPRSxPQUFPO2dCQUNkQyxRQUFRQyxJQUFJLENBQUMseUJBQXlCRjtZQUN4QztRQUNGO1FBRUEsZ0NBQWdDO1FBQ2hDRDtJQUNGLEdBQUc7UUFBQ0Q7S0FBZ0I7SUFFcEIsT0FBTyxNQUFNLHlDQUF5QztBQUN4RDtBQUVBLGlFQUFlRCxrQkFBa0JBLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92aWJlY2FyZGluZy8uL2NvbXBvbmVudHMvRWFybHlDYXJkUHJlbG9hZGVyLnRzeD80ODBjIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHVzZUNhcmRDYWNoZSB9IGZyb20gJy4uL2hvb2tzL3VzZUNhcmRDYWNoZSc7XG5cbi8qKlxuICogQ29tcG9uZW50IHRoYXQgc3RhcnRzIHByZWxvYWRpbmcgY2FyZHMgYXMgZWFybHkgYXMgcG9zc2libGVcbiAqIFRoaXMgcnVucyBiZWZvcmUgdGhlIG1haW4gcGFnZSBldmVuIGZpbmlzaGVzIGxvYWRpbmdcbiAqL1xuY29uc3QgRWFybHlDYXJkUHJlbG9hZGVyID0gKCkgPT4ge1xuICBjb25zdCB7IHByZWxvYWRBbGxDYXJkcyB9ID0gdXNlQ2FyZENhY2hlKCk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAvLyBTdGFydCBwcmVsb2FkaW5nIGltbWVkaWF0ZWx5IHdoZW4gdGhpcyBjb21wb25lbnQgbW91bnRzXG4gICAgLy8gVGhpcyBoYXBwZW5zIHZlcnkgZWFybHkgaW4gdGhlIHBhZ2UgbGlmZWN5Y2xlXG4gICAgY29uc3Qgc3RhcnRQcmVsb2FkID0gYXN5bmMgKCkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgYXdhaXQgcHJlbG9hZEFsbENhcmRzKCk7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLndhcm4oJ0Vhcmx5IHByZWxvYWQgZmFpbGVkOicsIGVycm9yKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgLy8gU3RhcnQgaW1tZWRpYXRlbHksIGRvbid0IHdhaXRcbiAgICBzdGFydFByZWxvYWQoKTtcbiAgfSwgW3ByZWxvYWRBbGxDYXJkc10pO1xuXG4gIHJldHVybiBudWxsOyAvLyBUaGlzIGNvbXBvbmVudCBkb2Vzbid0IHJlbmRlciBhbnl0aGluZ1xufTtcblxuZXhwb3J0IGRlZmF1bHQgRWFybHlDYXJkUHJlbG9hZGVyOyJdLCJuYW1lcyI6WyJ1c2VFZmZlY3QiLCJ1c2VDYXJkQ2FjaGUiLCJFYXJseUNhcmRQcmVsb2FkZXIiLCJwcmVsb2FkQWxsQ2FyZHMiLCJzdGFydFByZWxvYWQiLCJlcnJvciIsImNvbnNvbGUiLCJ3YXJuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./components/EarlyCardPreloader.tsx\n");

/***/ }),

/***/ "(ssr)/./components/MobileDebugPanel.tsx":
/*!*****************************************!*\
  !*** ./components/MobileDebugPanel.tsx ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ MobileDebugPanel)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _barrel_optimize_names_Bug_Check_ChevronDown_ChevronUp_Copy_X_lucide_react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! __barrel_optimize__?names=Bug,Check,ChevronDown,ChevronUp,Copy,X!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/bug.js\");\n/* harmony import */ var _barrel_optimize_names_Bug_Check_ChevronDown_ChevronUp_Copy_X_lucide_react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! __barrel_optimize__?names=Bug,Check,ChevronDown,ChevronUp,Copy,X!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/chevron-up.js\");\n/* harmony import */ var _barrel_optimize_names_Bug_Check_ChevronDown_ChevronUp_Copy_X_lucide_react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! __barrel_optimize__?names=Bug,Check,ChevronDown,ChevronUp,Copy,X!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/chevron-down.js\");\n/* harmony import */ var _barrel_optimize_names_Bug_Check_ChevronDown_ChevronUp_Copy_X_lucide_react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! __barrel_optimize__?names=Bug,Check,ChevronDown,ChevronUp,Copy,X!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/check.js\");\n/* harmony import */ var _barrel_optimize_names_Bug_Check_ChevronDown_ChevronUp_Copy_X_lucide_react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! __barrel_optimize__?names=Bug,Check,ChevronDown,ChevronUp,Copy,X!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/copy.js\");\n/* harmony import */ var _barrel_optimize_names_Bug_Check_ChevronDown_ChevronUp_Copy_X_lucide_react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! __barrel_optimize__?names=Bug,Check,ChevronDown,ChevronUp,Copy,X!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/x.js\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \n\n\nfunction MobileDebugPanel() {\n    const [logs, setLogs] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [isVisible, setIsVisible] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [isMinimized, setIsMinimized] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [isCopied, setIsCopied] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        // Only show in development\n        if (false) {}\n        // Store original console methods\n        const originalLog = console.log;\n        const originalError = console.error;\n        const originalWarn = console.warn;\n        const originalInfo = console.info;\n        // Flag to prevent recursive logging\n        let isInternalLog = false;\n        // Helper to add log entry\n        const addLog = (type, args)=>{\n            if (isInternalLog) return; // Prevent recursion\n            const message = args.map((arg)=>{\n                if (typeof arg === \"object\") {\n                    try {\n                        return JSON.stringify(arg, null, 2);\n                    } catch  {\n                        return String(arg);\n                    }\n                }\n                return String(arg);\n            }).join(\" \");\n            // Use setTimeout to break out of the React render cycle\n            setTimeout(()=>{\n                isInternalLog = true;\n                setLogs((prev)=>{\n                    const newLogs = [\n                        ...prev.slice(-50),\n                        {\n                            id: Date.now() + Math.random(),\n                            type,\n                            message,\n                            timestamp: new Date().toLocaleTimeString()\n                        }\n                    ];\n                    isInternalLog = false;\n                    return newLogs;\n                });\n            }, 0);\n        };\n        // Override console methods\n        console.log = (...args)=>{\n            originalLog(...args);\n            if (!isInternalLog) addLog(\"log\", args);\n        };\n        console.error = (...args)=>{\n            originalError(...args);\n            if (!isInternalLog) addLog(\"error\", args);\n        };\n        console.warn = (...args)=>{\n            originalWarn(...args);\n            if (!isInternalLog) addLog(\"warn\", args);\n        };\n        console.info = (...args)=>{\n            originalInfo(...args);\n            if (!isInternalLog) addLog(\"info\", args);\n        };\n        // Cleanup\n        return ()=>{\n            console.log = originalLog;\n            console.error = originalError;\n            console.warn = originalWarn;\n            console.info = originalInfo;\n        };\n    }, []);\n    // Don't render in production\n    if (false) {}\n    const getLogColor = (type)=>{\n        switch(type){\n            case \"error\":\n                return \"text-red-500\";\n            case \"warn\":\n                return \"text-yellow-500\";\n            case \"info\":\n                return \"text-blue-500\";\n            default:\n                return \"text-gray-300\";\n        }\n    };\n    const copyLogsToClipboard = async ()=>{\n        const logText = logs.map((log)=>`[${log.timestamp}] [${log.type.toUpperCase()}] ${log.message}`).join(\"\\n\");\n        try {\n            await navigator.clipboard.writeText(logText);\n            setIsCopied(true);\n            setTimeout(()=>setIsCopied(false), 2000);\n        } catch (err) {\n            console.error(\"Failed to copy logs:\", err);\n        }\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n        children: [\n            !isVisible && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                onClick: ()=>setIsVisible(true),\n                className: \"fixed bottom-4 right-4 z-50 bg-purple-600 text-white p-3 rounded-full shadow-lg\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Bug_Check_ChevronDown_ChevronUp_Copy_X_lucide_react__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n                    className: \"w-5 h-5\"\n                }, void 0, false, {\n                    fileName: \"/var/www/flask_app/ast_chat/components/MobileDebugPanel.tsx\",\n                    lineNumber: 127,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/var/www/flask_app/ast_chat/components/MobileDebugPanel.tsx\",\n                lineNumber: 123,\n                columnNumber: 9\n            }, this),\n            isVisible && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: `fixed bottom-0 left-0 right-0 z-50 bg-gray-900 border-t border-gray-700 ${isMinimized ? \"h-12\" : \"h-64\"} transition-all duration-200`,\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center justify-between p-2 border-b border-gray-700\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex items-center gap-2\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Bug_Check_ChevronDown_ChevronUp_Copy_X_lucide_react__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n                                        className: \"w-4 h-4 text-purple-400\"\n                                    }, void 0, false, {\n                                        fileName: \"/var/www/flask_app/ast_chat/components/MobileDebugPanel.tsx\",\n                                        lineNumber: 139,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"text-sm font-medium text-gray-300\",\n                                        children: \"Debug Console\"\n                                    }, void 0, false, {\n                                        fileName: \"/var/www/flask_app/ast_chat/components/MobileDebugPanel.tsx\",\n                                        lineNumber: 140,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"text-xs text-gray-500\",\n                                        children: [\n                                            \"(\",\n                                            logs.length,\n                                            \" logs)\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/var/www/flask_app/ast_chat/components/MobileDebugPanel.tsx\",\n                                        lineNumber: 141,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/var/www/flask_app/ast_chat/components/MobileDebugPanel.tsx\",\n                                lineNumber: 138,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex items-center gap-2\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: ()=>setIsMinimized(!isMinimized),\n                                        className: \"p-1 hover:bg-gray-800 rounded\",\n                                        children: isMinimized ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Bug_Check_ChevronDown_ChevronUp_Copy_X_lucide_react__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n                                            className: \"w-4 h-4 text-gray-400\"\n                                        }, void 0, false, {\n                                            fileName: \"/var/www/flask_app/ast_chat/components/MobileDebugPanel.tsx\",\n                                            lineNumber: 148,\n                                            columnNumber: 32\n                                        }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Bug_Check_ChevronDown_ChevronUp_Copy_X_lucide_react__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n                                            className: \"w-4 h-4 text-gray-400\"\n                                        }, void 0, false, {\n                                            fileName: \"/var/www/flask_app/ast_chat/components/MobileDebugPanel.tsx\",\n                                            lineNumber: 148,\n                                            columnNumber: 82\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/var/www/flask_app/ast_chat/components/MobileDebugPanel.tsx\",\n                                        lineNumber: 144,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: copyLogsToClipboard,\n                                        className: \"text-xs px-2 py-1 bg-gray-800 hover:bg-gray-700 rounded text-gray-400 flex items-center gap-1\",\n                                        disabled: logs.length === 0,\n                                        children: isCopied ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Bug_Check_ChevronDown_ChevronUp_Copy_X_lucide_react__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n                                                    className: \"w-3 h-3\"\n                                                }, void 0, false, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/components/MobileDebugPanel.tsx\",\n                                                    lineNumber: 157,\n                                                    columnNumber: 21\n                                                }, this),\n                                                \"Copied!\"\n                                            ]\n                                        }, void 0, true) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Bug_Check_ChevronDown_ChevronUp_Copy_X_lucide_react__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n                                                    className: \"w-3 h-3\"\n                                                }, void 0, false, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/components/MobileDebugPanel.tsx\",\n                                                    lineNumber: 162,\n                                                    columnNumber: 21\n                                                }, this),\n                                                \"Copy\"\n                                            ]\n                                        }, void 0, true)\n                                    }, void 0, false, {\n                                        fileName: \"/var/www/flask_app/ast_chat/components/MobileDebugPanel.tsx\",\n                                        lineNumber: 150,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: ()=>setLogs([]),\n                                        className: \"text-xs px-2 py-1 bg-gray-800 hover:bg-gray-700 rounded text-gray-400\",\n                                        children: \"Clear\"\n                                    }, void 0, false, {\n                                        fileName: \"/var/www/flask_app/ast_chat/components/MobileDebugPanel.tsx\",\n                                        lineNumber: 167,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: ()=>setIsVisible(false),\n                                        className: \"p-1 hover:bg-gray-800 rounded\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Bug_Check_ChevronDown_ChevronUp_Copy_X_lucide_react__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n                                            className: \"w-4 h-4 text-gray-400\"\n                                        }, void 0, false, {\n                                            fileName: \"/var/www/flask_app/ast_chat/components/MobileDebugPanel.tsx\",\n                                            lineNumber: 177,\n                                            columnNumber: 17\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/var/www/flask_app/ast_chat/components/MobileDebugPanel.tsx\",\n                                        lineNumber: 173,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/var/www/flask_app/ast_chat/components/MobileDebugPanel.tsx\",\n                                lineNumber: 143,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/var/www/flask_app/ast_chat/components/MobileDebugPanel.tsx\",\n                        lineNumber: 137,\n                        columnNumber: 11\n                    }, this),\n                    !isMinimized && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"overflow-y-auto h-full pb-12 p-2 font-mono text-xs\",\n                        children: logs.length === 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"text-gray-500 text-center mt-8\",\n                            children: \"No logs yet...\"\n                        }, void 0, false, {\n                            fileName: \"/var/www/flask_app/ast_chat/components/MobileDebugPanel.tsx\",\n                            lineNumber: 186,\n                            columnNumber: 17\n                        }, this) : logs.map((log)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"py-1 border-b border-gray-800\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex items-start gap-2\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"text-gray-600 flex-shrink-0\",\n                                            children: log.timestamp\n                                        }, void 0, false, {\n                                            fileName: \"/var/www/flask_app/ast_chat/components/MobileDebugPanel.tsx\",\n                                            lineNumber: 191,\n                                            columnNumber: 23\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: `font-semibold flex-shrink-0 ${getLogColor(log.type)}`,\n                                            children: [\n                                                \"[\",\n                                                log.type.toUpperCase(),\n                                                \"]\"\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/var/www/flask_app/ast_chat/components/MobileDebugPanel.tsx\",\n                                            lineNumber: 192,\n                                            columnNumber: 23\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"pre\", {\n                                            className: \"whitespace-pre-wrap break-all text-gray-300 flex-1\",\n                                            children: log.message\n                                        }, void 0, false, {\n                                            fileName: \"/var/www/flask_app/ast_chat/components/MobileDebugPanel.tsx\",\n                                            lineNumber: 195,\n                                            columnNumber: 23\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/var/www/flask_app/ast_chat/components/MobileDebugPanel.tsx\",\n                                    lineNumber: 190,\n                                    columnNumber: 21\n                                }, this)\n                            }, log.id, false, {\n                                fileName: \"/var/www/flask_app/ast_chat/components/MobileDebugPanel.tsx\",\n                                lineNumber: 189,\n                                columnNumber: 19\n                            }, this))\n                    }, void 0, false, {\n                        fileName: \"/var/www/flask_app/ast_chat/components/MobileDebugPanel.tsx\",\n                        lineNumber: 184,\n                        columnNumber: 13\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/var/www/flask_app/ast_chat/components/MobileDebugPanel.tsx\",\n                lineNumber: 133,\n                columnNumber: 9\n            }, this)\n        ]\n    }, void 0, true);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QVU7d0NBQ1ZJLFVBQVV0RCxLQUFLcUQsTUFBTSxLQUFLO2tEQUV6Qi9DLHlCQUNDOzs4REFDRSw4REFBQ1Isa0hBQUtBO29EQUFDb0QsV0FBVTs7Ozs7O2dEQUFZOzt5RUFJL0I7OzhEQUNFLDhEQUFDckQsa0hBQUlBO29EQUFDcUQsV0FBVTs7Ozs7O2dEQUFZOzs7Ozs7OztrREFLbEMsOERBQUNGO3dDQUNDQyxTQUFTLElBQU1oRCxRQUFRLEVBQUU7d0NBQ3pCaUQsV0FBVTtrREFDWDs7Ozs7O2tEQUdELDhEQUFDRjt3Q0FDQ0MsU0FBUyxJQUFNOUMsYUFBYTt3Q0FDNUIrQyxXQUFVO2tEQUVWLDRFQUFDekQsa0hBQUNBOzRDQUFDeUQsV0FBVTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7b0JBTWxCLENBQUM5Qyw2QkFDQSw4REFBQytDO3dCQUFJRCxXQUFVO2tDQUNabEQsS0FBS3FELE1BQU0sS0FBSyxrQkFDZiw4REFBQ0Y7NEJBQUlELFdBQVU7c0NBQWlDOzs7OzttQ0FFaERsRCxLQUFLdUIsR0FBRyxDQUFDWixDQUFBQSxvQkFDUCw4REFBQ3dDO2dDQUFpQkQsV0FBVTswQ0FDMUIsNEVBQUNDO29DQUFJRCxXQUFVOztzREFDYiw4REFBQ0U7NENBQUtGLFdBQVU7c0RBQStCdkMsSUFBSTJCLFNBQVM7Ozs7OztzREFDNUQsOERBQUNjOzRDQUFLRixXQUFXLENBQUMsNEJBQTRCLEVBQUVWLFlBQVk3QixJQUFJUyxJQUFJLEVBQUUsQ0FBQzs7Z0RBQUU7Z0RBQ3JFVCxJQUFJUyxJQUFJLENBQUN1QixXQUFXO2dEQUFHOzs7Ozs7O3NEQUUzQiw4REFBQ1k7NENBQUlMLFdBQVU7c0RBQ1p2QyxJQUFJVyxPQUFPOzs7Ozs7Ozs7Ozs7K0JBUFJYLElBQUlzQixFQUFFOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFtQmxDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdmliZWNhcmRpbmcvLi9jb21wb25lbnRzL01vYmlsZURlYnVnUGFuZWwudHN4P2M5N2MiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2UgY2xpZW50XCI7XG5cbmltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgWCwgQnVnLCBDaGV2cm9uRG93biwgQ2hldnJvblVwLCBDb3B5LCBDaGVjayB9IGZyb20gJ2x1Y2lkZS1yZWFjdCc7XG5cbmludGVyZmFjZSBMb2dFbnRyeSB7XG4gIGlkOiBudW1iZXI7XG4gIHR5cGU6ICdsb2cnIHwgJ2Vycm9yJyB8ICd3YXJuJyB8ICdpbmZvJztcbiAgbWVzc2FnZTogc3RyaW5nO1xuICB0aW1lc3RhbXA6IHN0cmluZztcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gTW9iaWxlRGVidWdQYW5lbCgpIHtcbiAgY29uc3QgW2xvZ3MsIHNldExvZ3NdID0gdXNlU3RhdGU8TG9nRW50cnlbXT4oW10pO1xuICBjb25zdCBbaXNWaXNpYmxlLCBzZXRJc1Zpc2libGVdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbaXNNaW5pbWl6ZWQsIHNldElzTWluaW1pemVkXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2lzQ29waWVkLCBzZXRJc0NvcGllZF0gPSB1c2VTdGF0ZShmYWxzZSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAvLyBPbmx5IHNob3cgaW4gZGV2ZWxvcG1lbnRcbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdkZXZlbG9wbWVudCcpIHJldHVybjtcblxuICAgIC8vIFN0b3JlIG9yaWdpbmFsIGNvbnNvbGUgbWV0aG9kc1xuICAgIGNvbnN0IG9yaWdpbmFsTG9nID0gY29uc29sZS5sb2c7XG4gICAgY29uc3Qgb3JpZ2luYWxFcnJvciA9IGNvbnNvbGUuZXJyb3I7XG4gICAgY29uc3Qgb3JpZ2luYWxXYXJuID0gY29uc29sZS53YXJuO1xuICAgIGNvbnN0IG9yaWdpbmFsSW5mbyA9IGNvbnNvbGUuaW5mbztcblxuICAgIC8vIEZsYWcgdG8gcHJldmVudCByZWN1cnNpdmUgbG9nZ2luZ1xuICAgIGxldCBpc0ludGVybmFsTG9nID0gZmFsc2U7XG5cbiAgICAvLyBIZWxwZXIgdG8gYWRkIGxvZyBlbnRyeVxuICAgIGNvbnN0IGFkZExvZyA9ICh0eXBlOiBMb2dFbnRyeVsndHlwZSddLCBhcmdzOiBhbnlbXSkgPT4ge1xuICAgICAgaWYgKGlzSW50ZXJuYWxMb2cpIHJldHVybjsgLy8gUHJldmVudCByZWN1cnNpb25cbiAgICAgIFxuICAgICAgY29uc3QgbWVzc2FnZSA9IGFyZ3MubWFwKGFyZyA9PiB7XG4gICAgICAgIGlmICh0eXBlb2YgYXJnID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoYXJnLCBudWxsLCAyKTtcbiAgICAgICAgICB9IGNhdGNoIHtcbiAgICAgICAgICAgIHJldHVybiBTdHJpbmcoYXJnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFN0cmluZyhhcmcpO1xuICAgICAgfSkuam9pbignICcpO1xuXG4gICAgICAvLyBVc2Ugc2V0VGltZW91dCB0byBicmVhayBvdXQgb2YgdGhlIFJlYWN0IHJlbmRlciBjeWNsZVxuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGlzSW50ZXJuYWxMb2cgPSB0cnVlO1xuICAgICAgICBzZXRMb2dzKHByZXYgPT4ge1xuICAgICAgICAgIGNvbnN0IG5ld0xvZ3MgPSBbLi4ucHJldi5zbGljZSgtNTApLCB7IC8vIEtlZXAgbGFzdCA1MCBsb2dzXG4gICAgICAgICAgICBpZDogRGF0ZS5ub3coKSArIE1hdGgucmFuZG9tKCksIC8vIFVzZSB0aW1lc3RhbXAgKyByYW5kb20gZm9yIElEXG4gICAgICAgICAgICB0eXBlLFxuICAgICAgICAgICAgbWVzc2FnZSxcbiAgICAgICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0xvY2FsZVRpbWVTdHJpbmcoKVxuICAgICAgICAgIH1dO1xuICAgICAgICAgIGlzSW50ZXJuYWxMb2cgPSBmYWxzZTtcbiAgICAgICAgICByZXR1cm4gbmV3TG9ncztcbiAgICAgICAgfSk7XG4gICAgICB9LCAwKTtcbiAgICB9O1xuXG4gICAgLy8gT3ZlcnJpZGUgY29uc29sZSBtZXRob2RzXG4gICAgY29uc29sZS5sb2cgPSAoLi4uYXJncykgPT4ge1xuICAgICAgb3JpZ2luYWxMb2coLi4uYXJncyk7XG4gICAgICBpZiAoIWlzSW50ZXJuYWxMb2cpIGFkZExvZygnbG9nJywgYXJncyk7XG4gICAgfTtcblxuICAgIGNvbnNvbGUuZXJyb3IgPSAoLi4uYXJncykgPT4ge1xuICAgICAgb3JpZ2luYWxFcnJvciguLi5hcmdzKTtcbiAgICAgIGlmICghaXNJbnRlcm5hbExvZykgYWRkTG9nKCdlcnJvcicsIGFyZ3MpO1xuICAgIH07XG5cbiAgICBjb25zb2xlLndhcm4gPSAoLi4uYXJncykgPT4ge1xuICAgICAgb3JpZ2luYWxXYXJuKC4uLmFyZ3MpO1xuICAgICAgaWYgKCFpc0ludGVybmFsTG9nKSBhZGRMb2coJ3dhcm4nLCBhcmdzKTtcbiAgICB9O1xuXG4gICAgY29uc29sZS5pbmZvID0gKC4uLmFyZ3MpID0+IHtcbiAgICAgIG9yaWdpbmFsSW5mbyguLi5hcmdzKTtcbiAgICAgIGlmICghaXNJbnRlcm5hbExvZykgYWRkTG9nKCdpbmZvJywgYXJncyk7XG4gICAgfTtcblxuICAgIC8vIENsZWFudXBcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgY29uc29sZS5sb2cgPSBvcmlnaW5hbExvZztcbiAgICAgIGNvbnNvbGUuZXJyb3IgPSBvcmlnaW5hbEVycm9yO1xuICAgICAgY29uc29sZS53YXJuID0gb3JpZ2luYWxXYXJuO1xuICAgICAgY29uc29sZS5pbmZvID0gb3JpZ2luYWxJbmZvO1xuICAgIH07XG4gIH0sIFtdKTtcblxuICAvLyBEb24ndCByZW5kZXIgaW4gcHJvZHVjdGlvblxuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdkZXZlbG9wbWVudCcpIHJldHVybiBudWxsO1xuXG4gIGNvbnN0IGdldExvZ0NvbG9yID0gKHR5cGU6IExvZ0VudHJ5Wyd0eXBlJ10pID0+IHtcbiAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgIGNhc2UgJ2Vycm9yJzogcmV0dXJuICd0ZXh0LXJlZC01MDAnO1xuICAgICAgY2FzZSAnd2Fybic6IHJldHVybiAndGV4dC15ZWxsb3ctNTAwJztcbiAgICAgIGNhc2UgJ2luZm8nOiByZXR1cm4gJ3RleHQtYmx1ZS01MDAnO1xuICAgICAgZGVmYXVsdDogcmV0dXJuICd0ZXh0LWdyYXktMzAwJztcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgY29weUxvZ3NUb0NsaXBib2FyZCA9IGFzeW5jICgpID0+IHtcbiAgICBjb25zdCBsb2dUZXh0ID0gbG9ncy5tYXAobG9nID0+IFxuICAgICAgYFske2xvZy50aW1lc3RhbXB9XSBbJHtsb2cudHlwZS50b1VwcGVyQ2FzZSgpfV0gJHtsb2cubWVzc2FnZX1gXG4gICAgKS5qb2luKCdcXG4nKTtcbiAgICBcbiAgICB0cnkge1xuICAgICAgYXdhaXQgbmF2aWdhdG9yLmNsaXBib2FyZC53cml0ZVRleHQobG9nVGV4dCk7XG4gICAgICBzZXRJc0NvcGllZCh0cnVlKTtcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4gc2V0SXNDb3BpZWQoZmFsc2UpLCAyMDAwKTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBjb3B5IGxvZ3M6JywgZXJyKTtcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIChcbiAgICA8PlxuICAgICAgey8qIEZsb2F0aW5nIERlYnVnIEJ1dHRvbiAqL31cbiAgICAgIHshaXNWaXNpYmxlICYmIChcbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldElzVmlzaWJsZSh0cnVlKX1cbiAgICAgICAgICBjbGFzc05hbWU9XCJmaXhlZCBib3R0b20tNCByaWdodC00IHotNTAgYmctcHVycGxlLTYwMCB0ZXh0LXdoaXRlIHAtMyByb3VuZGVkLWZ1bGwgc2hhZG93LWxnXCJcbiAgICAgICAgPlxuICAgICAgICAgIDxCdWcgY2xhc3NOYW1lPVwidy01IGgtNVwiIC8+XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgKX1cblxuICAgICAgey8qIERlYnVnIFBhbmVsICovfVxuICAgICAge2lzVmlzaWJsZSAmJiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgZml4ZWQgYm90dG9tLTAgbGVmdC0wIHJpZ2h0LTAgei01MCBiZy1ncmF5LTkwMCBib3JkZXItdCBib3JkZXItZ3JheS03MDAgJHtcbiAgICAgICAgICBpc01pbmltaXplZCA/ICdoLTEyJyA6ICdoLTY0J1xuICAgICAgICB9IHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTIwMGB9PlxuICAgICAgICAgIHsvKiBIZWFkZXIgKi99XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gcC0yIGJvcmRlci1iIGJvcmRlci1ncmF5LTcwMFwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxuICAgICAgICAgICAgICA8QnVnIGNsYXNzTmFtZT1cInctNCBoLTQgdGV4dC1wdXJwbGUtNDAwXCIgLz5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWdyYXktMzAwXCI+RGVidWcgQ29uc29sZTwvc3Bhbj5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LWdyYXktNTAwXCI+KHtsb2dzLmxlbmd0aH0gbG9ncyk8L3NwYW4+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cbiAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldElzTWluaW1pemVkKCFpc01pbmltaXplZCl9XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicC0xIGhvdmVyOmJnLWdyYXktODAwIHJvdW5kZWRcIlxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAge2lzTWluaW1pemVkID8gPENoZXZyb25VcCBjbGFzc05hbWU9XCJ3LTQgaC00IHRleHQtZ3JheS00MDBcIiAvPiA6IDxDaGV2cm9uRG93biBjbGFzc05hbWU9XCJ3LTQgaC00IHRleHQtZ3JheS00MDBcIiAvPn1cbiAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICBvbkNsaWNrPXtjb3B5TG9nc1RvQ2xpcGJvYXJkfVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInRleHQteHMgcHgtMiBweS0xIGJnLWdyYXktODAwIGhvdmVyOmJnLWdyYXktNzAwIHJvdW5kZWQgdGV4dC1ncmF5LTQwMCBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMVwiXG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2xvZ3MubGVuZ3RoID09PSAwfVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAge2lzQ29waWVkID8gKFxuICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgPENoZWNrIGNsYXNzTmFtZT1cInctMyBoLTNcIiAvPlxuICAgICAgICAgICAgICAgICAgICBDb3BpZWQhXG4gICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgPENvcHkgY2xhc3NOYW1lPVwidy0zIGgtM1wiIC8+XG4gICAgICAgICAgICAgICAgICAgIENvcHlcbiAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0TG9ncyhbXSl9XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidGV4dC14cyBweC0yIHB5LTEgYmctZ3JheS04MDAgaG92ZXI6YmctZ3JheS03MDAgcm91bmRlZCB0ZXh0LWdyYXktNDAwXCJcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIENsZWFyXG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0SXNWaXNpYmxlKGZhbHNlKX1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJwLTEgaG92ZXI6YmctZ3JheS04MDAgcm91bmRlZFwiXG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8WCBjbGFzc05hbWU9XCJ3LTQgaC00IHRleHQtZ3JheS00MDBcIiAvPlxuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgey8qIExvZ3MgKi99XG4gICAgICAgICAgeyFpc01pbmltaXplZCAmJiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm92ZXJmbG93LXktYXV0byBoLWZ1bGwgcGItMTIgcC0yIGZvbnQtbW9ubyB0ZXh0LXhzXCI+XG4gICAgICAgICAgICAgIHtsb2dzLmxlbmd0aCA9PT0gMCA/IChcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtZ3JheS01MDAgdGV4dC1jZW50ZXIgbXQtOFwiPk5vIGxvZ3MgeWV0Li4uPC9kaXY+XG4gICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgbG9ncy5tYXAobG9nID0+IChcbiAgICAgICAgICAgICAgICAgIDxkaXYga2V5PXtsb2cuaWR9IGNsYXNzTmFtZT1cInB5LTEgYm9yZGVyLWIgYm9yZGVyLWdyYXktODAwXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1zdGFydCBnYXAtMlwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtZ3JheS02MDAgZmxleC1zaHJpbmstMFwiPntsb2cudGltZXN0YW1wfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9e2Bmb250LXNlbWlib2xkIGZsZXgtc2hyaW5rLTAgJHtnZXRMb2dDb2xvcihsb2cudHlwZSl9YH0+XG4gICAgICAgICAgICAgICAgICAgICAgICBbe2xvZy50eXBlLnRvVXBwZXJDYXNlKCl9XVxuICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICA8cHJlIGNsYXNzTmFtZT1cIndoaXRlc3BhY2UtcHJlLXdyYXAgYnJlYWstYWxsIHRleHQtZ3JheS0zMDAgZmxleC0xXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICB7bG9nLm1lc3NhZ2V9XG4gICAgICAgICAgICAgICAgICAgICAgPC9wcmU+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgKSlcbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgKX1cbiAgICA8Lz5cbiAgKTtcbn0iXSwibmFtZXMiOlsiUmVhY3QiLCJ1c2VTdGF0ZSIsInVzZUVmZmVjdCIsIlgiLCJCdWciLCJDaGV2cm9uRG93biIsIkNoZXZyb25VcCIsIkNvcHkiLCJDaGVjayIsIk1vYmlsZURlYnVnUGFuZWwiLCJsb2dzIiwic2V0TG9ncyIsImlzVmlzaWJsZSIsInNldElzVmlzaWJsZSIsImlzTWluaW1pemVkIiwic2V0SXNNaW5pbWl6ZWQiLCJpc0NvcGllZCIsInNldElzQ29waWVkIiwicHJvY2VzcyIsIm9yaWdpbmFsTG9nIiwiY29uc29sZSIsImxvZyIsIm9yaWdpbmFsRXJyb3IiLCJlcnJvciIsIm9yaWdpbmFsV2FybiIsIndhcm4iLCJvcmlnaW5hbEluZm8iLCJpbmZvIiwiaXNJbnRlcm5hbExvZyIsImFkZExvZyIsInR5cGUiLCJhcmdzIiwibWVzc2FnZSIsIm1hcCIsImFyZyIsIkpTT04iLCJzdHJpbmdpZnkiLCJTdHJpbmciLCJqb2luIiwic2V0VGltZW91dCIsInByZXYiLCJuZXdMb2dzIiwic2xpY2UiLCJpZCIsIkRhdGUiLCJub3ciLCJNYXRoIiwicmFuZG9tIiwidGltZXN0YW1wIiwidG9Mb2NhbGVUaW1lU3RyaW5nIiwiZ2V0TG9nQ29sb3IiLCJjb3B5TG9nc1RvQ2xpcGJvYXJkIiwibG9nVGV4dCIsInRvVXBwZXJDYXNlIiwibmF2aWdhdG9yIiwiY2xpcGJvYXJkIiwid3JpdGVUZXh0IiwiZXJyIiwiYnV0dG9uIiwib25DbGljayIsImNsYXNzTmFtZSIsImRpdiIsInNwYW4iLCJsZW5ndGgiLCJkaXNhYmxlZCIsInByZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./components/MobileDebugPanel.tsx\n");

/***/ }),

/***/ "(ssr)/./components/ProgressiveImage.tsx":
/*!*****************************************!*\
  !*** ./components/ProgressiveImage.tsx ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _barrel_optimize_names_Loader2_lucide_react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! __barrel_optimize__?names=Loader2!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/loader-circle.js\");\n\n\n\nconst ProgressiveImage = ({ src, thumbnailSrc, alt, className = \"\", onLoad, onError, loading = \"lazy\", priority = false, sizes, srcSet })=>{\n    const [imageState, setImageState] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"loading\");\n    const [currentSrc, setCurrentSrc] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    // Preload image function\n    const preloadImage = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((imageSrc)=>{\n        return new Promise((resolve, reject)=>{\n            const img = new Image();\n            img.onload = ()=>resolve();\n            img.onerror = (error)=>reject(error);\n            img.src = imageSrc;\n        });\n    }, []);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        let isMounted = true;\n        const loadImages = async ()=>{\n            // Check if src is valid\n            if (!src || src.trim() === \"\") {\n                setImageState(\"error\");\n                return;\n            }\n            try {\n                // Start with thumbnail if available\n                if (thumbnailSrc) {\n                    setImageState(\"loading\");\n                    await preloadImage(thumbnailSrc);\n                    if (isMounted) {\n                        setCurrentSrc(thumbnailSrc);\n                        setImageState(\"thumbnail\");\n                    }\n                }\n                // Then load full image\n                if (priority || loading === \"eager\") {\n                    // Load immediately for priority images\n                    await preloadImage(src);\n                    if (isMounted) {\n                        setCurrentSrc(src);\n                        setImageState(\"loaded\");\n                        onLoad?.();\n                    }\n                } else {\n                    // Load immediately - intersection observer was broken\n                    console.log(\"\\uD83D\\uDD04 ProgressiveImage: Loading immediately (fixed lazy loading)\", src);\n                    await preloadImage(src);\n                    if (isMounted) {\n                        setCurrentSrc(src);\n                        setImageState(\"loaded\");\n                        onLoad?.();\n                    }\n                }\n            } catch (error) {\n                if (isMounted) {\n                    setImageState(\"error\");\n                    onError?.();\n                }\n            }\n        };\n        loadImages();\n        return ()=>{\n            isMounted = false;\n        };\n    }, [\n        src,\n        thumbnailSrc,\n        priority,\n        loading,\n        preloadImage,\n        onLoad,\n        onError\n    ]);\n    const renderContent = ()=>{\n        switch(imageState){\n            case \"loading\":\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex items-center justify-center bg-gray-100 dark:bg-gray-800 w-full h-full\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex flex-col items-center gap-2\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Loader2_lucide_react__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n                                className: \"w-6 h-6 animate-spin text-gray-400\"\n                            }, void 0, false, {\n                                fileName: \"/var/www/flask_app/ast_chat/components/ProgressiveImage.tsx\",\n                                lineNumber: 104,\n                                columnNumber: 15\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: \"text-xs text-gray-500\",\n                                children: \"Loading...\"\n                            }, void 0, false, {\n                                fileName: \"/var/www/flask_app/ast_chat/components/ProgressiveImage.tsx\",\n                                lineNumber: 105,\n                                columnNumber: 15\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/var/www/flask_app/ast_chat/components/ProgressiveImage.tsx\",\n                        lineNumber: 103,\n                        columnNumber: 13\n                    }, undefined)\n                }, void 0, false, {\n                    fileName: \"/var/www/flask_app/ast_chat/components/ProgressiveImage.tsx\",\n                    lineNumber: 102,\n                    columnNumber: 11\n                }, undefined);\n            case \"thumbnail\":\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"relative w-full h-full\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                            src: currentSrc,\n                            alt: alt,\n                            className: `${className} filter blur-sm transition-all duration-300`,\n                            draggable: false,\n                            sizes: sizes,\n                            srcSet: srcSet\n                        }, void 0, false, {\n                            fileName: \"/var/www/flask_app/ast_chat/components/ProgressiveImage.tsx\",\n                            lineNumber: 113,\n                            columnNumber: 13\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"absolute inset-0 flex items-center justify-center\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"bg-black/20 rounded-full p-2\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Loader2_lucide_react__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n                                    className: \"w-4 h-4 animate-spin text-white\"\n                                }, void 0, false, {\n                                    fileName: \"/var/www/flask_app/ast_chat/components/ProgressiveImage.tsx\",\n                                    lineNumber: 123,\n                                    columnNumber: 17\n                                }, undefined)\n                            }, void 0, false, {\n                                fileName: \"/var/www/flask_app/ast_chat/components/ProgressiveImage.tsx\",\n                                lineNumber: 122,\n                                columnNumber: 15\n                            }, undefined)\n                        }, void 0, false, {\n                            fileName: \"/var/www/flask_app/ast_chat/components/ProgressiveImage.tsx\",\n                            lineNumber: 121,\n                            columnNumber: 13\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/var/www/flask_app/ast_chat/components/ProgressiveImage.tsx\",\n                    lineNumber: 112,\n                    columnNumber: 11\n                }, undefined);\n            case \"loaded\":\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                    src: currentSrc,\n                    alt: alt,\n                    className: `${className} transition-all duration-300`,\n                    draggable: false,\n                    sizes: sizes,\n                    srcSet: srcSet\n                }, void 0, false, {\n                    fileName: \"/var/www/flask_app/ast_chat/components/ProgressiveImage.tsx\",\n                    lineNumber: 131,\n                    columnNumber: 11\n                }, undefined);\n            case \"error\":\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex items-center justify-center bg-gray-100 dark:bg-gray-800 w-full h-full\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex flex-col items-center gap-2\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"w-8 h-8 bg-red-100 dark:bg-red-900 rounded-full flex items-center justify-center\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    className: \"text-red-600 dark:text-red-400 text-xs\",\n                                    children: \"✕\"\n                                }, void 0, false, {\n                                    fileName: \"/var/www/flask_app/ast_chat/components/ProgressiveImage.tsx\",\n                                    lineNumber: 146,\n                                    columnNumber: 17\n                                }, undefined)\n                            }, void 0, false, {\n                                fileName: \"/var/www/flask_app/ast_chat/components/ProgressiveImage.tsx\",\n                                lineNumber: 145,\n                                columnNumber: 15\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: \"text-xs text-gray-500\",\n                                children: \"Failed to load\"\n                            }, void 0, false, {\n                                fileName: \"/var/www/flask_app/ast_chat/components/ProgressiveImage.tsx\",\n                                lineNumber: 148,\n                                columnNumber: 15\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/var/www/flask_app/ast_chat/components/ProgressiveImage.tsx\",\n                        lineNumber: 144,\n                        columnNumber: 13\n                    }, undefined)\n                }, void 0, false, {\n                    fileName: \"/var/www/flask_app/ast_chat/components/ProgressiveImage.tsx\",\n                    lineNumber: 143,\n                    columnNumber: 11\n                }, undefined);\n            default:\n                return null;\n        }\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"w-full h-full relative overflow-hidden\",\n        children: renderContent()\n    }, void 0, false, {\n        fileName: \"/var/www/flask_app/ast_chat/components/ProgressiveImage.tsx\",\n        lineNumber: 159,\n        columnNumber: 5\n    }, undefined);\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ProgressiveImage);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUtBO29CQUNMQyxXQUFXLENBQUMsRUFBRUEsVUFBVSw0QkFBNEIsQ0FBQztvQkFDckQ2QixXQUFXO29CQUNYeEIsT0FBT0E7b0JBQ1BDLFFBQVFBOzs7Ozs7WUFJZCxLQUFLO2dCQUNILHFCQUNFLDhEQUFDcUI7b0JBQUkzQixXQUFVOzhCQUNiLDRFQUFDMkI7d0JBQUkzQixXQUFVOzswQ0FDYiw4REFBQzJCO2dDQUFJM0IsV0FBVTswQ0FDYiw0RUFBQzRCO29DQUFLNUIsV0FBVTs4Q0FBeUM7Ozs7Ozs7Ozs7OzBDQUUzRCw4REFBQzRCO2dDQUFLNUIsV0FBVTswQ0FBd0I7Ozs7Ozs7Ozs7Ozs7Ozs7O1lBS2hEO2dCQUNFLE9BQU87UUFDWDtJQUNGO0lBRUEscUJBQ0UsOERBQUMyQjtRQUFJM0IsV0FBVTtrQkFDWjBCOzs7Ozs7QUFHUDtBQUVBLGlFQUFlOUIsZ0JBQWdCQSxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdmliZWNhcmRpbmcvLi9jb21wb25lbnRzL1Byb2dyZXNzaXZlSW1hZ2UudHN4P2ZiYTciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QsIHVzZUNhbGxiYWNrIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgTG9hZGVyMiB9IGZyb20gJ2x1Y2lkZS1yZWFjdCc7XG5cbmludGVyZmFjZSBQcm9ncmVzc2l2ZUltYWdlUHJvcHMge1xuICBzcmM6IHN0cmluZztcbiAgdGh1bWJuYWlsU3JjPzogc3RyaW5nO1xuICBhbHQ6IHN0cmluZztcbiAgY2xhc3NOYW1lPzogc3RyaW5nO1xuICBvbkxvYWQ/OiAoKSA9PiB2b2lkO1xuICBvbkVycm9yPzogKCkgPT4gdm9pZDtcbiAgbG9hZGluZz86ICdsYXp5JyB8ICdlYWdlcic7XG4gIHByaW9yaXR5PzogYm9vbGVhbjtcbiAgLy8gUmVzcG9uc2l2ZSBzaXppbmcgb3B0aW9uc1xuICBzaXplcz86IHN0cmluZztcbiAgc3JjU2V0Pzogc3RyaW5nO1xufVxuXG5jb25zdCBQcm9ncmVzc2l2ZUltYWdlOiBSZWFjdC5GQzxQcm9ncmVzc2l2ZUltYWdlUHJvcHM+ID0gKHtcbiAgc3JjLFxuICB0aHVtYm5haWxTcmMsXG4gIGFsdCxcbiAgY2xhc3NOYW1lID0gJycsXG4gIG9uTG9hZCxcbiAgb25FcnJvcixcbiAgbG9hZGluZyA9ICdsYXp5JyxcbiAgcHJpb3JpdHkgPSBmYWxzZSxcbiAgc2l6ZXMsXG4gIHNyY1NldFxufSkgPT4ge1xuICBjb25zdCBbaW1hZ2VTdGF0ZSwgc2V0SW1hZ2VTdGF0ZV0gPSB1c2VTdGF0ZTwnbG9hZGluZycgfCAndGh1bWJuYWlsJyB8ICdsb2FkZWQnIHwgJ2Vycm9yJz4oJ2xvYWRpbmcnKTtcbiAgY29uc3QgW2N1cnJlbnRTcmMsIHNldEN1cnJlbnRTcmNdID0gdXNlU3RhdGU8c3RyaW5nPignJyk7XG5cbiAgLy8gUHJlbG9hZCBpbWFnZSBmdW5jdGlvblxuICBjb25zdCBwcmVsb2FkSW1hZ2UgPSB1c2VDYWxsYmFjaygoaW1hZ2VTcmM6IHN0cmluZyk6IFByb21pc2U8dm9pZD4gPT4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBjb25zdCBpbWcgPSBuZXcgSW1hZ2UoKTtcbiAgICAgIGltZy5vbmxvYWQgPSAoKSA9PiByZXNvbHZlKCk7XG4gICAgICBpbWcub25lcnJvciA9IChlcnJvcikgPT4gcmVqZWN0KGVycm9yKTtcbiAgICAgIGltZy5zcmMgPSBpbWFnZVNyYztcbiAgICB9KTtcbiAgfSwgW10pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgbGV0IGlzTW91bnRlZCA9IHRydWU7XG5cbiAgICBjb25zdCBsb2FkSW1hZ2VzID0gYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gQ2hlY2sgaWYgc3JjIGlzIHZhbGlkXG4gICAgICBpZiAoIXNyYyB8fCBzcmMudHJpbSgpID09PSAnJykge1xuICAgICAgICBzZXRJbWFnZVN0YXRlKCdlcnJvcicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBcbiAgICAgIHRyeSB7XG4gICAgICAgIC8vIFN0YXJ0IHdpdGggdGh1bWJuYWlsIGlmIGF2YWlsYWJsZVxuICAgICAgICBpZiAodGh1bWJuYWlsU3JjKSB7XG4gICAgICAgICAgc2V0SW1hZ2VTdGF0ZSgnbG9hZGluZycpO1xuICAgICAgICAgIGF3YWl0IHByZWxvYWRJbWFnZSh0aHVtYm5haWxTcmMpO1xuICAgICAgICAgIGlmIChpc01vdW50ZWQpIHtcbiAgICAgICAgICAgIHNldEN1cnJlbnRTcmModGh1bWJuYWlsU3JjKTtcbiAgICAgICAgICAgIHNldEltYWdlU3RhdGUoJ3RodW1ibmFpbCcpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFRoZW4gbG9hZCBmdWxsIGltYWdlXG4gICAgICAgIGlmIChwcmlvcml0eSB8fCBsb2FkaW5nID09PSAnZWFnZXInKSB7XG4gICAgICAgICAgLy8gTG9hZCBpbW1lZGlhdGVseSBmb3IgcHJpb3JpdHkgaW1hZ2VzXG4gICAgICAgICAgYXdhaXQgcHJlbG9hZEltYWdlKHNyYyk7XG4gICAgICAgICAgaWYgKGlzTW91bnRlZCkge1xuICAgICAgICAgICAgc2V0Q3VycmVudFNyYyhzcmMpO1xuICAgICAgICAgICAgc2V0SW1hZ2VTdGF0ZSgnbG9hZGVkJyk7XG4gICAgICAgICAgICBvbkxvYWQ/LigpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBMb2FkIGltbWVkaWF0ZWx5IC0gaW50ZXJzZWN0aW9uIG9ic2VydmVyIHdhcyBicm9rZW5cbiAgICAgICAgICBjb25zb2xlLmxvZygn8J+UhCBQcm9ncmVzc2l2ZUltYWdlOiBMb2FkaW5nIGltbWVkaWF0ZWx5IChmaXhlZCBsYXp5IGxvYWRpbmcpJywgc3JjKTtcbiAgICAgICAgICBhd2FpdCBwcmVsb2FkSW1hZ2Uoc3JjKTtcbiAgICAgICAgICBpZiAoaXNNb3VudGVkKSB7XG4gICAgICAgICAgICBzZXRDdXJyZW50U3JjKHNyYyk7XG4gICAgICAgICAgICBzZXRJbWFnZVN0YXRlKCdsb2FkZWQnKTtcbiAgICAgICAgICAgIG9uTG9hZD8uKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBpZiAoaXNNb3VudGVkKSB7XG4gICAgICAgICAgc2V0SW1hZ2VTdGF0ZSgnZXJyb3InKTtcbiAgICAgICAgICBvbkVycm9yPy4oKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG5cbiAgICBsb2FkSW1hZ2VzKCk7XG5cbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgaXNNb3VudGVkID0gZmFsc2U7XG4gICAgfTtcbiAgfSwgW3NyYywgdGh1bWJuYWlsU3JjLCBwcmlvcml0eSwgbG9hZGluZywgcHJlbG9hZEltYWdlLCBvbkxvYWQsIG9uRXJyb3JdKTtcblxuICBjb25zdCByZW5kZXJDb250ZW50ID0gKCkgPT4ge1xuICAgIHN3aXRjaCAoaW1hZ2VTdGF0ZSkge1xuICAgICAgY2FzZSAnbG9hZGluZyc6XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBiZy1ncmF5LTEwMCBkYXJrOmJnLWdyYXktODAwIHctZnVsbCBoLWZ1bGxcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cbiAgICAgICAgICAgICAgPExvYWRlcjIgY2xhc3NOYW1lPVwidy02IGgtNiBhbmltYXRlLXNwaW4gdGV4dC1ncmF5LTQwMFwiIC8+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1ncmF5LTUwMFwiPkxvYWRpbmcuLi48L3NwYW4+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKTtcbiAgICAgIFxuICAgICAgY2FzZSAndGh1bWJuYWlsJzpcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJlbGF0aXZlIHctZnVsbCBoLWZ1bGxcIj5cbiAgICAgICAgICAgIDxpbWdcbiAgICAgICAgICAgICAgc3JjPXtjdXJyZW50U3JjfVxuICAgICAgICAgICAgICBhbHQ9e2FsdH1cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgJHtjbGFzc05hbWV9IGZpbHRlciBibHVyLXNtIHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTMwMGB9XG4gICAgICAgICAgICAgIGRyYWdnYWJsZT17ZmFsc2V9XG4gICAgICAgICAgICAgIHNpemVzPXtzaXplc31cbiAgICAgICAgICAgICAgc3JjU2V0PXtzcmNTZXR9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSBpbnNldC0wIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyXCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctYmxhY2svMjAgcm91bmRlZC1mdWxsIHAtMlwiPlxuICAgICAgICAgICAgICAgIDxMb2FkZXIyIGNsYXNzTmFtZT1cInctNCBoLTQgYW5pbWF0ZS1zcGluIHRleHQtd2hpdGVcIiAvPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApO1xuICAgICAgXG4gICAgICBjYXNlICdsb2FkZWQnOlxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIDxpbWdcbiAgICAgICAgICAgIHNyYz17Y3VycmVudFNyY31cbiAgICAgICAgICAgIGFsdD17YWx0fVxuICAgICAgICAgICAgY2xhc3NOYW1lPXtgJHtjbGFzc05hbWV9IHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTMwMGB9XG4gICAgICAgICAgICBkcmFnZ2FibGU9e2ZhbHNlfVxuICAgICAgICAgICAgc2l6ZXM9e3NpemVzfVxuICAgICAgICAgICAgc3JjU2V0PXtzcmNTZXR9XG4gICAgICAgICAgLz5cbiAgICAgICAgKTtcbiAgICAgIFxuICAgICAgY2FzZSAnZXJyb3InOlxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgYmctZ3JheS0xMDAgZGFyazpiZy1ncmF5LTgwMCB3LWZ1bGwgaC1mdWxsXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgaXRlbXMtY2VudGVyIGdhcC0yXCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy04IGgtOCBiZy1yZWQtMTAwIGRhcms6YmctcmVkLTkwMCByb3VuZGVkLWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXJlZC02MDAgZGFyazp0ZXh0LXJlZC00MDAgdGV4dC14c1wiPuKclTwvc3Bhbj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1ncmF5LTUwMFwiPkZhaWxlZCB0byBsb2FkPC9zcGFuPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICk7XG4gICAgICBcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwidy1mdWxsIGgtZnVsbCByZWxhdGl2ZSBvdmVyZmxvdy1oaWRkZW5cIj5cbiAgICAgIHtyZW5kZXJDb250ZW50KCl9XG4gICAgPC9kaXY+XG4gICk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBQcm9ncmVzc2l2ZUltYWdlOyJdLCJuYW1lcyI6WyJSZWFjdCIsInVzZVN0YXRlIiwidXNlRWZmZWN0IiwidXNlQ2FsbGJhY2siLCJMb2FkZXIyIiwiUHJvZ3Jlc3NpdmVJbWFnZSIsInNyYyIsInRodW1ibmFpbFNyYyIsImFsdCIsImNsYXNzTmFtZSIsIm9uTG9hZCIsIm9uRXJyb3IiLCJsb2FkaW5nIiwicHJpb3JpdHkiLCJzaXplcyIsInNyY1NldCIsImltYWdlU3RhdGUiLCJzZXRJbWFnZVN0YXRlIiwiY3VycmVudFNyYyIsInNldEN1cnJlbnRTcmMiLCJwcmVsb2FkSW1hZ2UiLCJpbWFnZVNyYyIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwiaW1nIiwiSW1hZ2UiLCJvbmxvYWQiLCJvbmVycm9yIiwiZXJyb3IiLCJpc01vdW50ZWQiLCJsb2FkSW1hZ2VzIiwidHJpbSIsImNvbnNvbGUiLCJsb2ciLCJyZW5kZXJDb250ZW50IiwiZGl2Iiwic3BhbiIsImRyYWdnYWJsZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./components/ProgressiveImage.tsx\n");

/***/ }),

/***/ "(ssr)/./components/mode-toggle.tsx":
/*!************************************!*\
  !*** ./components/mode-toggle.tsx ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ModeToggle: () => (/* binding */ ModeToggle)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _radix_ui_react_icons__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @radix-ui/react-icons */ \"(ssr)/./node_modules/@radix-ui/react-icons/dist/react-icons.esm.js\");\n/* harmony import */ var next_themes__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next-themes */ \"(ssr)/./node_modules/next-themes/dist/index.mjs\");\n/* harmony import */ var _components_ui_button__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/components/ui/button */ \"(ssr)/./components/ui/button.tsx\");\n/* __next_internal_client_entry_do_not_use__ ModeToggle auto */ \n\n\n\n // Will be created by shadcn-ui add button\nfunction ModeToggle() {\n    const { theme, setTheme } = (0,next_themes__WEBPACK_IMPORTED_MODULE_2__.useTheme)();\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_3__.Button, {\n        variant: \"outline\",\n        size: \"icon\",\n        onClick: ()=>setTheme(theme === \"light\" ? \"dark\" : \"light\"),\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_radix_ui_react_icons__WEBPACK_IMPORTED_MODULE_4__.SunIcon, {\n                className: \"h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0\"\n            }, void 0, false, {\n                fileName: \"/var/www/flask_app/ast_chat/components/mode-toggle.tsx\",\n                lineNumber: 18,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_radix_ui_react_icons__WEBPACK_IMPORTED_MODULE_4__.MoonIcon, {\n                className: \"absolute h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100\"\n            }, void 0, false, {\n                fileName: \"/var/www/flask_app/ast_chat/components/mode-toggle.tsx\",\n                lineNumber: 19,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                className: \"sr-only\",\n                children: \"Toggle theme\"\n            }, void 0, false, {\n                fileName: \"/var/www/flask_app/ast_chat/components/mode-toggle.tsx\",\n                lineNumber: 20,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/var/www/flask_app/ast_chat/components/mode-toggle.tsx\",\n        lineNumber: 13,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9jb21wb25lbnRzL21vZGUtdG9nZ2xlLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFFOEI7QUFDMkI7QUFDbkI7QUFFUyxDQUFDLDBDQUEwQztBQUVuRixTQUFTSztJQUNkLE1BQU0sRUFBRUMsS0FBSyxFQUFFQyxRQUFRLEVBQUUsR0FBR0oscURBQVFBO0lBRXBDLHFCQUNFLDhEQUFDQyx5REFBTUE7UUFDTEksU0FBUTtRQUNSQyxNQUFLO1FBQ0xDLFNBQVMsSUFBTUgsU0FBU0QsVUFBVSxVQUFVLFNBQVM7OzBCQUVyRCw4REFBQ0osMERBQU9BO2dCQUFDUyxXQUFVOzs7Ozs7MEJBQ25CLDhEQUFDViwyREFBUUE7Z0JBQUNVLFdBQVU7Ozs7OzswQkFDcEIsOERBQUNDO2dCQUFLRCxXQUFVOzBCQUFVOzs7Ozs7Ozs7Ozs7QUFHaEMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92aWJlY2FyZGluZy8uL2NvbXBvbmVudHMvbW9kZS10b2dnbGUudHN4P2UyODUiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2UgY2xpZW50XCJcblxuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCB7IE1vb25JY29uLCBTdW5JY29uIH0gZnJvbSBcIkByYWRpeC11aS9yZWFjdC1pY29uc1wiXG5pbXBvcnQgeyB1c2VUaGVtZSB9IGZyb20gXCJuZXh0LXRoZW1lc1wiXG5cbmltcG9ydCB7IEJ1dHRvbiB9IGZyb20gXCJAL2NvbXBvbmVudHMvdWkvYnV0dG9uXCIgLy8gV2lsbCBiZSBjcmVhdGVkIGJ5IHNoYWRjbi11aSBhZGQgYnV0dG9uXG5cbmV4cG9ydCBmdW5jdGlvbiBNb2RlVG9nZ2xlKCkge1xuICBjb25zdCB7IHRoZW1lLCBzZXRUaGVtZSB9ID0gdXNlVGhlbWUoKVxuXG4gIHJldHVybiAoXG4gICAgPEJ1dHRvblxuICAgICAgdmFyaWFudD1cIm91dGxpbmVcIlxuICAgICAgc2l6ZT1cImljb25cIlxuICAgICAgb25DbGljaz17KCkgPT4gc2V0VGhlbWUodGhlbWUgPT09IFwibGlnaHRcIiA/IFwiZGFya1wiIDogXCJsaWdodFwiKX1cbiAgICA+XG4gICAgICA8U3VuSWNvbiBjbGFzc05hbWU9XCJoLVsxLjJyZW1dIHctWzEuMnJlbV0gcm90YXRlLTAgc2NhbGUtMTAwIHRyYW5zaXRpb24tYWxsIGRhcms6LXJvdGF0ZS05MCBkYXJrOnNjYWxlLTBcIiAvPlxuICAgICAgPE1vb25JY29uIGNsYXNzTmFtZT1cImFic29sdXRlIGgtWzEuMnJlbV0gdy1bMS4ycmVtXSByb3RhdGUtOTAgc2NhbGUtMCB0cmFuc2l0aW9uLWFsbCBkYXJrOnJvdGF0ZS0wIGRhcms6c2NhbGUtMTAwXCIgLz5cbiAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInNyLW9ubHlcIj5Ub2dnbGUgdGhlbWU8L3NwYW4+XG4gICAgPC9CdXR0b24+XG4gIClcbn0gIl0sIm5hbWVzIjpbIlJlYWN0IiwiTW9vbkljb24iLCJTdW5JY29uIiwidXNlVGhlbWUiLCJCdXR0b24iLCJNb2RlVG9nZ2xlIiwidGhlbWUiLCJzZXRUaGVtZSIsInZhcmlhbnQiLCJzaXplIiwib25DbGljayIsImNsYXNzTmFtZSIsInNwYW4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./components/mode-toggle.tsx\n");

/***/ }),

/***/ "(ssr)/./components/theme-provider.tsx":
/*!***************************************!*\
  !*** ./components/theme-provider.tsx ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ThemeProvider: () => (/* binding */ ThemeProvider)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_themes__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next-themes */ \"(ssr)/./node_modules/next-themes/dist/index.mjs\");\n/* __next_internal_client_entry_do_not_use__ ThemeProvider auto */ \n\n\nfunction ThemeProvider({ children, ...props }) {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(next_themes__WEBPACK_IMPORTED_MODULE_2__.ThemeProvider, {\n        ...props,\n        children: children\n    }, void 0, false, {\n        fileName: \"/var/www/flask_app/ast_chat/components/theme-provider.tsx\",\n        lineNumber: 8,\n        columnNumber: 10\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9jb21wb25lbnRzL3RoZW1lLXByb3ZpZGVyLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBRThCO0FBQ21DO0FBRzFELFNBQVNDLGNBQWMsRUFBRUUsUUFBUSxFQUFFLEdBQUdDLE9BQTJCO0lBQ3RFLHFCQUFPLDhEQUFDRixzREFBa0JBO1FBQUUsR0FBR0UsS0FBSztrQkFBR0Q7Ozs7OztBQUN6QyIsInNvdXJjZXMiOlsid2VicGFjazovL3ZpYmVjYXJkaW5nLy4vY29tcG9uZW50cy90aGVtZS1wcm92aWRlci50c3g/OTI4OSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIlxuXG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IHsgVGhlbWVQcm92aWRlciBhcyBOZXh0VGhlbWVzUHJvdmlkZXIgfSBmcm9tIFwibmV4dC10aGVtZXNcIlxuaW1wb3J0IHsgdHlwZSBUaGVtZVByb3ZpZGVyUHJvcHMgfSBmcm9tIFwibmV4dC10aGVtZXMvZGlzdC90eXBlc1wiXG5cbmV4cG9ydCBmdW5jdGlvbiBUaGVtZVByb3ZpZGVyKHsgY2hpbGRyZW4sIC4uLnByb3BzIH06IFRoZW1lUHJvdmlkZXJQcm9wcykge1xuICByZXR1cm4gPE5leHRUaGVtZXNQcm92aWRlciB7Li4ucHJvcHN9PntjaGlsZHJlbn08L05leHRUaGVtZXNQcm92aWRlcj5cbn0gIl0sIm5hbWVzIjpbIlJlYWN0IiwiVGhlbWVQcm92aWRlciIsIk5leHRUaGVtZXNQcm92aWRlciIsImNoaWxkcmVuIiwicHJvcHMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./components/theme-provider.tsx\n");

/***/ }),

/***/ "(ssr)/./components/ui/badge.tsx":
/*!*********************************!*\
  !*** ./components/ui/badge.tsx ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Badge: () => (/* binding */ Badge),\n/* harmony export */   badgeVariants: () => (/* binding */ badgeVariants)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var class_variance_authority__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! class-variance-authority */ \"(ssr)/./node_modules/class-variance-authority/dist/index.mjs\");\n/* harmony import */ var _lib_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/utils */ \"(ssr)/./lib/utils.ts\");\n\n\n\n\nconst badgeVariants = (0,class_variance_authority__WEBPACK_IMPORTED_MODULE_2__.cva)(\"inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\", {\n    variants: {\n        variant: {\n            default: \"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80\",\n            secondary: \"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n            destructive: \"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80\",\n            outline: \"text-foreground\"\n        }\n    },\n    defaultVariants: {\n        variant: \"default\"\n    }\n});\nfunction Badge({ className, variant, ...props }) {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_3__.cn)(badgeVariants({\n            variant\n        }), className),\n        ...props\n    }, void 0, false, {\n        fileName: \"/var/www/flask_app/ast_chat/components/ui/badge.tsx\",\n        lineNumber: 32,\n        columnNumber: 5\n    }, this);\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9jb21wb25lbnRzL3VpL2JhZGdlLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFBOEI7QUFDbUM7QUFFakM7QUFFaEMsTUFBTUcsZ0JBQWdCRiw2REFBR0EsQ0FDdkIsd0tBQ0E7SUFDRUcsVUFBVTtRQUNSQyxTQUFTO1lBQ1BDLFNBQ0U7WUFDRkMsV0FDRTtZQUNGQyxhQUNFO1lBQ0ZDLFNBQVM7UUFDWDtJQUNGO0lBQ0FDLGlCQUFpQjtRQUNmTCxTQUFTO0lBQ1g7QUFDRjtBQU9GLFNBQVNNLE1BQU0sRUFBRUMsU0FBUyxFQUFFUCxPQUFPLEVBQUUsR0FBR1EsT0FBbUI7SUFDekQscUJBQ0UsOERBQUNDO1FBQUlGLFdBQVdWLDhDQUFFQSxDQUFDQyxjQUFjO1lBQUVFO1FBQVEsSUFBSU87UUFBYSxHQUFHQyxLQUFLOzs7Ozs7QUFFeEU7QUFFK0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92aWJlY2FyZGluZy8uL2NvbXBvbmVudHMvdWkvYmFkZ2UudHN4PzdjZGMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCB7IGN2YSwgdHlwZSBWYXJpYW50UHJvcHMgfSBmcm9tIFwiY2xhc3MtdmFyaWFuY2UtYXV0aG9yaXR5XCJcblxuaW1wb3J0IHsgY24gfSBmcm9tIFwiQC9saWIvdXRpbHNcIlxuXG5jb25zdCBiYWRnZVZhcmlhbnRzID0gY3ZhKFxuICBcImlubGluZS1mbGV4IGl0ZW1zLWNlbnRlciByb3VuZGVkLW1kIGJvcmRlciBweC0yLjUgcHktMC41IHRleHQteHMgZm9udC1zZW1pYm9sZCB0cmFuc2l0aW9uLWNvbG9ycyBmb2N1czpvdXRsaW5lLW5vbmUgZm9jdXM6cmluZy0yIGZvY3VzOnJpbmctcmluZyBmb2N1czpyaW5nLW9mZnNldC0yXCIsXG4gIHtcbiAgICB2YXJpYW50czoge1xuICAgICAgdmFyaWFudDoge1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIFwiYm9yZGVyLXRyYW5zcGFyZW50IGJnLXByaW1hcnkgdGV4dC1wcmltYXJ5LWZvcmVncm91bmQgc2hhZG93IGhvdmVyOmJnLXByaW1hcnkvODBcIixcbiAgICAgICAgc2Vjb25kYXJ5OlxuICAgICAgICAgIFwiYm9yZGVyLXRyYW5zcGFyZW50IGJnLXNlY29uZGFyeSB0ZXh0LXNlY29uZGFyeS1mb3JlZ3JvdW5kIGhvdmVyOmJnLXNlY29uZGFyeS84MFwiLFxuICAgICAgICBkZXN0cnVjdGl2ZTpcbiAgICAgICAgICBcImJvcmRlci10cmFuc3BhcmVudCBiZy1kZXN0cnVjdGl2ZSB0ZXh0LWRlc3RydWN0aXZlLWZvcmVncm91bmQgc2hhZG93IGhvdmVyOmJnLWRlc3RydWN0aXZlLzgwXCIsXG4gICAgICAgIG91dGxpbmU6IFwidGV4dC1mb3JlZ3JvdW5kXCIsXG4gICAgICB9LFxuICAgIH0sXG4gICAgZGVmYXVsdFZhcmlhbnRzOiB7XG4gICAgICB2YXJpYW50OiBcImRlZmF1bHRcIixcbiAgICB9LFxuICB9XG4pXG5cbmV4cG9ydCBpbnRlcmZhY2UgQmFkZ2VQcm9wc1xuICBleHRlbmRzIFJlYWN0LkhUTUxBdHRyaWJ1dGVzPEhUTUxEaXZFbGVtZW50PixcbiAgICBWYXJpYW50UHJvcHM8dHlwZW9mIGJhZGdlVmFyaWFudHM+IHt9XG5cbmZ1bmN0aW9uIEJhZGdlKHsgY2xhc3NOYW1lLCB2YXJpYW50LCAuLi5wcm9wcyB9OiBCYWRnZVByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9e2NuKGJhZGdlVmFyaWFudHMoeyB2YXJpYW50IH0pLCBjbGFzc05hbWUpfSB7Li4ucHJvcHN9IC8+XG4gIClcbn1cblxuZXhwb3J0IHsgQmFkZ2UsIGJhZGdlVmFyaWFudHMgfVxuIl0sIm5hbWVzIjpbIlJlYWN0IiwiY3ZhIiwiY24iLCJiYWRnZVZhcmlhbnRzIiwidmFyaWFudHMiLCJ2YXJpYW50IiwiZGVmYXVsdCIsInNlY29uZGFyeSIsImRlc3RydWN0aXZlIiwib3V0bGluZSIsImRlZmF1bHRWYXJpYW50cyIsIkJhZGdlIiwiY2xhc3NOYW1lIiwicHJvcHMiLCJkaXYiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./components/ui/badge.tsx\n");

/***/ }),

/***/ "(ssr)/./components/ui/button.tsx":
/*!**********************************!*\
  !*** ./components/ui/button.tsx ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Button: () => (/* binding */ Button),\n/* harmony export */   buttonVariants: () => (/* binding */ buttonVariants)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _radix_ui_react_slot__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @radix-ui/react-slot */ \"(ssr)/./node_modules/@radix-ui/react-slot/dist/index.mjs\");\n/* harmony import */ var class_variance_authority__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! class-variance-authority */ \"(ssr)/./node_modules/class-variance-authority/dist/index.mjs\");\n/* harmony import */ var _lib_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/utils */ \"(ssr)/./lib/utils.ts\");\n\n\n\n\n\nconst buttonVariants = (0,class_variance_authority__WEBPACK_IMPORTED_MODULE_2__.cva)(\"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\", {\n    variants: {\n        variant: {\n            default: \"bg-primary text-primary-foreground shadow hover:bg-primary/90\",\n            destructive: \"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90\",\n            outline: \"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground\",\n            secondary: \"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80\",\n            ghost: \"hover:bg-accent hover:text-accent-foreground\",\n            link: \"text-primary underline-offset-4 hover:underline\"\n        },\n        size: {\n            default: \"h-9 px-4 py-2\",\n            sm: \"h-8 rounded-md px-3 text-xs\",\n            lg: \"h-10 rounded-md px-8\",\n            icon: \"h-9 w-9\"\n        }\n    },\n    defaultVariants: {\n        variant: \"default\",\n        size: \"default\"\n    }\n});\nconst Button = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(({ className, variant, size, asChild = false, ...props }, ref)=>{\n    const Comp = asChild ? _radix_ui_react_slot__WEBPACK_IMPORTED_MODULE_4__.Slot : \"button\";\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Comp, {\n        className: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_3__.cn)(buttonVariants({\n            variant,\n            size,\n            className\n        })),\n        ref: ref,\n        ...props\n    }, void 0, false, {\n        fileName: \"/var/www/flask_app/ast_chat/components/ui/button.tsx\",\n        lineNumber: 47,\n        columnNumber: 7\n    }, undefined);\n});\nButton.displayName = \"Button\";\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9jb21wb25lbnRzL3VpL2J1dHRvbi50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUE4QjtBQUNhO0FBQ3NCO0FBRWpDO0FBRWhDLE1BQU1JLGlCQUFpQkYsNkRBQUdBLENBQ3hCLHlTQUNBO0lBQ0VHLFVBQVU7UUFDUkMsU0FBUztZQUNQQyxTQUNFO1lBQ0ZDLGFBQ0U7WUFDRkMsU0FDRTtZQUNGQyxXQUNFO1lBQ0ZDLE9BQU87WUFDUEMsTUFBTTtRQUNSO1FBQ0FDLE1BQU07WUFDSk4sU0FBUztZQUNUTyxJQUFJO1lBQ0pDLElBQUk7WUFDSkMsTUFBTTtRQUNSO0lBQ0Y7SUFDQUMsaUJBQWlCO1FBQ2ZYLFNBQVM7UUFDVE8sTUFBTTtJQUNSO0FBQ0Y7QUFTRixNQUFNSyx1QkFBU2xCLDZDQUFnQixDQUM3QixDQUFDLEVBQUVvQixTQUFTLEVBQUVkLE9BQU8sRUFBRU8sSUFBSSxFQUFFUSxVQUFVLEtBQUssRUFBRSxHQUFHQyxPQUFPLEVBQUVDO0lBQ3hELE1BQU1DLE9BQU9ILFVBQVVwQixzREFBSUEsR0FBRztJQUM5QixxQkFDRSw4REFBQ3VCO1FBQ0NKLFdBQVdqQiw4Q0FBRUEsQ0FBQ0MsZUFBZTtZQUFFRTtZQUFTTztZQUFNTztRQUFVO1FBQ3hERyxLQUFLQTtRQUNKLEdBQUdELEtBQUs7Ozs7OztBQUdmO0FBRUZKLE9BQU9PLFdBQVcsR0FBRztBQUVZIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdmliZWNhcmRpbmcvLi9jb21wb25lbnRzL3VpL2J1dHRvbi50c3g/ODk0NCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IHsgU2xvdCB9IGZyb20gXCJAcmFkaXgtdWkvcmVhY3Qtc2xvdFwiXG5pbXBvcnQgeyBjdmEsIHR5cGUgVmFyaWFudFByb3BzIH0gZnJvbSBcImNsYXNzLXZhcmlhbmNlLWF1dGhvcml0eVwiXG5cbmltcG9ydCB7IGNuIH0gZnJvbSBcIkAvbGliL3V0aWxzXCJcblxuY29uc3QgYnV0dG9uVmFyaWFudHMgPSBjdmEoXG4gIFwiaW5saW5lLWZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIGdhcC0yIHdoaXRlc3BhY2Utbm93cmFwIHJvdW5kZWQtbWQgdGV4dC1zbSBmb250LW1lZGl1bSB0cmFuc2l0aW9uLWNvbG9ycyBmb2N1cy12aXNpYmxlOm91dGxpbmUtbm9uZSBmb2N1cy12aXNpYmxlOnJpbmctMSBmb2N1cy12aXNpYmxlOnJpbmctcmluZyBkaXNhYmxlZDpwb2ludGVyLWV2ZW50cy1ub25lIGRpc2FibGVkOm9wYWNpdHktNTAgWyZfc3ZnXTpwb2ludGVyLWV2ZW50cy1ub25lIFsmX3N2Z106c2l6ZS00IFsmX3N2Z106c2hyaW5rLTBcIixcbiAge1xuICAgIHZhcmlhbnRzOiB7XG4gICAgICB2YXJpYW50OiB7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgXCJiZy1wcmltYXJ5IHRleHQtcHJpbWFyeS1mb3JlZ3JvdW5kIHNoYWRvdyBob3ZlcjpiZy1wcmltYXJ5LzkwXCIsXG4gICAgICAgIGRlc3RydWN0aXZlOlxuICAgICAgICAgIFwiYmctZGVzdHJ1Y3RpdmUgdGV4dC1kZXN0cnVjdGl2ZS1mb3JlZ3JvdW5kIHNoYWRvdy1zbSBob3ZlcjpiZy1kZXN0cnVjdGl2ZS85MFwiLFxuICAgICAgICBvdXRsaW5lOlxuICAgICAgICAgIFwiYm9yZGVyIGJvcmRlci1pbnB1dCBiZy1iYWNrZ3JvdW5kIHNoYWRvdy1zbSBob3ZlcjpiZy1hY2NlbnQgaG92ZXI6dGV4dC1hY2NlbnQtZm9yZWdyb3VuZFwiLFxuICAgICAgICBzZWNvbmRhcnk6XG4gICAgICAgICAgXCJiZy1zZWNvbmRhcnkgdGV4dC1zZWNvbmRhcnktZm9yZWdyb3VuZCBzaGFkb3ctc20gaG92ZXI6Ymctc2Vjb25kYXJ5LzgwXCIsXG4gICAgICAgIGdob3N0OiBcImhvdmVyOmJnLWFjY2VudCBob3Zlcjp0ZXh0LWFjY2VudC1mb3JlZ3JvdW5kXCIsXG4gICAgICAgIGxpbms6IFwidGV4dC1wcmltYXJ5IHVuZGVybGluZS1vZmZzZXQtNCBob3Zlcjp1bmRlcmxpbmVcIixcbiAgICAgIH0sXG4gICAgICBzaXplOiB7XG4gICAgICAgIGRlZmF1bHQ6IFwiaC05IHB4LTQgcHktMlwiLFxuICAgICAgICBzbTogXCJoLTggcm91bmRlZC1tZCBweC0zIHRleHQteHNcIixcbiAgICAgICAgbGc6IFwiaC0xMCByb3VuZGVkLW1kIHB4LThcIixcbiAgICAgICAgaWNvbjogXCJoLTkgdy05XCIsXG4gICAgICB9LFxuICAgIH0sXG4gICAgZGVmYXVsdFZhcmlhbnRzOiB7XG4gICAgICB2YXJpYW50OiBcImRlZmF1bHRcIixcbiAgICAgIHNpemU6IFwiZGVmYXVsdFwiLFxuICAgIH0sXG4gIH1cbilcblxuZXhwb3J0IGludGVyZmFjZSBCdXR0b25Qcm9wc1xuICBleHRlbmRzIFJlYWN0LkJ1dHRvbkhUTUxBdHRyaWJ1dGVzPEhUTUxCdXR0b25FbGVtZW50PixcbiAgICBWYXJpYW50UHJvcHM8dHlwZW9mIGJ1dHRvblZhcmlhbnRzPiB7XG4gIGFzQ2hpbGQ/OiBib29sZWFuXG59XG5cbmNvbnN0IEJ1dHRvbiA9IFJlYWN0LmZvcndhcmRSZWY8SFRNTEJ1dHRvbkVsZW1lbnQsIEJ1dHRvblByb3BzPihcbiAgKHsgY2xhc3NOYW1lLCB2YXJpYW50LCBzaXplLCBhc0NoaWxkID0gZmFsc2UsIC4uLnByb3BzIH0sIHJlZikgPT4ge1xuICAgIGNvbnN0IENvbXAgPSBhc0NoaWxkID8gU2xvdCA6IFwiYnV0dG9uXCJcbiAgICByZXR1cm4gKFxuICAgICAgPENvbXBcbiAgICAgICAgY2xhc3NOYW1lPXtjbihidXR0b25WYXJpYW50cyh7IHZhcmlhbnQsIHNpemUsIGNsYXNzTmFtZSB9KSl9XG4gICAgICAgIHJlZj17cmVmfVxuICAgICAgICB7Li4ucHJvcHN9XG4gICAgICAvPlxuICAgIClcbiAgfVxuKVxuQnV0dG9uLmRpc3BsYXlOYW1lID0gXCJCdXR0b25cIlxuXG5leHBvcnQgeyBCdXR0b24sIGJ1dHRvblZhcmlhbnRzIH1cbiJdLCJuYW1lcyI6WyJSZWFjdCIsIlNsb3QiLCJjdmEiLCJjbiIsImJ1dHRvblZhcmlhbnRzIiwidmFyaWFudHMiLCJ2YXJpYW50IiwiZGVmYXVsdCIsImRlc3RydWN0aXZlIiwib3V0bGluZSIsInNlY29uZGFyeSIsImdob3N0IiwibGluayIsInNpemUiLCJzbSIsImxnIiwiaWNvbiIsImRlZmF1bHRWYXJpYW50cyIsIkJ1dHRvbiIsImZvcndhcmRSZWYiLCJjbGFzc05hbWUiLCJhc0NoaWxkIiwicHJvcHMiLCJyZWYiLCJDb21wIiwiZGlzcGxheU5hbWUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./components/ui/button.tsx\n");

/***/ }),

/***/ "(ssr)/./components/ui/card.tsx":
/*!********************************!*\
  !*** ./components/ui/card.tsx ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Card: () => (/* binding */ Card),\n/* harmony export */   CardContent: () => (/* binding */ CardContent),\n/* harmony export */   CardDescription: () => (/* binding */ CardDescription),\n/* harmony export */   CardFooter: () => (/* binding */ CardFooter),\n/* harmony export */   CardHeader: () => (/* binding */ CardHeader),\n/* harmony export */   CardTitle: () => (/* binding */ CardTitle)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _lib_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/utils */ \"(ssr)/./lib/utils.ts\");\n\n\n\nconst Card = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(({ className, ...props }, ref)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        ref: ref,\n        className: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.cn)(\"rounded-xl border bg-card text-card-foreground shadow\", className),\n        ...props\n    }, void 0, false, {\n        fileName: \"/var/www/flask_app/ast_chat/components/ui/card.tsx\",\n        lineNumber: 9,\n        columnNumber: 3\n    }, undefined));\nCard.displayName = \"Card\";\nconst CardHeader = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(({ className, ...props }, ref)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        ref: ref,\n        className: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.cn)(\"flex flex-col space-y-1.5 p-6\", className),\n        ...props\n    }, void 0, false, {\n        fileName: \"/var/www/flask_app/ast_chat/components/ui/card.tsx\",\n        lineNumber: 24,\n        columnNumber: 3\n    }, undefined));\nCardHeader.displayName = \"CardHeader\";\nconst CardTitle = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(({ className, ...props }, ref)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        ref: ref,\n        className: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.cn)(\"font-semibold leading-none tracking-tight\", className),\n        ...props\n    }, void 0, false, {\n        fileName: \"/var/www/flask_app/ast_chat/components/ui/card.tsx\",\n        lineNumber: 36,\n        columnNumber: 3\n    }, undefined));\nCardTitle.displayName = \"CardTitle\";\nconst CardDescription = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(({ className, ...props }, ref)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        ref: ref,\n        className: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.cn)(\"text-sm text-muted-foreground\", className),\n        ...props\n    }, void 0, false, {\n        fileName: \"/var/www/flask_app/ast_chat/components/ui/card.tsx\",\n        lineNumber: 48,\n        columnNumber: 3\n    }, undefined));\nCardDescription.displayName = \"CardDescription\";\nconst CardContent = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(({ className, ...props }, ref)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        ref: ref,\n        className: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.cn)(\"p-6 pt-0\", className),\n        ...props\n    }, void 0, false, {\n        fileName: \"/var/www/flask_app/ast_chat/components/ui/card.tsx\",\n        lineNumber: 60,\n        columnNumber: 3\n    }, undefined));\nCardContent.displayName = \"CardContent\";\nconst CardFooter = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(({ className, ...props }, ref)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        ref: ref,\n        className: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.cn)(\"flex items-center p-6 pt-0\", className),\n        ...props\n    }, void 0, false, {\n        fileName: \"/var/www/flask_app/ast_chat/components/ui/card.tsx\",\n        lineNumber: 68,\n        columnNumber: 3\n    }, undefined));\nCardFooter.displayName = \"CardFooter\";\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9jb21wb25lbnRzL3VpL2NhcmQudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUE4QjtBQUVFO0FBRWhDLE1BQU1FLHFCQUFPRiw2Q0FBZ0IsQ0FHM0IsQ0FBQyxFQUFFSSxTQUFTLEVBQUUsR0FBR0MsT0FBTyxFQUFFQyxvQkFDMUIsOERBQUNDO1FBQ0NELEtBQUtBO1FBQ0xGLFdBQVdILDhDQUFFQSxDQUNYLHlEQUNBRztRQUVELEdBQUdDLEtBQUs7Ozs7OztBQUdiSCxLQUFLTSxXQUFXLEdBQUc7QUFFbkIsTUFBTUMsMkJBQWFULDZDQUFnQixDQUdqQyxDQUFDLEVBQUVJLFNBQVMsRUFBRSxHQUFHQyxPQUFPLEVBQUVDLG9CQUMxQiw4REFBQ0M7UUFDQ0QsS0FBS0E7UUFDTEYsV0FBV0gsOENBQUVBLENBQUMsaUNBQWlDRztRQUM5QyxHQUFHQyxLQUFLOzs7Ozs7QUFHYkksV0FBV0QsV0FBVyxHQUFHO0FBRXpCLE1BQU1FLDBCQUFZViw2Q0FBZ0IsQ0FHaEMsQ0FBQyxFQUFFSSxTQUFTLEVBQUUsR0FBR0MsT0FBTyxFQUFFQyxvQkFDMUIsOERBQUNDO1FBQ0NELEtBQUtBO1FBQ0xGLFdBQVdILDhDQUFFQSxDQUFDLDZDQUE2Q0c7UUFDMUQsR0FBR0MsS0FBSzs7Ozs7O0FBR2JLLFVBQVVGLFdBQVcsR0FBRztBQUV4QixNQUFNRyxnQ0FBa0JYLDZDQUFnQixDQUd0QyxDQUFDLEVBQUVJLFNBQVMsRUFBRSxHQUFHQyxPQUFPLEVBQUVDLG9CQUMxQiw4REFBQ0M7UUFDQ0QsS0FBS0E7UUFDTEYsV0FBV0gsOENBQUVBLENBQUMsaUNBQWlDRztRQUM5QyxHQUFHQyxLQUFLOzs7Ozs7QUFHYk0sZ0JBQWdCSCxXQUFXLEdBQUc7QUFFOUIsTUFBTUksNEJBQWNaLDZDQUFnQixDQUdsQyxDQUFDLEVBQUVJLFNBQVMsRUFBRSxHQUFHQyxPQUFPLEVBQUVDLG9CQUMxQiw4REFBQ0M7UUFBSUQsS0FBS0E7UUFBS0YsV0FBV0gsOENBQUVBLENBQUMsWUFBWUc7UUFBYSxHQUFHQyxLQUFLOzs7Ozs7QUFFaEVPLFlBQVlKLFdBQVcsR0FBRztBQUUxQixNQUFNSywyQkFBYWIsNkNBQWdCLENBR2pDLENBQUMsRUFBRUksU0FBUyxFQUFFLEdBQUdDLE9BQU8sRUFBRUMsb0JBQzFCLDhEQUFDQztRQUNDRCxLQUFLQTtRQUNMRixXQUFXSCw4Q0FBRUEsQ0FBQyw4QkFBOEJHO1FBQzNDLEdBQUdDLEtBQUs7Ozs7OztBQUdiUSxXQUFXTCxXQUFXLEdBQUc7QUFFdUQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92aWJlY2FyZGluZy8uL2NvbXBvbmVudHMvdWkvY2FyZC50c3g/YWQ5MSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tIFwicmVhY3RcIlxuXG5pbXBvcnQgeyBjbiB9IGZyb20gXCJAL2xpYi91dGlsc1wiXG5cbmNvbnN0IENhcmQgPSBSZWFjdC5mb3J3YXJkUmVmPFxuICBIVE1MRGl2RWxlbWVudCxcbiAgUmVhY3QuSFRNTEF0dHJpYnV0ZXM8SFRNTERpdkVsZW1lbnQ+XG4+KCh7IGNsYXNzTmFtZSwgLi4ucHJvcHMgfSwgcmVmKSA9PiAoXG4gIDxkaXZcbiAgICByZWY9e3JlZn1cbiAgICBjbGFzc05hbWU9e2NuKFxuICAgICAgXCJyb3VuZGVkLXhsIGJvcmRlciBiZy1jYXJkIHRleHQtY2FyZC1mb3JlZ3JvdW5kIHNoYWRvd1wiLFxuICAgICAgY2xhc3NOYW1lXG4gICAgKX1cbiAgICB7Li4ucHJvcHN9XG4gIC8+XG4pKVxuQ2FyZC5kaXNwbGF5TmFtZSA9IFwiQ2FyZFwiXG5cbmNvbnN0IENhcmRIZWFkZXIgPSBSZWFjdC5mb3J3YXJkUmVmPFxuICBIVE1MRGl2RWxlbWVudCxcbiAgUmVhY3QuSFRNTEF0dHJpYnV0ZXM8SFRNTERpdkVsZW1lbnQ+XG4+KCh7IGNsYXNzTmFtZSwgLi4ucHJvcHMgfSwgcmVmKSA9PiAoXG4gIDxkaXZcbiAgICByZWY9e3JlZn1cbiAgICBjbGFzc05hbWU9e2NuKFwiZmxleCBmbGV4LWNvbCBzcGFjZS15LTEuNSBwLTZcIiwgY2xhc3NOYW1lKX1cbiAgICB7Li4ucHJvcHN9XG4gIC8+XG4pKVxuQ2FyZEhlYWRlci5kaXNwbGF5TmFtZSA9IFwiQ2FyZEhlYWRlclwiXG5cbmNvbnN0IENhcmRUaXRsZSA9IFJlYWN0LmZvcndhcmRSZWY8XG4gIEhUTUxEaXZFbGVtZW50LFxuICBSZWFjdC5IVE1MQXR0cmlidXRlczxIVE1MRGl2RWxlbWVudD5cbj4oKHsgY2xhc3NOYW1lLCAuLi5wcm9wcyB9LCByZWYpID0+IChcbiAgPGRpdlxuICAgIHJlZj17cmVmfVxuICAgIGNsYXNzTmFtZT17Y24oXCJmb250LXNlbWlib2xkIGxlYWRpbmctbm9uZSB0cmFja2luZy10aWdodFwiLCBjbGFzc05hbWUpfVxuICAgIHsuLi5wcm9wc31cbiAgLz5cbikpXG5DYXJkVGl0bGUuZGlzcGxheU5hbWUgPSBcIkNhcmRUaXRsZVwiXG5cbmNvbnN0IENhcmREZXNjcmlwdGlvbiA9IFJlYWN0LmZvcndhcmRSZWY8XG4gIEhUTUxEaXZFbGVtZW50LFxuICBSZWFjdC5IVE1MQXR0cmlidXRlczxIVE1MRGl2RWxlbWVudD5cbj4oKHsgY2xhc3NOYW1lLCAuLi5wcm9wcyB9LCByZWYpID0+IChcbiAgPGRpdlxuICAgIHJlZj17cmVmfVxuICAgIGNsYXNzTmFtZT17Y24oXCJ0ZXh0LXNtIHRleHQtbXV0ZWQtZm9yZWdyb3VuZFwiLCBjbGFzc05hbWUpfVxuICAgIHsuLi5wcm9wc31cbiAgLz5cbikpXG5DYXJkRGVzY3JpcHRpb24uZGlzcGxheU5hbWUgPSBcIkNhcmREZXNjcmlwdGlvblwiXG5cbmNvbnN0IENhcmRDb250ZW50ID0gUmVhY3QuZm9yd2FyZFJlZjxcbiAgSFRNTERpdkVsZW1lbnQsXG4gIFJlYWN0LkhUTUxBdHRyaWJ1dGVzPEhUTUxEaXZFbGVtZW50PlxuPigoeyBjbGFzc05hbWUsIC4uLnByb3BzIH0sIHJlZikgPT4gKFxuICA8ZGl2IHJlZj17cmVmfSBjbGFzc05hbWU9e2NuKFwicC02IHB0LTBcIiwgY2xhc3NOYW1lKX0gey4uLnByb3BzfSAvPlxuKSlcbkNhcmRDb250ZW50LmRpc3BsYXlOYW1lID0gXCJDYXJkQ29udGVudFwiXG5cbmNvbnN0IENhcmRGb290ZXIgPSBSZWFjdC5mb3J3YXJkUmVmPFxuICBIVE1MRGl2RWxlbWVudCxcbiAgUmVhY3QuSFRNTEF0dHJpYnV0ZXM8SFRNTERpdkVsZW1lbnQ+XG4+KCh7IGNsYXNzTmFtZSwgLi4ucHJvcHMgfSwgcmVmKSA9PiAoXG4gIDxkaXZcbiAgICByZWY9e3JlZn1cbiAgICBjbGFzc05hbWU9e2NuKFwiZmxleCBpdGVtcy1jZW50ZXIgcC02IHB0LTBcIiwgY2xhc3NOYW1lKX1cbiAgICB7Li4ucHJvcHN9XG4gIC8+XG4pKVxuQ2FyZEZvb3Rlci5kaXNwbGF5TmFtZSA9IFwiQ2FyZEZvb3RlclwiXG5cbmV4cG9ydCB7IENhcmQsIENhcmRIZWFkZXIsIENhcmRGb290ZXIsIENhcmRUaXRsZSwgQ2FyZERlc2NyaXB0aW9uLCBDYXJkQ29udGVudCB9XG4iXSwibmFtZXMiOlsiUmVhY3QiLCJjbiIsIkNhcmQiLCJmb3J3YXJkUmVmIiwiY2xhc3NOYW1lIiwicHJvcHMiLCJyZWYiLCJkaXYiLCJkaXNwbGF5TmFtZSIsIkNhcmRIZWFkZXIiLCJDYXJkVGl0bGUiLCJDYXJkRGVzY3JpcHRpb24iLCJDYXJkQ29udGVudCIsIkNhcmRGb290ZXIiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./components/ui/card.tsx\n");

/***/ }),

/***/ "(ssr)/./components/ui/dialog.tsx":
/*!**********************************!*\
  !*** ./components/ui/dialog.tsx ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Dialog: () => (/* binding */ Dialog),\n/* harmony export */   DialogClose: () => (/* binding */ DialogClose),\n/* harmony export */   DialogContent: () => (/* binding */ DialogContent),\n/* harmony export */   DialogDescription: () => (/* binding */ DialogDescription),\n/* harmony export */   DialogFooter: () => (/* binding */ DialogFooter),\n/* harmony export */   DialogHeader: () => (/* binding */ DialogHeader),\n/* harmony export */   DialogOverlay: () => (/* binding */ DialogOverlay),\n/* harmony export */   DialogPortal: () => (/* binding */ DialogPortal),\n/* harmony export */   DialogTitle: () => (/* binding */ DialogTitle),\n/* harmony export */   DialogTrigger: () => (/* binding */ DialogTrigger)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _radix_ui_react_dialog__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @radix-ui/react-dialog */ \"(ssr)/./node_modules/@radix-ui/react-dialog/dist/index.mjs\");\n/* harmony import */ var _barrel_optimize_names_X_lucide_react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! __barrel_optimize__?names=X!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/x.js\");\n/* harmony import */ var _lib_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/utils */ \"(ssr)/./lib/utils.ts\");\n/* __next_internal_client_entry_do_not_use__ Dialog,DialogPortal,DialogOverlay,DialogTrigger,DialogClose,DialogContent,DialogHeader,DialogFooter,DialogTitle,DialogDescription auto */ \n\n\n\n\nconst Dialog = _radix_ui_react_dialog__WEBPACK_IMPORTED_MODULE_3__.Root;\nconst DialogTrigger = _radix_ui_react_dialog__WEBPACK_IMPORTED_MODULE_3__.Trigger;\nconst DialogPortal = _radix_ui_react_dialog__WEBPACK_IMPORTED_MODULE_3__.Portal;\nconst DialogClose = _radix_ui_react_dialog__WEBPACK_IMPORTED_MODULE_3__.Close;\nconst DialogOverlay = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(({ className, ...props }, ref)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_radix_ui_react_dialog__WEBPACK_IMPORTED_MODULE_3__.Overlay, {\n        ref: ref,\n        className: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.cn)(\"fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\", className),\n        ...props\n    }, void 0, false, {\n        fileName: \"/var/www/flask_app/ast_chat/components/ui/dialog.tsx\",\n        lineNumber: 21,\n        columnNumber: 3\n    }, undefined));\nDialogOverlay.displayName = _radix_ui_react_dialog__WEBPACK_IMPORTED_MODULE_3__.Overlay.displayName;\nconst DialogContent = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(({ className, children, ...props }, ref)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(DialogPortal, {\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(DialogOverlay, {}, void 0, false, {\n                fileName: \"/var/www/flask_app/ast_chat/components/ui/dialog.tsx\",\n                lineNumber: 37,\n                columnNumber: 5\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_radix_ui_react_dialog__WEBPACK_IMPORTED_MODULE_3__.Content, {\n                ref: ref,\n                className: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.cn)(\"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\", className),\n                ...props,\n                children: [\n                    children,\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_radix_ui_react_dialog__WEBPACK_IMPORTED_MODULE_3__.Close, {\n                        className: \"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_X_lucide_react__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n                                className: \"h-4 w-4\"\n                            }, void 0, false, {\n                                fileName: \"/var/www/flask_app/ast_chat/components/ui/dialog.tsx\",\n                                lineNumber: 48,\n                                columnNumber: 9\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: \"sr-only\",\n                                children: \"Close\"\n                            }, void 0, false, {\n                                fileName: \"/var/www/flask_app/ast_chat/components/ui/dialog.tsx\",\n                                lineNumber: 49,\n                                columnNumber: 9\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/var/www/flask_app/ast_chat/components/ui/dialog.tsx\",\n                        lineNumber: 47,\n                        columnNumber: 7\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/var/www/flask_app/ast_chat/components/ui/dialog.tsx\",\n                lineNumber: 38,\n                columnNumber: 5\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/var/www/flask_app/ast_chat/components/ui/dialog.tsx\",\n        lineNumber: 36,\n        columnNumber: 3\n    }, undefined));\nDialogContent.displayName = _radix_ui_react_dialog__WEBPACK_IMPORTED_MODULE_3__.Content.displayName;\nconst DialogHeader = ({ className, ...props })=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.cn)(\"flex flex-col space-y-1.5 text-center sm:text-left\", className),\n        ...props\n    }, void 0, false, {\n        fileName: \"/var/www/flask_app/ast_chat/components/ui/dialog.tsx\",\n        lineNumber: 60,\n        columnNumber: 3\n    }, undefined);\nDialogHeader.displayName = \"DialogHeader\";\nconst DialogFooter = ({ className, ...props })=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.cn)(\"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\", className),\n        ...props\n    }, void 0, false, {\n        fileName: \"/var/www/flask_app/ast_chat/components/ui/dialog.tsx\",\n        lineNumber: 74,\n        columnNumber: 3\n    }, undefined);\nDialogFooter.displayName = \"DialogFooter\";\nconst DialogTitle = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(({ className, ...props }, ref)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_radix_ui_react_dialog__WEBPACK_IMPORTED_MODULE_3__.Title, {\n        ref: ref,\n        className: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.cn)(\"text-lg font-semibold leading-none tracking-tight\", className),\n        ...props\n    }, void 0, false, {\n        fileName: \"/var/www/flask_app/ast_chat/components/ui/dialog.tsx\",\n        lineNumber: 88,\n        columnNumber: 3\n    }, undefined));\nDialogTitle.displayName = _radix_ui_react_dialog__WEBPACK_IMPORTED_MODULE_3__.Title.displayName;\nconst DialogDescription = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(({ className, ...props }, ref)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_radix_ui_react_dialog__WEBPACK_IMPORTED_MODULE_3__.Description, {\n        ref: ref,\n        className: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.cn)(\"text-sm text-muted-foreground\", className),\n        ...props\n    }, void 0, false, {\n        fileName: \"/var/www/flask_app/ast_chat/components/ui/dialog.tsx\",\n        lineNumber: 103,\n        columnNumber: 3\n    }, undefined));\nDialogDescription.displayName = _radix_ui_react_dialog__WEBPACK_IMPORTED_MODULE_3__.Description.displayName;\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9jb21wb25lbnRzL3VpL2RpYWxvZy50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBRThCO0FBQzJCO0FBQ3pCO0FBRUE7QUFFaEMsTUFBTUksU0FBU0gsd0RBQW9CO0FBRW5DLE1BQU1LLGdCQUFnQkwsMkRBQXVCO0FBRTdDLE1BQU1PLGVBQWVQLDBEQUFzQjtBQUUzQyxNQUFNUyxjQUFjVCx5REFBcUI7QUFFekMsTUFBTVcsOEJBQWdCWiw2Q0FBZ0IsQ0FHcEMsQ0FBQyxFQUFFYyxTQUFTLEVBQUUsR0FBR0MsT0FBTyxFQUFFQyxvQkFDMUIsOERBQUNmLDJEQUF1QjtRQUN0QmUsS0FBS0E7UUFDTEYsV0FBV1gsOENBQUVBLENBQ1gsMkpBQ0FXO1FBRUQsR0FBR0MsS0FBSzs7Ozs7O0FBR2JILGNBQWNNLFdBQVcsR0FBR2pCLDJEQUF1QixDQUFDaUIsV0FBVztBQUUvRCxNQUFNQyw4QkFBZ0JuQiw2Q0FBZ0IsQ0FHcEMsQ0FBQyxFQUFFYyxTQUFTLEVBQUVNLFFBQVEsRUFBRSxHQUFHTCxPQUFPLEVBQUVDLG9CQUNwQyw4REFBQ1I7OzBCQUNDLDhEQUFDSTs7Ozs7MEJBQ0QsOERBQUNYLDJEQUF1QjtnQkFDdEJlLEtBQUtBO2dCQUNMRixXQUFXWCw4Q0FBRUEsQ0FDWCwrZkFDQVc7Z0JBRUQsR0FBR0MsS0FBSzs7b0JBRVJLO2tDQUNELDhEQUFDbkIseURBQXFCO3dCQUFDYSxXQUFVOzswQ0FDL0IsOERBQUNaLDZFQUFDQTtnQ0FBQ1ksV0FBVTs7Ozs7OzBDQUNiLDhEQUFDUTtnQ0FBS1IsV0FBVTswQ0FBVTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBS2xDSyxjQUFjRCxXQUFXLEdBQUdqQiwyREFBdUIsQ0FBQ2lCLFdBQVc7QUFFL0QsTUFBTUssZUFBZSxDQUFDLEVBQ3BCVCxTQUFTLEVBQ1QsR0FBR0MsT0FDa0MsaUJBQ3JDLDhEQUFDUztRQUNDVixXQUFXWCw4Q0FBRUEsQ0FDWCxzREFDQVc7UUFFRCxHQUFHQyxLQUFLOzs7Ozs7QUFHYlEsYUFBYUwsV0FBVyxHQUFHO0FBRTNCLE1BQU1PLGVBQWUsQ0FBQyxFQUNwQlgsU0FBUyxFQUNULEdBQUdDLE9BQ2tDLGlCQUNyQyw4REFBQ1M7UUFDQ1YsV0FBV1gsOENBQUVBLENBQ1gsaUVBQ0FXO1FBRUQsR0FBR0MsS0FBSzs7Ozs7O0FBR2JVLGFBQWFQLFdBQVcsR0FBRztBQUUzQixNQUFNUSw0QkFBYzFCLDZDQUFnQixDQUdsQyxDQUFDLEVBQUVjLFNBQVMsRUFBRSxHQUFHQyxPQUFPLEVBQUVDLG9CQUMxQiw4REFBQ2YseURBQXFCO1FBQ3BCZSxLQUFLQTtRQUNMRixXQUFXWCw4Q0FBRUEsQ0FDWCxxREFDQVc7UUFFRCxHQUFHQyxLQUFLOzs7Ozs7QUFHYlcsWUFBWVIsV0FBVyxHQUFHakIseURBQXFCLENBQUNpQixXQUFXO0FBRTNELE1BQU1VLGtDQUFvQjVCLDZDQUFnQixDQUd4QyxDQUFDLEVBQUVjLFNBQVMsRUFBRSxHQUFHQyxPQUFPLEVBQUVDLG9CQUMxQiw4REFBQ2YsK0RBQTJCO1FBQzFCZSxLQUFLQTtRQUNMRixXQUFXWCw4Q0FBRUEsQ0FBQyxpQ0FBaUNXO1FBQzlDLEdBQUdDLEtBQUs7Ozs7OztBQUdiYSxrQkFBa0JWLFdBQVcsR0FBR2pCLCtEQUEyQixDQUFDaUIsV0FBVztBQWF0RSIsInNvdXJjZXMiOlsid2VicGFjazovL3ZpYmVjYXJkaW5nLy4vY29tcG9uZW50cy91aS9kaWFsb2cudHN4P2RlNTMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2UgY2xpZW50XCJcblxuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCAqIGFzIERpYWxvZ1ByaW1pdGl2ZSBmcm9tIFwiQHJhZGl4LXVpL3JlYWN0LWRpYWxvZ1wiXG5pbXBvcnQgeyBYIH0gZnJvbSBcImx1Y2lkZS1yZWFjdFwiXG5cbmltcG9ydCB7IGNuIH0gZnJvbSBcIkAvbGliL3V0aWxzXCJcblxuY29uc3QgRGlhbG9nID0gRGlhbG9nUHJpbWl0aXZlLlJvb3RcblxuY29uc3QgRGlhbG9nVHJpZ2dlciA9IERpYWxvZ1ByaW1pdGl2ZS5UcmlnZ2VyXG5cbmNvbnN0IERpYWxvZ1BvcnRhbCA9IERpYWxvZ1ByaW1pdGl2ZS5Qb3J0YWxcblxuY29uc3QgRGlhbG9nQ2xvc2UgPSBEaWFsb2dQcmltaXRpdmUuQ2xvc2VcblxuY29uc3QgRGlhbG9nT3ZlcmxheSA9IFJlYWN0LmZvcndhcmRSZWY8XG4gIFJlYWN0LkVsZW1lbnRSZWY8dHlwZW9mIERpYWxvZ1ByaW1pdGl2ZS5PdmVybGF5PixcbiAgUmVhY3QuQ29tcG9uZW50UHJvcHNXaXRob3V0UmVmPHR5cGVvZiBEaWFsb2dQcmltaXRpdmUuT3ZlcmxheT5cbj4oKHsgY2xhc3NOYW1lLCAuLi5wcm9wcyB9LCByZWYpID0+IChcbiAgPERpYWxvZ1ByaW1pdGl2ZS5PdmVybGF5XG4gICAgcmVmPXtyZWZ9XG4gICAgY2xhc3NOYW1lPXtjbihcbiAgICAgIFwiZml4ZWQgaW5zZXQtMCB6LTUwIGJnLWJsYWNrLzgwICBkYXRhLVtzdGF0ZT1vcGVuXTphbmltYXRlLWluIGRhdGEtW3N0YXRlPWNsb3NlZF06YW5pbWF0ZS1vdXQgZGF0YS1bc3RhdGU9Y2xvc2VkXTpmYWRlLW91dC0wIGRhdGEtW3N0YXRlPW9wZW5dOmZhZGUtaW4tMFwiLFxuICAgICAgY2xhc3NOYW1lXG4gICAgKX1cbiAgICB7Li4ucHJvcHN9XG4gIC8+XG4pKVxuRGlhbG9nT3ZlcmxheS5kaXNwbGF5TmFtZSA9IERpYWxvZ1ByaW1pdGl2ZS5PdmVybGF5LmRpc3BsYXlOYW1lXG5cbmNvbnN0IERpYWxvZ0NvbnRlbnQgPSBSZWFjdC5mb3J3YXJkUmVmPFxuICBSZWFjdC5FbGVtZW50UmVmPHR5cGVvZiBEaWFsb2dQcmltaXRpdmUuQ29udGVudD4sXG4gIFJlYWN0LkNvbXBvbmVudFByb3BzV2l0aG91dFJlZjx0eXBlb2YgRGlhbG9nUHJpbWl0aXZlLkNvbnRlbnQ+XG4+KCh7IGNsYXNzTmFtZSwgY2hpbGRyZW4sIC4uLnByb3BzIH0sIHJlZikgPT4gKFxuICA8RGlhbG9nUG9ydGFsPlxuICAgIDxEaWFsb2dPdmVybGF5IC8+XG4gICAgPERpYWxvZ1ByaW1pdGl2ZS5Db250ZW50XG4gICAgICByZWY9e3JlZn1cbiAgICAgIGNsYXNzTmFtZT17Y24oXG4gICAgICAgIFwiZml4ZWQgbGVmdC1bNTAlXSB0b3AtWzUwJV0gei01MCBncmlkIHctZnVsbCBtYXgtdy1sZyB0cmFuc2xhdGUteC1bLTUwJV0gdHJhbnNsYXRlLXktWy01MCVdIGdhcC00IGJvcmRlciBiZy1iYWNrZ3JvdW5kIHAtNiBzaGFkb3ctbGcgZHVyYXRpb24tMjAwIGRhdGEtW3N0YXRlPW9wZW5dOmFuaW1hdGUtaW4gZGF0YS1bc3RhdGU9Y2xvc2VkXTphbmltYXRlLW91dCBkYXRhLVtzdGF0ZT1jbG9zZWRdOmZhZGUtb3V0LTAgZGF0YS1bc3RhdGU9b3Blbl06ZmFkZS1pbi0wIGRhdGEtW3N0YXRlPWNsb3NlZF06em9vbS1vdXQtOTUgZGF0YS1bc3RhdGU9b3Blbl06em9vbS1pbi05NSBkYXRhLVtzdGF0ZT1jbG9zZWRdOnNsaWRlLW91dC10by1sZWZ0LTEvMiBkYXRhLVtzdGF0ZT1jbG9zZWRdOnNsaWRlLW91dC10by10b3AtWzQ4JV0gZGF0YS1bc3RhdGU9b3Blbl06c2xpZGUtaW4tZnJvbS1sZWZ0LTEvMiBkYXRhLVtzdGF0ZT1vcGVuXTpzbGlkZS1pbi1mcm9tLXRvcC1bNDglXSBzbTpyb3VuZGVkLWxnXCIsXG4gICAgICAgIGNsYXNzTmFtZVxuICAgICAgKX1cbiAgICAgIHsuLi5wcm9wc31cbiAgICA+XG4gICAgICB7Y2hpbGRyZW59XG4gICAgICA8RGlhbG9nUHJpbWl0aXZlLkNsb3NlIGNsYXNzTmFtZT1cImFic29sdXRlIHJpZ2h0LTQgdG9wLTQgcm91bmRlZC1zbSBvcGFjaXR5LTcwIHJpbmctb2Zmc2V0LWJhY2tncm91bmQgdHJhbnNpdGlvbi1vcGFjaXR5IGhvdmVyOm9wYWNpdHktMTAwIGZvY3VzOm91dGxpbmUtbm9uZSBmb2N1czpyaW5nLTIgZm9jdXM6cmluZy1yaW5nIGZvY3VzOnJpbmctb2Zmc2V0LTIgZGlzYWJsZWQ6cG9pbnRlci1ldmVudHMtbm9uZSBkYXRhLVtzdGF0ZT1vcGVuXTpiZy1hY2NlbnQgZGF0YS1bc3RhdGU9b3Blbl06dGV4dC1tdXRlZC1mb3JlZ3JvdW5kXCI+XG4gICAgICAgIDxYIGNsYXNzTmFtZT1cImgtNCB3LTRcIiAvPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJzci1vbmx5XCI+Q2xvc2U8L3NwYW4+XG4gICAgICA8L0RpYWxvZ1ByaW1pdGl2ZS5DbG9zZT5cbiAgICA8L0RpYWxvZ1ByaW1pdGl2ZS5Db250ZW50PlxuICA8L0RpYWxvZ1BvcnRhbD5cbikpXG5EaWFsb2dDb250ZW50LmRpc3BsYXlOYW1lID0gRGlhbG9nUHJpbWl0aXZlLkNvbnRlbnQuZGlzcGxheU5hbWVcblxuY29uc3QgRGlhbG9nSGVhZGVyID0gKHtcbiAgY2xhc3NOYW1lLFxuICAuLi5wcm9wc1xufTogUmVhY3QuSFRNTEF0dHJpYnV0ZXM8SFRNTERpdkVsZW1lbnQ+KSA9PiAoXG4gIDxkaXZcbiAgICBjbGFzc05hbWU9e2NuKFxuICAgICAgXCJmbGV4IGZsZXgtY29sIHNwYWNlLXktMS41IHRleHQtY2VudGVyIHNtOnRleHQtbGVmdFwiLFxuICAgICAgY2xhc3NOYW1lXG4gICAgKX1cbiAgICB7Li4ucHJvcHN9XG4gIC8+XG4pXG5EaWFsb2dIZWFkZXIuZGlzcGxheU5hbWUgPSBcIkRpYWxvZ0hlYWRlclwiXG5cbmNvbnN0IERpYWxvZ0Zvb3RlciA9ICh7XG4gIGNsYXNzTmFtZSxcbiAgLi4ucHJvcHNcbn06IFJlYWN0LkhUTUxBdHRyaWJ1dGVzPEhUTUxEaXZFbGVtZW50PikgPT4gKFxuICA8ZGl2XG4gICAgY2xhc3NOYW1lPXtjbihcbiAgICAgIFwiZmxleCBmbGV4LWNvbC1yZXZlcnNlIHNtOmZsZXgtcm93IHNtOmp1c3RpZnktZW5kIHNtOnNwYWNlLXgtMlwiLFxuICAgICAgY2xhc3NOYW1lXG4gICAgKX1cbiAgICB7Li4ucHJvcHN9XG4gIC8+XG4pXG5EaWFsb2dGb290ZXIuZGlzcGxheU5hbWUgPSBcIkRpYWxvZ0Zvb3RlclwiXG5cbmNvbnN0IERpYWxvZ1RpdGxlID0gUmVhY3QuZm9yd2FyZFJlZjxcbiAgUmVhY3QuRWxlbWVudFJlZjx0eXBlb2YgRGlhbG9nUHJpbWl0aXZlLlRpdGxlPixcbiAgUmVhY3QuQ29tcG9uZW50UHJvcHNXaXRob3V0UmVmPHR5cGVvZiBEaWFsb2dQcmltaXRpdmUuVGl0bGU+XG4+KCh7IGNsYXNzTmFtZSwgLi4ucHJvcHMgfSwgcmVmKSA9PiAoXG4gIDxEaWFsb2dQcmltaXRpdmUuVGl0bGVcbiAgICByZWY9e3JlZn1cbiAgICBjbGFzc05hbWU9e2NuKFxuICAgICAgXCJ0ZXh0LWxnIGZvbnQtc2VtaWJvbGQgbGVhZGluZy1ub25lIHRyYWNraW5nLXRpZ2h0XCIsXG4gICAgICBjbGFzc05hbWVcbiAgICApfVxuICAgIHsuLi5wcm9wc31cbiAgLz5cbikpXG5EaWFsb2dUaXRsZS5kaXNwbGF5TmFtZSA9IERpYWxvZ1ByaW1pdGl2ZS5UaXRsZS5kaXNwbGF5TmFtZVxuXG5jb25zdCBEaWFsb2dEZXNjcmlwdGlvbiA9IFJlYWN0LmZvcndhcmRSZWY8XG4gIFJlYWN0LkVsZW1lbnRSZWY8dHlwZW9mIERpYWxvZ1ByaW1pdGl2ZS5EZXNjcmlwdGlvbj4sXG4gIFJlYWN0LkNvbXBvbmVudFByb3BzV2l0aG91dFJlZjx0eXBlb2YgRGlhbG9nUHJpbWl0aXZlLkRlc2NyaXB0aW9uPlxuPigoeyBjbGFzc05hbWUsIC4uLnByb3BzIH0sIHJlZikgPT4gKFxuICA8RGlhbG9nUHJpbWl0aXZlLkRlc2NyaXB0aW9uXG4gICAgcmVmPXtyZWZ9XG4gICAgY2xhc3NOYW1lPXtjbihcInRleHQtc20gdGV4dC1tdXRlZC1mb3JlZ3JvdW5kXCIsIGNsYXNzTmFtZSl9XG4gICAgey4uLnByb3BzfVxuICAvPlxuKSlcbkRpYWxvZ0Rlc2NyaXB0aW9uLmRpc3BsYXlOYW1lID0gRGlhbG9nUHJpbWl0aXZlLkRlc2NyaXB0aW9uLmRpc3BsYXlOYW1lXG5cbmV4cG9ydCB7XG4gIERpYWxvZyxcbiAgRGlhbG9nUG9ydGFsLFxuICBEaWFsb2dPdmVybGF5LFxuICBEaWFsb2dUcmlnZ2VyLFxuICBEaWFsb2dDbG9zZSxcbiAgRGlhbG9nQ29udGVudCxcbiAgRGlhbG9nSGVhZGVyLFxuICBEaWFsb2dGb290ZXIsXG4gIERpYWxvZ1RpdGxlLFxuICBEaWFsb2dEZXNjcmlwdGlvbixcbn1cbiJdLCJuYW1lcyI6WyJSZWFjdCIsIkRpYWxvZ1ByaW1pdGl2ZSIsIlgiLCJjbiIsIkRpYWxvZyIsIlJvb3QiLCJEaWFsb2dUcmlnZ2VyIiwiVHJpZ2dlciIsIkRpYWxvZ1BvcnRhbCIsIlBvcnRhbCIsIkRpYWxvZ0Nsb3NlIiwiQ2xvc2UiLCJEaWFsb2dPdmVybGF5IiwiZm9yd2FyZFJlZiIsImNsYXNzTmFtZSIsInByb3BzIiwicmVmIiwiT3ZlcmxheSIsImRpc3BsYXlOYW1lIiwiRGlhbG9nQ29udGVudCIsImNoaWxkcmVuIiwiQ29udGVudCIsInNwYW4iLCJEaWFsb2dIZWFkZXIiLCJkaXYiLCJEaWFsb2dGb290ZXIiLCJEaWFsb2dUaXRsZSIsIlRpdGxlIiwiRGlhbG9nRGVzY3JpcHRpb24iLCJEZXNjcmlwdGlvbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./components/ui/dialog.tsx\n");

/***/ }),

/***/ "(ssr)/./components/ui/dropdown-menu.tsx":
/*!*****************************************!*\
  !*** ./components/ui/dropdown-menu.tsx ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DropdownMenu: () => (/* binding */ DropdownMenu),\n/* harmony export */   DropdownMenuCheckboxItem: () => (/* binding */ DropdownMenuCheckboxItem),\n/* harmony export */   DropdownMenuContent: () => (/* binding */ DropdownMenuContent),\n/* harmony export */   DropdownMenuGroup: () => (/* binding */ DropdownMenuGroup),\n/* harmony export */   DropdownMenuItem: () => (/* binding */ DropdownMenuItem),\n/* harmony export */   DropdownMenuLabel: () => (/* binding */ DropdownMenuLabel),\n/* harmony export */   DropdownMenuPortal: () => (/* binding */ DropdownMenuPortal),\n/* harmony export */   DropdownMenuRadioGroup: () => (/* binding */ DropdownMenuRadioGroup),\n/* harmony export */   DropdownMenuRadioItem: () => (/* binding */ DropdownMenuRadioItem),\n/* harmony export */   DropdownMenuSeparator: () => (/* binding */ DropdownMenuSeparator),\n/* harmony export */   DropdownMenuShortcut: () => (/* binding */ DropdownMenuShortcut),\n/* harmony export */   DropdownMenuSub: () => (/* binding */ DropdownMenuSub),\n/* harmony export */   DropdownMenuSubContent: () => (/* binding */ DropdownMenuSubContent),\n/* harmony export */   DropdownMenuSubTrigger: () => (/* binding */ DropdownMenuSubTrigger),\n/* harmony export */   DropdownMenuTrigger: () => (/* binding */ DropdownMenuTrigger)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _radix_ui_react_dropdown_menu__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @radix-ui/react-dropdown-menu */ \"(ssr)/./node_modules/@radix-ui/react-dropdown-menu/dist/index.mjs\");\n/* harmony import */ var _barrel_optimize_names_Check_ChevronRight_Circle_lucide_react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! __barrel_optimize__?names=Check,ChevronRight,Circle!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/chevron-right.js\");\n/* harmony import */ var _barrel_optimize_names_Check_ChevronRight_Circle_lucide_react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! __barrel_optimize__?names=Check,ChevronRight,Circle!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/check.js\");\n/* harmony import */ var _barrel_optimize_names_Check_ChevronRight_Circle_lucide_react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! __barrel_optimize__?names=Check,ChevronRight,Circle!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/circle.js\");\n/* harmony import */ var _lib_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/utils */ \"(ssr)/./lib/utils.ts\");\n/* __next_internal_client_entry_do_not_use__ DropdownMenu,DropdownMenuTrigger,DropdownMenuContent,DropdownMenuItem,DropdownMenuCheckboxItem,DropdownMenuRadioItem,DropdownMenuLabel,DropdownMenuSeparator,DropdownMenuShortcut,DropdownMenuGroup,DropdownMenuPortal,DropdownMenuSub,DropdownMenuSubContent,DropdownMenuSubTrigger,DropdownMenuRadioGroup auto */ \n\n\n\n\nconst DropdownMenu = _radix_ui_react_dropdown_menu__WEBPACK_IMPORTED_MODULE_3__.Root;\nconst DropdownMenuTrigger = _radix_ui_react_dropdown_menu__WEBPACK_IMPORTED_MODULE_3__.Trigger;\nconst DropdownMenuGroup = _radix_ui_react_dropdown_menu__WEBPACK_IMPORTED_MODULE_3__.Group;\nconst DropdownMenuPortal = _radix_ui_react_dropdown_menu__WEBPACK_IMPORTED_MODULE_3__.Portal;\nconst DropdownMenuSub = _radix_ui_react_dropdown_menu__WEBPACK_IMPORTED_MODULE_3__.Sub;\nconst DropdownMenuRadioGroup = _radix_ui_react_dropdown_menu__WEBPACK_IMPORTED_MODULE_3__.RadioGroup;\nconst DropdownMenuSubTrigger = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(({ className, inset, children, ...props }, ref)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_radix_ui_react_dropdown_menu__WEBPACK_IMPORTED_MODULE_3__.SubTrigger, {\n        ref: ref,\n        className: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.cn)(\"flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\", inset && \"pl-8\", className),\n        ...props,\n        children: [\n            children,\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Check_ChevronRight_Circle_lucide_react__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n                className: \"ml-auto\"\n            }, void 0, false, {\n                fileName: \"/var/www/flask_app/ast_chat/components/ui/dropdown-menu.tsx\",\n                lineNumber: 37,\n                columnNumber: 5\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/var/www/flask_app/ast_chat/components/ui/dropdown-menu.tsx\",\n        lineNumber: 27,\n        columnNumber: 3\n    }, undefined));\nDropdownMenuSubTrigger.displayName = _radix_ui_react_dropdown_menu__WEBPACK_IMPORTED_MODULE_3__.SubTrigger.displayName;\nconst DropdownMenuSubContent = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(({ className, ...props }, ref)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_radix_ui_react_dropdown_menu__WEBPACK_IMPORTED_MODULE_3__.SubContent, {\n        ref: ref,\n        className: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.cn)(\"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]\", className),\n        ...props\n    }, void 0, false, {\n        fileName: \"/var/www/flask_app/ast_chat/components/ui/dropdown-menu.tsx\",\n        lineNumber: 47,\n        columnNumber: 3\n    }, undefined));\nDropdownMenuSubContent.displayName = _radix_ui_react_dropdown_menu__WEBPACK_IMPORTED_MODULE_3__.SubContent.displayName;\nconst DropdownMenuContent = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(({ className, sideOffset = 4, ...props }, ref)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_radix_ui_react_dropdown_menu__WEBPACK_IMPORTED_MODULE_3__.Portal, {\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_radix_ui_react_dropdown_menu__WEBPACK_IMPORTED_MODULE_3__.Content, {\n            ref: ref,\n            sideOffset: sideOffset,\n            className: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.cn)(\"z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md\", \"data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]\", className),\n            ...props\n        }, void 0, false, {\n            fileName: \"/var/www/flask_app/ast_chat/components/ui/dropdown-menu.tsx\",\n            lineNumber: 64,\n            columnNumber: 5\n        }, undefined)\n    }, void 0, false, {\n        fileName: \"/var/www/flask_app/ast_chat/components/ui/dropdown-menu.tsx\",\n        lineNumber: 63,\n        columnNumber: 3\n    }, undefined));\nDropdownMenuContent.displayName = _radix_ui_react_dropdown_menu__WEBPACK_IMPORTED_MODULE_3__.Content.displayName;\nconst DropdownMenuItem = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(({ className, inset, ...props }, ref)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_radix_ui_react_dropdown_menu__WEBPACK_IMPORTED_MODULE_3__.Item, {\n        ref: ref,\n        className: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.cn)(\"relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0\", inset && \"pl-8\", className),\n        ...props\n    }, void 0, false, {\n        fileName: \"/var/www/flask_app/ast_chat/components/ui/dropdown-menu.tsx\",\n        lineNumber: 84,\n        columnNumber: 3\n    }, undefined));\nDropdownMenuItem.displayName = _radix_ui_react_dropdown_menu__WEBPACK_IMPORTED_MODULE_3__.Item.displayName;\nconst DropdownMenuCheckboxItem = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(({ className, children, checked, ...props }, ref)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_radix_ui_react_dropdown_menu__WEBPACK_IMPORTED_MODULE_3__.CheckboxItem, {\n        ref: ref,\n        className: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.cn)(\"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\", className),\n        checked: checked,\n        ...props,\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                className: \"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_radix_ui_react_dropdown_menu__WEBPACK_IMPORTED_MODULE_3__.ItemIndicator, {\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Check_ChevronRight_Circle_lucide_react__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n                        className: \"h-4 w-4\"\n                    }, void 0, false, {\n                        fileName: \"/var/www/flask_app/ast_chat/components/ui/dropdown-menu.tsx\",\n                        lineNumber: 111,\n                        columnNumber: 9\n                    }, undefined)\n                }, void 0, false, {\n                    fileName: \"/var/www/flask_app/ast_chat/components/ui/dropdown-menu.tsx\",\n                    lineNumber: 110,\n                    columnNumber: 7\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"/var/www/flask_app/ast_chat/components/ui/dropdown-menu.tsx\",\n                lineNumber: 109,\n                columnNumber: 5\n            }, undefined),\n            children\n        ]\n    }, void 0, true, {\n        fileName: \"/var/www/flask_app/ast_chat/components/ui/dropdown-menu.tsx\",\n        lineNumber: 100,\n        columnNumber: 3\n    }, undefined));\nDropdownMenuCheckboxItem.displayName = _radix_ui_react_dropdown_menu__WEBPACK_IMPORTED_MODULE_3__.CheckboxItem.displayName;\nconst DropdownMenuRadioItem = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(({ className, children, ...props }, ref)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_radix_ui_react_dropdown_menu__WEBPACK_IMPORTED_MODULE_3__.RadioItem, {\n        ref: ref,\n        className: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.cn)(\"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\", className),\n        ...props,\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                className: \"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_radix_ui_react_dropdown_menu__WEBPACK_IMPORTED_MODULE_3__.ItemIndicator, {\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Check_ChevronRight_Circle_lucide_react__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n                        className: \"h-2 w-2 fill-current\"\n                    }, void 0, false, {\n                        fileName: \"/var/www/flask_app/ast_chat/components/ui/dropdown-menu.tsx\",\n                        lineNumber: 134,\n                        columnNumber: 9\n                    }, undefined)\n                }, void 0, false, {\n                    fileName: \"/var/www/flask_app/ast_chat/components/ui/dropdown-menu.tsx\",\n                    lineNumber: 133,\n                    columnNumber: 7\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"/var/www/flask_app/ast_chat/components/ui/dropdown-menu.tsx\",\n                lineNumber: 132,\n                columnNumber: 5\n            }, undefined),\n            children\n        ]\n    }, void 0, true, {\n        fileName: \"/var/www/flask_app/ast_chat/components/ui/dropdown-menu.tsx\",\n        lineNumber: 124,\n        columnNumber: 3\n    }, undefined));\nDropdownMenuRadioItem.displayName = _radix_ui_react_dropdown_menu__WEBPACK_IMPORTED_MODULE_3__.RadioItem.displayName;\nconst DropdownMenuLabel = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(({ className, inset, ...props }, ref)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_radix_ui_react_dropdown_menu__WEBPACK_IMPORTED_MODULE_3__.Label, {\n        ref: ref,\n        className: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.cn)(\"px-2 py-1.5 text-sm font-semibold\", inset && \"pl-8\", className),\n        ...props\n    }, void 0, false, {\n        fileName: \"/var/www/flask_app/ast_chat/components/ui/dropdown-menu.tsx\",\n        lineNumber: 148,\n        columnNumber: 3\n    }, undefined));\nDropdownMenuLabel.displayName = _radix_ui_react_dropdown_menu__WEBPACK_IMPORTED_MODULE_3__.Label.displayName;\nconst DropdownMenuSeparator = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(({ className, ...props }, ref)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_radix_ui_react_dropdown_menu__WEBPACK_IMPORTED_MODULE_3__.Separator, {\n        ref: ref,\n        className: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.cn)(\"-mx-1 my-1 h-px bg-muted\", className),\n        ...props\n    }, void 0, false, {\n        fileName: \"/var/www/flask_app/ast_chat/components/ui/dropdown-menu.tsx\",\n        lineNumber: 164,\n        columnNumber: 3\n    }, undefined));\nDropdownMenuSeparator.displayName = _radix_ui_react_dropdown_menu__WEBPACK_IMPORTED_MODULE_3__.Separator.displayName;\nconst DropdownMenuShortcut = ({ className, ...props })=>{\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n        className: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.cn)(\"ml-auto text-xs tracking-widest opacity-60\", className),\n        ...props\n    }, void 0, false, {\n        fileName: \"/var/www/flask_app/ast_chat/components/ui/dropdown-menu.tsx\",\n        lineNumber: 177,\n        columnNumber: 5\n    }, undefined);\n};\nDropdownMenuShortcut.displayName = \"DropdownMenuShortcut\";\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUNjO2dCQUFLakIsV0FBVTswQkFDZCw0RUFBQ25CLHdFQUFtQzs4QkFDbEMsNEVBQUNHLHFHQUFNQTt3QkFBQ2dCLFdBQVU7Ozs7Ozs7Ozs7Ozs7Ozs7WUFHckJFOzs7Ozs7O0FBR0xpQixzQkFBc0JiLFdBQVcsR0FBR3pCLG9FQUErQixDQUFDeUIsV0FBVztBQUUvRSxNQUFNZSxrQ0FBb0J6Qyw2Q0FBZ0IsQ0FLeEMsQ0FBQyxFQUFFb0IsU0FBUyxFQUFFQyxLQUFLLEVBQUUsR0FBR0UsT0FBTyxFQUFFQyxvQkFDakMsOERBQUN2QixnRUFBMkI7UUFDMUJ1QixLQUFLQTtRQUNMSixXQUFXZiw4Q0FBRUEsQ0FDWCxxQ0FDQWdCLFNBQVMsUUFDVEQ7UUFFRCxHQUFHRyxLQUFLOzs7Ozs7QUFHYmtCLGtCQUFrQmYsV0FBVyxHQUFHekIsZ0VBQTJCLENBQUN5QixXQUFXO0FBRXZFLE1BQU1pQixzQ0FBd0IzQyw2Q0FBZ0IsQ0FHNUMsQ0FBQyxFQUFFb0IsU0FBUyxFQUFFLEdBQUdHLE9BQU8sRUFBRUMsb0JBQzFCLDhEQUFDdkIsb0VBQStCO1FBQzlCdUIsS0FBS0E7UUFDTEosV0FBV2YsOENBQUVBLENBQUMsNEJBQTRCZTtRQUN6QyxHQUFHRyxLQUFLOzs7Ozs7QUFHYm9CLHNCQUFzQmpCLFdBQVcsR0FBR3pCLG9FQUErQixDQUFDeUIsV0FBVztBQUUvRSxNQUFNbUIsdUJBQXVCLENBQUMsRUFDNUJ6QixTQUFTLEVBQ1QsR0FBR0csT0FDbUM7SUFDdEMscUJBQ0UsOERBQUNjO1FBQ0NqQixXQUFXZiw4Q0FBRUEsQ0FBQyw4Q0FBOENlO1FBQzNELEdBQUdHLEtBQUs7Ozs7OztBQUdmO0FBQ0FzQixxQkFBcUJuQixXQUFXLEdBQUc7QUFrQmxDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdmliZWNhcmRpbmcvLi9jb21wb25lbnRzL3VpL2Ryb3Bkb3duLW1lbnUudHN4PzAyNGEiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2UgY2xpZW50XCJcblxuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCAqIGFzIERyb3Bkb3duTWVudVByaW1pdGl2ZSBmcm9tIFwiQHJhZGl4LXVpL3JlYWN0LWRyb3Bkb3duLW1lbnVcIlxuaW1wb3J0IHsgQ2hlY2ssIENoZXZyb25SaWdodCwgQ2lyY2xlIH0gZnJvbSBcImx1Y2lkZS1yZWFjdFwiXG5cbmltcG9ydCB7IGNuIH0gZnJvbSBcIkAvbGliL3V0aWxzXCJcblxuY29uc3QgRHJvcGRvd25NZW51ID0gRHJvcGRvd25NZW51UHJpbWl0aXZlLlJvb3RcblxuY29uc3QgRHJvcGRvd25NZW51VHJpZ2dlciA9IERyb3Bkb3duTWVudVByaW1pdGl2ZS5UcmlnZ2VyXG5cbmNvbnN0IERyb3Bkb3duTWVudUdyb3VwID0gRHJvcGRvd25NZW51UHJpbWl0aXZlLkdyb3VwXG5cbmNvbnN0IERyb3Bkb3duTWVudVBvcnRhbCA9IERyb3Bkb3duTWVudVByaW1pdGl2ZS5Qb3J0YWxcblxuY29uc3QgRHJvcGRvd25NZW51U3ViID0gRHJvcGRvd25NZW51UHJpbWl0aXZlLlN1YlxuXG5jb25zdCBEcm9wZG93bk1lbnVSYWRpb0dyb3VwID0gRHJvcGRvd25NZW51UHJpbWl0aXZlLlJhZGlvR3JvdXBcblxuY29uc3QgRHJvcGRvd25NZW51U3ViVHJpZ2dlciA9IFJlYWN0LmZvcndhcmRSZWY8XG4gIFJlYWN0LkVsZW1lbnRSZWY8dHlwZW9mIERyb3Bkb3duTWVudVByaW1pdGl2ZS5TdWJUcmlnZ2VyPixcbiAgUmVhY3QuQ29tcG9uZW50UHJvcHNXaXRob3V0UmVmPHR5cGVvZiBEcm9wZG93bk1lbnVQcmltaXRpdmUuU3ViVHJpZ2dlcj4gJiB7XG4gICAgaW5zZXQ/OiBib29sZWFuXG4gIH1cbj4oKHsgY2xhc3NOYW1lLCBpbnNldCwgY2hpbGRyZW4sIC4uLnByb3BzIH0sIHJlZikgPT4gKFxuICA8RHJvcGRvd25NZW51UHJpbWl0aXZlLlN1YlRyaWdnZXJcbiAgICByZWY9e3JlZn1cbiAgICBjbGFzc05hbWU9e2NuKFxuICAgICAgXCJmbGV4IGN1cnNvci1kZWZhdWx0IHNlbGVjdC1ub25lIGl0ZW1zLWNlbnRlciBnYXAtMiByb3VuZGVkLXNtIHB4LTIgcHktMS41IHRleHQtc20gb3V0bGluZS1ub25lIGZvY3VzOmJnLWFjY2VudCBkYXRhLVtzdGF0ZT1vcGVuXTpiZy1hY2NlbnQgWyZfc3ZnXTpwb2ludGVyLWV2ZW50cy1ub25lIFsmX3N2Z106c2l6ZS00IFsmX3N2Z106c2hyaW5rLTBcIixcbiAgICAgIGluc2V0ICYmIFwicGwtOFwiLFxuICAgICAgY2xhc3NOYW1lXG4gICAgKX1cbiAgICB7Li4ucHJvcHN9XG4gID5cbiAgICB7Y2hpbGRyZW59XG4gICAgPENoZXZyb25SaWdodCBjbGFzc05hbWU9XCJtbC1hdXRvXCIgLz5cbiAgPC9Ecm9wZG93bk1lbnVQcmltaXRpdmUuU3ViVHJpZ2dlcj5cbikpXG5Ecm9wZG93bk1lbnVTdWJUcmlnZ2VyLmRpc3BsYXlOYW1lID1cbiAgRHJvcGRvd25NZW51UHJpbWl0aXZlLlN1YlRyaWdnZXIuZGlzcGxheU5hbWVcblxuY29uc3QgRHJvcGRvd25NZW51U3ViQ29udGVudCA9IFJlYWN0LmZvcndhcmRSZWY8XG4gIFJlYWN0LkVsZW1lbnRSZWY8dHlwZW9mIERyb3Bkb3duTWVudVByaW1pdGl2ZS5TdWJDb250ZW50PixcbiAgUmVhY3QuQ29tcG9uZW50UHJvcHNXaXRob3V0UmVmPHR5cGVvZiBEcm9wZG93bk1lbnVQcmltaXRpdmUuU3ViQ29udGVudD5cbj4oKHsgY2xhc3NOYW1lLCAuLi5wcm9wcyB9LCByZWYpID0+IChcbiAgPERyb3Bkb3duTWVudVByaW1pdGl2ZS5TdWJDb250ZW50XG4gICAgcmVmPXtyZWZ9XG4gICAgY2xhc3NOYW1lPXtjbihcbiAgICAgIFwiei01MCBtaW4tdy1bOHJlbV0gb3ZlcmZsb3ctaGlkZGVuIHJvdW5kZWQtbWQgYm9yZGVyIGJnLXBvcG92ZXIgcC0xIHRleHQtcG9wb3Zlci1mb3JlZ3JvdW5kIHNoYWRvdy1sZyBkYXRhLVtzdGF0ZT1vcGVuXTphbmltYXRlLWluIGRhdGEtW3N0YXRlPWNsb3NlZF06YW5pbWF0ZS1vdXQgZGF0YS1bc3RhdGU9Y2xvc2VkXTpmYWRlLW91dC0wIGRhdGEtW3N0YXRlPW9wZW5dOmZhZGUtaW4tMCBkYXRhLVtzdGF0ZT1jbG9zZWRdOnpvb20tb3V0LTk1IGRhdGEtW3N0YXRlPW9wZW5dOnpvb20taW4tOTUgZGF0YS1bc2lkZT1ib3R0b21dOnNsaWRlLWluLWZyb20tdG9wLTIgZGF0YS1bc2lkZT1sZWZ0XTpzbGlkZS1pbi1mcm9tLXJpZ2h0LTIgZGF0YS1bc2lkZT1yaWdodF06c2xpZGUtaW4tZnJvbS1sZWZ0LTIgZGF0YS1bc2lkZT10b3BdOnNsaWRlLWluLWZyb20tYm90dG9tLTIgb3JpZ2luLVstLXJhZGl4LWRyb3Bkb3duLW1lbnUtY29udGVudC10cmFuc2Zvcm0tb3JpZ2luXVwiLFxuICAgICAgY2xhc3NOYW1lXG4gICAgKX1cbiAgICB7Li4ucHJvcHN9XG4gIC8+XG4pKVxuRHJvcGRvd25NZW51U3ViQ29udGVudC5kaXNwbGF5TmFtZSA9XG4gIERyb3Bkb3duTWVudVByaW1pdGl2ZS5TdWJDb250ZW50LmRpc3BsYXlOYW1lXG5cbmNvbnN0IERyb3Bkb3duTWVudUNvbnRlbnQgPSBSZWFjdC5mb3J3YXJkUmVmPFxuICBSZWFjdC5FbGVtZW50UmVmPHR5cGVvZiBEcm9wZG93bk1lbnVQcmltaXRpdmUuQ29udGVudD4sXG4gIFJlYWN0LkNvbXBvbmVudFByb3BzV2l0aG91dFJlZjx0eXBlb2YgRHJvcGRvd25NZW51UHJpbWl0aXZlLkNvbnRlbnQ+XG4+KCh7IGNsYXNzTmFtZSwgc2lkZU9mZnNldCA9IDQsIC4uLnByb3BzIH0sIHJlZikgPT4gKFxuICA8RHJvcGRvd25NZW51UHJpbWl0aXZlLlBvcnRhbD5cbiAgICA8RHJvcGRvd25NZW51UHJpbWl0aXZlLkNvbnRlbnRcbiAgICAgIHJlZj17cmVmfVxuICAgICAgc2lkZU9mZnNldD17c2lkZU9mZnNldH1cbiAgICAgIGNsYXNzTmFtZT17Y24oXG4gICAgICAgIFwiei01MCBtYXgtaC1bdmFyKC0tcmFkaXgtZHJvcGRvd24tbWVudS1jb250ZW50LWF2YWlsYWJsZS1oZWlnaHQpXSBtaW4tdy1bOHJlbV0gb3ZlcmZsb3cteS1hdXRvIG92ZXJmbG93LXgtaGlkZGVuIHJvdW5kZWQtbWQgYm9yZGVyIGJnLXBvcG92ZXIgcC0xIHRleHQtcG9wb3Zlci1mb3JlZ3JvdW5kIHNoYWRvdy1tZFwiLFxuICAgICAgICBcImRhdGEtW3N0YXRlPW9wZW5dOmFuaW1hdGUtaW4gZGF0YS1bc3RhdGU9Y2xvc2VkXTphbmltYXRlLW91dCBkYXRhLVtzdGF0ZT1jbG9zZWRdOmZhZGUtb3V0LTAgZGF0YS1bc3RhdGU9b3Blbl06ZmFkZS1pbi0wIGRhdGEtW3N0YXRlPWNsb3NlZF06em9vbS1vdXQtOTUgZGF0YS1bc3RhdGU9b3Blbl06em9vbS1pbi05NSBkYXRhLVtzaWRlPWJvdHRvbV06c2xpZGUtaW4tZnJvbS10b3AtMiBkYXRhLVtzaWRlPWxlZnRdOnNsaWRlLWluLWZyb20tcmlnaHQtMiBkYXRhLVtzaWRlPXJpZ2h0XTpzbGlkZS1pbi1mcm9tLWxlZnQtMiBkYXRhLVtzaWRlPXRvcF06c2xpZGUtaW4tZnJvbS1ib3R0b20tMiBvcmlnaW4tWy0tcmFkaXgtZHJvcGRvd24tbWVudS1jb250ZW50LXRyYW5zZm9ybS1vcmlnaW5dXCIsXG4gICAgICAgIGNsYXNzTmFtZVxuICAgICAgKX1cbiAgICAgIHsuLi5wcm9wc31cbiAgICAvPlxuICA8L0Ryb3Bkb3duTWVudVByaW1pdGl2ZS5Qb3J0YWw+XG4pKVxuRHJvcGRvd25NZW51Q29udGVudC5kaXNwbGF5TmFtZSA9IERyb3Bkb3duTWVudVByaW1pdGl2ZS5Db250ZW50LmRpc3BsYXlOYW1lXG5cbmNvbnN0IERyb3Bkb3duTWVudUl0ZW0gPSBSZWFjdC5mb3J3YXJkUmVmPFxuICBSZWFjdC5FbGVtZW50UmVmPHR5cGVvZiBEcm9wZG93bk1lbnVQcmltaXRpdmUuSXRlbT4sXG4gIFJlYWN0LkNvbXBvbmVudFByb3BzV2l0aG91dFJlZjx0eXBlb2YgRHJvcGRvd25NZW51UHJpbWl0aXZlLkl0ZW0+ICYge1xuICAgIGluc2V0PzogYm9vbGVhblxuICB9XG4+KCh7IGNsYXNzTmFtZSwgaW5zZXQsIC4uLnByb3BzIH0sIHJlZikgPT4gKFxuICA8RHJvcGRvd25NZW51UHJpbWl0aXZlLkl0ZW1cbiAgICByZWY9e3JlZn1cbiAgICBjbGFzc05hbWU9e2NuKFxuICAgICAgXCJyZWxhdGl2ZSBmbGV4IGN1cnNvci1kZWZhdWx0IHNlbGVjdC1ub25lIGl0ZW1zLWNlbnRlciBnYXAtMiByb3VuZGVkLXNtIHB4LTIgcHktMS41IHRleHQtc20gb3V0bGluZS1ub25lIHRyYW5zaXRpb24tY29sb3JzIGZvY3VzOmJnLWFjY2VudCBmb2N1czp0ZXh0LWFjY2VudC1mb3JlZ3JvdW5kIGRhdGEtW2Rpc2FibGVkXTpwb2ludGVyLWV2ZW50cy1ub25lIGRhdGEtW2Rpc2FibGVkXTpvcGFjaXR5LTUwIFsmPnN2Z106c2l6ZS00IFsmPnN2Z106c2hyaW5rLTBcIixcbiAgICAgIGluc2V0ICYmIFwicGwtOFwiLFxuICAgICAgY2xhc3NOYW1lXG4gICAgKX1cbiAgICB7Li4ucHJvcHN9XG4gIC8+XG4pKVxuRHJvcGRvd25NZW51SXRlbS5kaXNwbGF5TmFtZSA9IERyb3Bkb3duTWVudVByaW1pdGl2ZS5JdGVtLmRpc3BsYXlOYW1lXG5cbmNvbnN0IERyb3Bkb3duTWVudUNoZWNrYm94SXRlbSA9IFJlYWN0LmZvcndhcmRSZWY8XG4gIFJlYWN0LkVsZW1lbnRSZWY8dHlwZW9mIERyb3Bkb3duTWVudVByaW1pdGl2ZS5DaGVja2JveEl0ZW0+LFxuICBSZWFjdC5Db21wb25lbnRQcm9wc1dpdGhvdXRSZWY8dHlwZW9mIERyb3Bkb3duTWVudVByaW1pdGl2ZS5DaGVja2JveEl0ZW0+XG4+KCh7IGNsYXNzTmFtZSwgY2hpbGRyZW4sIGNoZWNrZWQsIC4uLnByb3BzIH0sIHJlZikgPT4gKFxuICA8RHJvcGRvd25NZW51UHJpbWl0aXZlLkNoZWNrYm94SXRlbVxuICAgIHJlZj17cmVmfVxuICAgIGNsYXNzTmFtZT17Y24oXG4gICAgICBcInJlbGF0aXZlIGZsZXggY3Vyc29yLWRlZmF1bHQgc2VsZWN0LW5vbmUgaXRlbXMtY2VudGVyIHJvdW5kZWQtc20gcHktMS41IHBsLTggcHItMiB0ZXh0LXNtIG91dGxpbmUtbm9uZSB0cmFuc2l0aW9uLWNvbG9ycyBmb2N1czpiZy1hY2NlbnQgZm9jdXM6dGV4dC1hY2NlbnQtZm9yZWdyb3VuZCBkYXRhLVtkaXNhYmxlZF06cG9pbnRlci1ldmVudHMtbm9uZSBkYXRhLVtkaXNhYmxlZF06b3BhY2l0eS01MFwiLFxuICAgICAgY2xhc3NOYW1lXG4gICAgKX1cbiAgICBjaGVja2VkPXtjaGVja2VkfVxuICAgIHsuLi5wcm9wc31cbiAgPlxuICAgIDxzcGFuIGNsYXNzTmFtZT1cImFic29sdXRlIGxlZnQtMiBmbGV4IGgtMy41IHctMy41IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiPlxuICAgICAgPERyb3Bkb3duTWVudVByaW1pdGl2ZS5JdGVtSW5kaWNhdG9yPlxuICAgICAgICA8Q2hlY2sgY2xhc3NOYW1lPVwiaC00IHctNFwiIC8+XG4gICAgICA8L0Ryb3Bkb3duTWVudVByaW1pdGl2ZS5JdGVtSW5kaWNhdG9yPlxuICAgIDwvc3Bhbj5cbiAgICB7Y2hpbGRyZW59XG4gIDwvRHJvcGRvd25NZW51UHJpbWl0aXZlLkNoZWNrYm94SXRlbT5cbikpXG5Ecm9wZG93bk1lbnVDaGVja2JveEl0ZW0uZGlzcGxheU5hbWUgPVxuICBEcm9wZG93bk1lbnVQcmltaXRpdmUuQ2hlY2tib3hJdGVtLmRpc3BsYXlOYW1lXG5cbmNvbnN0IERyb3Bkb3duTWVudVJhZGlvSXRlbSA9IFJlYWN0LmZvcndhcmRSZWY8XG4gIFJlYWN0LkVsZW1lbnRSZWY8dHlwZW9mIERyb3Bkb3duTWVudVByaW1pdGl2ZS5SYWRpb0l0ZW0+LFxuICBSZWFjdC5Db21wb25lbnRQcm9wc1dpdGhvdXRSZWY8dHlwZW9mIERyb3Bkb3duTWVudVByaW1pdGl2ZS5SYWRpb0l0ZW0+XG4+KCh7IGNsYXNzTmFtZSwgY2hpbGRyZW4sIC4uLnByb3BzIH0sIHJlZikgPT4gKFxuICA8RHJvcGRvd25NZW51UHJpbWl0aXZlLlJhZGlvSXRlbVxuICAgIHJlZj17cmVmfVxuICAgIGNsYXNzTmFtZT17Y24oXG4gICAgICBcInJlbGF0aXZlIGZsZXggY3Vyc29yLWRlZmF1bHQgc2VsZWN0LW5vbmUgaXRlbXMtY2VudGVyIHJvdW5kZWQtc20gcHktMS41IHBsLTggcHItMiB0ZXh0LXNtIG91dGxpbmUtbm9uZSB0cmFuc2l0aW9uLWNvbG9ycyBmb2N1czpiZy1hY2NlbnQgZm9jdXM6dGV4dC1hY2NlbnQtZm9yZWdyb3VuZCBkYXRhLVtkaXNhYmxlZF06cG9pbnRlci1ldmVudHMtbm9uZSBkYXRhLVtkaXNhYmxlZF06b3BhY2l0eS01MFwiLFxuICAgICAgY2xhc3NOYW1lXG4gICAgKX1cbiAgICB7Li4ucHJvcHN9XG4gID5cbiAgICA8c3BhbiBjbGFzc05hbWU9XCJhYnNvbHV0ZSBsZWZ0LTIgZmxleCBoLTMuNSB3LTMuNSBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIj5cbiAgICAgIDxEcm9wZG93bk1lbnVQcmltaXRpdmUuSXRlbUluZGljYXRvcj5cbiAgICAgICAgPENpcmNsZSBjbGFzc05hbWU9XCJoLTIgdy0yIGZpbGwtY3VycmVudFwiIC8+XG4gICAgICA8L0Ryb3Bkb3duTWVudVByaW1pdGl2ZS5JdGVtSW5kaWNhdG9yPlxuICAgIDwvc3Bhbj5cbiAgICB7Y2hpbGRyZW59XG4gIDwvRHJvcGRvd25NZW51UHJpbWl0aXZlLlJhZGlvSXRlbT5cbikpXG5Ecm9wZG93bk1lbnVSYWRpb0l0ZW0uZGlzcGxheU5hbWUgPSBEcm9wZG93bk1lbnVQcmltaXRpdmUuUmFkaW9JdGVtLmRpc3BsYXlOYW1lXG5cbmNvbnN0IERyb3Bkb3duTWVudUxhYmVsID0gUmVhY3QuZm9yd2FyZFJlZjxcbiAgUmVhY3QuRWxlbWVudFJlZjx0eXBlb2YgRHJvcGRvd25NZW51UHJpbWl0aXZlLkxhYmVsPixcbiAgUmVhY3QuQ29tcG9uZW50UHJvcHNXaXRob3V0UmVmPHR5cGVvZiBEcm9wZG93bk1lbnVQcmltaXRpdmUuTGFiZWw+ICYge1xuICAgIGluc2V0PzogYm9vbGVhblxuICB9XG4+KCh7IGNsYXNzTmFtZSwgaW5zZXQsIC4uLnByb3BzIH0sIHJlZikgPT4gKFxuICA8RHJvcGRvd25NZW51UHJpbWl0aXZlLkxhYmVsXG4gICAgcmVmPXtyZWZ9XG4gICAgY2xhc3NOYW1lPXtjbihcbiAgICAgIFwicHgtMiBweS0xLjUgdGV4dC1zbSBmb250LXNlbWlib2xkXCIsXG4gICAgICBpbnNldCAmJiBcInBsLThcIixcbiAgICAgIGNsYXNzTmFtZVxuICAgICl9XG4gICAgey4uLnByb3BzfVxuICAvPlxuKSlcbkRyb3Bkb3duTWVudUxhYmVsLmRpc3BsYXlOYW1lID0gRHJvcGRvd25NZW51UHJpbWl0aXZlLkxhYmVsLmRpc3BsYXlOYW1lXG5cbmNvbnN0IERyb3Bkb3duTWVudVNlcGFyYXRvciA9IFJlYWN0LmZvcndhcmRSZWY8XG4gIFJlYWN0LkVsZW1lbnRSZWY8dHlwZW9mIERyb3Bkb3duTWVudVByaW1pdGl2ZS5TZXBhcmF0b3I+LFxuICBSZWFjdC5Db21wb25lbnRQcm9wc1dpdGhvdXRSZWY8dHlwZW9mIERyb3Bkb3duTWVudVByaW1pdGl2ZS5TZXBhcmF0b3I+XG4+KCh7IGNsYXNzTmFtZSwgLi4ucHJvcHMgfSwgcmVmKSA9PiAoXG4gIDxEcm9wZG93bk1lbnVQcmltaXRpdmUuU2VwYXJhdG9yXG4gICAgcmVmPXtyZWZ9XG4gICAgY2xhc3NOYW1lPXtjbihcIi1teC0xIG15LTEgaC1weCBiZy1tdXRlZFwiLCBjbGFzc05hbWUpfVxuICAgIHsuLi5wcm9wc31cbiAgLz5cbikpXG5Ecm9wZG93bk1lbnVTZXBhcmF0b3IuZGlzcGxheU5hbWUgPSBEcm9wZG93bk1lbnVQcmltaXRpdmUuU2VwYXJhdG9yLmRpc3BsYXlOYW1lXG5cbmNvbnN0IERyb3Bkb3duTWVudVNob3J0Y3V0ID0gKHtcbiAgY2xhc3NOYW1lLFxuICAuLi5wcm9wc1xufTogUmVhY3QuSFRNTEF0dHJpYnV0ZXM8SFRNTFNwYW5FbGVtZW50PikgPT4ge1xuICByZXR1cm4gKFxuICAgIDxzcGFuXG4gICAgICBjbGFzc05hbWU9e2NuKFwibWwtYXV0byB0ZXh0LXhzIHRyYWNraW5nLXdpZGVzdCBvcGFjaXR5LTYwXCIsIGNsYXNzTmFtZSl9XG4gICAgICB7Li4ucHJvcHN9XG4gICAgLz5cbiAgKVxufVxuRHJvcGRvd25NZW51U2hvcnRjdXQuZGlzcGxheU5hbWUgPSBcIkRyb3Bkb3duTWVudVNob3J0Y3V0XCJcblxuZXhwb3J0IHtcbiAgRHJvcGRvd25NZW51LFxuICBEcm9wZG93bk1lbnVUcmlnZ2VyLFxuICBEcm9wZG93bk1lbnVDb250ZW50LFxuICBEcm9wZG93bk1lbnVJdGVtLFxuICBEcm9wZG93bk1lbnVDaGVja2JveEl0ZW0sXG4gIERyb3Bkb3duTWVudVJhZGlvSXRlbSxcbiAgRHJvcGRvd25NZW51TGFiZWwsXG4gIERyb3Bkb3duTWVudVNlcGFyYXRvcixcbiAgRHJvcGRvd25NZW51U2hvcnRjdXQsXG4gIERyb3Bkb3duTWVudUdyb3VwLFxuICBEcm9wZG93bk1lbnVQb3J0YWwsXG4gIERyb3Bkb3duTWVudVN1YixcbiAgRHJvcGRvd25NZW51U3ViQ29udGVudCxcbiAgRHJvcGRvd25NZW51U3ViVHJpZ2dlcixcbiAgRHJvcGRvd25NZW51UmFkaW9Hcm91cCxcbn1cbiJdLCJuYW1lcyI6WyJSZWFjdCIsIkRyb3Bkb3duTWVudVByaW1pdGl2ZSIsIkNoZWNrIiwiQ2hldnJvblJpZ2h0IiwiQ2lyY2xlIiwiY24iLCJEcm9wZG93bk1lbnUiLCJSb290IiwiRHJvcGRvd25NZW51VHJpZ2dlciIsIlRyaWdnZXIiLCJEcm9wZG93bk1lbnVHcm91cCIsIkdyb3VwIiwiRHJvcGRvd25NZW51UG9ydGFsIiwiUG9ydGFsIiwiRHJvcGRvd25NZW51U3ViIiwiU3ViIiwiRHJvcGRvd25NZW51UmFkaW9Hcm91cCIsIlJhZGlvR3JvdXAiLCJEcm9wZG93bk1lbnVTdWJUcmlnZ2VyIiwiZm9yd2FyZFJlZiIsImNsYXNzTmFtZSIsImluc2V0IiwiY2hpbGRyZW4iLCJwcm9wcyIsInJlZiIsIlN1YlRyaWdnZXIiLCJkaXNwbGF5TmFtZSIsIkRyb3Bkb3duTWVudVN1YkNvbnRlbnQiLCJTdWJDb250ZW50IiwiRHJvcGRvd25NZW51Q29udGVudCIsInNpZGVPZmZzZXQiLCJDb250ZW50IiwiRHJvcGRvd25NZW51SXRlbSIsIkl0ZW0iLCJEcm9wZG93bk1lbnVDaGVja2JveEl0ZW0iLCJjaGVja2VkIiwiQ2hlY2tib3hJdGVtIiwic3BhbiIsIkl0ZW1JbmRpY2F0b3IiLCJEcm9wZG93bk1lbnVSYWRpb0l0ZW0iLCJSYWRpb0l0ZW0iLCJEcm9wZG93bk1lbnVMYWJlbCIsIkxhYmVsIiwiRHJvcGRvd25NZW51U2VwYXJhdG9yIiwiU2VwYXJhdG9yIiwiRHJvcGRvd25NZW51U2hvcnRjdXQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./components/ui/dropdown-menu.tsx\n");

/***/ }),

/***/ "(ssr)/./components/ui/input.tsx":
/*!*********************************!*\
  !*** ./components/ui/input.tsx ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Input: () => (/* binding */ Input)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _lib_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/utils */ \"(ssr)/./lib/utils.ts\");\n\n\n\nconst Input = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(({ className, type, ...props }, ref)=>{\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n        type: type,\n        className: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.cn)(\"flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\", className),\n        ref: ref,\n        ...props\n    }, void 0, false, {\n        fileName: \"/var/www/flask_app/ast_chat/components/ui/input.tsx\",\n        lineNumber: 8,\n        columnNumber: 7\n    }, undefined);\n});\nInput.displayName = \"Input\";\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9jb21wb25lbnRzL3VpL2lucHV0LnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQThCO0FBRUU7QUFFaEMsTUFBTUUsc0JBQVFGLDZDQUFnQixDQUM1QixDQUFDLEVBQUVJLFNBQVMsRUFBRUMsSUFBSSxFQUFFLEdBQUdDLE9BQU8sRUFBRUM7SUFDOUIscUJBQ0UsOERBQUNDO1FBQ0NILE1BQU1BO1FBQ05ELFdBQVdILDhDQUFFQSxDQUNYLDJXQUNBRztRQUVGRyxLQUFLQTtRQUNKLEdBQUdELEtBQUs7Ozs7OztBQUdmO0FBRUZKLE1BQU1PLFdBQVcsR0FBRztBQUVKIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdmliZWNhcmRpbmcvLi9jb21wb25lbnRzL3VpL2lucHV0LnRzeD9kYTc5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIFJlYWN0IGZyb20gXCJyZWFjdFwiXG5cbmltcG9ydCB7IGNuIH0gZnJvbSBcIkAvbGliL3V0aWxzXCJcblxuY29uc3QgSW5wdXQgPSBSZWFjdC5mb3J3YXJkUmVmPEhUTUxJbnB1dEVsZW1lbnQsIFJlYWN0LkNvbXBvbmVudFByb3BzPFwiaW5wdXRcIj4+KFxuICAoeyBjbGFzc05hbWUsIHR5cGUsIC4uLnByb3BzIH0sIHJlZikgPT4ge1xuICAgIHJldHVybiAoXG4gICAgICA8aW5wdXRcbiAgICAgICAgdHlwZT17dHlwZX1cbiAgICAgICAgY2xhc3NOYW1lPXtjbihcbiAgICAgICAgICBcImZsZXggaC05IHctZnVsbCByb3VuZGVkLW1kIGJvcmRlciBib3JkZXItaW5wdXQgYmctdHJhbnNwYXJlbnQgcHgtMyBweS0xIHRleHQtYmFzZSBzaGFkb3ctc20gdHJhbnNpdGlvbi1jb2xvcnMgZmlsZTpib3JkZXItMCBmaWxlOmJnLXRyYW5zcGFyZW50IGZpbGU6dGV4dC1zbSBmaWxlOmZvbnQtbWVkaXVtIGZpbGU6dGV4dC1mb3JlZ3JvdW5kIHBsYWNlaG9sZGVyOnRleHQtbXV0ZWQtZm9yZWdyb3VuZCBmb2N1cy12aXNpYmxlOm91dGxpbmUtbm9uZSBmb2N1cy12aXNpYmxlOnJpbmctMSBmb2N1cy12aXNpYmxlOnJpbmctcmluZyBkaXNhYmxlZDpjdXJzb3Itbm90LWFsbG93ZWQgZGlzYWJsZWQ6b3BhY2l0eS01MCBtZDp0ZXh0LXNtXCIsXG4gICAgICAgICAgY2xhc3NOYW1lXG4gICAgICAgICl9XG4gICAgICAgIHJlZj17cmVmfVxuICAgICAgICB7Li4ucHJvcHN9XG4gICAgICAvPlxuICAgIClcbiAgfVxuKVxuSW5wdXQuZGlzcGxheU5hbWUgPSBcIklucHV0XCJcblxuZXhwb3J0IHsgSW5wdXQgfVxuIl0sIm5hbWVzIjpbIlJlYWN0IiwiY24iLCJJbnB1dCIsImZvcndhcmRSZWYiLCJjbGFzc05hbWUiLCJ0eXBlIiwicHJvcHMiLCJyZWYiLCJpbnB1dCIsImRpc3BsYXlOYW1lIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./components/ui/input.tsx\n");

/***/ }),

/***/ "(ssr)/./components/ui/progress.tsx":
/*!************************************!*\
  !*** ./components/ui/progress.tsx ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Progress: () => (/* binding */ Progress)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _radix_ui_react_progress__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @radix-ui/react-progress */ \"(ssr)/./node_modules/@radix-ui/react-progress/dist/index.mjs\");\n/* harmony import */ var _lib_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/utils */ \"(ssr)/./lib/utils.ts\");\n/* __next_internal_client_entry_do_not_use__ Progress auto */ \n\n\n\nconst Progress = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(({ className, value, ...props }, ref)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_radix_ui_react_progress__WEBPACK_IMPORTED_MODULE_3__.Root, {\n        ref: ref,\n        className: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.cn)(\"relative h-2 w-full overflow-hidden rounded-full bg-primary/20\", className),\n        ...props,\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_radix_ui_react_progress__WEBPACK_IMPORTED_MODULE_3__.Indicator, {\n            className: \"h-full w-full flex-1 bg-primary transition-all\",\n            style: {\n                transform: `translateX(-${100 - (value || 0)}%)`\n            }\n        }, void 0, false, {\n            fileName: \"/var/www/flask_app/ast_chat/components/ui/progress.tsx\",\n            lineNumber: 20,\n            columnNumber: 5\n        }, undefined)\n    }, void 0, false, {\n        fileName: \"/var/www/flask_app/ast_chat/components/ui/progress.tsx\",\n        lineNumber: 12,\n        columnNumber: 3\n    }, undefined));\nProgress.displayName = _radix_ui_react_progress__WEBPACK_IMPORTED_MODULE_3__.Root.displayName;\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9jb21wb25lbnRzL3VpL3Byb2dyZXNzLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUU4QjtBQUMrQjtBQUU3QjtBQUVoQyxNQUFNRyx5QkFBV0gsNkNBQWdCLENBRy9CLENBQUMsRUFBRUssU0FBUyxFQUFFQyxLQUFLLEVBQUUsR0FBR0MsT0FBTyxFQUFFQyxvQkFDakMsOERBQUNQLDBEQUFzQjtRQUNyQk8sS0FBS0E7UUFDTEgsV0FBV0gsOENBQUVBLENBQ1gsa0VBQ0FHO1FBRUQsR0FBR0UsS0FBSztrQkFFVCw0RUFBQ04sK0RBQTJCO1lBQzFCSSxXQUFVO1lBQ1ZNLE9BQU87Z0JBQUVDLFdBQVcsQ0FBQyxZQUFZLEVBQUUsTUFBT04sQ0FBQUEsU0FBUyxHQUFHLEVBQUUsQ0FBQztZQUFDOzs7Ozs7Ozs7OztBQUloRUgsU0FBU1UsV0FBVyxHQUFHWiwwREFBc0IsQ0FBQ1ksV0FBVztBQUV0QyIsInNvdXJjZXMiOlsid2VicGFjazovL3ZpYmVjYXJkaW5nLy4vY29tcG9uZW50cy91aS9wcm9ncmVzcy50c3g/OGE3OCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIlxuXG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tIFwicmVhY3RcIlxuaW1wb3J0ICogYXMgUHJvZ3Jlc3NQcmltaXRpdmUgZnJvbSBcIkByYWRpeC11aS9yZWFjdC1wcm9ncmVzc1wiXG5cbmltcG9ydCB7IGNuIH0gZnJvbSBcIkAvbGliL3V0aWxzXCJcblxuY29uc3QgUHJvZ3Jlc3MgPSBSZWFjdC5mb3J3YXJkUmVmPFxuICBSZWFjdC5FbGVtZW50UmVmPHR5cGVvZiBQcm9ncmVzc1ByaW1pdGl2ZS5Sb290PixcbiAgUmVhY3QuQ29tcG9uZW50UHJvcHNXaXRob3V0UmVmPHR5cGVvZiBQcm9ncmVzc1ByaW1pdGl2ZS5Sb290PlxuPigoeyBjbGFzc05hbWUsIHZhbHVlLCAuLi5wcm9wcyB9LCByZWYpID0+IChcbiAgPFByb2dyZXNzUHJpbWl0aXZlLlJvb3RcbiAgICByZWY9e3JlZn1cbiAgICBjbGFzc05hbWU9e2NuKFxuICAgICAgXCJyZWxhdGl2ZSBoLTIgdy1mdWxsIG92ZXJmbG93LWhpZGRlbiByb3VuZGVkLWZ1bGwgYmctcHJpbWFyeS8yMFwiLFxuICAgICAgY2xhc3NOYW1lXG4gICAgKX1cbiAgICB7Li4ucHJvcHN9XG4gID5cbiAgICA8UHJvZ3Jlc3NQcmltaXRpdmUuSW5kaWNhdG9yXG4gICAgICBjbGFzc05hbWU9XCJoLWZ1bGwgdy1mdWxsIGZsZXgtMSBiZy1wcmltYXJ5IHRyYW5zaXRpb24tYWxsXCJcbiAgICAgIHN0eWxlPXt7IHRyYW5zZm9ybTogYHRyYW5zbGF0ZVgoLSR7MTAwIC0gKHZhbHVlIHx8IDApfSUpYCB9fVxuICAgIC8+XG4gIDwvUHJvZ3Jlc3NQcmltaXRpdmUuUm9vdD5cbikpXG5Qcm9ncmVzcy5kaXNwbGF5TmFtZSA9IFByb2dyZXNzUHJpbWl0aXZlLlJvb3QuZGlzcGxheU5hbWVcblxuZXhwb3J0IHsgUHJvZ3Jlc3MgfVxuIl0sIm5hbWVzIjpbIlJlYWN0IiwiUHJvZ3Jlc3NQcmltaXRpdmUiLCJjbiIsIlByb2dyZXNzIiwiZm9yd2FyZFJlZiIsImNsYXNzTmFtZSIsInZhbHVlIiwicHJvcHMiLCJyZWYiLCJSb290IiwiSW5kaWNhdG9yIiwic3R5bGUiLCJ0cmFuc2Zvcm0iLCJkaXNwbGF5TmFtZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./components/ui/progress.tsx\n");

/***/ }),

/***/ "(ssr)/./components/ui/scroll-area.tsx":
/*!***************************************!*\
  !*** ./components/ui/scroll-area.tsx ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ScrollArea: () => (/* binding */ ScrollArea),\n/* harmony export */   ScrollBar: () => (/* binding */ ScrollBar)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _radix_ui_react_scroll_area__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @radix-ui/react-scroll-area */ \"(ssr)/./node_modules/@radix-ui/react-scroll-area/dist/index.mjs\");\n/* harmony import */ var _lib_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/utils */ \"(ssr)/./lib/utils.ts\");\n/* __next_internal_client_entry_do_not_use__ ScrollArea,ScrollBar auto */ \n\n\n\nconst ScrollArea = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(({ className, children, ...props }, ref)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_radix_ui_react_scroll_area__WEBPACK_IMPORTED_MODULE_3__.Root, {\n        ref: ref,\n        className: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.cn)(\"relative overflow-hidden\", className),\n        ...props,\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_radix_ui_react_scroll_area__WEBPACK_IMPORTED_MODULE_3__.Viewport, {\n                className: \"h-full w-full rounded-[inherit]\",\n                children: children\n            }, void 0, false, {\n                fileName: \"/var/www/flask_app/ast_chat/components/ui/scroll-area.tsx\",\n                lineNumber: 17,\n                columnNumber: 5\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ScrollBar, {}, void 0, false, {\n                fileName: \"/var/www/flask_app/ast_chat/components/ui/scroll-area.tsx\",\n                lineNumber: 20,\n                columnNumber: 5\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_radix_ui_react_scroll_area__WEBPACK_IMPORTED_MODULE_3__.Corner, {}, void 0, false, {\n                fileName: \"/var/www/flask_app/ast_chat/components/ui/scroll-area.tsx\",\n                lineNumber: 21,\n                columnNumber: 5\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/var/www/flask_app/ast_chat/components/ui/scroll-area.tsx\",\n        lineNumber: 12,\n        columnNumber: 3\n    }, undefined));\nScrollArea.displayName = _radix_ui_react_scroll_area__WEBPACK_IMPORTED_MODULE_3__.Root.displayName;\nconst ScrollBar = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(({ className, orientation = \"vertical\", ...props }, ref)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_radix_ui_react_scroll_area__WEBPACK_IMPORTED_MODULE_3__.ScrollAreaScrollbar, {\n        ref: ref,\n        orientation: orientation,\n        className: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.cn)(\"flex touch-none select-none transition-colors\", orientation === \"vertical\" && \"h-full w-2.5 border-l border-l-transparent p-[1px]\", orientation === \"horizontal\" && \"h-2.5 flex-col border-t border-t-transparent p-[1px]\", className),\n        ...props,\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_radix_ui_react_scroll_area__WEBPACK_IMPORTED_MODULE_3__.ScrollAreaThumb, {\n            className: \"relative flex-1 rounded-full bg-border\"\n        }, void 0, false, {\n            fileName: \"/var/www/flask_app/ast_chat/components/ui/scroll-area.tsx\",\n            lineNumber: 43,\n            columnNumber: 5\n        }, undefined)\n    }, void 0, false, {\n        fileName: \"/var/www/flask_app/ast_chat/components/ui/scroll-area.tsx\",\n        lineNumber: 30,\n        columnNumber: 3\n    }, undefined));\nScrollBar.displayName = _radix_ui_react_scroll_area__WEBPACK_IMPORTED_MODULE_3__.ScrollAreaScrollbar.displayName;\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9jb21wb25lbnRzL3VpL3Njcm9sbC1hcmVhLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFFOEI7QUFDb0M7QUFFbEM7QUFFaEMsTUFBTUcsMkJBQWFILDZDQUFnQixDQUdqQyxDQUFDLEVBQUVLLFNBQVMsRUFBRUMsUUFBUSxFQUFFLEdBQUdDLE9BQU8sRUFBRUMsb0JBQ3BDLDhEQUFDUCw2REFBd0I7UUFDdkJPLEtBQUtBO1FBQ0xILFdBQVdILDhDQUFFQSxDQUFDLDRCQUE0Qkc7UUFDekMsR0FBR0UsS0FBSzs7MEJBRVQsOERBQUNOLGlFQUE0QjtnQkFBQ0ksV0FBVTswQkFDckNDOzs7Ozs7MEJBRUgsOERBQUNLOzs7OzswQkFDRCw4REFBQ1YsK0RBQTBCOzs7Ozs7Ozs7OztBQUcvQkUsV0FBV1UsV0FBVyxHQUFHWiw2REFBd0IsQ0FBQ1ksV0FBVztBQUU3RCxNQUFNRiwwQkFBWVgsNkNBQWdCLENBR2hDLENBQUMsRUFBRUssU0FBUyxFQUFFUyxjQUFjLFVBQVUsRUFBRSxHQUFHUCxPQUFPLEVBQUVDLG9CQUNwRCw4REFBQ1AsNEVBQXVDO1FBQ3RDTyxLQUFLQTtRQUNMTSxhQUFhQTtRQUNiVCxXQUFXSCw4Q0FBRUEsQ0FDWCxpREFDQVksZ0JBQWdCLGNBQ2Qsc0RBQ0ZBLGdCQUFnQixnQkFDZCx3REFDRlQ7UUFFRCxHQUFHRSxLQUFLO2tCQUVULDRFQUFDTix3RUFBbUM7WUFBQ0ksV0FBVTs7Ozs7Ozs7Ozs7QUFHbkRNLFVBQVVFLFdBQVcsR0FBR1osNEVBQXVDLENBQUNZLFdBQVc7QUFFM0MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92aWJlY2FyZGluZy8uL2NvbXBvbmVudHMvdWkvc2Nyb2xsLWFyZWEudHN4Pzg5ZWYiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2UgY2xpZW50XCJcblxuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSBcInJlYWN0XCJcbmltcG9ydCAqIGFzIFNjcm9sbEFyZWFQcmltaXRpdmUgZnJvbSBcIkByYWRpeC11aS9yZWFjdC1zY3JvbGwtYXJlYVwiXG5cbmltcG9ydCB7IGNuIH0gZnJvbSBcIkAvbGliL3V0aWxzXCJcblxuY29uc3QgU2Nyb2xsQXJlYSA9IFJlYWN0LmZvcndhcmRSZWY8XG4gIFJlYWN0LkVsZW1lbnRSZWY8dHlwZW9mIFNjcm9sbEFyZWFQcmltaXRpdmUuUm9vdD4sXG4gIFJlYWN0LkNvbXBvbmVudFByb3BzV2l0aG91dFJlZjx0eXBlb2YgU2Nyb2xsQXJlYVByaW1pdGl2ZS5Sb290PlxuPigoeyBjbGFzc05hbWUsIGNoaWxkcmVuLCAuLi5wcm9wcyB9LCByZWYpID0+IChcbiAgPFNjcm9sbEFyZWFQcmltaXRpdmUuUm9vdFxuICAgIHJlZj17cmVmfVxuICAgIGNsYXNzTmFtZT17Y24oXCJyZWxhdGl2ZSBvdmVyZmxvdy1oaWRkZW5cIiwgY2xhc3NOYW1lKX1cbiAgICB7Li4ucHJvcHN9XG4gID5cbiAgICA8U2Nyb2xsQXJlYVByaW1pdGl2ZS5WaWV3cG9ydCBjbGFzc05hbWU9XCJoLWZ1bGwgdy1mdWxsIHJvdW5kZWQtW2luaGVyaXRdXCI+XG4gICAgICB7Y2hpbGRyZW59XG4gICAgPC9TY3JvbGxBcmVhUHJpbWl0aXZlLlZpZXdwb3J0PlxuICAgIDxTY3JvbGxCYXIgLz5cbiAgICA8U2Nyb2xsQXJlYVByaW1pdGl2ZS5Db3JuZXIgLz5cbiAgPC9TY3JvbGxBcmVhUHJpbWl0aXZlLlJvb3Q+XG4pKVxuU2Nyb2xsQXJlYS5kaXNwbGF5TmFtZSA9IFNjcm9sbEFyZWFQcmltaXRpdmUuUm9vdC5kaXNwbGF5TmFtZVxuXG5jb25zdCBTY3JvbGxCYXIgPSBSZWFjdC5mb3J3YXJkUmVmPFxuICBSZWFjdC5FbGVtZW50UmVmPHR5cGVvZiBTY3JvbGxBcmVhUHJpbWl0aXZlLlNjcm9sbEFyZWFTY3JvbGxiYXI+LFxuICBSZWFjdC5Db21wb25lbnRQcm9wc1dpdGhvdXRSZWY8dHlwZW9mIFNjcm9sbEFyZWFQcmltaXRpdmUuU2Nyb2xsQXJlYVNjcm9sbGJhcj5cbj4oKHsgY2xhc3NOYW1lLCBvcmllbnRhdGlvbiA9IFwidmVydGljYWxcIiwgLi4ucHJvcHMgfSwgcmVmKSA9PiAoXG4gIDxTY3JvbGxBcmVhUHJpbWl0aXZlLlNjcm9sbEFyZWFTY3JvbGxiYXJcbiAgICByZWY9e3JlZn1cbiAgICBvcmllbnRhdGlvbj17b3JpZW50YXRpb259XG4gICAgY2xhc3NOYW1lPXtjbihcbiAgICAgIFwiZmxleCB0b3VjaC1ub25lIHNlbGVjdC1ub25lIHRyYW5zaXRpb24tY29sb3JzXCIsXG4gICAgICBvcmllbnRhdGlvbiA9PT0gXCJ2ZXJ0aWNhbFwiICYmXG4gICAgICAgIFwiaC1mdWxsIHctMi41IGJvcmRlci1sIGJvcmRlci1sLXRyYW5zcGFyZW50IHAtWzFweF1cIixcbiAgICAgIG9yaWVudGF0aW9uID09PSBcImhvcml6b250YWxcIiAmJlxuICAgICAgICBcImgtMi41IGZsZXgtY29sIGJvcmRlci10IGJvcmRlci10LXRyYW5zcGFyZW50IHAtWzFweF1cIixcbiAgICAgIGNsYXNzTmFtZVxuICAgICl9XG4gICAgey4uLnByb3BzfVxuICA+XG4gICAgPFNjcm9sbEFyZWFQcmltaXRpdmUuU2Nyb2xsQXJlYVRodW1iIGNsYXNzTmFtZT1cInJlbGF0aXZlIGZsZXgtMSByb3VuZGVkLWZ1bGwgYmctYm9yZGVyXCIgLz5cbiAgPC9TY3JvbGxBcmVhUHJpbWl0aXZlLlNjcm9sbEFyZWFTY3JvbGxiYXI+XG4pKVxuU2Nyb2xsQmFyLmRpc3BsYXlOYW1lID0gU2Nyb2xsQXJlYVByaW1pdGl2ZS5TY3JvbGxBcmVhU2Nyb2xsYmFyLmRpc3BsYXlOYW1lXG5cbmV4cG9ydCB7IFNjcm9sbEFyZWEsIFNjcm9sbEJhciB9XG4iXSwibmFtZXMiOlsiUmVhY3QiLCJTY3JvbGxBcmVhUHJpbWl0aXZlIiwiY24iLCJTY3JvbGxBcmVhIiwiZm9yd2FyZFJlZiIsImNsYXNzTmFtZSIsImNoaWxkcmVuIiwicHJvcHMiLCJyZWYiLCJSb290IiwiVmlld3BvcnQiLCJTY3JvbGxCYXIiLCJDb3JuZXIiLCJkaXNwbGF5TmFtZSIsIm9yaWVudGF0aW9uIiwiU2Nyb2xsQXJlYVNjcm9sbGJhciIsIlNjcm9sbEFyZWFUaHVtYiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./components/ui/scroll-area.tsx\n");

/***/ }),

/***/ "(ssr)/./components/ui/select.tsx":
/*!**********************************!*\
  !*** ./components/ui/select.tsx ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Select: () => (/* binding */ Select),\n/* harmony export */   SelectContent: () => (/* binding */ SelectContent),\n/* harmony export */   SelectGroup: () => (/* binding */ SelectGroup),\n/* harmony export */   SelectItem: () => (/* binding */ SelectItem),\n/* harmony export */   SelectLabel: () => (/* binding */ SelectLabel),\n/* harmony export */   SelectScrollDownButton: () => (/* binding */ SelectScrollDownButton),\n/* harmony export */   SelectScrollUpButton: () => (/* binding */ SelectScrollUpButton),\n/* harmony export */   SelectSeparator: () => (/* binding */ SelectSeparator),\n/* harmony export */   SelectTrigger: () => (/* binding */ SelectTrigger),\n/* harmony export */   SelectValue: () => (/* binding */ SelectValue)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _radix_ui_react_select__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @radix-ui/react-select */ \"(ssr)/./node_modules/@radix-ui/react-select/dist/index.mjs\");\n/* harmony import */ var _barrel_optimize_names_Check_ChevronDown_ChevronUp_lucide_react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! __barrel_optimize__?names=Check,ChevronDown,ChevronUp!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/chevron-down.js\");\n/* harmony import */ var _barrel_optimize_names_Check_ChevronDown_ChevronUp_lucide_react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! __barrel_optimize__?names=Check,ChevronDown,ChevronUp!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/chevron-up.js\");\n/* harmony import */ var _barrel_optimize_names_Check_ChevronDown_ChevronUp_lucide_react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! __barrel_optimize__?names=Check,ChevronDown,ChevronUp!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/check.js\");\n/* harmony import */ var _lib_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/utils */ \"(ssr)/./lib/utils.ts\");\n/* __next_internal_client_entry_do_not_use__ Select,SelectGroup,SelectValue,SelectTrigger,SelectContent,SelectLabel,SelectItem,SelectSeparator,SelectScrollUpButton,SelectScrollDownButton auto */ \n\n\n\n\nconst Select = _radix_ui_react_select__WEBPACK_IMPORTED_MODULE_3__.Root;\nconst SelectGroup = _radix_ui_react_select__WEBPACK_IMPORTED_MODULE_3__.Group;\nconst SelectValue = _radix_ui_react_select__WEBPACK_IMPORTED_MODULE_3__.Value;\nconst SelectTrigger = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(({ className, children, ...props }, ref)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_radix_ui_react_select__WEBPACK_IMPORTED_MODULE_3__.Trigger, {\n        ref: ref,\n        className: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.cn)(\"flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50\", className),\n        ...props,\n        children: [\n            children,\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_radix_ui_react_select__WEBPACK_IMPORTED_MODULE_3__.Icon, {\n                asChild: true,\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Check_ChevronDown_ChevronUp_lucide_react__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n                    className: \"h-4 w-4 opacity-50\"\n                }, void 0, false, {\n                    fileName: \"/var/www/flask_app/ast_chat/components/ui/select.tsx\",\n                    lineNumber: 29,\n                    columnNumber: 7\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"/var/www/flask_app/ast_chat/components/ui/select.tsx\",\n                lineNumber: 28,\n                columnNumber: 5\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/var/www/flask_app/ast_chat/components/ui/select.tsx\",\n        lineNumber: 19,\n        columnNumber: 3\n    }, undefined));\nSelectTrigger.displayName = _radix_ui_react_select__WEBPACK_IMPORTED_MODULE_3__.Trigger.displayName;\nconst SelectScrollUpButton = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(({ className, ...props }, ref)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_radix_ui_react_select__WEBPACK_IMPORTED_MODULE_3__.ScrollUpButton, {\n        ref: ref,\n        className: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.cn)(\"flex cursor-default items-center justify-center py-2 sm:py-1 bg-popover/80 backdrop-blur-sm\", className),\n        ...props,\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Check_ChevronDown_ChevronUp_lucide_react__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n            className: \"h-4 w-4\"\n        }, void 0, false, {\n            fileName: \"/var/www/flask_app/ast_chat/components/ui/select.tsx\",\n            lineNumber: 47,\n            columnNumber: 5\n        }, undefined)\n    }, void 0, false, {\n        fileName: \"/var/www/flask_app/ast_chat/components/ui/select.tsx\",\n        lineNumber: 39,\n        columnNumber: 3\n    }, undefined));\nSelectScrollUpButton.displayName = _radix_ui_react_select__WEBPACK_IMPORTED_MODULE_3__.ScrollUpButton.displayName;\nconst SelectScrollDownButton = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(({ className, ...props }, ref)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_radix_ui_react_select__WEBPACK_IMPORTED_MODULE_3__.ScrollDownButton, {\n        ref: ref,\n        className: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.cn)(\"flex cursor-default items-center justify-center py-2 sm:py-1 bg-popover/80 backdrop-blur-sm\", className),\n        ...props,\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Check_ChevronDown_ChevronUp_lucide_react__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n            className: \"h-4 w-4\"\n        }, void 0, false, {\n            fileName: \"/var/www/flask_app/ast_chat/components/ui/select.tsx\",\n            lineNumber: 64,\n            columnNumber: 5\n        }, undefined)\n    }, void 0, false, {\n        fileName: \"/var/www/flask_app/ast_chat/components/ui/select.tsx\",\n        lineNumber: 56,\n        columnNumber: 3\n    }, undefined));\nSelectScrollDownButton.displayName = _radix_ui_react_select__WEBPACK_IMPORTED_MODULE_3__.ScrollDownButton.displayName;\nconst SelectContent = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(({ className, children, position = \"popper\", ...props }, ref)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_radix_ui_react_select__WEBPACK_IMPORTED_MODULE_3__.Portal, {\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_radix_ui_react_select__WEBPACK_IMPORTED_MODULE_3__.Content, {\n            ref: ref,\n            className: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.cn)(\"relative z-50 max-h-[50vh] sm:max-h-[--radix-select-content-available-height] w-[calc(100%-2rem)] max-w-[420px] sm:w-auto sm:min-w-[8rem] mx-auto overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]\", position === \"popper\" && \"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1\", className),\n            position: position,\n            ...props,\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(SelectScrollUpButton, {}, void 0, false, {\n                    fileName: \"/var/www/flask_app/ast_chat/components/ui/select.tsx\",\n                    lineNumber: 86,\n                    columnNumber: 7\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_radix_ui_react_select__WEBPACK_IMPORTED_MODULE_3__.Viewport, {\n                    className: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.cn)(\"p-2 sm:p-1\", position === \"popper\" && \"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]\"),\n                    children: children\n                }, void 0, false, {\n                    fileName: \"/var/www/flask_app/ast_chat/components/ui/select.tsx\",\n                    lineNumber: 87,\n                    columnNumber: 7\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(SelectScrollDownButton, {}, void 0, false, {\n                    fileName: \"/var/www/flask_app/ast_chat/components/ui/select.tsx\",\n                    lineNumber: 96,\n                    columnNumber: 7\n                }, undefined)\n            ]\n        }, void 0, true, {\n            fileName: \"/var/www/flask_app/ast_chat/components/ui/select.tsx\",\n            lineNumber: 75,\n            columnNumber: 5\n        }, undefined)\n    }, void 0, false, {\n        fileName: \"/var/www/flask_app/ast_chat/components/ui/select.tsx\",\n        lineNumber: 74,\n        columnNumber: 3\n    }, undefined));\nSelectContent.displayName = _radix_ui_react_select__WEBPACK_IMPORTED_MODULE_3__.Content.displayName;\nconst SelectLabel = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(({ className, ...props }, ref)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_radix_ui_react_select__WEBPACK_IMPORTED_MODULE_3__.Label, {\n        ref: ref,\n        className: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.cn)(\"px-2 py-1.5 text-sm font-semibold\", className),\n        ...props\n    }, void 0, false, {\n        fileName: \"/var/www/flask_app/ast_chat/components/ui/select.tsx\",\n        lineNumber: 106,\n        columnNumber: 3\n    }, undefined));\nSelectLabel.displayName = _radix_ui_react_select__WEBPACK_IMPORTED_MODULE_3__.Label.displayName;\nconst SelectItem = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(({ className, children, ...props }, ref)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_radix_ui_react_select__WEBPACK_IMPORTED_MODULE_3__.Item, {\n        ref: ref,\n        className: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.cn)(\"relative flex w-full cursor-default select-none items-center rounded-sm py-3 sm:py-1.5 pl-3 sm:pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\", className),\n        ...props,\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                className: \"absolute right-2 flex h-3.5 w-3.5 items-center justify-center\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_radix_ui_react_select__WEBPACK_IMPORTED_MODULE_3__.ItemIndicator, {\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Check_ChevronDown_ChevronUp_lucide_react__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n                        className: \"h-4 w-4\"\n                    }, void 0, false, {\n                        fileName: \"/var/www/flask_app/ast_chat/components/ui/select.tsx\",\n                        lineNumber: 128,\n                        columnNumber: 9\n                    }, undefined)\n                }, void 0, false, {\n                    fileName: \"/var/www/flask_app/ast_chat/components/ui/select.tsx\",\n                    lineNumber: 127,\n                    columnNumber: 7\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"/var/www/flask_app/ast_chat/components/ui/select.tsx\",\n                lineNumber: 126,\n                columnNumber: 5\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_radix_ui_react_select__WEBPACK_IMPORTED_MODULE_3__.ItemText, {\n                children: children\n            }, void 0, false, {\n                fileName: \"/var/www/flask_app/ast_chat/components/ui/select.tsx\",\n                lineNumber: 131,\n                columnNumber: 5\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/var/www/flask_app/ast_chat/components/ui/select.tsx\",\n        lineNumber: 118,\n        columnNumber: 3\n    }, undefined));\nSelectItem.displayName = _radix_ui_react_select__WEBPACK_IMPORTED_MODULE_3__.Item.displayName;\nconst SelectSeparator = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(({ className, ...props }, ref)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_radix_ui_react_select__WEBPACK_IMPORTED_MODULE_3__.Separator, {\n        ref: ref,\n        className: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.cn)(\"-mx-1 my-1 h-px bg-muted\", className),\n        ...props\n    }, void 0, false, {\n        fileName: \"/var/www/flask_app/ast_chat/components/ui/select.tsx\",\n        lineNumber: 140,\n        columnNumber: 3\n    }, undefined));\nSelectSeparator.displayName = _radix_ui_react_select__WEBPACK_IMPORTED_MODULE_3__.Separator.displayName;\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Qyx1R0FBS0E7d0JBQUNZLFdBQVU7Ozs7Ozs7Ozs7Ozs7Ozs7MEJBR3JCLDhEQUFDYiw0REFBd0I7MEJBQUVjOzs7Ozs7Ozs7Ozs7QUFHL0JrQixXQUFXWixXQUFXLEdBQUdwQix3REFBb0IsQ0FBQ29CLFdBQVc7QUFFekQsTUFBTWlCLGdDQUFrQnRDLDZDQUFnQixDQUd0QyxDQUFDLEVBQUVjLFNBQVMsRUFBRSxHQUFHRSxPQUFPLEVBQUVDLG9CQUMxQiw4REFBQ2hCLDZEQUF5QjtRQUN4QmdCLEtBQUtBO1FBQ0xILFdBQVdULDhDQUFFQSxDQUFDLDRCQUE0QlM7UUFDekMsR0FBR0UsS0FBSzs7Ozs7O0FBR2JzQixnQkFBZ0JqQixXQUFXLEdBQUdwQiw2REFBeUIsQ0FBQ29CLFdBQVc7QUFhbEUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92aWJlY2FyZGluZy8uL2NvbXBvbmVudHMvdWkvc2VsZWN0LnRzeD8wMzI4Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIGNsaWVudFwiXG5cbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gXCJyZWFjdFwiXG5pbXBvcnQgKiBhcyBTZWxlY3RQcmltaXRpdmUgZnJvbSBcIkByYWRpeC11aS9yZWFjdC1zZWxlY3RcIlxuaW1wb3J0IHsgQ2hlY2ssIENoZXZyb25Eb3duLCBDaGV2cm9uVXAgfSBmcm9tIFwibHVjaWRlLXJlYWN0XCJcblxuaW1wb3J0IHsgY24gfSBmcm9tIFwiQC9saWIvdXRpbHNcIlxuXG5jb25zdCBTZWxlY3QgPSBTZWxlY3RQcmltaXRpdmUuUm9vdFxuXG5jb25zdCBTZWxlY3RHcm91cCA9IFNlbGVjdFByaW1pdGl2ZS5Hcm91cFxuXG5jb25zdCBTZWxlY3RWYWx1ZSA9IFNlbGVjdFByaW1pdGl2ZS5WYWx1ZVxuXG5jb25zdCBTZWxlY3RUcmlnZ2VyID0gUmVhY3QuZm9yd2FyZFJlZjxcbiAgUmVhY3QuRWxlbWVudFJlZjx0eXBlb2YgU2VsZWN0UHJpbWl0aXZlLlRyaWdnZXI+LFxuICBSZWFjdC5Db21wb25lbnRQcm9wc1dpdGhvdXRSZWY8dHlwZW9mIFNlbGVjdFByaW1pdGl2ZS5UcmlnZ2VyPlxuPigoeyBjbGFzc05hbWUsIGNoaWxkcmVuLCAuLi5wcm9wcyB9LCByZWYpID0+IChcbiAgPFNlbGVjdFByaW1pdGl2ZS5UcmlnZ2VyXG4gICAgcmVmPXtyZWZ9XG4gICAgY2xhc3NOYW1lPXtjbihcbiAgICAgIFwiZmxleCBoLTkgdy1mdWxsIGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gd2hpdGVzcGFjZS1ub3dyYXAgcm91bmRlZC1tZCBib3JkZXIgYm9yZGVyLWlucHV0IGJnLXRyYW5zcGFyZW50IHB4LTMgcHktMiB0ZXh0LXNtIHNoYWRvdy1zbSByaW5nLW9mZnNldC1iYWNrZ3JvdW5kIGRhdGEtW3BsYWNlaG9sZGVyXTp0ZXh0LW11dGVkLWZvcmVncm91bmQgZm9jdXM6b3V0bGluZS1ub25lIGZvY3VzOnJpbmctMSBmb2N1czpyaW5nLXJpbmcgZGlzYWJsZWQ6Y3Vyc29yLW5vdC1hbGxvd2VkIGRpc2FibGVkOm9wYWNpdHktNTBcIixcbiAgICAgIGNsYXNzTmFtZVxuICAgICl9XG4gICAgey4uLnByb3BzfVxuICA+XG4gICAge2NoaWxkcmVufVxuICAgIDxTZWxlY3RQcmltaXRpdmUuSWNvbiBhc0NoaWxkPlxuICAgICAgPENoZXZyb25Eb3duIGNsYXNzTmFtZT1cImgtNCB3LTQgb3BhY2l0eS01MFwiIC8+XG4gICAgPC9TZWxlY3RQcmltaXRpdmUuSWNvbj5cbiAgPC9TZWxlY3RQcmltaXRpdmUuVHJpZ2dlcj5cbikpXG5TZWxlY3RUcmlnZ2VyLmRpc3BsYXlOYW1lID0gU2VsZWN0UHJpbWl0aXZlLlRyaWdnZXIuZGlzcGxheU5hbWVcblxuY29uc3QgU2VsZWN0U2Nyb2xsVXBCdXR0b24gPSBSZWFjdC5mb3J3YXJkUmVmPFxuICBSZWFjdC5FbGVtZW50UmVmPHR5cGVvZiBTZWxlY3RQcmltaXRpdmUuU2Nyb2xsVXBCdXR0b24+LFxuICBSZWFjdC5Db21wb25lbnRQcm9wc1dpdGhvdXRSZWY8dHlwZW9mIFNlbGVjdFByaW1pdGl2ZS5TY3JvbGxVcEJ1dHRvbj5cbj4oKHsgY2xhc3NOYW1lLCAuLi5wcm9wcyB9LCByZWYpID0+IChcbiAgPFNlbGVjdFByaW1pdGl2ZS5TY3JvbGxVcEJ1dHRvblxuICAgIHJlZj17cmVmfVxuICAgIGNsYXNzTmFtZT17Y24oXG4gICAgICBcImZsZXggY3Vyc29yLWRlZmF1bHQgaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHB5LTIgc206cHktMSBiZy1wb3BvdmVyLzgwIGJhY2tkcm9wLWJsdXItc21cIixcbiAgICAgIGNsYXNzTmFtZVxuICAgICl9XG4gICAgey4uLnByb3BzfVxuICA+XG4gICAgPENoZXZyb25VcCBjbGFzc05hbWU9XCJoLTQgdy00XCIgLz5cbiAgPC9TZWxlY3RQcmltaXRpdmUuU2Nyb2xsVXBCdXR0b24+XG4pKVxuU2VsZWN0U2Nyb2xsVXBCdXR0b24uZGlzcGxheU5hbWUgPSBTZWxlY3RQcmltaXRpdmUuU2Nyb2xsVXBCdXR0b24uZGlzcGxheU5hbWVcblxuY29uc3QgU2VsZWN0U2Nyb2xsRG93bkJ1dHRvbiA9IFJlYWN0LmZvcndhcmRSZWY8XG4gIFJlYWN0LkVsZW1lbnRSZWY8dHlwZW9mIFNlbGVjdFByaW1pdGl2ZS5TY3JvbGxEb3duQnV0dG9uPixcbiAgUmVhY3QuQ29tcG9uZW50UHJvcHNXaXRob3V0UmVmPHR5cGVvZiBTZWxlY3RQcmltaXRpdmUuU2Nyb2xsRG93bkJ1dHRvbj5cbj4oKHsgY2xhc3NOYW1lLCAuLi5wcm9wcyB9LCByZWYpID0+IChcbiAgPFNlbGVjdFByaW1pdGl2ZS5TY3JvbGxEb3duQnV0dG9uXG4gICAgcmVmPXtyZWZ9XG4gICAgY2xhc3NOYW1lPXtjbihcbiAgICAgIFwiZmxleCBjdXJzb3ItZGVmYXVsdCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgcHktMiBzbTpweS0xIGJnLXBvcG92ZXIvODAgYmFja2Ryb3AtYmx1ci1zbVwiLFxuICAgICAgY2xhc3NOYW1lXG4gICAgKX1cbiAgICB7Li4ucHJvcHN9XG4gID5cbiAgICA8Q2hldnJvbkRvd24gY2xhc3NOYW1lPVwiaC00IHctNFwiIC8+XG4gIDwvU2VsZWN0UHJpbWl0aXZlLlNjcm9sbERvd25CdXR0b24+XG4pKVxuU2VsZWN0U2Nyb2xsRG93bkJ1dHRvbi5kaXNwbGF5TmFtZSA9XG4gIFNlbGVjdFByaW1pdGl2ZS5TY3JvbGxEb3duQnV0dG9uLmRpc3BsYXlOYW1lXG5cbmNvbnN0IFNlbGVjdENvbnRlbnQgPSBSZWFjdC5mb3J3YXJkUmVmPFxuICBSZWFjdC5FbGVtZW50UmVmPHR5cGVvZiBTZWxlY3RQcmltaXRpdmUuQ29udGVudD4sXG4gIFJlYWN0LkNvbXBvbmVudFByb3BzV2l0aG91dFJlZjx0eXBlb2YgU2VsZWN0UHJpbWl0aXZlLkNvbnRlbnQ+XG4+KCh7IGNsYXNzTmFtZSwgY2hpbGRyZW4sIHBvc2l0aW9uID0gXCJwb3BwZXJcIiwgLi4ucHJvcHMgfSwgcmVmKSA9PiAoXG4gIDxTZWxlY3RQcmltaXRpdmUuUG9ydGFsPlxuICAgIDxTZWxlY3RQcmltaXRpdmUuQ29udGVudFxuICAgICAgcmVmPXtyZWZ9XG4gICAgICBjbGFzc05hbWU9e2NuKFxuICAgICAgICBcInJlbGF0aXZlIHotNTAgbWF4LWgtWzUwdmhdIHNtOm1heC1oLVstLXJhZGl4LXNlbGVjdC1jb250ZW50LWF2YWlsYWJsZS1oZWlnaHRdIHctW2NhbGMoMTAwJS0ycmVtKV0gbWF4LXctWzQyMHB4XSBzbTp3LWF1dG8gc206bWluLXctWzhyZW1dIG14LWF1dG8gb3ZlcmZsb3cteS1hdXRvIG92ZXJmbG93LXgtaGlkZGVuIHJvdW5kZWQtbWQgYm9yZGVyIGJnLXBvcG92ZXIgdGV4dC1wb3BvdmVyLWZvcmVncm91bmQgc2hhZG93LW1kIGRhdGEtW3N0YXRlPW9wZW5dOmFuaW1hdGUtaW4gZGF0YS1bc3RhdGU9Y2xvc2VkXTphbmltYXRlLW91dCBkYXRhLVtzdGF0ZT1jbG9zZWRdOmZhZGUtb3V0LTAgZGF0YS1bc3RhdGU9b3Blbl06ZmFkZS1pbi0wIGRhdGEtW3N0YXRlPWNsb3NlZF06em9vbS1vdXQtOTUgZGF0YS1bc3RhdGU9b3Blbl06em9vbS1pbi05NSBkYXRhLVtzaWRlPWJvdHRvbV06c2xpZGUtaW4tZnJvbS10b3AtMiBkYXRhLVtzaWRlPWxlZnRdOnNsaWRlLWluLWZyb20tcmlnaHQtMiBkYXRhLVtzaWRlPXJpZ2h0XTpzbGlkZS1pbi1mcm9tLWxlZnQtMiBkYXRhLVtzaWRlPXRvcF06c2xpZGUtaW4tZnJvbS1ib3R0b20tMiBvcmlnaW4tWy0tcmFkaXgtc2VsZWN0LWNvbnRlbnQtdHJhbnNmb3JtLW9yaWdpbl1cIixcbiAgICAgICAgcG9zaXRpb24gPT09IFwicG9wcGVyXCIgJiZcbiAgICAgICAgICBcImRhdGEtW3NpZGU9Ym90dG9tXTp0cmFuc2xhdGUteS0xIGRhdGEtW3NpZGU9bGVmdF06LXRyYW5zbGF0ZS14LTEgZGF0YS1bc2lkZT1yaWdodF06dHJhbnNsYXRlLXgtMSBkYXRhLVtzaWRlPXRvcF06LXRyYW5zbGF0ZS15LTFcIixcbiAgICAgICAgY2xhc3NOYW1lXG4gICAgICApfVxuICAgICAgcG9zaXRpb249e3Bvc2l0aW9ufVxuICAgICAgey4uLnByb3BzfVxuICAgID5cbiAgICAgIDxTZWxlY3RTY3JvbGxVcEJ1dHRvbiAvPlxuICAgICAgPFNlbGVjdFByaW1pdGl2ZS5WaWV3cG9ydFxuICAgICAgICBjbGFzc05hbWU9e2NuKFxuICAgICAgICAgIFwicC0yIHNtOnAtMVwiLFxuICAgICAgICAgIHBvc2l0aW9uID09PSBcInBvcHBlclwiICYmXG4gICAgICAgICAgICBcImgtW3ZhcigtLXJhZGl4LXNlbGVjdC10cmlnZ2VyLWhlaWdodCldIHctZnVsbCBtaW4tdy1bdmFyKC0tcmFkaXgtc2VsZWN0LXRyaWdnZXItd2lkdGgpXVwiXG4gICAgICAgICl9XG4gICAgICA+XG4gICAgICAgIHtjaGlsZHJlbn1cbiAgICAgIDwvU2VsZWN0UHJpbWl0aXZlLlZpZXdwb3J0PlxuICAgICAgPFNlbGVjdFNjcm9sbERvd25CdXR0b24gLz5cbiAgICA8L1NlbGVjdFByaW1pdGl2ZS5Db250ZW50PlxuICA8L1NlbGVjdFByaW1pdGl2ZS5Qb3J0YWw+XG4pKVxuU2VsZWN0Q29udGVudC5kaXNwbGF5TmFtZSA9IFNlbGVjdFByaW1pdGl2ZS5Db250ZW50LmRpc3BsYXlOYW1lXG5cbmNvbnN0IFNlbGVjdExhYmVsID0gUmVhY3QuZm9yd2FyZFJlZjxcbiAgUmVhY3QuRWxlbWVudFJlZjx0eXBlb2YgU2VsZWN0UHJpbWl0aXZlLkxhYmVsPixcbiAgUmVhY3QuQ29tcG9uZW50UHJvcHNXaXRob3V0UmVmPHR5cGVvZiBTZWxlY3RQcmltaXRpdmUuTGFiZWw+XG4+KCh7IGNsYXNzTmFtZSwgLi4ucHJvcHMgfSwgcmVmKSA9PiAoXG4gIDxTZWxlY3RQcmltaXRpdmUuTGFiZWxcbiAgICByZWY9e3JlZn1cbiAgICBjbGFzc05hbWU9e2NuKFwicHgtMiBweS0xLjUgdGV4dC1zbSBmb250LXNlbWlib2xkXCIsIGNsYXNzTmFtZSl9XG4gICAgey4uLnByb3BzfVxuICAvPlxuKSlcblNlbGVjdExhYmVsLmRpc3BsYXlOYW1lID0gU2VsZWN0UHJpbWl0aXZlLkxhYmVsLmRpc3BsYXlOYW1lXG5cbmNvbnN0IFNlbGVjdEl0ZW0gPSBSZWFjdC5mb3J3YXJkUmVmPFxuICBSZWFjdC5FbGVtZW50UmVmPHR5cGVvZiBTZWxlY3RQcmltaXRpdmUuSXRlbT4sXG4gIFJlYWN0LkNvbXBvbmVudFByb3BzV2l0aG91dFJlZjx0eXBlb2YgU2VsZWN0UHJpbWl0aXZlLkl0ZW0+XG4+KCh7IGNsYXNzTmFtZSwgY2hpbGRyZW4sIC4uLnByb3BzIH0sIHJlZikgPT4gKFxuICA8U2VsZWN0UHJpbWl0aXZlLkl0ZW1cbiAgICByZWY9e3JlZn1cbiAgICBjbGFzc05hbWU9e2NuKFxuICAgICAgXCJyZWxhdGl2ZSBmbGV4IHctZnVsbCBjdXJzb3ItZGVmYXVsdCBzZWxlY3Qtbm9uZSBpdGVtcy1jZW50ZXIgcm91bmRlZC1zbSBweS0zIHNtOnB5LTEuNSBwbC0zIHNtOnBsLTIgcHItOCB0ZXh0LXNtIG91dGxpbmUtbm9uZSBmb2N1czpiZy1hY2NlbnQgZm9jdXM6dGV4dC1hY2NlbnQtZm9yZWdyb3VuZCBkYXRhLVtkaXNhYmxlZF06cG9pbnRlci1ldmVudHMtbm9uZSBkYXRhLVtkaXNhYmxlZF06b3BhY2l0eS01MFwiLFxuICAgICAgY2xhc3NOYW1lXG4gICAgKX1cbiAgICB7Li4ucHJvcHN9XG4gID5cbiAgICA8c3BhbiBjbGFzc05hbWU9XCJhYnNvbHV0ZSByaWdodC0yIGZsZXggaC0zLjUgdy0zLjUgaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyXCI+XG4gICAgICA8U2VsZWN0UHJpbWl0aXZlLkl0ZW1JbmRpY2F0b3I+XG4gICAgICAgIDxDaGVjayBjbGFzc05hbWU9XCJoLTQgdy00XCIgLz5cbiAgICAgIDwvU2VsZWN0UHJpbWl0aXZlLkl0ZW1JbmRpY2F0b3I+XG4gICAgPC9zcGFuPlxuICAgIDxTZWxlY3RQcmltaXRpdmUuSXRlbVRleHQ+e2NoaWxkcmVufTwvU2VsZWN0UHJpbWl0aXZlLkl0ZW1UZXh0PlxuICA8L1NlbGVjdFByaW1pdGl2ZS5JdGVtPlxuKSlcblNlbGVjdEl0ZW0uZGlzcGxheU5hbWUgPSBTZWxlY3RQcmltaXRpdmUuSXRlbS5kaXNwbGF5TmFtZVxuXG5jb25zdCBTZWxlY3RTZXBhcmF0b3IgPSBSZWFjdC5mb3J3YXJkUmVmPFxuICBSZWFjdC5FbGVtZW50UmVmPHR5cGVvZiBTZWxlY3RQcmltaXRpdmUuU2VwYXJhdG9yPixcbiAgUmVhY3QuQ29tcG9uZW50UHJvcHNXaXRob3V0UmVmPHR5cGVvZiBTZWxlY3RQcmltaXRpdmUuU2VwYXJhdG9yPlxuPigoeyBjbGFzc05hbWUsIC4uLnByb3BzIH0sIHJlZikgPT4gKFxuICA8U2VsZWN0UHJpbWl0aXZlLlNlcGFyYXRvclxuICAgIHJlZj17cmVmfVxuICAgIGNsYXNzTmFtZT17Y24oXCItbXgtMSBteS0xIGgtcHggYmctbXV0ZWRcIiwgY2xhc3NOYW1lKX1cbiAgICB7Li4ucHJvcHN9XG4gIC8+XG4pKVxuU2VsZWN0U2VwYXJhdG9yLmRpc3BsYXlOYW1lID0gU2VsZWN0UHJpbWl0aXZlLlNlcGFyYXRvci5kaXNwbGF5TmFtZVxuXG5leHBvcnQge1xuICBTZWxlY3QsXG4gIFNlbGVjdEdyb3VwLFxuICBTZWxlY3RWYWx1ZSxcbiAgU2VsZWN0VHJpZ2dlcixcbiAgU2VsZWN0Q29udGVudCxcbiAgU2VsZWN0TGFiZWwsXG4gIFNlbGVjdEl0ZW0sXG4gIFNlbGVjdFNlcGFyYXRvcixcbiAgU2VsZWN0U2Nyb2xsVXBCdXR0b24sXG4gIFNlbGVjdFNjcm9sbERvd25CdXR0b24sXG59XG4iXSwibmFtZXMiOlsiUmVhY3QiLCJTZWxlY3RQcmltaXRpdmUiLCJDaGVjayIsIkNoZXZyb25Eb3duIiwiQ2hldnJvblVwIiwiY24iLCJTZWxlY3QiLCJSb290IiwiU2VsZWN0R3JvdXAiLCJHcm91cCIsIlNlbGVjdFZhbHVlIiwiVmFsdWUiLCJTZWxlY3RUcmlnZ2VyIiwiZm9yd2FyZFJlZiIsImNsYXNzTmFtZSIsImNoaWxkcmVuIiwicHJvcHMiLCJyZWYiLCJUcmlnZ2VyIiwiSWNvbiIsImFzQ2hpbGQiLCJkaXNwbGF5TmFtZSIsIlNlbGVjdFNjcm9sbFVwQnV0dG9uIiwiU2Nyb2xsVXBCdXR0b24iLCJTZWxlY3RTY3JvbGxEb3duQnV0dG9uIiwiU2Nyb2xsRG93bkJ1dHRvbiIsIlNlbGVjdENvbnRlbnQiLCJwb3NpdGlvbiIsIlBvcnRhbCIsIkNvbnRlbnQiLCJWaWV3cG9ydCIsIlNlbGVjdExhYmVsIiwiTGFiZWwiLCJTZWxlY3RJdGVtIiwiSXRlbSIsInNwYW4iLCJJdGVtSW5kaWNhdG9yIiwiSXRlbVRleHQiLCJTZWxlY3RTZXBhcmF0b3IiLCJTZXBhcmF0b3IiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./components/ui/select.tsx\n");

/***/ }),

/***/ "(ssr)/./components/ui/skeleton.tsx":
/*!************************************!*\
  !*** ./components/ui/skeleton.tsx ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Skeleton: () => (/* binding */ Skeleton)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _lib_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/utils */ \"(ssr)/./lib/utils.ts\");\n\n\nfunction Skeleton({ className, ...props }) {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_1__.cn)(\"animate-pulse rounded-md bg-primary/10\", className),\n        ...props\n    }, void 0, false, {\n        fileName: \"/var/www/flask_app/ast_chat/components/ui/skeleton.tsx\",\n        lineNumber: 8,\n        columnNumber: 5\n    }, this);\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9jb21wb25lbnRzL3VpL3NrZWxldG9uLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFnQztBQUVoQyxTQUFTQyxTQUFTLEVBQ2hCQyxTQUFTLEVBQ1QsR0FBR0MsT0FDa0M7SUFDckMscUJBQ0UsOERBQUNDO1FBQ0NGLFdBQVdGLDhDQUFFQSxDQUFDLDBDQUEwQ0U7UUFDdkQsR0FBR0MsS0FBSzs7Ozs7O0FBR2Y7QUFFbUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92aWJlY2FyZGluZy8uL2NvbXBvbmVudHMvdWkvc2tlbGV0b24udHN4PzVhYWQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY24gfSBmcm9tIFwiQC9saWIvdXRpbHNcIlxuXG5mdW5jdGlvbiBTa2VsZXRvbih7XG4gIGNsYXNzTmFtZSxcbiAgLi4ucHJvcHNcbn06IFJlYWN0LkhUTUxBdHRyaWJ1dGVzPEhUTUxEaXZFbGVtZW50Pikge1xuICByZXR1cm4gKFxuICAgIDxkaXZcbiAgICAgIGNsYXNzTmFtZT17Y24oXCJhbmltYXRlLXB1bHNlIHJvdW5kZWQtbWQgYmctcHJpbWFyeS8xMFwiLCBjbGFzc05hbWUpfVxuICAgICAgey4uLnByb3BzfVxuICAgIC8+XG4gIClcbn1cblxuZXhwb3J0IHsgU2tlbGV0b24gfVxuIl0sIm5hbWVzIjpbImNuIiwiU2tlbGV0b24iLCJjbGFzc05hbWUiLCJwcm9wcyIsImRpdiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./components/ui/skeleton.tsx\n");

/***/ }),

/***/ "(ssr)/./components/ui/sonner.tsx":
/*!**********************************!*\
  !*** ./components/ui/sonner.tsx ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Toaster: () => (/* binding */ Toaster)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_themes__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next-themes */ \"(ssr)/./node_modules/next-themes/dist/index.mjs\");\n/* harmony import */ var sonner__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! sonner */ \"(ssr)/./node_modules/sonner/dist/index.mjs\");\n/* __next_internal_client_entry_do_not_use__ Toaster auto */ \n\n\nconst Toaster = ({ ...props })=>{\n    const { theme = \"system\" } = (0,next_themes__WEBPACK_IMPORTED_MODULE_1__.useTheme)();\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(sonner__WEBPACK_IMPORTED_MODULE_2__.Toaster, {\n        theme: theme,\n        className: \"toaster group\",\n        position: \"top-center\",\n        toastOptions: {\n            classNames: {\n                toast: \"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg\",\n                description: \"group-[.toast]:text-muted-foreground\",\n                actionButton: \"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground\",\n                cancelButton: \"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground\"\n            }\n        },\n        ...props\n    }, void 0, false, {\n        fileName: \"/var/www/flask_app/ast_chat/components/ui/sonner.tsx\",\n        lineNumber: 12,\n        columnNumber: 5\n    }, undefined);\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9jb21wb25lbnRzL3VpL3Nvbm5lci50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBRXNDO0FBQ0k7QUFJMUMsTUFBTUMsVUFBVSxDQUFDLEVBQUUsR0FBR0UsT0FBcUI7SUFDekMsTUFBTSxFQUFFQyxRQUFRLFFBQVEsRUFBRSxHQUFHSixxREFBUUE7SUFFckMscUJBQ0UsOERBQUNFLDJDQUFNQTtRQUNMRSxPQUFPQTtRQUNQQyxXQUFVO1FBQ1ZDLFVBQVM7UUFDVEMsY0FBYztZQUNaQyxZQUFZO2dCQUNWQyxPQUNFO2dCQUNGQyxhQUFhO2dCQUNiQyxjQUNFO2dCQUNGQyxjQUNFO1lBQ0o7UUFDRjtRQUNDLEdBQUdULEtBQUs7Ozs7OztBQUdmO0FBRWtCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdmliZWNhcmRpbmcvLi9jb21wb25lbnRzL3VpL3Nvbm5lci50c3g/MDBmOCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIlxuXG5pbXBvcnQgeyB1c2VUaGVtZSB9IGZyb20gXCJuZXh0LXRoZW1lc1wiXG5pbXBvcnQgeyBUb2FzdGVyIGFzIFNvbm5lciB9IGZyb20gXCJzb25uZXJcIlxuXG50eXBlIFRvYXN0ZXJQcm9wcyA9IFJlYWN0LkNvbXBvbmVudFByb3BzPHR5cGVvZiBTb25uZXI+XG5cbmNvbnN0IFRvYXN0ZXIgPSAoeyAuLi5wcm9wcyB9OiBUb2FzdGVyUHJvcHMpID0+IHtcbiAgY29uc3QgeyB0aGVtZSA9IFwic3lzdGVtXCIgfSA9IHVzZVRoZW1lKClcblxuICByZXR1cm4gKFxuICAgIDxTb25uZXJcbiAgICAgIHRoZW1lPXt0aGVtZSBhcyBUb2FzdGVyUHJvcHNbXCJ0aGVtZVwiXX1cbiAgICAgIGNsYXNzTmFtZT1cInRvYXN0ZXIgZ3JvdXBcIlxuICAgICAgcG9zaXRpb249XCJ0b3AtY2VudGVyXCJcbiAgICAgIHRvYXN0T3B0aW9ucz17e1xuICAgICAgICBjbGFzc05hbWVzOiB7XG4gICAgICAgICAgdG9hc3Q6XG4gICAgICAgICAgICBcImdyb3VwIHRvYXN0IGdyb3VwLVsudG9hc3Rlcl06YmctYmFja2dyb3VuZCBncm91cC1bLnRvYXN0ZXJdOnRleHQtZm9yZWdyb3VuZCBncm91cC1bLnRvYXN0ZXJdOmJvcmRlci1ib3JkZXIgZ3JvdXAtWy50b2FzdGVyXTpzaGFkb3ctbGdcIixcbiAgICAgICAgICBkZXNjcmlwdGlvbjogXCJncm91cC1bLnRvYXN0XTp0ZXh0LW11dGVkLWZvcmVncm91bmRcIixcbiAgICAgICAgICBhY3Rpb25CdXR0b246XG4gICAgICAgICAgICBcImdyb3VwLVsudG9hc3RdOmJnLXByaW1hcnkgZ3JvdXAtWy50b2FzdF06dGV4dC1wcmltYXJ5LWZvcmVncm91bmRcIixcbiAgICAgICAgICBjYW5jZWxCdXR0b246XG4gICAgICAgICAgICBcImdyb3VwLVsudG9hc3RdOmJnLW11dGVkIGdyb3VwLVsudG9hc3RdOnRleHQtbXV0ZWQtZm9yZWdyb3VuZFwiLFxuICAgICAgICB9LFxuICAgICAgfX1cbiAgICAgIHsuLi5wcm9wc31cbiAgICAvPlxuICApXG59XG5cbmV4cG9ydCB7IFRvYXN0ZXIgfVxuIl0sIm5hbWVzIjpbInVzZVRoZW1lIiwiVG9hc3RlciIsIlNvbm5lciIsInByb3BzIiwidGhlbWUiLCJjbGFzc05hbWUiLCJwb3NpdGlvbiIsInRvYXN0T3B0aW9ucyIsImNsYXNzTmFtZXMiLCJ0b2FzdCIsImRlc2NyaXB0aW9uIiwiYWN0aW9uQnV0dG9uIiwiY2FuY2VsQnV0dG9uIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./components/ui/sonner.tsx\n");

/***/ }),

/***/ "(ssr)/./components/ui/textarea.tsx":
/*!************************************!*\
  !*** ./components/ui/textarea.tsx ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Textarea: () => (/* binding */ Textarea)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _lib_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/utils */ \"(ssr)/./lib/utils.ts\");\n\n\n\nconst Textarea = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(({ className, ...props }, ref)=>{\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"textarea\", {\n        className: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.cn)(\"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\", className),\n        ref: ref,\n        ...props\n    }, void 0, false, {\n        fileName: \"/var/www/flask_app/ast_chat/components/ui/textarea.tsx\",\n        lineNumber: 11,\n        columnNumber: 7\n    }, undefined);\n});\nTextarea.displayName = \"Textarea\";\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9jb21wb25lbnRzL3VpL3RleHRhcmVhLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQThCO0FBRUU7QUFLaEMsTUFBTUUseUJBQVdGLDZDQUFnQixDQUMvQixDQUFDLEVBQUVJLFNBQVMsRUFBRSxHQUFHQyxPQUFPLEVBQUVDO0lBQ3hCLHFCQUNFLDhEQUFDQztRQUNDSCxXQUFXSCw4Q0FBRUEsQ0FDWCx3U0FDQUc7UUFFRkUsS0FBS0E7UUFDSixHQUFHRCxLQUFLOzs7Ozs7QUFHZjtBQUVGSCxTQUFTTSxXQUFXLEdBQUc7QUFFSiIsInNvdXJjZXMiOlsid2VicGFjazovL3ZpYmVjYXJkaW5nLy4vY29tcG9uZW50cy91aS90ZXh0YXJlYS50c3g/YjgwMiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tIFwicmVhY3RcIlxuXG5pbXBvcnQgeyBjbiB9IGZyb20gXCJAL2xpYi91dGlsc1wiXG5cbmV4cG9ydCBpbnRlcmZhY2UgVGV4dGFyZWFQcm9wc1xuICBleHRlbmRzIFJlYWN0LlRleHRhcmVhSFRNTEF0dHJpYnV0ZXM8SFRNTFRleHRBcmVhRWxlbWVudD4ge31cblxuY29uc3QgVGV4dGFyZWEgPSBSZWFjdC5mb3J3YXJkUmVmPEhUTUxUZXh0QXJlYUVsZW1lbnQsIFRleHRhcmVhUHJvcHM+KFxuICAoeyBjbGFzc05hbWUsIC4uLnByb3BzIH0sIHJlZikgPT4ge1xuICAgIHJldHVybiAoXG4gICAgICA8dGV4dGFyZWFcbiAgICAgICAgY2xhc3NOYW1lPXtjbihcbiAgICAgICAgICBcImZsZXggbWluLWgtWzgwcHhdIHctZnVsbCByb3VuZGVkLW1kIGJvcmRlciBib3JkZXItaW5wdXQgYmctYmFja2dyb3VuZCBweC0zIHB5LTIgdGV4dC1zbSByaW5nLW9mZnNldC1iYWNrZ3JvdW5kIHBsYWNlaG9sZGVyOnRleHQtbXV0ZWQtZm9yZWdyb3VuZCBmb2N1cy12aXNpYmxlOm91dGxpbmUtbm9uZSBmb2N1cy12aXNpYmxlOnJpbmctMiBmb2N1cy12aXNpYmxlOnJpbmctcmluZyBmb2N1cy12aXNpYmxlOnJpbmctb2Zmc2V0LTIgZGlzYWJsZWQ6Y3Vyc29yLW5vdC1hbGxvd2VkIGRpc2FibGVkOm9wYWNpdHktNTBcIixcbiAgICAgICAgICBjbGFzc05hbWVcbiAgICAgICAgKX1cbiAgICAgICAgcmVmPXtyZWZ9XG4gICAgICAgIHsuLi5wcm9wc31cbiAgICAgIC8+XG4gICAgKVxuICB9XG4pXG5UZXh0YXJlYS5kaXNwbGF5TmFtZSA9IFwiVGV4dGFyZWFcIlxuXG5leHBvcnQgeyBUZXh0YXJlYSB9ICJdLCJuYW1lcyI6WyJSZWFjdCIsImNuIiwiVGV4dGFyZWEiLCJmb3J3YXJkUmVmIiwiY2xhc3NOYW1lIiwicHJvcHMiLCJyZWYiLCJ0ZXh0YXJlYSIsImRpc3BsYXlOYW1lIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./components/ui/textarea.tsx\n");

/***/ }),

/***/ "(ssr)/./components/wizard/CardWizard.tsx":
/*!******************************************!*\
  !*** ./components/wizard/CardWizard.tsx ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* reexport safe */ _CardWizardRefactored__WEBPACK_IMPORTED_MODULE_0__[\"default\"])\n/* harmony export */ });\n/* harmony import */ var _CardWizardRefactored__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./CardWizardRefactored */ \"(ssr)/./components/wizard/CardWizardRefactored.tsx\");\n// This file is kept for backwards compatibility\n// Actual implementation has been refactored into modular components\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9jb21wb25lbnRzL3dpemFyZC9DYXJkV2l6YXJkLnRzeCIsIm1hcHBpbmdzIjoiOzs7OztBQUFBLGdEQUFnRDtBQUNoRCxvRUFBb0U7QUFDbkIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92aWJlY2FyZGluZy8uL2NvbXBvbmVudHMvd2l6YXJkL0NhcmRXaXphcmQudHN4PzJlODIiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gVGhpcyBmaWxlIGlzIGtlcHQgZm9yIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5XG4vLyBBY3R1YWwgaW1wbGVtZW50YXRpb24gaGFzIGJlZW4gcmVmYWN0b3JlZCBpbnRvIG1vZHVsYXIgY29tcG9uZW50c1xuZXhwb3J0IHsgZGVmYXVsdCB9IGZyb20gJy4vQ2FyZFdpemFyZFJlZmFjdG9yZWQnOyJdLCJuYW1lcyI6WyJkZWZhdWx0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./components/wizard/CardWizard.tsx\n");

/***/ }),

/***/ "(ssr)/./components/wizard/CardWizardEffects.tsx":
/*!*************************************************!*\
  !*** ./components/wizard/CardWizardEffects.tsx ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CardWizardEffects: () => (/* binding */ CardWizardEffects)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* __next_internal_client_entry_do_not_use__ CardWizardEffects auto */ \nfunction CardWizardEffects({ cardStudio, cardForm, cardHistory, wizardState, updateWizardState, isResumingDraft, isRestoringJobs }) {\n    // Track the current session ID to update the same session\n    const [currentDraftSessionId, setCurrentDraftSessionId] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [lastSavedDraftCount, setLastSavedDraftCount] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(0);\n    // Check for pending jobs on component mount but don't auto-navigate\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        const restorePendingJobs = async ()=>{\n            console.log(\"\\uD83D\\uDD04 CardWizardEffects: Starting checkPendingJobs...\");\n            // First check for saved draft session\n            let currentSession = null;\n            try {\n                currentSession = JSON.parse(localStorage.getItem(\"vibe-current-draft-session\") || \"null\");\n            } catch  {\n                currentSession = null;\n            }\n            if (currentSession && currentSession.draftCards && currentSession.draftCards.length > 0) {\n                console.log(\"\\uD83D\\uDD04 Found saved draft session with\", currentSession.draftCards.length, \"drafts\");\n                // Check if draft is less than 2 hours old\n                const draftAge = Date.now() - new Date(currentSession.savedAt).getTime();\n                const twoHours = 2 * 60 * 60 * 1000;\n                if (draftAge < twoHours) {\n                    // Restore draft cards but don't navigate\n                    cardStudio.setDraftCards(currentSession.draftCards);\n                    cardStudio.setIsDraftMode(true);\n                    // Restore form data if needed\n                    if (currentSession.formData) {\n                        cardForm.updateFormData(currentSession.formData);\n                    }\n                    // Don't auto-navigate - let user choose via Resume Draft button\n                    console.log(\"\\uD83D\\uDD04 Draft session restored, user can resume via UI\");\n                    // Set the current session ID for updates\n                    setCurrentDraftSessionId(currentSession.id);\n                    setLastSavedDraftCount(currentSession.draftCards.length);\n                } else {\n                    // Draft is too old, remove it\n                    console.log(\"\\uD83D\\uDD04 Draft session expired, removing...\");\n                    localStorage.removeItem(\"vibe-current-draft-session\");\n                    cardHistory.removeDraftSession(currentSession.id);\n                }\n                return; // Skip pending jobs check if we processed a draft session\n            }\n            await cardStudio.checkPendingJobs();\n            // Small delay to ensure state updates have propagated\n            await new Promise((resolve)=>setTimeout(resolve, 100));\n            // Only auto-navigate if there's an active generation in progress\n            // Don't navigate for completed drafts - let user choose\n            if (cardStudio.isGenerating && cardStudio.generationProgress) {\n                if (cardStudio.isGeneratingFinalCard) {\n                    console.log(\"\\uD83D\\uDD04 Restoring to Step 6 due to ongoing final generation\");\n                    // Mark all previous steps as completed\n                    for(let i = 1; i <= 5; i++){\n                        if (!wizardState.completedSteps.includes(i)) wizardState.markStepCompleted(i);\n                    }\n                    wizardState.updateCurrentStep(6);\n                } else if (cardStudio.isDraftMode && cardStudio.isGenerating) {\n                    console.log(\"\\uD83D\\uDD04 Restoring to Step 5 due to ongoing draft generation\");\n                    // Mark previous steps as completed\n                    if (!wizardState.completedSteps.includes(1)) wizardState.markStepCompleted(1);\n                    if (!wizardState.completedSteps.includes(2)) wizardState.markStepCompleted(2);\n                    if (!wizardState.completedSteps.includes(3)) wizardState.markStepCompleted(3);\n                    if (!wizardState.completedSteps.includes(4)) wizardState.markStepCompleted(4);\n                    wizardState.updateCurrentStep(5);\n                }\n            } else {\n                // No active generation - reset wizard to step 1 if we're on a later step\n                // This handles the case where user left off on step 5 but isn't actively generating\n                if (wizardState.currentStep > 1 && !cardStudio.isGenerating) {\n                    console.log(\"\\uD83D\\uDD04 No active generation, resetting to Step 1\");\n                    wizardState.updateCurrentStep(1);\n                }\n            }\n        // If we have completed drafts but no active generation, stay on Step 1\n        // User can choose to resume via the UI\n        };\n        restorePendingJobs();\n    }, []);\n    // Only mark step 1 as completed if user has made selections, but don't auto-advance\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        if (!wizardState.isInitialLoadComplete || !cardForm.isInitialLoadComplete) return;\n        // Only mark step as completed, don't navigate\n        if (wizardState.currentStep === 1 && !wizardState.completedSteps.includes(1)) {\n            const formData = cardForm.formData;\n            // Mark step 1 as completed if user has made selections\n            if (formData.selectedType && formData.selectedTone) {\n                console.log(\"✅ Marking step 1 as completed based on saved data\");\n                wizardState.markStepCompleted(1);\n            }\n        }\n    }, [\n        wizardState.isInitialLoadComplete,\n        cardForm.isInitialLoadComplete\n    ]);\n    // Only navigate to Step 5 when NEW draft cards are being generated (not restored)\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        // Only navigate if we're actively generating NEW drafts, not restoring old ones\n        if (cardStudio.draftCards.length > 0 && wizardState.currentStep < 5 && cardStudio.isGenerating && !isRestoringJobs) {\n            console.log(\"\\uD83D\\uDCCB New draft cards being generated, navigating to Step 5\");\n            // Mark previous steps as completed\n            for(let i = 1; i <= 4; i++){\n                if (!wizardState.completedSteps.includes(i)) {\n                    wizardState.markStepCompleted(i);\n                }\n            }\n            wizardState.updateCurrentStep(5);\n        }\n    }, [\n        cardStudio.draftCards.length,\n        cardStudio.isGenerating,\n        isRestoringJobs\n    ]);\n    // Auto-save drafts when user creates draft cards\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        // Skip auto-save if card is already completed\n        if (cardStudio.isCardCompleted) {\n            return;\n        }\n        // Only save if we have draft cards and not resuming or restoring\n        if (cardStudio.draftCards.length > 0) {\n            console.log(\"\\uD83D\\uDD0D Auto-save check:\", {\n                hasCards: cardStudio.draftCards.length > 0,\n                isInitialLoadComplete: cardForm.isInitialLoadComplete,\n                isResumingDraft,\n                isRestoringJobs,\n                isCardCompleted: cardStudio.isCardCompleted,\n                shouldSave: cardForm.isInitialLoadComplete && !isResumingDraft && !isRestoringJobs && !cardStudio.isCardCompleted\n            });\n        }\n        if (cardStudio.draftCards.length > 0 && cardForm.isInitialLoadComplete && !isResumingDraft && !isRestoringJobs && !cardStudio.isCardCompleted) {\n            // Count non-null draft cards\n            const validDrafts = cardStudio.draftCards.filter((card)=>card !== null).length;\n            // Only save when:\n            // 1. All 5 drafts are complete (validDrafts === 5)\n            // 2. This is the first draft and we haven't saved yet (validDrafts === 1 && !currentDraftSessionId)\n            // 3. User selected a draft (selectedDraftIndex >= 0)\n            const shouldSave = validDrafts === 5 && lastSavedDraftCount < 5 || // All drafts complete\n            validDrafts === 1 && !currentDraftSessionId || // First draft\n            cardStudio.selectedDraftIndex >= 0 && validDrafts > lastSavedDraftCount // User selected\n            ;\n            if (shouldSave && validDrafts > 0) {\n                // Save or update the session with the same ID\n                const sessionId = cardHistory.saveDraftSession(cardForm.formData, cardStudio.draftCards, cardStudio.selectedDraftIndex, currentDraftSessionId || undefined // Use existing session ID if available\n                );\n                // Store the session ID for future updates\n                if (!currentDraftSessionId) {\n                    setCurrentDraftSessionId(sessionId);\n                }\n                // Update the last saved count\n                setLastSavedDraftCount(validDrafts);\n                console.log(`💾 Draft session saved: ${validDrafts}/5 drafts complete`);\n            }\n        }\n    }, [\n        cardStudio.draftCards,\n        cardStudio.selectedDraftIndex,\n        cardForm.formData,\n        cardForm.isInitialLoadComplete,\n        isResumingDraft,\n        isRestoringJobs,\n        currentDraftSessionId,\n        lastSavedDraftCount,\n        cardStudio.isCardCompleted\n    ]);\n    // Reset session ID when drafts are cleared\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        const validDrafts = cardStudio.draftCards.filter((card)=>card !== null).length;\n        if (validDrafts === 0) {\n            setCurrentDraftSessionId(null);\n            setLastSavedDraftCount(0);\n        }\n    }, [\n        cardStudio.draftCards\n    ]);\n    // Auto-save completed cards and ensure we're on Step 6\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        if (cardStudio.generatedCard && cardStudio.isCardCompleted) {\n            // Only add to history if not already added (prevent duplicates)\n            const existingCard = cardHistory.cardHistory.find((card)=>card.id === cardStudio.generatedCard.id);\n            if (!existingCard) {\n                cardHistory.addCompletedCard(cardStudio.generatedCard);\n            }\n            // Clear draft session since card is completed (only if not already cleared)\n            if (currentDraftSessionId) {\n                console.log(\"\\uD83E\\uDDF9 Clearing draft session after successful card completion\");\n                localStorage.removeItem(\"vibe-current-draft-session\");\n                cardHistory.removeDraftSession(currentDraftSessionId);\n                setCurrentDraftSessionId(null);\n                setLastSavedDraftCount(0);\n            }\n            // Ensure we're on Step 6 to see the completed card\n            if (wizardState.currentStep !== 6) {\n                console.log(\"\\uD83D\\uDCCD Card completed but not on Step 6, navigating there now...\");\n                wizardState.updateCurrentStep(6);\n            }\n        }\n    }, [\n        cardStudio.generatedCard,\n        cardStudio.isCardCompleted\n    ]);\n    // Sync form data with cardStudio when form data changes\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        if (!cardForm.isInitialLoadComplete) return;\n        const { formData } = cardForm;\n        // Update cardStudio with form data\n        cardStudio.setSelectedType(formData.selectedType);\n        cardStudio.setCustomCardType(formData.customCardType);\n        cardStudio.setSelectedTone(formData.selectedTone);\n        cardStudio.setToField(formData.toField);\n        cardStudio.setFromField(formData.fromField);\n        cardStudio.setRelationshipField(formData.relationshipField);\n        cardStudio.setPrompt(formData.prompt);\n        cardStudio.setPersonalTraits(formData.personalTraits);\n        cardStudio.setFinalCardMessage(formData.finalCardMessage);\n        cardStudio.setIsHandwrittenMessage(formData.isHandwrittenMessage);\n        cardStudio.setSelectedArtisticStyle(formData.selectedArtisticStyle);\n        cardStudio.setCustomStyleDescription(formData.customStyleDescription);\n        // Skip syncing reference images from form to cardStudio\n        // This should only flow from cardStudio -> form after uploads\n        // cardStudio.setReferenceImages(formData.referenceImages);\n        // cardStudio.setReferenceImageUrls(formData.referenceImageUrls);\n        cardStudio.setUserEmail(formData.userEmail);\n        cardStudio.setSelectedImageModel(formData.selectedImageModel);\n        cardStudio.setSelectedDraftModel(formData.selectedDraftModel);\n        cardStudio.setSelectedPaperSize(formData.selectedPaperSize);\n        cardStudio.setNumberOfCards(formData.numberOfCards);\n        cardStudio.setIsFrontBackOnly(formData.isFrontBackOnly);\n    }, [\n        cardForm.formData,\n        cardForm.isInitialLoadComplete\n    ]);\n    // Auto-complete step 1 once user makes selections\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        if (cardForm.validateStep(1) && !wizardState.completedSteps.includes(1)) {\n            wizardState.markStepCompleted(1);\n        }\n    }, [\n        cardForm.formData.selectedType,\n        cardForm.formData.selectedTone,\n        cardForm.formData.customCardType,\n        wizardState\n    ]);\n    // Auto-complete step 4 once email is valid\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        if (cardForm.validateStep(4) && !wizardState.completedSteps.includes(4)) {\n            wizardState.markStepCompleted(4);\n        }\n    }, [\n        cardForm.formData.userEmail,\n        wizardState\n    ]);\n    // Auto-advance to Step 6 when final card generation starts\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        if (cardStudio.isGeneratingFinalCard && wizardState.currentStep < 6) {\n            console.log(\"\\uD83D\\uDE80 Auto-advancing to Step 6: Final Generation\");\n            if (!wizardState.completedSteps.includes(5)) {\n                wizardState.markStepCompleted(5);\n            }\n            wizardState.updateCurrentStep(6);\n        }\n    }, [\n        cardStudio.isGeneratingFinalCard,\n        wizardState\n    ]);\n    // Sync reference images from cardStudio to form when they change\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        if (!cardForm.isInitialLoadComplete) return;\n        // Sync if cardStudio has images but form doesn't, or if photoReferences changed\n        const shouldSync = cardStudio.referenceImageUrls.length > 0 && cardForm.formData.referenceImageUrls.length !== cardStudio.referenceImageUrls.length || cardStudio.photoReferences && cardStudio.photoReferences !== cardForm.formData.photoReferences;\n        if (shouldSync) {\n            cardForm.updateFormData({\n                referenceImages: cardStudio.referenceImages,\n                referenceImageUrls: cardStudio.referenceImageUrls,\n                photoReferences: cardStudio.photoReferences\n            });\n        }\n    }, [\n        cardStudio.referenceImageUrls,\n        cardStudio.referenceImages,\n        cardStudio.photoReferences,\n        cardForm.isInitialLoadComplete\n    ]);\n    return null;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9jb21wb25lbnRzL3dpemFyZC9DYXJkV2l6YXJkRWZmZWN0cy50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7O3VFQUU0QztBQWVyQyxTQUFTRSxrQkFBa0IsRUFDaENDLFVBQVUsRUFDVkMsUUFBUSxFQUNSQyxXQUFXLEVBQ1hDLFdBQVcsRUFDWEMsaUJBQWlCLEVBQ2pCQyxlQUFlLEVBQ2ZDLGVBQWUsRUFDUTtJQUN2QiwwREFBMEQ7SUFDMUQsTUFBTSxDQUFDQyx1QkFBdUJDLHlCQUF5QixHQUFHViwrQ0FBUUEsQ0FBZ0I7SUFDbEYsTUFBTSxDQUFDVyxxQkFBcUJDLHVCQUF1QixHQUFHWiwrQ0FBUUEsQ0FBUztJQUN2RSxvRUFBb0U7SUFDcEVELGdEQUFTQSxDQUFDO1FBQ1IsTUFBTWMscUJBQXFCO1lBQ3pCQyxRQUFRQyxHQUFHLENBQUM7WUFFWixzQ0FBc0M7WUFDdEMsSUFBSUMsaUJBQWlCO1lBQ3JCLElBQUk7Z0JBQ0ZBLGlCQUFpQkMsS0FBS0MsS0FBSyxDQUFDQyxhQUFhQyxPQUFPLENBQUMsaUNBQWlDO1lBQ3BGLEVBQUUsT0FBTTtnQkFDTkosaUJBQWlCO1lBQ25CO1lBQ0EsSUFBSUEsa0JBQWtCQSxlQUFlSyxVQUFVLElBQUlMLGVBQWVLLFVBQVUsQ0FBQ0MsTUFBTSxHQUFHLEdBQUc7Z0JBQ3ZGUixRQUFRQyxHQUFHLENBQUMsK0NBQXFDQyxlQUFlSyxVQUFVLENBQUNDLE1BQU0sRUFBRTtnQkFFbkYsMENBQTBDO2dCQUMxQyxNQUFNQyxXQUFXQyxLQUFLQyxHQUFHLEtBQUssSUFBSUQsS0FBS1IsZUFBZVUsT0FBTyxFQUFFQyxPQUFPO2dCQUN0RSxNQUFNQyxXQUFXLElBQUksS0FBSyxLQUFLO2dCQUUvQixJQUFJTCxXQUFXSyxVQUFVO29CQUN2Qix5Q0FBeUM7b0JBQ3pDMUIsV0FBVzJCLGFBQWEsQ0FBQ2IsZUFBZUssVUFBVTtvQkFDbERuQixXQUFXNEIsY0FBYyxDQUFDO29CQUUxQiw4QkFBOEI7b0JBQzlCLElBQUlkLGVBQWVlLFFB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QUFHO1FBQUN0RyxXQUFXcUcsa0JBQWtCO1FBQUVyRyxXQUFXdUcsZUFBZTtRQUFFdkcsV0FBV3NHLGVBQWU7UUFBRXJHLFNBQVMrQyxxQkFBcUI7S0FBQztJQUUxSCxPQUFPO0FBQ1QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92aWJlY2FyZGluZy8uL2NvbXBvbmVudHMvd2l6YXJkL0NhcmRXaXphcmRFZmZlY3RzLnRzeD9kYTQ2Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIGNsaWVudFwiO1xuXG5pbXBvcnQgeyB1c2VFZmZlY3QsIHVzZVN0YXRlIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBDYXJkRm9ybURhdGEgfSBmcm9tIFwiQC9ob29rcy91c2VDYXJkRm9ybVwiO1xuaW1wb3J0IHsgR2VuZXJhdGVkQ2FyZCB9IGZyb20gXCJAL2hvb2tzL2NhcmRTdHVkaW8vY29uc3RhbnRzXCI7XG5pbXBvcnQgeyBzdG9yYWdlIH0gZnJvbSBcIkAvbGliL3N0b3JhZ2VNYW5hZ2VyXCI7XG5cbmludGVyZmFjZSBDYXJkV2l6YXJkRWZmZWN0c1Byb3BzIHtcbiAgY2FyZFN0dWRpbzogYW55O1xuICBjYXJkRm9ybTogYW55O1xuICBjYXJkSGlzdG9yeTogYW55O1xuICB3aXphcmRTdGF0ZTogYW55O1xuICB1cGRhdGVXaXphcmRTdGF0ZTogKHVwZGF0ZXM6IGFueSkgPT4gdm9pZDtcbiAgaXNSZXN1bWluZ0RyYWZ0OiBib29sZWFuO1xuICBpc1Jlc3RvcmluZ0pvYnM6IGJvb2xlYW47XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBDYXJkV2l6YXJkRWZmZWN0cyh7XG4gIGNhcmRTdHVkaW8sXG4gIGNhcmRGb3JtLFxuICBjYXJkSGlzdG9yeSxcbiAgd2l6YXJkU3RhdGUsXG4gIHVwZGF0ZVdpemFyZFN0YXRlLFxuICBpc1Jlc3VtaW5nRHJhZnQsXG4gIGlzUmVzdG9yaW5nSm9ic1xufTogQ2FyZFdpemFyZEVmZmVjdHNQcm9wcykge1xuICAvLyBUcmFjayB0aGUgY3VycmVudCBzZXNzaW9uIElEIHRvIHVwZGF0ZSB0aGUgc2FtZSBzZXNzaW9uXG4gIGNvbnN0IFtjdXJyZW50RHJhZnRTZXNzaW9uSWQsIHNldEN1cnJlbnREcmFmdFNlc3Npb25JZF0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW2xhc3RTYXZlZERyYWZ0Q291bnQsIHNldExhc3RTYXZlZERyYWZ0Q291bnRdID0gdXNlU3RhdGU8bnVtYmVyPigwKTtcbiAgLy8gQ2hlY2sgZm9yIHBlbmRpbmcgam9icyBvbiBjb21wb25lbnQgbW91bnQgYnV0IGRvbid0IGF1dG8tbmF2aWdhdGVcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCByZXN0b3JlUGVuZGluZ0pvYnMgPSBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zb2xlLmxvZygn8J+UhCBDYXJkV2l6YXJkRWZmZWN0czogU3RhcnRpbmcgY2hlY2tQZW5kaW5nSm9icy4uLicpO1xuICAgICAgXG4gICAgICAvLyBGaXJzdCBjaGVjayBmb3Igc2F2ZWQgZHJhZnQgc2Vzc2lvblxuICAgICAgbGV0IGN1cnJlbnRTZXNzaW9uID0gbnVsbDtcbiAgICAgIHRyeSB7XG4gICAgICAgIGN1cnJlbnRTZXNzaW9uID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndmliZS1jdXJyZW50LWRyYWZ0LXNlc3Npb24nKSB8fCAnbnVsbCcpO1xuICAgICAgfSBjYXRjaCB7XG4gICAgICAgIGN1cnJlbnRTZXNzaW9uID0gbnVsbDtcbiAgICAgIH1cbiAgICAgIGlmIChjdXJyZW50U2Vzc2lvbiAmJiBjdXJyZW50U2Vzc2lvbi5kcmFmdENhcmRzICYmIGN1cnJlbnRTZXNzaW9uLmRyYWZ0Q2FyZHMubGVuZ3RoID4gMCkge1xuICAgICAgICBjb25zb2xlLmxvZygn8J+UhCBGb3VuZCBzYXZlZCBkcmFmdCBzZXNzaW9uIHdpdGgnLCBjdXJyZW50U2Vzc2lvbi5kcmFmdENhcmRzLmxlbmd0aCwgJ2RyYWZ0cycpO1xuICAgICAgICBcbiAgICAgICAgLy8gQ2hlY2sgaWYgZHJhZnQgaXMgbGVzcyB0aGFuIDIgaG91cnMgb2xkXG4gICAgICAgIGNvbnN0IGRyYWZ0QWdlID0gRGF0ZS5ub3coKSAtIG5ldyBEYXRlKGN1cnJlbnRTZXNzaW9uLnNhdmVkQXQpLmdldFRpbWUoKTtcbiAgICAgICAgY29uc3QgdHdvSG91cnMgPSAyICogNjAgKiA2MCAqIDEwMDA7XG4gICAgICAgIFxuICAgICAgICBpZiAoZHJhZnRBZ2UgPCB0d29Ib3Vycykge1xuICAgICAgICAgIC8vIFJlc3RvcmUgZHJhZnQgY2FyZHMgYnV0IGRvbid0IG5hdmlnYXRlXG4gICAgICAgICAgY2FyZFN0dWRpby5zZXREcmFmdENhcmRzKGN1cnJlbnRTZXNzaW9uLmRyYWZ0Q2FyZHMpO1xuICAgICAgICAgIGNhcmRTdHVkaW8uc2V0SXNEcmFmdE1vZGUodHJ1ZSk7XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gUmVzdG9yZSBmb3JtIGRhdGEgaWYgbmVlZGVkXG4gICAgICAgICAgaWYgKGN1cnJlbnRTZXNzaW9uLmZvcm1EYXRhKSB7XG4gICAgICAgICAgICBjYXJkRm9ybS51cGRhdGVGb3JtRGF0YShjdXJyZW50U2Vzc2lvbi5mb3JtRGF0YSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIFxuICAgICAgICAgIC8vIERvbid0IGF1dG8tbmF2aWdhdGUgLSBsZXQgdXNlciBjaG9vc2UgdmlhIFJlc3VtZSBEcmFmdCBidXR0b25cbiAgICAgICAgICBjb25zb2xlLmxvZygn8J+UhCBEcmFmdCBzZXNzaW9uIHJlc3RvcmVkLCB1c2VyIGNhbiByZXN1bWUgdmlhIFVJJyk7XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gU2V0IHRoZSBjdXJyZW50IHNlc3Npb24gSUQgZm9yIHVwZGF0ZXNcbiAgICAgICAgICBzZXRDdXJyZW50RHJhZnRTZXNzaW9uSWQoY3VycmVudFNlc3Npb24uaWQpO1xuICAgICAgICAgIHNldExhc3RTYXZlZERyYWZ0Q291bnQoY3VycmVudFNlc3Npb24uZHJhZnRDYXJkcy5sZW5ndGgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIERyYWZ0IGlzIHRvbyBvbGQsIHJlbW92ZSBpdFxuICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5SEIERyYWZ0IHNlc3Npb24gZXhwaXJlZCwgcmVtb3ZpbmcuLi4nKTtcbiAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgndmliZS1jdXJyZW50LWRyYWZ0LXNlc3Npb24nKTtcbiAgICAgICAgICBjYXJkSGlzdG9yeS5yZW1vdmVEcmFmdFNlc3Npb24oY3VycmVudFNlc3Npb24uaWQpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICByZXR1cm47IC8vIFNraXAgcGVuZGluZyBqb2JzIGNoZWNrIGlmIHdlIHByb2Nlc3NlZCBhIGRyYWZ0IHNlc3Npb25cbiAgICAgIH1cbiAgICAgIFxuICAgICAgYXdhaXQgY2FyZFN0dWRpby5jaGVja1BlbmRpbmdKb2JzKCk7XG4gICAgICBcbiAgICAgIC8vIFNtYWxsIGRlbGF5IHRvIGVuc3VyZSBzdGF0ZSB1cGRhdGVzIGhhdmUgcHJvcGFnYXRlZFxuICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIDEwMCkpO1xuICAgICAgXG4gICAgICAvLyBPbmx5IGF1dG8tbmF2aWdhdGUgaWYgdGhlcmUncyBhbiBhY3RpdmUgZ2VuZXJhdGlvbiBpbiBwcm9ncmVzc1xuICAgICAgLy8gRG9uJ3QgbmF2aWdhdGUgZm9yIGNvbXBsZXRlZCBkcmFmdHMgLSBsZXQgdXNlciBjaG9vc2VcbiAgICAgIGlmIChjYXJkU3R1ZGlvLmlzR2VuZXJhdGluZyAmJiBjYXJkU3R1ZGlvLmdlbmVyYXRpb25Qcm9ncmVzcykge1xuICAgICAgICBpZiAoY2FyZFN0dWRpby5pc0dlbmVyYXRpbmdGaW5hbENhcmQpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZygn8J+UhCBSZXN0b3JpbmcgdG8gU3RlcCA2IGR1ZSB0byBvbmdvaW5nIGZpbmFsIGdlbmVyYXRpb24nKTtcbiAgICAgICAgICAvLyBNYXJrIGFsbCBwcmV2aW91cyBzdGVwcyBhcyBjb21wbGV0ZWRcbiAgICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8PSA1OyBpKyspIHtcbiAgICAgICAgICAgIGlmICghd2l6YXJkU3RhdGUuY29tcGxldGVkU3RlcHMuaW5jbHVkZXMoaSkpIHdpemFyZFN0YXRlLm1hcmtTdGVwQ29tcGxldGVkKGkpO1xuICAgICAgICAgIH1cbiAgICAgICAgICB3aXphcmRTdGF0ZS51cGRhdGVDdXJyZW50U3RlcCg2KTtcbiAgICAgICAgfSBlbHNlIGlmIChjYXJkU3R1ZGlvLmlzRHJhZnRNb2RlICYmIGNhcmRTdHVkaW8uaXNHZW5lcmF0aW5nKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ/CflIQgUmVzdG9yaW5nIHRvIFN0ZXAgNSBkdWUgdG8gb25nb2luZyBkcmFmdCBnZW5lcmF0aW9uJyk7XG4gICAgICAgICAgLy8gTWFyayBwcmV2aW91cyBzdGVwcyBhcyBjb21wbGV0ZWRcbiAgICAgICAgICBpZiAoIXdpemFyZFN0YXRlLmNvbXBsZXRlZFN0ZXBzLmluY2x1ZGVzKDEpKSB3aXphcmRTdGF0ZS5tYXJrU3RlcENvbXBsZXRlZCgxKTtcbiAgICAgICAgICBpZiAoIXdpemFyZFN0YXRlLmNvbXBsZXRlZFN0ZXBzLmluY2x1ZGVzKDIpKSB3aXphcmRTdGF0ZS5tYXJrU3RlcENvbXBsZXRlZCgyKTtcbiAgICAgICAgICBpZiAoIXdpemFyZFN0YXRlLmNvbXBsZXRlZFN0ZXBzLmluY2x1ZGVzKDMpKSB3aXphcmRTdGF0ZS5tYXJrU3RlcENvbXBsZXRlZCgzKTtcbiAgICAgICAgICBpZiAoIXdpemFyZFN0YXRlLmNvbXBsZXRlZFN0ZXBzLmluY2x1ZGVzKDQpKSB3aXphcmRTdGF0ZS5tYXJrU3RlcENvbXBsZXRlZCg0KTtcbiAgICAgICAgICB3aXphcmRTdGF0ZS51cGRhdGVDdXJyZW50U3RlcCg1KTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gTm8gYWN0aXZlIGdlbmVyYXRpb24gLSByZXNldCB3aXphcmQgdG8gc3RlcCAxIGlmIHdlJ3JlIG9uIGEgbGF0ZXIgc3RlcFxuICAgICAgICAvLyBUaGlzIGhhbmRsZXMgdGhlIGNhc2Ugd2hlcmUgdXNlciBsZWZ0IG9mZiBvbiBzdGVwIDUgYnV0IGlzbid0IGFjdGl2ZWx5IGdlbmVyYXRpbmdcbiAgICAgICAgaWYgKHdpemFyZFN0YXRlLmN1cnJlbnRTdGVwID4gMSAmJiAhY2FyZFN0dWRpby5pc0dlbmVyYXRpbmcpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZygn8J+UhCBObyBhY3RpdmUgZ2VuZXJhdGlvbiwgcmVzZXR0aW5nIHRvIFN0ZXAgMScpO1xuICAgICAgICAgIHdpemFyZFN0YXRlLnVwZGF0ZUN1cnJlbnRTdGVwKDEpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICAvLyBJZiB3ZSBoYXZlIGNvbXBsZXRlZCBkcmFmdHMgYnV0IG5vIGFjdGl2ZSBnZW5lcmF0aW9uLCBzdGF5IG9uIFN0ZXAgMVxuICAgICAgLy8gVXNlciBjYW4gY2hvb3NlIHRvIHJlc3VtZSB2aWEgdGhlIFVJXG4gICAgfTtcbiAgICBcbiAgICByZXN0b3JlUGVuZGluZ0pvYnMoKTtcbiAgfSwgW10pO1xuXG4gIC8vIE9ubHkgbWFyayBzdGVwIDEgYXMgY29tcGxldGVkIGlmIHVzZXIgaGFzIG1hZGUgc2VsZWN0aW9ucywgYnV0IGRvbid0IGF1dG8tYWR2YW5jZVxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghd2l6YXJkU3RhdGUuaXNJbml0aWFsTG9hZENvbXBsZXRlIHx8ICFjYXJkRm9ybS5pc0luaXRpYWxMb2FkQ29tcGxldGUpIHJldHVybjtcbiAgICBcbiAgICAvLyBPbmx5IG1hcmsgc3RlcCBhcyBjb21wbGV0ZWQsIGRvbid0IG5hdmlnYXRlXG4gICAgaWYgKHdpemFyZFN0YXRlLmN1cnJlbnRTdGVwID09PSAxICYmICF3aXphcmRTdGF0ZS5jb21wbGV0ZWRTdGVwcy5pbmNsdWRlcygxKSkge1xuICAgICAgY29uc3QgZm9ybURhdGEgPSBjYXJkRm9ybS5mb3JtRGF0YTtcbiAgICAgIFxuICAgICAgLy8gTWFyayBzdGVwIDEgYXMgY29tcGxldGVkIGlmIHVzZXIgaGFzIG1hZGUgc2VsZWN0aW9uc1xuICAgICAgaWYgKGZvcm1EYXRhLnNlbGVjdGVkVHlwZSAmJiBmb3JtRGF0YS5zZWxlY3RlZFRvbmUpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ+KchSBNYXJraW5nIHN0ZXAgMSBhcyBjb21wbGV0ZWQgYmFzZWQgb24gc2F2ZWQgZGF0YScpO1xuICAgICAgICB3aXphcmRTdGF0ZS5tYXJrU3RlcENvbXBsZXRlZCgxKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIFt3aXphcmRTdGF0ZS5pc0luaXRpYWxMb2FkQ29tcGxldGUsIGNhcmRGb3JtLmlzSW5pdGlhbExvYWRDb21wbGV0ZV0pO1xuXG4gIC8vIE9ubHkgbmF2aWdhdGUgdG8gU3RlcCA1IHdoZW4gTkVXIGRyYWZ0IGNhcmRzIGFyZSBiZWluZyBnZW5lcmF0ZWQgKG5vdCByZXN0b3JlZClcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAvLyBPbmx5IG5hdmlnYXRlIGlmIHdlJ3JlIGFjdGl2ZWx5IGdlbmVyYXRpbmcgTkVXIGRyYWZ0cywgbm90IHJlc3RvcmluZyBvbGQgb25lc1xuICAgIGlmIChjYXJkU3R1ZGlvLmRyYWZ0Q2FyZHMubGVuZ3RoID4gMCAmJiBcbiAgICAgICAgd2l6YXJkU3RhdGUuY3VycmVudFN0ZXAgPCA1ICYmIFxuICAgICAgICBjYXJkU3R1ZGlvLmlzR2VuZXJhdGluZyAmJiBcbiAgICAgICAgIWlzUmVzdG9yaW5nSm9icykge1xuICAgICAgY29uc29sZS5sb2coJ/Cfk4sgTmV3IGRyYWZ0IGNhcmRzIGJlaW5nIGdlbmVyYXRlZCwgbmF2aWdhdGluZyB0byBTdGVwIDUnKTtcbiAgICAgIC8vIE1hcmsgcHJldmlvdXMgc3RlcHMgYXMgY29tcGxldGVkXG4gICAgICBmb3IgKGxldCBpID0gMTsgaSA8PSA0OyBpKyspIHtcbiAgICAgICAgaWYgKCF3aXphcmRTdGF0ZS5jb21wbGV0ZWRTdGVwcy5pbmNsdWRlcyhpKSkge1xuICAgICAgICAgIHdpemFyZFN0YXRlLm1hcmtTdGVwQ29tcGxldGVkKGkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB3aXphcmRTdGF0ZS51cGRhdGVDdXJyZW50U3RlcCg1KTtcbiAgICB9XG4gIH0sIFtjYXJkU3R1ZGlvLmRyYWZ0Q2FyZHMubGVuZ3RoLCBjYXJkU3R1ZGlvLmlzR2VuZXJhdGluZywgaXNSZXN0b3JpbmdKb2JzXSk7XG5cbiAgLy8gQXV0by1zYXZlIGRyYWZ0cyB3aGVuIHVzZXIgY3JlYXRlcyBkcmFmdCBjYXJkc1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIC8vIFNraXAgYXV0by1zYXZlIGlmIGNhcmQgaXMgYWxyZWFkeSBjb21wbGV0ZWRcbiAgICBpZiAoY2FyZFN0dWRpby5pc0NhcmRDb21wbGV0ZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgXG4gICAgLy8gT25seSBzYXZlIGlmIHdlIGhhdmUgZHJhZnQgY2FyZHMgYW5kIG5vdCByZXN1bWluZyBvciByZXN0b3JpbmdcbiAgICBpZiAoY2FyZFN0dWRpby5kcmFmdENhcmRzLmxlbmd0aCA+IDApIHtcbiAgICAgIGNvbnNvbGUubG9nKCfwn5SNIEF1dG8tc2F2ZSBjaGVjazonLCB7XG4gICAgICAgIGhhc0NhcmRzOiBjYXJkU3R1ZGlvLmRyYWZ0Q2FyZHMubGVuZ3RoID4gMCxcbiAgICAgICAgaXNJbml0aWFsTG9hZENvbXBsZXRlOiBjYXJkRm9ybS5pc0luaXRpYWxMb2FkQ29tcGxldGUsXG4gICAgICAgIGlzUmVzdW1pbmdEcmFmdCxcbiAgICAgICAgaXNSZXN0b3JpbmdKb2JzLFxuICAgICAgICBpc0NhcmRDb21wbGV0ZWQ6IGNhcmRTdHVkaW8uaXNDYXJkQ29tcGxldGVkLFxuICAgICAgICBzaG91bGRTYXZlOiBjYXJkRm9ybS5pc0luaXRpYWxMb2FkQ29tcGxldGUgJiYgIWlzUmVzdW1pbmdEcmFmdCAmJiAhaXNSZXN0b3JpbmdKb2JzICYmICFjYXJkU3R1ZGlvLmlzQ2FyZENvbXBsZXRlZFxuICAgICAgfSk7XG4gICAgfVxuICAgIFxuICAgIGlmIChjYXJkU3R1ZGlvLmRyYWZ0Q2FyZHMubGVuZ3RoID4gMCAmJiBjYXJkRm9ybS5pc0luaXRpYWxMb2FkQ29tcGxldGUgJiYgIWlzUmVzdW1pbmdEcmFmdCAmJiAhaXNSZXN0b3JpbmdKb2JzICYmICFjYXJkU3R1ZGlvLmlzQ2FyZENvbXBsZXRlZCkge1xuICAgICAgLy8gQ291bnQgbm9uLW51bGwgZHJhZnQgY2FyZHNcbiAgICAgIGNvbnN0IHZhbGlkRHJhZnRzID0gY2FyZFN0dWRpby5kcmFmdENhcmRzLmZpbHRlcihjYXJkID0+IGNhcmQgIT09IG51bGwpLmxlbmd0aDtcbiAgICAgIFxuICAgICAgLy8gT25seSBzYXZlIHdoZW46XG4gICAgICAvLyAxLiBBbGwgNSBkcmFmdHMgYXJlIGNvbXBsZXRlICh2YWxpZERyYWZ0cyA9PT0gNSlcbiAgICAgIC8vIDIuIFRoaXMgaXMgdGhlIGZpcnN0IGRyYWZ0IGFuZCB3ZSBoYXZlbid0IHNhdmVkIHlldCAodmFsaWREcmFmdHMgPT09IDEgJiYgIWN1cnJlbnREcmFmdFNlc3Npb25JZClcbiAgICAgIC8vIDMuIFVzZXIgc2VsZWN0ZWQgYSBkcmFmdCAoc2VsZWN0ZWREcmFmdEluZGV4ID49IDApXG4gICAgICBjb25zdCBzaG91bGRTYXZlID0gKFxuICAgICAgICAodmFsaWREcmFmdHMgPT09IDUgJiYgbGFzdFNhdmVkRHJhZnRDb3VudCA8IDUpIHx8IC8vIEFsbCBkcmFmdHMgY29tcGxldGVcbiAgICAgICAgKHZhbGlkRHJhZnRzID09PSAxICYmICFjdXJyZW50RHJhZnRTZXNzaW9uSWQpIHx8IC8vIEZpcnN0IGRyYWZ0XG4gICAgICAgIChjYXJkU3R1ZGlvLnNlbGVjdGVkRHJhZnRJbmRleCA+PSAwICYmIHZhbGlkRHJhZnRzID4gbGFzdFNhdmVkRHJhZnRDb3VudCkgLy8gVXNlciBzZWxlY3RlZFxuICAgICAgKTtcbiAgICAgIFxuICAgICAgaWYgKHNob3VsZFNhdmUgJiYgdmFsaWREcmFmdHMgPiAwKSB7XG4gICAgICAgIC8vIFNhdmUgb3IgdXBkYXRlIHRoZSBzZXNzaW9uIHdpdGggdGhlIHNhbWUgSURcbiAgICAgICAgY29uc3Qgc2Vzc2lvbklkID0gY2FyZEhpc3Rvcnkuc2F2ZURyYWZ0U2Vzc2lvbihcbiAgICAgICAgICBjYXJkRm9ybS5mb3JtRGF0YSxcbiAgICAgICAgICBjYXJkU3R1ZGlvLmRyYWZ0Q2FyZHMsXG4gICAgICAgICAgY2FyZFN0dWRpby5zZWxlY3RlZERyYWZ0SW5kZXgsXG4gICAgICAgICAgY3VycmVudERyYWZ0U2Vzc2lvbklkIHx8IHVuZGVmaW5lZCAvLyBVc2UgZXhpc3Rpbmcgc2Vzc2lvbiBJRCBpZiBhdmFpbGFibGVcbiAgICAgICAgKTtcbiAgICAgICAgXG4gICAgICAgIC8vIFN0b3JlIHRoZSBzZXNzaW9uIElEIGZvciBmdXR1cmUgdXBkYXRlc1xuICAgICAgICBpZiAoIWN1cnJlbnREcmFmdFNlc3Npb25JZCkge1xuICAgICAgICAgIHNldEN1cnJlbnREcmFmdFNlc3Npb25JZChzZXNzaW9uSWQpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyBVcGRhdGUgdGhlIGxhc3Qgc2F2ZWQgY291bnRcbiAgICAgICAgc2V0TGFzdFNhdmVkRHJhZnRDb3VudCh2YWxpZERyYWZ0cyk7XG4gICAgICAgIFxuICAgICAgICBjb25zb2xlLmxvZyhg8J+SviBEcmFmdCBzZXNzaW9uIHNhdmVkOiAke3ZhbGlkRHJhZnRzfS81IGRyYWZ0cyBjb21wbGV0ZWApO1xuICAgICAgfVxuICAgIH1cbiAgfSwgW2NhcmRTdHVkaW8uZHJhZnRDYXJkcywgY2FyZFN0dWRpby5zZWxlY3RlZERyYWZ0SW5kZXgsIGNhcmRGb3JtLmZvcm1EYXRhLCBjYXJkRm9ybS5pc0luaXRpYWxMb2FkQ29tcGxldGUsIGlzUmVzdW1pbmdEcmFmdCwgaXNSZXN0b3JpbmdKb2JzLCBjdXJyZW50RHJhZnRTZXNzaW9uSWQsIGxhc3RTYXZlZERyYWZ0Q291bnQsIGNhcmRTdHVkaW8uaXNDYXJkQ29tcGxldGVkXSk7XG4gIFxuICAvLyBSZXNldCBzZXNzaW9uIElEIHdoZW4gZHJhZnRzIGFyZSBjbGVhcmVkXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgdmFsaWREcmFmdHMgPSBjYXJkU3R1ZGlvLmRyYWZ0Q2FyZHMuZmlsdGVyKGNhcmQgPT4gY2FyZCAhPT0gbnVsbCkubGVuZ3RoO1xuICAgIGlmICh2YWxpZERyYWZ0cyA9PT0gMCkge1xuICAgICAgc2V0Q3VycmVudERyYWZ0U2Vzc2lvbklkKG51bGwpO1xuICAgICAgc2V0TGFzdFNhdmVkRHJhZnRDb3VudCgwKTtcbiAgICB9XG4gIH0sIFtjYXJkU3R1ZGlvLmRyYWZ0Q2FyZHNdKTtcblxuICAvLyBBdXRvLXNhdmUgY29tcGxldGVkIGNhcmRzIGFuZCBlbnN1cmUgd2UncmUgb24gU3RlcCA2XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGNhcmRTdHVkaW8uZ2VuZXJhdGVkQ2FyZCAmJiBjYXJkU3R1ZGlvLmlzQ2FyZENvbXBsZXRlZCkge1xuICAgICAgLy8gT25seSBhZGQgdG8gaGlzdG9yeSBpZiBub3QgYWxyZWFkeSBhZGRlZCAocHJldmVudCBkdXBsaWNhdGVzKVxuICAgICAgY29uc3QgZXhpc3RpbmdDYXJkID0gY2FyZEhpc3RvcnkuY2FyZEhpc3RvcnkuZmluZChjYXJkID0+IGNhcmQuaWQgPT09IGNhcmRTdHVkaW8uZ2VuZXJhdGVkQ2FyZC5pZCk7XG4gICAgICBpZiAoIWV4aXN0aW5nQ2FyZCkge1xuICAgICAgICBjYXJkSGlzdG9yeS5hZGRDb21wbGV0ZWRDYXJkKGNhcmRTdHVkaW8uZ2VuZXJhdGVkQ2FyZCk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIENsZWFyIGRyYWZ0IHNlc3Npb24gc2luY2UgY2FyZCBpcyBjb21wbGV0ZWQgKG9ubHkgaWYgbm90IGFscmVhZHkgY2xlYXJlZClcbiAgICAgIGlmIChjdXJyZW50RHJhZnRTZXNzaW9uSWQpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ/Cfp7kgQ2xlYXJpbmcgZHJhZnQgc2Vzc2lvbiBhZnRlciBzdWNjZXNzZnVsIGNhcmQgY29tcGxldGlvbicpO1xuICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgndmliZS1jdXJyZW50LWRyYWZ0LXNlc3Npb24nKTtcbiAgICAgICAgY2FyZEhpc3RvcnkucmVtb3ZlRHJhZnRTZXNzaW9uKGN1cnJlbnREcmFmdFNlc3Npb25JZCk7XG4gICAgICAgIHNldEN1cnJlbnREcmFmdFNlc3Npb25JZChudWxsKTtcbiAgICAgICAgc2V0TGFzdFNhdmVkRHJhZnRDb3VudCgwKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gRW5zdXJlIHdlJ3JlIG9uIFN0ZXAgNiB0byBzZWUgdGhlIGNvbXBsZXRlZCBjYXJkXG4gICAgICBpZiAod2l6YXJkU3RhdGUuY3VycmVudFN0ZXAgIT09IDYpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ/Cfk40gQ2FyZCBjb21wbGV0ZWQgYnV0IG5vdCBvbiBTdGVwIDYsIG5hdmlnYXRpbmcgdGhlcmUgbm93Li4uJyk7XG4gICAgICAgIHdpemFyZFN0YXRlLnVwZGF0ZUN1cnJlbnRTdGVwKDYpO1xuICAgICAgfVxuICAgIH1cbiAgfSwgW2NhcmRTdHVkaW8uZ2VuZXJhdGVkQ2FyZCwgY2FyZFN0dWRpby5pc0NhcmRDb21wbGV0ZWRdKTtcblxuICAvLyBTeW5jIGZvcm0gZGF0YSB3aXRoIGNhcmRTdHVkaW8gd2hlbiBmb3JtIGRhdGEgY2hhbmdlc1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghY2FyZEZvcm0uaXNJbml0aWFsTG9hZENvbXBsZXRlKSByZXR1cm47XG5cbiAgICBjb25zdCB7IGZvcm1EYXRhIH0gPSBjYXJkRm9ybTtcbiAgICBcbiAgICAvLyBVcGRhdGUgY2FyZFN0dWRpbyB3aXRoIGZvcm0gZGF0YVxuICAgIGNhcmRTdHVkaW8uc2V0U2VsZWN0ZWRUeXBlKGZvcm1EYXRhLnNlbGVjdGVkVHlwZSk7XG4gICAgY2FyZFN0dWRpby5zZXRDdXN0b21DYXJkVHlwZShmb3JtRGF0YS5jdXN0b21DYXJkVHlwZSk7XG4gICAgY2FyZFN0dWRpby5zZXRTZWxlY3RlZFRvbmUoZm9ybURhdGEuc2VsZWN0ZWRUb25lKTtcbiAgICBjYXJkU3R1ZGlvLnNldFRvRmllbGQoZm9ybURhdGEudG9GaWVsZCk7XG4gICAgY2FyZFN0dWRpby5zZXRGcm9tRmllbGQoZm9ybURhdGEuZnJvbUZpZWxkKTtcbiAgICBjYXJkU3R1ZGlvLnNldFJlbGF0aW9uc2hpcEZpZWxkKGZvcm1EYXRhLnJlbGF0aW9uc2hpcEZpZWxkKTtcbiAgICBjYXJkU3R1ZGlvLnNldFByb21wdChmb3JtRGF0YS5wcm9tcHQpO1xuICAgIGNhcmRTdHVkaW8uc2V0UGVyc29uYWxUcmFpdHMoZm9ybURhdGEucGVyc29uYWxUcmFpdHMpO1xuICAgIGNhcmRTdHVkaW8uc2V0RmluYWxDYXJkTWVzc2FnZShmb3JtRGF0YS5maW5hbENhcmRNZXNzYWdlKTtcbiAgICBjYXJkU3R1ZGlvLnNldElzSGFuZHdyaXR0ZW5NZXNzYWdlKGZvcm1EYXRhLmlzSGFuZHdyaXR0ZW5NZXNzYWdlKTtcbiAgICBjYXJkU3R1ZGlvLnNldFNlbGVjdGVkQXJ0aXN0aWNTdHlsZShmb3JtRGF0YS5zZWxlY3RlZEFydGlzdGljU3R5bGUpO1xuICAgIGNhcmRTdHVkaW8uc2V0Q3VzdG9tU3R5bGVEZXNjcmlwdGlvbihmb3JtRGF0YS5jdXN0b21TdHlsZURlc2NyaXB0aW9uKTtcbiAgICAvLyBTa2lwIHN5bmNpbmcgcmVmZXJlbmNlIGltYWdlcyBmcm9tIGZvcm0gdG8gY2FyZFN0dWRpb1xuICAgIC8vIFRoaXMgc2hvdWxkIG9ubHkgZmxvdyBmcm9tIGNhcmRTdHVkaW8gLT4gZm9ybSBhZnRlciB1cGxvYWRzXG4gICAgLy8gY2FyZFN0dWRpby5zZXRSZWZlcmVuY2VJbWFnZXMoZm9ybURhdGEucmVmZXJlbmNlSW1hZ2VzKTtcbiAgICAvLyBjYXJkU3R1ZGlvLnNldFJlZmVyZW5jZUltYWdlVXJscyhmb3JtRGF0YS5yZWZlcmVuY2VJbWFnZVVybHMpO1xuICAgIGNhcmRTdHVkaW8uc2V0VXNlckVtYWlsKGZvcm1EYXRhLnVzZXJFbWFpbCk7XG4gICAgY2FyZFN0dWRpby5zZXRTZWxlY3RlZEltYWdlTW9kZWwoZm9ybURhdGEuc2VsZWN0ZWRJbWFnZU1vZGVsKTtcbiAgICBjYXJkU3R1ZGlvLnNldFNlbGVjdGVkRHJhZnRNb2RlbChmb3JtRGF0YS5zZWxlY3RlZERyYWZ0TW9kZWwpO1xuICAgIGNhcmRTdHVkaW8uc2V0U2VsZWN0ZWRQYXBlclNpemUoZm9ybURhdGEuc2VsZWN0ZWRQYXBlclNpemUpO1xuICAgIGNhcmRTdHVkaW8uc2V0TnVtYmVyT2ZDYXJkcyhmb3JtRGF0YS5udW1iZXJPZkNhcmRzKTtcbiAgICBjYXJkU3R1ZGlvLnNldElzRnJvbnRCYWNrT25seShmb3JtRGF0YS5pc0Zyb250QmFja09ubHkpO1xuICB9LCBbY2FyZEZvcm0uZm9ybURhdGEsIGNhcmRGb3JtLmlzSW5pdGlhbExvYWRDb21wbGV0ZV0pO1xuXG4gIC8vIEF1dG8tY29tcGxldGUgc3RlcCAxIG9uY2UgdXNlciBtYWtlcyBzZWxlY3Rpb25zXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGNhcmRGb3JtLnZhbGlkYXRlU3RlcCgxKSAmJiAhd2l6YXJkU3RhdGUuY29tcGxldGVkU3RlcHMuaW5jbHVkZXMoMSkpIHtcbiAgICAgIHdpemFyZFN0YXRlLm1hcmtTdGVwQ29tcGxldGVkKDEpO1xuICAgIH1cbiAgfSwgW2NhcmRGb3JtLmZvcm1EYXRhLnNlbGVjdGVkVHlwZSwgY2FyZEZvcm0uZm9ybURhdGEuc2VsZWN0ZWRUb25lLCBjYXJkRm9ybS5mb3JtRGF0YS5jdXN0b21DYXJkVHlwZSwgd2l6YXJkU3RhdGVdKTtcblxuICAvLyBBdXRvLWNvbXBsZXRlIHN0ZXAgNCBvbmNlIGVtYWlsIGlzIHZhbGlkXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGNhcmRGb3JtLnZhbGlkYXRlU3RlcCg0KSAmJiAhd2l6YXJkU3RhdGUuY29tcGxldGVkU3RlcHMuaW5jbHVkZXMoNCkpIHtcbiAgICAgIHdpemFyZFN0YXRlLm1hcmtTdGVwQ29tcGxldGVkKDQpO1xuICAgIH1cbiAgfSwgW2NhcmRGb3JtLmZvcm1EYXRhLnVzZXJFbWFpbCwgd2l6YXJkU3RhdGVdKTtcblxuICAvLyBBdXRvLWFkdmFuY2UgdG8gU3RlcCA2IHdoZW4gZmluYWwgY2FyZCBnZW5lcmF0aW9uIHN0YXJ0c1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChjYXJkU3R1ZGlvLmlzR2VuZXJhdGluZ0ZpbmFsQ2FyZCAmJiB3aXphcmRTdGF0ZS5jdXJyZW50U3RlcCA8IDYpIHtcbiAgICAgIGNvbnNvbGUubG9nKCfwn5qAIEF1dG8tYWR2YW5jaW5nIHRvIFN0ZXAgNjogRmluYWwgR2VuZXJhdGlvbicpO1xuICAgICAgaWYgKCF3aXphcmRTdGF0ZS5jb21wbGV0ZWRTdGVwcy5pbmNsdWRlcyg1KSkge1xuICAgICAgICB3aXphcmRTdGF0ZS5tYXJrU3RlcENvbXBsZXRlZCg1KTtcbiAgICAgIH1cbiAgICAgIHdpemFyZFN0YXRlLnVwZGF0ZUN1cnJlbnRTdGVwKDYpO1xuICAgIH1cbiAgfSwgW2NhcmRTdHVkaW8uaXNHZW5lcmF0aW5nRmluYWxDYXJkLCB3aXphcmRTdGF0ZV0pO1xuXG4gIC8vIFN5bmMgcmVmZXJlbmNlIGltYWdlcyBmcm9tIGNhcmRTdHVkaW8gdG8gZm9ybSB3aGVuIHRoZXkgY2hhbmdlXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFjYXJkRm9ybS5pc0luaXRpYWxMb2FkQ29tcGxldGUpIHJldHVybjtcbiAgICBcbiAgICAvLyBTeW5jIGlmIGNhcmRTdHVkaW8gaGFzIGltYWdlcyBidXQgZm9ybSBkb2Vzbid0LCBvciBpZiBwaG90b1JlZmVyZW5jZXMgY2hhbmdlZFxuICAgIGNvbnN0IHNob3VsZFN5bmMgPSAoXG4gICAgICAoY2FyZFN0dWRpby5yZWZlcmVuY2VJbWFnZVVybHMubGVuZ3RoID4gMCAmJiBcbiAgICAgICBjYXJkRm9ybS5mb3JtRGF0YS5yZWZlcmVuY2VJbWFnZVVybHMubGVuZ3RoICE9PSBjYXJkU3R1ZGlvLnJlZmVyZW5jZUltYWdlVXJscy5sZW5ndGgpIHx8XG4gICAgICAoY2FyZFN0dWRpby5waG90b1JlZmVyZW5jZXMgJiYgY2FyZFN0dWRpby5waG90b1JlZmVyZW5jZXMgIT09IGNhcmRGb3JtLmZvcm1EYXRhLnBob3RvUmVmZXJlbmNlcylcbiAgICApO1xuICAgIFxuICAgIGlmIChzaG91bGRTeW5jKSB7XG4gICAgICBjYXJkRm9ybS51cGRhdGVGb3JtRGF0YSh7XG4gICAgICAgIHJlZmVyZW5jZUltYWdlczogY2FyZFN0dWRpby5yZWZlcmVuY2VJbWFnZXMsXG4gICAgICAgIHJlZmVyZW5jZUltYWdlVXJsczogY2FyZFN0dWRpby5yZWZlcmVuY2VJbWFnZVVybHMsXG4gICAgICAgIHBob3RvUmVmZXJlbmNlczogY2FyZFN0dWRpby5waG90b1JlZmVyZW5jZXNcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwgW2NhcmRTdHVkaW8ucmVmZXJlbmNlSW1hZ2VVcmxzLCBjYXJkU3R1ZGlvLnJlZmVyZW5jZUltYWdlcywgY2FyZFN0dWRpby5waG90b1JlZmVyZW5jZXMsIGNhcmRGb3JtLmlzSW5pdGlhbExvYWRDb21wbGV0ZV0pO1xuXG4gIHJldHVybiBudWxsO1xufSJdLCJuYW1lcyI6WyJ1c2VFZmZlY3QiLCJ1c2VTdGF0ZSIsIkNhcmRXaXphcmRFZmZlY3RzIiwiY2FyZFN0dWRpbyIsImNhcmRGb3JtIiwiY2FyZEhpc3RvcnkiLCJ3aXphcmRTdGF0ZSIsInVwZGF0ZVdpemFyZFN0YXRlIiwiaXNSZXN1bWluZ0RyYWZ0IiwiaXNSZXN0b3JpbmdKb2JzIiwiY3VycmVudERyYWZ0U2Vzc2lvbklkIiwic2V0Q3VycmVudERyYWZ0U2Vzc2lvbklkIiwibGFzdFNhdmVkRHJhZnRDb3VudCIsInNldExhc3RTYXZlZERyYWZ0Q291bnQiLCJyZXN0b3JlUGVuZGluZ0pvYnMiLCJjb25zb2xlIiwibG9nIiwiY3VycmVudFNlc3Npb24iLCJKU09OIiwicGFyc2UiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwiZHJhZnRDYXJkcyIsImxlbmd0aCIsImRyYWZ0QWdlIiwiRGF0ZSIsIm5vdyIsInNhdmVkQXQiLCJnZXRUaW1lIiwidHdvSG91cnMiLCJzZXREcmFmdENhcmRzIiwic2V0SXNEcmFmdE1vZGUiLCJmb3JtRGF0YSIsInVwZGF0ZUZvcm1EYXRhIiwiaWQiLCJyZW1vdmVJdGVtIiwicmVtb3ZlRHJhZnRTZXNzaW9uIiwiY2hlY2tQZW5kaW5nSm9icyIsIlByb21pc2UiLCJyZXNvbHZlIiwic2V0VGltZW91dCIsImlzR2VuZXJhdGluZyIsImdlbmVyYXRpb25Qcm9ncmVzcyIsImlzR2VuZXJhdGluZ0ZpbmFsQ2FyZCIsImkiLCJjb21wbGV0ZWRTdGVwcyIsImluY2x1ZGVzIiwibWFya1N0ZXBDb21wbGV0ZWQiLCJ1cGRhdGVDdXJyZW50U3RlcCIsImlzRHJhZnRNb2RlIiwiY3VycmVudFN0ZXAiLCJpc0luaXRpYWxMb2FkQ29tcGxldGUiLCJzZWxlY3RlZFR5cGUiLCJzZWxlY3RlZFRvbmUiLCJpc0NhcmRDb21wbGV0ZWQiLCJoYXNDYXJkcyIsInNob3VsZFNhdmUiLCJ2YWxpZERyYWZ0cyIsImZpbHRlciIsImNhcmQiLCJzZWxlY3RlZERyYWZ0SW5kZXgiLCJzZXNzaW9uSWQiLCJzYXZlRHJhZnRTZXNzaW9uIiwidW5kZWZpbmVkIiwiZ2VuZXJhdGVkQ2FyZCIsImV4aXN0aW5nQ2FyZCIsImZpbmQiLCJhZGRDb21wbGV0ZWRDYXJkIiwic2V0U2VsZWN0ZWRUeXBlIiwic2V0Q3VzdG9tQ2FyZFR5cGUiLCJjdXN0b21DYXJkVHlwZSIsInNldFNlbGVjdGVkVG9uZSIsInNldFRvRmllbGQiLCJ0b0ZpZWxkIiwic2V0RnJvbUZpZWxkIiwiZnJvbUZpZWxkIiwic2V0UmVsYXRpb25zaGlwRmllbGQiLCJyZWxhdGlvbnNoaXBGaWVsZCIsInNldFByb21wdCIsInByb21wdCIsInNldFBlcnNvbmFsVHJhaXRzIiwicGVyc29uYWxUcmFpdHMiLCJzZXRGaW5hbENhcmRNZXNzYWdlIiwiZmluYWxDYXJkTWVzc2FnZSIsInNldElzSGFuZHdyaXR0ZW5NZXNzYWdlIiwiaXNIYW5kd3JpdHRlbk1lc3NhZ2UiLCJzZXRTZWxlY3RlZEFydGlzdGljU3R5bGUiLCJzZWxlY3RlZEFydGlzdGljU3R5bGUiLCJzZXRDdXN0b21TdHlsZURlc2NyaXB0aW9uIiwiY3VzdG9tU3R5bGVEZXNjcmlwdGlvbiIsInNldFVzZXJFbWFpbCIsInVzZXJFbWFpbCIsInNldFNlbGVjdGVkSW1hZ2VNb2RlbCIsInNlbGVjdGVkSW1hZ2VNb2RlbCIsInNldFNlbGVjdGVkRHJhZnRNb2RlbCIsInNlbGVjdGVkRHJhZnRNb2RlbCIsInNldFNlbGVjdGVkUGFwZXJTaXplIiwic2VsZWN0ZWRQYXBlclNpemUiLCJzZXROdW1iZXJPZkNhcmRzIiwibnVtYmVyT2ZDYXJkcyIsInNldElzRnJvbnRCYWNrT25seSIsImlzRnJvbnRCYWNrT25seSIsInZhbGlkYXRlU3RlcCIsInNob3VsZFN5bmMiLCJyZWZlcmVuY2VJbWFnZVVybHMiLCJwaG90b1JlZmVyZW5jZXMiLCJyZWZlcmVuY2VJbWFnZXMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./components/wizard/CardWizardEffects.tsx\n");

/***/ }),

/***/ "(ssr)/./components/wizard/CardWizardHelpers.tsx":
/*!*************************************************!*\
  !*** ./components/wizard/CardWizardHelpers.tsx ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createFileUploadWrapper: () => (/* binding */ createFileUploadWrapper),\n/* harmony export */   createMessageHelpWrapper: () => (/* binding */ createMessageHelpWrapper),\n/* harmony export */   createRedoWrapper: () => (/* binding */ createRedoWrapper),\n/* harmony export */   createUndoWrapper: () => (/* binding */ createUndoWrapper),\n/* harmony export */   extractCardTypeFromPrompt: () => (/* binding */ extractCardTypeFromPrompt),\n/* harmony export */   handleResumeDraft: () => (/* binding */ handleResumeDraft),\n/* harmony export */   handleTemplateSelect: () => (/* binding */ handleTemplateSelect)\n/* harmony export */ });\n/* harmony import */ var sonner__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! sonner */ \"(ssr)/./node_modules/sonner/dist/index.mjs\");\n/* __next_internal_client_entry_do_not_use__ extractCardTypeFromPrompt,createFileUploadWrapper,createMessageHelpWrapper,createUndoWrapper,createRedoWrapper,handleTemplateSelect,handleResumeDraft auto */ \n// Extract card type from prompt (basic implementation)\nconst extractCardTypeFromPrompt = (prompt)=>{\n    if (!prompt) return null;\n    const lowerPrompt = prompt.toLowerCase();\n    if (lowerPrompt.includes(\"birthday\")) return \"birthday\";\n    if (lowerPrompt.includes(\"thank\") || lowerPrompt.includes(\"grateful\")) return \"thank-you\";\n    if (lowerPrompt.includes(\"anniversary\")) return \"anniversary\";\n    if (lowerPrompt.includes(\"congratulat\")) return \"congratulations\";\n    if (lowerPrompt.includes(\"holiday\") || lowerPrompt.includes(\"christmas\") || lowerPrompt.includes(\"new year\")) return \"holiday\";\n    if (lowerPrompt.includes(\"love\") || lowerPrompt.includes(\"romantic\")) return \"love\";\n    if (lowerPrompt.includes(\"wedding\")) return \"wedding\";\n    if (lowerPrompt.includes(\"graduat\")) return \"graduation\";\n    if (lowerPrompt.includes(\"baby\")) return \"new-baby\";\n    if (lowerPrompt.includes(\"sorry\") || lowerPrompt.includes(\"apolog\")) return \"apology\";\n    return null;\n};\n// Create a wrapper for handleFileUpload that updates both form and cardStudio\nconst createFileUploadWrapper = (cardStudio, cardForm, updateFormData)=>{\n    return async (file, type)=>{\n        // Store the current state before upload\n        const prevImages = cardForm.formData.referenceImages || [];\n        const prevUrls = cardForm.formData.referenceImageUrls || [];\n        // Use the handleFileUpload method from cardStudio (useFileHandling hook)\n        // This will properly trigger the photo analysis modal\n        await cardStudio.handleFileUpload(file, type);\n        // After successful upload, sync the form data with cardStudio state\n        // For reference images, we need to sync the state immediately\n        if (type === \"reference\") {\n            // Wait a moment to ensure cardStudio state is updated\n            // This needs to be longer to avoid race conditions with CardWizardEffects\n            await new Promise((resolve)=>setTimeout(resolve, 100));\n            // Force sync the updated state to form data\n            // Get the latest state from cardStudio\n            const currentImages = cardStudio.referenceImages;\n            const currentUrls = cardStudio.referenceImageUrls;\n            // Always update form data with the current state\n            updateFormData({\n                referenceImages: currentImages,\n                referenceImageUrls: currentUrls\n            });\n        }\n    };\n};\n// Create a wrapper for handleGetMessageHelp that updates both form and cardStudio\nconst createMessageHelpWrapper = (cardStudio, updateFormData)=>{\n    return async (userInput, conversationHistory)=>{\n        const generatedMessage = await cardStudio.handleGetMessageHelp(userInput, conversationHistory);\n        // After message generation, update the form data with the new message\n        if (generatedMessage) {\n            updateFormData({\n                finalCardMessage: generatedMessage\n            });\n        }\n        return generatedMessage;\n    };\n};\n// Create wrappers for undo/redo that update both form and cardStudio\nconst createUndoWrapper = (cardStudio, updateFormData)=>{\n    return ()=>{\n        cardStudio.undoMessage();\n        // Update form data with the new message from history\n        if (cardStudio.currentMessageIndex > 0) {\n            const newMessage = cardStudio.messageHistory[cardStudio.currentMessageIndex - 1];\n            updateFormData({\n                finalCardMessage: newMessage\n            });\n        }\n    };\n};\nconst createRedoWrapper = (cardStudio, updateFormData)=>{\n    return ()=>{\n        cardStudio.redoMessage();\n        // Update form data with the new message from history\n        if (cardStudio.currentMessageIndex < cardStudio.messageHistory.length - 1) {\n            const newMessage = cardStudio.messageHistory[cardStudio.currentMessageIndex + 1];\n            updateFormData({\n                finalCardMessage: newMessage\n            });\n        }\n    };\n};\n// Handle template selection\nconst handleTemplateSelect = (template, updateFormData, cardStudio)=>{\n    // Update form data with template information\n    updateFormData({\n        prompt: template.prompt || \"\",\n        selectedType: extractCardTypeFromPrompt(template.prompt) || cardStudio.selectedType,\n        selectedArtisticStyle: template.styleInfo?.styleName || cardStudio.selectedArtisticStyle\n    });\n    // Store template info in cardStudio for later use\n    cardStudio.setSelectedTemplate(template);\n};\n// Resume draft session\nconst handleResumeDraft = (sessionId, cardHistory, cardForm, cardStudio, wizardState, setIsResumingDraft)=>{\n    // Set flag to prevent auto-saving during resume\n    setIsResumingDraft(true);\n    const session = cardHistory.resumeDraftSession(sessionId);\n    if (session) {\n        // Update form data with saved session data\n        cardForm.updateFormData(session.formData);\n        // Update cardStudio with draft cards\n        cardStudio.setDraftCards(session.draftCards);\n        cardStudio.setSelectedDraftIndex(session.selectedDraftIndex);\n        cardStudio.setIsDraftMode(true);\n        // Navigate to appropriate step\n        if (session.draftCards.length > 0) {\n            // If drafts exist, go to draft selection step\n            wizardState.updateCurrentStep(5);\n        } else {\n            // Otherwise go to content creation step\n            wizardState.updateCurrentStep(2);\n        }\n        sonner__WEBPACK_IMPORTED_MODULE_0__.toast.success(\"Draft session resumed successfully!\");\n        // Reset flag after a short delay to allow state updates to complete\n        setTimeout(()=>{\n            setIsResumingDraft(false);\n        }, 100);\n    } else {\n        setIsResumingDraft(false);\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9jb21wb25lbnRzL3dpemFyZC9DYXJkV2l6YXJkSGVscGVycy50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Mk1BRStCO0FBSS9CLHVEQUF1RDtBQUNoRCxNQUFNQyw0QkFBNEIsQ0FBQ0M7SUFDeEMsSUFBSSxDQUFDQSxRQUFRLE9BQU87SUFDcEIsTUFBTUMsY0FBY0QsT0FBT0UsV0FBVztJQUN0QyxJQUFJRCxZQUFZRSxRQUFRLENBQUMsYUFBYSxPQUFPO0lBQzdDLElBQUlGLFlBQVlFLFFBQVEsQ0FBQyxZQUFZRixZQUFZRSxRQUFRLENBQUMsYUFBYSxPQUFPO0lBQzlFLElBQUlGLFlBQVlFLFFBQVEsQ0FBQyxnQkFBZ0IsT0FBTztJQUNoRCxJQUFJRixZQUFZRSxRQUFRLENBQUMsZ0JBQWdCLE9BQU87SUFDaEQsSUFBSUYsWUFBWUUsUUFBUSxDQUFDLGNBQWNGLFlBQVlFLFFBQVEsQ0FBQyxnQkFBZ0JGLFlBQVlFLFFBQVEsQ0FBQyxhQUFhLE9BQU87SUFDckgsSUFBSUYsWUFBWUUsUUFBUSxDQUFDLFdBQVdGLFlBQVlFLFFBQVEsQ0FBQyxhQUFhLE9BQU87SUFDN0UsSUFBSUYsWUFBWUUsUUFBUSxDQUFDLFlBQVksT0FBTztJQUM1QyxJQUFJRixZQUFZRSxRQUFRLENBQUMsWUFBWSxPQUFPO0lBQzVDLElBQUlGLFlBQVlFLFFBQVEsQ0FBQyxTQUFTLE9BQU87SUFDekMsSUFBSUYsWUFBWUUsUUFBUSxDQUFDLFlBQVlGLFlBQVlFLFFBQVEsQ0FBQyxXQUFXLE9BQU87SUFDNUUsT0FBTztBQUNULEVBQUU7QUFFRiw4RUFBOEU7QUFDdkUsTUFBTUMsMEJBQTBCLENBQ3JDQyxZQUNBQyxVQUNBQztJQUVBLE9BQU8sT0FBT0MsTUFBWUM7UUFDeEIsd0NBQXdDO1FBQ3hDLE1BQU1DLGFBQWFKLFNBQVNLLFFBQVEsQ0FBQ0MsZUFBZSxJQUFJLEVBQUU7UUFDMUQsTUFBTUMsV0FBV1AsU0FBU0ssUUFBUSxDQUFDRyxrQkFBa0IsSUFBSSxFQUFFO1FB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O1FBRUF4RCx5Q0FBS0EsQ0FBQ3lELE9BQU8sQ0FBQztRQUVkLG9FQUFvRTtRQUNwRXJDLFdBQVc7WUFDVDRCLG1CQUFtQjtRQUNyQixHQUFHO0lBQ0wsT0FBTztRQUNMQSxtQkFBbUI7SUFDckI7QUFDRixFQUFFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdmliZWNhcmRpbmcvLi9jb21wb25lbnRzL3dpemFyZC9DYXJkV2l6YXJkSGVscGVycy50c3g/YTM2NyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIjtcblxuaW1wb3J0IHsgdG9hc3QgfSBmcm9tIFwic29ubmVyXCI7XG5pbXBvcnQgeyBDYXJkRm9ybURhdGEgfSBmcm9tIFwiQC9ob29rcy91c2VDYXJkRm9ybVwiO1xuaW1wb3J0IHsgR2VuZXJhdGVkQ2FyZCB9IGZyb20gXCJAL2hvb2tzL2NhcmRTdHVkaW8vY29uc3RhbnRzXCI7XG5cbi8vIEV4dHJhY3QgY2FyZCB0eXBlIGZyb20gcHJvbXB0IChiYXNpYyBpbXBsZW1lbnRhdGlvbilcbmV4cG9ydCBjb25zdCBleHRyYWN0Q2FyZFR5cGVGcm9tUHJvbXB0ID0gKHByb21wdDogc3RyaW5nKTogc3RyaW5nIHwgbnVsbCA9PiB7XG4gIGlmICghcHJvbXB0KSByZXR1cm4gbnVsbDtcbiAgY29uc3QgbG93ZXJQcm9tcHQgPSBwcm9tcHQudG9Mb3dlckNhc2UoKTtcbiAgaWYgKGxvd2VyUHJvbXB0LmluY2x1ZGVzKCdiaXJ0aGRheScpKSByZXR1cm4gJ2JpcnRoZGF5JztcbiAgaWYgKGxvd2VyUHJvbXB0LmluY2x1ZGVzKCd0aGFuaycpIHx8IGxvd2VyUHJvbXB0LmluY2x1ZGVzKCdncmF0ZWZ1bCcpKSByZXR1cm4gJ3RoYW5rLXlvdSc7XG4gIGlmIChsb3dlclByb21wdC5pbmNsdWRlcygnYW5uaXZlcnNhcnknKSkgcmV0dXJuICdhbm5pdmVyc2FyeSc7XG4gIGlmIChsb3dlclByb21wdC5pbmNsdWRlcygnY29uZ3JhdHVsYXQnKSkgcmV0dXJuICdjb25ncmF0dWxhdGlvbnMnO1xuICBpZiAobG93ZXJQcm9tcHQuaW5jbHVkZXMoJ2hvbGlkYXknKSB8fCBsb3dlclByb21wdC5pbmNsdWRlcygnY2hyaXN0bWFzJykgfHwgbG93ZXJQcm9tcHQuaW5jbHVkZXMoJ25ldyB5ZWFyJykpIHJldHVybiAnaG9saWRheSc7XG4gIGlmIChsb3dlclByb21wdC5pbmNsdWRlcygnbG92ZScpIHx8IGxvd2VyUHJvbXB0LmluY2x1ZGVzKCdyb21hbnRpYycpKSByZXR1cm4gJ2xvdmUnO1xuICBpZiAobG93ZXJQcm9tcHQuaW5jbHVkZXMoJ3dlZGRpbmcnKSkgcmV0dXJuICd3ZWRkaW5nJztcbiAgaWYgKGxvd2VyUHJvbXB0LmluY2x1ZGVzKCdncmFkdWF0JykpIHJldHVybiAnZ3JhZHVhdGlvbic7XG4gIGlmIChsb3dlclByb21wdC5pbmNsdWRlcygnYmFieScpKSByZXR1cm4gJ25ldy1iYWJ5JztcbiAgaWYgKGxvd2VyUHJvbXB0LmluY2x1ZGVzKCdzb3JyeScpIHx8IGxvd2VyUHJvbXB0LmluY2x1ZGVzKCdhcG9sb2cnKSkgcmV0dXJuICdhcG9sb2d5JztcbiAgcmV0dXJuIG51bGw7XG59O1xuXG4vLyBDcmVhdGUgYSB3cmFwcGVyIGZvciBoYW5kbGVGaWxlVXBsb2FkIHRoYXQgdXBkYXRlcyBib3RoIGZvcm0gYW5kIGNhcmRTdHVkaW9cbmV4cG9ydCBjb25zdCBjcmVhdGVGaWxlVXBsb2FkV3JhcHBlciA9IChcbiAgY2FyZFN0dWRpbzogYW55LFxuICBjYXJkRm9ybTogYW55LFxuICB1cGRhdGVGb3JtRGF0YTogKHVwZGF0ZXM6IGFueSkgPT4gdm9pZFxuKSA9PiB7XG4gIHJldHVybiBhc3luYyAoZmlsZTogRmlsZSwgdHlwZTogJ2hhbmR3cml0aW5nJyB8ICdyZWZlcmVuY2UnKSA9PiB7XG4gICAgLy8gU3RvcmUgdGhlIGN1cnJlbnQgc3RhdGUgYmVmb3JlIHVwbG9hZFxuICAgIGNvbnN0IHByZXZJbWFnZXMgPSBjYXJkRm9ybS5mb3JtRGF0YS5yZWZlcmVuY2VJbWFnZXMgfHwgW107XG4gICAgY29uc3QgcHJldlVybHMgPSBjYXJkRm9ybS5mb3JtRGF0YS5yZWZlcmVuY2VJbWFnZVVybHMgfHwgW107XG4gICAgXG4gICAgLy8gVXNlIHRoZSBoYW5kbGVGaWxlVXBsb2FkIG1ldGhvZCBmcm9tIGNhcmRTdHVkaW8gKHVzZUZpbGVIYW5kbGluZyBob29rKVxuICAgIC8vIFRoaXMgd2lsbCBwcm9wZXJseSB0cmlnZ2VyIHRoZSBwaG90byBhbmFseXNpcyBtb2RhbFxuICAgIGF3YWl0IGNhcmRTdHVkaW8uaGFuZGxlRmlsZVVwbG9hZChmaWxlLCB0eXBlKTtcbiAgICBcbiAgICAvLyBBZnRlciBzdWNjZXNzZnVsIHVwbG9hZCwgc3luYyB0aGUgZm9ybSBkYXRhIHdpdGggY2FyZFN0dWRpbyBzdGF0ZVxuICAgIC8vIEZvciByZWZlcmVuY2UgaW1hZ2VzLCB3ZSBuZWVkIHRvIHN5bmMgdGhlIHN0YXRlIGltbWVkaWF0ZWx5XG4gICAgaWYgKHR5cGUgPT09ICdyZWZlcmVuY2UnKSB7XG4gICAgICAvLyBXYWl0IGEgbW9tZW50IHRvIGVuc3VyZSBjYXJkU3R1ZGlvIHN0YXRlIGlzIHVwZGF0ZWRcbiAgICAgIC8vIFRoaXMgbmVlZHMgdG8gYmUgbG9uZ2VyIHRvIGF2b2lkIHJhY2UgY29uZGl0aW9ucyB3aXRoIENhcmRXaXphcmRFZmZlY3RzXG4gICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgMTAwKSk7XG4gICAgICBcbiAgICAgIC8vIEZvcmNlIHN5bmMgdGhlIHVwZGF0ZWQgc3RhdGUgdG8gZm9ybSBkYXRhXG4gICAgICAvLyBHZXQgdGhlIGxhdGVzdCBzdGF0ZSBmcm9tIGNhcmRTdHVkaW9cbiAgICAgIGNvbnN0IGN1cnJlbnRJbWFnZXMgPSBjYXJkU3R1ZGlvLnJlZmVyZW5jZUltYWdlcztcbiAgICAgIGNvbnN0IGN1cnJlbnRVcmxzID0gY2FyZFN0dWRpby5yZWZlcmVuY2VJbWFnZVVybHM7XG4gICAgICBcbiAgICAgIFxuICAgICAgLy8gQWx3YXlzIHVwZGF0ZSBmb3JtIGRhdGEgd2l0aCB0aGUgY3VycmVudCBzdGF0ZVxuICAgICAgdXBkYXRlRm9ybURhdGEoe1xuICAgICAgICByZWZlcmVuY2VJbWFnZXM6IGN1cnJlbnRJbWFnZXMsXG4gICAgICAgIHJlZmVyZW5jZUltYWdlVXJsczogY3VycmVudFVybHNcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcbn07XG5cbi8vIENyZWF0ZSBhIHdyYXBwZXIgZm9yIGhhbmRsZUdldE1lc3NhZ2VIZWxwIHRoYXQgdXBkYXRlcyBib3RoIGZvcm0gYW5kIGNhcmRTdHVkaW9cbmV4cG9ydCBjb25zdCBjcmVhdGVNZXNzYWdlSGVscFdyYXBwZXIgPSAoXG4gIGNhcmRTdHVkaW86IGFueSxcbiAgdXBkYXRlRm9ybURhdGE6ICh1cGRhdGVzOiBhbnkpID0+IHZvaWRcbikgPT4ge1xuICByZXR1cm4gYXN5bmMgKHVzZXJJbnB1dD86IHN0cmluZywgY29udmVyc2F0aW9uSGlzdG9yeT86IGFueVtdKSA9PiB7XG4gICAgY29uc3QgZ2VuZXJhdGVkTWVzc2FnZSA9IGF3YWl0IGNhcmRTdHVkaW8uaGFuZGxlR2V0TWVzc2FnZUhlbHAodXNlcklucHV0LCBjb252ZXJzYXRpb25IaXN0b3J5KTtcbiAgICBcbiAgICAvLyBBZnRlciBtZXNzYWdlIGdlbmVyYXRpb24sIHVwZGF0ZSB0aGUgZm9ybSBkYXRhIHdpdGggdGhlIG5ldyBtZXNzYWdlXG4gICAgaWYgKGdlbmVyYXRlZE1lc3NhZ2UpIHtcbiAgICAgIHVwZGF0ZUZvcm1EYXRhKHtcbiAgICAgICAgZmluYWxDYXJkTWVzc2FnZTogZ2VuZXJhdGVkTWVzc2FnZVxuICAgICAgfSk7XG4gICAgfVxuICAgIFxuICAgIHJldHVybiBnZW5lcmF0ZWRNZXNzYWdlO1xuICB9O1xufTtcblxuLy8gQ3JlYXRlIHdyYXBwZXJzIGZvciB1bmRvL3JlZG8gdGhhdCB1cGRhdGUgYm90aCBmb3JtIGFuZCBjYXJkU3R1ZGlvXG5leHBvcnQgY29uc3QgY3JlYXRlVW5kb1dyYXBwZXIgPSAoXG4gIGNhcmRTdHVkaW86IGFueSxcbiAgdXBkYXRlRm9ybURhdGE6ICh1cGRhdGVzOiBhbnkpID0+IHZvaWRcbikgPT4ge1xuICByZXR1cm4gKCkgPT4ge1xuICAgIGNhcmRTdHVkaW8udW5kb01lc3NhZ2UoKTtcbiAgICAvLyBVcGRhdGUgZm9ybSBkYXRhIHdpdGggdGhlIG5ldyBtZXNzYWdlIGZyb20gaGlzdG9yeVxuICAgIGlmIChjYXJkU3R1ZGlvLmN1cnJlbnRNZXNzYWdlSW5kZXggPiAwKSB7XG4gICAgICBjb25zdCBuZXdNZXNzYWdlID0gY2FyZFN0dWRpby5tZXNzYWdlSGlzdG9yeVtjYXJkU3R1ZGlvLmN1cnJlbnRNZXNzYWdlSW5kZXggLSAxXTtcbiAgICAgIHVwZGF0ZUZvcm1EYXRhKHtcbiAgICAgICAgZmluYWxDYXJkTWVzc2FnZTogbmV3TWVzc2FnZVxuICAgICAgfSk7XG4gICAgfVxuICB9O1xufTtcblxuZXhwb3J0IGNvbnN0IGNyZWF0ZVJlZG9XcmFwcGVyID0gKFxuICBjYXJkU3R1ZGlvOiBhbnksXG4gIHVwZGF0ZUZvcm1EYXRhOiAodXBkYXRlczogYW55KSA9PiB2b2lkXG4pID0+IHtcbiAgcmV0dXJuICgpID0+IHtcbiAgICBjYXJkU3R1ZGlvLnJlZG9NZXNzYWdlKCk7XG4gICAgLy8gVXBkYXRlIGZvcm0gZGF0YSB3aXRoIHRoZSBuZXcgbWVzc2FnZSBmcm9tIGhpc3RvcnlcbiAgICBpZiAoY2FyZFN0dWRpby5jdXJyZW50TWVzc2FnZUluZGV4IDwgY2FyZFN0dWRpby5tZXNzYWdlSGlzdG9yeS5sZW5ndGggLSAxKSB7XG4gICAgICBjb25zdCBuZXdNZXNzYWdlID0gY2FyZFN0dWRpby5tZXNzYWdlSGlzdG9yeVtjYXJkU3R1ZGlvLmN1cnJlbnRNZXNzYWdlSW5kZXggKyAxXTtcbiAgICAgIHVwZGF0ZUZvcm1EYXRhKHtcbiAgICAgICAgZmluYWxDYXJkTWVzc2FnZTogbmV3TWVzc2FnZVxuICAgICAgfSk7XG4gICAgfVxuICB9O1xufTtcblxuLy8gSGFuZGxlIHRlbXBsYXRlIHNlbGVjdGlvblxuZXhwb3J0IGNvbnN0IGhhbmRsZVRlbXBsYXRlU2VsZWN0ID0gKFxuICB0ZW1wbGF0ZTogYW55LFxuICB1cGRhdGVGb3JtRGF0YTogKHVwZGF0ZXM6IGFueSkgPT4gdm9pZCxcbiAgY2FyZFN0dWRpbzogYW55XG4pID0+IHtcbiAgLy8gVXBkYXRlIGZvcm0gZGF0YSB3aXRoIHRlbXBsYXRlIGluZm9ybWF0aW9uXG4gIHVwZGF0ZUZvcm1EYXRhKHtcbiAgICBwcm9tcHQ6IHRlbXBsYXRlLnByb21wdCB8fCAnJyxcbiAgICBzZWxlY3RlZFR5cGU6IGV4dHJhY3RDYXJkVHlwZUZyb21Qcm9tcHQodGVtcGxhdGUucHJvbXB0KSB8fCBjYXJkU3R1ZGlvLnNlbGVjdGVkVHlwZSxcbiAgICBzZWxlY3RlZEFydGlzdGljU3R5bGU6IHRlbXBsYXRlLnN0eWxlSW5mbz8uc3R5bGVOYW1lIHx8IGNhcmRTdHVkaW8uc2VsZWN0ZWRBcnRpc3RpY1N0eWxlXG4gIH0pO1xuICBcbiAgLy8gU3RvcmUgdGVtcGxhdGUgaW5mbyBpbiBjYXJkU3R1ZGlvIGZvciBsYXRlciB1c2VcbiAgY2FyZFN0dWRpby5zZXRTZWxlY3RlZFRlbXBsYXRlKHRlbXBsYXRlKTtcbn07XG5cbi8vIFJlc3VtZSBkcmFmdCBzZXNzaW9uXG5leHBvcnQgY29uc3QgaGFuZGxlUmVzdW1lRHJhZnQgPSAoXG4gIHNlc3Npb25JZDogc3RyaW5nLFxuICBjYXJkSGlzdG9yeTogYW55LFxuICBjYXJkRm9ybTogYW55LFxuICBjYXJkU3R1ZGlvOiBhbnksXG4gIHdpemFyZFN0YXRlOiBhbnksXG4gIHNldElzUmVzdW1pbmdEcmFmdDogKHZhbHVlOiBib29sZWFuKSA9PiB2b2lkXG4pID0+IHtcbiAgLy8gU2V0IGZsYWcgdG8gcHJldmVudCBhdXRvLXNhdmluZyBkdXJpbmcgcmVzdW1lXG4gIHNldElzUmVzdW1pbmdEcmFmdCh0cnVlKTtcbiAgXG4gIGNvbnN0IHNlc3Npb24gPSBjYXJkSGlzdG9yeS5yZXN1bWVEcmFmdFNlc3Npb24oc2Vzc2lvbklkKTtcbiAgaWYgKHNlc3Npb24pIHtcbiAgICAvLyBVcGRhdGUgZm9ybSBkYXRhIHdpdGggc2F2ZWQgc2Vzc2lvbiBkYXRhXG4gICAgY2FyZEZvcm0udXBkYXRlRm9ybURhdGEoc2Vzc2lvbi5mb3JtRGF0YSk7XG4gICAgXG4gICAgLy8gVXBkYXRlIGNhcmRTdHVkaW8gd2l0aCBkcmFmdCBjYXJkc1xuICAgIGNhcmRTdHVkaW8uc2V0RHJhZnRDYXJkcyhzZXNzaW9uLmRyYWZ0Q2FyZHMpO1xuICAgIGNhcmRTdHVkaW8uc2V0U2VsZWN0ZWREcmFmdEluZGV4KHNlc3Npb24uc2VsZWN0ZWREcmFmdEluZGV4KTtcbiAgICBjYXJkU3R1ZGlvLnNldElzRHJhZnRNb2RlKHRydWUpO1xuICAgIFxuICAgIC8vIE5hdmlnYXRlIHRvIGFwcHJvcHJpYXRlIHN0ZXBcbiAgICBpZiAoc2Vzc2lvbi5kcmFmdENhcmRzLmxlbmd0aCA+IDApIHtcbiAgICAgIC8vIElmIGRyYWZ0cyBleGlzdCwgZ28gdG8gZHJhZnQgc2VsZWN0aW9uIHN0ZXBcbiAgICAgIHdpemFyZFN0YXRlLnVwZGF0ZUN1cnJlbnRTdGVwKDUpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBPdGhlcndpc2UgZ28gdG8gY29udGVudCBjcmVhdGlvbiBzdGVwXG4gICAgICB3aXphcmRTdGF0ZS51cGRhdGVDdXJyZW50U3RlcCgyKTtcbiAgICB9XG4gICAgXG4gICAgdG9hc3Quc3VjY2VzcygnRHJhZnQgc2Vzc2lvbiByZXN1bWVkIHN1Y2Nlc3NmdWxseSEnKTtcbiAgICBcbiAgICAvLyBSZXNldCBmbGFnIGFmdGVyIGEgc2hvcnQgZGVsYXkgdG8gYWxsb3cgc3RhdGUgdXBkYXRlcyB0byBjb21wbGV0ZVxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgc2V0SXNSZXN1bWluZ0RyYWZ0KGZhbHNlKTtcbiAgICB9LCAxMDApO1xuICB9IGVsc2Uge1xuICAgIHNldElzUmVzdW1pbmdEcmFmdChmYWxzZSk7XG4gIH1cbn07Il0sIm5hbWVzIjpbInRvYXN0IiwiZXh0cmFjdENhcmRUeXBlRnJvbVByb21wdCIsInByb21wdCIsImxvd2VyUHJvbXB0IiwidG9Mb3dlckNhc2UiLCJpbmNsdWRlcyIsImNyZWF0ZUZpbGVVcGxvYWRXcmFwcGVyIiwiY2FyZFN0dWRpbyIsImNhcmRGb3JtIiwidXBkYXRlRm9ybURhdGEiLCJmaWxlIiwidHlwZSIsInByZXZJbWFnZXMiLCJmb3JtRGF0YSIsInJlZmVyZW5jZUltYWdlcyIsInByZXZVcmxzIiwicmVmZXJlbmNlSW1hZ2VVcmxzIiwiaGFuZGxlRmlsZVVwbG9hZCIsIlByb21pc2UiLCJyZXNvbHZlIiwic2V0VGltZW91dCIsImN1cnJlbnRJbWFnZXMiLCJjdXJyZW50VXJscyIsImNyZWF0ZU1lc3NhZ2VIZWxwV3JhcHBlciIsInVzZXJJbnB1dCIsImNvbnZlcnNhdGlvbkhpc3RvcnkiLCJnZW5lcmF0ZWRNZXNzYWdlIiwiaGFuZGxlR2V0TWVzc2FnZUhlbHAiLCJmaW5hbENhcmRNZXNzYWdlIiwiY3JlYXRlVW5kb1dyYXBwZXIiLCJ1bmRvTWVzc2FnZSIsImN1cnJlbnRNZXNzYWdlSW5kZXgiLCJuZXdNZXNzYWdlIiwibWVzc2FnZUhpc3RvcnkiLCJjcmVhdGVSZWRvV3JhcHBlciIsInJlZG9NZXNzYWdlIiwibGVuZ3RoIiwiaGFuZGxlVGVtcGxhdGVTZWxlY3QiLCJ0ZW1wbGF0ZSIsInNlbGVjdGVkVHlwZSIsInNlbGVjdGVkQXJ0aXN0aWNTdHlsZSIsInN0eWxlSW5mbyIsInN0eWxlTmFtZSIsInNldFNlbGVjdGVkVGVtcGxhdGUiLCJoYW5kbGVSZXN1bWVEcmFmdCIsInNlc3Npb25JZCIsImNhcmRIaXN0b3J5Iiwid2l6YXJkU3RhdGUiLCJzZXRJc1Jlc3VtaW5nRHJhZnQiLCJzZXNzaW9uIiwicmVzdW1lRHJhZnRTZXNzaW9uIiwic2V0RHJhZnRDYXJkcyIsImRyYWZ0Q2FyZHMiLCJzZXRTZWxlY3RlZERyYWZ0SW5kZXgiLCJzZWxlY3RlZERyYWZ0SW5kZXgiLCJzZXRJc0RyYWZ0TW9kZSIsInVwZGF0ZUN1cnJlbnRTdGVwIiwic3VjY2VzcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./components/wizard/CardWizardHelpers.tsx\n");

/***/ }),

/***/ "(ssr)/./components/wizard/CardWizardRefactored.tsx":
/*!****************************************************!*\
  !*** ./components/wizard/CardWizardRefactored.tsx ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ CardWizard)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _components_ui_card__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/components/ui/card */ \"(ssr)/./components/ui/card.tsx\");\n/* harmony import */ var _components_ui_button__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/components/ui/button */ \"(ssr)/./components/ui/button.tsx\");\n/* harmony import */ var _barrel_optimize_names_CheckCircle_Clock_History_Plus_lucide_react__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! __barrel_optimize__?names=CheckCircle,Clock,History,Plus!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/history.js\");\n/* harmony import */ var _barrel_optimize_names_CheckCircle_Clock_History_Plus_lucide_react__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! __barrel_optimize__?names=CheckCircle,Clock,History,Plus!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/plus.js\");\n/* harmony import */ var _barrel_optimize_names_CheckCircle_Clock_History_Plus_lucide_react__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! __barrel_optimize__?names=CheckCircle,Clock,History,Plus!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/clock.js\");\n/* harmony import */ var _barrel_optimize_names_CheckCircle_Clock_History_Plus_lucide_react__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! __barrel_optimize__?names=CheckCircle,Clock,History,Plus!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/circle-check-big.js\");\n/* harmony import */ var sonner__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! sonner */ \"(ssr)/./node_modules/sonner/dist/index.mjs\");\n/* harmony import */ var _StepIndicator__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./StepIndicator */ \"(ssr)/./components/wizard/StepIndicator.tsx\");\n/* harmony import */ var _WizardNavigation__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./WizardNavigation */ \"(ssr)/./components/wizard/WizardNavigation.tsx\");\n/* harmony import */ var _CardHistoryModal__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../CardHistoryModal */ \"(ssr)/./components/CardHistoryModal.tsx\");\n/* harmony import */ var _CardWizardEffects__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./CardWizardEffects */ \"(ssr)/./components/wizard/CardWizardEffects.tsx\");\n/* harmony import */ var _CardWizardSteps__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./CardWizardSteps */ \"(ssr)/./components/wizard/CardWizardSteps.tsx\");\n/* harmony import */ var _CardWizardHelpers__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./CardWizardHelpers */ \"(ssr)/./components/wizard/CardWizardHelpers.tsx\");\n/* harmony import */ var _hooks_useCardStudio__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @/hooks/useCardStudio */ \"(ssr)/./hooks/useCardStudio.ts\");\n/* harmony import */ var _hooks_useCardForm__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @/hooks/useCardForm */ \"(ssr)/./hooks/useCardForm.tsx\");\n/* harmony import */ var _hooks_useCardHistorySimplified__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @/hooks/useCardHistorySimplified */ \"(ssr)/./hooks/useCardHistorySimplified.ts\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst wizardSteps = [\n    {\n        id: \"basics\",\n        title: \"Card Basics\",\n        mobileTitle: \"Basics\",\n        description: \"Choose your card type and tone\"\n    },\n    {\n        id: \"content\",\n        title: \"Message\",\n        mobileTitle: \"Message\",\n        description: \"Write your personalized card message\"\n    },\n    {\n        id: \"personalization\",\n        title: \"Personalization\",\n        mobileTitle: \"Style\",\n        description: \"Choose artistic style and add photos\",\n        isOptional: true\n    },\n    {\n        id: \"details\",\n        title: \"Email Address\",\n        mobileTitle: \"Email\",\n        description: \"Where to send your finished card\"\n    },\n    {\n        id: \"drafts\",\n        title: \"Choose Draft Preview\",\n        mobileTitle: \"Preview\",\n        description: \"Select from rough drafts (final will be high quality)\"\n    },\n    {\n        id: \"generate\",\n        title: \"Final Generation\",\n        mobileTitle: \"Generate\",\n        description: \"Creating your complete card\"\n    }\n];\nfunction CardWizard() {\n    // Use hooks for form data and wizard state persistence\n    const cardForm = (0,_hooks_useCardForm__WEBPACK_IMPORTED_MODULE_12__.useCardForm)();\n    const cardHistory = (0,_hooks_useCardHistorySimplified__WEBPACK_IMPORTED_MODULE_13__.useCardHistory)();\n    const cardStudio = (0,_hooks_useCardStudio__WEBPACK_IMPORTED_MODULE_11__.useCardStudio)();\n    // Extract wizard state from cardForm\n    const { wizardState, updateWizardState } = cardForm;\n    // History modal state\n    const [showHistoryModal, setShowHistoryModal] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // Flag to prevent auto-saving during resume\n    const [isResumingDraft, setIsResumingDraft] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // Create a simplified updateFormData function for the wizard steps\n    const updateFormData = (updates)=>{\n        cardForm.updateFormData(updates);\n    };\n    // Create wrapper functions\n    const handleFileUploadWrapper = (0,_CardWizardHelpers__WEBPACK_IMPORTED_MODULE_10__.createFileUploadWrapper)(cardStudio, cardForm, updateFormData);\n    const handleGetMessageHelpWrapper = (0,_CardWizardHelpers__WEBPACK_IMPORTED_MODULE_10__.createMessageHelpWrapper)(cardStudio, updateFormData);\n    const undoMessageWrapper = (0,_CardWizardHelpers__WEBPACK_IMPORTED_MODULE_10__.createUndoWrapper)(cardStudio, updateFormData);\n    const redoMessageWrapper = (0,_CardWizardHelpers__WEBPACK_IMPORTED_MODULE_10__.createRedoWrapper)(cardStudio, updateFormData);\n    const handleTemplateSelect = (template)=>{\n        (0,_CardWizardHelpers__WEBPACK_IMPORTED_MODULE_10__.handleTemplateSelect)(template, updateFormData, cardStudio);\n    };\n    const handleResumeDraft = (sessionId)=>{\n        (0,_CardWizardHelpers__WEBPACK_IMPORTED_MODULE_10__.handleResumeDraft)(sessionId, cardHistory, cardForm, cardStudio, wizardState, setIsResumingDraft);\n    };\n    // Validation function for each step\n    const validateStep = (stepNumber)=>{\n        return cardForm.validateStep(stepNumber);\n    };\n    // Handle step navigation\n    const handleNext = ()=>{\n        if (!validateStep(wizardState.currentStep)) {\n            return false;\n        }\n        wizardState.markStepCompleted(wizardState.currentStep);\n        if (wizardState.currentStep < wizardSteps.length) {\n            wizardState.updateCurrentStep(wizardState.currentStep + 1);\n        }\n        return true;\n    };\n    const handlePrevious = ()=>{\n        if (wizardState.currentStep > 1) {\n            wizardState.updateCurrentStep(wizardState.currentStep - 1);\n        }\n    };\n    const handleStepClick = (stepNumber)=>{\n        // Allow free navigation to any completed step\n        if (wizardState.completedSteps.includes(stepNumber)) {\n            wizardState.updateCurrentStep(stepNumber);\n            return;\n        }\n        // Allow navigation to the next step if current is valid\n        if (stepNumber === wizardState.currentStep + 1 && validateStep(wizardState.currentStep)) {\n            if (!wizardState.completedSteps.includes(wizardState.currentStep)) {\n                wizardState.markStepCompleted(wizardState.currentStep);\n            }\n            wizardState.updateCurrentStep(stepNumber);\n            return;\n        }\n        // Allow backward navigation\n        if (stepNumber < wizardState.currentStep) {\n            wizardState.updateCurrentStep(stepNumber);\n            return;\n        }\n    };\n    // Check if we can proceed from current step\n    const canProceed = validateStep(wizardState.currentStep);\n    // Handle create new card\n    const handleCreateNew = ()=>{\n        if (wizardState.currentStep > 1 || cardForm.formData.selectedType || cardForm.formData.selectedTone) {\n            // Show confirmation if user has made progress\n            if (window.confirm(\"Are you sure you want to start over? All current progress will be lost.\")) {\n                cardForm.resetForm();\n                wizardState.resetWizardState();\n                // TODO: Add resetStudio method to cardStudio hook\n                // Reset key cardStudio state manually for now\n                cardStudio.setDraftCards([]);\n                cardStudio.setGeneratedCard(null);\n                cardStudio.setIsGenerating(false);\n                cardStudio.setGenerationProgress(\"\");\n                cardStudio.setSelectedDraftIndex(-1);\n                sonner__WEBPACK_IMPORTED_MODULE_4__.toast.success(\"Started new card\");\n            }\n        }\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"max-w-4xl mx-auto space-y-6 px-4 sm:px-6 lg:px-8 safe-area-padding\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex items-center justify-between\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center gap-2\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                                className: \"text-2xl font-bold text-gray-900 dark:text-white\",\n                                children: \"Card Wizard\"\n                            }, void 0, false, {\n                                fileName: \"/var/www/flask_app/ast_chat/components/wizard/CardWizardRefactored.tsx\",\n                                lineNumber: 185,\n                                columnNumber: 11\n                            }, this),\n                            (cardHistory.hasCompletedCards || cardHistory.hasDraftSessions) && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_3__.Button, {\n                                variant: \"outline\",\n                                size: \"sm\",\n                                onClick: ()=>setShowHistoryModal(true),\n                                className: \"flex items-center gap-2\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_CheckCircle_Clock_History_Plus_lucide_react__WEBPACK_IMPORTED_MODULE_14__[\"default\"], {\n                                        className: \"w-4 h-4\"\n                                    }, void 0, false, {\n                                        fileName: \"/var/www/flask_app/ast_chat/components/wizard/CardWizardRefactored.tsx\",\n                                        lineNumber: 195,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"hidden sm:inline\",\n                                        children: \"History\"\n                                    }, void 0, false, {\n                                        fileName: \"/var/www/flask_app/ast_chat/components/wizard/CardWizardRefactored.tsx\",\n                                        lineNumber: 196,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"sm:hidden\",\n                                        children: [\n                                            \"(\",\n                                            cardHistory.totalCards + cardHistory.totalDrafts,\n                                            \")\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/var/www/flask_app/ast_chat/components/wizard/CardWizardRefactored.tsx\",\n                                        lineNumber: 197,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/var/www/flask_app/ast_chat/components/wizard/CardWizardRefactored.tsx\",\n                                lineNumber: 189,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/var/www/flask_app/ast_chat/components/wizard/CardWizardRefactored.tsx\",\n                        lineNumber: 184,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center gap-2\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_3__.Button, {\n                                variant: \"outline\",\n                                size: \"sm\",\n                                onClick: handleCreateNew,\n                                className: \"flex items-center gap-2\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_CheckCircle_Clock_History_Plus_lucide_react__WEBPACK_IMPORTED_MODULE_15__[\"default\"], {\n                                        className: \"w-4 h-4\"\n                                    }, void 0, false, {\n                                        fileName: \"/var/www/flask_app/ast_chat/components/wizard/CardWizardRefactored.tsx\",\n                                        lineNumber: 211,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"hidden sm:inline\",\n                                        children: \"New Card\"\n                                    }, void 0, false, {\n                                        fileName: \"/var/www/flask_app/ast_chat/components/wizard/CardWizardRefactored.tsx\",\n                                        lineNumber: 212,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/var/www/flask_app/ast_chat/components/wizard/CardWizardRefactored.tsx\",\n                                lineNumber: 205,\n                                columnNumber: 11\n                            }, this),\n                            cardHistory.hasDraftSessions && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex items-center gap-2 text-sm\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_CheckCircle_Clock_History_Plus_lucide_react__WEBPACK_IMPORTED_MODULE_16__[\"default\"], {\n                                        className: \"w-4 h-4 text-purple-600\"\n                                    }, void 0, false, {\n                                        fileName: \"/var/www/flask_app/ast_chat/components/wizard/CardWizardRefactored.tsx\",\n                                        lineNumber: 218,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"text-gray-600 dark:text-gray-400 hidden sm:inline\",\n                                        children: [\n                                            cardHistory.totalDrafts,\n                                            \" saved\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/var/www/flask_app/ast_chat/components/wizard/CardWizardRefactored.tsx\",\n                                        lineNumber: 219,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_3__.Button, {\n                                        variant: \"outline\",\n                                        size: \"sm\",\n                                        onClick: ()=>setShowHistoryModal(true),\n                                        className: \"text-purple-600 hover:text-purple-700\",\n                                        children: \"Resume\"\n                                    }, void 0, false, {\n                                        fileName: \"/var/www/flask_app/ast_chat/components/wizard/CardWizardRefactored.tsx\",\n                                        lineNumber: 222,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/var/www/flask_app/ast_chat/components/wizard/CardWizardRefactored.tsx\",\n                                lineNumber: 217,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/var/www/flask_app/ast_chat/components/wizard/CardWizardRefactored.tsx\",\n                        lineNumber: 203,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/var/www/flask_app/ast_chat/components/wizard/CardWizardRefactored.tsx\",\n                lineNumber: 183,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_StepIndicator__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n                steps: wizardSteps,\n                currentStep: wizardState.currentStep,\n                completedSteps: wizardState.completedSteps,\n                onStepClick: handleStepClick\n            }, void 0, false, {\n                fileName: \"/var/www/flask_app/ast_chat/components/wizard/CardWizardRefactored.tsx\",\n                lineNumber: 236,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_2__.Card, {\n                className: \"shadow-lg\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_2__.CardHeader, {\n                        className: \"bg-gradient-to-r from-blue-50 to-cyan-50 dark:from-blue-900/20 dark:to-cyan-900/20 rounded-t-lg\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex items-center justify-between\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex items-center gap-3\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"w-10 h-10 bg-gradient-to-br from-blue-500 to-cyan-600 rounded-lg flex items-center justify-center shadow-lg\",\n                                            children: wizardState.completedSteps.includes(wizardState.currentStep) ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_CheckCircle_Clock_History_Plus_lucide_react__WEBPACK_IMPORTED_MODULE_17__[\"default\"], {\n                                                className: \"w-6 h-6 text-white\"\n                                            }, void 0, false, {\n                                                fileName: \"/var/www/flask_app/ast_chat/components/wizard/CardWizardRefactored.tsx\",\n                                                lineNumber: 250,\n                                                columnNumber: 19\n                                            }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"text-white font-bold\",\n                                                children: wizardState.currentStep\n                                            }, void 0, false, {\n                                                fileName: \"/var/www/flask_app/ast_chat/components/wizard/CardWizardRefactored.tsx\",\n                                                lineNumber: 252,\n                                                columnNumber: 19\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/var/www/flask_app/ast_chat/components/wizard/CardWizardRefactored.tsx\",\n                                            lineNumber: 248,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"min-w-0 flex-1\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_2__.CardTitle, {\n                                                    className: \"text-lg sm:text-xl font-bold text-gray-900 dark:text-gray-100\",\n                                                    children: wizardSteps[wizardState.currentStep - 1]?.title\n                                                }, void 0, false, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/components/wizard/CardWizardRefactored.tsx\",\n                                                    lineNumber: 256,\n                                                    columnNumber: 17\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                    className: \"text-sm text-gray-600 dark:text-gray-400\",\n                                                    children: wizardSteps[wizardState.currentStep - 1]?.description\n                                                }, void 0, false, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/components/wizard/CardWizardRefactored.tsx\",\n                                                    lineNumber: 259,\n                                                    columnNumber: 17\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/var/www/flask_app/ast_chat/components/wizard/CardWizardRefactored.tsx\",\n                                            lineNumber: 255,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/var/www/flask_app/ast_chat/components/wizard/CardWizardRefactored.tsx\",\n                                    lineNumber: 247,\n                                    columnNumber: 13\n                                }, this),\n                                wizardSteps[wizardState.currentStep - 1]?.isOptional && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"text-xs text-blue-600 dark:text-blue-400 bg-blue-100 dark:bg-blue-900/30 px-2 py-1 rounded-full flex-shrink-0\",\n                                    children: \"Optional\"\n                                }, void 0, false, {\n                                    fileName: \"/var/www/flask_app/ast_chat/components/wizard/CardWizardRefactored.tsx\",\n                                    lineNumber: 266,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/var/www/flask_app/ast_chat/components/wizard/CardWizardRefactored.tsx\",\n                            lineNumber: 246,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/var/www/flask_app/ast_chat/components/wizard/CardWizardRefactored.tsx\",\n                        lineNumber: 245,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_2__.CardContent, {\n                        className: \"pt-6 pb-4\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_CardWizardSteps__WEBPACK_IMPORTED_MODULE_9__.CardWizardSteps, {\n                            currentStep: wizardState.currentStep,\n                            formData: cardForm.formData,\n                            updateFormData: updateFormData,\n                            cardStudio: cardStudio,\n                            wizardState: wizardState,\n                            handleFileUploadWrapper: handleFileUploadWrapper,\n                            handleGetMessageHelpWrapper: handleGetMessageHelpWrapper,\n                            undoMessageWrapper: undoMessageWrapper,\n                            redoMessageWrapper: redoMessageWrapper,\n                            handleTemplateSelect: handleTemplateSelect,\n                            cardHistory: cardHistory,\n                            handleResumeDraft: handleResumeDraft\n                        }, void 0, false, {\n                            fileName: \"/var/www/flask_app/ast_chat/components/wizard/CardWizardRefactored.tsx\",\n                            lineNumber: 274,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/var/www/flask_app/ast_chat/components/wizard/CardWizardRefactored.tsx\",\n                        lineNumber: 273,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/var/www/flask_app/ast_chat/components/wizard/CardWizardRefactored.tsx\",\n                lineNumber: 244,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_WizardNavigation__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n                currentStep: wizardState.currentStep,\n                totalSteps: wizardSteps.length,\n                onPrevious: handlePrevious,\n                onNext: handleNext,\n                canProceed: canProceed,\n                isGenerating: cardStudio.isGenerating\n            }, void 0, false, {\n                fileName: \"/var/www/flask_app/ast_chat/components/wizard/CardWizardRefactored.tsx\",\n                lineNumber: 292,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_CardHistoryModal__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n                isOpen: showHistoryModal,\n                onClose: ()=>setShowHistoryModal(false),\n                onResumeDraft: handleResumeDraft,\n                onLoadCard: (cardId)=>{\n                    // Handle loading completed card for viewing\n                    sonner__WEBPACK_IMPORTED_MODULE_4__.toast.info(\"Card viewing functionality coming soon!\");\n                }\n            }, void 0, false, {\n                fileName: \"/var/www/flask_app/ast_chat/components/wizard/CardWizardRefactored.tsx\",\n                lineNumber: 302,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_CardWizardEffects__WEBPACK_IMPORTED_MODULE_8__.CardWizardEffects, {\n                cardStudio: cardStudio,\n                cardForm: cardForm,\n                cardHistory: cardHistory,\n                wizardState: wizardState,\n                updateWizardState: updateWizardState,\n                isResumingDraft: isResumingDraft,\n                isRestoringJobs: cardStudio.isRestoringJobs\n            }, void 0, false, {\n                fileName: \"/var/www/flask_app/ast_chat/components/wizard/CardWizardRefactored.tsx\",\n                lineNumber: 313,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/var/www/flask_app/ast_chat/components/wizard/CardWizardRefactored.tsx\",\n        lineNumber: 181,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9jb21wb25lbnRzL3dpemFyZC9DYXJkV2l6YXJkUmVmYWN0b3JlZC50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUV3QztBQUN3QztBQUNoQztBQUNpQjtBQUNsQztBQUVhO0FBQ007QUFDQztBQUNLO0FBQ0o7QUFRdkI7QUFFeUI7QUFDSjtBQUNnQjtBQVVsRSxNQUFNNEIsY0FBNEI7SUFDaEM7UUFDRUMsSUFBSTtRQUNKQyxPQUFPO1FBQ1BDLGFBQWE7UUFDYkMsYUFBYTtJQUNmO0lBQ0E7UUFDRUgsSUFBSTtRQUNKQyxPQUFPO1FBQ1BDLGFBQWE7UUFDYkMsYUFBYTtJQUNmO0lBQ0E7UUFDRUgsSUFBSTtRQUNKQyxPQUFPO1FBQ1BDLGFBQWE7UUFDYkMsYUFBYTtRQUNiQyxZQUFZO0lBQ2Q7SUFDQTtRQUNFSixJQUFJO1FBQ0pDLE9BQU87UUFDUEMsYUFBYTtRQUNiQyxhQUFhO0lBQ2Y7SUFDQTtRQUNFSCxJQUFJO1FBQ0pDLE9BQU87UUFDUEMsYUFBYTtRQUNiQyxhQUFhO0lBQ2Y7SUFDQTtRQUNFSCxJQUFJO1FBQ0pDLE9BQU87UUFDUEMsYUFBYTtRQUNiQyxhQUFhO0lBQ2Y7Q0FDRDtBQUVjLFNBQVNFO0lBQ3RCLHVEQUF1RDtJQUN2RCxNQUFNQyxXQUFXVCxnRUFBV0E7SUFDNUIsTUFBTVUsY0FBY1QsZ0ZBQWNBO0lBQ2xDLE1BQU1VLGFBQWFaLG9FQUFhQTtJQUVoQyxxQ0FBcUM7SUFDckMsTUFBTSxFQUFFYSxXQUFXLEVBQUVDLGlCQUFpQixFQUFFLEdBQUdKO0lBRTNDLHNCQUFzQjtJQUN0QixNQUFNLENBQUNLLGtCQUFrQkMsb0JBQW9CLEdBQUd4QywrQ0FBUUEsQ0FBQztJQUV6RCw0Q0FBNEM7SUFDNUMsTUFBTSxDQUFDeUMsaUJBQWlCQyxtQkFBbUIsR0FBRzFDLCtDQUFRQSxDQUFDO0lBRXZELG1FQUFtRTtJQUNuRSxNQUFNMkMsaUJBQWlCLENBQUNDO1FBQ3RCVixTQUFTUyxjQUFjLENBQUNDO0lB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QixZQUFZaUIsV0FBVztnQkFDcENxQyxZQUFZaEUsWUFBWTZCLE1BQU07Z0JBQzlCb0MsWUFBWWxDO2dCQUNabUMsUUFBUXhDO2dCQUNSUyxZQUFZQTtnQkFDWmdDLGNBQWMxRCxXQUFXMEQsWUFBWTs7Ozs7OzBCQUl2Qyw4REFBQ2pGLHlEQUFnQkE7Z0JBQ2ZrRixRQUFReEQ7Z0JBQ1J5RCxTQUFTLElBQU14RCxvQkFBb0I7Z0JBQ25DeUQsZUFBZTNFO2dCQUNmNEUsWUFBWSxDQUFDQztvQkFDWCw0Q0FBNEM7b0JBQzVDekYseUNBQUtBLENBQUMwRixJQUFJLENBQUM7Z0JBQ2I7Ozs7OzswQkFJRiw4REFBQ3RGLGlFQUFpQkE7Z0JBQ2hCc0IsWUFBWUE7Z0JBQ1pGLFVBQVVBO2dCQUNWQyxhQUFhQTtnQkFDYkUsYUFBYUE7Z0JBQ2JDLG1CQUFtQkE7Z0JBQ25CRyxpQkFBaUJBO2dCQUNqQjRELGlCQUFpQmpFLFdBQVdpRSxlQUFlOzs7Ozs7Ozs7Ozs7QUFJbkQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92aWJlY2FyZGluZy8uL2NvbXBvbmVudHMvd2l6YXJkL0NhcmRXaXphcmRSZWZhY3RvcmVkLnRzeD8wZmQxIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIGNsaWVudFwiO1xuXG5pbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IENhcmQsIENhcmRDb250ZW50LCBDYXJkSGVhZGVyLCBDYXJkVGl0bGUgfSBmcm9tIFwiQC9jb21wb25lbnRzL3VpL2NhcmRcIjtcbmltcG9ydCB7IEJ1dHRvbiB9IGZyb20gXCJAL2NvbXBvbmVudHMvdWkvYnV0dG9uXCI7XG5pbXBvcnQgeyBIaXN0b3J5LCBDbG9jaywgQ2hlY2tDaXJjbGUsIFBsdXMgfSBmcm9tIFwibHVjaWRlLXJlYWN0XCI7XG5pbXBvcnQgeyB0b2FzdCB9IGZyb20gXCJzb25uZXJcIjtcblxuaW1wb3J0IFN0ZXBJbmRpY2F0b3IgZnJvbSBcIi4vU3RlcEluZGljYXRvclwiO1xuaW1wb3J0IFdpemFyZE5hdmlnYXRpb24gZnJvbSBcIi4vV2l6YXJkTmF2aWdhdGlvblwiO1xuaW1wb3J0IENhcmRIaXN0b3J5TW9kYWwgZnJvbSBcIi4uL0NhcmRIaXN0b3J5TW9kYWxcIjtcbmltcG9ydCB7IENhcmRXaXphcmRFZmZlY3RzIH0gZnJvbSBcIi4vQ2FyZFdpemFyZEVmZmVjdHNcIjtcbmltcG9ydCB7IENhcmRXaXphcmRTdGVwcyB9IGZyb20gXCIuL0NhcmRXaXphcmRTdGVwc1wiO1xuaW1wb3J0IHtcbiAgY3JlYXRlRmlsZVVwbG9hZFdyYXBwZXIsXG4gIGNyZWF0ZU1lc3NhZ2VIZWxwV3JhcHBlcixcbiAgY3JlYXRlVW5kb1dyYXBwZXIsXG4gIGNyZWF0ZVJlZG9XcmFwcGVyLFxuICBoYW5kbGVUZW1wbGF0ZVNlbGVjdCBhcyBoYW5kbGVUZW1wbGF0ZVNlbGVjdEhlbHBlcixcbiAgaGFuZGxlUmVzdW1lRHJhZnQgYXMgaGFuZGxlUmVzdW1lRHJhZnRIZWxwZXJcbn0gZnJvbSBcIi4vQ2FyZFdpemFyZEhlbHBlcnNcIjtcblxuaW1wb3J0IHsgdXNlQ2FyZFN0dWRpbyB9IGZyb20gXCJAL2hvb2tzL3VzZUNhcmRTdHVkaW9cIjtcbmltcG9ydCB7IHVzZUNhcmRGb3JtIH0gZnJvbSBcIkAvaG9va3MvdXNlQ2FyZEZvcm1cIjtcbmltcG9ydCB7IHVzZUNhcmRIaXN0b3J5IH0gZnJvbSBcIkAvaG9va3MvdXNlQ2FyZEhpc3RvcnlTaW1wbGlmaWVkXCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgV2l6YXJkU3RlcCB7XG4gIGlkOiBzdHJpbmc7XG4gIHRpdGxlOiBzdHJpbmc7XG4gIG1vYmlsZVRpdGxlPzogc3RyaW5nO1xuICBkZXNjcmlwdGlvbjogc3RyaW5nO1xuICBpc09wdGlvbmFsPzogYm9vbGVhbjtcbn1cblxuY29uc3Qgd2l6YXJkU3RlcHM6IFdpemFyZFN0ZXBbXSA9IFtcbiAge1xuICAgIGlkOiBcImJhc2ljc1wiLFxuICAgIHRpdGxlOiBcIkNhcmQgQmFzaWNzXCIsXG4gICAgbW9iaWxlVGl0bGU6IFwiQmFzaWNzXCIsXG4gICAgZGVzY3JpcHRpb246IFwiQ2hvb3NlIHlvdXIgY2FyZCB0eXBlIGFuZCB0b25lXCJcbiAgfSxcbiAge1xuICAgIGlkOiBcImNvbnRlbnRcIixcbiAgICB0aXRsZTogXCJNZXNzYWdlXCIsIFxuICAgIG1vYmlsZVRpdGxlOiBcIk1lc3NhZ2VcIixcbiAgICBkZXNjcmlwdGlvbjogXCJXcml0ZSB5b3VyIHBlcnNvbmFsaXplZCBjYXJkIG1lc3NhZ2VcIlxuICB9LFxuICB7XG4gICAgaWQ6IFwicGVyc29uYWxpemF0aW9uXCIsXG4gICAgdGl0bGU6IFwiUGVyc29uYWxpemF0aW9uXCIsXG4gICAgbW9iaWxlVGl0bGU6IFwiU3R5bGVcIixcbiAgICBkZXNjcmlwdGlvbjogXCJDaG9vc2UgYXJ0aXN0aWMgc3R5bGUgYW5kIGFkZCBwaG90b3NcIixcbiAgICBpc09wdGlvbmFsOiB0cnVlXG4gIH0sXG4gIHtcbiAgICBpZDogXCJkZXRhaWxzXCIsXG4gICAgdGl0bGU6IFwiRW1haWwgQWRkcmVzc1wiLFxuICAgIG1vYmlsZVRpdGxlOiBcIkVtYWlsXCIsXG4gICAgZGVzY3JpcHRpb246IFwiV2hlcmUgdG8gc2VuZCB5b3VyIGZpbmlzaGVkIGNhcmRcIlxuICB9LFxuICB7XG4gICAgaWQ6IFwiZHJhZnRzXCIsXG4gICAgdGl0bGU6IFwiQ2hvb3NlIERyYWZ0IFByZXZpZXdcIixcbiAgICBtb2JpbGVUaXRsZTogXCJQcmV2aWV3XCIsXG4gICAgZGVzY3JpcHRpb246IFwiU2VsZWN0IGZyb20gcm91Z2ggZHJhZnRzIChmaW5hbCB3aWxsIGJlIGhpZ2ggcXVhbGl0eSlcIlxuICB9LFxuICB7XG4gICAgaWQ6IFwiZ2VuZXJhdGVcIixcbiAgICB0aXRsZTogXCJGaW5hbCBHZW5lcmF0aW9uXCIsXG4gICAgbW9iaWxlVGl0bGU6IFwiR2VuZXJhdGVcIixcbiAgICBkZXNjcmlwdGlvbjogXCJDcmVhdGluZyB5b3VyIGNvbXBsZXRlIGNhcmRcIlxuICB9XG5dO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBDYXJkV2l6YXJkKCkge1xuICAvLyBVc2UgaG9va3MgZm9yIGZvcm0gZGF0YSBhbmQgd2l6YXJkIHN0YXRlIHBlcnNpc3RlbmNlXG4gIGNvbnN0IGNhcmRGb3JtID0gdXNlQ2FyZEZvcm0oKTtcbiAgY29uc3QgY2FyZEhpc3RvcnkgPSB1c2VDYXJkSGlzdG9yeSgpO1xuICBjb25zdCBjYXJkU3R1ZGlvID0gdXNlQ2FyZFN0dWRpbygpO1xuICBcbiAgLy8gRXh0cmFjdCB3aXphcmQgc3RhdGUgZnJvbSBjYXJkRm9ybVxuICBjb25zdCB7IHdpemFyZFN0YXRlLCB1cGRhdGVXaXphcmRTdGF0ZSB9ID0gY2FyZEZvcm07XG4gIFxuICAvLyBIaXN0b3J5IG1vZGFsIHN0YXRlXG4gIGNvbnN0IFtzaG93SGlzdG9yeU1vZGFsLCBzZXRTaG93SGlzdG9yeU1vZGFsXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgXG4gIC8vIEZsYWcgdG8gcHJldmVudCBhdXRvLXNhdmluZyBkdXJpbmcgcmVzdW1lXG4gIGNvbnN0IFtpc1Jlc3VtaW5nRHJhZnQsIHNldElzUmVzdW1pbmdEcmFmdF0gPSB1c2VTdGF0ZShmYWxzZSk7XG5cbiAgLy8gQ3JlYXRlIGEgc2ltcGxpZmllZCB1cGRhdGVGb3JtRGF0YSBmdW5jdGlvbiBmb3IgdGhlIHdpemFyZCBzdGVwc1xuICBjb25zdCB1cGRhdGVGb3JtRGF0YSA9ICh1cGRhdGVzOiBhbnkpID0+IHtcbiAgICBjYXJkRm9ybS51cGRhdGVGb3JtRGF0YSh1cGRhdGVzKTtcbiAgfTtcblxuICAvLyBDcmVhdGUgd3JhcHBlciBmdW5jdGlvbnNcbiAgY29uc3QgaGFuZGxlRmlsZVVwbG9hZFdyYXBwZXIgPSBjcmVhdGVGaWxlVXBsb2FkV3JhcHBlcihjYXJkU3R1ZGlvLCBjYXJkRm9ybSwgdXBkYXRlRm9ybURhdGEpO1xuICBjb25zdCBoYW5kbGVHZXRNZXNzYWdlSGVscFdyYXBwZXIgPSBjcmVhdGVNZXNzYWdlSGVscFdyYXBwZXIoY2FyZFN0dWRpbywgdXBkYXRlRm9ybURhdGEpO1xuICBjb25zdCB1bmRvTWVzc2FnZVdyYXBwZXIgPSBjcmVhdGVVbmRvV3JhcHBlcihjYXJkU3R1ZGlvLCB1cGRhdGVGb3JtRGF0YSk7XG4gIGNvbnN0IHJlZG9NZXNzYWdlV3JhcHBlciA9IGNyZWF0ZVJlZG9XcmFwcGVyKGNhcmRTdHVkaW8sIHVwZGF0ZUZvcm1EYXRhKTtcbiAgXG4gIGNvbnN0IGhhbmRsZVRlbXBsYXRlU2VsZWN0ID0gKHRlbXBsYXRlOiBhbnkpID0+IHtcbiAgICBoYW5kbGVUZW1wbGF0ZVNlbGVjdEhlbHBlcih0ZW1wbGF0ZSwgdXBkYXRlRm9ybURhdGEsIGNhcmRTdHVkaW8pO1xuICB9O1xuICBcbiAgY29uc3QgaGFuZGxlUmVzdW1lRHJhZnQgPSAoc2Vzc2lvbklkOiBzdHJpbmcpID0+IHtcbiAgICBoYW5kbGVSZXN1bWVEcmFmdEhlbHBlcihzZXNzaW9uSWQsIGNhcmRIaXN0b3J5LCBjYXJkRm9ybSwgY2FyZFN0dWRpbywgd2l6YXJkU3RhdGUsIHNldElzUmVzdW1pbmdEcmFmdCk7XG4gIH07XG5cbiAgLy8gVmFsaWRhdGlvbiBmdW5jdGlvbiBmb3IgZWFjaCBzdGVwXG4gIGNvbnN0IHZhbGlkYXRlU3RlcCA9IChzdGVwTnVtYmVyOiBudW1iZXIpOiBib29sZWFuID0+IHtcbiAgICByZXR1cm4gY2FyZEZvcm0udmFsaWRhdGVTdGVwKHN0ZXBOdW1iZXIpO1xuICB9O1xuXG4gIC8vIEhhbmRsZSBzdGVwIG5hdmlnYXRpb25cbiAgY29uc3QgaGFuZGxlTmV4dCA9ICgpOiBib29sZWFuID0+IHtcbiAgICBpZiAoIXZhbGlkYXRlU3RlcCh3aXphcmRTdGF0ZS5jdXJyZW50U3RlcCkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgXG4gICAgd2l6YXJkU3RhdGUubWFya1N0ZXBDb21wbGV0ZWQod2l6YXJkU3RhdGUuY3VycmVudFN0ZXApO1xuICAgIFxuICAgIGlmICh3aXphcmRTdGF0ZS5jdXJyZW50U3RlcCA8IHdpemFyZFN0ZXBzLmxlbmd0aCkge1xuICAgICAgd2l6YXJkU3RhdGUudXBkYXRlQ3VycmVudFN0ZXAod2l6YXJkU3RhdGUuY3VycmVudFN0ZXAgKyAxKTtcbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIHRydWU7XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlUHJldmlvdXMgPSAoKSA9PiB7XG4gICAgaWYgKHdpemFyZFN0YXRlLmN1cnJlbnRTdGVwID4gMSkge1xuICAgICAgd2l6YXJkU3RhdGUudXBkYXRlQ3VycmVudFN0ZXAod2l6YXJkU3RhdGUuY3VycmVudFN0ZXAgLSAxKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlU3RlcENsaWNrID0gKHN0ZXBOdW1iZXI6IG51bWJlcikgPT4ge1xuICAgIC8vIEFsbG93IGZyZWUgbmF2aWdhdGlvbiB0byBhbnkgY29tcGxldGVkIHN0ZXBcbiAgICBpZiAod2l6YXJkU3RhdGUuY29tcGxldGVkU3RlcHMuaW5jbHVkZXMoc3RlcE51bWJlcikpIHtcbiAgICAgIHdpemFyZFN0YXRlLnVwZGF0ZUN1cnJlbnRTdGVwKHN0ZXBOdW1iZXIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBcbiAgICAvLyBBbGxvdyBuYXZpZ2F0aW9uIHRvIHRoZSBuZXh0IHN0ZXAgaWYgY3VycmVudCBpcyB2YWxpZFxuICAgIGlmIChzdGVwTnVtYmVyID09PSB3aXphcmRTdGF0ZS5jdXJyZW50U3RlcCArIDEgJiYgdmFsaWRhdGVTdGVwKHdpemFyZFN0YXRlLmN1cnJlbnRTdGVwKSkge1xuICAgICAgaWYgKCF3aXphcmRTdGF0ZS5jb21wbGV0ZWRTdGVwcy5pbmNsdWRlcyh3aXphcmRTdGF0ZS5jdXJyZW50U3RlcCkpIHtcbiAgICAgICAgd2l6YXJkU3RhdGUubWFya1N0ZXBDb21wbGV0ZWQod2l6YXJkU3RhdGUuY3VycmVudFN0ZXApO1xuICAgICAgfVxuICAgICAgd2l6YXJkU3RhdGUudXBkYXRlQ3VycmVudFN0ZXAoc3RlcE51bWJlcik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFxuICAgIC8vIEFsbG93IGJhY2t3YXJkIG5hdmlnYXRpb25cbiAgICBpZiAoc3RlcE51bWJlciA8IHdpemFyZFN0YXRlLmN1cnJlbnRTdGVwKSB7XG4gICAgICB3aXphcmRTdGF0ZS51cGRhdGVDdXJyZW50U3RlcChzdGVwTnVtYmVyKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH07XG5cbiAgLy8gQ2hlY2sgaWYgd2UgY2FuIHByb2NlZWQgZnJvbSBjdXJyZW50IHN0ZXBcbiAgY29uc3QgY2FuUHJvY2VlZCA9IHZhbGlkYXRlU3RlcCh3aXphcmRTdGF0ZS5jdXJyZW50U3RlcCk7XG5cbiAgLy8gSGFuZGxlIGNyZWF0ZSBuZXcgY2FyZFxuICBjb25zdCBoYW5kbGVDcmVhdGVOZXcgPSAoKSA9PiB7XG4gICAgaWYgKHdpemFyZFN0YXRlLmN1cnJlbnRTdGVwID4gMSB8fCBjYXJkRm9ybS5mb3JtRGF0YS5zZWxlY3RlZFR5cGUgfHwgY2FyZEZvcm0uZm9ybURhdGEuc2VsZWN0ZWRUb25lKSB7XG4gICAgICAvLyBTaG93IGNvbmZpcm1hdGlvbiBpZiB1c2VyIGhhcyBtYWRlIHByb2dyZXNzXG4gICAgICBpZiAod2luZG93LmNvbmZpcm0oJ0FyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBzdGFydCBvdmVyPyBBbGwgY3VycmVudCBwcm9ncmVzcyB3aWxsIGJlIGxvc3QuJykpIHtcbiAgICAgICAgY2FyZEZvcm0ucmVzZXRGb3JtKCk7XG4gICAgICAgIHdpemFyZFN0YXRlLnJlc2V0V2l6YXJkU3RhdGUoKTtcbiAgICAgICAgLy8gVE9ETzogQWRkIHJlc2V0U3R1ZGlvIG1ldGhvZCB0byBjYXJkU3R1ZGlvIGhvb2tcbiAgICAgICAgLy8gUmVzZXQga2V5IGNhcmRTdHVkaW8gc3RhdGUgbWFudWFsbHkgZm9yIG5vd1xuICAgICAgICBjYXJkU3R1ZGlvLnNldERyYWZ0Q2FyZHMoW10pO1xuICAgICAgICBjYXJkU3R1ZGlvLnNldEdlbmVyYXRlZENhcmQobnVsbCk7XG4gICAgICAgIGNhcmRTdHVkaW8uc2V0SXNHZW5lcmF0aW5nKGZhbHNlKTtcbiAgICAgICAgY2FyZFN0dWRpby5zZXRHZW5lcmF0aW9uUHJvZ3Jlc3MoXCJcIik7XG4gICAgICAgIGNhcmRTdHVkaW8uc2V0U2VsZWN0ZWREcmFmdEluZGV4KC0xKTtcbiAgICAgICAgdG9hc3Quc3VjY2VzcygnU3RhcnRlZCBuZXcgY2FyZCcpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwibWF4LXctNHhsIG14LWF1dG8gc3BhY2UteS02IHB4LTQgc206cHgtNiBsZzpweC04IHNhZmUtYXJlYS1wYWRkaW5nXCI+XG4gICAgICB7LyogSGVhZGVyIHdpdGggSGlzdG9yeSBCdXR0b24gKi99XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlblwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XG4gICAgICAgICAgPGgxIGNsYXNzTmFtZT1cInRleHQtMnhsIGZvbnQtYm9sZCB0ZXh0LWdyYXktOTAwIGRhcms6dGV4dC13aGl0ZVwiPlxuICAgICAgICAgICAgQ2FyZCBXaXphcmRcbiAgICAgICAgICA8L2gxPlxuICAgICAgICAgIHsoY2FyZEhpc3RvcnkuaGFzQ29tcGxldGVkQ2FyZHMgfHwgY2FyZEhpc3RvcnkuaGFzRHJhZnRTZXNzaW9ucykgJiYgKFxuICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICB2YXJpYW50PVwib3V0bGluZVwiXG4gICAgICAgICAgICAgIHNpemU9XCJzbVwiXG4gICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldFNob3dIaXN0b3J5TW9kYWwodHJ1ZSl9XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPEhpc3RvcnkgY2xhc3NOYW1lPVwidy00IGgtNFwiIC8+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImhpZGRlbiBzbTppbmxpbmVcIj5IaXN0b3J5PC9zcGFuPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJzbTpoaWRkZW5cIj4oe2NhcmRIaXN0b3J5LnRvdGFsQ2FyZHMgKyBjYXJkSGlzdG9yeS50b3RhbERyYWZ0c30pPC9zcGFuPlxuICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgKX1cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIFxuICAgICAgICB7LyogUmlnaHQgc2lkZSBidXR0b25zICovfVxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XG4gICAgICAgICAgey8qIENyZWF0ZSBOZXcgQ2FyZCBCdXR0b24gKi99XG4gICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgdmFyaWFudD1cIm91dGxpbmVcIlxuICAgICAgICAgICAgc2l6ZT1cInNtXCJcbiAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZUNyZWF0ZU5ld31cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICA8UGx1cyBjbGFzc05hbWU9XCJ3LTQgaC00XCIgLz5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImhpZGRlbiBzbTppbmxpbmVcIj5OZXcgQ2FyZDwvc3Bhbj5cbiAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICBcbiAgICAgICAgICB7LyogRHJhZnQgUmVzdW1lIEJhbm5lciAqL31cbiAgICAgICAgICB7Y2FyZEhpc3RvcnkuaGFzRHJhZnRTZXNzaW9ucyAmJiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yIHRleHQtc21cIj5cbiAgICAgICAgICAgICAgPENsb2NrIGNsYXNzTmFtZT1cInctNCBoLTQgdGV4dC1wdXJwbGUtNjAwXCIgLz5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1ncmF5LTYwMCBkYXJrOnRleHQtZ3JheS00MDAgaGlkZGVuIHNtOmlubGluZVwiPlxuICAgICAgICAgICAgICAgIHtjYXJkSGlzdG9yeS50b3RhbERyYWZ0c30gc2F2ZWRcbiAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgdmFyaWFudD1cIm91dGxpbmVcIlxuICAgICAgICAgICAgICAgIHNpemU9XCJzbVwiXG4gICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0U2hvd0hpc3RvcnlNb2RhbCh0cnVlKX1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ0ZXh0LXB1cnBsZS02MDAgaG92ZXI6dGV4dC1wdXJwbGUtNzAwXCJcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIFJlc3VtZVxuICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG5cbiAgICAgIHsvKiBTdGVwIEluZGljYXRvciAqL31cbiAgICAgIDxTdGVwSW5kaWNhdG9yXG4gICAgICAgIHN0ZXBzPXt3aXphcmRTdGVwc31cbiAgICAgICAgY3VycmVudFN0ZXA9e3dpemFyZFN0YXRlLmN1cnJlbnRTdGVwfVxuICAgICAgICBjb21wbGV0ZWRTdGVwcz17d2l6YXJkU3RhdGUuY29tcGxldGVkU3RlcHN9XG4gICAgICAgIG9uU3RlcENsaWNrPXtoYW5kbGVTdGVwQ2xpY2t9XG4gICAgICAvPlxuXG4gICAgICB7LyogQ3VycmVudCBTdGVwIENvbnRlbnQgKi99XG4gICAgICA8Q2FyZCBjbGFzc05hbWU9XCJzaGFkb3ctbGdcIj5cbiAgICAgICAgPENhcmRIZWFkZXIgY2xhc3NOYW1lPVwiYmctZ3JhZGllbnQtdG8tciBmcm9tLWJsdWUtNTAgdG8tY3lhbi01MCBkYXJrOmZyb20tYmx1ZS05MDAvMjAgZGFyazp0by1jeWFuLTkwMC8yMCByb3VuZGVkLXQtbGdcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlblwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtM1wiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMTAgaC0xMCBiZy1ncmFkaWVudC10by1iciBmcm9tLWJsdWUtNTAwIHRvLWN5YW4tNjAwIHJvdW5kZWQtbGcgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgc2hhZG93LWxnXCI+XG4gICAgICAgICAgICAgICAge3dpemFyZFN0YXRlLmNvbXBsZXRlZFN0ZXBzLmluY2x1ZGVzKHdpemFyZFN0YXRlLmN1cnJlbnRTdGVwKSA/IChcbiAgICAgICAgICAgICAgICAgIDxDaGVja0NpcmNsZSBjbGFzc05hbWU9XCJ3LTYgaC02IHRleHQtd2hpdGVcIiAvPlxuICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXdoaXRlIGZvbnQtYm9sZFwiPnt3aXphcmRTdGF0ZS5jdXJyZW50U3RlcH08L3NwYW4+XG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWluLXctMCBmbGV4LTFcIj5cbiAgICAgICAgICAgICAgICA8Q2FyZFRpdGxlIGNsYXNzTmFtZT1cInRleHQtbGcgc206dGV4dC14bCBmb250LWJvbGQgdGV4dC1ncmF5LTkwMCBkYXJrOnRleHQtZ3JheS0xMDBcIj5cbiAgICAgICAgICAgICAgICAgIHt3aXphcmRTdGVwc1t3aXphcmRTdGF0ZS5jdXJyZW50U3RlcCAtIDFdPy50aXRsZX1cbiAgICAgICAgICAgICAgICA8L0NhcmRUaXRsZT5cbiAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtZ3JheS02MDAgZGFyazp0ZXh0LWdyYXktNDAwXCI+XG4gICAgICAgICAgICAgICAgICB7d2l6YXJkU3RlcHNbd2l6YXJkU3RhdGUuY3VycmVudFN0ZXAgLSAxXT8uZGVzY3JpcHRpb259XG4gICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgXG4gICAgICAgICAgICB7d2l6YXJkU3RlcHNbd2l6YXJkU3RhdGUuY3VycmVudFN0ZXAgLSAxXT8uaXNPcHRpb25hbCAmJiAoXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LWJsdWUtNjAwIGRhcms6dGV4dC1ibHVlLTQwMCBiZy1ibHVlLTEwMCBkYXJrOmJnLWJsdWUtOTAwLzMwIHB4LTIgcHktMSByb3VuZGVkLWZ1bGwgZmxleC1zaHJpbmstMFwiPlxuICAgICAgICAgICAgICAgIE9wdGlvbmFsXG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9DYXJkSGVhZGVyPlxuICAgICAgICBcbiAgICAgICAgPENhcmRDb250ZW50IGNsYXNzTmFtZT1cInB0LTYgcGItNFwiPlxuICAgICAgICAgIDxDYXJkV2l6YXJkU3RlcHNcbiAgICAgICAgICAgIGN1cnJlbnRTdGVwPXt3aXphcmRTdGF0ZS5jdXJyZW50U3RlcH1cbiAgICAgICAgICAgIGZvcm1EYXRhPXtjYXJkRm9ybS5mb3JtRGF0YX1cbiAgICAgICAgICAgIHVwZGF0ZUZvcm1EYXRhPXt1cGRhdGVGb3JtRGF0YX1cbiAgICAgICAgICAgIGNhcmRTdHVkaW89e2NhcmRTdHVkaW99XG4gICAgICAgICAgICB3aXphcmRTdGF0ZT17d2l6YXJkU3RhdGV9XG4gICAgICAgICAgICBoYW5kbGVGaWxlVXBsb2FkV3JhcHBlcj17aGFuZGxlRmlsZVVwbG9hZFdyYXBwZXJ9XG4gICAgICAgICAgICBoYW5kbGVHZXRNZXNzYWdlSGVscFdyYXBwZXI9e2hhbmRsZUdldE1lc3NhZ2VIZWxwV3JhcHBlcn1cbiAgICAgICAgICAgIHVuZG9NZXNzYWdlV3JhcHBlcj17dW5kb01lc3NhZ2VXcmFwcGVyfVxuICAgICAgICAgICAgcmVkb01lc3NhZ2VXcmFwcGVyPXtyZWRvTWVzc2FnZVdyYXBwZXJ9XG4gICAgICAgICAgICBoYW5kbGVUZW1wbGF0ZVNlbGVjdD17aGFuZGxlVGVtcGxhdGVTZWxlY3R9XG4gICAgICAgICAgICBjYXJkSGlzdG9yeT17Y2FyZEhpc3Rvcnl9XG4gICAgICAgICAgICBoYW5kbGVSZXN1bWVEcmFmdD17aGFuZGxlUmVzdW1lRHJhZnR9XG4gICAgICAgICAgLz5cbiAgICAgICAgPC9DYXJkQ29udGVudD5cbiAgICAgIDwvQ2FyZD5cblxuICAgICAgey8qIE5hdmlnYXRpb24gKi99XG4gICAgICA8V2l6YXJkTmF2aWdhdGlvblxuICAgICAgICBjdXJyZW50U3RlcD17d2l6YXJkU3RhdGUuY3VycmVudFN0ZXB9XG4gICAgICAgIHRvdGFsU3RlcHM9e3dpemFyZFN0ZXBzLmxlbmd0aH1cbiAgICAgICAgb25QcmV2aW91cz17aGFuZGxlUHJldmlvdXN9XG4gICAgICAgIG9uTmV4dD17aGFuZGxlTmV4dH1cbiAgICAgICAgY2FuUHJvY2VlZD17Y2FuUHJvY2VlZH1cbiAgICAgICAgaXNHZW5lcmF0aW5nPXtjYXJkU3R1ZGlvLmlzR2VuZXJhdGluZ31cbiAgICAgIC8+XG5cbiAgICAgIHsvKiBIaXN0b3J5IE1vZGFsICovfVxuICAgICAgPENhcmRIaXN0b3J5TW9kYWxcbiAgICAgICAgaXNPcGVuPXtzaG93SGlzdG9yeU1vZGFsfVxuICAgICAgICBvbkNsb3NlPXsoKSA9PiBzZXRTaG93SGlzdG9yeU1vZGFsKGZhbHNlKX1cbiAgICAgICAgb25SZXN1bWVEcmFmdD17aGFuZGxlUmVzdW1lRHJhZnR9XG4gICAgICAgIG9uTG9hZENhcmQ9eyhjYXJkSWQpID0+IHtcbiAgICAgICAgICAvLyBIYW5kbGUgbG9hZGluZyBjb21wbGV0ZWQgY2FyZCBmb3Igdmlld2luZ1xuICAgICAgICAgIHRvYXN0LmluZm8oJ0NhcmQgdmlld2luZyBmdW5jdGlvbmFsaXR5IGNvbWluZyBzb29uIScpO1xuICAgICAgICB9fVxuICAgICAgLz5cblxuICAgICAgey8qIEVmZmVjdHMgQ29tcG9uZW50ICovfVxuICAgICAgPENhcmRXaXphcmRFZmZlY3RzXG4gICAgICAgIGNhcmRTdHVkaW89e2NhcmRTdHVkaW99XG4gICAgICAgIGNhcmRGb3JtPXtjYXJkRm9ybX1cbiAgICAgICAgY2FyZEhpc3Rvcnk9e2NhcmRIaXN0b3J5fVxuICAgICAgICB3aXphcmRTdGF0ZT17d2l6YXJkU3RhdGV9XG4gICAgICAgIHVwZGF0ZVdpemFyZFN0YXRlPXt1cGRhdGVXaXphcmRTdGF0ZX1cbiAgICAgICAgaXNSZXN1bWluZ0RyYWZ0PXtpc1Jlc3VtaW5nRHJhZnR9XG4gICAgICAgIGlzUmVzdG9yaW5nSm9icz17Y2FyZFN0dWRpby5pc1Jlc3RvcmluZ0pvYnN9XG4gICAgICAvPlxuICAgIDwvZGl2PlxuICApO1xufSJdLCJuYW1lcyI6WyJSZWFjdCIsInVzZVN0YXRlIiwiQ2FyZCIsIkNhcmRDb250ZW50IiwiQ2FyZEhlYWRlciIsIkNhcmRUaXRsZSIsIkJ1dHRvbiIsIkhpc3RvcnkiLCJDbG9jayIsIkNoZWNrQ2lyY2xlIiwiUGx1cyIsInRvYXN0IiwiU3RlcEluZGljYXRvciIsIldpemFyZE5hdmlnYXRpb24iLCJDYXJkSGlzdG9yeU1vZGFsIiwiQ2FyZFdpemFyZEVmZmVjdHMiLCJDYXJkV2l6YXJkU3RlcHMiLCJjcmVhdGVGaWxlVXBsb2FkV3JhcHBlciIsImNyZWF0ZU1lc3NhZ2VIZWxwV3JhcHBlciIsImNyZWF0ZVVuZG9XcmFwcGVyIiwiY3JlYXRlUmVkb1dyYXBwZXIiLCJoYW5kbGVUZW1wbGF0ZVNlbGVjdCIsImhhbmRsZVRlbXBsYXRlU2VsZWN0SGVscGVyIiwiaGFuZGxlUmVzdW1lRHJhZnQiLCJoYW5kbGVSZXN1bWVEcmFmdEhlbHBlciIsInVzZUNhcmRTdHVkaW8iLCJ1c2VDYXJkRm9ybSIsInVzZUNhcmRIaXN0b3J5Iiwid2l6YXJkU3RlcHMiLCJpZCIsInRpdGxlIiwibW9iaWxlVGl0bGUiLCJkZXNjcmlwdGlvbiIsImlzT3B0aW9uYWwiLCJDYXJkV2l6YXJkIiwiY2FyZEZvcm0iLCJjYXJkSGlzdG9yeSIsImNhcmRTdHVkaW8iLCJ3aXphcmRTdGF0ZSIsInVwZGF0ZVdpemFyZFN0YXRlIiwic2hvd0hpc3RvcnlNb2RhbCIsInNldFNob3dIaXN0b3J5TW9kYWwiLCJpc1Jlc3VtaW5nRHJhZnQiLCJzZXRJc1Jlc3VtaW5nRHJhZnQiLCJ1cGRhdGVGb3JtRGF0YSIsInVwZGF0ZXMiLCJoYW5kbGVGaWxlVXBsb2FkV3JhcHBlciIsImhhbmRsZUdldE1lc3NhZ2VIZWxwV3JhcHBlciIsInVuZG9NZXNzYWdlV3JhcHBlciIsInJlZG9NZXNzYWdlV3JhcHBlciIsInRlbXBsYXRlIiwic2Vzc2lvbklkIiwidmFsaWRhdGVTdGVwIiwic3RlcE51bWJlciIsImhhbmRsZU5leHQiLCJjdXJyZW50U3RlcCIsIm1hcmtTdGVwQ29tcGxldGVkIiwibGVuZ3RoIiwidXBkYXRlQ3VycmVudFN0ZXAiLCJoYW5kbGVQcmV2aW91cyIsImhhbmRsZVN0ZXBDbGljayIsImNvbXBsZXRlZFN0ZXBzIiwiaW5jbHVkZXMiLCJjYW5Qcm9jZWVkIiwiaGFuZGxlQ3JlYXRlTmV3IiwiZm9ybURhdGEiLCJzZWxlY3RlZFR5cGUiLCJzZWxlY3RlZFRvbmUiLCJ3aW5kb3ciLCJjb25maXJtIiwicmVzZXRGb3JtIiwicmVzZXRXaXphcmRTdGF0ZSIsInNldERyYWZ0Q2FyZHMiLCJzZXRHZW5lcmF0ZWRDYXJkIiwic2V0SXNHZW5lcmF0aW5nIiwic2V0R2VuZXJhdGlvblByb2dyZXNzIiwic2V0U2VsZWN0ZWREcmFmdEluZGV4Iiwic3VjY2VzcyIsImRpdiIsImNsYXNzTmFtZSIsImgxIiwiaGFzQ29tcGxldGVkQ2FyZHMiLCJoYXNEcmFmdFNlc3Npb25zIiwidmFyaWFudCIsInNpemUiLCJvbkNsaWNrIiwic3BhbiIsInRvdGFsQ2FyZHMiLCJ0b3RhbERyYWZ0cyIsInN0ZXBzIiwib25TdGVwQ2xpY2siLCJwIiwidG90YWxTdGVwcyIsIm9uUHJldmlvdXMiLCJvbk5leHQiLCJpc0dlbmVyYXRpbmciLCJpc09wZW4iLCJvbkNsb3NlIiwib25SZXN1bWVEcmFmdCIsIm9uTG9hZENhcmQiLCJjYXJkSWQiLCJpbmZvIiwiaXNSZXN0b3JpbmdKb2JzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./components/wizard/CardWizardRefactored.tsx\n");

/***/ }),

/***/ "(ssr)/./components/wizard/CardWizardSteps.tsx":
/*!***********************************************!*\
  !*** ./components/wizard/CardWizardSteps.tsx ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CardWizardSteps: () => (/* binding */ CardWizardSteps)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _steps_Step1CardBasics__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./steps/Step1CardBasics */ \"(ssr)/./components/wizard/steps/Step1CardBasics.tsx\");\n/* harmony import */ var _steps_Step2ContentCreation__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./steps/Step2ContentCreation */ \"(ssr)/./components/wizard/steps/Step2ContentCreation.tsx\");\n/* harmony import */ var _steps_Step3Personalization__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./steps/Step3Personalization */ \"(ssr)/./components/wizard/steps/Step3Personalization.tsx\");\n/* harmony import */ var _steps_Step4Details__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./steps/Step4Details */ \"(ssr)/./components/wizard/steps/Step4Details.tsx\");\n/* harmony import */ var _steps_Step5Review__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./steps/Step5Review */ \"(ssr)/./components/wizard/steps/Step5Review.tsx\");\n/* harmony import */ var _steps_Step6FinalGeneration__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./steps/Step6FinalGeneration */ \"(ssr)/./components/wizard/steps/Step6FinalGeneration.tsx\");\n/* __next_internal_client_entry_do_not_use__ CardWizardSteps auto */ \n\n\n\n\n\n\n\nfunction CardWizardSteps({ currentStep, formData, updateFormData, cardStudio, wizardState, handleFileUploadWrapper, handleGetMessageHelpWrapper, undoMessageWrapper, redoMessageWrapper, handleTemplateSelect, cardHistory, handleResumeDraft }) {\n    switch(currentStep){\n        case 1:\n            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_steps_Step1CardBasics__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n                formData: formData,\n                updateFormData: updateFormData,\n                onStepComplete: ()=>{\n                    if (!wizardState.completedSteps.includes(1)) {\n                        wizardState.markStepCompleted(1);\n                    }\n                },\n                onTemplateSelect: handleTemplateSelect,\n                // Photo upload props (moved from Step3)\n                handleFileUpload: handleFileUploadWrapper,\n                handleRemoveReferenceImage: (index)=>{\n                    // Update both cardStudio and form data\n                    const newImages = formData.referenceImages.filter((_, i)=>i !== index);\n                    const newUrls = formData.referenceImageUrls.filter((_, i)=>i !== index);\n                    // Update cardStudio state\n                    cardStudio.setReferenceImages(newImages);\n                    cardStudio.setReferenceImageUrls(newUrls);\n                    cardStudio.handleRemoveReferenceImage(index);\n                    // Update form data\n                    updateFormData({\n                        referenceImages: newImages,\n                        referenceImageUrls: newUrls\n                    });\n                },\n                isUploading: cardStudio.isUploading,\n                // Simplified photo references\n                photoReferences: cardStudio.photoReferences,\n                updatePhotoDescription: cardStudio.updatePhotoDescription,\n                // Pass cardStudio's URLs directly for immediate access\n                referenceImageUrlsFromStudio: cardStudio.referenceImageUrls,\n                // Card history props\n                cardHistory: cardHistory,\n                onResumeDraft: handleResumeDraft\n            }, void 0, false, {\n                fileName: \"/var/www/flask_app/ast_chat/components/wizard/CardWizardSteps.tsx\",\n                lineNumber: 44,\n                columnNumber: 9\n            }, this);\n        case 2:\n            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_steps_Step2ContentCreation__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n                formData: formData,\n                updateFormData: updateFormData,\n                onStepComplete: ()=>{\n                    if (!wizardState.completedSteps.includes(2)) {\n                        wizardState.markStepCompleted(2);\n                    }\n                },\n                handleGetMessageHelp: handleGetMessageHelpWrapper,\n                isGeneratingMessage: cardStudio.isGeneratingMessage,\n                messageHistory: cardStudio.messageHistory,\n                currentMessageIndex: cardStudio.currentMessageIndex,\n                undoMessage: undoMessageWrapper,\n                redoMessage: redoMessageWrapper\n            }, void 0, false, {\n                fileName: \"/var/www/flask_app/ast_chat/components/wizard/CardWizardSteps.tsx\",\n                lineNumber: 85,\n                columnNumber: 9\n            }, this);\n        case 3:\n            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_steps_Step3Personalization__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n                formData: formData,\n                updateFormData: updateFormData,\n                onStepComplete: ()=>{\n                    if (!wizardState.completedSteps.includes(3)) {\n                        wizardState.markStepCompleted(3);\n                    }\n                },\n                photoReferences: cardStudio.photoReferences\n            }, void 0, false, {\n                fileName: \"/var/www/flask_app/ast_chat/components/wizard/CardWizardSteps.tsx\",\n                lineNumber: 104,\n                columnNumber: 9\n            }, this);\n        case 4:\n            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_steps_Step4Details__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n                formData: formData,\n                updateFormData: updateFormData,\n                onStepComplete: ()=>{\n                    if (!wizardState.completedSteps.includes(4)) {\n                        wizardState.markStepCompleted(4);\n                    }\n                }\n            }, void 0, false, {\n                fileName: \"/var/www/flask_app/ast_chat/components/wizard/CardWizardSteps.tsx\",\n                lineNumber: 118,\n                columnNumber: 9\n            }, this);\n        case 5:\n            // Log only significant state changes\n            if (true) {\n                const stateKey = `${cardStudio.isGenerating}-${cardStudio.isDraftMode}-${cardStudio.draftCards.length}`;\n                if (window.lastStep5State !== stateKey) {\n                    console.log(\"\\uD83D\\uDCCD Step 5 state changed:\", {\n                        isGenerating: cardStudio.isGenerating,\n                        isDraftMode: cardStudio.isDraftMode,\n                        draftCards: cardStudio.draftCards.length,\n                        progressPercentage: cardStudio.progressPercentage\n                    });\n                    window.lastStep5State = stateKey;\n                }\n            }\n            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_steps_Step5Review__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n                formData: formData,\n                updateFormData: updateFormData,\n                onStepComplete: ()=>{\n                    if (!wizardState.completedSteps.includes(5)) {\n                        wizardState.markStepCompleted(5);\n                    }\n                },\n                isGenerating: cardStudio.isGenerating,\n                isGeneratingFinalCard: cardStudio.isGeneratingFinalCard,\n                isGeneratingMessage: cardStudio.isGeneratingMessage,\n                generationProgress: cardStudio.generationProgress,\n                progressPercentage: cardStudio.progressPercentage,\n                currentElapsedTime: cardStudio.currentElapsedTime,\n                isDraftMode: cardStudio.isDraftMode,\n                draftCards: cardStudio.draftCards,\n                selectedDraftIndex: cardStudio.selectedDraftIndex,\n                formatGenerationTime: cardStudio.formatGenerationTime,\n                onGenerateDraftCards: cardStudio.handleGenerateDraftCards,\n                onSelectDraft: (index)=>{\n                    cardStudio.setSelectedDraftIndex(index);\n                    // Auto-advance to final generation step when draft is selected\n                    if (!wizardState.completedSteps.includes(5)) {\n                        wizardState.markStepCompleted(5);\n                    }\n                    wizardState.updateCurrentStep(6);\n                }\n            }, void 0, false, {\n                fileName: \"/var/www/flask_app/ast_chat/components/wizard/CardWizardSteps.tsx\",\n                lineNumber: 144,\n                columnNumber: 9\n            }, this);\n        case 6:\n            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_steps_Step6FinalGeneration__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n                formData: formData,\n                isGeneratingFinalCard: cardStudio.isGeneratingFinalCard,\n                generationProgress: cardStudio.generationProgress,\n                progressPercentage: cardStudio.progressPercentage,\n                currentElapsedTime: cardStudio.currentElapsedTime,\n                selectedDraftIndex: cardStudio.selectedDraftIndex,\n                draftCards: cardStudio.draftCards,\n                generatedCard: cardStudio.generatedCard,\n                isCardCompleted: cardStudio.isCardCompleted,\n                onGenerateFinalCard: cardStudio.handleGenerateFinalFromDraft,\n                formatGenerationTime: cardStudio.formatGenerationTime,\n                onBackToDrafts: ()=>{\n                    cardStudio.setGeneratedCard(null);\n                    cardStudio.setIsCardCompleted(false);\n                    cardStudio.setIsGeneratingFinalCard(false);\n                    cardStudio.setCurrentJobId(null);\n                    cardStudio.setGenerationProgress(\"\");\n                    cardStudio.setProgressPercentage(0);\n                    cardStudio.stopElapsedTimeTracking();\n                    cardStudio.unsubscribeFromAllJobs();\n                    wizardState.updateCurrentStep(5);\n                }\n            }, void 0, false, {\n                fileName: \"/var/www/flask_app/ast_chat/components/wizard/CardWizardSteps.tsx\",\n                lineNumber: 176,\n                columnNumber: 9\n            }, this);\n        default:\n            return null;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9jb21wb25lbnRzL3dpemFyZC9DYXJkV2l6YXJkU3RlcHMudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUUwQjtBQUM0QjtBQUNVO0FBQ0E7QUFDaEI7QUFDRjtBQUNrQjtBQWtCekQsU0FBU08sZ0JBQWdCLEVBQzlCQyxXQUFXLEVBQ1hDLFFBQVEsRUFDUkMsY0FBYyxFQUNkQyxVQUFVLEVBQ1ZDLFdBQVcsRUFDWEMsdUJBQXVCLEVBQ3ZCQywyQkFBMkIsRUFDM0JDLGtCQUFrQixFQUNsQkMsa0JBQWtCLEVBQ2xCQyxvQkFBb0IsRUFDcEJDLFdBQVcsRUFDWEMsaUJBQWlCLEVBQ0k7SUFDckIsT0FBUVg7UUFDTixLQUFLO1lBQ0gscUJBQ0UsOERBQUNQLDhEQUFlQTtnQkFDZFEsVUFBVUE7Z0JBQ1ZDLGdCQUFnQkE7Z0JBQ2hCVSxnQkFBZ0I7b0JBQ2QsSUFBSSxDQUFDUixZQUFZUyxjQUFjLENBQUNDLFFBQVEsQ0FBQyxJQUFJO3dCQUMzQ1YsWUFBWVcsaUJBQWlCLENBQUM7b0JBQ2hDO2dCQUNGO2dCQUNBQyxrQkFBa0JQO2dCQUNsQix3Q0FBd0M7Z0JBQ3hDUSxrQkFBa0JaO2dCQUNsQmEsNEJBQTRCLENBQUNDO29CQUMzQix1Q0FBdUM7b0JBQ3ZDLE1BQU1DLFlBQVluQixTQUFTb0IsZUFBZSxDQUFDQyxNQUFNLENBQUMsQ0FBQ0MsR0FBR0MsSUFBTUEsTUFBTUw7b0JBQ2xFLE1BQU1NLFVBQVV4QixTQUFTeUIsa0JBQWtCLENBQUNKLE1BQU0sQ0FBQyxDQUFDQyxHQUFHQyxJQUFNQSxNQUFNTDtvQkFFbkUsMEJBQTBCO29CQUMxQmhCLFdBQVd3QixrQkFBa0IsQ0FBQ1A7b0JBQzlCakIsV0FBV3lCLHFCQUFxQixDQUFDSDtvQkFDakN0QixXQUFXZSwwQkFBMEIsQ0FBQ0M7b0JBRXRDLG1CQUFtQjtvQkFDbkJqQixlQUFlO3dCQUNibUIsaUJBQWlCRDt3QkFDakJNLG9CQUFvQkQ7b0JBQ3RCO2dCQUNGO2dCQUNBSSxhQUFhMUIs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QUN4QztvQkFDakMsK0RBQStEO29CQUMvRCxJQUFJLENBQUNmLFlBQVlTLGNBQWMsQ0FBQ0MsUUFBUSxDQUFDLElBQUk7d0JBQzNDVixZQUFZVyxpQkFBaUIsQ0FBQztvQkFDaEM7b0JBQ0FYLFlBQVl3RCxpQkFBaUIsQ0FBQztnQkFDaEM7Ozs7OztRQUlOLEtBQUs7WUFDSCxxQkFDRSw4REFBQzlELG1FQUFvQkE7Z0JBQ25CRyxVQUFVQTtnQkFDVmtELHVCQUF1QmhELFdBQVdnRCxxQkFBcUI7Z0JBQ3ZEQyxvQkFBb0JqRCxXQUFXaUQsa0JBQWtCO2dCQUNqREYsb0JBQW9CL0MsV0FBVytDLGtCQUFrQjtnQkFDakRHLG9CQUFvQmxELFdBQVdrRCxrQkFBa0I7Z0JBQ2pEQyxvQkFBb0JuRCxXQUFXbUQsa0JBQWtCO2dCQUNqRFYsWUFBWXpDLFdBQVd5QyxVQUFVO2dCQUNqQ2lCLGVBQWUxRCxXQUFXMEQsYUFBYTtnQkFDdkNDLGlCQUFpQjNELFdBQVcyRCxlQUFlO2dCQUMzQ0MscUJBQXFCNUQsV0FBVzZELDRCQUE0QjtnQkFDNURULHNCQUFzQnBELFdBQVdvRCxvQkFBb0I7Z0JBQ3JEVSxnQkFBZ0I7b0JBQ2Q5RCxXQUFXK0QsZ0JBQWdCLENBQUM7b0JBQzVCL0QsV0FBV2dFLGtCQUFrQixDQUFDO29CQUM5QmhFLFdBQVdpRSx3QkFBd0IsQ0FBQztvQkFDcENqRSxXQUFXa0UsZUFBZSxDQUFDO29CQUMzQmxFLFdBQVdtRSxxQkFBcUIsQ0FBQztvQkFDakNuRSxXQUFXb0UscUJBQXFCLENBQUM7b0JBQ2pDcEUsV0FBV3FFLHVCQUF1QjtvQkFDbENyRSxXQUFXc0Usc0JBQXNCO29CQUNqQ3JFLFlBQVl3RCxpQkFBaUIsQ0FBQztnQkFDaEM7Ozs7OztRQUlOO1lBQ0UsT0FBTztJQUNYO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92aWJlY2FyZGluZy8uL2NvbXBvbmVudHMvd2l6YXJkL0NhcmRXaXphcmRTdGVwcy50c3g/ZDE3MSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIjtcblxuaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IFN0ZXAxQ2FyZEJhc2ljcyBmcm9tIFwiLi9zdGVwcy9TdGVwMUNhcmRCYXNpY3NcIjtcbmltcG9ydCBTdGVwMkNvbnRlbnRDcmVhdGlvbiBmcm9tIFwiLi9zdGVwcy9TdGVwMkNvbnRlbnRDcmVhdGlvblwiO1xuaW1wb3J0IFN0ZXAzUGVyc29uYWxpemF0aW9uIGZyb20gXCIuL3N0ZXBzL1N0ZXAzUGVyc29uYWxpemF0aW9uXCI7XG5pbXBvcnQgU3RlcDREZXRhaWxzIGZyb20gXCIuL3N0ZXBzL1N0ZXA0RGV0YWlsc1wiO1xuaW1wb3J0IFN0ZXA1UmV2aWV3IGZyb20gXCIuL3N0ZXBzL1N0ZXA1UmV2aWV3XCI7XG5pbXBvcnQgU3RlcDZGaW5hbEdlbmVyYXRpb24gZnJvbSBcIi4vc3RlcHMvU3RlcDZGaW5hbEdlbmVyYXRpb25cIjtcbmltcG9ydCB7IENhcmRGb3JtRGF0YSB9IGZyb20gXCJAL2hvb2tzL3VzZUNhcmRGb3JtXCI7XG5cbmludGVyZmFjZSBDYXJkV2l6YXJkU3RlcHNQcm9wcyB7XG4gIGN1cnJlbnRTdGVwOiBudW1iZXI7XG4gIGZvcm1EYXRhOiBDYXJkRm9ybURhdGE7XG4gIHVwZGF0ZUZvcm1EYXRhOiAodXBkYXRlczogYW55KSA9PiB2b2lkO1xuICBjYXJkU3R1ZGlvOiBhbnk7XG4gIHdpemFyZFN0YXRlOiBhbnk7XG4gIGhhbmRsZUZpbGVVcGxvYWRXcmFwcGVyOiAoZmlsZTogRmlsZSwgdHlwZTogJ2hhbmR3cml0aW5nJyB8ICdyZWZlcmVuY2UnKSA9PiBQcm9taXNlPHZvaWQ+O1xuICBoYW5kbGVHZXRNZXNzYWdlSGVscFdyYXBwZXI6ICgpID0+IFByb21pc2U8dm9pZD47XG4gIHVuZG9NZXNzYWdlV3JhcHBlcjogKCkgPT4gdm9pZDtcbiAgcmVkb01lc3NhZ2VXcmFwcGVyOiAoKSA9PiB2b2lkO1xuICBoYW5kbGVUZW1wbGF0ZVNlbGVjdDogKHRlbXBsYXRlOiBhbnkpID0+IHZvaWQ7XG4gIGNhcmRIaXN0b3J5PzogYW55O1xuICBoYW5kbGVSZXN1bWVEcmFmdD86IChzZXNzaW9uSWQ6IHN0cmluZykgPT4gdm9pZDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIENhcmRXaXphcmRTdGVwcyh7XG4gIGN1cnJlbnRTdGVwLFxuICBmb3JtRGF0YSxcbiAgdXBkYXRlRm9ybURhdGEsXG4gIGNhcmRTdHVkaW8sXG4gIHdpemFyZFN0YXRlLFxuICBoYW5kbGVGaWxlVXBsb2FkV3JhcHBlcixcbiAgaGFuZGxlR2V0TWVzc2FnZUhlbHBXcmFwcGVyLFxuICB1bmRvTWVzc2FnZVdyYXBwZXIsXG4gIHJlZG9NZXNzYWdlV3JhcHBlcixcbiAgaGFuZGxlVGVtcGxhdGVTZWxlY3QsXG4gIGNhcmRIaXN0b3J5LFxuICBoYW5kbGVSZXN1bWVEcmFmdFxufTogQ2FyZFdpemFyZFN0ZXBzUHJvcHMpIHtcbiAgc3dpdGNoIChjdXJyZW50U3RlcCkge1xuICAgIGNhc2UgMTpcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxTdGVwMUNhcmRCYXNpY3NcbiAgICAgICAgICBmb3JtRGF0YT17Zm9ybURhdGF9XG4gICAgICAgICAgdXBkYXRlRm9ybURhdGE9e3VwZGF0ZUZvcm1EYXRhfVxuICAgICAgICAgIG9uU3RlcENvbXBsZXRlPXsoKSA9PiB7XG4gICAgICAgICAgICBpZiAoIXdpemFyZFN0YXRlLmNvbXBsZXRlZFN0ZXBzLmluY2x1ZGVzKDEpKSB7XG4gICAgICAgICAgICAgIHdpemFyZFN0YXRlLm1hcmtTdGVwQ29tcGxldGVkKDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH19XG4gICAgICAgICAgb25UZW1wbGF0ZVNlbGVjdD17aGFuZGxlVGVtcGxhdGVTZWxlY3R9XG4gICAgICAgICAgLy8gUGhvdG8gdXBsb2FkIHByb3BzIChtb3ZlZCBmcm9tIFN0ZXAzKVxuICAgICAgICAgIGhhbmRsZUZpbGVVcGxvYWQ9e2hhbmRsZUZpbGVVcGxvYWRXcmFwcGVyfVxuICAgICAgICAgIGhhbmRsZVJlbW92ZVJlZmVyZW5jZUltYWdlPXsoaW5kZXg6IG51bWJlcikgPT4ge1xuICAgICAgICAgICAgLy8gVXBkYXRlIGJvdGggY2FyZFN0dWRpbyBhbmQgZm9ybSBkYXRhXG4gICAgICAgICAgICBjb25zdCBuZXdJbWFnZXMgPSBmb3JtRGF0YS5yZWZlcmVuY2VJbWFnZXMuZmlsdGVyKChfLCBpKSA9PiBpICE9PSBpbmRleCk7XG4gICAgICAgICAgICBjb25zdCBuZXdVcmxzID0gZm9ybURhdGEucmVmZXJlbmNlSW1hZ2VVcmxzLmZpbHRlcigoXywgaSkgPT4gaSAhPT0gaW5kZXgpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBVcGRhdGUgY2FyZFN0dWRpbyBzdGF0ZVxuICAgICAgICAgICAgY2FyZFN0dWRpby5zZXRSZWZlcmVuY2VJbWFnZXMobmV3SW1hZ2VzKTtcbiAgICAgICAgICAgIGNhcmRTdHVkaW8uc2V0UmVmZXJlbmNlSW1hZ2VVcmxzKG5ld1VybHMpO1xuICAgICAgICAgICAgY2FyZFN0dWRpby5oYW5kbGVSZW1vdmVSZWZlcmVuY2VJbWFnZShpbmRleCk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIFVwZGF0ZSBmb3JtIGRhdGFcbiAgICAgICAgICAgIHVwZGF0ZUZvcm1EYXRhKHtcbiAgICAgICAgICAgICAgcmVmZXJlbmNlSW1hZ2VzOiBuZXdJbWFnZXMsXG4gICAgICAgICAgICAgIHJlZmVyZW5jZUltYWdlVXJsczogbmV3VXJsc1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfX1cbiAgICAgICAgICBpc1VwbG9hZGluZz17Y2FyZFN0dWRpby5pc1VwbG9hZGluZ31cbiAgICAgICAgICAvLyBTaW1wbGlmaWVkIHBob3RvIHJlZmVyZW5jZXNcbiAgICAgICAgICBwaG90b1JlZmVyZW5jZXM9e2NhcmRTdHVkaW8ucGhvdG9SZWZlcmVuY2VzfVxuICAgICAgICAgIHVwZGF0ZVBob3RvRGVzY3JpcHRpb249e2NhcmRTdHVkaW8udXBkYXRlUGhvdG9EZXNjcmlwdGlvbn1cbiAgICAgICAgICAvLyBQYXNzIGNhcmRTdHVkaW8ncyBVUkxzIGRpcmVjdGx5IGZvciBpbW1lZGlhdGUgYWNjZXNzXG4gICAgICAgICAgcmVmZXJlbmNlSW1hZ2VVcmxzRnJvbVN0dWRpbz17Y2FyZFN0dWRpby5yZWZlcmVuY2VJbWFnZVVybHN9XG4gICAgICAgICAgLy8gQ2FyZCBoaXN0b3J5IHByb3BzXG4gICAgICAgICAgY2FyZEhpc3Rvcnk9e2NhcmRIaXN0b3J5fVxuICAgICAgICAgIG9uUmVzdW1lRHJhZnQ9e2hhbmRsZVJlc3VtZURyYWZ0fVxuICAgICAgICAvPlxuICAgICAgKTtcbiAgICBcbiAgICBjYXNlIDI6XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8U3RlcDJDb250ZW50Q3JlYXRpb25cbiAgICAgICAgICBmb3JtRGF0YT17Zm9ybURhdGF9XG4gICAgICAgICAgdXBkYXRlRm9ybURhdGE9e3VwZGF0ZUZvcm1EYXRhfVxuICAgICAgICAgIG9uU3RlcENvbXBsZXRlPXsoKSA9PiB7XG4gICAgICAgICAgICBpZiAoIXdpemFyZFN0YXRlLmNvbXBsZXRlZFN0ZXBzLmluY2x1ZGVzKDIpKSB7XG4gICAgICAgICAgICAgIHdpemFyZFN0YXRlLm1hcmtTdGVwQ29tcGxldGVkKDIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH19XG4gICAgICAgICAgaGFuZGxlR2V0TWVzc2FnZUhlbHA9e2hhbmRsZUdldE1lc3NhZ2VIZWxwV3JhcHBlcn1cbiAgICAgICAgICBpc0dlbmVyYXRpbmdNZXNzYWdlPXtjYXJkU3R1ZGlvLmlzR2VuZXJhdGluZ01lc3NhZ2V9XG4gICAgICAgICAgbWVzc2FnZUhpc3Rvcnk9e2NhcmRTdHVkaW8ubWVzc2FnZUhpc3Rvcnl9XG4gICAgICAgICAgY3VycmVudE1lc3NhZ2VJbmRleD17Y2FyZFN0dWRpby5jdXJyZW50TWVzc2FnZUluZGV4fVxuICAgICAgICAgIHVuZG9NZXNzYWdlPXt1bmRvTWVzc2FnZVdyYXBwZXJ9XG4gICAgICAgICAgcmVkb01lc3NhZ2U9e3JlZG9NZXNzYWdlV3JhcHBlcn1cbiAgICAgICAgLz5cbiAgICAgICk7XG4gICAgXG4gICAgY2FzZSAzOlxuICAgICAgcmV0dXJuIChcbiAgICAgICAgPFN0ZXAzUGVyc29uYWxpemF0aW9uXG4gICAgICAgICAgZm9ybURhdGE9e2Zvcm1EYXRhfVxuICAgICAgICAgIHVwZGF0ZUZvcm1EYXRhPXt1cGRhdGVGb3JtRGF0YX1cbiAgICAgICAgICBvblN0ZXBDb21wbGV0ZT17KCkgPT4ge1xuICAgICAgICAgICAgaWYgKCF3aXphcmRTdGF0ZS5jb21wbGV0ZWRTdGVwcy5pbmNsdWRlcygzKSkge1xuICAgICAgICAgICAgICB3aXphcmRTdGF0ZS5tYXJrU3RlcENvbXBsZXRlZCgzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9fVxuICAgICAgICAgIHBob3RvUmVmZXJlbmNlcz17Y2FyZFN0dWRpby5waG90b1JlZmVyZW5jZXN9XG4gICAgICAgIC8+XG4gICAgICApO1xuICAgIFxuICAgIGNhc2UgNDpcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxTdGVwNERldGFpbHNcbiAgICAgICAgICBmb3JtRGF0YT17Zm9ybURhdGF9XG4gICAgICAgICAgdXBkYXRlRm9ybURhdGE9e3VwZGF0ZUZvcm1EYXRhfVxuICAgICAgICAgIG9uU3RlcENvbXBsZXRlPXsoKSA9PiB7XG4gICAgICAgICAgICBpZiAoIXdpemFyZFN0YXRlLmNvbXBsZXRlZFN0ZXBzLmluY2x1ZGVzKDQpKSB7XG4gICAgICAgICAgICAgIHdpemFyZFN0YXRlLm1hcmtTdGVwQ29tcGxldGVkKDQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH19XG4gICAgICAgIC8+XG4gICAgICApO1xuICAgIFxuICAgIGNhc2UgNTpcbiAgICAgIC8vIExvZyBvbmx5IHNpZ25pZmljYW50IHN0YXRlIGNoYW5nZXNcbiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50Jykge1xuICAgICAgICBjb25zdCBzdGF0ZUtleSA9IGAke2NhcmRTdHVkaW8uaXNHZW5lcmF0aW5nfS0ke2NhcmRTdHVkaW8uaXNEcmFmdE1vZGV9LSR7Y2FyZFN0dWRpby5kcmFmdENhcmRzLmxlbmd0aH1gO1xuICAgICAgICBpZiAoKHdpbmRvdyBhcyBhbnkpLmxhc3RTdGVwNVN0YXRlICE9PSBzdGF0ZUtleSkge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5ONIFN0ZXAgNSBzdGF0ZSBjaGFuZ2VkOicsIHtcbiAgICAgICAgICAgIGlzR2VuZXJhdGluZzogY2FyZFN0dWRpby5pc0dlbmVyYXRpbmcsXG4gICAgICAgICAgICBpc0RyYWZ0TW9kZTogY2FyZFN0dWRpby5pc0RyYWZ0TW9kZSxcbiAgICAgICAgICAgIGRyYWZ0Q2FyZHM6IGNhcmRTdHVkaW8uZHJhZnRDYXJkcy5sZW5ndGgsXG4gICAgICAgICAgICBwcm9ncmVzc1BlcmNlbnRhZ2U6IGNhcmRTdHVkaW8ucHJvZ3Jlc3NQZXJjZW50YWdlXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgKHdpbmRvdyBhcyBhbnkpLmxhc3RTdGVwNVN0YXRlID0gc3RhdGVLZXk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxTdGVwNVJldmlld1xuICAgICAgICAgIGZvcm1EYXRhPXtmb3JtRGF0YX1cbiAgICAgICAgICB1cGRhdGVGb3JtRGF0YT17dXBkYXRlRm9ybURhdGF9XG4gICAgICAgICAgb25TdGVwQ29tcGxldGU9eygpID0+IHtcbiAgICAgICAgICAgIGlmICghd2l6YXJkU3RhdGUuY29tcGxldGVkU3RlcHMuaW5jbHVkZXMoNSkpIHtcbiAgICAgICAgICAgICAgd2l6YXJkU3RhdGUubWFya1N0ZXBDb21wbGV0ZWQoNSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfX1cbiAgICAgICAgICBpc0dlbmVyYXRpbmc9e2NhcmRTdHVkaW8uaXNHZW5lcmF0aW5nfVxuICAgICAgICAgIGlzR2VuZXJhdGluZ0ZpbmFsQ2FyZD17Y2FyZFN0dWRpby5pc0dlbmVyYXRpbmdGaW5hbENhcmR9XG4gICAgICAgICAgaXNHZW5lcmF0aW5nTWVzc2FnZT17Y2FyZFN0dWRpby5pc0dlbmVyYXRpbmdNZXNzYWdlfVxuICAgICAgICAgIGdlbmVyYXRpb25Qcm9ncmVzcz17Y2FyZFN0dWRpby5nZW5lcmF0aW9uUHJvZ3Jlc3N9XG4gICAgICAgICAgcHJvZ3Jlc3NQZXJjZW50YWdlPXtjYXJkU3R1ZGlvLnByb2dyZXNzUGVyY2VudGFnZX1cbiAgICAgICAgICBjdXJyZW50RWxhcHNlZFRpbWU9e2NhcmRTdHVkaW8uY3VycmVudEVsYXBzZWRUaW1lfVxuICAgICAgICAgIGlzRHJhZnRNb2RlPXtjYXJkU3R1ZGlvLmlzRHJhZnRNb2RlfVxuICAgICAgICAgIGRyYWZ0Q2FyZHM9e2NhcmRTdHVkaW8uZHJhZnRDYXJkc31cbiAgICAgICAgICBzZWxlY3RlZERyYWZ0SW5kZXg9e2NhcmRTdHVkaW8uc2VsZWN0ZWREcmFmdEluZGV4fVxuICAgICAgICAgIGZvcm1hdEdlbmVyYXRpb25UaW1lPXtjYXJkU3R1ZGlvLmZvcm1hdEdlbmVyYXRpb25UaW1lfVxuICAgICAgICAgIG9uR2VuZXJhdGVEcmFmdENhcmRzPXtjYXJkU3R1ZGlvLmhhbmRsZUdlbmVyYXRlRHJhZnRDYXJkc31cbiAgICAgICAgICBvblNlbGVjdERyYWZ0PXsoaW5kZXgpID0+IHtcbiAgICAgICAgICAgIGNhcmRTdHVkaW8uc2V0U2VsZWN0ZWREcmFmdEluZGV4KGluZGV4KTtcbiAgICAgICAgICAgIC8vIEF1dG8tYWR2YW5jZSB0byBmaW5hbCBnZW5lcmF0aW9uIHN0ZXAgd2hlbiBkcmFmdCBpcyBzZWxlY3RlZFxuICAgICAgICAgICAgaWYgKCF3aXphcmRTdGF0ZS5jb21wbGV0ZWRTdGVwcy5pbmNsdWRlcyg1KSkge1xuICAgICAgICAgICAgICB3aXphcmRTdGF0ZS5tYXJrU3RlcENvbXBsZXRlZCg1KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHdpemFyZFN0YXRlLnVwZGF0ZUN1cnJlbnRTdGVwKDYpO1xuICAgICAgICAgIH19XG4gICAgICAgIC8+XG4gICAgICApO1xuICAgIFxuICAgIGNhc2UgNjpcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxTdGVwNkZpbmFsR2VuZXJhdGlvblxuICAgICAgICAgIGZvcm1EYXRhPXtmb3JtRGF0YX1cbiAgICAgICAgICBpc0dlbmVyYXRpbmdGaW5hbENhcmQ9e2NhcmRTdHVkaW8uaXNHZW5lcmF0aW5nRmluYWxDYXJkfVxuICAgICAgICAgIGdlbmVyYXRpb25Qcm9ncmVzcz17Y2FyZFN0dWRpby5nZW5lcmF0aW9uUHJvZ3Jlc3N9XG4gICAgICAgICAgcHJvZ3Jlc3NQZXJjZW50YWdlPXtjYXJkU3R1ZGlvLnByb2dyZXNzUGVyY2VudGFnZX1cbiAgICAgICAgICBjdXJyZW50RWxhcHNlZFRpbWU9e2NhcmRTdHVkaW8uY3VycmVudEVsYXBzZWRUaW1lfVxuICAgICAgICAgIHNlbGVjdGVkRHJhZnRJbmRleD17Y2FyZFN0dWRpby5zZWxlY3RlZERyYWZ0SW5kZXh9XG4gICAgICAgICAgZHJhZnRDYXJkcz17Y2FyZFN0dWRpby5kcmFmdENhcmRzfVxuICAgICAgICAgIGdlbmVyYXRlZENhcmQ9e2NhcmRTdHVkaW8uZ2VuZXJhdGVkQ2FyZH1cbiAgICAgICAgICBpc0NhcmRDb21wbGV0ZWQ9e2NhcmRTdHVkaW8uaXNDYXJkQ29tcGxldGVkfVxuICAgICAgICAgIG9uR2VuZXJhdGVGaW5hbENhcmQ9e2NhcmRTdHVkaW8uaGFuZGxlR2VuZXJhdGVGaW5hbEZyb21EcmFmdH1cbiAgICAgICAgICBmb3JtYXRHZW5lcmF0aW9uVGltZT17Y2FyZFN0dWRpby5mb3JtYXRHZW5lcmF0aW9uVGltZX1cbiAgICAgICAgICBvbkJhY2tUb0RyYWZ0cz17KCkgPT4ge1xuICAgICAgICAgICAgY2FyZFN0dWRpby5zZXRHZW5lcmF0ZWRDYXJkKG51bGwpO1xuICAgICAgICAgICAgY2FyZFN0dWRpby5zZXRJc0NhcmRDb21wbGV0ZWQoZmFsc2UpO1xuICAgICAgICAgICAgY2FyZFN0dWRpby5zZXRJc0dlbmVyYXRpbmdGaW5hbENhcmQoZmFsc2UpO1xuICAgICAgICAgICAgY2FyZFN0dWRpby5zZXRDdXJyZW50Sm9iSWQobnVsbCk7XG4gICAgICAgICAgICBjYXJkU3R1ZGlvLnNldEdlbmVyYXRpb25Qcm9ncmVzcygnJyk7XG4gICAgICAgICAgICBjYXJkU3R1ZGlvLnNldFByb2dyZXNzUGVyY2VudGFnZSgwKTtcbiAgICAgICAgICAgIGNhcmRTdHVkaW8uc3RvcEVsYXBzZWRUaW1lVHJhY2tpbmcoKTtcbiAgICAgICAgICAgIGNhcmRTdHVkaW8udW5zdWJzY3JpYmVGcm9tQWxsSm9icygpO1xuICAgICAgICAgICAgd2l6YXJkU3RhdGUudXBkYXRlQ3VycmVudFN0ZXAoNSk7XG4gICAgICAgICAgfX1cbiAgICAgICAgLz5cbiAgICAgICk7XG4gICAgXG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBudWxsO1xuICB9XG59Il0sIm5hbWVzIjpbIlJlYWN0IiwiU3RlcDFDYXJkQmFzaWNzIiwiU3RlcDJDb250ZW50Q3JlYXRpb24iLCJTdGVwM1BlcnNvbmFsaXphdGlvbiIsIlN0ZXA0RGV0YWlscyIsIlN0ZXA1UmV2aWV3IiwiU3RlcDZGaW5hbEdlbmVyYXRpb24iLCJDYXJkV2l6YXJkU3RlcHMiLCJjdXJyZW50U3RlcCIsImZvcm1EYXRhIiwidXBkYXRlRm9ybURhdGEiLCJjYXJkU3R1ZGlvIiwid2l6YXJkU3RhdGUiLCJoYW5kbGVGaWxlVXBsb2FkV3JhcHBlciIsImhhbmRsZUdldE1lc3NhZ2VIZWxwV3JhcHBlciIsInVuZG9NZXNzYWdlV3JhcHBlciIsInJlZG9NZXNzYWdlV3JhcHBlciIsImhhbmRsZVRlbXBsYXRlU2VsZWN0IiwiY2FyZEhpc3RvcnkiLCJoYW5kbGVSZXN1bWVEcmFmdCIsIm9uU3RlcENvbXBsZXRlIiwiY29tcGxldGVkU3RlcHMiLCJpbmNsdWRlcyIsIm1hcmtTdGVwQ29tcGxldGVkIiwib25UZW1wbGF0ZVNlbGVjdCIsImhhbmRsZUZpbGVVcGxvYWQiLCJoYW5kbGVSZW1vdmVSZWZlcmVuY2VJbWFnZSIsImluZGV4IiwibmV3SW1hZ2VzIiwicmVmZXJlbmNlSW1hZ2VzIiwiZmlsdGVyIiwiXyIsImkiLCJuZXdVcmxzIiwicmVmZXJlbmNlSW1hZ2VVcmxzIiwic2V0UmVmZXJlbmNlSW1hZ2VzIiwic2V0UmVmZXJlbmNlSW1hZ2VVcmxzIiwiaXNVcGxvYWRpbmciLCJwaG90b1JlZmVyZW5jZXMiLCJ1cGRhdGVQaG90b0Rlc2NyaXB0aW9uIiwicmVmZXJlbmNlSW1hZ2VVcmxzRnJvbVN0dWRpbyIsIm9uUmVzdW1lRHJhZnQiLCJoYW5kbGVHZXRNZXNzYWdlSGVscCIsImlzR2VuZXJhdGluZ01lc3NhZ2UiLCJtZXNzYWdlSGlzdG9yeSIsImN1cnJlbnRNZXNzYWdlSW5kZXgiLCJ1bmRvTWVzc2FnZSIsInJlZG9NZXNzYWdlIiwicHJvY2VzcyIsInN0YXRlS2V5IiwiaXNHZW5lcmF0aW5nIiwiaXNEcmFmdE1vZGUiLCJkcmFmdENhcmRzIiwibGVuZ3RoIiwid2luZG93IiwibGFzdFN0ZXA1U3RhdGUiLCJjb25zb2xlIiwibG9nIiwicHJvZ3Jlc3NQZXJjZW50YWdlIiwiaXNHZW5lcmF0aW5nRmluYWxDYXJkIiwiZ2VuZXJhdGlvblByb2dyZXNzIiwiY3VycmVudEVsYXBzZWRUaW1lIiwic2VsZWN0ZWREcmFmdEluZGV4IiwiZm9ybWF0R2VuZXJhdGlvblRpbWUiLCJvbkdlbmVyYXRlRHJhZnRDYXJkcyIsImhhbmRsZUdlbmVyYXRlRHJhZnRDYXJkcyIsIm9uU2VsZWN0RHJhZnQiLCJzZXRTZWxlY3RlZERyYWZ0SW5kZXgiLCJ1cGRhdGVDdXJyZW50U3RlcCIsImdlbmVyYXRlZENhcmQiLCJpc0NhcmRDb21wbGV0ZWQiLCJvbkdlbmVyYXRlRmluYWxDYXJkIiwiaGFuZGxlR2VuZXJhdGVGaW5hbEZyb21EcmFmdCIsIm9uQmFja1RvRHJhZnRzIiwic2V0R2VuZXJhdGVkQ2FyZCIsInNldElzQ2FyZENvbXBsZXRlZCIsInNldElzR2VuZXJhdGluZ0ZpbmFsQ2FyZCIsInNldEN1cnJlbnRKb2JJZCIsInNldEdlbmVyYXRpb25Qcm9ncmVzcyIsInNldFByb2dyZXNzUGVyY2VudGFnZSIsInN0b3BFbGFwc2VkVGltZVRyYWNraW5nIiwidW5zdWJzY3JpYmVGcm9tQWxsSm9icyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./components/wizard/CardWizardSteps.tsx\n");

/***/ }),

/***/ "(ssr)/./components/wizard/StepIndicator.tsx":
/*!*********************************************!*\
  !*** ./components/wizard/StepIndicator.tsx ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ StepIndicator)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _barrel_optimize_names_Check_lucide_react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! __barrel_optimize__?names=Check!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/check.js\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \n\n\nfunction StepIndicator({ steps, currentStep, completedSteps, onStepClick }) {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-4 mb-6\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"hidden md:flex items-center justify-between\",\n                children: steps.map((step, index)=>{\n                    const stepNumber = index + 1;\n                    const isCompleted = completedSteps.includes(stepNumber);\n                    const isCurrent = currentStep === stepNumber;\n                    const isClickable = stepNumber <= currentStep || isCompleted;\n                    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((react__WEBPACK_IMPORTED_MODULE_1___default().Fragment), {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex flex-col items-center\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: ()=>isClickable && onStepClick(stepNumber),\n                                        disabled: !isClickable,\n                                        className: `\n                    relative w-10 h-10 rounded-full flex items-center justify-center \n                    transition-all duration-200 mb-2\n                    ${isCompleted ? \"bg-green-500 text-white shadow-lg hover:bg-green-600\" : isCurrent ? \"bg-blue-500 text-white shadow-lg ring-4 ring-blue-100 dark:ring-blue-900/30\" : isClickable ? \"bg-gray-200 dark:bg-gray-700 text-gray-600 dark:text-gray-400 hover:bg-gray-300 dark:hover:bg-gray-600\" : \"bg-gray-100 dark:bg-gray-800 text-gray-400 dark:text-gray-600 cursor-not-allowed\"}\n                    ${isClickable ? \"cursor-pointer\" : \"cursor-not-allowed\"}\n                  `,\n                                        children: isCompleted ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Check_lucide_react__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n                                            className: \"w-5 h-5\"\n                                        }, void 0, false, {\n                                            fileName: \"/var/www/flask_app/ast_chat/components/wizard/StepIndicator.tsx\",\n                                            lineNumber: 52,\n                                            columnNumber: 21\n                                        }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"text-sm font-medium\",\n                                            children: stepNumber\n                                        }, void 0, false, {\n                                            fileName: \"/var/www/flask_app/ast_chat/components/wizard/StepIndicator.tsx\",\n                                            lineNumber: 54,\n                                            columnNumber: 21\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/var/www/flask_app/ast_chat/components/wizard/StepIndicator.tsx\",\n                                        lineNumber: 34,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"text-center\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: `\n                    text-xs font-medium\n                    ${isCurrent ? \"text-blue-600 dark:text-blue-400\" : isCompleted ? \"text-green-600 dark:text-green-400\" : \"text-gray-500 dark:text-gray-400\"}\n                  `,\n                                                children: step.title\n                                            }, void 0, false, {\n                                                fileName: \"/var/www/flask_app/ast_chat/components/wizard/StepIndicator.tsx\",\n                                                lineNumber: 60,\n                                                columnNumber: 19\n                                            }, this),\n                                            step.isOptional && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"text-xs text-gray-400 dark:text-gray-500\",\n                                                children: \"Optional\"\n                                            }, void 0, false, {\n                                                fileName: \"/var/www/flask_app/ast_chat/components/wizard/StepIndicator.tsx\",\n                                                lineNumber: 72,\n                                                columnNumber: 21\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/var/www/flask_app/ast_chat/components/wizard/StepIndicator.tsx\",\n                                        lineNumber: 59,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/var/www/flask_app/ast_chat/components/wizard/StepIndicator.tsx\",\n                                lineNumber: 33,\n                                columnNumber: 15\n                            }, this),\n                            index < steps.length - 1 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex-1 h-px bg-gray-200 dark:bg-gray-700 mx-2 mt-5\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: `\n                      h-full transition-all duration-300\n                      ${completedSteps.includes(stepNumber) ? \"bg-green-500\" : \"bg-gray-200 dark:bg-gray-700\"}\n                    `\n                                }, void 0, false, {\n                                    fileName: \"/var/www/flask_app/ast_chat/components/wizard/StepIndicator.tsx\",\n                                    lineNumber: 82,\n                                    columnNumber: 19\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/var/www/flask_app/ast_chat/components/wizard/StepIndicator.tsx\",\n                                lineNumber: 81,\n                                columnNumber: 17\n                            }, this)\n                        ]\n                    }, step.id, true, {\n                        fileName: \"/var/www/flask_app/ast_chat/components/wizard/StepIndicator.tsx\",\n                        lineNumber: 31,\n                        columnNumber: 13\n                    }, this);\n                })\n            }, void 0, false, {\n                fileName: \"/var/www/flask_app/ast_chat/components/wizard/StepIndicator.tsx\",\n                lineNumber: 23,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"md:hidden\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center justify-between mb-4\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex items-center space-x-3\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: `\n              w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium\n              ${completedSteps.includes(currentStep) ? \"bg-green-500 text-white\" : \"bg-blue-500 text-white\"}\n            `,\n                                        children: completedSteps.includes(currentStep) ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Check_lucide_react__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n                                            className: \"w-4 h-4\"\n                                        }, void 0, false, {\n                                            fileName: \"/var/www/flask_app/ast_chat/components/wizard/StepIndicator.tsx\",\n                                            lineNumber: 111,\n                                            columnNumber: 17\n                                        }, this) : currentStep\n                                    }, void 0, false, {\n                                        fileName: \"/var/www/flask_app/ast_chat/components/wizard/StepIndicator.tsx\",\n                                        lineNumber: 103,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"text-sm font-medium text-gray-900 dark:text-white\",\n                                                children: [\n                                                    \"Step \",\n                                                    currentStep,\n                                                    \" of \",\n                                                    steps.length\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/var/www/flask_app/ast_chat/components/wizard/StepIndicator.tsx\",\n                                                lineNumber: 117,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"text-xs text-gray-500 dark:text-gray-400\",\n                                                children: steps[currentStep - 1]?.title\n                                            }, void 0, false, {\n                                                fileName: \"/var/www/flask_app/ast_chat/components/wizard/StepIndicator.tsx\",\n                                                lineNumber: 120,\n                                                columnNumber: 15\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/var/www/flask_app/ast_chat/components/wizard/StepIndicator.tsx\",\n                                        lineNumber: 116,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/var/www/flask_app/ast_chat/components/wizard/StepIndicator.tsx\",\n                                lineNumber: 102,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex items-center space-x-1.5\",\n                                children: steps.map((_, index)=>{\n                                    const stepNumber = index + 1;\n                                    const isCompleted = completedSteps.includes(stepNumber);\n                                    const isCurrent = currentStep === stepNumber;\n                                    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: ()=>{\n                                            const isClickable = stepNumber <= currentStep || isCompleted;\n                                            if (isClickable) onStepClick(stepNumber);\n                                        },\n                                        className: `\n                    transition-all duration-200 rounded-full touch-manipulation\n                    ${isCompleted ? \"w-3 h-3 bg-green-500\" : isCurrent ? \"w-4 h-4 bg-blue-500\" : \"w-3 h-3 bg-gray-300 dark:bg-gray-600\"}\n                  `\n                                    }, index, false, {\n                                        fileName: \"/var/www/flask_app/ast_chat/components/wizard/StepIndicator.tsx\",\n                                        lineNumber: 134,\n                                        columnNumber: 17\n                                    }, this);\n                                })\n                            }, void 0, false, {\n                                fileName: \"/var/www/flask_app/ast_chat/components/wizard/StepIndicator.tsx\",\n                                lineNumber: 127,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/var/www/flask_app/ast_chat/components/wizard/StepIndicator.tsx\",\n                        lineNumber: 101,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"overflow-x-auto pb-2\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex items-center space-x-3 min-w-max\",\n                            children: steps.map((step, index)=>{\n                                const stepNumber = index + 1;\n                                const isCompleted = completedSteps.includes(stepNumber);\n                                const isCurrent = currentStep === stepNumber;\n                                const isClickable = stepNumber <= currentStep || isCompleted;\n                                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((react__WEBPACK_IMPORTED_MODULE_1___default().Fragment), {\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex flex-col items-center flex-shrink-0\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                    onClick: ()=>isClickable && onStepClick(stepNumber),\n                                                    disabled: !isClickable,\n                                                    className: `\n                        relative w-11 h-11 rounded-full flex items-center justify-center \n                        transition-all duration-200 mb-1 touch-manipulation\n                        ${isCompleted ? \"bg-green-500 text-white shadow-sm\" : isCurrent ? \"bg-blue-500 text-white shadow-sm ring-2 ring-blue-100 dark:ring-blue-900/30\" : isClickable ? \"bg-gray-200 dark:bg-gray-700 text-gray-600 dark:text-gray-400\" : \"bg-gray-100 dark:bg-gray-800 text-gray-400 dark:text-gray-600 cursor-not-allowed\"}\n                        ${isClickable ? \"cursor-pointer\" : \"cursor-not-allowed\"}\n                      `,\n                                                    children: isCompleted ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Check_lucide_react__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n                                                        className: \"w-4 h-4\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/components/wizard/StepIndicator.tsx\",\n                                                        lineNumber: 185,\n                                                        columnNumber: 25\n                                                    }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        className: \"text-sm font-medium\",\n                                                        children: stepNumber\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/components/wizard/StepIndicator.tsx\",\n                                                        lineNumber: 187,\n                                                        columnNumber: 25\n                                                    }, this)\n                                                }, void 0, false, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/components/wizard/StepIndicator.tsx\",\n                                                    lineNumber: 167,\n                                                    columnNumber: 21\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"text-center max-w-[80px]\",\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: `\n                        text-xs font-medium leading-tight\n                        ${isCurrent ? \"text-blue-600 dark:text-blue-400\" : isCompleted ? \"text-green-600 dark:text-green-400\" : \"text-gray-500 dark:text-gray-400\"}\n                      `,\n                                                        children: step.mobileTitle || step.title\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/components/wizard/StepIndicator.tsx\",\n                                                        lineNumber: 193,\n                                                        columnNumber: 23\n                                                    }, this)\n                                                }, void 0, false, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/components/wizard/StepIndicator.tsx\",\n                                                    lineNumber: 192,\n                                                    columnNumber: 21\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/var/www/flask_app/ast_chat/components/wizard/StepIndicator.tsx\",\n                                            lineNumber: 166,\n                                            columnNumber: 19\n                                        }, this),\n                                        index < steps.length - 1 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"w-8 h-px bg-gray-200 dark:bg-gray-700 mt-4 flex-shrink-0\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: `\n                          h-full transition-all duration-300\n                          ${completedSteps.includes(stepNumber) ? \"bg-green-500\" : \"bg-gray-200 dark:bg-gray-700\"}\n                        `\n                                            }, void 0, false, {\n                                                fileName: \"/var/www/flask_app/ast_chat/components/wizard/StepIndicator.tsx\",\n                                                lineNumber: 210,\n                                                columnNumber: 23\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/var/www/flask_app/ast_chat/components/wizard/StepIndicator.tsx\",\n                                            lineNumber: 209,\n                                            columnNumber: 21\n                                        }, this)\n                                    ]\n                                }, step.id, true, {\n                                    fileName: \"/var/www/flask_app/ast_chat/components/wizard/StepIndicator.tsx\",\n                                    lineNumber: 165,\n                                    columnNumber: 17\n                                }, this);\n                            })\n                        }, void 0, false, {\n                            fileName: \"/var/www/flask_app/ast_chat/components/wizard/StepIndicator.tsx\",\n                            lineNumber: 157,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/var/www/flask_app/ast_chat/components/wizard/StepIndicator.tsx\",\n                        lineNumber: 156,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/var/www/flask_app/ast_chat/components/wizard/StepIndicator.tsx\",\n                lineNumber: 99,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"mt-4\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center justify-between text-xs text-gray-600 dark:text-gray-400 mb-1\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                children: \"Progress\"\n                            }, void 0, false, {\n                                fileName: \"/var/www/flask_app/ast_chat/components/wizard/StepIndicator.tsx\",\n                                lineNumber: 231,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                children: [\n                                    Math.round((completedSteps.length + (currentStep > completedSteps.length ? 0.5 : 0)) / steps.length * 100),\n                                    \"%\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/var/www/flask_app/ast_chat/components/wizard/StepIndicator.tsx\",\n                                lineNumber: 232,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/var/www/flask_app/ast_chat/components/wizard/StepIndicator.tsx\",\n                        lineNumber: 230,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"bg-gradient-to-r from-blue-500 to-cyan-500 h-2 rounded-full transition-all duration-500 ease-out\",\n                            style: {\n                                width: `${(completedSteps.length + (currentStep > completedSteps.length ? 0.5 : 0)) / steps.length * 100}%`\n                            }\n                        }, void 0, false, {\n                            fileName: \"/var/www/flask_app/ast_chat/components/wizard/StepIndicator.tsx\",\n                            lineNumber: 237,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/var/www/flask_app/ast_chat/components/wizard/StepIndicator.tsx\",\n                        lineNumber: 236,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/var/www/flask_app/ast_chat/components/wizard/StepIndicator.tsx\",\n                lineNumber: 229,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/var/www/flask_app/ast_chat/components/wizard/StepIndicator.tsx\",\n        lineNumber: 21,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9jb21wb25lbnRzL3dpemFyZC9TdGVwSW5kaWNhdG9yLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBRTBCO0FBQ21CO0FBVTlCLFNBQVNFLGNBQWMsRUFDcENDLEtBQUssRUFDTEMsV0FBVyxFQUNYQyxjQUFjLEVBQ2RDLFdBQVcsRUFDUTtJQUNuQixxQkFDRSw4REFBQ0M7UUFBSUMsV0FBVTs7MEJBRWIsOERBQUNEO2dCQUFJQyxXQUFVOzBCQUNaTCxNQUFNTSxHQUFHLENBQUMsQ0FBQ0MsTUFBTUM7b0JBQ2hCLE1BQU1DLGFBQWFELFFBQVE7b0JBQzNCLE1BQU1FLGNBQWNSLGVBQWVTLFFBQVEsQ0FBQ0Y7b0JBQzVDLE1BQU1HLFlBQVlYLGdCQUFnQlE7b0JBQ2xDLE1BQU1JLGNBQWNKLGNBQWNSLGVBQWVTO29CQUVqRCxxQkFDRSw4REFBQ2IsdURBQWM7OzBDQUViLDhEQUFDTztnQ0FBSUMsV0FBVTs7a0RBQ2IsOERBQUNVO3dDQUNDQyxTQUFTLElBQU1ILGVBQWVWLFlBQVlNO3dDQUMxQ1EsVUFBVSxDQUFDSjt3Q0FDWFIsV0FBVyxDQUFDOzs7b0JBR1YsRUFBRUssY0FDRSx5REFDQUUsWUFDQSxnRkFDQUMsY0FDQSwyR0FDQSxtRkFDSDtvQkFDRCxFQUFFQSxjQUFjLG1CQUFtQixxQkFBcUI7a0JBQzFELENBQUM7a0RBRUFILDRCQUNDLDhEQUFDWixpRkFBS0E7NENBQUNPLFdBQVU7Ozs7O2lFQUVqQiw4REFBQ2E7NENBQUtiLFdBQVU7c0RBQXVCSTs7Ozs7Ozs7Ozs7a0RBSzNDLDhEQUFDTDt3Q0FBSUMsV0FBVTs7MERBQ2IsOERBQUNEO2dEQUFJQyxXQUFXLENBQUM7O29CQUVmLEVBQUVPLFlBQ0UscUNBQ0FGLGNBQ0EsdUNBQ0EsbUNBQ0g7a0JBQ0gsQ0FBQzswREFDRUgsS0FBS1ksS0FBSzs7Ozs7OzRDQUVaWixLQUFLYSxVQUFVLGtCQUNkLDhEQUFDaEI7Z0RBQUlDLFdBQVU7MERBQTJDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7NEJBUS9E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MERoQzs7Ozs7Ozs7Ozs7Ozs7Ozs7MEJBTU4sOERBQUNsQjtnQkFBSUMsV0FBVTs7a0NBQ2IsOERBQUNEO3dCQUFJQyxXQUFVOzswQ0FDYiw4REFBQ2E7MENBQUs7Ozs7OzswQ0FDTiw4REFBQ0E7O29DQUNFTyxLQUFLQyxLQUFLLENBQUMsQ0FBRXhCLGVBQWVtQixNQUFNLEdBQUlwQixDQUFBQSxjQUFjQyxlQUFlbUIsTUFBTSxHQUFHLE1BQU0sRUFBQyxJQUFLckIsTUFBTXFCLE1BQU0sR0FBSTtvQ0FBSzs7Ozs7Ozs7Ozs7OztrQ0FHbEgsOERBQUNqQjt3QkFBSUMsV0FBVTtrQ0FDYiw0RUFBQ0Q7NEJBQ0NDLFdBQVU7NEJBQ1ZzQixPQUFPO2dDQUNMQyxPQUFPLENBQUMsRUFBRSxDQUFFMUIsZUFBZW1CLE1BQU0sR0FBSXBCLENBQUFBLGNBQWNDLGVBQWVtQixNQUFNLEdBQUcsTUFBTSxFQUFDLElBQUtyQixNQUFNcUIsTUFBTSxHQUFJLElBQUksQ0FBQyxDQUFDOzRCQUMvRzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFNWiIsInNvdXJjZXMiOlsid2VicGFjazovL3ZpYmVjYXJkaW5nLy4vY29tcG9uZW50cy93aXphcmQvU3RlcEluZGljYXRvci50c3g/ZWQ3YiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIjtcblxuaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgQ2hlY2ssIENpcmNsZSB9IGZyb20gXCJsdWNpZGUtcmVhY3RcIjtcbmltcG9ydCB7IFdpemFyZFN0ZXAgfSBmcm9tIFwiLi9DYXJkV2l6YXJkUmVmYWN0b3JlZFwiO1xuXG5pbnRlcmZhY2UgU3RlcEluZGljYXRvclByb3BzIHtcbiAgc3RlcHM6IFdpemFyZFN0ZXBbXTtcbiAgY3VycmVudFN0ZXA6IG51bWJlcjtcbiAgY29tcGxldGVkU3RlcHM6IG51bWJlcltdO1xuICBvblN0ZXBDbGljazogKHN0ZXBOdW1iZXI6IG51bWJlcikgPT4gdm9pZDtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gU3RlcEluZGljYXRvcih7IFxuICBzdGVwcywgXG4gIGN1cnJlbnRTdGVwLCBcbiAgY29tcGxldGVkU3RlcHMsIFxuICBvblN0ZXBDbGljayBcbn06IFN0ZXBJbmRpY2F0b3JQcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctd2hpdGUgZGFyazpiZy1ncmF5LTgwMCByb3VuZGVkLWxnIHNoYWRvdy1zbSBwLTQgbWItNlwiPlxuICAgICAgey8qIERlc2t0b3AgTGF5b3V0ICovfVxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJoaWRkZW4gbWQ6ZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuXCI+XG4gICAgICAgIHtzdGVwcy5tYXAoKHN0ZXAsIGluZGV4KSA9PiB7XG4gICAgICAgICAgY29uc3Qgc3RlcE51bWJlciA9IGluZGV4ICsgMTtcbiAgICAgICAgICBjb25zdCBpc0NvbXBsZXRlZCA9IGNvbXBsZXRlZFN0ZXBzLmluY2x1ZGVzKHN0ZXBOdW1iZXIpO1xuICAgICAgICAgIGNvbnN0IGlzQ3VycmVudCA9IGN1cnJlbnRTdGVwID09PSBzdGVwTnVtYmVyO1xuICAgICAgICAgIGNvbnN0IGlzQ2xpY2thYmxlID0gc3RlcE51bWJlciA8PSBjdXJyZW50U3RlcCB8fCBpc0NvbXBsZXRlZDtcblxuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8UmVhY3QuRnJhZ21lbnQga2V5PXtzdGVwLmlkfT5cbiAgICAgICAgICAgICAgey8qIFN0ZXAgQ2lyY2xlICovfVxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgaXRlbXMtY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gaXNDbGlja2FibGUgJiYgb25TdGVwQ2xpY2soc3RlcE51bWJlcil9XG4gICAgICAgICAgICAgICAgICBkaXNhYmxlZD17IWlzQ2xpY2thYmxlfVxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgXG4gICAgICAgICAgICAgICAgICAgIHJlbGF0aXZlIHctMTAgaC0xMCByb3VuZGVkLWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgXG4gICAgICAgICAgICAgICAgICAgIHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTIwMCBtYi0yXG4gICAgICAgICAgICAgICAgICAgICR7aXNDb21wbGV0ZWQgXG4gICAgICAgICAgICAgICAgICAgICAgPyAnYmctZ3JlZW4tNTAwIHRleHQtd2hpdGUgc2hhZG93LWxnIGhvdmVyOmJnLWdyZWVuLTYwMCcgXG4gICAgICAgICAgICAgICAgICAgICAgOiBpc0N1cnJlbnQgXG4gICAgICAgICAgICAgICAgICAgICAgPyAnYmctYmx1ZS01MDAgdGV4dC13aGl0ZSBzaGFkb3ctbGcgcmluZy00IHJpbmctYmx1ZS0xMDAgZGFyazpyaW5nLWJsdWUtOTAwLzMwJyBcbiAgICAgICAgICAgICAgICAgICAgICA6IGlzQ2xpY2thYmxlXG4gICAgICAgICAgICAgICAgICAgICAgPyAnYmctZ3JheS0yMDAgZGFyazpiZy1ncmF5LTcwMCB0ZXh0LWdyYXktNjAwIGRhcms6dGV4dC1ncmF5LTQwMCBob3ZlcjpiZy1ncmF5LTMwMCBkYXJrOmhvdmVyOmJnLWdyYXktNjAwJ1xuICAgICAgICAgICAgICAgICAgICAgIDogJ2JnLWdyYXktMTAwIGRhcms6YmctZ3JheS04MDAgdGV4dC1ncmF5LTQwMCBkYXJrOnRleHQtZ3JheS02MDAgY3Vyc29yLW5vdC1hbGxvd2VkJ1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICR7aXNDbGlja2FibGUgPyAnY3Vyc29yLXBvaW50ZXInIDogJ2N1cnNvci1ub3QtYWxsb3dlZCd9XG4gICAgICAgICAgICAgICAgICBgfVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIHtpc0NvbXBsZXRlZCA/IChcbiAgICAgICAgICAgICAgICAgICAgPENoZWNrIGNsYXNzTmFtZT1cInctNSBoLTVcIiAvPlxuICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1zbSBmb250LW1lZGl1bVwiPntzdGVwTnVtYmVyfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgey8qIFN0ZXAgTGFiZWwgKi99XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2BcbiAgICAgICAgICAgICAgICAgICAgdGV4dC14cyBmb250LW1lZGl1bVxuICAgICAgICAgICAgICAgICAgICAke2lzQ3VycmVudCBcbiAgICAgICAgICAgICAgICAgICAgICA/ICd0ZXh0LWJsdWUtNjAwIGRhcms6dGV4dC1ibHVlLTQwMCcgXG4gICAgICAgICAgICAgICAgICAgICAgOiBpc0NvbXBsZXRlZCBcbiAgICAgICAgICAgICAgICAgICAgICA/ICd0ZXh0LWdyZWVuLTYwMCBkYXJrOnRleHQtZ3JlZW4tNDAwJ1xuICAgICAgICAgICAgICAgICAgICAgIDogJ3RleHQtZ3JheS01MDAgZGFyazp0ZXh0LWdyYXktNDAwJ1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBgfT5cbiAgICAgICAgICAgICAgICAgICAge3N0ZXAudGl0bGV9XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIHtzdGVwLmlzT3B0aW9uYWwgJiYgKFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1ncmF5LTQwMCBkYXJrOnRleHQtZ3JheS01MDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICBPcHRpb25hbFxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgIHsvKiBDb25uZWN0b3IgTGluZSAqL31cbiAgICAgICAgICAgICAge2luZGV4IDwgc3RlcHMubGVuZ3RoIC0gMSAmJiAoXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4LTEgaC1weCBiZy1ncmF5LTIwMCBkYXJrOmJnLWdyYXktNzAwIG14LTIgbXQtNVwiPlxuICAgICAgICAgICAgICAgICAgPGRpdiBcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgXG4gICAgICAgICAgICAgICAgICAgICAgaC1mdWxsIHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTMwMFxuICAgICAgICAgICAgICAgICAgICAgICR7Y29tcGxldGVkU3RlcHMuaW5jbHVkZXMoc3RlcE51bWJlcikgXG4gICAgICAgICAgICAgICAgICAgICAgICA/ICdiZy1ncmVlbi01MDAnIFxuICAgICAgICAgICAgICAgICAgICAgICAgOiAnYmctZ3JheS0yMDAgZGFyazpiZy1ncmF5LTcwMCdcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGB9XG4gICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgPC9SZWFjdC5GcmFnbWVudD5cbiAgICAgICAgICApO1xuICAgICAgICB9KX1cbiAgICAgIDwvZGl2PlxuXG4gICAgICB7LyogTW9iaWxlIExheW91dCAqL31cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWQ6aGlkZGVuXCI+XG4gICAgICAgIHsvKiBDdXJyZW50IFN0ZXAgRGlzcGxheSAqL31cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gbWItNFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgc3BhY2UteC0zXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YFxuICAgICAgICAgICAgICB3LTggaC04IHJvdW5kZWQtZnVsbCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciB0ZXh0LXNtIGZvbnQtbWVkaXVtXG4gICAgICAgICAgICAgICR7Y29tcGxldGVkU3RlcHMuaW5jbHVkZXMoY3VycmVudFN0ZXApIFxuICAgICAgICAgICAgICAgID8gJ2JnLWdyZWVuLTUwMCB0ZXh0LXdoaXRlJyBcbiAgICAgICAgICAgICAgICA6ICdiZy1ibHVlLTUwMCB0ZXh0LXdoaXRlJ1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBgfT5cbiAgICAgICAgICAgICAge2NvbXBsZXRlZFN0ZXBzLmluY2x1ZGVzKGN1cnJlbnRTdGVwKSA/IChcbiAgICAgICAgICAgICAgICA8Q2hlY2sgY2xhc3NOYW1lPVwidy00IGgtNFwiIC8+XG4gICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgY3VycmVudFN0ZXBcbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZ3JheS05MDAgZGFyazp0ZXh0LXdoaXRlXCI+XG4gICAgICAgICAgICAgICAgU3RlcCB7Y3VycmVudFN0ZXB9IG9mIHtzdGVwcy5sZW5ndGh9XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1ncmF5LTUwMCBkYXJrOnRleHQtZ3JheS00MDBcIj5cbiAgICAgICAgICAgICAgICB7c3RlcHNbY3VycmVudFN0ZXAgLSAxXT8udGl0bGV9XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgXG4gICAgICAgICAgey8qIE1vYmlsZSBTdGVwIERvdHMgKi99XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBzcGFjZS14LTEuNVwiPlxuICAgICAgICAgICAge3N0ZXBzLm1hcCgoXywgaW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgY29uc3Qgc3RlcE51bWJlciA9IGluZGV4ICsgMTtcbiAgICAgICAgICAgICAgY29uc3QgaXNDb21wbGV0ZWQgPSBjb21wbGV0ZWRTdGVwcy5pbmNsdWRlcyhzdGVwTnVtYmVyKTtcbiAgICAgICAgICAgICAgY29uc3QgaXNDdXJyZW50ID0gY3VycmVudFN0ZXAgPT09IHN0ZXBOdW1iZXI7XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgIGtleT17aW5kZXh9XG4gICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGlzQ2xpY2thYmxlID0gc3RlcE51bWJlciA8PSBjdXJyZW50U3RlcCB8fCBpc0NvbXBsZXRlZDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzQ2xpY2thYmxlKSBvblN0ZXBDbGljayhzdGVwTnVtYmVyKTtcbiAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2BcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMjAwIHJvdW5kZWQtZnVsbCB0b3VjaC1tYW5pcHVsYXRpb25cbiAgICAgICAgICAgICAgICAgICAgJHtpc0NvbXBsZXRlZCBcbiAgICAgICAgICAgICAgICAgICAgICA/ICd3LTMgaC0zIGJnLWdyZWVuLTUwMCcgXG4gICAgICAgICAgICAgICAgICAgICAgOiBpc0N1cnJlbnQgXG4gICAgICAgICAgICAgICAgICAgICAgPyAndy00IGgtNCBiZy1ibHVlLTUwMCcgXG4gICAgICAgICAgICAgICAgICAgICAgOiAndy0zIGgtMyBiZy1ncmF5LTMwMCBkYXJrOmJnLWdyYXktNjAwJ1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBgfVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9KX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIFxuICAgICAgICB7LyogSG9yaXpvbnRhbCBTY3JvbGxhYmxlIFN0ZXAgTGlzdCBmb3IgTW9iaWxlICovfVxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm92ZXJmbG93LXgtYXV0byBwYi0yXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBzcGFjZS14LTMgbWluLXctbWF4XCI+XG4gICAgICAgICAgICB7c3RlcHMubWFwKChzdGVwLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgICBjb25zdCBzdGVwTnVtYmVyID0gaW5kZXggKyAxO1xuICAgICAgICAgICAgICBjb25zdCBpc0NvbXBsZXRlZCA9IGNvbXBsZXRlZFN0ZXBzLmluY2x1ZGVzKHN0ZXBOdW1iZXIpO1xuICAgICAgICAgICAgICBjb25zdCBpc0N1cnJlbnQgPSBjdXJyZW50U3RlcCA9PT0gc3RlcE51bWJlcjtcbiAgICAgICAgICAgICAgY29uc3QgaXNDbGlja2FibGUgPSBzdGVwTnVtYmVyIDw9IGN1cnJlbnRTdGVwIHx8IGlzQ29tcGxldGVkO1xuXG4gICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgPFJlYWN0LkZyYWdtZW50IGtleT17c3RlcC5pZH0+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgaXRlbXMtY2VudGVyIGZsZXgtc2hyaW5rLTBcIj5cbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGlzQ2xpY2thYmxlICYmIG9uU3RlcENsaWNrKHN0ZXBOdW1iZXIpfVxuICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXshaXNDbGlja2FibGV9XG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgXG4gICAgICAgICAgICAgICAgICAgICAgICByZWxhdGl2ZSB3LTExIGgtMTEgcm91bmRlZC1mdWxsIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIFxuICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMjAwIG1iLTEgdG91Y2gtbWFuaXB1bGF0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICAke2lzQ29tcGxldGVkIFxuICAgICAgICAgICAgICAgICAgICAgICAgICA/ICdiZy1ncmVlbi01MDAgdGV4dC13aGl0ZSBzaGFkb3ctc20nIFxuICAgICAgICAgICAgICAgICAgICAgICAgICA6IGlzQ3VycmVudCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPyAnYmctYmx1ZS01MDAgdGV4dC13aGl0ZSBzaGFkb3ctc20gcmluZy0yIHJpbmctYmx1ZS0xMDAgZGFyazpyaW5nLWJsdWUtOTAwLzMwJyBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgOiBpc0NsaWNrYWJsZVxuICAgICAgICAgICAgICAgICAgICAgICAgICA/ICdiZy1ncmF5LTIwMCBkYXJrOmJnLWdyYXktNzAwIHRleHQtZ3JheS02MDAgZGFyazp0ZXh0LWdyYXktNDAwJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICA6ICdiZy1ncmF5LTEwMCBkYXJrOmJnLWdyYXktODAwIHRleHQtZ3JheS00MDAgZGFyazp0ZXh0LWdyYXktNjAwIGN1cnNvci1ub3QtYWxsb3dlZCdcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICR7aXNDbGlja2FibGUgPyAnY3Vyc29yLXBvaW50ZXInIDogJ2N1cnNvci1ub3QtYWxsb3dlZCd9XG4gICAgICAgICAgICAgICAgICAgICAgYH1cbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgIHtpc0NvbXBsZXRlZCA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVjayBjbGFzc05hbWU9XCJ3LTQgaC00XCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1zbSBmb250LW1lZGl1bVwiPntzdGVwTnVtYmVyfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIHsvKiBDb21wYWN0IFN0ZXAgTGFiZWwgKi99XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXIgbWF4LXctWzgwcHhdXCI+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2BcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQteHMgZm9udC1tZWRpdW0gbGVhZGluZy10aWdodFxuICAgICAgICAgICAgICAgICAgICAgICAgJHtpc0N1cnJlbnQgXG4gICAgICAgICAgICAgICAgICAgICAgICAgID8gJ3RleHQtYmx1ZS02MDAgZGFyazp0ZXh0LWJsdWUtNDAwJyBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgOiBpc0NvbXBsZXRlZCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPyAndGV4dC1ncmVlbi02MDAgZGFyazp0ZXh0LWdyZWVuLTQwMCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgOiAndGV4dC1ncmF5LTUwMCBkYXJrOnRleHQtZ3JheS00MDAnXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgYH0+XG4gICAgICAgICAgICAgICAgICAgICAgICB7c3RlcC5tb2JpbGVUaXRsZSB8fCBzdGVwLnRpdGxlfVxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgICB7LyogQ29ubmVjdG9yIExpbmUgKi99XG4gICAgICAgICAgICAgICAgICB7aW5kZXggPCBzdGVwcy5sZW5ndGggLSAxICYmIChcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTggaC1weCBiZy1ncmF5LTIwMCBkYXJrOmJnLWdyYXktNzAwIG10LTQgZmxleC1zaHJpbmstMFwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2BcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaC1mdWxsIHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTMwMFxuICAgICAgICAgICAgICAgICAgICAgICAgICAke2NvbXBsZXRlZFN0ZXBzLmluY2x1ZGVzKHN0ZXBOdW1iZXIpIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gJ2JnLWdyZWVuLTUwMCcgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiAnYmctZ3JheS0yMDAgZGFyazpiZy1ncmF5LTcwMCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYH1cbiAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgPC9SZWFjdC5GcmFnbWVudD5cbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0pfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICAgXG4gICAgICB7LyogUHJvZ3Jlc3MgQmFyICovfVxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC00XCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIHRleHQteHMgdGV4dC1ncmF5LTYwMCBkYXJrOnRleHQtZ3JheS00MDAgbWItMVwiPlxuICAgICAgICAgIDxzcGFuPlByb2dyZXNzPC9zcGFuPlxuICAgICAgICAgIDxzcGFuPlxuICAgICAgICAgICAge01hdGgucm91bmQoKChjb21wbGV0ZWRTdGVwcy5sZW5ndGggKyAoY3VycmVudFN0ZXAgPiBjb21wbGV0ZWRTdGVwcy5sZW5ndGggPyAwLjUgOiAwKSkgLyBzdGVwcy5sZW5ndGgpICogMTAwKX0lXG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LWZ1bGwgYmctZ3JheS0yMDAgZGFyazpiZy1ncmF5LTcwMCByb3VuZGVkLWZ1bGwgaC0yXCI+XG4gICAgICAgICAgPGRpdiBcbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImJnLWdyYWRpZW50LXRvLXIgZnJvbS1ibHVlLTUwMCB0by1jeWFuLTUwMCBoLTIgcm91bmRlZC1mdWxsIHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTUwMCBlYXNlLW91dFwiXG4gICAgICAgICAgICBzdHlsZT17eyBcbiAgICAgICAgICAgICAgd2lkdGg6IGAkeygoY29tcGxldGVkU3RlcHMubGVuZ3RoICsgKGN1cnJlbnRTdGVwID4gY29tcGxldGVkU3RlcHMubGVuZ3RoID8gMC41IDogMCkpIC8gc3RlcHMubGVuZ3RoKSAqIDEwMH0lYCBcbiAgICAgICAgICAgIH19XG4gICAgICAgICAgLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKTtcbn0gIl0sIm5hbWVzIjpbIlJlYWN0IiwiQ2hlY2siLCJTdGVwSW5kaWNhdG9yIiwic3RlcHMiLCJjdXJyZW50U3RlcCIsImNvbXBsZXRlZFN0ZXBzIiwib25TdGVwQ2xpY2siLCJkaXYiLCJjbGFzc05hbWUiLCJtYXAiLCJzdGVwIiwiaW5kZXgiLCJzdGVwTnVtYmVyIiwiaXNDb21wbGV0ZWQiLCJpbmNsdWRlcyIsImlzQ3VycmVudCIsImlzQ2xpY2thYmxlIiwiRnJhZ21lbnQiLCJidXR0b24iLCJvbkNsaWNrIiwiZGlzYWJsZWQiLCJzcGFuIiwidGl0bGUiLCJpc09wdGlvbmFsIiwibGVuZ3RoIiwiaWQiLCJfIiwibW9iaWxlVGl0bGUiLCJNYXRoIiwicm91bmQiLCJzdHlsZSIsIndpZHRoIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./components/wizard/StepIndicator.tsx\n");

/***/ }),

/***/ "(ssr)/./components/wizard/WizardNavigation.tsx":
/*!************************************************!*\
  !*** ./components/wizard/WizardNavigation.tsx ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ WizardNavigation)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _components_ui_button__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/components/ui/button */ \"(ssr)/./components/ui/button.tsx\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_ArrowRight_lucide_react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,ArrowRight!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/arrow-left.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_ArrowRight_lucide_react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,ArrowRight!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/arrow-right.js\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \n\n\n\nfunction WizardNavigation({ currentStep, totalSteps, onPrevious, onNext, canProceed, isGenerating }) {\n    const handleNext = ()=>{\n        const success = onNext();\n        if (!success) {\n        // Could show validation errors here\n        }\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"mt-6 space-y-4\",\n        children: [\n            !canProceed && !isGenerating && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"text-center px-4 py-2 bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-lg\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                    className: \"text-sm text-amber-600 dark:text-amber-400\",\n                    children: \"Please complete the required fields to continue\"\n                }, void 0, false, {\n                    fileName: \"/var/www/flask_app/ast_chat/components/wizard/WizardNavigation.tsx\",\n                    lineNumber: 36,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/var/www/flask_app/ast_chat/components/wizard/WizardNavigation.tsx\",\n                lineNumber: 35,\n                columnNumber: 9\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex flex-col sm:hidden gap-3\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"text-sm text-gray-500 dark:text-gray-400 text-center\",\n                        children: [\n                            \"Step \",\n                            currentStep,\n                            \" of \",\n                            totalSteps\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/var/www/flask_app/ast_chat/components/wizard/WizardNavigation.tsx\",\n                        lineNumber: 44,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex gap-3\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                variant: \"outline\",\n                                onClick: onPrevious,\n                                disabled: currentStep === 1 || isGenerating,\n                                className: \"flex-1 gap-2 h-12 px-4 touch-manipulation text-base\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_ArrowRight_lucide_react__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n                                        className: \"w-5 h-5\"\n                                    }, void 0, false, {\n                                        fileName: \"/var/www/flask_app/ast_chat/components/wizard/WizardNavigation.tsx\",\n                                        lineNumber: 55,\n                                        columnNumber: 13\n                                    }, this),\n                                    \"Previous\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/var/www/flask_app/ast_chat/components/wizard/WizardNavigation.tsx\",\n                                lineNumber: 49,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                onClick: handleNext,\n                                disabled: !canProceed || isGenerating,\n                                className: \"flex-1 gap-2 h-12 px-4 touch-manipulation bg-gradient-to-r from-blue-500 to-cyan-600 hover:from-blue-600 hover:to-cyan-700 text-base\",\n                                children: [\n                                    \"Next\",\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_ArrowRight_lucide_react__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n                                        className: \"w-5 h-5\"\n                                    }, void 0, false, {\n                                        fileName: \"/var/www/flask_app/ast_chat/components/wizard/WizardNavigation.tsx\",\n                                        lineNumber: 65,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/var/www/flask_app/ast_chat/components/wizard/WizardNavigation.tsx\",\n                                lineNumber: 59,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/var/www/flask_app/ast_chat/components/wizard/WizardNavigation.tsx\",\n                        lineNumber: 48,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/var/www/flask_app/ast_chat/components/wizard/WizardNavigation.tsx\",\n                lineNumber: 43,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"hidden sm:flex items-center justify-between gap-4\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                        variant: \"outline\",\n                        onClick: onPrevious,\n                        disabled: currentStep === 1 || isGenerating,\n                        className: \"gap-2 h-11 px-6 touch-manipulation\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_ArrowRight_lucide_react__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n                                className: \"w-4 h-4\"\n                            }, void 0, false, {\n                                fileName: \"/var/www/flask_app/ast_chat/components/wizard/WizardNavigation.tsx\",\n                                lineNumber: 78,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: \"hidden sm:inline\",\n                                children: \"Previous\"\n                            }, void 0, false, {\n                                fileName: \"/var/www/flask_app/ast_chat/components/wizard/WizardNavigation.tsx\",\n                                lineNumber: 79,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/var/www/flask_app/ast_chat/components/wizard/WizardNavigation.tsx\",\n                        lineNumber: 72,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"text-sm text-gray-500 dark:text-gray-400 text-center\",\n                        children: [\n                            \"Step \",\n                            currentStep,\n                            \" of \",\n                            totalSteps\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/var/www/flask_app/ast_chat/components/wizard/WizardNavigation.tsx\",\n                        lineNumber: 82,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                        onClick: handleNext,\n                        disabled: !canProceed || isGenerating,\n                        className: \"gap-2 h-11 px-6 touch-manipulation bg-gradient-to-r from-blue-500 to-cyan-600 hover:from-blue-600 hover:to-cyan-700\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: \"hidden sm:inline\",\n                                children: \"Next\"\n                            }, void 0, false, {\n                                fileName: \"/var/www/flask_app/ast_chat/components/wizard/WizardNavigation.tsx\",\n                                lineNumber: 91,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_ArrowRight_lucide_react__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n                                className: \"w-4 h-4\"\n                            }, void 0, false, {\n                                fileName: \"/var/www/flask_app/ast_chat/components/wizard/WizardNavigation.tsx\",\n                                lineNumber: 92,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/var/www/flask_app/ast_chat/components/wizard/WizardNavigation.tsx\",\n                        lineNumber: 86,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/var/www/flask_app/ast_chat/components/wizard/WizardNavigation.tsx\",\n                lineNumber: 71,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/var/www/flask_app/ast_chat/components/wizard/WizardNavigation.tsx\",\n        lineNumber: 32,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9jb21wb25lbnRzL3dpemFyZC9XaXphcmROYXZpZ2F0aW9uLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFFMEI7QUFDc0I7QUFDSztBQVd0QyxTQUFTSSxpQkFBaUIsRUFDdkNDLFdBQVcsRUFDWEMsVUFBVSxFQUNWQyxVQUFVLEVBQ1ZDLE1BQU0sRUFDTkMsVUFBVSxFQUNWQyxZQUFZLEVBQ1U7SUFDdEIsTUFBTUMsYUFBYTtRQUNqQixNQUFNQyxVQUFVSjtRQUNoQixJQUFJLENBQUNJLFNBQVM7UUFDWixvQ0FBb0M7UUFDdEM7SUFDRjtJQUVBLHFCQUNFLDhEQUFDQztRQUFJQyxXQUFVOztZQUVaLENBQUNMLGNBQWMsQ0FBQ0MsOEJBQ2YsOERBQUNHO2dCQUFJQyxXQUFVOzBCQUNiLDRFQUFDQztvQkFBRUQsV0FBVTs4QkFBNkM7Ozs7Ozs7Ozs7OzBCQU85RCw4REFBQ0Q7Z0JBQUlDLFdBQVU7O2tDQUNiLDhEQUFDRDt3QkFBSUMsV0FBVTs7NEJBQXVEOzRCQUM5RFQ7NEJBQVk7NEJBQUtDOzs7Ozs7O2tDQUd6Qiw4REFBQ087d0JBQUlDLFdBQVU7OzBDQUNiLDhEQUFDYix5REFBTUE7Z0NBQ0xlLFNBQVE7Z0NBQ1JDLFNBQVNWO2dDQUNUVyxVQUFVYixnQkFBZ0IsS0FBS0s7Z0NBQy9CSSxXQUFVOztrREFFViw4REFBQ1osZ0dBQVNBO3dDQUFDWSxXQUFVOzs7Ozs7b0NBQVk7Ozs7Ozs7MENBSW5DLDhEQUFDYix5REFBTUE7Z0NBQ0xnQixTQUFTTjtnQ0FDVE8sVUFBVSxDQUFDVCxjQUFjQztnQ0FDekJJLFdBQVU7O29DQUNYO2tEQUVDLDhEQUFDWCxnR0FBVUE7d0NBQUNXLFdBQVU7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OzswQkFNNUIsOERBQUNEO2dCQUFJQyxXQUFVOztrQ0FDYiw4REFBQ2IseURBQU1BO3dCQUNMZSxTQUFRO3dCQUNSQyxTQUFTVjt3QkFDVFcsVUFBVWIsZ0JBQWdCLEtBQUtLO3dCQUMvQkksV0FBVTs7MENBRVYsOERBQUNaLGdHQUFTQTtnQ0FBQ1ksV0FBVTs7Ozs7OzBDQUNyQiw4REFBQ0s7Z0NBQUtMLFdBQVU7MENBQW1COzs7Ozs7Ozs7Ozs7a0NBR3JDLDhEQUFDRDt3QkFBSUMsV0FBVTs7NEJBQXVEOzRCQUM5RFQ7NEJBQVk7NEJBQUtDOzs7Ozs7O2tDQUd6Qiw4REFBQ0wseURBQU1BO3dCQUNMZ0IsU0FBU047d0JBQ1RPLFVBQVUsQ0FBQ1QsY0FBY0M7d0JBQ3pCSSxXQUFVOzswQ0FFViw4REFBQ0s7Z0NBQUtMLFdBQVU7MENBQW1COzs7Ozs7MENBQ25DLDhEQUFDWCxnR0FBVUE7Z0NBQUNXLFdBQVU7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUtoQyIsInNvdXJjZXMiOlsid2VicGFjazovL3ZpYmVjYXJkaW5nLy4vY29tcG9uZW50cy93aXphcmQvV2l6YXJkTmF2aWdhdGlvbi50c3g/ZmNkYSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIjtcblxuaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgQnV0dG9uIH0gZnJvbSBcIkAvY29tcG9uZW50cy91aS9idXR0b25cIjtcbmltcG9ydCB7IEFycm93TGVmdCwgQXJyb3dSaWdodCB9IGZyb20gXCJsdWNpZGUtcmVhY3RcIjtcblxuaW50ZXJmYWNlIFdpemFyZE5hdmlnYXRpb25Qcm9wcyB7XG4gIGN1cnJlbnRTdGVwOiBudW1iZXI7XG4gIHRvdGFsU3RlcHM6IG51bWJlcjtcbiAgb25QcmV2aW91czogKCkgPT4gdm9pZDtcbiAgb25OZXh0OiAoKSA9PiBib29sZWFuO1xuICBjYW5Qcm9jZWVkOiBib29sZWFuO1xuICBpc0dlbmVyYXRpbmc6IGJvb2xlYW47XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFdpemFyZE5hdmlnYXRpb24oe1xuICBjdXJyZW50U3RlcCxcbiAgdG90YWxTdGVwcyxcbiAgb25QcmV2aW91cyxcbiAgb25OZXh0LFxuICBjYW5Qcm9jZWVkLFxuICBpc0dlbmVyYXRpbmdcbn06IFdpemFyZE5hdmlnYXRpb25Qcm9wcykge1xuICBjb25zdCBoYW5kbGVOZXh0ID0gKCkgPT4ge1xuICAgIGNvbnN0IHN1Y2Nlc3MgPSBvbk5leHQoKTtcbiAgICBpZiAoIXN1Y2Nlc3MpIHtcbiAgICAgIC8vIENvdWxkIHNob3cgdmFsaWRhdGlvbiBlcnJvcnMgaGVyZVxuICAgIH1cbiAgfTtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtNiBzcGFjZS15LTRcIj5cbiAgICAgIHsvKiBWYWxpZGF0aW9uIE1lc3NhZ2UgLSBTaG93IGF0IHRvcCBmb3IgbW9iaWxlICovfVxuICAgICAgeyFjYW5Qcm9jZWVkICYmICFpc0dlbmVyYXRpbmcgJiYgKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtY2VudGVyIHB4LTQgcHktMiBiZy1hbWJlci01MCBkYXJrOmJnLWFtYmVyLTkwMC8yMCBib3JkZXIgYm9yZGVyLWFtYmVyLTIwMCBkYXJrOmJvcmRlci1hbWJlci04MDAgcm91bmRlZC1sZ1wiPlxuICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1hbWJlci02MDAgZGFyazp0ZXh0LWFtYmVyLTQwMFwiPlxuICAgICAgICAgICAgUGxlYXNlIGNvbXBsZXRlIHRoZSByZXF1aXJlZCBmaWVsZHMgdG8gY29udGludWVcbiAgICAgICAgICA8L3A+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKX1cblxuICAgICAgey8qIE1vYmlsZSBOYXZpZ2F0aW9uIC0gRnVsbCB3aWR0aCBidXR0b25zICovfVxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIHNtOmhpZGRlbiBnYXAtM1wiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1ncmF5LTUwMCBkYXJrOnRleHQtZ3JheS00MDAgdGV4dC1jZW50ZXJcIj5cbiAgICAgICAgICBTdGVwIHtjdXJyZW50U3RlcH0gb2Yge3RvdGFsU3RlcHN9XG4gICAgICAgIDwvZGl2PlxuICAgICAgICBcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGdhcC0zXCI+XG4gICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgdmFyaWFudD1cIm91dGxpbmVcIlxuICAgICAgICAgICAgb25DbGljaz17b25QcmV2aW91c31cbiAgICAgICAgICAgIGRpc2FibGVkPXtjdXJyZW50U3RlcCA9PT0gMSB8fCBpc0dlbmVyYXRpbmd9XG4gICAgICAgICAgICBjbGFzc05hbWU9XCJmbGV4LTEgZ2FwLTIgaC0xMiBweC00IHRvdWNoLW1hbmlwdWxhdGlvbiB0ZXh0LWJhc2VcIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxBcnJvd0xlZnQgY2xhc3NOYW1lPVwidy01IGgtNVwiIC8+XG4gICAgICAgICAgICBQcmV2aW91c1xuICAgICAgICAgIDwvQnV0dG9uPlxuXG4gICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgb25DbGljaz17aGFuZGxlTmV4dH1cbiAgICAgICAgICAgIGRpc2FibGVkPXshY2FuUHJvY2VlZCB8fCBpc0dlbmVyYXRpbmd9XG4gICAgICAgICAgICBjbGFzc05hbWU9XCJmbGV4LTEgZ2FwLTIgaC0xMiBweC00IHRvdWNoLW1hbmlwdWxhdGlvbiBiZy1ncmFkaWVudC10by1yIGZyb20tYmx1ZS01MDAgdG8tY3lhbi02MDAgaG92ZXI6ZnJvbS1ibHVlLTYwMCBob3Zlcjp0by1jeWFuLTcwMCB0ZXh0LWJhc2VcIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIE5leHRcbiAgICAgICAgICAgIDxBcnJvd1JpZ2h0IGNsYXNzTmFtZT1cInctNSBoLTVcIiAvPlxuICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuXG4gICAgICB7LyogRGVza3RvcCBOYXZpZ2F0aW9uIC0gT3JpZ2luYWwgbGF5b3V0ICovfVxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJoaWRkZW4gc206ZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIGdhcC00XCI+XG4gICAgICAgIDxCdXR0b25cbiAgICAgICAgICB2YXJpYW50PVwib3V0bGluZVwiXG4gICAgICAgICAgb25DbGljaz17b25QcmV2aW91c31cbiAgICAgICAgICBkaXNhYmxlZD17Y3VycmVudFN0ZXAgPT09IDEgfHwgaXNHZW5lcmF0aW5nfVxuICAgICAgICAgIGNsYXNzTmFtZT1cImdhcC0yIGgtMTEgcHgtNiB0b3VjaC1tYW5pcHVsYXRpb25cIlxuICAgICAgICA+XG4gICAgICAgICAgPEFycm93TGVmdCBjbGFzc05hbWU9XCJ3LTQgaC00XCIgLz5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJoaWRkZW4gc206aW5saW5lXCI+UHJldmlvdXM8L3NwYW4+XG4gICAgICAgIDwvQnV0dG9uPlxuXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LWdyYXktNTAwIGRhcms6dGV4dC1ncmF5LTQwMCB0ZXh0LWNlbnRlclwiPlxuICAgICAgICAgIFN0ZXAge2N1cnJlbnRTdGVwfSBvZiB7dG90YWxTdGVwc31cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPEJ1dHRvblxuICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZU5leHR9XG4gICAgICAgICAgZGlzYWJsZWQ9eyFjYW5Qcm9jZWVkIHx8IGlzR2VuZXJhdGluZ31cbiAgICAgICAgICBjbGFzc05hbWU9XCJnYXAtMiBoLTExIHB4LTYgdG91Y2gtbWFuaXB1bGF0aW9uIGJnLWdyYWRpZW50LXRvLXIgZnJvbS1ibHVlLTUwMCB0by1jeWFuLTYwMCBob3Zlcjpmcm9tLWJsdWUtNjAwIGhvdmVyOnRvLWN5YW4tNzAwXCJcbiAgICAgICAgPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImhpZGRlbiBzbTppbmxpbmVcIj5OZXh0PC9zcGFuPlxuICAgICAgICAgIDxBcnJvd1JpZ2h0IGNsYXNzTmFtZT1cInctNCBoLTRcIiAvPlxuICAgICAgICA8L0J1dHRvbj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApO1xufSAiXSwibmFtZXMiOlsiUmVhY3QiLCJCdXR0b24iLCJBcnJvd0xlZnQiLCJBcnJvd1JpZ2h0IiwiV2l6YXJkTmF2aWdhdGlvbiIsImN1cnJlbnRTdGVwIiwidG90YWxTdGVwcyIsIm9uUHJldmlvdXMiLCJvbk5leHQiLCJjYW5Qcm9jZWVkIiwiaXNHZW5lcmF0aW5nIiwiaGFuZGxlTmV4dCIsInN1Y2Nlc3MiLCJkaXYiLCJjbGFzc05hbWUiLCJwIiwidmFyaWFudCIsIm9uQ2xpY2siLCJkaXNhYmxlZCIsInNwYW4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./components/wizard/WizardNavigation.tsx\n");

/***/ }),

/***/ "(ssr)/./components/wizard/steps/Step1CardBasics.tsx":
/*!*****************************************************!*\
  !*** ./components/wizard/steps/Step1CardBasics.tsx ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Step1CardBasics)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _components_ui_input__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/components/ui/input */ \"(ssr)/./components/ui/input.tsx\");\n/* harmony import */ var _components_ui_select__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/components/ui/select */ \"(ssr)/./components/ui/select.tsx\");\n/* harmony import */ var _components_ui_button__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/components/ui/button */ \"(ssr)/./components/ui/button.tsx\");\n/* harmony import */ var _barrel_optimize_names_Baby_Cake_Church_CloudRain_Eye_Gift_GraduationCap_Heart_Home_MessageCircle_Play_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! __barrel_optimize__?names=Baby,Cake,Church,CloudRain,Eye,Gift,GraduationCap,Heart,Home,MessageCircle,Play,Sparkles,Stethoscope,ThumbsUp,TreePine,Trophy,Upload,Wand2,Wrench,X!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/wrench.js\");\n/* harmony import */ var _barrel_optimize_names_Baby_Cake_Church_CloudRain_Eye_Gift_GraduationCap_Heart_Home_MessageCircle_Play_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! __barrel_optimize__?names=Baby,Cake,Church,CloudRain,Eye,Gift,GraduationCap,Heart,Home,MessageCircle,Play,Sparkles,Stethoscope,ThumbsUp,TreePine,Trophy,Upload,Wand2,Wrench,X!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/cake.js\");\n/* harmony import */ var _barrel_optimize_names_Baby_Cake_Church_CloudRain_Eye_Gift_GraduationCap_Heart_Home_MessageCircle_Play_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! __barrel_optimize__?names=Baby,Cake,Church,CloudRain,Eye,Gift,GraduationCap,Heart,Home,MessageCircle,Play,Sparkles,Stethoscope,ThumbsUp,TreePine,Trophy,Upload,Wand2,Wrench,X!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/thumbs-up.js\");\n/* harmony import */ var _barrel_optimize_names_Baby_Cake_Church_CloudRain_Eye_Gift_GraduationCap_Heart_Home_MessageCircle_Play_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! __barrel_optimize__?names=Baby,Cake,Church,CloudRain,Eye,Gift,GraduationCap,Heart,Home,MessageCircle,Play,Sparkles,Stethoscope,ThumbsUp,TreePine,Trophy,Upload,Wand2,Wrench,X!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/heart.js\");\n/* harmony import */ var _barrel_optimize_names_Baby_Cake_Church_CloudRain_Eye_Gift_GraduationCap_Heart_Home_MessageCircle_Play_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! __barrel_optimize__?names=Baby,Cake,Church,CloudRain,Eye,Gift,GraduationCap,Heart,Home,MessageCircle,Play,Sparkles,Stethoscope,ThumbsUp,TreePine,Trophy,Upload,Wand2,Wrench,X!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/trophy.js\");\n/* harmony import */ var _barrel_optimize_names_Baby_Cake_Church_CloudRain_Eye_Gift_GraduationCap_Heart_Home_MessageCircle_Play_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! __barrel_optimize__?names=Baby,Cake,Church,CloudRain,Eye,Gift,GraduationCap,Heart,Home,MessageCircle,Play,Sparkles,Stethoscope,ThumbsUp,TreePine,Trophy,Upload,Wand2,Wrench,X!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/tree-pine.js\");\n/* harmony import */ var _barrel_optimize_names_Baby_Cake_Church_CloudRain_Eye_Gift_GraduationCap_Heart_Home_MessageCircle_Play_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! __barrel_optimize__?names=Baby,Cake,Church,CloudRain,Eye,Gift,GraduationCap,Heart,Home,MessageCircle,Play,Sparkles,Stethoscope,ThumbsUp,TreePine,Trophy,Upload,Wand2,Wrench,X!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/stethoscope.js\");\n/* harmony import */ var _barrel_optimize_names_Baby_Cake_Church_CloudRain_Eye_Gift_GraduationCap_Heart_Home_MessageCircle_Play_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! __barrel_optimize__?names=Baby,Cake,Church,CloudRain,Eye,Gift,GraduationCap,Heart,Home,MessageCircle,Play,Sparkles,Stethoscope,ThumbsUp,TreePine,Trophy,Upload,Wand2,Wrench,X!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/cloud-rain.js\");\n/* harmony import */ var _barrel_optimize_names_Baby_Cake_Church_CloudRain_Eye_Gift_GraduationCap_Heart_Home_MessageCircle_Play_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! __barrel_optimize__?names=Baby,Cake,Church,CloudRain,Eye,Gift,GraduationCap,Heart,Home,MessageCircle,Play,Sparkles,Stethoscope,ThumbsUp,TreePine,Trophy,Upload,Wand2,Wrench,X!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/graduation-cap.js\");\n/* harmony import */ var _barrel_optimize_names_Baby_Cake_Church_CloudRain_Eye_Gift_GraduationCap_Heart_Home_MessageCircle_Play_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! __barrel_optimize__?names=Baby,Cake,Church,CloudRain,Eye,Gift,GraduationCap,Heart,Home,MessageCircle,Play,Sparkles,Stethoscope,ThumbsUp,TreePine,Trophy,Upload,Wand2,Wrench,X!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/baby.js\");\n/* harmony import */ var _barrel_optimize_names_Baby_Cake_Church_CloudRain_Eye_Gift_GraduationCap_Heart_Home_MessageCircle_Play_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! __barrel_optimize__?names=Baby,Cake,Church,CloudRain,Eye,Gift,GraduationCap,Heart,Home,MessageCircle,Play,Sparkles,Stethoscope,ThumbsUp,TreePine,Trophy,Upload,Wand2,Wrench,X!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/church.js\");\n/* harmony import */ var _barrel_optimize_names_Baby_Cake_Church_CloudRain_Eye_Gift_GraduationCap_Heart_Home_MessageCircle_Play_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! __barrel_optimize__?names=Baby,Cake,Church,CloudRain,Eye,Gift,GraduationCap,Heart,Home,MessageCircle,Play,Sparkles,Stethoscope,ThumbsUp,TreePine,Trophy,Upload,Wand2,Wrench,X!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/gift.js\");\n/* harmony import */ var _barrel_optimize_names_Baby_Cake_Church_CloudRain_Eye_Gift_GraduationCap_Heart_Home_MessageCircle_Play_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! __barrel_optimize__?names=Baby,Cake,Church,CloudRain,Eye,Gift,GraduationCap,Heart,Home,MessageCircle,Play,Sparkles,Stethoscope,ThumbsUp,TreePine,Trophy,Upload,Wand2,Wrench,X!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/home.js\");\n/* harmony import */ var _barrel_optimize_names_Baby_Cake_Church_CloudRain_Eye_Gift_GraduationCap_Heart_Home_MessageCircle_Play_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! __barrel_optimize__?names=Baby,Cake,Church,CloudRain,Eye,Gift,GraduationCap,Heart,Home,MessageCircle,Play,Sparkles,Stethoscope,ThumbsUp,TreePine,Trophy,Upload,Wand2,Wrench,X!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/message-circle.js\");\n/* harmony import */ var _barrel_optimize_names_Baby_Cake_Church_CloudRain_Eye_Gift_GraduationCap_Heart_Home_MessageCircle_Play_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! __barrel_optimize__?names=Baby,Cake,Church,CloudRain,Eye,Gift,GraduationCap,Heart,Home,MessageCircle,Play,Sparkles,Stethoscope,ThumbsUp,TreePine,Trophy,Upload,Wand2,Wrench,X!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/eye.js\");\n/* harmony import */ var _barrel_optimize_names_Baby_Cake_Church_CloudRain_Eye_Gift_GraduationCap_Heart_Home_MessageCircle_Play_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! __barrel_optimize__?names=Baby,Cake,Church,CloudRain,Eye,Gift,GraduationCap,Heart,Home,MessageCircle,Play,Sparkles,Stethoscope,ThumbsUp,TreePine,Trophy,Upload,Wand2,Wrench,X!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/sparkles.js\");\n/* harmony import */ var _barrel_optimize_names_Baby_Cake_Church_CloudRain_Eye_Gift_GraduationCap_Heart_Home_MessageCircle_Play_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! __barrel_optimize__?names=Baby,Cake,Church,CloudRain,Eye,Gift,GraduationCap,Heart,Home,MessageCircle,Play,Sparkles,Stethoscope,ThumbsUp,TreePine,Trophy,Upload,Wand2,Wrench,X!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/play.js\");\n/* harmony import */ var _barrel_optimize_names_Baby_Cake_Church_CloudRain_Eye_Gift_GraduationCap_Heart_Home_MessageCircle_Play_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! __barrel_optimize__?names=Baby,Cake,Church,CloudRain,Eye,Gift,GraduationCap,Heart,Home,MessageCircle,Play,Sparkles,Stethoscope,ThumbsUp,TreePine,Trophy,Upload,Wand2,Wrench,X!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/wand-sparkles.js\");\n/* harmony import */ var _barrel_optimize_names_Baby_Cake_Church_CloudRain_Eye_Gift_GraduationCap_Heart_Home_MessageCircle_Play_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! __barrel_optimize__?names=Baby,Cake,Church,CloudRain,Eye,Gift,GraduationCap,Heart,Home,MessageCircle,Play,Sparkles,Stethoscope,ThumbsUp,TreePine,Trophy,Upload,Wand2,Wrench,X!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/upload.js\");\n/* harmony import */ var _barrel_optimize_names_Baby_Cake_Church_CloudRain_Eye_Gift_GraduationCap_Heart_Home_MessageCircle_Play_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! __barrel_optimize__?names=Baby,Cake,Church,CloudRain,Eye,Gift,GraduationCap,Heart,Home,MessageCircle,Play,Sparkles,Stethoscope,ThumbsUp,TreePine,Trophy,Upload,Wand2,Wrench,X!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/x.js\");\n/* harmony import */ var _hooks_useCardCache__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/hooks/useCardCache */ \"(ssr)/./hooks/useCardCache.ts\");\n/* harmony import */ var sonner__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! sonner */ \"(ssr)/./node_modules/sonner/dist/index.mjs\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \n\n\n\n\n\n\n\n// Card types with icons\nconst cardTypes = [\n    {\n        id: \"custom\",\n        label: \"Custom\",\n        description: \"Create your own\",\n        icon: _barrel_optimize_names_Baby_Cake_Church_CloudRain_Eye_Gift_GraduationCap_Heart_Home_MessageCircle_Play_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_7__[\"default\"],\n        emoji: \"✨\",\n        color: \"from-purple-100 to-purple-200 dark:from-purple-900 dark:to-purple-800\"\n    },\n    {\n        id: \"birthday\",\n        label: \"Birthday\",\n        description: \"Celebrate another year of life\",\n        icon: _barrel_optimize_names_Baby_Cake_Church_CloudRain_Eye_Gift_GraduationCap_Heart_Home_MessageCircle_Play_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_8__[\"default\"],\n        emoji: \"\\uD83C\\uDF82\",\n        color: \"from-pink-100 to-pink-200 dark:from-pink-900 dark:to-pink-800\"\n    },\n    {\n        id: \"thank-you\",\n        label: \"Thank You\",\n        description: \"Express gratitude\",\n        icon: _barrel_optimize_names_Baby_Cake_Church_CloudRain_Eye_Gift_GraduationCap_Heart_Home_MessageCircle_Play_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_9__[\"default\"],\n        emoji: \"\\uD83D\\uDE4F\",\n        color: \"from-blue-100 to-blue-200 dark:from-blue-900 dark:to-blue-800\"\n    },\n    {\n        id: \"anniversary\",\n        label: \"Anniversary\",\n        description: \"Commemorate special milestones\",\n        icon: _barrel_optimize_names_Baby_Cake_Church_CloudRain_Eye_Gift_GraduationCap_Heart_Home_MessageCircle_Play_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_10__[\"default\"],\n        emoji: \"\\uD83D\\uDC91\",\n        color: \"from-red-100 to-red-200 dark:from-red-900 dark:to-red-800\"\n    },\n    {\n        id: \"congratulations\",\n        label: \"Congratulations\",\n        description: \"Celebrate achievements\",\n        icon: _barrel_optimize_names_Baby_Cake_Church_CloudRain_Eye_Gift_GraduationCap_Heart_Home_MessageCircle_Play_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_11__[\"default\"],\n        emoji: \"\\uD83C\\uDF89\",\n        color: \"from-yellow-100 to-yellow-200 dark:from-yellow-900 dark:to-yellow-800\"\n    },\n    {\n        id: \"holiday\",\n        label: \"Holiday\",\n        description: \"Seasonal and holiday greetings\",\n        icon: _barrel_optimize_names_Baby_Cake_Church_CloudRain_Eye_Gift_GraduationCap_Heart_Home_MessageCircle_Play_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_12__[\"default\"],\n        emoji: \"\\uD83C\\uDF84\",\n        color: \"from-green-100 to-green-200 dark:from-green-900 dark:to-green-800\"\n    },\n    {\n        id: \"get-well\",\n        label: \"Get Well Soon\",\n        description: \"Send healing wishes\",\n        icon: _barrel_optimize_names_Baby_Cake_Church_CloudRain_Eye_Gift_GraduationCap_Heart_Home_MessageCircle_Play_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_13__[\"default\"],\n        emoji: \"\\uD83D\\uDC90\",\n        color: \"from-teal-100 to-teal-200 dark:from-teal-900 dark:to-teal-800\"\n    },\n    {\n        id: \"sympathy\",\n        label: \"Sympathy\",\n        description: \"Offer comfort\",\n        icon: _barrel_optimize_names_Baby_Cake_Church_CloudRain_Eye_Gift_GraduationCap_Heart_Home_MessageCircle_Play_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_14__[\"default\"],\n        emoji: \"\\uD83D\\uDD4A️\",\n        color: \"from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-700\"\n    },\n    {\n        id: \"love\",\n        label: \"Love & Romance\",\n        description: \"Express romantic feelings\",\n        icon: _barrel_optimize_names_Baby_Cake_Church_CloudRain_Eye_Gift_GraduationCap_Heart_Home_MessageCircle_Play_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_10__[\"default\"],\n        emoji: \"\\uD83D\\uDC95\",\n        color: \"from-rose-100 to-rose-200 dark:from-rose-900 dark:to-rose-800\"\n    },\n    {\n        id: \"graduation\",\n        label: \"Graduation\",\n        description: \"Academic achievements\",\n        icon: _barrel_optimize_names_Baby_Cake_Church_CloudRain_Eye_Gift_GraduationCap_Heart_Home_MessageCircle_Play_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_15__[\"default\"],\n        emoji: \"\\uD83C\\uDF93\",\n        color: \"from-indigo-100 to-indigo-200 dark:from-indigo-900 dark:to-indigo-800\"\n    },\n    {\n        id: \"new-baby\",\n        label: \"New Baby\",\n        description: \"Welcome new arrivals\",\n        icon: _barrel_optimize_names_Baby_Cake_Church_CloudRain_Eye_Gift_GraduationCap_Heart_Home_MessageCircle_Play_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_16__[\"default\"],\n        emoji: \"\\uD83D\\uDC76\",\n        color: \"from-cyan-100 to-cyan-200 dark:from-cyan-900 dark:to-cyan-800\"\n    },\n    {\n        id: \"wedding\",\n        label: \"Wedding\",\n        description: \"Celebrate unions and marriages\",\n        icon: _barrel_optimize_names_Baby_Cake_Church_CloudRain_Eye_Gift_GraduationCap_Heart_Home_MessageCircle_Play_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_17__[\"default\"],\n        emoji: \"\\uD83D\\uDC92\",\n        color: \"from-violet-100 to-violet-200 dark:from-violet-900 dark:to-violet-800\"\n    },\n    {\n        id: \"retirement\",\n        label: \"Retirement\",\n        description: \"Honor career achievements\",\n        icon: _barrel_optimize_names_Baby_Cake_Church_CloudRain_Eye_Gift_GraduationCap_Heart_Home_MessageCircle_Play_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_18__[\"default\"],\n        emoji: \"\\uD83C\\uDF81\",\n        color: \"from-amber-100 to-amber-200 dark:from-amber-900 dark:to-amber-800\"\n    },\n    {\n        id: \"housewarming\",\n        label: \"Housewarming\",\n        description: \"Welcome to new homes\",\n        icon: _barrel_optimize_names_Baby_Cake_Church_CloudRain_Eye_Gift_GraduationCap_Heart_Home_MessageCircle_Play_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_19__[\"default\"],\n        emoji: \"\\uD83C\\uDFE1\",\n        color: \"from-orange-100 to-orange-200 dark:from-orange-900 dark:to-orange-800\"\n    },\n    {\n        id: \"apology\",\n        label: \"Apology\",\n        description: \"Make amends\",\n        icon: _barrel_optimize_names_Baby_Cake_Church_CloudRain_Eye_Gift_GraduationCap_Heart_Home_MessageCircle_Play_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_20__[\"default\"],\n        emoji: \"\\uD83D\\uDE4F\",\n        color: \"from-slate-100 to-slate-200 dark:from-slate-900 dark:to-slate-800\"\n    },\n    {\n        id: \"thinking-of-you\",\n        label: \"Thinking of You\",\n        description: \"Show you care and remember\",\n        icon: _barrel_optimize_names_Baby_Cake_Church_CloudRain_Eye_Gift_GraduationCap_Heart_Home_MessageCircle_Play_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_21__[\"default\"],\n        emoji: \"\\uD83D\\uDCAD\",\n        color: \"from-sky-100 to-sky-200 dark:from-sky-900 dark:to-sky-800\"\n    }\n];\n// Card tone/style options\nconst cardTones = [\n    {\n        id: \"funny\",\n        label: \"\\uD83D\\uDE04 Funny\",\n        description: \"Humorous and lighthearted\",\n        color: \"from-yellow-100 to-orange-100 dark:from-yellow-900 dark:to-orange-900\"\n    },\n    {\n        id: \"genz-humor\",\n        label: \"\\uD83D\\uDC80 GenZ Humor\",\n        description: \"Memes and chaotic vibes\",\n        color: \"from-purple-100 to-pink-100 dark:from-purple-900 dark:to-pink-900\"\n    },\n    {\n        id: \"romantic\",\n        label: \"\\uD83D\\uDC95 Romantic\",\n        description: \"Sweet and loving\",\n        color: \"from-pink-100 to-rose-100 dark:from-pink-900 dark:to-rose-900\"\n    },\n    {\n        id: \"professional\",\n        label: \"\\uD83D\\uDC54 Professional\",\n        description: \"Formal and business-ready\",\n        color: \"from-slate-100 to-gray-100 dark:from-slate-900 dark:to-gray-900\"\n    },\n    {\n        id: \"heartfelt\",\n        label: \"❤️ Heartfelt\",\n        description: \"Sincere and emotional\",\n        color: \"from-red-100 to-pink-100 dark:from-red-900 dark:to-pink-900\"\n    },\n    {\n        id: \"playful\",\n        label: \"\\uD83C\\uDF89 Playful\",\n        description: \"Fun and energetic\",\n        color: \"from-cyan-100 to-blue-100 dark:from-cyan-900 dark:to-blue-900\"\n    },\n    {\n        id: \"elegant\",\n        label: \"✨ Elegant\",\n        description: \"Sophisticated and refined\",\n        color: \"from-violet-100 to-indigo-100 dark:from-violet-900 dark:to-indigo-900\"\n    },\n    {\n        id: \"casual\",\n        label: \"\\uD83D\\uDE0A Casual\",\n        description: \"Relaxed and friendly\",\n        color: \"from-green-100 to-teal-100 dark:from-green-900 dark:to-teal-900\"\n    },\n    {\n        id: \"inspirational\",\n        label: \"\\uD83C\\uDF1F Inspirational\",\n        description: \"Motivating and uplifting\",\n        color: \"from-amber-100 to-yellow-100 dark:from-amber-900 dark:to-yellow-900\"\n    },\n    {\n        id: \"quirky\",\n        label: \"\\uD83E\\uDD2A Quirky\",\n        description: \"Unique and unconventional\",\n        color: \"from-lime-100 to-emerald-100 dark:from-lime-900 dark:to-emerald-900\"\n    },\n    {\n        id: \"traditional\",\n        label: \"\\uD83C\\uDFAD Traditional\",\n        description: \"Classic and timeless\",\n        color: \"from-stone-100 to-amber-100 dark:from-stone-900 dark:to-amber-900\"\n    }\n];\nfunction Step1CardBasics({ formData, updateFormData, onStepComplete, onTemplateSelect, handleFileUpload: externalHandleFileUpload, handleRemoveReferenceImage: externalHandleRemoveReferenceImage, isUploading = false, photoReferences = [], updatePhotoDescription, referenceImageUrlsFromStudio = [], cardHistory, onResumeDraft }) {\n    const [showTemplateGallery, setShowTemplateGallery] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const { preloadAllCards } = (0,_hooks_useCardCache__WEBPACK_IMPORTED_MODULE_5__.useCardCache)();\n    // Preload template cache when component mounts\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        preloadAllCards();\n    }, []);\n    react__WEBPACK_IMPORTED_MODULE_1___default().useEffect(()=>{\n        // Auto-complete step when all required fields are filled\n        const hasRequiredFields = formData.selectedType && formData.selectedTone && (formData.selectedType !== \"custom\" || formData.customCardType.trim());\n        // Check if all uploaded photos have descriptions\n        const allPhotosHaveDescriptions = formData.referenceImageUrls.length === 0 || // No photos uploaded\n        photoReferences && photoReferences.every((ref)=>ref.description && ref.description.trim());\n        if (hasRequiredFields && allPhotosHaveDescriptions) {\n            onStepComplete?.();\n        }\n    }, [\n        formData.selectedType,\n        formData.selectedTone,\n        formData.customCardType,\n        formData.referenceImageUrls,\n        photoReferences,\n        onStepComplete\n    ]);\n    const handleTemplateSelect = (template)=>{\n        onTemplateSelect?.(template);\n        setShowTemplateGallery(false);\n    };\n    // Compress image if needed\n    const compressImage = async (file, maxSizeMB = 10)=>{\n        const maxSizeBytes = maxSizeMB * 1024 * 1024;\n        // If file is already small enough, return as-is\n        if (file.size <= maxSizeBytes) {\n            return file;\n        }\n        // Create a canvas to resize the image\n        return new Promise((resolve, reject)=>{\n            const reader = new FileReader();\n            reader.onload = (e)=>{\n                const img = document.createElement(\"img\");\n                img.onload = ()=>{\n                    const canvas = document.createElement(\"canvas\");\n                    const ctx = canvas.getContext(\"2d\");\n                    // Calculate new dimensions (max 2048px on longest side)\n                    let { width, height } = img;\n                    const maxDimension = 2048;\n                    if (width > height && width > maxDimension) {\n                        height = height / width * maxDimension;\n                        width = maxDimension;\n                    } else if (height > maxDimension) {\n                        width = width / height * maxDimension;\n                        height = maxDimension;\n                    }\n                    canvas.width = width;\n                    canvas.height = height;\n                    // Draw and compress\n                    ctx?.drawImage(img, 0, 0, width, height);\n                    // Convert to blob with compression\n                    canvas.toBlob((blob)=>{\n                        if (blob) {\n                            const compressedFile = new File([\n                                blob\n                            ], file.name, {\n                                type: \"image/jpeg\",\n                                lastModified: Date.now()\n                            });\n                            resolve(compressedFile);\n                        } else {\n                            reject(new Error(\"Failed to compress image\"));\n                        }\n                    }, \"image/jpeg\", 0.85 // 85% quality\n                    );\n                };\n                img.src = e.target?.result;\n            };\n            reader.onerror = reject;\n            reader.readAsDataURL(file);\n        });\n    };\n    // Photo upload handlers (moved from Step3)\n    const handleFileUploadLocal = async (file)=>{\n        if (!externalHandleFileUpload) {\n            sonner__WEBPACK_IMPORTED_MODULE_6__.toast.error(\"File upload not available\");\n            return;\n        }\n        // Validate file type\n        const validTypes = [\n            \"image/jpeg\",\n            \"image/jpg\",\n            \"image/png\",\n            \"image/gif\",\n            \"image/webp\"\n        ];\n        if (!validTypes.includes(file.type)) {\n            sonner__WEBPACK_IMPORTED_MODULE_6__.toast.error(\"Please upload a valid image file (JPG, PNG, GIF, or WebP)\");\n            return;\n        }\n        try {\n            // Auto-compress if needed\n            const maxSize = 10 * 1024 * 1024; // 10MB\n            let fileToUpload = file;\n            if (file.size > maxSize) {\n                sonner__WEBPACK_IMPORTED_MODULE_6__.toast.info(\"Compressing large image...\");\n                fileToUpload = await compressImage(file, 10);\n                sonner__WEBPACK_IMPORTED_MODULE_6__.toast.success(`Image compressed from ${(file.size / 1024 / 1024).toFixed(1)}MB to ${(fileToUpload.size / 1024 / 1024).toFixed(1)}MB`);\n            }\n            await externalHandleFileUpload(fileToUpload, \"reference\");\n        } catch (error) {\n            console.error(\"Error uploading file:\", error);\n            sonner__WEBPACK_IMPORTED_MODULE_6__.toast.error(\"Failed to upload file\");\n        }\n    };\n    const handleRemoveImage = (index)=>{\n        if (externalHandleRemoveReferenceImage) {\n            externalHandleRemoveReferenceImage(index);\n        }\n    };\n    // Get the most recent draft session if available\n    const mostRecentDraft = cardHistory?.draftSessions?.[0];\n    const hasRecentDraft = mostRecentDraft && mostRecentDraft.draftCards?.length > 0;\n    // Calculate draft age for display\n    const getDraftAge = ()=>{\n        if (!mostRecentDraft?.savedAt) return \"\";\n        const ageMs = Date.now() - new Date(mostRecentDraft.savedAt).getTime();\n        const minutes = Math.floor(ageMs / 60000);\n        const hours = Math.floor(minutes / 60);\n        if (hours > 0) {\n            return `${hours} hour${hours === 1 ? \"\" : \"s\"} ago`;\n        } else if (minutes > 0) {\n            return `${minutes} minute${minutes === 1 ? \"\" : \"s\"} ago`;\n        } else {\n            return \"just now\";\n        }\n    };\n    // Debug logging\n    console.log(\"Step1 Debug:\", {\n        cardHistoryExists: !!cardHistory,\n        hasDraftSessions: cardHistory?.hasDraftSessions,\n        draftSessionsLength: cardHistory?.draftSessions?.length || 0,\n        mostRecentDraftExists: !!mostRecentDraft,\n        hasRecentDraft,\n        onResumeDraftExists: !!onResumeDraft\n    });\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"space-y-4 sm:space-y-6 w-full\",\n        children: [\n            hasRecentDraft && onResumeDraft && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"bg-gradient-to-r from-purple-50 to-blue-50 dark:from-purple-900/20 dark:to-blue-900/20 rounded-xl p-4 sm:p-6 border border-purple-200 dark:border-purple-800\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex items-start gap-4\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex-shrink-0\",\n                            children: mostRecentDraft.draftCards[0]?.frontCover ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                src: mostRecentDraft.draftCards[0].frontCover,\n                                alt: \"Recent draft\",\n                                className: \"w-20 h-20 sm:w-24 sm:h-24 rounded-lg object-cover shadow-md\"\n                            }, void 0, false, {\n                                fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step1CardBasics.tsx\",\n                                lineNumber: 275,\n                                columnNumber: 17\n                            }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"w-20 h-20 sm:w-24 sm:h-24 rounded-lg bg-purple-100 dark:bg-purple-800 flex items-center justify-center\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Baby_Cake_Church_CloudRain_Eye_Gift_GraduationCap_Heart_Home_MessageCircle_Play_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_22__[\"default\"], {\n                                    className: \"w-8 h-8 text-purple-600 dark:text-purple-300\"\n                                }, void 0, false, {\n                                    fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step1CardBasics.tsx\",\n                                    lineNumber: 282,\n                                    columnNumber: 19\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step1CardBasics.tsx\",\n                                lineNumber: 281,\n                                columnNumber: 17\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step1CardBasics.tsx\",\n                            lineNumber: 273,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex-1 min-w-0\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                    className: \"text-lg font-semibold text-gray-800 dark:text-gray-200 mb-1\",\n                                    children: \"Resume Your Recent Draft\"\n                                }, void 0, false, {\n                                    fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step1CardBasics.tsx\",\n                                    lineNumber: 287,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"text-sm text-gray-600 dark:text-gray-400 mb-3\",\n                                    children: [\n                                        mostRecentDraft.formData?.selectedType || \"Custom\",\n                                        \" • \",\n                                        mostRecentDraft.formData?.selectedTone || \"Casual\",\n                                        \" Card\",\n                                        getDraftAge() && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"text-xs ml-2\",\n                                            children: [\n                                                \"• Saved \",\n                                                getDraftAge()\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step1CardBasics.tsx\",\n                                            lineNumber: 292,\n                                            columnNumber: 35\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step1CardBasics.tsx\",\n                                    lineNumber: 290,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex flex-wrap gap-2\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_4__.Button, {\n                                            onClick: ()=>onResumeDraft(mostRecentDraft.id),\n                                            size: \"sm\",\n                                            className: \"bg-purple-600 hover:bg-purple-700 text-white\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Baby_Cake_Church_CloudRain_Eye_Gift_GraduationCap_Heart_Home_MessageCircle_Play_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_23__[\"default\"], {\n                                                    className: \"w-4 h-4 mr-1\"\n                                                }, void 0, false, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step1CardBasics.tsx\",\n                                                    lineNumber: 300,\n                                                    columnNumber: 19\n                                                }, this),\n                                                \"Resume Draft\"\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step1CardBasics.tsx\",\n                                            lineNumber: 295,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_4__.Button, {\n                                            variant: \"outline\",\n                                            size: \"sm\",\n                                            onClick: ()=>{\n                                                // Clear the draft and start fresh\n                                                if (cardHistory?.removeDraftSession) {\n                                                    cardHistory.removeDraftSession(mostRecentDraft.id);\n                                                    localStorage.removeItem(\"vibe-current-draft-session\");\n                                                    sonner__WEBPACK_IMPORTED_MODULE_6__.toast.success(\"Draft cleared. Starting fresh!\");\n                                                }\n                                            },\n                                            children: \"Start Fresh\"\n                                        }, void 0, false, {\n                                            fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step1CardBasics.tsx\",\n                                            lineNumber: 303,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step1CardBasics.tsx\",\n                                    lineNumber: 294,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step1CardBasics.tsx\",\n                            lineNumber: 286,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step1CardBasics.tsx\",\n                    lineNumber: 272,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step1CardBasics.tsx\",\n                lineNumber: 271,\n                columnNumber: 9\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"space-y-3 sm:space-y-4 w-full\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                        className: \"text-base font-semibold text-gray-800 dark:text-gray-200 px-1\",\n                        children: \"Card Type\"\n                    }, void 0, false, {\n                        fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step1CardBasics.tsx\",\n                        lineNumber: 332,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_select__WEBPACK_IMPORTED_MODULE_3__.Select, {\n                        value: formData.selectedType,\n                        onValueChange: (value)=>updateFormData({\n                                selectedType: value\n                            }),\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_select__WEBPACK_IMPORTED_MODULE_3__.SelectTrigger, {\n                                className: \"w-full h-12 sm:h-14 border-2 hover:border-blue-300 dark:hover:border-blue-700 transition-colors touch-manipulation text-base [&>span]:!line-clamp-none\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_select__WEBPACK_IMPORTED_MODULE_3__.SelectValue, {\n                                    children: (()=>{\n                                        const selected = cardTypes.find((type)=>type.id === formData.selectedType);\n                                        if (!selected) return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"text-gray-400\",\n                                            children: \"Choose card type ✨\"\n                                        }, void 0, false, {\n                                            fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step1CardBasics.tsx\",\n                                            lineNumber: 343,\n                                            columnNumber: 39\n                                        }, this);\n                                        const IconComponent = selected.icon;\n                                        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex items-center gap-2 sm:gap-3\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: `w-6 h-6 sm:w-8 sm:h-8 bg-gradient-to-br ${selected.color} rounded-lg flex items-center justify-center shadow-sm flex-shrink-0`,\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        className: \"text-sm sm:text-lg\",\n                                                        children: selected.emoji\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step1CardBasics.tsx\",\n                                                        lineNumber: 348,\n                                                        columnNumber: 23\n                                                    }, this)\n                                                }, void 0, false, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step1CardBasics.tsx\",\n                                                    lineNumber: 347,\n                                                    columnNumber: 21\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"font-medium text-gray-900 dark:text-gray-100 text-sm sm:text-base\",\n                                                    children: selected.label\n                                                }, void 0, false, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step1CardBasics.tsx\",\n                                                    lineNumber: 350,\n                                                    columnNumber: 21\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step1CardBasics.tsx\",\n                                            lineNumber: 346,\n                                            columnNumber: 19\n                                        }, this);\n                                    })()\n                                }, void 0, false, {\n                                    fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step1CardBasics.tsx\",\n                                    lineNumber: 340,\n                                    columnNumber: 13\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step1CardBasics.tsx\",\n                                lineNumber: 339,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_select__WEBPACK_IMPORTED_MODULE_3__.SelectContent, {\n                                className: \"max-h-[400px] w-full\",\n                                position: \"popper\",\n                                sideOffset: 5,\n                                children: cardTypes.map((type)=>{\n                                    const IconComponent = type.icon;\n                                    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_select__WEBPACK_IMPORTED_MODULE_3__.SelectItem, {\n                                        value: type.id,\n                                        className: \"cursor-pointer hover:bg-blue-50 dark:hover:bg-blue-900/20\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex items-center gap-3 py-1\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: `w-10 h-10 bg-gradient-to-br ${type.color} rounded-lg flex items-center justify-center shadow-sm`,\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        className: \"text-xl\",\n                                                        children: type.emoji\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step1CardBasics.tsx\",\n                                                        lineNumber: 363,\n                                                        columnNumber: 23\n                                                    }, this)\n                                                }, void 0, false, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step1CardBasics.tsx\",\n                                                    lineNumber: 362,\n                                                    columnNumber: 21\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"flex-1\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"font-semibold text-gray-900 dark:text-gray-100\",\n                                                            children: type.label\n                                                        }, void 0, false, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step1CardBasics.tsx\",\n                                                            lineNumber: 366,\n                                                            columnNumber: 23\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"text-xs text-gray-600 dark:text-gray-400\",\n                                                            children: type.description\n                                                        }, void 0, false, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step1CardBasics.tsx\",\n                                                            lineNumber: 367,\n                                                            columnNumber: 23\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step1CardBasics.tsx\",\n                                                    lineNumber: 365,\n                                                    columnNumber: 21\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step1CardBasics.tsx\",\n                                            lineNumber: 361,\n                                            columnNumber: 19\n                                        }, this)\n                                    }, type.id, false, {\n                                        fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step1CardBasics.tsx\",\n                                        lineNumber: 360,\n                                        columnNumber: 17\n                                    }, this);\n                                })\n                            }, void 0, false, {\n                                fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step1CardBasics.tsx\",\n                                lineNumber: 356,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step1CardBasics.tsx\",\n                        lineNumber: 335,\n                        columnNumber: 9\n                    }, this),\n                    formData.selectedType === \"custom\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"mt-4 p-4 bg-purple-50 dark:bg-purple-900/20 rounded-lg border border-purple-200 dark:border-purple-800 animate-in slide-in-from-top-2 duration-300\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                className: \"text-sm font-semibold text-purple-900 dark:text-purple-100 mb-3 block flex items-center gap-2\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Baby_Cake_Church_CloudRain_Eye_Gift_GraduationCap_Heart_Home_MessageCircle_Play_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n                                        className: \"w-4 h-4\"\n                                    }, void 0, false, {\n                                        fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step1CardBasics.tsx\",\n                                        lineNumber: 380,\n                                        columnNumber: 15\n                                    }, this),\n                                    \"Describe Your Custom Card Type\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step1CardBasics.tsx\",\n                                lineNumber: 379,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_input__WEBPACK_IMPORTED_MODULE_2__.Input, {\n                                placeholder: \"✨ E.g., 'Promotion at work', 'Moving away', 'First day of school'\",\n                                value: formData.customCardType,\n                                onChange: (e)=>updateFormData({\n                                        customCardType: e.target.value\n                                    }),\n                                className: \"h-12 border-2 border-purple-300 dark:border-purple-700 focus:border-purple-500 dark:focus:border-purple-500 touch-manipulation\",\n                                style: {\n                                    fontSize: \"16px\"\n                                }\n                            }, void 0, false, {\n                                fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step1CardBasics.tsx\",\n                                lineNumber: 383,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"text-xs text-purple-700 dark:text-purple-300 mt-2\",\n                                children: \"What type of card is this? This helps personalize the message and style.\"\n                            }, void 0, false, {\n                                fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step1CardBasics.tsx\",\n                                lineNumber: 390,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step1CardBasics.tsx\",\n                        lineNumber: 378,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step1CardBasics.tsx\",\n                lineNumber: 331,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"space-y-3 sm:space-y-4 w-full\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                        className: \"text-base font-semibold text-gray-800 dark:text-gray-200 px-1\",\n                        children: \"Card Tone & Style\"\n                    }, void 0, false, {\n                        fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step1CardBasics.tsx\",\n                        lineNumber: 399,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_select__WEBPACK_IMPORTED_MODULE_3__.Select, {\n                        value: formData.selectedTone,\n                        onValueChange: (value)=>updateFormData({\n                                selectedTone: value\n                            }),\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_select__WEBPACK_IMPORTED_MODULE_3__.SelectTrigger, {\n                                className: \"w-full h-12 sm:h-14 border-2 hover:border-purple-300 dark:hover:border-purple-700 transition-colors touch-manipulation text-base [&>span]:!line-clamp-none\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_select__WEBPACK_IMPORTED_MODULE_3__.SelectValue, {\n                                    children: (()=>{\n                                        const selected = cardTones.find((tone)=>tone.id === formData.selectedTone);\n                                        if (!selected) return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"text-gray-400\",\n                                            children: \"Choose card tone\"\n                                        }, void 0, false, {\n                                            fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step1CardBasics.tsx\",\n                                            lineNumber: 410,\n                                            columnNumber: 39\n                                        }, this);\n                                        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex items-center gap-2 sm:gap-3\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: `w-6 h-6 sm:w-8 sm:h-8 bg-gradient-to-br ${selected.color} rounded-lg flex items-center justify-center shadow-sm flex-shrink-0`,\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        className: \"text-sm sm:text-base\",\n                                                        children: selected.label.split(\" \")[0]\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step1CardBasics.tsx\",\n                                                        lineNumber: 414,\n                                                        columnNumber: 23\n                                                    }, this)\n                                                }, void 0, false, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step1CardBasics.tsx\",\n                                                    lineNumber: 413,\n                                                    columnNumber: 21\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"font-medium text-sm sm:text-base\",\n                                                    children: selected.label.split(\" \").slice(1).join(\" \")\n                                                }, void 0, false, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step1CardBasics.tsx\",\n                                                    lineNumber: 416,\n                                                    columnNumber: 21\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step1CardBasics.tsx\",\n                                            lineNumber: 412,\n                                            columnNumber: 19\n                                        }, this);\n                                    })()\n                                }, void 0, false, {\n                                    fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step1CardBasics.tsx\",\n                                    lineNumber: 407,\n                                    columnNumber: 13\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step1CardBasics.tsx\",\n                                lineNumber: 406,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_select__WEBPACK_IMPORTED_MODULE_3__.SelectContent, {\n                                className: \"max-h-[400px] w-full\",\n                                position: \"popper\",\n                                sideOffset: 5,\n                                children: cardTones.map((tone)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_select__WEBPACK_IMPORTED_MODULE_3__.SelectItem, {\n                                        value: tone.id,\n                                        className: \"cursor-pointer hover:bg-purple-50 dark:hover:bg-purple-900/20\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex items-center gap-3 py-1\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: `w-10 h-10 bg-gradient-to-br ${tone.color} rounded-lg flex items-center justify-center shadow-sm`,\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        className: \"text-xl\",\n                                                        children: tone.label.split(\" \")[0]\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step1CardBasics.tsx\",\n                                                        lineNumber: 427,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                }, void 0, false, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step1CardBasics.tsx\",\n                                                    lineNumber: 426,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"flex-1\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"font-semibold text-gray-900 dark:text-gray-100\",\n                                                            children: tone.label.split(\" \").slice(1).join(\" \")\n                                                        }, void 0, false, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step1CardBasics.tsx\",\n                                                            lineNumber: 430,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"text-xs text-gray-600 dark:text-gray-400\",\n                                                            children: tone.description\n                                                        }, void 0, false, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step1CardBasics.tsx\",\n                                                            lineNumber: 431,\n                                                            columnNumber: 21\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step1CardBasics.tsx\",\n                                                    lineNumber: 429,\n                                                    columnNumber: 19\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step1CardBasics.tsx\",\n                                            lineNumber: 425,\n                                            columnNumber: 17\n                                        }, this)\n                                    }, tone.id, false, {\n                                        fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step1CardBasics.tsx\",\n                                        lineNumber: 424,\n                                        columnNumber: 15\n                                    }, this))\n                            }, void 0, false, {\n                                fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step1CardBasics.tsx\",\n                                lineNumber: 422,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step1CardBasics.tsx\",\n                        lineNumber: 402,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step1CardBasics.tsx\",\n                lineNumber: 398,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"space-y-3 sm:space-y-4 w-full\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                        className: \"text-base font-semibold text-gray-800 dark:text-gray-200 px-1\",\n                        children: \"Personalization (Optional)\"\n                    }, void 0, false, {\n                        fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step1CardBasics.tsx\",\n                        lineNumber: 442,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"grid grid-cols-1 sm:grid-cols-2 gap-4\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                        className: \"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block\",\n                                        children: \"To (Optional)\"\n                                    }, void 0, false, {\n                                        fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step1CardBasics.tsx\",\n                                        lineNumber: 447,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_input__WEBPACK_IMPORTED_MODULE_2__.Input, {\n                                        placeholder: \"\\uD83C\\uDFAF To\",\n                                        value: formData.toField,\n                                        onChange: (e)=>updateFormData({\n                                                toField: e.target.value\n                                            }),\n                                        className: \"h-12 sm:h-14 touch-manipulation border-2 hover:border-green-300 dark:hover:border-green-700 transition-colors text-base\",\n                                        style: {\n                                            fontSize: \"16px\"\n                                        }\n                                    }, void 0, false, {\n                                        fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step1CardBasics.tsx\",\n                                        lineNumber: 450,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step1CardBasics.tsx\",\n                                lineNumber: 446,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                        className: \"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block\",\n                                        children: \"From (Optional)\"\n                                    }, void 0, false, {\n                                        fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step1CardBasics.tsx\",\n                                        lineNumber: 459,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_input__WEBPACK_IMPORTED_MODULE_2__.Input, {\n                                        placeholder: \"\\uD83D\\uDCDD From\",\n                                        value: formData.fromField,\n                                        onChange: (e)=>updateFormData({\n                                                fromField: e.target.value\n                                            }),\n                                        className: \"h-12 sm:h-14 touch-manipulation border-2 hover:border-green-300 dark:hover:border-green-700 transition-colors text-base\",\n                                        style: {\n                                            fontSize: \"16px\"\n                                        }\n                                    }, void 0, false, {\n                                        fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step1CardBasics.tsx\",\n                                        lineNumber: 462,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step1CardBasics.tsx\",\n                                lineNumber: 458,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                        className: \"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block\",\n                                        children: formData.toField ? `${formData.toField} is your...` : \"Relationship (Optional)\"\n                                    }, void 0, false, {\n                                        fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step1CardBasics.tsx\",\n                                        lineNumber: 471,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_input__WEBPACK_IMPORTED_MODULE_2__.Input, {\n                                        placeholder: formData.toField ? \"friend, parent, significant other, coworker\" : \"\\uD83D\\uDC9D e.g., friend, parent, significant other\",\n                                        value: formData.relationshipField,\n                                        onChange: (e)=>updateFormData({\n                                                relationshipField: e.target.value\n                                            }),\n                                        className: \"h-12 sm:h-14 touch-manipulation border-2 hover:border-green-300 dark:hover:border-green-700 transition-colors text-base\",\n                                        style: {\n                                            fontSize: \"16px\"\n                                        }\n                                    }, void 0, false, {\n                                        fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step1CardBasics.tsx\",\n                                        lineNumber: 474,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step1CardBasics.tsx\",\n                                lineNumber: 470,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step1CardBasics.tsx\",\n                        lineNumber: 445,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step1CardBasics.tsx\",\n                lineNumber: 441,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"space-y-3 sm:space-y-4 w-full\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                        className: \"text-base font-semibold text-gray-800 dark:text-gray-200 px-1\",\n                        children: \"Reference Photos (Optional)\"\n                    }, void 0, false, {\n                        fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step1CardBasics.tsx\",\n                        lineNumber: 487,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"bg-gradient-to-r from-indigo-50 to-purple-50 dark:from-indigo-900/20 dark:to-purple-900/20 rounded-xl p-3 sm:p-6 border border-indigo-200 dark:border-indigo-800\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex items-start gap-3\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Baby_Cake_Church_CloudRain_Eye_Gift_GraduationCap_Heart_Home_MessageCircle_Play_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_24__[\"default\"], {\n                                    className: \"w-6 h-6 text-indigo-600 dark:text-indigo-400 mt-0.5 flex-shrink-0\"\n                                }, void 0, false, {\n                                    fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step1CardBasics.tsx\",\n                                    lineNumber: 493,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex-1\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h4\", {\n                                            className: \"font-medium text-indigo-900 dark:text-indigo-100 mb-1 text-sm sm:text-base\",\n                                            children: \"Upload photos to create cartoon characters!\"\n                                        }, void 0, false, {\n                                            fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step1CardBasics.tsx\",\n                                            lineNumber: 495,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                            className: \"text-xs sm:text-sm text-indigo-700 dark:text-indigo-300 mb-3\",\n                                            children: \"Add photos of people to include them as personalized cartoon characters in your card\"\n                                        }, void 0, false, {\n                                            fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step1CardBasics.tsx\",\n                                            lineNumber: 498,\n                                            columnNumber: 15\n                                        }, this),\n                                        referenceImageUrlsFromStudio.length === 0 && formData.referenceImageUrls.length === 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"border-2 border-dashed border-indigo-300 dark:border-indigo-600 rounded-lg p-6 text-center\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                    type: \"file\",\n                                                    accept: \"image/*\",\n                                                    onChange: (e)=>e.target.files?.[0] && handleFileUploadLocal(e.target.files[0]),\n                                                    disabled: isUploading,\n                                                    className: \"hidden\",\n                                                    id: \"reference-upload\"\n                                                }, void 0, false, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step1CardBasics.tsx\",\n                                                    lineNumber: 505,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                    htmlFor: \"reference-upload\",\n                                                    className: `cursor-pointer ${isUploading ? \"opacity-50 cursor-not-allowed\" : \"\"}`,\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Baby_Cake_Church_CloudRain_Eye_Gift_GraduationCap_Heart_Home_MessageCircle_Play_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_25__[\"default\"], {\n                                                            className: `w-8 h-8 mx-auto mb-2 text-indigo-400 ${isUploading ? \"animate-pulse\" : \"\"}`\n                                                        }, void 0, false, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step1CardBasics.tsx\",\n                                                            lineNumber: 514,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"text-base font-medium text-indigo-600 dark:text-indigo-400\",\n                                                            children: isUploading ? \"Uploading...\" : \"Tap to upload photo\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step1CardBasics.tsx\",\n                                                            lineNumber: 515,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"text-xs text-indigo-500 dark:text-indigo-300 mt-1\",\n                                                            children: \"JPG, PNG up to 10MB\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step1CardBasics.tsx\",\n                                                            lineNumber: 518,\n                                                            columnNumber: 21\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step1CardBasics.tsx\",\n                                                    lineNumber: 513,\n                                                    columnNumber: 19\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step1CardBasics.tsx\",\n                                            lineNumber: 504,\n                                            columnNumber: 17\n                                        }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"space-y-3\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"space-y-4\",\n                                                    children: (referenceImageUrlsFromStudio.length > 0 ? referenceImageUrlsFromStudio : formData.referenceImageUrls).map((url, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"bg-white dark:bg-gray-800 rounded-lg p-2 sm:p-4 border border-indigo-200 dark:border-indigo-700\",\n                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"flex gap-2 sm:gap-3\",\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                        className: \"relative flex-shrink-0\",\n                                                                        children: [\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                                                                src: url,\n                                                                                alt: `Reference ${index + 1}`,\n                                                                                className: \"w-20 h-20 sm:w-24 sm:h-24 object-cover rounded-lg border-2 border-indigo-200 dark:border-indigo-700\"\n                                                                            }, void 0, false, {\n                                                                                fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step1CardBasics.tsx\",\n                                                                                lineNumber: 531,\n                                                                                columnNumber: 29\n                                                                            }, this),\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_4__.Button, {\n                                                                                variant: \"destructive\",\n                                                                                size: \"sm\",\n                                                                                onClick: ()=>handleRemoveImage(index),\n                                                                                className: \"absolute -top-2 -right-2 h-6 w-6 p-0 rounded-full\",\n                                                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Baby_Cake_Church_CloudRain_Eye_Gift_GraduationCap_Heart_Home_MessageCircle_Play_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_26__[\"default\"], {\n                                                                                    className: \"w-3 h-3\"\n                                                                                }, void 0, false, {\n                                                                                    fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step1CardBasics.tsx\",\n                                                                                    lineNumber: 542,\n                                                                                    columnNumber: 31\n                                                                                }, this)\n                                                                            }, void 0, false, {\n                                                                                fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step1CardBasics.tsx\",\n                                                                                lineNumber: 536,\n                                                                                columnNumber: 29\n                                                                            }, this)\n                                                                        ]\n                                                                    }, void 0, true, {\n                                                                        fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step1CardBasics.tsx\",\n                                                                        lineNumber: 530,\n                                                                        columnNumber: 27\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                        className: \"flex-1 min-w-0\",\n                                                                        children: [\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                                                className: \"text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-300 mb-1 block\",\n                                                                                children: [\n                                                                                    \"Who's in this photo? \",\n                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                        className: \"text-red-500\",\n                                                                                        children: \"*\"\n                                                                                    }, void 0, false, {\n                                                                                        fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step1CardBasics.tsx\",\n                                                                                        lineNumber: 547,\n                                                                                        columnNumber: 52\n                                                                                    }, this)\n                                                                                ]\n                                                                            }, void 0, true, {\n                                                                                fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step1CardBasics.tsx\",\n                                                                                lineNumber: 546,\n                                                                                columnNumber: 29\n                                                                            }, this),\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_input__WEBPACK_IMPORTED_MODULE_2__.Input, {\n                                                                                placeholder: formData.toField && formData.fromField ? `e.g., ${formData.toField} on the left, ${formData.fromField} on the right` : \"e.g., my daughter Sarah and son Mike\",\n                                                                                value: photoReferences[index]?.description || \"\",\n                                                                                onChange: (e)=>updatePhotoDescription?.(index, e.target.value),\n                                                                                className: `w-full text-sm ${!photoReferences[index]?.description ? \"border-red-300\" : \"\"}`,\n                                                                                style: {\n                                                                                    fontSize: \"16px\"\n                                                                                },\n                                                                                required: true\n                                                                            }, void 0, false, {\n                                                                                fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step1CardBasics.tsx\",\n                                                                                lineNumber: 549,\n                                                                                columnNumber: 29\n                                                                            }, this),\n                                                                            !photoReferences[index]?.description && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                                className: \"text-xs text-red-500 dark:text-red-400 mt-1\",\n                                                                                children: \"Please describe who's in this photo\"\n                                                                            }, void 0, false, {\n                                                                                fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step1CardBasics.tsx\",\n                                                                                lineNumber: 560,\n                                                                                columnNumber: 31\n                                                                            }, this),\n                                                                            photoReferences[index]?.description && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                                className: \"text-xs text-gray-500 dark:text-gray-400 mt-1\",\n                                                                                children: \"Describe who should appear as cartoon characters\"\n                                                                            }, void 0, false, {\n                                                                                fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step1CardBasics.tsx\",\n                                                                                lineNumber: 565,\n                                                                                columnNumber: 31\n                                                                            }, this)\n                                                                        ]\n                                                                    }, void 0, true, {\n                                                                        fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step1CardBasics.tsx\",\n                                                                        lineNumber: 545,\n                                                                        columnNumber: 27\n                                                                    }, this)\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step1CardBasics.tsx\",\n                                                                lineNumber: 529,\n                                                                columnNumber: 25\n                                                            }, this)\n                                                        }, index, false, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step1CardBasics.tsx\",\n                                                            lineNumber: 528,\n                                                            columnNumber: 23\n                                                        }, this))\n                                                }, void 0, false, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step1CardBasics.tsx\",\n                                                    lineNumber: 526,\n                                                    columnNumber: 19\n                                                }, this),\n                                                formData.referenceImageUrls.length < 4 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"mt-2\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                            type: \"file\",\n                                                            accept: \"image/*\",\n                                                            onChange: (e)=>e.target.files?.[0] && handleFileUploadLocal(e.target.files[0]),\n                                                            disabled: isUploading,\n                                                            className: \"hidden\",\n                                                            id: \"reference-upload-more\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step1CardBasics.tsx\",\n                                                            lineNumber: 578,\n                                                            columnNumber: 23\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                            htmlFor: \"reference-upload-more\",\n                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_4__.Button, {\n                                                                variant: \"outline\",\n                                                                size: \"sm\",\n                                                                disabled: isUploading,\n                                                                asChild: true,\n                                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                    className: \"cursor-pointer\",\n                                                                    children: [\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Baby_Cake_Church_CloudRain_Eye_Gift_GraduationCap_Heart_Home_MessageCircle_Play_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_25__[\"default\"], {\n                                                                            className: \"w-4 h-4 mr-2\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step1CardBasics.tsx\",\n                                                                            lineNumber: 589,\n                                                                            columnNumber: 29\n                                                                        }, this),\n                                                                        \"Add another photo\"\n                                                                    ]\n                                                                }, void 0, true, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step1CardBasics.tsx\",\n                                                                    lineNumber: 588,\n                                                                    columnNumber: 27\n                                                                }, this)\n                                                            }, void 0, false, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step1CardBasics.tsx\",\n                                                                lineNumber: 587,\n                                                                columnNumber: 25\n                                                            }, this)\n                                                        }, void 0, false, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step1CardBasics.tsx\",\n                                                            lineNumber: 586,\n                                                            columnNumber: 23\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step1CardBasics.tsx\",\n                                                    lineNumber: 577,\n                                                    columnNumber: 21\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step1CardBasics.tsx\",\n                                            lineNumber: 524,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step1CardBasics.tsx\",\n                                    lineNumber: 494,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step1CardBasics.tsx\",\n                            lineNumber: 492,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step1CardBasics.tsx\",\n                        lineNumber: 491,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step1CardBasics.tsx\",\n                lineNumber: 486,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-2 sm:p-3 border border-blue-200 dark:border-blue-800\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h4\", {\n                        className: \"font-medium text-blue-900 dark:text-blue-100 mb-1 text-sm\",\n                        children: \"\\uD83D\\uDCA1 Tips\"\n                    }, void 0, false, {\n                        fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step1CardBasics.tsx\",\n                        lineNumber: 606,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"ul\", {\n                        className: \"text-xs sm:text-sm text-blue-800 dark:text-blue-200 space-y-0.5\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                children: \"• Pick your card type and tone\"\n                            }, void 0, false, {\n                                fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step1CardBasics.tsx\",\n                                lineNumber: 608,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                children: \"• To/From fields help personalize\"\n                            }, void 0, false, {\n                                fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step1CardBasics.tsx\",\n                                lineNumber: 609,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                children: \"• All fields are optional\"\n                            }, void 0, false, {\n                                fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step1CardBasics.tsx\",\n                                lineNumber: 610,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step1CardBasics.tsx\",\n                        lineNumber: 607,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step1CardBasics.tsx\",\n                lineNumber: 605,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step1CardBasics.tsx\",\n        lineNumber: 268,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9jb21wb25lbnRzL3dpemFyZC9zdGVwcy9TdGVwMUNhcmRCYXNpY3MudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFbUQ7QUFDTDtBQUN5RDtBQUN2RDtBQU8xQjtBQUU4QjtBQUVyQjtBQTBDL0Isd0JBQXdCO0FBQ3hCLE1BQU1nQyxZQUFZO0lBQ2hCO1FBQUVDLElBQUk7UUFBVUMsT0FBTztRQUFVQyxhQUFhO1FBQW1CQyxNQUFNMUIsK05BQU1BO1FBQUUyQixPQUFPO1FBQUtDLE9BQU87SUFBd0U7SUFDMUs7UUFBRUwsSUFBSTtRQUFZQyxPQUFPO1FBQVlDLGFBQWE7UUFBa0NDLE1BQU16QiwrTkFBSUE7UUFBRTBCLE9BQU87UUFBTUMsT0FBTztJQUFnRTtJQUNwTDtRQUFFTCxJQUFJO1FBQWFDLE9BQU87UUFBYUMsYUFBYTtRQUFxQkMsTUFBTXhCLCtOQUFRQTtRQUFFeUIsT0FBTztRQUFNQyxPQUFPO0lBQWdFO0lBQzdLO1FBQUVMLElBQUk7UUFBZUMsT0FBTztRQUFlQyxhQUFhO1FBQWtDQyxNQUFNdkIsZ09BQUtBO1FBQUV3QixPQUFPO1FBQU1DLE9BQU87SUFBNEQ7SUFDdkw7UUFBRUwsSUFBSTtRQUFtQkMsT0FBTztRQUFtQkMsYUFBYTtRQUEwQkMsTUFBTXRCLGdPQUFNQTtRQUFFdUIsT0FBTztRQUFNQyxPQUFPO0lBQXdFO0lBQ3BNO1FBQUVMLElBQUk7UUFBV0MsT0FBTztRQUFXQyxhQUFhO1FBQWtDQyxNQUFNckIsZ09BQVFBO1FBQUVzQixPQUFPO1FBQU1DLE9BQU87SUFBb0U7SUFDMUw7UUFBRUwsSUFBSTtRQUFZQyxPQUFPO1FBQWlCQyxhQUFhO1FBQXVCQyxNQUFNcEIsZ09BQVdBO1FBQUVxQixPQUFPO1FBQU1DLE9BQU87SUFBZ0U7SUFDckw7UUFBRUwsSUFBSTtRQUFZQyxPQUFPO1FBQVlDLGFBQWE7UUFBaUJDLE1BQU1uQixnT0FBU0E7UUFBRW9CLE9BQU87UUFBT0MsT0FB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QUNMeUUsUUFBTzs0REFDUFosVUFBVSxDQUFDN0UsSUFBTUEsRUFBRXNCLE1BQU0sQ0FBQ29FLEtBQUssRUFBRSxDQUFDLEVBQUUsSUFBSWhFLHNCQUFzQjFCLEVBQUVzQixNQUFNLENBQUNvRSxLQUFLLENBQUMsRUFBRTs0REFDL0VDLFVBQVUzSDs0REFDVnlGLFdBQVU7NERBQ1Z6RyxJQUFHOzs7Ozs7c0VBRUwsOERBQUNDOzREQUFNMkksU0FBUTtzRUFDYiw0RUFBQ3BLLHlEQUFNQTtnRUFBQ3dJLFNBQVE7Z0VBQVV2RSxNQUFLO2dFQUFLa0csVUFBVTNIO2dFQUFhK0gsT0FBTzswRUFDaEUsNEVBQUNqQztvRUFBS0wsV0FBVTs7c0ZBQ2QsOERBQUNoSCxnT0FBTUE7NEVBQUNnSCxXQUFVOzs7Ozs7d0VBQWlCOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OzBCQWdCekQsOERBQUNEO2dCQUFJQyxXQUFVOztrQ0FDYiw4REFBQzhCO3dCQUFHOUIsV0FBVTtrQ0FBNEQ7Ozs7OztrQ0FDMUUsOERBQUN1Qzt3QkFBR3ZDLFdBQVU7OzBDQUNaLDhEQUFDd0M7MENBQUc7Ozs7OzswQ0FDSiw4REFBQ0E7MENBQUc7Ozs7OzswQ0FDSiw4REFBQ0E7MENBQUc7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQWlCZCIsInNvdXJjZXMiOlsid2VicGFjazovL3ZpYmVjYXJkaW5nLy4vY29tcG9uZW50cy93aXphcmQvc3RlcHMvU3RlcDFDYXJkQmFzaWNzLnRzeD9lZTZkIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIGNsaWVudFwiO1xuXG5pbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUsIHVzZUVmZmVjdCB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgSW5wdXQgfSBmcm9tIFwiQC9jb21wb25lbnRzL3VpL2lucHV0XCI7XG5pbXBvcnQgeyBTZWxlY3QsIFNlbGVjdENvbnRlbnQsIFNlbGVjdEl0ZW0sIFNlbGVjdFRyaWdnZXIsIFNlbGVjdFZhbHVlIH0gZnJvbSBcIkAvY29tcG9uZW50cy91aS9zZWxlY3RcIjtcbmltcG9ydCB7IEJ1dHRvbiB9IGZyb20gXCJAL2NvbXBvbmVudHMvdWkvYnV0dG9uXCI7XG5pbXBvcnQgeyBUZXh0YXJlYSB9IGZyb20gXCJAL2NvbXBvbmVudHMvdWkvdGV4dGFyZWFcIjtcbmltcG9ydCB7IENhcmRGb3JtRGF0YSB9IGZyb20gXCJAL2hvb2tzL3VzZUNhcmRGb3JtXCI7XG5pbXBvcnQgeyBcbiAgV3JlbmNoLCBDYWtlLCBUaHVtYnNVcCwgSGVhcnQsIFRyb3BoeSwgVHJlZVBpbmUsIFN0ZXRob3Njb3BlLCBcbiAgQ2xvdWRSYWluLCBHcmFkdWF0aW9uQ2FwLCBCYWJ5LCBDaHVyY2gsIEdpZnQsIEhvbWUsIE1lc3NhZ2VDaXJjbGUsIEV5ZSxcbiAgSW1hZ2UsIFNwYXJrbGVzLCBVcGxvYWQsIFgsIFdhbmQyLCBVc2VycywgUGxheVxufSBmcm9tIFwibHVjaWRlLXJlYWN0XCI7XG5pbXBvcnQgVGVtcGxhdGVHYWxsZXJ5IGZyb20gXCIuLi9UZW1wbGF0ZUdhbGxlcnlcIjtcbmltcG9ydCB7IHVzZUNhcmRDYWNoZSB9IGZyb20gXCJAL2hvb2tzL3VzZUNhcmRDYWNoZVwiO1xuaW1wb3J0IHsgUGhvdG9SZWZlcmVuY2UgfSBmcm9tIFwiQC9ob29rcy9jYXJkU3R1ZGlvL2NvbnN0YW50c1wiO1xuaW1wb3J0IHsgdG9hc3QgfSBmcm9tIFwic29ubmVyXCI7XG5cbmludGVyZmFjZSBHZW5lcmF0ZWRDYXJkIHtcbiAgaWQ6IHN0cmluZztcbiAgcHJvbXB0OiBzdHJpbmc7XG4gIGZyb250Q292ZXI6IHN0cmluZztcbiAgYmFja0NvdmVyPzogc3RyaW5nO1xuICBsZWZ0UGFnZT86IHN0cmluZztcbiAgcmlnaHRQYWdlPzogc3RyaW5nO1xuICBjcmVhdGVkQXQ6IERhdGU7XG4gIHNoYXJlVXJsPzogc3RyaW5nO1xuICBnZW5lcmF0ZWRQcm9tcHRzPzoge1xuICAgIGZyb250Q292ZXI/OiBzdHJpbmc7XG4gICAgYmFja0NvdmVyPzogc3RyaW5nO1xuICAgIGxlZnRJbnRlcmlvcj86IHN0cmluZztcbiAgICByaWdodEludGVyaW9yPzogc3RyaW5nO1xuICB9O1xuICBzdHlsZUluZm8/OiB7XG4gICAgc3R5bGVOYW1lPzogc3RyaW5nO1xuICAgIHN0eWxlTGFiZWw/OiBzdHJpbmc7XG4gIH07XG59XG5cbmludGVyZmFjZSBTdGVwMVByb3BzIHtcbiAgZm9ybURhdGE6IENhcmRGb3JtRGF0YTtcbiAgdXBkYXRlRm9ybURhdGE6ICh1cGRhdGVzOiBQYXJ0aWFsPENhcmRGb3JtRGF0YT4pID0+IHZvaWQ7XG4gIG9uU3RlcENvbXBsZXRlPzogKCkgPT4gdm9pZDtcbiAgb25UZW1wbGF0ZVNlbGVjdD86ICh0ZW1wbGF0ZTogR2VuZXJhdGVkQ2FyZCkgPT4gdm9pZDtcbiAgLy8gUGhvdG8gdXBsb2FkIHByb3BzIChtb3ZlZCBmcm9tIFN0ZXAzKVxuICBoYW5kbGVGaWxlVXBsb2FkPzogKGZpbGU6IEZpbGUsIHR5cGU6ICdoYW5kd3JpdGluZycgfCAncmVmZXJlbmNlJykgPT4gUHJvbWlzZTx2b2lkPjtcbiAgaGFuZGxlUmVtb3ZlUmVmZXJlbmNlSW1hZ2U/OiAoaW5kZXg6IG51bWJlcikgPT4gdm9pZDtcbiAgaXNVcGxvYWRpbmc/OiBib29sZWFuO1xuICAvLyBTaW1wbGlmaWVkIHBob3RvIHJlZmVyZW5jZXNcbiAgcGhvdG9SZWZlcmVuY2VzPzogUGhvdG9SZWZlcmVuY2VbXTtcbiAgdXBkYXRlUGhvdG9EZXNjcmlwdGlvbj86IChpbmRleDogbnVtYmVyLCBkZXNjcmlwdGlvbjogc3RyaW5nKSA9PiB2b2lkO1xuICAvLyBEaXJlY3QgVVJMcyBmcm9tIGNhcmRTdHVkaW8gZm9yIGltbWVkaWF0ZSBhY2Nlc3NcbiAgcmVmZXJlbmNlSW1hZ2VVcmxzRnJvbVN0dWRpbz86IHN0cmluZ1tdO1xuICAvLyBDYXJkIGhpc3RvcnkgcHJvcHNcbiAgY2FyZEhpc3Rvcnk/OiBhbnk7XG4gIG9uUmVzdW1lRHJhZnQ/OiAoc2Vzc2lvbklkOiBzdHJpbmcpID0+IHZvaWQ7XG59XG5cbi8vIENhcmQgdHlwZXMgd2l0aCBpY29uc1xuY29uc3QgY2FyZFR5cGVzID0gW1xuICB7IGlkOiBcImN1c3RvbVwiLCBsYWJlbDogXCJDdXN0b21cIiwgZGVzY3JpcHRpb246IFwiQ3JlYXRlIHlvdXIgb3duXCIsIGljb246IFdyZW5jaCwgZW1vamk6IFwi4pyoXCIsIGNvbG9yOiBcImZyb20tcHVycGxlLTEwMCB0by1wdXJwbGUtMjAwIGRhcms6ZnJvbS1wdXJwbGUtOTAwIGRhcms6dG8tcHVycGxlLTgwMFwiIH0sXG4gIHsgaWQ6IFwiYmlydGhkYXlcIiwgbGFiZWw6IFwiQmlydGhkYXlcIiwgZGVzY3JpcHRpb246IFwiQ2VsZWJyYXRlIGFub3RoZXIgeWVhciBvZiBsaWZlXCIsIGljb246IENha2UsIGVtb2ppOiBcIvCfjoJcIiwgY29sb3I6IFwiZnJvbS1waW5rLTEwMCB0by1waW5rLTIwMCBkYXJrOmZyb20tcGluay05MDAgZGFyazp0by1waW5rLTgwMFwiIH0sXG4gIHsgaWQ6IFwidGhhbmsteW91XCIsIGxhYmVsOiBcIlRoYW5rIFlvdVwiLCBkZXNjcmlwdGlvbjogXCJFeHByZXNzIGdyYXRpdHVkZVwiLCBpY29uOiBUaHVtYnNVcCwgZW1vamk6IFwi8J+Zj1wiLCBjb2xvcjogXCJmcm9tLWJsdWUtMTAwIHRvLWJsdWUtMjAwIGRhcms6ZnJvbS1ibHVlLTkwMCBkYXJrOnRvLWJsdWUtODAwXCIgfSxcbiAgeyBpZDogXCJhbm5pdmVyc2FyeVwiLCBsYWJlbDogXCJBbm5pdmVyc2FyeVwiLCBkZXNjcmlwdGlvbjogXCJDb21tZW1vcmF0ZSBzcGVjaWFsIG1pbGVzdG9uZXNcIiwgaWNvbjogSGVhcnQsIGVtb2ppOiBcIvCfkpFcIiwgY29sb3I6IFwiZnJvbS1yZWQtMTAwIHRvLXJlZC0yMDAgZGFyazpmcm9tLXJlZC05MDAgZGFyazp0by1yZWQtODAwXCIgfSxcbiAgeyBpZDogXCJjb25ncmF0dWxhdGlvbnNcIiwgbGFiZWw6IFwiQ29uZ3JhdHVsYXRpb25zXCIsIGRlc2NyaXB0aW9uOiBcIkNlbGVicmF0ZSBhY2hpZXZlbWVudHNcIiwgaWNvbjogVHJvcGh5LCBlbW9qaTogXCLwn46JXCIsIGNvbG9yOiBcImZyb20teWVsbG93LTEwMCB0by15ZWxsb3ctMjAwIGRhcms6ZnJvbS15ZWxsb3ctOTAwIGRhcms6dG8teWVsbG93LTgwMFwiIH0sXG4gIHsgaWQ6IFwiaG9saWRheVwiLCBsYWJlbDogXCJIb2xpZGF5XCIsIGRlc2NyaXB0aW9uOiBcIlNlYXNvbmFsIGFuZCBob2xpZGF5IGdyZWV0aW5nc1wiLCBpY29uOiBUcmVlUGluZSwgZW1vamk6IFwi8J+OhFwiLCBjb2xvcjogXCJmcm9tLWdyZWVuLTEwMCB0by1ncmVlbi0yMDAgZGFyazpmcm9tLWdyZWVuLTkwMCBkYXJrOnRvLWdyZWVuLTgwMFwiIH0sXG4gIHsgaWQ6IFwiZ2V0LXdlbGxcIiwgbGFiZWw6IFwiR2V0IFdlbGwgU29vblwiLCBkZXNjcmlwdGlvbjogXCJTZW5kIGhlYWxpbmcgd2lzaGVzXCIsIGljb246IFN0ZXRob3Njb3BlLCBlbW9qaTogXCLwn5KQXCIsIGNvbG9yOiBcImZyb20tdGVhbC0xMDAgdG8tdGVhbC0yMDAgZGFyazpmcm9tLXRlYWwtOTAwIGRhcms6dG8tdGVhbC04MDBcIiB9LFxuICB7IGlkOiBcInN5bXBhdGh5XCIsIGxhYmVsOiBcIlN5bXBhdGh5XCIsIGRlc2NyaXB0aW9uOiBcIk9mZmVyIGNvbWZvcnRcIiwgaWNvbjogQ2xvdWRSYWluLCBlbW9qaTogXCLwn5WK77iPXCIsIGNvbG9yOiBcImZyb20tZ3JheS0xMDAgdG8tZ3JheS0yMDAgZGFyazpmcm9tLWdyYXktODAwIGRhcms6dG8tZ3JheS03MDBcIiB9LFxuICB7IGlkOiBcImxvdmVcIiwgbGFiZWw6IFwiTG92ZSAmIFJvbWFuY2VcIiwgZGVzY3JpcHRpb246IFwiRXhwcmVzcyByb21hbnRpYyBmZWVsaW5nc1wiLCBpY29uOiBIZWFydCwgZW1vamk6IFwi8J+SlVwiLCBjb2xvcjogXCJmcm9tLXJvc2UtMTAwIHRvLXJvc2UtMjAwIGRhcms6ZnJvbS1yb3NlLTkwMCBkYXJrOnRvLXJvc2UtODAwXCIgfSxcbiAgeyBpZDogXCJncmFkdWF0aW9uXCIsIGxhYmVsOiBcIkdyYWR1YXRpb25cIiwgZGVzY3JpcHRpb246IFwiQWNhZGVtaWMgYWNoaWV2ZW1lbnRzXCIsIGljb246IEdyYWR1YXRpb25DYXAsIGVtb2ppOiBcIvCfjpNcIiwgY29sb3I6IFwiZnJvbS1pbmRpZ28tMTAwIHRvLWluZGlnby0yMDAgZGFyazpmcm9tLWluZGlnby05MDAgZGFyazp0by1pbmRpZ28tODAwXCIgfSxcbiAgeyBpZDogXCJuZXctYmFieVwiLCBsYWJlbDogXCJOZXcgQmFieVwiLCBkZXNjcmlwdGlvbjogXCJXZWxjb21lIG5ldyBhcnJpdmFsc1wiLCBpY29uOiBCYWJ5LCBlbW9qaTogXCLwn5G2XCIsIGNvbG9yOiBcImZyb20tY3lhbi0xMDAgdG8tY3lhbi0yMDAgZGFyazpmcm9tLWN5YW4tOTAwIGRhcms6dG8tY3lhbi04MDBcIiB9LFxuICB7IGlkOiBcIndlZGRpbmdcIiwgbGFiZWw6IFwiV2VkZGluZ1wiLCBkZXNjcmlwdGlvbjogXCJDZWxlYnJhdGUgdW5pb25zIGFuZCBtYXJyaWFnZXNcIiwgaWNvbjogQ2h1cmNoLCBlbW9qaTogXCLwn5KSXCIsIGNvbG9yOiBcImZyb20tdmlvbGV0LTEwMCB0by12aW9sZXQtMjAwIGRhcms6ZnJvbS12aW9sZXQtOTAwIGRhcms6dG8tdmlvbGV0LTgwMFwiIH0sXG4gIHsgaWQ6IFwicmV0aXJlbWVudFwiLCBsYWJlbDogXCJSZXRpcmVtZW50XCIsIGRlc2NyaXB0aW9uOiBcIkhvbm9yIGNhcmVlciBhY2hpZXZlbWVudHNcIiwgaWNvbjogR2lmdCwgZW1vamk6IFwi8J+OgVwiLCBjb2xvcjogXCJmcm9tLWFtYmVyLTEwMCB0by1hbWJlci0yMDAgZGFyazpmcm9tLWFtYmVyLTkwMCBkYXJrOnRvLWFtYmVyLTgwMFwiIH0sXG4gIHsgaWQ6IFwiaG91c2V3YXJtaW5nXCIsIGxhYmVsOiBcIkhvdXNld2FybWluZ1wiLCBkZXNjcmlwdGlvbjogXCJXZWxjb21lIHRvIG5ldyBob21lc1wiLCBpY29uOiBIb21lLCBlbW9qaTogXCLwn4+hXCIsIGNvbG9yOiBcImZyb20tb3JhbmdlLTEwMCB0by1vcmFuZ2UtMjAwIGRhcms6ZnJvbS1vcmFuZ2UtOTAwIGRhcms6dG8tb3JhbmdlLTgwMFwiIH0sXG4gIHsgaWQ6IFwiYXBvbG9neVwiLCBsYWJlbDogXCJBcG9sb2d5XCIsIGRlc2NyaXB0aW9uOiBcIk1ha2UgYW1lbmRzXCIsIGljb246IE1lc3NhZ2VDaXJjbGUsIGVtb2ppOiBcIvCfmY9cIiwgY29sb3I6IFwiZnJvbS1zbGF0ZS0xMDAgdG8tc2xhdGUtMjAwIGRhcms6ZnJvbS1zbGF0ZS05MDAgZGFyazp0by1zbGF0ZS04MDBcIiB9LFxuICB7IGlkOiBcInRoaW5raW5nLW9mLXlvdVwiLCBsYWJlbDogXCJUaGlua2luZyBvZiBZb3VcIiwgZGVzY3JpcHRpb246IFwiU2hvdyB5b3UgY2FyZSBhbmQgcmVtZW1iZXJcIiwgaWNvbjogRXllLCBlbW9qaTogXCLwn5KtXCIsIGNvbG9yOiBcImZyb20tc2t5LTEwMCB0by1za3ktMjAwIGRhcms6ZnJvbS1za3ktOTAwIGRhcms6dG8tc2t5LTgwMFwiIH0sXG5dO1xuXG4vLyBDYXJkIHRvbmUvc3R5bGUgb3B0aW9uc1xuY29uc3QgY2FyZFRvbmVzID0gW1xuICB7IGlkOiBcImZ1bm55XCIsIGxhYmVsOiBcIvCfmIQgRnVubnlcIiwgZGVzY3JpcHRpb246IFwiSHVtb3JvdXMgYW5kIGxpZ2h0aGVhcnRlZFwiLCBjb2xvcjogXCJmcm9tLXllbGxvdy0xMDAgdG8tb3JhbmdlLTEwMCBkYXJrOmZyb20teWVsbG93LTkwMCBkYXJrOnRvLW9yYW5nZS05MDBcIiB9LFxuICB7IGlkOiBcImdlbnotaHVtb3JcIiwgbGFiZWw6IFwi8J+SgCBHZW5aIEh1bW9yXCIsIGRlc2NyaXB0aW9uOiBcIk1lbWVzIGFuZCBjaGFvdGljIHZpYmVzXCIsIGNvbG9yOiBcImZyb20tcHVycGxlLTEwMCB0by1waW5rLTEwMCBkYXJrOmZyb20tcHVycGxlLTkwMCBkYXJrOnRvLXBpbmstOTAwXCIgfSxcbiAgeyBpZDogXCJyb21hbnRpY1wiLCBsYWJlbDogXCLwn5KVIFJvbWFudGljXCIsIGRlc2NyaXB0aW9uOiBcIlN3ZWV0IGFuZCBsb3ZpbmdcIiwgY29sb3I6IFwiZnJvbS1waW5rLTEwMCB0by1yb3NlLTEwMCBkYXJrOmZyb20tcGluay05MDAgZGFyazp0by1yb3NlLTkwMFwiIH0sXG4gIHsgaWQ6IFwicHJvZmVzc2lvbmFsXCIsIGxhYmVsOiBcIvCfkZQgUHJvZmVzc2lvbmFsXCIsIGRlc2NyaXB0aW9uOiBcIkZvcm1hbCBhbmQgYnVzaW5lc3MtcmVhZHlcIiwgY29sb3I6IFwiZnJvbS1zbGF0ZS0xMDAgdG8tZ3JheS0xMDAgZGFyazpmcm9tLXNsYXRlLTkwMCBkYXJrOnRvLWdyYXktOTAwXCIgfSxcbiAgeyBpZDogXCJoZWFydGZlbHRcIiwgbGFiZWw6IFwi4p2k77iPIEhlYXJ0ZmVsdFwiLCBkZXNjcmlwdGlvbjogXCJTaW5jZXJlIGFuZCBlbW90aW9uYWxcIiwgY29sb3I6IFwiZnJvbS1yZWQtMTAwIHRvLXBpbmstMTAwIGRhcms6ZnJvbS1yZWQtOTAwIGRhcms6dG8tcGluay05MDBcIiB9LFxuICB7IGlkOiBcInBsYXlmdWxcIiwgbGFiZWw6IFwi8J+OiSBQbGF5ZnVsXCIsIGRlc2NyaXB0aW9uOiBcIkZ1biBhbmQgZW5lcmdldGljXCIsIGNvbG9yOiBcImZyb20tY3lhbi0xMDAgdG8tYmx1ZS0xMDAgZGFyazpmcm9tLWN5YW4tOTAwIGRhcms6dG8tYmx1ZS05MDBcIiB9LFxuICB7IGlkOiBcImVsZWdhbnRcIiwgbGFiZWw6IFwi4pyoIEVsZWdhbnRcIiwgZGVzY3JpcHRpb246IFwiU29waGlzdGljYXRlZCBhbmQgcmVmaW5lZFwiLCBjb2xvcjogXCJmcm9tLXZpb2xldC0xMDAgdG8taW5kaWdvLTEwMCBkYXJrOmZyb20tdmlvbGV0LTkwMCBkYXJrOnRvLWluZGlnby05MDBcIiB9LFxuICB7IGlkOiBcImNhc3VhbFwiLCBsYWJlbDogXCLwn5iKIENhc3VhbFwiLCBkZXNjcmlwdGlvbjogXCJSZWxheGVkIGFuZCBmcmllbmRseVwiLCBjb2xvcjogXCJmcm9tLWdyZWVuLTEwMCB0by10ZWFsLTEwMCBkYXJrOmZyb20tZ3JlZW4tOTAwIGRhcms6dG8tdGVhbC05MDBcIiB9LFxuICB7IGlkOiBcImluc3BpcmF0aW9uYWxcIiwgbGFiZWw6IFwi8J+MnyBJbnNwaXJhdGlvbmFsXCIsIGRlc2NyaXB0aW9uOiBcIk1vdGl2YXRpbmcgYW5kIHVwbGlmdGluZ1wiLCBjb2xvcjogXCJmcm9tLWFtYmVyLTEwMCB0by15ZWxsb3ctMTAwIGRhcms6ZnJvbS1hbWJlci05MDAgZGFyazp0by15ZWxsb3ctOTAwXCIgfSxcbiAgeyBpZDogXCJxdWlya3lcIiwgbGFiZWw6IFwi8J+kqiBRdWlya3lcIiwgZGVzY3JpcHRpb246IFwiVW5pcXVlIGFuZCB1bmNvbnZlbnRpb25hbFwiLCBjb2xvcjogXCJmcm9tLWxpbWUtMTAwIHRvLWVtZXJhbGQtMTAwIGRhcms6ZnJvbS1saW1lLTkwMCBkYXJrOnRvLWVtZXJhbGQtOTAwXCIgfSxcbiAgeyBpZDogXCJ0cmFkaXRpb25hbFwiLCBsYWJlbDogXCLwn46tIFRyYWRpdGlvbmFsXCIsIGRlc2NyaXB0aW9uOiBcIkNsYXNzaWMgYW5kIHRpbWVsZXNzXCIsIGNvbG9yOiBcImZyb20tc3RvbmUtMTAwIHRvLWFtYmVyLTEwMCBkYXJrOmZyb20tc3RvbmUtOTAwIGRhcms6dG8tYW1iZXItOTAwXCIgfSxcbl07XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFN0ZXAxQ2FyZEJhc2ljcyh7IFxuICBmb3JtRGF0YSwgXG4gIHVwZGF0ZUZvcm1EYXRhLCBcbiAgb25TdGVwQ29tcGxldGUsIFxuICBvblRlbXBsYXRlU2VsZWN0LFxuICBoYW5kbGVGaWxlVXBsb2FkOiBleHRlcm5hbEhhbmRsZUZpbGVVcGxvYWQsXG4gIGhhbmRsZVJlbW92ZVJlZmVyZW5jZUltYWdlOiBleHRlcm5hbEhhbmRsZVJlbW92ZVJlZmVyZW5jZUltYWdlLFxuICBpc1VwbG9hZGluZyA9IGZhbHNlLFxuICBwaG90b1JlZmVyZW5jZXMgPSBbXSxcbiAgdXBkYXRlUGhvdG9EZXNjcmlwdGlvbixcbiAgcmVmZXJlbmNlSW1hZ2VVcmxzRnJvbVN0dWRpbyA9IFtdLFxuICBjYXJkSGlzdG9yeSxcbiAgb25SZXN1bWVEcmFmdFxufTogU3RlcDFQcm9wcykge1xuICBjb25zdCBbc2hvd1RlbXBsYXRlR2FsbGVyeSwgc2V0U2hvd1RlbXBsYXRlR2FsbGVyeV0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IHsgcHJlbG9hZEFsbENhcmRzIH0gPSB1c2VDYXJkQ2FjaGUoKTtcbiAgXG4gIFxuICAvLyBQcmVsb2FkIHRlbXBsYXRlIGNhY2hlIHdoZW4gY29tcG9uZW50IG1vdW50c1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHByZWxvYWRBbGxDYXJkcygpO1xuICB9LCBbXSk7XG5cbiAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICAvLyBBdXRvLWNvbXBsZXRlIHN0ZXAgd2hlbiBhbGwgcmVxdWlyZWQgZmllbGRzIGFyZSBmaWxsZWRcbiAgICBjb25zdCBoYXNSZXF1aXJlZEZpZWxkcyA9IGZvcm1EYXRhLnNlbGVjdGVkVHlwZSAmJiBmb3JtRGF0YS5zZWxlY3RlZFRvbmUgJiYgXG4gICAgICAgIChmb3JtRGF0YS5zZWxlY3RlZFR5cGUgIT09IFwiY3VzdG9tXCIgfHwgZm9ybURhdGEuY3VzdG9tQ2FyZFR5cGUudHJpbSgpKTtcbiAgICBcbiAgICAvLyBDaGVjayBpZiBhbGwgdXBsb2FkZWQgcGhvdG9zIGhhdmUgZGVzY3JpcHRpb25zXG4gICAgY29uc3QgYWxsUGhvdG9zSGF2ZURlc2NyaXB0aW9ucyA9IFxuICAgICAgZm9ybURhdGEucmVmZXJlbmNlSW1hZ2VVcmxzLmxlbmd0aCA9PT0gMCB8fCAvLyBObyBwaG90b3MgdXBsb2FkZWRcbiAgICAgIChwaG90b1JlZmVyZW5jZXMgJiYgcGhvdG9SZWZlcmVuY2VzLmV2ZXJ5KHJlZiA9PiByZWYuZGVzY3JpcHRpb24gJiYgcmVmLmRlc2NyaXB0aW9uLnRyaW0oKSkpO1xuICAgIFxuICAgIGlmIChoYXNSZXF1aXJlZEZpZWxkcyAmJiBhbGxQaG90b3NIYXZlRGVzY3JpcHRpb25zKSB7XG4gICAgICBvblN0ZXBDb21wbGV0ZT8uKCk7XG4gICAgfVxuICB9LCBbZm9ybURhdGEuc2VsZWN0ZWRUeXBlLCBmb3JtRGF0YS5zZWxlY3RlZFRvbmUsIGZvcm1EYXRhLmN1c3RvbUNhcmRUeXBlLCBmb3JtRGF0YS5yZWZlcmVuY2VJbWFnZVVybHMsIHBob3RvUmVmZXJlbmNlcywgb25TdGVwQ29tcGxldGVdKTtcblxuICBjb25zdCBoYW5kbGVUZW1wbGF0ZVNlbGVjdCA9ICh0ZW1wbGF0ZTogR2VuZXJhdGVkQ2FyZCkgPT4ge1xuICAgIG9uVGVtcGxhdGVTZWxlY3Q/Lih0ZW1wbGF0ZSk7XG4gICAgc2V0U2hvd1RlbXBsYXRlR2FsbGVyeShmYWxzZSk7XG4gIH07XG5cbiAgLy8gQ29tcHJlc3MgaW1hZ2UgaWYgbmVlZGVkXG4gIGNvbnN0IGNvbXByZXNzSW1hZ2UgPSBhc3luYyAoZmlsZTogRmlsZSwgbWF4U2l6ZU1COiBudW1iZXIgPSAxMCk6IFByb21pc2U8RmlsZT4gPT4ge1xuICAgIGNvbnN0IG1heFNpemVCeXRlcyA9IG1heFNpemVNQiAqIDEwMjQgKiAxMDI0O1xuICAgIFxuICAgIC8vIElmIGZpbGUgaXMgYWxyZWFkeSBzbWFsbCBlbm91Z2gsIHJldHVybiBhcy1pc1xuICAgIGlmIChmaWxlLnNpemUgPD0gbWF4U2l6ZUJ5dGVzKSB7XG4gICAgICByZXR1cm4gZmlsZTtcbiAgICB9XG4gICAgXG4gICAgLy8gQ3JlYXRlIGEgY2FudmFzIHRvIHJlc2l6ZSB0aGUgaW1hZ2VcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgY29uc3QgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcbiAgICAgIHJlYWRlci5vbmxvYWQgPSAoZSkgPT4ge1xuICAgICAgICBjb25zdCBpbWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTtcbiAgICAgICAgaW1nLm9ubG9hZCA9ICgpID0+IHtcbiAgICAgICAgICBjb25zdCBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICAgICAgICBjb25zdCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBDYWxjdWxhdGUgbmV3IGRpbWVuc2lvbnMgKG1heCAyMDQ4cHggb24gbG9uZ2VzdCBzaWRlKVxuICAgICAgICAgIGxldCB7IHdpZHRoLCBoZWlnaHQgfSA9IGltZztcbiAgICAgICAgICBjb25zdCBtYXhEaW1lbnNpb24gPSAyMDQ4O1xuICAgICAgICAgIFxuICAgICAgICAgIGlmICh3aWR0aCA+IGhlaWdodCAmJiB3aWR0aCA+IG1heERpbWVuc2lvbikge1xuICAgICAgICAgICAgaGVpZ2h0ID0gKGhlaWdodCAvIHdpZHRoKSAqIG1heERpbWVuc2lvbjtcbiAgICAgICAgICAgIHdpZHRoID0gbWF4RGltZW5zaW9uO1xuICAgICAgICAgIH0gZWxzZSBpZiAoaGVpZ2h0ID4gbWF4RGltZW5zaW9uKSB7XG4gICAgICAgICAgICB3aWR0aCA9ICh3aWR0aCAvIGhlaWdodCkgKiBtYXhEaW1lbnNpb247XG4gICAgICAgICAgICBoZWlnaHQgPSBtYXhEaW1lbnNpb247XG4gICAgICAgICAgfVxuICAgICAgICAgIFxuICAgICAgICAgIGNhbnZhcy53aWR0aCA9IHdpZHRoO1xuICAgICAgICAgIGNhbnZhcy5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gRHJhdyBhbmQgY29tcHJlc3NcbiAgICAgICAgICBjdHg/LmRyYXdJbWFnZShpbWcsIDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIENvbnZlcnQgdG8gYmxvYiB3aXRoIGNvbXByZXNzaW9uXG4gICAgICAgICAgY2FudmFzLnRvQmxvYihcbiAgICAgICAgICAgIChibG9iKSA9PiB7XG4gICAgICAgICAgICAgIGlmIChibG9iKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY29tcHJlc3NlZEZpbGUgPSBuZXcgRmlsZShbYmxvYl0sIGZpbGUubmFtZSwge1xuICAgICAgICAgICAgICAgICAgdHlwZTogJ2ltYWdlL2pwZWcnLFxuICAgICAgICAgICAgICAgICAgbGFzdE1vZGlmaWVkOiBEYXRlLm5vdygpLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJlc29sdmUoY29tcHJlc3NlZEZpbGUpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlamVjdChuZXcgRXJyb3IoJ0ZhaWxlZCB0byBjb21wcmVzcyBpbWFnZScpKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICdpbWFnZS9qcGVnJyxcbiAgICAgICAgICAgIDAuODUgLy8gODUlIHF1YWxpdHlcbiAgICAgICAgICApO1xuICAgICAgICB9O1xuICAgICAgICBpbWcuc3JjID0gZS50YXJnZXQ/LnJlc3VsdCBhcyBzdHJpbmc7XG4gICAgICB9O1xuICAgICAgcmVhZGVyLm9uZXJyb3IgPSByZWplY3Q7XG4gICAgICByZWFkZXIucmVhZEFzRGF0YVVSTChmaWxlKTtcbiAgICB9KTtcbiAgfTtcblxuICAvLyBQaG90byB1cGxvYWQgaGFuZGxlcnMgKG1vdmVkIGZyb20gU3RlcDMpXG4gIGNvbnN0IGhhbmRsZUZpbGVVcGxvYWRMb2NhbCA9IGFzeW5jIChmaWxlOiBGaWxlKSA9PiB7XG4gICAgaWYgKCFleHRlcm5hbEhhbmRsZUZpbGVVcGxvYWQpIHtcbiAgICAgIHRvYXN0LmVycm9yKFwiRmlsZSB1cGxvYWQgbm90IGF2YWlsYWJsZVwiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgXG4gICAgLy8gVmFsaWRhdGUgZmlsZSB0eXBlXG4gICAgY29uc3QgdmFsaWRUeXBlcyA9IFsnaW1hZ2UvanBlZycsICdpbWFnZS9qcGcnLCAnaW1hZ2UvcG5nJywgJ2ltYWdlL2dpZicsICdpbWFnZS93ZWJwJ107XG4gICAgaWYgKCF2YWxpZFR5cGVzLmluY2x1ZGVzKGZpbGUudHlwZSkpIHtcbiAgICAgIHRvYXN0LmVycm9yKFwiUGxlYXNlIHVwbG9hZCBhIHZhbGlkIGltYWdlIGZpbGUgKEpQRywgUE5HLCBHSUYsIG9yIFdlYlApXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBcbiAgICB0cnkge1xuICAgICAgLy8gQXV0by1jb21wcmVzcyBpZiBuZWVkZWRcbiAgICAgIGNvbnN0IG1heFNpemUgPSAxMCAqIDEwMjQgKiAxMDI0OyAvLyAxME1CXG4gICAgICBsZXQgZmlsZVRvVXBsb2FkID0gZmlsZTtcbiAgICAgIFxuICAgICAgaWYgKGZpbGUuc2l6ZSA+IG1heFNpemUpIHtcbiAgICAgICAgdG9hc3QuaW5mbyhcIkNvbXByZXNzaW5nIGxhcmdlIGltYWdlLi4uXCIpO1xuICAgICAgICBmaWxlVG9VcGxvYWQgPSBhd2FpdCBjb21wcmVzc0ltYWdlKGZpbGUsIDEwKTtcbiAgICAgICAgdG9hc3Quc3VjY2VzcyhgSW1hZ2UgY29tcHJlc3NlZCBmcm9tICR7KGZpbGUuc2l6ZSAvIDEwMjQgLyAxMDI0KS50b0ZpeGVkKDEpfU1CIHRvICR7KGZpbGVUb1VwbG9hZC5zaXplIC8gMTAyNCAvIDEwMjQpLnRvRml4ZWQoMSl9TUJgKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgYXdhaXQgZXh0ZXJuYWxIYW5kbGVGaWxlVXBsb2FkKGZpbGVUb1VwbG9hZCwgJ3JlZmVyZW5jZScpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgdXBsb2FkaW5nIGZpbGU6XCIsIGVycm9yKTtcbiAgICAgIHRvYXN0LmVycm9yKFwiRmFpbGVkIHRvIHVwbG9hZCBmaWxlXCIpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBoYW5kbGVSZW1vdmVJbWFnZSA9IChpbmRleDogbnVtYmVyKSA9PiB7XG4gICAgaWYgKGV4dGVybmFsSGFuZGxlUmVtb3ZlUmVmZXJlbmNlSW1hZ2UpIHtcbiAgICAgIGV4dGVybmFsSGFuZGxlUmVtb3ZlUmVmZXJlbmNlSW1hZ2UoaW5kZXgpO1xuICAgIH1cbiAgfTtcblxuXG4gIC8vIEdldCB0aGUgbW9zdCByZWNlbnQgZHJhZnQgc2Vzc2lvbiBpZiBhdmFpbGFibGVcbiAgY29uc3QgbW9zdFJlY2VudERyYWZ0ID0gY2FyZEhpc3Rvcnk/LmRyYWZ0U2Vzc2lvbnM/LlswXTtcbiAgY29uc3QgaGFzUmVjZW50RHJhZnQgPSBtb3N0UmVjZW50RHJhZnQgJiYgbW9zdFJlY2VudERyYWZ0LmRyYWZ0Q2FyZHM/Lmxlbmd0aCA+IDA7XG4gIFxuICAvLyBDYWxjdWxhdGUgZHJhZnQgYWdlIGZvciBkaXNwbGF5XG4gIGNvbnN0IGdldERyYWZ0QWdlID0gKCkgPT4ge1xuICAgIGlmICghbW9zdFJlY2VudERyYWZ0Py5zYXZlZEF0KSByZXR1cm4gJyc7XG4gICAgXG4gICAgY29uc3QgYWdlTXMgPSBEYXRlLm5vdygpIC0gbmV3IERhdGUobW9zdFJlY2VudERyYWZ0LnNhdmVkQXQpLmdldFRpbWUoKTtcbiAgICBjb25zdCBtaW51dGVzID0gTWF0aC5mbG9vcihhZ2VNcyAvIDYwMDAwKTtcbiAgICBjb25zdCBob3VycyA9IE1hdGguZmxvb3IobWludXRlcyAvIDYwKTtcbiAgICBcbiAgICBpZiAoaG91cnMgPiAwKSB7XG4gICAgICByZXR1cm4gYCR7aG91cnN9IGhvdXIke2hvdXJzID09PSAxID8gJycgOiAncyd9IGFnb2A7XG4gICAgfSBlbHNlIGlmIChtaW51dGVzID4gMCkge1xuICAgICAgcmV0dXJuIGAke21pbnV0ZXN9IG1pbnV0ZSR7bWludXRlcyA9PT0gMSA/ICcnIDogJ3MnfSBhZ29gO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gJ2p1c3Qgbm93JztcbiAgICB9XG4gIH07XG4gIFxuICAvLyBEZWJ1ZyBsb2dnaW5nXG4gIGNvbnNvbGUubG9nKCdTdGVwMSBEZWJ1ZzonLCB7XG4gICAgY2FyZEhpc3RvcnlFeGlzdHM6ICEhY2FyZEhpc3RvcnksXG4gICAgaGFzRHJhZnRTZXNzaW9uczogY2FyZEhpc3Rvcnk/Lmhhc0RyYWZ0U2Vzc2lvbnMsXG4gICAgZHJhZnRTZXNzaW9uc0xlbmd0aDogY2FyZEhpc3Rvcnk/LmRyYWZ0U2Vzc2lvbnM/Lmxlbmd0aCB8fCAwLFxuICAgIG1vc3RSZWNlbnREcmFmdEV4aXN0czogISFtb3N0UmVjZW50RHJhZnQsXG4gICAgaGFzUmVjZW50RHJhZnQsXG4gICAgb25SZXN1bWVEcmFmdEV4aXN0czogISFvblJlc3VtZURyYWZ0XG4gIH0pO1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTQgc206c3BhY2UteS02IHctZnVsbFwiPlxuICAgICAgey8qIFJlc3VtZSBEcmFmdCBTZWN0aW9uICovfVxuICAgICAge2hhc1JlY2VudERyYWZ0ICYmIG9uUmVzdW1lRHJhZnQgJiYgKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLWdyYWRpZW50LXRvLXIgZnJvbS1wdXJwbGUtNTAgdG8tYmx1ZS01MCBkYXJrOmZyb20tcHVycGxlLTkwMC8yMCBkYXJrOnRvLWJsdWUtOTAwLzIwIHJvdW5kZWQteGwgcC00IHNtOnAtNiBib3JkZXIgYm9yZGVyLXB1cnBsZS0yMDAgZGFyazpib3JkZXItcHVycGxlLTgwMFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1zdGFydCBnYXAtNFwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4LXNocmluay0wXCI+XG4gICAgICAgICAgICAgIHttb3N0UmVjZW50RHJhZnQuZHJhZnRDYXJkc1swXT8uZnJvbnRDb3ZlciA/IChcbiAgICAgICAgICAgICAgICA8aW1nIFxuICAgICAgICAgICAgICAgICAgc3JjPXttb3N0UmVjZW50RHJhZnQuZHJhZnRDYXJkc1swXS5mcm9udENvdmVyfSBcbiAgICAgICAgICAgICAgICAgIGFsdD1cIlJlY2VudCBkcmFmdFwiXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LTIwIGgtMjAgc206dy0yNCBzbTpoLTI0IHJvdW5kZWQtbGcgb2JqZWN0LWNvdmVyIHNoYWRvdy1tZFwiXG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMjAgaC0yMCBzbTp3LTI0IHNtOmgtMjQgcm91bmRlZC1sZyBiZy1wdXJwbGUtMTAwIGRhcms6YmctcHVycGxlLTgwMCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgPFNwYXJrbGVzIGNsYXNzTmFtZT1cInctOCBoLTggdGV4dC1wdXJwbGUtNjAwIGRhcms6dGV4dC1wdXJwbGUtMzAwXCIgLz5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4LTEgbWluLXctMFwiPlxuICAgICAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwidGV4dC1sZyBmb250LXNlbWlib2xkIHRleHQtZ3JheS04MDAgZGFyazp0ZXh0LWdyYXktMjAwIG1iLTFcIj5cbiAgICAgICAgICAgICAgICBSZXN1bWUgWW91ciBSZWNlbnQgRHJhZnRcbiAgICAgICAgICAgICAgPC9oMz5cbiAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LWdyYXktNjAwIGRhcms6dGV4dC1ncmF5LTQwMCBtYi0zXCI+XG4gICAgICAgICAgICAgICAge21vc3RSZWNlbnREcmFmdC5mb3JtRGF0YT8uc2VsZWN0ZWRUeXBlIHx8ICdDdXN0b20nfSDigKIge21vc3RSZWNlbnREcmFmdC5mb3JtRGF0YT8uc2VsZWN0ZWRUb25lIHx8ICdDYXN1YWwnfSBDYXJkXG4gICAgICAgICAgICAgICAge2dldERyYWZ0QWdlKCkgJiYgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC14cyBtbC0yXCI+4oCiIFNhdmVkIHtnZXREcmFmdEFnZSgpfTwvc3Bhbj59XG4gICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtd3JhcCBnYXAtMlwiPlxuICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IG9uUmVzdW1lRHJhZnQobW9zdFJlY2VudERyYWZ0LmlkKX1cbiAgICAgICAgICAgICAgICAgIHNpemU9XCJzbVwiXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJiZy1wdXJwbGUtNjAwIGhvdmVyOmJnLXB1cnBsZS03MDAgdGV4dC13aGl0ZVwiXG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgPFBsYXkgY2xhc3NOYW1lPVwidy00IGgtNCBtci0xXCIgLz5cbiAgICAgICAgICAgICAgICAgIFJlc3VtZSBEcmFmdFxuICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgIHZhcmlhbnQ9XCJvdXRsaW5lXCJcbiAgICAgICAgICAgICAgICAgIHNpemU9XCJzbVwiXG4gICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIC8vIENsZWFyIHRoZSBkcmFmdCBhbmQgc3RhcnQgZnJlc2hcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNhcmRIaXN0b3J5Py5yZW1vdmVEcmFmdFNlc3Npb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICBjYXJkSGlzdG9yeS5yZW1vdmVEcmFmdFNlc3Npb24obW9zdFJlY2VudERyYWZ0LmlkKTtcbiAgICAgICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgndmliZS1jdXJyZW50LWRyYWZ0LXNlc3Npb24nKTtcbiAgICAgICAgICAgICAgICAgICAgICB0b2FzdC5zdWNjZXNzKFwiRHJhZnQgY2xlYXJlZC4gU3RhcnRpbmcgZnJlc2ghXCIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIFN0YXJ0IEZyZXNoXG4gICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKX1cblxuICAgICAgey8qIFRlbXBsYXRlIEdhbGxlcnkgT3B0aW9uIC0gVGVtcG9yYXJpbHkgSGlkZGVuICovfVxuICAgICAgey8qIFRPRE86IFJlLWVuYWJsZSB3aGVuIEFJLXBvd2VyZWQgdGVtcGxhdGUgZXh0cmFjdGlvbiBpcyBpbXBsZW1lbnRlZFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy1ncmFkaWVudC10by1yIGZyb20tcHVycGxlLTUwIHRvLXBpbmstNTAgZGFyazpmcm9tLXB1cnBsZS05MDAvMjAgZGFyazp0by1waW5rLTkwMC8yMCByb3VuZGVkLXhsIHAtNCBzbTpwLTYgYm9yZGVyIGJvcmRlci1wdXJwbGUtMjAwIGRhcms6Ym9yZGVyLXB1cnBsZS04MDBcIj5cbiAgICAgICAgLi4uIHRlbXBsYXRlIGNvbnRlbnQgLi4uXG4gICAgICA8L2Rpdj5cbiAgICAgICovfVxuXG4gICAgICB7LyogQ2FyZCBUeXBlIFNlbGVjdGlvbiAqL31cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0zIHNtOnNwYWNlLXktNCB3LWZ1bGxcIj5cbiAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cInRleHQtYmFzZSBmb250LXNlbWlib2xkIHRleHQtZ3JheS04MDAgZGFyazp0ZXh0LWdyYXktMjAwIHB4LTFcIj5cbiAgICAgICAgICBDYXJkIFR5cGVcbiAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgPFNlbGVjdCBcbiAgICAgICAgICB2YWx1ZT17Zm9ybURhdGEuc2VsZWN0ZWRUeXBlfSBcbiAgICAgICAgICBvblZhbHVlQ2hhbmdlPXsodmFsdWUpID0+IHVwZGF0ZUZvcm1EYXRhKHsgc2VsZWN0ZWRUeXBlOiB2YWx1ZSB9KX1cbiAgICAgICAgPlxuICAgICAgICAgIDxTZWxlY3RUcmlnZ2VyIGNsYXNzTmFtZT1cInctZnVsbCBoLTEyIHNtOmgtMTQgYm9yZGVyLTIgaG92ZXI6Ym9yZGVyLWJsdWUtMzAwIGRhcms6aG92ZXI6Ym9yZGVyLWJsdWUtNzAwIHRyYW5zaXRpb24tY29sb3JzIHRvdWNoLW1hbmlwdWxhdGlvbiB0ZXh0LWJhc2UgWyY+c3Bhbl06IWxpbmUtY2xhbXAtbm9uZVwiPlxuICAgICAgICAgICAgPFNlbGVjdFZhbHVlPlxuICAgICAgICAgICAgICB7KCgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBzZWxlY3RlZCA9IGNhcmRUeXBlcy5maW5kKCh0eXBlKSA9PiB0eXBlLmlkID09PSBmb3JtRGF0YS5zZWxlY3RlZFR5cGUpO1xuICAgICAgICAgICAgICAgIGlmICghc2VsZWN0ZWQpIHJldHVybiA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNDAwXCI+Q2hvb3NlIGNhcmQgdHlwZSDinKg8L3NwYW4+O1xuICAgICAgICAgICAgICAgIGNvbnN0IEljb25Db21wb25lbnQgPSBzZWxlY3RlZC5pY29uO1xuICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yIHNtOmdhcC0zXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgdy02IGgtNiBzbTp3LTggc206aC04IGJnLWdyYWRpZW50LXRvLWJyICR7c2VsZWN0ZWQuY29sb3J9IHJvdW5kZWQtbGcgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgc2hhZG93LXNtIGZsZXgtc2hyaW5rLTBgfT5cbiAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXNtIHNtOnRleHQtbGdcIj57c2VsZWN0ZWQuZW1vaml9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZm9udC1tZWRpdW0gdGV4dC1ncmF5LTkwMCBkYXJrOnRleHQtZ3JheS0xMDAgdGV4dC1zbSBzbTp0ZXh0LWJhc2VcIj57c2VsZWN0ZWQubGFiZWx9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgfSkoKX1cbiAgICAgICAgICAgIDwvU2VsZWN0VmFsdWU+XG4gICAgICAgICAgPC9TZWxlY3RUcmlnZ2VyPlxuICAgICAgICAgIDxTZWxlY3RDb250ZW50IGNsYXNzTmFtZT1cIm1heC1oLVs0MDBweF0gdy1mdWxsXCIgcG9zaXRpb249XCJwb3BwZXJcIiBzaWRlT2Zmc2V0PXs1fT5cbiAgICAgICAgICAgIHtjYXJkVHlwZXMubWFwKCh0eXBlKSA9PiB7XG4gICAgICAgICAgICAgIGNvbnN0IEljb25Db21wb25lbnQgPSB0eXBlLmljb247XG4gICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgPFNlbGVjdEl0ZW0ga2V5PXt0eXBlLmlkfSB2YWx1ZT17dHlwZS5pZH0gY2xhc3NOYW1lPVwiY3Vyc29yLXBvaW50ZXIgaG92ZXI6YmctYmx1ZS01MCBkYXJrOmhvdmVyOmJnLWJsdWUtOTAwLzIwXCI+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0zIHB5LTFcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2B3LTEwIGgtMTAgYmctZ3JhZGllbnQtdG8tYnIgJHt0eXBlLmNvbG9yfSByb3VuZGVkLWxnIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHNoYWRvdy1zbWB9PlxuICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQteGxcIj57dHlwZS5lbW9qaX08L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgtMVwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZCB0ZXh0LWdyYXktOTAwIGRhcms6dGV4dC1ncmF5LTEwMFwiPnt0eXBlLmxhYmVsfTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LWdyYXktNjAwIGRhcms6dGV4dC1ncmF5LTQwMFwiPnt0eXBlLmRlc2NyaXB0aW9ufTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvU2VsZWN0SXRlbT5cbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0pfVxuICAgICAgICAgIDwvU2VsZWN0Q29udGVudD5cbiAgICAgICAgPC9TZWxlY3Q+XG4gICAgICAgIFxuICAgICAgICB7LyogQ3VzdG9tIENhcmQgVHlwZSBJbnB1dCAqL31cbiAgICAgICAge2Zvcm1EYXRhLnNlbGVjdGVkVHlwZSA9PT0gXCJjdXN0b21cIiAmJiAoXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC00IHAtNCBiZy1wdXJwbGUtNTAgZGFyazpiZy1wdXJwbGUtOTAwLzIwIHJvdW5kZWQtbGcgYm9yZGVyIGJvcmRlci1wdXJwbGUtMjAwIGRhcms6Ym9yZGVyLXB1cnBsZS04MDAgYW5pbWF0ZS1pbiBzbGlkZS1pbi1mcm9tLXRvcC0yIGR1cmF0aW9uLTMwMFwiPlxuICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cInRleHQtc20gZm9udC1zZW1pYm9sZCB0ZXh0LXB1cnBsZS05MDAgZGFyazp0ZXh0LXB1cnBsZS0xMDAgbWItMyBibG9jayBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxuICAgICAgICAgICAgICA8V3JlbmNoIGNsYXNzTmFtZT1cInctNCBoLTRcIiAvPlxuICAgICAgICAgICAgICBEZXNjcmliZSBZb3VyIEN1c3RvbSBDYXJkIFR5cGVcbiAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCLinKggRS5nLiwgJ1Byb21vdGlvbiBhdCB3b3JrJywgJ01vdmluZyBhd2F5JywgJ0ZpcnN0IGRheSBvZiBzY2hvb2wnXCJcbiAgICAgICAgICAgICAgdmFsdWU9e2Zvcm1EYXRhLmN1c3RvbUNhcmRUeXBlfVxuICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHVwZGF0ZUZvcm1EYXRhKHsgY3VzdG9tQ2FyZFR5cGU6IGUudGFyZ2V0LnZhbHVlIH0pfVxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJoLTEyIGJvcmRlci0yIGJvcmRlci1wdXJwbGUtMzAwIGRhcms6Ym9yZGVyLXB1cnBsZS03MDAgZm9jdXM6Ym9yZGVyLXB1cnBsZS01MDAgZGFyazpmb2N1czpib3JkZXItcHVycGxlLTUwMCB0b3VjaC1tYW5pcHVsYXRpb25cIlxuICAgICAgICAgICAgICBzdHlsZT17eyBmb250U2l6ZTogJzE2cHgnIH19XG4gICAgICAgICAgICAvPlxuICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LXB1cnBsZS03MDAgZGFyazp0ZXh0LXB1cnBsZS0zMDAgbXQtMlwiPlxuICAgICAgICAgICAgICBXaGF0IHR5cGUgb2YgY2FyZCBpcyB0aGlzPyBUaGlzIGhlbHBzIHBlcnNvbmFsaXplIHRoZSBtZXNzYWdlIGFuZCBzdHlsZS5cbiAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKX1cbiAgICAgIDwvZGl2PlxuXG4gICAgICB7LyogQ2FyZCBUb25lICovfVxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTMgc206c3BhY2UteS00IHctZnVsbFwiPlxuICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwidGV4dC1iYXNlIGZvbnQtc2VtaWJvbGQgdGV4dC1ncmF5LTgwMCBkYXJrOnRleHQtZ3JheS0yMDAgcHgtMVwiPlxuICAgICAgICAgIENhcmQgVG9uZSAmIFN0eWxlXG4gICAgICAgIDwvbGFiZWw+XG4gICAgICAgIDxTZWxlY3QgXG4gICAgICAgICAgdmFsdWU9e2Zvcm1EYXRhLnNlbGVjdGVkVG9uZX0gXG4gICAgICAgICAgb25WYWx1ZUNoYW5nZT17KHZhbHVlKSA9PiB1cGRhdGVGb3JtRGF0YSh7IHNlbGVjdGVkVG9uZTogdmFsdWUgfSl9XG4gICAgICAgID5cbiAgICAgICAgICA8U2VsZWN0VHJpZ2dlciBjbGFzc05hbWU9XCJ3LWZ1bGwgaC0xMiBzbTpoLTE0IGJvcmRlci0yIGhvdmVyOmJvcmRlci1wdXJwbGUtMzAwIGRhcms6aG92ZXI6Ym9yZGVyLXB1cnBsZS03MDAgdHJhbnNpdGlvbi1jb2xvcnMgdG91Y2gtbWFuaXB1bGF0aW9uIHRleHQtYmFzZSBbJj5zcGFuXTohbGluZS1jbGFtcC1ub25lXCI+XG4gICAgICAgICAgICA8U2VsZWN0VmFsdWU+XG4gICAgICAgICAgICAgIHsoKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNlbGVjdGVkID0gY2FyZFRvbmVzLmZpbmQoKHRvbmUpID0+IHRvbmUuaWQgPT09IGZvcm1EYXRhLnNlbGVjdGVkVG9uZSk7XG4gICAgICAgICAgICAgICAgaWYgKCFzZWxlY3RlZCkgcmV0dXJuIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtZ3JheS00MDBcIj5DaG9vc2UgY2FyZCB0b25lPC9zcGFuPjtcbiAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiBzbTpnYXAtM1wiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YHctNiBoLTYgc206dy04IHNtOmgtOCBiZy1ncmFkaWVudC10by1iciAke3NlbGVjdGVkLmNvbG9yfSByb3VuZGVkLWxnIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHNoYWRvdy1zbSBmbGV4LXNocmluay0wYH0+XG4gICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1zbSBzbTp0ZXh0LWJhc2VcIj57c2VsZWN0ZWQubGFiZWwuc3BsaXQoJyAnKVswXX08L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJmb250LW1lZGl1bSB0ZXh0LXNtIHNtOnRleHQtYmFzZVwiPntzZWxlY3RlZC5sYWJlbC5zcGxpdCgnICcpLnNsaWNlKDEpLmpvaW4oJyAnKX08L3NwYW4+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICB9KSgpfVxuICAgICAgICAgICAgPC9TZWxlY3RWYWx1ZT5cbiAgICAgICAgICA8L1NlbGVjdFRyaWdnZXI+XG4gICAgICAgICAgPFNlbGVjdENvbnRlbnQgY2xhc3NOYW1lPVwibWF4LWgtWzQwMHB4XSB3LWZ1bGxcIiBwb3NpdGlvbj1cInBvcHBlclwiIHNpZGVPZmZzZXQ9ezV9PlxuICAgICAgICAgICAge2NhcmRUb25lcy5tYXAoKHRvbmUpID0+IChcbiAgICAgICAgICAgICAgPFNlbGVjdEl0ZW0ga2V5PXt0b25lLmlkfSB2YWx1ZT17dG9uZS5pZH0gY2xhc3NOYW1lPVwiY3Vyc29yLXBvaW50ZXIgaG92ZXI6YmctcHVycGxlLTUwIGRhcms6aG92ZXI6YmctcHVycGxlLTkwMC8yMFwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTMgcHktMVwiPlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2B3LTEwIGgtMTAgYmctZ3JhZGllbnQtdG8tYnIgJHt0b25lLmNvbG9yfSByb3VuZGVkLWxnIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHNoYWRvdy1zbWB9PlxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXhsXCI+e3RvbmUubGFiZWwuc3BsaXQoJyAnKVswXX08L3NwYW4+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC0xXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZCB0ZXh0LWdyYXktOTAwIGRhcms6dGV4dC1ncmF5LTEwMFwiPnt0b25lLmxhYmVsLnNwbGl0KCcgJykuc2xpY2UoMSkuam9pbignICcpfTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1ncmF5LTYwMCBkYXJrOnRleHQtZ3JheS00MDBcIj57dG9uZS5kZXNjcmlwdGlvbn08L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L1NlbGVjdEl0ZW0+XG4gICAgICAgICAgICApKX1cbiAgICAgICAgICA8L1NlbGVjdENvbnRlbnQ+XG4gICAgICAgIDwvU2VsZWN0PlxuICAgICAgPC9kaXY+XG5cbiAgICAgIHsvKiBUby9Gcm9tIEZpZWxkcyAqL31cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0zIHNtOnNwYWNlLXktNCB3LWZ1bGxcIj5cbiAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cInRleHQtYmFzZSBmb250LXNlbWlib2xkIHRleHQtZ3JheS04MDAgZGFyazp0ZXh0LWdyYXktMjAwIHB4LTFcIj5cbiAgICAgICAgICBQZXJzb25hbGl6YXRpb24gKE9wdGlvbmFsKVxuICAgICAgICA8L2xhYmVsPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgZ3JpZC1jb2xzLTEgc206Z3JpZC1jb2xzLTIgZ2FwLTRcIj5cbiAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cInRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1ncmF5LTcwMCBkYXJrOnRleHQtZ3JheS0zMDAgbWItMiBibG9ja1wiPlxuICAgICAgICAgICAgICBUbyAoT3B0aW9uYWwpXG4gICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwi8J+OryBUb1wiXG4gICAgICAgICAgICAgIHZhbHVlPXtmb3JtRGF0YS50b0ZpZWxkfVxuICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHVwZGF0ZUZvcm1EYXRhKHsgdG9GaWVsZDogZS50YXJnZXQudmFsdWUgfSl9XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImgtMTIgc206aC0xNCB0b3VjaC1tYW5pcHVsYXRpb24gYm9yZGVyLTIgaG92ZXI6Ym9yZGVyLWdyZWVuLTMwMCBkYXJrOmhvdmVyOmJvcmRlci1ncmVlbi03MDAgdHJhbnNpdGlvbi1jb2xvcnMgdGV4dC1iYXNlXCJcbiAgICAgICAgICAgICAgc3R5bGU9e3sgZm9udFNpemU6ICcxNnB4JyB9fVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cInRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1ncmF5LTcwMCBkYXJrOnRleHQtZ3JheS0zMDAgbWItMiBibG9ja1wiPlxuICAgICAgICAgICAgICBGcm9tIChPcHRpb25hbClcbiAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCLwn5OdIEZyb21cIlxuICAgICAgICAgICAgICB2YWx1ZT17Zm9ybURhdGEuZnJvbUZpZWxkfVxuICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHVwZGF0ZUZvcm1EYXRhKHsgZnJvbUZpZWxkOiBlLnRhcmdldC52YWx1ZSB9KX1cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiaC0xMiBzbTpoLTE0IHRvdWNoLW1hbmlwdWxhdGlvbiBib3JkZXItMiBob3Zlcjpib3JkZXItZ3JlZW4tMzAwIGRhcms6aG92ZXI6Ym9yZGVyLWdyZWVuLTcwMCB0cmFuc2l0aW9uLWNvbG9ycyB0ZXh0LWJhc2VcIlxuICAgICAgICAgICAgICBzdHlsZT17eyBmb250U2l6ZTogJzE2cHgnIH19XG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwidGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWdyYXktNzAwIGRhcms6dGV4dC1ncmF5LTMwMCBtYi0yIGJsb2NrXCI+XG4gICAgICAgICAgICAgIHtmb3JtRGF0YS50b0ZpZWxkID8gYCR7Zm9ybURhdGEudG9GaWVsZH0gaXMgeW91ci4uLmAgOiAnUmVsYXRpb25zaGlwIChPcHRpb25hbCknfVxuICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17Zm9ybURhdGEudG9GaWVsZCA/IFwiZnJpZW5kLCBwYXJlbnQsIHNpZ25pZmljYW50IG90aGVyLCBjb3dvcmtlclwiIDogXCLwn5KdIGUuZy4sIGZyaWVuZCwgcGFyZW50LCBzaWduaWZpY2FudCBvdGhlclwifVxuICAgICAgICAgICAgICB2YWx1ZT17Zm9ybURhdGEucmVsYXRpb25zaGlwRmllbGR9XG4gICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gdXBkYXRlRm9ybURhdGEoeyByZWxhdGlvbnNoaXBGaWVsZDogZS50YXJnZXQudmFsdWUgfSl9XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImgtMTIgc206aC0xNCB0b3VjaC1tYW5pcHVsYXRpb24gYm9yZGVyLTIgaG92ZXI6Ym9yZGVyLWdyZWVuLTMwMCBkYXJrOmhvdmVyOmJvcmRlci1ncmVlbi03MDAgdHJhbnNpdGlvbi1jb2xvcnMgdGV4dC1iYXNlXCJcbiAgICAgICAgICAgICAgc3R5bGU9e3sgZm9udFNpemU6ICcxNnB4JyB9fVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cblxuICAgICAgey8qIFJlZmVyZW5jZSBQaG90b3MgKG1vdmVkIGZyb20gU3RlcCAzKSAqL31cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0zIHNtOnNwYWNlLXktNCB3LWZ1bGxcIj5cbiAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cInRleHQtYmFzZSBmb250LXNlbWlib2xkIHRleHQtZ3JheS04MDAgZGFyazp0ZXh0LWdyYXktMjAwIHB4LTFcIj5cbiAgICAgICAgICBSZWZlcmVuY2UgUGhvdG9zIChPcHRpb25hbClcbiAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctZ3JhZGllbnQtdG8tciBmcm9tLWluZGlnby01MCB0by1wdXJwbGUtNTAgZGFyazpmcm9tLWluZGlnby05MDAvMjAgZGFyazp0by1wdXJwbGUtOTAwLzIwIHJvdW5kZWQteGwgcC0zIHNtOnAtNiBib3JkZXIgYm9yZGVyLWluZGlnby0yMDAgZGFyazpib3JkZXItaW5kaWdvLTgwMFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1zdGFydCBnYXAtM1wiPlxuICAgICAgICAgICAgPFdhbmQyIGNsYXNzTmFtZT1cInctNiBoLTYgdGV4dC1pbmRpZ28tNjAwIGRhcms6dGV4dC1pbmRpZ28tNDAwIG10LTAuNSBmbGV4LXNocmluay0wXCIgLz5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC0xXCI+XG4gICAgICAgICAgICAgIDxoNCBjbGFzc05hbWU9XCJmb250LW1lZGl1bSB0ZXh0LWluZGlnby05MDAgZGFyazp0ZXh0LWluZGlnby0xMDAgbWItMSB0ZXh0LXNtIHNtOnRleHQtYmFzZVwiPlxuICAgICAgICAgICAgICAgIFVwbG9hZCBwaG90b3MgdG8gY3JlYXRlIGNhcnRvb24gY2hhcmFjdGVycyFcbiAgICAgICAgICAgICAgPC9oND5cbiAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC14cyBzbTp0ZXh0LXNtIHRleHQtaW5kaWdvLTcwMCBkYXJrOnRleHQtaW5kaWdvLTMwMCBtYi0zXCI+XG4gICAgICAgICAgICAgICAgQWRkIHBob3RvcyBvZiBwZW9wbGUgdG8gaW5jbHVkZSB0aGVtIGFzIHBlcnNvbmFsaXplZCBjYXJ0b29uIGNoYXJhY3RlcnMgaW4geW91ciBjYXJkXG4gICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIHsvKiBVcGxvYWQgQXJlYSAqL31cbiAgICAgICAgICAgICAgeyhyZWZlcmVuY2VJbWFnZVVybHNGcm9tU3R1ZGlvLmxlbmd0aCA9PT0gMCAmJiBmb3JtRGF0YS5yZWZlcmVuY2VJbWFnZVVybHMubGVuZ3RoID09PSAwKSA/IChcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJvcmRlci0yIGJvcmRlci1kYXNoZWQgYm9yZGVyLWluZGlnby0zMDAgZGFyazpib3JkZXItaW5kaWdvLTYwMCByb3VuZGVkLWxnIHAtNiB0ZXh0LWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICAgIHR5cGU9XCJmaWxlXCJcbiAgICAgICAgICAgICAgICAgICAgYWNjZXB0PVwiaW1hZ2UvKlwiXG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gZS50YXJnZXQuZmlsZXM/LlswXSAmJiBoYW5kbGVGaWxlVXBsb2FkTG9jYWwoZS50YXJnZXQuZmlsZXNbMF0pfVxuICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17aXNVcGxvYWRpbmd9XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImhpZGRlblwiXG4gICAgICAgICAgICAgICAgICAgIGlkPVwicmVmZXJlbmNlLXVwbG9hZFwiXG4gICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgPGxhYmVsIGh0bWxGb3I9XCJyZWZlcmVuY2UtdXBsb2FkXCIgY2xhc3NOYW1lPXtgY3Vyc29yLXBvaW50ZXIgJHtpc1VwbG9hZGluZyA/ICdvcGFjaXR5LTUwIGN1cnNvci1ub3QtYWxsb3dlZCcgOiAnJ31gfT5cbiAgICAgICAgICAgICAgICAgICAgPFVwbG9hZCBjbGFzc05hbWU9e2B3LTggaC04IG14LWF1dG8gbWItMiB0ZXh0LWluZGlnby00MDAgJHtpc1VwbG9hZGluZyA/ICdhbmltYXRlLXB1bHNlJyA6ICcnfWB9IC8+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1iYXNlIGZvbnQtbWVkaXVtIHRleHQtaW5kaWdvLTYwMCBkYXJrOnRleHQtaW5kaWdvLTQwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgIHtpc1VwbG9hZGluZyA/IFwiVXBsb2FkaW5nLi4uXCIgOiBcIlRhcCB0byB1cGxvYWQgcGhvdG9cIn1cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LWluZGlnby01MDAgZGFyazp0ZXh0LWluZGlnby0zMDAgbXQtMVwiPlxuICAgICAgICAgICAgICAgICAgICAgIEpQRywgUE5HIHVwIHRvIDEwTUJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0zXCI+XG4gICAgICAgICAgICAgICAgICB7LyogRGlzcGxheSB1cGxvYWRlZCBpbWFnZXMgd2l0aCBkZXNjcmlwdGlvbiBpbnB1dHMgKi99XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktNFwiPlxuICAgICAgICAgICAgICAgICAgICB7KHJlZmVyZW5jZUltYWdlVXJsc0Zyb21TdHVkaW8ubGVuZ3RoID4gMCA/IHJlZmVyZW5jZUltYWdlVXJsc0Zyb21TdHVkaW8gOiBmb3JtRGF0YS5yZWZlcmVuY2VJbWFnZVVybHMpLm1hcCgodXJsLCBpbmRleCkgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYga2V5PXtpbmRleH0gY2xhc3NOYW1lPVwiYmctd2hpdGUgZGFyazpiZy1ncmF5LTgwMCByb3VuZGVkLWxnIHAtMiBzbTpwLTQgYm9yZGVyIGJvcmRlci1pbmRpZ28tMjAwIGRhcms6Ym9yZGVyLWluZGlnby03MDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBnYXAtMiBzbTpnYXAtM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJlbGF0aXZlIGZsZXgtc2hyaW5rLTBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW1nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcmM9e3VybH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsdD17YFJlZmVyZW5jZSAke2luZGV4ICsgMX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy0yMCBoLTIwIHNtOnctMjQgc206aC0yNCBvYmplY3QtY292ZXIgcm91bmRlZC1sZyBib3JkZXItMiBib3JkZXItaW5kaWdvLTIwMCBkYXJrOmJvcmRlci1pbmRpZ28tNzAwXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhcmlhbnQ9XCJkZXN0cnVjdGl2ZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplPVwic21cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gaGFuZGxlUmVtb3ZlSW1hZ2UoaW5kZXgpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYWJzb2x1dGUgLXRvcC0yIC1yaWdodC0yIGgtNiB3LTYgcC0wIHJvdW5kZWQtZnVsbFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFggY2xhc3NOYW1lPVwidy0zIGgtM1wiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgtMSBtaW4tdy0wXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cInRleHQteHMgc206dGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWdyYXktNzAwIGRhcms6dGV4dC1ncmF5LTMwMCBtYi0xIGJsb2NrXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBXaG8ncyBpbiB0aGlzIHBob3RvPyA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXJlZC01MDBcIj4qPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17Zm9ybURhdGEudG9GaWVsZCAmJiBmb3JtRGF0YS5mcm9tRmllbGQgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gYGUuZy4sICR7Zm9ybURhdGEudG9GaWVsZH0gb24gdGhlIGxlZnQsICR7Zm9ybURhdGEuZnJvbUZpZWxkfSBvbiB0aGUgcmlnaHRgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogXCJlLmcuLCBteSBkYXVnaHRlciBTYXJhaCBhbmQgc29uIE1pa2VcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXtwaG90b1JlZmVyZW5jZXNbaW5kZXhdPy5kZXNjcmlwdGlvbiB8fCAnJ31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gdXBkYXRlUGhvdG9EZXNjcmlwdGlvbj8uKGluZGV4LCBlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2B3LWZ1bGwgdGV4dC1zbSAkeyFwaG90b1JlZmVyZW5jZXNbaW5kZXhdPy5kZXNjcmlwdGlvbiA/ICdib3JkZXItcmVkLTMwMCcgOiAnJ31gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgZm9udFNpemU6ICcxNnB4JyB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHshcGhvdG9SZWZlcmVuY2VzW2luZGV4XT8uZGVzY3JpcHRpb24gJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LXJlZC01MDAgZGFyazp0ZXh0LXJlZC00MDAgbXQtMVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQbGVhc2UgZGVzY3JpYmUgd2hvJ3MgaW4gdGhpcyBwaG90b1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge3Bob3RvUmVmZXJlbmNlc1tpbmRleF0/LmRlc2NyaXB0aW9uICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1ncmF5LTUwMCBkYXJrOnRleHQtZ3JheS00MDAgbXQtMVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZXNjcmliZSB3aG8gc2hvdWxkIGFwcGVhciBhcyBjYXJ0b29uIGNoYXJhY3RlcnNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICB7LyogQWRkIG1vcmUgcGhvdG9zIGJ1dHRvbiAqL31cbiAgICAgICAgICAgICAgICAgIHtmb3JtRGF0YS5yZWZlcmVuY2VJbWFnZVVybHMubGVuZ3RoIDwgNCAmJiAoXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtMlwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cImZpbGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgYWNjZXB0PVwiaW1hZ2UvKlwiXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IGUudGFyZ2V0LmZpbGVzPy5bMF0gJiYgaGFuZGxlRmlsZVVwbG9hZExvY2FsKGUudGFyZ2V0LmZpbGVzWzBdKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtpc1VwbG9hZGluZ31cbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImhpZGRlblwiXG4gICAgICAgICAgICAgICAgICAgICAgICBpZD1cInJlZmVyZW5jZS11cGxvYWQtbW9yZVwiXG4gICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgaHRtbEZvcj1cInJlZmVyZW5jZS11cGxvYWQtbW9yZVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiB2YXJpYW50PVwib3V0bGluZVwiIHNpemU9XCJzbVwiIGRpc2FibGVkPXtpc1VwbG9hZGluZ30gYXNDaGlsZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiY3Vyc29yLXBvaW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VXBsb2FkIGNsYXNzTmFtZT1cInctNCBoLTQgbXItMlwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQWRkIGFub3RoZXIgcGhvdG9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cblxuICAgICAgey8qIFF1aWNrIFRpcHMgLSBNb2JpbGUgT3B0aW1pemVkICovfVxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy1ibHVlLTUwIGRhcms6YmctYmx1ZS05MDAvMjAgcm91bmRlZC1sZyBwLTIgc206cC0zIGJvcmRlciBib3JkZXItYmx1ZS0yMDAgZGFyazpib3JkZXItYmx1ZS04MDBcIj5cbiAgICAgICAgPGg0IGNsYXNzTmFtZT1cImZvbnQtbWVkaXVtIHRleHQtYmx1ZS05MDAgZGFyazp0ZXh0LWJsdWUtMTAwIG1iLTEgdGV4dC1zbVwiPvCfkqEgVGlwczwvaDQ+XG4gICAgICAgIDx1bCBjbGFzc05hbWU9XCJ0ZXh0LXhzIHNtOnRleHQtc20gdGV4dC1ibHVlLTgwMCBkYXJrOnRleHQtYmx1ZS0yMDAgc3BhY2UteS0wLjVcIj5cbiAgICAgICAgICA8bGk+4oCiIFBpY2sgeW91ciBjYXJkIHR5cGUgYW5kIHRvbmU8L2xpPlxuICAgICAgICAgIDxsaT7igKIgVG8vRnJvbSBmaWVsZHMgaGVscCBwZXJzb25hbGl6ZTwvbGk+XG4gICAgICAgICAgPGxpPuKAoiBBbGwgZmllbGRzIGFyZSBvcHRpb25hbDwvbGk+XG4gICAgICAgIDwvdWw+XG4gICAgICA8L2Rpdj5cblxuICAgICAgey8qIFRlbXBsYXRlIEdhbGxlcnkgTW9kYWwgLSBUZW1wb3JhcmlseSBIaWRkZW4gKi99XG4gICAgICB7LyogVE9ETzogUmUtZW5hYmxlIHdoZW4gQUktcG93ZXJlZCB0ZW1wbGF0ZSBleHRyYWN0aW9uIGlzIGltcGxlbWVudGVkXG4gICAgICA8VGVtcGxhdGVHYWxsZXJ5XG4gICAgICAgIGZvcm1EYXRhPXtmb3JtRGF0YX1cbiAgICAgICAgdXBkYXRlRm9ybURhdGE9e3VwZGF0ZUZvcm1EYXRhfVxuICAgICAgICBvblRlbXBsYXRlU2VsZWN0PXtoYW5kbGVUZW1wbGF0ZVNlbGVjdH1cbiAgICAgICAgaXNPcGVuPXtzaG93VGVtcGxhdGVHYWxsZXJ5fVxuICAgICAgICBvbkNsb3NlPXsoKSA9PiBzZXRTaG93VGVtcGxhdGVHYWxsZXJ5KGZhbHNlKX1cbiAgICAgIC8+XG4gICAgICAqL31cblxuICAgIDwvZGl2PlxuICApO1xufSAiXSwibmFtZXMiOlsiUmVhY3QiLCJ1c2VTdGF0ZSIsInVzZUVmZmVjdCIsIklucHV0IiwiU2VsZWN0IiwiU2VsZWN0Q29udGVudCIsIlNlbGVjdEl0ZW0iLCJTZWxlY3RUcmlnZ2VyIiwiU2VsZWN0VmFsdWUiLCJCdXR0b24iLCJXcmVuY2giLCJDYWtlIiwiVGh1bWJzVXAiLCJIZWFydCIsIlRyb3BoeSIsIlRyZWVQaW5lIiwiU3RldGhvc2NvcGUiLCJDbG91ZFJhaW4iLCJHcmFkdWF0aW9uQ2FwIiwiQmFieSIsIkNodXJjaCIsIkdpZnQiLCJIb21lIiwiTWVzc2FnZUNpcmNsZSIsIkV5ZSIsIlNwYXJrbGVzIiwiVXBsb2FkIiwiWCIsIldhbmQyIiwiUGxheSIsInVzZUNhcmRDYWNoZSIsInRvYXN0IiwiY2FyZFR5cGVzIiwiaWQiLCJsYWJlbCIsImRlc2NyaXB0aW9uIiwiaWNvbiIsImVtb2ppIiwiY29sb3IiLCJjYXJkVG9uZXMiLCJTdGVwMUNhcmRCYXNpY3MiLCJmb3JtRGF0YSIsInVwZGF0ZUZvcm1EYXRhIiwib25TdGVwQ29tcGxldGUiLCJvblRlbXBsYXRlU2VsZWN0IiwiaGFuZGxlRmlsZVVwbG9hZCIsImV4dGVybmFsSGFuZGxlRmlsZVVwbG9hZCIsImhhbmRsZVJlbW92ZVJlZmVyZW5jZUltYWdlIiwiZXh0ZXJuYWxIYW5kbGVSZW1vdmVSZWZlcmVuY2VJbWFnZSIsImlzVXBsb2FkaW5nIiwicGhvdG9SZWZlcmVuY2VzIiwidXBkYXRlUGhvdG9EZXNjcmlwdGlvbiIsInJlZmVyZW5jZUltYWdlVXJsc0Zyb21TdHVkaW8iLCJjYXJkSGlzdG9yeSIsIm9uUmVzdW1lRHJhZnQiLCJzaG93VGVtcGxhdGVHYWxsZXJ5Iiwic2V0U2hvd1RlbXBsYXRlR2FsbGVyeSIsInByZWxvYWRBbGxDYXJkcyIsImhhc1JlcXVpcmVkRmllbGRzIiwic2VsZWN0ZWRUeXBlIiwic2VsZWN0ZWRUb25lIiwiY3VzdG9tQ2FyZFR5cGUiLCJ0cmltIiwiYWxsUGhvdG9zSGF2ZURlc2NyaXB0aW9ucyIsInJlZmVyZW5jZUltYWdlVXJscyIsImxlbmd0aCIsImV2ZXJ5IiwicmVmIiwiaGFuZGxlVGVtcGxhdGVTZWxlY3QiLCJ0ZW1wbGF0ZSIsImNvbXByZXNzSW1hZ2UiLCJmaWxlIiwibWF4U2l6ZU1CIiwibWF4U2l6ZUJ5dGVzIiwic2l6ZSIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwicmVhZGVyIiwiRmlsZVJlYWRlciIsIm9ubG9hZCIsImUiLCJpbWciLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJjYW52YXMiLCJjdHgiLCJnZXRDb250ZXh0Iiwid2lkdGgiLCJoZWlnaHQiLCJtYXhEaW1lbnNpb24iLCJkcmF3SW1hZ2UiLCJ0b0Jsb2IiLCJibG9iIiwiY29tcHJlc3NlZEZpbGUiLCJGaWxlIiwibmFtZSIsInR5cGUiLCJsYXN0TW9kaWZpZWQiLCJEYXRlIiwibm93IiwiRXJyb3IiLCJzcmMiLCJ0YXJnZXQiLCJyZXN1bHQiLCJvbmVycm9yIiwicmVhZEFzRGF0YVVSTCIsImhhbmRsZUZpbGVVcGxvYWRMb2NhbCIsImVycm9yIiwidmFsaWRUeXBlcyIsImluY2x1ZGVzIiwibWF4U2l6ZSIsImZpbGVUb1VwbG9hZCIsImluZm8iLCJzdWNjZXNzIiwidG9GaXhlZCIsImNvbnNvbGUiLCJoYW5kbGVSZW1vdmVJbWFnZSIsImluZGV4IiwibW9zdFJlY2VudERyYWZ0IiwiZHJhZnRTZXNzaW9ucyIsImhhc1JlY2VudERyYWZ0IiwiZHJhZnRDYXJkcyIsImdldERyYWZ0QWdlIiwic2F2ZWRBdCIsImFnZU1zIiwiZ2V0VGltZSIsIm1pbnV0ZXMiLCJNYXRoIiwiZmxvb3IiLCJob3VycyIsImxvZyIsImNhcmRIaXN0b3J5RXhpc3RzIiwiaGFzRHJhZnRTZXNzaW9ucyIsImRyYWZ0U2Vzc2lvbnNMZW5ndGgiLCJtb3N0UmVjZW50RHJhZnRFeGlzdHMiLCJvblJlc3VtZURyYWZ0RXhpc3RzIiwiZGl2IiwiY2xhc3NOYW1lIiwiZnJvbnRDb3ZlciIsImFsdCIsImgzIiwicCIsInNwYW4iLCJvbkNsaWNrIiwidmFyaWFudCIsInJlbW92ZURyYWZ0U2Vzc2lvbiIsImxvY2FsU3RvcmFnZSIsInJlbW92ZUl0ZW0iLCJ2YWx1ZSIsIm9uVmFsdWVDaGFuZ2UiLCJzZWxlY3RlZCIsImZpbmQiLCJJY29uQ29tcG9uZW50IiwicG9zaXRpb24iLCJzaWRlT2Zmc2V0IiwibWFwIiwicGxhY2Vob2xkZXIiLCJvbkNoYW5nZSIsInN0eWxlIiwiZm9udFNpemUiLCJ0b25lIiwic3BsaXQiLCJzbGljZSIsImpvaW4iLCJ0b0ZpZWxkIiwiZnJvbUZpZWxkIiwicmVsYXRpb25zaGlwRmllbGQiLCJoNCIsImlucHV0IiwiYWNjZXB0IiwiZmlsZXMiLCJkaXNhYmxlZCIsImh0bWxGb3IiLCJ1cmwiLCJyZXF1aXJlZCIsImFzQ2hpbGQiLCJ1bCIsImxpIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./components/wizard/steps/Step1CardBasics.tsx\n");

/***/ }),

/***/ "(ssr)/./components/wizard/steps/Step2ContentCreation.tsx":
/*!**********************************************************!*\
  !*** ./components/wizard/steps/Step2ContentCreation.tsx ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Step2ContentCreation)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _components_ui_textarea__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/components/ui/textarea */ \"(ssr)/./components/ui/textarea.tsx\");\n/* harmony import */ var _components_ui_button__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/components/ui/button */ \"(ssr)/./components/ui/button.tsx\");\n/* harmony import */ var _barrel_optimize_names_ChevronDown_History_Redo2_Sparkles_Undo2_lucide_react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! __barrel_optimize__?names=ChevronDown,History,Redo2,Sparkles,Undo2!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/history.js\");\n/* harmony import */ var _barrel_optimize_names_ChevronDown_History_Redo2_Sparkles_Undo2_lucide_react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! __barrel_optimize__?names=ChevronDown,History,Redo2,Sparkles,Undo2!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/undo-2.js\");\n/* harmony import */ var _barrel_optimize_names_ChevronDown_History_Redo2_Sparkles_Undo2_lucide_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! __barrel_optimize__?names=ChevronDown,History,Redo2,Sparkles,Undo2!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/redo-2.js\");\n/* harmony import */ var _barrel_optimize_names_ChevronDown_History_Redo2_Sparkles_Undo2_lucide_react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! __barrel_optimize__?names=ChevronDown,History,Redo2,Sparkles,Undo2!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/chevron-down.js\");\n/* harmony import */ var _barrel_optimize_names_ChevronDown_History_Redo2_Sparkles_Undo2_lucide_react__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! __barrel_optimize__?names=ChevronDown,History,Redo2,Sparkles,Undo2!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/sparkles.js\");\n/* harmony import */ var _components_ui_skeleton__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/components/ui/skeleton */ \"(ssr)/./components/ui/skeleton.tsx\");\n/* harmony import */ var _components_ui_dropdown_menu__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/components/ui/dropdown-menu */ \"(ssr)/./components/ui/dropdown-menu.tsx\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \n\n\n\n\n\n\nfunction Step2ContentCreation({ formData, updateFormData, onStepComplete, handleGetMessageHelp, isGeneratingMessage, messageHistory = [], currentMessageIndex = -1, undoMessage, redoMessage }) {\n    const [isMessageExpanded, setIsMessageExpanded] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [modificationPrompt, setModificationPrompt] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    react__WEBPACK_IMPORTED_MODULE_1___default().useEffect(()=>{\n        // This step is always \"complete\" since all fields are optional\n        onStepComplete?.();\n    }, [\n        onStepComplete\n    ]);\n    // Handle message modification based on prompt\n    const handleModifyMessage = async ()=>{\n        if (!modificationPrompt.trim() || !handleGetMessageHelp) return;\n        // Create a context-aware prompt for modification\n        const currentMessage = formData.finalCardMessage || \"\";\n        const modificationContext = currentMessage ? `Please modify this message according to the instruction: \"${modificationPrompt}\"\\n\\nCurrent message: \"${currentMessage}\"` : `Please create a message based on this instruction: \"${modificationPrompt}\"`;\n        await handleGetMessageHelp(modificationContext);\n        setModificationPrompt(\"\"); // Clear the prompt after use\n    };\n    // Dynamic placeholder based on card type and tone\n    const messagePlaceholder = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>{\n        if (formData.isHandwrittenMessage) return \"✍️ Leave blank - you'll handwrite\";\n        const { selectedType, selectedTone, toField } = formData;\n        const name = toField || \"them\";\n        // Birthday placeholders\n        if (selectedType === \"birthday\") {\n            if (selectedTone === \"funny\") {\n                return `Happy Birthday ${toField || \"[Name]\"}! Another year older means...`;\n            } else if (selectedTone === \"heartfelt\") {\n                return `Dear ${toField || \"[Name]\"}, On your special day, I want you to know...`;\n            } else if (selectedTone === \"romantic\") {\n                return `To my love, Every birthday with you is...`;\n            }\n        } else if (selectedType === \"anniversary\") {\n            if (selectedTone === \"romantic\") {\n                return `My darling, [Number] years ago we...`;\n            } else if (selectedTone === \"funny\") {\n                return `Happy Anniversary! [Number] years and you still...`;\n            }\n        } else if (selectedType === \"thank-you\") {\n            if (selectedTone === \"professional\") {\n                return `Dear ${toField || \"[Name]\"}, Thank you for...`;\n            } else if (selectedTone === \"heartfelt\") {\n                return `I can't thank you enough for...`;\n            }\n        } else if (selectedType === \"get-well\") {\n            return `Thinking of you and hoping...`;\n        } else if (selectedType === \"sympathy\") {\n            return `Dear ${toField || \"[Name]\"}, My heart goes out to you...`;\n        } else if (selectedType === \"holiday\") {\n            return `Wishing you and your family...`;\n        }\n        // Generic fallback based on tone\n        if (selectedTone === \"funny\") {\n            return `Hey ${toField || \"[Name]\"}!`;\n        } else if (selectedTone === \"heartfelt\") {\n            return `Dear ${toField || \"[Name]\"}, I wanted to let you know...`;\n        }\n        return `Dear ${toField || \"[Name]\"}, [Write your personal message here...]`;\n    }, [\n        formData.selectedType,\n        formData.selectedTone,\n        formData.isHandwrittenMessage,\n        formData.toField\n    ]);\n    const canUndo = currentMessageIndex > 0;\n    const canRedo = currentMessageIndex < messageHistory.length - 1;\n    const characterCount = formData.finalCardMessage?.length || 0;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"space-y-6\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center justify-between mb-2\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                className: \"text-sm font-medium text-gray-700 dark:text-gray-300\",\n                                children: \"Card Message\"\n                            }, void 0, false, {\n                                fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step2ContentCreation.tsx\",\n                                lineNumber: 132,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex items-center gap-1\",\n                                children: [\n                                    messageHistory.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_dropdown_menu__WEBPACK_IMPORTED_MODULE_5__.DropdownMenu, {\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_dropdown_menu__WEBPACK_IMPORTED_MODULE_5__.DropdownMenuTrigger, {\n                                                asChild: true,\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_3__.Button, {\n                                                    variant: \"ghost\",\n                                                    size: \"sm\",\n                                                    className: \"gap-1 text-xs\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ChevronDown_History_Redo2_Sparkles_Undo2_lucide_react__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n                                                            className: \"w-3 h-3\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step2ContentCreation.tsx\",\n                                                            lineNumber: 145,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            className: \"hidden sm:inline\",\n                                                            children: \"History\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step2ContentCreation.tsx\",\n                                                            lineNumber: 146,\n                                                            columnNumber: 21\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step2ContentCreation.tsx\",\n                                                    lineNumber: 140,\n                                                    columnNumber: 19\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step2ContentCreation.tsx\",\n                                                lineNumber: 139,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_dropdown_menu__WEBPACK_IMPORTED_MODULE_5__.DropdownMenuContent, {\n                                                align: \"end\",\n                                                className: \"w-80\",\n                                                children: [\n                                                    messageHistory.map((msg, idx)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_dropdown_menu__WEBPACK_IMPORTED_MODULE_5__.DropdownMenuItem, {\n                                                            onClick: ()=>updateFormData({\n                                                                    finalCardMessage: msg\n                                                                }),\n                                                            className: \"block\",\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    className: \"text-sm truncate\",\n                                                                    children: msg\n                                                                }, void 0, false, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step2ContentCreation.tsx\",\n                                                                    lineNumber: 156,\n                                                                    columnNumber: 23\n                                                                }, this),\n                                                                idx === currentMessageIndex && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    className: \"text-xs text-muted-foreground mt-1\",\n                                                                    children: \"Current\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step2ContentCreation.tsx\",\n                                                                    lineNumber: 158,\n                                                                    columnNumber: 25\n                                                                }, this)\n                                                            ]\n                                                        }, idx, true, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step2ContentCreation.tsx\",\n                                                            lineNumber: 151,\n                                                            columnNumber: 21\n                                                        }, this)),\n                                                    messageHistory.length > 5 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_dropdown_menu__WEBPACK_IMPORTED_MODULE_5__.DropdownMenuSeparator, {}, void 0, false, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step2ContentCreation.tsx\",\n                                                                lineNumber: 164,\n                                                                columnNumber: 23\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"px-2 py-1.5 text-xs text-muted-foreground\",\n                                                                children: [\n                                                                    \"Showing last \",\n                                                                    Math.min(5, messageHistory.length),\n                                                                    \" messages\"\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step2ContentCreation.tsx\",\n                                                                lineNumber: 165,\n                                                                columnNumber: 23\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step2ContentCreation.tsx\",\n                                                lineNumber: 149,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step2ContentCreation.tsx\",\n                                        lineNumber: 138,\n                                        columnNumber: 15\n                                    }, this),\n                                    (undoMessage || redoMessage) && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex gap-0.5\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_3__.Button, {\n                                                variant: \"ghost\",\n                                                size: \"sm\",\n                                                onClick: undoMessage,\n                                                disabled: !canUndo || formData.isHandwrittenMessage,\n                                                className: \"px-1.5\",\n                                                title: \"Undo\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ChevronDown_History_Redo2_Sparkles_Undo2_lucide_react__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n                                                    className: \"w-3 h-3\"\n                                                }, void 0, false, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step2ContentCreation.tsx\",\n                                                    lineNumber: 185,\n                                                    columnNumber: 19\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step2ContentCreation.tsx\",\n                                                lineNumber: 177,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_3__.Button, {\n                                                variant: \"ghost\",\n                                                size: \"sm\",\n                                                onClick: redoMessage,\n                                                disabled: !canRedo || formData.isHandwrittenMessage,\n                                                className: \"px-1.5\",\n                                                title: \"Redo\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ChevronDown_History_Redo2_Sparkles_Undo2_lucide_react__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n                                                    className: \"w-3 h-3\"\n                                                }, void 0, false, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step2ContentCreation.tsx\",\n                                                    lineNumber: 195,\n                                                    columnNumber: 19\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step2ContentCreation.tsx\",\n                                                lineNumber: 187,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step2ContentCreation.tsx\",\n                                        lineNumber: 176,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_3__.Button, {\n                                        variant: \"ghost\",\n                                        size: \"sm\",\n                                        onClick: ()=>setIsMessageExpanded(!isMessageExpanded),\n                                        className: \"gap-1 text-xs text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300\",\n                                        children: isMessageExpanded ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ChevronDown_History_Redo2_Sparkles_Undo2_lucide_react__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n                                                    className: \"w-3 h-3\"\n                                                }, void 0, false, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step2ContentCreation.tsx\",\n                                                    lineNumber: 209,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"hidden sm:inline\",\n                                                    children: \"Collapse\"\n                                                }, void 0, false, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step2ContentCreation.tsx\",\n                                                    lineNumber: 210,\n                                                    columnNumber: 19\n                                                }, this)\n                                            ]\n                                        }, void 0, true) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ChevronDown_History_Redo2_Sparkles_Undo2_lucide_react__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n                                                    className: \"w-3 h-3 rotate-180\"\n                                                }, void 0, false, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step2ContentCreation.tsx\",\n                                                    lineNumber: 214,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"hidden sm:inline\",\n                                                    children: \"Expand\"\n                                                }, void 0, false, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step2ContentCreation.tsx\",\n                                                    lineNumber: 215,\n                                                    columnNumber: 19\n                                                }, this)\n                                            ]\n                                        }, void 0, true)\n                                    }, void 0, false, {\n                                        fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step2ContentCreation.tsx\",\n                                        lineNumber: 201,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step2ContentCreation.tsx\",\n                                lineNumber: 135,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step2ContentCreation.tsx\",\n                        lineNumber: 131,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"relative\",\n                        children: isGeneratingMessage ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"space-y-2\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_skeleton__WEBPACK_IMPORTED_MODULE_4__.Skeleton, {\n                                    className: \"h-16 w-full\"\n                                }, void 0, false, {\n                                    fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step2ContentCreation.tsx\",\n                                    lineNumber: 226,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"text-xs text-muted-foreground animate-pulse\",\n                                    children: \"Creating personalized message...\"\n                                }, void 0, false, {\n                                    fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step2ContentCreation.tsx\",\n                                    lineNumber: 227,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step2ContentCreation.tsx\",\n                            lineNumber: 225,\n                            columnNumber: 13\n                        }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"border border-gray-300 dark:border-gray-700 rounded-lg overflow-hidden bg-white dark:bg-gray-900\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_textarea__WEBPACK_IMPORTED_MODULE_2__.Textarea, {\n                                    placeholder: formData.isHandwrittenMessage ? \"This space will be left empty on the card for your handwritten message...\" : messagePlaceholder,\n                                    value: formData.finalCardMessage,\n                                    onChange: (e)=>updateFormData({\n                                            finalCardMessage: e.target.value\n                                        }),\n                                    rows: isMessageExpanded ? 12 : 8,\n                                    className: `border-0 focus:ring-0 ${isMessageExpanded ? \"resize-y\" : \"resize-none\"}`,\n                                    style: {\n                                        fontSize: \"16px\"\n                                    }\n                                }, void 0, false, {\n                                    fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step2ContentCreation.tsx\",\n                                    lineNumber: 234,\n                                    columnNumber: 15\n                                }, this),\n                                !formData.isHandwrittenMessage && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800/50 p-3\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex gap-2\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"flex-1 relative\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ChevronDown_History_Redo2_Sparkles_Undo2_lucide_react__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\n                                                            className: \"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step2ContentCreation.tsx\",\n                                                            lineNumber: 250,\n                                                            columnNumber: 23\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                            type: \"text\",\n                                                            placeholder: formData.finalCardMessage ? \"Try: 'make it funnier' or 'add a joke about her dogs'\" : \"Try: 'write a funny birthday message for my wife'\",\n                                                            value: modificationPrompt,\n                                                            onChange: (e)=>setModificationPrompt(e.target.value),\n                                                            className: \"w-full pl-10 pr-3 py-2 text-sm bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\",\n                                                            onKeyDown: (e)=>{\n                                                                if (e.key === \"Enter\") {\n                                                                    e.preventDefault();\n                                                                    handleModifyMessage();\n                                                                }\n                                                            }\n                                                        }, void 0, false, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step2ContentCreation.tsx\",\n                                                            lineNumber: 251,\n                                                            columnNumber: 23\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step2ContentCreation.tsx\",\n                                                    lineNumber: 249,\n                                                    columnNumber: 21\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_3__.Button, {\n                                                    onClick: handleModifyMessage,\n                                                    disabled: !modificationPrompt.trim() || isGeneratingMessage,\n                                                    className: \"px-4 bg-gray-900 hover:bg-gray-800 dark:bg-gray-100 dark:hover:bg-gray-200 dark:text-gray-900\",\n                                                    size: \"sm\",\n                                                    children: \"Apply\"\n                                                }, void 0, false, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step2ContentCreation.tsx\",\n                                                    lineNumber: 267,\n                                                    columnNumber: 21\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step2ContentCreation.tsx\",\n                                            lineNumber: 248,\n                                            columnNumber: 19\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"text-xs text-gray-500 dark:text-gray-400 mt-1.5 ml-10\",\n                                            children: \"AI will modify your message based on your instructions\"\n                                        }, void 0, false, {\n                                            fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step2ContentCreation.tsx\",\n                                            lineNumber: 276,\n                                            columnNumber: 19\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step2ContentCreation.tsx\",\n                                    lineNumber: 247,\n                                    columnNumber: 17\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step2ContentCreation.tsx\",\n                            lineNumber: 232,\n                            columnNumber: 13\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step2ContentCreation.tsx\",\n                        lineNumber: 223,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"mt-2 space-y-0.5\",\n                        children: [\n                            formData.finalCardMessage && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"text-xs text-muted-foreground\",\n                                children: [\n                                    characterCount,\n                                    \" characters\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step2ContentCreation.tsx\",\n                                lineNumber: 288,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"text-xs text-muted-foreground/70\",\n                                children: formData.isHandwrittenMessage ? \"\\uD83D\\uDCA1 Your message will appear in handwritten style on the card\" : \"\\uD83D\\uDCA1 Messages typically work best between 50-300 characters\"\n                            }, void 0, false, {\n                                fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step2ContentCreation.tsx\",\n                                lineNumber: 292,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step2ContentCreation.tsx\",\n                        lineNumber: 286,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center space-x-2 mt-2\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                type: \"checkbox\",\n                                id: \"handwritten-message\",\n                                checked: formData.isHandwrittenMessage,\n                                onChange: (e)=>{\n                                    updateFormData({\n                                        isHandwrittenMessage: e.target.checked\n                                    });\n                                },\n                                className: \"rounded\"\n                            }, void 0, false, {\n                                fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step2ContentCreation.tsx\",\n                                lineNumber: 301,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                htmlFor: \"handwritten-message\",\n                                className: \"text-sm text-gray-600 dark:text-gray-400\",\n                                children: \"Leave space for handwritten message\"\n                            }, void 0, false, {\n                                fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step2ContentCreation.tsx\",\n                                lineNumber: 312,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step2ContentCreation.tsx\",\n                        lineNumber: 300,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step2ContentCreation.tsx\",\n                lineNumber: 130,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"bg-green-50 dark:bg-green-900/20 rounded-lg p-3 border border-green-200 dark:border-green-800\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h4\", {\n                        className: \"font-medium text-green-900 dark:text-green-100 mb-2\",\n                        children: \"✨ Message Tips\"\n                    }, void 0, false, {\n                        fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step2ContentCreation.tsx\",\n                        lineNumber: 320,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"ul\", {\n                        className: \"text-sm text-green-800 dark:text-green-200 space-y-1\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                children: \"• Keep it personal and heartfelt\"\n                            }, void 0, false, {\n                                fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step2ContentCreation.tsx\",\n                                lineNumber: 322,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                children: \"• Use the AI helper to create or modify your message\"\n                            }, void 0, false, {\n                                fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step2ContentCreation.tsx\",\n                                lineNumber: 323,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                children: '• Try prompts like \"make it funnier\" or \"add a personal touch\"'\n                            }, void 0, false, {\n                                fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step2ContentCreation.tsx\",\n                                lineNumber: 324,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                children: '• Check \"handwritten style\" to display your typed message in handwriting font'\n                            }, void 0, false, {\n                                fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step2ContentCreation.tsx\",\n                                lineNumber: 325,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step2ContentCreation.tsx\",\n                        lineNumber: 321,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step2ContentCreation.tsx\",\n                lineNumber: 319,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step2ContentCreation.tsx\",\n        lineNumber: 128,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9jb21wb25lbnRzL3dpemFyZC9zdGVwcy9TdGVwMkNvbnRlbnRDcmVhdGlvbi50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBRWlEO0FBQ0c7QUFDSjtBQUM0QjtBQUV4QjtBQU9iO0FBY3hCLFNBQVNnQixxQkFBcUIsRUFDM0NDLFFBQVEsRUFDUkMsY0FBYyxFQUNkQyxjQUFjLEVBQ2RDLG9CQUFvQixFQUNwQkMsbUJBQW1CLEVBQ25CQyxpQkFBaUIsRUFBRSxFQUNuQkMsc0JBQXNCLENBQUMsQ0FBQyxFQUN4QkMsV0FBVyxFQUNYQyxXQUFXLEVBQ0E7SUFDWCxNQUFNLENBQUNDLG1CQUFtQkMscUJBQXFCLEdBQUcxQiwrQ0FBUUEsQ0FBQztJQUMzRCxNQUFNLENBQUMyQixvQkFBb0JDLHNCQUFzQixHQUFHNUIsK0NBQVFBLENBQUM7SUFFN0RELHNEQUFlLENBQUM7UUFDZCwrREFBK0Q7UUFDL0RtQjtJQUNGLEdBQUc7UUFBQ0E7S0FBZTtJQUVuQiw4Q0FBOEM7SUFDOUMsTUFBTVksc0JBQXNCO1FBQzFCLElBQUksQ0FBQ0gsbUJBQW1CSSxJQUFJLE1BQU0sQ0FBQ1osc0JBQXNCO1FBRXpELGlEQUFpRDtRQUNqRCxNQUFNYSxpQkFBaUJoQixTQUFTaUIsZ0JBQWdCLElBQUk7UUFDcEQsTUFBTUMsc0JBQXNCRixpQkFDeEIsQ0FBQywwREFBMEQsRUFBRUwsbUJBQW1CLHVCQUF1QixFQUFFSyxlQUFlLENBQUMsQ0FBQyxHQUMxSCxDQUFDLG9EQUFvRCxFQUFFTCxtQkFBbUIsQ0FBQyxDQUFDO1FBRWhGLE1BQU1SLHFCQUFxQmU7UUFDM0JOLHNCQUFzQixLQUFLLDZCQUE2QjtJQUMxRDtJQUVBLGtEQUFrRDtJQUNsRCxNQUFNTyxxQkFBcUJsQyw4Q0FBT0EsQ0FBQztRQUNqQyxJQUFJZSxTQUFTb0Isb0JBQW9CLEVBQUUsT0FBTztRQUUxQyxNQUFNLEVBQUVDLFlBQVksRUFBRUMsWUFBWSxFQUFFQyxPQUFPLEVBQUUsR0FBR3ZCO1FB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MUI7b0RBQ1Q2QixVQUFVLENBQUNoQyxtQkFBbUJJLElBQUksTUFBTVg7b0RBQ3hDMEIsV0FBVTtvREFDVkksTUFBSzs4REFDTjs7Ozs7Ozs7Ozs7O3NEQUlILDhEQUFDTDs0Q0FBSUMsV0FBVTtzREFBd0Q7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O2tDQVVqRiw4REFBQ0Q7d0JBQUlDLFdBQVU7OzRCQUNaOUIsU0FBU2lCLGdCQUFnQixrQkFDeEIsOERBQUNZO2dDQUFJQyxXQUFVOztvQ0FDWkY7b0NBQWU7Ozs7Ozs7MENBR3BCLDhEQUFDQztnQ0FBSUMsV0FBVTswQ0FDWjlCLFNBQVNvQixvQkFBb0IsR0FDMUIsMkVBQ0E7Ozs7Ozs7Ozs7OztrQ0FLUiw4REFBQ1M7d0JBQUlDLFdBQVU7OzBDQUNiLDhEQUFDdUI7Z0NBQ0NDLE1BQUs7Z0NBQ0xJLElBQUc7Z0NBQ0hDLFNBQVMzRCxTQUFTb0Isb0JBQW9CO2dDQUN0QzJCLFVBQVUsQ0FBQ0M7b0NBQ1QvQyxlQUFlO3dDQUNibUIsc0JBQXNCNEIsRUFBRUMsTUFBTSxDQUFDVSxPQUFPO29DQUN4QztnQ0FDRjtnQ0FDQTdCLFdBQVU7Ozs7OzswQ0FFWiw4REFBQ0M7Z0NBQU02QixTQUFRO2dDQUFzQjlCLFdBQVU7MENBQTJDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7MEJBTzlGLDhEQUFDRDtnQkFBSUMsV0FBVTs7a0NBQ2IsOERBQUMrQjt3QkFBRy9CLFdBQVU7a0NBQXNEOzs7Ozs7a0NBQ3BFLDhEQUFDZ0M7d0JBQUdoQyxXQUFVOzswQ0FDWiw4REFBQ2lDOzBDQUFHOzs7Ozs7MENBQ0osOERBQUNBOzBDQUFHOzs7Ozs7MENBQ0osOERBQUNBOzBDQUFHOzs7Ozs7MENBQ0osOERBQUNBOzBDQUFHOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFLZCIsInNvdXJjZXMiOlsid2VicGFjazovL3ZpYmVjYXJkaW5nLy4vY29tcG9uZW50cy93aXphcmQvc3RlcHMvU3RlcDJDb250ZW50Q3JlYXRpb24udHN4Pzc4NDEiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2UgY2xpZW50XCI7XG5cbmltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSwgdXNlTWVtbyB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgVGV4dGFyZWEgfSBmcm9tIFwiQC9jb21wb25lbnRzL3VpL3RleHRhcmVhXCI7XG5pbXBvcnQgeyBCdXR0b24gfSBmcm9tIFwiQC9jb21wb25lbnRzL3VpL2J1dHRvblwiO1xuaW1wb3J0IHsgQ2hldnJvbkRvd24sIFVuZG8yLCBSZWRvMiwgSGlzdG9yeSwgU3BhcmtsZXMgfSBmcm9tIFwibHVjaWRlLXJlYWN0XCI7XG5pbXBvcnQgeyBDYXJkRm9ybURhdGEgfSBmcm9tIFwiQC9ob29rcy91c2VDYXJkRm9ybVwiO1xuaW1wb3J0IHsgU2tlbGV0b24gfSBmcm9tIFwiQC9jb21wb25lbnRzL3VpL3NrZWxldG9uXCI7XG5pbXBvcnQge1xuICBEcm9wZG93bk1lbnUsXG4gIERyb3Bkb3duTWVudUNvbnRlbnQsXG4gIERyb3Bkb3duTWVudUl0ZW0sXG4gIERyb3Bkb3duTWVudVRyaWdnZXIsXG4gIERyb3Bkb3duTWVudVNlcGFyYXRvcixcbn0gZnJvbSBcIkAvY29tcG9uZW50cy91aS9kcm9wZG93bi1tZW51XCI7XG5cbmludGVyZmFjZSBTdGVwMlByb3BzIHtcbiAgZm9ybURhdGE6IENhcmRGb3JtRGF0YTtcbiAgdXBkYXRlRm9ybURhdGE6ICh1cGRhdGVzOiBQYXJ0aWFsPENhcmRGb3JtRGF0YT4pID0+IHZvaWQ7XG4gIG9uU3RlcENvbXBsZXRlPzogKCkgPT4gdm9pZDtcbiAgaGFuZGxlR2V0TWVzc2FnZUhlbHA/OiAodXNlcklucHV0Pzogc3RyaW5nLCBjb252ZXJzYXRpb25IaXN0b3J5PzogYW55W10pID0+IFByb21pc2U8c3RyaW5nIHwgdm9pZD47XG4gIGlzR2VuZXJhdGluZ01lc3NhZ2U/OiBib29sZWFuO1xuICBtZXNzYWdlSGlzdG9yeT86IHN0cmluZ1tdO1xuICBjdXJyZW50TWVzc2FnZUluZGV4PzogbnVtYmVyO1xuICB1bmRvTWVzc2FnZT86ICgpID0+IHZvaWQ7XG4gIHJlZG9NZXNzYWdlPzogKCkgPT4gdm9pZDtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gU3RlcDJDb250ZW50Q3JlYXRpb24oeyBcbiAgZm9ybURhdGEsIFxuICB1cGRhdGVGb3JtRGF0YSwgXG4gIG9uU3RlcENvbXBsZXRlLCBcbiAgaGFuZGxlR2V0TWVzc2FnZUhlbHAsIFxuICBpc0dlbmVyYXRpbmdNZXNzYWdlLFxuICBtZXNzYWdlSGlzdG9yeSA9IFtdLFxuICBjdXJyZW50TWVzc2FnZUluZGV4ID0gLTEsXG4gIHVuZG9NZXNzYWdlLFxuICByZWRvTWVzc2FnZVxufTogU3RlcDJQcm9wcykge1xuICBjb25zdCBbaXNNZXNzYWdlRXhwYW5kZWQsIHNldElzTWVzc2FnZUV4cGFuZGVkXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW21vZGlmaWNhdGlvblByb21wdCwgc2V0TW9kaWZpY2F0aW9uUHJvbXB0XSA9IHVzZVN0YXRlKFwiXCIpO1xuXG4gIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgLy8gVGhpcyBzdGVwIGlzIGFsd2F5cyBcImNvbXBsZXRlXCIgc2luY2UgYWxsIGZpZWxkcyBhcmUgb3B0aW9uYWxcbiAgICBvblN0ZXBDb21wbGV0ZT8uKCk7XG4gIH0sIFtvblN0ZXBDb21wbGV0ZV0pO1xuXG4gIC8vIEhhbmRsZSBtZXNzYWdlIG1vZGlmaWNhdGlvbiBiYXNlZCBvbiBwcm9tcHRcbiAgY29uc3QgaGFuZGxlTW9kaWZ5TWVzc2FnZSA9IGFzeW5jICgpID0+IHtcbiAgICBpZiAoIW1vZGlmaWNhdGlvblByb21wdC50cmltKCkgfHwgIWhhbmRsZUdldE1lc3NhZ2VIZWxwKSByZXR1cm47XG4gICAgXG4gICAgLy8gQ3JlYXRlIGEgY29udGV4dC1hd2FyZSBwcm9tcHQgZm9yIG1vZGlmaWNhdGlvblxuICAgIGNvbnN0IGN1cnJlbnRNZXNzYWdlID0gZm9ybURhdGEuZmluYWxDYXJkTWVzc2FnZSB8fCBcIlwiO1xuICAgIGNvbnN0IG1vZGlmaWNhdGlvbkNvbnRleHQgPSBjdXJyZW50TWVzc2FnZSBcbiAgICAgID8gYFBsZWFzZSBtb2RpZnkgdGhpcyBtZXNzYWdlIGFjY29yZGluZyB0byB0aGUgaW5zdHJ1Y3Rpb246IFwiJHttb2RpZmljYXRpb25Qcm9tcHR9XCJcXG5cXG5DdXJyZW50IG1lc3NhZ2U6IFwiJHtjdXJyZW50TWVzc2FnZX1cImBcbiAgICAgIDogYFBsZWFzZSBjcmVhdGUgYSBtZXNzYWdlIGJhc2VkIG9uIHRoaXMgaW5zdHJ1Y3Rpb246IFwiJHttb2RpZmljYXRpb25Qcm9tcHR9XCJgO1xuICAgIFxuICAgIGF3YWl0IGhhbmRsZUdldE1lc3NhZ2VIZWxwKG1vZGlmaWNhdGlvbkNvbnRleHQpO1xuICAgIHNldE1vZGlmaWNhdGlvblByb21wdChcIlwiKTsgLy8gQ2xlYXIgdGhlIHByb21wdCBhZnRlciB1c2VcbiAgfTtcblxuICAvLyBEeW5hbWljIHBsYWNlaG9sZGVyIGJhc2VkIG9uIGNhcmQgdHlwZSBhbmQgdG9uZVxuICBjb25zdCBtZXNzYWdlUGxhY2Vob2xkZXIgPSB1c2VNZW1vKCgpID0+IHtcbiAgICBpZiAoZm9ybURhdGEuaXNIYW5kd3JpdHRlbk1lc3NhZ2UpIHJldHVybiBcIuKcje+4jyBMZWF2ZSBibGFuayAtIHlvdSdsbCBoYW5kd3JpdGVcIjtcbiAgICBcbiAgICBjb25zdCB7IHNlbGVjdGVkVHlwZSwgc2VsZWN0ZWRUb25lLCB0b0ZpZWxkIH0gPSBmb3JtRGF0YTtcbiAgICBjb25zdCBuYW1lID0gdG9GaWVsZCB8fCBcInRoZW1cIjtcbiAgICBcbiAgICAvLyBCaXJ0aGRheSBwbGFjZWhvbGRlcnNcbiAgICBpZiAoc2VsZWN0ZWRUeXBlID09PSAnYmlydGhkYXknKSB7XG4gICAgICBpZiAoc2VsZWN0ZWRUb25lID09PSAnZnVubnknKSB7XG4gICAgICAgIHJldHVybiBgSGFwcHkgQmlydGhkYXkgJHt0b0ZpZWxkIHx8ICdbTmFtZV0nfSEgQW5vdGhlciB5ZWFyIG9sZGVyIG1lYW5zLi4uYDtcbiAgICAgIH0gZWxzZSBpZiAoc2VsZWN0ZWRUb25lID09PSAnaGVhcnRmZWx0Jykge1xuICAgICAgICByZXR1cm4gYERlYXIgJHt0b0ZpZWxkIHx8ICdbTmFtZV0nfSwgT24geW91ciBzcGVjaWFsIGRheSwgSSB3YW50IHlvdSB0byBrbm93Li4uYDtcbiAgICAgIH0gZWxzZSBpZiAoc2VsZWN0ZWRUb25lID09PSAncm9tYW50aWMnKSB7XG4gICAgICAgIHJldHVybiBgVG8gbXkgbG92ZSwgRXZlcnkgYmlydGhkYXkgd2l0aCB5b3UgaXMuLi5gO1xuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICAvLyBBbm5pdmVyc2FyeSBwbGFjZWhvbGRlcnNcbiAgICBlbHNlIGlmIChzZWxlY3RlZFR5cGUgPT09ICdhbm5pdmVyc2FyeScpIHtcbiAgICAgIGlmIChzZWxlY3RlZFRvbmUgPT09ICdyb21hbnRpYycpIHtcbiAgICAgICAgcmV0dXJuIGBNeSBkYXJsaW5nLCBbTnVtYmVyXSB5ZWFycyBhZ28gd2UuLi5gO1xuICAgICAgfSBlbHNlIGlmIChzZWxlY3RlZFRvbmUgPT09ICdmdW5ueScpIHtcbiAgICAgICAgcmV0dXJuIGBIYXBweSBBbm5pdmVyc2FyeSEgW051bWJlcl0geWVhcnMgYW5kIHlvdSBzdGlsbC4uLmA7XG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIC8vIFRoYW5rIHlvdSBwbGFjZWhvbGRlcnNcbiAgICBlbHNlIGlmIChzZWxlY3RlZFR5cGUgPT09ICd0aGFuay15b3UnKSB7XG4gICAgICBpZiAoc2VsZWN0ZWRUb25lID09PSAncHJvZmVzc2lvbmFsJykge1xuICAgICAgICByZXR1cm4gYERlYXIgJHt0b0ZpZWxkIHx8ICdbTmFtZV0nfSwgVGhhbmsgeW91IGZvci4uLmA7XG4gICAgICB9IGVsc2UgaWYgKHNlbGVjdGVkVG9uZSA9PT0gJ2hlYXJ0ZmVsdCcpIHtcbiAgICAgICAgcmV0dXJuIGBJIGNhbid0IHRoYW5rIHlvdSBlbm91Z2ggZm9yLi4uYDtcbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgLy8gR2V0IHdlbGwgcGxhY2Vob2xkZXJzXG4gICAgZWxzZSBpZiAoc2VsZWN0ZWRUeXBlID09PSAnZ2V0LXdlbGwnKSB7XG4gICAgICByZXR1cm4gYFRoaW5raW5nIG9mIHlvdSBhbmQgaG9waW5nLi4uYDtcbiAgICB9XG4gICAgXG4gICAgLy8gU3ltcGF0aHkgcGxhY2Vob2xkZXJzXG4gICAgZWxzZSBpZiAoc2VsZWN0ZWRUeXBlID09PSAnc3ltcGF0aHknKSB7XG4gICAgICByZXR1cm4gYERlYXIgJHt0b0ZpZWxkIHx8ICdbTmFtZV0nfSwgTXkgaGVhcnQgZ29lcyBvdXQgdG8geW91Li4uYDtcbiAgICB9XG4gICAgXG4gICAgLy8gSG9saWRheSBwbGFjZWhvbGRlcnNcbiAgICBlbHNlIGlmIChzZWxlY3RlZFR5cGUgPT09ICdob2xpZGF5Jykge1xuICAgICAgcmV0dXJuIGBXaXNoaW5nIHlvdSBhbmQgeW91ciBmYW1pbHkuLi5gO1xuICAgIH1cbiAgICBcbiAgICAvLyBHZW5lcmljIGZhbGxiYWNrIGJhc2VkIG9uIHRvbmVcbiAgICBpZiAoc2VsZWN0ZWRUb25lID09PSAnZnVubnknKSB7XG4gICAgICByZXR1cm4gYEhleSAke3RvRmllbGQgfHwgJ1tOYW1lXSd9IWA7XG4gICAgfSBlbHNlIGlmIChzZWxlY3RlZFRvbmUgPT09ICdoZWFydGZlbHQnKSB7XG4gICAgICByZXR1cm4gYERlYXIgJHt0b0ZpZWxkIHx8ICdbTmFtZV0nfSwgSSB3YW50ZWQgdG8gbGV0IHlvdSBrbm93Li4uYDtcbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIGBEZWFyICR7dG9GaWVsZCB8fCAnW05hbWVdJ30sIFtXcml0ZSB5b3VyIHBlcnNvbmFsIG1lc3NhZ2UgaGVyZS4uLl1gO1xuICB9LCBbZm9ybURhdGEuc2VsZWN0ZWRUeXBlLCBmb3JtRGF0YS5zZWxlY3RlZFRvbmUsIGZvcm1EYXRhLmlzSGFuZHdyaXR0ZW5NZXNzYWdlLCBmb3JtRGF0YS50b0ZpZWxkXSk7XG5cbiAgY29uc3QgY2FuVW5kbyA9IGN1cnJlbnRNZXNzYWdlSW5kZXggPiAwO1xuICBjb25zdCBjYW5SZWRvID0gY3VycmVudE1lc3NhZ2VJbmRleCA8IG1lc3NhZ2VIaXN0b3J5Lmxlbmd0aCAtIDE7XG4gIGNvbnN0IGNoYXJhY3RlckNvdW50ID0gZm9ybURhdGEuZmluYWxDYXJkTWVzc2FnZT8ubGVuZ3RoIHx8IDA7XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktNlwiPlxuICAgICAgey8qIE1lc3NhZ2UgU2VjdGlvbiAqL31cbiAgICAgIDxkaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIG1iLTJcIj5cbiAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwidGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWdyYXktNzAwIGRhcms6dGV4dC1ncmF5LTMwMFwiPlxuICAgICAgICAgICAgQ2FyZCBNZXNzYWdlXG4gICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0xXCI+XG4gICAgICAgICAgICB7LyogTWVzc2FnZSBIaXN0b3J5IERyb3Bkb3duICovfVxuICAgICAgICAgICAge21lc3NhZ2VIaXN0b3J5Lmxlbmd0aCA+IDAgJiYgKFxuICAgICAgICAgICAgICA8RHJvcGRvd25NZW51PlxuICAgICAgICAgICAgICAgIDxEcm9wZG93bk1lbnVUcmlnZ2VyIGFzQ2hpbGQ+XG4gICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgIHZhcmlhbnQ9XCJnaG9zdFwiXG4gICAgICAgICAgICAgICAgICAgIHNpemU9XCJzbVwiXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImdhcC0xIHRleHQteHNcIlxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8SGlzdG9yeSBjbGFzc05hbWU9XCJ3LTMgaC0zXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiaGlkZGVuIHNtOmlubGluZVwiPkhpc3Rvcnk8L3NwYW4+XG4gICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICA8L0Ryb3Bkb3duTWVudVRyaWdnZXI+XG4gICAgICAgICAgICAgICAgPERyb3Bkb3duTWVudUNvbnRlbnQgYWxpZ249XCJlbmRcIiBjbGFzc05hbWU9XCJ3LTgwXCI+XG4gICAgICAgICAgICAgICAgICB7bWVzc2FnZUhpc3RvcnkubWFwKChtc2csIGlkeCkgPT4gKFxuICAgICAgICAgICAgICAgICAgICA8RHJvcGRvd25NZW51SXRlbVxuICAgICAgICAgICAgICAgICAgICAgIGtleT17aWR4fVxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHVwZGF0ZUZvcm1EYXRhKHsgZmluYWxDYXJkTWVzc2FnZTogbXNnIH0pfVxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJsb2NrXCJcbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1zbSB0cnVuY2F0ZVwiPnttc2d9PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAge2lkeCA9PT0gY3VycmVudE1lc3NhZ2VJbmRleCAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1tdXRlZC1mb3JlZ3JvdW5kIG10LTFcIj5DdXJyZW50PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgPC9Ecm9wZG93bk1lbnVJdGVtPlxuICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgICB7bWVzc2FnZUhpc3RvcnkubGVuZ3RoID4gNSAmJiAoXG4gICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAgPERyb3Bkb3duTWVudVNlcGFyYXRvciAvPlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicHgtMiBweS0xLjUgdGV4dC14cyB0ZXh0LW11dGVkLWZvcmVncm91bmRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIFNob3dpbmcgbGFzdCB7TWF0aC5taW4oNSwgbWVzc2FnZUhpc3RvcnkubGVuZ3RoKX0gbWVzc2FnZXNcbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgIDwvRHJvcGRvd25NZW51Q29udGVudD5cbiAgICAgICAgICAgICAgPC9Ecm9wZG93bk1lbnU+XG4gICAgICAgICAgICApfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICB7LyogVW5kby9SZWRvIEJ1dHRvbnMgKi99XG4gICAgICAgICAgICB7KHVuZG9NZXNzYWdlIHx8IHJlZG9NZXNzYWdlKSAmJiAoXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBnYXAtMC41XCI+XG4gICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgdmFyaWFudD1cImdob3N0XCJcbiAgICAgICAgICAgICAgICAgIHNpemU9XCJzbVwiXG4gICAgICAgICAgICAgICAgICBvbkNsaWNrPXt1bmRvTWVzc2FnZX1cbiAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXshY2FuVW5kbyB8fCBmb3JtRGF0YS5pc0hhbmR3cml0dGVuTWVzc2FnZX1cbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInB4LTEuNVwiXG4gICAgICAgICAgICAgICAgICB0aXRsZT1cIlVuZG9cIlxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIDxVbmRvMiBjbGFzc05hbWU9XCJ3LTMgaC0zXCIgLz5cbiAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICB2YXJpYW50PVwiZ2hvc3RcIlxuICAgICAgICAgICAgICAgICAgc2l6ZT1cInNtXCJcbiAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3JlZG9NZXNzYWdlfVxuICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9eyFjYW5SZWRvIHx8IGZvcm1EYXRhLmlzSGFuZHdyaXR0ZW5NZXNzYWdlfVxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicHgtMS41XCJcbiAgICAgICAgICAgICAgICAgIHRpdGxlPVwiUmVkb1wiXG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgPFJlZG8yIGNsYXNzTmFtZT1cInctMyBoLTNcIiAvPlxuICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHsvKiBFeHBhbmQvQ29sbGFwc2UgKi99XG4gICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgIHZhcmlhbnQ9XCJnaG9zdFwiXG4gICAgICAgICAgICAgIHNpemU9XCJzbVwiXG4gICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldElzTWVzc2FnZUV4cGFuZGVkKCFpc01lc3NhZ2VFeHBhbmRlZCl9XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImdhcC0xIHRleHQteHMgdGV4dC1ncmF5LTUwMCBob3Zlcjp0ZXh0LWdyYXktNzAwIGRhcms6dGV4dC1ncmF5LTQwMCBkYXJrOmhvdmVyOnRleHQtZ3JheS0zMDBcIlxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICB7aXNNZXNzYWdlRXhwYW5kZWQgPyAoXG4gICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgIDxDaGV2cm9uRG93biBjbGFzc05hbWU9XCJ3LTMgaC0zXCIgLz5cbiAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImhpZGRlbiBzbTppbmxpbmVcIj5Db2xsYXBzZTwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgPENoZXZyb25Eb3duIGNsYXNzTmFtZT1cInctMyBoLTMgcm90YXRlLTE4MFwiIC8+XG4gICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJoaWRkZW4gc206aW5saW5lXCI+RXhwYW5kPC9zcGFuPlxuICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICBcbiAgICAgICAgey8qIE1lc3NhZ2UgSW5wdXQgQ29udGFpbmVyIHdpdGggSW50ZWdyYXRlZCBBSSBIZWxwZXIgKi99XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmVsYXRpdmVcIj5cbiAgICAgICAgICB7aXNHZW5lcmF0aW5nTWVzc2FnZSA/IChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0yXCI+XG4gICAgICAgICAgICAgIDxTa2VsZXRvbiBjbGFzc05hbWU9XCJoLTE2IHctZnVsbFwiIC8+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LW11dGVkLWZvcmVncm91bmQgYW5pbWF0ZS1wdWxzZVwiPlxuICAgICAgICAgICAgICAgIENyZWF0aW5nIHBlcnNvbmFsaXplZCBtZXNzYWdlLi4uXG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKSA6IChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYm9yZGVyIGJvcmRlci1ncmF5LTMwMCBkYXJrOmJvcmRlci1ncmF5LTcwMCByb3VuZGVkLWxnIG92ZXJmbG93LWhpZGRlbiBiZy13aGl0ZSBkYXJrOmJnLWdyYXktOTAwXCI+XG4gICAgICAgICAgICAgIHsvKiBNYWluIE1lc3NhZ2UgVGV4dGFyZWEgKi99XG4gICAgICAgICAgICAgIDxUZXh0YXJlYVxuICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtmb3JtRGF0YS5pc0hhbmR3cml0dGVuTWVzc2FnZSBcbiAgICAgICAgICAgICAgICAgID8gXCJUaGlzIHNwYWNlIHdpbGwgYmUgbGVmdCBlbXB0eSBvbiB0aGUgY2FyZCBmb3IgeW91ciBoYW5kd3JpdHRlbiBtZXNzYWdlLi4uXCIgXG4gICAgICAgICAgICAgICAgICA6IG1lc3NhZ2VQbGFjZWhvbGRlcn1cbiAgICAgICAgICAgICAgICB2YWx1ZT17Zm9ybURhdGEuZmluYWxDYXJkTWVzc2FnZX1cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHVwZGF0ZUZvcm1EYXRhKHsgZmluYWxDYXJkTWVzc2FnZTogZS50YXJnZXQudmFsdWUgfSl9XG4gICAgICAgICAgICAgICAgcm93cz17aXNNZXNzYWdlRXhwYW5kZWQgPyAxMiA6IDh9XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgYm9yZGVyLTAgZm9jdXM6cmluZy0wICR7aXNNZXNzYWdlRXhwYW5kZWQgPyBcInJlc2l6ZS15XCIgOiBcInJlc2l6ZS1ub25lXCJ9YH1cbiAgICAgICAgICAgICAgICBzdHlsZT17eyBmb250U2l6ZTogJzE2cHgnIH19XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICB7LyogSW50ZWdyYXRlZCBBSSBIZWxwZXIgLSBDb25uZWN0ZWQgdmlzdWFsbHkgKi99XG4gICAgICAgICAgICAgIHshZm9ybURhdGEuaXNIYW5kd3JpdHRlbk1lc3NhZ2UgJiYgKFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYm9yZGVyLXQgYm9yZGVyLWdyYXktMjAwIGRhcms6Ym9yZGVyLWdyYXktNzAwIGJnLWdyYXktNTAgZGFyazpiZy1ncmF5LTgwMC81MCBwLTNcIj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBnYXAtMlwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgtMSByZWxhdGl2ZVwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxTcGFya2xlcyBjbGFzc05hbWU9XCJhYnNvbHV0ZSBsZWZ0LTMgdG9wLTEvMiAtdHJhbnNsYXRlLXktMS8yIHctNCBoLTQgdGV4dC1ncmF5LTQwMFwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17Zm9ybURhdGEuZmluYWxDYXJkTWVzc2FnZSBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPyBcIlRyeTogJ21ha2UgaXQgZnVubmllcicgb3IgJ2FkZCBhIGpva2UgYWJvdXQgaGVyIGRvZ3MnXCIgXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDogXCJUcnk6ICd3cml0ZSBhIGZ1bm55IGJpcnRoZGF5IG1lc3NhZ2UgZm9yIG15IHdpZmUnXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17bW9kaWZpY2F0aW9uUHJvbXB0fVxuICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRNb2RpZmljYXRpb25Qcm9tcHQoZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIHBsLTEwIHByLTMgcHktMiB0ZXh0LXNtIGJnLXdoaXRlIGRhcms6YmctZ3JheS05MDAgYm9yZGVyIGJvcmRlci1ncmF5LTMwMCBkYXJrOmJvcmRlci1ncmF5LTYwMCByb3VuZGVkLWxnIGZvY3VzOnJpbmctMiBmb2N1czpyaW5nLWJsdWUtNTAwIGZvY3VzOmJvcmRlci10cmFuc3BhcmVudFwiXG4gICAgICAgICAgICAgICAgICAgICAgICBvbktleURvd249eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLmtleSA9PT0gJ0VudGVyJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVNb2RpZnlNZXNzYWdlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVNb2RpZnlNZXNzYWdlfVxuICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXshbW9kaWZpY2F0aW9uUHJvbXB0LnRyaW0oKSB8fCBpc0dlbmVyYXRpbmdNZXNzYWdlfVxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInB4LTQgYmctZ3JheS05MDAgaG92ZXI6YmctZ3JheS04MDAgZGFyazpiZy1ncmF5LTEwMCBkYXJrOmhvdmVyOmJnLWdyYXktMjAwIGRhcms6dGV4dC1ncmF5LTkwMFwiXG4gICAgICAgICAgICAgICAgICAgICAgc2l6ZT1cInNtXCJcbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgIEFwcGx5XG4gICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1ncmF5LTUwMCBkYXJrOnRleHQtZ3JheS00MDAgbXQtMS41IG1sLTEwXCI+XG4gICAgICAgICAgICAgICAgICAgIEFJIHdpbGwgbW9kaWZ5IHlvdXIgbWVzc2FnZSBiYXNlZCBvbiB5b3VyIGluc3RydWN0aW9uc1xuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApfVxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgXG4gICAgICAgIHsvKiBDaGFyYWN0ZXIgQ291bnQgYW5kIEhlbHBlciBUZXh0ICovfVxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTIgc3BhY2UteS0wLjVcIj5cbiAgICAgICAgICB7Zm9ybURhdGEuZmluYWxDYXJkTWVzc2FnZSAmJiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1tdXRlZC1mb3JlZ3JvdW5kXCI+XG4gICAgICAgICAgICAgIHtjaGFyYWN0ZXJDb3VudH0gY2hhcmFjdGVyc1xuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKX1cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1tdXRlZC1mb3JlZ3JvdW5kLzcwXCI+XG4gICAgICAgICAgICB7Zm9ybURhdGEuaXNIYW5kd3JpdHRlbk1lc3NhZ2UgXG4gICAgICAgICAgICAgID8gXCLwn5KhIFlvdXIgbWVzc2FnZSB3aWxsIGFwcGVhciBpbiBoYW5kd3JpdHRlbiBzdHlsZSBvbiB0aGUgY2FyZFwiXG4gICAgICAgICAgICAgIDogXCLwn5KhIE1lc3NhZ2VzIHR5cGljYWxseSB3b3JrIGJlc3QgYmV0d2VlbiA1MC0zMDAgY2hhcmFjdGVyc1wifVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgXG4gICAgICAgIHsvKiBIYW5kd3JpdHRlbiBNZXNzYWdlIE9wdGlvbiAqL31cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBzcGFjZS14LTIgbXQtMlwiPlxuICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgdHlwZT1cImNoZWNrYm94XCJcbiAgICAgICAgICAgIGlkPVwiaGFuZHdyaXR0ZW4tbWVzc2FnZVwiXG4gICAgICAgICAgICBjaGVja2VkPXtmb3JtRGF0YS5pc0hhbmR3cml0dGVuTWVzc2FnZX1cbiAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICB1cGRhdGVGb3JtRGF0YSh7IFxuICAgICAgICAgICAgICAgIGlzSGFuZHdyaXR0ZW5NZXNzYWdlOiBlLnRhcmdldC5jaGVja2VkXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfX1cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cInJvdW5kZWRcIlxuICAgICAgICAgIC8+XG4gICAgICAgICAgPGxhYmVsIGh0bWxGb3I9XCJoYW5kd3JpdHRlbi1tZXNzYWdlXCIgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LWdyYXktNjAwIGRhcms6dGV4dC1ncmF5LTQwMFwiPlxuICAgICAgICAgICAgTGVhdmUgc3BhY2UgZm9yIGhhbmR3cml0dGVuIG1lc3NhZ2VcbiAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuXG4gICAgICB7LyogVGlwcyAtIE1vYmlsZSBPcHRpbWl6ZWQgKi99XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLWdyZWVuLTUwIGRhcms6YmctZ3JlZW4tOTAwLzIwIHJvdW5kZWQtbGcgcC0zIGJvcmRlciBib3JkZXItZ3JlZW4tMjAwIGRhcms6Ym9yZGVyLWdyZWVuLTgwMFwiPlxuICAgICAgICA8aDQgY2xhc3NOYW1lPVwiZm9udC1tZWRpdW0gdGV4dC1ncmVlbi05MDAgZGFyazp0ZXh0LWdyZWVuLTEwMCBtYi0yXCI+4pyoIE1lc3NhZ2UgVGlwczwvaDQ+XG4gICAgICAgIDx1bCBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtZ3JlZW4tODAwIGRhcms6dGV4dC1ncmVlbi0yMDAgc3BhY2UteS0xXCI+XG4gICAgICAgICAgPGxpPuKAoiBLZWVwIGl0IHBlcnNvbmFsIGFuZCBoZWFydGZlbHQ8L2xpPlxuICAgICAgICAgIDxsaT7igKIgVXNlIHRoZSBBSSBoZWxwZXIgdG8gY3JlYXRlIG9yIG1vZGlmeSB5b3VyIG1lc3NhZ2U8L2xpPlxuICAgICAgICAgIDxsaT7igKIgVHJ5IHByb21wdHMgbGlrZSBcIm1ha2UgaXQgZnVubmllclwiIG9yIFwiYWRkIGEgcGVyc29uYWwgdG91Y2hcIjwvbGk+XG4gICAgICAgICAgPGxpPuKAoiBDaGVjayBcImhhbmR3cml0dGVuIHN0eWxlXCIgdG8gZGlzcGxheSB5b3VyIHR5cGVkIG1lc3NhZ2UgaW4gaGFuZHdyaXRpbmcgZm9udDwvbGk+XG4gICAgICAgIDwvdWw+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKTtcbn0gIl0sIm5hbWVzIjpbIlJlYWN0IiwidXNlU3RhdGUiLCJ1c2VNZW1vIiwiVGV4dGFyZWEiLCJCdXR0b24iLCJDaGV2cm9uRG93biIsIlVuZG8yIiwiUmVkbzIiLCJIaXN0b3J5IiwiU3BhcmtsZXMiLCJTa2VsZXRvbiIsIkRyb3Bkb3duTWVudSIsIkRyb3Bkb3duTWVudUNvbnRlbnQiLCJEcm9wZG93bk1lbnVJdGVtIiwiRHJvcGRvd25NZW51VHJpZ2dlciIsIkRyb3Bkb3duTWVudVNlcGFyYXRvciIsIlN0ZXAyQ29udGVudENyZWF0aW9uIiwiZm9ybURhdGEiLCJ1cGRhdGVGb3JtRGF0YSIsIm9uU3RlcENvbXBsZXRlIiwiaGFuZGxlR2V0TWVzc2FnZUhlbHAiLCJpc0dlbmVyYXRpbmdNZXNzYWdlIiwibWVzc2FnZUhpc3RvcnkiLCJjdXJyZW50TWVzc2FnZUluZGV4IiwidW5kb01lc3NhZ2UiLCJyZWRvTWVzc2FnZSIsImlzTWVzc2FnZUV4cGFuZGVkIiwic2V0SXNNZXNzYWdlRXhwYW5kZWQiLCJtb2RpZmljYXRpb25Qcm9tcHQiLCJzZXRNb2RpZmljYXRpb25Qcm9tcHQiLCJ1c2VFZmZlY3QiLCJoYW5kbGVNb2RpZnlNZXNzYWdlIiwidHJpbSIsImN1cnJlbnRNZXNzYWdlIiwiZmluYWxDYXJkTWVzc2FnZSIsIm1vZGlmaWNhdGlvbkNvbnRleHQiLCJtZXNzYWdlUGxhY2Vob2xkZXIiLCJpc0hhbmR3cml0dGVuTWVzc2FnZSIsInNlbGVjdGVkVHlwZSIsInNlbGVjdGVkVG9uZSIsInRvRmllbGQiLCJuYW1lIiwiY2FuVW5kbyIsImNhblJlZG8iLCJsZW5ndGgiLCJjaGFyYWN0ZXJDb3VudCIsImRpdiIsImNsYXNzTmFtZSIsImxhYmVsIiwiYXNDaGlsZCIsInZhcmlhbnQiLCJzaXplIiwic3BhbiIsImFsaWduIiwibWFwIiwibXNnIiwiaWR4Iiwib25DbGljayIsIk1hdGgiLCJtaW4iLCJkaXNhYmxlZCIsInRpdGxlIiwicGxhY2Vob2xkZXIiLCJ2YWx1ZSIsIm9uQ2hhbmdlIiwiZSIsInRhcmdldCIsInJvd3MiLCJzdHlsZSIsImZvbnRTaXplIiwiaW5wdXQiLCJ0eXBlIiwib25LZXlEb3duIiwia2V5IiwicHJldmVudERlZmF1bHQiLCJpZCIsImNoZWNrZWQiLCJodG1sRm9yIiwiaDQiLCJ1bCIsImxpIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./components/wizard/steps/Step2ContentCreation.tsx\n");

/***/ }),

/***/ "(ssr)/./components/wizard/steps/Step3Personalization.tsx":
/*!**********************************************************!*\
  !*** ./components/wizard/steps/Step3Personalization.tsx ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Step3Personalization)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _components_ui_select__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/components/ui/select */ \"(ssr)/./components/ui/select.tsx\");\n/* harmony import */ var _components_ui_textarea__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/components/ui/textarea */ \"(ssr)/./components/ui/textarea.tsx\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \n\n\n\n// Curated artistic styles\nconst artisticStyles = [\n    {\n        id: \"ai-smart-style\",\n        label: \"\\uD83C\\uDFAF Style Sampler (Recommended)\",\n        description: \"Preview your card in 5 curated styles - perfect for finding your favorite\",\n        color: \"from-purple-100 to-pink-100 dark:from-purple-900 dark:to-pink-900\",\n        preview: \"\\uD83C\\uDFAF\"\n    },\n    {\n        id: \"custom\",\n        label: \"✨ Custom Style\",\n        description: \"Define your own unique artistic style\",\n        color: \"from-violet-100 to-purple-100 dark:from-violet-900 dark:to-purple-900\",\n        preview: \"\\uD83C\\uDFAF\"\n    },\n    {\n        id: \"watercolor\",\n        label: \"\\uD83C\\uDFA8 Watercolor\",\n        description: \"Soft, flowing paint effects (our personal favorite)\",\n        color: \"from-blue-100 to-cyan-100 dark:from-blue-900 dark:to-cyan-900\",\n        preview: \"\\uD83C\\uDFA8\"\n    },\n    {\n        id: \"minimalist\",\n        label: \"✨ Minimalist\",\n        description: \"Clean, simple, elegant design\",\n        color: \"from-gray-100 to-slate-100 dark:from-gray-900 dark:to-slate-900\",\n        preview: \"◯\"\n    },\n    {\n        id: \"botanical\",\n        label: \"\\uD83C\\uDF3F Botanical\",\n        description: \"Beautiful flowers and nature elements\",\n        color: \"from-green-100 to-emerald-100 dark:from-green-900 dark:to-emerald-900\",\n        preview: \"\\uD83C\\uDF3F\"\n    },\n    {\n        id: \"comic-book\",\n        label: \"\\uD83D\\uDCA5 Comic Book\",\n        description: \"Bold graphic novel style\",\n        color: \"from-yellow-100 to-red-100 dark:from-yellow-900 dark:to-red-900\",\n        preview: \"\\uD83D\\uDCA5\"\n    },\n    {\n        id: \"dreamy-fantasy\",\n        label: \"\\uD83C\\uDF38 Dreamy Fantasy\",\n        description: \"Enchanting anime-inspired art\",\n        color: \"from-pink-100 to-purple-100 dark:from-pink-900 dark:to-purple-900\",\n        preview: \"\\uD83C\\uDF38\"\n    },\n    {\n        id: \"modern-geometric\",\n        label: \"\\uD83D\\uDD37 Modern Geometric\",\n        description: \"Clean contemporary shapes\",\n        color: \"from-indigo-100 to-blue-100 dark:from-indigo-900 dark:to-blue-900\",\n        preview: \"\\uD83D\\uDD37\"\n    }\n];\nfunction Step3Personalization({ formData, updateFormData, onStepComplete, photoReferences = [] }) {\n    react__WEBPACK_IMPORTED_MODULE_1___default().useEffect(()=>{\n        // Auto-complete step when style is selected (personal traits are optional)\n        const isValid = formData.selectedArtisticStyle && (formData.selectedArtisticStyle !== \"custom\" || formData.customStyleDescription.trim());\n        if (isValid) {\n            onStepComplete?.();\n        }\n    }, [\n        formData.selectedArtisticStyle,\n        formData.customStyleDescription,\n        onStepComplete\n    ]);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"space-y-6\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                        className: \"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block\",\n                        children: \"Artistic Style\"\n                    }, void 0, false, {\n                        fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step3Personalization.tsx\",\n                        lineNumber: 98,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_select__WEBPACK_IMPORTED_MODULE_2__.Select, {\n                        value: formData.selectedArtisticStyle,\n                        onValueChange: (value)=>updateFormData({\n                                selectedArtisticStyle: value\n                            }),\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_select__WEBPACK_IMPORTED_MODULE_2__.SelectTrigger, {\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_select__WEBPACK_IMPORTED_MODULE_2__.SelectValue, {\n                                    placeholder: \"Choose artistic style\",\n                                    children: (()=>{\n                                        const selected = artisticStyles.find((style)=>style.id === formData.selectedArtisticStyle);\n                                        if (!selected) return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"text-gray-400\",\n                                            children: \"Choose artistic style\"\n                                        }, void 0, false, {\n                                            fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step3Personalization.tsx\",\n                                            lineNumber: 109,\n                                            columnNumber: 39\n                                        }, this);\n                                        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex items-center gap-3\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: `w-8 h-8 bg-gradient-to-br ${selected.color} rounded-lg flex items-center justify-center shadow-sm`,\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        className: \"text-lg\",\n                                                        children: selected.preview\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step3Personalization.tsx\",\n                                                        lineNumber: 113,\n                                                        columnNumber: 23\n                                                    }, this)\n                                                }, void 0, false, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step3Personalization.tsx\",\n                                                    lineNumber: 112,\n                                                    columnNumber: 21\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"font-medium\",\n                                                    children: selected.label\n                                                }, void 0, false, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step3Personalization.tsx\",\n                                                    lineNumber: 115,\n                                                    columnNumber: 21\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step3Personalization.tsx\",\n                                            lineNumber: 111,\n                                            columnNumber: 19\n                                        }, this);\n                                    })()\n                                }, void 0, false, {\n                                    fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step3Personalization.tsx\",\n                                    lineNumber: 106,\n                                    columnNumber: 13\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step3Personalization.tsx\",\n                                lineNumber: 105,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_select__WEBPACK_IMPORTED_MODULE_2__.SelectContent, {\n                                className: \"max-w-[calc(100vw-2rem)]\",\n                                children: artisticStyles.map((style)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_select__WEBPACK_IMPORTED_MODULE_2__.SelectItem, {\n                                        value: style.id,\n                                        className: \"cursor-pointer hover:bg-purple-50 dark:hover:bg-purple-900/20 max-w-full\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex items-center gap-3 py-1 w-full\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: `w-10 h-10 flex-shrink-0 bg-gradient-to-br ${style.color} rounded-lg flex items-center justify-center shadow-sm`,\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        className: \"text-xl\",\n                                                        children: style.preview\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step3Personalization.tsx\",\n                                                        lineNumber: 126,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                }, void 0, false, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step3Personalization.tsx\",\n                                                    lineNumber: 125,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"flex-1 text-left min-w-0 overflow-hidden\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"font-semibold text-gray-900 dark:text-gray-100 truncate\",\n                                                            children: style.label\n                                                        }, void 0, false, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step3Personalization.tsx\",\n                                                            lineNumber: 129,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"text-xs text-gray-600 dark:text-gray-400 break-words whitespace-normal pr-2\",\n                                                            children: style.description\n                                                        }, void 0, false, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step3Personalization.tsx\",\n                                                            lineNumber: 130,\n                                                            columnNumber: 21\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step3Personalization.tsx\",\n                                                    lineNumber: 128,\n                                                    columnNumber: 19\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step3Personalization.tsx\",\n                                            lineNumber: 124,\n                                            columnNumber: 17\n                                        }, this)\n                                    }, style.id, false, {\n                                        fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step3Personalization.tsx\",\n                                        lineNumber: 123,\n                                        columnNumber: 15\n                                    }, this))\n                            }, void 0, false, {\n                                fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step3Personalization.tsx\",\n                                lineNumber: 121,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step3Personalization.tsx\",\n                        lineNumber: 101,\n                        columnNumber: 9\n                    }, this),\n                    formData.selectedArtisticStyle === \"custom\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"mt-3\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                className: \"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block\",\n                                children: \"Describe Your Custom Style\"\n                            }, void 0, false, {\n                                fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step3Personalization.tsx\",\n                                lineNumber: 141,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_textarea__WEBPACK_IMPORTED_MODULE_3__.Textarea, {\n                                placeholder: \"e.g., in vintage 1920s art deco style with gold accents and geometric patterns...\",\n                                value: formData.customStyleDescription,\n                                onChange: (e)=>updateFormData({\n                                        customStyleDescription: e.target.value\n                                    }),\n                                rows: 3,\n                                className: \"resize-none\",\n                                style: {\n                                    fontSize: \"16px\"\n                                }\n                            }, void 0, false, {\n                                fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step3Personalization.tsx\",\n                                lineNumber: 144,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"text-xs text-gray-500 dark:text-gray-400 mt-1\",\n                                children: \"Describe the artistic style you want for your card (colors, techniques, era, mood, etc.)\"\n                            }, void 0, false, {\n                                fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step3Personalization.tsx\",\n                                lineNumber: 152,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step3Personalization.tsx\",\n                        lineNumber: 140,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step3Personalization.tsx\",\n                lineNumber: 97,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                        className: \"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block\",\n                        children: [\n                            \"What Do They Love? \",\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: \"text-gray-500 font-normal\",\n                                children: \"(Optional)\"\n                            }, void 0, false, {\n                                fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step3Personalization.tsx\",\n                                lineNumber: 163,\n                                columnNumber: 30\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step3Personalization.tsx\",\n                        lineNumber: 162,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"text-xs text-gray-600 dark:text-gray-400 mb-3\",\n                        children: \"Share their interests and favorites - our AI will create a personalized scene from these details\"\n                    }, void 0, false, {\n                        fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step3Personalization.tsx\",\n                        lineNumber: 165,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_textarea__WEBPACK_IMPORTED_MODULE_3__.Textarea, {\n                        placeholder: `• Loves skiing, craft beer, and cozy mountain lodges\n• Enjoys sushi, yoga, and beach sunsets\n• Into gaming, pizza, and sci-fi movies\n• Passionate about gardening, tea, and reading mysteries`,\n                        value: formData.personalTraits || \"\",\n                        onChange: (e)=>updateFormData({\n                                personalTraits: e.target.value\n                            }),\n                        rows: 5,\n                        className: \"resize-none\",\n                        style: {\n                            fontSize: \"16px\"\n                        }\n                    }, void 0, false, {\n                        fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step3Personalization.tsx\",\n                        lineNumber: 169,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"text-xs text-gray-500 dark:text-gray-400 mt-2\",\n                        children: [\n                            \"\\uD83D\\uDCA1 \",\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                children: \"The magic:\"\n                            }, void 0, false, {\n                                fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step3Personalization.tsx\",\n                                lineNumber: 182,\n                                columnNumber: 14\n                            }, this),\n                            \" AI combines these traits with your chosen style to create unique, personalized artwork. Skip this field for a general design.\"\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step3Personalization.tsx\",\n                        lineNumber: 181,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step3Personalization.tsx\",\n                lineNumber: 161,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"bg-purple-50 dark:bg-purple-900/20 rounded-lg p-3 border border-purple-200 dark:border-purple-800\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h4\", {\n                        className: \"font-medium text-purple-900 dark:text-purple-100 mb-2\",\n                        children: \"\\uD83C\\uDFA8 How It Works\"\n                    }, void 0, false, {\n                        fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step3Personalization.tsx\",\n                        lineNumber: 188,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"ul\", {\n                        className: \"text-sm text-purple-800 dark:text-purple-200 space-y-1\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                children: [\n                                    \"• \",\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                        children: \"Personal Touch (Optional):\"\n                                    }, void 0, false, {\n                                        fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step3Personalization.tsx\",\n                                        lineNumber: 190,\n                                        columnNumber: 17\n                                    }, this),\n                                    \" Add their favorite activities, foods, hobbies, and interests\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step3Personalization.tsx\",\n                                lineNumber: 190,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                children: [\n                                    \"• \",\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                        children: \"AI Magic:\"\n                                    }, void 0, false, {\n                                        fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step3Personalization.tsx\",\n                                        lineNumber: 191,\n                                        columnNumber: 17\n                                    }, this),\n                                    \" Our AI automatically creates personalized scenes from these details\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step3Personalization.tsx\",\n                                lineNumber: 191,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                children: [\n                                    \"• \",\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                        children: \"Style Selection (Required):\"\n                                    }, void 0, false, {\n                                        fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step3Personalization.tsx\",\n                                        lineNumber: 192,\n                                        columnNumber: 17\n                                    }, this),\n                                    \" Choose an artistic style for your card\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step3Personalization.tsx\",\n                                lineNumber: 192,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                children: [\n                                    \"• \",\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                        children: \"Result:\"\n                                    }, void 0, false, {\n                                        fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step3Personalization.tsx\",\n                                        lineNumber: 193,\n                                        columnNumber: 17\n                                    }, this),\n                                    \" A beautiful card - either personalized with their interests or a general design\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step3Personalization.tsx\",\n                                lineNumber: 193,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step3Personalization.tsx\",\n                        lineNumber: 189,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step3Personalization.tsx\",\n                lineNumber: 187,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step3Personalization.tsx\",\n        lineNumber: 95,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9jb21wb25lbnRzL3dpemFyZC9zdGVwcy9TdGVwM1BlcnNvbmFsaXphdGlvbi50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFFd0M7QUFDK0Q7QUFDbkQ7QUFXcEQsMEJBQTBCO0FBQzFCLE1BQU1PLGlCQUFpQjtJQUNyQjtRQUNFQyxJQUFJO1FBQ0pDLE9BQU87UUFDUEMsYUFBYTtRQUNiQyxPQUFPO1FBQ1BDLFNBQVM7SUFDWDtJQUNBO1FBQ0VKLElBQUk7UUFDSkMsT0FBTztRQUNQQyxhQUFhO1FBQ2JDLE9BQU87UUFDUEMsU0FBUztJQUNYO0lBQ0E7UUFDRUosSUFBSTtRQUNKQyxPQUFPO1FBQ1BDLGFBQWE7UUFDYkMsT0FBTztRQUNQQyxTQUFTO0lBQ1g7SUFDQTtRQUNFSixJQUFJO1FBQ0pDLE9BQU87UUFDUEMsYUFBYTtRQUNiQyxPQUFPO1FBQ1BDLFNBQVM7SUFDWDtJQUNBO1FBQ0VKLElBQUk7UUFDSkMsT0FBTztRQUNQQyxhQUFhO1FBQ2JDLE9BQU87UUFDUEMsU0FBUztJQUNYO0lBQ0E7UUFDRUosSUFBSTtRQUNKQyxPQUFPO1FBQ1BDLGFBQWE7UUFDYkMsT0FBTztRQUNQQyxTQUFTO0lBQ1g7SUFDQTtRQUNFSixJQUFJO1FBQ0pDLE9BQU87UUFDUEMsYUFBYTtRQUNiQyxPQUFPO1FBQ1BDLFNBQVM7SUFDWDtJQUNBO1FBQ0VKLElBQUk7UUFDSkMsT0FBTztRQUNQQyxhQUFhO1FBQ2JDLE9BQU87UUFDUEMsU0FBUztJQUNYO0NBQ0Q7QUFFYyxTQUFTQyxxQkFBcUIsRUFDM0NDLFFBQVEsRUFDUkMsY0FBYyxFQUNkQyxjQUFjLEVBQ2RDLGtCQUFrQixFQUFFLEVBQ1Q7SUFFWGpCLHNEQUFlLENBQUM7UUFDZCwyRUFBMkU7UUFDM0UsTUFBTW1CLFVBQVVMLFNBQVNNLHFCQUFxQixJQUMzQ04sQ0FBQUEsU0FBU00scUJBQXFCLEtBQUssWUFBWU4sU0FBU08sc0JBQXNCLENBQUNDLElBQUksRUFBQztRQUV2RixJQUFJSCxTQUFTO1lB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O3dCQUNWTSxPQUFPOzRCQUFFTyxVQUFVO3dCQUFPOzs7Ozs7a0NBRzVCLDhEQUFDQzt3QkFBRWQsV0FBVTs7NEJBQWdEOzBDQUN4RCw4REFBQ2dCOzBDQUFPOzs7Ozs7NEJBQW1COzs7Ozs7Ozs7Ozs7OzBCQUtsQyw4REFBQ2pCO2dCQUFJQyxXQUFVOztrQ0FDYiw4REFBQ2lCO3dCQUFHakIsV0FBVTtrQ0FBd0Q7Ozs7OztrQ0FDdEUsOERBQUNrQjt3QkFBR2xCLFdBQVU7OzBDQUNaLDhEQUFDbUI7O29DQUFHO2tEQUFFLDhEQUFDSDtrREFBTzs7Ozs7O29DQUFtQzs7Ozs7OzswQ0FDakQsOERBQUNHOztvQ0FBRztrREFBRSw4REFBQ0g7a0RBQU87Ozs7OztvQ0FBa0I7Ozs7Ozs7MENBQ2hDLDhEQUFDRzs7b0NBQUc7a0RBQUUsOERBQUNIO2tEQUFPOzs7Ozs7b0NBQW9DOzs7Ozs7OzBDQUNsRCw4REFBQ0c7O29DQUFHO2tEQUFFLDhEQUFDSDtrREFBTzs7Ozs7O29DQUFnQjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUt4QyIsInNvdXJjZXMiOlsid2VicGFjazovL3ZpYmVjYXJkaW5nLy4vY29tcG9uZW50cy93aXphcmQvc3RlcHMvU3RlcDNQZXJzb25hbGl6YXRpb24udHN4P2QxMzUiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2UgY2xpZW50XCI7XG5cbmltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgU2VsZWN0LCBTZWxlY3RDb250ZW50LCBTZWxlY3RJdGVtLCBTZWxlY3RUcmlnZ2VyLCBTZWxlY3RWYWx1ZSB9IGZyb20gXCJAL2NvbXBvbmVudHMvdWkvc2VsZWN0XCI7XG5pbXBvcnQgeyBUZXh0YXJlYSB9IGZyb20gXCJAL2NvbXBvbmVudHMvdWkvdGV4dGFyZWFcIjtcbmltcG9ydCB7IENhcmRGb3JtRGF0YSB9IGZyb20gXCJAL2hvb2tzL3VzZUNhcmRGb3JtXCI7XG5pbXBvcnQgeyBQaG90b1JlZmVyZW5jZSB9IGZyb20gXCJAL2hvb2tzL2NhcmRTdHVkaW8vY29uc3RhbnRzXCI7XG5cbmludGVyZmFjZSBTdGVwM1Byb3BzIHtcbiAgZm9ybURhdGE6IENhcmRGb3JtRGF0YTtcbiAgdXBkYXRlRm9ybURhdGE6ICh1cGRhdGVzOiBQYXJ0aWFsPENhcmRGb3JtRGF0YT4pID0+IHZvaWQ7XG4gIG9uU3RlcENvbXBsZXRlPzogKCkgPT4gdm9pZDtcbiAgcGhvdG9SZWZlcmVuY2VzPzogUGhvdG9SZWZlcmVuY2VbXTtcbn1cblxuLy8gQ3VyYXRlZCBhcnRpc3RpYyBzdHlsZXNcbmNvbnN0IGFydGlzdGljU3R5bGVzID0gW1xuICB7XG4gICAgaWQ6IFwiYWktc21hcnQtc3R5bGVcIiwgXG4gICAgbGFiZWw6IFwi8J+OryBTdHlsZSBTYW1wbGVyIChSZWNvbW1lbmRlZClcIiwgXG4gICAgZGVzY3JpcHRpb246IFwiUHJldmlldyB5b3VyIGNhcmQgaW4gNSBjdXJhdGVkIHN0eWxlcyAtIHBlcmZlY3QgZm9yIGZpbmRpbmcgeW91ciBmYXZvcml0ZVwiLFxuICAgIGNvbG9yOiBcImZyb20tcHVycGxlLTEwMCB0by1waW5rLTEwMCBkYXJrOmZyb20tcHVycGxlLTkwMCBkYXJrOnRvLXBpbmstOTAwXCIsXG4gICAgcHJldmlldzogXCLwn46vXCJcbiAgfSxcbiAge1xuICAgIGlkOiBcImN1c3RvbVwiLCBcbiAgICBsYWJlbDogXCLinKggQ3VzdG9tIFN0eWxlXCIsIFxuICAgIGRlc2NyaXB0aW9uOiBcIkRlZmluZSB5b3VyIG93biB1bmlxdWUgYXJ0aXN0aWMgc3R5bGVcIixcbiAgICBjb2xvcjogXCJmcm9tLXZpb2xldC0xMDAgdG8tcHVycGxlLTEwMCBkYXJrOmZyb20tdmlvbGV0LTkwMCBkYXJrOnRvLXB1cnBsZS05MDBcIixcbiAgICBwcmV2aWV3OiBcIvCfjq9cIlxuICB9LFxuICB7IFxuICAgIGlkOiBcIndhdGVyY29sb3JcIiwgXG4gICAgbGFiZWw6IFwi8J+OqCBXYXRlcmNvbG9yXCIsIFxuICAgIGRlc2NyaXB0aW9uOiBcIlNvZnQsIGZsb3dpbmcgcGFpbnQgZWZmZWN0cyAob3VyIHBlcnNvbmFsIGZhdm9yaXRlKVwiLFxuICAgIGNvbG9yOiBcImZyb20tYmx1ZS0xMDAgdG8tY3lhbi0xMDAgZGFyazpmcm9tLWJsdWUtOTAwIGRhcms6dG8tY3lhbi05MDBcIixcbiAgICBwcmV2aWV3OiBcIvCfjqhcIlxuICB9LFxuICB7XG4gICAgaWQ6IFwibWluaW1hbGlzdFwiLCBcbiAgICBsYWJlbDogXCLinKggTWluaW1hbGlzdFwiLCBcbiAgICBkZXNjcmlwdGlvbjogXCJDbGVhbiwgc2ltcGxlLCBlbGVnYW50IGRlc2lnblwiLFxuICAgIGNvbG9yOiBcImZyb20tZ3JheS0xMDAgdG8tc2xhdGUtMTAwIGRhcms6ZnJvbS1ncmF5LTkwMCBkYXJrOnRvLXNsYXRlLTkwMFwiLFxuICAgIHByZXZpZXc6IFwi4pevXCJcbiAgfSxcbiAgeyBcbiAgICBpZDogXCJib3RhbmljYWxcIiwgXG4gICAgbGFiZWw6IFwi8J+MvyBCb3RhbmljYWxcIiwgXG4gICAgZGVzY3JpcHRpb246IFwiQmVhdXRpZnVsIGZsb3dlcnMgYW5kIG5hdHVyZSBlbGVtZW50c1wiLFxuICAgIGNvbG9yOiBcImZyb20tZ3JlZW4tMTAwIHRvLWVtZXJhbGQtMTAwIGRhcms6ZnJvbS1ncmVlbi05MDAgZGFyazp0by1lbWVyYWxkLTkwMFwiLFxuICAgIHByZXZpZXc6IFwi8J+Mv1wiXG4gIH0sXG4gIHsgXG4gICAgaWQ6IFwiY29taWMtYm9va1wiLCBcbiAgICBsYWJlbDogXCLwn5KlIENvbWljIEJvb2tcIiwgXG4gICAgZGVzY3JpcHRpb246IFwiQm9sZCBncmFwaGljIG5vdmVsIHN0eWxlXCIsXG4gICAgY29sb3I6IFwiZnJvbS15ZWxsb3ctMTAwIHRvLXJlZC0xMDAgZGFyazpmcm9tLXllbGxvdy05MDAgZGFyazp0by1yZWQtOTAwXCIsXG4gICAgcHJldmlldzogXCLwn5KlXCJcbiAgfSxcbiAgeyBcbiAgICBpZDogXCJkcmVhbXktZmFudGFzeVwiLCBcbiAgICBsYWJlbDogXCLwn4y4IERyZWFteSBGYW50YXN5XCIsIFxuICAgIGRlc2NyaXB0aW9uOiBcIkVuY2hhbnRpbmcgYW5pbWUtaW5zcGlyZWQgYXJ0XCIsXG4gICAgY29sb3I6IFwiZnJvbS1waW5rLTEwMCB0by1wdXJwbGUtMTAwIGRhcms6ZnJvbS1waW5rLTkwMCBkYXJrOnRvLXB1cnBsZS05MDBcIixcbiAgICBwcmV2aWV3OiBcIvCfjLhcIlxuICB9LFxuICB7XG4gICAgaWQ6IFwibW9kZXJuLWdlb21ldHJpY1wiLCBcbiAgICBsYWJlbDogXCLwn5S3IE1vZGVybiBHZW9tZXRyaWNcIiwgXG4gICAgZGVzY3JpcHRpb246IFwiQ2xlYW4gY29udGVtcG9yYXJ5IHNoYXBlc1wiLFxuICAgIGNvbG9yOiBcImZyb20taW5kaWdvLTEwMCB0by1ibHVlLTEwMCBkYXJrOmZyb20taW5kaWdvLTkwMCBkYXJrOnRvLWJsdWUtOTAwXCIsXG4gICAgcHJldmlldzogXCLwn5S3XCJcbiAgfSxcbl07XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFN0ZXAzUGVyc29uYWxpemF0aW9uKHsgXG4gIGZvcm1EYXRhLCBcbiAgdXBkYXRlRm9ybURhdGEsIFxuICBvblN0ZXBDb21wbGV0ZSxcbiAgcGhvdG9SZWZlcmVuY2VzID0gW11cbn06IFN0ZXAzUHJvcHMpIHtcblxuICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgIC8vIEF1dG8tY29tcGxldGUgc3RlcCB3aGVuIHN0eWxlIGlzIHNlbGVjdGVkIChwZXJzb25hbCB0cmFpdHMgYXJlIG9wdGlvbmFsKVxuICAgIGNvbnN0IGlzVmFsaWQgPSBmb3JtRGF0YS5zZWxlY3RlZEFydGlzdGljU3R5bGUgJiYgXG4gICAgICAoZm9ybURhdGEuc2VsZWN0ZWRBcnRpc3RpY1N0eWxlICE9PSBcImN1c3RvbVwiIHx8IGZvcm1EYXRhLmN1c3RvbVN0eWxlRGVzY3JpcHRpb24udHJpbSgpKTtcbiAgICBcbiAgICBpZiAoaXNWYWxpZCkge1xuICAgICAgb25TdGVwQ29tcGxldGU/LigpO1xuICAgIH1cbiAgfSwgW2Zvcm1EYXRhLnNlbGVjdGVkQXJ0aXN0aWNTdHlsZSwgZm9ybURhdGEuY3VzdG9tU3R5bGVEZXNjcmlwdGlvbiwgb25TdGVwQ29tcGxldGVdKTtcblxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTZcIj5cbiAgICAgIHsvKiBBcnRpc3RpYyBTdHlsZSBTZWxlY3Rpb24gKi99XG4gICAgICA8ZGl2PlxuICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwidGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWdyYXktNzAwIGRhcms6dGV4dC1ncmF5LTMwMCBtYi0yIGJsb2NrXCI+XG4gICAgICAgICAgQXJ0aXN0aWMgU3R5bGVcbiAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgPFNlbGVjdCBcbiAgICAgICAgICB2YWx1ZT17Zm9ybURhdGEuc2VsZWN0ZWRBcnRpc3RpY1N0eWxlfSBcbiAgICAgICAgICBvblZhbHVlQ2hhbmdlPXsodmFsdWUpID0+IHVwZGF0ZUZvcm1EYXRhKHsgc2VsZWN0ZWRBcnRpc3RpY1N0eWxlOiB2YWx1ZSB9KX1cbiAgICAgICAgPlxuICAgICAgICAgIDxTZWxlY3RUcmlnZ2VyPlxuICAgICAgICAgICAgPFNlbGVjdFZhbHVlIHBsYWNlaG9sZGVyPVwiQ2hvb3NlIGFydGlzdGljIHN0eWxlXCI+XG4gICAgICAgICAgICAgIHsoKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNlbGVjdGVkID0gYXJ0aXN0aWNTdHlsZXMuZmluZCgoc3R5bGUpID0+IHN0eWxlLmlkID09PSBmb3JtRGF0YS5zZWxlY3RlZEFydGlzdGljU3R5bGUpO1xuICAgICAgICAgICAgICAgIGlmICghc2VsZWN0ZWQpIHJldHVybiA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNDAwXCI+Q2hvb3NlIGFydGlzdGljIHN0eWxlPC9zcGFuPjtcbiAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtM1wiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YHctOCBoLTggYmctZ3JhZGllbnQtdG8tYnIgJHtzZWxlY3RlZC5jb2xvcn0gcm91bmRlZC1sZyBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBzaGFkb3ctc21gfT5cbiAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LWxnXCI+e3NlbGVjdGVkLnByZXZpZXd9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZm9udC1tZWRpdW1cIj57c2VsZWN0ZWQubGFiZWx9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgfSkoKX1cbiAgICAgICAgICAgIDwvU2VsZWN0VmFsdWU+XG4gICAgICAgICAgPC9TZWxlY3RUcmlnZ2VyPlxuICAgICAgICAgIDxTZWxlY3RDb250ZW50IGNsYXNzTmFtZT1cIm1heC13LVtjYWxjKDEwMHZ3LTJyZW0pXVwiPlxuICAgICAgICAgICAge2FydGlzdGljU3R5bGVzLm1hcCgoc3R5bGUpID0+IChcbiAgICAgICAgICAgICAgPFNlbGVjdEl0ZW0ga2V5PXtzdHlsZS5pZH0gdmFsdWU9e3N0eWxlLmlkfSBjbGFzc05hbWU9XCJjdXJzb3ItcG9pbnRlciBob3ZlcjpiZy1wdXJwbGUtNTAgZGFyazpob3ZlcjpiZy1wdXJwbGUtOTAwLzIwIG1heC13LWZ1bGxcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0zIHB5LTEgdy1mdWxsXCI+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YHctMTAgaC0xMCBmbGV4LXNocmluay0wIGJnLWdyYWRpZW50LXRvLWJyICR7c3R5bGUuY29sb3J9IHJvdW5kZWQtbGcgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgc2hhZG93LXNtYH0+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQteGxcIj57c3R5bGUucHJldmlld308L3NwYW4+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC0xIHRleHQtbGVmdCBtaW4tdy0wIG92ZXJmbG93LWhpZGRlblwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGQgdGV4dC1ncmF5LTkwMCBkYXJrOnRleHQtZ3JheS0xMDAgdHJ1bmNhdGVcIj57c3R5bGUubGFiZWx9PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LWdyYXktNjAwIGRhcms6dGV4dC1ncmF5LTQwMCBicmVhay13b3JkcyB3aGl0ZXNwYWNlLW5vcm1hbCBwci0yXCI+e3N0eWxlLmRlc2NyaXB0aW9ufTwvZGl2PlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvU2VsZWN0SXRlbT5cbiAgICAgICAgICAgICkpfVxuICAgICAgICAgIDwvU2VsZWN0Q29udGVudD5cbiAgICAgICAgPC9TZWxlY3Q+XG4gICAgICAgIFxuICAgICAgICB7LyogQ3VzdG9tIFN0eWxlIERlc2NyaXB0aW9uICovfVxuICAgICAgICB7Zm9ybURhdGEuc2VsZWN0ZWRBcnRpc3RpY1N0eWxlID09PSBcImN1c3RvbVwiICYmIChcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTNcIj5cbiAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJ0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZ3JheS03MDAgZGFyazp0ZXh0LWdyYXktMzAwIG1iLTIgYmxvY2tcIj5cbiAgICAgICAgICAgICAgRGVzY3JpYmUgWW91ciBDdXN0b20gU3R5bGVcbiAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICA8VGV4dGFyZWFcbiAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJlLmcuLCBpbiB2aW50YWdlIDE5MjBzIGFydCBkZWNvIHN0eWxlIHdpdGggZ29sZCBhY2NlbnRzIGFuZCBnZW9tZXRyaWMgcGF0dGVybnMuLi5cIlxuICAgICAgICAgICAgICB2YWx1ZT17Zm9ybURhdGEuY3VzdG9tU3R5bGVEZXNjcmlwdGlvbn1cbiAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB1cGRhdGVGb3JtRGF0YSh7IGN1c3RvbVN0eWxlRGVzY3JpcHRpb246IGUudGFyZ2V0LnZhbHVlIH0pfVxuICAgICAgICAgICAgICByb3dzPXszfVxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJyZXNpemUtbm9uZVwiXG4gICAgICAgICAgICAgIHN0eWxlPXt7IGZvbnRTaXplOiAnMTZweCcgfX1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtZ3JheS01MDAgZGFyazp0ZXh0LWdyYXktNDAwIG10LTFcIj5cbiAgICAgICAgICAgICAgRGVzY3JpYmUgdGhlIGFydGlzdGljIHN0eWxlIHlvdSB3YW50IGZvciB5b3VyIGNhcmQgKGNvbG9ycywgdGVjaG5pcXVlcywgZXJhLCBtb29kLCBldGMuKVxuICAgICAgICAgICAgPC9wPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApfVxuICAgICAgPC9kaXY+XG5cblxuICAgICAgey8qIFBlcnNvbmFsIFRyYWl0cyBTZWN0aW9uICovfVxuICAgICAgPGRpdj5cbiAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cInRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1ncmF5LTcwMCBkYXJrOnRleHQtZ3JheS0zMDAgbWItMiBibG9ja1wiPlxuICAgICAgICAgIFdoYXQgRG8gVGhleSBMb3ZlPyA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNTAwIGZvbnQtbm9ybWFsXCI+KE9wdGlvbmFsKTwvc3Bhbj5cbiAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LWdyYXktNjAwIGRhcms6dGV4dC1ncmF5LTQwMCBtYi0zXCI+XG4gICAgICAgICAgU2hhcmUgdGhlaXIgaW50ZXJlc3RzIGFuZCBmYXZvcml0ZXMgLSBvdXIgQUkgd2lsbCBjcmVhdGUgYSBwZXJzb25hbGl6ZWQgc2NlbmUgZnJvbSB0aGVzZSBkZXRhaWxzXG4gICAgICAgIDwvcD5cbiAgICAgICAgICBcbiAgICAgICAgPFRleHRhcmVhXG4gICAgICAgICAgcGxhY2Vob2xkZXI9e2DigKIgTG92ZXMgc2tpaW5nLCBjcmFmdCBiZWVyLCBhbmQgY296eSBtb3VudGFpbiBsb2RnZXNcbuKAoiBFbmpveXMgc3VzaGksIHlvZ2EsIGFuZCBiZWFjaCBzdW5zZXRzXG7igKIgSW50byBnYW1pbmcsIHBpenphLCBhbmQgc2NpLWZpIG1vdmllc1xu4oCiIFBhc3Npb25hdGUgYWJvdXQgZ2FyZGVuaW5nLCB0ZWEsIGFuZCByZWFkaW5nIG15c3Rlcmllc2B9XG4gICAgICAgICAgdmFsdWU9e2Zvcm1EYXRhLnBlcnNvbmFsVHJhaXRzIHx8ICcnfVxuICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gdXBkYXRlRm9ybURhdGEoeyBwZXJzb25hbFRyYWl0czogZS50YXJnZXQudmFsdWUgfSl9XG4gICAgICAgICAgcm93cz17NX1cbiAgICAgICAgICBjbGFzc05hbWU9XCJyZXNpemUtbm9uZVwiXG4gICAgICAgICAgc3R5bGU9e3sgZm9udFNpemU6ICcxNnB4JyB9fVxuICAgICAgICAvPlxuICAgICAgICBcbiAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LWdyYXktNTAwIGRhcms6dGV4dC1ncmF5LTQwMCBtdC0yXCI+XG4gICAgICAgICAg8J+SoSA8c3Ryb25nPlRoZSBtYWdpYzo8L3N0cm9uZz4gQUkgY29tYmluZXMgdGhlc2UgdHJhaXRzIHdpdGggeW91ciBjaG9zZW4gc3R5bGUgdG8gY3JlYXRlIHVuaXF1ZSwgcGVyc29uYWxpemVkIGFydHdvcmsuIFNraXAgdGhpcyBmaWVsZCBmb3IgYSBnZW5lcmFsIGRlc2lnbi5cbiAgICAgICAgPC9wPlxuICAgICAgPC9kaXY+XG5cbiAgICAgIHsvKiBUaXBzIC0gTW9iaWxlIE9wdGltaXplZCAqL31cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctcHVycGxlLTUwIGRhcms6YmctcHVycGxlLTkwMC8yMCByb3VuZGVkLWxnIHAtMyBib3JkZXIgYm9yZGVyLXB1cnBsZS0yMDAgZGFyazpib3JkZXItcHVycGxlLTgwMFwiPlxuICAgICAgICA8aDQgY2xhc3NOYW1lPVwiZm9udC1tZWRpdW0gdGV4dC1wdXJwbGUtOTAwIGRhcms6dGV4dC1wdXJwbGUtMTAwIG1iLTJcIj7wn46oIEhvdyBJdCBXb3JrczwvaDQ+XG4gICAgICAgIDx1bCBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtcHVycGxlLTgwMCBkYXJrOnRleHQtcHVycGxlLTIwMCBzcGFjZS15LTFcIj5cbiAgICAgICAgICA8bGk+4oCiIDxzdHJvbmc+UGVyc29uYWwgVG91Y2ggKE9wdGlvbmFsKTo8L3N0cm9uZz4gQWRkIHRoZWlyIGZhdm9yaXRlIGFjdGl2aXRpZXMsIGZvb2RzLCBob2JiaWVzLCBhbmQgaW50ZXJlc3RzPC9saT5cbiAgICAgICAgICA8bGk+4oCiIDxzdHJvbmc+QUkgTWFnaWM6PC9zdHJvbmc+IE91ciBBSSBhdXRvbWF0aWNhbGx5IGNyZWF0ZXMgcGVyc29uYWxpemVkIHNjZW5lcyBmcm9tIHRoZXNlIGRldGFpbHM8L2xpPlxuICAgICAgICAgIDxsaT7igKIgPHN0cm9uZz5TdHlsZSBTZWxlY3Rpb24gKFJlcXVpcmVkKTo8L3N0cm9uZz4gQ2hvb3NlIGFuIGFydGlzdGljIHN0eWxlIGZvciB5b3VyIGNhcmQ8L2xpPlxuICAgICAgICAgIDxsaT7igKIgPHN0cm9uZz5SZXN1bHQ6PC9zdHJvbmc+IEEgYmVhdXRpZnVsIGNhcmQgLSBlaXRoZXIgcGVyc29uYWxpemVkIHdpdGggdGhlaXIgaW50ZXJlc3RzIG9yIGEgZ2VuZXJhbCBkZXNpZ248L2xpPlxuICAgICAgICA8L3VsPlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICk7XG59ICJdLCJuYW1lcyI6WyJSZWFjdCIsIlNlbGVjdCIsIlNlbGVjdENvbnRlbnQiLCJTZWxlY3RJdGVtIiwiU2VsZWN0VHJpZ2dlciIsIlNlbGVjdFZhbHVlIiwiVGV4dGFyZWEiLCJhcnRpc3RpY1N0eWxlcyIsImlkIiwibGFiZWwiLCJkZXNjcmlwdGlvbiIsImNvbG9yIiwicHJldmlldyIsIlN0ZXAzUGVyc29uYWxpemF0aW9uIiwiZm9ybURhdGEiLCJ1cGRhdGVGb3JtRGF0YSIsIm9uU3RlcENvbXBsZXRlIiwicGhvdG9SZWZlcmVuY2VzIiwidXNlRWZmZWN0IiwiaXNWYWxpZCIsInNlbGVjdGVkQXJ0aXN0aWNTdHlsZSIsImN1c3RvbVN0eWxlRGVzY3JpcHRpb24iLCJ0cmltIiwiZGl2IiwiY2xhc3NOYW1lIiwidmFsdWUiLCJvblZhbHVlQ2hhbmdlIiwicGxhY2Vob2xkZXIiLCJzZWxlY3RlZCIsImZpbmQiLCJzdHlsZSIsInNwYW4iLCJtYXAiLCJvbkNoYW5nZSIsImUiLCJ0YXJnZXQiLCJyb3dzIiwiZm9udFNpemUiLCJwIiwicGVyc29uYWxUcmFpdHMiLCJzdHJvbmciLCJoNCIsInVsIiwibGkiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./components/wizard/steps/Step3Personalization.tsx\n");

/***/ }),

/***/ "(ssr)/./components/wizard/steps/Step4Details.tsx":
/*!**************************************************!*\
  !*** ./components/wizard/steps/Step4Details.tsx ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Step4Details)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _components_ui_input__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/components/ui/input */ \"(ssr)/./components/ui/input.tsx\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \n\n\nfunction Step4Details({ formData, updateFormData, onStepComplete }) {\n    react__WEBPACK_IMPORTED_MODULE_1___default().useEffect(()=>{\n        // Validate email and auto-complete when valid\n        const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n        const isValid = formData.userEmail.trim() && emailRegex.test(formData.userEmail);\n        if (isValid) {\n            onStepComplete?.();\n        }\n    }, [\n        formData.userEmail,\n        onStepComplete\n    ]);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"space-y-4\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"space-y-3\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center gap-2\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"w-1.5 h-8 bg-gradient-to-b from-orange-500 to-red-500 rounded-full\"\n                            }, void 0, false, {\n                                fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step4Details.tsx\",\n                                lineNumber: 30,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                className: \"text-base font-semibold text-gray-800 dark:text-gray-200\",\n                                children: \"Your Email\"\n                            }, void 0, false, {\n                                fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step4Details.tsx\",\n                                lineNumber: 31,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step4Details.tsx\",\n                        lineNumber: 29,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_input__WEBPACK_IMPORTED_MODULE_2__.Input, {\n                        type: \"email\",\n                        placeholder: \"\\uD83D\\uDCE7 your.email@example.com\",\n                        required: true,\n                        value: formData.userEmail,\n                        onChange: (e)=>updateFormData({\n                                userEmail: e.target.value\n                            }),\n                        style: {\n                            fontSize: \"16px\"\n                        },\n                        className: \"h-12 sm:h-14 border-2 hover:border-orange-300 dark:hover:border-orange-700 transition-colors touch-manipulation text-base\"\n                    }, void 0, false, {\n                        fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step4Details.tsx\",\n                        lineNumber: 35,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"text-xs text-gray-500 dark:text-gray-400\",\n                        children: \"We'll email you when your card is ready!\"\n                    }, void 0, false, {\n                        fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step4Details.tsx\",\n                        lineNumber: 44,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step4Details.tsx\",\n                lineNumber: 28,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"bg-orange-50 dark:bg-orange-900/20 rounded-lg p-3 border border-orange-200 dark:border-orange-800\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h4\", {\n                        className: \"font-medium text-orange-900 dark:text-orange-100 mb-2\",\n                        children: \"\\uD83D\\uDCE7 Almost There!\"\n                    }, void 0, false, {\n                        fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step4Details.tsx\",\n                        lineNumber: 51,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"text-sm text-orange-800 dark:text-orange-200\",\n                        children: \"Your email is required to generate and deliver your personalized greeting card.\"\n                    }, void 0, false, {\n                        fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step4Details.tsx\",\n                        lineNumber: 52,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step4Details.tsx\",\n                lineNumber: 50,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step4Details.tsx\",\n        lineNumber: 26,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9jb21wb25lbnRzL3dpemFyZC9zdGVwcy9TdGVwNERldGFpbHMudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFFMEI7QUFDb0I7QUFTL0IsU0FBU0UsYUFBYSxFQUFFQyxRQUFRLEVBQUVDLGNBQWMsRUFBRUMsY0FBYyxFQUFjO0lBRTNGTCxzREFBZSxDQUFDO1FBQ2QsOENBQThDO1FBQzlDLE1BQU1PLGFBQWE7UUFDbkIsTUFBTUMsVUFBVUwsU0FBU00sU0FBUyxDQUFDQyxJQUFJLE1BQU1ILFdBQVdJLElBQUksQ0FBQ1IsU0FBU00sU0FBUztRQUUvRSxJQUFJRCxTQUFTO1lBQ1hIO1FBQ0Y7SUFDRixHQUFHO1FBQUNGLFNBQVNNLFNBQVM7UUFBRUo7S0FBZTtJQUV2QyxxQkFDRSw4REFBQ087UUFBSUMsV0FBVTs7MEJBRWIsOERBQUNEO2dCQUFJQyxXQUFVOztrQ0FDYiw4REFBQ0Q7d0JBQUlDLFdBQVU7OzBDQUNiLDhEQUFDRDtnQ0FBSUMsV0FBVTs7Ozs7OzBDQUNmLDhEQUFDQztnQ0FBTUQsV0FBVTswQ0FBMkQ7Ozs7Ozs7Ozs7OztrQ0FJOUUsOERBQUNaLHVEQUFLQTt3QkFDSmMsTUFBSzt3QkFDTEMsYUFBWTt3QkFDWkMsUUFBUTt3QkFDUkMsT0FBT2YsU0FBU00sU0FBUzt3QkFDekJVLFVBQVUsQ0FBQ0MsSUFBTWhCLGVBQWU7Z0NBQUVLLFdBQVdXLEVBQUVDLE1BQU0sQ0FBQ0gsS0FBSzs0QkFBQzt3QkFDNURJLE9BQU87NEJBQUVDLFVBQVU7d0JBQU87d0JBQzFCVixXQUFVOzs7Ozs7a0NBRVosOERBQUNXO3dCQUFFWCxXQUFVO2tDQUEyQzs7Ozs7Ozs7Ozs7OzBCQU0xRCw4REFBQ0Q7Z0JBQUlDLFdBQVU7O2tDQUNiLDhEQUFDWTt3QkFBR1osV0FBVTtrQ0FBd0Q7Ozs7OztrQ0FDdEUsOERBQUNXO3dCQUFFWCxXQUFVO2tDQUErQzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBTXBFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdmliZWNhcmRpbmcvLi9jb21wb25lbnRzL3dpemFyZC9zdGVwcy9TdGVwNERldGFpbHMudHN4PzNiOGMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2UgY2xpZW50XCI7XG5cbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IElucHV0IH0gZnJvbSBcIkAvY29tcG9uZW50cy91aS9pbnB1dFwiO1xuaW1wb3J0IHsgQ2FyZEZvcm1EYXRhIH0gZnJvbSBcIkAvaG9va3MvdXNlQ2FyZEZvcm1cIjtcblxuaW50ZXJmYWNlIFN0ZXA0UHJvcHMge1xuICBmb3JtRGF0YTogQ2FyZEZvcm1EYXRhO1xuICB1cGRhdGVGb3JtRGF0YTogKHVwZGF0ZXM6IFBhcnRpYWw8Q2FyZEZvcm1EYXRhPikgPT4gdm9pZDtcbiAgb25TdGVwQ29tcGxldGU/OiAoKSA9PiB2b2lkO1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBTdGVwNERldGFpbHMoeyBmb3JtRGF0YSwgdXBkYXRlRm9ybURhdGEsIG9uU3RlcENvbXBsZXRlIH06IFN0ZXA0UHJvcHMpIHtcblxuICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgIC8vIFZhbGlkYXRlIGVtYWlsIGFuZCBhdXRvLWNvbXBsZXRlIHdoZW4gdmFsaWRcbiAgICBjb25zdCBlbWFpbFJlZ2V4ID0gL15bXlxcc0BdK0BbXlxcc0BdK1xcLlteXFxzQF0rJC87XG4gICAgY29uc3QgaXNWYWxpZCA9IGZvcm1EYXRhLnVzZXJFbWFpbC50cmltKCkgJiYgZW1haWxSZWdleC50ZXN0KGZvcm1EYXRhLnVzZXJFbWFpbCk7XG4gICAgXG4gICAgaWYgKGlzVmFsaWQpIHtcbiAgICAgIG9uU3RlcENvbXBsZXRlPy4oKTtcbiAgICB9XG4gIH0sIFtmb3JtRGF0YS51c2VyRW1haWwsIG9uU3RlcENvbXBsZXRlXSk7XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktNFwiPlxuICAgICAgey8qIFVzZXIgRW1haWwgRmllbGQgKi99XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktM1wiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTEuNSBoLTggYmctZ3JhZGllbnQtdG8tYiBmcm9tLW9yYW5nZS01MDAgdG8tcmVkLTUwMCByb3VuZGVkLWZ1bGxcIiAvPlxuICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJ0ZXh0LWJhc2UgZm9udC1zZW1pYm9sZCB0ZXh0LWdyYXktODAwIGRhcms6dGV4dC1ncmF5LTIwMFwiPlxuICAgICAgICAgICAgWW91ciBFbWFpbFxuICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8SW5wdXRcbiAgICAgICAgICB0eXBlPVwiZW1haWxcIlxuICAgICAgICAgIHBsYWNlaG9sZGVyPVwi8J+TpyB5b3VyLmVtYWlsQGV4YW1wbGUuY29tXCJcbiAgICAgICAgICByZXF1aXJlZFxuICAgICAgICAgIHZhbHVlPXtmb3JtRGF0YS51c2VyRW1haWx9XG4gICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB1cGRhdGVGb3JtRGF0YSh7IHVzZXJFbWFpbDogZS50YXJnZXQudmFsdWUgfSl9XG4gICAgICAgICAgc3R5bGU9e3sgZm9udFNpemU6ICcxNnB4JyB9fVxuICAgICAgICAgIGNsYXNzTmFtZT1cImgtMTIgc206aC0xNCBib3JkZXItMiBob3Zlcjpib3JkZXItb3JhbmdlLTMwMCBkYXJrOmhvdmVyOmJvcmRlci1vcmFuZ2UtNzAwIHRyYW5zaXRpb24tY29sb3JzIHRvdWNoLW1hbmlwdWxhdGlvbiB0ZXh0LWJhc2VcIlxuICAgICAgICAvPlxuICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtZ3JheS01MDAgZGFyazp0ZXh0LWdyYXktNDAwXCI+XG4gICAgICAgICAgV2UnbGwgZW1haWwgeW91IHdoZW4geW91ciBjYXJkIGlzIHJlYWR5IVxuICAgICAgICA8L3A+XG4gICAgICA8L2Rpdj5cblxuICAgICAgey8qIFRpcHMgKi99XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLW9yYW5nZS01MCBkYXJrOmJnLW9yYW5nZS05MDAvMjAgcm91bmRlZC1sZyBwLTMgYm9yZGVyIGJvcmRlci1vcmFuZ2UtMjAwIGRhcms6Ym9yZGVyLW9yYW5nZS04MDBcIj5cbiAgICAgICAgPGg0IGNsYXNzTmFtZT1cImZvbnQtbWVkaXVtIHRleHQtb3JhbmdlLTkwMCBkYXJrOnRleHQtb3JhbmdlLTEwMCBtYi0yXCI+8J+TpyBBbG1vc3QgVGhlcmUhPC9oND5cbiAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LW9yYW5nZS04MDAgZGFyazp0ZXh0LW9yYW5nZS0yMDBcIj5cbiAgICAgICAgICBZb3VyIGVtYWlsIGlzIHJlcXVpcmVkIHRvIGdlbmVyYXRlIGFuZCBkZWxpdmVyIHlvdXIgcGVyc29uYWxpemVkIGdyZWV0aW5nIGNhcmQuXG4gICAgICAgIDwvcD5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApO1xufSAiXSwibmFtZXMiOlsiUmVhY3QiLCJJbnB1dCIsIlN0ZXA0RGV0YWlscyIsImZvcm1EYXRhIiwidXBkYXRlRm9ybURhdGEiLCJvblN0ZXBDb21wbGV0ZSIsInVzZUVmZmVjdCIsImVtYWlsUmVnZXgiLCJpc1ZhbGlkIiwidXNlckVtYWlsIiwidHJpbSIsInRlc3QiLCJkaXYiLCJjbGFzc05hbWUiLCJsYWJlbCIsInR5cGUiLCJwbGFjZWhvbGRlciIsInJlcXVpcmVkIiwidmFsdWUiLCJvbkNoYW5nZSIsImUiLCJ0YXJnZXQiLCJzdHlsZSIsImZvbnRTaXplIiwicCIsImg0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./components/wizard/steps/Step4Details.tsx\n");

/***/ }),

/***/ "(ssr)/./components/wizard/steps/Step5Review.tsx":
/*!*************************************************!*\
  !*** ./components/wizard/steps/Step5Review.tsx ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Step5Review)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _components_ui_button__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/components/ui/button */ \"(ssr)/./components/ui/button.tsx\");\n/* harmony import */ var _barrel_optimize_names_CheckCircle_Sparkles_lucide_react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! __barrel_optimize__?names=CheckCircle,Sparkles!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/circle-check-big.js\");\n/* harmony import */ var _barrel_optimize_names_CheckCircle_Sparkles_lucide_react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! __barrel_optimize__?names=CheckCircle,Sparkles!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/sparkles.js\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \n\n\n\nfunction Step5Review({ formData, updateFormData, onStepComplete, isGenerating, isGeneratingFinalCard, isGeneratingMessage, generationProgress, progressPercentage = 0, currentElapsedTime = 0, isDraftMode = false, draftCards = [], selectedDraftIndex = -1, formatGenerationTime, onGenerateDraftCards, onSelectDraft }) {\n    const [isReady, setIsReady] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // Removed panel navigation state since we're only showing front covers\n    // Mark step as complete when user is ready to generate\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (isReady && onStepComplete) {\n            onStepComplete();\n        }\n    }, [\n        isReady,\n        onStepComplete\n    ]);\n    // Auto-mark as ready since this is just the generation step\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        setIsReady(true);\n    }, []);\n    // Simple state - no complex job checking needed\n    // The parent component (useCardStudio) handles loading saved drafts\n    // Simple mount log\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        console.log(\"\\uD83D\\uDD04 Step5Review mounted with:\", {\n            isGenerating,\n            draftCardsLength: draftCards.length,\n            isDraftMode\n        });\n    }, []);\n    // Show loading state only if actively generating and no draft cards yet\n    const shouldShowLoading = isGenerating && draftCards.length === 0;\n    if (shouldShowLoading) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"space-y-6\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"text-center space-y-4\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"w-16 h-16 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center mx-auto\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"w-6 h-6 border-2 border-white border-t-transparent rounded-full animate-spin\"\n                            }, void 0, false, {\n                                fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step5Review.tsx\",\n                                lineNumber: 82,\n                                columnNumber: 13\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step5Review.tsx\",\n                            lineNumber: 81,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                className: \"text-lg font-semibold text-gray-900 dark:text-white mb-2\",\n                                children: \"Creating Your Card\"\n                            }, void 0, false, {\n                                fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step5Review.tsx\",\n                                lineNumber: 85,\n                                columnNumber: 13\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step5Review.tsx\",\n                            lineNumber: 84,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step5Review.tsx\",\n                    lineNumber: 80,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"p-4 bg-gradient-to-r from-blue-50 to-cyan-50 dark:from-blue-900/30 dark:to-cyan-900/30 rounded-lg border border-blue-200 dark:border-blue-800\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"space-y-3\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex items-center gap-2\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"w-4 h-4 border-2 border-blue-500 border-t-transparent rounded-full animate-spin\"\n                                    }, void 0, false, {\n                                        fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step5Review.tsx\",\n                                        lineNumber: 96,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"text-sm font-medium text-blue-600 dark:text-blue-400\",\n                                        children: generationProgress || \"Generating your card...\"\n                                    }, void 0, false, {\n                                        fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step5Review.tsx\",\n                                        lineNumber: 97,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step5Review.tsx\",\n                                lineNumber: 95,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-3\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"bg-gradient-to-r from-blue-500 to-cyan-500 h-3 rounded-full transition-all duration-1000 ease-out\",\n                                    style: {\n                                        width: `${Math.min(progressPercentage, 100)}%`\n                                    }\n                                }, void 0, false, {\n                                    fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step5Review.tsx\",\n                                    lineNumber: 104,\n                                    columnNumber: 15\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step5Review.tsx\",\n                                lineNumber: 103,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex items-center justify-between text-xs text-gray-600 dark:text-gray-400\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"font-medium\",\n                                        children: [\n                                            Math.round(progressPercentage),\n                                            \"% Complete\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step5Review.tsx\",\n                                        lineNumber: 112,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex items-center gap-3\",\n                                        children: [\n                                            currentElapsedTime > 0 && formatGenerationTime && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"text-blue-600 dark:text-blue-400\",\n                                                children: [\n                                                    \"⏱️ \",\n                                                    formatGenerationTime(currentElapsedTime)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step5Review.tsx\",\n                                                lineNumber: 117,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"text-gray-500\",\n                                                children: isDraftMode && !isGeneratingFinalCard ? \"~30-60 sec expected\" : \"~1:30-2:00 min expected\"\n                                            }, void 0, false, {\n                                                fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step5Review.tsx\",\n                                                lineNumber: 121,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step5Review.tsx\",\n                                        lineNumber: 115,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step5Review.tsx\",\n                                lineNumber: 111,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step5Review.tsx\",\n                        lineNumber: 93,\n                        columnNumber: 11\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step5Review.tsx\",\n                    lineNumber: 92,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4 border border-blue-200 dark:border-blue-800\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h4\", {\n                            className: \"font-medium text-blue-900 dark:text-blue-100 mb-2\",\n                            children: \"Generating:\"\n                        }, void 0, false, {\n                            fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step5Review.tsx\",\n                            lineNumber: 131,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                            className: \"text-sm text-blue-800 dark:text-blue-200\",\n                            children: [\n                                formData.selectedType === \"custom\" ? formData.customCardType : formData.selectedType,\n                                \" card\",\n                                formData.selectedTone && ` with ${formData.selectedTone} tone`,\n                                formData.referenceImageUrls?.length > 0 && ` • ${formData.referenceImageUrls.length} reference photo${formData.referenceImageUrls.length > 1 ? \"s\" : \"\"}`\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step5Review.tsx\",\n                            lineNumber: 132,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step5Review.tsx\",\n                    lineNumber: 130,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step5Review.tsx\",\n            lineNumber: 78,\n            columnNumber: 7\n        }, this);\n    }\n    // Check if we should show draft selection vs generation\n    const showDraftSelection = !isGenerating && draftCards.length === 0;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"space-y-6\",\n        children: [\n            showDraftSelection && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"text-center space-y-2\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                        className: \"text-xl font-bold text-gray-900 dark:text-white\",\n                        children: \"Ready to Create Your Card?\"\n                    }, void 0, false, {\n                        fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step5Review.tsx\",\n                        lineNumber: 150,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"text-gray-600 dark:text-gray-400\",\n                        children: \"Choose how you'd like to generate your personalized greeting card\"\n                    }, void 0, false, {\n                        fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step5Review.tsx\",\n                        lineNumber: 153,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step5Review.tsx\",\n                lineNumber: 149,\n                columnNumber: 9\n            }, this),\n            showDraftSelection && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"bg-purple-50 dark:bg-purple-900/20 rounded-lg p-4 border border-purple-200 dark:border-purple-800\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex items-start gap-3\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"w-6 h-6 bg-purple-600 rounded-lg flex items-center justify-center flex-shrink-0\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: \"text-white text-sm\",\n                                children: \"\\uD83C\\uDFA8\"\n                            }, void 0, false, {\n                                fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step5Review.tsx\",\n                                lineNumber: 164,\n                                columnNumber: 13\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step5Review.tsx\",\n                            lineNumber: 163,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"space-y-2\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h4\", {\n                                    className: \"font-medium text-purple-900 dark:text-purple-100\",\n                                    children: \"Draft Mode - Front Cover Previews\"\n                                }, void 0, false, {\n                                    fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step5Review.tsx\",\n                                    lineNumber: 167,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"text-sm text-purple-700 dark:text-purple-300\",\n                                    children: [\n                                        \"We'll generate 5 rough draft variations of your card's front cover.\",\n                                        formData.selectedArtisticStyle === \"ai-smart-style\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"font-medium\",\n                                            children: \" Each will showcase a different artistic style.\"\n                                        }, void 0, false, {\n                                            fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step5Review.tsx\",\n                                            lineNumber: 173,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step5Review.tsx\",\n                                    lineNumber: 170,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"text-xs text-purple-600 dark:text-purple-400 italic\",\n                                    children: \"Note: These are quick previews to help you choose a design direction. The final card will be much higher quality with all 4 panels.\"\n                                }, void 0, false, {\n                                    fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step5Review.tsx\",\n                                    lineNumber: 176,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step5Review.tsx\",\n                            lineNumber: 166,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step5Review.tsx\",\n                    lineNumber: 162,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step5Review.tsx\",\n                lineNumber: 161,\n                columnNumber: 9\n            }, this),\n            showDraftSelection && draftCards.length === 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"space-y-4\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                    onClick: onGenerateDraftCards,\n                    disabled: isGenerating || isGeneratingMessage || !formData.userEmail?.trim(),\n                    className: \"w-full h-12 bg-gradient-to-r from-purple-500 to-pink-600 hover:from-purple-600 hover:to-pink-700 text-white rounded-lg font-medium flex items-center justify-center gap-2 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed\",\n                    children: isGenerating ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin\"\n                            }, void 0, false, {\n                                fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step5Review.tsx\",\n                                lineNumber: 195,\n                                columnNumber: 17\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                children: \"Creating 5 design options...\"\n                            }, void 0, false, {\n                                fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step5Review.tsx\",\n                                lineNumber: 196,\n                                columnNumber: 17\n                            }, this)\n                        ]\n                    }, void 0, true) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: \"text-lg\",\n                                children: \"\\uD83C\\uDFA8\"\n                            }, void 0, false, {\n                                fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step5Review.tsx\",\n                                lineNumber: 200,\n                                columnNumber: 17\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                children: \"Generate 5 Draft Previews\"\n                            }, void 0, false, {\n                                fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step5Review.tsx\",\n                                lineNumber: 201,\n                                columnNumber: 17\n                            }, this)\n                        ]\n                    }, void 0, true)\n                }, void 0, false, {\n                    fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step5Review.tsx\",\n                    lineNumber: 188,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step5Review.tsx\",\n                lineNumber: 186,\n                columnNumber: 9\n            }, this),\n            draftCards.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"space-y-4\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"text-center space-y-2\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                className: \"text-lg font-semibold text-gray-900 dark:text-white\",\n                                children: isGenerating ? \"Creating Front Cover Drafts...\" : \"Choose Your Favorite Front Cover Design\"\n                            }, void 0, false, {\n                                fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step5Review.tsx\",\n                                lineNumber: 212,\n                                columnNumber: 13\n                            }, this),\n                            !isGenerating && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"text-sm text-gray-600 dark:text-gray-400\",\n                                children: \"These are rough drafts showing only the front cover. Select your favorite design style and we'll create the complete high-quality card with all 4 panels.\"\n                            }, void 0, false, {\n                                fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step5Review.tsx\",\n                                lineNumber: 216,\n                                columnNumber: 15\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step5Review.tsx\",\n                        lineNumber: 211,\n                        columnNumber: 11\n                    }, this),\n                    isGenerating && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"p-4 bg-gradient-to-r from-blue-50 to-cyan-50 dark:from-blue-900/30 dark:to-cyan-900/30 rounded-lg border border-blue-200 dark:border-blue-800\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"space-y-3\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex items-center gap-2\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"w-4 h-4 border-2 border-blue-500 border-t-transparent rounded-full animate-spin\"\n                                        }, void 0, false, {\n                                            fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step5Review.tsx\",\n                                            lineNumber: 228,\n                                            columnNumber: 19\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"text-sm font-medium text-blue-600 dark:text-blue-400\",\n                                            children: generationProgress || \"Generating remaining variations...\"\n                                        }, void 0, false, {\n                                            fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step5Review.tsx\",\n                                            lineNumber: 229,\n                                            columnNumber: 19\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step5Review.tsx\",\n                                    lineNumber: 227,\n                                    columnNumber: 17\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-3\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"bg-gradient-to-r from-blue-500 to-cyan-500 h-3 rounded-full transition-all duration-1000 ease-out\",\n                                        style: {\n                                            width: `${Math.min(progressPercentage, 100)}%`\n                                        }\n                                    }, void 0, false, {\n                                        fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step5Review.tsx\",\n                                        lineNumber: 236,\n                                        columnNumber: 19\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step5Review.tsx\",\n                                    lineNumber: 235,\n                                    columnNumber: 17\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex items-center justify-between text-xs text-gray-600 dark:text-gray-400\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"font-medium\",\n                                            children: [\n                                                Math.round(progressPercentage),\n                                                \"% Complete\"\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step5Review.tsx\",\n                                            lineNumber: 244,\n                                            columnNumber: 19\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex items-center gap-3\",\n                                            children: [\n                                                currentElapsedTime > 0 && formatGenerationTime && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"text-blue-600 dark:text-blue-400\",\n                                                    children: [\n                                                        \"⏱️ \",\n                                                        formatGenerationTime(currentElapsedTime)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step5Review.tsx\",\n                                                    lineNumber: 249,\n                                                    columnNumber: 23\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"text-gray-500\",\n                                                    children: \"~30-60 sec expected\"\n                                                }, void 0, false, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step5Review.tsx\",\n                                                    lineNumber: 253,\n                                                    columnNumber: 21\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step5Review.tsx\",\n                                            lineNumber: 247,\n                                            columnNumber: 19\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step5Review.tsx\",\n                                    lineNumber: 243,\n                                    columnNumber: 17\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step5Review.tsx\",\n                            lineNumber: 225,\n                            columnNumber: 15\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step5Review.tsx\",\n                        lineNumber: 224,\n                        columnNumber: 13\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"w-full\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex overflow-x-auto gap-3 pb-4 -mx-4 px-4 snap-x snap-mandatory touch-pan-x\",\n                                children: Array.from({\n                                    length: 5\n                                }, (_, displayIndex)=>{\n                                    const card = draftCards[displayIndex];\n                                    const isLoading = !card;\n                                    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: `flex-shrink-0 w-52 sm:w-56 snap-center rounded-lg border-2 p-3 sm:p-3 transition-all cursor-pointer touch-manipulation ${selectedDraftIndex === displayIndex ? \"border-purple-500 bg-purple-50 dark:bg-purple-900/20 shadow-lg\" : card ? \"border-gray-200 dark:border-gray-700 hover:border-purple-300 hover:bg-purple-50/50 dark:hover:bg-purple-900/10\" : \"border-dashed border-gray-300 dark:border-gray-600\"}`,\n                                        onClick: ()=>card && onSelectDraft && onSelectDraft(displayIndex),\n                                        children: card ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"aspect-[2/3] relative overflow-hidden rounded border mb-3\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                                            src: card.frontCover,\n                                                            alt: `Design ${displayIndex + 1} - Front Cover Draft`,\n                                                            className: \"w-full h-full object-cover\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step5Review.tsx\",\n                                                            lineNumber: 285,\n                                                            columnNumber: 27\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"absolute top-2 right-2 bg-black/50 text-white text-xs px-2 py-1 rounded\",\n                                                            children: \"DRAFT\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step5Review.tsx\",\n                                                            lineNumber: 292,\n                                                            columnNumber: 27\n                                                        }, this),\n                                                        selectedDraftIndex === displayIndex && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"absolute inset-0 bg-purple-600/20 flex items-center justify-center pointer-events-none\",\n                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"bg-white rounded-full p-2\",\n                                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_CheckCircle_Sparkles_lucide_react__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n                                                                    className: \"w-8 h-8 text-purple-600\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step5Review.tsx\",\n                                                                    lineNumber: 299,\n                                                                    columnNumber: 33\n                                                                }, this)\n                                                            }, void 0, false, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step5Review.tsx\",\n                                                                lineNumber: 298,\n                                                                columnNumber: 31\n                                                            }, this)\n                                                        }, void 0, false, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step5Review.tsx\",\n                                                            lineNumber: 297,\n                                                            columnNumber: 29\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step5Review.tsx\",\n                                                    lineNumber: 284,\n                                                    columnNumber: 25\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"text-center space-y-2\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h4\", {\n                                                            className: \"font-medium text-sm\",\n                                                            children: [\n                                                                \"Draft \",\n                                                                displayIndex + 1\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step5Review.tsx\",\n                                                            lineNumber: 307,\n                                                            columnNumber: 27\n                                                        }, this),\n                                                        formData.selectedArtisticStyle === \"ai-smart-style\" && card.styleInfo && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                            className: \"text-xs text-gray-600 dark:text-gray-400 truncate\",\n                                                            children: card.styleInfo.styleLabel\n                                                        }, void 0, false, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step5Review.tsx\",\n                                                            lineNumber: 311,\n                                                            columnNumber: 29\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"space-y-2\",\n                                                            children: selectedDraftIndex === displayIndex && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"bg-purple-600 text-white text-xs px-3 py-1 rounded-full\",\n                                                                children: \"✓ Selected\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step5Review.tsx\",\n                                                                lineNumber: 317,\n                                                                columnNumber: 31\n                                                            }, this)\n                                                        }, void 0, false, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step5Review.tsx\",\n                                                            lineNumber: 315,\n                                                            columnNumber: 27\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step5Review.tsx\",\n                                                    lineNumber: 306,\n                                                    columnNumber: 25\n                                                }, this)\n                                            ]\n                                        }, void 0, true) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex flex-col items-center justify-center py-8\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"w-8 h-8 border-2 border-purple-500 border-t-transparent rounded-full animate-spin mx-auto mb-3\"\n                                                }, void 0, false, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step5Review.tsx\",\n                                                    lineNumber: 326,\n                                                    columnNumber: 25\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h4\", {\n                                                    className: \"font-medium text-sm mb-1\",\n                                                    children: \"Creating...\"\n                                                }, void 0, false, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step5Review.tsx\",\n                                                    lineNumber: 327,\n                                                    columnNumber: 25\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                    className: \"text-xs text-gray-500\",\n                                                    children: \"Generating draft...\"\n                                                }, void 0, false, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step5Review.tsx\",\n                                                    lineNumber: 328,\n                                                    columnNumber: 25\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step5Review.tsx\",\n                                            lineNumber: 325,\n                                            columnNumber: 23\n                                        }, this)\n                                    }, displayIndex, false, {\n                                        fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step5Review.tsx\",\n                                        lineNumber: 270,\n                                        columnNumber: 19\n                                    }, this);\n                                })\n                            }, void 0, false, {\n                                fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step5Review.tsx\",\n                                lineNumber: 264,\n                                columnNumber: 13\n                            }, this),\n                            selectedDraftIndex !== -1 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"text-center bg-purple-50 dark:bg-purple-900/20 rounded-lg p-3 mt-4\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"text-sm font-medium text-purple-900 dark:text-purple-100\",\n                                    children: [\n                                        \"✓ Draft \",\n                                        selectedDraftIndex + 1,\n                                        \" selected - ready to generate your complete high-quality card with all 4 panels!\"\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step5Review.tsx\",\n                                    lineNumber: 339,\n                                    columnNumber: 17\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step5Review.tsx\",\n                                lineNumber: 338,\n                                columnNumber: 15\n                            }, this),\n                            !isGenerating && draftCards.filter(Boolean).length === 5 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"text-center mt-4\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                        variant: \"outline\",\n                                        onClick: onGenerateDraftCards,\n                                        disabled: isGeneratingFinalCard,\n                                        className: \"h-10 px-4 text-sm\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_CheckCircle_Sparkles_lucide_react__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n                                                className: \"w-4 h-4 mr-2\"\n                                            }, void 0, false, {\n                                                fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step5Review.tsx\",\n                                                lineNumber: 354,\n                                                columnNumber: 19\n                                            }, this),\n                                            \"Generate New Drafts\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step5Review.tsx\",\n                                        lineNumber: 348,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"text-xs text-gray-500 dark:text-gray-400 mt-2\",\n                                        children: \"Not happy with these? Generate 5 new draft variations\"\n                                    }, void 0, false, {\n                                        fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step5Review.tsx\",\n                                        lineNumber: 357,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step5Review.tsx\",\n                                lineNumber: 347,\n                                columnNumber: 15\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step5Review.tsx\",\n                        lineNumber: 263,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step5Review.tsx\",\n                lineNumber: 210,\n                columnNumber: 9\n            }, this),\n            !formData.userEmail?.trim() && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"bg-amber-50 dark:bg-amber-900/20 rounded-lg p-4 border border-amber-200 dark:border-amber-800\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex items-center gap-2\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                            className: \"text-amber-600\",\n                            children: \"⚠️\"\n                        }, void 0, false, {\n                            fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step5Review.tsx\",\n                            lineNumber: 370,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                            className: \"text-sm text-amber-800 dark:text-amber-200\",\n                            children: \"Please enter your email address in the previous steps to generate your card.\"\n                        }, void 0, false, {\n                            fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step5Review.tsx\",\n                            lineNumber: 371,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step5Review.tsx\",\n                    lineNumber: 369,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step5Review.tsx\",\n                lineNumber: 368,\n                columnNumber: 9\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"bg-gray-50 dark:bg-gray-800/50 rounded-lg p-4 border border-gray-200 dark:border-gray-700\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h4\", {\n                        className: \"font-medium text-gray-900 dark:text-gray-100 mb-2\",\n                        children: \"\\uD83D\\uDCA1 Generation Tips:\"\n                    }, void 0, false, {\n                        fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step5Review.tsx\",\n                        lineNumber: 380,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"ul\", {\n                        className: \"text-sm text-gray-700 dark:text-gray-300 space-y-1\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                children: \"• Drafts are quick previews to help you choose a design direction\"\n                            }, void 0, false, {\n                                fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step5Review.tsx\",\n                                lineNumber: 382,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                children: \"• Only the front cover is shown in draft mode\"\n                            }, void 0, false, {\n                                fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step5Review.tsx\",\n                                lineNumber: 383,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                children: \"• Final generation creates all 4 panels in high quality\"\n                            }, void 0, false, {\n                                fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step5Review.tsx\",\n                                lineNumber: 384,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                children: \"• Draft generation takes 30-60 seconds, final card takes 1-3 minutes\"\n                            }, void 0, false, {\n                                fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step5Review.tsx\",\n                                lineNumber: 385,\n                                columnNumber: 11\n                            }, this),\n                            formData.referenceImageUrls?.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                children: [\n                                    \"• Your \",\n                                    formData.referenceImageUrls.length,\n                                    \" reference photo\",\n                                    formData.referenceImageUrls.length > 1 ? \"s\" : \"\",\n                                    \" will be used for character creation\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step5Review.tsx\",\n                                lineNumber: 387,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step5Review.tsx\",\n                        lineNumber: 381,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step5Review.tsx\",\n                lineNumber: 379,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step5Review.tsx\",\n        lineNumber: 146,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9jb21wb25lbnRzL3dpemFyZC9zdGVwcy9TdGVwNVJldmlldy50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBRW1EO0FBR0g7QUFDeUI7QUFzQjFELFNBQVNNLFlBQVksRUFDbENDLFFBQVEsRUFDUkMsY0FBYyxFQUNkQyxjQUFjLEVBQ2RDLFlBQVksRUFDWkMscUJBQXFCLEVBQ3JCQyxtQkFBbUIsRUFDbkJDLGtCQUFrQixFQUNsQkMscUJBQXFCLENBQUMsRUFDdEJDLHFCQUFxQixDQUFDLEVBQ3RCQyxjQUFjLEtBQUssRUFDbkJDLGFBQWEsRUFBRSxFQUNmQyxxQkFBcUIsQ0FBQyxDQUFDLEVBQ3ZCQyxvQkFBb0IsRUFDcEJDLG9CQUFvQixFQUNwQkMsYUFBYSxFQUNGO0lBQ1gsTUFBTSxDQUFDQyxTQUFTQyxXQUFXLEdBQUd0QiwrQ0FBUUEsQ0FBQztJQUN2Qyx1RUFBdUU7SUFFdkUsdURBQXVEO0lBQ3ZEQyxnREFBU0EsQ0FBQztRQUNSLElBQUlvQixXQUFXYixnQkFBZ0I7WUFDN0JBO1FBQ0Y7SUFDRixHQUFHO1FBQUNhO1FBQVNiO0tBQWU7SUFFNUIsNERBQTREO0lBQzVEUCxnREFBU0EsQ0FBQztRQUNScUIsV0FBVztJQUNiLEdBQUcsRUFBRTtJQUVMLGdEQUFnRDtJQUNoRCxvRUFBb0U7SUFFcEUsbUJBQW1CO0lBQ25CckIsZ0RBQVNBLENBQUM7UUFDUnNCLFFBQVFDLEdBQUcsQ0FBQywwQ0FBZ0M7WUFDMUNmO1lBQ0FnQixrQkFBa0JULFdBQVdVLE1BQU07WUFDbkNYO1FBQ0Y7SUFDRixHQUFHLEVBQUU7SUFFTCx3RUFBd0U7SUFDeEUsTUFBTVksb0JBQW9CbEIsZ0JBQWdCTyxXQUFXVSxNQUFNLEtBQUs7SUFFaEUsSUFBSUMsbUJBQW1CO1FBQ3JCLHFCQUNFLDhEQUFDQztZQUFJQyxXQUFVOzs4QkFFYiw4REFBQ0Q7b0JBQUlDLFdBQVU7O3NDQUNiLDhEQUFDRDs0QkFBSUMsV0FBVTtzQ0FDYiw0RUFBQ0Q7Z0NBQUlDLFdBQVU7Ozs7Ozs7Ozs7O3NDQUVqQiw4REFBQ0Q7c0NBQ0MsNEVBQUNFO2dDQUFHRCxXQUFVOzBDQUEyRDs7Ozs7Ozs7Ozs7Ozs7Ozs7OEJBTzdFLDhEQUFDRDtvQkFBSUMsV0FBVTs4QkFDYiw0RUFBQ0Q7d0JBQUlDLFdBQVU7OzBDQUViLDhEQUFDRDtnQ0FBSUMsV0FBVTs7a0RBQ2IsOERBQUNEO3dDQUFJQyxXQUFVOzs7Ozs7a0RBQ2YsOERBQUNFO3dDQUFLRixXQUFVO2tEQUNiakIsc0JBQXNCOzs7Ozs7Ozs7Ozs7MENBSzNCLDhEQUFDZ0I7Z0NBQUlDLFdBQVU7MENBQ2IsNEVBQUNEO29DQUNDQyxXQUFVO29DQUNWRyxPQUFPO3dDQUFFQyxPQUFPLENBQUMsRUFBRUMsS0FBS0MsR0FBRyxDQUFDdEIsb0JBQW9CLEtBQUssQ0FBQyxDQUFDO29DQUFDOzs7Ozs7Ozs7OzswQ0FLNUQsOERBQUNlO2dDQUFJQyxXQUFVOztrREFDYiw4REFBQ0U7d0NBQUtGLFdBQVU7OzRDQUNiSyxLQUFLRSxLQUFLLENBQUN2Qjs0Q0FBb0I7Ozs7Ozs7a0RBRWxDLDhEQUFDZTt3Q0FBSUMsV0FBVTs7NENBQ1pmLHFCQUFxQixLQUFLSSxzQ0FDekIsOERBQUNhO2dEQUFLRixXQUFVOztvREFBbUM7b0RBQzdDWCxxQkFBcUJKOzs7Ozs7OzBEQUc3Qiw4REFBQ2lCO2dEQUFLRixXQUFVOzBEQUNiZCxlQUFlLENBQUNMLHdCQUF3Qix3QkFBd0I7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OzhCQVEzRSw4REFBQ2tCO29CQUFJQyxXQUFVOztzQ0FDYiw4REFBQ1E7NEJBQUdSLFdBQVU7c0NBQW9EOzs7Ozs7c0NBQ2xFLDhEQUFDUzs0QkFBRVQsV0FBVTs7Z0NBQ1Z2QixTQUFTaUMsWUFBWSxLQUFLLFdBQVdqQyxTQUFTa0MsY0FBYyxHQUFHbEMsU0FBU2lDLFlBQVk7Z0NBQUM7Z0NBQ3JGakMsU0FBU21DLFlBQVksSUFBSSxDQUFDLE1BQU0sRUFBRW5DLFNBQVNtQyxZQUFZLENBQUMsS0FBSyxDQUFDO2dDQUM5RG5DLFNBQVNvQyxrQkFBa0IsRUFBRWhCLFNBQVMsS0FBSyxDQUFDLEdBQUcsRUFBRXBCLFNBQVNvQyxrQkFBa0IsQ0FBQ2hCLE1BQU0sQ0FBQyxnQkFBZ0IsRUFBRXBCLFNBQVNvQyxrQkFBa0IsQ0FBQ2hCLE1BQU0sR0FBRyxJQUFJLE1BQU0sR0FBRyxDQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0lBS3BLO0lBRUEsd0RBQXdEO0lBQ3hELE1BQU1pQixxQkFBcUIsQ0FBQ2xDLGdCQUFnQk8sV0FBV1UsTUFBTSxLQUFLO0lBRWxFLHFCQUNFLDhEQUFDRTtRQUFJQyxXQUFVOztZQUVaYyxvQ0FDQyw4REFBQ2Y7Z0JBQUlDLFdBQVU7O2tDQUNiLDhEQUFDQzt3QkFBR0QsV0FBVTtrQ0FBa0Q7Ozs7OztrQ0FHaEUsOERBQUNTO3dCQUFFVCxXQUFVO2tDQUFtQzs7Ozs7Ozs7Ozs7O1lBT25EYyxvQ0FDQyw4REFBQ2Y7Z0JBQUlDLFdBQVU7MEJBQ2YsNEVBQUNEO29CQUFJQyxXQUFVOztzQ0FDYiw4REFBQ0Q7NEJBQUlDLFdBQVU7c0NBQ2IsNEVBQUNFO2dDQUFLRixXQUFVOzBDQUFxQjs7Ozs7Ozs7Ozs7c0NBRXZDLDhEQUFDRDs0QkFBSUMsV0FBVTs7OENBQ2IsOERBQUNRO29DQUFHUixXQUFVOzhDQUFtRDs7Ozs7OzhDQUdqRSw4REFBQ1M7b0NBQUVULFdBQVU7O3dDQUErQzt3Q0FFekR2QixTQUFTc0MscUJBQXFCLEtBQUssa0NBQ2xDLDhEQUFDYjs0Q0FBS0YsV0FBVTtzREFBYzs7Ozs7Ozs7Ozs7OzhDQUdsQyw4REFBQ1M7b0NBQUVULFdBQVU7OENBQXNEOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztZQVN4RWMsc0JBQXNCM0IsV0FBV1UsTUFBTSxLQUFLLG1CQUMzQyw4REFBQ0U7Z0JBQUlDLFdBQVU7MEJBRWIsNEVBQUNnQjtvQkFDQ0MsU0FBUzNCO29CQUNUNEIsVUFBVXRDLGdCQUFnQkUsdUJBQXVCLENBQUNMLFNBQVMwQyxTQUFTLEVBQUVDO29CQUN0RXBCLFdBQVU7OEJBRVRwQiw2QkFDQzs7MENBQ0UsOERBQUNtQjtnQ0FBSUMsV0FBVTs7Ozs7OzBDQUNmLDhEQUFDRTswQ0FBSzs7Ozs7OztxREFHUjs7MENBQ0UsOERBQUNBO2dDQUFLRixXQUFVOzBDQUFVOzs7Ozs7MENBQzFCLDhEQUFDRTswQ0FBSzs7Ozs7Ozs7Ozs7Ozs7Ozs7O1lBUWZmLFdBQVdVLE1BQU0sR0FBRyxtQkFDbkIsOERBQUNFO2dCQUFJQyxXQUFVOztrQ0FDYiw4REFBQ0Q7d0JBQUlDLFdBQVU7OzBDQUNiLDhEQUFDQztnQ0FBR0QsV0FBVTswQ0FDWHBCLGVBQWUsbUNBQW1DOzs7Ozs7NEJBRXBELENBQUNBLDhCQUNBLDhEQUFDNkI7Z0NBQUVULFdBQVU7MENBQTJDOzs7Ozs7Ozs7Ozs7b0JBTzNEcEIsOEJBQ0MsOERBQUNtQjt3QkFBSUMsV0FBVTtrQ0FDYiw0RUFBQ0Q7NEJBQUlDLFdBQVU7OzhDQUViLDhEQUFDRDtvQ0FBSUMsV0FBVTs7c0RBQ2IsOERBQUNEOzRDQUFJQyxXQUFVOzs7Ozs7c0RBQ2YsOERBQUNFOzRDQUFLRixXQUFVO3NEQUNiakIsc0JBQXNCOzs7Ozs7Ozs7Ozs7OENBSzNCLDhEQUFDZ0I7b0NBQUlDLFdBQVU7OENBQ2IsNEVBQUNEO3dDQUNDQyxXQUFVO3dDQUNWRyxPQUFPOzRDQUFFQyxPQUFPLENBQUMsRUFBRUMsS0FBS0MsR0FBRyxDQUFDdEIsb0JBQW9CLEtBQUssQ0FBQyxDQUFDO3dDQUFDOzs7Ozs7Ozs7Ozs4Q0FLNUQsOERBQUNlO29DQUFJQyxXQUFVOztzREFDYiw4REFBQ0U7NENBQUtGLFdBQVU7O2dEQUNiSyxLQUFLRSxLQUFLLENBQUN2QjtnREFBb0I7Ozs7Ozs7c0RBRWxDLDhEQUFDZTs0Q0FBSUMsV0FBVTs7Z0RBQ1pmLHFCQUFxQixLQUFLSSxzQ0FDekIsOERBQUNhO29EQUFLRixXQUFVOzt3REFBbUM7d0RBQzdDWCxxQkFBcUJKOzs7Ozs7OzhEQUc3Qiw4REFBQ2lCO29EQUFLRixXQUFVOzhEQUFnQjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7a0NBVTFDLDhEQUFDRDt3QkFBSUMsV0FBVTs7MENBQ2IsOERBQUNEO2dDQUFJQyxXQUFVOzBDQUNacUIsTUFBTUMsSUFBSSxDQUFDO29DQUFFekIsUUFBUTtnQ0FBRSxHQUFHLENBQUMwQixHQUFHQztvQ0FDN0IsTUFBTUMsT0FBT3RDLFVBQVUsQ0FBQ3FDLGFBQWE7b0NBQ3JDLE1BQU1FLFlBQVksQ0FBQ0Q7b0NBRW5CLHFCQUNFLDhEQUFDMUI7d0NBRUNDLFdBQVcsQ0FBQyx1SEFBdUgsRUFDaklaLHVCQUF1Qm9DLGVBQ25CLG1FQUNBQyxPQUNBLG1IQUNBLHFEQUNMLENBQUM7d0NBQ0ZSLFNBQVMsSUFBTVEsUUFBUWxDLGlCQUFpQkEsY0FBY2lDO2tEQUVyREMscUJBQ0M7OzhEQUVFLDhEQUFDMUI7b0RBQUlDLFdBQVU7O3NFQUNiLDhEQUFDMkI7NERBQ0NDLEtBQUtILEtBQUtJLFVBQVU7NERBQ3BCQyxLQUFLLENBQUMsT0FBTyxFQUFFTixlQUFlLEVBQUUsb0JBQW9CLENBQUM7NERBQ3JEeEIsV0FBVTs7Ozs7O3NFQUlaLDhEQUFDRDs0REFBSUMsV0FBVTtzRUFBMEU7Ozs7Ozt3REFJeEZaLHVCQUF1Qm9DLDhCQUN0Qiw4REFBQ3pCOzREQUFJQyxXQUFVO3NFQUNiLDRFQUFDRDtnRUFBSUMsV0FBVTswRUFDYiw0RUFBQzFCLGdHQUFXQTtvRUFBQzBCLFdBQVU7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OERBTy9CLDhEQUFDRDtvREFBSUMsV0FBVTs7c0VBQ2IsOERBQUNROzREQUFHUixXQUFVOztnRUFBc0I7Z0VBQzNCd0IsZUFBZTs7Ozs7Ozt3REFFdkIvQyxTQUFTc0MscUJBQXFCLEtBQUssb0JBQW9CVSxLQUFLTSxTQUFTLGtCQUNwRSw4REFBQ3RCOzREQUFFVCxXQUFVO3NFQUNWeUIsS0FBS00sU0FBUyxDQUFDQyxVQUFVOzs7Ozs7c0VBRzlCLDhEQUFDakM7NERBQUlDLFdBQVU7c0VBQ1paLHVCQUF1Qm9DLDhCQUN0Qiw4REFBQ3pCO2dFQUFJQyxXQUFVOzBFQUEwRDs7Ozs7Ozs7Ozs7Ozs7Ozs7O3lFQVFqRiw4REFBQ0Q7NENBQUlDLFdBQVU7OzhEQUNiLDhEQUFDRDtvREFBSUMsV0FBVTs7Ozs7OzhEQUNmLDhEQUFDUTtvREFBR1IsV0FBVTs4REFBMkI7Ozs7Ozs4REFDekMsOERBQUNTO29EQUFFVCxXQUFVOzhEQUF3Qjs7Ozs7Ozs7Ozs7O3VDQXpEcEN3Qjs7Ozs7Z0NBOERYOzs7Ozs7NEJBSURwQyx1QkFBdUIsQ0FBQyxtQkFDdkIsOERBQUNXO2dDQUFJQyxXQUFVOzBDQUNiLDRFQUFDUztvQ0FBRVQsV0FBVTs7d0NBQTJEO3dDQUM3RFoscUJBQXFCO3dDQUFFOzs7Ozs7Ozs7Ozs7NEJBTXJDLENBQUNSLGdCQUFnQk8sV0FBVzhDLE1BQU0sQ0FBQ0MsU0FBU3JDLE1BQU0sS0FBSyxtQkFDdEQsOERBQUNFO2dDQUFJQyxXQUFVOztrREFDYiw4REFBQzNCLHlEQUFNQTt3Q0FDTDhELFNBQVE7d0NBQ1JsQixTQUFTM0I7d0NBQ1Q0QixVQUFVckM7d0NBQ1ZtQixXQUFVOzswREFFViw4REFBQ3pCLGdHQUFRQTtnREFBQ3lCLFdBQVU7Ozs7Ozs0Q0FBaUI7Ozs7Ozs7a0RBR3ZDLDhEQUFDUzt3Q0FBRVQsV0FBVTtrREFBZ0Q7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztZQVV0RSxDQUFDdkIsU0FBUzBDLFNBQVMsRUFBRUMsd0JBQ3BCLDhEQUFDckI7Z0JBQUlDLFdBQVU7MEJBQ2IsNEVBQUNEO29CQUFJQyxXQUFVOztzQ0FDYiw4REFBQ0U7NEJBQUtGLFdBQVU7c0NBQWlCOzs7Ozs7c0NBQ2pDLDhEQUFDUzs0QkFBRVQsV0FBVTtzQ0FBNkM7Ozs7Ozs7Ozs7Ozs7Ozs7OzBCQVFoRSw4REFBQ0Q7Z0JBQUlDLFdBQVU7O2tDQUNiLDhEQUFDUTt3QkFBR1IsV0FBVTtrQ0FBb0Q7Ozs7OztrQ0FDbEUsOERBQUNvQzt3QkFBR3BDLFdBQVU7OzBDQUNaLDhEQUFDcUM7MENBQUc7Ozs7OzswQ0FDSiw4REFBQ0E7MENBQUc7Ozs7OzswQ0FDSiw4REFBQ0E7MENBQUc7Ozs7OzswQ0FDSiw4REFBQ0E7MENBQUc7Ozs7Ozs0QkFDSDVELFNBQVNvQyxrQkFBa0IsRUFBRWhCLFNBQVMsbUJBQ3JDLDhEQUFDd0M7O29DQUFHO29DQUFRNUQsU0FBU29DLGtCQUFrQixDQUFDaEIsTUFBTTtvQ0FBQztvQ0FBaUJwQixTQUFTb0Msa0JBQWtCLENBQUNoQixNQUFNLEdBQUcsSUFBSSxNQUFNO29DQUFHOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBTTlIIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdmliZWNhcmRpbmcvLi9jb21wb25lbnRzL3dpemFyZC9zdGVwcy9TdGVwNVJldmlldy50c3g/OGM4YSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIjtcblxuaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IENhcmQsIENhcmRDb250ZW50LCBDYXJkSGVhZGVyLCBDYXJkVGl0bGUgfSBmcm9tIFwiQC9jb21wb25lbnRzL3VpL2NhcmRcIjtcbmltcG9ydCB7IEJhZGdlIH0gZnJvbSBcIkAvY29tcG9uZW50cy91aS9iYWRnZVwiO1xuaW1wb3J0IHsgQnV0dG9uIH0gZnJvbSBcIkAvY29tcG9uZW50cy91aS9idXR0b25cIjtcbmltcG9ydCB7IENoZWNrLCBFZGl0LCBDbG9jaywgQ2hlY2tDaXJjbGUsIFNwYXJrbGVzIH0gZnJvbSBcImx1Y2lkZS1yZWFjdFwiO1xuaW1wb3J0IHsgQ2FyZEZvcm1EYXRhIH0gZnJvbSBcIkAvaG9va3MvdXNlQ2FyZEZvcm1cIjtcbmltcG9ydCB7IFNlcGFyYXRvciB9IGZyb20gXCJAL2NvbXBvbmVudHMvdWkvc2VwYXJhdG9yXCI7XG5cbmludGVyZmFjZSBTdGVwNVByb3BzIHtcbiAgZm9ybURhdGE6IENhcmRGb3JtRGF0YTtcbiAgdXBkYXRlRm9ybURhdGE6ICh1cGRhdGVzOiBQYXJ0aWFsPENhcmRGb3JtRGF0YT4pID0+IHZvaWQ7XG4gIG9uU3RlcENvbXBsZXRlPzogKCkgPT4gdm9pZDtcbiAgaXNHZW5lcmF0aW5nPzogYm9vbGVhbjtcbiAgaXNHZW5lcmF0aW5nRmluYWxDYXJkPzogYm9vbGVhbjtcbiAgaXNHZW5lcmF0aW5nTWVzc2FnZT86IGJvb2xlYW47XG4gIGdlbmVyYXRpb25Qcm9ncmVzcz86IHN0cmluZztcbiAgcHJvZ3Jlc3NQZXJjZW50YWdlPzogbnVtYmVyO1xuICBjdXJyZW50RWxhcHNlZFRpbWU/OiBudW1iZXI7XG4gIGlzRHJhZnRNb2RlPzogYm9vbGVhbjtcbiAgZHJhZnRDYXJkcz86IGFueVtdO1xuICBzZWxlY3RlZERyYWZ0SW5kZXg/OiBudW1iZXI7XG4gIGZvcm1hdEdlbmVyYXRpb25UaW1lPzogKHNlY29uZHM6IG51bWJlcikgPT4gc3RyaW5nO1xuICBvbkdlbmVyYXRlRHJhZnRDYXJkcz86ICgpID0+IHZvaWQ7XG4gIG9uU2VsZWN0RHJhZnQ/OiAoaW5kZXg6IG51bWJlcikgPT4gdm9pZDtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gU3RlcDVSZXZpZXcoeyBcbiAgZm9ybURhdGEsIFxuICB1cGRhdGVGb3JtRGF0YSwgXG4gIG9uU3RlcENvbXBsZXRlLCBcbiAgaXNHZW5lcmF0aW5nLCBcbiAgaXNHZW5lcmF0aW5nRmluYWxDYXJkLFxuICBpc0dlbmVyYXRpbmdNZXNzYWdlLFxuICBnZW5lcmF0aW9uUHJvZ3Jlc3MsXG4gIHByb2dyZXNzUGVyY2VudGFnZSA9IDAsXG4gIGN1cnJlbnRFbGFwc2VkVGltZSA9IDAsXG4gIGlzRHJhZnRNb2RlID0gZmFsc2UsXG4gIGRyYWZ0Q2FyZHMgPSBbXSxcbiAgc2VsZWN0ZWREcmFmdEluZGV4ID0gLTEsXG4gIGZvcm1hdEdlbmVyYXRpb25UaW1lLFxuICBvbkdlbmVyYXRlRHJhZnRDYXJkcyxcbiAgb25TZWxlY3REcmFmdCBcbn06IFN0ZXA1UHJvcHMpIHtcbiAgY29uc3QgW2lzUmVhZHksIHNldElzUmVhZHldID0gdXNlU3RhdGUoZmFsc2UpO1xuICAvLyBSZW1vdmVkIHBhbmVsIG5hdmlnYXRpb24gc3RhdGUgc2luY2Ugd2UncmUgb25seSBzaG93aW5nIGZyb250IGNvdmVyc1xuXG4gIC8vIE1hcmsgc3RlcCBhcyBjb21wbGV0ZSB3aGVuIHVzZXIgaXMgcmVhZHkgdG8gZ2VuZXJhdGVcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoaXNSZWFkeSAmJiBvblN0ZXBDb21wbGV0ZSkge1xuICAgICAgb25TdGVwQ29tcGxldGUoKTtcbiAgICB9XG4gIH0sIFtpc1JlYWR5LCBvblN0ZXBDb21wbGV0ZV0pO1xuXG4gIC8vIEF1dG8tbWFyayBhcyByZWFkeSBzaW5jZSB0aGlzIGlzIGp1c3QgdGhlIGdlbmVyYXRpb24gc3RlcFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHNldElzUmVhZHkodHJ1ZSk7XG4gIH0sIFtdKTtcblxuICAvLyBTaW1wbGUgc3RhdGUgLSBubyBjb21wbGV4IGpvYiBjaGVja2luZyBuZWVkZWRcbiAgLy8gVGhlIHBhcmVudCBjb21wb25lbnQgKHVzZUNhcmRTdHVkaW8pIGhhbmRsZXMgbG9hZGluZyBzYXZlZCBkcmFmdHNcbiAgXG4gIC8vIFNpbXBsZSBtb3VudCBsb2dcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zb2xlLmxvZygn8J+UhCBTdGVwNVJldmlldyBtb3VudGVkIHdpdGg6Jywge1xuICAgICAgaXNHZW5lcmF0aW5nLFxuICAgICAgZHJhZnRDYXJkc0xlbmd0aDogZHJhZnRDYXJkcy5sZW5ndGgsXG4gICAgICBpc0RyYWZ0TW9kZVxuICAgIH0pO1xuICB9LCBbXSk7XG4gIFxuICAvLyBTaG93IGxvYWRpbmcgc3RhdGUgb25seSBpZiBhY3RpdmVseSBnZW5lcmF0aW5nIGFuZCBubyBkcmFmdCBjYXJkcyB5ZXRcbiAgY29uc3Qgc2hvdWxkU2hvd0xvYWRpbmcgPSBpc0dlbmVyYXRpbmcgJiYgZHJhZnRDYXJkcy5sZW5ndGggPT09IDA7XG4gIFxuICBpZiAoc2hvdWxkU2hvd0xvYWRpbmcpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTZcIj5cbiAgICAgICAgey8qIEdlbmVyYXRpb24gUHJvZ3Jlc3MgKi99XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXIgc3BhY2UteS00XCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTE2IGgtMTYgYmctZ3JhZGllbnQtdG8tYnIgZnJvbS1ibHVlLTUwMCB0by1wdXJwbGUtNjAwIHJvdW5kZWQtZnVsbCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBteC1hdXRvXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctNiBoLTYgYm9yZGVyLTIgYm9yZGVyLXdoaXRlIGJvcmRlci10LXRyYW5zcGFyZW50IHJvdW5kZWQtZnVsbCBhbmltYXRlLXNwaW5cIiAvPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwidGV4dC1sZyBmb250LXNlbWlib2xkIHRleHQtZ3JheS05MDAgZGFyazp0ZXh0LXdoaXRlIG1iLTJcIj5cbiAgICAgICAgICAgICAgQ3JlYXRpbmcgWW91ciBDYXJkXG4gICAgICAgICAgICA8L2gzPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICB7LyogRW5oYW5jZWQgUHJvZ3Jlc3MgQmFyICovfVxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInAtNCBiZy1ncmFkaWVudC10by1yIGZyb20tYmx1ZS01MCB0by1jeWFuLTUwIGRhcms6ZnJvbS1ibHVlLTkwMC8zMCBkYXJrOnRvLWN5YW4tOTAwLzMwIHJvdW5kZWQtbGcgYm9yZGVyIGJvcmRlci1ibHVlLTIwMCBkYXJrOmJvcmRlci1ibHVlLTgwMFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0zXCI+XG4gICAgICAgICAgICB7LyogUHJvZ3Jlc3MgTWVzc2FnZSAqL31cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTQgaC00IGJvcmRlci0yIGJvcmRlci1ibHVlLTUwMCBib3JkZXItdC10cmFuc3BhcmVudCByb3VuZGVkLWZ1bGwgYW5pbWF0ZS1zcGluXCIgLz5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWJsdWUtNjAwIGRhcms6dGV4dC1ibHVlLTQwMFwiPlxuICAgICAgICAgICAgICAgIHtnZW5lcmF0aW9uUHJvZ3Jlc3MgfHwgXCJHZW5lcmF0aW5nIHlvdXIgY2FyZC4uLlwifVxuICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgey8qIENsZWFuIFByb2dyZXNzIEJhciAqL31cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy1mdWxsIGJnLWdyYXktMjAwIGRhcms6YmctZ3JheS03MDAgcm91bmRlZC1mdWxsIGgtM1wiPlxuICAgICAgICAgICAgICA8ZGl2IFxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJnLWdyYWRpZW50LXRvLXIgZnJvbS1ibHVlLTUwMCB0by1jeWFuLTUwMCBoLTMgcm91bmRlZC1mdWxsIHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTEwMDAgZWFzZS1vdXRcIlxuICAgICAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiBgJHtNYXRoLm1pbihwcm9ncmVzc1BlcmNlbnRhZ2UsIDEwMCl9JWAgfX1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICB7LyogUHJvZ3Jlc3MgVGV4dCBhbmQgVGltZSBEaXNwbGF5ICovfVxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gdGV4dC14cyB0ZXh0LWdyYXktNjAwIGRhcms6dGV4dC1ncmF5LTQwMFwiPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJmb250LW1lZGl1bVwiPlxuICAgICAgICAgICAgICAgIHtNYXRoLnJvdW5kKHByb2dyZXNzUGVyY2VudGFnZSl9JSBDb21wbGV0ZVxuICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTNcIj5cbiAgICAgICAgICAgICAgICB7Y3VycmVudEVsYXBzZWRUaW1lID4gMCAmJiBmb3JtYXRHZW5lcmF0aW9uVGltZSAmJiAoXG4gICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LWJsdWUtNjAwIGRhcms6dGV4dC1ibHVlLTQwMFwiPlxuICAgICAgICAgICAgICAgICAgICDij7HvuI8ge2Zvcm1hdEdlbmVyYXRpb25UaW1lKGN1cnJlbnRFbGFwc2VkVGltZSl9XG4gICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNTAwXCI+XG4gICAgICAgICAgICAgICAgICB7aXNEcmFmdE1vZGUgJiYgIWlzR2VuZXJhdGluZ0ZpbmFsQ2FyZCA/ICd+MzAtNjAgc2VjIGV4cGVjdGVkJyA6ICd+MTozMC0yOjAwIG1pbiBleHBlY3RlZCd9XG4gICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICB7LyogUXVpY2sgU3VtbWFyeSBEdXJpbmcgR2VuZXJhdGlvbiAqL31cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy1ibHVlLTUwIGRhcms6YmctYmx1ZS05MDAvMjAgcm91bmRlZC1sZyBwLTQgYm9yZGVyIGJvcmRlci1ibHVlLTIwMCBkYXJrOmJvcmRlci1ibHVlLTgwMFwiPlxuICAgICAgICAgIDxoNCBjbGFzc05hbWU9XCJmb250LW1lZGl1bSB0ZXh0LWJsdWUtOTAwIGRhcms6dGV4dC1ibHVlLTEwMCBtYi0yXCI+R2VuZXJhdGluZzo8L2g0PlxuICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1ibHVlLTgwMCBkYXJrOnRleHQtYmx1ZS0yMDBcIj5cbiAgICAgICAgICAgIHtmb3JtRGF0YS5zZWxlY3RlZFR5cGUgPT09IFwiY3VzdG9tXCIgPyBmb3JtRGF0YS5jdXN0b21DYXJkVHlwZSA6IGZvcm1EYXRhLnNlbGVjdGVkVHlwZX0gY2FyZFxuICAgICAgICAgICAge2Zvcm1EYXRhLnNlbGVjdGVkVG9uZSAmJiBgIHdpdGggJHtmb3JtRGF0YS5zZWxlY3RlZFRvbmV9IHRvbmVgfVxuICAgICAgICAgICAge2Zvcm1EYXRhLnJlZmVyZW5jZUltYWdlVXJscz8ubGVuZ3RoID4gMCAmJiBgIOKAoiAke2Zvcm1EYXRhLnJlZmVyZW5jZUltYWdlVXJscy5sZW5ndGh9IHJlZmVyZW5jZSBwaG90byR7Zm9ybURhdGEucmVmZXJlbmNlSW1hZ2VVcmxzLmxlbmd0aCA+IDEgPyAncycgOiAnJ31gfVxuICAgICAgICAgIDwvcD5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG5cbiAgLy8gQ2hlY2sgaWYgd2Ugc2hvdWxkIHNob3cgZHJhZnQgc2VsZWN0aW9uIHZzIGdlbmVyYXRpb25cbiAgY29uc3Qgc2hvd0RyYWZ0U2VsZWN0aW9uID0gIWlzR2VuZXJhdGluZyAmJiBkcmFmdENhcmRzLmxlbmd0aCA9PT0gMDtcbiAgXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTZcIj5cbiAgICAgIHsvKiBIZWFkZXIgLSBvbmx5IHNob3cgaWYgbm90IGdlbmVyYXRpbmcgKi99XG4gICAgICB7c2hvd0RyYWZ0U2VsZWN0aW9uICYmIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlciBzcGFjZS15LTJcIj5cbiAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwidGV4dC14bCBmb250LWJvbGQgdGV4dC1ncmF5LTkwMCBkYXJrOnRleHQtd2hpdGVcIj5cbiAgICAgICAgICAgIFJlYWR5IHRvIENyZWF0ZSBZb3VyIENhcmQ/XG4gICAgICAgICAgPC9oMz5cbiAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNjAwIGRhcms6dGV4dC1ncmF5LTQwMFwiPlxuICAgICAgICAgICAgQ2hvb3NlIGhvdyB5b3UnZCBsaWtlIHRvIGdlbmVyYXRlIHlvdXIgcGVyc29uYWxpemVkIGdyZWV0aW5nIGNhcmRcbiAgICAgICAgICA8L3A+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKX1cblxuICAgICAgey8qIERyYWZ0IE1vZGUgRGVzY3JpcHRpb24gLSBvbmx5IHNob3cgd2hlbiBub3QgZ2VuZXJhdGluZyAqL31cbiAgICAgIHtzaG93RHJhZnRTZWxlY3Rpb24gJiYgKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLXB1cnBsZS01MCBkYXJrOmJnLXB1cnBsZS05MDAvMjAgcm91bmRlZC1sZyBwLTQgYm9yZGVyIGJvcmRlci1wdXJwbGUtMjAwIGRhcms6Ym9yZGVyLXB1cnBsZS04MDBcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLXN0YXJ0IGdhcC0zXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTYgaC02IGJnLXB1cnBsZS02MDAgcm91bmRlZC1sZyBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBmbGV4LXNocmluay0wXCI+XG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXdoaXRlIHRleHQtc21cIj7wn46oPC9zcGFuPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0yXCI+XG4gICAgICAgICAgICA8aDQgY2xhc3NOYW1lPVwiZm9udC1tZWRpdW0gdGV4dC1wdXJwbGUtOTAwIGRhcms6dGV4dC1wdXJwbGUtMTAwXCI+XG4gICAgICAgICAgICAgIERyYWZ0IE1vZGUgLSBGcm9udCBDb3ZlciBQcmV2aWV3c1xuICAgICAgICAgICAgPC9oND5cbiAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1wdXJwbGUtNzAwIGRhcms6dGV4dC1wdXJwbGUtMzAwXCI+XG4gICAgICAgICAgICAgIFdlJ2xsIGdlbmVyYXRlIDUgcm91Z2ggZHJhZnQgdmFyaWF0aW9ucyBvZiB5b3VyIGNhcmQncyBmcm9udCBjb3Zlci5cbiAgICAgICAgICAgICAge2Zvcm1EYXRhLnNlbGVjdGVkQXJ0aXN0aWNTdHlsZSA9PT0gXCJhaS1zbWFydC1zdHlsZVwiICYmIChcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJmb250LW1lZGl1bVwiPiBFYWNoIHdpbGwgc2hvd2Nhc2UgYSBkaWZmZXJlbnQgYXJ0aXN0aWMgc3R5bGUuPC9zcGFuPlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LXB1cnBsZS02MDAgZGFyazp0ZXh0LXB1cnBsZS00MDAgaXRhbGljXCI+XG4gICAgICAgICAgICAgIE5vdGU6IFRoZXNlIGFyZSBxdWljayBwcmV2aWV3cyB0byBoZWxwIHlvdSBjaG9vc2UgYSBkZXNpZ24gZGlyZWN0aW9uLiBUaGUgZmluYWwgY2FyZCB3aWxsIGJlIG11Y2ggaGlnaGVyIHF1YWxpdHkgd2l0aCBhbGwgNCBwYW5lbHMuXG4gICAgICAgICAgICA8L3A+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgICApfVxuXG4gICAgICB7LyogR2VuZXJhdGlvbiBCdXR0b25zIC0gT25seSBzaG93IHdoZW4gbm8gZHJhZnQgY2FyZHMgZXhpc3QgYW5kIG5vdCBnZW5lcmF0aW5nICovfVxuICAgICAge3Nob3dEcmFmdFNlbGVjdGlvbiAmJiBkcmFmdENhcmRzLmxlbmd0aCA9PT0gMCAmJiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS00XCI+XG4gICAgICAgICAgey8qIERyYWZ0IE1vZGUgQnV0dG9uICovfVxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIG9uQ2xpY2s9e29uR2VuZXJhdGVEcmFmdENhcmRzfVxuICAgICAgICAgICAgZGlzYWJsZWQ9e2lzR2VuZXJhdGluZyB8fCBpc0dlbmVyYXRpbmdNZXNzYWdlIHx8ICFmb3JtRGF0YS51c2VyRW1haWw/LnRyaW0oKX1cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBoLTEyIGJnLWdyYWRpZW50LXRvLXIgZnJvbS1wdXJwbGUtNTAwIHRvLXBpbmstNjAwIGhvdmVyOmZyb20tcHVycGxlLTYwMCBob3Zlcjp0by1waW5rLTcwMCB0ZXh0LXdoaXRlIHJvdW5kZWQtbGcgZm9udC1tZWRpdW0gZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgZ2FwLTIgdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMzAwIGRpc2FibGVkOm9wYWNpdHktNTAgZGlzYWJsZWQ6Y3Vyc29yLW5vdC1hbGxvd2VkXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICB7aXNHZW5lcmF0aW5nID8gKFxuICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy00IGgtNCBib3JkZXItMiBib3JkZXItd2hpdGUgYm9yZGVyLXQtdHJhbnNwYXJlbnQgcm91bmRlZC1mdWxsIGFuaW1hdGUtc3BpblwiIC8+XG4gICAgICAgICAgICAgICAgPHNwYW4+Q3JlYXRpbmcgNSBkZXNpZ24gb3B0aW9ucy4uLjwvc3Bhbj5cbiAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtbGdcIj7wn46oPC9zcGFuPlxuICAgICAgICAgICAgICAgIDxzcGFuPkdlbmVyYXRlIDUgRHJhZnQgUHJldmlld3M8L3NwYW4+XG4gICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICApfVxuXG4gICAgICB7LyogRHJhZnQgQ2FyZHMgU2VsZWN0aW9uICovfVxuICAgICAge2RyYWZ0Q2FyZHMubGVuZ3RoID4gMCAmJiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS00XCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlciBzcGFjZS15LTJcIj5cbiAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJ0ZXh0LWxnIGZvbnQtc2VtaWJvbGQgdGV4dC1ncmF5LTkwMCBkYXJrOnRleHQtd2hpdGVcIj5cbiAgICAgICAgICAgICAge2lzR2VuZXJhdGluZyA/IFwiQ3JlYXRpbmcgRnJvbnQgQ292ZXIgRHJhZnRzLi4uXCIgOiBcIkNob29zZSBZb3VyIEZhdm9yaXRlIEZyb250IENvdmVyIERlc2lnblwifVxuICAgICAgICAgICAgPC9oMz5cbiAgICAgICAgICAgIHshaXNHZW5lcmF0aW5nICYmIChcbiAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LWdyYXktNjAwIGRhcms6dGV4dC1ncmF5LTQwMFwiPlxuICAgICAgICAgICAgICAgIFRoZXNlIGFyZSByb3VnaCBkcmFmdHMgc2hvd2luZyBvbmx5IHRoZSBmcm9udCBjb3Zlci4gU2VsZWN0IHlvdXIgZmF2b3JpdGUgZGVzaWduIHN0eWxlIGFuZCB3ZSdsbCBjcmVhdGUgdGhlIGNvbXBsZXRlIGhpZ2gtcXVhbGl0eSBjYXJkIHdpdGggYWxsIDQgcGFuZWxzLlxuICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICApfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIFxuICAgICAgICAgIHsvKiBQcm9ncmVzcyBCYXIgd2hlbiBzdGlsbCBnZW5lcmF0aW5nICovfVxuICAgICAgICAgIHtpc0dlbmVyYXRpbmcgJiYgKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwLTQgYmctZ3JhZGllbnQtdG8tciBmcm9tLWJsdWUtNTAgdG8tY3lhbi01MCBkYXJrOmZyb20tYmx1ZS05MDAvMzAgZGFyazp0by1jeWFuLTkwMC8zMCByb3VuZGVkLWxnIGJvcmRlciBib3JkZXItYmx1ZS0yMDAgZGFyazpib3JkZXItYmx1ZS04MDBcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTNcIj5cbiAgICAgICAgICAgICAgICB7LyogUHJvZ3Jlc3MgTWVzc2FnZSAqL31cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctNCBoLTQgYm9yZGVyLTIgYm9yZGVyLWJsdWUtNTAwIGJvcmRlci10LXRyYW5zcGFyZW50IHJvdW5kZWQtZnVsbCBhbmltYXRlLXNwaW5cIiAvPlxuICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWJsdWUtNjAwIGRhcms6dGV4dC1ibHVlLTQwMFwiPlxuICAgICAgICAgICAgICAgICAgICB7Z2VuZXJhdGlvblByb2dyZXNzIHx8IFwiR2VuZXJhdGluZyByZW1haW5pbmcgdmFyaWF0aW9ucy4uLlwifVxuICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgey8qIENsZWFuIFByb2dyZXNzIEJhciAqL31cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctZnVsbCBiZy1ncmF5LTIwMCBkYXJrOmJnLWdyYXktNzAwIHJvdW5kZWQtZnVsbCBoLTNcIj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJnLWdyYWRpZW50LXRvLXIgZnJvbS1ibHVlLTUwMCB0by1jeWFuLTUwMCBoLTMgcm91bmRlZC1mdWxsIHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTEwMDAgZWFzZS1vdXRcIlxuICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogYCR7TWF0aC5taW4ocHJvZ3Jlc3NQZXJjZW50YWdlLCAxMDApfSVgIH19XG4gICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgey8qIFByb2dyZXNzIFRleHQgYW5kIFRpbWUgRGlzcGxheSAqL31cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiB0ZXh0LXhzIHRleHQtZ3JheS02MDAgZGFyazp0ZXh0LWdyYXktNDAwXCI+XG4gICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJmb250LW1lZGl1bVwiPlxuICAgICAgICAgICAgICAgICAgICB7TWF0aC5yb3VuZChwcm9ncmVzc1BlcmNlbnRhZ2UpfSUgQ29tcGxldGVcbiAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTNcIj5cbiAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRFbGFwc2VkVGltZSA+IDAgJiYgZm9ybWF0R2VuZXJhdGlvblRpbWUgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtYmx1ZS02MDAgZGFyazp0ZXh0LWJsdWUtNDAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICDij7HvuI8ge2Zvcm1hdEdlbmVyYXRpb25UaW1lKGN1cnJlbnRFbGFwc2VkVGltZSl9XG4gICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNTAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgfjMwLTYwIHNlYyBleHBlY3RlZFxuICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApfVxuXG4gICAgICAgICAgey8qIERyYWZ0IGNhcmRzIGRpc3BsYXkgKi99XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LWZ1bGxcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBvdmVyZmxvdy14LWF1dG8gZ2FwLTMgcGItNCAtbXgtNCBweC00IHNuYXAteCBzbmFwLW1hbmRhdG9yeSB0b3VjaC1wYW4teFwiPlxuICAgICAgICAgICAgICB7QXJyYXkuZnJvbSh7IGxlbmd0aDogNSB9LCAoXywgZGlzcGxheUluZGV4KSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgY2FyZCA9IGRyYWZ0Q2FyZHNbZGlzcGxheUluZGV4XTtcbiAgICAgICAgICAgICAgICBjb25zdCBpc0xvYWRpbmcgPSAhY2FyZDtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICBrZXk9e2Rpc3BsYXlJbmRleH1cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgZmxleC1zaHJpbmstMCB3LTUyIHNtOnctNTYgc25hcC1jZW50ZXIgcm91bmRlZC1sZyBib3JkZXItMiBwLTMgc206cC0zIHRyYW5zaXRpb24tYWxsIGN1cnNvci1wb2ludGVyIHRvdWNoLW1hbmlwdWxhdGlvbiAke1xuICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkRHJhZnRJbmRleCA9PT0gZGlzcGxheUluZGV4XG4gICAgICAgICAgICAgICAgICAgICAgICA/ICdib3JkZXItcHVycGxlLTUwMCBiZy1wdXJwbGUtNTAgZGFyazpiZy1wdXJwbGUtOTAwLzIwIHNoYWRvdy1sZydcbiAgICAgICAgICAgICAgICAgICAgICAgIDogY2FyZFxuICAgICAgICAgICAgICAgICAgICAgICAgPyAnYm9yZGVyLWdyYXktMjAwIGRhcms6Ym9yZGVyLWdyYXktNzAwIGhvdmVyOmJvcmRlci1wdXJwbGUtMzAwIGhvdmVyOmJnLXB1cnBsZS01MC81MCBkYXJrOmhvdmVyOmJnLXB1cnBsZS05MDAvMTAnXG4gICAgICAgICAgICAgICAgICAgICAgICA6ICdib3JkZXItZGFzaGVkIGJvcmRlci1ncmF5LTMwMCBkYXJrOmJvcmRlci1ncmF5LTYwMCdcbiAgICAgICAgICAgICAgICAgICAgfWB9XG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGNhcmQgJiYgb25TZWxlY3REcmFmdCAmJiBvblNlbGVjdERyYWZ0KGRpc3BsYXlJbmRleCl9XG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIHtjYXJkID8gKFxuICAgICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAgICB7LyogRnJvbnQgY292ZXIgcHJldmlldyBvbmx5ICovfVxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhc3BlY3QtWzIvM10gcmVsYXRpdmUgb3ZlcmZsb3ctaGlkZGVuIHJvdW5kZWQgYm9yZGVyIG1iLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGltZ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNyYz17Y2FyZC5mcm9udENvdmVyfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsdD17YERlc2lnbiAke2Rpc3BsYXlJbmRleCArIDF9IC0gRnJvbnQgQ292ZXIgRHJhZnRgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBoLWZ1bGwgb2JqZWN0LWNvdmVyXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHsvKiBEcmFmdCB3YXRlcm1hcmsgKi99XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWJzb2x1dGUgdG9wLTIgcmlnaHQtMiBiZy1ibGFjay81MCB0ZXh0LXdoaXRlIHRleHQteHMgcHgtMiBweS0xIHJvdW5kZWRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBEUkFGVFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtzZWxlY3RlZERyYWZ0SW5kZXggPT09IGRpc3BsYXlJbmRleCAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSBpbnNldC0wIGJnLXB1cnBsZS02MDAvMjAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgcG9pbnRlci1ldmVudHMtbm9uZVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy13aGl0ZSByb3VuZGVkLWZ1bGwgcC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja0NpcmNsZSBjbGFzc05hbWU9XCJ3LTggaC04IHRleHQtcHVycGxlLTYwMFwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICB7LyogQ2FyZCBpbmZvICovfVxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlciBzcGFjZS15LTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGg0IGNsYXNzTmFtZT1cImZvbnQtbWVkaXVtIHRleHQtc21cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBEcmFmdCB7ZGlzcGxheUluZGV4ICsgMX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9oND5cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2Zvcm1EYXRhLnNlbGVjdGVkQXJ0aXN0aWNTdHlsZSA9PT0gXCJhaS1zbWFydC1zdHlsZVwiICYmIGNhcmQuc3R5bGVJbmZvICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtZ3JheS02MDAgZGFyazp0ZXh0LWdyYXktNDAwIHRydW5jYXRlXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y2FyZC5zdHlsZUluZm8uc3R5bGVMYWJlbH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge3NlbGVjdGVkRHJhZnRJbmRleCA9PT0gZGlzcGxheUluZGV4ICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctcHVycGxlLTYwMCB0ZXh0LXdoaXRlIHRleHQteHMgcHgtMyBweS0xIHJvdW5kZWQtZnVsbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDinJMgU2VsZWN0ZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBweS04XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctOCBoLTggYm9yZGVyLTIgYm9yZGVyLXB1cnBsZS01MDAgYm9yZGVyLXQtdHJhbnNwYXJlbnQgcm91bmRlZC1mdWxsIGFuaW1hdGUtc3BpbiBteC1hdXRvIG1iLTNcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGg0IGNsYXNzTmFtZT1cImZvbnQtbWVkaXVtIHRleHQtc20gbWItMVwiPkNyZWF0aW5nLi4uPC9oND5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1ncmF5LTUwMFwiPkdlbmVyYXRpbmcgZHJhZnQuLi48L3A+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgXG4gICAgICAgICAgICB7LyogU2VsZWN0aW9uIGluZGljYXRvciAqL31cbiAgICAgICAgICAgIHtzZWxlY3RlZERyYWZ0SW5kZXggIT09IC0xICYmIChcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlciBiZy1wdXJwbGUtNTAgZGFyazpiZy1wdXJwbGUtOTAwLzIwIHJvdW5kZWQtbGcgcC0zIG10LTRcIj5cbiAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtcHVycGxlLTkwMCBkYXJrOnRleHQtcHVycGxlLTEwMFwiPlxuICAgICAgICAgICAgICAgICAg4pyTIERyYWZ0IHtzZWxlY3RlZERyYWZ0SW5kZXggKyAxfSBzZWxlY3RlZCAtIHJlYWR5IHRvIGdlbmVyYXRlIHlvdXIgY29tcGxldGUgaGlnaC1xdWFsaXR5IGNhcmQgd2l0aCBhbGwgNCBwYW5lbHMhXG4gICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHsvKiBSZWdlbmVyYXRlIGJ1dHRvbiAqL31cbiAgICAgICAgICAgIHshaXNHZW5lcmF0aW5nICYmIGRyYWZ0Q2FyZHMuZmlsdGVyKEJvb2xlYW4pLmxlbmd0aCA9PT0gNSAmJiAoXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXIgbXQtNFwiPlxuICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgIHZhcmlhbnQ9XCJvdXRsaW5lXCJcbiAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e29uR2VuZXJhdGVEcmFmdENhcmRzfVxuICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2lzR2VuZXJhdGluZ0ZpbmFsQ2FyZH1cbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImgtMTAgcHgtNCB0ZXh0LXNtXCJcbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICA8U3BhcmtsZXMgY2xhc3NOYW1lPVwidy00IGgtNCBtci0yXCIgLz5cbiAgICAgICAgICAgICAgICAgIEdlbmVyYXRlIE5ldyBEcmFmdHNcbiAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtZ3JheS01MDAgZGFyazp0ZXh0LWdyYXktNDAwIG10LTJcIj5cbiAgICAgICAgICAgICAgICAgIE5vdCBoYXBweSB3aXRoIHRoZXNlPyBHZW5lcmF0ZSA1IG5ldyBkcmFmdCB2YXJpYXRpb25zXG4gICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKX1cblxuICAgICAgey8qIFJlcXVpcmVtZW50cyBDaGVjayAqL31cbiAgICAgIHshZm9ybURhdGEudXNlckVtYWlsPy50cmltKCkgJiYgKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLWFtYmVyLTUwIGRhcms6YmctYW1iZXItOTAwLzIwIHJvdW5kZWQtbGcgcC00IGJvcmRlciBib3JkZXItYW1iZXItMjAwIGRhcms6Ym9yZGVyLWFtYmVyLTgwMFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtYW1iZXItNjAwXCI+4pqg77iPPC9zcGFuPlxuICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LWFtYmVyLTgwMCBkYXJrOnRleHQtYW1iZXItMjAwXCI+XG4gICAgICAgICAgICAgIFBsZWFzZSBlbnRlciB5b3VyIGVtYWlsIGFkZHJlc3MgaW4gdGhlIHByZXZpb3VzIHN0ZXBzIHRvIGdlbmVyYXRlIHlvdXIgY2FyZC5cbiAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICApfVxuXG4gICAgICB7LyogVGlwcyAqL31cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctZ3JheS01MCBkYXJrOmJnLWdyYXktODAwLzUwIHJvdW5kZWQtbGcgcC00IGJvcmRlciBib3JkZXItZ3JheS0yMDAgZGFyazpib3JkZXItZ3JheS03MDBcIj5cbiAgICAgICAgPGg0IGNsYXNzTmFtZT1cImZvbnQtbWVkaXVtIHRleHQtZ3JheS05MDAgZGFyazp0ZXh0LWdyYXktMTAwIG1iLTJcIj7wn5KhIEdlbmVyYXRpb24gVGlwczo8L2g0PlxuICAgICAgICA8dWwgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LWdyYXktNzAwIGRhcms6dGV4dC1ncmF5LTMwMCBzcGFjZS15LTFcIj5cbiAgICAgICAgICA8bGk+4oCiIERyYWZ0cyBhcmUgcXVpY2sgcHJldmlld3MgdG8gaGVscCB5b3UgY2hvb3NlIGEgZGVzaWduIGRpcmVjdGlvbjwvbGk+XG4gICAgICAgICAgPGxpPuKAoiBPbmx5IHRoZSBmcm9udCBjb3ZlciBpcyBzaG93biBpbiBkcmFmdCBtb2RlPC9saT5cbiAgICAgICAgICA8bGk+4oCiIEZpbmFsIGdlbmVyYXRpb24gY3JlYXRlcyBhbGwgNCBwYW5lbHMgaW4gaGlnaCBxdWFsaXR5PC9saT5cbiAgICAgICAgICA8bGk+4oCiIERyYWZ0IGdlbmVyYXRpb24gdGFrZXMgMzAtNjAgc2Vjb25kcywgZmluYWwgY2FyZCB0YWtlcyAxLTMgbWludXRlczwvbGk+XG4gICAgICAgICAge2Zvcm1EYXRhLnJlZmVyZW5jZUltYWdlVXJscz8ubGVuZ3RoID4gMCAmJiAoXG4gICAgICAgICAgICA8bGk+4oCiIFlvdXIge2Zvcm1EYXRhLnJlZmVyZW5jZUltYWdlVXJscy5sZW5ndGh9IHJlZmVyZW5jZSBwaG90b3tmb3JtRGF0YS5yZWZlcmVuY2VJbWFnZVVybHMubGVuZ3RoID4gMSA/ICdzJyA6ICcnfSB3aWxsIGJlIHVzZWQgZm9yIGNoYXJhY3RlciBjcmVhdGlvbjwvbGk+XG4gICAgICAgICAgKX1cbiAgICAgICAgPC91bD5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApO1xufSAiXSwibmFtZXMiOlsiUmVhY3QiLCJ1c2VTdGF0ZSIsInVzZUVmZmVjdCIsIkJ1dHRvbiIsIkNoZWNrQ2lyY2xlIiwiU3BhcmtsZXMiLCJTdGVwNVJldmlldyIsImZvcm1EYXRhIiwidXBkYXRlRm9ybURhdGEiLCJvblN0ZXBDb21wbGV0ZSIsImlzR2VuZXJhdGluZyIsImlzR2VuZXJhdGluZ0ZpbmFsQ2FyZCIsImlzR2VuZXJhdGluZ01lc3NhZ2UiLCJnZW5lcmF0aW9uUHJvZ3Jlc3MiLCJwcm9ncmVzc1BlcmNlbnRhZ2UiLCJjdXJyZW50RWxhcHNlZFRpbWUiLCJpc0RyYWZ0TW9kZSIsImRyYWZ0Q2FyZHMiLCJzZWxlY3RlZERyYWZ0SW5kZXgiLCJmb3JtYXRHZW5lcmF0aW9uVGltZSIsIm9uR2VuZXJhdGVEcmFmdENhcmRzIiwib25TZWxlY3REcmFmdCIsImlzUmVhZHkiLCJzZXRJc1JlYWR5IiwiY29uc29sZSIsImxvZyIsImRyYWZ0Q2FyZHNMZW5ndGgiLCJsZW5ndGgiLCJzaG91bGRTaG93TG9hZGluZyIsImRpdiIsImNsYXNzTmFtZSIsImgzIiwic3BhbiIsInN0eWxlIiwid2lkdGgiLCJNYXRoIiwibWluIiwicm91bmQiLCJoNCIsInAiLCJzZWxlY3RlZFR5cGUiLCJjdXN0b21DYXJkVHlwZSIsInNlbGVjdGVkVG9uZSIsInJlZmVyZW5jZUltYWdlVXJscyIsInNob3dEcmFmdFNlbGVjdGlvbiIsInNlbGVjdGVkQXJ0aXN0aWNTdHlsZSIsImJ1dHRvbiIsIm9uQ2xpY2siLCJkaXNhYmxlZCIsInVzZXJFbWFpbCIsInRyaW0iLCJBcnJheSIsImZyb20iLCJfIiwiZGlzcGxheUluZGV4IiwiY2FyZCIsImlzTG9hZGluZyIsImltZyIsInNyYyIsImZyb250Q292ZXIiLCJhbHQiLCJzdHlsZUluZm8iLCJzdHlsZUxhYmVsIiwiZmlsdGVyIiwiQm9vbGVhbiIsInZhcmlhbnQiLCJ1bCIsImxpIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./components/wizard/steps/Step5Review.tsx\n");

/***/ }),

/***/ "(ssr)/./components/wizard/steps/Step6FinalGeneration.tsx":
/*!**********************************************************!*\
  !*** ./components/wizard/steps/Step6FinalGeneration.tsx ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Step6FinalGeneration)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _components_ui_card__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/components/ui/card */ \"(ssr)/./components/ui/card.tsx\");\n/* harmony import */ var _components_ui_button__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/components/ui/button */ \"(ssr)/./components/ui/button.tsx\");\n/* harmony import */ var _components_ui_progress__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/components/ui/progress */ \"(ssr)/./components/ui/progress.tsx\");\n/* harmony import */ var _components_ui_dialog__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/components/ui/dialog */ \"(ssr)/./components/ui/dialog.tsx\");\n/* harmony import */ var _components_ui_input__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/components/ui/input */ \"(ssr)/./components/ui/input.tsx\");\n/* harmony import */ var _components_ui_select__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @/components/ui/select */ \"(ssr)/./components/ui/select.tsx\");\n/* harmony import */ var _barrel_optimize_names_CheckCircle_ChevronLeft_Clock_Mail_Printer_Sparkles_lucide_react__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! __barrel_optimize__?names=CheckCircle,ChevronLeft,Clock,Mail,Printer,Sparkles!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/circle-check-big.js\");\n/* harmony import */ var _barrel_optimize_names_CheckCircle_ChevronLeft_Clock_Mail_Printer_Sparkles_lucide_react__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! __barrel_optimize__?names=CheckCircle,ChevronLeft,Clock,Mail,Printer,Sparkles!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/sparkles.js\");\n/* harmony import */ var _barrel_optimize_names_CheckCircle_ChevronLeft_Clock_Mail_Printer_Sparkles_lucide_react__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! __barrel_optimize__?names=CheckCircle,ChevronLeft,Clock,Mail,Printer,Sparkles!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/clock.js\");\n/* harmony import */ var _barrel_optimize_names_CheckCircle_ChevronLeft_Clock_Mail_Printer_Sparkles_lucide_react__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! __barrel_optimize__?names=CheckCircle,ChevronLeft,Clock,Mail,Printer,Sparkles!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/chevron-left.js\");\n/* harmony import */ var _barrel_optimize_names_CheckCircle_ChevronLeft_Clock_Mail_Printer_Sparkles_lucide_react__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! __barrel_optimize__?names=CheckCircle,ChevronLeft,Clock,Mail,Printer,Sparkles!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/printer.js\");\n/* harmony import */ var _barrel_optimize_names_CheckCircle_ChevronLeft_Clock_Mail_Printer_Sparkles_lucide_react__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! __barrel_optimize__?names=CheckCircle,ChevronLeft,Clock,Mail,Printer,Sparkles!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/mail.js\");\n/* harmony import */ var _components_CardPreview__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @/components/CardPreview */ \"(ssr)/./components/CardPreview.tsx\");\n/* harmony import */ var sonner__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! sonner */ \"(ssr)/./node_modules/sonner/dist/index.mjs\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \n\n\n\n\n\n\n\n\n\n\n// Paper size options - same as main page\nconst paperSizes = [\n    {\n        id: \"standard\",\n        label: \"5\\xd77 Card (Standard)\",\n        description: \"Standard 5\\xd77 greeting card (10\\xd77 print layout)\",\n        aspectRatio: \"9:16\",\n        dimensions: \"1024x1536\",\n        printWidth: \"10in\",\n        printHeight: \"7in\"\n    },\n    {\n        id: \"compact\",\n        label: \"4\\xd76 Card (Compact)\",\n        description: \"Compact 4\\xd76 greeting card (8\\xd76 print layout)\",\n        aspectRatio: \"2:3\",\n        dimensions: \"768x1152\",\n        printWidth: \"8in\",\n        printHeight: \"6in\"\n    },\n    {\n        id: \"a6\",\n        label: \"A6 Card (4\\xd76)\",\n        description: \"A6 paper size (8.3\\xd75.8 print layout)\",\n        aspectRatio: \"2:3\",\n        dimensions: \"768x1152\",\n        printWidth: \"8.3in\",\n        printHeight: \"5.8in\"\n    }\n];\nfunction Step6FinalGeneration({ formData, isGeneratingFinalCard, generationProgress, progressPercentage, currentElapsedTime, selectedDraftIndex, draftCards, generatedCard, isCardCompleted, onGenerateFinalCard, formatGenerationTime, onBackToDrafts }) {\n    // Print-related state\n    const [showPrintConfirmation, setShowPrintConfirmation] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [printOption, setPrintOption] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"physical\");\n    const [selectedPaperSize, setSelectedPaperSize] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"standard\");\n    // State for confirmation flow\n    const [showConfirmation, setShowConfirmation] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // When a draft is selected, show confirmation instead of auto-starting\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (selectedDraftIndex >= 0 && !isGeneratingFinalCard && !isCardCompleted && !generatedCard) {\n            setShowConfirmation(true);\n        }\n    }, [\n        selectedDraftIndex,\n        isGeneratingFinalCard,\n        isCardCompleted,\n        generatedCard\n    ]);\n    const selectedDraft = selectedDraftIndex >= 0 && selectedDraftIndex < draftCards.length ? draftCards[selectedDraftIndex] : null;\n    // Print click handler\n    const handlePrintClick = ()=>{\n        if (!generatedCard) return;\n        // Check if user email is provided\n        if (!formData.userEmail?.trim()) {\n            sonner__WEBPACK_IMPORTED_MODULE_9__.toast.error(\"Please enter your email address before printing\");\n            return;\n        }\n        setPrintOption(\"physical\"); // Reset to default\n        setShowPrintConfirmation(true);\n    };\n    // Handle print confirmation\n    const handleConfirmPrint = async ()=>{\n        const cardToPrint = generatedCard;\n        if (!cardToPrint) {\n            sonner__WEBPACK_IMPORTED_MODULE_9__.toast.error(\"No card available to print\");\n            return;\n        }\n        // Validate email before proceeding\n        if (!formData.userEmail?.trim()) {\n            sonner__WEBPACK_IMPORTED_MODULE_9__.toast.error(\"Please enter your email address before printing\");\n            setShowPrintConfirmation(false);\n            return;\n        }\n        setShowPrintConfirmation(false);\n        try {\n            // Validate card data\n            if (!cardToPrint.frontCover) {\n                sonner__WEBPACK_IMPORTED_MODULE_9__.toast.error(\"Card is missing front cover image. Please regenerate the card.\");\n                return;\n            }\n            if (!cardToPrint.backCover) {\n                sonner__WEBPACK_IMPORTED_MODULE_9__.toast.error(\"Card is missing back cover image. Please regenerate the card.\");\n                return;\n            }\n            if (!formData.isFrontBackOnly && (!cardToPrint.leftPage || !cardToPrint.rightPage)) {\n                sonner__WEBPACK_IMPORTED_MODULE_9__.toast.error(\"Card is missing interior pages. Please regenerate the card or use front-back only mode.\");\n                return;\n            }\n            // Prepare card data for both printing and PDF email\n            const cardData = {\n                front_cover: cardToPrint.frontCover,\n                back_cover: cardToPrint.backCover,\n                left_page: cardToPrint.leftPage,\n                right_page: cardToPrint.rightPage,\n                card_name: (cardToPrint.prompt || \"Custom Card\").substring(0, 50) + ((cardToPrint.prompt || \"\").length > 50 ? \"...\" : \"\"),\n                paper_size: selectedPaperSize,\n                is_front_back_only: formData.isFrontBackOnly,\n                copies: 1,\n                color_mode: \"color\",\n                quality: \"high\"\n            };\n            if (printOption === \"email\") {\n                // Send PDF to email\n                const emailData = {\n                    ...cardData,\n                    user_email: formData.userEmail.trim(),\n                    send_pdf: true\n                };\n                const response = await fetch(\"/api/send-pdf-email\", {\n                    method: \"POST\",\n                    headers: {\n                        \"Content-Type\": \"application/json\"\n                    },\n                    body: JSON.stringify(emailData)\n                });\n                if (!response.ok) {\n                    const errorText = await response.text();\n                    throw new Error(`HTTP ${response.status}: ${errorText}`);\n                }\n                const result = await response.json();\n                if (result.status === \"success\") {\n                    sonner__WEBPACK_IMPORTED_MODULE_9__.toast.success(`📧 PDF sent to ${formData.userEmail}! Check your inbox.`);\n                } else {\n                    throw new Error(result.error || \"Failed to send PDF\");\n                }\n            } else {\n                // Physical printing\n                const response = await fetch(\"/api/print-queue\", {\n                    method: \"POST\",\n                    headers: {\n                        \"Content-Type\": \"application/json\"\n                    },\n                    body: JSON.stringify(cardData)\n                });\n                if (!response.ok) {\n                    throw new Error(`HTTP ${response.status}`);\n                }\n                const result = await response.json();\n                if (result.status === \"queued\") {\n                    sonner__WEBPACK_IMPORTED_MODULE_9__.toast.success(`🖨️ Your card is now printing! You can pick it up shortly.`);\n                    // Poll for job status (simplified version)\n                    setTimeout(async ()=>{\n                        try {\n                            const statusResponse = await fetch(`/api/print-status/${result.job_id}`);\n                            if (statusResponse.ok) {\n                                const statusResult = await statusResponse.json();\n                                if (statusResult.status === \"found\") {\n                                    if (statusResult.job.status === \"completed\") {\n                                        sonner__WEBPACK_IMPORTED_MODULE_9__.toast.success(\"✅ Your card has been added to the print queue and should be available for pickup shortly.\");\n                                    } else if (statusResult.job.status === \"failed\") {\n                                        sonner__WEBPACK_IMPORTED_MODULE_9__.toast.error(\"❌ There was an issue with printing. Please try again or contact us for help.\");\n                                    }\n                                }\n                            }\n                        } catch (error) {\n                            console.log(\"Could not check print status:\", error);\n                        }\n                    }, 10000);\n                } else {\n                    throw new Error(result.error || \"Unknown error\");\n                }\n            }\n        } catch (error) {\n            console.error(\"Print/Email error:\", error);\n            sonner__WEBPACK_IMPORTED_MODULE_9__.toast.error(printOption === \"email\" ? \"Failed to send PDF email\" : \"Failed to queue print job\");\n        }\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"space-y-6\",\n        children: [\n            selectedDraft && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_2__.Card, {\n                className: \"border-green-200 bg-green-50 dark:bg-green-900/20 dark:border-green-800\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_2__.CardHeader, {\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_2__.CardTitle, {\n                            className: \"text-lg flex items-center gap-2\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_CheckCircle_ChevronLeft_Clock_Mail_Printer_Sparkles_lucide_react__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\n                                    className: \"w-5 h-5 text-green-600\"\n                                }, void 0, false, {\n                                    fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step6FinalGeneration.tsx\",\n                                    lineNumber: 271,\n                                    columnNumber: 15\n                                }, this),\n                                \"Selected Design\"\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step6FinalGeneration.tsx\",\n                            lineNumber: 270,\n                            columnNumber: 13\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step6FinalGeneration.tsx\",\n                        lineNumber: 269,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_2__.CardContent, {\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex items-center gap-4\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex-shrink-0\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                        src: selectedDraft.frontCover,\n                                        alt: \"Selected draft\",\n                                        className: \"w-24 h-36 object-cover rounded-lg border shadow-sm\"\n                                    }, void 0, false, {\n                                        fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step6FinalGeneration.tsx\",\n                                        lineNumber: 278,\n                                        columnNumber: 17\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step6FinalGeneration.tsx\",\n                                    lineNumber: 277,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex-1\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                            className: \"text-sm text-gray-600 dark:text-gray-400 mb-2\",\n                                            children: \"Creating your complete card\"\n                                        }, void 0, false, {\n                                            fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step6FinalGeneration.tsx\",\n                                            lineNumber: 285,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                            className: \"text-sm text-green-700 dark:text-green-300 font-medium\",\n                                            children: \"✓ Ready to generate final version\"\n                                        }, void 0, false, {\n                                            fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step6FinalGeneration.tsx\",\n                                            lineNumber: 288,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step6FinalGeneration.tsx\",\n                                    lineNumber: 284,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step6FinalGeneration.tsx\",\n                            lineNumber: 276,\n                            columnNumber: 13\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step6FinalGeneration.tsx\",\n                        lineNumber: 275,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step6FinalGeneration.tsx\",\n                lineNumber: 268,\n                columnNumber: 9\n            }, this),\n            isGeneratingFinalCard && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_2__.Card, {\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_2__.CardHeader, {\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_2__.CardTitle, {\n                            className: \"text-xl flex items-center gap-2\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_CheckCircle_ChevronLeft_Clock_Mail_Printer_Sparkles_lucide_react__WEBPACK_IMPORTED_MODULE_11__[\"default\"], {\n                                    className: \"w-6 h-6 text-blue-600\"\n                                }, void 0, false, {\n                                    fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step6FinalGeneration.tsx\",\n                                    lineNumber: 302,\n                                    columnNumber: 15\n                                }, this),\n                                \"Generating Your Complete Card\"\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step6FinalGeneration.tsx\",\n                            lineNumber: 301,\n                            columnNumber: 13\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step6FinalGeneration.tsx\",\n                        lineNumber: 300,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_2__.CardContent, {\n                        className: \"space-y-4\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"space-y-2\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex justify-between text-sm\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"text-gray-600 dark:text-gray-400\",\n                                                children: \"Progress\"\n                                            }, void 0, false, {\n                                                fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step6FinalGeneration.tsx\",\n                                                lineNumber: 310,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"font-medium\",\n                                                children: [\n                                                    Math.round(progressPercentage),\n                                                    \"%\"\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step6FinalGeneration.tsx\",\n                                                lineNumber: 311,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step6FinalGeneration.tsx\",\n                                        lineNumber: 309,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_progress__WEBPACK_IMPORTED_MODULE_4__.Progress, {\n                                        value: progressPercentage,\n                                        className: \"h-3\"\n                                    }, void 0, false, {\n                                        fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step6FinalGeneration.tsx\",\n                                        lineNumber: 313,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step6FinalGeneration.tsx\",\n                                lineNumber: 308,\n                                columnNumber: 13\n                            }, this),\n                            generationProgress && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"text-center text-blue-800 dark:text-blue-200 font-medium\",\n                                    children: generationProgress\n                                }, void 0, false, {\n                                    fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step6FinalGeneration.tsx\",\n                                    lineNumber: 319,\n                                    columnNumber: 17\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step6FinalGeneration.tsx\",\n                                lineNumber: 318,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex items-center justify-center gap-2 text-sm text-gray-600 dark:text-gray-400\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_CheckCircle_ChevronLeft_Clock_Mail_Printer_Sparkles_lucide_react__WEBPACK_IMPORTED_MODULE_12__[\"default\"], {\n                                        className: \"w-4 h-4\"\n                                    }, void 0, false, {\n                                        fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step6FinalGeneration.tsx\",\n                                        lineNumber: 327,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        children: [\n                                            \"Elapsed: \",\n                                            formatGenerationTime(currentElapsedTime)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step6FinalGeneration.tsx\",\n                                        lineNumber: 328,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step6FinalGeneration.tsx\",\n                                lineNumber: 326,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"bg-gray-50 dark:bg-gray-800 rounded-lg p-4\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h4\", {\n                                        className: \"font-medium text-gray-900 dark:text-gray-100 mb-2\",\n                                        children: \"\\uD83D\\uDCA1 While you wait:\"\n                                    }, void 0, false, {\n                                        fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step6FinalGeneration.tsx\",\n                                        lineNumber: 333,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"ul\", {\n                                        className: \"text-sm text-gray-600 dark:text-gray-400 space-y-1\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                                children: \"• High-quality generation typically takes 1-3 minutes\"\n                                            }, void 0, false, {\n                                                fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step6FinalGeneration.tsx\",\n                                                lineNumber: 337,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                                children: \"• You can safely leave this page during generation\"\n                                            }, void 0, false, {\n                                                fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step6FinalGeneration.tsx\",\n                                                lineNumber: 338,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                                children: \"• Your card will be ready when you return\"\n                                            }, void 0, false, {\n                                                fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step6FinalGeneration.tsx\",\n                                                lineNumber: 339,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                                children: [\n                                                    \"• We'll send email updates to \",\n                                                    formData.userEmail\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step6FinalGeneration.tsx\",\n                                                lineNumber: 340,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step6FinalGeneration.tsx\",\n                                        lineNumber: 336,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step6FinalGeneration.tsx\",\n                                lineNumber: 332,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step6FinalGeneration.tsx\",\n                        lineNumber: 306,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step6FinalGeneration.tsx\",\n                lineNumber: 299,\n                columnNumber: 9\n            }, this),\n            isCardCompleted && generatedCard && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"space-y-6\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_2__.Card, {\n                        className: \"border-green-200 bg-green-50 dark:bg-green-900/20 dark:border-green-800\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_2__.CardHeader, {\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_2__.CardTitle, {\n                                    className: \"text-xl flex items-center gap-2 text-green-800 dark:text-green-200\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_CheckCircle_ChevronLeft_Clock_Mail_Printer_Sparkles_lucide_react__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\n                                            className: \"w-6 h-6\"\n                                        }, void 0, false, {\n                                            fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step6FinalGeneration.tsx\",\n                                            lineNumber: 353,\n                                            columnNumber: 17\n                                        }, this),\n                                        \"Your Card is Ready!\"\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step6FinalGeneration.tsx\",\n                                    lineNumber: 352,\n                                    columnNumber: 15\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step6FinalGeneration.tsx\",\n                                lineNumber: 351,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_2__.CardContent, {\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"text-center\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"text-green-700 dark:text-green-300\",\n                                        children: \"\\uD83C\\uDF89 Your complete high-quality card has been generated successfully!\"\n                                    }, void 0, false, {\n                                        fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step6FinalGeneration.tsx\",\n                                        lineNumber: 359,\n                                        columnNumber: 17\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step6FinalGeneration.tsx\",\n                                    lineNumber: 358,\n                                    columnNumber: 15\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step6FinalGeneration.tsx\",\n                                lineNumber: 357,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step6FinalGeneration.tsx\",\n                        lineNumber: 350,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_CardPreview__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n                        card: generatedCard,\n                        isFrontBackOnly: formData.isFrontBackOnly,\n                        isCardCompleted: true,\n                        onPrint: handlePrintClick,\n                        paperConfig: paperSizes.find((size)=>size.id === selectedPaperSize) || paperSizes[0],\n                        selectedPaperSize: selectedPaperSize,\n                        onPaperSizeChange: setSelectedPaperSize,\n                        paperSizes: paperSizes,\n                        referenceImageUrls: formData.referenceImageUrls,\n                        personalTraits: formData.personalTraits,\n                        relationshipField: formData.relationshipField,\n                        photoReferences: formData.photoReferences\n                    }, void 0, false, {\n                        fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step6FinalGeneration.tsx\",\n                        lineNumber: 367,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex justify-center mt-4\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_3__.Button, {\n                            variant: \"outline\",\n                            onClick: onBackToDrafts,\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_CheckCircle_ChevronLeft_Clock_Mail_Printer_Sparkles_lucide_react__WEBPACK_IMPORTED_MODULE_13__[\"default\"], {\n                                    className: \"w-4 h-4 mr-2\"\n                                }, void 0, false, {\n                                    fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step6FinalGeneration.tsx\",\n                                    lineNumber: 384,\n                                    columnNumber: 15\n                                }, this),\n                                \"Select Different Draft\"\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step6FinalGeneration.tsx\",\n                            lineNumber: 383,\n                            columnNumber: 13\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step6FinalGeneration.tsx\",\n                        lineNumber: 382,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step6FinalGeneration.tsx\",\n                lineNumber: 349,\n                columnNumber: 9\n            }, this),\n            !isGeneratingFinalCard && !isCardCompleted && !generatedCard && selectedDraftIndex >= 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_2__.Card, {\n                className: \"border-amber-200 bg-amber-50 dark:bg-amber-900/20 dark:border-amber-800\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_2__.CardHeader, {\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_2__.CardTitle, {\n                            className: \"text-lg flex items-center gap-2 text-amber-800 dark:text-amber-200\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_CheckCircle_ChevronLeft_Clock_Mail_Printer_Sparkles_lucide_react__WEBPACK_IMPORTED_MODULE_12__[\"default\"], {\n                                    className: \"w-5 h-5\"\n                                }, void 0, false, {\n                                    fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step6FinalGeneration.tsx\",\n                                    lineNumber: 396,\n                                    columnNumber: 15\n                                }, this),\n                                \"Ready to Generate\"\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step6FinalGeneration.tsx\",\n                            lineNumber: 395,\n                            columnNumber: 13\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step6FinalGeneration.tsx\",\n                        lineNumber: 394,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_2__.CardContent, {\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"text-center space-y-4\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"text-gray-700 dark:text-gray-300\",\n                                    children: \"Ready to create your final high-quality card?\"\n                                }, void 0, false, {\n                                    fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step6FinalGeneration.tsx\",\n                                    lineNumber: 402,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"text-sm text-gray-500 dark:text-gray-400\",\n                                    children: \"This will generate your final card based on the selected design.\"\n                                }, void 0, false, {\n                                    fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step6FinalGeneration.tsx\",\n                                    lineNumber: 405,\n                                    columnNumber: 15\n                                }, this),\n                                showConfirmation && !isGeneratingFinalCard && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"space-y-3\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_3__.Button, {\n                                            onClick: ()=>{\n                                                setShowConfirmation(false);\n                                                onGenerateFinalCard(selectedDraftIndex);\n                                            },\n                                            className: \"bg-gradient-to-r from-blue-500 to-cyan-600 hover:from-blue-600 hover:to-cyan-700\",\n                                            size: \"lg\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_CheckCircle_ChevronLeft_Clock_Mail_Printer_Sparkles_lucide_react__WEBPACK_IMPORTED_MODULE_11__[\"default\"], {\n                                                    className: \"w-5 h-5 mr-2\"\n                                                }, void 0, false, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step6FinalGeneration.tsx\",\n                                                    lineNumber: 418,\n                                                    columnNumber: 21\n                                                }, this),\n                                                \"Generate Final Card\"\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step6FinalGeneration.tsx\",\n                                            lineNumber: 410,\n                                            columnNumber: 19\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_3__.Button, {\n                                                variant: \"outline\",\n                                                onClick: ()=>setShowConfirmation(false),\n                                                size: \"sm\",\n                                                children: \"Not ready yet\"\n                                            }, void 0, false, {\n                                                fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step6FinalGeneration.tsx\",\n                                                lineNumber: 422,\n                                                columnNumber: 21\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step6FinalGeneration.tsx\",\n                                            lineNumber: 421,\n                                            columnNumber: 19\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step6FinalGeneration.tsx\",\n                                    lineNumber: 409,\n                                    columnNumber: 17\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step6FinalGeneration.tsx\",\n                            lineNumber: 401,\n                            columnNumber: 13\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step6FinalGeneration.tsx\",\n                        lineNumber: 400,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step6FinalGeneration.tsx\",\n                lineNumber: 393,\n                columnNumber: 9\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_dialog__WEBPACK_IMPORTED_MODULE_5__.Dialog, {\n                open: showPrintConfirmation,\n                onOpenChange: setShowPrintConfirmation,\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_dialog__WEBPACK_IMPORTED_MODULE_5__.DialogContent, {\n                    className: \"sm:max-w-md\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_dialog__WEBPACK_IMPORTED_MODULE_5__.DialogHeader, {\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_dialog__WEBPACK_IMPORTED_MODULE_5__.DialogTitle, {\n                                    className: \"flex items-center gap-2\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_CheckCircle_ChevronLeft_Clock_Mail_Printer_Sparkles_lucide_react__WEBPACK_IMPORTED_MODULE_14__[\"default\"], {\n                                            className: \"w-5 h-5\"\n                                        }, void 0, false, {\n                                            fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step6FinalGeneration.tsx\",\n                                            lineNumber: 442,\n                                            columnNumber: 15\n                                        }, this),\n                                        \"Print Your Card\"\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step6FinalGeneration.tsx\",\n                                    lineNumber: 441,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_dialog__WEBPACK_IMPORTED_MODULE_5__.DialogDescription, {\n                                    children: \"Choose how you'd like to print your greeting card.\"\n                                }, void 0, false, {\n                                    fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step6FinalGeneration.tsx\",\n                                    lineNumber: 445,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step6FinalGeneration.tsx\",\n                            lineNumber: 440,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"space-y-6\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"space-y-4\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h4\", {\n                                            className: \"text-sm font-medium\",\n                                            children: \"Print Options\"\n                                        }, void 0, false, {\n                                            fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step6FinalGeneration.tsx\",\n                                            lineNumber: 453,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: `border rounded-lg p-4 cursor-pointer transition-all ${printOption === \"physical\" ? \"border-blue-500 bg-blue-50 dark:bg-blue-900/20\" : \"border-gray-200 dark:border-gray-700 hover:border-gray-300\"}`,\n                                            onClick: ()=>setPrintOption(\"physical\"),\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"flex items-start gap-3\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                        type: \"radio\",\n                                                        checked: printOption === \"physical\",\n                                                        onChange: ()=>setPrintOption(\"physical\"),\n                                                        className: \"mt-1\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step6FinalGeneration.tsx\",\n                                                        lineNumber: 465,\n                                                        columnNumber: 19\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"flex-1\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"flex items-center gap-2\",\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_CheckCircle_ChevronLeft_Clock_Mail_Printer_Sparkles_lucide_react__WEBPACK_IMPORTED_MODULE_14__[\"default\"], {\n                                                                        className: \"w-4 h-4 text-blue-600\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step6FinalGeneration.tsx\",\n                                                                        lineNumber: 473,\n                                                                        columnNumber: 23\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                        className: \"font-medium\",\n                                                                        children: \"Physical Print\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step6FinalGeneration.tsx\",\n                                                                        lineNumber: 474,\n                                                                        columnNumber: 23\n                                                                    }, this)\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step6FinalGeneration.tsx\",\n                                                                lineNumber: 472,\n                                                                columnNumber: 21\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                className: \"text-sm text-gray-600 dark:text-gray-400 mt-1\",\n                                                                children: \"Print directly to our office printer. Pick up your card shortly.\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step6FinalGeneration.tsx\",\n                                                                lineNumber: 476,\n                                                                columnNumber: 21\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step6FinalGeneration.tsx\",\n                                                        lineNumber: 471,\n                                                        columnNumber: 19\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step6FinalGeneration.tsx\",\n                                                lineNumber: 464,\n                                                columnNumber: 17\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step6FinalGeneration.tsx\",\n                                            lineNumber: 456,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: `border rounded-lg p-4 cursor-pointer transition-all ${printOption === \"email\" ? \"border-blue-500 bg-blue-50 dark:bg-blue-900/20\" : \"border-gray-200 dark:border-gray-700 hover:border-gray-300\"}`,\n                                            onClick: ()=>setPrintOption(\"email\"),\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"flex items-start gap-3\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                        type: \"radio\",\n                                                        checked: printOption === \"email\",\n                                                        onChange: ()=>setPrintOption(\"email\"),\n                                                        className: \"mt-1\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step6FinalGeneration.tsx\",\n                                                        lineNumber: 493,\n                                                        columnNumber: 19\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"flex-1\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"flex items-center gap-2\",\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_CheckCircle_ChevronLeft_Clock_Mail_Printer_Sparkles_lucide_react__WEBPACK_IMPORTED_MODULE_15__[\"default\"], {\n                                                                        className: \"w-4 h-4 text-green-600\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step6FinalGeneration.tsx\",\n                                                                        lineNumber: 501,\n                                                                        columnNumber: 23\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                        className: \"font-medium\",\n                                                                        children: \"Email PDF\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step6FinalGeneration.tsx\",\n                                                                        lineNumber: 502,\n                                                                        columnNumber: 23\n                                                                    }, this)\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step6FinalGeneration.tsx\",\n                                                                lineNumber: 500,\n                                                                columnNumber: 21\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                className: \"text-sm text-gray-600 dark:text-gray-400 mt-1\",\n                                                                children: \"Get a PDF version sent to your email for printing at home.\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step6FinalGeneration.tsx\",\n                                                                lineNumber: 504,\n                                                                columnNumber: 21\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step6FinalGeneration.tsx\",\n                                                        lineNumber: 499,\n                                                        columnNumber: 19\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step6FinalGeneration.tsx\",\n                                                lineNumber: 492,\n                                                columnNumber: 17\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step6FinalGeneration.tsx\",\n                                            lineNumber: 484,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step6FinalGeneration.tsx\",\n                                    lineNumber: 452,\n                                    columnNumber: 13\n                                }, this),\n                                printOption === \"physical\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"space-y-3\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h4\", {\n                                            className: \"text-sm font-medium\",\n                                            children: \"Print Settings\"\n                                        }, void 0, false, {\n                                            fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step6FinalGeneration.tsx\",\n                                            lineNumber: 515,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                    className: \"text-sm text-gray-600 dark:text-gray-400 mb-2 block\",\n                                                    children: \"Paper Size\"\n                                                }, void 0, false, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step6FinalGeneration.tsx\",\n                                                    lineNumber: 517,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_select__WEBPACK_IMPORTED_MODULE_7__.Select, {\n                                                    value: selectedPaperSize,\n                                                    onValueChange: setSelectedPaperSize,\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_select__WEBPACK_IMPORTED_MODULE_7__.SelectTrigger, {\n                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_select__WEBPACK_IMPORTED_MODULE_7__.SelectValue, {}, void 0, false, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step6FinalGeneration.tsx\",\n                                                                lineNumber: 522,\n                                                                columnNumber: 23\n                                                            }, this)\n                                                        }, void 0, false, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step6FinalGeneration.tsx\",\n                                                            lineNumber: 521,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_select__WEBPACK_IMPORTED_MODULE_7__.SelectContent, {\n                                                            children: paperSizes.map((size)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_select__WEBPACK_IMPORTED_MODULE_7__.SelectItem, {\n                                                                    value: size.id,\n                                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                        className: \"text-left\",\n                                                                        children: [\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                className: \"font-medium\",\n                                                                                children: size.label\n                                                                            }, void 0, false, {\n                                                                                fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step6FinalGeneration.tsx\",\n                                                                                lineNumber: 528,\n                                                                                columnNumber: 29\n                                                                            }, this),\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                className: \"text-xs text-muted-foreground\",\n                                                                                children: size.description\n                                                                            }, void 0, false, {\n                                                                                fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step6FinalGeneration.tsx\",\n                                                                                lineNumber: 529,\n                                                                                columnNumber: 29\n                                                                            }, this)\n                                                                        ]\n                                                                    }, void 0, true, {\n                                                                        fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step6FinalGeneration.tsx\",\n                                                                        lineNumber: 527,\n                                                                        columnNumber: 27\n                                                                    }, this)\n                                                                }, size.id, false, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step6FinalGeneration.tsx\",\n                                                                    lineNumber: 526,\n                                                                    columnNumber: 25\n                                                                }, this))\n                                                        }, void 0, false, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step6FinalGeneration.tsx\",\n                                                            lineNumber: 524,\n                                                            columnNumber: 21\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step6FinalGeneration.tsx\",\n                                                    lineNumber: 520,\n                                                    columnNumber: 19\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step6FinalGeneration.tsx\",\n                                            lineNumber: 516,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step6FinalGeneration.tsx\",\n                                    lineNumber: 514,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"space-y-2\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                            className: \"text-sm font-medium\",\n                                            children: \"Email Address\"\n                                        }, void 0, false, {\n                                            fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step6FinalGeneration.tsx\",\n                                            lineNumber: 541,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_input__WEBPACK_IMPORTED_MODULE_6__.Input, {\n                                            value: formData.userEmail || \"\",\n                                            disabled: true,\n                                            className: \"bg-gray-50 dark:bg-gray-800\"\n                                        }, void 0, false, {\n                                            fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step6FinalGeneration.tsx\",\n                                            lineNumber: 542,\n                                            columnNumber: 15\n                                        }, this),\n                                        printOption === \"email\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                            className: \"text-xs text-gray-500\",\n                                            children: \"PDF will be sent to this email address\"\n                                        }, void 0, false, {\n                                            fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step6FinalGeneration.tsx\",\n                                            lineNumber: 548,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step6FinalGeneration.tsx\",\n                                    lineNumber: 540,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex gap-3\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_3__.Button, {\n                                            variant: \"outline\",\n                                            onClick: ()=>setShowPrintConfirmation(false),\n                                            className: \"flex-1\",\n                                            children: \"Cancel\"\n                                        }, void 0, false, {\n                                            fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step6FinalGeneration.tsx\",\n                                            lineNumber: 556,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_3__.Button, {\n                                            onClick: handleConfirmPrint,\n                                            className: \"flex-1 bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700\",\n                                            children: printOption === \"email\" ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_CheckCircle_ChevronLeft_Clock_Mail_Printer_Sparkles_lucide_react__WEBPACK_IMPORTED_MODULE_15__[\"default\"], {\n                                                        className: \"w-4 h-4 mr-2\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step6FinalGeneration.tsx\",\n                                                        lineNumber: 569,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    \"Send PDF\"\n                                                ]\n                                            }, void 0, true) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_CheckCircle_ChevronLeft_Clock_Mail_Printer_Sparkles_lucide_react__WEBPACK_IMPORTED_MODULE_14__[\"default\"], {\n                                                        className: \"w-4 h-4 mr-2\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step6FinalGeneration.tsx\",\n                                                        lineNumber: 574,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    \"Print Card\"\n                                                ]\n                                            }, void 0, true)\n                                        }, void 0, false, {\n                                            fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step6FinalGeneration.tsx\",\n                                            lineNumber: 563,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step6FinalGeneration.tsx\",\n                                    lineNumber: 555,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step6FinalGeneration.tsx\",\n                            lineNumber: 450,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step6FinalGeneration.tsx\",\n                    lineNumber: 439,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step6FinalGeneration.tsx\",\n                lineNumber: 438,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/var/www/flask_app/ast_chat/components/wizard/steps/Step6FinalGeneration.tsx\",\n        lineNumber: 265,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9jb21wb25lbnRzL3dpemFyZC9zdGVwcy9TdGVwNkZpbmFsR2VuZXJhdGlvbi50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFbUQ7QUFDNkI7QUFDaEM7QUFDSTtBQUN5RDtBQUMvRDtBQUN5RDtBQUNmO0FBRXJDO0FBQ3BCO0FBaUMvQix5Q0FBeUM7QUFDekMsTUFBTTRCLGFBQTRCO0lBQ2hDO1FBQ0VDLElBQUk7UUFDSkMsT0FBTztRQUNQQyxhQUFhO1FBQ2JDLGFBQWE7UUFDYkMsWUFBWTtRQUNaQyxZQUFZO1FBQ1pDLGFBQWE7SUFDZjtJQUNBO1FBQ0VOLElBQUk7UUFDSkMsT0FBTztRQUNQQyxhQUFhO1FBQ2JDLGFBQWE7UUFDYkMsWUFBWTtRQUNaQyxZQUFZO1FBQ1pDLGFBQWE7SUFDZjtJQUNBO1FBQ0VOLElBQUk7UUFDSkMsT0FBTztRQUNQQyxhQUFhO1FBQ2JDLGFBQWE7UUFDYkMsWUFBWTtRQUNaQyxZQUFZO1FBQ1pDLGFBQWE7SUFDZjtDQUNEO0FBaUJjLFNBQVNDLHFCQUFxQixFQUMzQ0MsUUFBUSxFQUNSQyxxQkFBcUIsRUFDckJDLGtCQUFrQixFQUNsQkMsa0JBQWtCLEVBQ2xCQyxrQkFBa0IsRUFDbEJDLGtCQUFrQixFQUNsQkMsVUFBVSxFQUNWQyxhQUFhLEVBQ2JDLGVBQWUsRUFDZkMsbUJBQW1CLEVBQ25CQyxvQkFBb0IsRUFDcEJDLGNBQWMsRUFDWTtJQUUxQixzQkFBc0I7SUFDdEIsTUFBTSxDQUFDQyx1QkFBdUJDLHlCQUF5QixHQUFHaEQsK0NBQVFBLENBQUM7SUFDbkUsTUFBTSxDQUFDaUQsYUFBYUMsZUFBZSxHQUFHbEQsK0NBQVFBLENBQXVCO0lBQ3JFLE1BQU0sQ0FBQ21ELG1CQUFtQkMscUJBQXFCLEdBQUdwRCwrQ0FBUUEsQ0FBUztJQUVuRSw4QkFBOEI7SUFDOUIsTUFBTSxDQUFDcUQsa0JBQWtCQyxvQkFBb0IsR0FBR3RELCtDQUFRQSxDQUFDO0lBRXpELHVFQUF1RTtJQUN2RUQs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QUFDOEU7Z0ZBQUlDLFdBQVU7MEZBQWlDZ0IsS0FBSzlGLFdBQVc7Ozs7Ozs7Ozs7OzttRUFIbkQ4RixLQUFLaEcsRUFBRTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs4Q0FjcEMsOERBQUMrRTtvQ0FBSUMsV0FBVTs7c0RBQ2IsOERBQUMvRTs0Q0FBTStFLFdBQVU7c0RBQXNCOzs7Ozs7c0RBQ3ZDLDhEQUFDL0YsdURBQUtBOzRDQUNKdUcsT0FBT2hGLFNBQVN1QixTQUFTLElBQUk7NENBQzdCaUYsUUFBUTs0Q0FDUmhDLFdBQVU7Ozs7Ozt3Q0FFWDFELGdCQUFnQix5QkFDZiw4REFBQzhEOzRDQUFFSixXQUFVO3NEQUF3Qjs7Ozs7Ozs7Ozs7OzhDQU96Qyw4REFBQ0Q7b0NBQUlDLFdBQVU7O3NEQUNiLDhEQUFDdEcseURBQU1BOzRDQUNMNEgsU0FBUTs0Q0FDUkMsU0FBUyxJQUFNbEYseUJBQXlCOzRDQUN4QzJELFdBQVU7c0RBQ1g7Ozs7OztzREFHRCw4REFBQ3RHLHlEQUFNQTs0Q0FDTDZILFNBQVNyRTs0Q0FDVDhDLFdBQVU7c0RBRVQxRCxnQkFBZ0Isd0JBQ2Y7O2tFQUNFLDhEQUFDM0IsZ0lBQUlBO3dEQUFDcUYsV0FBVTs7Ozs7O29EQUFpQjs7NkVBSW5DOztrRUFDRSw4REFBQ3RGLGdJQUFPQTt3REFBQ3NGLFdBQVU7Ozs7OztvREFBaUI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFXeEQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92aWJlY2FyZGluZy8uL2NvbXBvbmVudHMvd2l6YXJkL3N0ZXBzL1N0ZXA2RmluYWxHZW5lcmF0aW9uLnRzeD9hN2VmIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIGNsaWVudFwiO1xuXG5pbXBvcnQgUmVhY3QsIHsgdXNlRWZmZWN0LCB1c2VTdGF0ZSB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgQ2FyZCwgQ2FyZENvbnRlbnQsIENhcmRIZWFkZXIsIENhcmRUaXRsZSB9IGZyb20gXCJAL2NvbXBvbmVudHMvdWkvY2FyZFwiO1xuaW1wb3J0IHsgQnV0dG9uIH0gZnJvbSBcIkAvY29tcG9uZW50cy91aS9idXR0b25cIjtcbmltcG9ydCB7IFByb2dyZXNzIH0gZnJvbSBcIkAvY29tcG9uZW50cy91aS9wcm9ncmVzc1wiO1xuaW1wb3J0IHsgRGlhbG9nLCBEaWFsb2dDb250ZW50LCBEaWFsb2dEZXNjcmlwdGlvbiwgRGlhbG9nSGVhZGVyLCBEaWFsb2dUaXRsZSB9IGZyb20gXCJAL2NvbXBvbmVudHMvdWkvZGlhbG9nXCI7XG5pbXBvcnQgeyBJbnB1dCB9IGZyb20gXCJAL2NvbXBvbmVudHMvdWkvaW5wdXRcIjtcbmltcG9ydCB7IFNlbGVjdCwgU2VsZWN0Q29udGVudCwgU2VsZWN0SXRlbSwgU2VsZWN0VHJpZ2dlciwgU2VsZWN0VmFsdWUgfSBmcm9tIFwiQC9jb21wb25lbnRzL3VpL3NlbGVjdFwiO1xuaW1wb3J0IHsgU3BhcmtsZXMsIENsb2NrLCBDaGVja0NpcmNsZSwgUHJpbnRlciwgTWFpbCwgQ2hldnJvbkxlZnQgfSBmcm9tIFwibHVjaWRlLXJlYWN0XCI7XG5pbXBvcnQgeyBDYXJkRm9ybURhdGEgfSBmcm9tIFwiQC9ob29rcy91c2VDYXJkRm9ybVwiO1xuaW1wb3J0IENhcmRQcmV2aWV3IGZyb20gXCJAL2NvbXBvbmVudHMvQ2FyZFByZXZpZXdcIjtcbmltcG9ydCB7IHRvYXN0IH0gZnJvbSBcInNvbm5lclwiO1xuXG5pbnRlcmZhY2UgR2VuZXJhdGVkQ2FyZCB7XG4gIGlkOiBzdHJpbmc7XG4gIHByb21wdDogc3RyaW5nO1xuICBmcm9udENvdmVyOiBzdHJpbmc7XG4gIGJhY2tDb3Zlcjogc3RyaW5nO1xuICBsZWZ0UGFnZTogc3RyaW5nO1xuICByaWdodFBhZ2U6IHN0cmluZztcbiAgY3JlYXRlZEF0OiBEYXRlO1xuICBzaGFyZVVybD86IHN0cmluZztcbiAgZ2VuZXJhdGVkUHJvbXB0cz86IHtcbiAgICBmcm9udENvdmVyPzogc3RyaW5nO1xuICAgIGJhY2tDb3Zlcj86IHN0cmluZztcbiAgICBsZWZ0SW50ZXJpb3I/OiBzdHJpbmc7XG4gICAgcmlnaHRJbnRlcmlvcj86IHN0cmluZztcbiAgfTtcbiAgc3R5bGVJbmZvPzoge1xuICAgIHN0eWxlTmFtZT86IHN0cmluZztcbiAgICBzdHlsZUxhYmVsPzogc3RyaW5nO1xuICB9O1xufVxuXG5pbnRlcmZhY2UgUGFwZXJDb25maWcge1xuICBpZDogc3RyaW5nO1xuICBsYWJlbDogc3RyaW5nO1xuICBkZXNjcmlwdGlvbjogc3RyaW5nO1xuICBhc3BlY3RSYXRpbzogc3RyaW5nO1xuICBkaW1lbnNpb25zOiBzdHJpbmc7XG4gIHByaW50V2lkdGg6IHN0cmluZztcbiAgcHJpbnRIZWlnaHQ6IHN0cmluZztcbn1cblxuLy8gUGFwZXIgc2l6ZSBvcHRpb25zIC0gc2FtZSBhcyBtYWluIHBhZ2VcbmNvbnN0IHBhcGVyU2l6ZXM6IFBhcGVyQ29uZmlnW10gPSBbXG4gIHtcbiAgICBpZDogXCJzdGFuZGFyZFwiLFxuICAgIGxhYmVsOiBcIjXDlzcgQ2FyZCAoU3RhbmRhcmQpXCIsXG4gICAgZGVzY3JpcHRpb246IFwiU3RhbmRhcmQgNcOXNyBncmVldGluZyBjYXJkICgxMMOXNyBwcmludCBsYXlvdXQpXCIsXG4gICAgYXNwZWN0UmF0aW86IFwiOToxNlwiLFxuICAgIGRpbWVuc2lvbnM6IFwiMTAyNHgxNTM2XCIsXG4gICAgcHJpbnRXaWR0aDogXCIxMGluXCIsXG4gICAgcHJpbnRIZWlnaHQ6IFwiN2luXCJcbiAgfSxcbiAge1xuICAgIGlkOiBcImNvbXBhY3RcIixcbiAgICBsYWJlbDogXCI0w5c2IENhcmQgKENvbXBhY3QpXCIsXG4gICAgZGVzY3JpcHRpb246IFwiQ29tcGFjdCA0w5c2IGdyZWV0aW5nIGNhcmQgKDjDlzYgcHJpbnQgbGF5b3V0KVwiLFxuICAgIGFzcGVjdFJhdGlvOiBcIjI6M1wiLFxuICAgIGRpbWVuc2lvbnM6IFwiNzY4eDExNTJcIixcbiAgICBwcmludFdpZHRoOiBcIjhpblwiLFxuICAgIHByaW50SGVpZ2h0OiBcIjZpblwiXG4gIH0sXG4gIHtcbiAgICBpZDogXCJhNlwiLFxuICAgIGxhYmVsOiBcIkE2IENhcmQgKDTDlzYpXCIsXG4gICAgZGVzY3JpcHRpb246IFwiQTYgcGFwZXIgc2l6ZSAoOC4zw5c1LjggcHJpbnQgbGF5b3V0KVwiLFxuICAgIGFzcGVjdFJhdGlvOiBcIjI6M1wiLFxuICAgIGRpbWVuc2lvbnM6IFwiNzY4eDExNTJcIixcbiAgICBwcmludFdpZHRoOiBcIjguM2luXCIsXG4gICAgcHJpbnRIZWlnaHQ6IFwiNS44aW5cIlxuICB9XG5dO1xuXG5pbnRlcmZhY2UgU3RlcDZGaW5hbEdlbmVyYXRpb25Qcm9wcyB7XG4gIGZvcm1EYXRhOiBDYXJkRm9ybURhdGE7XG4gIGlzR2VuZXJhdGluZ0ZpbmFsQ2FyZDogYm9vbGVhbjtcbiAgZ2VuZXJhdGlvblByb2dyZXNzOiBzdHJpbmc7XG4gIHByb2dyZXNzUGVyY2VudGFnZTogbnVtYmVyO1xuICBjdXJyZW50RWxhcHNlZFRpbWU6IG51bWJlcjtcbiAgc2VsZWN0ZWREcmFmdEluZGV4OiBudW1iZXI7XG4gIGRyYWZ0Q2FyZHM6IEdlbmVyYXRlZENhcmRbXTtcbiAgZ2VuZXJhdGVkQ2FyZDogR2VuZXJhdGVkQ2FyZCB8IG51bGw7XG4gIGlzQ2FyZENvbXBsZXRlZDogYm9vbGVhbjtcbiAgb25HZW5lcmF0ZUZpbmFsQ2FyZDogKGRyYWZ0SW5kZXg6IG51bWJlcikgPT4gdm9pZDtcbiAgZm9ybWF0R2VuZXJhdGlvblRpbWU6IChzZWNvbmRzOiBudW1iZXIpID0+IHN0cmluZztcbiAgb25CYWNrVG9EcmFmdHM6ICgpID0+IHZvaWQ7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFN0ZXA2RmluYWxHZW5lcmF0aW9uKHtcbiAgZm9ybURhdGEsXG4gIGlzR2VuZXJhdGluZ0ZpbmFsQ2FyZCxcbiAgZ2VuZXJhdGlvblByb2dyZXNzLFxuICBwcm9ncmVzc1BlcmNlbnRhZ2UsXG4gIGN1cnJlbnRFbGFwc2VkVGltZSxcbiAgc2VsZWN0ZWREcmFmdEluZGV4LFxuICBkcmFmdENhcmRzLFxuICBnZW5lcmF0ZWRDYXJkLFxuICBpc0NhcmRDb21wbGV0ZWQsXG4gIG9uR2VuZXJhdGVGaW5hbENhcmQsXG4gIGZvcm1hdEdlbmVyYXRpb25UaW1lLFxuICBvbkJhY2tUb0RyYWZ0c1xufTogU3RlcDZGaW5hbEdlbmVyYXRpb25Qcm9wcykge1xuXG4gIC8vIFByaW50LXJlbGF0ZWQgc3RhdGVcbiAgY29uc3QgW3Nob3dQcmludENvbmZpcm1hdGlvbiwgc2V0U2hvd1ByaW50Q29uZmlybWF0aW9uXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3ByaW50T3B0aW9uLCBzZXRQcmludE9wdGlvbl0gPSB1c2VTdGF0ZTwncGh5c2ljYWwnIHwgJ2VtYWlsJz4oJ3BoeXNpY2FsJyk7XG4gIGNvbnN0IFtzZWxlY3RlZFBhcGVyU2l6ZSwgc2V0U2VsZWN0ZWRQYXBlclNpemVdID0gdXNlU3RhdGU8c3RyaW5nPihcInN0YW5kYXJkXCIpO1xuXG4gIC8vIFN0YXRlIGZvciBjb25maXJtYXRpb24gZmxvd1xuICBjb25zdCBbc2hvd0NvbmZpcm1hdGlvbiwgc2V0U2hvd0NvbmZpcm1hdGlvbl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIFxuICAvLyBXaGVuIGEgZHJhZnQgaXMgc2VsZWN0ZWQsIHNob3cgY29uZmlybWF0aW9uIGluc3RlYWQgb2YgYXV0by1zdGFydGluZ1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChzZWxlY3RlZERyYWZ0SW5kZXggPj0gMCAmJiAhaXNHZW5lcmF0aW5nRmluYWxDYXJkICYmICFpc0NhcmRDb21wbGV0ZWQgJiYgIWdlbmVyYXRlZENhcmQpIHtcbiAgICAgIHNldFNob3dDb25maXJtYXRpb24odHJ1ZSk7XG4gICAgfVxuICB9LCBbc2VsZWN0ZWREcmFmdEluZGV4LCBpc0dlbmVyYXRpbmdGaW5hbENhcmQsIGlzQ2FyZENvbXBsZXRlZCwgZ2VuZXJhdGVkQ2FyZF0pO1xuXG4gIGNvbnN0IHNlbGVjdGVkRHJhZnQgPSBzZWxlY3RlZERyYWZ0SW5kZXggPj0gMCAmJiBzZWxlY3RlZERyYWZ0SW5kZXggPCBkcmFmdENhcmRzLmxlbmd0aCBcbiAgICA/IGRyYWZ0Q2FyZHNbc2VsZWN0ZWREcmFmdEluZGV4XSBcbiAgICA6IG51bGw7XG5cbiAgLy8gUHJpbnQgY2xpY2sgaGFuZGxlclxuICBjb25zdCBoYW5kbGVQcmludENsaWNrID0gKCkgPT4ge1xuICAgIGlmICghZ2VuZXJhdGVkQ2FyZCkgcmV0dXJuO1xuICAgIFxuICAgIC8vIENoZWNrIGlmIHVzZXIgZW1haWwgaXMgcHJvdmlkZWRcbiAgICBpZiAoIWZvcm1EYXRhLnVzZXJFbWFpbD8udHJpbSgpKSB7XG4gICAgICB0b2FzdC5lcnJvcihcIlBsZWFzZSBlbnRlciB5b3VyIGVtYWlsIGFkZHJlc3MgYmVmb3JlIHByaW50aW5nXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBcbiAgICBzZXRQcmludE9wdGlvbigncGh5c2ljYWwnKTsgLy8gUmVzZXQgdG8gZGVmYXVsdFxuICAgIHNldFNob3dQcmludENvbmZpcm1hdGlvbih0cnVlKTtcbiAgfTtcblxuICAvLyBIYW5kbGUgcHJpbnQgY29uZmlybWF0aW9uXG4gIGNvbnN0IGhhbmRsZUNvbmZpcm1QcmludCA9IGFzeW5jICgpID0+IHtcbiAgICBjb25zdCBjYXJkVG9QcmludCA9IGdlbmVyYXRlZENhcmQ7XG4gICAgaWYgKCFjYXJkVG9QcmludCkge1xuICAgICAgdG9hc3QuZXJyb3IoXCJObyBjYXJkIGF2YWlsYWJsZSB0byBwcmludFwiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgXG4gICAgLy8gVmFsaWRhdGUgZW1haWwgYmVmb3JlIHByb2NlZWRpbmdcbiAgICBpZiAoIWZvcm1EYXRhLnVzZXJFbWFpbD8udHJpbSgpKSB7XG4gICAgICB0b2FzdC5lcnJvcihcIlBsZWFzZSBlbnRlciB5b3VyIGVtYWlsIGFkZHJlc3MgYmVmb3JlIHByaW50aW5nXCIpO1xuICAgICAgc2V0U2hvd1ByaW50Q29uZmlybWF0aW9uKGZhbHNlKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgXG4gICAgc2V0U2hvd1ByaW50Q29uZmlybWF0aW9uKGZhbHNlKTtcbiAgICBcbiAgICB0cnkge1xuICAgICAgLy8gVmFsaWRhdGUgY2FyZCBkYXRhXG4gICAgICBpZiAoIWNhcmRUb1ByaW50LmZyb250Q292ZXIpIHtcbiAgICAgICAgdG9hc3QuZXJyb3IoXCJDYXJkIGlzIG1pc3NpbmcgZnJvbnQgY292ZXIgaW1hZ2UuIFBsZWFzZSByZWdlbmVyYXRlIHRoZSBjYXJkLlwiKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgXG4gICAgICBpZiAoIWNhcmRUb1ByaW50LmJhY2tDb3Zlcikge1xuICAgICAgICB0b2FzdC5lcnJvcihcIkNhcmQgaXMgbWlzc2luZyBiYWNrIGNvdmVyIGltYWdlLiBQbGVhc2UgcmVnZW5lcmF0ZSB0aGUgY2FyZC5cIik7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgaWYgKCFmb3JtRGF0YS5pc0Zyb250QmFja09ubHkgJiYgKCFjYXJkVG9QcmludC5sZWZ0UGFnZSB8fCAhY2FyZFRvUHJpbnQucmlnaHRQYWdlKSkge1xuICAgICAgICB0b2FzdC5lcnJvcihcIkNhcmQgaXMgbWlzc2luZyBpbnRlcmlvciBwYWdlcy4gUGxlYXNlIHJlZ2VuZXJhdGUgdGhlIGNhcmQgb3IgdXNlIGZyb250LWJhY2sgb25seSBtb2RlLlwiKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBQcmVwYXJlIGNhcmQgZGF0YSBmb3IgYm90aCBwcmludGluZyBhbmQgUERGIGVtYWlsXG4gICAgICBjb25zdCBjYXJkRGF0YSA9IHtcbiAgICAgICAgZnJvbnRfY292ZXI6IGNhcmRUb1ByaW50LmZyb250Q292ZXIsXG4gICAgICAgIGJhY2tfY292ZXI6IGNhcmRUb1ByaW50LmJhY2tDb3ZlcixcbiAgICAgICAgbGVmdF9wYWdlOiBjYXJkVG9QcmludC5sZWZ0UGFnZSxcbiAgICAgICAgcmlnaHRfcGFnZTogY2FyZFRvUHJpbnQucmlnaHRQYWdlLFxuICAgICAgICBjYXJkX25hbWU6IChjYXJkVG9QcmludC5wcm9tcHQgfHwgJ0N1c3RvbSBDYXJkJykuc3Vic3RyaW5nKDAsIDUwKSArICgoY2FyZFRvUHJpbnQucHJvbXB0IHx8ICcnKS5sZW5ndGggPiA1MCA/ICcuLi4nIDogJycpLFxuICAgICAgICBwYXBlcl9zaXplOiBzZWxlY3RlZFBhcGVyU2l6ZSxcbiAgICAgICAgaXNfZnJvbnRfYmFja19vbmx5OiBmb3JtRGF0YS5pc0Zyb250QmFja09ubHksXG4gICAgICAgIGNvcGllczogMSxcbiAgICAgICAgY29sb3JfbW9kZTogJ2NvbG9yJyxcbiAgICAgICAgcXVhbGl0eTogJ2hpZ2gnXG4gICAgICB9O1xuXG4gICAgICBpZiAocHJpbnRPcHRpb24gPT09ICdlbWFpbCcpIHtcbiAgICAgICAgLy8gU2VuZCBQREYgdG8gZW1haWxcbiAgICAgICAgY29uc3QgZW1haWxEYXRhID0ge1xuICAgICAgICAgIC4uLmNhcmREYXRhLFxuICAgICAgICAgIHVzZXJfZW1haWw6IGZvcm1EYXRhLnVzZXJFbWFpbC50cmltKCksXG4gICAgICAgICAgc2VuZF9wZGY6IHRydWVcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCcvYXBpL3NlbmQtcGRmLWVtYWlsJywge1xuICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgfSxcbiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShlbWFpbERhdGEpLFxuICAgICAgICB9KTtcblxuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgY29uc3QgZXJyb3JUZXh0ID0gYXdhaXQgcmVzcG9uc2UudGV4dCgpO1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSFRUUCAke3Jlc3BvbnNlLnN0YXR1c306ICR7ZXJyb3JUZXh0fWApO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgICBcbiAgICAgICAgaWYgKHJlc3VsdC5zdGF0dXMgPT09ICdzdWNjZXNzJykge1xuICAgICAgICAgIHRvYXN0LnN1Y2Nlc3MoYPCfk6cgUERGIHNlbnQgdG8gJHtmb3JtRGF0YS51c2VyRW1haWx9ISBDaGVjayB5b3VyIGluYm94LmApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihyZXN1bHQuZXJyb3IgfHwgJ0ZhaWxlZCB0byBzZW5kIFBERicpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBQaHlzaWNhbCBwcmludGluZ1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCcvYXBpL3ByaW50LXF1ZXVlJywge1xuICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgfSxcbiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShjYXJkRGF0YSksXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEhUVFAgJHtyZXNwb25zZS5zdGF0dXN9YCk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgIFxuICAgICAgICBpZiAocmVzdWx0LnN0YXR1cyA9PT0gJ3F1ZXVlZCcpIHtcbiAgICAgICAgICB0b2FzdC5zdWNjZXNzKGDwn5ao77iPIFlvdXIgY2FyZCBpcyBub3cgcHJpbnRpbmchIFlvdSBjYW4gcGljayBpdCB1cCBzaG9ydGx5LmApO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIFBvbGwgZm9yIGpvYiBzdGF0dXMgKHNpbXBsaWZpZWQgdmVyc2lvbilcbiAgICAgICAgICBzZXRUaW1lb3V0KGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIGNvbnN0IHN0YXR1c1Jlc3BvbnNlID0gYXdhaXQgZmV0Y2goYC9hcGkvcHJpbnQtc3RhdHVzLyR7cmVzdWx0LmpvYl9pZH1gKTtcbiAgICAgICAgICAgICAgaWYgKHN0YXR1c1Jlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3RhdHVzUmVzdWx0ID0gYXdhaXQgc3RhdHVzUmVzcG9uc2UuanNvbigpO1xuICAgICAgICAgICAgICAgIGlmIChzdGF0dXNSZXN1bHQuc3RhdHVzID09PSAnZm91bmQnKSB7XG4gICAgICAgICAgICAgICAgICBpZiAoc3RhdHVzUmVzdWx0LmpvYi5zdGF0dXMgPT09ICdjb21wbGV0ZWQnKSB7XG4gICAgICAgICAgICAgICAgICAgIHRvYXN0LnN1Y2Nlc3MoXCLinIUgWW91ciBjYXJkIGhhcyBiZWVuIGFkZGVkIHRvIHRoZSBwcmludCBxdWV1ZSBhbmQgc2hvdWxkIGJlIGF2YWlsYWJsZSBmb3IgcGlja3VwIHNob3J0bHkuXCIpO1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChzdGF0dXNSZXN1bHQuam9iLnN0YXR1cyA9PT0gJ2ZhaWxlZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgdG9hc3QuZXJyb3IoXCLinYwgVGhlcmUgd2FzIGFuIGlzc3VlIHdpdGggcHJpbnRpbmcuIFBsZWFzZSB0cnkgYWdhaW4gb3IgY29udGFjdCB1cyBmb3IgaGVscC5cIik7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkNvdWxkIG5vdCBjaGVjayBwcmludCBzdGF0dXM6XCIsIGVycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LCAxMDAwMCk7XG4gICAgICAgICAgXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHJlc3VsdC5lcnJvciB8fCAnVW5rbm93biBlcnJvcicpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1ByaW50L0VtYWlsIGVycm9yOicsIGVycm9yKTtcbiAgICAgIHRvYXN0LmVycm9yKHByaW50T3B0aW9uID09PSAnZW1haWwnID8gXCJGYWlsZWQgdG8gc2VuZCBQREYgZW1haWxcIiA6IFwiRmFpbGVkIHRvIHF1ZXVlIHByaW50IGpvYlwiKTtcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktNlwiPlxuICAgICAgey8qIFNlbGVjdGVkIERyYWZ0IFByZXZpZXcgKi99XG4gICAgICB7c2VsZWN0ZWREcmFmdCAmJiAoXG4gICAgICAgIDxDYXJkIGNsYXNzTmFtZT1cImJvcmRlci1ncmVlbi0yMDAgYmctZ3JlZW4tNTAgZGFyazpiZy1ncmVlbi05MDAvMjAgZGFyazpib3JkZXItZ3JlZW4tODAwXCI+XG4gICAgICAgICAgPENhcmRIZWFkZXI+XG4gICAgICAgICAgICA8Q2FyZFRpdGxlIGNsYXNzTmFtZT1cInRleHQtbGcgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cbiAgICAgICAgICAgICAgPENoZWNrQ2lyY2xlIGNsYXNzTmFtZT1cInctNSBoLTUgdGV4dC1ncmVlbi02MDBcIiAvPlxuICAgICAgICAgICAgICBTZWxlY3RlZCBEZXNpZ25cbiAgICAgICAgICAgIDwvQ2FyZFRpdGxlPlxuICAgICAgICAgIDwvQ2FyZEhlYWRlcj5cbiAgICAgICAgICA8Q2FyZENvbnRlbnQ+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC00XCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC1zaHJpbmstMFwiPlxuICAgICAgICAgICAgICAgIDxpbWcgXG4gICAgICAgICAgICAgICAgICBzcmM9e3NlbGVjdGVkRHJhZnQuZnJvbnRDb3Zlcn0gXG4gICAgICAgICAgICAgICAgICBhbHQ9XCJTZWxlY3RlZCBkcmFmdFwiIFxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy0yNCBoLTM2IG9iamVjdC1jb3ZlciByb3VuZGVkLWxnIGJvcmRlciBzaGFkb3ctc21cIlxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgtMVwiPlxuICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1ncmF5LTYwMCBkYXJrOnRleHQtZ3JheS00MDAgbWItMlwiPlxuICAgICAgICAgICAgICAgICAgQ3JlYXRpbmcgeW91ciBjb21wbGV0ZSBjYXJkXG4gICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1ncmVlbi03MDAgZGFyazp0ZXh0LWdyZWVuLTMwMCBmb250LW1lZGl1bVwiPlxuICAgICAgICAgICAgICAgICAg4pyTIFJlYWR5IHRvIGdlbmVyYXRlIGZpbmFsIHZlcnNpb25cbiAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9DYXJkQ29udGVudD5cbiAgICAgICAgPC9DYXJkPlxuICAgICAgKX1cblxuICAgICAgey8qIEdlbmVyYXRpb24gUHJvZ3Jlc3MgKi99XG4gICAgICB7aXNHZW5lcmF0aW5nRmluYWxDYXJkICYmIChcbiAgICAgICAgPENhcmQ+XG4gICAgICAgICAgPENhcmRIZWFkZXI+XG4gICAgICAgICAgICA8Q2FyZFRpdGxlIGNsYXNzTmFtZT1cInRleHQteGwgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cbiAgICAgICAgICAgICAgPFNwYXJrbGVzIGNsYXNzTmFtZT1cInctNiBoLTYgdGV4dC1ibHVlLTYwMFwiIC8+XG4gICAgICAgICAgICAgIEdlbmVyYXRpbmcgWW91ciBDb21wbGV0ZSBDYXJkXG4gICAgICAgICAgICA8L0NhcmRUaXRsZT5cbiAgICAgICAgICA8L0NhcmRIZWFkZXI+XG4gICAgICAgICAgPENhcmRDb250ZW50IGNsYXNzTmFtZT1cInNwYWNlLXktNFwiPlxuICAgICAgICAgICAgey8qIFByb2dyZXNzIEJhciAqL31cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0yXCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWJldHdlZW4gdGV4dC1zbVwiPlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtZ3JheS02MDAgZGFyazp0ZXh0LWdyYXktNDAwXCI+UHJvZ3Jlc3M8L3NwYW4+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZm9udC1tZWRpdW1cIj57TWF0aC5yb3VuZChwcm9ncmVzc1BlcmNlbnRhZ2UpfSU8L3NwYW4+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8UHJvZ3Jlc3MgdmFsdWU9e3Byb2dyZXNzUGVyY2VudGFnZX0gY2xhc3NOYW1lPVwiaC0zXCIgLz5cbiAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICB7LyogU3RhdHVzIE1lc3NhZ2UgKi99XG4gICAgICAgICAgICB7Z2VuZXJhdGlvblByb2dyZXNzICYmIChcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy1ibHVlLTUwIGRhcms6YmctYmx1ZS05MDAvMjAgcm91bmRlZC1sZyBwLTRcIj5cbiAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlciB0ZXh0LWJsdWUtODAwIGRhcms6dGV4dC1ibHVlLTIwMCBmb250LW1lZGl1bVwiPlxuICAgICAgICAgICAgICAgICAge2dlbmVyYXRpb25Qcm9ncmVzc31cbiAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKX1cblxuICAgICAgICAgICAgey8qIEVsYXBzZWQgVGltZSAqL31cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgZ2FwLTIgdGV4dC1zbSB0ZXh0LWdyYXktNjAwIGRhcms6dGV4dC1ncmF5LTQwMFwiPlxuICAgICAgICAgICAgICA8Q2xvY2sgY2xhc3NOYW1lPVwidy00IGgtNFwiIC8+XG4gICAgICAgICAgICAgIDxzcGFuPkVsYXBzZWQ6IHtmb3JtYXRHZW5lcmF0aW9uVGltZShjdXJyZW50RWxhcHNlZFRpbWUpfTwvc3Bhbj5cbiAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICB7LyogR2VuZXJhdGlvbiBUaXBzICovfVxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy1ncmF5LTUwIGRhcms6YmctZ3JheS04MDAgcm91bmRlZC1sZyBwLTRcIj5cbiAgICAgICAgICAgICAgPGg0IGNsYXNzTmFtZT1cImZvbnQtbWVkaXVtIHRleHQtZ3JheS05MDAgZGFyazp0ZXh0LWdyYXktMTAwIG1iLTJcIj5cbiAgICAgICAgICAgICAgICDwn5KhIFdoaWxlIHlvdSB3YWl0OlxuICAgICAgICAgICAgICA8L2g0PlxuICAgICAgICAgICAgICA8dWwgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LWdyYXktNjAwIGRhcms6dGV4dC1ncmF5LTQwMCBzcGFjZS15LTFcIj5cbiAgICAgICAgICAgICAgICA8bGk+4oCiIEhpZ2gtcXVhbGl0eSBnZW5lcmF0aW9uIHR5cGljYWxseSB0YWtlcyAxLTMgbWludXRlczwvbGk+XG4gICAgICAgICAgICAgICAgPGxpPuKAoiBZb3UgY2FuIHNhZmVseSBsZWF2ZSB0aGlzIHBhZ2UgZHVyaW5nIGdlbmVyYXRpb248L2xpPlxuICAgICAgICAgICAgICAgIDxsaT7igKIgWW91ciBjYXJkIHdpbGwgYmUgcmVhZHkgd2hlbiB5b3UgcmV0dXJuPC9saT5cbiAgICAgICAgICAgICAgICA8bGk+4oCiIFdlJ2xsIHNlbmQgZW1haWwgdXBkYXRlcyB0byB7Zm9ybURhdGEudXNlckVtYWlsfTwvbGk+XG4gICAgICAgICAgICAgIDwvdWw+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L0NhcmRDb250ZW50PlxuICAgICAgICA8L0NhcmQ+XG4gICAgICApfVxuXG4gICAgICB7LyogQ29tcGxldGlvbiBTdGF0ZSAqL31cbiAgICAgIHtpc0NhcmRDb21wbGV0ZWQgJiYgZ2VuZXJhdGVkQ2FyZCAmJiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS02XCI+XG4gICAgICAgICAgPENhcmQgY2xhc3NOYW1lPVwiYm9yZGVyLWdyZWVuLTIwMCBiZy1ncmVlbi01MCBkYXJrOmJnLWdyZWVuLTkwMC8yMCBkYXJrOmJvcmRlci1ncmVlbi04MDBcIj5cbiAgICAgICAgICAgIDxDYXJkSGVhZGVyPlxuICAgICAgICAgICAgICA8Q2FyZFRpdGxlIGNsYXNzTmFtZT1cInRleHQteGwgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgdGV4dC1ncmVlbi04MDAgZGFyazp0ZXh0LWdyZWVuLTIwMFwiPlxuICAgICAgICAgICAgICAgIDxDaGVja0NpcmNsZSBjbGFzc05hbWU9XCJ3LTYgaC02XCIgLz5cbiAgICAgICAgICAgICAgICBZb3VyIENhcmQgaXMgUmVhZHkhXG4gICAgICAgICAgICAgIDwvQ2FyZFRpdGxlPlxuICAgICAgICAgICAgPC9DYXJkSGVhZGVyPlxuICAgICAgICAgICAgPENhcmRDb250ZW50PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1ncmVlbi03MDAgZGFyazp0ZXh0LWdyZWVuLTMwMFwiPlxuICAgICAgICAgICAgICAgICAg8J+OiSBZb3VyIGNvbXBsZXRlIGhpZ2gtcXVhbGl0eSBjYXJkIGhhcyBiZWVuIGdlbmVyYXRlZCBzdWNjZXNzZnVsbHkhXG4gICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvQ2FyZENvbnRlbnQ+XG4gICAgICAgICAgPC9DYXJkPlxuXG4gICAgICAgICAgey8qIEZ1bGwgQ2FyZCBQcmV2aWV3IHdpdGggYWxsIGZ1bmN0aW9uYWxpdHkgKi99XG4gICAgICAgICAgPENhcmRQcmV2aWV3IFxuICAgICAgICAgICAgY2FyZD17Z2VuZXJhdGVkQ2FyZH1cbiAgICAgICAgICAgIGlzRnJvbnRCYWNrT25seT17Zm9ybURhdGEuaXNGcm9udEJhY2tPbmx5fVxuICAgICAgICAgICAgaXNDYXJkQ29tcGxldGVkPXt0cnVlfVxuICAgICAgICAgICAgb25QcmludD17aGFuZGxlUHJpbnRDbGlja31cbiAgICAgICAgICAgIHBhcGVyQ29uZmlnPXtwYXBlclNpemVzLmZpbmQoc2l6ZSA9PiBzaXplLmlkID09PSBzZWxlY3RlZFBhcGVyU2l6ZSkgfHwgcGFwZXJTaXplc1swXX1cbiAgICAgICAgICAgIHNlbGVjdGVkUGFwZXJTaXplPXtzZWxlY3RlZFBhcGVyU2l6ZX1cbiAgICAgICAgICAgIG9uUGFwZXJTaXplQ2hhbmdlPXtzZXRTZWxlY3RlZFBhcGVyU2l6ZX1cbiAgICAgICAgICAgIHBhcGVyU2l6ZXM9e3BhcGVyU2l6ZXN9XG4gICAgICAgICAgICByZWZlcmVuY2VJbWFnZVVybHM9e2Zvcm1EYXRhLnJlZmVyZW5jZUltYWdlVXJsc31cbiAgICAgICAgICAgIHBlcnNvbmFsVHJhaXRzPXtmb3JtRGF0YS5wZXJzb25hbFRyYWl0c31cbiAgICAgICAgICAgIHJlbGF0aW9uc2hpcEZpZWxkPXtmb3JtRGF0YS5yZWxhdGlvbnNoaXBGaWVsZH1cbiAgICAgICAgICAgIHBob3RvUmVmZXJlbmNlcz17Zm9ybURhdGEucGhvdG9SZWZlcmVuY2VzfVxuICAgICAgICAgIC8+XG5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgganVzdGlmeS1jZW50ZXIgbXQtNFwiPlxuICAgICAgICAgICAgPEJ1dHRvbiB2YXJpYW50PVwib3V0bGluZVwiIG9uQ2xpY2s9e29uQmFja1RvRHJhZnRzfT5cbiAgICAgICAgICAgICAgPENoZXZyb25MZWZ0IGNsYXNzTmFtZT1cInctNCBoLTQgbXItMlwiIC8+XG4gICAgICAgICAgICAgIFNlbGVjdCBEaWZmZXJlbnQgRHJhZnRcbiAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICl9XG5cbiAgICAgIHsvKiBFcnJvciBTdGF0ZSAqL31cbiAgICAgIHshaXNHZW5lcmF0aW5nRmluYWxDYXJkICYmICFpc0NhcmRDb21wbGV0ZWQgJiYgIWdlbmVyYXRlZENhcmQgJiYgc2VsZWN0ZWREcmFmdEluZGV4ID49IDAgJiYgKFxuICAgICAgICA8Q2FyZCBjbGFzc05hbWU9XCJib3JkZXItYW1iZXItMjAwIGJnLWFtYmVyLTUwIGRhcms6YmctYW1iZXItOTAwLzIwIGRhcms6Ym9yZGVyLWFtYmVyLTgwMFwiPlxuICAgICAgICAgIDxDYXJkSGVhZGVyPlxuICAgICAgICAgICAgPENhcmRUaXRsZSBjbGFzc05hbWU9XCJ0ZXh0LWxnIGZsZXggaXRlbXMtY2VudGVyIGdhcC0yIHRleHQtYW1iZXItODAwIGRhcms6dGV4dC1hbWJlci0yMDBcIj5cbiAgICAgICAgICAgICAgPENsb2NrIGNsYXNzTmFtZT1cInctNSBoLTVcIiAvPlxuICAgICAgICAgICAgICBSZWFkeSB0byBHZW5lcmF0ZVxuICAgICAgICAgICAgPC9DYXJkVGl0bGU+XG4gICAgICAgICAgPC9DYXJkSGVhZGVyPlxuICAgICAgICAgIDxDYXJkQ29udGVudD5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXIgc3BhY2UteS00XCI+XG4gICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtZ3JheS03MDAgZGFyazp0ZXh0LWdyYXktMzAwXCI+XG4gICAgICAgICAgICAgICAgUmVhZHkgdG8gY3JlYXRlIHlvdXIgZmluYWwgaGlnaC1xdWFsaXR5IGNhcmQ/XG4gICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LWdyYXktNTAwIGRhcms6dGV4dC1ncmF5LTQwMFwiPlxuICAgICAgICAgICAgICAgIFRoaXMgd2lsbCBnZW5lcmF0ZSB5b3VyIGZpbmFsIGNhcmQgYmFzZWQgb24gdGhlIHNlbGVjdGVkIGRlc2lnbi5cbiAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICB7c2hvd0NvbmZpcm1hdGlvbiAmJiAhaXNHZW5lcmF0aW5nRmluYWxDYXJkICYmIChcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktM1wiPlxuICAgICAgICAgICAgICAgICAgPEJ1dHRvbiBcbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIHNldFNob3dDb25maXJtYXRpb24oZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgIG9uR2VuZXJhdGVGaW5hbENhcmQoc2VsZWN0ZWREcmFmdEluZGV4KTtcbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYmctZ3JhZGllbnQtdG8tciBmcm9tLWJsdWUtNTAwIHRvLWN5YW4tNjAwIGhvdmVyOmZyb20tYmx1ZS02MDAgaG92ZXI6dG8tY3lhbi03MDBcIlxuICAgICAgICAgICAgICAgICAgICBzaXplPVwibGdcIlxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8U3BhcmtsZXMgY2xhc3NOYW1lPVwidy01IGgtNSBtci0yXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgR2VuZXJhdGUgRmluYWwgQ2FyZFxuICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICA8QnV0dG9uIFxuICAgICAgICAgICAgICAgICAgICAgIHZhcmlhbnQ9XCJvdXRsaW5lXCJcbiAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRTaG93Q29uZmlybWF0aW9uKGZhbHNlKX1cbiAgICAgICAgICAgICAgICAgICAgICBzaXplPVwic21cIlxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgTm90IHJlYWR5IHlldFxuICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9DYXJkQ29udGVudD5cbiAgICAgICAgPC9DYXJkPlxuICAgICAgKX1cblxuICAgICAgey8qIFByaW50IENvbmZpcm1hdGlvbiBEaWFsb2cgKi99XG4gICAgICA8RGlhbG9nIG9wZW49e3Nob3dQcmludENvbmZpcm1hdGlvbn0gb25PcGVuQ2hhbmdlPXtzZXRTaG93UHJpbnRDb25maXJtYXRpb259PlxuICAgICAgICA8RGlhbG9nQ29udGVudCBjbGFzc05hbWU9XCJzbTptYXgtdy1tZFwiPlxuICAgICAgICAgIDxEaWFsb2dIZWFkZXI+XG4gICAgICAgICAgICA8RGlhbG9nVGl0bGUgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cbiAgICAgICAgICAgICAgPFByaW50ZXIgY2xhc3NOYW1lPVwidy01IGgtNVwiIC8+XG4gICAgICAgICAgICAgIFByaW50IFlvdXIgQ2FyZFxuICAgICAgICAgICAgPC9EaWFsb2dUaXRsZT5cbiAgICAgICAgICAgIDxEaWFsb2dEZXNjcmlwdGlvbj5cbiAgICAgICAgICAgICAgQ2hvb3NlIGhvdyB5b3UnZCBsaWtlIHRvIHByaW50IHlvdXIgZ3JlZXRpbmcgY2FyZC5cbiAgICAgICAgICAgIDwvRGlhbG9nRGVzY3JpcHRpb24+XG4gICAgICAgICAgPC9EaWFsb2dIZWFkZXI+XG4gICAgICAgICAgXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTZcIj5cbiAgICAgICAgICAgIHsvKiBQcmludCBPcHRpb25zICovfVxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTRcIj5cbiAgICAgICAgICAgICAgPGg0IGNsYXNzTmFtZT1cInRleHQtc20gZm9udC1tZWRpdW1cIj5QcmludCBPcHRpb25zPC9oND5cbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIHsvKiBQaHlzaWNhbCBQcmludCBPcHRpb24gKi99XG4gICAgICAgICAgICAgIDxkaXYgXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgYm9yZGVyIHJvdW5kZWQtbGcgcC00IGN1cnNvci1wb2ludGVyIHRyYW5zaXRpb24tYWxsICR7XG4gICAgICAgICAgICAgICAgICBwcmludE9wdGlvbiA9PT0gJ3BoeXNpY2FsJ1xuICAgICAgICAgICAgICAgICAgICA/ICdib3JkZXItYmx1ZS01MDAgYmctYmx1ZS01MCBkYXJrOmJnLWJsdWUtOTAwLzIwJ1xuICAgICAgICAgICAgICAgICAgICA6ICdib3JkZXItZ3JheS0yMDAgZGFyazpib3JkZXItZ3JheS03MDAgaG92ZXI6Ym9yZGVyLWdyYXktMzAwJ1xuICAgICAgICAgICAgICAgIH1gfVxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldFByaW50T3B0aW9uKCdwaHlzaWNhbCcpfVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLXN0YXJ0IGdhcC0zXCI+XG4gICAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgdHlwZT1cInJhZGlvXCJcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17cHJpbnRPcHRpb24gPT09ICdwaHlzaWNhbCd9XG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoKSA9PiBzZXRQcmludE9wdGlvbigncGh5c2ljYWwnKX1cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwibXQtMVwiXG4gICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4LTFcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxQcmludGVyIGNsYXNzTmFtZT1cInctNCBoLTQgdGV4dC1ibHVlLTYwMFwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZm9udC1tZWRpdW1cIj5QaHlzaWNhbCBQcmludDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1ncmF5LTYwMCBkYXJrOnRleHQtZ3JheS00MDAgbXQtMVwiPlxuICAgICAgICAgICAgICAgICAgICAgIFByaW50IGRpcmVjdGx5IHRvIG91ciBvZmZpY2UgcHJpbnRlci4gUGljayB1cCB5b3VyIGNhcmQgc2hvcnRseS5cbiAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgey8qIEVtYWlsIFBERiBPcHRpb24gKi99XG4gICAgICAgICAgICAgIDxkaXYgXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgYm9yZGVyIHJvdW5kZWQtbGcgcC00IGN1cnNvci1wb2ludGVyIHRyYW5zaXRpb24tYWxsICR7XG4gICAgICAgICAgICAgICAgICBwcmludE9wdGlvbiA9PT0gJ2VtYWlsJ1xuICAgICAgICAgICAgICAgICAgICA/ICdib3JkZXItYmx1ZS01MDAgYmctYmx1ZS01MCBkYXJrOmJnLWJsdWUtOTAwLzIwJ1xuICAgICAgICAgICAgICAgICAgICA6ICdib3JkZXItZ3JheS0yMDAgZGFyazpib3JkZXItZ3JheS03MDAgaG92ZXI6Ym9yZGVyLWdyYXktMzAwJ1xuICAgICAgICAgICAgICAgIH1gfVxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldFByaW50T3B0aW9uKCdlbWFpbCcpfVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLXN0YXJ0IGdhcC0zXCI+XG4gICAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgdHlwZT1cInJhZGlvXCJcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17cHJpbnRPcHRpb24gPT09ICdlbWFpbCd9XG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoKSA9PiBzZXRQcmludE9wdGlvbignZW1haWwnKX1cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwibXQtMVwiXG4gICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4LTFcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxNYWlsIGNsYXNzTmFtZT1cInctNCBoLTQgdGV4dC1ncmVlbi02MDBcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImZvbnQtbWVkaXVtXCI+RW1haWwgUERGPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LWdyYXktNjAwIGRhcms6dGV4dC1ncmF5LTQwMCBtdC0xXCI+XG4gICAgICAgICAgICAgICAgICAgICAgR2V0IGEgUERGIHZlcnNpb24gc2VudCB0byB5b3VyIGVtYWlsIGZvciBwcmludGluZyBhdCBob21lLlxuICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgey8qIFBoeXNpY2FsIFByaW50IFNldHRpbmdzICovfVxuICAgICAgICAgICAge3ByaW50T3B0aW9uID09PSAncGh5c2ljYWwnICYmIChcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTNcIj5cbiAgICAgICAgICAgICAgICA8aDQgY2xhc3NOYW1lPVwidGV4dC1zbSBmb250LW1lZGl1bVwiPlByaW50IFNldHRpbmdzPC9oND5cbiAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1ncmF5LTYwMCBkYXJrOnRleHQtZ3JheS00MDAgbWItMiBibG9ja1wiPlxuICAgICAgICAgICAgICAgICAgICBQYXBlciBTaXplXG4gICAgICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgPFNlbGVjdCB2YWx1ZT17c2VsZWN0ZWRQYXBlclNpemV9IG9uVmFsdWVDaGFuZ2U9e3NldFNlbGVjdGVkUGFwZXJTaXplfT5cbiAgICAgICAgICAgICAgICAgICAgPFNlbGVjdFRyaWdnZXI+XG4gICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdFZhbHVlIC8+XG4gICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0VHJpZ2dlcj5cbiAgICAgICAgICAgICAgICAgICAgPFNlbGVjdENvbnRlbnQ+XG4gICAgICAgICAgICAgICAgICAgICAge3BhcGVyU2l6ZXMubWFwKChzaXplKSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0SXRlbSBrZXk9e3NpemUuaWR9IHZhbHVlPXtzaXplLmlkfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWxlZnRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvbnQtbWVkaXVtXCI+e3NpemUubGFiZWx9PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtbXV0ZWQtZm9yZWdyb3VuZFwiPntzaXplLmRlc2NyaXB0aW9ufTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0SXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3RDb250ZW50PlxuICAgICAgICAgICAgICAgICAgPC9TZWxlY3Q+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKX1cblxuICAgICAgICAgICAgey8qIEVtYWlsIEFkZHJlc3MgRGlzcGxheSAqL31cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0yXCI+XG4gICAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJ0ZXh0LXNtIGZvbnQtbWVkaXVtXCI+RW1haWwgQWRkcmVzczwvbGFiZWw+XG4gICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgIHZhbHVlPXtmb3JtRGF0YS51c2VyRW1haWwgfHwgXCJcIn1cbiAgICAgICAgICAgICAgICBkaXNhYmxlZFxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJnLWdyYXktNTAgZGFyazpiZy1ncmF5LTgwMFwiXG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIHtwcmludE9wdGlvbiA9PT0gJ2VtYWlsJyAmJiAoXG4gICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LWdyYXktNTAwXCI+XG4gICAgICAgICAgICAgICAgICBQREYgd2lsbCBiZSBzZW50IHRvIHRoaXMgZW1haWwgYWRkcmVzc1xuICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICB7LyogQWN0aW9uIEJ1dHRvbnMgKi99XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZ2FwLTNcIj5cbiAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgIHZhcmlhbnQ9XCJvdXRsaW5lXCJcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRTaG93UHJpbnRDb25maXJtYXRpb24oZmFsc2UpfVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZsZXgtMVwiXG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICBDYW5jZWxcbiAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVDb25maXJtUHJpbnR9XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZmxleC0xIGJnLWdyYWRpZW50LXRvLXIgZnJvbS1ncmVlbi01MDAgdG8tZW1lcmFsZC02MDAgaG92ZXI6ZnJvbS1ncmVlbi02MDAgaG92ZXI6dG8tZW1lcmFsZC03MDBcIlxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAge3ByaW50T3B0aW9uID09PSAnZW1haWwnID8gKFxuICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgPE1haWwgY2xhc3NOYW1lPVwidy00IGgtNCBtci0yXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgU2VuZCBQREZcbiAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICA8UHJpbnRlciBjbGFzc05hbWU9XCJ3LTQgaC00IG1yLTJcIiAvPlxuICAgICAgICAgICAgICAgICAgICBQcmludCBDYXJkXG4gICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L0RpYWxvZ0NvbnRlbnQ+XG4gICAgICA8L0RpYWxvZz5cbiAgICA8L2Rpdj5cbiAgKTtcbn0gIl0sIm5hbWVzIjpbIlJlYWN0IiwidXNlRWZmZWN0IiwidXNlU3RhdGUiLCJDYXJkIiwiQ2FyZENvbnRlbnQiLCJDYXJkSGVhZGVyIiwiQ2FyZFRpdGxlIiwiQnV0dG9uIiwiUHJvZ3Jlc3MiLCJEaWFsb2ciLCJEaWFsb2dDb250ZW50IiwiRGlhbG9nRGVzY3JpcHRpb24iLCJEaWFsb2dIZWFkZXIiLCJEaWFsb2dUaXRsZSIsIklucHV0IiwiU2VsZWN0IiwiU2VsZWN0Q29udGVudCIsIlNlbGVjdEl0ZW0iLCJTZWxlY3RUcmlnZ2VyIiwiU2VsZWN0VmFsdWUiLCJTcGFya2xlcyIsIkNsb2NrIiwiQ2hlY2tDaXJjbGUiLCJQcmludGVyIiwiTWFpbCIsIkNoZXZyb25MZWZ0IiwiQ2FyZFByZXZpZXciLCJ0b2FzdCIsInBhcGVyU2l6ZXMiLCJpZCIsImxhYmVsIiwiZGVzY3JpcHRpb24iLCJhc3BlY3RSYXRpbyIsImRpbWVuc2lvbnMiLCJwcmludFdpZHRoIiwicHJpbnRIZWlnaHQiLCJTdGVwNkZpbmFsR2VuZXJhdGlvbiIsImZvcm1EYXRhIiwiaXNHZW5lcmF0aW5nRmluYWxDYXJkIiwiZ2VuZXJhdGlvblByb2dyZXNzIiwicHJvZ3Jlc3NQZXJjZW50YWdlIiwiY3VycmVudEVsYXBzZWRUaW1lIiwic2VsZWN0ZWREcmFmdEluZGV4IiwiZHJhZnRDYXJkcyIsImdlbmVyYXRlZENhcmQiLCJpc0NhcmRDb21wbGV0ZWQiLCJvbkdlbmVyYXRlRmluYWxDYXJkIiwiZm9ybWF0R2VuZXJhdGlvblRpbWUiLCJvbkJhY2tUb0RyYWZ0cyIsInNob3dQcmludENvbmZpcm1hdGlvbiIsInNldFNob3dQcmludENvbmZpcm1hdGlvbiIsInByaW50T3B0aW9uIiwic2V0UHJpbnRPcHRpb24iLCJzZWxlY3RlZFBhcGVyU2l6ZSIsInNldFNlbGVjdGVkUGFwZXJTaXplIiwic2hvd0NvbmZpcm1hdGlvbiIsInNldFNob3dDb25maXJtYXRpb24iLCJzZWxlY3RlZERyYWZ0IiwibGVuZ3RoIiwiaGFuZGxlUHJpbnRDbGljayIsInVzZXJFbWFpbCIsInRyaW0iLCJlcnJvciIsImhhbmRsZUNvbmZpcm1QcmludCIsImNhcmRUb1ByaW50IiwiZnJvbnRDb3ZlciIsImJhY2tDb3ZlciIsImlzRnJvbnRCYWNrT25seSIsImxlZnRQYWdlIiwicmlnaHRQYWdlIiwiY2FyZERhdGEiLCJmcm9udF9jb3ZlciIsImJhY2tfY292ZXIiLCJsZWZ0X3BhZ2UiLCJyaWdodF9wYWdlIiwiY2FyZF9uYW1lIiwicHJvbXB0Iiwic3Vic3RyaW5nIiwicGFwZXJfc2l6ZSIsImlzX2Zyb250X2JhY2tfb25seSIsImNvcGllcyIsImNvbG9yX21vZGUiLCJxdWFsaXR5IiwiZW1haWxEYXRhIiwidXNlcl9lbWFpbCIsInNlbmRfcGRmIiwicmVzcG9uc2UiLCJmZXRjaCIsIm1ldGhvZCIsImhlYWRlcnMiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsIm9rIiwiZXJyb3JUZXh0IiwidGV4dCIsIkVycm9yIiwic3RhdHVzIiwicmVzdWx0IiwianNvbiIsInN1Y2Nlc3MiLCJzZXRUaW1lb3V0Iiwic3RhdHVzUmVzcG9uc2UiLCJqb2JfaWQiLCJzdGF0dXNSZXN1bHQiLCJqb2IiLCJjb25zb2xlIiwibG9nIiwiZGl2IiwiY2xhc3NOYW1lIiwiaW1nIiwic3JjIiwiYWx0IiwicCIsInNwYW4iLCJNYXRoIiwicm91bmQiLCJ2YWx1ZSIsImg0IiwidWwiLCJsaSIsImNhcmQiLCJvblByaW50IiwicGFwZXJDb25maWciLCJmaW5kIiwic2l6ZSIsIm9uUGFwZXJTaXplQ2hhbmdlIiwicmVmZXJlbmNlSW1hZ2VVcmxzIiwicGVyc29uYWxUcmFpdHMiLCJyZWxhdGlvbnNoaXBGaWVsZCIsInBob3RvUmVmZXJlbmNlcyIsInZhcmlhbnQiLCJvbkNsaWNrIiwib3BlbiIsIm9uT3BlbkNoYW5nZSIsImlucHV0IiwidHlwZSIsImNoZWNrZWQiLCJvbkNoYW5nZSIsIm9uVmFsdWVDaGFuZ2UiLCJtYXAiLCJkaXNhYmxlZCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./components/wizard/steps/Step6FinalGeneration.tsx\n");

/***/ }),

/***/ "(ssr)/./hooks/cardStudio/constants.ts":
/*!***************************************!*\
  !*** ./hooks/cardStudio/constants.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BACKEND_API_BASE_URL: () => (/* binding */ BACKEND_API_BASE_URL),\n/* harmony export */   artisticStyles: () => (/* binding */ artisticStyles),\n/* harmony export */   cardTones: () => (/* binding */ cardTones),\n/* harmony export */   formatCountdown: () => (/* binding */ formatCountdown),\n/* harmony export */   formatGenerationTime: () => (/* binding */ formatGenerationTime),\n/* harmony export */   paperSizes: () => (/* binding */ paperSizes)\n/* harmony export */ });\n// Card tone/style options\nconst cardTones = [\n    {\n        id: \"funny\",\n        label: \"\\uD83D\\uDE04 Funny\",\n        description: \"Humorous and lighthearted\"\n    },\n    {\n        id: \"genz-humor\",\n        label: \"\\uD83D\\uDC80 GenZ Humor\",\n        description: \"Internet memes, chaotic energy, and unhinged vibes\"\n    },\n    {\n        id: \"romantic\",\n        label: \"\\uD83D\\uDC95 Romantic\",\n        description: \"Sweet and loving\"\n    },\n    {\n        id: \"professional\",\n        label: \"\\uD83D\\uDC54 Professional\",\n        description: \"Formal and business-appropriate\"\n    },\n    {\n        id: \"heartfelt\",\n        label: \"❤️ Heartfelt\",\n        description: \"Sincere and emotional\"\n    },\n    {\n        id: \"playful\",\n        label: \"\\uD83C\\uDF89 Playful\",\n        description: \"Fun and energetic\"\n    },\n    {\n        id: \"elegant\",\n        label: \"✨ Elegant\",\n        description: \"Sophisticated and refined\"\n    },\n    {\n        id: \"casual\",\n        label: \"\\uD83D\\uDE0A Casual\",\n        description: \"Relaxed and friendly\"\n    },\n    {\n        id: \"inspirational\",\n        label: \"\\uD83C\\uDF1F Inspirational\",\n        description: \"Motivating and uplifting\"\n    },\n    {\n        id: \"quirky\",\n        label: \"\\uD83E\\uDD2A Quirky\",\n        description: \"Unique and unconventional\"\n    },\n    {\n        id: \"traditional\",\n        label: \"\\uD83C\\uDFAD Traditional\",\n        description: \"Classic and timeless\"\n    }\n];\n// Curated artistic styles for beautiful cards\nconst artisticStyles = [\n    {\n        id: \"ai-smart-style\",\n        label: \"\\uD83C\\uDFAF Style Sampler\",\n        description: \"Preview your card in 5 curated styles - perfect for finding your favorite\",\n        promptModifier: \"\"\n    },\n    {\n        id: \"custom\",\n        label: \"✨ Custom Style\",\n        description: \"Define your own unique artistic style\",\n        promptModifier: \"\"\n    },\n    {\n        id: \"watercolor\",\n        label: \"\\uD83C\\uDFA8 Watercolor\",\n        description: \"Soft, flowing paint effects (our personal favorite)\",\n        promptModifier: \"in watercolor painting style, with soft flowing colors, artistic brush strokes, paper texture, and organic paint bleeds\"\n    },\n    {\n        id: \"minimalist\",\n        label: \"✨ Minimalist\",\n        description: \"Clean, simple, elegant design\",\n        promptModifier: \"in minimalist style with clean lines, simple shapes, plenty of white space, sophisticated typography, and elegant simplicity\"\n    },\n    {\n        id: \"botanical\",\n        label: \"\\uD83C\\uDF3F Botanical\",\n        description: \"Beautiful flowers and nature elements\",\n        promptModifier: \"in botanical illustration style with detailed flowers, leaves, and natural elements, soft organic shapes, elegant floral arrangements, and nature-inspired designs perfect for greeting cards\"\n    },\n    {\n        id: \"comic-book\",\n        label: \"\\uD83D\\uDCA5 Comic Book\",\n        description: \"Bold graphic novel style\",\n        promptModifier: \"in comic book art style with bold outlines, vibrant colors, dynamic poses, speech bubble aesthetics, halftone patterns, and superhero comic book visual elements that create an exciting and energetic feel\"\n    },\n    {\n        id: \"dreamy-fantasy\",\n        label: \"\\uD83C\\uDF38 Dreamy Fantasy\",\n        description: \"Enchanting anime-inspired art\",\n        promptModifier: \"in dreamy fantasy anime style, with soft pastels, magical atmosphere, detailed nature elements, whimsical characters, and enchanting fairy-tale qualities\"\n    },\n    {\n        id: \"art-deco\",\n        label: \"✨ Art Deco\",\n        description: \"Elegant 1920s geometric luxury\",\n        promptModifier: \"in vintage Art Deco style with geometric patterns, gold accents, elegant typography, luxurious details, and 1920s glamour\"\n    },\n    {\n        id: \"vintage-illustration\",\n        label: \"\\uD83D\\uDCDA Vintage Illustration\",\n        description: \"Classic storybook charm\",\n        promptModifier: \"in vintage illustration style like classic children's books, with warm nostalgic colors, charming characters, whimsical details, and timeless fairy-tale aesthetics\"\n    },\n    {\n        id: \"modern-geometric\",\n        label: \"\\uD83D\\uDD37 Modern Geometric\",\n        description: \"Clean contemporary shapes\",\n        promptModifier: \"in modern geometric style with clean shapes, contemporary design elements, balanced compositions, and sophisticated color palettes perfect for modern greeting cards\"\n    },\n    {\n        id: \"soft-pastel\",\n        label: \"\\uD83C\\uDF38 Soft Pastel\",\n        description: \"Gentle, soothing colors\",\n        promptModifier: \"in soft pastel style with gentle colors, dreamy atmosphere, delicate textures, and calming visual elements that create a peaceful and heartwarming feeling\"\n    },\n    {\n        id: \"retro-vintage\",\n        label: \"\\uD83D\\uDCFB Retro Vintage\",\n        description: \"Classic 1950s-60s nostalgia\",\n        promptModifier: \"in retro vintage style with 1950s-60s aesthetics, classic typography, warm nostalgic colors, and mid-century design elements\"\n    }\n];\n// Paper size options\nconst paperSizes = [\n    {\n        id: \"standard\",\n        label: \"5\\xd77 Card (Standard)\",\n        description: \"Standard 5\\xd77 greeting card (10\\xd77 print layout)\",\n        aspectRatio: \"9:16\",\n        dimensions: \"1024x1536\",\n        printWidth: \"10in\",\n        printHeight: \"7in\"\n    },\n    {\n        id: \"compact\",\n        label: \"4\\xd76 Card (Compact)\",\n        description: \"Compact 4\\xd76 greeting card (8\\xd76 print layout)\",\n        aspectRatio: \"2:3\",\n        dimensions: \"768x1152\",\n        printWidth: \"8in\",\n        printHeight: \"6in\"\n    },\n    {\n        id: \"a6\",\n        label: \"A6 Card (4\\xd76)\",\n        description: \"A6 paper size (8.3\\xd75.8 print layout)\",\n        aspectRatio: \"2:3\",\n        dimensions: \"768x1152\",\n        printWidth: \"8.3in\",\n        printHeight: \"5.8in\"\n    }\n];\n// Configuration for the backend API endpoint\nconst BACKEND_API_BASE_URL = \"https://vibecarding.com\" || 0;\n// Helper function to format generation time\nconst formatGenerationTime = (durationSeconds)=>{\n    const minutes = Math.floor(durationSeconds / 60);\n    const seconds = Math.floor(durationSeconds % 60);\n    if (minutes > 0) {\n        return `${minutes}m ${seconds}s`;\n    }\n    return `${seconds}s`;\n};\n// Helper function to format countdown as MM:SS\nconst formatCountdown = (seconds)=>{\n    const minutes = Math.floor(seconds / 60);\n    const remainingSeconds = seconds % 60;\n    return `${minutes}:${remainingSeconds.toString().padStart(2, \"0\")}`;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUtDLEtBQUssQ0FBQ0gsa0JBQWtCO0lBRTdDLElBQUlDLFVBQVUsR0FBRztRQUNmLE9BQU8sQ0FBQyxFQUFFQSxRQUFRLEVBQUUsRUFBRUcsUUFBUSxDQUFDLENBQUM7SUFDbEM7SUFDQSxPQUFPLENBQUMsRUFBRUEsUUFBUSxDQUFDLENBQUM7QUFDdEIsRUFBRTtBQUVGLCtDQUErQztBQUN4QyxNQUFNQyxrQkFBa0IsQ0FBQ0Q7SUFDOUIsTUFBTUgsVUFBVUMsS0FBS0MsS0FBSyxDQUFDQyxVQUFVO0lBQ3JDLE1BQU1FLG1CQUFtQkYsVUFBVTtJQUNuQyxPQUFPLENBQUMsRUFBRUgsUUFBUSxDQUFDLEVBQUVLLGlCQUFpQkMsUUFBUSxHQUFHQyxRQUFRLENBQUMsR0FBRyxLQUFLLENBQUM7QUFDckUsRUFBRSIsInNvdXJjZXMiOlsid2VicGFjazovL3ZpYmVjYXJkaW5nLy4vaG9va3MvY2FyZFN0dWRpby9jb25zdGFudHMudHM/MTIzNyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDYXJkIHRvbmUvc3R5bGUgb3B0aW9uc1xuZXhwb3J0IGNvbnN0IGNhcmRUb25lcyA9IFtcbiAgeyBpZDogXCJmdW5ueVwiLCBsYWJlbDogXCLwn5iEIEZ1bm55XCIsIGRlc2NyaXB0aW9uOiBcIkh1bW9yb3VzIGFuZCBsaWdodGhlYXJ0ZWRcIiB9LFxuICB7IGlkOiBcImdlbnotaHVtb3JcIiwgbGFiZWw6IFwi8J+SgCBHZW5aIEh1bW9yXCIsIGRlc2NyaXB0aW9uOiBcIkludGVybmV0IG1lbWVzLCBjaGFvdGljIGVuZXJneSwgYW5kIHVuaGluZ2VkIHZpYmVzXCIgfSxcbiAgeyBpZDogXCJyb21hbnRpY1wiLCBsYWJlbDogXCLwn5KVIFJvbWFudGljXCIsIGRlc2NyaXB0aW9uOiBcIlN3ZWV0IGFuZCBsb3ZpbmdcIiB9LFxuICB7IGlkOiBcInByb2Zlc3Npb25hbFwiLCBsYWJlbDogXCLwn5GUIFByb2Zlc3Npb25hbFwiLCBkZXNjcmlwdGlvbjogXCJGb3JtYWwgYW5kIGJ1c2luZXNzLWFwcHJvcHJpYXRlXCIgfSxcbiAgeyBpZDogXCJoZWFydGZlbHRcIiwgbGFiZWw6IFwi4p2k77iPIEhlYXJ0ZmVsdFwiLCBkZXNjcmlwdGlvbjogXCJTaW5jZXJlIGFuZCBlbW90aW9uYWxcIiB9LFxuICB7IGlkOiBcInBsYXlmdWxcIiwgbGFiZWw6IFwi8J+OiSBQbGF5ZnVsXCIsIGRlc2NyaXB0aW9uOiBcIkZ1biBhbmQgZW5lcmdldGljXCIgfSxcbiAgeyBpZDogXCJlbGVnYW50XCIsIGxhYmVsOiBcIuKcqCBFbGVnYW50XCIsIGRlc2NyaXB0aW9uOiBcIlNvcGhpc3RpY2F0ZWQgYW5kIHJlZmluZWRcIiB9LFxuICB7IGlkOiBcImNhc3VhbFwiLCBsYWJlbDogXCLwn5iKIENhc3VhbFwiLCBkZXNjcmlwdGlvbjogXCJSZWxheGVkIGFuZCBmcmllbmRseVwiIH0sXG4gIHsgaWQ6IFwiaW5zcGlyYXRpb25hbFwiLCBsYWJlbDogXCLwn4yfIEluc3BpcmF0aW9uYWxcIiwgZGVzY3JpcHRpb246IFwiTW90aXZhdGluZyBhbmQgdXBsaWZ0aW5nXCIgfSxcbiAgeyBpZDogXCJxdWlya3lcIiwgbGFiZWw6IFwi8J+kqiBRdWlya3lcIiwgZGVzY3JpcHRpb246IFwiVW5pcXVlIGFuZCB1bmNvbnZlbnRpb25hbFwiIH0sXG4gIHsgaWQ6IFwidHJhZGl0aW9uYWxcIiwgbGFiZWw6IFwi8J+OrSBUcmFkaXRpb25hbFwiLCBkZXNjcmlwdGlvbjogXCJDbGFzc2ljIGFuZCB0aW1lbGVzc1wiIH0sXG5dO1xuXG4vLyBDdXJhdGVkIGFydGlzdGljIHN0eWxlcyBmb3IgYmVhdXRpZnVsIGNhcmRzXG5leHBvcnQgY29uc3QgYXJ0aXN0aWNTdHlsZXMgPSBbXG4gIHtcbiAgICBpZDogXCJhaS1zbWFydC1zdHlsZVwiLCBcbiAgICBsYWJlbDogXCLwn46vIFN0eWxlIFNhbXBsZXJcIiwgXG4gICAgZGVzY3JpcHRpb246IFwiUHJldmlldyB5b3VyIGNhcmQgaW4gNSBjdXJhdGVkIHN0eWxlcyAtIHBlcmZlY3QgZm9yIGZpbmRpbmcgeW91ciBmYXZvcml0ZVwiLFxuICAgIHByb21wdE1vZGlmaWVyOiBcIlwiXG4gIH0sXG4gIHtcbiAgICBpZDogXCJjdXN0b21cIiwgXG4gICAgbGFiZWw6IFwi4pyoIEN1c3RvbSBTdHlsZVwiLCBcbiAgICBkZXNjcmlwdGlvbjogXCJEZWZpbmUgeW91ciBvd24gdW5pcXVlIGFydGlzdGljIHN0eWxlXCIsXG4gICAgcHJvbXB0TW9kaWZpZXI6IFwiXCJcbiAgfSxcbiAgeyBcbiAgICBpZDogXCJ3YXRlcmNvbG9yXCIsIFxuICAgIGxhYmVsOiBcIvCfjqggV2F0ZXJjb2xvclwiLCBcbiAgICBkZXNjcmlwdGlvbjogXCJTb2Z0LCBmbG93aW5nIHBhaW50IGVmZmVjdHMgKG91ciBwZXJzb25hbCBmYXZvcml0ZSlcIixcbiAgICBwcm9tcHRNb2RpZmllcjogXCJpbiB3YXRlcmNvbG9yIHBhaW50aW5nIHN0eWxlLCB3aXRoIHNvZnQgZmxvd2luZyBjb2xvcnMsIGFydGlzdGljIGJydXNoIHN0cm9rZXMsIHBhcGVyIHRleHR1cmUsIGFuZCBvcmdhbmljIHBhaW50IGJsZWVkc1wiXG4gIH0sXG4gIHtcbiAgICBpZDogXCJtaW5pbWFsaXN0XCIsIFxuICAgIGxhYmVsOiBcIuKcqCBNaW5pbWFsaXN0XCIsIFxuICAgIGRlc2NyaXB0aW9uOiBcIkNsZWFuLCBzaW1wbGUsIGVsZWdhbnQgZGVzaWduXCIsXG4gICAgcHJvbXB0TW9kaWZpZXI6IFwiaW4gbWluaW1hbGlzdCBzdHlsZSB3aXRoIGNsZWFuIGxpbmVzLCBzaW1wbGUgc2hhcGVzLCBwbGVudHkgb2Ygd2hpdGUgc3BhY2UsIHNvcGhpc3RpY2F0ZWQgdHlwb2dyYXBoeSwgYW5kIGVsZWdhbnQgc2ltcGxpY2l0eVwiXG4gIH0sXG4gIHsgXG4gICAgaWQ6IFwiYm90YW5pY2FsXCIsIFxuICAgIGxhYmVsOiBcIvCfjL8gQm90YW5pY2FsXCIsIFxuICAgIGRlc2NyaXB0aW9uOiBcIkJlYXV0aWZ1bCBmbG93ZXJzIGFuZCBuYXR1cmUgZWxlbWVudHNcIixcbiAgICBwcm9tcHRNb2RpZmllcjogXCJpbiBib3RhbmljYWwgaWxsdXN0cmF0aW9uIHN0eWxlIHdpdGggZGV0YWlsZWQgZmxvd2VycywgbGVhdmVzLCBhbmQgbmF0dXJhbCBlbGVtZW50cywgc29mdCBvcmdhbmljIHNoYXBlcywgZWxlZ2FudCBmbG9yYWwgYXJyYW5nZW1lbnRzLCBhbmQgbmF0dXJlLWluc3BpcmVkIGRlc2lnbnMgcGVyZmVjdCBmb3IgZ3JlZXRpbmcgY2FyZHNcIlxuICB9LFxuICB7IFxuICAgIGlkOiBcImNvbWljLWJvb2tcIiwgXG4gICAgbGFiZWw6IFwi8J+SpSBDb21pYyBCb29rXCIsIFxuICAgIGRlc2NyaXB0aW9uOiBcIkJvbGQgZ3JhcGhpYyBub3ZlbCBzdHlsZVwiLFxuICAgIHByb21wdE1vZGlmaWVyOiBcImluIGNvbWljIGJvb2sgYXJ0IHN0eWxlIHdpdGggYm9sZCBvdXRsaW5lcywgdmlicmFudCBjb2xvcnMsIGR5bmFtaWMgcG9zZXMsIHNwZWVjaCBidWJibGUgYWVzdGhldGljcywgaGFsZnRvbmUgcGF0dGVybnMsIGFuZCBzdXBlcmhlcm8gY29taWMgYm9vayB2aXN1YWwgZWxlbWVudHMgdGhhdCBjcmVhdGUgYW4gZXhjaXRpbmcgYW5kIGVuZXJnZXRpYyBmZWVsXCJcbiAgfSxcbiAgeyBcbiAgICBpZDogXCJkcmVhbXktZmFudGFzeVwiLCBcbiAgICBsYWJlbDogXCLwn4y4IERyZWFteSBGYW50YXN5XCIsIFxuICAgIGRlc2NyaXB0aW9uOiBcIkVuY2hhbnRpbmcgYW5pbWUtaW5zcGlyZWQgYXJ0XCIsXG4gICAgcHJvbXB0TW9kaWZpZXI6IFwiaW4gZHJlYW15IGZhbnRhc3kgYW5pbWUgc3R5bGUsIHdpdGggc29mdCBwYXN0ZWxzLCBtYWdpY2FsIGF0bW9zcGhlcmUsIGRldGFpbGVkIG5hdHVyZSBlbGVtZW50cywgd2hpbXNpY2FsIGNoYXJhY3RlcnMsIGFuZCBlbmNoYW50aW5nIGZhaXJ5LXRhbGUgcXVhbGl0aWVzXCJcbiAgfSxcbiAgeyBcbiAgICBpZDogXCJhcnQtZGVjb1wiLCBcbiAgICBsYWJlbDogXCLinKggQXJ0IERlY29cIiwgXG4gICAgZGVzY3JpcHRpb246IFwiRWxlZ2FudCAxOTIwcyBnZW9tZXRyaWMgbHV4dXJ5XCIsXG4gICAgcHJvbXB0TW9kaWZpZXI6IFwiaW4gdmludGFnZSBBcnQgRGVjbyBzdHlsZSB3aXRoIGdlb21ldHJpYyBwYXR0ZXJucywgZ29sZCBhY2NlbnRzLCBlbGVnYW50IHR5cG9ncmFwaHksIGx1eHVyaW91cyBkZXRhaWxzLCBhbmQgMTkyMHMgZ2xhbW91clwiXG4gIH0sXG4gIHsgXG4gICAgaWQ6IFwidmludGFnZS1pbGx1c3RyYXRpb25cIiwgXG4gICAgbGFiZWw6IFwi8J+TmiBWaW50YWdlIElsbHVzdHJhdGlvblwiLCBcbiAgICBkZXNjcmlwdGlvbjogXCJDbGFzc2ljIHN0b3J5Ym9vayBjaGFybVwiLFxuICAgIHByb21wdE1vZGlmaWVyOiBcImluIHZpbnRhZ2UgaWxsdXN0cmF0aW9uIHN0eWxlIGxpa2UgY2xhc3NpYyBjaGlsZHJlbidzIGJvb2tzLCB3aXRoIHdhcm0gbm9zdGFsZ2ljIGNvbG9ycywgY2hhcm1pbmcgY2hhcmFjdGVycywgd2hpbXNpY2FsIGRldGFpbHMsIGFuZCB0aW1lbGVzcyBmYWlyeS10YWxlIGFlc3RoZXRpY3NcIlxuICB9LFxuICB7XG4gICAgaWQ6IFwibW9kZXJuLWdlb21ldHJpY1wiLCBcbiAgICBsYWJlbDogXCLwn5S3IE1vZGVybiBHZW9tZXRyaWNcIiwgXG4gICAgZGVzY3JpcHRpb246IFwiQ2xlYW4gY29udGVtcG9yYXJ5IHNoYXBlc1wiLFxuICAgIHByb21wdE1vZGlmaWVyOiBcImluIG1vZGVybiBnZW9tZXRyaWMgc3R5bGUgd2l0aCBjbGVhbiBzaGFwZXMsIGNvbnRlbXBvcmFyeSBkZXNpZ24gZWxlbWVudHMsIGJhbGFuY2VkIGNvbXBvc2l0aW9ucywgYW5kIHNvcGhpc3RpY2F0ZWQgY29sb3IgcGFsZXR0ZXMgcGVyZmVjdCBmb3IgbW9kZXJuIGdyZWV0aW5nIGNhcmRzXCJcbiAgfSxcbiAge1xuICAgIGlkOiBcInNvZnQtcGFzdGVsXCIsIFxuICAgIGxhYmVsOiBcIvCfjLggU29mdCBQYXN0ZWxcIiwgXG4gICAgZGVzY3JpcHRpb246IFwiR2VudGxlLCBzb290aGluZyBjb2xvcnNcIixcbiAgICBwcm9tcHRNb2RpZmllcjogXCJpbiBzb2Z0IHBhc3RlbCBzdHlsZSB3aXRoIGdlbnRsZSBjb2xvcnMsIGRyZWFteSBhdG1vc3BoZXJlLCBkZWxpY2F0ZSB0ZXh0dXJlcywgYW5kIGNhbG1pbmcgdmlzdWFsIGVsZW1lbnRzIHRoYXQgY3JlYXRlIGEgcGVhY2VmdWwgYW5kIGhlYXJ0d2FybWluZyBmZWVsaW5nXCJcbiAgfSxcbiAge1xuICAgIGlkOiBcInJldHJvLXZpbnRhZ2VcIiwgXG4gICAgbGFiZWw6IFwi8J+TuyBSZXRybyBWaW50YWdlXCIsIFxuICAgIGRlc2NyaXB0aW9uOiBcIkNsYXNzaWMgMTk1MHMtNjBzIG5vc3RhbGdpYVwiLFxuICAgIHByb21wdE1vZGlmaWVyOiBcImluIHJldHJvIHZpbnRhZ2Ugc3R5bGUgd2l0aCAxOTUwcy02MHMgYWVzdGhldGljcywgY2xhc3NpYyB0eXBvZ3JhcGh5LCB3YXJtIG5vc3RhbGdpYyBjb2xvcnMsIGFuZCBtaWQtY2VudHVyeSBkZXNpZ24gZWxlbWVudHNcIlxuICB9XG5dO1xuXG4vLyBQYXBlciBzaXplIG9wdGlvbnNcbmV4cG9ydCBjb25zdCBwYXBlclNpemVzID0gW1xuICB7XG4gICAgaWQ6IFwic3RhbmRhcmRcIixcbiAgICBsYWJlbDogXCI1w5c3IENhcmQgKFN0YW5kYXJkKVwiLFxuICAgIGRlc2NyaXB0aW9uOiBcIlN0YW5kYXJkIDXDlzcgZ3JlZXRpbmcgY2FyZCAoMTDDlzcgcHJpbnQgbGF5b3V0KVwiLFxuICAgIGFzcGVjdFJhdGlvOiBcIjk6MTZcIixcbiAgICBkaW1lbnNpb25zOiBcIjEwMjR4MTUzNlwiLFxuICAgIHByaW50V2lkdGg6IFwiMTBpblwiLFxuICAgIHByaW50SGVpZ2h0OiBcIjdpblwiXG4gIH0sXG4gIHtcbiAgICBpZDogXCJjb21wYWN0XCIsXG4gICAgbGFiZWw6IFwiNMOXNiBDYXJkIChDb21wYWN0KVwiLFxuICAgIGRlc2NyaXB0aW9uOiBcIkNvbXBhY3QgNMOXNiBncmVldGluZyBjYXJkICg4w5c2IHByaW50IGxheW91dClcIixcbiAgICBhc3BlY3RSYXRpbzogXCIyOjNcIixcbiAgICBkaW1lbnNpb25zOiBcIjc2OHgxMTUyXCIsXG4gICAgcHJpbnRXaWR0aDogXCI4aW5cIixcbiAgICBwcmludEhlaWdodDogXCI2aW5cIlxuICB9LFxuICB7XG4gICAgaWQ6IFwiYTZcIixcbiAgICBsYWJlbDogXCJBNiBDYXJkICg0w5c2KVwiLFxuICAgIGRlc2NyaXB0aW9uOiBcIkE2IHBhcGVyIHNpemUgKDguM8OXNS44IHByaW50IGxheW91dClcIixcbiAgICBhc3BlY3RSYXRpbzogXCIyOjNcIixcbiAgICBkaW1lbnNpb25zOiBcIjc2OHgxMTUyXCIsXG4gICAgcHJpbnRXaWR0aDogXCI4LjNpblwiLFxuICAgIHByaW50SGVpZ2h0OiBcIjUuOGluXCJcbiAgfVxuXTtcblxuLy8gQ29uZmlndXJhdGlvbiBmb3IgdGhlIGJhY2tlbmQgQVBJIGVuZHBvaW50XG5leHBvcnQgY29uc3QgQkFDS0VORF9BUElfQkFTRV9VUkwgPSBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19CQUNLRU5EX0FQSV9VUkwgfHwgJ2h0dHBzOi8vdmliZWNhcmRpbmcuY29tJztcblxuLy8gVHlwZSBkZWZpbml0aW9uc1xuZXhwb3J0IGludGVyZmFjZSBHZW5lcmF0ZWRDYXJkIHtcbiAgaWQ6IHN0cmluZztcbiAgcHJvbXB0OiBzdHJpbmc7XG4gIGZyb250Q292ZXI6IHN0cmluZzsgICAgICAvLyBQb3J0cmFpdCBpbWFnZSAtIHdoYXQgcmVjaXBpZW50cyBzZWUgZmlyc3RcbiAgYmFja0NvdmVyOiBzdHJpbmc7ICAgICAgIC8vIFBvcnRyYWl0IGltYWdlIC0gYmFjayBvZiB0aGUgY2FyZFxuICBsZWZ0UGFnZTogc3RyaW5nOyAgICAgICAgLy8gUG9ydHJhaXQgaW1hZ2UgLSBsZWZ0IGludGVyaW9yIChkZWNvcmF0aXZlIGFydClcbiAgcmlnaHRQYWdlOiBzdHJpbmc7ICAgICAgIC8vIFBvcnRyYWl0IGltYWdlIC0gcmlnaHQgaW50ZXJpb3IgKG1lc3NhZ2UgYXJlYSlcbiAgLy8gQWxpYXNlcyBmb3IgYmFja3dhcmQgY29tcGF0aWJpbGl0eSB3aXRoIGRpZmZlcmVudCBuYW1pbmcgY29udmVudGlvbnNcbiAgbGVmdEludGVyaW9yPzogc3RyaW5nOyAgIC8vIEFsaWFzIGZvciBsZWZ0UGFnZVxuICByaWdodEludGVyaW9yPzogc3RyaW5nOyAgLy8gQWxpYXMgZm9yIHJpZ2h0UGFnZVxuICBjcmVhdGVkQXQ6IERhdGU7XG4gIHNoYXJlVXJsPzogc3RyaW5nOyAgICAgICAvLyBTaGFyZWFibGUgVVJMIGZvciB0aGUgY2FyZFxuICAvLyBTdG9yZSB0aGUgYWN0dWFsIHByb21wdHMgc2VudCB0byBpbWFnZSBnZW5lcmF0aW9uXG4gIGdlbmVyYXRlZFByb21wdHM/OiB7XG4gICAgZnJvbnRDb3Zlcj86IHN0cmluZztcbiAgICBiYWNrQ292ZXI/OiBzdHJpbmc7XG4gICAgbGVmdEludGVyaW9yPzogc3RyaW5nO1xuICAgIHJpZ2h0SW50ZXJpb3I/OiBzdHJpbmc7XG4gIH07XG4gIC8vIFRodW1ibmFpbCBVUkxzIGZvciBmYXN0ZXIgbG9hZGluZ1xuICB0aHVtYm5haWxzPzoge1xuICAgIGZyb250Q292ZXI/OiBzdHJpbmc7XG4gICAgYmFja0NvdmVyPzogc3RyaW5nO1xuICAgIGxlZnRQYWdlPzogc3RyaW5nO1xuICAgIHJpZ2h0UGFnZT86IHN0cmluZztcbiAgfTtcbiAgLy8gU3R5bGUgaW5mb3JtYXRpb24gZm9yIHNtYXJ0IHN0eWxlIG1vZGVcbiAgc3R5bGVJbmZvPzoge1xuICAgIHN0eWxlTmFtZT86IHN0cmluZztcbiAgICBzdHlsZUxhYmVsPzogc3RyaW5nO1xuICB9O1xuICAvLyBNZXNzYWdlIGRhdGEgZm9yIGhhbmR3cml0dGVuIG92ZXJsYXlcbiAgbWVzc2FnZT86IHN0cmluZztcbiAgaXNIYW5kd3JpdHRlbk1lc3NhZ2U/OiBib29sZWFuO1xufVxuXG4vLyBIZWxwZXIgZnVuY3Rpb24gdG8gZm9ybWF0IGdlbmVyYXRpb24gdGltZVxuZXhwb3J0IGNvbnN0IGZvcm1hdEdlbmVyYXRpb25UaW1lID0gKGR1cmF0aW9uU2Vjb25kczogbnVtYmVyKSA9PiB7XG4gIGNvbnN0IG1pbnV0ZXMgPSBNYXRoLmZsb29yKGR1cmF0aW9uU2Vjb25kcyAvIDYwKTtcbiAgY29uc3Qgc2Vjb25kcyA9IE1hdGguZmxvb3IoZHVyYXRpb25TZWNvbmRzICUgNjApO1xuICBcbiAgaWYgKG1pbnV0ZXMgPiAwKSB7XG4gICAgcmV0dXJuIGAke21pbnV0ZXN9bSAke3NlY29uZHN9c2A7XG4gIH1cbiAgcmV0dXJuIGAke3NlY29uZHN9c2A7XG59O1xuXG4vLyBIZWxwZXIgZnVuY3Rpb24gdG8gZm9ybWF0IGNvdW50ZG93biBhcyBNTTpTU1xuZXhwb3J0IGNvbnN0IGZvcm1hdENvdW50ZG93biA9IChzZWNvbmRzOiBudW1iZXIpOiBzdHJpbmcgPT4ge1xuICBjb25zdCBtaW51dGVzID0gTWF0aC5mbG9vcihzZWNvbmRzIC8gNjApO1xuICBjb25zdCByZW1haW5pbmdTZWNvbmRzID0gc2Vjb25kcyAlIDYwO1xuICByZXR1cm4gYCR7bWludXRlc306JHtyZW1haW5pbmdTZWNvbmRzLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgJzAnKX1gO1xufTtcblxuLy8gU2ltcGxpZmllZCBQaG90byBSZWZlcmVuY2UgVHlwZXNcbmV4cG9ydCBpbnRlcmZhY2UgUGhvdG9SZWZlcmVuY2Uge1xuICBpbWFnZVVybDogc3RyaW5nO1xuICBpbWFnZUluZGV4OiBudW1iZXI7XG4gIGRlc2NyaXB0aW9uPzogc3RyaW5nOyAvLyBTaW1wbGUgdXNlciBkZXNjcmlwdGlvbiBsaWtlIFwibXkgZGF1Z2h0ZXIgU2FyYWggYW5kIHNvbiBNaWtlXCJcbn0iXSwibmFtZXMiOlsiY2FyZFRvbmVzIiwiaWQiLCJsYWJlbCIsImRlc2NyaXB0aW9uIiwiYXJ0aXN0aWNTdHlsZXMiLCJwcm9tcHRNb2RpZmllciIsInBhcGVyU2l6ZXMiLCJhc3BlY3RSYXRpbyIsImRpbWVuc2lvbnMiLCJwcmludFdpZHRoIiwicHJpbnRIZWlnaHQiLCJCQUNLRU5EX0FQSV9CQVNFX1VSTCIsInByb2Nlc3MiLCJlbnYiLCJORVhUX1BVQkxJQ19CQUNLRU5EX0FQSV9VUkwiLCJmb3JtYXRHZW5lcmF0aW9uVGltZSIsImR1cmF0aW9uU2Vjb25kcyIsIm1pbnV0ZXMiLCJNYXRoIiwiZmxvb3IiLCJzZWNvbmRzIiwiZm9ybWF0Q291bnRkb3duIiwicmVtYWluaW5nU2Vjb25kcyIsInRvU3RyaW5nIiwicGFkU3RhcnQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./hooks/cardStudio/constants.ts\n");

/***/ }),

/***/ "(ssr)/./hooks/cardStudio/useCardGeneration.ts":
/*!***********************************************!*\
  !*** ./hooks/cardStudio/useCardGeneration.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useCardGeneration: () => (/* binding */ useCardGeneration)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var sonner__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! sonner */ \"(ssr)/./node_modules/sonner/dist/index.mjs\");\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! uuid */ \"(ssr)/./node_modules/uuid/dist/esm/v4.js\");\n/* harmony import */ var _lib_promptGenerator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/promptGenerator */ \"(ssr)/./lib/promptGenerator.ts\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./constants */ \"(ssr)/./hooks/cardStudio/constants.ts\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./utils */ \"(ssr)/./hooks/cardStudio/utils.ts\");\n/* __next_internal_client_entry_do_not_use__ useCardGeneration auto */ \n\n\n\n\n\nfunction useCardGeneration(props) {\n    const [isGenerating, setIsGenerating] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [generatedCard, setGeneratedCard] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [generatedCards, setGeneratedCards] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]);\n    const [selectedCardIndex, setSelectedCardIndex] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(0);\n    const [isCardCompleted, setIsCardCompleted] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [generationProgress, setGenerationProgress] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(\"\");\n    const [currentCardId, setCurrentCardId] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [generationDuration, setGenerationDuration] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    // Handle final card completion\n    const handleFinalCardCompletion = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(async (cardData)=>{\n        console.log(\"\\uD83C\\uDFAF handleFinalCardCompletion called with cardData:\", cardData);\n        console.log(\"\\uD83C\\uDFAF Current userEmail state:\", props.userEmail);\n        console.log(\"\\uD83C\\uDFAF Current states:\", {\n            isGenerating,\n            isCardCompleted,\n            generatedCard: generatedCard ? \"Present\" : \"None\"\n        });\n        let cardWithQR = {\n            ...cardData\n        };\n        // Ensure the card has a valid createdAt date\n        if (!cardWithQR.createdAt) {\n            cardWithQR.createdAt = new Date();\n        } else if (typeof cardWithQR.createdAt === \"string\" || typeof cardWithQR.createdAt === \"number\") {\n            cardWithQR.createdAt = new Date(cardWithQR.createdAt);\n        }\n        // Ensure the card has a valid ID\n        if (!cardWithQR.id) {\n            cardWithQR.id = `card-${Date.now()}-${Math.random().toString(36).substr(2, 9)}`;\n        }\n        // Add message data for handwritten overlay\n        if (props.isHandwrittenMessage) {\n            cardWithQR.message = props.finalCardMessage;\n            cardWithQR.isHandwrittenMessage = true;\n        }\n        console.log(\"\\uD83D\\uDD04 Final card data prepared:\", cardWithQR);\n        // Note: QR code overlay is now handled automatically by the backend\n        console.log(\"✅ Card completion processing finished - QR codes handled by backend\");\n        console.log(\"\\uD83C\\uDFAF Setting final card state:\", cardWithQR);\n        // Set the card states\n        setGeneratedCard(cardWithQR);\n        setGeneratedCards([\n            cardWithQR\n        ]);\n        setSelectedCardIndex(0);\n        setIsCardCompleted(true);\n        setIsGenerating(false);\n        props.setIsGeneratingFinalCard(false);\n        props.setIsDraftMode(false);\n        props.setDraftCompletionShown(false);\n        props.setDraftCompletionCount(0);\n        console.log(\"\\uD83C\\uDFAF Card states updated - isCardCompleted:\", true, \"generatedCard:\", cardWithQR);\n        // Don't clear the progress message here - it will be set by the WebSocket handler\n        // setGenerationProgress(\"\");\n        // Scroll to card preview\n        (0,_utils__WEBPACK_IMPORTED_MODULE_4__.scrollToCardPreview)();\n        // Capture generation time from backend\n        if (cardData.generationTimeSeconds) {\n            setGenerationDuration(cardData.generationTimeSeconds);\n        }\n        // Stop elapsed time tracking\n        props.stopElapsedTimeTracking();\n        // Set final progress after all states are updated\n        // Use a timeout to ensure React has processed all state updates\n        setTimeout(()=>{\n            setGenerationProgress(\"Generation complete! (100%)\");\n        }, 100);\n        sonner__WEBPACK_IMPORTED_MODULE_1__.toast.success(\"\\uD83C\\uDF89 Your card is ready!\");\n        // Show email confirmation toast if email is provided\n        if (props.userEmail.trim()) {\n            sonner__WEBPACK_IMPORTED_MODULE_1__.toast.success(`✉️ Card sent to ${props.userEmail}`, {\n                duration: 5000\n            });\n        }\n        // Email notifications are handled by the backend\n        console.log(\"\\uD83D\\uDCE7 Email sending disabled - backend handles email notifications\");\n        console.log(\"✅ Final card completion process finished successfully\");\n        console.log(\"✅ Final states:\", {\n            isCardCompleted: true,\n            generatedCard: cardWithQR\n        });\n    }, [\n        props,\n        isGenerating,\n        isCardCompleted,\n        generatedCard\n    ]);\n    // Main card generation function\n    const handleGenerateCardAsync = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(async ()=>{\n        const { userEmail, selectedType, customCardType, selectedTone, selectedArtisticStyle, customStyleDescription, selectedImageModel, referenceImageUrls, prompt, toField, fromField, finalCardMessage, isHandwrittenMessage, isFrontBackOnly, selectedPaperSize, numberOfCards, saveJobToStorage, subscribeToJob, startElapsedTimeTracking, setCurrentJobId, setIsDraftMode, setDraftCards, setSelectedDraftIndex, setIsGeneratingFinalCard, setPreviewingDraftIndex, setDraftCompletionShown, setDraftCompletionCount } = props;\n        if (!userEmail.trim()) {\n            sonner__WEBPACK_IMPORTED_MODULE_1__.toast.error(\"Please enter your email address\");\n            return;\n        }\n        // Basic email validation\n        const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n        if (!emailRegex.test(userEmail)) {\n            sonner__WEBPACK_IMPORTED_MODULE_1__.toast.error(\"Please enter a valid email address\");\n            return;\n        }\n        // Validate custom style if selected\n        if (selectedArtisticStyle === \"custom\" && !customStyleDescription.trim()) {\n            sonner__WEBPACK_IMPORTED_MODULE_1__.toast.error(\"Please describe your custom artistic style\");\n            return;\n        }\n        // Validate reference images with model compatibility\n        if (referenceImageUrls.length > 0 && selectedImageModel !== \"gpt-image-1\") {\n            sonner__WEBPACK_IMPORTED_MODULE_1__.toast.error(\"Reference photos are only supported with GPT Image 1 model. Please switch to GPT Image 1 in Advanced Options or remove reference photos.\");\n            return;\n        }\n        // Clear all draft mode states to prevent UI conflicts\n        setIsDraftMode(false);\n        setDraftCards([\n            null,\n            null,\n            null,\n            null,\n            null\n        ]);\n        setSelectedDraftIndex(-1);\n        setIsGeneratingFinalCard(false);\n        setPreviewingDraftIndex(-1);\n        setDraftCompletionShown(false);\n        setDraftCompletionCount(0);\n        // Clear any existing card states\n        setGeneratedCards([]);\n        setGeneratedCard(null);\n        setSelectedCardIndex(0);\n        setCurrentCardId(null);\n        setIsCardCompleted(false);\n        // Stop any existing timers first\n        props.stopElapsedTimeTracking();\n        setIsGenerating(true);\n        startElapsedTimeTracking(\"final\");\n        setGenerationProgress(\"Creating your personalized card...\");\n        try {\n            // Create job tracking\n            const jobId = (0,uuid__WEBPACK_IMPORTED_MODULE_5__[\"default\"])();\n            setCurrentJobId(jobId);\n            const cardTypeForPrompt = selectedType === \"custom\" ? customCardType : selectedType;\n            const selectedToneObj = _constants__WEBPACK_IMPORTED_MODULE_3__.cardTones.find((tone)=>tone.id === selectedTone);\n            let messageContent = finalCardMessage;\n            // Handle message generation if needed\n            if (isHandwrittenMessage) {\n                messageContent = \"[Blank space for handwritten message]\";\n            } else if (!messageContent.trim() && !isFrontBackOnly) {\n                setGenerationProgress(\"✍️ Writing the perfect message...\");\n                const autoMessagePrompt = `Create a heartfelt message for a ${cardTypeForPrompt} greeting card.\n\nCard Theme/Description: \"${prompt || `A beautiful ${cardTypeForPrompt} card`}\"\n${toField ? `Recipient: ${toField}` : \"Recipient: [not specified]\"}\n${fromField ? `Sender: ${fromField}` : \"Sender: [not specified]\"}\n\nInstructions:\n- Write a message that feels personal and genuine\n- Keep it concise but meaningful (2-4 sentences ideal)\n- Make it feel authentic, not generic\n- Keep content family-friendly and appropriate for all ages\n- ${fromField ? `End the message with a signature line like \"Love, ${fromField}\" or \"- ${fromField}\" or similar, naturally integrated into the message.` : \"\"}\n\nReturn ONLY the message text that should appear inside the card.\n\nIMPORTANT: Wrap your final message in <MESSAGE> </MESSAGE> tags.`;\n                const generatedMessage = await (0,_utils__WEBPACK_IMPORTED_MODULE_4__.chatWithAI)(autoMessagePrompt, {\n                    model: \"gemini-2.5-pro\",\n                    includeThoughts: false\n                });\n                if (generatedMessage?.trim()) {\n                    const messageMatch = generatedMessage.match(/<MESSAGE>([\\s\\S]*?)<\\/MESSAGE>/);\n                    if (messageMatch && messageMatch[1]) {\n                        messageContent = messageMatch[1].trim();\n                    }\n                }\n            }\n            // Generate style and paper config\n            const selectedStyle = _constants__WEBPACK_IMPORTED_MODULE_3__.artisticStyles.find((style)=>style.id === selectedArtisticStyle);\n            const styleModifier = selectedArtisticStyle === \"custom\" ? customStyleDescription : selectedStyle?.promptModifier || \"\";\n            const paperConfig = _constants__WEBPACK_IMPORTED_MODULE_3__.paperSizes.find((size)=>size.id === selectedPaperSize) || _constants__WEBPACK_IMPORTED_MODULE_3__.paperSizes[0];\n            setGenerationProgress(\"\\uD83C\\uDFA8 Creating artistic vision for your card...\");\n            // Use prompt if provided, otherwise create a simple default\n            let effectivePrompt = prompt.trim();\n            if (!effectivePrompt) {\n                effectivePrompt = `A beautiful ${cardTypeForPrompt} card`;\n            }\n            // Use PromptGenerator for card prompts\n            const cardConfig = {\n                cardType: selectedType,\n                customCardType: customCardType,\n                tone: selectedTone,\n                toneDescription: selectedToneObj?.description.toLowerCase() || \"heartfelt and sincere\",\n                theme: effectivePrompt,\n                toField: toField,\n                fromField: fromField,\n                relationshipField: props.relationshipField,\n                personalTraits: props.personalTraits,\n                message: messageContent,\n                isHandwrittenMessage: isHandwrittenMessage,\n                artisticStyle: selectedStyle,\n                referenceImageUrls: referenceImageUrls,\n                photoReferences: props.photoReferences,\n                isFrontBackOnly: isFrontBackOnly,\n                selectedImageModel: selectedImageModel\n            };\n            const generatedPrompts = _lib_promptGenerator__WEBPACK_IMPORTED_MODULE_2__.PromptGenerator.generateCardPrompts(cardConfig);\n            // Apply reference photo enhancements for GPT-1\n            if (referenceImageUrls.length > 0 && selectedImageModel === \"gpt-1\") {\n                generatedPrompts.frontCover = _lib_promptGenerator__WEBPACK_IMPORTED_MODULE_2__.PromptGenerator.enhancePromptWithReferencePhotos(generatedPrompts.frontCover, true, selectedImageModel);\n            }\n            const formattedPrompts = {\n                frontCover: generatedPrompts.frontCover,\n                backCover: generatedPrompts.backCover,\n                ...isFrontBackOnly ? {} : {\n                    leftInterior: generatedPrompts.leftInterior,\n                    rightInterior: generatedPrompts.rightInterior\n                }\n            };\n            if (!formattedPrompts || !formattedPrompts.frontCover) {\n                throw new Error(\"Failed to generate image prompts\");\n            }\n            // Save job data\n            const jobData = {\n                prompt: prompt || `A beautiful ${cardTypeForPrompt} card`,\n                selectedType,\n                customCardType,\n                selectedTone,\n                finalCardMessage: messageContent,\n                toField,\n                fromField,\n                userEmail,\n                selectedArtisticStyle,\n                customStyleDescription,\n                selectedImageModel,\n                isFrontBackOnly,\n                numberOfCards,\n                selectedPaperSize,\n                prompts: formattedPrompts,\n                paperConfig\n            };\n            saveJobToStorage(jobId, jobData);\n            setGenerationProgress(\"\\uD83D\\uDE80 Starting background generation...\");\n            // Prepare input images for reference photo support\n            const inputImages = [];\n            if (referenceImageUrls.length > 0 && selectedImageModel === \"gpt-image-1\") {\n                inputImages.push(...referenceImageUrls);\n            }\n            const response = await fetch(\"/api/generate-card-async\", {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                    jobId,\n                    prompts: formattedPrompts,\n                    config: {\n                        userNumber: \"+17145986105\",\n                        modelVersion: selectedImageModel,\n                        aspectRatio: paperConfig.aspectRatio,\n                        quality: \"high\",\n                        outputFormat: \"jpeg\",\n                        outputCompression: 100,\n                        moderation: \"low\",\n                        dimensions: paperConfig.dimensions,\n                        isFrontBackOnly,\n                        userEmail,\n                        cardType: cardTypeForPrompt,\n                        toField,\n                        fromField,\n                        isDraftMode: false,\n                        ...inputImages.length > 0 && {\n                            input_images: inputImages,\n                            input_images_mode: \"front_cover_only\"\n                        },\n                        // Include message data for handwritten overlay\n                        ...isHandwrittenMessage && {\n                            message: finalCardMessage,\n                            isHandwrittenMessage: true\n                        }\n                    }\n                })\n            });\n            if (!response.ok) {\n                throw new Error(`Server error: ${response.status}`);\n            }\n            const result = await response.json();\n            if (result.status !== \"processing\") {\n                throw new Error(result.message || \"Failed to start card generation\");\n            }\n            setGenerationProgress(\"✨ Bringing your vision to life...\");\n            sonner__WEBPACK_IMPORTED_MODULE_1__.toast.success(\"\\uD83C\\uDF89 Card generation started!\");\n            // Subscribe to WebSocket updates for real-time progress\n            subscribeToJob(jobId);\n        } catch (error) {\n            console.error(\"Card generation error:\", error);\n            sonner__WEBPACK_IMPORTED_MODULE_1__.toast.error(\"Failed to generate card. Please try again.\");\n            if (currentCardId) {\n                props.removeJobFromStorage(currentCardId);\n                setCurrentCardId(null);\n            }\n            setIsGenerating(false);\n            setGenerationProgress(\"\");\n            props.stopElapsedTimeTracking();\n        }\n    }, [\n        props,\n        currentCardId\n    ]);\n    return {\n        isGenerating,\n        setIsGenerating,\n        generatedCard,\n        setGeneratedCard,\n        generatedCards,\n        setGeneratedCards,\n        selectedCardIndex,\n        setSelectedCardIndex,\n        isCardCompleted,\n        setIsCardCompleted,\n        generationProgress,\n        setGenerationProgress,\n        currentCardId,\n        setCurrentCardId,\n        generationDuration,\n        setGenerationDuration,\n        handleGenerateCardAsync,\n        handleFinalCardCompletion\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ob29rcy9jYXJkU3R1ZGlvL3VzZUNhcmRHZW5lcmF0aW9uLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O3VFQUU4QztBQUNmO0FBQ0s7QUFDZ0M7QUFDK0I7QUFDdEI7QUEwQ3RFLFNBQVNXLGtCQUFrQkMsS0FBMEI7SUFDMUQsTUFBTSxDQUFDQyxjQUFjQyxnQkFBZ0IsR0FBR2QsK0NBQVFBLENBQUM7SUFDakQsTUFBTSxDQUFDZSxlQUFlQyxpQkFBaUIsR0FBR2hCLCtDQUFRQSxDQUF1QjtJQUN6RSxNQUFNLENBQUNpQixnQkFBZ0JDLGtCQUFrQixHQUFHbEIsK0NBQVFBLENBQWtCLEVBQUU7SUFDeEUsTUFBTSxDQUFDbUIsbUJBQW1CQyxxQkFBcUIsR0FBR3BCLCtDQUFRQSxDQUFTO0lBQ25FLE1BQU0sQ0FBQ3FCLGlCQUFpQkMsbUJBQW1CLEdBQUd0QiwrQ0FBUUEsQ0FBVTtJQUNoRSxNQUFNLENBQUN1QixvQkFBb0JDLHNCQUFzQixHQUFHeEIsK0NBQVFBLENBQVM7SUFDckUsTUFBTSxDQUFDeUIsZUFBZUMsaUJBQWlCLEdBQUcxQiwrQ0FBUUEsQ0FBZ0I7SUFDbEUsTUFBTSxDQUFDMkIsb0JBQW9CQyxzQkFBc0IsR0FBRzVCLCtDQUFRQSxDQUFnQjtJQUU1RSwrQkFBK0I7SUFDL0IsTUFBTTZCLDRCQUE0QjVCLGtEQUFXQSxDQUFDLE9BQU82QjtRQUNuREMsUUFBUUMsR0FBRyxDQUFDLGdFQUFzREY7UUFDbEVDLFFBQVFDLEdBQUcsQ0FBQyx5Q0FBK0JwQixNQUFNcUIsU0FBUztRQUMxREYsUUFBUUMsR0FBRyxDQUFDLGdDQUFzQjtZQUNoQ25CO1lBQ0FRO1lBQ0FOLGVBQWVBLGdCQUFnQixZQUFZO1FBQzdDO1FBQ0EsSUFBSW1CLGFBQWE7WUFBRSxHQUFHSixRQUFRO1FBQUM7UUFFL0IsNkNBQTZDO1FBQzdDLElBQUksQ0FBQ0ksV0FBV0MsU0FBUyxFQUFFO1lBQ3pCRCxXQUFXQyxTQUFTLEdBQUcsSUFBSUM7UUFDN0IsT0FBTyxJQUFJ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Q0Y7WUFDRjtZQUVBLElBQUksQ0FBQ2dGLFNBQVNtQixFQUFFLEVBQUU7Z0JBQ2hCLE1BQU0sSUFBSXhCLE1BQU0sQ0FBQyxjQUFjLEVBQUVLLFNBQVNvQixNQUFNLENBQUMsQ0FBQztZQUNwRDtZQUVBLE1BQU1DLFNBQVMsTUFBTXJCLFNBQVNzQixJQUFJO1lBRWxDLElBQUlELE9BQU9ELE1BQU0sS0FBSyxjQUFjO2dCQUNsQyxNQUFNLElBQUl6QixNQUFNMEIsT0FBT3BHLE9BQU8sSUFBSTtZQUNwQztZQUVBcEIsc0JBQXNCO1lBQ3RCdEIseUNBQUtBLENBQUNtRCxPQUFPLENBQUM7WUFFZCx3REFBd0Q7WUFDeERrQixlQUFlVTtRQUVqQixFQUFFLE9BQU9KLE9BQU87WUFDZDlDLFFBQVE4QyxLQUFLLENBQUMsMEJBQTBCQTtZQUN4QzNFLHlDQUFLQSxDQUFDMkUsS0FBSyxDQUFDO1lBRVosSUFBSXBELGVBQWU7Z0JBQ2pCYixNQUFNc0ksb0JBQW9CLENBQUN6SDtnQkFDM0JDLGlCQUFpQjtZQUNuQjtZQUVBWixnQkFBZ0I7WUFDaEJVLHNCQUFzQjtZQUN0QlosTUFBTXVDLHVCQUF1QjtRQUMvQjtJQUNGLEdBQUc7UUFBQ3ZDO1FBQU9hO0tBQWM7SUFFekIsT0FBTztRQUNMWjtRQUNBQztRQUNBQztRQUNBQztRQUNBQztRQUNBQztRQUNBQztRQUNBQztRQUNBQztRQUNBQztRQUNBQztRQUNBQztRQUNBQztRQUNBQztRQUNBQztRQUNBQztRQUNBNEI7UUFDQTNCO0lBQ0Y7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL3ZpYmVjYXJkaW5nLy4vaG9va3MvY2FyZFN0dWRpby91c2VDYXJkR2VuZXJhdGlvbi50cz8wNWFjIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIGNsaWVudFwiO1xuXG5pbXBvcnQgeyB1c2VTdGF0ZSwgdXNlQ2FsbGJhY2sgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IHRvYXN0IH0gZnJvbSBcInNvbm5lclwiO1xuaW1wb3J0IHsgdjQgYXMgdXVpZHY0IH0gZnJvbSAndXVpZCc7XG5pbXBvcnQgeyBQcm9tcHRHZW5lcmF0b3IsIENhcmRDb25maWcgfSBmcm9tICdAL2xpYi9wcm9tcHRHZW5lcmF0b3InO1xuaW1wb3J0IHsgR2VuZXJhdGVkQ2FyZCwgY2FyZFRvbmVzLCBhcnRpc3RpY1N0eWxlcywgcGFwZXJTaXplcywgUGhvdG9SZWZlcmVuY2UgfSBmcm9tICcuL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBjaGF0V2l0aEFJLCBzZW5kVGhhbmtZb3VFbWFpbCwgc2Nyb2xsVG9DYXJkUHJldmlldyB9IGZyb20gJy4vdXRpbHMnO1xuXG5pbnRlcmZhY2UgQ2FyZEdlbmVyYXRpb25Qcm9wcyB7XG4gIC8vIEZvcm0gZGF0YVxuICBzZWxlY3RlZFR5cGU6IHN0cmluZztcbiAgY3VzdG9tQ2FyZFR5cGU6IHN0cmluZztcbiAgc2VsZWN0ZWRUb25lOiBzdHJpbmc7XG4gIHNlbGVjdGVkQXJ0aXN0aWNTdHlsZTogc3RyaW5nO1xuICBjdXN0b21TdHlsZURlc2NyaXB0aW9uOiBzdHJpbmc7XG4gIHNlbGVjdGVkSW1hZ2VNb2RlbDogc3RyaW5nO1xuICBzZWxlY3RlZFBhcGVyU2l6ZTogc3RyaW5nO1xuICBwcm9tcHQ6IHN0cmluZztcbiAgcGVyc29uYWxUcmFpdHM/OiBzdHJpbmc7XG4gIHRvRmllbGQ6IHN0cmluZztcbiAgZnJvbUZpZWxkOiBzdHJpbmc7XG4gIHJlbGF0aW9uc2hpcEZpZWxkOiBzdHJpbmc7XG4gIHVzZXJFbWFpbDogc3RyaW5nO1xuICBmaW5hbENhcmRNZXNzYWdlOiBzdHJpbmc7XG4gIGlzSGFuZHdyaXR0ZW5NZXNzYWdlOiBib29sZWFuO1xuICBpc0Zyb250QmFja09ubHk6IGJvb2xlYW47XG4gIHJlZmVyZW5jZUltYWdlVXJsczogc3RyaW5nW107XG4gIHBob3RvUmVmZXJlbmNlcz86IFBob3RvUmVmZXJlbmNlW107XG4gIG51bWJlck9mQ2FyZHM6IG51bWJlcjtcbiAgXG4gIC8vIEpvYiBtYW5hZ2VtZW50XG4gIHNhdmVKb2JUb1N0b3JhZ2U6IChqb2JJZDogc3RyaW5nLCBqb2JEYXRhOiBhbnkpID0+IHZvaWQ7XG4gIHJlbW92ZUpvYkZyb21TdG9yYWdlOiAoam9iSWQ6IHN0cmluZykgPT4gdm9pZDtcbiAgc3Vic2NyaWJlVG9Kb2I6IChqb2JJZDogc3RyaW5nKSA9PiB2b2lkO1xuICBzdGFydEVsYXBzZWRUaW1lVHJhY2tpbmc6IChqb2JUeXBlPzogJ2RyYWZ0JyB8ICdmaW5hbCcpID0+IHZvaWQ7XG4gIHN0b3BFbGFwc2VkVGltZVRyYWNraW5nOiAoKSA9PiB2b2lkO1xuICBzZXRDdXJyZW50Sm9iSWQ6IChpZDogc3RyaW5nIHwgbnVsbCkgPT4gdm9pZDtcbiAgXG4gIC8vIERyYWZ0IHN0YXRlIHNldHRlcnNcbiAgc2V0SXNEcmFmdE1vZGU6ICh2YWx1ZTogYm9vbGVhbikgPT4gdm9pZDtcbiAgc2V0RHJhZnRDYXJkczogKHZhbHVlOiBhbnkpID0+IHZvaWQ7XG4gIHNldFNlbGVjdGVkRHJhZnRJbmRleDogKHZhbHVlOiBudW1iZXIpID0+IHZvaWQ7XG4gIHNldElzR2VuZXJhdGluZ0ZpbmFsQ2FyZDogKHZhbHVlOiBib29sZWFuKSA9PiB2b2lkO1xuICBzZXRQcmV2aWV3aW5nRHJhZnRJbmRleDogKHZhbHVlOiBudW1iZXIpID0+IHZvaWQ7XG4gIHNldERyYWZ0Q29tcGxldGlvblNob3duOiAodmFsdWU6IGJvb2xlYW4pID0+IHZvaWQ7XG4gIHNldERyYWZ0Q29tcGxldGlvbkNvdW50OiAodmFsdWU6IG51bWJlcikgPT4gdm9pZDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVzZUNhcmRHZW5lcmF0aW9uKHByb3BzOiBDYXJkR2VuZXJhdGlvblByb3BzKSB7XG4gIGNvbnN0IFtpc0dlbmVyYXRpbmcsIHNldElzR2VuZXJhdGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtnZW5lcmF0ZWRDYXJkLCBzZXRHZW5lcmF0ZWRDYXJkXSA9IHVzZVN0YXRlPEdlbmVyYXRlZENhcmQgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW2dlbmVyYXRlZENhcmRzLCBzZXRHZW5lcmF0ZWRDYXJkc10gPSB1c2VTdGF0ZTxHZW5lcmF0ZWRDYXJkW10+KFtdKTtcbiAgY29uc3QgW3NlbGVjdGVkQ2FyZEluZGV4LCBzZXRTZWxlY3RlZENhcmRJbmRleF0gPSB1c2VTdGF0ZTxudW1iZXI+KDApO1xuICBjb25zdCBbaXNDYXJkQ29tcGxldGVkLCBzZXRJc0NhcmRDb21wbGV0ZWRdID0gdXNlU3RhdGU8Ym9vbGVhbj4oZmFsc2UpO1xuICBjb25zdCBbZ2VuZXJhdGlvblByb2dyZXNzLCBzZXRHZW5lcmF0aW9uUHJvZ3Jlc3NdID0gdXNlU3RhdGU8c3RyaW5nPihcIlwiKTtcbiAgY29uc3QgW2N1cnJlbnRDYXJkSWQsIHNldEN1cnJlbnRDYXJkSWRdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtnZW5lcmF0aW9uRHVyYXRpb24sIHNldEdlbmVyYXRpb25EdXJhdGlvbl0gPSB1c2VTdGF0ZTxudW1iZXIgfCBudWxsPihudWxsKTtcblxuICAvLyBIYW5kbGUgZmluYWwgY2FyZCBjb21wbGV0aW9uXG4gIGNvbnN0IGhhbmRsZUZpbmFsQ2FyZENvbXBsZXRpb24gPSB1c2VDYWxsYmFjayhhc3luYyAoY2FyZERhdGE6IGFueSkgPT4ge1xuICAgIGNvbnNvbGUubG9nKCfwn46vIGhhbmRsZUZpbmFsQ2FyZENvbXBsZXRpb24gY2FsbGVkIHdpdGggY2FyZERhdGE6JywgY2FyZERhdGEpO1xuICAgIGNvbnNvbGUubG9nKCfwn46vIEN1cnJlbnQgdXNlckVtYWlsIHN0YXRlOicsIHByb3BzLnVzZXJFbWFpbCk7XG4gICAgY29uc29sZS5sb2coJ/Cfjq8gQ3VycmVudCBzdGF0ZXM6Jywge1xuICAgICAgaXNHZW5lcmF0aW5nLFxuICAgICAgaXNDYXJkQ29tcGxldGVkLFxuICAgICAgZ2VuZXJhdGVkQ2FyZDogZ2VuZXJhdGVkQ2FyZCA/ICdQcmVzZW50JyA6ICdOb25lJ1xuICAgIH0pO1xuICAgIGxldCBjYXJkV2l0aFFSID0geyAuLi5jYXJkRGF0YSB9O1xuICAgIFxuICAgIC8vIEVuc3VyZSB0aGUgY2FyZCBoYXMgYSB2YWxpZCBjcmVhdGVkQXQgZGF0ZVxuICAgIGlmICghY2FyZFdpdGhRUi5jcmVhdGVkQXQpIHtcbiAgICAgIGNhcmRXaXRoUVIuY3JlYXRlZEF0ID0gbmV3IERhdGUoKTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBjYXJkV2l0aFFSLmNyZWF0ZWRBdCA9PT0gJ3N0cmluZycgfHwgdHlwZW9mIGNhcmRXaXRoUVIuY3JlYXRlZEF0ID09PSAnbnVtYmVyJykge1xuICAgICAgY2FyZFdpdGhRUi5jcmVhdGVkQXQgPSBuZXcgRGF0ZShjYXJkV2l0aFFSLmNyZWF0ZWRBdCk7XG4gICAgfVxuICAgIFxuICAgIC8vIEVuc3VyZSB0aGUgY2FyZCBoYXMgYSB2YWxpZCBJRFxuICAgIGlmICghY2FyZFdpdGhRUi5pZCkge1xuICAgICAgY2FyZFdpdGhRUi5pZCA9IGBjYXJkLSR7RGF0ZS5ub3coKX0tJHtNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHIoMiwgOSl9YDtcbiAgICB9XG4gICAgXG4gICAgLy8gQWRkIG1lc3NhZ2UgZGF0YSBmb3IgaGFuZHdyaXR0ZW4gb3ZlcmxheVxuICAgIGlmIChwcm9wcy5pc0hhbmR3cml0dGVuTWVzc2FnZSkge1xuICAgICAgY2FyZFdpdGhRUi5tZXNzYWdlID0gcHJvcHMuZmluYWxDYXJkTWVzc2FnZTtcbiAgICAgIGNhcmRXaXRoUVIuaXNIYW5kd3JpdHRlbk1lc3NhZ2UgPSB0cnVlO1xuICAgIH1cbiAgICBcbiAgICBjb25zb2xlLmxvZygn8J+UhCBGaW5hbCBjYXJkIGRhdGEgcHJlcGFyZWQ6JywgY2FyZFdpdGhRUik7XG4gICAgXG4gICAgLy8gTm90ZTogUVIgY29kZSBvdmVybGF5IGlzIG5vdyBoYW5kbGVkIGF1dG9tYXRpY2FsbHkgYnkgdGhlIGJhY2tlbmRcbiAgICBjb25zb2xlLmxvZygn4pyFIENhcmQgY29tcGxldGlvbiBwcm9jZXNzaW5nIGZpbmlzaGVkIC0gUVIgY29kZXMgaGFuZGxlZCBieSBiYWNrZW5kJyk7XG4gICAgXG4gICAgY29uc29sZS5sb2coJ/Cfjq8gU2V0dGluZyBmaW5hbCBjYXJkIHN0YXRlOicsIGNhcmRXaXRoUVIpO1xuICAgIFxuICAgIC8vIFNldCB0aGUgY2FyZCBzdGF0ZXNcbiAgICBzZXRHZW5lcmF0ZWRDYXJkKGNhcmRXaXRoUVIpO1xuICAgIHNldEdlbmVyYXRlZENhcmRzKFtjYXJkV2l0aFFSXSk7XG4gICAgc2V0U2VsZWN0ZWRDYXJkSW5kZXgoMCk7XG4gICAgc2V0SXNDYXJkQ29tcGxldGVkKHRydWUpO1xuICAgIHNldElzR2VuZXJhdGluZyhmYWxzZSk7XG4gICAgcHJvcHMuc2V0SXNHZW5lcmF0aW5nRmluYWxDYXJkKGZhbHNlKTtcbiAgICBwcm9wcy5zZXRJc0RyYWZ0TW9kZShmYWxzZSk7XG4gICAgcHJvcHMuc2V0RHJhZnRDb21wbGV0aW9uU2hvd24oZmFsc2UpO1xuICAgIHByb3BzLnNldERyYWZ0Q29tcGxldGlvbkNvdW50KDApO1xuICAgIFxuICAgIGNvbnNvbGUubG9nKCfwn46vIENhcmQgc3RhdGVzIHVwZGF0ZWQgLSBpc0NhcmRDb21wbGV0ZWQ6JywgdHJ1ZSwgJ2dlbmVyYXRlZENhcmQ6JywgY2FyZFdpdGhRUik7XG4gICAgLy8gRG9uJ3QgY2xlYXIgdGhlIHByb2dyZXNzIG1lc3NhZ2UgaGVyZSAtIGl0IHdpbGwgYmUgc2V0IGJ5IHRoZSBXZWJTb2NrZXQgaGFuZGxlclxuICAgIC8vIHNldEdlbmVyYXRpb25Qcm9ncmVzcyhcIlwiKTtcbiAgICBcbiAgICAvLyBTY3JvbGwgdG8gY2FyZCBwcmV2aWV3XG4gICAgc2Nyb2xsVG9DYXJkUHJldmlldygpO1xuICAgIFxuICAgIC8vIENhcHR1cmUgZ2VuZXJhdGlvbiB0aW1lIGZyb20gYmFja2VuZFxuICAgIGlmIChjYXJkRGF0YS5nZW5lcmF0aW9uVGltZVNlY29uZHMpIHtcbiAgICAgIHNldEdlbmVyYXRpb25EdXJhdGlvbihjYXJkRGF0YS5nZW5lcmF0aW9uVGltZVNlY29uZHMpO1xuICAgIH1cbiAgICBcbiAgICAvLyBTdG9wIGVsYXBzZWQgdGltZSB0cmFja2luZ1xuICAgIHByb3BzLnN0b3BFbGFwc2VkVGltZVRyYWNraW5nKCk7XG4gICAgXG4gICAgLy8gU2V0IGZpbmFsIHByb2dyZXNzIGFmdGVyIGFsbCBzdGF0ZXMgYXJlIHVwZGF0ZWRcbiAgICAvLyBVc2UgYSB0aW1lb3V0IHRvIGVuc3VyZSBSZWFjdCBoYXMgcHJvY2Vzc2VkIGFsbCBzdGF0ZSB1cGRhdGVzXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBzZXRHZW5lcmF0aW9uUHJvZ3Jlc3MoXCJHZW5lcmF0aW9uIGNvbXBsZXRlISAoMTAwJSlcIik7XG4gICAgfSwgMTAwKTtcbiAgICBcbiAgICB0b2FzdC5zdWNjZXNzKFwi8J+OiSBZb3VyIGNhcmQgaXMgcmVhZHkhXCIpO1xuICAgIFxuICAgIC8vIFNob3cgZW1haWwgY29uZmlybWF0aW9uIHRvYXN0IGlmIGVtYWlsIGlzIHByb3ZpZGVkXG4gICAgaWYgKHByb3BzLnVzZXJFbWFpbC50cmltKCkpIHtcbiAgICAgIHRvYXN0LnN1Y2Nlc3MoYOKcie+4jyBDYXJkIHNlbnQgdG8gJHtwcm9wcy51c2VyRW1haWx9YCwge1xuICAgICAgICBkdXJhdGlvbjogNTAwMCxcbiAgICAgIH0pO1xuICAgIH1cbiAgICBcbiAgICAvLyBFbWFpbCBub3RpZmljYXRpb25zIGFyZSBoYW5kbGVkIGJ5IHRoZSBiYWNrZW5kXG4gICAgY29uc29sZS5sb2coJ/Cfk6cgRW1haWwgc2VuZGluZyBkaXNhYmxlZCAtIGJhY2tlbmQgaGFuZGxlcyBlbWFpbCBub3RpZmljYXRpb25zJyk7XG4gICAgXG4gICAgY29uc29sZS5sb2coJ+KchSBGaW5hbCBjYXJkIGNvbXBsZXRpb24gcHJvY2VzcyBmaW5pc2hlZCBzdWNjZXNzZnVsbHknKTtcbiAgICBjb25zb2xlLmxvZygn4pyFIEZpbmFsIHN0YXRlczonLCB7XG4gICAgICBpc0NhcmRDb21wbGV0ZWQ6IHRydWUsXG4gICAgICBnZW5lcmF0ZWRDYXJkOiBjYXJkV2l0aFFSXG4gICAgfSk7XG4gIH0sIFtwcm9wcywgaXNHZW5lcmF0aW5nLCBpc0NhcmRDb21wbGV0ZWQsIGdlbmVyYXRlZENhcmRdKTtcblxuICAvLyBNYWluIGNhcmQgZ2VuZXJhdGlvbiBmdW5jdGlvblxuICBjb25zdCBoYW5kbGVHZW5lcmF0ZUNhcmRBc3luYyA9IHVzZUNhbGxiYWNrKGFzeW5jICgpID0+IHtcbiAgICBjb25zdCB7XG4gICAgICB1c2VyRW1haWwsXG4gICAgICBzZWxlY3RlZFR5cGUsXG4gICAgICBjdXN0b21DYXJkVHlwZSxcbiAgICAgIHNlbGVjdGVkVG9uZSxcbiAgICAgIHNlbGVjdGVkQXJ0aXN0aWNTdHlsZSxcbiAgICAgIGN1c3RvbVN0eWxlRGVzY3JpcHRpb24sXG4gICAgICBzZWxlY3RlZEltYWdlTW9kZWwsXG4gICAgICByZWZlcmVuY2VJbWFnZVVybHMsXG4gICAgICBwcm9tcHQsXG4gICAgICB0b0ZpZWxkLFxuICAgICAgZnJvbUZpZWxkLFxuICAgICAgZmluYWxDYXJkTWVzc2FnZSxcbiAgICAgIGlzSGFuZHdyaXR0ZW5NZXNzYWdlLFxuICAgICAgaXNGcm9udEJhY2tPbmx5LFxuICAgICAgc2VsZWN0ZWRQYXBlclNpemUsXG4gICAgICBudW1iZXJPZkNhcmRzLFxuICAgICAgc2F2ZUpvYlRvU3RvcmFnZSxcbiAgICAgIHN1YnNjcmliZVRvSm9iLFxuICAgICAgc3RhcnRFbGFwc2VkVGltZVRyYWNraW5nLFxuICAgICAgc2V0Q3VycmVudEpvYklkLFxuICAgICAgc2V0SXNEcmFmdE1vZGUsXG4gICAgICBzZXREcmFmdENhcmRzLFxuICAgICAgc2V0U2VsZWN0ZWREcmFmdEluZGV4LFxuICAgICAgc2V0SXNHZW5lcmF0aW5nRmluYWxDYXJkLFxuICAgICAgc2V0UHJldmlld2luZ0RyYWZ0SW5kZXgsXG4gICAgICBzZXREcmFmdENvbXBsZXRpb25TaG93bixcbiAgICAgIHNldERyYWZ0Q29tcGxldGlvbkNvdW50XG4gICAgfSA9IHByb3BzO1xuXG4gICAgaWYgKCF1c2VyRW1haWwudHJpbSgpKSB7XG4gICAgICB0b2FzdC5lcnJvcihcIlBsZWFzZSBlbnRlciB5b3VyIGVtYWlsIGFkZHJlc3NcIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gQmFzaWMgZW1haWwgdmFsaWRhdGlvblxuICAgIGNvbnN0IGVtYWlsUmVnZXggPSAvXlteXFxzQF0rQFteXFxzQF0rXFwuW15cXHNAXSskLztcbiAgICBpZiAoIWVtYWlsUmVnZXgudGVzdCh1c2VyRW1haWwpKSB7XG4gICAgICB0b2FzdC5lcnJvcihcIlBsZWFzZSBlbnRlciBhIHZhbGlkIGVtYWlsIGFkZHJlc3NcIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gVmFsaWRhdGUgY3VzdG9tIHN0eWxlIGlmIHNlbGVjdGVkXG4gICAgaWYgKHNlbGVjdGVkQXJ0aXN0aWNTdHlsZSA9PT0gXCJjdXN0b21cIiAmJiAhY3VzdG9tU3R5bGVEZXNjcmlwdGlvbi50cmltKCkpIHtcbiAgICAgIHRvYXN0LmVycm9yKFwiUGxlYXNlIGRlc2NyaWJlIHlvdXIgY3VzdG9tIGFydGlzdGljIHN0eWxlXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIFZhbGlkYXRlIHJlZmVyZW5jZSBpbWFnZXMgd2l0aCBtb2RlbCBjb21wYXRpYmlsaXR5XG4gICAgaWYgKHJlZmVyZW5jZUltYWdlVXJscy5sZW5ndGggPiAwICYmIHNlbGVjdGVkSW1hZ2VNb2RlbCAhPT0gXCJncHQtaW1hZ2UtMVwiKSB7XG4gICAgICB0b2FzdC5lcnJvcihcIlJlZmVyZW5jZSBwaG90b3MgYXJlIG9ubHkgc3VwcG9ydGVkIHdpdGggR1BUIEltYWdlIDEgbW9kZWwuIFBsZWFzZSBzd2l0Y2ggdG8gR1BUIEltYWdlIDEgaW4gQWR2YW5jZWQgT3B0aW9ucyBvciByZW1vdmUgcmVmZXJlbmNlIHBob3Rvcy5cIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gQ2xlYXIgYWxsIGRyYWZ0IG1vZGUgc3RhdGVzIHRvIHByZXZlbnQgVUkgY29uZmxpY3RzXG4gICAgc2V0SXNEcmFmdE1vZGUoZmFsc2UpO1xuICAgIHNldERyYWZ0Q2FyZHMoW251bGwsIG51bGwsIG51bGwsIG51bGwsIG51bGxdKTtcbiAgICBzZXRTZWxlY3RlZERyYWZ0SW5kZXgoLTEpO1xuICAgIHNldElzR2VuZXJhdGluZ0ZpbmFsQ2FyZChmYWxzZSk7XG4gICAgc2V0UHJldmlld2luZ0RyYWZ0SW5kZXgoLTEpO1xuICAgIHNldERyYWZ0Q29tcGxldGlvblNob3duKGZhbHNlKTtcbiAgICBzZXREcmFmdENvbXBsZXRpb25Db3VudCgwKTtcbiAgICBcbiAgICAvLyBDbGVhciBhbnkgZXhpc3RpbmcgY2FyZCBzdGF0ZXNcbiAgICBzZXRHZW5lcmF0ZWRDYXJkcyhbXSk7XG4gICAgc2V0R2VuZXJhdGVkQ2FyZChudWxsKTtcbiAgICBzZXRTZWxlY3RlZENhcmRJbmRleCgwKTtcbiAgICBzZXRDdXJyZW50Q2FyZElkKG51bGwpO1xuICAgIHNldElzQ2FyZENvbXBsZXRlZChmYWxzZSk7XG5cbiAgICAvLyBTdG9wIGFueSBleGlzdGluZyB0aW1lcnMgZmlyc3RcbiAgICBwcm9wcy5zdG9wRWxhcHNlZFRpbWVUcmFja2luZygpO1xuICAgIFxuICAgIHNldElzR2VuZXJhdGluZyh0cnVlKTtcbiAgICBzdGFydEVsYXBzZWRUaW1lVHJhY2tpbmcoJ2ZpbmFsJyk7XG4gICAgc2V0R2VuZXJhdGlvblByb2dyZXNzKFwiQ3JlYXRpbmcgeW91ciBwZXJzb25hbGl6ZWQgY2FyZC4uLlwiKTtcblxuICAgIHRyeSB7XG4gICAgICAvLyBDcmVhdGUgam9iIHRyYWNraW5nXG4gICAgICBjb25zdCBqb2JJZCA9IHV1aWR2NCgpO1xuICAgICAgc2V0Q3VycmVudEpvYklkKGpvYklkKTtcbiAgICAgIFxuICAgICAgY29uc3QgY2FyZFR5cGVGb3JQcm9tcHQgPSBzZWxlY3RlZFR5cGUgPT09IFwiY3VzdG9tXCIgPyBjdXN0b21DYXJkVHlwZSA6IHNlbGVjdGVkVHlwZTtcbiAgICAgIGNvbnN0IHNlbGVjdGVkVG9uZU9iaiA9IGNhcmRUb25lcy5maW5kKHRvbmUgPT4gdG9uZS5pZCA9PT0gc2VsZWN0ZWRUb25lKTtcbiAgICAgIGxldCBtZXNzYWdlQ29udGVudCA9IGZpbmFsQ2FyZE1lc3NhZ2U7XG4gICAgICBcbiAgICAgIC8vIEhhbmRsZSBtZXNzYWdlIGdlbmVyYXRpb24gaWYgbmVlZGVkXG4gICAgICBpZiAoaXNIYW5kd3JpdHRlbk1lc3NhZ2UpIHtcbiAgICAgICAgbWVzc2FnZUNvbnRlbnQgPSBcIltCbGFuayBzcGFjZSBmb3IgaGFuZHdyaXR0ZW4gbWVzc2FnZV1cIjtcbiAgICAgIH0gZWxzZSBpZiAoIW1lc3NhZ2VDb250ZW50LnRyaW0oKSAmJiAhaXNGcm9udEJhY2tPbmx5KSB7XG4gICAgICAgIHNldEdlbmVyYXRpb25Qcm9ncmVzcyhcIuKcje+4jyBXcml0aW5nIHRoZSBwZXJmZWN0IG1lc3NhZ2UuLi5cIik7XG4gICAgICAgIFxuICAgICAgICBjb25zdCBhdXRvTWVzc2FnZVByb21wdCA9IGBDcmVhdGUgYSBoZWFydGZlbHQgbWVzc2FnZSBmb3IgYSAke2NhcmRUeXBlRm9yUHJvbXB0fSBncmVldGluZyBjYXJkLlxuXG5DYXJkIFRoZW1lL0Rlc2NyaXB0aW9uOiBcIiR7cHJvbXB0IHx8IGBBIGJlYXV0aWZ1bCAke2NhcmRUeXBlRm9yUHJvbXB0fSBjYXJkYH1cIlxuJHt0b0ZpZWxkID8gYFJlY2lwaWVudDogJHt0b0ZpZWxkfWAgOiBcIlJlY2lwaWVudDogW25vdCBzcGVjaWZpZWRdXCJ9XG4ke2Zyb21GaWVsZCA/IGBTZW5kZXI6ICR7ZnJvbUZpZWxkfWAgOiBcIlNlbmRlcjogW25vdCBzcGVjaWZpZWRdXCJ9XG5cbkluc3RydWN0aW9uczpcbi0gV3JpdGUgYSBtZXNzYWdlIHRoYXQgZmVlbHMgcGVyc29uYWwgYW5kIGdlbnVpbmVcbi0gS2VlcCBpdCBjb25jaXNlIGJ1dCBtZWFuaW5nZnVsICgyLTQgc2VudGVuY2VzIGlkZWFsKVxuLSBNYWtlIGl0IGZlZWwgYXV0aGVudGljLCBub3QgZ2VuZXJpY1xuLSBLZWVwIGNvbnRlbnQgZmFtaWx5LWZyaWVuZGx5IGFuZCBhcHByb3ByaWF0ZSBmb3IgYWxsIGFnZXNcbi0gJHtmcm9tRmllbGQgPyBgRW5kIHRoZSBtZXNzYWdlIHdpdGggYSBzaWduYXR1cmUgbGluZSBsaWtlIFwiTG92ZSwgJHtmcm9tRmllbGR9XCIgb3IgXCItICR7ZnJvbUZpZWxkfVwiIG9yIHNpbWlsYXIsIG5hdHVyYWxseSBpbnRlZ3JhdGVkIGludG8gdGhlIG1lc3NhZ2UuYCA6IFwiXCJ9XG5cblJldHVybiBPTkxZIHRoZSBtZXNzYWdlIHRleHQgdGhhdCBzaG91bGQgYXBwZWFyIGluc2lkZSB0aGUgY2FyZC5cblxuSU1QT1JUQU5UOiBXcmFwIHlvdXIgZmluYWwgbWVzc2FnZSBpbiA8TUVTU0FHRT4gPC9NRVNTQUdFPiB0YWdzLmA7XG5cbiAgICAgICAgY29uc3QgZ2VuZXJhdGVkTWVzc2FnZSA9IGF3YWl0IGNoYXRXaXRoQUkoYXV0b01lc3NhZ2VQcm9tcHQsIHtcbiAgICAgICAgICBtb2RlbDogXCJnZW1pbmktMi41LXByb1wiLFxuICAgICAgICAgIGluY2x1ZGVUaG91Z2h0czogZmFsc2VcbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICBpZiAoZ2VuZXJhdGVkTWVzc2FnZT8udHJpbSgpKSB7XG4gICAgICAgICAgY29uc3QgbWVzc2FnZU1hdGNoID0gZ2VuZXJhdGVkTWVzc2FnZS5tYXRjaCgvPE1FU1NBR0U+KFtcXHNcXFNdKj8pPFxcL01FU1NBR0U+Lyk7XG4gICAgICAgICAgaWYgKG1lc3NhZ2VNYXRjaCAmJiBtZXNzYWdlTWF0Y2hbMV0pIHtcbiAgICAgICAgICAgIG1lc3NhZ2VDb250ZW50ID0gbWVzc2FnZU1hdGNoWzFdLnRyaW0oKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gR2VuZXJhdGUgc3R5bGUgYW5kIHBhcGVyIGNvbmZpZ1xuICAgICAgY29uc3Qgc2VsZWN0ZWRTdHlsZSA9IGFydGlzdGljU3R5bGVzLmZpbmQoc3R5bGUgPT4gc3R5bGUuaWQgPT09IHNlbGVjdGVkQXJ0aXN0aWNTdHlsZSk7XG4gICAgICBjb25zdCBzdHlsZU1vZGlmaWVyID0gc2VsZWN0ZWRBcnRpc3RpY1N0eWxlID09PSBcImN1c3RvbVwiIFxuICAgICAgICA/IGN1c3RvbVN0eWxlRGVzY3JpcHRpb24gXG4gICAgICAgIDogc2VsZWN0ZWRTdHlsZT8ucHJvbXB0TW9kaWZpZXIgfHwgXCJcIjtcblxuICAgICAgY29uc3QgcGFwZXJDb25maWcgPSBwYXBlclNpemVzLmZpbmQoc2l6ZSA9PiBzaXplLmlkID09PSBzZWxlY3RlZFBhcGVyU2l6ZSkgfHwgcGFwZXJTaXplc1swXTtcblxuICAgICAgc2V0R2VuZXJhdGlvblByb2dyZXNzKFwi8J+OqCBDcmVhdGluZyBhcnRpc3RpYyB2aXNpb24gZm9yIHlvdXIgY2FyZC4uLlwiKTtcblxuICAgICAgLy8gVXNlIHByb21wdCBpZiBwcm92aWRlZCwgb3RoZXJ3aXNlIGNyZWF0ZSBhIHNpbXBsZSBkZWZhdWx0XG4gICAgICBsZXQgZWZmZWN0aXZlUHJvbXB0ID0gcHJvbXB0LnRyaW0oKTtcbiAgICAgIFxuICAgICAgaWYgKCFlZmZlY3RpdmVQcm9tcHQpIHtcbiAgICAgICAgZWZmZWN0aXZlUHJvbXB0ID0gYEEgYmVhdXRpZnVsICR7Y2FyZFR5cGVGb3JQcm9tcHR9IGNhcmRgO1xuICAgICAgfVxuXG4gICAgICAvLyBVc2UgUHJvbXB0R2VuZXJhdG9yIGZvciBjYXJkIHByb21wdHNcbiAgICAgIGNvbnN0IGNhcmRDb25maWc6IENhcmRDb25maWcgPSB7XG4gICAgICAgIGNhcmRUeXBlOiBzZWxlY3RlZFR5cGUsXG4gICAgICAgIGN1c3RvbUNhcmRUeXBlOiBjdXN0b21DYXJkVHlwZSxcbiAgICAgICAgdG9uZTogc2VsZWN0ZWRUb25lLFxuICAgICAgICB0b25lRGVzY3JpcHRpb246IHNlbGVjdGVkVG9uZU9iaj8uZGVzY3JpcHRpb24udG9Mb3dlckNhc2UoKSB8fCBcImhlYXJ0ZmVsdCBhbmQgc2luY2VyZVwiLFxuICAgICAgICB0aGVtZTogZWZmZWN0aXZlUHJvbXB0LFxuICAgICAgICB0b0ZpZWxkOiB0b0ZpZWxkLFxuICAgICAgICBmcm9tRmllbGQ6IGZyb21GaWVsZCxcbiAgICAgICAgcmVsYXRpb25zaGlwRmllbGQ6IHByb3BzLnJlbGF0aW9uc2hpcEZpZWxkLFxuICAgICAgICBwZXJzb25hbFRyYWl0czogcHJvcHMucGVyc29uYWxUcmFpdHMsXG4gICAgICAgIG1lc3NhZ2U6IG1lc3NhZ2VDb250ZW50LFxuICAgICAgICBpc0hhbmR3cml0dGVuTWVzc2FnZTogaXNIYW5kd3JpdHRlbk1lc3NhZ2UsXG4gICAgICAgIGFydGlzdGljU3R5bGU6IHNlbGVjdGVkU3R5bGUsXG4gICAgICAgIHJlZmVyZW5jZUltYWdlVXJsczogcmVmZXJlbmNlSW1hZ2VVcmxzLFxuICAgICAgICBwaG90b1JlZmVyZW5jZXM6IHByb3BzLnBob3RvUmVmZXJlbmNlcyxcbiAgICAgICAgaXNGcm9udEJhY2tPbmx5OiBpc0Zyb250QmFja09ubHksXG4gICAgICAgIHNlbGVjdGVkSW1hZ2VNb2RlbDogc2VsZWN0ZWRJbWFnZU1vZGVsXG4gICAgICB9O1xuXG4gICAgICBjb25zdCBnZW5lcmF0ZWRQcm9tcHRzID0gUHJvbXB0R2VuZXJhdG9yLmdlbmVyYXRlQ2FyZFByb21wdHMoY2FyZENvbmZpZyk7XG5cbiAgICAgIC8vIEFwcGx5IHJlZmVyZW5jZSBwaG90byBlbmhhbmNlbWVudHMgZm9yIEdQVC0xXG4gICAgICBpZiAocmVmZXJlbmNlSW1hZ2VVcmxzLmxlbmd0aCA+IDAgJiYgc2VsZWN0ZWRJbWFnZU1vZGVsID09PSBcImdwdC0xXCIpIHtcbiAgICAgICAgZ2VuZXJhdGVkUHJvbXB0cy5mcm9udENvdmVyID0gUHJvbXB0R2VuZXJhdG9yLmVuaGFuY2VQcm9tcHRXaXRoUmVmZXJlbmNlUGhvdG9zKFxuICAgICAgICAgIGdlbmVyYXRlZFByb21wdHMuZnJvbnRDb3ZlciwgXG4gICAgICAgICAgdHJ1ZSwgXG4gICAgICAgICAgc2VsZWN0ZWRJbWFnZU1vZGVsXG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGZvcm1hdHRlZFByb21wdHMgPSB7XG4gICAgICAgIGZyb250Q292ZXI6IGdlbmVyYXRlZFByb21wdHMuZnJvbnRDb3ZlcixcbiAgICAgICAgYmFja0NvdmVyOiBnZW5lcmF0ZWRQcm9tcHRzLmJhY2tDb3ZlcixcbiAgICAgICAgLi4uKGlzRnJvbnRCYWNrT25seSA/IHt9IDoge1xuICAgICAgICAgIGxlZnRJbnRlcmlvcjogZ2VuZXJhdGVkUHJvbXB0cy5sZWZ0SW50ZXJpb3IsXG4gICAgICAgICAgcmlnaHRJbnRlcmlvcjogZ2VuZXJhdGVkUHJvbXB0cy5yaWdodEludGVyaW9yXG4gICAgICAgIH0pXG4gICAgICB9O1xuXG4gICAgICBpZiAoIWZvcm1hdHRlZFByb21wdHMgfHwgIWZvcm1hdHRlZFByb21wdHMuZnJvbnRDb3Zlcikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJGYWlsZWQgdG8gZ2VuZXJhdGUgaW1hZ2UgcHJvbXB0c1wiKTtcbiAgICAgIH1cblxuICAgICAgLy8gU2F2ZSBqb2IgZGF0YVxuICAgICAgY29uc3Qgam9iRGF0YSA9IHtcbiAgICAgICAgcHJvbXB0OiBwcm9tcHQgfHwgYEEgYmVhdXRpZnVsICR7Y2FyZFR5cGVGb3JQcm9tcHR9IGNhcmRgLFxuICAgICAgICBzZWxlY3RlZFR5cGUsXG4gICAgICAgIGN1c3RvbUNhcmRUeXBlLFxuICAgICAgICBzZWxlY3RlZFRvbmUsXG4gICAgICAgIGZpbmFsQ2FyZE1lc3NhZ2U6IG1lc3NhZ2VDb250ZW50LFxuICAgICAgICB0b0ZpZWxkLFxuICAgICAgICBmcm9tRmllbGQsXG4gICAgICAgIHVzZXJFbWFpbCxcbiAgICAgICAgc2VsZWN0ZWRBcnRpc3RpY1N0eWxlLFxuICAgICAgICBjdXN0b21TdHlsZURlc2NyaXB0aW9uLFxuICAgICAgICBzZWxlY3RlZEltYWdlTW9kZWwsXG4gICAgICAgIGlzRnJvbnRCYWNrT25seSxcbiAgICAgICAgbnVtYmVyT2ZDYXJkcyxcbiAgICAgICAgc2VsZWN0ZWRQYXBlclNpemUsXG4gICAgICAgIHByb21wdHM6IGZvcm1hdHRlZFByb21wdHMsXG4gICAgICAgIHBhcGVyQ29uZmlnXG4gICAgICB9O1xuICAgICAgXG4gICAgICBzYXZlSm9iVG9TdG9yYWdlKGpvYklkLCBqb2JEYXRhKTtcbiAgICAgIFxuICAgICAgc2V0R2VuZXJhdGlvblByb2dyZXNzKFwi8J+agCBTdGFydGluZyBiYWNrZ3JvdW5kIGdlbmVyYXRpb24uLi5cIik7XG4gICAgICBcbiAgICAgIC8vIFByZXBhcmUgaW5wdXQgaW1hZ2VzIGZvciByZWZlcmVuY2UgcGhvdG8gc3VwcG9ydFxuICAgICAgY29uc3QgaW5wdXRJbWFnZXM6IHN0cmluZ1tdID0gW107XG4gICAgICBpZiAocmVmZXJlbmNlSW1hZ2VVcmxzLmxlbmd0aCA+IDAgJiYgc2VsZWN0ZWRJbWFnZU1vZGVsID09PSBcImdwdC1pbWFnZS0xXCIpIHtcbiAgICAgICAgaW5wdXRJbWFnZXMucHVzaCguLi5yZWZlcmVuY2VJbWFnZVVybHMpO1xuICAgICAgfVxuXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCcvYXBpL2dlbmVyYXRlLWNhcmQtYXN5bmMnLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgIGpvYklkLFxuICAgICAgICAgIHByb21wdHM6IGZvcm1hdHRlZFByb21wdHMsXG4gICAgICAgICAgY29uZmlnOiB7XG4gICAgICAgICAgICB1c2VyTnVtYmVyOiBcIisxNzE0NTk4NjEwNVwiLFxuICAgICAgICAgICAgbW9kZWxWZXJzaW9uOiBzZWxlY3RlZEltYWdlTW9kZWwsXG4gICAgICAgICAgICBhc3BlY3RSYXRpbzogcGFwZXJDb25maWcuYXNwZWN0UmF0aW8sXG4gICAgICAgICAgICBxdWFsaXR5OiBcImhpZ2hcIixcbiAgICAgICAgICAgIG91dHB1dEZvcm1hdDogXCJqcGVnXCIsXG4gICAgICAgICAgICBvdXRwdXRDb21wcmVzc2lvbjogMTAwLFxuICAgICAgICAgICAgbW9kZXJhdGlvbjogXCJsb3dcIixcbiAgICAgICAgICAgIGRpbWVuc2lvbnM6IHBhcGVyQ29uZmlnLmRpbWVuc2lvbnMsXG4gICAgICAgICAgICBpc0Zyb250QmFja09ubHksXG4gICAgICAgICAgICB1c2VyRW1haWwsXG4gICAgICAgICAgICBjYXJkVHlwZTogY2FyZFR5cGVGb3JQcm9tcHQsXG4gICAgICAgICAgICB0b0ZpZWxkLFxuICAgICAgICAgICAgZnJvbUZpZWxkLFxuICAgICAgICAgICAgaXNEcmFmdE1vZGU6IGZhbHNlLFxuICAgICAgICAgICAgLi4uKGlucHV0SW1hZ2VzLmxlbmd0aCA+IDAgJiYgeyBcbiAgICAgICAgICAgICAgaW5wdXRfaW1hZ2VzOiBpbnB1dEltYWdlcyxcbiAgICAgICAgICAgICAgaW5wdXRfaW1hZ2VzX21vZGU6IFwiZnJvbnRfY292ZXJfb25seVwiXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIC8vIEluY2x1ZGUgbWVzc2FnZSBkYXRhIGZvciBoYW5kd3JpdHRlbiBvdmVybGF5XG4gICAgICAgICAgICAuLi4oaXNIYW5kd3JpdHRlbk1lc3NhZ2UgJiYge1xuICAgICAgICAgICAgICBtZXNzYWdlOiBmaW5hbENhcmRNZXNzYWdlLFxuICAgICAgICAgICAgICBpc0hhbmR3cml0dGVuTWVzc2FnZTogdHJ1ZSxcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgfSk7XG5cbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBTZXJ2ZXIgZXJyb3I6ICR7cmVzcG9uc2Uuc3RhdHVzfWApO1xuICAgICAgfVxuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICBcbiAgICAgIGlmIChyZXN1bHQuc3RhdHVzICE9PSAncHJvY2Vzc2luZycpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKHJlc3VsdC5tZXNzYWdlIHx8ICdGYWlsZWQgdG8gc3RhcnQgY2FyZCBnZW5lcmF0aW9uJyk7XG4gICAgICB9XG5cbiAgICAgIHNldEdlbmVyYXRpb25Qcm9ncmVzcyhcIuKcqCBCcmluZ2luZyB5b3VyIHZpc2lvbiB0byBsaWZlLi4uXCIpO1xuICAgICAgdG9hc3Quc3VjY2VzcyhcIvCfjokgQ2FyZCBnZW5lcmF0aW9uIHN0YXJ0ZWQhXCIpO1xuICAgICAgXG4gICAgICAvLyBTdWJzY3JpYmUgdG8gV2ViU29ja2V0IHVwZGF0ZXMgZm9yIHJlYWwtdGltZSBwcm9ncmVzc1xuICAgICAgc3Vic2NyaWJlVG9Kb2Ioam9iSWQpO1xuXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0NhcmQgZ2VuZXJhdGlvbiBlcnJvcjonLCBlcnJvcik7XG4gICAgICB0b2FzdC5lcnJvcihcIkZhaWxlZCB0byBnZW5lcmF0ZSBjYXJkLiBQbGVhc2UgdHJ5IGFnYWluLlwiKTtcbiAgICAgIFxuICAgICAgaWYgKGN1cnJlbnRDYXJkSWQpIHtcbiAgICAgICAgcHJvcHMucmVtb3ZlSm9iRnJvbVN0b3JhZ2UoY3VycmVudENhcmRJZCk7XG4gICAgICAgIHNldEN1cnJlbnRDYXJkSWQobnVsbCk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIHNldElzR2VuZXJhdGluZyhmYWxzZSk7XG4gICAgICBzZXRHZW5lcmF0aW9uUHJvZ3Jlc3MoXCJcIik7XG4gICAgICBwcm9wcy5zdG9wRWxhcHNlZFRpbWVUcmFja2luZygpO1xuICAgIH1cbiAgfSwgW3Byb3BzLCBjdXJyZW50Q2FyZElkXSk7XG5cbiAgcmV0dXJuIHtcbiAgICBpc0dlbmVyYXRpbmcsXG4gICAgc2V0SXNHZW5lcmF0aW5nLFxuICAgIGdlbmVyYXRlZENhcmQsXG4gICAgc2V0R2VuZXJhdGVkQ2FyZCxcbiAgICBnZW5lcmF0ZWRDYXJkcyxcbiAgICBzZXRHZW5lcmF0ZWRDYXJkcyxcbiAgICBzZWxlY3RlZENhcmRJbmRleCxcbiAgICBzZXRTZWxlY3RlZENhcmRJbmRleCxcbiAgICBpc0NhcmRDb21wbGV0ZWQsXG4gICAgc2V0SXNDYXJkQ29tcGxldGVkLFxuICAgIGdlbmVyYXRpb25Qcm9ncmVzcyxcbiAgICBzZXRHZW5lcmF0aW9uUHJvZ3Jlc3MsXG4gICAgY3VycmVudENhcmRJZCxcbiAgICBzZXRDdXJyZW50Q2FyZElkLFxuICAgIGdlbmVyYXRpb25EdXJhdGlvbixcbiAgICBzZXRHZW5lcmF0aW9uRHVyYXRpb24sXG4gICAgaGFuZGxlR2VuZXJhdGVDYXJkQXN5bmMsXG4gICAgaGFuZGxlRmluYWxDYXJkQ29tcGxldGlvblxuICB9O1xufSJdLCJuYW1lcyI6WyJ1c2VTdGF0ZSIsInVzZUNhbGxiYWNrIiwidG9hc3QiLCJ2NCIsInV1aWR2NCIsIlByb21wdEdlbmVyYXRvciIsImNhcmRUb25lcyIsImFydGlzdGljU3R5bGVzIiwicGFwZXJTaXplcyIsImNoYXRXaXRoQUkiLCJzY3JvbGxUb0NhcmRQcmV2aWV3IiwidXNlQ2FyZEdlbmVyYXRpb24iLCJwcm9wcyIsImlzR2VuZXJhdGluZyIsInNldElzR2VuZXJhdGluZyIsImdlbmVyYXRlZENhcmQiLCJzZXRHZW5lcmF0ZWRDYXJkIiwiZ2VuZXJhdGVkQ2FyZHMiLCJzZXRHZW5lcmF0ZWRDYXJkcyIsInNlbGVjdGVkQ2FyZEluZGV4Iiwic2V0U2VsZWN0ZWRDYXJkSW5kZXgiLCJpc0NhcmRDb21wbGV0ZWQiLCJzZXRJc0NhcmRDb21wbGV0ZWQiLCJnZW5lcmF0aW9uUHJvZ3Jlc3MiLCJzZXRHZW5lcmF0aW9uUHJvZ3Jlc3MiLCJjdXJyZW50Q2FyZElkIiwic2V0Q3VycmVudENhcmRJZCIsImdlbmVyYXRpb25EdXJhdGlvbiIsInNldEdlbmVyYXRpb25EdXJhdGlvbiIsImhhbmRsZUZpbmFsQ2FyZENvbXBsZXRpb24iLCJjYXJkRGF0YSIsImNvbnNvbGUiLCJsb2ciLCJ1c2VyRW1haWwiLCJjYXJkV2l0aFFSIiwiY3JlYXRlZEF0IiwiRGF0ZSIsImlkIiwibm93IiwiTWF0aCIsInJhbmRvbSIsInRvU3RyaW5nIiwic3Vic3RyIiwiaXNIYW5kd3JpdHRlbk1lc3NhZ2UiLCJtZXNzYWdlIiwiZmluYWxDYXJkTWVzc2FnZSIsInNldElzR2VuZXJhdGluZ0ZpbmFsQ2FyZCIsInNldElzRHJhZnRNb2RlIiwic2V0RHJhZnRDb21wbGV0aW9uU2hvd24iLCJzZXREcmFmdENvbXBsZXRpb25Db3VudCIsImdlbmVyYXRpb25UaW1lU2Vjb25kcyIsInN0b3BFbGFwc2VkVGltZVRyYWNraW5nIiwic2V0VGltZW91dCIsInN1Y2Nlc3MiLCJ0cmltIiwiZHVyYXRpb24iLCJoYW5kbGVHZW5lcmF0ZUNhcmRBc3luYyIsInNlbGVjdGVkVHlwZSIsImN1c3RvbUNhcmRUeXBlIiwic2VsZWN0ZWRUb25lIiwic2VsZWN0ZWRBcnRpc3RpY1N0eWxlIiwiY3VzdG9tU3R5bGVEZXNjcmlwdGlvbiIsInNlbGVjdGVkSW1hZ2VNb2RlbCIsInJlZmVyZW5jZUltYWdlVXJscyIsInByb21wdCIsInRvRmllbGQiLCJmcm9tRmllbGQiLCJpc0Zyb250QmFja09ubHkiLCJzZWxlY3RlZFBhcGVyU2l6ZSIsIm51bWJlck9mQ2FyZHMiLCJzYXZlSm9iVG9TdG9yYWdlIiwic3Vic2NyaWJlVG9Kb2IiLCJzdGFydEVsYXBzZWRUaW1lVHJhY2tpbmciLCJzZXRDdXJyZW50Sm9iSWQiLCJzZXREcmFmdENhcmRzIiwic2V0U2VsZWN0ZWREcmFmdEluZGV4Iiwic2V0UHJldmlld2luZ0RyYWZ0SW5kZXgiLCJlcnJvciIsImVtYWlsUmVnZXgiLCJ0ZXN0IiwibGVuZ3RoIiwiam9iSWQiLCJjYXJkVHlwZUZvclByb21wdCIsInNlbGVjdGVkVG9uZU9iaiIsImZpbmQiLCJ0b25lIiwibWVzc2FnZUNvbnRlbnQiLCJhdXRvTWVzc2FnZVByb21wdCIsImdlbmVyYXRlZE1lc3NhZ2UiLCJtb2RlbCIsImluY2x1ZGVUaG91Z2h0cyIsIm1lc3NhZ2VNYXRjaCIsIm1hdGNoIiwic2VsZWN0ZWRTdHlsZSIsInN0eWxlIiwic3R5bGVNb2RpZmllciIsInByb21wdE1vZGlmaWVyIiwicGFwZXJDb25maWciLCJzaXplIiwiZWZmZWN0aXZlUHJvbXB0IiwiY2FyZENvbmZpZyIsImNhcmRUeXBlIiwidG9uZURlc2NyaXB0aW9uIiwiZGVzY3JpcHRpb24iLCJ0b0xvd2VyQ2FzZSIsInRoZW1lIiwicmVsYXRpb25zaGlwRmllbGQiLCJwZXJzb25hbFRyYWl0cyIsImFydGlzdGljU3R5bGUiLCJwaG90b1JlZmVyZW5jZXMiLCJnZW5lcmF0ZWRQcm9tcHRzIiwiZ2VuZXJhdGVDYXJkUHJvbXB0cyIsImZyb250Q292ZXIiLCJlbmhhbmNlUHJvbXB0V2l0aFJlZmVyZW5jZVBob3RvcyIsImZvcm1hdHRlZFByb21wdHMiLCJiYWNrQ292ZXIiLCJsZWZ0SW50ZXJpb3IiLCJyaWdodEludGVyaW9yIiwiRXJyb3IiLCJqb2JEYXRhIiwicHJvbXB0cyIsImlucHV0SW1hZ2VzIiwicHVzaCIsInJlc3BvbnNlIiwiZmV0Y2giLCJtZXRob2QiLCJoZWFkZXJzIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJjb25maWciLCJ1c2VyTnVtYmVyIiwibW9kZWxWZXJzaW9uIiwiYXNwZWN0UmF0aW8iLCJxdWFsaXR5Iiwib3V0cHV0Rm9ybWF0Iiwib3V0cHV0Q29tcHJlc3Npb24iLCJtb2RlcmF0aW9uIiwiZGltZW5zaW9ucyIsImlzRHJhZnRNb2RlIiwiaW5wdXRfaW1hZ2VzIiwiaW5wdXRfaW1hZ2VzX21vZGUiLCJvayIsInN0YXR1cyIsInJlc3VsdCIsImpzb24iLCJyZW1vdmVKb2JGcm9tU3RvcmFnZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./hooks/cardStudio/useCardGeneration.ts\n");

/***/ }),

/***/ "(ssr)/./hooks/cardStudio/useDraftGeneration.ts":
/*!************************************************!*\
  !*** ./hooks/cardStudio/useDraftGeneration.ts ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useDraftGeneration: () => (/* binding */ useDraftGeneration)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var sonner__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! sonner */ \"(ssr)/./node_modules/sonner/dist/index.mjs\");\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! uuid */ \"(ssr)/./node_modules/uuid/dist/esm/v4.js\");\n/* harmony import */ var _lib_promptGenerator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/promptGenerator */ \"(ssr)/./lib/promptGenerator.ts\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./constants */ \"(ssr)/./hooks/cardStudio/constants.ts\");\n/* __next_internal_client_entry_do_not_use__ useDraftGeneration auto */ \n\n\n\n\nfunction useDraftGeneration(props) {\n    // Draft mode state\n    const [isDraftMode, setIsDraftMode] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [draftCards, setDraftCards] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]);\n    const [selectedDraftIndex, setSelectedDraftIndex] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(-1);\n    const [isGeneratingFinalCard, setIsGeneratingFinalCard] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [previewingDraftIndex, setPreviewingDraftIndex] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(-1);\n    const [draftCompletionShown, setDraftCompletionShown] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [draftCompletionCount, setDraftCompletionCount] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(0);\n    const [isGenerating, setIsGenerating] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [generationProgress, setGenerationProgress] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(\"\");\n    const [generatedCard, setGeneratedCard] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [generatedCards, setGeneratedCards] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]);\n    const [isCardCompleted, setIsCardCompleted] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [currentJobId, setCurrentJobId] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    // Draft mode generation - creates 5 front cover variations\n    const handleGenerateDraftCards = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(async ()=>{\n        const { userEmail, selectedArtisticStyle, customStyleDescription, referenceImageUrls, selectedDraftModel, selectedType, customCardType, selectedTone, prompt, personalTraits, toField, fromField, selectedPaperSize, finalCardMessage, isHandwrittenMessage, isFrontBackOnly, saveJobToStorage, subscribeToJob, startElapsedTimeTracking } = props;\n        if (!userEmail.trim()) {\n            sonner__WEBPACK_IMPORTED_MODULE_1__.toast.error(\"Please enter your email address\");\n            return;\n        }\n        // Basic email validation\n        const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n        if (!emailRegex.test(userEmail)) {\n            sonner__WEBPACK_IMPORTED_MODULE_1__.toast.error(\"Please enter a valid email address\");\n            return;\n        }\n        // Validate custom style if selected\n        if (selectedArtisticStyle === \"custom\" && !customStyleDescription.trim()) {\n            sonner__WEBPACK_IMPORTED_MODULE_1__.toast.error(\"Please describe your custom artistic style\");\n            return;\n        }\n        // Validate reference images with model compatibility\n        if (referenceImageUrls.length > 0 && selectedDraftModel !== \"gpt-image-1\") {\n            sonner__WEBPACK_IMPORTED_MODULE_1__.toast.error(\"Reference photos are only supported with GPT Image 1 model. Please switch to GPT Image 1 for draft mode or remove reference photos.\");\n            return;\n        }\n        // Stop any existing timers first\n        props.stopElapsedTimeTracking();\n        // Clear ALL WebSocket subscriptions before starting\n        if (props.unsubscribeFromAllJobs) {\n            props.unsubscribeFromAllJobs();\n        }\n        // No longer need to clear old draft jobs - storage manager handles this automatically\n        setIsDraftMode(true);\n        setIsGenerating(true);\n        startElapsedTimeTracking(\"draft\");\n        setGenerationProgress(\"\\uD83C\\uDFA8 Creating 5 front cover variations for you to choose from...\");\n        setDraftCards([\n            null,\n            null,\n            null,\n            null,\n            null\n        ]); // Initialize with 5 empty slots\n        setSelectedDraftIndex(-1);\n        setDraftCompletionShown(false);\n        setDraftCompletionCount(0);\n        // Clear any previous card state\n        setGeneratedCard(null);\n        setGeneratedCards([]);\n        setIsCardCompleted(false);\n        try {\n            console.log(\"\\uD83D\\uDE80 Starting draft mode generation with 5 variations\");\n            const cardTypeForPrompt = selectedType === \"custom\" ? customCardType : selectedType;\n            const selectedToneObj = _constants__WEBPACK_IMPORTED_MODULE_3__.cardTones.find((tone)=>tone.id === selectedTone);\n            const toneDescription = selectedToneObj ? selectedToneObj.description.toLowerCase() : \"heartfelt and sincere\";\n            // Use prompt if provided, otherwise create a simple default\n            let effectivePrompt = prompt.trim();\n            if (!effectivePrompt) {\n                effectivePrompt = `A beautiful ${cardTypeForPrompt} card with ${toneDescription} style`;\n            }\n            // Generate 5 draft variations\n            const draftPromises = Array.from({\n                length: 5\n            }, async (_, index)=>{\n                try {\n                    console.log(`🎨 Starting draft variation ${index + 1}`);\n                    // Validate required props\n                    if (!selectedDraftModel) {\n                        throw new Error(\"selectedDraftModel is required but not provided\");\n                    }\n                    if (!selectedPaperSize) {\n                        throw new Error(\"selectedPaperSize is required but not provided\");\n                    }\n                    if (!userEmail) {\n                        throw new Error(\"userEmail is required but not provided\");\n                    }\n                    // For smart style, use predefined styles\n                    let styleOverride = undefined;\n                    let styleLabel = undefined;\n                    if (selectedArtisticStyle === \"ai-smart-style\") {\n                        const predefinedStyles = [\n                            \"watercolor\",\n                            \"botanical\",\n                            \"comic-book\",\n                            \"dreamy-fantasy\",\n                            \"minimalist\"\n                        ];\n                        const styleLabels = [\n                            \"\\uD83C\\uDFA8 Watercolor\",\n                            \"\\uD83C\\uDF3F Botanical\",\n                            \"\\uD83D\\uDCA5 Comic Book\",\n                            \"\\uD83C\\uDF38 Dreamy Fantasy\",\n                            \"✨ Minimalist\"\n                        ];\n                        styleOverride = predefinedStyles[index];\n                        styleLabel = styleLabels[index];\n                    }\n                    // Generate only front cover prompt for draft\n                    const selectedStyle = _constants__WEBPACK_IMPORTED_MODULE_3__.artisticStyles.find((style)=>style.id === (styleOverride || selectedArtisticStyle));\n                    // Use draft prompt generation config for front cover only\n                    const draftConfig = {\n                        cardType: selectedType,\n                        customCardType: customCardType,\n                        tone: selectedTone,\n                        toneLabel: selectedToneObj ? selectedToneObj.label : \"Heartfelt\",\n                        toneDescription: toneDescription,\n                        theme: effectivePrompt,\n                        toField: toField,\n                        fromField: fromField,\n                        relationshipField: props.relationshipField,\n                        personalTraits: props.personalTraits,\n                        artisticStyle: selectedStyle,\n                        referenceImageUrls: referenceImageUrls,\n                        photoReferences: props.photoReferences,\n                        isDraftVariation: selectedArtisticStyle === \"ai-smart-style\",\n                        variationIndex: index\n                    };\n                    // Generate creative front cover prompt using AI\n                    const frontCoverPrompt = await _lib_promptGenerator__WEBPACK_IMPORTED_MODULE_2__.PromptGenerator.generateCreativeDraftPrompt(draftConfig);\n                    if (!frontCoverPrompt?.trim()) {\n                        throw new Error(\"Failed to generate front cover prompt\");\n                    }\n                    // Generate the images\n                    const jobId = `draft-${index}-${(0,uuid__WEBPACK_IMPORTED_MODULE_4__[\"default\"])()}`;\n                    const inputImages = [];\n                    if (referenceImageUrls.length > 0 && selectedDraftModel === \"gpt-image-1\") {\n                        inputImages.push(...referenceImageUrls);\n                    }\n                    // Log the request payload for debugging\n                    const requestPayload = {\n                        jobId,\n                        prompts: {\n                            frontCover: frontCoverPrompt\n                        },\n                        config: {\n                            userNumber: \"+17145986105\",\n                            modelVersion: selectedDraftModel,\n                            aspectRatio: _constants__WEBPACK_IMPORTED_MODULE_3__.paperSizes.find((size)=>size.id === selectedPaperSize)?.aspectRatio || \"9:16\",\n                            quality: \"medium\",\n                            outputFormat: \"jpeg\",\n                            outputCompression: 100,\n                            moderation: \"low\",\n                            dimensions: _constants__WEBPACK_IMPORTED_MODULE_3__.paperSizes.find((size)=>size.id === selectedPaperSize)?.dimensions || \"1024x1536\",\n                            isFrontBackOnly: true,\n                            userEmail,\n                            cardType: cardTypeForPrompt,\n                            toField,\n                            fromField,\n                            isDraftMode: true,\n                            ...inputImages.length > 0 && {\n                                input_images: inputImages,\n                                input_images_mode: \"front_cover_only\"\n                            }\n                        }\n                    };\n                    console.log(`📦 Draft ${index + 1} request payload:`, {\n                        jobId,\n                        promptsExist: !!frontCoverPrompt,\n                        promptKeys: [\n                            \"frontCover\"\n                        ],\n                        modelVersion: selectedDraftModel,\n                        paperSize: selectedPaperSize,\n                        email: userEmail\n                    });\n                    const response = await fetch(\"/api/generate-card-async\", {\n                        method: \"POST\",\n                        headers: {\n                            \"Content-Type\": \"application/json\"\n                        },\n                        body: JSON.stringify(requestPayload)\n                    });\n                    if (!response.ok) {\n                        const errorText = await response.text();\n                        console.error(`Server error response for draft ${index + 1}:`, errorText);\n                        throw new Error(`Server error: ${response.status} - ${errorText}`);\n                    }\n                    const result = await response.json();\n                    if (result.status !== \"processing\") {\n                        throw new Error(result.message || \"Failed to start draft generation\");\n                    }\n                    console.log(`✅ Draft variation ${index + 1} job started:`, jobId);\n                    // Save draft job to storage for recovery\n                    saveJobToStorage(jobId, {\n                        isDraft: true,\n                        draftIndex: index,\n                        styleInfo: styleOverride ? {\n                            styleName: styleOverride,\n                            styleLabel: styleLabel\n                        } : undefined,\n                        frontCoverPrompt: frontCoverPrompt,\n                        generatedPrompts: {\n                            frontCover: frontCoverPrompt\n                        },\n                        userEmail,\n                        selectedType,\n                        selectedTone,\n                        toField,\n                        fromField,\n                        draftCards: [] // Will be updated as drafts complete\n                    });\n                    // Subscribe to WebSocket updates\n                    subscribeToJob(jobId);\n                } catch (error) {\n                    console.error(`❌ Draft variation ${index + 1} failed:`, error);\n                    console.error(\"Full error details:\", {\n                        message: error instanceof Error ? error.message : \"Unknown error\",\n                        stack: error instanceof Error ? error.stack : \"No stack trace\",\n                        error: error\n                    });\n                    sonner__WEBPACK_IMPORTED_MODULE_1__.toast.error(`Draft variation ${index + 1} failed: ${error instanceof Error ? error.message : \"Unknown error\"}`);\n                }\n            });\n            // Wait for all draft generations to start\n            await Promise.allSettled(draftPromises);\n            console.log(\"\\uD83D\\uDE80 All draft variations started\");\n        } catch (error) {\n            console.error(\"Draft card generation error:\", error);\n            sonner__WEBPACK_IMPORTED_MODULE_1__.toast.error(`Failed to start draft generation: ${error instanceof Error ? error.message : \"Unknown error\"}`);\n            setIsGenerating(false);\n            setIsDraftMode(false);\n            setDraftCompletionShown(false);\n            setDraftCompletionCount(0);\n            setGenerationProgress(\"\");\n            props.stopElapsedTimeTracking();\n        }\n    }, [\n        props\n    ]);\n    // Generate final high-quality card from selected draft\n    const handleGenerateFinalFromDraft = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(async (displayIndex)=>{\n        // Prevent duplicate calls\n        if (isGeneratingFinalCard) {\n            console.log(\"⚠️ Final card generation already in progress, skipping duplicate call\");\n            return;\n        }\n        const selectedDraft = draftCards[displayIndex];\n        if (!selectedDraft) {\n            sonner__WEBPACK_IMPORTED_MODULE_1__.toast.error(\"Please wait for the draft to complete before selecting\");\n            return;\n        }\n        const { selectedType, customCardType, selectedTone, prompt, personalTraits, toField, fromField, finalCardMessage, isHandwrittenMessage, selectedArtisticStyle, customStyleDescription, isFrontBackOnly, selectedImageModel, selectedPaperSize, userEmail, referenceImageUrls, startElapsedTimeTracking, subscribeToJob } = props;\n        // Stop any existing timers first\n        props.stopElapsedTimeTracking();\n        setIsGeneratingFinalCard(true);\n        setIsDraftMode(false); // Switch out of draft mode for final generation\n        setSelectedDraftIndex(displayIndex);\n        startElapsedTimeTracking(\"final\");\n        setGenerationProgress(\"\\uD83C\\uDFA8 Creating the complete card based on your selected front cover...\");\n        try {\n            const jobId = (0,uuid__WEBPACK_IMPORTED_MODULE_4__[\"default\"])();\n            // Generate the missing prompts\n            const storedFrontCoverPrompt = selectedDraft.generatedPrompts?.frontCover;\n            if (!storedFrontCoverPrompt) {\n                throw new Error(\"Selected draft is missing frontCover prompt\");\n            }\n            const cardTypeForPrompt = selectedType === \"custom\" ? customCardType : selectedType;\n            const selectedToneObj = _constants__WEBPACK_IMPORTED_MODULE_3__.cardTones.find((tone)=>tone.id === selectedTone);\n            const toneDescription = selectedToneObj ? selectedToneObj.description.toLowerCase() : \"heartfelt and sincere\";\n            const effectivePrompt = prompt.trim() || `A beautiful ${cardTypeForPrompt} card with ${toneDescription} style`;\n            let messageContent = finalCardMessage;\n            if (isHandwrittenMessage) {\n                messageContent = \"[Blank space for handwritten message]\";\n            }\n            // Get style from the selected draft\n            const draftStyleInfo = selectedDraft.styleInfo;\n            let selectedStyle;\n            if (draftStyleInfo && draftStyleInfo.styleName) {\n                selectedStyle = _constants__WEBPACK_IMPORTED_MODULE_3__.artisticStyles.find((style)=>style.id === draftStyleInfo.styleName);\n            } else {\n                selectedStyle = _constants__WEBPACK_IMPORTED_MODULE_3__.artisticStyles.find((style)=>style.id === selectedArtisticStyle);\n            }\n            // Use PromptGenerator for final card from draft\n            const finalFromDraftConfig = {\n                frontCoverPrompt: storedFrontCoverPrompt,\n                cardType: selectedType,\n                customCardType: customCardType,\n                theme: effectivePrompt,\n                tone: selectedTone,\n                toneDescription: toneDescription,\n                toField: toField,\n                fromField: fromField,\n                relationshipField: props.relationshipField,\n                personalTraits: props.personalTraits,\n                photoReferences: props.photoReferences,\n                message: messageContent,\n                isHandwrittenMessage: isHandwrittenMessage,\n                artisticStyle: selectedStyle,\n                isFrontBackOnly: isFrontBackOnly\n            };\n            const finalPrompts = await _lib_promptGenerator__WEBPACK_IMPORTED_MODULE_2__.PromptGenerator.generateFinalFromDraftPromptsCombined(finalFromDraftConfig);\n            if (!finalPrompts || !finalPrompts.frontCover || !finalPrompts.backCover) {\n                throw new Error(\"Failed to generate complete prompts for final card\");\n            }\n            // Prepare input images for final generation\n            const inputImages = [];\n            // Add the selected draft's front cover as a reference image for the final front cover\n            if (selectedDraft.frontCover) {\n                inputImages.push(selectedDraft.frontCover);\n                console.log(\"\\uD83D\\uDDBC️ Adding draft front cover as reference for final front cover generation\");\n            }\n            // Also include any user-uploaded reference images\n            if (referenceImageUrls.length > 0 && selectedImageModel === \"gpt-image-1\") {\n                inputImages.push(...referenceImageUrls);\n            }\n            const response = await fetch(\"/api/generate-card-async\", {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                    jobId,\n                    prompts: finalPrompts,\n                    config: {\n                        userNumber: \"+17145986105\",\n                        modelVersion: selectedImageModel,\n                        aspectRatio: _constants__WEBPACK_IMPORTED_MODULE_3__.paperSizes.find((size)=>size.id === selectedPaperSize)?.aspectRatio || \"9:16\",\n                        quality: \"high\",\n                        outputFormat: \"jpeg\",\n                        outputCompression: 100,\n                        moderation: \"low\",\n                        dimensions: _constants__WEBPACK_IMPORTED_MODULE_3__.paperSizes.find((size)=>size.id === selectedPaperSize)?.dimensions || \"1024x1536\",\n                        isFrontBackOnly,\n                        userEmail,\n                        cardType: selectedType === \"custom\" ? customCardType : selectedType,\n                        toField,\n                        fromField,\n                        isDraftMode: false,\n                        ...inputImages.length > 0 && {\n                            input_images: inputImages,\n                            input_images_mode: \"front_cover_only\" // Use images as reference for front cover only\n                        }\n                    }\n                })\n            });\n            if (!response.ok) {\n                throw new Error(`Server error: ${response.status}`);\n            }\n            const result = await response.json();\n            if (result.status !== \"processing\") {\n                throw new Error(result.message || \"Failed to start final card generation\");\n            }\n            setCurrentJobId(jobId);\n            // Save job data for recovery\n            const jobData = {\n                jobId,\n                selectedDraftIndex: displayIndex,\n                cardType: selectedType,\n                customCardType,\n                tone: selectedTone,\n                prompt,\n                personalTraits,\n                toField,\n                fromField,\n                finalCardMessage,\n                isHandwrittenMessage,\n                selectedArtisticStyle,\n                isFrontBackOnly,\n                selectedPaperSize,\n                userEmail,\n                referenceImageUrls\n            };\n            props.saveJobToStorage(jobId, jobData);\n            sonner__WEBPACK_IMPORTED_MODULE_1__.toast.success(\"\\uD83C\\uDFA8 Generating high-quality version of your selected design!\");\n            // Subscribe to WebSocket updates\n            subscribeToJob(jobId);\n        } catch (error) {\n            console.error(\"Final card generation error:\", error);\n            sonner__WEBPACK_IMPORTED_MODULE_1__.toast.error(\"Failed to generate final card. Please try again.\");\n            setIsGeneratingFinalCard(false);\n            setGenerationProgress(\"\");\n            props.stopElapsedTimeTracking(); // Clear time-based progress on error\n        }\n    }, [\n        draftCards,\n        isGeneratingFinalCard,\n        props\n    ]);\n    return {\n        isDraftMode,\n        setIsDraftMode,\n        draftCards,\n        setDraftCards,\n        selectedDraftIndex,\n        setSelectedDraftIndex,\n        isGeneratingFinalCard,\n        setIsGeneratingFinalCard,\n        previewingDraftIndex,\n        setPreviewingDraftIndex,\n        draftCompletionShown,\n        setDraftCompletionShown,\n        draftCompletionCount,\n        setDraftCompletionCount,\n        handleGenerateDraftCards,\n        handleGenerateFinalFromDraft,\n        isGenerating,\n        setIsGenerating,\n        generationProgress,\n        setGenerationProgress,\n        generatedCard,\n        setGeneratedCard,\n        generatedCards,\n        setGeneratedCards,\n        isCardCompleted,\n        setIsCardCompleted,\n        currentJobId,\n        setCurrentJobId\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ob29rcy9jYXJkU3R1ZGlvL3VzZURyYWZ0R2VuZXJhdGlvbi50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O3dFQUU4QztBQUNmO0FBQ0s7QUFDbUU7QUFDSjtBQWlDNUYsU0FBU1MsbUJBQW1CQyxLQUEyQjtJQUM1RCxtQkFBbUI7SUFDbkIsTUFBTSxDQUFDQyxhQUFhQyxlQUFlLEdBQUdaLCtDQUFRQSxDQUFVO0lBQ3hELE1BQU0sQ0FBQ2EsWUFBWUMsY0FBYyxHQUFHZCwrQ0FBUUEsQ0FBMkIsRUFBRTtJQUN6RSxNQUFNLENBQUNlLG9CQUFvQkMsc0JBQXNCLEdBQUdoQiwrQ0FBUUEsQ0FBUyxDQUFDO0lBQ3RFLE1BQU0sQ0FBQ2lCLHVCQUF1QkMseUJBQXlCLEdBQUdsQiwrQ0FBUUEsQ0FBVTtJQUM1RSxNQUFNLENBQUNtQixzQkFBc0JDLHdCQUF3QixHQUFHcEIsK0NBQVFBLENBQVMsQ0FBQztJQUMxRSxNQUFNLENBQUNxQixzQkFBc0JDLHdCQUF3QixHQUFHdEIsK0NBQVFBLENBQVU7SUFDMUUsTUFBTSxDQUFDdUIsc0JBQXNCQyx3QkFBd0IsR0FBR3hCLCtDQUFRQSxDQUFTO0lBQ3pFLE1BQU0sQ0FBQ3lCLGNBQWNDLGdCQUFnQixHQUFHMUIsK0NBQVFBLENBQUM7SUFDakQsTUFBTSxDQUFDMkIsb0JBQW9CQyxzQkFBc0IsR0FBRzVCLCtDQUFRQSxDQUFDO0lBQzdELE1BQU0sQ0FBQzZCLGVBQWVDLGlCQUFpQixHQUFHOUIsK0NBQVFBLENBQXVCO0lBQ3pFLE1BQU0sQ0FBQytCLGdCQUFnQkMsa0JBQWtCLEdBQUdoQywrQ0FBUUEsQ0FBa0IsRUFBRTtJQUN4RSxNQUFNLENBQUNpQyxpQkFBaUJDLG1CQUFtQixHQUFHbEMsK0NBQVFBLENBQUM7SUFDdkQsTUFBTSxDQUFDbUMsY0FBY0MsZ0JBQWdCLEdBQUdwQywrQ0FBUUEsQ0FBZ0I7SUFFaEUsMkRBQTJEO0lBQzNELE1BQU1xQywyQkFBMkJwQyxrREFBV0EsQ0FBQztRQUMzQyxNQUFNLEVB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LEtBQUssQ0FBQztZQUNaeEMseUJBQXlCO1lBQ3pCVSxzQkFBc0I7WUFDdEJsQixNQUFNb0QsdUJBQXVCLElBQUkscUNBQXFDO1FBQ3hFO0lBQ0YsR0FBRztRQUFDakQ7UUFBWUk7UUFBdUJQO0tBQU07SUFFN0MsT0FBTztRQUNMQztRQUNBQztRQUNBQztRQUNBQztRQUNBQztRQUNBQztRQUNBQztRQUNBQztRQUNBQztRQUNBQztRQUNBQztRQUNBQztRQUNBQztRQUNBQztRQUNBYTtRQUNBMkc7UUFDQXZIO1FBQ0FDO1FBQ0FDO1FBQ0FDO1FBQ0FDO1FBQ0FDO1FBQ0FDO1FBQ0FDO1FBQ0FDO1FBQ0FDO1FBQ0FDO1FBQ0FDO0lBQ0Y7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL3ZpYmVjYXJkaW5nLy4vaG9va3MvY2FyZFN0dWRpby91c2VEcmFmdEdlbmVyYXRpb24udHM/NGM0NyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIjtcblxuaW1wb3J0IHsgdXNlU3RhdGUsIHVzZUNhbGxiYWNrIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyB0b2FzdCB9IGZyb20gXCJzb25uZXJcIjtcbmltcG9ydCB7IHY0IGFzIHV1aWR2NCB9IGZyb20gJ3V1aWQnO1xuaW1wb3J0IHsgUHJvbXB0R2VuZXJhdG9yLCBEcmFmdENvbmZpZywgRmluYWxGcm9tRHJhZnRDb25maWcsIENhcmRDb25maWcgfSBmcm9tICdAL2xpYi9wcm9tcHRHZW5lcmF0b3InO1xuaW1wb3J0IHsgR2VuZXJhdGVkQ2FyZCwgYXJ0aXN0aWNTdHlsZXMsIHBhcGVyU2l6ZXMsIGNhcmRUb25lcywgUGhvdG9SZWZlcmVuY2UgfSBmcm9tICcuL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBjaGF0V2l0aEFJIH0gZnJvbSAnLi91dGlscyc7XG5cbmludGVyZmFjZSBEcmFmdEdlbmVyYXRpb25Qcm9wcyB7XG4gIC8vIEZvcm0gZGF0YVxuICBzZWxlY3RlZFR5cGU6IHN0cmluZztcbiAgY3VzdG9tQ2FyZFR5cGU6IHN0cmluZztcbiAgc2VsZWN0ZWRUb25lOiBzdHJpbmc7XG4gIHNlbGVjdGVkQXJ0aXN0aWNTdHlsZTogc3RyaW5nO1xuICBjdXN0b21TdHlsZURlc2NyaXB0aW9uOiBzdHJpbmc7XG4gIHNlbGVjdGVkRHJhZnRNb2RlbDogc3RyaW5nO1xuICBzZWxlY3RlZEltYWdlTW9kZWw6IHN0cmluZztcbiAgc2VsZWN0ZWRQYXBlclNpemU6IHN0cmluZztcbiAgcHJvbXB0OiBzdHJpbmc7XG4gIHBlcnNvbmFsVHJhaXRzPzogc3RyaW5nO1xuICB0b0ZpZWxkOiBzdHJpbmc7XG4gIGZyb21GaWVsZDogc3RyaW5nO1xuICByZWxhdGlvbnNoaXBGaWVsZDogc3RyaW5nO1xuICB1c2VyRW1haWw6IHN0cmluZztcbiAgZmluYWxDYXJkTWVzc2FnZTogc3RyaW5nO1xuICBpc0hhbmR3cml0dGVuTWVzc2FnZTogYm9vbGVhbjtcbiAgaXNGcm9udEJhY2tPbmx5OiBib29sZWFuO1xuICByZWZlcmVuY2VJbWFnZVVybHM6IHN0cmluZ1tdO1xuICBwaG90b1JlZmVyZW5jZXM/OiBQaG90b1JlZmVyZW5jZVtdO1xuICBcbiAgLy8gSm9iIG1hbmFnZW1lbnRcbiAgc2F2ZUpvYlRvU3RvcmFnZTogKGpvYklkOiBzdHJpbmcsIGpvYkRhdGE6IGFueSkgPT4gdm9pZDtcbiAgc3Vic2NyaWJlVG9Kb2I6IChqb2JJZDogc3RyaW5nKSA9PiB2b2lkO1xuICB1bnN1YnNjcmliZUZyb21BbGxKb2JzPzogKCkgPT4gdm9pZDtcbiAgc3RhcnRFbGFwc2VkVGltZVRyYWNraW5nOiAoam9iVHlwZT86ICdkcmFmdCcgfCAnZmluYWwnKSA9PiB2b2lkO1xuICBzdG9wRWxhcHNlZFRpbWVUcmFja2luZzogKCkgPT4gdm9pZDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVzZURyYWZ0R2VuZXJhdGlvbihwcm9wczogRHJhZnRHZW5lcmF0aW9uUHJvcHMpIHtcbiAgLy8gRHJhZnQgbW9kZSBzdGF0ZVxuICBjb25zdCBbaXNEcmFmdE1vZGUsIHNldElzRHJhZnRNb2RlXSA9IHVzZVN0YXRlPGJvb2xlYW4+KGZhbHNlKTtcbiAgY29uc3QgW2RyYWZ0Q2FyZHMsIHNldERyYWZ0Q2FyZHNdID0gdXNlU3RhdGU8KEdlbmVyYXRlZENhcmQgfCBudWxsKVtdPihbXSk7XG4gIGNvbnN0IFtzZWxlY3RlZERyYWZ0SW5kZXgsIHNldFNlbGVjdGVkRHJhZnRJbmRleF0gPSB1c2VTdGF0ZTxudW1iZXI+KC0xKTtcbiAgY29uc3QgW2lzR2VuZXJhdGluZ0ZpbmFsQ2FyZCwgc2V0SXNHZW5lcmF0aW5nRmluYWxDYXJkXSA9IHVzZVN0YXRlPGJvb2xlYW4+KGZhbHNlKTtcbiAgY29uc3QgW3ByZXZpZXdpbmdEcmFmdEluZGV4LCBzZXRQcmV2aWV3aW5nRHJhZnRJbmRleF0gPSB1c2VTdGF0ZTxudW1iZXI+KC0xKTtcbiAgY29uc3QgW2RyYWZ0Q29tcGxldGlvblNob3duLCBzZXREcmFmdENvbXBsZXRpb25TaG93bl0gPSB1c2VTdGF0ZTxib29sZWFuPihmYWxzZSk7XG4gIGNvbnN0IFtkcmFmdENvbXBsZXRpb25Db3VudCwgc2V0RHJhZnRDb21wbGV0aW9uQ291bnRdID0gdXNlU3RhdGU8bnVtYmVyPigwKTtcbiAgY29uc3QgW2lzR2VuZXJhdGluZywgc2V0SXNHZW5lcmF0aW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2dlbmVyYXRpb25Qcm9ncmVzcywgc2V0R2VuZXJhdGlvblByb2dyZXNzXSA9IHVzZVN0YXRlKFwiXCIpO1xuICBjb25zdCBbZ2VuZXJhdGVkQ2FyZCwgc2V0R2VuZXJhdGVkQ2FyZF0gPSB1c2VTdGF0ZTxHZW5lcmF0ZWRDYXJkIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtnZW5lcmF0ZWRDYXJkcywgc2V0R2VuZXJhdGVkQ2FyZHNdID0gdXNlU3RhdGU8R2VuZXJhdGVkQ2FyZFtdPihbXSk7XG4gIGNvbnN0IFtpc0NhcmRDb21wbGV0ZWQsIHNldElzQ2FyZENvbXBsZXRlZF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtjdXJyZW50Sm9iSWQsIHNldEN1cnJlbnRKb2JJZF0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcblxuICAvLyBEcmFmdCBtb2RlIGdlbmVyYXRpb24gLSBjcmVhdGVzIDUgZnJvbnQgY292ZXIgdmFyaWF0aW9uc1xuICBjb25zdCBoYW5kbGVHZW5lcmF0ZURyYWZ0Q2FyZHMgPSB1c2VDYWxsYmFjayhhc3luYyAoKSA9PiB7XG4gICAgY29uc3Qge1xuICAgICAgdXNlckVtYWlsLFxuICAgICAgc2VsZWN0ZWRBcnRpc3RpY1N0eWxlLFxuICAgICAgY3VzdG9tU3R5bGVEZXNjcmlwdGlvbixcbiAgICAgIHJlZmVyZW5jZUltYWdlVXJscyxcbiAgICAgIHNlbGVjdGVkRHJhZnRNb2RlbCxcbiAgICAgIHNlbGVjdGVkVHlwZSxcbiAgICAgIGN1c3RvbUNhcmRUeXBlLFxuICAgICAgc2VsZWN0ZWRUb25lLFxuICAgICAgcHJvbXB0LFxuICAgICAgcGVyc29uYWxUcmFpdHMsXG4gICAgICB0b0ZpZWxkLFxuICAgICAgZnJvbUZpZWxkLFxuICAgICAgc2VsZWN0ZWRQYXBlclNpemUsXG4gICAgICBmaW5hbENhcmRNZXNzYWdlLFxuICAgICAgaXNIYW5kd3JpdHRlbk1lc3NhZ2UsXG4gICAgICBpc0Zyb250QmFja09ubHksXG4gICAgICBzYXZlSm9iVG9TdG9yYWdlLFxuICAgICAgc3Vic2NyaWJlVG9Kb2IsXG4gICAgICBzdGFydEVsYXBzZWRUaW1lVHJhY2tpbmdcbiAgICB9ID0gcHJvcHM7XG5cbiAgICBpZiAoIXVzZXJFbWFpbC50cmltKCkpIHtcbiAgICAgIHRvYXN0LmVycm9yKFwiUGxlYXNlIGVudGVyIHlvdXIgZW1haWwgYWRkcmVzc1wiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBCYXNpYyBlbWFpbCB2YWxpZGF0aW9uXG4gICAgY29uc3QgZW1haWxSZWdleCA9IC9eW15cXHNAXStAW15cXHNAXStcXC5bXlxcc0BdKyQvO1xuICAgIGlmICghZW1haWxSZWdleC50ZXN0KHVzZXJFbWFpbCkpIHtcbiAgICAgIHRvYXN0LmVycm9yKFwiUGxlYXNlIGVudGVyIGEgdmFsaWQgZW1haWwgYWRkcmVzc1wiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBWYWxpZGF0ZSBjdXN0b20gc3R5bGUgaWYgc2VsZWN0ZWRcbiAgICBpZiAoc2VsZWN0ZWRBcnRpc3RpY1N0eWxlID09PSBcImN1c3RvbVwiICYmICFjdXN0b21TdHlsZURlc2NyaXB0aW9uLnRyaW0oKSkge1xuICAgICAgdG9hc3QuZXJyb3IoXCJQbGVhc2UgZGVzY3JpYmUgeW91ciBjdXN0b20gYXJ0aXN0aWMgc3R5bGVcIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gVmFsaWRhdGUgcmVmZXJlbmNlIGltYWdlcyB3aXRoIG1vZGVsIGNvbXBhdGliaWxpdHlcbiAgICBpZiAocmVmZXJlbmNlSW1hZ2VVcmxzLmxlbmd0aCA+IDAgJiYgc2VsZWN0ZWREcmFmdE1vZGVsICE9PSBcImdwdC1pbWFnZS0xXCIpIHtcbiAgICAgIHRvYXN0LmVycm9yKFwiUmVmZXJlbmNlIHBob3RvcyBhcmUgb25seSBzdXBwb3J0ZWQgd2l0aCBHUFQgSW1hZ2UgMSBtb2RlbC4gUGxlYXNlIHN3aXRjaCB0byBHUFQgSW1hZ2UgMSBmb3IgZHJhZnQgbW9kZSBvciByZW1vdmUgcmVmZXJlbmNlIHBob3Rvcy5cIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gU3RvcCBhbnkgZXhpc3RpbmcgdGltZXJzIGZpcnN0XG4gICAgcHJvcHMuc3RvcEVsYXBzZWRUaW1lVHJhY2tpbmcoKTtcbiAgICBcbiAgICAvLyBDbGVhciBBTEwgV2ViU29ja2V0IHN1YnNjcmlwdGlvbnMgYmVmb3JlIHN0YXJ0aW5nXG4gICAgaWYgKHByb3BzLnVuc3Vic2NyaWJlRnJvbUFsbEpvYnMpIHtcbiAgICAgIHByb3BzLnVuc3Vic2NyaWJlRnJvbUFsbEpvYnMoKTtcbiAgICB9XG4gICAgXG4gICAgLy8gTm8gbG9uZ2VyIG5lZWQgdG8gY2xlYXIgb2xkIGRyYWZ0IGpvYnMgLSBzdG9yYWdlIG1hbmFnZXIgaGFuZGxlcyB0aGlzIGF1dG9tYXRpY2FsbHlcbiAgICBcbiAgICBzZXRJc0RyYWZ0TW9kZSh0cnVlKTtcbiAgICBzZXRJc0dlbmVyYXRpbmcodHJ1ZSk7XG4gICAgc3RhcnRFbGFwc2VkVGltZVRyYWNraW5nKCdkcmFmdCcpO1xuICAgIHNldEdlbmVyYXRpb25Qcm9ncmVzcyhcIvCfjqggQ3JlYXRpbmcgNSBmcm9udCBjb3ZlciB2YXJpYXRpb25zIGZvciB5b3UgdG8gY2hvb3NlIGZyb20uLi5cIik7XG4gICAgc2V0RHJhZnRDYXJkcyhbbnVsbCwgbnVsbCwgbnVsbCwgbnVsbCwgbnVsbF0pOyAvLyBJbml0aWFsaXplIHdpdGggNSBlbXB0eSBzbG90c1xuICAgIHNldFNlbGVjdGVkRHJhZnRJbmRleCgtMSk7XG4gICAgc2V0RHJhZnRDb21wbGV0aW9uU2hvd24oZmFsc2UpO1xuICAgIHNldERyYWZ0Q29tcGxldGlvbkNvdW50KDApO1xuICAgIFxuICAgIC8vIENsZWFyIGFueSBwcmV2aW91cyBjYXJkIHN0YXRlXG4gICAgc2V0R2VuZXJhdGVkQ2FyZChudWxsKTtcbiAgICBzZXRHZW5lcmF0ZWRDYXJkcyhbXSk7XG4gICAgc2V0SXNDYXJkQ29tcGxldGVkKGZhbHNlKTtcbiAgICBcblxuICAgIHRyeSB7XG4gICAgICBjb25zb2xlLmxvZyhcIvCfmoAgU3RhcnRpbmcgZHJhZnQgbW9kZSBnZW5lcmF0aW9uIHdpdGggNSB2YXJpYXRpb25zXCIpO1xuICAgICAgXG4gICAgICBjb25zdCBjYXJkVHlwZUZvclByb21wdCA9IHNlbGVjdGVkVHlwZSA9PT0gXCJjdXN0b21cIiA/IGN1c3RvbUNhcmRUeXBlIDogc2VsZWN0ZWRUeXBlO1xuICAgICAgY29uc3Qgc2VsZWN0ZWRUb25lT2JqID0gY2FyZFRvbmVzLmZpbmQodG9uZSA9PiB0b25lLmlkID09PSBzZWxlY3RlZFRvbmUpO1xuICAgICAgY29uc3QgdG9uZURlc2NyaXB0aW9uID0gc2VsZWN0ZWRUb25lT2JqID8gc2VsZWN0ZWRUb25lT2JqLmRlc2NyaXB0aW9uLnRvTG93ZXJDYXNlKCkgOiBcImhlYXJ0ZmVsdCBhbmQgc2luY2VyZVwiO1xuICAgICAgXG4gICAgICAvLyBVc2UgcHJvbXB0IGlmIHByb3ZpZGVkLCBvdGhlcndpc2UgY3JlYXRlIGEgc2ltcGxlIGRlZmF1bHRcbiAgICAgIGxldCBlZmZlY3RpdmVQcm9tcHQgPSBwcm9tcHQudHJpbSgpO1xuICAgICAgXG4gICAgICBpZiAoIWVmZmVjdGl2ZVByb21wdCkge1xuICAgICAgICBlZmZlY3RpdmVQcm9tcHQgPSBgQSBiZWF1dGlmdWwgJHtjYXJkVHlwZUZvclByb21wdH0gY2FyZCB3aXRoICR7dG9uZURlc2NyaXB0aW9ufSBzdHlsZWA7XG4gICAgICB9XG5cbiAgICAgIC8vIEdlbmVyYXRlIDUgZHJhZnQgdmFyaWF0aW9uc1xuICAgICAgY29uc3QgZHJhZnRQcm9taXNlcyA9IEFycmF5LmZyb20oeyBsZW5ndGg6IDUgfSwgYXN5bmMgKF8sIGluZGV4KSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc29sZS5sb2coYPCfjqggU3RhcnRpbmcgZHJhZnQgdmFyaWF0aW9uICR7aW5kZXggKyAxfWApO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIFZhbGlkYXRlIHJlcXVpcmVkIHByb3BzXG4gICAgICAgICAgaWYgKCFzZWxlY3RlZERyYWZ0TW9kZWwpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignc2VsZWN0ZWREcmFmdE1vZGVsIGlzIHJlcXVpcmVkIGJ1dCBub3QgcHJvdmlkZWQnKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKCFzZWxlY3RlZFBhcGVyU2l6ZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdzZWxlY3RlZFBhcGVyU2l6ZSBpcyByZXF1aXJlZCBidXQgbm90IHByb3ZpZGVkJyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICghdXNlckVtYWlsKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3VzZXJFbWFpbCBpcyByZXF1aXJlZCBidXQgbm90IHByb3ZpZGVkJyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIFxuICAgICAgICAgIC8vIEZvciBzbWFydCBzdHlsZSwgdXNlIHByZWRlZmluZWQgc3R5bGVzXG4gICAgICAgICAgbGV0IHN0eWxlT3ZlcnJpZGU6IHN0cmluZyB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICBsZXQgc3R5bGVMYWJlbDogc3RyaW5nIHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkO1xuICAgICAgICAgIGlmIChzZWxlY3RlZEFydGlzdGljU3R5bGUgPT09IFwiYWktc21hcnQtc3R5bGVcIikge1xuICAgICAgICAgICAgY29uc3QgcHJlZGVmaW5lZFN0eWxlcyA9IFtcIndhdGVyY29sb3JcIiwgXCJib3RhbmljYWxcIiwgXCJjb21pYy1ib29rXCIsIFwiZHJlYW15LWZhbnRhc3lcIiwgXCJtaW5pbWFsaXN0XCJdO1xuICAgICAgICAgICAgY29uc3Qgc3R5bGVMYWJlbHMgPSBbXCLwn46oIFdhdGVyY29sb3JcIiwgXCLwn4y/IEJvdGFuaWNhbFwiLCBcIvCfkqUgQ29taWMgQm9va1wiLCBcIvCfjLggRHJlYW15IEZhbnRhc3lcIiwgXCLinKggTWluaW1hbGlzdFwiXTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgc3R5bGVPdmVycmlkZSA9IHByZWRlZmluZWRTdHlsZXNbaW5kZXhdO1xuICAgICAgICAgICAgc3R5bGVMYWJlbCA9IHN0eWxlTGFiZWxzW2luZGV4XTtcbiAgICAgICAgICB9XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gR2VuZXJhdGUgb25seSBmcm9udCBjb3ZlciBwcm9tcHQgZm9yIGRyYWZ0XG4gICAgICAgICAgY29uc3Qgc2VsZWN0ZWRTdHlsZSA9IGFydGlzdGljU3R5bGVzLmZpbmQoc3R5bGUgPT4gc3R5bGUuaWQgPT09IChzdHlsZU92ZXJyaWRlIHx8IHNlbGVjdGVkQXJ0aXN0aWNTdHlsZSkpO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIFVzZSBkcmFmdCBwcm9tcHQgZ2VuZXJhdGlvbiBjb25maWcgZm9yIGZyb250IGNvdmVyIG9ubHlcbiAgICAgICAgICBjb25zdCBkcmFmdENvbmZpZzogRHJhZnRDb25maWcgPSB7XG4gICAgICAgICAgICBjYXJkVHlwZTogc2VsZWN0ZWRUeXBlLFxuICAgICAgICAgICAgY3VzdG9tQ2FyZFR5cGU6IGN1c3RvbUNhcmRUeXBlLFxuICAgICAgICAgICAgdG9uZTogc2VsZWN0ZWRUb25lLFxuICAgICAgICAgICAgdG9uZUxhYmVsOiBzZWxlY3RlZFRvbmVPYmogPyBzZWxlY3RlZFRvbmVPYmoubGFiZWwgOiBcIkhlYXJ0ZmVsdFwiLFxuICAgICAgICAgICAgdG9uZURlc2NyaXB0aW9uOiB0b25lRGVzY3JpcHRpb24sXG4gICAgICAgICAgICB0aGVtZTogZWZmZWN0aXZlUHJvbXB0LFxuICAgICAgICAgICAgdG9GaWVsZDogdG9GaWVsZCxcbiAgICAgICAgICAgIGZyb21GaWVsZDogZnJvbUZpZWxkLFxuICAgICAgICAgICAgcmVsYXRpb25zaGlwRmllbGQ6IHByb3BzLnJlbGF0aW9uc2hpcEZpZWxkLFxuICAgICAgICAgICAgcGVyc29uYWxUcmFpdHM6IHByb3BzLnBlcnNvbmFsVHJhaXRzLFxuICAgICAgICAgICAgYXJ0aXN0aWNTdHlsZTogc2VsZWN0ZWRTdHlsZSxcbiAgICAgICAgICAgIHJlZmVyZW5jZUltYWdlVXJsczogcmVmZXJlbmNlSW1hZ2VVcmxzLFxuICAgICAgICAgICAgcGhvdG9SZWZlcmVuY2VzOiBwcm9wcy5waG90b1JlZmVyZW5jZXMsXG4gICAgICAgICAgICBpc0RyYWZ0VmFyaWF0aW9uOiBzZWxlY3RlZEFydGlzdGljU3R5bGUgPT09IFwiYWktc21hcnQtc3R5bGVcIixcbiAgICAgICAgICAgIHZhcmlhdGlvbkluZGV4OiBpbmRleFxuICAgICAgICAgIH07XG5cbiAgICAgICAgICAvLyBHZW5lcmF0ZSBjcmVhdGl2ZSBmcm9udCBjb3ZlciBwcm9tcHQgdXNpbmcgQUlcbiAgICAgICAgICBjb25zdCBmcm9udENvdmVyUHJvbXB0ID0gYXdhaXQgUHJvbXB0R2VuZXJhdG9yLmdlbmVyYXRlQ3JlYXRpdmVEcmFmdFByb21wdChkcmFmdENvbmZpZyk7XG5cbiAgICAgICAgICBpZiAoIWZyb250Q292ZXJQcm9tcHQ/LnRyaW0oKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRmFpbGVkIHRvIGdlbmVyYXRlIGZyb250IGNvdmVyIHByb21wdFwiKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBHZW5lcmF0ZSB0aGUgaW1hZ2VzXG4gICAgICAgICAgY29uc3Qgam9iSWQgPSBgZHJhZnQtJHtpbmRleH0tJHt1dWlkdjQoKX1gO1xuICAgICAgICAgIGNvbnN0IGlucHV0SW1hZ2VzOiBzdHJpbmdbXSA9IFtdO1xuICAgICAgICAgIGlmIChyZWZlcmVuY2VJbWFnZVVybHMubGVuZ3RoID4gMCAmJiBzZWxlY3RlZERyYWZ0TW9kZWwgPT09IFwiZ3B0LWltYWdlLTFcIikge1xuICAgICAgICAgICAgaW5wdXRJbWFnZXMucHVzaCguLi5yZWZlcmVuY2VJbWFnZVVybHMpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIExvZyB0aGUgcmVxdWVzdCBwYXlsb2FkIGZvciBkZWJ1Z2dpbmdcbiAgICAgICAgICBjb25zdCByZXF1ZXN0UGF5bG9hZCA9IHtcbiAgICAgICAgICAgIGpvYklkLFxuICAgICAgICAgICAgcHJvbXB0czoge1xuICAgICAgICAgICAgICBmcm9udENvdmVyOiBmcm9udENvdmVyUHJvbXB0XG4gICAgICAgICAgICAgIC8vIE9ubHkgc2VuZCBmcm9udCBjb3ZlciBwcm9tcHQgZm9yIGRyYWZ0c1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNvbmZpZzoge1xuICAgICAgICAgICAgICB1c2VyTnVtYmVyOiBcIisxNzE0NTk4NjEwNVwiLFxuICAgICAgICAgICAgICBtb2RlbFZlcnNpb246IHNlbGVjdGVkRHJhZnRNb2RlbCxcbiAgICAgICAgICAgICAgYXNwZWN0UmF0aW86IHBhcGVyU2l6ZXMuZmluZChzaXplID0+IHNpemUuaWQgPT09IHNlbGVjdGVkUGFwZXJTaXplKT8uYXNwZWN0UmF0aW8gfHwgXCI5OjE2XCIsXG4gICAgICAgICAgICAgIHF1YWxpdHk6IFwibWVkaXVtXCIsIC8vIFVzZSBtZWRpdW0gcXVhbGl0eSBmb3IgZHJhZnRzIChiZXR0ZXIgdGhhbiBsb3csIGZhc3RlciB0aGFuIGhpZ2gpXG4gICAgICAgICAgICAgIG91dHB1dEZvcm1hdDogXCJqcGVnXCIsXG4gICAgICAgICAgICAgIG91dHB1dENvbXByZXNzaW9uOiAxMDAsIC8vIE1heGltdW0gcXVhbGl0eSBjb21wcmVzc2lvblxuICAgICAgICAgICAgICBtb2RlcmF0aW9uOiBcImxvd1wiLFxuICAgICAgICAgICAgICBkaW1lbnNpb25zOiBwYXBlclNpemVzLmZpbmQoc2l6ZSA9PiBzaXplLmlkID09PSBzZWxlY3RlZFBhcGVyU2l6ZSk/LmRpbWVuc2lvbnMgfHwgXCIxMDI0eDE1MzZcIixcbiAgICAgICAgICAgICAgaXNGcm9udEJhY2tPbmx5OiB0cnVlLCAvLyBGb3JjZSBmcm9udC1vbmx5IGZvciBkcmFmdHNcbiAgICAgICAgICAgICAgdXNlckVtYWlsLFxuICAgICAgICAgICAgICBjYXJkVHlwZTogY2FyZFR5cGVGb3JQcm9tcHQsXG4gICAgICAgICAgICAgIHRvRmllbGQsXG4gICAgICAgICAgICAgIGZyb21GaWVsZCxcbiAgICAgICAgICAgICAgaXNEcmFmdE1vZGU6IHRydWUsXG4gICAgICAgICAgICAgIC4uLihpbnB1dEltYWdlcy5sZW5ndGggPiAwICYmIHsgXG4gICAgICAgICAgICAgICAgaW5wdXRfaW1hZ2VzOiBpbnB1dEltYWdlcyxcbiAgICAgICAgICAgICAgICBpbnB1dF9pbWFnZXNfbW9kZTogXCJmcm9udF9jb3Zlcl9vbmx5XCJcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgY29uc29sZS5sb2coYPCfk6YgRHJhZnQgJHtpbmRleCArIDF9IHJlcXVlc3QgcGF5bG9hZDpgLCB7XG4gICAgICAgICAgICBqb2JJZCxcbiAgICAgICAgICAgIHByb21wdHNFeGlzdDogISFmcm9udENvdmVyUHJvbXB0LFxuICAgICAgICAgICAgcHJvbXB0S2V5czogWydmcm9udENvdmVyJ10sXG4gICAgICAgICAgICBtb2RlbFZlcnNpb246IHNlbGVjdGVkRHJhZnRNb2RlbCxcbiAgICAgICAgICAgIHBhcGVyU2l6ZTogc2VsZWN0ZWRQYXBlclNpemUsXG4gICAgICAgICAgICBlbWFpbDogdXNlckVtYWlsXG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCcvYXBpL2dlbmVyYXRlLWNhcmQtYXN5bmMnLCB7XG4gICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocmVxdWVzdFBheWxvYWQpXG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgICBjb25zdCBlcnJvclRleHQgPSBhd2FpdCByZXNwb25zZS50ZXh0KCk7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGBTZXJ2ZXIgZXJyb3IgcmVzcG9uc2UgZm9yIGRyYWZ0ICR7aW5kZXggKyAxfTpgLCBlcnJvclRleHQpO1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBTZXJ2ZXIgZXJyb3I6ICR7cmVzcG9uc2Uuc3RhdHVzfSAtICR7ZXJyb3JUZXh0fWApO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgICBcbiAgICAgICAgICBpZiAocmVzdWx0LnN0YXR1cyAhPT0gJ3Byb2Nlc3NpbmcnKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IocmVzdWx0Lm1lc3NhZ2UgfHwgJ0ZhaWxlZCB0byBzdGFydCBkcmFmdCBnZW5lcmF0aW9uJyk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29uc29sZS5sb2coYOKchSBEcmFmdCB2YXJpYXRpb24gJHtpbmRleCArIDF9IGpvYiBzdGFydGVkOmAsIGpvYklkKTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBTYXZlIGRyYWZ0IGpvYiB0byBzdG9yYWdlIGZvciByZWNvdmVyeVxuICAgICAgICAgIHNhdmVKb2JUb1N0b3JhZ2Uoam9iSWQsIHtcbiAgICAgICAgICAgIGlzRHJhZnQ6IHRydWUsXG4gICAgICAgICAgICBkcmFmdEluZGV4OiBpbmRleCxcbiAgICAgICAgICAgIHN0eWxlSW5mbzogc3R5bGVPdmVycmlkZSA/IHsgc3R5bGVOYW1lOiBzdHlsZU92ZXJyaWRlLCBzdHlsZUxhYmVsOiBzdHlsZUxhYmVsIH0gOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBmcm9udENvdmVyUHJvbXB0OiBmcm9udENvdmVyUHJvbXB0LFxuICAgICAgICAgICAgZ2VuZXJhdGVkUHJvbXB0czogeyBmcm9udENvdmVyOiBmcm9udENvdmVyUHJvbXB0IH0sIC8vIFN0b3JlIG9ubHkgZnJvbnQgY292ZXIgcHJvbXB0XG4gICAgICAgICAgICB1c2VyRW1haWwsXG4gICAgICAgICAgICBzZWxlY3RlZFR5cGUsXG4gICAgICAgICAgICBzZWxlY3RlZFRvbmUsXG4gICAgICAgICAgICB0b0ZpZWxkLFxuICAgICAgICAgICAgZnJvbUZpZWxkLFxuICAgICAgICAgICAgZHJhZnRDYXJkczogW10gIC8vIFdpbGwgYmUgdXBkYXRlZCBhcyBkcmFmdHMgY29tcGxldGVcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIC8vIFN1YnNjcmliZSB0byBXZWJTb2NrZXQgdXBkYXRlc1xuICAgICAgICAgIHN1YnNjcmliZVRvSm9iKGpvYklkKTtcblxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYOKdjCBEcmFmdCB2YXJpYXRpb24gJHtpbmRleCArIDF9IGZhaWxlZDpgLCBlcnJvcik7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignRnVsbCBlcnJvciBkZXRhaWxzOicsIHtcbiAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InLFxuICAgICAgICAgICAgc3RhY2s6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5zdGFjayA6ICdObyBzdGFjayB0cmFjZScsXG4gICAgICAgICAgICBlcnJvcjogZXJyb3JcbiAgICAgICAgICB9KTtcbiAgICAgICAgICB0b2FzdC5lcnJvcihgRHJhZnQgdmFyaWF0aW9uICR7aW5kZXggKyAxfSBmYWlsZWQ6ICR7ZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnVW5rbm93biBlcnJvcid9YCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICAvLyBXYWl0IGZvciBhbGwgZHJhZnQgZ2VuZXJhdGlvbnMgdG8gc3RhcnRcbiAgICAgIGF3YWl0IFByb21pc2UuYWxsU2V0dGxlZChkcmFmdFByb21pc2VzKTtcbiAgICAgIGNvbnNvbGUubG9nKFwi8J+agCBBbGwgZHJhZnQgdmFyaWF0aW9ucyBzdGFydGVkXCIpO1xuXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0RyYWZ0IGNhcmQgZ2VuZXJhdGlvbiBlcnJvcjonLCBlcnJvcik7XG4gICAgICB0b2FzdC5lcnJvcihgRmFpbGVkIHRvIHN0YXJ0IGRyYWZ0IGdlbmVyYXRpb246ICR7ZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnVW5rbm93biBlcnJvcid9YCk7XG4gICAgICBcbiAgICAgIHNldElzR2VuZXJhdGluZyhmYWxzZSk7XG4gICAgICBzZXRJc0RyYWZ0TW9kZShmYWxzZSk7XG4gICAgICBzZXREcmFmdENvbXBsZXRpb25TaG93bihmYWxzZSk7XG4gICAgICBzZXREcmFmdENvbXBsZXRpb25Db3VudCgwKTtcbiAgICAgIHNldEdlbmVyYXRpb25Qcm9ncmVzcyhcIlwiKTtcbiAgICAgIHByb3BzLnN0b3BFbGFwc2VkVGltZVRyYWNraW5nKCk7XG4gICAgfVxuICB9LCBbcHJvcHNdKTtcblxuICAvLyBHZW5lcmF0ZSBmaW5hbCBoaWdoLXF1YWxpdHkgY2FyZCBmcm9tIHNlbGVjdGVkIGRyYWZ0XG4gIGNvbnN0IGhhbmRsZUdlbmVyYXRlRmluYWxGcm9tRHJhZnQgPSB1c2VDYWxsYmFjayhhc3luYyAoZGlzcGxheUluZGV4OiBudW1iZXIpID0+IHtcbiAgICAvLyBQcmV2ZW50IGR1cGxpY2F0ZSBjYWxsc1xuICAgIGlmIChpc0dlbmVyYXRpbmdGaW5hbENhcmQpIHtcbiAgICAgIGNvbnNvbGUubG9nKCfimqDvuI8gRmluYWwgY2FyZCBnZW5lcmF0aW9uIGFscmVhZHkgaW4gcHJvZ3Jlc3MsIHNraXBwaW5nIGR1cGxpY2F0ZSBjYWxsJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFxuICAgIGNvbnN0IHNlbGVjdGVkRHJhZnQgPSBkcmFmdENhcmRzW2Rpc3BsYXlJbmRleF07XG4gICAgaWYgKCFzZWxlY3RlZERyYWZ0KSB7XG4gICAgICB0b2FzdC5lcnJvcihcIlBsZWFzZSB3YWl0IGZvciB0aGUgZHJhZnQgdG8gY29tcGxldGUgYmVmb3JlIHNlbGVjdGluZ1wiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCB7XG4gICAgICBzZWxlY3RlZFR5cGUsXG4gICAgICBjdXN0b21DYXJkVHlwZSxcbiAgICAgIHNlbGVjdGVkVG9uZSxcbiAgICAgIHByb21wdCxcbiAgICAgIHBlcnNvbmFsVHJhaXRzLFxuICAgICAgdG9GaWVsZCxcbiAgICAgIGZyb21GaWVsZCxcbiAgICAgIGZpbmFsQ2FyZE1lc3NhZ2UsXG4gICAgICBpc0hhbmR3cml0dGVuTWVzc2FnZSxcbiAgICAgIHNlbGVjdGVkQXJ0aXN0aWNTdHlsZSxcbiAgICAgIGN1c3RvbVN0eWxlRGVzY3JpcHRpb24sXG4gICAgICBpc0Zyb250QmFja09ubHksXG4gICAgICBzZWxlY3RlZEltYWdlTW9kZWwsXG4gICAgICBzZWxlY3RlZFBhcGVyU2l6ZSxcbiAgICAgIHVzZXJFbWFpbCxcbiAgICAgIHJlZmVyZW5jZUltYWdlVXJscyxcbiAgICAgIHN0YXJ0RWxhcHNlZFRpbWVUcmFja2luZyxcbiAgICAgIHN1YnNjcmliZVRvSm9iXG4gICAgfSA9IHByb3BzO1xuXG4gICAgLy8gU3RvcCBhbnkgZXhpc3RpbmcgdGltZXJzIGZpcnN0XG4gICAgcHJvcHMuc3RvcEVsYXBzZWRUaW1lVHJhY2tpbmcoKTtcbiAgICBcbiAgICBzZXRJc0dlbmVyYXRpbmdGaW5hbENhcmQodHJ1ZSk7XG4gICAgc2V0SXNEcmFmdE1vZGUoZmFsc2UpOyAvLyBTd2l0Y2ggb3V0IG9mIGRyYWZ0IG1vZGUgZm9yIGZpbmFsIGdlbmVyYXRpb25cbiAgICBzZXRTZWxlY3RlZERyYWZ0SW5kZXgoZGlzcGxheUluZGV4KTtcbiAgICBzdGFydEVsYXBzZWRUaW1lVHJhY2tpbmcoJ2ZpbmFsJyk7XG4gICAgc2V0R2VuZXJhdGlvblByb2dyZXNzKFwi8J+OqCBDcmVhdGluZyB0aGUgY29tcGxldGUgY2FyZCBiYXNlZCBvbiB5b3VyIHNlbGVjdGVkIGZyb250IGNvdmVyLi4uXCIpO1xuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGpvYklkID0gdXVpZHY0KCk7XG4gICAgICBcbiAgICAgIC8vIEdlbmVyYXRlIHRoZSBtaXNzaW5nIHByb21wdHNcbiAgICAgIGNvbnN0IHN0b3JlZEZyb250Q292ZXJQcm9tcHQgPSBzZWxlY3RlZERyYWZ0LmdlbmVyYXRlZFByb21wdHM/LmZyb250Q292ZXI7XG4gICAgICBpZiAoIXN0b3JlZEZyb250Q292ZXJQcm9tcHQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiU2VsZWN0ZWQgZHJhZnQgaXMgbWlzc2luZyBmcm9udENvdmVyIHByb21wdFwiKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgY29uc3QgY2FyZFR5cGVGb3JQcm9tcHQgPSBzZWxlY3RlZFR5cGUgPT09IFwiY3VzdG9tXCIgPyBjdXN0b21DYXJkVHlwZSA6IHNlbGVjdGVkVHlwZTtcbiAgICAgIGNvbnN0IHNlbGVjdGVkVG9uZU9iaiA9IGNhcmRUb25lcy5maW5kKHRvbmUgPT4gdG9uZS5pZCA9PT0gc2VsZWN0ZWRUb25lKTtcbiAgICAgIGNvbnN0IHRvbmVEZXNjcmlwdGlvbiA9IHNlbGVjdGVkVG9uZU9iaiA/IHNlbGVjdGVkVG9uZU9iai5kZXNjcmlwdGlvbi50b0xvd2VyQ2FzZSgpIDogXCJoZWFydGZlbHQgYW5kIHNpbmNlcmVcIjtcbiAgICAgIGNvbnN0IGVmZmVjdGl2ZVByb21wdCA9IHByb21wdC50cmltKCkgfHwgYEEgYmVhdXRpZnVsICR7Y2FyZFR5cGVGb3JQcm9tcHR9IGNhcmQgd2l0aCAke3RvbmVEZXNjcmlwdGlvbn0gc3R5bGVgO1xuICAgICAgXG4gICAgICBsZXQgbWVzc2FnZUNvbnRlbnQgPSBmaW5hbENhcmRNZXNzYWdlO1xuICAgICAgaWYgKGlzSGFuZHdyaXR0ZW5NZXNzYWdlKSB7XG4gICAgICAgIG1lc3NhZ2VDb250ZW50ID0gXCJbQmxhbmsgc3BhY2UgZm9yIGhhbmR3cml0dGVuIG1lc3NhZ2VdXCI7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIEdldCBzdHlsZSBmcm9tIHRoZSBzZWxlY3RlZCBkcmFmdFxuICAgICAgY29uc3QgZHJhZnRTdHlsZUluZm8gPSBzZWxlY3RlZERyYWZ0LnN0eWxlSW5mbztcbiAgICAgIGxldCBzZWxlY3RlZFN0eWxlO1xuICAgICAgaWYgKGRyYWZ0U3R5bGVJbmZvICYmIGRyYWZ0U3R5bGVJbmZvLnN0eWxlTmFtZSkge1xuICAgICAgICBzZWxlY3RlZFN0eWxlID0gYXJ0aXN0aWNTdHlsZXMuZmluZChzdHlsZSA9PiBzdHlsZS5pZCA9PT0gZHJhZnRTdHlsZUluZm8uc3R5bGVOYW1lKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNlbGVjdGVkU3R5bGUgPSBhcnRpc3RpY1N0eWxlcy5maW5kKHN0eWxlID0+IHN0eWxlLmlkID09PSBzZWxlY3RlZEFydGlzdGljU3R5bGUpO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBVc2UgUHJvbXB0R2VuZXJhdG9yIGZvciBmaW5hbCBjYXJkIGZyb20gZHJhZnRcbiAgICAgIGNvbnN0IGZpbmFsRnJvbURyYWZ0Q29uZmlnOiBGaW5hbEZyb21EcmFmdENvbmZpZyA9IHtcbiAgICAgICAgZnJvbnRDb3ZlclByb21wdDogc3RvcmVkRnJvbnRDb3ZlclByb21wdCxcbiAgICAgICAgY2FyZFR5cGU6IHNlbGVjdGVkVHlwZSxcbiAgICAgICAgY3VzdG9tQ2FyZFR5cGU6IGN1c3RvbUNhcmRUeXBlLFxuICAgICAgICB0aGVtZTogZWZmZWN0aXZlUHJvbXB0LFxuICAgICAgICB0b25lOiBzZWxlY3RlZFRvbmUsXG4gICAgICAgIHRvbmVEZXNjcmlwdGlvbjogdG9uZURlc2NyaXB0aW9uLFxuICAgICAgICB0b0ZpZWxkOiB0b0ZpZWxkLFxuICAgICAgICBmcm9tRmllbGQ6IGZyb21GaWVsZCxcbiAgICAgICAgcmVsYXRpb25zaGlwRmllbGQ6IHByb3BzLnJlbGF0aW9uc2hpcEZpZWxkLFxuICAgICAgICBwZXJzb25hbFRyYWl0czogcHJvcHMucGVyc29uYWxUcmFpdHMsXG4gICAgICAgIHBob3RvUmVmZXJlbmNlczogcHJvcHMucGhvdG9SZWZlcmVuY2VzLFxuICAgICAgICBtZXNzYWdlOiBtZXNzYWdlQ29udGVudCxcbiAgICAgICAgaXNIYW5kd3JpdHRlbk1lc3NhZ2U6IGlzSGFuZHdyaXR0ZW5NZXNzYWdlLFxuICAgICAgICBhcnRpc3RpY1N0eWxlOiBzZWxlY3RlZFN0eWxlLFxuICAgICAgICBpc0Zyb250QmFja09ubHk6IGlzRnJvbnRCYWNrT25seVxuICAgICAgfTtcblxuICAgICAgY29uc3QgZmluYWxQcm9tcHRzID0gYXdhaXQgUHJvbXB0R2VuZXJhdG9yLmdlbmVyYXRlRmluYWxGcm9tRHJhZnRQcm9tcHRzQ29tYmluZWQoZmluYWxGcm9tRHJhZnRDb25maWcpO1xuXG4gICAgICBpZiAoIWZpbmFsUHJvbXB0cyB8fCAhZmluYWxQcm9tcHRzLmZyb250Q292ZXIgfHwgIWZpbmFsUHJvbXB0cy5iYWNrQ292ZXIpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRmFpbGVkIHRvIGdlbmVyYXRlIGNvbXBsZXRlIHByb21wdHMgZm9yIGZpbmFsIGNhcmRcIik7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIFByZXBhcmUgaW5wdXQgaW1hZ2VzIGZvciBmaW5hbCBnZW5lcmF0aW9uXG4gICAgICBjb25zdCBpbnB1dEltYWdlczogc3RyaW5nW10gPSBbXTtcbiAgICAgIFxuICAgICAgLy8gQWRkIHRoZSBzZWxlY3RlZCBkcmFmdCdzIGZyb250IGNvdmVyIGFzIGEgcmVmZXJlbmNlIGltYWdlIGZvciB0aGUgZmluYWwgZnJvbnQgY292ZXJcbiAgICAgIGlmIChzZWxlY3RlZERyYWZ0LmZyb250Q292ZXIpIHtcbiAgICAgICAgaW5wdXRJbWFnZXMucHVzaChzZWxlY3RlZERyYWZ0LmZyb250Q292ZXIpO1xuICAgICAgICBjb25zb2xlLmxvZygn8J+WvO+4jyBBZGRpbmcgZHJhZnQgZnJvbnQgY292ZXIgYXMgcmVmZXJlbmNlIGZvciBmaW5hbCBmcm9udCBjb3ZlciBnZW5lcmF0aW9uJyk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIEFsc28gaW5jbHVkZSBhbnkgdXNlci11cGxvYWRlZCByZWZlcmVuY2UgaW1hZ2VzXG4gICAgICBpZiAocmVmZXJlbmNlSW1hZ2VVcmxzLmxlbmd0aCA+IDAgJiYgc2VsZWN0ZWRJbWFnZU1vZGVsID09PSBcImdwdC1pbWFnZS0xXCIpIHtcbiAgICAgICAgaW5wdXRJbWFnZXMucHVzaCguLi5yZWZlcmVuY2VJbWFnZVVybHMpO1xuICAgICAgfVxuXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCcvYXBpL2dlbmVyYXRlLWNhcmQtYXN5bmMnLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgIGpvYklkLFxuICAgICAgICAgIHByb21wdHM6IGZpbmFsUHJvbXB0cyxcbiAgICAgICAgICBjb25maWc6IHtcbiAgICAgICAgICAgIHVzZXJOdW1iZXI6IFwiKzE3MTQ1OTg2MTA1XCIsXG4gICAgICAgICAgICBtb2RlbFZlcnNpb246IHNlbGVjdGVkSW1hZ2VNb2RlbCxcbiAgICAgICAgICAgIGFzcGVjdFJhdGlvOiBwYXBlclNpemVzLmZpbmQoc2l6ZSA9PiBzaXplLmlkID09PSBzZWxlY3RlZFBhcGVyU2l6ZSk/LmFzcGVjdFJhdGlvIHx8IFwiOToxNlwiLFxuICAgICAgICAgICAgcXVhbGl0eTogXCJoaWdoXCIsXG4gICAgICAgICAgICBvdXRwdXRGb3JtYXQ6IFwianBlZ1wiLFxuICAgICAgICAgICAgb3V0cHV0Q29tcHJlc3Npb246IDEwMCxcbiAgICAgICAgICAgIG1vZGVyYXRpb246IFwibG93XCIsXG4gICAgICAgICAgICBkaW1lbnNpb25zOiBwYXBlclNpemVzLmZpbmQoc2l6ZSA9PiBzaXplLmlkID09PSBzZWxlY3RlZFBhcGVyU2l6ZSk/LmRpbWVuc2lvbnMgfHwgXCIxMDI0eDE1MzZcIixcbiAgICAgICAgICAgIGlzRnJvbnRCYWNrT25seSxcbiAgICAgICAgICAgIHVzZXJFbWFpbCxcbiAgICAgICAgICAgIGNhcmRUeXBlOiBzZWxlY3RlZFR5cGUgPT09IFwiY3VzdG9tXCIgPyBjdXN0b21DYXJkVHlwZSA6IHNlbGVjdGVkVHlwZSxcbiAgICAgICAgICAgIHRvRmllbGQsXG4gICAgICAgICAgICBmcm9tRmllbGQsXG4gICAgICAgICAgICBpc0RyYWZ0TW9kZTogZmFsc2UsXG4gICAgICAgICAgICAuLi4oaW5wdXRJbWFnZXMubGVuZ3RoID4gMCAmJiB7IFxuICAgICAgICAgICAgICBpbnB1dF9pbWFnZXM6IGlucHV0SW1hZ2VzLFxuICAgICAgICAgICAgICBpbnB1dF9pbWFnZXNfbW9kZTogXCJmcm9udF9jb3Zlcl9vbmx5XCIgIC8vIFVzZSBpbWFnZXMgYXMgcmVmZXJlbmNlIGZvciBmcm9udCBjb3ZlciBvbmx5XG4gICAgICAgICAgICB9KVxuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgIH0pO1xuXG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgU2VydmVyIGVycm9yOiAke3Jlc3BvbnNlLnN0YXR1c31gKTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgXG4gICAgICBpZiAocmVzdWx0LnN0YXR1cyAhPT0gJ3Byb2Nlc3NpbmcnKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihyZXN1bHQubWVzc2FnZSB8fCAnRmFpbGVkIHRvIHN0YXJ0IGZpbmFsIGNhcmQgZ2VuZXJhdGlvbicpO1xuICAgICAgfVxuXG4gICAgICBzZXRDdXJyZW50Sm9iSWQoam9iSWQpO1xuICAgICAgXG4gICAgICAvLyBTYXZlIGpvYiBkYXRhIGZvciByZWNvdmVyeVxuICAgICAgY29uc3Qgam9iRGF0YSA9IHtcbiAgICAgICAgam9iSWQsXG4gICAgICAgIHNlbGVjdGVkRHJhZnRJbmRleDogZGlzcGxheUluZGV4LFxuICAgICAgICBjYXJkVHlwZTogc2VsZWN0ZWRUeXBlLFxuICAgICAgICBjdXN0b21DYXJkVHlwZSxcbiAgICAgICAgdG9uZTogc2VsZWN0ZWRUb25lLFxuICAgICAgICBwcm9tcHQsXG4gICAgICAgIHBlcnNvbmFsVHJhaXRzLFxuICAgICAgICB0b0ZpZWxkLFxuICAgICAgICBmcm9tRmllbGQsXG4gICAgICAgIGZpbmFsQ2FyZE1lc3NhZ2UsXG4gICAgICAgIGlzSGFuZHdyaXR0ZW5NZXNzYWdlLFxuICAgICAgICBzZWxlY3RlZEFydGlzdGljU3R5bGUsXG4gICAgICAgIGlzRnJvbnRCYWNrT25seSxcbiAgICAgICAgc2VsZWN0ZWRQYXBlclNpemUsXG4gICAgICAgIHVzZXJFbWFpbCxcbiAgICAgICAgcmVmZXJlbmNlSW1hZ2VVcmxzXG4gICAgICB9O1xuICAgICAgcHJvcHMuc2F2ZUpvYlRvU3RvcmFnZShqb2JJZCwgam9iRGF0YSk7XG4gICAgICBcbiAgICAgIHRvYXN0LnN1Y2Nlc3MoXCLwn46oIEdlbmVyYXRpbmcgaGlnaC1xdWFsaXR5IHZlcnNpb24gb2YgeW91ciBzZWxlY3RlZCBkZXNpZ24hXCIpO1xuICAgICAgXG4gICAgICAvLyBTdWJzY3JpYmUgdG8gV2ViU29ja2V0IHVwZGF0ZXNcbiAgICAgIHN1YnNjcmliZVRvSm9iKGpvYklkKTtcblxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdGaW5hbCBjYXJkIGdlbmVyYXRpb24gZXJyb3I6JywgZXJyb3IpO1xuICAgICAgdG9hc3QuZXJyb3IoXCJGYWlsZWQgdG8gZ2VuZXJhdGUgZmluYWwgY2FyZC4gUGxlYXNlIHRyeSBhZ2Fpbi5cIik7XG4gICAgICBzZXRJc0dlbmVyYXRpbmdGaW5hbENhcmQoZmFsc2UpO1xuICAgICAgc2V0R2VuZXJhdGlvblByb2dyZXNzKFwiXCIpO1xuICAgICAgcHJvcHMuc3RvcEVsYXBzZWRUaW1lVHJhY2tpbmcoKTsgLy8gQ2xlYXIgdGltZS1iYXNlZCBwcm9ncmVzcyBvbiBlcnJvclxuICAgIH1cbiAgfSwgW2RyYWZ0Q2FyZHMsIGlzR2VuZXJhdGluZ0ZpbmFsQ2FyZCwgcHJvcHNdKTtcblxuICByZXR1cm4ge1xuICAgIGlzRHJhZnRNb2RlLFxuICAgIHNldElzRHJhZnRNb2RlLFxuICAgIGRyYWZ0Q2FyZHMsXG4gICAgc2V0RHJhZnRDYXJkcyxcbiAgICBzZWxlY3RlZERyYWZ0SW5kZXgsXG4gICAgc2V0U2VsZWN0ZWREcmFmdEluZGV4LFxuICAgIGlzR2VuZXJhdGluZ0ZpbmFsQ2FyZCxcbiAgICBzZXRJc0dlbmVyYXRpbmdGaW5hbENhcmQsXG4gICAgcHJldmlld2luZ0RyYWZ0SW5kZXgsXG4gICAgc2V0UHJldmlld2luZ0RyYWZ0SW5kZXgsXG4gICAgZHJhZnRDb21wbGV0aW9uU2hvd24sXG4gICAgc2V0RHJhZnRDb21wbGV0aW9uU2hvd24sXG4gICAgZHJhZnRDb21wbGV0aW9uQ291bnQsXG4gICAgc2V0RHJhZnRDb21wbGV0aW9uQ291bnQsXG4gICAgaGFuZGxlR2VuZXJhdGVEcmFmdENhcmRzLFxuICAgIGhhbmRsZUdlbmVyYXRlRmluYWxGcm9tRHJhZnQsXG4gICAgaXNHZW5lcmF0aW5nLFxuICAgIHNldElzR2VuZXJhdGluZyxcbiAgICBnZW5lcmF0aW9uUHJvZ3Jlc3MsXG4gICAgc2V0R2VuZXJhdGlvblByb2dyZXNzLFxuICAgIGdlbmVyYXRlZENhcmQsXG4gICAgc2V0R2VuZXJhdGVkQ2FyZCxcbiAgICBnZW5lcmF0ZWRDYXJkcyxcbiAgICBzZXRHZW5lcmF0ZWRDYXJkcyxcbiAgICBpc0NhcmRDb21wbGV0ZWQsXG4gICAgc2V0SXNDYXJkQ29tcGxldGVkLFxuICAgIGN1cnJlbnRKb2JJZCxcbiAgICBzZXRDdXJyZW50Sm9iSWRcbiAgfTtcbn0iXSwibmFtZXMiOlsidXNlU3RhdGUiLCJ1c2VDYWxsYmFjayIsInRvYXN0IiwidjQiLCJ1dWlkdjQiLCJQcm9tcHRHZW5lcmF0b3IiLCJhcnRpc3RpY1N0eWxlcyIsInBhcGVyU2l6ZXMiLCJjYXJkVG9uZXMiLCJ1c2VEcmFmdEdlbmVyYXRpb24iLCJwcm9wcyIsImlzRHJhZnRNb2RlIiwic2V0SXNEcmFmdE1vZGUiLCJkcmFmdENhcmRzIiwic2V0RHJhZnRDYXJkcyIsInNlbGVjdGVkRHJhZnRJbmRleCIsInNldFNlbGVjdGVkRHJhZnRJbmRleCIsImlzR2VuZXJhdGluZ0ZpbmFsQ2FyZCIsInNldElzR2VuZXJhdGluZ0ZpbmFsQ2FyZCIsInByZXZpZXdpbmdEcmFmdEluZGV4Iiwic2V0UHJldmlld2luZ0RyYWZ0SW5kZXgiLCJkcmFmdENvbXBsZXRpb25TaG93biIsInNldERyYWZ0Q29tcGxldGlvblNob3duIiwiZHJhZnRDb21wbGV0aW9uQ291bnQiLCJzZXREcmFmdENvbXBsZXRpb25Db3VudCIsImlzR2VuZXJhdGluZyIsInNldElzR2VuZXJhdGluZyIsImdlbmVyYXRpb25Qcm9ncmVzcyIsInNldEdlbmVyYXRpb25Qcm9ncmVzcyIsImdlbmVyYXRlZENhcmQiLCJzZXRHZW5lcmF0ZWRDYXJkIiwiZ2VuZXJhdGVkQ2FyZHMiLCJzZXRHZW5lcmF0ZWRDYXJkcyIsImlzQ2FyZENvbXBsZXRlZCIsInNldElzQ2FyZENvbXBsZXRlZCIsImN1cnJlbnRKb2JJZCIsInNldEN1cnJlbnRKb2JJZCIsImhhbmRsZUdlbmVyYXRlRHJhZnRDYXJkcyIsInVzZXJFbWFpbCIsInNlbGVjdGVkQXJ0aXN0aWNTdHlsZSIsImN1c3RvbVN0eWxlRGVzY3JpcHRpb24iLCJyZWZlcmVuY2VJbWFnZVVybHMiLCJzZWxlY3RlZERyYWZ0TW9kZWwiLCJzZWxlY3RlZFR5cGUiLCJjdXN0b21DYXJkVHlwZSIsInNlbGVjdGVkVG9uZSIsInByb21wdCIsInBlcnNvbmFsVHJhaXRzIiwidG9GaWVsZCIsImZyb21GaWVsZCIsInNlbGVjdGVkUGFwZXJTaXplIiwiZmluYWxDYXJkTWVzc2FnZSIsImlzSGFuZHdyaXR0ZW5NZXNzYWdlIiwiaXNGcm9udEJhY2tPbmx5Iiwic2F2ZUpvYlRvU3RvcmFnZSIsInN1YnNjcmliZVRvSm9iIiwic3RhcnRFbGFwc2VkVGltZVRyYWNraW5nIiwidHJpbSIsImVycm9yIiwiZW1haWxSZWdleCIsInRlc3QiLCJsZW5ndGgiLCJzdG9wRWxhcHNlZFRpbWVUcmFja2luZyIsInVuc3Vic2NyaWJlRnJvbUFsbEpvYnMiLCJjb25zb2xlIiwibG9nIiwiY2FyZFR5cGVGb3JQcm9tcHQiLCJzZWxlY3RlZFRvbmVPYmoiLCJmaW5kIiwidG9uZSIsImlkIiwidG9uZURlc2NyaXB0aW9uIiwiZGVzY3JpcHRpb24iLCJ0b0xvd2VyQ2FzZSIsImVmZmVjdGl2ZVByb21wdCIsImRyYWZ0UHJvbWlzZXMiLCJBcnJheSIsImZyb20iLCJfIiwiaW5kZXgiLCJFcnJvciIsInN0eWxlT3ZlcnJpZGUiLCJ1bmRlZmluZWQiLCJzdHlsZUxhYmVsIiwicHJlZGVmaW5lZFN0eWxlcyIsInN0eWxlTGFiZWxzIiwic2VsZWN0ZWRTdHlsZSIsInN0eWxlIiwiZHJhZnRDb25maWciLCJjYXJkVHlwZSIsInRvbmVMYWJlbCIsImxhYmVsIiwidGhlbWUiLCJyZWxhdGlvbnNoaXBGaWVsZCIsImFydGlzdGljU3R5bGUiLCJwaG90b1JlZmVyZW5jZXMiLCJpc0RyYWZ0VmFyaWF0aW9uIiwidmFyaWF0aW9uSW5kZXgiLCJmcm9udENvdmVyUHJvbXB0IiwiZ2VuZXJhdGVDcmVhdGl2ZURyYWZ0UHJvbXB0Iiwiam9iSWQiLCJpbnB1dEltYWdlcyIsInB1c2giLCJyZXF1ZXN0UGF5bG9hZCIsInByb21wdHMiLCJmcm9udENvdmVyIiwiY29uZmlnIiwidXNlck51bWJlciIsIm1vZGVsVmVyc2lvbiIsImFzcGVjdFJhdGlvIiwic2l6ZSIsInF1YWxpdHkiLCJvdXRwdXRGb3JtYXQiLCJvdXRwdXRDb21wcmVzc2lvbiIsIm1vZGVyYXRpb24iLCJkaW1lbnNpb25zIiwiaW5wdXRfaW1hZ2VzIiwiaW5wdXRfaW1hZ2VzX21vZGUiLCJwcm9tcHRzRXhpc3QiLCJwcm9tcHRLZXlzIiwicGFwZXJTaXplIiwiZW1haWwiLCJyZXNwb25zZSIsImZldGNoIiwibWV0aG9kIiwiaGVhZGVycyIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5Iiwib2siLCJlcnJvclRleHQiLCJ0ZXh0Iiwic3RhdHVzIiwicmVzdWx0IiwianNvbiIsIm1lc3NhZ2UiLCJpc0RyYWZ0IiwiZHJhZnRJbmRleCIsInN0eWxlSW5mbyIsInN0eWxlTmFtZSIsImdlbmVyYXRlZFByb21wdHMiLCJzdGFjayIsIlByb21pc2UiLCJhbGxTZXR0bGVkIiwiaGFuZGxlR2VuZXJhdGVGaW5hbEZyb21EcmFmdCIsImRpc3BsYXlJbmRleCIsInNlbGVjdGVkRHJhZnQiLCJzZWxlY3RlZEltYWdlTW9kZWwiLCJzdG9yZWRGcm9udENvdmVyUHJvbXB0IiwibWVzc2FnZUNvbnRlbnQiLCJkcmFmdFN0eWxlSW5mbyIsImZpbmFsRnJvbURyYWZ0Q29uZmlnIiwiZmluYWxQcm9tcHRzIiwiZ2VuZXJhdGVGaW5hbEZyb21EcmFmdFByb21wdHNDb21iaW5lZCIsImJhY2tDb3ZlciIsImpvYkRhdGEiLCJzdWNjZXNzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./hooks/cardStudio/useDraftGeneration.ts\n");

/***/ }),

/***/ "(ssr)/./hooks/cardStudio/useFileHandling.ts":
/*!*********************************************!*\
  !*** ./hooks/cardStudio/useFileHandling.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useFileHandling: () => (/* binding */ useFileHandling)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var sonner__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! sonner */ \"(ssr)/./node_modules/sonner/dist/index.mjs\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./constants */ \"(ssr)/./hooks/cardStudio/constants.ts\");\n/* __next_internal_client_entry_do_not_use__ useFileHandling auto */ \n\n\nfunction useFileHandling() {\n    const [handwritingSample, setHandwritingSample] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [handwritingSampleUrl, setHandwritingSampleUrl] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [referenceImages, setReferenceImages] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]);\n    const [referenceImageUrls, setReferenceImageUrls] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]);\n    const [isUploading, setIsUploading] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    // Simplified photo references with descriptions\n    const [photoReferences, setPhotoReferences] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]);\n    // File upload handler\n    const handleFileUpload = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(async (file, type)=>{\n        if (!file.type.startsWith(\"image/\")) {\n            sonner__WEBPACK_IMPORTED_MODULE_1__.toast.error(\"Please upload an image file\");\n            return;\n        }\n        setIsUploading(true);\n        try {\n            const formData = new FormData();\n            formData.append(\"file\", file);\n            const response = await fetch(`${_constants__WEBPACK_IMPORTED_MODULE_2__.BACKEND_API_BASE_URL}/upload`, {\n                method: \"POST\",\n                body: formData\n            });\n            if (!response.ok) throw new Error(`Upload failed: ${response.status}`);\n            const result = await response.json();\n            if (type === \"handwriting\") {\n                setHandwritingSample(file);\n                setHandwritingSampleUrl(result.url);\n                sonner__WEBPACK_IMPORTED_MODULE_1__.toast.success(\"Handwriting sample uploaded!\");\n            } else {\n                const newImageIndex = referenceImages.length;\n                setReferenceImages((prev)=>[\n                        ...prev,\n                        file\n                    ]);\n                setReferenceImageUrls((prev)=>[\n                        ...prev,\n                        result.url\n                    ]);\n                sonner__WEBPACK_IMPORTED_MODULE_1__.toast.success(`Reference image uploaded! ${referenceImages.length + 1} photo${referenceImages.length + 1 > 1 ? \"s\" : \"\"} ready for character creation.`);\n                // Create a simple photo reference\n                const photoRef = {\n                    imageUrl: result.url,\n                    imageIndex: newImageIndex,\n                    description: \"\" // User will fill this in via UI\n                };\n                setPhotoReferences((prev)=>[\n                        ...prev,\n                        photoRef\n                    ]);\n            }\n        } catch (error) {\n            sonner__WEBPACK_IMPORTED_MODULE_1__.toast.error(\"Upload failed. Please try again.\");\n        } finally{\n            setIsUploading(false);\n        }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [\n        referenceImages.length\n    ]);\n    const handleRemoveReferenceImage = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((index)=>{\n        const removedImage = referenceImages[index];\n        const removedUrl = referenceImageUrls[index];\n        setReferenceImages((prev)=>prev.filter((_, i)=>i !== index));\n        setReferenceImageUrls((prev)=>prev.filter((_, i)=>i !== index));\n        // Also remove associated photo reference\n        setPhotoReferences((prev)=>prev.filter((_, i)=>i !== index));\n        console.log(\"\\uD83D\\uDD0D DEBUG: Reference image removed:\", {\n            fileName: removedImage?.name,\n            url: removedUrl,\n            remainingImages: referenceImages.length - 1\n        });\n        sonner__WEBPACK_IMPORTED_MODULE_1__.toast.success(`Reference image removed! ${referenceImages.length - 1} photo${referenceImages.length - 1 !== 1 ? \"s\" : \"\"} remaining.`);\n    }, [\n        referenceImages,\n        referenceImageUrls\n    ]);\n    // Update photo description\n    const updatePhotoDescription = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((index, description)=>{\n        setPhotoReferences((prev)=>{\n            const newRefs = [\n                ...prev\n            ];\n            if (newRefs[index]) {\n                newRefs[index] = {\n                    ...newRefs[index],\n                    description\n                };\n            }\n            return newRefs;\n        });\n    }, []);\n    return {\n        handwritingSample,\n        setHandwritingSample,\n        handwritingSampleUrl,\n        setHandwritingSampleUrl,\n        referenceImages,\n        setReferenceImages,\n        referenceImageUrls,\n        setReferenceImageUrls,\n        isUploading,\n        setIsUploading,\n        handleFileUpload,\n        handleRemoveReferenceImage,\n        // Simplified photo references\n        photoReferences,\n        setPhotoReferences,\n        updatePhotoDescription\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ob29rcy9jYXJkU3R1ZGlvL3VzZUZpbGVIYW5kbGluZy50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztxRUFFOEM7QUFDZjtBQUNvQztBQUU1RCxTQUFTSTtJQUNkLE1BQU0sQ0FBQ0MsbUJBQW1CQyxxQkFBcUIsR0FBR04sK0NBQVFBLENBQWM7SUFDeEUsTUFBTSxDQUFDTyxzQkFBc0JDLHdCQUF3QixHQUFHUiwrQ0FBUUEsQ0FBZ0I7SUFDaEYsTUFBTSxDQUFDUyxpQkFBaUJDLG1CQUFtQixHQUFHViwrQ0FBUUEsQ0FBUyxFQUFFO0lBQ2pFLE1BQU0sQ0FBQ1csb0JBQW9CQyxzQkFBc0IsR0FBR1osK0NBQVFBLENBQVcsRUFBRTtJQUN6RSxNQUFNLENBQUNhLGFBQWFDLGVBQWUsR0FBR2QsK0NBQVFBLENBQUM7SUFFL0MsZ0RBQWdEO0lBQ2hELE1BQU0sQ0FBQ2UsaUJBQWlCQyxtQkFBbUIsR0FBR2hCLCtDQUFRQSxDQUFtQixFQUFFO0lBRTNFLHNCQUFzQjtJQUN0QixNQUFNaUIsbUJBQW1CaEIsa0RBQVdBLENBQUMsT0FBT2lCLE1BQVlDO1FBQ3RELElBQUksQ0FBQ0QsS0FBS0MsSUFBSSxDQUFDQyxVQUFVLENBQUMsV0FBVztZQUNuQ2xCLHlDQUFLQSxDQUFDbUIsS0FBSyxDQUFDO1lBQ1o7UUFDRjtRQUVBUCxlQUFlO1FBRWYsSUFBSTtZQUNGLE1BQU1RLFdBQVcsSUFBSUM7WUFDckJELFNBQVNFLE1BQU0sQ0FBQyxRQUFRTjtZQUV4QixNQUFNTyxXQUFXLE1BQU1DLE1BQU0sQ0FBQyxFQUFFdkIsNERBQW9CQSxDQUFDLE9BQU8sQ0FBQyxFQUFFO2dCQUM3RHdCLFFBQVE7Z0JBQ1JDLE1BQU1OO1lBQ1I7WUFFQSxJQUFJLENBQUNHLFNBQVNJLEVBQUUsRUFBRSxNQUFNLElBQUlDLE1BQU0sQ0FBQyxlQUFlLEVBQUVMLFNBQVNNLE1BQU0sQ0FBQyxDQUFDO1lBRXJFLE1BQU1DLFNBQVMsTUFBTVAsU0FBU1EsSUFBSTtZQUVsQyxJQUFJZCxTQUFTLGVBQWU7Z0JBQzFCYixxQkFBcUJZO2dCQUNyQlYsd0JBQXdCd0IsT0FBT0UsR0FBRztnQkFDbENoQyx5Q0FBS0EsQ0FBQ2lDLE9BQU8sQ0FBQztZQUNoQixPQUFPO2dCQUNMLE1BQU1DLGdCQUFnQjNCLGdCQUFnQjRCLE1BQU07Z0JBQzVDM0IsbUJBQW1CNEIsQ0FBQUEsT0FBUTsyQkFBSUE7d0JBQU1wQjtxQkFBSztnQkFDMUNOLHNCQUFzQjBCLENBQUFBLE9BQVE7MkJBQUlBO3dCQUFNTixPQUFPRSxHQUFHO3FCQUFDO2dCQUNuRGhDLHlDQUFLQSxDQUFDaUMsT0FBTyxDQUFDLENBQUMsMEJBQTBCLEVBQUUxQixnQkFBZ0I0QixNQUFNLEdBQUcsRUFBRSxNQUFNLEVBQUU1QixnQkFBZ0I0QixNQUFNLEdBQUcsSUFBSSxJQUFJLE1BQU0sR0FBRyw4QkFBOEIsQ0FBQztnQkFFdkosa0NBQWtDO2dCQUNsQyxNQUFNRSxXQUEyQjtvQkFDL0JDLFVBQVVSLE9BQU9FLEdBQUc7b0JBQ3BCTyxZQUFZTDtvQkFDWk0sYUFBYSxHQUFHLGdDQUFnQztnQkFDbEQ7Z0JBRUExQixtQkFBbUJzQixDQUFBQSxPQUFROzJCQUFJQTt3QkFBTUM7cUJBQVM7WUFDaEQ7UUFDRixFQUFFLE9BQU9sQixPQUFPO1lBQ2RuQix5Q0FBS0EsQ0FBQ21CLEtBQUssQ0FBQztRQUNkLFNBQVU7WUFDUlAsZUFBZTtRQUNqQjtJQUNBLHVEQUF1RDtJQUN6RCxHQUFHO1FBQUNMLGdCQUFnQjRCLE1BQU07S0FBQztJQUUzQixNQUFNTSw2QkFBNkIxQyxrREFBV0EsQ0FBQyxDQUFDMkM7UUFDOUMsTUFBTUMsZUFBZXBDLGVBQWUsQ0FBQ21DLE1BQU07UUFDM0MsTUFBTUUsYUFBYW5DLGtCQUFrQixDQUFDaUMsTUFBTTtRQUU1Q2xDLG1CQUFtQjRCLENBQUFBLE9BQVFBLEtBQUtTLE1BQU0sQ0FBQyxDQUFDQyxHQUFHQyxJQUFNQSxNQUFNTDtRQUN2RGhDLHNCQUFzQjBCLENBQUFBLE9BQVFBLEtBQUtTLE1BQU0sQ0FBQyxDQUFDQyxHQUFHQyxJQUFNQSxNQUFNTDtRQUUxRCx5Q0FBeUM7UUFDekM1QixtQkFBbUJzQixDQUFBQSxPQUFRQSxLQUFLUyxNQUFNLENBQUMsQ0FBQ0MsR0FBR0MsSUFBTUEsTUFBTUw7UUFFdkRNLFFBQVFDLEdBQUcsQ0FBQyxnREFBc0M7WUFDaERDLFVBQVVQLGNBQWNRO1lBQ3hCbkIsS0FBS1k7WUFDTFEsaUJBQWlCN0MsZ0JBQWdCNEIsTUFBTSxHQUFHO1FBQzVDO1FBRUFuQyx5Q0FBS0EsQ0FBQ2lDLE9BQU8sQ0FBQyxDQUFDLHlCQUF5QixFQUFFMUIsZ0JBQWdCNEIsTUFBTSxHQUFHLEVBQUUsTUFBTSxFQUFFNUIsZ0JBQWdCNEIsTUFBTSxHQUFHLE1BQU0sSUFBSSxNQUFNLEdBQUcsV0FBVyxDQUFDO0lBQ3ZJLEdBQUc7UUFBQzVCO1FBQWlCRTtLQUFtQjtJQUV4QywyQkFBMkI7SUFDM0IsTUFBTTRDLHlCQUF5QnRELGtEQUFXQSxDQUFDLENBQUMyQyxPQUFlRjtRQUN6RDFCLG1CQUFtQnNCLENBQUFBO1lBQ2pCLE1BQU1rQixVQUFVO21CQUFJbEI7YUFBSztZQUN6QixJQUFJa0IsT0FBTyxDQUFDWixNQUFNLEVBQUU7Z0JBQ2xCWSxPQUFPLENBQUNaLE1BQU0sR0FBRztvQkFBRSxHQUFHWSxPQUFPLENBQUNaLE1BQU07b0JBQUVGO2dCQUFZO1lBQ3BEO1lBQ0EsT0FBT2M7UUFDVDtJQUNGLEdBQUcsRUFBRTtJQUVMLE9BQU87UUFDTG5EO1FBQ0FDO1FBQ0FDO1FBQ0FDO1FBQ0FDO1FBQ0FDO1FBQ0FDO1FBQ0FDO1FBQ0FDO1FBQ0FDO1FBQ0FHO1FBQ0EwQjtRQUNBLDhCQUE4QjtRQUM5QjVCO1FBQ0FDO1FBQ0F1QztJQUNGO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92aWJlY2FyZGluZy8uL2hvb2tzL2NhcmRTdHVkaW8vdXNlRmlsZUhhbmRsaW5nLnRzP2M0ZjMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2UgY2xpZW50XCI7XG5cbmltcG9ydCB7IHVzZVN0YXRlLCB1c2VDYWxsYmFjayB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgdG9hc3QgfSBmcm9tIFwic29ubmVyXCI7XG5pbXBvcnQgeyBCQUNLRU5EX0FQSV9CQVNFX1VSTCwgUGhvdG9SZWZlcmVuY2UgfSBmcm9tICcuL2NvbnN0YW50cyc7XG5cbmV4cG9ydCBmdW5jdGlvbiB1c2VGaWxlSGFuZGxpbmcoKSB7XG4gIGNvbnN0IFtoYW5kd3JpdGluZ1NhbXBsZSwgc2V0SGFuZHdyaXRpbmdTYW1wbGVdID0gdXNlU3RhdGU8RmlsZSB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbaGFuZHdyaXRpbmdTYW1wbGVVcmwsIHNldEhhbmR3cml0aW5nU2FtcGxlVXJsXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbcmVmZXJlbmNlSW1hZ2VzLCBzZXRSZWZlcmVuY2VJbWFnZXNdID0gdXNlU3RhdGU8RmlsZVtdPihbXSk7XG4gIGNvbnN0IFtyZWZlcmVuY2VJbWFnZVVybHMsIHNldFJlZmVyZW5jZUltYWdlVXJsc10gPSB1c2VTdGF0ZTxzdHJpbmdbXT4oW10pO1xuICBjb25zdCBbaXNVcGxvYWRpbmcsIHNldElzVXBsb2FkaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgXG4gIC8vIFNpbXBsaWZpZWQgcGhvdG8gcmVmZXJlbmNlcyB3aXRoIGRlc2NyaXB0aW9uc1xuICBjb25zdCBbcGhvdG9SZWZlcmVuY2VzLCBzZXRQaG90b1JlZmVyZW5jZXNdID0gdXNlU3RhdGU8UGhvdG9SZWZlcmVuY2VbXT4oW10pO1xuXG4gIC8vIEZpbGUgdXBsb2FkIGhhbmRsZXJcbiAgY29uc3QgaGFuZGxlRmlsZVVwbG9hZCA9IHVzZUNhbGxiYWNrKGFzeW5jIChmaWxlOiBGaWxlLCB0eXBlOiAnaGFuZHdyaXRpbmcnIHwgJ3JlZmVyZW5jZScpID0+IHtcbiAgICBpZiAoIWZpbGUudHlwZS5zdGFydHNXaXRoKCdpbWFnZS8nKSkge1xuICAgICAgdG9hc3QuZXJyb3IoXCJQbGVhc2UgdXBsb2FkIGFuIGltYWdlIGZpbGVcIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgc2V0SXNVcGxvYWRpbmcodHJ1ZSk7XG4gICAgXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7XG4gICAgICBmb3JtRGF0YS5hcHBlbmQoJ2ZpbGUnLCBmaWxlKTtcbiAgICAgIFxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgJHtCQUNLRU5EX0FQSV9CQVNFX1VSTH0vdXBsb2FkYCwge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgYm9keTogZm9ybURhdGEsXG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgaWYgKCFyZXNwb25zZS5vaykgdGhyb3cgbmV3IEVycm9yKGBVcGxvYWQgZmFpbGVkOiAke3Jlc3BvbnNlLnN0YXR1c31gKTtcbiAgICAgIFxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgXG4gICAgICBpZiAodHlwZSA9PT0gJ2hhbmR3cml0aW5nJykge1xuICAgICAgICBzZXRIYW5kd3JpdGluZ1NhbXBsZShmaWxlKTtcbiAgICAgICAgc2V0SGFuZHdyaXRpbmdTYW1wbGVVcmwocmVzdWx0LnVybCk7XG4gICAgICAgIHRvYXN0LnN1Y2Nlc3MoXCJIYW5kd3JpdGluZyBzYW1wbGUgdXBsb2FkZWQhXCIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgbmV3SW1hZ2VJbmRleCA9IHJlZmVyZW5jZUltYWdlcy5sZW5ndGg7XG4gICAgICAgIHNldFJlZmVyZW5jZUltYWdlcyhwcmV2ID0+IFsuLi5wcmV2LCBmaWxlXSk7XG4gICAgICAgIHNldFJlZmVyZW5jZUltYWdlVXJscyhwcmV2ID0+IFsuLi5wcmV2LCByZXN1bHQudXJsXSk7XG4gICAgICAgIHRvYXN0LnN1Y2Nlc3MoYFJlZmVyZW5jZSBpbWFnZSB1cGxvYWRlZCEgJHtyZWZlcmVuY2VJbWFnZXMubGVuZ3RoICsgMX0gcGhvdG8ke3JlZmVyZW5jZUltYWdlcy5sZW5ndGggKyAxID4gMSA/ICdzJyA6ICcnfSByZWFkeSBmb3IgY2hhcmFjdGVyIGNyZWF0aW9uLmApO1xuICAgICAgICBcbiAgICAgICAgLy8gQ3JlYXRlIGEgc2ltcGxlIHBob3RvIHJlZmVyZW5jZVxuICAgICAgICBjb25zdCBwaG90b1JlZjogUGhvdG9SZWZlcmVuY2UgPSB7XG4gICAgICAgICAgaW1hZ2VVcmw6IHJlc3VsdC51cmwsXG4gICAgICAgICAgaW1hZ2VJbmRleDogbmV3SW1hZ2VJbmRleCxcbiAgICAgICAgICBkZXNjcmlwdGlvbjogJycgLy8gVXNlciB3aWxsIGZpbGwgdGhpcyBpbiB2aWEgVUlcbiAgICAgICAgfTtcbiAgICAgICAgXG4gICAgICAgIHNldFBob3RvUmVmZXJlbmNlcyhwcmV2ID0+IFsuLi5wcmV2LCBwaG90b1JlZl0pO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICB0b2FzdC5lcnJvcihcIlVwbG9hZCBmYWlsZWQuIFBsZWFzZSB0cnkgYWdhaW4uXCIpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBzZXRJc1VwbG9hZGluZyhmYWxzZSk7XG4gICAgfVxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC1ob29rcy9leGhhdXN0aXZlLWRlcHNcbiAgfSwgW3JlZmVyZW5jZUltYWdlcy5sZW5ndGhdKTtcblxuICBjb25zdCBoYW5kbGVSZW1vdmVSZWZlcmVuY2VJbWFnZSA9IHVzZUNhbGxiYWNrKChpbmRleDogbnVtYmVyKSA9PiB7XG4gICAgY29uc3QgcmVtb3ZlZEltYWdlID0gcmVmZXJlbmNlSW1hZ2VzW2luZGV4XTtcbiAgICBjb25zdCByZW1vdmVkVXJsID0gcmVmZXJlbmNlSW1hZ2VVcmxzW2luZGV4XTtcbiAgICBcbiAgICBzZXRSZWZlcmVuY2VJbWFnZXMocHJldiA9PiBwcmV2LmZpbHRlcigoXywgaSkgPT4gaSAhPT0gaW5kZXgpKTtcbiAgICBzZXRSZWZlcmVuY2VJbWFnZVVybHMocHJldiA9PiBwcmV2LmZpbHRlcigoXywgaSkgPT4gaSAhPT0gaW5kZXgpKTtcbiAgICBcbiAgICAvLyBBbHNvIHJlbW92ZSBhc3NvY2lhdGVkIHBob3RvIHJlZmVyZW5jZVxuICAgIHNldFBob3RvUmVmZXJlbmNlcyhwcmV2ID0+IHByZXYuZmlsdGVyKChfLCBpKSA9PiBpICE9PSBpbmRleCkpO1xuICAgIFxuICAgIGNvbnNvbGUubG9nKFwi8J+UjSBERUJVRzogUmVmZXJlbmNlIGltYWdlIHJlbW92ZWQ6XCIsIHtcbiAgICAgIGZpbGVOYW1lOiByZW1vdmVkSW1hZ2U/Lm5hbWUsXG4gICAgICB1cmw6IHJlbW92ZWRVcmwsXG4gICAgICByZW1haW5pbmdJbWFnZXM6IHJlZmVyZW5jZUltYWdlcy5sZW5ndGggLSAxXG4gICAgfSk7XG4gICAgXG4gICAgdG9hc3Quc3VjY2VzcyhgUmVmZXJlbmNlIGltYWdlIHJlbW92ZWQhICR7cmVmZXJlbmNlSW1hZ2VzLmxlbmd0aCAtIDF9IHBob3RvJHtyZWZlcmVuY2VJbWFnZXMubGVuZ3RoIC0gMSAhPT0gMSA/ICdzJyA6ICcnfSByZW1haW5pbmcuYCk7XG4gIH0sIFtyZWZlcmVuY2VJbWFnZXMsIHJlZmVyZW5jZUltYWdlVXJsc10pO1xuXG4gIC8vIFVwZGF0ZSBwaG90byBkZXNjcmlwdGlvblxuICBjb25zdCB1cGRhdGVQaG90b0Rlc2NyaXB0aW9uID0gdXNlQ2FsbGJhY2soKGluZGV4OiBudW1iZXIsIGRlc2NyaXB0aW9uOiBzdHJpbmcpID0+IHtcbiAgICBzZXRQaG90b1JlZmVyZW5jZXMocHJldiA9PiB7XG4gICAgICBjb25zdCBuZXdSZWZzID0gWy4uLnByZXZdO1xuICAgICAgaWYgKG5ld1JlZnNbaW5kZXhdKSB7XG4gICAgICAgIG5ld1JlZnNbaW5kZXhdID0geyAuLi5uZXdSZWZzW2luZGV4XSwgZGVzY3JpcHRpb24gfTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBuZXdSZWZzO1xuICAgIH0pO1xuICB9LCBbXSk7XG5cbiAgcmV0dXJuIHtcbiAgICBoYW5kd3JpdGluZ1NhbXBsZSxcbiAgICBzZXRIYW5kd3JpdGluZ1NhbXBsZSxcbiAgICBoYW5kd3JpdGluZ1NhbXBsZVVybCxcbiAgICBzZXRIYW5kd3JpdGluZ1NhbXBsZVVybCxcbiAgICByZWZlcmVuY2VJbWFnZXMsXG4gICAgc2V0UmVmZXJlbmNlSW1hZ2VzLFxuICAgIHJlZmVyZW5jZUltYWdlVXJscyxcbiAgICBzZXRSZWZlcmVuY2VJbWFnZVVybHMsXG4gICAgaXNVcGxvYWRpbmcsXG4gICAgc2V0SXNVcGxvYWRpbmcsXG4gICAgaGFuZGxlRmlsZVVwbG9hZCxcbiAgICBoYW5kbGVSZW1vdmVSZWZlcmVuY2VJbWFnZSxcbiAgICAvLyBTaW1wbGlmaWVkIHBob3RvIHJlZmVyZW5jZXNcbiAgICBwaG90b1JlZmVyZW5jZXMsXG4gICAgc2V0UGhvdG9SZWZlcmVuY2VzLFxuICAgIHVwZGF0ZVBob3RvRGVzY3JpcHRpb25cbiAgfTtcbn0iXSwibmFtZXMiOlsidXNlU3RhdGUiLCJ1c2VDYWxsYmFjayIsInRvYXN0IiwiQkFDS0VORF9BUElfQkFTRV9VUkwiLCJ1c2VGaWxlSGFuZGxpbmciLCJoYW5kd3JpdGluZ1NhbXBsZSIsInNldEhhbmR3cml0aW5nU2FtcGxlIiwiaGFuZHdyaXRpbmdTYW1wbGVVcmwiLCJzZXRIYW5kd3JpdGluZ1NhbXBsZVVybCIsInJlZmVyZW5jZUltYWdlcyIsInNldFJlZmVyZW5jZUltYWdlcyIsInJlZmVyZW5jZUltYWdlVXJscyIsInNldFJlZmVyZW5jZUltYWdlVXJscyIsImlzVXBsb2FkaW5nIiwic2V0SXNVcGxvYWRpbmciLCJwaG90b1JlZmVyZW5jZXMiLCJzZXRQaG90b1JlZmVyZW5jZXMiLCJoYW5kbGVGaWxlVXBsb2FkIiwiZmlsZSIsInR5cGUiLCJzdGFydHNXaXRoIiwiZXJyb3IiLCJmb3JtRGF0YSIsIkZvcm1EYXRhIiwiYXBwZW5kIiwicmVzcG9uc2UiLCJmZXRjaCIsIm1ldGhvZCIsImJvZHkiLCJvayIsIkVycm9yIiwic3RhdHVzIiwicmVzdWx0IiwianNvbiIsInVybCIsInN1Y2Nlc3MiLCJuZXdJbWFnZUluZGV4IiwibGVuZ3RoIiwicHJldiIsInBob3RvUmVmIiwiaW1hZ2VVcmwiLCJpbWFnZUluZGV4IiwiZGVzY3JpcHRpb24iLCJoYW5kbGVSZW1vdmVSZWZlcmVuY2VJbWFnZSIsImluZGV4IiwicmVtb3ZlZEltYWdlIiwicmVtb3ZlZFVybCIsImZpbHRlciIsIl8iLCJpIiwiY29uc29sZSIsImxvZyIsImZpbGVOYW1lIiwibmFtZSIsInJlbWFpbmluZ0ltYWdlcyIsInVwZGF0ZVBob3RvRGVzY3JpcHRpb24iLCJuZXdSZWZzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./hooks/cardStudio/useFileHandling.ts\n");

/***/ }),

/***/ "(ssr)/./hooks/cardStudio/useJobManagementSimplified.ts":
/*!********************************************************!*\
  !*** ./hooks/cardStudio/useJobManagementSimplified.ts ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useJobManagement: () => (/* binding */ useJobManagement)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! uuid */ \"(ssr)/./node_modules/uuid/dist/esm/v4.js\");\n/* harmony import */ var _lib_storageManager__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/storageManager */ \"(ssr)/./lib/storageManager.ts\");\n/* __next_internal_client_entry_do_not_use__ useJobManagement auto */ \n\n\nfunction useJobManagement() {\n    const [currentJobId, setCurrentJobId] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [generationProgress, setGenerationProgress] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(\"\");\n    const [progressPercentage, setProgressPercentage] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(0);\n    const [generationStartTime, setGenerationStartTime] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [currentElapsedTime, setCurrentElapsedTime] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(0);\n    const [elapsedTimeInterval, setElapsedTimeInterval] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [generationDuration, setGenerationDuration] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [currentJobType, setCurrentJobType] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    // Save job for recovery during generation\n    const saveJobToStorage = (jobId, jobData)=>{\n        _lib_storageManager__WEBPACK_IMPORTED_MODULE_1__.storage.saveRecovery(jobId, jobData);\n    };\n    // No longer needed - progress tracked in state only\n    const updateJobProgress = (jobId, progress, progressText)=>{\n    // Progress is only tracked in component state during generation\n    };\n    // Remove job from storage\n    const removeJobFromStorage = (jobId)=>{\n        _lib_storageManager__WEBPACK_IMPORTED_MODULE_1__.storage.clearRecovery();\n    };\n    // No longer needed - storage manager handles expiration\n    const cleanupExpiredJobs = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(()=>{\n    // Storage manager handles expiration automatically\n    }, []);\n    // Mark job complete and add to recent cards\n    const markJobComplete = (jobId, completedCard)=>{\n        // Clear recovery data\n        _lib_storageManager__WEBPACK_IMPORTED_MODULE_1__.storage.clearRecovery();\n        // Add to recent cards if completed\n        if (completedCard) {\n            _lib_storageManager__WEBPACK_IMPORTED_MODULE_1__.storage.addRecentCard({\n                id: completedCard.id,\n                date: new Date().toISOString(),\n                type: completedCard.cardType || \"unknown\",\n                tone: completedCard.tone || \"unknown\",\n                recipient: completedCard.to,\n                preview: completedCard.images?.front\n            });\n        }\n    };\n    // Start elapsed time tracking\n    const startElapsedTimeTracking = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((jobType = \"final\")=>{\n        const start = Date.now();\n        setGenerationStartTime(start);\n        setCurrentElapsedTime(0);\n        setProgressPercentage(0);\n        setCurrentJobType(jobType);\n        if (elapsedTimeInterval) {\n            clearInterval(elapsedTimeInterval);\n        }\n        // Expected durations in seconds\n        const expectedDuration = jobType === \"draft\" ? 45 : 105;\n        const interval = setInterval(()=>{\n            const elapsed = (Date.now() - start) / 1000;\n            setCurrentElapsedTime(elapsed);\n            // Calculate progress based on elapsed time\n            let progress = 0;\n            if (elapsed < expectedDuration) {\n                progress = Math.min(95, elapsed / expectedDuration * 95);\n            } else {\n                const overtime = elapsed - expectedDuration;\n                const overtimeRatio = overtime / expectedDuration;\n                progress = 95 + Math.min(4, overtimeRatio * 4);\n            }\n            setProgressPercentage(Math.round(progress));\n        }, 1000);\n        setElapsedTimeInterval(interval);\n    }, [\n        elapsedTimeInterval\n    ]);\n    // Stop elapsed time tracking\n    const stopElapsedTimeTracking = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(()=>{\n        if (elapsedTimeInterval) {\n            clearInterval(elapsedTimeInterval);\n            setElapsedTimeInterval(null);\n        }\n        if (generationStartTime) {\n            setGenerationDuration((Date.now() - generationStartTime) / 1000);\n        }\n    }, [\n        elapsedTimeInterval,\n        generationStartTime\n    ]);\n    // Format elapsed time for display\n    const formatElapsedTime = (seconds)=>{\n        const mins = Math.floor(seconds / 60);\n        const secs = Math.floor(seconds % 60);\n        return `${mins}:${secs.toString().padStart(2, \"0\")}`;\n    };\n    // Create new job ID\n    const createNewJobId = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((prefix = \"\")=>{\n        const jobId = prefix ? `${prefix}-${(0,uuid__WEBPACK_IMPORTED_MODULE_2__[\"default\"])()}` : (0,uuid__WEBPACK_IMPORTED_MODULE_2__[\"default\"])();\n        setCurrentJobId(jobId);\n        return jobId;\n    }, []);\n    // Clean up on unmount\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        return ()=>{\n            if (elapsedTimeInterval) {\n                clearInterval(elapsedTimeInterval);\n            }\n        };\n    }, [\n        elapsedTimeInterval\n    ]);\n    return {\n        currentJobId,\n        setCurrentJobId,\n        generationProgress,\n        setGenerationProgress,\n        progressPercentage,\n        setProgressPercentage,\n        generationStartTime,\n        currentElapsedTime,\n        generationDuration,\n        currentJobType,\n        saveJobToStorage,\n        updateJobProgress,\n        removeJobFromStorage,\n        cleanupExpiredJobs,\n        markJobComplete,\n        startElapsedTimeTracking,\n        stopElapsedTimeTracking,\n        formatElapsedTime,\n        createNewJobId\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ob29rcy9jYXJkU3R1ZGlvL3VzZUpvYk1hbmFnZW1lbnRTaW1wbGlmaWVkLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O3NFQUV5RDtBQUNyQjtBQUVXO0FBRXhDLFNBQVNNO0lBQ2QsTUFBTSxDQUFDQyxjQUFjQyxnQkFBZ0IsR0FBR1IsK0NBQVFBLENBQWdCO0lBQ2hFLE1BQU0sQ0FBQ1Msb0JBQW9CQyxzQkFBc0IsR0FBR1YsK0NBQVFBLENBQVM7SUFDckUsTUFBTSxDQUFDVyxvQkFBb0JDLHNCQUFzQixHQUFHWiwrQ0FBUUEsQ0FBUztJQUNyRSxNQUFNLENBQUNhLHFCQUFxQkMsdUJBQXVCLEdBQUdkLCtDQUFRQSxDQUFnQjtJQUM5RSxNQUFNLENBQUNlLG9CQUFvQkMsc0JBQXNCLEdBQUdoQiwrQ0FBUUEsQ0FBUztJQUNyRSxNQUFNLENBQUNpQixxQkFBcUJDLHVCQUF1QixHQUFHbEIsK0NBQVFBLENBQXdCO0lBQ3RGLE1BQU0sQ0FBQ21CLG9CQUFvQkMsc0JBQXNCLEdBQUdwQiwrQ0FBUUEsQ0FBZ0I7SUFDNUUsTUFBTSxDQUFDcUIsZ0JBQWdCQyxrQkFBa0IsR0FBR3RCLCtDQUFRQSxDQUEyQjtJQUUvRSwwQ0FBMEM7SUFDMUMsTUFBTXVCLG1CQUFtQixDQUFDQyxPQUFlQztRQUN2Q3BCLHdEQUFPQSxDQUFDcUIsWUFBWSxDQUFDRixPQUFPQztJQUM5QjtJQUVBLG9EQUFvRDtJQUNwRCxNQUFNRSxvQkFBb0IsQ0FBQ0gsT0FBZUksVUFBa0JDO0lBQzFELGdFQUFnRTtJQUNsRTtJQUVBLDBCQUEwQjtJQUMxQixNQUFNQyx1QkFBdUIsQ0FBQ047UUFDNUJuQix3REFBT0EsQ0FBQzBCLGFBQWE7SUFDdkI7SUFFQSx3REFBd0Q7SUFDeEQsTUFBTUMscUJBQXFCL0Isa0RBQVdBLENBQUM7SUFDckMsbURBQW1EO0lBQ3JELEdBQUcsRUFBRTtJQUVMLDRDQUE0QztJQUM1QyxNQUFNZ0Msa0JBQWtCLENBQUNULE9BQWVVO1FBQ3RDLHNCQUFzQjtRQUN0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Y2FyZFN0dWRpby91c2VKb2JNYW5hZ2VtZW50U2ltcGxpZmllZC50cz9kNDYzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIGNsaWVudFwiO1xuXG5pbXBvcnQgeyB1c2VTdGF0ZSwgdXNlQ2FsbGJhY2ssIHVzZUVmZmVjdCB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgdjQgYXMgdXVpZHY0IH0gZnJvbSAndXVpZCc7XG5pbXBvcnQgeyBHZW5lcmF0ZWRDYXJkIH0gZnJvbSAnLi9jb25zdGFudHMnO1xuaW1wb3J0IHsgc3RvcmFnZSB9IGZyb20gJ0AvbGliL3N0b3JhZ2VNYW5hZ2VyJztcblxuZXhwb3J0IGZ1bmN0aW9uIHVzZUpvYk1hbmFnZW1lbnQoKSB7XG4gIGNvbnN0IFtjdXJyZW50Sm9iSWQsIHNldEN1cnJlbnRKb2JJZF0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW2dlbmVyYXRpb25Qcm9ncmVzcywgc2V0R2VuZXJhdGlvblByb2dyZXNzXSA9IHVzZVN0YXRlPHN0cmluZz4oXCJcIik7XG4gIGNvbnN0IFtwcm9ncmVzc1BlcmNlbnRhZ2UsIHNldFByb2dyZXNzUGVyY2VudGFnZV0gPSB1c2VTdGF0ZTxudW1iZXI+KDApO1xuICBjb25zdCBbZ2VuZXJhdGlvblN0YXJ0VGltZSwgc2V0R2VuZXJhdGlvblN0YXJ0VGltZV0gPSB1c2VTdGF0ZTxudW1iZXIgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW2N1cnJlbnRFbGFwc2VkVGltZSwgc2V0Q3VycmVudEVsYXBzZWRUaW1lXSA9IHVzZVN0YXRlPG51bWJlcj4oMCk7XG4gIGNvbnN0IFtlbGFwc2VkVGltZUludGVydmFsLCBzZXRFbGFwc2VkVGltZUludGVydmFsXSA9IHVzZVN0YXRlPE5vZGVKUy5UaW1lb3V0IHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtnZW5lcmF0aW9uRHVyYXRpb24sIHNldEdlbmVyYXRpb25EdXJhdGlvbl0gPSB1c2VTdGF0ZTxudW1iZXIgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW2N1cnJlbnRKb2JUeXBlLCBzZXRDdXJyZW50Sm9iVHlwZV0gPSB1c2VTdGF0ZTwnZHJhZnQnIHwgJ2ZpbmFsJyB8IG51bGw+KG51bGwpO1xuXG4gIC8vIFNhdmUgam9iIGZvciByZWNvdmVyeSBkdXJpbmcgZ2VuZXJhdGlvblxuICBjb25zdCBzYXZlSm9iVG9TdG9yYWdlID0gKGpvYklkOiBzdHJpbmcsIGpvYkRhdGE6IGFueSkgPT4ge1xuICAgIHN0b3JhZ2Uuc2F2ZVJlY292ZXJ5KGpvYklkLCBqb2JEYXRhKTtcbiAgfTtcblxuICAvLyBObyBsb25nZXIgbmVlZGVkIC0gcHJvZ3Jlc3MgdHJhY2tlZCBpbiBzdGF0ZSBvbmx5XG4gIGNvbnN0IHVwZGF0ZUpvYlByb2dyZXNzID0gKGpvYklkOiBzdHJpbmcsIHByb2dyZXNzOiBudW1iZXIsIHByb2dyZXNzVGV4dDogc3RyaW5nKSA9PiB7XG4gICAgLy8gUHJvZ3Jlc3MgaXMgb25seSB0cmFja2VkIGluIGNvbXBvbmVudCBzdGF0ZSBkdXJpbmcgZ2VuZXJhdGlvblxuICB9O1xuXG4gIC8vIFJlbW92ZSBqb2IgZnJvbSBzdG9yYWdlXG4gIGNvbnN0IHJlbW92ZUpvYkZyb21TdG9yYWdlID0gKGpvYklkOiBzdHJpbmcpID0+IHtcbiAgICBzdG9yYWdlLmNsZWFyUmVjb3ZlcnkoKTtcbiAgfTtcblxuICAvLyBObyBsb25nZXIgbmVlZGVkIC0gc3RvcmFnZSBtYW5hZ2VyIGhhbmRsZXMgZXhwaXJhdGlvblxuICBjb25zdCBjbGVhbnVwRXhwaXJlZEpvYnMgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgLy8gU3RvcmFnZSBtYW5hZ2VyIGhhbmRsZXMgZXhwaXJhdGlvbiBhdXRvbWF0aWNhbGx5XG4gIH0sIFtdKTtcblxuICAvLyBNYXJrIGpvYiBjb21wbGV0ZSBhbmQgYWRkIHRvIHJlY2VudCBjYXJkc1xuICBjb25zdCBtYXJrSm9iQ29tcGxldGUgPSAoam9iSWQ6IHN0cmluZywgY29tcGxldGVkQ2FyZD86IEdlbmVyYXRlZENhcmQpID0+IHtcbiAgICAvLyBDbGVhciByZWNvdmVyeSBkYXRhXG4gICAgc3RvcmFnZS5jbGVhclJlY292ZXJ5KCk7XG4gICAgXG4gICAgLy8gQWRkIHRvIHJlY2VudCBjYXJkcyBpZiBjb21wbGV0ZWRcbiAgICBpZiAoY29tcGxldGVkQ2FyZCkge1xuICAgICAgc3RvcmFnZS5hZGRSZWNlbnRDYXJkKHtcbiAgICAgICAgaWQ6IGNvbXBsZXRlZENhcmQuaWQsXG4gICAgICAgIGRhdGU6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgdHlwZTogY29tcGxldGVkQ2FyZC5jYXJkVHlwZSB8fCAndW5rbm93bicsXG4gICAgICAgIHRvbmU6IGNvbXBsZXRlZENhcmQudG9uZSB8fCAndW5rbm93bicsXG4gICAgICAgIHJlY2lwaWVudDogY29tcGxldGVkQ2FyZC50byxcbiAgICAgICAgcHJldmlldzogY29tcGxldGVkQ2FyZC5pbWFnZXM/LmZyb250XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG5cbiAgLy8gU3RhcnQgZWxhcHNlZCB0aW1lIHRyYWNraW5nXG4gIGNvbnN0IHN0YXJ0RWxhcHNlZFRpbWVUcmFja2luZyA9IHVzZUNhbGxiYWNrKChqb2JUeXBlOiAnZHJhZnQnIHwgJ2ZpbmFsJyA9ICdmaW5hbCcpID0+IHtcbiAgICBjb25zdCBzdGFydCA9IERhdGUubm93KCk7XG4gICAgc2V0R2VuZXJhdGlvblN0YXJ0VGltZShzdGFydCk7XG4gICAgc2V0Q3VycmVudEVsYXBzZWRUaW1lKDApO1xuICAgIHNldFByb2dyZXNzUGVyY2VudGFnZSgwKTtcbiAgICBzZXRDdXJyZW50Sm9iVHlwZShqb2JUeXBlKTtcbiAgICBcbiAgICBpZiAoZWxhcHNlZFRpbWVJbnRlcnZhbCkge1xuICAgICAgY2xlYXJJbnRlcnZhbChlbGFwc2VkVGltZUludGVydmFsKTtcbiAgICB9XG4gICAgXG4gICAgLy8gRXhwZWN0ZWQgZHVyYXRpb25zIGluIHNlY29uZHNcbiAgICBjb25zdCBleHBlY3RlZER1cmF0aW9uID0gam9iVHlwZSA9PT0gJ2RyYWZ0JyA/IDQ1IDogMTA1O1xuICAgIFxuICAgIGNvbnN0IGludGVydmFsID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgY29uc3QgZWxhcHNlZCA9IChEYXRlLm5vdygpIC0gc3RhcnQpIC8gMTAwMDtcbiAgICAgIHNldEN1cnJlbnRFbGFwc2VkVGltZShlbGFwc2VkKTtcbiAgICAgIFxuICAgICAgLy8gQ2FsY3VsYXRlIHByb2dyZXNzIGJhc2VkIG9uIGVsYXBzZWQgdGltZVxuICAgICAgbGV0IHByb2dyZXNzID0gMDtcbiAgICAgIGlmIChlbGFwc2VkIDwgZXhwZWN0ZWREdXJhdGlvbikge1xuICAgICAgICBwcm9ncmVzcyA9IE1hdGgubWluKDk1LCAoZWxhcHNlZCAvIGV4cGVjdGVkRHVyYXRpb24pICogOTUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3Qgb3ZlcnRpbWUgPSBlbGFwc2VkIC0gZXhwZWN0ZWREdXJhdGlvbjtcbiAgICAgICAgY29uc3Qgb3ZlcnRpbWVSYXRpbyA9IG92ZXJ0aW1lIC8gZXhwZWN0ZWREdXJhdGlvbjtcbiAgICAgICAgcHJvZ3Jlc3MgPSA5NSArIE1hdGgubWluKDQsIG92ZXJ0aW1lUmF0aW8gKiA0KTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgc2V0UHJvZ3Jlc3NQZXJjZW50YWdlKE1hdGgucm91bmQocHJvZ3Jlc3MpKTtcbiAgICB9LCAxMDAwKTtcbiAgICBcbiAgICBzZXRFbGFwc2VkVGltZUludGVydmFsKGludGVydmFsKTtcbiAgfSwgW2VsYXBzZWRUaW1lSW50ZXJ2YWxdKTtcblxuICAvLyBTdG9wIGVsYXBzZWQgdGltZSB0cmFja2luZ1xuICBjb25zdCBzdG9wRWxhcHNlZFRpbWVUcmFja2luZyA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBpZiAoZWxhcHNlZFRpbWVJbnRlcnZhbCkge1xuICAgICAgY2xlYXJJbnRlcnZhbChlbGFwc2VkVGltZUludGVydmFsKTtcbiAgICAgIHNldEVsYXBzZWRUaW1lSW50ZXJ2YWwobnVsbCk7XG4gICAgfVxuICAgIGlmIChnZW5lcmF0aW9uU3RhcnRUaW1lKSB7XG4gICAgICBzZXRHZW5lcmF0aW9uRHVyYXRpb24oKERhdGUubm93KCkgLSBnZW5lcmF0aW9uU3RhcnRUaW1lKSAvIDEwMDApO1xuICAgIH1cbiAgfSwgW2VsYXBzZWRUaW1lSW50ZXJ2YWwsIGdlbmVyYXRpb25TdGFydFRpbWVdKTtcblxuICAvLyBGb3JtYXQgZWxhcHNlZCB0aW1lIGZvciBkaXNwbGF5XG4gIGNvbnN0IGZvcm1hdEVsYXBzZWRUaW1lID0gKHNlY29uZHM6IG51bWJlcik6IHN0cmluZyA9PiB7XG4gICAgY29uc3QgbWlucyA9IE1hdGguZmxvb3Ioc2Vjb25kcyAvIDYwKTtcbiAgICBjb25zdCBzZWNzID0gTWF0aC5mbG9vcihzZWNvbmRzICUgNjApO1xuICAgIHJldHVybiBgJHttaW5zfToke3NlY3MudG9TdHJpbmcoKS5wYWRTdGFydCgyLCAnMCcpfWA7XG4gIH07XG5cbiAgLy8gQ3JlYXRlIG5ldyBqb2IgSURcbiAgY29uc3QgY3JlYXRlTmV3Sm9iSWQgPSB1c2VDYWxsYmFjaygocHJlZml4OiBzdHJpbmcgPSAnJykgPT4ge1xuICAgIGNvbnN0IGpvYklkID0gcHJlZml4ID8gYCR7cHJlZml4fS0ke3V1aWR2NCgpfWAgOiB1dWlkdjQoKTtcbiAgICBzZXRDdXJyZW50Sm9iSWQoam9iSWQpO1xuICAgIHJldHVybiBqb2JJZDtcbiAgfSwgW10pO1xuXG4gIC8vIENsZWFuIHVwIG9uIHVubW91bnRcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgaWYgKGVsYXBzZWRUaW1lSW50ZXJ2YWwpIHtcbiAgICAgICAgY2xlYXJJbnRlcnZhbChlbGFwc2VkVGltZUludGVydmFsKTtcbiAgICAgIH1cbiAgICB9O1xuICB9LCBbZWxhcHNlZFRpbWVJbnRlcnZhbF0pO1xuXG4gIHJldHVybiB7XG4gICAgY3VycmVudEpvYklkLFxuICAgIHNldEN1cnJlbnRKb2JJZCxcbiAgICBnZW5lcmF0aW9uUHJvZ3Jlc3MsXG4gICAgc2V0R2VuZXJhdGlvblByb2dyZXNzLFxuICAgIHByb2dyZXNzUGVyY2VudGFnZSxcbiAgICBzZXRQcm9ncmVzc1BlcmNlbnRhZ2UsXG4gICAgZ2VuZXJhdGlvblN0YXJ0VGltZSxcbiAgICBjdXJyZW50RWxhcHNlZFRpbWUsXG4gICAgZ2VuZXJhdGlvbkR1cmF0aW9uLFxuICAgIGN1cnJlbnRKb2JUeXBlLFxuICAgIFxuICAgIHNhdmVKb2JUb1N0b3JhZ2UsXG4gICAgdXBkYXRlSm9iUHJvZ3Jlc3MsXG4gICAgcmVtb3ZlSm9iRnJvbVN0b3JhZ2UsXG4gICAgY2xlYW51cEV4cGlyZWRKb2JzLFxuICAgIG1hcmtKb2JDb21wbGV0ZSxcbiAgICBcbiAgICBzdGFydEVsYXBzZWRUaW1lVHJhY2tpbmcsXG4gICAgc3RvcEVsYXBzZWRUaW1lVHJhY2tpbmcsXG4gICAgZm9ybWF0RWxhcHNlZFRpbWUsXG4gICAgY3JlYXRlTmV3Sm9iSWQsXG4gIH07XG59Il0sIm5hbWVzIjpbInVzZVN0YXRlIiwidXNlQ2FsbGJhY2siLCJ1c2VFZmZlY3QiLCJ2NCIsInV1aWR2NCIsInN0b3JhZ2UiLCJ1c2VKb2JNYW5hZ2VtZW50IiwiY3VycmVudEpvYklkIiwic2V0Q3VycmVudEpvYklkIiwiZ2VuZXJhdGlvblByb2dyZXNzIiwic2V0R2VuZXJhdGlvblByb2dyZXNzIiwicHJvZ3Jlc3NQZXJjZW50YWdlIiwic2V0UHJvZ3Jlc3NQZXJjZW50YWdlIiwiZ2VuZXJhdGlvblN0YXJ0VGltZSIsInNldEdlbmVyYXRpb25TdGFydFRpbWUiLCJjdXJyZW50RWxhcHNlZFRpbWUiLCJzZXRDdXJyZW50RWxhcHNlZFRpbWUiLCJlbGFwc2VkVGltZUludGVydmFsIiwic2V0RWxhcHNlZFRpbWVJbnRlcnZhbCIsImdlbmVyYXRpb25EdXJhdGlvbiIsInNldEdlbmVyYXRpb25EdXJhdGlvbiIsImN1cnJlbnRKb2JUeXBlIiwic2V0Q3VycmVudEpvYlR5cGUiLCJzYXZlSm9iVG9TdG9yYWdlIiwiam9iSWQiLCJqb2JEYXRhIiwic2F2ZVJlY292ZXJ5IiwidXBkYXRlSm9iUHJvZ3Jlc3MiLCJwcm9ncmVzcyIsInByb2dyZXNzVGV4dCIsInJlbW92ZUpvYkZyb21TdG9yYWdlIiwiY2xlYXJSZWNvdmVyeSIsImNsZWFudXBFeHBpcmVkSm9icyIsIm1hcmtKb2JDb21wbGV0ZSIsImNvbXBsZXRlZENhcmQiLCJhZGRSZWNlbnRDYXJkIiwiaWQiLCJkYXRlIiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwidHlwZSIsImNhcmRUeXBlIiwidG9uZSIsInJlY2lwaWVudCIsInRvIiwicHJldmlldyIsImltYWdlcyIsImZyb250Iiwic3RhcnRFbGFwc2VkVGltZVRyYWNraW5nIiwiam9iVHlwZSIsInN0YXJ0Iiwibm93IiwiY2xlYXJJbnRlcnZhbCIsImV4cGVjdGVkRHVyYXRpb24iLCJpbnRlcnZhbCIsInNldEludGVydmFsIiwiZWxhcHNlZCIsIk1hdGgiLCJtaW4iLCJvdmVydGltZSIsIm92ZXJ0aW1lUmF0aW8iLCJyb3VuZCIsInN0b3BFbGFwc2VkVGltZVRyYWNraW5nIiwiZm9ybWF0RWxhcHNlZFRpbWUiLCJzZWNvbmRzIiwibWlucyIsImZsb29yIiwic2VjcyIsInRvU3RyaW5nIiwicGFkU3RhcnQiLCJjcmVhdGVOZXdKb2JJZCIsInByZWZpeCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./hooks/cardStudio/useJobManagementSimplified.ts\n");

/***/ }),

/***/ "(ssr)/./hooks/cardStudio/useMessageGeneration.ts":
/*!**************************************************!*\
  !*** ./hooks/cardStudio/useMessageGeneration.ts ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useMessageGeneration: () => (/* binding */ useMessageGeneration)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var sonner__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! sonner */ \"(ssr)/./node_modules/sonner/dist/index.mjs\");\n/* harmony import */ var _lib_promptGenerator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/promptGenerator */ \"(ssr)/./lib/promptGenerator.ts\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./constants */ \"(ssr)/./hooks/cardStudio/constants.ts\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./utils */ \"(ssr)/./hooks/cardStudio/utils.ts\");\n/* __next_internal_client_entry_do_not_use__ useMessageGeneration auto */ \n\n\n\n\nfunction useMessageGeneration(selectedType, customCardType, selectedTone, prompt, toField, fromField, relationshipField, photoReferences) {\n    const [finalCardMessage, setFinalCardMessage] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(\"\");\n    const [isGeneratingMessage, setIsGeneratingMessage] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [messageHistory, setMessageHistory] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]);\n    const [currentMessageIndex, setCurrentMessageIndex] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(-1);\n    const [refinementPrompt, setRefinementPrompt] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(\"\");\n    const [isRefiningMessage, setIsRefiningMessage] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [showRefinementBox, setShowRefinementBox] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    // Message version control functions\n    const addMessageToHistory = (message)=>{\n        if (message.trim() === \"\") return;\n        const cleanMessage = message.replace(/<\\/?MESSAGE>/g, \"\").trim();\n        if (cleanMessage === \"\") return;\n        const newHistory = messageHistory.slice(0, currentMessageIndex + 1);\n        newHistory.push(cleanMessage);\n        if (newHistory.length > 10) {\n            newHistory.shift();\n        } else {\n            setCurrentMessageIndex(currentMessageIndex + 1);\n        }\n        setMessageHistory(newHistory);\n        setCurrentMessageIndex(newHistory.length - 1);\n    };\n    const undoMessage = ()=>{\n        if (currentMessageIndex > 0) {\n            const newIndex = currentMessageIndex - 1;\n            setCurrentMessageIndex(newIndex);\n            setFinalCardMessage(messageHistory[newIndex]);\n        }\n    };\n    const redoMessage = ()=>{\n        if (currentMessageIndex < messageHistory.length - 1) {\n            const newIndex = currentMessageIndex + 1;\n            setCurrentMessageIndex(newIndex);\n            setFinalCardMessage(messageHistory[newIndex]);\n        }\n    };\n    // Full message generation function\n    const handleGetMessageHelp = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(async (userInput, conversationHistory)=>{\n        // Validate custom card type if selected\n        if (selectedType === \"custom\" && !customCardType.trim()) {\n            sonner__WEBPACK_IMPORTED_MODULE_1__.toast.error(\"Please describe your custom card type first!\");\n            return;\n        }\n        setIsGeneratingMessage(true);\n        try {\n            const cardTypeForPrompt = selectedType === \"custom\" ? customCardType : selectedType;\n            const selectedToneObj = _constants__WEBPACK_IMPORTED_MODULE_3__.cardTones.find((tone)=>tone.id === selectedTone);\n            const toneDescription = selectedToneObj ? selectedToneObj.description.toLowerCase() : \"heartfelt and sincere\";\n            // Use effective prompt logic here too\n            const effectivePrompt = prompt.trim() || `A beautiful ${cardTypeForPrompt} card with ${toneDescription} style`;\n            // Use PromptGenerator for message generation\n            const messageConfig = {\n                cardType: selectedType,\n                customCardType: customCardType,\n                tone: selectedTone,\n                toneLabel: selectedToneObj ? selectedToneObj.label : \"Heartfelt\",\n                toneDescription: toneDescription,\n                theme: effectivePrompt,\n                toField: toField,\n                fromField: fromField,\n                relationshipField: relationshipField,\n                photoReferences: photoReferences\n            };\n            // If user input is provided, incorporate it into the prompt\n            let messagePrompt = _lib_promptGenerator__WEBPACK_IMPORTED_MODULE_2__.PromptGenerator.generateMessagePrompt(messageConfig);\n            // Build conversation context if provided\n            let conversationContext = \"\";\n            if (conversationHistory && conversationHistory.length > 0) {\n                conversationContext = conversationHistory.map((msg)=>`${msg.role === \"user\" ? \"User\" : \"Assistant\"}: ${msg.content}`).join(\"\\n\\n\");\n            }\n            if (userInput) {\n                if (conversationContext) {\n                    // If we have conversation history, include it for context\n                    messagePrompt = `${messagePrompt}\\n\\n## Conversation History\\nHere's the conversation so far:\\n\\n${conversationContext}\\n\\n## User's Current Request\\n\"${userInput}\"\\n\\nBased on the conversation context and the user's current request, create a message that addresses their specific needs. If they're asking for changes or variations, modify the previous suggestions accordingly while maintaining the ${toneDescription} tone for this ${cardTypeForPrompt} card.`;\n                } else {\n                    // Original behavior for non-chat context\n                    messagePrompt = `${messagePrompt}\\n\\n## User Request\\nThe user has provided additional context or specific requests for the message:\\n\\n\"${userInput}\"\\n\\nPlease incorporate their feedback and create a message that addresses their specific needs while maintaining the ${toneDescription} tone for this ${cardTypeForPrompt} card.`;\n                }\n            }\n            const generatedMessage = await (0,_utils__WEBPACK_IMPORTED_MODULE_4__.chatWithAI)(messagePrompt, {\n                model: \"gemini-2.5-pro\",\n                includeThoughts: false // Don't include thinking content in message generation\n            });\n            if (generatedMessage?.trim()) {\n                // Extract message content between <MESSAGE> tags using regex\n                const messageMatch = generatedMessage.match(/<MESSAGE>([\\s\\S]*?)<\\/MESSAGE>/);\n                let extractedMessage = messageMatch ? messageMatch[1].trim() : generatedMessage.trim();\n                // Ensure no MESSAGE tags are included in the final message\n                extractedMessage = extractedMessage.replace(/<\\/?MESSAGE>/g, \"\").trim();\n                // Add current message to history if it exists and is different\n                if (finalCardMessage.trim() && finalCardMessage.trim() !== extractedMessage) {\n                    addMessageToHistory(finalCardMessage);\n                }\n                setFinalCardMessage(extractedMessage);\n                // Add the new message to history\n                addMessageToHistory(extractedMessage);\n                sonner__WEBPACK_IMPORTED_MODULE_1__.toast.success(\"✨ Personalized message created!\");\n                // Return the generated message so the caller can use it\n                return extractedMessage;\n            }\n        } catch (error) {\n            sonner__WEBPACK_IMPORTED_MODULE_1__.toast.error(\"Failed to generate message. Please try again.\");\n            return null;\n        } finally{\n            setIsGeneratingMessage(false);\n        }\n    }, [\n        selectedType,\n        customCardType,\n        selectedTone,\n        prompt,\n        toField,\n        fromField,\n        relationshipField,\n        finalCardMessage,\n        photoReferences\n    ]);\n    return {\n        finalCardMessage,\n        setFinalCardMessage,\n        isGeneratingMessage,\n        setIsGeneratingMessage,\n        messageHistory,\n        setMessageHistory,\n        currentMessageIndex,\n        setCurrentMessageIndex,\n        refinementPrompt,\n        setRefinementPrompt,\n        isRefiningMessage,\n        setIsRefiningMessage,\n        showRefinementBox,\n        setShowRefinementBox,\n        handleGetMessageHelp,\n        addMessageToHistory,\n        undoMessage,\n        redoMessage\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ob29rcy9jYXJkU3R1ZGlvL3VzZU1lc3NhZ2VHZW5lcmF0aW9uLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7MEVBRThDO0FBQ2Y7QUFDd0M7QUFDZjtBQUNuQjtBQUU5QixTQUFTTSxxQkFDZEMsWUFBb0IsRUFDcEJDLGNBQXNCLEVBQ3RCQyxZQUFvQixFQUNwQkMsTUFBYyxFQUNkQyxPQUFlLEVBQ2ZDLFNBQWlCLEVBQ2pCQyxpQkFBeUIsRUFDekJDLGVBQWtDO0lBRWxDLE1BQU0sQ0FBQ0Msa0JBQWtCQyxvQkFBb0IsR0FBR2hCLCtDQUFRQSxDQUFDO0lBQ3pELE1BQU0sQ0FBQ2lCLHFCQUFxQkMsdUJBQXVCLEdBQUdsQiwrQ0FBUUEsQ0FBQztJQUMvRCxNQUFNLENBQUNtQixnQkFBZ0JDLGtCQUFrQixHQUFHcEIsK0NBQVFBLENBQVcsRUFBRTtJQUNqRSxNQUFNLENBQUNxQixxQkFBcUJDLHVCQUF1QixHQUFHdEIsK0NBQVFBLENBQUMsQ0FBQztJQUNoRSxNQUFNLENBQUN1QixrQkFBa0JDLG9CQUFvQixHQUFHeEIsK0NBQVFBLENBQUM7SUFDekQsTUFBTSxDQUFDeUIsbUJBQW1CQyxxQkFBcUIsR0FBRzFCLCtDQUFRQSxDQUFDO0lBQzNELE1BQU0sQ0FBQzJCLG1CQUFtQkMscUJBQXFCLEdBQUc1QiwrQ0FBUUEsQ0FBQztJQUUzRCxvQ0FBb0M7SUFDcEMsTUFBTTZCLHNCQUFzQixDQUFDQztRQUMzQixJQUFJQSxRQUFRQyxJQUFJLE9BQU8sSUFBSTtRQUUzQixNQUFNQyxlQUFlRixRQUFRRyxPQUFPLENBQUMsaUJBQWlCLElBQUlGLElBQUk7UUFDOUQsSUFBSUMsaUJBQWlCLElBQUk7UUFFekIsTUFBTUUsYUFBYWYsZUFBZWdCLEtBQUssQ0FBQyxHQUFHZCxzQkFBc0I7UUFDakVhLFdBQVdFLElBQUksQ0FBQ0o7UUFFaEIsSUFBSUUsV0FBV0csTUFBTSxHQUFHLElBQUk7WUFDMUJILFdBQVdJLEtBQUs7UUFDbEIsT0FBTztZQUNMaEIsdUJB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WUFBWSxDQUFDLEVBQUUsQ0FBQ3hDLElBQUksS0FBS3FDLGlCQUFpQnJDLElBQUk7Z0JBRXBGLDJEQUEyRDtnQkFDM0QwQyxtQkFBbUJBLGlCQUFpQnhDLE9BQU8sQ0FBQyxpQkFBaUIsSUFBSUYsSUFBSTtnQkFFckUsK0RBQStEO2dCQUMvRCxJQUFJaEIsaUJBQWlCZ0IsSUFBSSxNQUFNaEIsaUJBQWlCZ0IsSUFBSSxPQUFPMEMsa0JBQWtCO29CQUMzRTVDLG9CQUFvQmQ7Z0JBQ3RCO2dCQUVBQyxvQkFBb0J5RDtnQkFFcEIsaUNBQWlDO2dCQUNqQzVDLG9CQUFvQjRDO2dCQUVwQnZFLHlDQUFLQSxDQUFDd0UsT0FBTyxDQUFDO2dCQUVkLHdEQUF3RDtnQkFDeEQsT0FBT0Q7WUFDVDtRQUNGLEVBQUUsT0FBTzVCLE9BQU87WUFDZDNDLHlDQUFLQSxDQUFDMkMsS0FBSyxDQUFDO1lBQ1osT0FBTztRQUNULFNBQVU7WUFDUjNCLHVCQUF1QjtRQUN6QjtJQUNGLEdBQUc7UUFBQ1g7UUFBY0M7UUFBZ0JDO1FBQWNDO1FBQVFDO1FBQVNDO1FBQVdDO1FBQW1CRTtRQUFrQkQ7S0FBZ0I7SUFFakksT0FBTztRQUNMQztRQUNBQztRQUNBQztRQUNBQztRQUNBQztRQUNBQztRQUNBQztRQUNBQztRQUNBQztRQUNBQztRQUNBQztRQUNBQztRQUNBQztRQUNBQztRQUNBYztRQUNBYjtRQUNBVTtRQUNBRTtJQUNGO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92aWJlY2FyZGluZy8uL2hvb2tzL2NhcmRTdHVkaW8vdXNlTWVzc2FnZUdlbmVyYXRpb24udHM/MjU4OCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIjtcblxuaW1wb3J0IHsgdXNlU3RhdGUsIHVzZUNhbGxiYWNrIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyB0b2FzdCB9IGZyb20gXCJzb25uZXJcIjtcbmltcG9ydCB7IFByb21wdEdlbmVyYXRvciwgTWVzc2FnZUNvbmZpZyB9IGZyb20gJ0AvbGliL3Byb21wdEdlbmVyYXRvcic7XG5pbXBvcnQgeyBjYXJkVG9uZXMsIFBob3RvUmVmZXJlbmNlIH0gZnJvbSAnLi9jb25zdGFudHMnO1xuaW1wb3J0IHsgY2hhdFdpdGhBSSB9IGZyb20gJy4vdXRpbHMnO1xuXG5leHBvcnQgZnVuY3Rpb24gdXNlTWVzc2FnZUdlbmVyYXRpb24oXG4gIHNlbGVjdGVkVHlwZTogc3RyaW5nLFxuICBjdXN0b21DYXJkVHlwZTogc3RyaW5nLFxuICBzZWxlY3RlZFRvbmU6IHN0cmluZyxcbiAgcHJvbXB0OiBzdHJpbmcsXG4gIHRvRmllbGQ6IHN0cmluZyxcbiAgZnJvbUZpZWxkOiBzdHJpbmcsXG4gIHJlbGF0aW9uc2hpcEZpZWxkOiBzdHJpbmcsXG4gIHBob3RvUmVmZXJlbmNlcz86IFBob3RvUmVmZXJlbmNlW11cbikge1xuICBjb25zdCBbZmluYWxDYXJkTWVzc2FnZSwgc2V0RmluYWxDYXJkTWVzc2FnZV0gPSB1c2VTdGF0ZShcIlwiKTtcbiAgY29uc3QgW2lzR2VuZXJhdGluZ01lc3NhZ2UsIHNldElzR2VuZXJhdGluZ01lc3NhZ2VdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbbWVzc2FnZUhpc3RvcnksIHNldE1lc3NhZ2VIaXN0b3J5XSA9IHVzZVN0YXRlPHN0cmluZ1tdPihbXSk7XG4gIGNvbnN0IFtjdXJyZW50TWVzc2FnZUluZGV4LCBzZXRDdXJyZW50TWVzc2FnZUluZGV4XSA9IHVzZVN0YXRlKC0xKTtcbiAgY29uc3QgW3JlZmluZW1lbnRQcm9tcHQsIHNldFJlZmluZW1lbnRQcm9tcHRdID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFtpc1JlZmluaW5nTWVzc2FnZSwgc2V0SXNSZWZpbmluZ01lc3NhZ2VdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbc2hvd1JlZmluZW1lbnRCb3gsIHNldFNob3dSZWZpbmVtZW50Qm94XSA9IHVzZVN0YXRlKGZhbHNlKTtcblxuICAvLyBNZXNzYWdlIHZlcnNpb24gY29udHJvbCBmdW5jdGlvbnNcbiAgY29uc3QgYWRkTWVzc2FnZVRvSGlzdG9yeSA9IChtZXNzYWdlOiBzdHJpbmcpID0+IHtcbiAgICBpZiAobWVzc2FnZS50cmltKCkgPT09IFwiXCIpIHJldHVybjtcbiAgICBcbiAgICBjb25zdCBjbGVhbk1lc3NhZ2UgPSBtZXNzYWdlLnJlcGxhY2UoLzxcXC8/TUVTU0FHRT4vZywgJycpLnRyaW0oKTtcbiAgICBpZiAoY2xlYW5NZXNzYWdlID09PSBcIlwiKSByZXR1cm47XG4gICAgXG4gICAgY29uc3QgbmV3SGlzdG9yeSA9IG1lc3NhZ2VIaXN0b3J5LnNsaWNlKDAsIGN1cnJlbnRNZXNzYWdlSW5kZXggKyAxKTtcbiAgICBuZXdIaXN0b3J5LnB1c2goY2xlYW5NZXNzYWdlKTtcbiAgICBcbiAgICBpZiAobmV3SGlzdG9yeS5sZW5ndGggPiAxMCkge1xuICAgICAgbmV3SGlzdG9yeS5zaGlmdCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzZXRDdXJyZW50TWVzc2FnZUluZGV4KGN1cnJlbnRNZXNzYWdlSW5kZXggKyAxKTtcbiAgICB9XG4gICAgXG4gICAgc2V0TWVzc2FnZUhpc3RvcnkobmV3SGlzdG9yeSk7XG4gICAgc2V0Q3VycmVudE1lc3NhZ2VJbmRleChuZXdIaXN0b3J5Lmxlbmd0aCAtIDEpO1xuICB9O1xuXG4gIGNvbnN0IHVuZG9NZXNzYWdlID0gKCkgPT4ge1xuICAgIGlmIChjdXJyZW50TWVzc2FnZUluZGV4ID4gMCkge1xuICAgICAgY29uc3QgbmV3SW5kZXggPSBjdXJyZW50TWVzc2FnZUluZGV4IC0gMTtcbiAgICAgIHNldEN1cnJlbnRNZXNzYWdlSW5kZXgobmV3SW5kZXgpO1xuICAgICAgc2V0RmluYWxDYXJkTWVzc2FnZShtZXNzYWdlSGlzdG9yeVtuZXdJbmRleF0pO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCByZWRvTWVzc2FnZSA9ICgpID0+IHtcbiAgICBpZiAoY3VycmVudE1lc3NhZ2VJbmRleCA8IG1lc3NhZ2VIaXN0b3J5Lmxlbmd0aCAtIDEpIHtcbiAgICAgIGNvbnN0IG5ld0luZGV4ID0gY3VycmVudE1lc3NhZ2VJbmRleCArIDE7XG4gICAgICBzZXRDdXJyZW50TWVzc2FnZUluZGV4KG5ld0luZGV4KTtcbiAgICAgIHNldEZpbmFsQ2FyZE1lc3NhZ2UobWVzc2FnZUhpc3RvcnlbbmV3SW5kZXhdKTtcbiAgICB9XG4gIH07XG5cbiAgLy8gRnVsbCBtZXNzYWdlIGdlbmVyYXRpb24gZnVuY3Rpb25cbiAgY29uc3QgaGFuZGxlR2V0TWVzc2FnZUhlbHAgPSB1c2VDYWxsYmFjayhhc3luYyAodXNlcklucHV0Pzogc3RyaW5nLCBjb252ZXJzYXRpb25IaXN0b3J5PzogYW55W10pID0+IHtcbiAgICAvLyBWYWxpZGF0ZSBjdXN0b20gY2FyZCB0eXBlIGlmIHNlbGVjdGVkXG4gICAgaWYgKHNlbGVjdGVkVHlwZSA9PT0gXCJjdXN0b21cIiAmJiAhY3VzdG9tQ2FyZFR5cGUudHJpbSgpKSB7XG4gICAgICB0b2FzdC5lcnJvcihcIlBsZWFzZSBkZXNjcmliZSB5b3VyIGN1c3RvbSBjYXJkIHR5cGUgZmlyc3QhXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBcbiAgICBzZXRJc0dlbmVyYXRpbmdNZXNzYWdlKHRydWUpO1xuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGNhcmRUeXBlRm9yUHJvbXB0ID0gc2VsZWN0ZWRUeXBlID09PSBcImN1c3RvbVwiID8gY3VzdG9tQ2FyZFR5cGUgOiBzZWxlY3RlZFR5cGU7XG4gICAgICBjb25zdCBzZWxlY3RlZFRvbmVPYmogPSBjYXJkVG9uZXMuZmluZCh0b25lID0+IHRvbmUuaWQgPT09IHNlbGVjdGVkVG9uZSk7XG4gICAgICBjb25zdCB0b25lRGVzY3JpcHRpb24gPSBzZWxlY3RlZFRvbmVPYmogPyBzZWxlY3RlZFRvbmVPYmouZGVzY3JpcHRpb24udG9Mb3dlckNhc2UoKSA6IFwiaGVhcnRmZWx0IGFuZCBzaW5jZXJlXCI7XG4gICAgICBcbiAgICAgIC8vIFVzZSBlZmZlY3RpdmUgcHJvbXB0IGxvZ2ljIGhlcmUgdG9vXG4gICAgICBjb25zdCBlZmZlY3RpdmVQcm9tcHQgPSBwcm9tcHQudHJpbSgpIHx8IGBBIGJlYXV0aWZ1bCAke2NhcmRUeXBlRm9yUHJvbXB0fSBjYXJkIHdpdGggJHt0b25lRGVzY3JpcHRpb259IHN0eWxlYDtcbiAgICAgIFxuICAgICAgLy8gVXNlIFByb21wdEdlbmVyYXRvciBmb3IgbWVzc2FnZSBnZW5lcmF0aW9uXG4gICAgICBjb25zdCBtZXNzYWdlQ29uZmlnOiBNZXNzYWdlQ29uZmlnID0ge1xuICAgICAgICBjYXJkVHlwZTogc2VsZWN0ZWRUeXBlLFxuICAgICAgICBjdXN0b21DYXJkVHlwZTogY3VzdG9tQ2FyZFR5cGUsXG4gICAgICAgIHRvbmU6IHNlbGVjdGVkVG9uZSxcbiAgICAgICAgdG9uZUxhYmVsOiBzZWxlY3RlZFRvbmVPYmogPyBzZWxlY3RlZFRvbmVPYmoubGFiZWwgOiBcIkhlYXJ0ZmVsdFwiLFxuICAgICAgICB0b25lRGVzY3JpcHRpb246IHRvbmVEZXNjcmlwdGlvbixcbiAgICAgICAgdGhlbWU6IGVmZmVjdGl2ZVByb21wdCxcbiAgICAgICAgdG9GaWVsZDogdG9GaWVsZCxcbiAgICAgICAgZnJvbUZpZWxkOiBmcm9tRmllbGQsXG4gICAgICAgIHJlbGF0aW9uc2hpcEZpZWxkOiByZWxhdGlvbnNoaXBGaWVsZCxcbiAgICAgICAgcGhvdG9SZWZlcmVuY2VzOiBwaG90b1JlZmVyZW5jZXNcbiAgICAgIH07XG5cbiAgICAgIC8vIElmIHVzZXIgaW5wdXQgaXMgcHJvdmlkZWQsIGluY29ycG9yYXRlIGl0IGludG8gdGhlIHByb21wdFxuICAgICAgbGV0IG1lc3NhZ2VQcm9tcHQgPSBQcm9tcHRHZW5lcmF0b3IuZ2VuZXJhdGVNZXNzYWdlUHJvbXB0KG1lc3NhZ2VDb25maWcpO1xuICAgICAgXG4gICAgICAvLyBCdWlsZCBjb252ZXJzYXRpb24gY29udGV4dCBpZiBwcm92aWRlZFxuICAgICAgbGV0IGNvbnZlcnNhdGlvbkNvbnRleHQgPSAnJztcbiAgICAgIGlmIChjb252ZXJzYXRpb25IaXN0b3J5ICYmIGNvbnZlcnNhdGlvbkhpc3RvcnkubGVuZ3RoID4gMCkge1xuICAgICAgICBjb252ZXJzYXRpb25Db250ZXh0ID0gY29udmVyc2F0aW9uSGlzdG9yeVxuICAgICAgICAgIC5tYXAobXNnID0+IGAke21zZy5yb2xlID09PSAndXNlcicgPyAnVXNlcicgOiAnQXNzaXN0YW50J306ICR7bXNnLmNvbnRlbnR9YClcbiAgICAgICAgICAuam9pbignXFxuXFxuJyk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIGlmICh1c2VySW5wdXQpIHtcbiAgICAgICAgaWYgKGNvbnZlcnNhdGlvbkNvbnRleHQpIHtcbiAgICAgICAgICAvLyBJZiB3ZSBoYXZlIGNvbnZlcnNhdGlvbiBoaXN0b3J5LCBpbmNsdWRlIGl0IGZvciBjb250ZXh0XG4gICAgICAgICAgbWVzc2FnZVByb21wdCA9IGAke21lc3NhZ2VQcm9tcHR9XFxuXFxuIyMgQ29udmVyc2F0aW9uIEhpc3RvcnlcXG5IZXJlJ3MgdGhlIGNvbnZlcnNhdGlvbiBzbyBmYXI6XFxuXFxuJHtjb252ZXJzYXRpb25Db250ZXh0fVxcblxcbiMjIFVzZXIncyBDdXJyZW50IFJlcXVlc3RcXG5cIiR7dXNlcklucHV0fVwiXFxuXFxuQmFzZWQgb24gdGhlIGNvbnZlcnNhdGlvbiBjb250ZXh0IGFuZCB0aGUgdXNlcidzIGN1cnJlbnQgcmVxdWVzdCwgY3JlYXRlIGEgbWVzc2FnZSB0aGF0IGFkZHJlc3NlcyB0aGVpciBzcGVjaWZpYyBuZWVkcy4gSWYgdGhleSdyZSBhc2tpbmcgZm9yIGNoYW5nZXMgb3IgdmFyaWF0aW9ucywgbW9kaWZ5IHRoZSBwcmV2aW91cyBzdWdnZXN0aW9ucyBhY2NvcmRpbmdseSB3aGlsZSBtYWludGFpbmluZyB0aGUgJHt0b25lRGVzY3JpcHRpb259IHRvbmUgZm9yIHRoaXMgJHtjYXJkVHlwZUZvclByb21wdH0gY2FyZC5gO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIE9yaWdpbmFsIGJlaGF2aW9yIGZvciBub24tY2hhdCBjb250ZXh0XG4gICAgICAgICAgbWVzc2FnZVByb21wdCA9IGAke21lc3NhZ2VQcm9tcHR9XFxuXFxuIyMgVXNlciBSZXF1ZXN0XFxuVGhlIHVzZXIgaGFzIHByb3ZpZGVkIGFkZGl0aW9uYWwgY29udGV4dCBvciBzcGVjaWZpYyByZXF1ZXN0cyBmb3IgdGhlIG1lc3NhZ2U6XFxuXFxuXCIke3VzZXJJbnB1dH1cIlxcblxcblBsZWFzZSBpbmNvcnBvcmF0ZSB0aGVpciBmZWVkYmFjayBhbmQgY3JlYXRlIGEgbWVzc2FnZSB0aGF0IGFkZHJlc3NlcyB0aGVpciBzcGVjaWZpYyBuZWVkcyB3aGlsZSBtYWludGFpbmluZyB0aGUgJHt0b25lRGVzY3JpcHRpb259IHRvbmUgZm9yIHRoaXMgJHtjYXJkVHlwZUZvclByb21wdH0gY2FyZC5gO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGdlbmVyYXRlZE1lc3NhZ2UgPSBhd2FpdCBjaGF0V2l0aEFJKG1lc3NhZ2VQcm9tcHQsIHtcbiAgICAgICAgbW9kZWw6IFwiZ2VtaW5pLTIuNS1wcm9cIixcbiAgICAgICAgaW5jbHVkZVRob3VnaHRzOiBmYWxzZSAgLy8gRG9uJ3QgaW5jbHVkZSB0aGlua2luZyBjb250ZW50IGluIG1lc3NhZ2UgZ2VuZXJhdGlvblxuICAgICAgfSk7XG5cbiAgICAgIGlmIChnZW5lcmF0ZWRNZXNzYWdlPy50cmltKCkpIHtcbiAgICAgICAgLy8gRXh0cmFjdCBtZXNzYWdlIGNvbnRlbnQgYmV0d2VlbiA8TUVTU0FHRT4gdGFncyB1c2luZyByZWdleFxuICAgICAgICBjb25zdCBtZXNzYWdlTWF0Y2ggPSBnZW5lcmF0ZWRNZXNzYWdlLm1hdGNoKC88TUVTU0FHRT4oW1xcc1xcU10qPyk8XFwvTUVTU0FHRT4vKTtcbiAgICAgICAgbGV0IGV4dHJhY3RlZE1lc3NhZ2UgPSBtZXNzYWdlTWF0Y2ggPyBtZXNzYWdlTWF0Y2hbMV0udHJpbSgpIDogZ2VuZXJhdGVkTWVzc2FnZS50cmltKCk7XG4gICAgICAgIFxuICAgICAgICAvLyBFbnN1cmUgbm8gTUVTU0FHRSB0YWdzIGFyZSBpbmNsdWRlZCBpbiB0aGUgZmluYWwgbWVzc2FnZVxuICAgICAgICBleHRyYWN0ZWRNZXNzYWdlID0gZXh0cmFjdGVkTWVzc2FnZS5yZXBsYWNlKC88XFwvP01FU1NBR0U+L2csICcnKS50cmltKCk7XG4gICAgICAgIFxuICAgICAgICAvLyBBZGQgY3VycmVudCBtZXNzYWdlIHRvIGhpc3RvcnkgaWYgaXQgZXhpc3RzIGFuZCBpcyBkaWZmZXJlbnRcbiAgICAgICAgaWYgKGZpbmFsQ2FyZE1lc3NhZ2UudHJpbSgpICYmIGZpbmFsQ2FyZE1lc3NhZ2UudHJpbSgpICE9PSBleHRyYWN0ZWRNZXNzYWdlKSB7XG4gICAgICAgICAgYWRkTWVzc2FnZVRvSGlzdG9yeShmaW5hbENhcmRNZXNzYWdlKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgc2V0RmluYWxDYXJkTWVzc2FnZShleHRyYWN0ZWRNZXNzYWdlKTtcbiAgICAgICAgXG4gICAgICAgIC8vIEFkZCB0aGUgbmV3IG1lc3NhZ2UgdG8gaGlzdG9yeVxuICAgICAgICBhZGRNZXNzYWdlVG9IaXN0b3J5KGV4dHJhY3RlZE1lc3NhZ2UpO1xuICAgICAgICBcbiAgICAgICAgdG9hc3Quc3VjY2VzcyhcIuKcqCBQZXJzb25hbGl6ZWQgbWVzc2FnZSBjcmVhdGVkIVwiKTtcbiAgICAgICAgXG4gICAgICAgIC8vIFJldHVybiB0aGUgZ2VuZXJhdGVkIG1lc3NhZ2Ugc28gdGhlIGNhbGxlciBjYW4gdXNlIGl0XG4gICAgICAgIHJldHVybiBleHRyYWN0ZWRNZXNzYWdlO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICB0b2FzdC5lcnJvcihcIkZhaWxlZCB0byBnZW5lcmF0ZSBtZXNzYWdlLiBQbGVhc2UgdHJ5IGFnYWluLlwiKTtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBzZXRJc0dlbmVyYXRpbmdNZXNzYWdlKGZhbHNlKTtcbiAgICB9XG4gIH0sIFtzZWxlY3RlZFR5cGUsIGN1c3RvbUNhcmRUeXBlLCBzZWxlY3RlZFRvbmUsIHByb21wdCwgdG9GaWVsZCwgZnJvbUZpZWxkLCByZWxhdGlvbnNoaXBGaWVsZCwgZmluYWxDYXJkTWVzc2FnZSwgcGhvdG9SZWZlcmVuY2VzXSk7XG5cbiAgcmV0dXJuIHtcbiAgICBmaW5hbENhcmRNZXNzYWdlLFxuICAgIHNldEZpbmFsQ2FyZE1lc3NhZ2UsXG4gICAgaXNHZW5lcmF0aW5nTWVzc2FnZSxcbiAgICBzZXRJc0dlbmVyYXRpbmdNZXNzYWdlLFxuICAgIG1lc3NhZ2VIaXN0b3J5LFxuICAgIHNldE1lc3NhZ2VIaXN0b3J5LFxuICAgIGN1cnJlbnRNZXNzYWdlSW5kZXgsXG4gICAgc2V0Q3VycmVudE1lc3NhZ2VJbmRleCxcbiAgICByZWZpbmVtZW50UHJvbXB0LFxuICAgIHNldFJlZmluZW1lbnRQcm9tcHQsXG4gICAgaXNSZWZpbmluZ01lc3NhZ2UsXG4gICAgc2V0SXNSZWZpbmluZ01lc3NhZ2UsXG4gICAgc2hvd1JlZmluZW1lbnRCb3gsXG4gICAgc2V0U2hvd1JlZmluZW1lbnRCb3gsXG4gICAgaGFuZGxlR2V0TWVzc2FnZUhlbHAsXG4gICAgYWRkTWVzc2FnZVRvSGlzdG9yeSxcbiAgICB1bmRvTWVzc2FnZSxcbiAgICByZWRvTWVzc2FnZVxuICB9O1xufSJdLCJuYW1lcyI6WyJ1c2VTdGF0ZSIsInVzZUNhbGxiYWNrIiwidG9hc3QiLCJQcm9tcHRHZW5lcmF0b3IiLCJjYXJkVG9uZXMiLCJjaGF0V2l0aEFJIiwidXNlTWVzc2FnZUdlbmVyYXRpb24iLCJzZWxlY3RlZFR5cGUiLCJjdXN0b21DYXJkVHlwZSIsInNlbGVjdGVkVG9uZSIsInByb21wdCIsInRvRmllbGQiLCJmcm9tRmllbGQiLCJyZWxhdGlvbnNoaXBGaWVsZCIsInBob3RvUmVmZXJlbmNlcyIsImZpbmFsQ2FyZE1lc3NhZ2UiLCJzZXRGaW5hbENhcmRNZXNzYWdlIiwiaXNHZW5lcmF0aW5nTWVzc2FnZSIsInNldElzR2VuZXJhdGluZ01lc3NhZ2UiLCJtZXNzYWdlSGlzdG9yeSIsInNldE1lc3NhZ2VIaXN0b3J5IiwiY3VycmVudE1lc3NhZ2VJbmRleCIsInNldEN1cnJlbnRNZXNzYWdlSW5kZXgiLCJyZWZpbmVtZW50UHJvbXB0Iiwic2V0UmVmaW5lbWVudFByb21wdCIsImlzUmVmaW5pbmdNZXNzYWdlIiwic2V0SXNSZWZpbmluZ01lc3NhZ2UiLCJzaG93UmVmaW5lbWVudEJveCIsInNldFNob3dSZWZpbmVtZW50Qm94IiwiYWRkTWVzc2FnZVRvSGlzdG9yeSIsIm1lc3NhZ2UiLCJ0cmltIiwiY2xlYW5NZXNzYWdlIiwicmVwbGFjZSIsIm5ld0hpc3RvcnkiLCJzbGljZSIsInB1c2giLCJsZW5ndGgiLCJzaGlmdCIsInVuZG9NZXNzYWdlIiwibmV3SW5kZXgiLCJyZWRvTWVzc2FnZSIsImhhbmRsZUdldE1lc3NhZ2VIZWxwIiwidXNlcklucHV0IiwiY29udmVyc2F0aW9uSGlzdG9yeSIsImVycm9yIiwiY2FyZFR5cGVGb3JQcm9tcHQiLCJzZWxlY3RlZFRvbmVPYmoiLCJmaW5kIiwidG9uZSIsImlkIiwidG9uZURlc2NyaXB0aW9uIiwiZGVzY3JpcHRpb24iLCJ0b0xvd2VyQ2FzZSIsImVmZmVjdGl2ZVByb21wdCIsIm1lc3NhZ2VDb25maWciLCJjYXJkVHlwZSIsInRvbmVMYWJlbCIsImxhYmVsIiwidGhlbWUiLCJtZXNzYWdlUHJvbXB0IiwiZ2VuZXJhdGVNZXNzYWdlUHJvbXB0IiwiY29udmVyc2F0aW9uQ29udGV4dCIsIm1hcCIsIm1zZyIsInJvbGUiLCJjb250ZW50Iiwiam9pbiIsImdlbmVyYXRlZE1lc3NhZ2UiLCJtb2RlbCIsImluY2x1ZGVUaG91Z2h0cyIsIm1lc3NhZ2VNYXRjaCIsIm1hdGNoIiwiZXh0cmFjdGVkTWVzc2FnZSIsInN1Y2Nlc3MiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./hooks/cardStudio/useMessageGeneration.ts\n");

/***/ }),

/***/ "(ssr)/./hooks/cardStudio/useWebSocket.ts":
/*!******************************************!*\
  !*** ./hooks/cardStudio/useWebSocket.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useWebSocket: () => (/* binding */ useWebSocket)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var sonner__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! sonner */ \"(ssr)/./node_modules/sonner/dist/index.mjs\");\n/* harmony import */ var socket_io_client__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! socket.io-client */ \"(ssr)/./node_modules/socket.io-client/build/esm-debug/index.js\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./constants */ \"(ssr)/./hooks/cardStudio/constants.ts\");\n/* __next_internal_client_entry_do_not_use__ useWebSocket auto */ \n\n\n\nfunction useWebSocket() {\n    const socketRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n    const [isSocketConnected, setIsSocketConnected] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const currentJobRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n    const subscribedJobsRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(new Set()); // Track all subscribed jobs\n    const lastJobUpdateRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(Date.now()); // Track last job update time\n    const connectWebSocket = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(()=>{\n        if (socketRef.current?.connected) {\n            console.log(\"✅ WebSocket already connected\");\n            return;\n        }\n        try {\n            console.log(\"\\uD83D\\uDD0C Connecting to WebSocket...\");\n            const socket = (0,socket_io_client__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(_constants__WEBPACK_IMPORTED_MODULE_3__.BACKEND_API_BASE_URL, {\n                transports: [\n                    \"websocket\",\n                    \"polling\"\n                ],\n                timeout: 30000,\n                reconnection: true,\n                reconnectionDelay: 1000,\n                reconnectionAttempts: 10,\n                reconnectionDelayMax: 5000\n            });\n            socket.on(\"connect\", ()=>{\n                console.log(\"✅ WebSocket connected:\", socket.id);\n                setIsSocketConnected(true);\n                sonner__WEBPACK_IMPORTED_MODULE_1__.toast.success(\"\\uD83D\\uDD17 Real-time updates connected\");\n                // Resubscribe to all subscribed jobs for recovery\n                if (subscribedJobsRef.current.size > 0) {\n                    console.log(\"\\uD83D\\uDD04 Resubscribing to jobs:\", Array.from(subscribedJobsRef.current));\n                    subscribedJobsRef.current.forEach((jobId)=>{\n                        socket.emit(\"subscribe_job\", {\n                            job_id: jobId\n                        });\n                    });\n                }\n            });\n            socket.on(\"disconnect\", (reason)=>{\n                console.log(\"❌ WebSocket disconnected:\", reason);\n                setIsSocketConnected(false);\n                if (reason === \"io server disconnect\") {\n                    // Server disconnected, try to reconnect\n                    socket.connect();\n                }\n            });\n            socket.on(\"connect_error\", (error)=>{\n                console.error(\"❌ WebSocket connection error:\", error);\n                setIsSocketConnected(false);\n            });\n            socketRef.current = socket;\n        } catch (error) {\n            console.error(\"❌ Failed to connect WebSocket:\", error);\n            sonner__WEBPACK_IMPORTED_MODULE_1__.toast.error(\"Failed to connect real-time updates. Please refresh the page.\");\n        }\n    }, []);\n    const disconnectWebSocket = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(()=>{\n        if (socketRef.current) {\n            console.log(\"\\uD83D\\uDD0C Disconnecting WebSocket...\");\n            socketRef.current.disconnect();\n            socketRef.current = null;\n            setIsSocketConnected(false);\n        }\n    }, []);\n    const subscribeToJob = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((jobId)=>{\n        // For draft jobs, don't unsubscribe from other drafts\n        const isDraftJob = jobId.startsWith(\"draft-\");\n        // Only unsubscribe from previous job if it's not a draft job\n        if (!isDraftJob && currentJobRef.current && currentJobRef.current !== jobId && socketRef.current?.connected) {\n            console.log(\"\\uD83D\\uDD04 Unsubscribing from previous job:\", currentJobRef.current);\n            socketRef.current.emit(\"unsubscribe_job\", {\n                job_id: currentJobRef.current\n            });\n            subscribedJobsRef.current.delete(currentJobRef.current);\n        }\n        // Add to subscribed jobs set\n        subscribedJobsRef.current.add(jobId);\n        if (!isDraftJob) {\n            currentJobRef.current = jobId;\n        }\n        if (socketRef.current?.connected) {\n            console.log(\"\\uD83D\\uDCE1 Subscribing to job updates:\", jobId);\n            socketRef.current.emit(\"subscribe_job\", {\n                job_id: jobId\n            });\n        } else {\n            console.log(\"⏳ WebSocket not connected, will subscribe when connected\");\n        }\n    }, []);\n    const unsubscribeFromJob = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((jobId)=>{\n        if (currentJobRef.current === jobId) {\n            currentJobRef.current = null;\n        }\n        // Remove from subscribed jobs set\n        subscribedJobsRef.current.delete(jobId);\n        if (socketRef.current?.connected) {\n            console.log(\"\\uD83D\\uDCE1 Unsubscribing from job updates:\", jobId);\n            socketRef.current.emit(\"unsubscribe_job\", {\n                job_id: jobId\n            });\n        }\n    }, []);\n    const unsubscribeFromAllJobs = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(()=>{\n        console.log(\"\\uD83E\\uDDF9 Unsubscribing from all job updates\");\n        currentJobRef.current = null;\n        subscribedJobsRef.current.clear();\n        if (socketRef.current?.connected) {\n            // Emit a special event to clear all job subscriptions\n            socketRef.current.emit(\"unsubscribe_all_jobs\", {});\n        }\n    }, []);\n    // Set up job update listener\n    const setJobUpdateHandler = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((handler)=>{\n        if (socketRef.current) {\n            socketRef.current.off(\"job_update\"); // Remove any existing handler\n            socketRef.current.on(\"job_update\", (data)=>{\n                console.log(\"\\uD83D\\uDCE6 Job update received:\", data);\n                handler(data);\n            });\n        }\n    }, []);\n    // WebSocket connection lifecycle management\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        // Connect WebSocket when component mounts\n        connectWebSocket();\n        // Cleanup on unmount\n        return ()=>{\n            disconnectWebSocket();\n        };\n    }, [\n        connectWebSocket,\n        disconnectWebSocket\n    ]);\n    return {\n        isSocketConnected,\n        connectWebSocket,\n        disconnectWebSocket,\n        subscribeToJob,\n        unsubscribeFromJob,\n        unsubscribeFromAllJobs,\n        setJobUpdateHandler,\n        currentJobRef,\n        lastJobUpdateRef\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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NkJBQTZCO0lBQzdCLE1BQU1lLHNCQUFzQmxELGtEQUFXQSxDQUFDLENBQUNtRDtRQUN2QyxJQUFJN0MsVUFBVVUsT0FBTyxFQUFFO1lBQ3JCVixVQUFVVSxPQUFPLENBQUNvQyxHQUFHLENBQUMsZUFBZSw4QkFBOEI7WUFDbkU5QyxVQUFVVSxPQUFPLENBQUNXLEVBQUUsQ0FBQyxjQUFjLENBQUMwQjtnQkFDbENuQyxRQUFRQyxHQUFHLENBQUMscUNBQTJCa0M7Z0JBQ3ZDRixRQUFRRTtZQUNWO1FBQ0Y7SUFDRixHQUFHLEVBQUU7SUFFTCw0Q0FBNEM7SUFDNUN0RCxnREFBU0EsQ0FBQztRQUNSLDBDQUEwQztRQUMxQ2dCO1FBRUEscUJBQXFCO1FBQ3JCLE9BQU87WUFDTHlCO1FBQ0Y7SUFDRixHQUFHO1FBQUN6QjtRQUFrQnlCO0tBQW9CO0lBRTFDLE9BQU87UUFDTGpDO1FBQ0FRO1FBQ0F5QjtRQUNBRTtRQUNBSztRQUNBQztRQUNBRTtRQUNBekM7UUFDQUc7SUFDRjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdmliZWNhcmRpbmcvLi9ob29rcy9jYXJkU3R1ZGlvL3VzZVdlYlNvY2tldC50cz9mODQxIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIGNsaWVudFwiO1xuXG5pbXBvcnQgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0LCB1c2VDYWxsYmFjaywgdXNlUmVmIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyB0b2FzdCB9IGZyb20gXCJzb25uZXJcIjtcbmltcG9ydCBpbywgeyBTb2NrZXQgfSBmcm9tICdzb2NrZXQuaW8tY2xpZW50JztcbmltcG9ydCB7IEJBQ0tFTkRfQVBJX0JBU0VfVVJMIH0gZnJvbSAnLi9jb25zdGFudHMnO1xuXG5leHBvcnQgZnVuY3Rpb24gdXNlV2ViU29ja2V0KCkge1xuICBjb25zdCBzb2NrZXRSZWYgPSB1c2VSZWY8U29ja2V0IHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtpc1NvY2tldENvbm5lY3RlZCwgc2V0SXNTb2NrZXRDb25uZWN0ZWRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBjdXJyZW50Sm9iUmVmID0gdXNlUmVmPHN0cmluZyB8IG51bGw+KG51bGwpO1xuICBjb25zdCBzdWJzY3JpYmVkSm9ic1JlZiA9IHVzZVJlZjxTZXQ8c3RyaW5nPj4obmV3IFNldCgpKTsgLy8gVHJhY2sgYWxsIHN1YnNjcmliZWQgam9ic1xuICBjb25zdCBsYXN0Sm9iVXBkYXRlUmVmID0gdXNlUmVmPG51bWJlcj4oRGF0ZS5ub3coKSk7IC8vIFRyYWNrIGxhc3Qgam9iIHVwZGF0ZSB0aW1lXG5cbiAgY29uc3QgY29ubmVjdFdlYlNvY2tldCA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBpZiAoc29ja2V0UmVmLmN1cnJlbnQ/LmNvbm5lY3RlZCkge1xuICAgICAgY29uc29sZS5sb2coJ+KchSBXZWJTb2NrZXQgYWxyZWFkeSBjb25uZWN0ZWQnKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgY29uc29sZS5sb2coJ/CflIwgQ29ubmVjdGluZyB0byBXZWJTb2NrZXQuLi4nKTtcbiAgICAgIGNvbnN0IHNvY2tldCA9IGlvKEJBQ0tFTkRfQVBJX0JBU0VfVVJMLCB7XG4gICAgICAgIHRyYW5zcG9ydHM6IFsnd2Vic29ja2V0JywgJ3BvbGxpbmcnXSxcbiAgICAgICAgdGltZW91dDogMzAwMDAsIC8vIDMwIHNlY29uZHMgdGltZW91dFxuICAgICAgICByZWNvbm5lY3Rpb246IHRydWUsXG4gICAgICAgIHJlY29ubmVjdGlvbkRlbGF5OiAxMDAwLFxuICAgICAgICByZWNvbm5lY3Rpb25BdHRlbXB0czogMTAsIC8vIFJlZHVjZWQgZnJvbSAyMFxuICAgICAgICByZWNvbm5lY3Rpb25EZWxheU1heDogNTAwMFxuICAgICAgfSk7XG5cbiAgICAgIHNvY2tldC5vbignY29ubmVjdCcsICgpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coJ+KchSBXZWJTb2NrZXQgY29ubmVjdGVkOicsIHNvY2tldC5pZCk7XG4gICAgICAgIHNldElzU29ja2V0Q29ubmVjdGVkKHRydWUpO1xuICAgICAgICB0b2FzdC5zdWNjZXNzKCfwn5SXIFJlYWwtdGltZSB1cGRhdGVzIGNvbm5lY3RlZCcpO1xuICAgICAgICBcbiAgICAgICAgLy8gUmVzdWJzY3JpYmUgdG8gYWxsIHN1YnNjcmliZWQgam9icyBmb3IgcmVjb3ZlcnlcbiAgICAgICAgaWYgKHN1YnNjcmliZWRKb2JzUmVmLmN1cnJlbnQuc2l6ZSA+IDApIHtcbiAgICAgICAgICBjb25zb2xlLmxvZygn8J+UhCBSZXN1YnNjcmliaW5nIHRvIGpvYnM6JywgQXJyYXkuZnJvbShzdWJzY3JpYmVkSm9ic1JlZi5jdXJyZW50KSk7XG4gICAgICAgICAgc3Vic2NyaWJlZEpvYnNSZWYuY3VycmVudC5mb3JFYWNoKGpvYklkID0+IHtcbiAgICAgICAgICAgIHNvY2tldC5lbWl0KCdzdWJzY3JpYmVfam9iJywgeyBqb2JfaWQ6IGpvYklkIH0pO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgc29ja2V0Lm9uKCdkaXNjb25uZWN0JywgKHJlYXNvbjogc3RyaW5nKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKCfinYwgV2ViU29ja2V0IGRpc2Nvbm5lY3RlZDonLCByZWFzb24pO1xuICAgICAgICBzZXRJc1NvY2tldENvbm5lY3RlZChmYWxzZSk7XG4gICAgICAgIFxuICAgICAgICBpZiAocmVhc29uID09PSAnaW8gc2VydmVyIGRpc2Nvbm5lY3QnKSB7XG4gICAgICAgICAgLy8gU2VydmVyIGRpc2Nvbm5lY3RlZCwgdHJ5IHRvIHJlY29ubmVjdFxuICAgICAgICAgIHNvY2tldC5jb25uZWN0KCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBzb2NrZXQub24oJ2Nvbm5lY3RfZXJyb3InLCAoZXJyb3I6IEVycm9yKSA9PiB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBXZWJTb2NrZXQgY29ubmVjdGlvbiBlcnJvcjonLCBlcnJvcik7XG4gICAgICAgIHNldElzU29ja2V0Q29ubmVjdGVkKGZhbHNlKTtcbiAgICAgIH0pO1xuXG4gICAgICBzb2NrZXRSZWYuY3VycmVudCA9IHNvY2tldDtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcign4p2MIEZhaWxlZCB0byBjb25uZWN0IFdlYlNvY2tldDonLCBlcnJvcik7XG4gICAgICB0b2FzdC5lcnJvcignRmFpbGVkIHRvIGNvbm5lY3QgcmVhbC10aW1lIHVwZGF0ZXMuIFBsZWFzZSByZWZyZXNoIHRoZSBwYWdlLicpO1xuICAgIH1cbiAgfSwgW10pO1xuXG4gIGNvbnN0IGRpc2Nvbm5lY3RXZWJTb2NrZXQgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgaWYgKHNvY2tldFJlZi5jdXJyZW50KSB7XG4gICAgICBjb25zb2xlLmxvZygn8J+UjCBEaXNjb25uZWN0aW5nIFdlYlNvY2tldC4uLicpO1xuICAgICAgc29ja2V0UmVmLmN1cnJlbnQuZGlzY29ubmVjdCgpO1xuICAgICAgc29ja2V0UmVmLmN1cnJlbnQgPSBudWxsO1xuICAgICAgc2V0SXNTb2NrZXRDb25uZWN0ZWQoZmFsc2UpO1xuICAgIH1cbiAgfSwgW10pO1xuXG4gIGNvbnN0IHN1YnNjcmliZVRvSm9iID0gdXNlQ2FsbGJhY2soKGpvYklkOiBzdHJpbmcpID0+IHtcbiAgICAvLyBGb3IgZHJhZnQgam9icywgZG9uJ3QgdW5zdWJzY3JpYmUgZnJvbSBvdGhlciBkcmFmdHNcbiAgICBjb25zdCBpc0RyYWZ0Sm9iID0gam9iSWQuc3RhcnRzV2l0aCgnZHJhZnQtJyk7XG4gICAgXG4gICAgLy8gT25seSB1bnN1YnNjcmliZSBmcm9tIHByZXZpb3VzIGpvYiBpZiBpdCdzIG5vdCBhIGRyYWZ0IGpvYlxuICAgIGlmICghaXNEcmFmdEpvYiAmJiBjdXJyZW50Sm9iUmVmLmN1cnJlbnQgJiYgY3VycmVudEpvYlJlZi5jdXJyZW50ICE9PSBqb2JJZCAmJiBzb2NrZXRSZWYuY3VycmVudD8uY29ubmVjdGVkKSB7XG4gICAgICBjb25zb2xlLmxvZygn8J+UhCBVbnN1YnNjcmliaW5nIGZyb20gcHJldmlvdXMgam9iOicsIGN1cnJlbnRKb2JSZWYuY3VycmVudCk7XG4gICAgICBzb2NrZXRSZWYuY3VycmVudC5lbWl0KCd1bnN1YnNjcmliZV9qb2InLCB7IGpvYl9pZDogY3VycmVudEpvYlJlZi5jdXJyZW50IH0pO1xuICAgICAgc3Vic2NyaWJlZEpvYnNSZWYuY3VycmVudC5kZWxldGUoY3VycmVudEpvYlJlZi5jdXJyZW50KTtcbiAgICB9XG4gICAgXG4gICAgLy8gQWRkIHRvIHN1YnNjcmliZWQgam9icyBzZXRcbiAgICBzdWJzY3JpYmVkSm9ic1JlZi5jdXJyZW50LmFkZChqb2JJZCk7XG4gICAgXG4gICAgaWYgKCFpc0RyYWZ0Sm9iKSB7XG4gICAgICBjdXJyZW50Sm9iUmVmLmN1cnJlbnQgPSBqb2JJZDtcbiAgICB9XG4gICAgXG4gICAgaWYgKHNvY2tldFJlZi5jdXJyZW50Py5jb25uZWN0ZWQpIHtcbiAgICAgIGNvbnNvbGUubG9nKCfwn5OhIFN1YnNjcmliaW5nIHRvIGpvYiB1cGRhdGVzOicsIGpvYklkKTtcbiAgICAgIHNvY2tldFJlZi5jdXJyZW50LmVtaXQoJ3N1YnNjcmliZV9qb2InLCB7IGpvYl9pZDogam9iSWQgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUubG9nKCfij7MgV2ViU29ja2V0IG5vdCBjb25uZWN0ZWQsIHdpbGwgc3Vic2NyaWJlIHdoZW4gY29ubmVjdGVkJyk7XG4gICAgfVxuICB9LCBbXSk7XG5cbiAgY29uc3QgdW5zdWJzY3JpYmVGcm9tSm9iID0gdXNlQ2FsbGJhY2soKGpvYklkOiBzdHJpbmcpID0+IHtcbiAgICBpZiAoY3VycmVudEpvYlJlZi5jdXJyZW50ID09PSBqb2JJZCkge1xuICAgICAgY3VycmVudEpvYlJlZi5jdXJyZW50ID0gbnVsbDtcbiAgICB9XG4gICAgXG4gICAgLy8gUmVtb3ZlIGZyb20gc3Vic2NyaWJlZCBqb2JzIHNldFxuICAgIHN1YnNjcmliZWRKb2JzUmVmLmN1cnJlbnQuZGVsZXRlKGpvYklkKTtcbiAgICBcbiAgICBpZiAoc29ja2V0UmVmLmN1cnJlbnQ/LmNvbm5lY3RlZCkge1xuICAgICAgY29uc29sZS5sb2coJ/Cfk6EgVW5zdWJzY3JpYmluZyBmcm9tIGpvYiB1cGRhdGVzOicsIGpvYklkKTtcbiAgICAgIHNvY2tldFJlZi5jdXJyZW50LmVtaXQoJ3Vuc3Vic2NyaWJlX2pvYicsIHsgam9iX2lkOiBqb2JJZCB9KTtcbiAgICB9XG4gIH0sIFtdKTtcblxuICBjb25zdCB1bnN1YnNjcmliZUZyb21BbGxKb2JzID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIGNvbnNvbGUubG9nKCfwn6e5IFVuc3Vic2NyaWJpbmcgZnJvbSBhbGwgam9iIHVwZGF0ZXMnKTtcbiAgICBjdXJyZW50Sm9iUmVmLmN1cnJlbnQgPSBudWxsO1xuICAgIHN1YnNjcmliZWRKb2JzUmVmLmN1cnJlbnQuY2xlYXIoKTtcbiAgICBcbiAgICBpZiAoc29ja2V0UmVmLmN1cnJlbnQ/LmNvbm5lY3RlZCkge1xuICAgICAgLy8gRW1pdCBhIHNwZWNpYWwgZXZlbnQgdG8gY2xlYXIgYWxsIGpvYiBzdWJzY3JpcHRpb25zXG4gICAgICBzb2NrZXRSZWYuY3VycmVudC5lbWl0KCd1bnN1YnNjcmliZV9hbGxfam9icycsIHt9KTtcbiAgICB9XG4gIH0sIFtdKTtcblxuICAvLyBTZXQgdXAgam9iIHVwZGF0ZSBsaXN0ZW5lclxuICBjb25zdCBzZXRKb2JVcGRhdGVIYW5kbGVyID0gdXNlQ2FsbGJhY2soKGhhbmRsZXI6IChkYXRhOiBhbnkpID0+IHZvaWQpID0+IHtcbiAgICBpZiAoc29ja2V0UmVmLmN1cnJlbnQpIHtcbiAgICAgIHNvY2tldFJlZi5jdXJyZW50Lm9mZignam9iX3VwZGF0ZScpOyAvLyBSZW1vdmUgYW55IGV4aXN0aW5nIGhhbmRsZXJcbiAgICAgIHNvY2tldFJlZi5jdXJyZW50Lm9uKCdqb2JfdXBkYXRlJywgKGRhdGE6IGFueSkgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZygn8J+TpiBKb2IgdXBkYXRlIHJlY2VpdmVkOicsIGRhdGEpO1xuICAgICAgICBoYW5kbGVyKGRhdGEpO1xuICAgICAgfSk7XG4gICAgfVxuICB9LCBbXSk7XG5cbiAgLy8gV2ViU29ja2V0IGNvbm5lY3Rpb24gbGlmZWN5Y2xlIG1hbmFnZW1lbnRcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAvLyBDb25uZWN0IFdlYlNvY2tldCB3aGVuIGNvbXBvbmVudCBtb3VudHNcbiAgICBjb25uZWN0V2ViU29ja2V0KCk7XG4gICAgXG4gICAgLy8gQ2xlYW51cCBvbiB1bm1vdW50XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGRpc2Nvbm5lY3RXZWJTb2NrZXQoKTtcbiAgICB9O1xuICB9LCBbY29ubmVjdFdlYlNvY2tldCwgZGlzY29ubmVjdFdlYlNvY2tldF0pO1xuXG4gIHJldHVybiB7XG4gICAgaXNTb2NrZXRDb25uZWN0ZWQsXG4gICAgY29ubmVjdFdlYlNvY2tldCxcbiAgICBkaXNjb25uZWN0V2ViU29ja2V0LFxuICAgIHN1YnNjcmliZVRvSm9iLFxuICAgIHVuc3Vic2NyaWJlRnJvbUpvYixcbiAgICB1bnN1YnNjcmliZUZyb21BbGxKb2JzLFxuICAgIHNldEpvYlVwZGF0ZUhhbmRsZXIsXG4gICAgY3VycmVudEpvYlJlZixcbiAgICBsYXN0Sm9iVXBkYXRlUmVmXG4gIH07XG59Il0sIm5hbWVzIjpbInVzZVN0YXRlIiwidXNlRWZmZWN0IiwidXNlQ2FsbGJhY2siLCJ1c2VSZWYiLCJ0b2FzdCIsImlvIiwiQkFDS0VORF9BUElfQkFTRV9VUkwiLCJ1c2VXZWJTb2NrZXQiLCJzb2NrZXRSZWYiLCJpc1NvY2tldENvbm5lY3RlZCIsInNldElzU29ja2V0Q29ubmVjdGVkIiwiY3VycmVudEpvYlJlZiIsInN1YnNjcmliZWRKb2JzUmVmIiwiU2V0IiwibGFzdEpvYlVwZGF0ZVJlZiIsIkRhdGUiLCJub3ciLCJjb25uZWN0V2ViU29ja2V0IiwiY3VycmVudCIsImNvbm5lY3RlZCIsImNvbnNvbGUiLCJsb2ciLCJzb2NrZXQiLCJ0cmFuc3BvcnRzIiwidGltZW91dCIsInJlY29ubmVjdGlvbiIsInJlY29ubmVjdGlvbkRlbGF5IiwicmVjb25uZWN0aW9uQXR0ZW1wdHMiLCJyZWNvbm5lY3Rpb25EZWxheU1heCIsIm9uIiwiaWQiLCJzdWNjZXNzIiwic2l6ZSIsIkFycmF5IiwiZnJvbSIsImZvckVhY2giLCJqb2JJZCIsImVtaXQiLCJqb2JfaWQiLCJyZWFzb24iLCJjb25uZWN0IiwiZXJyb3IiLCJkaXNjb25uZWN0V2ViU29ja2V0IiwiZGlzY29ubmVjdCIsInN1YnNjcmliZVRvSm9iIiwiaXNEcmFmdEpvYiIsInN0YXJ0c1dpdGgiLCJkZWxldGUiLCJhZGQiLCJ1bnN1YnNjcmliZUZyb21Kb2IiLCJ1bnN1YnNjcmliZUZyb21BbGxKb2JzIiwiY2xlYXIiLCJzZXRKb2JVcGRhdGVIYW5kbGVyIiwiaGFuZGxlciIsIm9mZiIsImRhdGEiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./hooks/cardStudio/useWebSocket.ts\n");

/***/ }),

/***/ "(ssr)/./hooks/cardStudio/utils.ts":
/*!***********************************!*\
  !*** ./hooks/cardStudio/utils.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   chatWithAI: () => (/* binding */ chatWithAI),\n/* harmony export */   scrollToCardPreview: () => (/* binding */ scrollToCardPreview),\n/* harmony export */   sendThankYouEmail: () => (/* binding */ sendThankYouEmail)\n/* harmony export */ });\n/* harmony import */ var sonner__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! sonner */ \"(ssr)/./node_modules/sonner/dist/index.mjs\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./constants */ \"(ssr)/./hooks/cardStudio/constants.ts\");\n/* __next_internal_client_entry_do_not_use__ sendThankYouEmail,chatWithAI,scrollToCardPreview auto */ \n\n// Email Helper Function\nasync function sendThankYouEmail(toEmail, cardType, cardUrl) {\n    console.log(\"\\uD83D\\uDCE7 sendThankYouEmail called with:\", {\n        toEmail,\n        cardType,\n        cardUrl\n    });\n    if (!toEmail.trim()) {\n        console.log(\"\\uD83D\\uDCE7 sendThankYouEmail - toEmail is empty, returning\");\n        return;\n    }\n    try {\n        // Create HTML email body\n        const htmlBody = `\n      <div style=\"font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto; padding: 20px; color: #333;\">\n        <div style=\"text-align: center; margin-bottom: 30px;\">\n          <h1 style=\"color: #2563eb; margin-bottom: 10px;\">🎉 Your Card is Ready!</h1>\n        </div>\n        \n        <p style=\"font-size: 16px; line-height: 1.6; margin-bottom: 20px;\">Hi there!</p>\n        \n        <p style=\"font-size: 16px; line-height: 1.6; margin-bottom: 20px;\">\n          Thank you for using VibeCarding to create your beautiful <strong>${cardType}</strong> card!\n        </p>\n        \n        <p style=\"font-size: 16px; line-height: 1.6; margin-bottom: 20px;\">\n          We hope you love how it turned out. Your card has been generated and is ready for printing or sharing.\n        </p>\n        \n        <div style=\"text-align: center; margin: 30px 0;\">\n          <a href=\"${cardUrl}\" style=\"background-color: #2563eb; color: white; padding: 12px 24px; text-decoration: none; border-radius: 6px; font-weight: bold; display: inline-block;\">\n            View Your Card\n          </a>\n        </div>\n        \n        <p style=\"font-size: 16px; line-height: 1.6; margin-bottom: 20px;\">\n          If you have any questions or feedback, feel free to reach out to us.\n        </p>\n        \n        <p style=\"font-size: 16px; line-height: 1.6; margin-bottom: 20px;\">\n          Happy card making!\n        </p>\n        \n        <div style=\"margin-top: 40px; padding-top: 20px; border-top: 1px solid #e5e7eb; color: #6b7280;\">\n          <p style=\"margin-bottom: 5px;\"><strong>Best regards,</strong></p>\n          <p style=\"margin-bottom: 5px;\">The VibeCarding Team</p>\n          <p style=\"margin: 0;\">\n            <a href=\"mailto:vibecarding@ast.engineer\" style=\"color: #2563eb; text-decoration: none;\">vibecarding@ast.engineer</a>\n          </p>\n        </div>\n      </div>\n    `;\n        // Plain text fallback\n        const textBody = `Hi there!\n\nThank you for using VibeCarding to create your beautiful ${cardType} card!\n\nWe hope you love how it turned out. Your card has been generated and is ready for printing or sharing.\n\nView your card: ${cardUrl}\n\nIf you have any questions or feedback, feel free to reach out to us.\n\nHappy card making!\n\nBest regards,\nThe VibeCarding Team\nvibecarding@ast.engineer`;\n        // Send to user\n        console.log(\"\\uD83D\\uDCE7 Attempting to send email to user:\", toEmail);\n        const userResponse = await fetch(`${_constants__WEBPACK_IMPORTED_MODULE_1__.BACKEND_API_BASE_URL}/send_email_nodejs_style`, {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json; charset=utf-8\"\n            },\n            body: JSON.stringify({\n                to: toEmail,\n                from: \"vibecarding@ast.engineer\",\n                subject: `Your ${cardType} card is ready!`,\n                body: htmlBody,\n                text: textBody,\n                html: htmlBody\n            })\n        });\n        console.log(\"\\uD83D\\uDCE7 User email response status:\", userResponse.status);\n        if (userResponse.ok) {\n            const userResponseData = await userResponse.json();\n            console.log(\"\\uD83D\\uDCE7 User email response data:\", userResponseData);\n        }\n        // Send copy to jordan@ast.engineer\n        const adminResponse = await fetch(`${_constants__WEBPACK_IMPORTED_MODULE_1__.BACKEND_API_BASE_URL}/send_email_nodejs_style`, {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify({\n                to: \"jordan@ast.engineer\",\n                from: \"vibecarding@ast.engineer\",\n                subject: `Card Created - ${cardType} for ${toEmail}`,\n                body: `<div style=\"font-family: Arial, sans-serif; padding: 20px;\">\n          <h3 style=\"color: #2563eb;\">New Card Created on VibeCarding</h3>\n          <p><strong>User:</strong> ${toEmail}</p>\n          <p><strong>Card Type:</strong> ${cardType}</p>\n          <p><strong>Card URL:</strong> <a href=\"${cardUrl}\">${cardUrl}</a></p>\n          <p style=\"margin-top: 20px; color: #6b7280; font-size: 14px;\">\n            This is an automated notification of card creation activity.\n          </p>\n        </div>`,\n                text: `New card created on VibeCarding:\n\nUser: ${toEmail}\nCard Type: ${cardType}\nCard URL: ${cardUrl}\n\nThis is an automated notification of card creation activity.`\n            })\n        });\n        if (userResponse.ok) {\n            sonner__WEBPACK_IMPORTED_MODULE_0__.toast.success(\"✉️ Thank you email sent!\");\n        }\n    } catch (error) {\n        console.error(\"Failed to send thank you email:\", error);\n    // Don't show error toast - this is a nice-to-have feature\n    }\n}\n// Chat Helper Function\nasync function chatWithAI(userMessage, options = {}) {\n    const { systemPrompt = null, model = \"gemini-2.5-pro\", includeThoughts = false, jsonSchema = null, attachments = [] // Default to empty array\n     } = options;\n    console.log(\"\\uD83E\\uDD16 chatWithAI called with:\", {\n        messageLength: userMessage.length,\n        model,\n        hasAttachments: attachments.length > 0,\n        attachmentCount: attachments.length,\n        hasJsonSchema: !!jsonSchema\n    });\n    try {\n        const response = await fetch(\"/internal/call_mcp_tool\", {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify({\n                tool_name: \"ai_chat\",\n                arguments: {\n                    messages: userMessage,\n                    system_prompt: systemPrompt,\n                    model: model,\n                    include_thoughts: includeThoughts,\n                    json_schema: jsonSchema,\n                    ...attachments.length > 0 && {\n                        attachments\n                    } // Only include if there are attachments\n                }\n            })\n        });\n        if (!response.ok) {\n            const errorText = await response.text();\n            console.error(\"chatWithAI error response:\", errorText);\n            throw new Error(`HTTP ${response.status}: ${errorText}`);\n        }\n        const data = await response.json();\n        console.log(\"\\uD83E\\uDD16 chatWithAI response data:\", data);\n        if (data.error && data.error !== \"None\" && data.error !== null) {\n            throw new Error(data.error);\n        }\n        let result;\n        if (typeof data.result === \"string\") {\n            try {\n                result = JSON.parse(data.result);\n            } catch  {\n                result = {\n                    status: \"error\",\n                    message: \"Invalid JSON response\"\n                };\n            }\n        } else {\n            result = data.result;\n        }\n        if (result.status === \"error\") {\n            throw new Error(result.message);\n        }\n        return result.response;\n    } catch (error) {\n        console.error(\"AI chat failed:\", error);\n        throw error;\n    }\n}\n// Helper function to scroll to card preview\nconst scrollToCardPreview = ()=>{\n    setTimeout(()=>{\n        const cardPreviewElement = document.querySelector(\"[data-card-preview]\");\n        if (cardPreviewElement) {\n            cardPreviewElement.scrollIntoView({\n                behavior: \"smooth\",\n                block: \"start\"\n            });\n        }\n    }, 500);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ob29rcy9jYXJkU3R1ZGlvL3V0aWxzLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O3NHQUUrQjtBQUNvQjtBQUVuRCx3QkFBd0I7QUFDakIsZUFBZUUsa0JBQWtCQyxPQUFlLEVBQUVDLFFBQWdCLEVBQUVDLE9BQWU7SUFDeEZDLFFBQVFDLEdBQUcsQ0FBQywrQ0FBcUM7UUFBRUo7UUFBU0M7UUFBVUM7SUFBUTtJQUM5RSxJQUFJLENBQUNGLFFBQVFLLElBQUksSUFBSTtRQUNuQkYsUUFBUUMsR0FBRyxDQUFDO1FBQ1o7SUFDRjtJQUVBLElBQUk7UUFDRix5QkFBeUI7UUFDekIsTUFBTUUsV0FBVyxDQUFDOzs7Ozs7Ozs7MkVBU3FELEVBQUVMLFNBQVM7Ozs7Ozs7O21CQVFuRSxFQUFFQyxRQUFROzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7SUFxQnpCLENBQUM7UUFFRCxzQkFBc0I7UUFDdEIsTUFBTUssV0FBVyxDQUFDOzt5REFFbUMsRUFBRU4sU0FBUzs7OztnQkFJcEQsRUFBRUMsUUFBUTs7Ozs7Ozs7d0JBUUYsQ0FBQztRQUVyQixlQUFlO1FBQ2ZDLFFBQVFDLEdBQUcsQ0FBQyxrREFBd0NKO1FBQ3BELE1BQU1RLGVBQWUsTUFBTUMsTUFBTSxDQUFDLEVBQUVYLDREQUFvQkEsQ0FBQyx3QkFBd0IsQ0FBQyxFQUFFO1lBQ2xGWSxRQUFRO1lBQ1JDLFNBQVM7Z0JBQ1AsZ0JBQWdCO1lBQ2xCO1lBQ0FDLE1BQU1DLEtBQUtDLFNBQVMsQ0FBQztnQkFDbkJDLElBQUlmO2dCQUNKZ0IsTUFBTTtnQkFDTkMsU0FBUyxDQUFDLEtBQUssRUFBRWhCLFNBQVMsZUFBZSxDQUFDO2dCQUMxQ1csTUFBTU47Z0JBQ05ZLE1BQU1YO2dCQUNOWSxNQUFNYjtZQUNSO1FBQ0Y7UUFFQUgsUUFBUUMsR0FBRyxDQUFDLDRDQUFrQ0ksYUFBYVksTUFBTTtRQUNqRSxJQUFJWixhQUFhYSxFQUFFLEVBQUU7WUFDbkIsTUFBTUMsbUJBQW1CLE1BQU1kLGFBQWFlLElBQUk7WUFDaERwQixRQUFRQyxHQUFHLENBQUMsMENBQWdDa0I7UUFDOUM7UUFFQSxtQ0FBbUM7UUFDbkMsTUFBTUUsZ0JBQWdCLE1BQU1mLE1BQU0sQ0FBQyxFQUFFWCw0REFBb0JBLENBQUMsd0JBQXdCLENBQUMsRUFBRTtZQUNuRlksUUFBUTtZQUNSQyxTQUFTO2dCQUFFLGdCQUFnQjtZQUFtQjtZQUM5Q0MsTUFBTUMsS0FBS0MsU0FBUyxDQUFDO2dCQUNuQkMsSUFBSTtnQkFDSkMsTUFBTTtnQkFDTkMsU0FBUyxDQUFDLGVBQWUsRUFBRWhCLFNBQVMsS0FBSyxFQUFFRCxRQUFRLENBQUM7Z0JBQ3BEWSxNQUFNLENBQUM7O29DQUVxQixFQUFFWixRQUFRO3lDQUNMLEVBQUVDLFNBQVM7aURBQ0gsRUFBRUMsUUFBUSxFQUFFLEVBQUVBLFFBQVE7Ozs7Y0FJekQsQ0FBQztnQkFDUGdCLE1BQU0sQ0FBQzs7TUFFVCxFQUFFbEIsUUFBUTtXQUNMLEVBQUVDLFNBQVM7VUFDWixFQUFFQyxRQUFROzs0REFFd0MsQ0FBQztZQUN2RDtRQUNGO1FBRUEsSUFBSU0sYUFBYWEsRUFBRSxFQUFFO1lBQ25CeEIseUNBQUtBLENBQUM0QixPQUFPLENBQUM7UUFDaEI7SUFDRixFQUFFLE9BQU9DLE9BQU87UUFDZHZCLFFBQVF1QixLQUFLLENBQUMsbUNBQW1DQTtJQUNqRCwwREFBMEQ7SUFDNUQ7QUFDRjtBQUVBLHVCQUF1QjtBQUNoQixlQUFlQyxXQUFXQyxXQUFtQixFQUFFQyxVQU1sRCxDQUFDLENBQUM7SUFDSixNQUFNLEVBQ0pDLGVBQWUsSUFBSSxFQUNuQkMsUUFBUSxnQkFBZ0IsRUFDeEJDLGtCQUFrQixLQUFLLEVBQ3ZCQyxhQUFhLElBQUksRUFDakJDLGNBQWMsRUFBRSxDQUFFLHlCQUF5QjtJQUEzQixFQUNqQixHQUFHTDtJQUVKMUIsUUFBUUMsR0FBRyxDQUFDLHdDQUE4QjtRQUN4QytCLGVBQWVQLFlBQVlRLE1BQU07UUFDakNMO1FBQ0FNLGdCQUFnQkgsWUFBWUUsTUFBTSxHQUFHO1FBQ3JDRSxpQkFBaUJKLFlBQVlFLE1BQU07UUFDbkNHLGVBQWUsQ0FBQyxDQUFDTjtJQUNuQjtJQUVBLElBQUk7UUFDRixNQUFNTyxXQUFXLE1BQU0vQixNQUFNLDJCQUEyQjtZQUN0REMsUUFBUTtZQUNSQyxTQUFTO2dCQUFFLGdCQUFnQjtZQUFtQjtZQUM5Q0MsTUFBTUMsS0FBS0MsU0FBUyxDQUFDO2dCQUNuQjJCLFdBQVc7Z0JBQ1hDLFdBQVc7b0JBQ1RDLFVBQVVmO29CQUNWZ0IsZUFBZWQ7b0JBQ2ZDLE9BQU9BO29CQUNQYyxrQkFBa0JiO29CQUNsQmMsYUFBYWI7b0JBQ2IsR0FBSUMsWUFBWUUsTUFBTSxHQUFHLEtBQUs7d0JBQUVGO29CQUFZLEVBQUksd0NBQXdDO2dCQUMxRjtZQUNGO1FBQ0Y7UUFFQSxJQUFJLENBQUNNLFNBQVNuQixFQUFFLEVBQUU7WUFDaEIsTUFBTTBCLFlBQVksTUFBTVAsU0FBU3RCLElBQUk7WUFDckNmLFFBQVF1QixLQUFLLENBQUMsOEJBQThCcUI7WUFDNUMsTUFBTSxJQUFJQyxNQUFNLENBQUMsS0FBSyxFQUFFUixTQUFTcEIsTUFBTSxDQUFDLEVBQUUsRUFBRTJCLFVBQVUsQ0FBQztRQUN6RDtRQUVBLE1BQU1FLE9BQU8sTUFBTVQsU0FBU2pCLElBQUk7UUFDaENwQixRQUFRQyxHQUFHLENBQUMsMENBQWdDNkM7UUFFNUMsSUFBSUEsS0FBS3ZCLEtBQUssSUFBSXVCLEtBQUt2QixLQUFLLEtBQUssVUFBVXVCLEtBQUt2QixLQUFLLEtBQUssTUFBTTtZQUM5RCxNQUFNLElBQUlzQixNQUFNQyxLQUFLdkIsS0FBSztRQUM1QjtRQUVBLElBQUl3QjtRQUNKLElBQUksT0FBT0QsS0FBS0MsTUFBTSxLQUFLLFVBQVU7WUFDbkMsSUFBSTtnQkFDRkEsU0FBU3JDLEtBQUtzQyxLQUFLLENBQUNGLEtBQUtDLE1BQU07WUFDakMsRUFBRSxPQUFNO2dCQUNOQSxTQUFTO29CQUFFOUIsUUFBUTtvQkFBU2dDLFNBQVM7Z0JBQXdCO1lBQy9EO1FBQ0YsT0FBTztZQUNMRixTQUFTRCxLQUFLQyxNQUFNO1FBQ3RCO1FBRUEsSUFBSUEsT0FBTzlCLE1BQU0sS0FBSyxTQUFTO1lBQzdCLE1BQU0sSUFBSTRCLE1BQU1FLE9BQU9FLE9BQU87UUFDaEM7UUFFQSxPQUFPRixPQUFPVixRQUFRO0lBRXhCLEVBQUUsT0FBT2QsT0FBTztRQUNkdkIsUUFBUXVCLEtBQUssQ0FBQyxtQkFBbUJBO1FBQ2pDLE1BQU1BO0lBQ1I7QUFDRjtBQUVBLDRDQUE0QztBQUNyQyxNQUFNMkIsc0JBQXNCO0lBQ2pDQyxXQUFXO1FBQ1QsTUFBTUMscUJBQXFCQyxTQUFTQyxhQUFhLENBQUM7UUFDbEQsSUFBSUYsb0JBQW9CO1lBQ3RCQSxtQkFBbUJHLGNBQWMsQ0FBQztnQkFBRUMsVUFBVTtnQkFBVUMsT0FBTztZQUFRO1FBQ3pFO0lBQ0YsR0FBRztBQUNMLEVBQUUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92aWJlY2FyZGluZy8uL2hvb2tzL2NhcmRTdHVkaW8vdXRpbHMudHM/M2QwNCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIjtcblxuaW1wb3J0IHsgdG9hc3QgfSBmcm9tIFwic29ubmVyXCI7XG5pbXBvcnQgeyBCQUNLRU5EX0FQSV9CQVNFX1VSTCB9IGZyb20gJy4vY29uc3RhbnRzJztcblxuLy8gRW1haWwgSGVscGVyIEZ1bmN0aW9uXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2VuZFRoYW5rWW91RW1haWwodG9FbWFpbDogc3RyaW5nLCBjYXJkVHlwZTogc3RyaW5nLCBjYXJkVXJsOiBzdHJpbmcpIHtcbiAgY29uc29sZS5sb2coJ/Cfk6cgc2VuZFRoYW5rWW91RW1haWwgY2FsbGVkIHdpdGg6JywgeyB0b0VtYWlsLCBjYXJkVHlwZSwgY2FyZFVybCB9KTtcbiAgaWYgKCF0b0VtYWlsLnRyaW0oKSkge1xuICAgIGNvbnNvbGUubG9nKCfwn5OnIHNlbmRUaGFua1lvdUVtYWlsIC0gdG9FbWFpbCBpcyBlbXB0eSwgcmV0dXJuaW5nJyk7XG4gICAgcmV0dXJuO1xuICB9XG4gIFxuICB0cnkge1xuICAgIC8vIENyZWF0ZSBIVE1MIGVtYWlsIGJvZHlcbiAgICBjb25zdCBodG1sQm9keSA9IGBcbiAgICAgIDxkaXYgc3R5bGU9XCJmb250LWZhbWlseTogQXJpYWwsIHNhbnMtc2VyaWY7IG1heC13aWR0aDogNjAwcHg7IG1hcmdpbjogMCBhdXRvOyBwYWRkaW5nOiAyMHB4OyBjb2xvcjogIzMzMztcIj5cbiAgICAgICAgPGRpdiBzdHlsZT1cInRleHQtYWxpZ246IGNlbnRlcjsgbWFyZ2luLWJvdHRvbTogMzBweDtcIj5cbiAgICAgICAgICA8aDEgc3R5bGU9XCJjb2xvcjogIzI1NjNlYjsgbWFyZ2luLWJvdHRvbTogMTBweDtcIj7wn46JIFlvdXIgQ2FyZCBpcyBSZWFkeSE8L2gxPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgXG4gICAgICAgIDxwIHN0eWxlPVwiZm9udC1zaXplOiAxNnB4OyBsaW5lLWhlaWdodDogMS42OyBtYXJnaW4tYm90dG9tOiAyMHB4O1wiPkhpIHRoZXJlITwvcD5cbiAgICAgICAgXG4gICAgICAgIDxwIHN0eWxlPVwiZm9udC1zaXplOiAxNnB4OyBsaW5lLWhlaWdodDogMS42OyBtYXJnaW4tYm90dG9tOiAyMHB4O1wiPlxuICAgICAgICAgIFRoYW5rIHlvdSBmb3IgdXNpbmcgVmliZUNhcmRpbmcgdG8gY3JlYXRlIHlvdXIgYmVhdXRpZnVsIDxzdHJvbmc+JHtjYXJkVHlwZX08L3N0cm9uZz4gY2FyZCFcbiAgICAgICAgPC9wPlxuICAgICAgICBcbiAgICAgICAgPHAgc3R5bGU9XCJmb250LXNpemU6IDE2cHg7IGxpbmUtaGVpZ2h0OiAxLjY7IG1hcmdpbi1ib3R0b206IDIwcHg7XCI+XG4gICAgICAgICAgV2UgaG9wZSB5b3UgbG92ZSBob3cgaXQgdHVybmVkIG91dC4gWW91ciBjYXJkIGhhcyBiZWVuIGdlbmVyYXRlZCBhbmQgaXMgcmVhZHkgZm9yIHByaW50aW5nIG9yIHNoYXJpbmcuXG4gICAgICAgIDwvcD5cbiAgICAgICAgXG4gICAgICAgIDxkaXYgc3R5bGU9XCJ0ZXh0LWFsaWduOiBjZW50ZXI7IG1hcmdpbjogMzBweCAwO1wiPlxuICAgICAgICAgIDxhIGhyZWY9XCIke2NhcmRVcmx9XCIgc3R5bGU9XCJiYWNrZ3JvdW5kLWNvbG9yOiAjMjU2M2ViOyBjb2xvcjogd2hpdGU7IHBhZGRpbmc6IDEycHggMjRweDsgdGV4dC1kZWNvcmF0aW9uOiBub25lOyBib3JkZXItcmFkaXVzOiA2cHg7IGZvbnQtd2VpZ2h0OiBib2xkOyBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XCI+XG4gICAgICAgICAgICBWaWV3IFlvdXIgQ2FyZFxuICAgICAgICAgIDwvYT5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIFxuICAgICAgICA8cCBzdHlsZT1cImZvbnQtc2l6ZTogMTZweDsgbGluZS1oZWlnaHQ6IDEuNjsgbWFyZ2luLWJvdHRvbTogMjBweDtcIj5cbiAgICAgICAgICBJZiB5b3UgaGF2ZSBhbnkgcXVlc3Rpb25zIG9yIGZlZWRiYWNrLCBmZWVsIGZyZWUgdG8gcmVhY2ggb3V0IHRvIHVzLlxuICAgICAgICA8L3A+XG4gICAgICAgIFxuICAgICAgICA8cCBzdHlsZT1cImZvbnQtc2l6ZTogMTZweDsgbGluZS1oZWlnaHQ6IDEuNjsgbWFyZ2luLWJvdHRvbTogMjBweDtcIj5cbiAgICAgICAgICBIYXBweSBjYXJkIG1ha2luZyFcbiAgICAgICAgPC9wPlxuICAgICAgICBcbiAgICAgICAgPGRpdiBzdHlsZT1cIm1hcmdpbi10b3A6IDQwcHg7IHBhZGRpbmctdG9wOiAyMHB4OyBib3JkZXItdG9wOiAxcHggc29saWQgI2U1ZTdlYjsgY29sb3I6ICM2YjcyODA7XCI+XG4gICAgICAgICAgPHAgc3R5bGU9XCJtYXJnaW4tYm90dG9tOiA1cHg7XCI+PHN0cm9uZz5CZXN0IHJlZ2FyZHMsPC9zdHJvbmc+PC9wPlxuICAgICAgICAgIDxwIHN0eWxlPVwibWFyZ2luLWJvdHRvbTogNXB4O1wiPlRoZSBWaWJlQ2FyZGluZyBUZWFtPC9wPlxuICAgICAgICAgIDxwIHN0eWxlPVwibWFyZ2luOiAwO1wiPlxuICAgICAgICAgICAgPGEgaHJlZj1cIm1haWx0bzp2aWJlY2FyZGluZ0Bhc3QuZW5naW5lZXJcIiBzdHlsZT1cImNvbG9yOiAjMjU2M2ViOyB0ZXh0LWRlY29yYXRpb246IG5vbmU7XCI+dmliZWNhcmRpbmdAYXN0LmVuZ2luZWVyPC9hPlxuICAgICAgICAgIDwvcD5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICBgO1xuXG4gICAgLy8gUGxhaW4gdGV4dCBmYWxsYmFja1xuICAgIGNvbnN0IHRleHRCb2R5ID0gYEhpIHRoZXJlIVxuXG5UaGFuayB5b3UgZm9yIHVzaW5nIFZpYmVDYXJkaW5nIHRvIGNyZWF0ZSB5b3VyIGJlYXV0aWZ1bCAke2NhcmRUeXBlfSBjYXJkIVxuXG5XZSBob3BlIHlvdSBsb3ZlIGhvdyBpdCB0dXJuZWQgb3V0LiBZb3VyIGNhcmQgaGFzIGJlZW4gZ2VuZXJhdGVkIGFuZCBpcyByZWFkeSBmb3IgcHJpbnRpbmcgb3Igc2hhcmluZy5cblxuVmlldyB5b3VyIGNhcmQ6ICR7Y2FyZFVybH1cblxuSWYgeW91IGhhdmUgYW55IHF1ZXN0aW9ucyBvciBmZWVkYmFjaywgZmVlbCBmcmVlIHRvIHJlYWNoIG91dCB0byB1cy5cblxuSGFwcHkgY2FyZCBtYWtpbmchXG5cbkJlc3QgcmVnYXJkcyxcblRoZSBWaWJlQ2FyZGluZyBUZWFtXG52aWJlY2FyZGluZ0Bhc3QuZW5naW5lZXJgO1xuXG4gICAgLy8gU2VuZCB0byB1c2VyXG4gICAgY29uc29sZS5sb2coJ/Cfk6cgQXR0ZW1wdGluZyB0byBzZW5kIGVtYWlsIHRvIHVzZXI6JywgdG9FbWFpbCk7XG4gICAgY29uc3QgdXNlclJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7QkFDS0VORF9BUElfQkFTRV9VUkx9L3NlbmRfZW1haWxfbm9kZWpzX3N0eWxlYCwge1xuICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICBoZWFkZXJzOiB7IFxuICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb247IGNoYXJzZXQ9dXRmLTgnXG4gICAgICB9LFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICB0bzogdG9FbWFpbCxcbiAgICAgICAgZnJvbTogJ3ZpYmVjYXJkaW5nQGFzdC5lbmdpbmVlcicsXG4gICAgICAgIHN1YmplY3Q6IGBZb3VyICR7Y2FyZFR5cGV9IGNhcmQgaXMgcmVhZHkhYCxcbiAgICAgICAgYm9keTogaHRtbEJvZHksXG4gICAgICAgIHRleHQ6IHRleHRCb2R5LFxuICAgICAgICBodG1sOiBodG1sQm9keVxuICAgICAgfSlcbiAgICB9KTtcbiAgICBcbiAgICBjb25zb2xlLmxvZygn8J+TpyBVc2VyIGVtYWlsIHJlc3BvbnNlIHN0YXR1czonLCB1c2VyUmVzcG9uc2Uuc3RhdHVzKTtcbiAgICBpZiAodXNlclJlc3BvbnNlLm9rKSB7XG4gICAgICBjb25zdCB1c2VyUmVzcG9uc2VEYXRhID0gYXdhaXQgdXNlclJlc3BvbnNlLmpzb24oKTtcbiAgICAgIGNvbnNvbGUubG9nKCfwn5OnIFVzZXIgZW1haWwgcmVzcG9uc2UgZGF0YTonLCB1c2VyUmVzcG9uc2VEYXRhKTtcbiAgICB9XG5cbiAgICAvLyBTZW5kIGNvcHkgdG8gam9yZGFuQGFzdC5lbmdpbmVlclxuICAgIGNvbnN0IGFkbWluUmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgJHtCQUNLRU5EX0FQSV9CQVNFX1VSTH0vc2VuZF9lbWFpbF9ub2RlanNfc3R5bGVgLCB7XG4gICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICB0bzogJ2pvcmRhbkBhc3QuZW5naW5lZXInLFxuICAgICAgICBmcm9tOiAndmliZWNhcmRpbmdAYXN0LmVuZ2luZWVyJyxcbiAgICAgICAgc3ViamVjdDogYENhcmQgQ3JlYXRlZCAtICR7Y2FyZFR5cGV9IGZvciAke3RvRW1haWx9YCxcbiAgICAgICAgYm9keTogYDxkaXYgc3R5bGU9XCJmb250LWZhbWlseTogQXJpYWwsIHNhbnMtc2VyaWY7IHBhZGRpbmc6IDIwcHg7XCI+XG4gICAgICAgICAgPGgzIHN0eWxlPVwiY29sb3I6ICMyNTYzZWI7XCI+TmV3IENhcmQgQ3JlYXRlZCBvbiBWaWJlQ2FyZGluZzwvaDM+XG4gICAgICAgICAgPHA+PHN0cm9uZz5Vc2VyOjwvc3Ryb25nPiAke3RvRW1haWx9PC9wPlxuICAgICAgICAgIDxwPjxzdHJvbmc+Q2FyZCBUeXBlOjwvc3Ryb25nPiAke2NhcmRUeXBlfTwvcD5cbiAgICAgICAgICA8cD48c3Ryb25nPkNhcmQgVVJMOjwvc3Ryb25nPiA8YSBocmVmPVwiJHtjYXJkVXJsfVwiPiR7Y2FyZFVybH08L2E+PC9wPlxuICAgICAgICAgIDxwIHN0eWxlPVwibWFyZ2luLXRvcDogMjBweDsgY29sb3I6ICM2YjcyODA7IGZvbnQtc2l6ZTogMTRweDtcIj5cbiAgICAgICAgICAgIFRoaXMgaXMgYW4gYXV0b21hdGVkIG5vdGlmaWNhdGlvbiBvZiBjYXJkIGNyZWF0aW9uIGFjdGl2aXR5LlxuICAgICAgICAgIDwvcD5cbiAgICAgICAgPC9kaXY+YCxcbiAgICAgICAgdGV4dDogYE5ldyBjYXJkIGNyZWF0ZWQgb24gVmliZUNhcmRpbmc6XG5cblVzZXI6ICR7dG9FbWFpbH1cbkNhcmQgVHlwZTogJHtjYXJkVHlwZX1cbkNhcmQgVVJMOiAke2NhcmRVcmx9XG5cblRoaXMgaXMgYW4gYXV0b21hdGVkIG5vdGlmaWNhdGlvbiBvZiBjYXJkIGNyZWF0aW9uIGFjdGl2aXR5LmBcbiAgICAgIH0pXG4gICAgfSk7XG5cbiAgICBpZiAodXNlclJlc3BvbnNlLm9rKSB7XG4gICAgICB0b2FzdC5zdWNjZXNzKFwi4pyJ77iPIFRoYW5rIHlvdSBlbWFpbCBzZW50IVwiKTtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIHNlbmQgdGhhbmsgeW91IGVtYWlsOicsIGVycm9yKTtcbiAgICAvLyBEb24ndCBzaG93IGVycm9yIHRvYXN0IC0gdGhpcyBpcyBhIG5pY2UtdG8taGF2ZSBmZWF0dXJlXG4gIH1cbn1cblxuLy8gQ2hhdCBIZWxwZXIgRnVuY3Rpb25cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjaGF0V2l0aEFJKHVzZXJNZXNzYWdlOiBzdHJpbmcsIG9wdGlvbnM6IHtcbiAgc3lzdGVtUHJvbXB0Pzogc3RyaW5nIHwgbnVsbDtcbiAgbW9kZWw/OiBzdHJpbmc7XG4gIGluY2x1ZGVUaG91Z2h0cz86IGJvb2xlYW47XG4gIGpzb25TY2hlbWE/OiBhbnk7XG4gIGF0dGFjaG1lbnRzPzogc3RyaW5nW107ICAvLyBBZGQgc3VwcG9ydCBmb3IgaW1hZ2UgYXR0YWNobWVudHNcbn0gPSB7fSkge1xuICBjb25zdCB7XG4gICAgc3lzdGVtUHJvbXB0ID0gbnVsbCxcbiAgICBtb2RlbCA9ICdnZW1pbmktMi41LXBybycsXG4gICAgaW5jbHVkZVRob3VnaHRzID0gZmFsc2UsICAvLyBEZWZhdWx0IHRvIGZhbHNlIHRvIGF2b2lkIHRoaW5raW5nIGNvbnRlbnQgaW4gcmVzcG9uc2VzXG4gICAganNvblNjaGVtYSA9IG51bGwsXG4gICAgYXR0YWNobWVudHMgPSBbXSAgLy8gRGVmYXVsdCB0byBlbXB0eSBhcnJheVxuICB9ID0gb3B0aW9ucztcbiAgXG4gIGNvbnNvbGUubG9nKFwi8J+kliBjaGF0V2l0aEFJIGNhbGxlZCB3aXRoOlwiLCB7XG4gICAgbWVzc2FnZUxlbmd0aDogdXNlck1lc3NhZ2UubGVuZ3RoLFxuICAgIG1vZGVsLFxuICAgIGhhc0F0dGFjaG1lbnRzOiBhdHRhY2htZW50cy5sZW5ndGggPiAwLFxuICAgIGF0dGFjaG1lbnRDb3VudDogYXR0YWNobWVudHMubGVuZ3RoLFxuICAgIGhhc0pzb25TY2hlbWE6ICEhanNvblNjaGVtYVxuICB9KTtcbiAgXG4gIHRyeSB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnL2ludGVybmFsL2NhbGxfbWNwX3Rvb2wnLCB7XG4gICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICB0b29sX25hbWU6ICdhaV9jaGF0JyxcbiAgICAgICAgYXJndW1lbnRzOiB7XG4gICAgICAgICAgbWVzc2FnZXM6IHVzZXJNZXNzYWdlLFxuICAgICAgICAgIHN5c3RlbV9wcm9tcHQ6IHN5c3RlbVByb21wdCxcbiAgICAgICAgICBtb2RlbDogbW9kZWwsXG4gICAgICAgICAgaW5jbHVkZV90aG91Z2h0czogaW5jbHVkZVRob3VnaHRzLFxuICAgICAgICAgIGpzb25fc2NoZW1hOiBqc29uU2NoZW1hLFxuICAgICAgICAgIC4uLihhdHRhY2htZW50cy5sZW5ndGggPiAwICYmIHsgYXR0YWNobWVudHMgfSkgIC8vIE9ubHkgaW5jbHVkZSBpZiB0aGVyZSBhcmUgYXR0YWNobWVudHNcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICB9KTtcbiAgICBcbiAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICBjb25zdCBlcnJvclRleHQgPSBhd2FpdCByZXNwb25zZS50ZXh0KCk7XG4gICAgICBjb25zb2xlLmVycm9yKFwiY2hhdFdpdGhBSSBlcnJvciByZXNwb25zZTpcIiwgZXJyb3JUZXh0KTtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgSFRUUCAke3Jlc3BvbnNlLnN0YXR1c306ICR7ZXJyb3JUZXh0fWApO1xuICAgIH1cbiAgICBcbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgIGNvbnNvbGUubG9nKFwi8J+kliBjaGF0V2l0aEFJIHJlc3BvbnNlIGRhdGE6XCIsIGRhdGEpO1xuICAgIFxuICAgIGlmIChkYXRhLmVycm9yICYmIGRhdGEuZXJyb3IgIT09IFwiTm9uZVwiICYmIGRhdGEuZXJyb3IgIT09IG51bGwpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihkYXRhLmVycm9yKTtcbiAgICB9XG4gICAgXG4gICAgbGV0IHJlc3VsdDtcbiAgICBpZiAodHlwZW9mIGRhdGEucmVzdWx0ID09PSAnc3RyaW5nJykge1xuICAgICAgdHJ5IHtcbiAgICAgICAgcmVzdWx0ID0gSlNPTi5wYXJzZShkYXRhLnJlc3VsdCk7XG4gICAgICB9IGNhdGNoIHtcbiAgICAgICAgcmVzdWx0ID0geyBzdGF0dXM6ICdlcnJvcicsIG1lc3NhZ2U6ICdJbnZhbGlkIEpTT04gcmVzcG9uc2UnIH07XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc3VsdCA9IGRhdGEucmVzdWx0O1xuICAgIH1cbiAgICBcbiAgICBpZiAocmVzdWx0LnN0YXR1cyA9PT0gJ2Vycm9yJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKHJlc3VsdC5tZXNzYWdlKTtcbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIHJlc3VsdC5yZXNwb25zZTtcbiAgICBcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdBSSBjaGF0IGZhaWxlZDonLCBlcnJvcik7XG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbn1cblxuLy8gSGVscGVyIGZ1bmN0aW9uIHRvIHNjcm9sbCB0byBjYXJkIHByZXZpZXdcbmV4cG9ydCBjb25zdCBzY3JvbGxUb0NhcmRQcmV2aWV3ID0gKCkgPT4ge1xuICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICBjb25zdCBjYXJkUHJldmlld0VsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1jYXJkLXByZXZpZXddJyk7XG4gICAgaWYgKGNhcmRQcmV2aWV3RWxlbWVudCkge1xuICAgICAgY2FyZFByZXZpZXdFbGVtZW50LnNjcm9sbEludG9WaWV3KHsgYmVoYXZpb3I6ICdzbW9vdGgnLCBibG9jazogJ3N0YXJ0JyB9KTtcbiAgICB9XG4gIH0sIDUwMCk7XG59OyJdLCJuYW1lcyI6WyJ0b2FzdCIsIkJBQ0tFTkRfQVBJX0JBU0VfVVJMIiwic2VuZFRoYW5rWW91RW1haWwiLCJ0b0VtYWlsIiwiY2FyZFR5cGUiLCJjYXJkVXJsIiwiY29uc29sZSIsImxvZyIsInRyaW0iLCJodG1sQm9keSIsInRleHRCb2R5IiwidXNlclJlc3BvbnNlIiwiZmV0Y2giLCJtZXRob2QiLCJoZWFkZXJzIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJ0byIsImZyb20iLCJzdWJqZWN0IiwidGV4dCIsImh0bWwiLCJzdGF0dXMiLCJvayIsInVzZXJSZXNwb25zZURhdGEiLCJqc29uIiwiYWRtaW5SZXNwb25zZSIsInN1Y2Nlc3MiLCJlcnJvciIsImNoYXRXaXRoQUkiLCJ1c2VyTWVzc2FnZSIsIm9wdGlvbnMiLCJzeXN0ZW1Qcm9tcHQiLCJtb2RlbCIsImluY2x1ZGVUaG91Z2h0cyIsImpzb25TY2hlbWEiLCJhdHRhY2htZW50cyIsIm1lc3NhZ2VMZW5ndGgiLCJsZW5ndGgiLCJoYXNBdHRhY2htZW50cyIsImF0dGFjaG1lbnRDb3VudCIsImhhc0pzb25TY2hlbWEiLCJyZXNwb25zZSIsInRvb2xfbmFtZSIsImFyZ3VtZW50cyIsIm1lc3NhZ2VzIiwic3lzdGVtX3Byb21wdCIsImluY2x1ZGVfdGhvdWdodHMiLCJqc29uX3NjaGVtYSIsImVycm9yVGV4dCIsIkVycm9yIiwiZGF0YSIsInJlc3VsdCIsInBhcnNlIiwibWVzc2FnZSIsInNjcm9sbFRvQ2FyZFByZXZpZXciLCJzZXRUaW1lb3V0IiwiY2FyZFByZXZpZXdFbGVtZW50IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwic2Nyb2xsSW50b1ZpZXciLCJiZWhhdmlvciIsImJsb2NrIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./hooks/cardStudio/utils.ts\n");

/***/ }),

/***/ "(ssr)/./hooks/useCardCache.ts":
/*!*******************************!*\
  !*** ./hooks/useCardCache.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useCardCache: () => (/* binding */ useCardCache)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n\nconst CACHE_KEY = \"vibecarding_template_cache\";\nconst IMAGE_CACHE_KEY = \"vibecarding_image_cache\";\nconst CACHE_DURATION = 10 * 60 * 1000; // 10 minutes\nconst IMAGE_CACHE_DURATION = 30 * 60 * 1000; // 30 minutes\nconst BACKEND_API_BASE_URL = \"https://vibecarding.com\" || 0;\nconst MAX_CONCURRENT_IMAGES = 3; // Netflix-style: Very conservative concurrent loads\n// Use the regular list endpoint - it's fast enough and always current\nconst CARDS_LIST_URL = `${BACKEND_API_BASE_URL}/api/cards/list`;\n// Global cache state\nlet globalCache = null;\nlet isPreloading = false;\nconst cacheListeners = new Set();\nconst notifyListeners = ()=>{\n    cacheListeners.forEach((listener)=>listener());\n};\nconst useCardCache = ()=>{\n    const [cache, setCache] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(globalCache);\n    const [isLoading, setIsLoading] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    // Subscribe to cache updates\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        const updateCache = ()=>setCache(globalCache);\n        cacheListeners.add(updateCache);\n        return ()=>{\n            cacheListeners.delete(updateCache);\n        };\n    }, []);\n    // Load from localStorage on mount (after hydration)\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        if (true) return;\n        try {\n            const stored = localStorage.getItem(CACHE_KEY);\n            if (stored) {\n                const parsed = JSON.parse(stored);\n                const isExpired = Date.now() - parsed.lastFetched > CACHE_DURATION;\n                if (!isExpired) {\n                    globalCache = parsed;\n                    setCache(parsed);\n                    console.log(\"\\uD83D\\uDCE6 Loaded cached template cards:\", parsed.cards.length);\n                } else {\n                    localStorage.removeItem(CACHE_KEY);\n                    console.log(\"\\uD83D\\uDDD1️ Expired cache removed\");\n                }\n            }\n        } catch (error) {\n            console.error(\"Failed to load cache:\", error);\n            if (false) {}\n        }\n    }, []);\n    const loadCards = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(async (page = 1, search = \"\", reset = false)=>{\n        // If we have complete cache and no search, return cached data immediately\n        if (!search && globalCache?.isComplete && !reset) {\n            const startIndex = (page - 1) * 40;\n            const endIndex = startIndex + 40;\n            return globalCache.cards.slice(startIndex, endIndex);\n        }\n        // For searches or when no cache, fetch from list endpoint\n        if (!search && (reset || !globalCache)) {\n            try {\n                // Fetch all cards with a large per_page to get everything at once\n                const response = await fetch(`${CARDS_LIST_URL}?per_page=1000&template_mode=true`);\n                if (response.ok) {\n                    const data = await response.json();\n                    if (data.status === \"success\" && data.cards && Array.isArray(data.cards)) {\n                        // Update global cache\n                        globalCache = {\n                            cards: data.cards,\n                            totalCount: data.pagination?.total || data.cards.length,\n                            lastFetched: Date.now(),\n                            isComplete: true\n                        };\n                        // Save to localStorage\n                        if (false) {}\n                        notifyListeners();\n                        // Return requested page\n                        const startIndex = (page - 1) * 40;\n                        const endIndex = startIndex + 40;\n                        return data.cards.slice(startIndex, endIndex);\n                    }\n                }\n            } catch (error) {\n                console.warn(\"List endpoint failed, falling back to paginated API:\", error);\n            }\n        }\n        // Fallback to original paginated API\n        setIsLoading(true);\n        setError(null);\n        try {\n            const params = new URLSearchParams({\n                page: page.toString(),\n                per_page: \"40\",\n                ...search && {\n                    search\n                },\n                template_mode: \"true\"\n            });\n            const response = await fetch(`${BACKEND_API_BASE_URL}/api/cards/list?${params}`);\n            if (!response.ok) {\n                throw new Error(`HTTP ${response.status}: ${response.statusText}`);\n            }\n            const data = await response.json();\n            if (data.status === \"success\") {\n                const newCards = data.cards;\n                // Update global cache for non-search queries\n                if (!search) {\n                    if (reset || !globalCache) {\n                        globalCache = {\n                            cards: newCards,\n                            totalCount: data.pagination.total,\n                            lastFetched: Date.now(),\n                            isComplete: !data.pagination.has_next\n                        };\n                    } else {\n                        // Append to existing cache\n                        const existingIds = new Set(globalCache.cards.map((card)=>card.id));\n                        const uniqueNewCards = newCards.filter((card)=>!existingIds.has(card.id));\n                        globalCache = {\n                            ...globalCache,\n                            cards: [\n                                ...globalCache.cards,\n                                ...uniqueNewCards\n                            ],\n                            lastFetched: Date.now(),\n                            isComplete: !data.pagination.has_next\n                        };\n                    }\n                    // Save to localStorage\n                    if (false) {}\n                    notifyListeners();\n                }\n                return newCards;\n            } else {\n                throw new Error(data.message || \"Failed to load cards\");\n            }\n        } catch (error) {\n            console.error(\"Error loading cards:\", error);\n            setError(error instanceof Error ? error.message : \"Failed to load cards\");\n            return [];\n        } finally{\n            setIsLoading(false);\n        }\n    }, []);\n    const preloadAllCards = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(async ()=>{\n        if (isPreloading) {\n            return;\n        }\n        // Check if we already have a complete cache that's fresh\n        if (globalCache?.isComplete) {\n            const cacheAge = Date.now() - globalCache.lastFetched;\n            if (cacheAge < CACHE_DURATION) {\n                console.log(\"⚡ Using fresh cached template data:\", globalCache.cards.length, \"cards\");\n                // No image preloading - instant response like reference site\n                console.log(\"⚡ Using fresh cached data, no preloading needed\");\n                return;\n            }\n        }\n        isPreloading = true;\n        console.log(\"\\uD83D\\uDE80 Starting immediate template preload on page load...\");\n        try {\n            // Load all cards from list endpoint (always current!)\n            const response = await fetch(`${CARDS_LIST_URL}?per_page=1000&template_mode=true`);\n            if (!response.ok) {\n                throw new Error(`HTTP ${response.status}: ${response.statusText}`);\n            }\n            const data = await response.json();\n            if (data.status === \"success\" && data.cards && Array.isArray(data.cards)) {\n                // Update global cache with all cards at once\n                globalCache = {\n                    cards: data.cards,\n                    totalCount: data.pagination?.total || data.cards.length,\n                    lastFetched: Date.now(),\n                    isComplete: true // We have all cards!\n                };\n                // Save to localStorage\n                if (false) {}\n                notifyListeners();\n                console.log(\"✅ Page load template preload complete:\", data.cards.length, \"cards\");\n                // Ultra-simple: No image preloading, let browser lazy loading handle it\n                console.log(\"✅ Cards loaded, letting browser handle image loading\");\n            }\n        } catch (error) {\n            console.error(\"❌ Static preload failed, falling back to paginated:\", error);\n            // Fallback to old method if static fails\n            await preloadAllCardsLegacy();\n        } finally{\n            isPreloading = false;\n        }\n    }, []);\n    // Legacy preload method as fallback\n    const preloadAllCardsLegacy = async ()=>{\n        try {\n            let page = 1;\n            let hasMore = true;\n            let allCards = [];\n            while(hasMore && page <= 5){\n                const cards = await loadCards(page, \"\", page === 1);\n                allCards = page === 1 ? cards : [\n                    ...allCards,\n                    ...cards\n                ];\n                // Check if we have more pages\n                const response = await fetch(`${BACKEND_API_BASE_URL}/api/cards/list?page=${page}&per_page=40&template_mode=true`);\n                const data = await response.json();\n                hasMore = data.pagination?.has_next || false;\n                page++;\n            }\n            console.log(\"✅ Legacy preload complete:\", allCards.length, \"cards\");\n            await preloadImages(allCards.slice(0, 20));\n        } catch (error) {\n            console.error(\"❌ Legacy preload failed:\", error);\n        }\n    };\n    const preloadImages = async (cards)=>{\n        // Disabled for instant loading like reference site\n        console.log(\"\\uD83D\\uDE80 Skipping image preloading for instant response\");\n        return;\n    };\n    const getCachedCards = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((page = 1, itemsPerPage = 40)=>{\n        if (!globalCache) return [];\n        const startIndex = (page - 1) * itemsPerPage;\n        const endIndex = startIndex + itemsPerPage;\n        return globalCache.cards.slice(startIndex, endIndex);\n    }, []);\n    const clearCache = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(()=>{\n        globalCache = null;\n        if (false) {}\n        setCache(null);\n        notifyListeners();\n    }, []);\n    return {\n        cache,\n        isLoading,\n        error,\n        loadCards,\n        preloadAllCards,\n        getCachedCards,\n        clearCache,\n        hasCache: !!globalCache,\n        isComplete: globalCache?.isComplete || false,\n        totalCards: globalCache?.totalCount || 0\n    };\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QVk2QixLQUFLLENBQUNVLEtBQUssQ0FBQ0YsWUFBWUM7SUFDN0MsR0FBRyxFQUFFO0lBRUwsTUFBTXlDLGFBQWExRixrREFBV0EsQ0FBQztRQUM3QlcsY0FBYztRQUNkLElBQUksS0FBa0IsRUFBYSxFQUVsQztRQUNEUyxTQUFTO1FBQ1RMO0lBQ0YsR0FBRyxFQUFFO0lBRUwsT0FBTztRQUNMSTtRQUNBRTtRQUNBRTtRQUNBb0I7UUFDQXVDO1FBQ0FNO1FBQ0FFO1FBQ0FDLFVBQVUsQ0FBQyxDQUFDaEY7UUFDWm9DLFlBQVlwQyxhQUFhb0MsY0FBYztRQUN2QzZDLFlBQVlqRixhQUFhZ0QsY0FBYztJQUN6QztBQUNGLEVBQUUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92aWJlY2FyZGluZy8uL2hvb2tzL3VzZUNhcmRDYWNoZS50cz9kYzhkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QsIHVzZUNhbGxiYWNrIH0gZnJvbSAncmVhY3QnO1xuXG5pbnRlcmZhY2UgR2FsbGVyeUNhcmQge1xuICBpZDogc3RyaW5nO1xuICBwcm9tcHQ6IHN0cmluZztcbiAgZnJvbnRDb3Zlcjogc3RyaW5nO1xuICBiYWNrQ292ZXI/OiBzdHJpbmc7XG4gIGxlZnRQYWdlPzogc3RyaW5nO1xuICByaWdodFBhZ2U/OiBzdHJpbmc7XG4gIGNyZWF0ZWRBdDogbnVtYmVyO1xuICBjcmVhdGVkQXRGb3JtYXR0ZWQ6IHN0cmluZztcbiAgc2hhcmVVcmw/OiBzdHJpbmc7XG4gIGhhc0ltYWdlczogYm9vbGVhbjtcbiAgZ2VuZXJhdGVkUHJvbXB0cz86IHtcbiAgICBmcm9udENvdmVyPzogc3RyaW5nO1xuICAgIGJhY2tDb3Zlcj86IHN0cmluZztcbiAgICBsZWZ0SW50ZXJpb3I/OiBzdHJpbmc7XG4gICAgcmlnaHRJbnRlcmlvcj86IHN0cmluZztcbiAgfTtcbn1cblxuaW50ZXJmYWNlIENhcmRDYWNoZSB7XG4gIGNhcmRzOiBHYWxsZXJ5Q2FyZFtdO1xuICB0b3RhbENvdW50OiBudW1iZXI7XG4gIGxhc3RGZXRjaGVkOiBudW1iZXI7XG4gIGlzQ29tcGxldGU6IGJvb2xlYW47XG59XG5cbmNvbnN0IENBQ0hFX0tFWSA9ICd2aWJlY2FyZGluZ190ZW1wbGF0ZV9jYWNoZSc7XG5jb25zdCBJTUFHRV9DQUNIRV9LRVkgPSAndmliZWNhcmRpbmdfaW1hZ2VfY2FjaGUnO1xuY29uc3QgQ0FDSEVfRFVSQVRJT04gPSAxMCAqIDYwICogMTAwMDsgLy8gMTAgbWludXRlc1xuY29uc3QgSU1BR0VfQ0FDSEVfRFVSQVRJT04gPSAzMCAqIDYwICogMTAwMDsgLy8gMzAgbWludXRlc1xuY29uc3QgQkFDS0VORF9BUElfQkFTRV9VUkwgPSBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19CQUNLRU5EX0FQSV9VUkwgfHwgJ2h0dHBzOi8vdmliZWNhcmRpbmcuY29tJztcbmNvbnN0IE1BWF9DT05DVVJSRU5UX0lNQUdFUyA9IDM7IC8vIE5ldGZsaXgtc3R5bGU6IFZlcnkgY29uc2VydmF0aXZlIGNvbmN1cnJlbnQgbG9hZHNcblxuLy8gVXNlIHRoZSByZWd1bGFyIGxpc3QgZW5kcG9pbnQgLSBpdCdzIGZhc3QgZW5vdWdoIGFuZCBhbHdheXMgY3VycmVudFxuY29uc3QgQ0FSRFNfTElTVF9VUkwgPSBgJHtCQUNLRU5EX0FQSV9CQVNFX1VSTH0vYXBpL2NhcmRzL2xpc3RgO1xuXG4vLyBHbG9iYWwgY2FjaGUgc3RhdGVcbmxldCBnbG9iYWxDYWNoZTogQ2FyZENhY2hlIHwgbnVsbCA9IG51bGw7XG5sZXQgaXNQcmVsb2FkaW5nID0gZmFsc2U7XG5jb25zdCBjYWNoZUxpc3RlbmVyczogU2V0PCgpID0+IHZvaWQ+ID0gbmV3IFNldCgpO1xuXG5jb25zdCBub3RpZnlMaXN0ZW5lcnMgPSAoKSA9PiB7XG4gIGNhY2hlTGlzdGVuZXJzLmZvckVhY2gobGlzdGVuZXIgPT4gbGlzdGVuZXIoKSk7XG59O1xuXG5leHBvcnQgY29uc3QgdXNlQ2FyZENhY2hlID0gKCkgPT4ge1xuICBjb25zdCBbY2FjaGUsIHNldENhY2hlXSA9IHVzZVN0YXRlPENhcmRDYWNoZSB8IG51bGw+KGdsb2JhbENhY2hlKTtcbiAgY29uc3QgW2lzTG9hZGluZywgc2V0SXNMb2FkaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2Vycm9yLCBzZXRFcnJvcl0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcblxuICAvLyBTdWJzY3JpYmUgdG8gY2FjaGUgdXBkYXRlc1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IHVwZGF0ZUNhY2hlID0gKCkgPT4gc2V0Q2FjaGUoZ2xvYmFsQ2FjaGUpO1xuICAgIGNhY2hlTGlzdGVuZXJzLmFkZCh1cGRhdGVDYWNoZSk7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGNhY2hlTGlzdGVuZXJzLmRlbGV0ZSh1cGRhdGVDYWNoZSk7XG4gICAgfTtcbiAgfSwgW10pO1xuXG4gIC8vIExvYWQgZnJvbSBsb2NhbFN0b3JhZ2Ugb24gbW91bnQgKGFmdGVyIGh5ZHJhdGlvbilcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcgfHwgZ2xvYmFsQ2FjaGUpIHJldHVybjtcbiAgICBcbiAgICB0cnkge1xuICAgICAgY29uc3Qgc3RvcmVkID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oQ0FDSEVfS0VZKTtcbiAgICAgIGlmIChzdG9yZWQpIHtcbiAgICAgICAgY29uc3QgcGFyc2VkOiBDYXJkQ2FjaGUgPSBKU09OLnBhcnNlKHN0b3JlZCk7XG4gICAgICAgIGNvbnN0IGlzRXhwaXJlZCA9IERhdGUubm93KCkgLSBwYXJzZWQubGFzdEZldGNoZWQgPiBDQUNIRV9EVVJBVElPTjtcbiAgICAgICAgXG4gICAgICAgIGlmICghaXNFeHBpcmVkKSB7XG4gICAgICAgICAgZ2xvYmFsQ2FjaGUgPSBwYXJzZWQ7XG4gICAgICAgICAgc2V0Q2FjaGUocGFyc2VkKTtcbiAgICAgICAgICBjb25zb2xlLmxvZygn8J+TpiBMb2FkZWQgY2FjaGVkIHRlbXBsYXRlIGNhcmRzOicsIHBhcnNlZC5jYXJkcy5sZW5ndGgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKENBQ0hFX0tFWSk7XG4gICAgICAgICAgY29uc29sZS5sb2coJ/Cfl5HvuI8gRXhwaXJlZCBjYWNoZSByZW1vdmVkJyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGxvYWQgY2FjaGU6JywgZXJyb3IpO1xuICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKENBQ0hFX0tFWSk7XG4gICAgICB9XG4gICAgfVxuICB9LCBbXSk7XG5cbiAgY29uc3QgbG9hZENhcmRzID0gdXNlQ2FsbGJhY2soYXN5bmMgKHBhZ2U6IG51bWJlciA9IDEsIHNlYXJjaDogc3RyaW5nID0gJycsIHJlc2V0OiBib29sZWFuID0gZmFsc2UpOiBQcm9taXNlPEdhbGxlcnlDYXJkW10+ID0+IHtcbiAgICAvLyBJZiB3ZSBoYXZlIGNvbXBsZXRlIGNhY2hlIGFuZCBubyBzZWFyY2gsIHJldHVybiBjYWNoZWQgZGF0YSBpbW1lZGlhdGVseVxuICAgIGlmICghc2VhcmNoICYmIGdsb2JhbENhY2hlPy5pc0NvbXBsZXRlICYmICFyZXNldCkge1xuICAgICAgY29uc3Qgc3RhcnRJbmRleCA9IChwYWdlIC0gMSkgKiA0MDtcbiAgICAgIGNvbnN0IGVuZEluZGV4ID0gc3RhcnRJbmRleCArIDQwO1xuICAgICAgcmV0dXJuIGdsb2JhbENhY2hlLmNhcmRzLnNsaWNlKHN0YXJ0SW5kZXgsIGVuZEluZGV4KTtcbiAgICB9XG5cbiAgICAvLyBGb3Igc2VhcmNoZXMgb3Igd2hlbiBubyBjYWNoZSwgZmV0Y2ggZnJvbSBsaXN0IGVuZHBvaW50XG4gICAgaWYgKCFzZWFyY2ggJiYgKHJlc2V0IHx8ICFnbG9iYWxDYWNoZSkpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIC8vIEZldGNoIGFsbCBjYXJkcyB3aXRoIGEgbGFyZ2UgcGVyX3BhZ2UgdG8gZ2V0IGV2ZXJ5dGhpbmcgYXQgb25jZVxuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke0NBUkRTX0xJU1RfVVJMfT9wZXJfcGFnZT0xMDAwJnRlbXBsYXRlX21vZGU9dHJ1ZWApO1xuICAgICAgICBpZiAocmVzcG9uc2Uub2spIHtcbiAgICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgICAgIGlmIChkYXRhLnN0YXR1cyA9PT0gJ3N1Y2Nlc3MnICYmIGRhdGEuY2FyZHMgJiYgQXJyYXkuaXNBcnJheShkYXRhLmNhcmRzKSkge1xuICAgICAgICAgICAgLy8gVXBkYXRlIGdsb2JhbCBjYWNoZVxuICAgICAgICAgICAgZ2xvYmFsQ2FjaGUgPSB7XG4gICAgICAgICAgICAgIGNhcmRzOiBkYXRhLmNhcmRzLFxuICAgICAgICAgICAgICB0b3RhbENvdW50OiBkYXRhLnBhZ2luYXRpb24/LnRvdGFsIHx8IGRhdGEuY2FyZHMubGVuZ3RoLFxuICAgICAgICAgICAgICBsYXN0RmV0Y2hlZDogRGF0ZS5ub3coKSxcbiAgICAgICAgICAgICAgaXNDb21wbGV0ZTogdHJ1ZVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgLy8gU2F2ZSB0byBsb2NhbFN0b3JhZ2VcbiAgICAgICAgICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKENBQ0hFX0tFWSwgSlNPTi5zdHJpbmdpZnkoZ2xvYmFsQ2FjaGUpKTtcbiAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ0ZhaWxlZCB0byBzYXZlIGNhY2hlIHRvIGxvY2FsU3RvcmFnZTonLCBlcnJvcik7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbm90aWZ5TGlzdGVuZXJzKCk7XG5cbiAgICAgICAgICAgIC8vIFJldHVybiByZXF1ZXN0ZWQgcGFnZVxuICAgICAgICAgICAgY29uc3Qgc3RhcnRJbmRleCA9IChwYWdlIC0gMSkgKiA0MDtcbiAgICAgICAgICAgIGNvbnN0IGVuZEluZGV4ID0gc3RhcnRJbmRleCArIDQwO1xuICAgICAgICAgICAgcmV0dXJuIGRhdGEuY2FyZHMuc2xpY2Uoc3RhcnRJbmRleCwgZW5kSW5kZXgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS53YXJuKCdMaXN0IGVuZHBvaW50IGZhaWxlZCwgZmFsbGluZyBiYWNrIHRvIHBhZ2luYXRlZCBBUEk6JywgZXJyb3IpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIEZhbGxiYWNrIHRvIG9yaWdpbmFsIHBhZ2luYXRlZCBBUElcbiAgICBzZXRJc0xvYWRpbmcodHJ1ZSk7XG4gICAgc2V0RXJyb3IobnVsbCk7XG5cbiAgICB0cnkge1xuICAgICAgY29uc3QgcGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcyh7XG4gICAgICAgIHBhZ2U6IHBhZ2UudG9TdHJpbmcoKSxcbiAgICAgICAgcGVyX3BhZ2U6ICc0MCcsXG4gICAgICAgIC4uLihzZWFyY2ggJiYgeyBzZWFyY2ggfSksXG4gICAgICAgIHRlbXBsYXRlX21vZGU6ICd0cnVlJ1xuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7QkFDS0VORF9BUElfQkFTRV9VUkx9L2FwaS9jYXJkcy9saXN0PyR7cGFyYW1zfWApO1xuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEhUVFAgJHtyZXNwb25zZS5zdGF0dXN9OiAke3Jlc3BvbnNlLnN0YXR1c1RleHR9YCk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cbiAgICAgIGlmIChkYXRhLnN0YXR1cyA9PT0gJ3N1Y2Nlc3MnKSB7XG4gICAgICAgIGNvbnN0IG5ld0NhcmRzID0gZGF0YS5jYXJkcyBhcyBHYWxsZXJ5Q2FyZFtdO1xuICAgICAgICBcbiAgICAgICAgLy8gVXBkYXRlIGdsb2JhbCBjYWNoZSBmb3Igbm9uLXNlYXJjaCBxdWVyaWVzXG4gICAgICAgIGlmICghc2VhcmNoKSB7XG4gICAgICAgICAgaWYgKHJlc2V0IHx8ICFnbG9iYWxDYWNoZSkge1xuICAgICAgICAgICAgZ2xvYmFsQ2FjaGUgPSB7XG4gICAgICAgICAgICAgIGNhcmRzOiBuZXdDYXJkcyxcbiAgICAgICAgICAgICAgdG90YWxDb3VudDogZGF0YS5wYWdpbmF0aW9uLnRvdGFsLFxuICAgICAgICAgICAgICBsYXN0RmV0Y2hlZDogRGF0ZS5ub3coKSxcbiAgICAgICAgICAgICAgaXNDb21wbGV0ZTogIWRhdGEucGFnaW5hdGlvbi5oYXNfbmV4dFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gQXBwZW5kIHRvIGV4aXN0aW5nIGNhY2hlXG4gICAgICAgICAgICBjb25zdCBleGlzdGluZ0lkcyA9IG5ldyBTZXQoZ2xvYmFsQ2FjaGUuY2FyZHMubWFwKGNhcmQgPT4gY2FyZC5pZCkpO1xuICAgICAgICAgICAgY29uc3QgdW5pcXVlTmV3Q2FyZHMgPSBuZXdDYXJkcy5maWx0ZXIoY2FyZCA9PiAhZXhpc3RpbmdJZHMuaGFzKGNhcmQuaWQpKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgZ2xvYmFsQ2FjaGUgPSB7XG4gICAgICAgICAgICAgIC4uLmdsb2JhbENhY2hlLFxuICAgICAgICAgICAgICBjYXJkczogWy4uLmdsb2JhbENhY2hlLmNhcmRzLCAuLi51bmlxdWVOZXdDYXJkc10sXG4gICAgICAgICAgICAgIGxhc3RGZXRjaGVkOiBEYXRlLm5vdygpLFxuICAgICAgICAgICAgICBpc0NvbXBsZXRlOiAhZGF0YS5wYWdpbmF0aW9uLmhhc19uZXh0XG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIFNhdmUgdG8gbG9jYWxTdG9yYWdlXG4gICAgICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShDQUNIRV9LRVksIEpTT04uc3RyaW5naWZ5KGdsb2JhbENhY2hlKSk7XG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ0ZhaWxlZCB0byBzYXZlIGNhY2hlIHRvIGxvY2FsU3RvcmFnZTonLCBlcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgbm90aWZ5TGlzdGVuZXJzKCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbmV3Q2FyZHM7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZGF0YS5tZXNzYWdlIHx8ICdGYWlsZWQgdG8gbG9hZCBjYXJkcycpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBsb2FkaW5nIGNhcmRzOicsIGVycm9yKTtcbiAgICAgIHNldEVycm9yKGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ0ZhaWxlZCB0byBsb2FkIGNhcmRzJyk7XG4gICAgICByZXR1cm4gW107XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldElzTG9hZGluZyhmYWxzZSk7XG4gICAgfVxuICB9LCBbXSk7XG5cbiAgY29uc3QgcHJlbG9hZEFsbENhcmRzID0gdXNlQ2FsbGJhY2soYXN5bmMgKCkgPT4ge1xuICAgIGlmIChpc1ByZWxvYWRpbmcpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgXG4gICAgLy8gQ2hlY2sgaWYgd2UgYWxyZWFkeSBoYXZlIGEgY29tcGxldGUgY2FjaGUgdGhhdCdzIGZyZXNoXG4gICAgaWYgKGdsb2JhbENhY2hlPy5pc0NvbXBsZXRlKSB7XG4gICAgICBjb25zdCBjYWNoZUFnZSA9IERhdGUubm93KCkgLSBnbG9iYWxDYWNoZS5sYXN0RmV0Y2hlZDtcbiAgICAgIGlmIChjYWNoZUFnZSA8IENBQ0hFX0RVUkFUSU9OKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCfimqEgVXNpbmcgZnJlc2ggY2FjaGVkIHRlbXBsYXRlIGRhdGE6JywgZ2xvYmFsQ2FjaGUuY2FyZHMubGVuZ3RoLCAnY2FyZHMnKTtcbiAgICAgICAgLy8gTm8gaW1hZ2UgcHJlbG9hZGluZyAtIGluc3RhbnQgcmVzcG9uc2UgbGlrZSByZWZlcmVuY2Ugc2l0ZVxuICAgICAgICBjb25zb2xlLmxvZygn4pqhIFVzaW5nIGZyZXNoIGNhY2hlZCBkYXRhLCBubyBwcmVsb2FkaW5nIG5lZWRlZCcpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuXG4gICAgaXNQcmVsb2FkaW5nID0gdHJ1ZTtcbiAgICBjb25zb2xlLmxvZygn8J+agCBTdGFydGluZyBpbW1lZGlhdGUgdGVtcGxhdGUgcHJlbG9hZCBvbiBwYWdlIGxvYWQuLi4nKTtcblxuICAgIHRyeSB7XG4gICAgICAvLyBMb2FkIGFsbCBjYXJkcyBmcm9tIGxpc3QgZW5kcG9pbnQgKGFsd2F5cyBjdXJyZW50ISlcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7Q0FSRFNfTElTVF9VUkx9P3Blcl9wYWdlPTEwMDAmdGVtcGxhdGVfbW9kZT10cnVlYCk7XG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgSFRUUCAke3Jlc3BvbnNlLnN0YXR1c306ICR7cmVzcG9uc2Uuc3RhdHVzVGV4dH1gKTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgIGlmIChkYXRhLnN0YXR1cyA9PT0gJ3N1Y2Nlc3MnICYmIGRhdGEuY2FyZHMgJiYgQXJyYXkuaXNBcnJheShkYXRhLmNhcmRzKSkge1xuICAgICAgICAvLyBVcGRhdGUgZ2xvYmFsIGNhY2hlIHdpdGggYWxsIGNhcmRzIGF0IG9uY2VcbiAgICAgICAgZ2xvYmFsQ2FjaGUgPSB7XG4gICAgICAgICAgY2FyZHM6IGRhdGEuY2FyZHMsXG4gICAgICAgICAgdG90YWxDb3VudDogZGF0YS5wYWdpbmF0aW9uPy50b3RhbCB8fCBkYXRhLmNhcmRzLmxlbmd0aCxcbiAgICAgICAgICBsYXN0RmV0Y2hlZDogRGF0ZS5ub3coKSxcbiAgICAgICAgICBpc0NvbXBsZXRlOiB0cnVlIC8vIFdlIGhhdmUgYWxsIGNhcmRzIVxuICAgICAgICB9O1xuXG4gICAgICAgIC8vIFNhdmUgdG8gbG9jYWxTdG9yYWdlXG4gICAgICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShDQUNIRV9LRVksIEpTT04uc3RyaW5naWZ5KGdsb2JhbENhY2hlKSk7XG4gICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybignRmFpbGVkIHRvIHNhdmUgY2FjaGUgdG8gbG9jYWxTdG9yYWdlOicsIGVycm9yKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBub3RpZnlMaXN0ZW5lcnMoKTtcbiAgICAgICAgXG4gICAgICAgIGNvbnNvbGUubG9nKCfinIUgUGFnZSBsb2FkIHRlbXBsYXRlIHByZWxvYWQgY29tcGxldGU6JywgZGF0YS5jYXJkcy5sZW5ndGgsICdjYXJkcycpO1xuICAgICAgICBcbiAgICAgICAgLy8gVWx0cmEtc2ltcGxlOiBObyBpbWFnZSBwcmVsb2FkaW5nLCBsZXQgYnJvd3NlciBsYXp5IGxvYWRpbmcgaGFuZGxlIGl0XG4gICAgICAgIGNvbnNvbGUubG9nKCfinIUgQ2FyZHMgbG9hZGVkLCBsZXR0aW5nIGJyb3dzZXIgaGFuZGxlIGltYWdlIGxvYWRpbmcnKTtcbiAgICAgIH1cbiAgICAgIFxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCfinYwgU3RhdGljIHByZWxvYWQgZmFpbGVkLCBmYWxsaW5nIGJhY2sgdG8gcGFnaW5hdGVkOicsIGVycm9yKTtcbiAgICAgIC8vIEZhbGxiYWNrIHRvIG9sZCBtZXRob2QgaWYgc3RhdGljIGZhaWxzXG4gICAgICBhd2FpdCBwcmVsb2FkQWxsQ2FyZHNMZWdhY3koKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgaXNQcmVsb2FkaW5nID0gZmFsc2U7XG4gICAgfVxuICB9LCBbXSk7XG5cbiAgLy8gTGVnYWN5IHByZWxvYWQgbWV0aG9kIGFzIGZhbGxiYWNrXG4gIGNvbnN0IHByZWxvYWRBbGxDYXJkc0xlZ2FjeSA9IGFzeW5jICgpID0+IHtcbiAgICB0cnkge1xuICAgICAgbGV0IHBhZ2UgPSAxO1xuICAgICAgbGV0IGhhc01vcmUgPSB0cnVlO1xuICAgICAgbGV0IGFsbENhcmRzOiBHYWxsZXJ5Q2FyZFtdID0gW107XG5cbiAgICAgIHdoaWxlIChoYXNNb3JlICYmIHBhZ2UgPD0gNSkgeyAvLyBMaW1pdCB0byA1IHBhZ2VzIG1heFxuICAgICAgICBjb25zdCBjYXJkcyA9IGF3YWl0IGxvYWRDYXJkcyhwYWdlLCAnJywgcGFnZSA9PT0gMSk7XG4gICAgICAgIGFsbENhcmRzID0gcGFnZSA9PT0gMSA/IGNhcmRzIDogWy4uLmFsbENhcmRzLCAuLi5jYXJkc107XG4gICAgICAgIFxuICAgICAgICAvLyBDaGVjayBpZiB3ZSBoYXZlIG1vcmUgcGFnZXNcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgJHtCQUNLRU5EX0FQSV9CQVNFX1VSTH0vYXBpL2NhcmRzL2xpc3Q/cGFnZT0ke3BhZ2V9JnBlcl9wYWdlPTQwJnRlbXBsYXRlX21vZGU9dHJ1ZWApO1xuICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgICBoYXNNb3JlID0gZGF0YS5wYWdpbmF0aW9uPy5oYXNfbmV4dCB8fCBmYWxzZTtcbiAgICAgICAgcGFnZSsrO1xuICAgICAgfVxuXG4gICAgICBjb25zb2xlLmxvZygn4pyFIExlZ2FjeSBwcmVsb2FkIGNvbXBsZXRlOicsIGFsbENhcmRzLmxlbmd0aCwgJ2NhcmRzJyk7XG4gICAgICBhd2FpdCBwcmVsb2FkSW1hZ2VzKGFsbENhcmRzLnNsaWNlKDAsIDIwKSk7XG4gICAgICBcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcign4p2MIExlZ2FjeSBwcmVsb2FkIGZhaWxlZDonLCBlcnJvcik7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IHByZWxvYWRJbWFnZXMgPSBhc3luYyAoY2FyZHM6IEdhbGxlcnlDYXJkW10pID0+IHtcbiAgICAvLyBEaXNhYmxlZCBmb3IgaW5zdGFudCBsb2FkaW5nIGxpa2UgcmVmZXJlbmNlIHNpdGVcbiAgICBjb25zb2xlLmxvZygn8J+agCBTa2lwcGluZyBpbWFnZSBwcmVsb2FkaW5nIGZvciBpbnN0YW50IHJlc3BvbnNlJyk7XG4gICAgcmV0dXJuO1xuICB9O1xuXG4gIGNvbnN0IGdldENhY2hlZENhcmRzID0gdXNlQ2FsbGJhY2soKHBhZ2U6IG51bWJlciA9IDEsIGl0ZW1zUGVyUGFnZTogbnVtYmVyID0gNDApOiBHYWxsZXJ5Q2FyZFtdID0+IHtcbiAgICBpZiAoIWdsb2JhbENhY2hlKSByZXR1cm4gW107XG4gICAgXG4gICAgY29uc3Qgc3RhcnRJbmRleCA9IChwYWdlIC0gMSkgKiBpdGVtc1BlclBhZ2U7XG4gICAgY29uc3QgZW5kSW5kZXggPSBzdGFydEluZGV4ICsgaXRlbXNQZXJQYWdlO1xuICAgIHJldHVybiBnbG9iYWxDYWNoZS5jYXJkcy5zbGljZShzdGFydEluZGV4LCBlbmRJbmRleCk7XG4gIH0sIFtdKTtcblxuICBjb25zdCBjbGVhckNhY2hlID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIGdsb2JhbENhY2hlID0gbnVsbDtcbiAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKENBQ0hFX0tFWSk7XG4gICAgfVxuICAgIHNldENhY2hlKG51bGwpO1xuICAgIG5vdGlmeUxpc3RlbmVycygpO1xuICB9LCBbXSk7XG5cbiAgcmV0dXJuIHtcbiAgICBjYWNoZSxcbiAgICBpc0xvYWRpbmcsXG4gICAgZXJyb3IsXG4gICAgbG9hZENhcmRzLFxuICAgIHByZWxvYWRBbGxDYXJkcyxcbiAgICBnZXRDYWNoZWRDYXJkcyxcbiAgICBjbGVhckNhY2hlLFxuICAgIGhhc0NhY2hlOiAhIWdsb2JhbENhY2hlLFxuICAgIGlzQ29tcGxldGU6IGdsb2JhbENhY2hlPy5pc0NvbXBsZXRlIHx8IGZhbHNlLFxuICAgIHRvdGFsQ2FyZHM6IGdsb2JhbENhY2hlPy50b3RhbENvdW50IHx8IDBcbiAgfTtcbn07Il0sIm5hbWVzIjpbInVzZVN0YXRlIiwidXNlRWZmZWN0IiwidXNlQ2FsbGJhY2siLCJDQUNIRV9LRVkiLCJJTUFHRV9DQUNIRV9LRVkiLCJDQUNIRV9EVVJBVElPTiIsIklNQUdFX0NBQ0hFX0RVUkFUSU9OIiwiQkFDS0VORF9BUElfQkFTRV9VUkwiLCJwcm9jZXNzIiwiZW52IiwiTkVYVF9QVUJMSUNfQkFDS0VORF9BUElfVVJMIiwiTUFYX0NPTkNVUlJFTlRfSU1BR0VTIiwiQ0FSRFNfTElTVF9VUkwiLCJnbG9iYWxDYWNoZSIsImlzUHJlbG9hZGluZyIsImNhY2hlTGlzdGVuZXJzIiwiU2V0Iiwibm90aWZ5TGlzdGVuZXJzIiwiZm9yRWFjaCIsImxpc3RlbmVyIiwidXNlQ2FyZENhY2hlIiwiY2FjaGUiLCJzZXRDYWNoZSIsImlzTG9hZGluZyIsInNldElzTG9hZGluZyIsImVycm9yIiwic2V0RXJyb3IiLCJ1cGRhdGVDYWNoZSIsImFkZCIsImRlbGV0ZSIsInN0b3JlZCIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJwYXJzZWQiLCJKU09OIiwicGFyc2UiLCJpc0V4cGlyZWQiLCJEYXRlIiwibm93IiwibGFzdEZldGNoZWQiLCJjb25zb2xlIiwibG9nIiwiY2FyZHMiLCJsZW5ndGgiLCJyZW1vdmVJdGVtIiwibG9hZENhcmRzIiwicGFnZSIsInNlYXJjaCIsInJlc2V0IiwiaXNDb21wbGV0ZSIsInN0YXJ0SW5kZXgiLCJlbmRJbmRleCIsInNsaWNlIiwicmVzcG9uc2UiLCJmZXRjaCIsIm9rIiwiZGF0YSIsImpzb24iLCJzdGF0dXMiLCJBcnJheSIsImlzQXJyYXkiLCJ0b3RhbENvdW50IiwicGFnaW5hdGlvbiIsInRvdGFsIiwic2V0SXRlbSIsInN0cmluZ2lmeSIsIndhcm4iLCJwYXJhbXMiLCJVUkxTZWFyY2hQYXJhbXMiLCJ0b1N0cmluZyIsInBlcl9wYWdlIiwidGVtcGxhdGVfbW9kZSIsIkVycm9yIiwic3RhdHVzVGV4dCIsIm5ld0NhcmRzIiwiaGFzX25leHQiLCJleGlzdGluZ0lkcyIsIm1hcCIsImNhcmQiLCJpZCIsInVuaXF1ZU5ld0NhcmRzIiwiZmlsdGVyIiwiaGFzIiwibWVzc2FnZSIsInByZWxvYWRBbGxDYXJkcyIsImNhY2hlQWdlIiwicHJlbG9hZEFsbENhcmRzTGVnYWN5IiwiaGFzTW9yZSIsImFsbENhcmRzIiwicHJlbG9hZEltYWdlcyIsImdldENhY2hlZENhcmRzIiwiaXRlbXNQZXJQYWdlIiwiY2xlYXJDYWNoZSIsImhhc0NhY2hlIiwidG90YWxDYXJkcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./hooks/useCardCache.ts\n");

/***/ }),

/***/ "(ssr)/./hooks/useCardForm.tsx":
/*!*******************************!*\
  !*** ./hooks/useCardForm.tsx ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useCardForm: () => (/* binding */ useCardForm)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _lib_storageManager__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/storageManager */ \"(ssr)/./lib/storageManager.ts\");\n/* __next_internal_client_entry_do_not_use__ useCardForm auto */ \n\nconst defaultFormData = {\n    // Step 1: Card Basics\n    selectedType: \"birthday\",\n    customCardType: \"\",\n    selectedTone: \"funny\",\n    toField: \"\",\n    fromField: \"\",\n    relationshipField: \"\",\n    // Step 2: Content Creation\n    prompt: \"\",\n    finalCardMessage: \"\",\n    isHandwrittenMessage: false,\n    // Step 3: Personalization\n    selectedArtisticStyle: \"ai-smart-style\",\n    customStyleDescription: \"\",\n    referenceImages: [],\n    referenceImageUrls: [],\n    // Step 4: Details\n    userEmail: \"\",\n    selectedImageModel: \"gpt-image-1\",\n    selectedDraftModel: \"gpt-image-1\",\n    selectedPaperSize: \"standard\",\n    numberOfCards: 1,\n    isFrontBackOnly: false\n};\n// Helper function to create serializable form data (excludes File objects)\nconst createSerializableFormData = (formData)=>{\n    const { referenceImages, ...serializableData } = formData;\n    return serializableData;\n};\nfunction useCardForm() {\n    const [formData, setFormData] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(defaultFormData);\n    const [wizardState, setWizardState] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({\n        currentStep: 1,\n        completedSteps: []\n    });\n    const [isInitialLoadComplete, setIsInitialLoadComplete] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    // Initialize form data from storage on component mount (after hydration)\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        if (false) {}\n    }, [\n        isInitialLoadComplete\n    ]);\n    // Save form data to storage whenever it changes\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        if (!isInitialLoadComplete) return;\n        const serializableData = createSerializableFormData(formData);\n        _lib_storageManager__WEBPACK_IMPORTED_MODULE_1__.storage.saveSession(serializableData, wizardState);\n    }, [\n        formData,\n        wizardState,\n        isInitialLoadComplete\n    ]);\n    const updateFormData = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((updates)=>{\n        setFormData((prev)=>({\n                ...prev,\n                ...updates\n            }));\n    }, []);\n    const resetForm = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(()=>{\n        setFormData(defaultFormData);\n        setWizardState({\n            currentStep: 1,\n            completedSteps: []\n        });\n        _lib_storageManager__WEBPACK_IMPORTED_MODULE_1__.storage.clearSession();\n    }, []);\n    const clearStoredData = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(()=>{\n        _lib_storageManager__WEBPACK_IMPORTED_MODULE_1__.storage.clearAll();\n    }, []);\n    const updateWizardState = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((updates)=>{\n        setWizardState((prev)=>({\n                ...prev,\n                ...updates\n            }));\n    }, []);\n    const markStepCompleted = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((step)=>{\n        setWizardState((prev)=>({\n                ...prev,\n                completedSteps: prev.completedSteps.includes(step) ? prev.completedSteps : [\n                    ...prev.completedSteps,\n                    step\n                ]\n            }));\n    }, []);\n    const resetWizardState = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(()=>{\n        setWizardState({\n            currentStep: 1,\n            completedSteps: []\n        });\n    }, []);\n    const validateStep = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((step)=>{\n        switch(step){\n            case 1:\n                // Card type is required\n                if (!formData.selectedType) return false;\n                // If custom type is selected, custom description is required\n                if (formData.selectedType === \"custom\" && !formData.customCardType.trim()) return false;\n                // Tone is required\n                if (!formData.selectedTone) return false;\n                // If photos are uploaded, they must have descriptions\n                if (formData.referenceImageUrls.length > 0) {\n                    // Check if we have photoReferences data\n                    if (!formData.photoReferences || formData.photoReferences.length === 0) return false;\n                    // Check if all photos have descriptions\n                    const allHaveDescriptions = formData.photoReferences.every((ref)=>ref.description && ref.description.trim());\n                    if (!allHaveDescriptions) return false;\n                }\n                return true;\n            case 2:\n                // All fields are optional - let AI generate defaults\n                return true;\n            case 3:\n                // All fields are optional\n                // If custom style is selected, description is required\n                if (formData.selectedArtisticStyle === \"custom\" && !formData.customStyleDescription.trim()) return false;\n                // If reference images with incompatible model\n                if (formData.referenceImageUrls.length > 0 && formData.selectedImageModel !== \"gpt-image-1\") return false;\n                return true;\n            case 4:\n                // Email is required\n                if (!formData.userEmail.trim()) return false;\n                // Basic email validation\n                const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n                if (!emailRegex.test(formData.userEmail)) return false;\n                return true;\n            case 5:\n                // All previous steps must be valid\n                return validateStep(1) && validateStep(2) && validateStep(3) && validateStep(4);\n            default:\n                return false;\n        }\n    }, [\n        formData\n    ]);\n    const getStepSummary = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((step)=>{\n        const summary = [];\n        switch(step){\n            case 1:\n                const cardType = formData.selectedType === \"custom\" ? formData.customCardType : formData.selectedType;\n                summary.push(`Card Type: ${cardType || \"Not selected\"}`);\n                summary.push(`Tone: ${formData.selectedTone || \"Not selected\"}`);\n                if (formData.toField) summary.push(`To: ${formData.toField}`);\n                if (formData.fromField) summary.push(`From: ${formData.fromField}`);\n                break;\n            case 2:\n                if (formData.prompt) summary.push(`Description: ${formData.prompt.substring(0, 50)}...`);\n                if (formData.finalCardMessage) summary.push(`Message: ${formData.finalCardMessage.substring(0, 50)}...`);\n                if (formData.isHandwrittenMessage) summary.push(\"Handwritten message space included\");\n                break;\n            case 3:\n                summary.push(`Style: ${formData.selectedArtisticStyle}`);\n                if (formData.referenceImageUrls.length > 0) {\n                    summary.push(`Reference photos: ${formData.referenceImageUrls.length} uploaded`);\n                }\n                break;\n            case 4:\n                summary.push(`Email: ${formData.userEmail}`);\n                summary.push(`Model: ${formData.selectedImageModel}`);\n                summary.push(`Paper: ${formData.selectedPaperSize}`);\n                if (formData.isFrontBackOnly) summary.push(\"Front/back only\");\n                break;\n        }\n        return summary;\n    }, [\n        formData\n    ]);\n    const getValidationErrors = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((step)=>{\n        const errors = [];\n        switch(step){\n            case 1:\n                if (!formData.selectedType) errors.push(\"Please select a card type\");\n                if (formData.selectedType === \"custom\" && !formData.customCardType.trim()) {\n                    errors.push(\"Please describe your custom card type\");\n                }\n                if (!formData.selectedTone) errors.push(\"Please select a tone\");\n                // Check photo descriptions\n                if (formData.referenceImageUrls.length > 0) {\n                    if (!formData.photoReferences || formData.photoReferences.length === 0) {\n                        errors.push(\"Please describe who's in your photos\");\n                    } else {\n                        const missingDescriptions = formData.photoReferences.filter((ref)=>!ref.description || !ref.description.trim()).length;\n                        if (missingDescriptions > 0) {\n                            errors.push(`Please describe who's in ${missingDescriptions} photo${missingDescriptions > 1 ? \"s\" : \"\"}`);\n                        }\n                    }\n                }\n                break;\n            case 3:\n                if (formData.selectedArtisticStyle === \"custom\" && !formData.customStyleDescription.trim()) {\n                    errors.push(\"Please describe your custom artistic style\");\n                }\n                if (formData.referenceImageUrls.length > 0 && formData.selectedImageModel !== \"gpt-image-1\") {\n                    errors.push(\"Reference photos are only supported with GPT Image 1 model\");\n                }\n                break;\n            case 4:\n                if (!formData.userEmail.trim()) {\n                    errors.push(\"Email address is required\");\n                } else {\n                    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n                    if (!emailRegex.test(formData.userEmail)) {\n                        errors.push(\"Please enter a valid email address\");\n                    }\n                }\n                break;\n        }\n        return errors;\n    }, [\n        formData\n    ]);\n    return {\n        formData,\n        updateFormData,\n        resetForm,\n        clearStoredData,\n        validateStep,\n        getStepSummary,\n        getValidationErrors,\n        isInitialLoadComplete,\n        wizardState: {\n            ...wizardState,\n            updateCurrentStep: (step)=>updateWizardState({\n                    currentStep: step\n                }),\n            markStepCompleted,\n            resetWizardState\n        },\n        updateWizardState\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QkFBRWQsYUFBYWdCO2dCQUFLO1lBQzNFRDtZQUNBRztRQUNGO1FBQ0FKO0lBQ0Y7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL3ZpYmVjYXJkaW5nLy4vaG9va3MvdXNlQ2FyZEZvcm0udHN4PzRjMzUiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2UgY2xpZW50XCI7XG5cbmltcG9ydCB7IHVzZVN0YXRlLCB1c2VDYWxsYmFjaywgdXNlRWZmZWN0IH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBzdG9yYWdlIH0gZnJvbSBcIkAvbGliL3N0b3JhZ2VNYW5hZ2VyXCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ2FyZEZvcm1EYXRhIHtcbiAgLy8gU3RlcCAxOiBDYXJkIEJhc2ljc1xuICBzZWxlY3RlZFR5cGU6IHN0cmluZztcbiAgY3VzdG9tQ2FyZFR5cGU6IHN0cmluZztcbiAgc2VsZWN0ZWRUb25lOiBzdHJpbmc7XG4gIHRvRmllbGQ6IHN0cmluZztcbiAgZnJvbUZpZWxkOiBzdHJpbmc7XG4gIHJlbGF0aW9uc2hpcEZpZWxkOiBzdHJpbmc7XG5cbiAgLy8gU3RlcCAyOiBDb250ZW50IENyZWF0aW9uXG4gIHByb21wdDogc3RyaW5nO1xuICBmaW5hbENhcmRNZXNzYWdlOiBzdHJpbmc7XG4gIGlzSGFuZHdyaXR0ZW5NZXNzYWdlOiBib29sZWFuO1xuXG4gIC8vIFN0ZXAgMzogUGVyc29uYWxpemF0aW9uXG4gIHNlbGVjdGVkQXJ0aXN0aWNTdHlsZTogc3RyaW5nO1xuICBjdXN0b21TdHlsZURlc2NyaXB0aW9uOiBzdHJpbmc7XG4gIHJlZmVyZW5jZUltYWdlczogRmlsZVtdO1xuICByZWZlcmVuY2VJbWFnZVVybHM6IHN0cmluZ1tdO1xuICBwaG90b1JlZmVyZW5jZXM/OiBBcnJheTx7IGltYWdlVXJsOiBzdHJpbmc7IGltYWdlSW5kZXg6IG51bWJlcjsgZGVzY3JpcHRpb24/OiBzdHJpbmc7IH0+O1xuICBwZXJzb25hbFRyYWl0cz86IHN0cmluZztcblxuICAvLyBTdGVwIDQ6IERldGFpbHNcbiAgdXNlckVtYWlsOiBzdHJpbmc7XG4gIHNlbGVjdGVkSW1hZ2VNb2RlbDogc3RyaW5nO1xuICBzZWxlY3RlZERyYWZ0TW9kZWw6IHN0cmluZztcbiAgc2VsZWN0ZWRQYXBlclNpemU6IHN0cmluZztcbiAgbnVtYmVyT2ZDYXJkczogbnVtYmVyO1xuICBpc0Zyb250QmFja09ubHk6IGJvb2xlYW47XG59XG5cbmNvbnN0IGRlZmF1bHRGb3JtRGF0YTogQ2FyZEZvcm1EYXRhID0ge1xuICAvLyBTdGVwIDE6IENhcmQgQmFzaWNzXG4gIHNlbGVjdGVkVHlwZTogXCJiaXJ0aGRheVwiLFxuICBjdXN0b21DYXJkVHlwZTogXCJcIixcbiAgc2VsZWN0ZWRUb25lOiBcImZ1bm55XCIsXG4gIHRvRmllbGQ6IFwiXCIsXG4gIGZyb21GaWVsZDogXCJcIixcbiAgcmVsYXRpb25zaGlwRmllbGQ6IFwiXCIsXG5cbiAgLy8gU3RlcCAyOiBDb250ZW50IENyZWF0aW9uXG4gIHByb21wdDogXCJcIixcbiAgZmluYWxDYXJkTWVzc2FnZTogXCJcIixcbiAgaXNIYW5kd3JpdHRlbk1lc3NhZ2U6IGZhbHNlLFxuXG4gIC8vIFN0ZXAgMzogUGVyc29uYWxpemF0aW9uXG4gIHNlbGVjdGVkQXJ0aXN0aWNTdHlsZTogXCJhaS1zbWFydC1zdHlsZVwiLFxuICBjdXN0b21TdHlsZURlc2NyaXB0aW9uOiBcIlwiLFxuICByZWZlcmVuY2VJbWFnZXM6IFtdLFxuICByZWZlcmVuY2VJbWFnZVVybHM6IFtdLFxuXG4gIC8vIFN0ZXAgNDogRGV0YWlsc1xuICB1c2VyRW1haWw6IFwiXCIsXG4gIHNlbGVjdGVkSW1hZ2VNb2RlbDogXCJncHQtaW1hZ2UtMVwiLFxuICBzZWxlY3RlZERyYWZ0TW9kZWw6IFwiZ3B0LWltYWdlLTFcIixcbiAgc2VsZWN0ZWRQYXBlclNpemU6IFwic3RhbmRhcmRcIixcbiAgbnVtYmVyT2ZDYXJkczogMSxcbiAgaXNGcm9udEJhY2tPbmx5OiBmYWxzZSxcbn07XG5cbi8vIEhlbHBlciBmdW5jdGlvbiB0byBjcmVhdGUgc2VyaWFsaXphYmxlIGZvcm0gZGF0YSAoZXhjbHVkZXMgRmlsZSBvYmplY3RzKVxuY29uc3QgY3JlYXRlU2VyaWFsaXphYmxlRm9ybURhdGEgPSAoZm9ybURhdGE6IENhcmRGb3JtRGF0YSk6IE9taXQ8Q2FyZEZvcm1EYXRhLCAncmVmZXJlbmNlSW1hZ2VzJz4gPT4ge1xuICBjb25zdCB7IHJlZmVyZW5jZUltYWdlcywgLi4uc2VyaWFsaXphYmxlRGF0YSB9ID0gZm9ybURhdGE7XG4gIHJldHVybiBzZXJpYWxpemFibGVEYXRhO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIHVzZUNhcmRGb3JtKCkge1xuICBjb25zdCBbZm9ybURhdGEsIHNldEZvcm1EYXRhXSA9IHVzZVN0YXRlPENhcmRGb3JtRGF0YT4oZGVmYXVsdEZvcm1EYXRhKTtcbiAgY29uc3QgW3dpemFyZFN0YXRlLCBzZXRXaXphcmRTdGF0ZV0gPSB1c2VTdGF0ZSh7IGN1cnJlbnRTdGVwOiAxLCBjb21wbGV0ZWRTdGVwczogW10gYXMgbnVtYmVyW10gfSk7XG4gIGNvbnN0IFtpc0luaXRpYWxMb2FkQ29tcGxldGUsIHNldElzSW5pdGlhbExvYWRDb21wbGV0ZV0gPSB1c2VTdGF0ZShmYWxzZSk7XG5cbiAgLy8gSW5pdGlhbGl6ZSBmb3JtIGRhdGEgZnJvbSBzdG9yYWdlIG9uIGNvbXBvbmVudCBtb3VudCAoYWZ0ZXIgaHlkcmF0aW9uKVxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiAhaXNJbml0aWFsTG9hZENvbXBsZXRlKSB7XG4gICAgICBjb25zdCBzZXNzaW9uID0gc3RvcmFnZS5nZXRTZXNzaW9uKCk7XG4gICAgICBpZiAoc2Vzc2lvbikge1xuICAgICAgICBzZXRGb3JtRGF0YSh7XG4gICAgICAgICAgLi4uZGVmYXVsdEZvcm1EYXRhLFxuICAgICAgICAgIC4uLnNlc3Npb24uZm9ybURhdGEsXG4gICAgICAgICAgcmVmZXJlbmNlSW1hZ2VzOiBbXSwgLy8gQWx3YXlzIHJlc2V0IEZpbGUgb2JqZWN0c1xuICAgICAgICB9KTtcbiAgICAgICAgc2V0V2l6YXJkU3RhdGUoc2Vzc2lvbi53aXphcmRTdGF0ZSk7XG4gICAgICB9XG4gICAgICBzZXRJc0luaXRpYWxMb2FkQ29tcGxldGUodHJ1ZSk7XG4gICAgfVxuICB9LCBbaXNJbml0aWFsTG9hZENvbXBsZXRlXSk7XG5cbiAgLy8gU2F2ZSBmb3JtIGRhdGEgdG8gc3RvcmFnZSB3aGVuZXZlciBpdCBjaGFuZ2VzXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFpc0luaXRpYWxMb2FkQ29tcGxldGUpIHJldHVybjtcblxuICAgIGNvbnN0IHNlcmlhbGl6YWJsZURhdGEgPSBjcmVhdGVTZXJpYWxpemFibGVGb3JtRGF0YShmb3JtRGF0YSk7XG4gICAgc3RvcmFnZS5zYXZlU2Vzc2lvbihzZXJpYWxpemFibGVEYXRhLCB3aXphcmRTdGF0ZSk7XG4gIH0sIFtmb3JtRGF0YSwgd2l6YXJkU3RhdGUsIGlzSW5pdGlhbExvYWRDb21wbGV0ZV0pO1xuXG4gIGNvbnN0IHVwZGF0ZUZvcm1EYXRhID0gdXNlQ2FsbGJhY2soKHVwZGF0ZXM6IFBhcnRpYWw8Q2FyZEZvcm1EYXRhPikgPT4ge1xuICAgIHNldEZvcm1EYXRhKHByZXYgPT4gKHsgLi4ucHJldiwgLi4udXBkYXRlcyB9KSk7XG4gIH0sIFtdKTtcblxuICBjb25zdCByZXNldEZvcm0gPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgc2V0Rm9ybURhdGEoZGVmYXVsdEZvcm1EYXRhKTtcbiAgICBzZXRXaXphcmRTdGF0ZSh7IGN1cnJlbnRTdGVwOiAxLCBjb21wbGV0ZWRTdGVwczogW10gfSk7XG4gICAgc3RvcmFnZS5jbGVhclNlc3Npb24oKTtcbiAgfSwgW10pO1xuXG4gIGNvbnN0IGNsZWFyU3RvcmVkRGF0YSA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBzdG9yYWdlLmNsZWFyQWxsKCk7XG4gIH0sIFtdKTtcblxuICBjb25zdCB1cGRhdGVXaXphcmRTdGF0ZSA9IHVzZUNhbGxiYWNrKCh1cGRhdGVzOiBQYXJ0aWFsPHR5cGVvZiB3aXphcmRTdGF0ZT4pID0+IHtcbiAgICBzZXRXaXphcmRTdGF0ZShwcmV2ID0+ICh7IC4uLnByZXYsIC4uLnVwZGF0ZXMgfSkpO1xuICB9LCBbXSk7XG5cbiAgY29uc3QgbWFya1N0ZXBDb21wbGV0ZWQgPSB1c2VDYWxsYmFjaygoc3RlcDogbnVtYmVyKSA9PiB7XG4gICAgc2V0V2l6YXJkU3RhdGUocHJldiA9PiAoe1xuICAgICAgLi4ucHJldixcbiAgICAgIGNvbXBsZXRlZFN0ZXBzOiBwcmV2LmNvbXBsZXRlZFN0ZXBzLmluY2x1ZGVzKHN0ZXApIFxuICAgICAgICA/IHByZXYuY29tcGxldGVkU3RlcHMgXG4gICAgICAgIDogWy4uLnByZXYuY29tcGxldGVkU3RlcHMsIHN0ZXBdXG4gICAgfSkpO1xuICB9LCBbXSk7XG5cbiAgY29uc3QgcmVzZXRXaXphcmRTdGF0ZSA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBzZXRXaXphcmRTdGF0ZSh7IGN1cnJlbnRTdGVwOiAxLCBjb21wbGV0ZWRTdGVwczogW10gfSk7XG4gIH0sIFtdKTtcblxuICBjb25zdCB2YWxpZGF0ZVN0ZXAgPSB1c2VDYWxsYmFjaygoc3RlcDogbnVtYmVyKTogYm9vbGVhbiA9PiB7XG4gICAgc3dpdGNoIChzdGVwKSB7XG4gICAgICBjYXNlIDE6IC8vIENhcmQgQmFzaWNzXG4gICAgICAgIC8vIENhcmQgdHlwZSBpcyByZXF1aXJlZFxuICAgICAgICBpZiAoIWZvcm1EYXRhLnNlbGVjdGVkVHlwZSkgcmV0dXJuIGZhbHNlO1xuICAgICAgICAvLyBJZiBjdXN0b20gdHlwZSBpcyBzZWxlY3RlZCwgY3VzdG9tIGRlc2NyaXB0aW9uIGlzIHJlcXVpcmVkXG4gICAgICAgIGlmIChmb3JtRGF0YS5zZWxlY3RlZFR5cGUgPT09IFwiY3VzdG9tXCIgJiYgIWZvcm1EYXRhLmN1c3RvbUNhcmRUeXBlLnRyaW0oKSkgcmV0dXJuIGZhbHNlO1xuICAgICAgICAvLyBUb25lIGlzIHJlcXVpcmVkXG4gICAgICAgIGlmICghZm9ybURhdGEuc2VsZWN0ZWRUb25lKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIC8vIElmIHBob3RvcyBhcmUgdXBsb2FkZWQsIHRoZXkgbXVzdCBoYXZlIGRlc2NyaXB0aW9uc1xuICAgICAgICBpZiAoZm9ybURhdGEucmVmZXJlbmNlSW1hZ2VVcmxzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAvLyBDaGVjayBpZiB3ZSBoYXZlIHBob3RvUmVmZXJlbmNlcyBkYXRhXG4gICAgICAgICAgaWYgKCFmb3JtRGF0YS5waG90b1JlZmVyZW5jZXMgfHwgZm9ybURhdGEucGhvdG9SZWZlcmVuY2VzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIC8vIENoZWNrIGlmIGFsbCBwaG90b3MgaGF2ZSBkZXNjcmlwdGlvbnNcbiAgICAgICAgICBjb25zdCBhbGxIYXZlRGVzY3JpcHRpb25zID0gZm9ybURhdGEucGhvdG9SZWZlcmVuY2VzLmV2ZXJ5KHJlZiA9PiByZWYuZGVzY3JpcHRpb24gJiYgcmVmLmRlc2NyaXB0aW9uLnRyaW0oKSk7XG4gICAgICAgICAgaWYgKCFhbGxIYXZlRGVzY3JpcHRpb25zKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG5cbiAgICAgIGNhc2UgMjogLy8gQ29udGVudCBDcmVhdGlvblxuICAgICAgICAvLyBBbGwgZmllbGRzIGFyZSBvcHRpb25hbCAtIGxldCBBSSBnZW5lcmF0ZSBkZWZhdWx0c1xuICAgICAgICByZXR1cm4gdHJ1ZTtcblxuICAgICAgY2FzZSAzOiAvLyBQZXJzb25hbGl6YXRpb25cbiAgICAgICAgLy8gQWxsIGZpZWxkcyBhcmUgb3B0aW9uYWxcbiAgICAgICAgLy8gSWYgY3VzdG9tIHN0eWxlIGlzIHNlbGVjdGVkLCBkZXNjcmlwdGlvbiBpcyByZXF1aXJlZFxuICAgICAgICBpZiAoZm9ybURhdGEuc2VsZWN0ZWRBcnRpc3RpY1N0eWxlID09PSBcImN1c3RvbVwiICYmICFmb3JtRGF0YS5jdXN0b21TdHlsZURlc2NyaXB0aW9uLnRyaW0oKSkgcmV0dXJuIGZhbHNlO1xuICAgICAgICAvLyBJZiByZWZlcmVuY2UgaW1hZ2VzIHdpdGggaW5jb21wYXRpYmxlIG1vZGVsXG4gICAgICAgIGlmIChmb3JtRGF0YS5yZWZlcmVuY2VJbWFnZVVybHMubGVuZ3RoID4gMCAmJiBmb3JtRGF0YS5zZWxlY3RlZEltYWdlTW9kZWwgIT09IFwiZ3B0LWltYWdlLTFcIikgcmV0dXJuIGZhbHNlO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcblxuICAgICAgY2FzZSA0OiAvLyBEZXRhaWxzXG4gICAgICAgIC8vIEVtYWlsIGlzIHJlcXVpcmVkXG4gICAgICAgIGlmICghZm9ybURhdGEudXNlckVtYWlsLnRyaW0oKSkgcmV0dXJuIGZhbHNlO1xuICAgICAgICAvLyBCYXNpYyBlbWFpbCB2YWxpZGF0aW9uXG4gICAgICAgIGNvbnN0IGVtYWlsUmVnZXggPSAvXlteXFxzQF0rQFteXFxzQF0rXFwuW15cXHNAXSskLztcbiAgICAgICAgaWYgKCFlbWFpbFJlZ2V4LnRlc3QoZm9ybURhdGEudXNlckVtYWlsKSkgcmV0dXJuIGZhbHNlO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcblxuICAgICAgY2FzZSA1OiAvLyBHZW5lcmF0ZVxuICAgICAgICAvLyBBbGwgcHJldmlvdXMgc3RlcHMgbXVzdCBiZSB2YWxpZFxuICAgICAgICByZXR1cm4gdmFsaWRhdGVTdGVwKDEpICYmIHZhbGlkYXRlU3RlcCgyKSAmJiB2YWxpZGF0ZVN0ZXAoMykgJiYgdmFsaWRhdGVTdGVwKDQpO1xuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9LCBbZm9ybURhdGFdKTtcblxuICBjb25zdCBnZXRTdGVwU3VtbWFyeSA9IHVzZUNhbGxiYWNrKChzdGVwOiBudW1iZXIpOiBzdHJpbmdbXSA9PiB7XG4gICAgY29uc3Qgc3VtbWFyeTogc3RyaW5nW10gPSBbXTtcbiAgICBcbiAgICBzd2l0Y2ggKHN0ZXApIHtcbiAgICAgIGNhc2UgMTpcbiAgICAgICAgY29uc3QgY2FyZFR5cGUgPSBmb3JtRGF0YS5zZWxlY3RlZFR5cGUgPT09IFwiY3VzdG9tXCIgPyBmb3JtRGF0YS5jdXN0b21DYXJkVHlwZSA6IGZvcm1EYXRhLnNlbGVjdGVkVHlwZTtcbiAgICAgICAgc3VtbWFyeS5wdXNoKGBDYXJkIFR5cGU6ICR7Y2FyZFR5cGUgfHwgXCJOb3Qgc2VsZWN0ZWRcIn1gKTtcbiAgICAgICAgc3VtbWFyeS5wdXNoKGBUb25lOiAke2Zvcm1EYXRhLnNlbGVjdGVkVG9uZSB8fCBcIk5vdCBzZWxlY3RlZFwifWApO1xuICAgICAgICBpZiAoZm9ybURhdGEudG9GaWVsZCkgc3VtbWFyeS5wdXNoKGBUbzogJHtmb3JtRGF0YS50b0ZpZWxkfWApO1xuICAgICAgICBpZiAoZm9ybURhdGEuZnJvbUZpZWxkKSBzdW1tYXJ5LnB1c2goYEZyb206ICR7Zm9ybURhdGEuZnJvbUZpZWxkfWApO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSAyOlxuICAgICAgICBpZiAoZm9ybURhdGEucHJvbXB0KSBzdW1tYXJ5LnB1c2goYERlc2NyaXB0aW9uOiAke2Zvcm1EYXRhLnByb21wdC5zdWJzdHJpbmcoMCwgNTApfS4uLmApO1xuICAgICAgICBpZiAoZm9ybURhdGEuZmluYWxDYXJkTWVzc2FnZSkgc3VtbWFyeS5wdXNoKGBNZXNzYWdlOiAke2Zvcm1EYXRhLmZpbmFsQ2FyZE1lc3NhZ2Uuc3Vic3RyaW5nKDAsIDUwKX0uLi5gKTtcbiAgICAgICAgaWYgKGZvcm1EYXRhLmlzSGFuZHdyaXR0ZW5NZXNzYWdlKSBzdW1tYXJ5LnB1c2goXCJIYW5kd3JpdHRlbiBtZXNzYWdlIHNwYWNlIGluY2x1ZGVkXCIpO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSAzOlxuICAgICAgICBzdW1tYXJ5LnB1c2goYFN0eWxlOiAke2Zvcm1EYXRhLnNlbGVjdGVkQXJ0aXN0aWNTdHlsZX1gKTtcbiAgICAgICAgaWYgKGZvcm1EYXRhLnJlZmVyZW5jZUltYWdlVXJscy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgc3VtbWFyeS5wdXNoKGBSZWZlcmVuY2UgcGhvdG9zOiAke2Zvcm1EYXRhLnJlZmVyZW5jZUltYWdlVXJscy5sZW5ndGh9IHVwbG9hZGVkYCk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgNDpcbiAgICAgICAgc3VtbWFyeS5wdXNoKGBFbWFpbDogJHtmb3JtRGF0YS51c2VyRW1haWx9YCk7XG4gICAgICAgIHN1bW1hcnkucHVzaChgTW9kZWw6ICR7Zm9ybURhdGEuc2VsZWN0ZWRJbWFnZU1vZGVsfWApO1xuICAgICAgICBzdW1tYXJ5LnB1c2goYFBhcGVyOiAke2Zvcm1EYXRhLnNlbGVjdGVkUGFwZXJTaXplfWApO1xuICAgICAgICBpZiAoZm9ybURhdGEuaXNGcm9udEJhY2tPbmx5KSBzdW1tYXJ5LnB1c2goXCJGcm9udC9iYWNrIG9ubHlcIik7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cblxuICAgIHJldHVybiBzdW1tYXJ5O1xuICB9LCBbZm9ybURhdGFdKTtcblxuICBjb25zdCBnZXRWYWxpZGF0aW9uRXJyb3JzID0gdXNlQ2FsbGJhY2soKHN0ZXA6IG51bWJlcik6IHN0cmluZ1tdID0+IHtcbiAgICBjb25zdCBlcnJvcnM6IHN0cmluZ1tdID0gW107XG5cbiAgICBzd2l0Y2ggKHN0ZXApIHtcbiAgICAgIGNhc2UgMTpcbiAgICAgICAgaWYgKCFmb3JtRGF0YS5zZWxlY3RlZFR5cGUpIGVycm9ycy5wdXNoKFwiUGxlYXNlIHNlbGVjdCBhIGNhcmQgdHlwZVwiKTtcbiAgICAgICAgaWYgKGZvcm1EYXRhLnNlbGVjdGVkVHlwZSA9PT0gXCJjdXN0b21cIiAmJiAhZm9ybURhdGEuY3VzdG9tQ2FyZFR5cGUudHJpbSgpKSB7XG4gICAgICAgICAgZXJyb3JzLnB1c2goXCJQbGVhc2UgZGVzY3JpYmUgeW91ciBjdXN0b20gY2FyZCB0eXBlXCIpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghZm9ybURhdGEuc2VsZWN0ZWRUb25lKSBlcnJvcnMucHVzaChcIlBsZWFzZSBzZWxlY3QgYSB0b25lXCIpO1xuICAgICAgICAvLyBDaGVjayBwaG90byBkZXNjcmlwdGlvbnNcbiAgICAgICAgaWYgKGZvcm1EYXRhLnJlZmVyZW5jZUltYWdlVXJscy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgaWYgKCFmb3JtRGF0YS5waG90b1JlZmVyZW5jZXMgfHwgZm9ybURhdGEucGhvdG9SZWZlcmVuY2VzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgZXJyb3JzLnB1c2goXCJQbGVhc2UgZGVzY3JpYmUgd2hvJ3MgaW4geW91ciBwaG90b3NcIik7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IG1pc3NpbmdEZXNjcmlwdGlvbnMgPSBmb3JtRGF0YS5waG90b1JlZmVyZW5jZXMuZmlsdGVyKHJlZiA9PiAhcmVmLmRlc2NyaXB0aW9uIHx8ICFyZWYuZGVzY3JpcHRpb24udHJpbSgpKS5sZW5ndGg7XG4gICAgICAgICAgICBpZiAobWlzc2luZ0Rlc2NyaXB0aW9ucyA+IDApIHtcbiAgICAgICAgICAgICAgZXJyb3JzLnB1c2goYFBsZWFzZSBkZXNjcmliZSB3aG8ncyBpbiAke21pc3NpbmdEZXNjcmlwdGlvbnN9IHBob3RvJHttaXNzaW5nRGVzY3JpcHRpb25zID4gMSA/ICdzJyA6ICcnfWApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSAzOlxuICAgICAgICBpZiAoZm9ybURhdGEuc2VsZWN0ZWRBcnRpc3RpY1N0eWxlID09PSBcImN1c3RvbVwiICYmICFmb3JtRGF0YS5jdXN0b21TdHlsZURlc2NyaXB0aW9uLnRyaW0oKSkge1xuICAgICAgICAgIGVycm9ycy5wdXNoKFwiUGxlYXNlIGRlc2NyaWJlIHlvdXIgY3VzdG9tIGFydGlzdGljIHN0eWxlXCIpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChmb3JtRGF0YS5yZWZlcmVuY2VJbWFnZVVybHMubGVuZ3RoID4gMCAmJiBmb3JtRGF0YS5zZWxlY3RlZEltYWdlTW9kZWwgIT09IFwiZ3B0LWltYWdlLTFcIikge1xuICAgICAgICAgIGVycm9ycy5wdXNoKFwiUmVmZXJlbmNlIHBob3RvcyBhcmUgb25seSBzdXBwb3J0ZWQgd2l0aCBHUFQgSW1hZ2UgMSBtb2RlbFwiKTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSA0OlxuICAgICAgICBpZiAoIWZvcm1EYXRhLnVzZXJFbWFpbC50cmltKCkpIHtcbiAgICAgICAgICBlcnJvcnMucHVzaChcIkVtYWlsIGFkZHJlc3MgaXMgcmVxdWlyZWRcIik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc3QgZW1haWxSZWdleCA9IC9eW15cXHNAXStAW15cXHNAXStcXC5bXlxcc0BdKyQvO1xuICAgICAgICAgIGlmICghZW1haWxSZWdleC50ZXN0KGZvcm1EYXRhLnVzZXJFbWFpbCkpIHtcbiAgICAgICAgICAgIGVycm9ycy5wdXNoKFwiUGxlYXNlIGVudGVyIGEgdmFsaWQgZW1haWwgYWRkcmVzc1wiKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgfVxuXG4gICAgcmV0dXJuIGVycm9ycztcbiAgfSwgW2Zvcm1EYXRhXSk7XG5cbiAgcmV0dXJuIHtcbiAgICBmb3JtRGF0YSxcbiAgICB1cGRhdGVGb3JtRGF0YSxcbiAgICByZXNldEZvcm0sXG4gICAgY2xlYXJTdG9yZWREYXRhLFxuICAgIHZhbGlkYXRlU3RlcCxcbiAgICBnZXRTdGVwU3VtbWFyeSxcbiAgICBnZXRWYWxpZGF0aW9uRXJyb3JzLFxuICAgIGlzSW5pdGlhbExvYWRDb21wbGV0ZSxcbiAgICB3aXphcmRTdGF0ZToge1xuICAgICAgLi4ud2l6YXJkU3RhdGUsXG4gICAgICB1cGRhdGVDdXJyZW50U3RlcDogKHN0ZXA6IG51bWJlcikgPT4gdXBkYXRlV2l6YXJkU3RhdGUoeyBjdXJyZW50U3RlcDogc3RlcCB9KSxcbiAgICAgIG1hcmtTdGVwQ29tcGxldGVkLFxuICAgICAgcmVzZXRXaXphcmRTdGF0ZSxcbiAgICB9LFxuICAgIHVwZGF0ZVdpemFyZFN0YXRlLFxuICB9O1xufSAiXSwibmFtZXMiOlsidXNlU3RhdGUiLCJ1c2VDYWxsYmFjayIsInVzZUVmZmVjdCIsInN0b3JhZ2UiLCJkZWZhdWx0Rm9ybURhdGEiLCJzZWxlY3RlZFR5cGUiLCJjdXN0b21DYXJkVHlwZSIsInNlbGVjdGVkVG9uZSIsInRvRmllbGQiLCJmcm9tRmllbGQiLCJyZWxhdGlvbnNoaXBGaWVsZCIsInByb21wdCIsImZpbmFsQ2FyZE1lc3NhZ2UiLCJpc0hhbmR3cml0dGVuTWVzc2FnZSIsInNlbGVjdGVkQXJ0aXN0aWNTdHlsZSIsImN1c3RvbVN0eWxlRGVzY3JpcHRpb24iLCJyZWZlcmVuY2VJbWFnZXMiLCJyZWZlcmVuY2VJbWFnZVVybHMiLCJ1c2VyRW1haWwiLCJzZWxlY3RlZEltYWdlTW9kZWwiLCJzZWxlY3RlZERyYWZ0TW9kZWwiLCJzZWxlY3RlZFBhcGVyU2l6ZSIsIm51bWJlck9mQ2FyZHMiLCJpc0Zyb250QmFja09ubHkiLCJjcmVhdGVTZXJpYWxpemFibGVGb3JtRGF0YSIsImZvcm1EYXRhIiwic2VyaWFsaXphYmxlRGF0YSIsInVzZUNhcmRGb3JtIiwic2V0Rm9ybURhdGEiLCJ3aXphcmRTdGF0ZSIsInNldFdpemFyZFN0YXRlIiwiY3VycmVudFN0ZXAiLCJjb21wbGV0ZWRTdGVwcyIsImlzSW5pdGlhbExvYWRDb21wbGV0ZSIsInNldElzSW5pdGlhbExvYWRDb21wbGV0ZSIsInNlc3Npb24iLCJnZXRTZXNzaW9uIiwic2F2ZVNlc3Npb24iLCJ1cGRhdGVGb3JtRGF0YSIsInVwZGF0ZXMiLCJwcmV2IiwicmVzZXRGb3JtIiwiY2xlYXJTZXNzaW9uIiwiY2xlYXJTdG9yZWREYXRhIiwiY2xlYXJBbGwiLCJ1cGRhdGVXaXphcmRTdGF0ZSIsIm1hcmtTdGVwQ29tcGxldGVkIiwic3RlcCIsImluY2x1ZGVzIiwicmVzZXRXaXphcmRTdGF0ZSIsInZhbGlkYXRlU3RlcCIsInRyaW0iLCJsZW5ndGgiLCJwaG90b1JlZmVyZW5jZXMiLCJhbGxIYXZlRGVzY3JpcHRpb25zIiwiZXZlcnkiLCJyZWYiLCJkZXNjcmlwdGlvbiIsImVtYWlsUmVnZXgiLCJ0ZXN0IiwiZ2V0U3RlcFN1bW1hcnkiLCJzdW1tYXJ5IiwiY2FyZFR5cGUiLCJwdXNoIiwic3Vic3RyaW5nIiwiZ2V0VmFsaWRhdGlvbkVycm9ycyIsImVycm9ycyIsIm1pc3NpbmdEZXNjcmlwdGlvbnMiLCJmaWx0ZXIiLCJ1cGRhdGVDdXJyZW50U3RlcCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./hooks/useCardForm.tsx\n");

/***/ }),

/***/ "(ssr)/./hooks/useCardHistorySimplified.ts":
/*!*******************************************!*\
  !*** ./hooks/useCardHistorySimplified.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useCardHistory: () => (/* binding */ useCardHistory)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _lib_storageManager__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/storageManager */ \"(ssr)/./lib/storageManager.ts\");\n/* __next_internal_client_entry_do_not_use__ useCardHistory auto */ \n\nfunction useCardHistory() {\n    const [cardHistory, setCardHistory] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]);\n    const [draftSessions, setDraftSessions] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]);\n    // Load recent cards and draft sessions on mount\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        const recent = _lib_storageManager__WEBPACK_IMPORTED_MODULE_1__.storage.getRecentCards();\n        const historyItems = recent.map((card)=>({\n                id: card.id,\n                date: card.date,\n                type: card.type,\n                tone: card.tone,\n                recipient: card.recipient,\n                sender: undefined,\n                message: undefined,\n                thumbnailUrl: card.preview\n            }));\n        setCardHistory(historyItems);\n        // Load draft sessions from localStorage directly\n        if (false) {}\n    }, []);\n    // Add a new card to history\n    const addCardToHistory = (card)=>{\n        _lib_storageManager__WEBPACK_IMPORTED_MODULE_1__.storage.addRecentCard({\n            id: card.id,\n            date: card.date,\n            type: card.type,\n            tone: card.tone,\n            recipient: card.recipient,\n            preview: card.thumbnailUrl\n        });\n        // Update local state\n        setCardHistory((prev)=>[\n                card,\n                ...prev\n            ].slice(0, 5));\n    };\n    // Clear all history\n    const clearHistory = ()=>{\n        _lib_storageManager__WEBPACK_IMPORTED_MODULE_1__.storage.clearAll();\n        setCardHistory([]);\n    };\n    // Draft session management\n    const saveDraftSession = (formData, draftCards, selectedIndex, sessionId)=>{\n        if (true) return sessionId || \"\";\n        const id = sessionId || `draft_${Date.now()}`;\n        const session = {\n            id,\n            formData,\n            draftCards: draftCards.filter(Boolean),\n            selectedIndex,\n            savedAt: new Date().toISOString()\n        };\n        try {\n            // Save current session\n            localStorage.setItem(\"vibe-current-draft-session\", JSON.stringify(session));\n            // Update draft sessions list\n            const sessions = JSON.parse(localStorage.getItem(\"vibe-draft-sessions\") || \"[]\");\n            const existingIndex = sessions.findIndex((s)=>s.id === id);\n            if (existingIndex >= 0) {\n                sessions[existingIndex] = session;\n            } else {\n                sessions.unshift(session);\n            }\n            // Keep only the most recent session\n            const updatedSessions = sessions.slice(0, 1);\n            localStorage.setItem(\"vibe-draft-sessions\", JSON.stringify(updatedSessions));\n            setDraftSessions(updatedSessions);\n        } catch (e) {\n            console.error(\"Failed to save draft session:\", e);\n        }\n        return id;\n    };\n    const resumeDraftSession = (sessionId)=>{\n        if (true) return null;\n        try {\n            // Check current session first\n            const currentSession = JSON.parse(localStorage.getItem(\"vibe-current-draft-session\") || \"null\");\n            if (currentSession && (sessionId === \"current\" || currentSession.id === sessionId)) {\n                return currentSession;\n            }\n            // Check sessions list\n            const sessions = JSON.parse(localStorage.getItem(\"vibe-draft-sessions\") || \"[]\");\n            return sessions.find((s)=>s.id === sessionId);\n        } catch  {\n            return null;\n        }\n    };\n    const removeDraftSession = (sessionId)=>{\n        if (true) return;\n        try {\n            const currentSession = JSON.parse(localStorage.getItem(\"vibe-current-draft-session\") || \"null\");\n            if (currentSession && currentSession.id === sessionId) {\n                localStorage.removeItem(\"vibe-current-draft-session\");\n            }\n            const sessions = JSON.parse(localStorage.getItem(\"vibe-draft-sessions\") || \"[]\");\n            const filtered = sessions.filter((s)=>s.id !== sessionId);\n            localStorage.setItem(\"vibe-draft-sessions\", JSON.stringify(filtered));\n            setDraftSessions(filtered);\n        } catch (e) {\n            console.error(\"Failed to remove draft session:\", e);\n        }\n    };\n    // Alias for backward compatibility\n    const addCompletedCard = (card)=>{\n        // Convert from the old format to new format\n        const historyItem = {\n            id: card.id || Date.now().toString(),\n            date: new Date().toISOString(),\n            type: card.cardType || \"custom\",\n            tone: card.cardTone || \"casual\",\n            recipient: card.toField,\n            sender: card.fromField,\n            message: card.finalCardMessage,\n            thumbnailUrl: card.frontCover || card.images?.frontCover\n        };\n        addCardToHistory(historyItem);\n    };\n    return {\n        cardHistory,\n        draftSessions,\n        addCardToHistory,\n        addCompletedCard,\n        clearHistory,\n        saveDraftSession,\n        resumeDraftSession,\n        removeDraftSession,\n        // Add these for backward compatibility\n        hasCompletedCards: cardHistory.length > 0,\n        hasDraftSessions: draftSessions.length > 0,\n        totalCards: cardHistory.length,\n        totalDrafts: draftSessions.length\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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SUFBSW9CLE9BQU9rQixXQUFXO1lBQzVCckMsTUFBTUgsS0FBSzBELFFBQVEsSUFBSTtZQUN2QnRELE1BQU1KLEtBQUsyRCxRQUFRLElBQUk7WUFDdkJ0RCxXQUFXTCxLQUFLNEQsT0FBTztZQUN2QnRELFFBQVFOLEtBQUs2RCxTQUFTO1lBQ3RCckQsU0FBU1IsS0FBSzhELGdCQUFnQjtZQUM5QnJELGNBQWNULEtBQUsrRCxVQUFVLElBQUkvRCxLQUFLZ0UsTUFBTSxFQUFFRDtRQUNoRDtRQUNBbkMsaUJBQWlCNEI7SUFDbkI7SUFFQSxPQUFPO1FBQ0xoRTtRQUNBRTtRQUNBa0M7UUFDQTJCO1FBQ0F2QjtRQUNBRTtRQUNBZTtRQUNBRztRQUNBLHVDQUF1QztRQUN2Q2EsbUJBQW1CekUsWUFBWWlDLE1BQU0sR0FBRztRQUN4Q3lDLGtCQUFrQnhFLGNBQWMrQixNQUFNLEdBQUc7UUFDekMwQyxZQUFZM0UsWUFBWWlDLE1BQU07UUFDOUIyQyxhQUFhMUUsY0FBYytCLE1BQU07SUFDbkM7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL3ZpYmVjYXJkaW5nLy4vaG9va3MvdXNlQ2FyZEhpc3RvcnlTaW1wbGlmaWVkLnRzP2Q4YmUiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2UgY2xpZW50XCI7XG5cbmltcG9ydCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBzdG9yYWdlIH0gZnJvbSAnQC9saWIvc3RvcmFnZU1hbmFnZXInO1xuXG5leHBvcnQgaW50ZXJmYWNlIENhcmRIaXN0b3J5SXRlbSB7XG4gIGlkOiBzdHJpbmc7XG4gIGRhdGU6IHN0cmluZztcbiAgdHlwZTogc3RyaW5nO1xuICB0b25lOiBzdHJpbmc7XG4gIHJlY2lwaWVudD86IHN0cmluZztcbiAgc2VuZGVyPzogc3RyaW5nO1xuICBtZXNzYWdlPzogc3RyaW5nO1xuICB0aHVtYm5haWxVcmw/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1c2VDYXJkSGlzdG9yeSgpIHtcbiAgY29uc3QgW2NhcmRIaXN0b3J5LCBzZXRDYXJkSGlzdG9yeV0gPSB1c2VTdGF0ZTxDYXJkSGlzdG9yeUl0ZW1bXT4oW10pO1xuICBjb25zdCBbZHJhZnRTZXNzaW9ucywgc2V0RHJhZnRTZXNzaW9uc10gPSB1c2VTdGF0ZTxhbnlbXT4oW10pO1xuXG4gIC8vIExvYWQgcmVjZW50IGNhcmRzIGFuZCBkcmFmdCBzZXNzaW9ucyBvbiBtb3VudFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IHJlY2VudCA9IHN0b3JhZ2UuZ2V0UmVjZW50Q2FyZHMoKTtcbiAgICBjb25zdCBoaXN0b3J5SXRlbXM6IENhcmRIaXN0b3J5SXRlbVtdID0gcmVjZW50Lm1hcChjYXJkID0+ICh7XG4gICAgICBpZDogY2FyZC5pZCxcbiAgICAgIGRhdGU6IGNhcmQuZGF0ZSxcbiAgICAgIHR5cGU6IGNhcmQudHlwZSxcbiAgICAgIHRvbmU6IGNhcmQudG9uZSxcbiAgICAgIHJlY2lwaWVudDogY2FyZC5yZWNpcGllbnQsXG4gICAgICBzZW5kZXI6IHVuZGVmaW5lZCxcbiAgICAgIG1lc3NhZ2U6IHVuZGVmaW5lZCxcbiAgICAgIHRodW1ibmFpbFVybDogY2FyZC5wcmV2aWV3XG4gICAgfSkpO1xuICAgIHNldENhcmRIaXN0b3J5KGhpc3RvcnlJdGVtcyk7XG4gICAgXG4gICAgLy8gTG9hZCBkcmFmdCBzZXNzaW9ucyBmcm9tIGxvY2FsU3RvcmFnZSBkaXJlY3RseVxuICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3Qgc2Vzc2lvbnMgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd2aWJlLWRyYWZ0LXNlc3Npb25zJykgfHwgJ1tdJyk7XG4gICAgICAgIGNvbnN0IHR3b0hvdXJzID0gMiAqIDYwICogNjAgKiAxMDAwO1xuICAgICAgICBcbiAgICAgICAgLy8gRmlsdGVyIG91dCBleHBpcmVkIHNlc3Npb25zXG4gICAgICAgIGNvbnN0IHZhbGlkU2Vzc2lvbnMgPSBzZXNzaW9ucy5maWx0ZXIoKHNlc3Npb246IGFueSkgPT4ge1xuICAgICAgICAgIGlmICghc2Vzc2lvbi5zYXZlZEF0KSByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgY29uc3QgYWdlID0gRGF0ZS5ub3coKSAtIG5ldyBEYXRlKHNlc3Npb24uc2F2ZWRBdCkuZ2V0VGltZSgpO1xuICAgICAgICAgIHJldHVybiBhZ2UgPCB0d29Ib3VycztcbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICAvLyBVcGRhdGUgbG9jYWxTdG9yYWdlIGlmIHdlIHJlbW92ZWQgYW55IGV4cGlyZWQgc2Vzc2lvbnNcbiAgICAgICAgaWYgKHZhbGlkU2Vzc2lvbnMubGVuZ3RoICE9PSBzZXNzaW9ucy5sZW5ndGgpIHtcbiAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndmliZS1kcmFmdC1zZXNzaW9ucycsIEpTT04uc3RyaW5naWZ5KHZhbGlkU2Vzc2lvbnMpKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgc2V0RHJhZnRTZXNzaW9ucyh2YWxpZFNlc3Npb25zKTtcbiAgICAgIH0gY2F0Y2gge1xuICAgICAgICBzZXREcmFmdFNlc3Npb25zKFtdKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIFtdKTtcblxuICAvLyBBZGQgYSBuZXcgY2FyZCB0byBoaXN0b3J5XG4gIGNvbnN0IGFkZENhcmRUb0hpc3RvcnkgPSAoY2FyZDogQ2FyZEhpc3RvcnlJdGVtKSA9PiB7XG4gICAgc3RvcmFnZS5hZGRSZWNlbnRDYXJkKHtcbiAgICAgIGlkOiBjYXJkLmlkLFxuICAgICAgZGF0ZTogY2FyZC5kYXRlLFxuICAgICAgdHlwZTogY2FyZC50eXBlLFxuICAgICAgdG9uZTogY2FyZC50b25lLFxuICAgICAgcmVjaXBpZW50OiBjYXJkLnJlY2lwaWVudCxcbiAgICAgIHByZXZpZXc6IGNhcmQudGh1bWJuYWlsVXJsXG4gICAgfSk7XG4gICAgXG4gICAgLy8gVXBkYXRlIGxvY2FsIHN0YXRlXG4gICAgc2V0Q2FyZEhpc3RvcnkocHJldiA9PiBbY2FyZCwgLi4ucHJldl0uc2xpY2UoMCwgNSkpO1xuICB9O1xuXG4gIC8vIENsZWFyIGFsbCBoaXN0b3J5XG4gIGNvbnN0IGNsZWFySGlzdG9yeSA9ICgpID0+IHtcbiAgICBzdG9yYWdlLmNsZWFyQWxsKCk7XG4gICAgc2V0Q2FyZEhpc3RvcnkoW10pO1xuICB9O1xuXG4gIC8vIERyYWZ0IHNlc3Npb24gbWFuYWdlbWVudFxuICBjb25zdCBzYXZlRHJhZnRTZXNzaW9uID0gKGZvcm1EYXRhOiBhbnksIGRyYWZ0Q2FyZHM6IGFueVtdLCBzZWxlY3RlZEluZGV4OiBudW1iZXIsIHNlc3Npb25JZD86IHN0cmluZykgPT4ge1xuICAgIGlmICh0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJykgcmV0dXJuIHNlc3Npb25JZCB8fCAnJztcbiAgICBcbiAgICBjb25zdCBpZCA9IHNlc3Npb25JZCB8fCBgZHJhZnRfJHtEYXRlLm5vdygpfWA7XG4gICAgY29uc3Qgc2Vzc2lvbiA9IHtcbiAgICAgIGlkLFxuICAgICAgZm9ybURhdGEsXG4gICAgICBkcmFmdENhcmRzOiBkcmFmdENhcmRzLmZpbHRlcihCb29sZWFuKSwgLy8gT25seSBzYXZlIGNvbXBsZXRlZCBkcmFmdHNcbiAgICAgIHNlbGVjdGVkSW5kZXgsXG4gICAgICBzYXZlZEF0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcbiAgICB9O1xuICAgIFxuICAgIHRyeSB7XG4gICAgICAvLyBTYXZlIGN1cnJlbnQgc2Vzc2lvblxuICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3ZpYmUtY3VycmVudC1kcmFmdC1zZXNzaW9uJywgSlNPTi5zdHJpbmdpZnkoc2Vzc2lvbikpO1xuICAgICAgXG4gICAgICAvLyBVcGRhdGUgZHJhZnQgc2Vzc2lvbnMgbGlzdFxuICAgICAgY29uc3Qgc2Vzc2lvbnMgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd2aWJlLWRyYWZ0LXNlc3Npb25zJykgfHwgJ1tdJyk7XG4gICAgICBjb25zdCBleGlzdGluZ0luZGV4ID0gc2Vzc2lvbnMuZmluZEluZGV4KChzOiBhbnkpID0+IHMuaWQgPT09IGlkKTtcbiAgICAgIGlmIChleGlzdGluZ0luZGV4ID49IDApIHtcbiAgICAgICAgc2Vzc2lvbnNbZXhpc3RpbmdJbmRleF0gPSBzZXNzaW9uO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2Vzc2lvbnMudW5zaGlmdChzZXNzaW9uKTtcbiAgICAgIH1cbiAgICAgIC8vIEtlZXAgb25seSB0aGUgbW9zdCByZWNlbnQgc2Vzc2lvblxuICAgICAgY29uc3QgdXBkYXRlZFNlc3Npb25zID0gc2Vzc2lvbnMuc2xpY2UoMCwgMSk7XG4gICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndmliZS1kcmFmdC1zZXNzaW9ucycsIEpTT04uc3RyaW5naWZ5KHVwZGF0ZWRTZXNzaW9ucykpO1xuICAgICAgc2V0RHJhZnRTZXNzaW9ucyh1cGRhdGVkU2Vzc2lvbnMpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBzYXZlIGRyYWZ0IHNlc3Npb246JywgZSk7XG4gICAgfVxuICAgIFxuICAgIHJldHVybiBpZDtcbiAgfTtcbiAgXG4gIGNvbnN0IHJlc3VtZURyYWZ0U2Vzc2lvbiA9IChzZXNzaW9uSWQ6IHN0cmluZykgPT4ge1xuICAgIGlmICh0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJykgcmV0dXJuIG51bGw7XG4gICAgXG4gICAgdHJ5IHtcbiAgICAgIC8vIENoZWNrIGN1cnJlbnQgc2Vzc2lvbiBmaXJzdFxuICAgICAgY29uc3QgY3VycmVudFNlc3Npb24gPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd2aWJlLWN1cnJlbnQtZHJhZnQtc2Vzc2lvbicpIHx8ICdudWxsJyk7XG4gICAgICBpZiAoY3VycmVudFNlc3Npb24gJiYgKHNlc3Npb25JZCA9PT0gJ2N1cnJlbnQnIHx8IGN1cnJlbnRTZXNzaW9uLmlkID09PSBzZXNzaW9uSWQpKSB7XG4gICAgICAgIHJldHVybiBjdXJyZW50U2Vzc2lvbjtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gQ2hlY2sgc2Vzc2lvbnMgbGlzdFxuICAgICAgY29uc3Qgc2Vzc2lvbnMgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd2aWJlLWRyYWZ0LXNlc3Npb25zJykgfHwgJ1tdJyk7XG4gICAgICByZXR1cm4gc2Vzc2lvbnMuZmluZCgoczogYW55KSA9PiBzLmlkID09PSBzZXNzaW9uSWQpO1xuICAgIH0gY2F0Y2gge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9O1xuICBcbiAgY29uc3QgcmVtb3ZlRHJhZnRTZXNzaW9uID0gKHNlc3Npb25JZDogc3RyaW5nKSA9PiB7XG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnKSByZXR1cm47XG4gICAgXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGN1cnJlbnRTZXNzaW9uID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndmliZS1jdXJyZW50LWRyYWZ0LXNlc3Npb24nKSB8fCAnbnVsbCcpO1xuICAgICAgaWYgKGN1cnJlbnRTZXNzaW9uICYmIGN1cnJlbnRTZXNzaW9uLmlkID09PSBzZXNzaW9uSWQpIHtcbiAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ3ZpYmUtY3VycmVudC1kcmFmdC1zZXNzaW9uJyk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIGNvbnN0IHNlc3Npb25zID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndmliZS1kcmFmdC1zZXNzaW9ucycpIHx8ICdbXScpO1xuICAgICAgY29uc3QgZmlsdGVyZWQgPSBzZXNzaW9ucy5maWx0ZXIoKHM6IGFueSkgPT4gcy5pZCAhPT0gc2Vzc2lvbklkKTtcbiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd2aWJlLWRyYWZ0LXNlc3Npb25zJywgSlNPTi5zdHJpbmdpZnkoZmlsdGVyZWQpKTtcbiAgICAgIHNldERyYWZ0U2Vzc2lvbnMoZmlsdGVyZWQpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byByZW1vdmUgZHJhZnQgc2Vzc2lvbjonLCBlKTtcbiAgICB9XG4gIH07XG5cbiAgLy8gQWxpYXMgZm9yIGJhY2t3YXJkIGNvbXBhdGliaWxpdHlcbiAgY29uc3QgYWRkQ29tcGxldGVkQ2FyZCA9IChjYXJkOiBhbnkpID0+IHtcbiAgICAvLyBDb252ZXJ0IGZyb20gdGhlIG9sZCBmb3JtYXQgdG8gbmV3IGZvcm1hdFxuICAgIGNvbnN0IGhpc3RvcnlJdGVtOiBDYXJkSGlzdG9yeUl0ZW0gPSB7XG4gICAgICBpZDogY2FyZC5pZCB8fCBEYXRlLm5vdygpLnRvU3RyaW5nKCksXG4gICAgICBkYXRlOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICB0eXBlOiBjYXJkLmNhcmRUeXBlIHx8ICdjdXN0b20nLFxuICAgICAgdG9uZTogY2FyZC5jYXJkVG9uZSB8fCAnY2FzdWFsJyxcbiAgICAgIHJlY2lwaWVudDogY2FyZC50b0ZpZWxkLFxuICAgICAgc2VuZGVyOiBjYXJkLmZyb21GaWVsZCxcbiAgICAgIG1lc3NhZ2U6IGNhcmQuZmluYWxDYXJkTWVzc2FnZSxcbiAgICAgIHRodW1ibmFpbFVybDogY2FyZC5mcm9udENvdmVyIHx8IGNhcmQuaW1hZ2VzPy5mcm9udENvdmVyXG4gICAgfTtcbiAgICBhZGRDYXJkVG9IaXN0b3J5KGhpc3RvcnlJdGVtKTtcbiAgfTtcblxuICByZXR1cm4ge1xuICAgIGNhcmRIaXN0b3J5LFxuICAgIGRyYWZ0U2Vzc2lvbnMsXG4gICAgYWRkQ2FyZFRvSGlzdG9yeSxcbiAgICBhZGRDb21wbGV0ZWRDYXJkLCAgLy8gQWRkIHRoaXMgZm9yIGJhY2t3YXJkIGNvbXBhdGliaWxpdHlcbiAgICBjbGVhckhpc3RvcnksXG4gICAgc2F2ZURyYWZ0U2Vzc2lvbixcbiAgICByZXN1bWVEcmFmdFNlc3Npb24sXG4gICAgcmVtb3ZlRHJhZnRTZXNzaW9uLFxuICAgIC8vIEFkZCB0aGVzZSBmb3IgYmFja3dhcmQgY29tcGF0aWJpbGl0eVxuICAgIGhhc0NvbXBsZXRlZENhcmRzOiBjYXJkSGlzdG9yeS5sZW5ndGggPiAwLFxuICAgIGhhc0RyYWZ0U2Vzc2lvbnM6IGRyYWZ0U2Vzc2lvbnMubGVuZ3RoID4gMCxcbiAgICB0b3RhbENhcmRzOiBjYXJkSGlzdG9yeS5sZW5ndGgsXG4gICAgdG90YWxEcmFmdHM6IGRyYWZ0U2Vzc2lvbnMubGVuZ3RoLFxuICB9O1xufSJdLCJuYW1lcyI6WyJ1c2VTdGF0ZSIsInVzZUVmZmVjdCIsInN0b3JhZ2UiLCJ1c2VDYXJkSGlzdG9yeSIsImNhcmRIaXN0b3J5Iiwic2V0Q2FyZEhpc3RvcnkiLCJkcmFmdFNlc3Npb25zIiwic2V0RHJhZnRTZXNzaW9ucyIsInJlY2VudCIsImdldFJlY2VudENhcmRzIiwiaGlzdG9yeUl0ZW1zIiwibWFwIiwiY2FyZCIsImlkIiwiZGF0ZSIsInR5cGUiLCJ0b25lIiwicmVjaXBpZW50Iiwic2VuZGVyIiwidW5kZWZpbmVkIiwibWVzc2FnZSIsInRodW1ibmFpbFVybCIsInByZXZpZXciLCJzZXNzaW9ucyIsIkpTT04iLCJwYXJzZSIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJ0d29Ib3VycyIsInZhbGlkU2Vzc2lvbnMiLCJmaWx0ZXIiLCJzZXNzaW9uIiwic2F2ZWRBdCIsImFnZSIsIkRhdGUiLCJub3ciLCJnZXRUaW1lIiwibGVuZ3RoIiwic2V0SXRlbSIsInN0cmluZ2lmeSIsImFkZENhcmRUb0hpc3RvcnkiLCJhZGRSZWNlbnRDYXJkIiwicHJldiIsInNsaWNlIiwiY2xlYXJIaXN0b3J5IiwiY2xlYXJBbGwiLCJzYXZlRHJhZnRTZXNzaW9uIiwiZm9ybURhdGEiLCJkcmFmdENhcmRzIiwic2VsZWN0ZWRJbmRleCIsInNlc3Npb25JZCIsIkJvb2xlYW4iLCJ0b0lTT1N0cmluZyIsImV4aXN0aW5nSW5kZXgiLCJmaW5kSW5kZXgiLCJzIiwidW5zaGlmdCIsInVwZGF0ZWRTZXNzaW9ucyIsImUiLCJjb25zb2xlIiwiZXJyb3IiLCJyZXN1bWVEcmFmdFNlc3Npb24iLCJjdXJyZW50U2Vzc2lvbiIsImZpbmQiLCJyZW1vdmVEcmFmdFNlc3Npb24iLCJyZW1vdmVJdGVtIiwiZmlsdGVyZWQiLCJhZGRDb21wbGV0ZWRDYXJkIiwiaGlzdG9yeUl0ZW0iLCJ0b1N0cmluZyIsImNhcmRUeXBlIiwiY2FyZFRvbmUiLCJ0b0ZpZWxkIiwiZnJvbUZpZWxkIiwiZmluYWxDYXJkTWVzc2FnZSIsImZyb250Q292ZXIiLCJpbWFnZXMiLCJoYXNDb21wbGV0ZWRDYXJkcyIsImhhc0RyYWZ0U2Vzc2lvbnMiLCJ0b3RhbENhcmRzIiwidG90YWxEcmFmdHMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./hooks/useCardHistorySimplified.ts\n");

/***/ }),

/***/ "(ssr)/./hooks/useCardStudio.ts":
/*!********************************!*\
  !*** ./hooks/useCardStudio.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useCardStudio: () => (/* reexport safe */ _useCardStudioRefactored__WEBPACK_IMPORTED_MODULE_0__.useCardStudio)\n/* harmony export */ });\n/* harmony import */ var _useCardStudioRefactored__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./useCardStudioRefactored */ \"(ssr)/./hooks/useCardStudioRefactored.ts\");\n// This file is kept for backwards compatibility\n// Actual implementation has been refactored into modular components\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ob29rcy91c2VDYXJkU3R1ZGlvLnRzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQUEsZ0RBQWdEO0FBQ2hELG9FQUFvRTtBQUNWIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdmliZWNhcmRpbmcvLi9ob29rcy91c2VDYXJkU3R1ZGlvLnRzPzRjZGMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gVGhpcyBmaWxlIGlzIGtlcHQgZm9yIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5XG4vLyBBY3R1YWwgaW1wbGVtZW50YXRpb24gaGFzIGJlZW4gcmVmYWN0b3JlZCBpbnRvIG1vZHVsYXIgY29tcG9uZW50c1xuZXhwb3J0IHsgdXNlQ2FyZFN0dWRpbyB9IGZyb20gJy4vdXNlQ2FyZFN0dWRpb1JlZmFjdG9yZWQnOyJdLCJuYW1lcyI6WyJ1c2VDYXJkU3R1ZGlvIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./hooks/useCardStudio.ts\n");

/***/ }),

/***/ "(ssr)/./hooks/useCardStudioRefactored.ts":
/*!******************************************!*\
  !*** ./hooks/useCardStudioRefactored.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useCardStudio: () => (/* binding */ useCardStudio)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var sonner__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! sonner */ \"(ssr)/./node_modules/sonner/dist/index.mjs\");\n/* harmony import */ var _cardStudio_useWebSocket__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./cardStudio/useWebSocket */ \"(ssr)/./hooks/cardStudio/useWebSocket.ts\");\n/* harmony import */ var _cardStudio_useJobManagementSimplified__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./cardStudio/useJobManagementSimplified */ \"(ssr)/./hooks/cardStudio/useJobManagementSimplified.ts\");\n/* harmony import */ var _cardStudio_useMessageGeneration__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./cardStudio/useMessageGeneration */ \"(ssr)/./hooks/cardStudio/useMessageGeneration.ts\");\n/* harmony import */ var _cardStudio_useFileHandling__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./cardStudio/useFileHandling */ \"(ssr)/./hooks/cardStudio/useFileHandling.ts\");\n/* harmony import */ var _cardStudio_useDraftGeneration__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./cardStudio/useDraftGeneration */ \"(ssr)/./hooks/cardStudio/useDraftGeneration.ts\");\n/* harmony import */ var _cardStudio_useCardGeneration__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./cardStudio/useCardGeneration */ \"(ssr)/./hooks/cardStudio/useCardGeneration.ts\");\n/* harmony import */ var _cardStudio_constants__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./cardStudio/constants */ \"(ssr)/./hooks/cardStudio/constants.ts\");\n/* harmony import */ var _cardStudio_utils__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./cardStudio/utils */ \"(ssr)/./hooks/cardStudio/utils.ts\");\n/* harmony import */ var _lib_storageManager__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @/lib/storageManager */ \"(ssr)/./lib/storageManager.ts\");\n/* __next_internal_client_entry_do_not_use__ useCardStudio auto */ \n\n// Import modular hooks\n\n\n\n\n\n\n// Import constants and utils\n\n\n\nfunction useCardStudio() {\n    // Core form state\n    const [prompt, setPrompt] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(\"\");\n    const [toField, setToField] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(\"\");\n    const [fromField, setFromField] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(\"\");\n    const [relationshipField, setRelationshipField] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(\"\");\n    const [personalTraits, setPersonalTraits] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(\"\");\n    const [selectedType, setSelectedType] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(\"birthday\");\n    const [customCardType, setCustomCardType] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(\"\");\n    const [selectedTone, setSelectedTone] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(\"funny\");\n    // Advanced options state\n    const [showAdvanced, setShowAdvanced] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [selectedArtisticStyle, setSelectedArtisticStyle] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(\"ai-smart-style\");\n    const [customStyleDescription, setCustomStyleDescription] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(\"\");\n    const [selectedImageModel, setSelectedImageModel] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(\"gpt-image-1\");\n    const [selectedDraftModel, setSelectedDraftModel] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(\"gpt-image-1\");\n    const [fastPreviewMode, setFastPreviewMode] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(true);\n    // Email state\n    const [userEmail, setUserEmail] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(\"\");\n    // Card options\n    const [numberOfCards, setNumberOfCards] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(1);\n    const [isHandwrittenMessage, setIsHandwrittenMessage] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [isFrontBackOnly, setIsFrontBackOnly] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [selectedPaperSize, setSelectedPaperSize] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(\"standard\");\n    // UI state\n    const [isTextareaExpanded, setIsTextareaExpanded] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [isMessageExpanded, setIsMessageExpanded] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [showSettings, setShowSettings] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [showTemplateGallery, setShowTemplateGallery] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [showPrintConfirmation, setShowPrintConfirmation] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [showTemplateCustomization, setShowTemplateCustomization] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    // Restoration state\n    const [isRestoringJobs, setIsRestoringJobs] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(true);\n    const [selectedTemplate, setSelectedTemplate] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [isInitialLoadComplete, setIsInitialLoadComplete] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    // Template state\n    const [templateSearchQuery, setTemplateSearchQuery] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(\"\");\n    const [isSearchingTemplates, setIsSearchingTemplates] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [aiFilteredCards, setAiFilteredCards] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]);\n    const [searchMode, setSearchMode] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(\"text\");\n    const [textFilteredCards, setTextFilteredCards] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]);\n    const [showPrompts, setShowPrompts] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [printOption, setPrintOption] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(\"physical\");\n    // Template customization state\n    const [templateCustomizations, setTemplateCustomizations] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({\n        promptChanges: \"\",\n        messageChanges: \"\",\n        useReferenceImage: false,\n        referenceImageFile: null,\n        referenceImageUrls: [],\n        referenceImageTransformation: \"\"\n    });\n    // Section loading states\n    const [sectionLoadingStates, setSectionLoadingStates] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({\n        frontCover: \"idle\",\n        backCover: \"idle\",\n        leftInterior: \"idle\",\n        rightInterior: \"idle\"\n    });\n    // Countdown state\n    const [countdown, setCountdown] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(0);\n    const [countdownInterval, setCountdownInterval] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    // Use modular hooks\n    const webSocket = (0,_cardStudio_useWebSocket__WEBPACK_IMPORTED_MODULE_2__.useWebSocket)();\n    const jobManagement = (0,_cardStudio_useJobManagementSimplified__WEBPACK_IMPORTED_MODULE_3__.useJobManagement)();\n    const fileHandling = (0,_cardStudio_useFileHandling__WEBPACK_IMPORTED_MODULE_5__.useFileHandling)();\n    const messageGeneration = (0,_cardStudio_useMessageGeneration__WEBPACK_IMPORTED_MODULE_4__.useMessageGeneration)(selectedType, customCardType, selectedTone, prompt, toField, fromField, relationshipField, fileHandling.photoReferences);\n    // Draft generation props\n    const draftGenerationProps = {\n        selectedType,\n        customCardType,\n        selectedTone,\n        selectedArtisticStyle,\n        customStyleDescription,\n        selectedDraftModel,\n        selectedImageModel,\n        selectedPaperSize,\n        prompt,\n        personalTraits,\n        toField,\n        fromField,\n        userEmail,\n        finalCardMessage: messageGeneration.finalCardMessage,\n        isHandwrittenMessage,\n        isFrontBackOnly,\n        referenceImageUrls: fileHandling.referenceImageUrls,\n        photoReferences: fileHandling.photoReferences,\n        relationshipField,\n        saveJobToStorage: jobManagement.saveJobToStorage,\n        subscribeToJob: webSocket.subscribeToJob,\n        unsubscribeFromAllJobs: webSocket.unsubscribeFromAllJobs,\n        startElapsedTimeTracking: jobManagement.startElapsedTimeTracking,\n        stopElapsedTimeTracking: jobManagement.stopElapsedTimeTracking\n    };\n    const draftGeneration = (0,_cardStudio_useDraftGeneration__WEBPACK_IMPORTED_MODULE_6__.useDraftGeneration)(draftGenerationProps);\n    // Card generation props\n    const cardGenerationProps = {\n        selectedType,\n        customCardType,\n        selectedTone,\n        selectedArtisticStyle,\n        customStyleDescription,\n        selectedImageModel,\n        selectedPaperSize,\n        prompt,\n        personalTraits,\n        toField,\n        fromField,\n        userEmail,\n        finalCardMessage: messageGeneration.finalCardMessage,\n        isHandwrittenMessage,\n        isFrontBackOnly,\n        referenceImageUrls: fileHandling.referenceImageUrls,\n        photoReferences: fileHandling.photoReferences,\n        relationshipField,\n        numberOfCards,\n        saveJobToStorage: jobManagement.saveJobToStorage,\n        removeJobFromStorage: jobManagement.removeJobFromStorage,\n        subscribeToJob: webSocket.subscribeToJob,\n        startElapsedTimeTracking: jobManagement.startElapsedTimeTracking,\n        stopElapsedTimeTracking: jobManagement.stopElapsedTimeTracking,\n        setCurrentJobId: jobManagement.setCurrentJobId,\n        setIsDraftMode: draftGeneration.setIsDraftMode,\n        setDraftCards: draftGeneration.setDraftCards,\n        setSelectedDraftIndex: draftGeneration.setSelectedDraftIndex,\n        setIsGeneratingFinalCard: draftGeneration.setIsGeneratingFinalCard,\n        setPreviewingDraftIndex: draftGeneration.setPreviewingDraftIndex,\n        setDraftCompletionShown: draftGeneration.setDraftCompletionShown,\n        setDraftCompletionCount: draftGeneration.setDraftCompletionCount\n    };\n    const cardGeneration = (0,_cardStudio_useCardGeneration__WEBPACK_IMPORTED_MODULE_7__.useCardGeneration)(cardGenerationProps);\n    // Handle job updates from WebSocket\n    const handleJobUpdate = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((data)=>{\n        const { job_id, status, progress, cardData, error, completedAt } = data;\n        if (!job_id) return;\n        // Skip updates if we're still restoring jobs from localStorage\n        if (isRestoringJobs) {\n            console.log(\"⏳ Skipping job update during restoration:\", job_id);\n            return;\n        }\n        // Check if this is a draft job\n        const isDraftJob = job_id.startsWith(\"draft-\");\n        const draftIndex = isDraftJob ? parseInt(job_id.split(\"-\")[1]) : -1;\n        // Filter out updates from wrong job type\n        // If we're in draft mode, only process draft jobs\n        // If we're in final mode, only process non-draft jobs\n        const isInDraftMode = draftGeneration.isDraftMode;\n        if (isInDraftMode && !isDraftJob) {\n            console.log(\"\\uD83D\\uDEAB Ignoring non-draft job update in draft mode:\", job_id);\n            return;\n        }\n        if (!isInDraftMode && isDraftJob) {\n            console.log(\"\\uD83D\\uDEAB Ignoring draft job update in final mode:\", job_id);\n            return;\n        }\n        console.log(\"\\uD83D\\uDD04 Processing job update:\", {\n            job_id,\n            status,\n            isDraftJob,\n            draftIndex,\n            progress\n        });\n        // Handle status transitions\n        if (status === \"processing\" && !cardGeneration.isGenerating && !draftGeneration.isGenerating) {\n            console.log(\"\\uD83D\\uDD04 Job is processing, setting generation state\");\n            if (isDraftJob) {\n                draftGeneration.setIsGenerating(true);\n                draftGeneration.setIsDraftMode(true);\n                jobManagement.startElapsedTimeTracking(\"draft\");\n            } else {\n                cardGeneration.setIsGenerating(true);\n                jobManagement.startElapsedTimeTracking(\"final\");\n            }\n        }\n        // Update progress if provided\n        if (progress) {\n            // IMPORTANT: Don't show \"Generation complete!\" until we've actually processed the card\n            // This prevents the UI from showing completion before the card is ready\n            if (progress.includes(\"Generation complete!\") && status === \"completed\" && !isDraftJob) {\n                console.log('⏸️ Holding \"Generation complete!\" message until card is processed');\n            // Don't update the progress message yet - it will be set in handleFinalCardCompletion\n            } else {\n                cardGeneration.setGenerationProgress(progress);\n                draftGeneration.setGenerationProgress(progress);\n                console.log(`📊 Progress message: ${progress}`);\n            }\n        }\n        if (status === \"completed\" && cardData) {\n            console.log(\"\\uD83C\\uDF89 Job completed! Card data:\", cardData, \"isDraftJob:\", isDraftJob);\n            // If this is the first update for a recovery job, ensure generation state is set properly\n            if (isDraftJob && !draftGeneration.isGenerating && draftGeneration.draftCards.filter(Boolean).length === 0) {\n                console.log(\"\\uD83D\\uDCE5 Recovered completed draft job - not setting as generating\");\n            // Don't set isGenerating for already completed jobs during recovery\n            }\n            if (isDraftJob && draftIndex >= 0) {\n                // Handle draft card completion\n                console.log(`🎨 Draft variation ${draftIndex + 1} completed!`);\n                // Get style info for smart style mode\n                let styleInfo = undefined;\n                if (selectedArtisticStyle === \"ai-smart-style\") {\n                    const predefinedStyles = [\n                        \"watercolor\",\n                        \"botanical\",\n                        \"comic-book\",\n                        \"dreamy-fantasy\",\n                        \"minimalist\"\n                    ];\n                    const styleLabels = [\n                        \"\\uD83C\\uDFA8 Watercolor\",\n                        \"\\uD83C\\uDF3F Botanical\",\n                        \"\\uD83D\\uDCA5 Comic Book\",\n                        \"\\uD83C\\uDF38 Dreamy Fantasy\",\n                        \"✨ Minimalist\"\n                    ];\n                    if (draftIndex >= 0 && draftIndex < predefinedStyles.length) {\n                        styleInfo = {\n                            styleName: predefinedStyles[draftIndex],\n                            styleLabel: styleLabels[draftIndex]\n                        };\n                    }\n                }\n                const draftCard = {\n                    id: `draft-${draftIndex + 1}-${Date.now()}`,\n                    prompt: cardData.prompt || `Draft Variation ${draftIndex + 1}`,\n                    frontCover: cardData.frontCover || \"\",\n                    backCover: cardData.backCover || \"\",\n                    leftPage: cardData.leftInterior || cardData.leftPage || \"\",\n                    rightPage: cardData.rightInterior || cardData.rightPage || \"\",\n                    createdAt: new Date(),\n                    generatedPrompts: cardData.generatedPrompts || {\n                        frontCover: cardData.generatedPrompts?.frontCover || \"\",\n                        backCover: cardData.generatedPrompts?.backCover || \"\",\n                        leftInterior: cardData.generatedPrompts?.leftInterior || \"\",\n                        rightInterior: cardData.generatedPrompts?.rightInterior || \"\"\n                    },\n                    styleInfo: styleInfo\n                };\n                // Simplified draft tracking - use fixed array positions\n                draftGeneration.setDraftCards((prev)=>{\n                    const updated = [\n                        ...prev\n                    ];\n                    // Ensure array has 5 slots\n                    while(updated.length < 5){\n                        updated.push(null);\n                    }\n                    // Place draft at its correct index\n                    updated[draftIndex] = draftCard;\n                    console.log(`✅ Draft ${draftIndex + 1} completed and stored at index ${draftIndex}`);\n                    // No longer save individual drafts to localStorage\n                    return updated;\n                });\n                // Simplified completion tracking - count the updated array including the new draft\n                const updatedDrafts = [\n                    ...draftGeneration.draftCards\n                ];\n                updatedDrafts[draftIndex] = draftCard;\n                const completedCount = updatedDrafts.filter(Boolean).length;\n                console.log(`📊 Draft progress: ${completedCount}/5 variations complete`);\n                // Update progress\n                const progressMsg = completedCount === 5 ? \"All 5 variations ready! Choose your favorite below.\" : `${completedCount}/5 variations complete...${completedCount >= 2 ? \" You can select one now!\" : \"\"}`;\n                draftGeneration.setGenerationProgress(progressMsg);\n                // Override time-based progress with real progress when drafts complete\n                // Don't override time-based progress\n                console.log(`🎨 Draft ${completedCount}/5 completed`);\n                // Handle milestones\n                if (completedCount === 1) {\n                    (0,_cardStudio_utils__WEBPACK_IMPORTED_MODULE_9__.scrollToCardPreview)();\n                }\n                if (completedCount === 5 && !draftGeneration.isGeneratingFinalCard) {\n                    draftGeneration.setIsGenerating(false);\n                    jobManagement.stopElapsedTimeTracking();\n                    sonner__WEBPACK_IMPORTED_MODULE_1__.toast.success(\"\\uD83C\\uDFA8 All 5 front cover variations ready! Choose your favorite below.\");\n                }\n                // Keep draft jobs in storage for later retrieval\n                // Only unsubscribe from WebSocket\n                webSocket.unsubscribeFromJob(job_id);\n                console.log(`✅ Keeping draft job ${job_id} in storage for future access`);\n            } else {\n                // Handle final card completion\n                console.log(\"\\uD83D\\uDD0D Final card completion detected. Card data structure:\", {\n                    hasCardData: !!cardData,\n                    cardDataKeys: Object.keys(cardData || {}),\n                    frontCover: cardData?.frontCover ? \"Present\" : \"Missing\",\n                    backCover: cardData?.backCover ? \"Present\" : \"Missing\",\n                    leftInterior: cardData?.leftInterior ? \"Present\" : \"Missing\",\n                    rightInterior: cardData?.rightInterior ? \"Present\" : \"Missing\",\n                    leftPage: cardData?.leftPage ? \"Present\" : \"Missing\",\n                    rightPage: cardData?.rightPage ? \"Present\" : \"Missing\"\n                });\n                console.log(\"\\uD83D\\uDCDD Full card data:\", JSON.stringify(cardData, null, 2));\n                // Map backend field names to frontend field names\n                const mappedCardData = {\n                    ...cardData,\n                    leftInterior: cardData.leftInterior || cardData.leftPage,\n                    rightInterior: cardData.rightInterior || cardData.rightPage,\n                    // Keep original fields for backward compatibility\n                    leftPage: cardData.leftPage || cardData.leftInterior,\n                    rightPage: cardData.rightPage || cardData.rightInterior\n                };\n                console.log(\"\\uD83D\\uDD04 Mapped card data for frontend compatibility:\", {\n                    frontCover: mappedCardData.frontCover ? \"Present\" : \"Missing\",\n                    backCover: mappedCardData.backCover ? \"Present\" : \"Missing\",\n                    leftInterior: mappedCardData.leftInterior ? \"Present\" : \"Missing\",\n                    rightInterior: mappedCardData.rightInterior ? \"Present\" : \"Missing\"\n                });\n                // Call the completion handler\n                console.log(\"\\uD83D\\uDE80 Calling handleFinalCardCompletion...\");\n                cardGeneration.handleFinalCardCompletion(mappedCardData);\n                // Card is automatically added to recent cards by markJobComplete\n                // Only clear recovery if we're not in the middle of restoring\n                if (!isRestoringJobs) {\n                    jobManagement.removeJobFromStorage(job_id);\n                }\n                jobManagement.setCurrentJobId(null);\n                webSocket.unsubscribeFromJob(job_id);\n            }\n        } else if (status === \"failed\") {\n            console.error(\"❌ Job failed:\", error);\n            if (isDraftJob && draftIndex >= 0) {\n                sonner__WEBPACK_IMPORTED_MODULE_1__.toast.error(`Draft variation ${draftIndex + 1} failed. Continuing with others...`);\n            } else {\n                sonner__WEBPACK_IMPORTED_MODULE_1__.toast.error(\"❌ Card generation failed. Please try again.\");\n                cardGeneration.setIsGenerating(false);\n                draftGeneration.setIsGeneratingFinalCard(false);\n                jobManagement.stopElapsedTimeTracking();\n                cardGeneration.setGenerationProgress(\"\");\n                // Don't reset progress - let time-based progress continue\n                // jobManagement.setProgressPercentage(0);\n                jobManagement.setCurrentJobId(null);\n                webSocket.unsubscribeFromJob(job_id);\n            }\n            // Only clear recovery if we're not in the middle of restoring\n            if (!isRestoringJobs) {\n                jobManagement.removeJobFromStorage(job_id);\n            }\n        } else if (status === \"not_found\") {\n            console.warn(\"⚠️ Job not found on server, cleaning up stale reference:\", job_id);\n            // Clean up stale job reference\n            if (webSocket.currentJobRef.current === job_id) {\n                webSocket.currentJobRef.current = null;\n            }\n            // Reset UI state if this was the current job\n            if (jobManagement.currentJobId === job_id) {\n                jobManagement.setCurrentJobId(null);\n                cardGeneration.setIsGenerating(false);\n                draftGeneration.setIsGeneratingFinalCard(false);\n                cardGeneration.setGenerationProgress(\"\");\n                // Don't reset progress - let time-based progress continue\n                // jobManagement.setProgressPercentage(0);\n                jobManagement.stopElapsedTimeTracking();\n            }\n            // Clean up storage\n            // Only clear recovery if we're not in the middle of restoring\n            if (!isRestoringJobs) {\n                jobManagement.removeJobFromStorage(job_id);\n            }\n            webSocket.unsubscribeFromJob(job_id);\n        }\n    }, [\n        selectedArtisticStyle,\n        draftGeneration,\n        cardGeneration,\n        jobManagement,\n        webSocket,\n        isRestoringJobs\n    ]);\n    // Set up WebSocket job update handler\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        webSocket.setJobUpdateHandler(handleJobUpdate);\n    }, [\n        webSocket,\n        handleJobUpdate\n    ]);\n    // Track if we've already logged the stale job message\n    const staleJobLoggedRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(false);\n    // Auto-reconnect WebSocket if disconnected during active generation\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        if (!webSocket.isSocketConnected && (cardGeneration.isGenerating || draftGeneration.isGeneratingFinalCard) && webSocket.currentJobRef.current) {\n            // Check if the generation has been running for more than 5 minutes\n            if (jobManagement.generationStartTime) {\n                const jobAge = Date.now() - jobManagement.generationStartTime;\n                if (jobAge > 5 * 60 * 1000) {\n                    if (!staleJobLoggedRef.current) {\n                        console.log(\"⏰ Job is older than 5 minutes, stopping reconnection attempts\");\n                        staleJobLoggedRef.current = true;\n                        // Clean up stale job\n                        const jobId = webSocket.currentJobRef.current;\n                        if (jobId) {\n                            console.log(\"\\uD83E\\uDDF9 Cleaning up stale job:\", jobId);\n                            // Remove from localStorage (only if not a draft job)\n                            if (!jobId.startsWith(\"draft-\")) {\n                                jobManagement.removeJobFromStorage(jobId);\n                            }\n                            // Reset generation states\n                            cardGeneration.setIsGenerating(false);\n                            draftGeneration.setIsGeneratingFinalCard(false);\n                            draftGeneration.setIsDraftMode(false);\n                            draftGeneration.setDraftCards([]);\n                            draftGeneration.setDraftCompletionCount(0);\n                            draftGeneration.setDraftCompletionShown(false);\n                            jobManagement.setCurrentJobId(null);\n                            jobManagement.setGenerationProgress(\"\");\n                            // Don't reset progress - let time-based progress continue\n                            // jobManagement.setProgressPercentage(0);\n                            jobManagement.stopElapsedTimeTracking();\n                            // Unsubscribe from job\n                            webSocket.unsubscribeFromJob(jobId);\n                            // Show error toast\n                            sonner__WEBPACK_IMPORTED_MODULE_1__.toast.error(\"Card generation timed out. Please try again.\");\n                        }\n                    }\n                    return;\n                }\n            }\n            console.log(\"\\uD83D\\uDD04 WebSocket disconnected during generation, attempting reconnect...\");\n            const reconnectTimer = setTimeout(()=>{\n                webSocket.connectWebSocket();\n                // Re-subscribe to current job after reconnection\n                const jobId = webSocket.currentJobRef.current;\n                if (jobId) {\n                    setTimeout(()=>{\n                        console.log(\"\\uD83D\\uDCE1 Re-subscribing to job after reconnect:\", jobId);\n                        webSocket.subscribeToJob(jobId);\n                    }, 1000);\n                }\n            }, 2000);\n            return ()=>clearTimeout(reconnectTimer);\n        }\n    }, [\n        webSocket,\n        cardGeneration.isGenerating,\n        draftGeneration.isGeneratingFinalCard,\n        jobManagement.generationStartTime\n    ]);\n    // Reset stale job flag when generation starts\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        if (cardGeneration.isGenerating || draftGeneration.isGeneratingFinalCard) {\n            staleJobLoggedRef.current = false;\n        }\n    }, [\n        cardGeneration.isGenerating,\n        draftGeneration.isGeneratingFinalCard\n    ]);\n    // Monitor for stale job updates\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        if ((cardGeneration.isGenerating || draftGeneration.isGeneratingFinalCard) && webSocket.currentJobRef.current) {\n            const checkInterval = setInterval(async ()=>{\n                const timeSinceLastUpdate = Date.now() - webSocket.lastJobUpdateRef.current;\n                const jobId = webSocket.currentJobRef.current;\n                // Very aggressive checking when at 95%+ progress\n                if (jobManagement.progressPercentage >= 95 && timeSinceLastUpdate > 5000) {\n                    console.warn(`⚠️ No updates for ${Math.round(timeSinceLastUpdate / 1000)}s at ${jobManagement.progressPercentage}% progress - checking job status...`);\n                    if (jobId) {\n                        try {\n                            const response = await fetch(`/api/job-status/${jobId}`);\n                            if (response.ok) {\n                                const jobStatus = await response.json();\n                                console.log(\"\\uD83D\\uDCCA Direct job status check:\", jobStatus);\n                                if (jobStatus.status === \"completed\" && jobStatus.cardData) {\n                                    console.log(\"✅ Job is actually completed! Processing result...\");\n                                    handleJobUpdate({\n                                        job_id: jobId,\n                                        status: \"completed\",\n                                        progress: \"Card generation complete!\",\n                                        cardData: jobStatus.cardData\n                                    });\n                                    return; // Exit early on completion\n                                }\n                            }\n                        } catch (error) {\n                            console.error(\"Failed to check job status:\", error);\n                        }\n                    }\n                } else if (jobManagement.progressPercentage >= 90 && timeSinceLastUpdate > 10000) {\n                    console.warn(`⚠️ No updates for ${Math.round(timeSinceLastUpdate / 1000)}s at ${jobManagement.progressPercentage}% progress`);\n                    if (jobId) {\n                        try {\n                            const response = await fetch(`/api/job-status/${jobId}`);\n                            if (response.ok) {\n                                const jobStatus = await response.json();\n                                console.log(\"\\uD83D\\uDCCA Direct job status check:\", jobStatus);\n                                if (jobStatus.status === \"completed\" && jobStatus.cardData) {\n                                    console.log(\"✅ Job is actually completed! Processing result...\");\n                                    handleJobUpdate({\n                                        job_id: jobId,\n                                        status: \"completed\",\n                                        progress: \"Card generation complete!\",\n                                        cardData: jobStatus.cardData\n                                    });\n                                    return; // Exit early on completion\n                                }\n                            }\n                        } catch (error) {\n                            console.error(\"Failed to check job status:\", error);\n                        }\n                    }\n                }\n                // Standard stale update check\n                if (timeSinceLastUpdate > 30000) {\n                    console.warn(\"⚠️ No job updates for 30 seconds, checking connection...\");\n                    if (!webSocket.isSocketConnected) {\n                        console.log(\"\\uD83D\\uDD04 WebSocket disconnected, reconnecting...\");\n                        webSocket.connectWebSocket();\n                    } else if (jobId) {\n                        console.log(\"\\uD83D\\uDCE1 Re-subscribing to job due to stale updates:\", jobId);\n                        webSocket.subscribeToJob(jobId);\n                    }\n                    // Reset the timer\n                    webSocket.lastJobUpdateRef.current = Date.now();\n                }\n            }, 3000); // Check every 3 seconds for faster detection at high progress\n            return ()=>clearInterval(checkInterval);\n        }\n    }, [\n        cardGeneration.isGenerating,\n        draftGeneration.isGeneratingFinalCard,\n        webSocket,\n        jobManagement.progressPercentage,\n        handleJobUpdate\n    ]);\n    // Simplified job restoration using new storage manager\n    const checkPendingJobs = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(async ()=>{\n        console.log(\"\\uD83D\\uDD04 Checking for recovery data...\");\n        setIsRestoringJobs(true);\n        // Check for active recovery job\n        const recovery = _lib_storageManager__WEBPACK_IMPORTED_MODULE_10__.storage.getRecovery();\n        if (!recovery) {\n            console.log(\"✅ No active job to recover\");\n            setIsRestoringJobs(false);\n            return;\n        }\n        console.log(\"\\uD83D\\uDD04 Found recovery data:\", recovery);\n        // In our simplified system, we only track one active job at a time\n        // Recovery is meant for browser crashes during generation\n        const isRecoveryDraft = recovery.jobId?.startsWith(\"draft-\");\n        if (isRecoveryDraft) {\n            console.log(\"\\uD83C\\uDFA8 Recovering from draft generation\");\n            // For draft recovery, we can't restore the exact state\n            // User will need to restart the draft generation\n            setIsRestoringJobs(false);\n            return;\n        }\n        // For final card recovery, we can try to restore the job\n        console.log(\"\\uD83C\\uDFAF Recovering from final card generation\");\n        // Restore generation state\n        jobManagement.setCurrentJobId(recovery.jobId);\n        cardGeneration.setIsGenerating(true);\n        cardGeneration.setGenerationProgress(\"\\uD83D\\uDD04 Resuming generation...\");\n        jobManagement.startElapsedTimeTracking(\"final\");\n        // Subscribe to the job to get updates\n        webSocket.subscribeToJob(recovery.jobId);\n        setIsRestoringJobs(false);\n    }, [\n        webSocket,\n        _lib_storageManager__WEBPACK_IMPORTED_MODULE_10__.storage\n    ]);\n    // Load recovery data on component mount\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        console.log(\"\\uD83D\\uDE80 useCardStudio mounted, checking for recovery...\");\n        // Check for active recovery job\n        const recovery = _lib_storageManager__WEBPACK_IMPORTED_MODULE_10__.storage.getRecovery();\n        console.log(\"\\uD83D\\uDCE6 Recovery data:\", recovery);\n        if (recovery) {\n            console.log(\"\\uD83D\\uDD04 Found active job to recover:\", recovery.jobId);\n            // For draft jobs, check if we already have completed drafts\n            const isDraft = recovery.jobId.startsWith(\"draft-\");\n            if (isDraft) {\n                // Check if we already have completed draft cards\n                const hasCompletedDrafts = draftGeneration.draftCards.filter((card)=>card !== null).length > 0;\n                if (hasCompletedDrafts) {\n                    console.log(\"✅ Draft job already completed, not setting as generating\");\n                    // Just restore the job ID for reference, but don't set as generating\n                    jobManagement.setCurrentJobId(recovery.jobId);\n                    draftGeneration.setIsDraftMode(true);\n                } else {\n                    console.log(\"\\uD83C\\uDFA8 Resuming incomplete draft generation\");\n                    // Subscribe to the job to check its status\n                    jobManagement.setCurrentJobId(recovery.jobId);\n                    webSocket.subscribeToJob(recovery.jobId);\n                    draftGeneration.setIsDraftMode(true);\n                    // Don't set as generating yet - wait for WebSocket to tell us the actual status\n                    // This prevents navigation to Step 5 for already completed jobs\n                    console.log(\"⏳ Waiting for job status update before setting generation state...\");\n                }\n            } else {\n                // For final card recovery, check if already completed\n                if (cardGeneration.generatedCard && cardGeneration.isCardCompleted) {\n                    console.log(\"✅ Final card already completed, not setting as generating\");\n                    jobManagement.setCurrentJobId(recovery.jobId);\n                } else {\n                    console.log(\"\\uD83C\\uDFAF Resuming incomplete final card generation\");\n                    jobManagement.setCurrentJobId(recovery.jobId);\n                    webSocket.subscribeToJob(recovery.jobId);\n                    cardGeneration.setIsGenerating(true);\n                    cardGeneration.setGenerationProgress(\"\\uD83C\\uDFA8 Resuming card generation...\");\n                    jobManagement.startElapsedTimeTracking(\"final\");\n                    // If this is a final card generation from a draft, set the appropriate state\n                    if (recovery.formData && recovery.formData.selectedDraftIndex !== undefined) {\n                        draftGeneration.setIsGeneratingFinalCard(true);\n                        draftGeneration.setSelectedDraftIndex(recovery.formData.selectedDraftIndex);\n                    }\n                }\n            }\n        }\n        // Always mark restoration as complete\n        setIsRestoringJobs(false);\n        // Mark restoration as complete after a small delay\n        setTimeout(()=>{\n            setIsRestoringJobs(false);\n        }, 100);\n    }, []);\n    // Return all the state and functions that the UI needs\n    return {\n        // Core state\n        prompt,\n        setPrompt,\n        finalCardMessage: messageGeneration.finalCardMessage,\n        setFinalCardMessage: messageGeneration.setFinalCardMessage,\n        toField,\n        setToField,\n        fromField,\n        setFromField,\n        relationshipField,\n        setRelationshipField,\n        personalTraits,\n        setPersonalTraits,\n        selectedType,\n        setSelectedType,\n        customCardType,\n        setCustomCardType,\n        selectedTone,\n        setSelectedTone,\n        isGenerating: cardGeneration.isGenerating || draftGeneration.isGenerating,\n        setIsGenerating: cardGeneration.setIsGenerating,\n        isGeneratingMessage: messageGeneration.isGeneratingMessage,\n        setIsGeneratingMessage: messageGeneration.setIsGeneratingMessage,\n        generatedCard: cardGeneration.generatedCard,\n        setGeneratedCard: cardGeneration.setGeneratedCard,\n        numberOfCards,\n        setNumberOfCards,\n        generatedCards: cardGeneration.generatedCards,\n        setGeneratedCards: cardGeneration.setGeneratedCards,\n        selectedCardIndex: cardGeneration.selectedCardIndex,\n        setSelectedCardIndex: cardGeneration.setSelectedCardIndex,\n        // Advanced options\n        showAdvanced,\n        setShowAdvanced,\n        selectedArtisticStyle,\n        setSelectedArtisticStyle,\n        customStyleDescription,\n        setCustomStyleDescription,\n        selectedImageModel,\n        setSelectedImageModel,\n        selectedDraftModel,\n        setSelectedDraftModel,\n        // Draft mode\n        isDraftMode: draftGeneration.isDraftMode,\n        setIsDraftMode: draftGeneration.setIsDraftMode,\n        draftCards: draftGeneration.draftCards,\n        setDraftCards: draftGeneration.setDraftCards,\n        selectedDraftIndex: draftGeneration.selectedDraftIndex,\n        setSelectedDraftIndex: draftGeneration.setSelectedDraftIndex,\n        isGeneratingFinalCard: draftGeneration.isGeneratingFinalCard,\n        setIsGeneratingFinalCard: draftGeneration.setIsGeneratingFinalCard,\n        previewingDraftIndex: draftGeneration.previewingDraftIndex,\n        setPreviewingDraftIndex: draftGeneration.setPreviewingDraftIndex,\n        draftCompletionShown: draftGeneration.draftCompletionShown,\n        setDraftCompletionShown: draftGeneration.setDraftCompletionShown,\n        draftCompletionCount: draftGeneration.draftCompletionCount,\n        setDraftCompletionCount: draftGeneration.setDraftCompletionCount,\n        // Progress tracking\n        generationProgress: draftGeneration.isGenerating ? draftGeneration.generationProgress : cardGeneration.generationProgress,\n        setGenerationProgress: cardGeneration.setGenerationProgress,\n        progressPercentage: jobManagement.progressPercentage,\n        setProgressPercentage: jobManagement.setProgressPercentage,\n        isCardCompleted: cardGeneration.isCardCompleted,\n        setIsCardCompleted: cardGeneration.setIsCardCompleted,\n        // Upload and personalization\n        referenceImages: fileHandling.referenceImages,\n        setReferenceImages: fileHandling.setReferenceImages,\n        referenceImageUrls: fileHandling.referenceImageUrls,\n        setReferenceImageUrls: fileHandling.setReferenceImageUrls,\n        isUploading: fileHandling.isUploading,\n        setIsUploading: fileHandling.setIsUploading,\n        // Email and settings\n        userEmail,\n        setUserEmail,\n        isHandwrittenMessage,\n        setIsHandwrittenMessage,\n        isFrontBackOnly,\n        setIsFrontBackOnly,\n        selectedPaperSize,\n        setSelectedPaperSize,\n        // UI state\n        isTextareaExpanded,\n        setIsTextareaExpanded,\n        isMessageExpanded,\n        setIsMessageExpanded,\n        showSettings,\n        setShowSettings,\n        showTemplateGallery,\n        setShowTemplateGallery,\n        showPrintConfirmation,\n        setShowPrintConfirmation,\n        // Generation time\n        generationDuration: cardGeneration.generationDuration,\n        setGenerationDuration: cardGeneration.setGenerationDuration,\n        currentElapsedTime: jobManagement.currentElapsedTime,\n        // Helper functions\n        formatGenerationTime: _cardStudio_constants__WEBPACK_IMPORTED_MODULE_8__.formatGenerationTime,\n        formatCountdown: _cardStudio_constants__WEBPACK_IMPORTED_MODULE_8__.formatCountdown,\n        sendThankYouEmail: _cardStudio_utils__WEBPACK_IMPORTED_MODULE_9__.sendThankYouEmail,\n        chatWithAI: _cardStudio_utils__WEBPACK_IMPORTED_MODULE_9__.chatWithAI,\n        scrollToCardPreview: _cardStudio_utils__WEBPACK_IMPORTED_MODULE_9__.scrollToCardPreview,\n        // Time tracking functions\n        startElapsedTimeTracking: jobManagement.startElapsedTimeTracking,\n        stopElapsedTimeTracking: jobManagement.stopElapsedTimeTracking,\n        // File handling functions\n        handleFileUpload: fileHandling.handleFileUpload,\n        handleRemoveReferenceImage: fileHandling.handleRemoveReferenceImage,\n        // Simplified photo references\n        photoReferences: fileHandling.photoReferences,\n        setPhotoReferences: fileHandling.setPhotoReferences,\n        updatePhotoDescription: fileHandling.updatePhotoDescription,\n        // Message functions\n        handleGetMessageHelp: messageGeneration.handleGetMessageHelp,\n        addMessageToHistory: messageGeneration.addMessageToHistory,\n        undoMessage: messageGeneration.undoMessage,\n        redoMessage: messageGeneration.redoMessage,\n        // Job management\n        saveJobToStorage: jobManagement.saveJobToStorage,\n        removeJobFromStorage: jobManagement.removeJobFromStorage,\n        checkPendingJobs,\n        isRestoringJobs,\n        // Main generation functions\n        handleGenerateCardAsync: cardGeneration.handleGenerateCardAsync,\n        handleGenerateDraftCards: draftGeneration.handleGenerateDraftCards,\n        handleGenerateFinalFromDraft: draftGeneration.handleGenerateFinalFromDraft,\n        // Additional state for message refinement\n        messageHistory: messageGeneration.messageHistory,\n        setMessageHistory: messageGeneration.setMessageHistory,\n        currentMessageIndex: messageGeneration.currentMessageIndex,\n        setCurrentMessageIndex: messageGeneration.setCurrentMessageIndex,\n        refinementPrompt: messageGeneration.refinementPrompt,\n        setRefinementPrompt: messageGeneration.setRefinementPrompt,\n        isRefiningMessage: messageGeneration.isRefiningMessage,\n        setIsRefiningMessage: messageGeneration.setIsRefiningMessage,\n        showRefinementBox: messageGeneration.showRefinementBox,\n        setShowRefinementBox: messageGeneration.setShowRefinementBox,\n        // Template state\n        showTemplateCustomization,\n        setShowTemplateCustomization,\n        selectedTemplate,\n        setSelectedTemplate,\n        templateCustomizations,\n        setTemplateCustomizations,\n        templateSearchQuery,\n        setTemplateSearchQuery,\n        isSearchingTemplates,\n        setIsSearchingTemplates,\n        aiFilteredCards,\n        setAiFilteredCards,\n        searchMode,\n        setSearchMode,\n        textFilteredCards,\n        setTextFilteredCards,\n        showPrompts,\n        setShowPrompts,\n        // Print state\n        printOption,\n        setPrintOption,\n        // Additional draft mode state\n        handwritingSample: fileHandling.handwritingSample,\n        setHandwritingSample: fileHandling.setHandwritingSample,\n        handwritingSampleUrl: fileHandling.handwritingSampleUrl,\n        setHandwritingSampleUrl: fileHandling.setHandwritingSampleUrl,\n        // Job tracking\n        currentJobId: jobManagement.currentJobId,\n        setCurrentJobId: jobManagement.setCurrentJobId,\n        countdown,\n        setCountdown,\n        countdownInterval,\n        setCountdownInterval,\n        // Section loading states\n        sectionLoadingStates,\n        setSectionLoadingStates,\n        // Fast preview mode\n        fastPreviewMode,\n        setFastPreviewMode,\n        // Additional tracking\n        currentCardId: cardGeneration.currentCardId,\n        setCurrentCardId: cardGeneration.setCurrentCardId,\n        isInitialLoadComplete,\n        setIsInitialLoadComplete,\n        // Elapsed time tracking\n        generationStartTime: jobManagement.generationStartTime,\n        // Constants for UI\n        cardTones: _cardStudio_constants__WEBPACK_IMPORTED_MODULE_8__.cardTones,\n        artisticStyles: _cardStudio_constants__WEBPACK_IMPORTED_MODULE_8__.artisticStyles,\n        paperSizes: _cardStudio_constants__WEBPACK_IMPORTED_MODULE_8__.paperSizes,\n        // WebSocket functions and state\n        isSocketConnected: webSocket.isSocketConnected,\n        connectWebSocket: webSocket.connectWebSocket,\n        disconnectWebSocket: webSocket.disconnectWebSocket,\n        subscribeToJob: webSocket.subscribeToJob,\n        unsubscribeFromJob: webSocket.unsubscribeFromJob,\n        unsubscribeFromAllJobs: webSocket.unsubscribeFromAllJobs,\n        handleJobUpdate,\n        handleFinalCardCompletion: cardGeneration.handleFinalCardCompletion\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ob29rcy91c2VDYXJkU3R1ZGlvUmVmYWN0b3JlZC50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O21FQUVpRTtBQUNsQztBQUcvQix1QkFBdUI7QUFDa0M7QUFDa0I7QUFDRjtBQUNWO0FBQ007QUFDRjtBQUVuRSw2QkFBNkI7QUFRRztBQUN3RDtBQUN6QztBQUV4QyxTQUFTb0I7SUFDZCxrQkFBa0I7SUFDbEIsTUFBTSxDQUFDQyxRQUFRQyxVQUFVLEdBQUd0QiwrQ0FBUUEsQ0FBQztJQUNyQyxNQUFNLENBQUN1QixTQUFTQyxXQUFXLEdBQUd4QiwrQ0FBUUEsQ0FBQztJQUN2QyxNQUFNLENBQUN5QixXQUFXQyxhQUFhLEdBQUcxQiwrQ0FBUUEsQ0FBQztJQUMzQyxNQUFNLENBQUMyQixtQkFBbUJDLHFCQUFxQixHQUFHNUIsK0NBQVFBLENBQUM7SUFDM0QsTUFBTSxDQUFDNkIsZ0JBQWdCQyxrQkFBa0IsR0FBRzlCLCtDQUFRQSxDQUFDO0lBQ3JELE1BQU0sQ0FBQytCLGNBQWNDLGdCQUFnQixHQUFHaEMsK0NBQVFBLENBQVM7SUFDekQsTUFBTSxDQUFDaUMsZ0JBQWdCQyxrQkFBa0IsR0FBR2xDLCtDQUFRQSxDQUFTO0lBQzdELE1BQU0sQ0FBQ21DLGNBQWNDLGdCQUFnQixHQUFHcEMsK0NBQVFBLENBQVM7SUFFekQseUJBQXlCO0lBQ3pCLE1BQU0sQ0FBQ3FDLGNBQWNDLGdCQUFnQixHQUFHdEMsK0NBQVFBLENBQUM7SUFDakQsTUFBTSxDQUFDdUMsdUJBQXVCQyx5QkFBeUIsR0FBR3hDLCtDQUFRQSxDQUFTO0lBQzNFLE1BQU0sQ0FBQ3lDLHdCQUF3QkMsMEJBQTBCLEdBQUcxQywrQ0FBUUEsQ0FBUztJQUM3RSxNQUFNLENBQUMyQyxvQkFBb0JDLHNCQUFzQixHQUFHNUMsK0NBQVFBLENBQVM7SUFDckUsTUFBTSxDQUFDNkMsb0JBQW9CQyxzQkFBc0IsR0FBRzlDLCtDQUFRQSxDQUFTO0lBQ3JFLE1BQU0sQ0FBQytDLGlCQUFpQkMsbUJBQW1CLEdBQUdoRCwrQ0FBUUEsQ0FBVTtJQUVoRSxjQUFjO0lBQ2QsTUFBTSxDQUFDaUQsV0FBV0MsYUFBYSxHQUFHbEQsK0NBQVFBLENBQVM7SUFFbkQsZUFBZTtJQUNmLE1BQU0sQ0FBQ21ELGVBQWVDLGlCQUFpQixHQUFHcEQsK0NBQVFBLENBQVM7SUFDM0QsTUFBTSxDQUFDcUQsc0JBQXNCQyx3QkFBd0IsR0FBR3RELCtDQUFRQSxDQUFDO0lBQ2pFLE1BQU0sQ0FBQ3VELGlCQUFpQkMsbUJBQW1CLEdBQUd4RCwrQ0FBUUEsQ0FBQztJQUN2RCxNQUFNLENBQUN5RCxtQkFBbUJDLHFCQUFxQixHQUFHMUQsK0NBQVFBLENBQVM7SUFFbkUsV0FBVztJQUNYLE1BQU0sQ0FBQzJELG9CQUFvQkMsc0JBQXNCLEdBQUc1RCwrQ0FBUUEsQ0FBQztJQUM3RCxNQUFNLENBQUM2RCxtQkFBbUJDLHFCQUFxQixHQUFHOUQsK0NBQVFBLENBQUM7SUFDM0QsTUFBTSxDQUFDK0QsY0FBY0MsZ0JBQWdCLEdBQUdoRSwrQ0FBUUEsQ0FBQztJQUNqRCxNQUFNLENBQUNpRSxxQkFBcUJDLHVCQUF1QixHQUFHbEUsK0NBQVFBLENBQUM7SUFDL0QsTUFBTSxDQUFDbUUsdUJBQXVCQyx5QkFBeUIsR0FBR3BFLCtDQUFRQSxDQUFDO0lBQ25FLE1BQU0sQ0FBQ3FFLDJCQUEyQkMsNkJBQTZCLEdBQUd0RSwrQ0FBUUEsQ0FBQztJQUUzRSxvQkFBb0I7SUFDcEIsTUFBTSxDQUFDdUUsaUJBQWlCQyxtQkFBbUIsR0FBR3hFLCtDQUFRQSxDQUFDO0lBQ3ZELE1BQU0sQ0FBQ3lFLGtCQUFrQkMsb0JBQW9CLEdBQUcxRSwrQ0FBUUEsQ0FBdUI7SUFDL0UsTUFBTSxDQUFDMkUsdUJBQXVCQyx5QkFBeUIsR0FBRzVFLCtDQUFRQSxDQUFDO0lBRW5FLGlCQUFpQjtJQUNqQixNQUFNLENBQUM2RSxxQkFBcUJDLHVCQUF1QixHQUFHOUUsK0NBQVFBLENBQUM7SUFDL0QsTUFBTSxDQUFDK0Usc0JBQXNCQyx3QkFBd0IsR0FBR2hGLCtDQUFRQSxDQUFDO0lBQ2pFLE1BQU0sQ0FBQ2lGLGlCQUFpQkMsbUJBQW1CLEdBQUdsRiwrQ0FBUUEsQ0FBUSxFQUFFO0lBQ2hFLE1BQU0sQ0FBQ21GLFlBQVlDLGNBQWMsR0FBR3BGLCtDQUFRQSxDQUEyQjtJQUN2RSxNQUFNLENBQUNxRixtQkFBbUJDLHFCQUFxQixHQUFHdEYsK0NBQVFBLENBQVEsRUFBRTtJQUNwRSxNQUFNLENBQUN1RixhQUFhQyxlQUFlLEdBQUd4RiwrQ0FBUUEsQ0FBQztJQUMvQyxNQUFNLENBQUN5RixhQUFhQyxlQUFlLEdBQUcxRiwrQ0FBUUEsQ0FBdUI7SUFFckUsK0JBQStCO0lBQy9CLE1BQU0sQ0FBQzJGLHdCQUF3QkMsMEJBQTBCLEdBQUc1RiwrQ0FBUUEsQ0FBQztRQUNuRTZGLGVBQWU7UUFDZkMsZ0JBQWdCO1FBQ2hCQyxtQkFBbUI7UUFDbkJDLG9CQUFvQjtRQUNwQkMsb0JBQW9CLEVBQUU7UUFDdEJDLDhCQUE4QjtJQUNoQztJQUVBLHlCQUF5QjtJQUN6QixNQUFNLENBQUNDLHNCQUFzQkMsd0JBQXdCLEdBQUdwRywrQ0FBUUEsQ0FLN0Q7UUFDRHFHLFlBQVk7UUFDWkMsV0FBVztRQUNYQyxjQUFjO1FBQ2RDLGVBQWU7SUFDakI7SUFFQSxrQkFBa0I7SUFDbEIsTUFBTSxDQUFDQyxXQUFXQyxhQUFhLEdBQUcxRywrQ0FBUUEsQ0FBUztJQUNuRCxNQUFNLENBQUMyRyxtQkFBbUJDLHFCQUFxQixHQUFHNUcsK0NBQVFBLENBQXdCO0lBRWxGLG9CQUFvQjtJQUNwQixNQUFNNkcsWUFBWXhHLHNFQUFZQTtJQUM5QixNQUFNeUcsZ0JBQWdCeEcsd0ZBQWdCQTtJQUN0QyxNQUFNeUcsZUFBZXZHLDRFQUFlQTtJQUNwQyxNQUFNd0csb0JBQW9Cekcsc0ZBQW9CQSxDQUM1Q3dCLGNBQ0FFLGdCQUNBRSxjQUNBZCxRQUNBRSxTQUNBRSxXQUNBRSxtQkFDQW9GLGFBQWFFLGVBQWU7SUFHOUIseUJBQXlCO0lBQ3pCLE1BQU1DLHVCQUF1QjtRQUMzQm5GO1FBQ0FFO1FBQ0FFO1FBQ0FJO1FBQ0FFO1FBQ0FJO1FBQ0FGO1FBQ0FjO1FBQ0FwQztRQUNBUTtRQUNBTjtRQUNBRTtRQUNBd0I7UUFDQWtFLGtCQUFrQkgsa0JBQWtCRyxnQkFBZ0I7UUFDcEQ5RDtRQUNBRTtRQUNBMEMsb0JBQW9CYyxhQUFhZCxrQkFBa0I7UUFDbkRnQixpQkFBaUJGLGFBQWFFLGVBQWU7UUFDN0N0RjtRQUNBeUYsa0JBQWtCTixjQUFjTSxnQkFBZ0I7UUFDaERDLGdCQUFnQlIsVUFBVVEsY0FBYztRQUN4Q0Msd0JBQXdCVCxVQUFVUyxzQkFBc0I7UUFDeERDLDBCQUEwQlQsY0FBY1Msd0JBQXdCO1FBQ2hFQyx5QkFBeUJWLGNBQWNVLHVCQUF1QjtJQUNoRTtJQUVBLE1BQU1DLGtCQUFrQmhILGtGQUFrQkEsQ0FBQ3lHO0lBRTNDLHdCQUF3QjtJQUN4QixNQUFNUSxzQkFBc0I7UUFDMUIzRjtRQUNBRTtRQUNBRTtRQUNBSTtRQUNBRTtRQUNBRTtRQUNBYztRQUNBcEM7UUFDQVE7UUFDQU47UUFDQUU7UUFDQXdCO1FBQ0FrRSxrQkFBa0JILGtCQUFrQkcsZ0JBQWdCO1FBQ3BEOUQ7UUFDQUU7UUFDQTBDLG9CQUFvQmMsYUFBYWQsa0JBQWtCO1FBQ25EZ0IsaUJBQWlCRixhQUFhRSxlQUFlO1FBQzdDdEY7UUFDQXdCO1FBQ0FpRSxrQkFBa0JOLGNBQWNNLGdCQUFnQjtRQUNoRE8sc0JBQXNCYixjQUFjYSxvQkFBb0I7UUFDeEROLGdCQUFnQlIsVUFBVVEsY0FBYztRQUN4Q0UsMEJBQTBCVCxjQUFjUyx3QkFBd0I7UUFDaEVDLHlCQUF5QlYsY0FBY1UsdUJBQXVCO1FBQzlESSxpQkFBaUJkLGNBQWNjLGVBQWU7UUFDOUNDLGdCQUFnQkosZ0JBQWdCSSxjQUFjO1FBQzlDQyxlQUFlTCxnQkFBZ0JLLGFBQWE7UUFDNUNDLHVCQUF1Qk4sZ0JBQWdCTSxxQkFBcUI7UUFDNURDLDBCQUEwQlAsZ0JBQWdCTyx3QkFBd0I7UUFDbEVDLHlCQUF5QlIsZ0JBQWdCUSx1QkFBdUI7UUFDaEVDLHlCQUF5QlQsZ0JBQWdCUyx1QkFBdUI7UUFDaEVDLHlCQUF5QlYsZ0JBQWdCVSx1QkFBdUI7SUFDbEU7SUFFQSxNQUFNQyxpQkFBaUIxSCxnRkFBaUJBLENBQUNnSDtJQUV6QyxvQ0FBb0M7SUFDcEMsTUFBTVcsa0JBQWtCbkksa0RBQVdBLENBQUMsQ0FBQ29JO1FBQ25DLE1BQU0sRUFBRUMsTUFBTSxFQUFFQyxNQUFNLEVBQUVDLFFBQVEsRUFBRUMsUUFBUSxFQUFFQyxLQUFLLEVBQUVDLFdBQVcsRUFBRSxHQUFHTjtRQUVuRSxJQUFJLENBQUNDLFFBQVE7UUFFYiwrREFBK0Q7UUFDL0QsSUFBSWhFLGlCQUFpQjtZQUNuQnNFLFFBQVFDLEdBQUcsQ0FBQyw2Q0FBNkNQO1lBQ3pEO1FBQ0Y7UUFFQSwrQkFBK0I7UUFDL0IsTUFBTVEsYUFBYVIsT0FBT1MsVUFBVSxDQUFDO1FBQ3JDLE1BQU1DLGFBQWFGLGFBQWFHLFNBQVNYLE9BQU9ZLEtBQUssQ0FBQyxJQUFJLENBQUMsRUFBRSxJQUFJLENBQUM7UUFFbEUseUNBQXlDO1FBQ3pDLGtEQUFrRDtRQUNsRCxzREFBc0Q7UUFDdEQsTUFBTUMsZ0JBQWdCM0IsZ0JBQWdCNEIsV0FBVztRQUNqRCxJQUFJRCxpQkFBaUIsQ0FBQ0wsWUFBWTtZQUNoQ0YsUUFBUUMsR0FBRyxDQUFDLDZEQUFtRFA7WUFDL0Q7UUFDRjtRQUNBLElBQUksQ0FBQ2EsaUJBQWlCTCxZQUFZO1lBQ2hDRixRQUFRQyxHQUFHLENBQUMseURBQStDUDtZQUMzRDtRQUNGO1FBRUFNLFFBQVFDLEdBQUcsQ0FBQyx1Q0FBNkI7WUFBRVA7WUFBUUM7WUFBUU87WUFBWUU7WUFBWVI7UUFBUztRQUU1Riw0QkFBNEI7UUFDNUIsSUFBSUQsV0FBVyxnQkFBZ0IsQ0FBQ0osZUFBZWtCLFlBQVksSUFBSSxDQUFDN0IsZ0JBQWdCNkIsWUFBWSxFQUFFO1lBQzVGVCxRQUFRQyxHQUFHLENBQUM7WUFDWixJQUFJQyxZQUFZO2dCQUNkdEIsZ0JBQWdCOEIsZUFBZSxDQUFDO2dCQUNoQzlCLGdCQUFnQkksY0FBYyxDQUFDO2dCQUMvQmYsY0FBY1Msd0JBQXdCLENBQUM7WUFDekMsT0FBTztnQkFDTGEsZUFBZW1CLGVBQWUsQ0FBQztnQkFDL0J6QyxjQUFjUyx3QkFBd0IsQ0FBQztZQUN6QztRQUNGO1FBRUEsOEJBQThCO1FBQzlCLElBQUlrQixVQUFVO1lBQ1osdUZBQXVGO1lBQ3ZGLHdFQUF3RTtZQUN4RSxJQUFJQSxTQUFTZSxRQUFRLENBQUMsMkJBQTJCaEIsV0FBVyxlQUFlLENBQUNPLFlBQVk7Z0JBQ3RGRixRQUFRQyxHQUFHLENBQUM7WUFDWixzRkFBc0Y7WUFDeEYsT0FBTztnQkFDTFYsZUFBZXFCLHFCQUFxQixDQUFDaEI7Z0JBQ3JDaEIsZ0JBQWdCZ0MscUJBQXFCLENBQUNoQjtnQkFDdENJLFFBQVFDLEdBQUcsQ0FBQyxDQUFDLHFCQUFxQixFQUFFTCxTQUFTLENBQUM7WUFDaEQ7UUFDRjtRQUVBLElBQUlELFdBQVcsZUFBZUUsVUFBVTtZQUN0Q0csUUFBUUMsR0FBRyxDQUFDLDBDQUFnQ0osVUFBVSxlQUFlSztZQUVyRSwwRkFBMEY7WUFDMUYsSUFBSUEsY0FBYyxDQUFDdEIsZ0JBQWdCNkIsWUFBWSxJQUFJN0IsZ0JBQWdCaUMsVUFBVSxDQUFDQyxNQUFNLENBQUNDLFNBQVNDLE1BQU0sS0FBSyxHQUFHO2dCQUMxR2hCLFFBQVFDLEdBQUcsQ0FBQztZQUNaLG9FQUFvRTtZQUN0RTtZQUVBLElBQUlDLGNBQWNFLGNBQWMsR0FBRztnQkFDakMsK0JBQStCO2dCQUMvQkosUUFBUUMsR0FBRyxDQUFDLENBQUMsbUJBQW1CLEVBQUVHLGFBQWEsRUFBRSxXQUFXLENBQUM7Z0JBRTdELHNDQUFzQztnQkFDdEMsSUFBSWEsWUFBbUVDO2dCQUN2RSxJQUFJeEgsMEJBQTBCLGtCQUFrQjtvQkFDOUMsTUFBTXlILG1CQUFtQjt3QkFDdkI7d0JBQWM7d0JBQWE7d0JBQWM7d0JBQWtCO3FCQUM1RDtvQkFDRCxNQUFNQyxjQUFjO3dCQUNsQjt3QkFBaUI7d0JBQWdCO3dCQUFpQjt3QkFBcUI7cUJBQ3hFO29CQUNELElBQUloQixjQUFjLEtBQUtBLGFBQWFlLGlCQUFpQkgsTUFBTSxFQUFFO3dCQUMzREMsWUFBWTs0QkFDVkksV0FBV0YsZ0JBQWdCLENBQUNmLFdBQVc7NEJBQ3ZDa0IsWUFBWUYsV0FBVyxDQUFDaEIsV0FBVzt3QkFDckM7b0JBQ0Y7Z0JBQ0Y7Z0JBRUEsTUFBTW1CLFlBQTJCO29CQUMvQkMsSUFBSSxDQUFDLE1BQU0sRUFBRXBCLGFBQWEsRUFBRSxDQUFDLEVBQUVxQixLQUFLQyxHQUFHLEdBQUcsQ0FBQztvQkFDM0NsSixRQUFRcUgsU0FBU3JILE1BQU0sSUFBSSxDQUFDLGdCQUFnQixFQUFFNEgsYUFBYSxFQUFFLENBQUM7b0JBQzlENUMsWUFBWXFDLFNBQVNyQyxVQUFVLElBQUk7b0JBQ25DQyxXQUFXb0MsU0FBU3BDLFNBQVMsSUFBSTtvQkFDakNrRSxVQUFVOUIsU0FBU25DLFlBQVksSUFBSW1DLFNBQVM4QixRQUFRLElBQUk7b0JBQ3hEQyxXQUFXL0IsU0FBU2xDLGFBQWEsSUFBSWtDLFNBQVMrQixTQUFTLElBQUk7b0JBQzNEQyxXQUFXLElBQUlKO29CQUNmSyxrQkFBa0JqQyxTQUFTaUMsZ0JBQWdCLElBQUk7d0JBQzdDdEUsWUFBWXFDLFNBQVNpQyxnQkFBZ0IsRUFBRXRFLGNBQWM7d0JBQ3JEQyxXQUFXb0MsU0FBU2lDLGdCQUFnQixFQUFFckUsYUFBYTt3QkFDbkRDLGNBQWNtQyxTQUFTaUMsZ0JBQWdCLEVBQUVwRSxnQkFBZ0I7d0JBQ3pEQyxlQUFla0MsU0FBU2lDLGdCQUFnQixFQUFFbkUsaUJBQWlCO29CQUM3RDtvQkFDQXNELFdBQVdBO2dCQUNiO2dCQUVBLHdEQUF3RDtnQkFDeERyQyxnQkFBZ0JLLGFBQWEsQ0FBQzhDLENBQUFBO29CQUM1QixNQUFNQyxVQUFVOzJCQUFJRDtxQkFBSztvQkFDekIsMkJBQTJCO29CQUMzQixNQUFPQyxRQUFRaEIsTUFBTSxHQUFHLEVBQUc7d0JBQ3pCZ0IsUUFBUUMsSUFBSSxDQUFDO29CQUNmO29CQUNBLG1DQUFtQztvQkFDbkNELE9BQU8sQ0FBQzVCLFdBQVcsR0FBR21CO29CQUN0QnZCLFFBQVFDLEdBQUcsQ0FBQyxDQUFDLFFBQVEsRUFBRUcsYUFBYSxFQUFFLCtCQUErQixFQUFFQSxXQUFXLENBQUM7b0JBRW5GLG1EQUFtRDtvQkFFbkQsT0FBTzRCO2dCQUNUO2dCQUVBLG1GQUFtRjtnQkFDbkYsTUFBTUUsZ0JBQWdCO3VCQUFJdEQsZ0JBQWdCaUMsVUFBVTtpQkFBQztnQkFDckRxQixhQUFhLENBQUM5QixXQUFXLEdBQUdtQjtnQkFDNUIsTUFBTVksaUJBQWlCRCxjQUFjcEIsTUFBTSxDQUFDQyxTQUFTQyxNQUFNO2dCQUMzRGhCLFFBQVFDLEdBQUcsQ0FBQyxDQUFDLG1CQUFtQixFQUFFa0MsZUFBZSxzQkFBc0IsQ0FBQztnQkFFeEUsa0JBQWtCO2dCQUNsQixNQUFNQyxjQUFjRCxtQkFBbUIsSUFDbkMsd0RBQ0EsQ0FBQyxFQUFFQSxlQUFlLHlCQUF5QixFQUFFQSxrQkFBa0IsSUFBSSw2QkFBNkIsR0FBRyxDQUFDO2dCQUV4R3ZELGdCQUFnQmdDLHFCQUFxQixDQUFDd0I7Z0JBRXRDLHVFQUF1RTtnQkFDdkUscUNBQXFDO2dCQUNyQ3BDLFFBQVFDLEdBQUcsQ0FBQyxDQUFDLFNBQVMsRUFBRWtDLGVBQWUsWUFBWSxDQUFDO2dCQUVwRCxvQkFBb0I7Z0JBQ3BCLElBQUlBLG1CQUFtQixHQUFHO29CQUN4QjlKLHNFQUFtQkE7Z0JBQ3JCO2dCQUVBLElBQUk4SixtQkFBbUIsS0FBSyxDQUFDdkQsZ0JBQWdCeUQscUJBQXFCLEVBQUU7b0JBQ2xFekQsZ0JBQWdCOEIsZUFBZSxDQUFDO29CQUNoQ3pDLGNBQWNVLHVCQUF1QjtvQkFDckNwSCx5Q0FBS0EsQ0FBQytLLE9BQU8sQ0FBQztnQkFDaEI7Z0JBRUEsaURBQWlEO2dCQUNqRCxrQ0FBa0M7Z0JBQ2xDdEUsVUFBVXVFLGtCQUFrQixDQUFDN0M7Z0JBQzdCTSxRQUFRQyxHQUFHLENBQUMsQ0FBQyxvQkFBb0IsRUFBRVAsT0FBTyw2QkFBNkIsQ0FBQztZQUMxRSxPQUFPO2dCQUNMLCtCQUErQjtnQkFDL0JNLFFBQVFDLEdBQUcsQ0FBQyxxRUFBMkQ7b0JBQ3JFdUMsYUFBYSxDQUFDLENBQUMzQztvQkFDZjRDLGNBQWNDLE9BQU9DLElBQUksQ0FBQzlDLFlBQVksQ0FBQztvQkFDdkNyQyxZQUFZcUMsVUFBVXJDLGFBQWEsWUFBWTtvQkFDL0NDLFdBQVdvQyxVQUFVcEMsWUFBWSxZQUFZO29CQUM3Q0MsY0FBY21DLFVBQVVuQyxlQUFlLFlBQVk7b0JBQ25EQyxlQUFla0MsVUFBVWxDLGdCQUFnQixZQUFZO29CQUNyRGdFLFVBQVU5QixVQUFVOEIsV0FBVyxZQUFZO29CQUMzQ0MsV0FBVy9CLFVBQVUrQixZQUFZLFlBQVk7Z0JBQy9DO2dCQUNBNUIsUUFBUUMsR0FBRyxDQUFDLGdDQUFzQjJDLEtBQUtDLFNBQVMsQ0FBQ2hELFVBQVUsTUFBTTtnQkFFakUsa0RBQWtEO2dCQUNsRCxNQUFNaUQsaUJBQWlCO29CQUNyQixHQUFHakQsUUFBUTtvQkFDWG5DLGNBQWNtQyxTQUFTbkMsWUFBWSxJQUFJbUMsU0FBUzhCLFFBQVE7b0JBQ3hEaEUsZUFBZWtDLFNBQVNsQyxhQUFhLElBQUlrQyxTQUFTK0IsU0FBUztvQkFDM0Qsa0RBQWtEO29CQUNsREQsVUFBVTlCLFNBQVM4QixRQUFRLElBQUk5QixTQUFTbkMsWUFBWTtvQkFDcERrRSxXQUFXL0IsU0FBUytCLFNBQVMsSUFBSS9CLFNBQVNsQyxhQUFhO2dCQUN6RDtnQkFFQXFDLFFBQVFDLEdBQUcsQ0FBQyw2REFBbUQ7b0JBQzdEekMsWUFBWXNGLGVBQWV0RixVQUFVLEdBQUcsWUFBWTtvQkFDcERDLFdBQVdxRixlQUFlckYsU0FBUyxHQUFHLFlBQVk7b0JBQ2xEQyxjQUFjb0YsZUFBZXBGLFlBQVksR0FBRyxZQUFZO29CQUN4REMsZUFBZW1GLGVBQWVuRixhQUFhLEdBQUcsWUFBWTtnQkFDNUQ7Z0JBRUEsOEJBQThCO2dCQUM5QnFDLFFBQVFDLEdBQUcsQ0FBQztnQkFDWlYsZUFBZXdELHlCQUF5QixDQUFDRDtnQkFFekMsaUVBQWlFO2dCQUVqRSw4REFBOEQ7Z0JBQzlELElBQUksQ0FBQ3BILGlCQUFpQjtvQkFDcEJ1QyxjQUFjYSxvQkFBb0IsQ0FBQ1k7Z0JBQ3JDO2dCQUNBekIsY0FBY2MsZUFBZSxDQUFDO2dCQUM5QmYsVUFBVXVFLGtCQUFrQixDQUFDN0M7WUFDL0I7UUFDRixPQUFPLElBQUlDLFdBQVcsVUFBVTtZQUM5QkssUUFBUUYsS0FBSyxDQUFDLGlCQUFpQkE7WUFFL0IsSUFBSUksY0FBY0UsY0FBYyxHQUFHO2dCQUNqQzdJLHlDQUFLQSxDQUFDdUksS0FBSyxDQUFDLENBQUMsZ0JBQWdCLEVBQUVNLGFBQWEsRUFBRSxrQ0FBa0MsQ0FBQztZQUNuRixPQUFPO2dCQUNMN0kseUNBQUtBLENBQUN1SSxLQUFLLENBQUM7Z0JBQ1pQLGVBQWVtQixlQUFlLENBQUM7Z0JBQy9COUIsZ0JBQWdCTyx3QkFBd0IsQ0FBQztnQkFDekNsQixjQUFjVSx1QkFBdUI7Z0JBQ3JDWSxlQUFlcUIscUJBQXFCLENBQUM7Z0JBQ3JDLDBEQUEwRDtnQkFDMUQsMENBQTBDO2dCQUMxQzNDLGNBQWNjLGVBQWUsQ0FBQztnQkFDOUJmLFVBQVV1RSxrQkFBa0IsQ0FBQzdDO1lBQy9CO1lBRUEsOERBQThEO1lBQzlELElBQUksQ0FBQ2hFLGlCQUFpQjtnQkFDcEJ1QyxjQUFjYSxvQkFBb0IsQ0FBQ1k7WUFDckM7UUFDRixPQUFPLElBQUlDLFdBQVcsYUFBYTtZQUNqQ0ssUUFBUWdELElBQUksQ0FBQyw0REFBNER0RDtZQUV6RSwrQkFBK0I7WUFDL0IsSUFBSTFCLFVBQVVpRixhQUFhLENBQUNDLE9BQU8sS0FBS3hELFFBQVE7Z0JBQzlDMUIsVUFBVWlGLGFBQWEsQ0FBQ0MsT0FBTyxHQUFHO1lBQ3BDO1lBRUEsNkNBQTZDO1lBQzdDLElBQUlqRixjQUFja0YsWUFBWSxLQUFLekQsUUFBUTtnQkFDekN6QixjQUFjYyxlQUFlLENBQUM7Z0JBQzlCUSxlQUFlbUIsZUFBZSxDQUFDO2dCQUMvQjlCLGdCQUFnQk8sd0JBQXdCLENBQUM7Z0JBQ3pDSSxlQUFlcUIscUJBQXFCLENBQUM7Z0JBQ3JDLDBEQUEwRDtnQkFDMUQsMENBQTBDO2dCQUMxQzNDLGNBQWNVLHVCQUF1QjtZQUN2QztZQUVBLG1CQUFtQjtZQUNuQiw4REFBOEQ7WUFDOUQsSUFBSSxDQUFDakQsaUJBQWlCO2dCQUNwQnVDLGNBQWNhLG9CQUFvQixDQUFDWTtZQUNyQztZQUNBMUIsVUFBVXVFLGtCQUFrQixDQUFDN0M7UUFDL0I7SUFDRixHQUFHO1FBQUNoRztRQUF1QmtGO1FBQWlCVztRQUFnQnRCO1FBQWVEO1FBQVd0QztLQUFnQjtJQUV0RyxzQ0FBc0M7SUFDdEN0RSxnREFBU0EsQ0FBQztRQUNSNEcsVUFBVW9GLG1CQUFtQixDQUFDNUQ7SUFDaEMsR0FBRztRQUFDeEI7UUFBV3dCO0tBQWdCO0lBRS9CLHNEQUFzRDtJQUN0RCxNQUFNNkQsb0JBQW9CL0wsNkNBQU1BLENBQUM7SUFFakMsb0VBQW9FO0lBQ3BFRixnREFBU0EsQ0FBQztRQUNSLElBQUksQ0FBQzRHLFVBQVVzRixpQkFBaUIsSUFDM0IvRCxDQUFBQSxlQUFla0IsWUFBWSxJQUFJN0IsZ0JBQWdCeUQscUJBQXFCLEtBQ3JFckUsVUFBVWlGLGFBQWEsQ0FBQ0MsT0FBTyxFQUFFO1lBRW5DLG1FQUFtRTtZQUNuRSxJQUFJakYsY0FBY3NGLG1CQUFtQixFQUFFO2dCQUNyQyxNQUFNQyxTQUFTL0IsS0FBS0MsR0FBRyxLQUFLekQsY0FBY3NGLG1CQUFtQjtnQkFDN0QsSUFBSUMsU0FBUyxJQUFJLEtBQUssTUFBTTtvQkFDMUIsSUFBSSxDQUFDSCxrQkFBa0JILE9BQU8sRUFBRTt3QkFDOUJsRCxRQUFRQyxHQUFHLENBQUM7d0JBQ1pvRCxrQkFBa0JILE9BQU8sR0FBRzt3QkFFNUIscUJBQXFCO3dCQUNyQixNQUFNTyxRQUFRekYsVUFBVWlGLGFBQWEsQ0FBQ0MsT0FBTzt3QkFDN0MsSUFBSU8sT0FBTzs0QkFDVHpELFFBQVFDLEdBQUcsQ0FBQyx1Q0FBNkJ3RDs0QkFFekMscURBQXFEOzRCQUNyRCxJQUFJLENBQUNBLE1BQU10RCxVQUFVLENBQUMsV0FBVztnQ0FDL0JsQyxjQUFjYSxvQkFBb0IsQ0FBQzJFOzRCQUNyQzs0QkFFQSwwQkFBMEI7NEJBQzFCbEUsZUFBZW1CLGVBQWUsQ0FBQzs0QkFDL0I5QixnQkFBZ0JPLHdCQUF3QixDQUFDOzRCQUN6Q1AsZ0JBQWdCSSxjQUFjLENBQUM7NEJBQy9CSixnQkFBZ0JLLGFBQWEsQ0FBQyxFQUFFOzRCQUNoQ0wsZ0JBQWdCVSx1QkFBdUIsQ0FBQzs0QkFDeENWLGdCQUFnQlMsdUJBQXVCLENBQUM7NEJBQ3hDcEIsY0FBY2MsZUFBZSxDQUFDOzRCQUM5QmQsY0FBYzJDLHFCQUFxQixDQUFDOzRCQUNwQywwREFBMEQ7NEJBQ2hFLDBDQUEwQzs0QkFDcEMzQyxjQUFjVSx1QkFBdUI7NEJBRXJDLHVCQUF1Qjs0QkFDdkJYLFVBQVV1RSxrQkFBa0IsQ0FBQ2tCOzRCQUU3QixtQkFBbUI7NEJBQ25CbE0seUNBQUtBLENBQUN1SSxLQUFLLENBQUM7d0JBQ2Q7b0JBQ0Y7b0JBQ0E7Z0JBQ0Y7WUFDRjtZQUVBRSxRQUFRQyxHQUFHLENBQUM7WUFDWixNQUFNeUQsaUJBQWlCQyxXQUFXO2dCQUNoQzNGLFVBQVU0RixnQkFBZ0I7Z0JBRTFCLGlEQUFpRDtnQkFDakQsTUFBTUgsUUFBUXpGLFVBQVVpRixhQUFhLENBQUNDLE9BQU87Z0JBQzdDLElBQUlPLE9BQU87b0JBQ1RFLFdBQVc7d0JBQ1QzRCxRQUFRQyxHQUFHLENBQUMsdURBQTZDd0Q7d0JBQ3pEekYsVUFBVVEsY0FBYyxDQUFDaUY7b0JBQzNCLEdBQUc7Z0JBQ0w7WUFDRixHQUFHO1lBRUgsT0FBTyxJQUFNSSxhQUFhSDtRQUM1QjtJQUNGLEdBQUc7UUFBQzFGO1FBQVd1QixlQUFla0IsWUFBWTtRQUFFN0IsZ0JBQWdCeUQscUJBQXFCO1FBQUVwRSxjQUFjc0YsbUJBQW1CO0tBQUM7SUFFckgsOENBQThDO0lBQzlDbk0sZ0RBQVNBLENBQUM7UUFDUixJQUFJbUksZUFBZWtCLFlBQVksSUFBSTdCLGdCQUFnQnlELHFCQUFxQixFQUFFO1lBQ3hFZ0Isa0JBQWtCSCxPQUFPLEdBQUc7UUFDOUI7SUFDRixHQUFHO1FBQUMzRCxlQUFla0IsWUFBWTtRQUFFN0IsZ0JBQWdCeUQscUJBQXFCO0tBQUM7SUFFdkUsZ0NBQWdDO0lBQ2hDakwsZ0RBQVNBLENBQUM7UUFDUixJQUFJLENBQUNtSSxlQUFla0IsWUFBWSxJQUFJN0IsZ0JBQWdCeUQscUJBQXFCLEtBQ3JFckUsVUFBVWlGLGFBQWEsQ0FBQ0MsT0FBTyxFQUFFO1lBQ25DLE1BQU1ZLGdCQUFnQkMsWUFBWTtnQkFDaEMsTUFBTUMsc0JBQXNCdkMsS0FBS0MsR0FBRyxLQUFLMUQsVUFBVWlHLGdCQUFnQixDQUFDZixPQUFPO2dCQUMzRSxNQUFNTyxRQUFRekYsVUFBVWlGLGFBQWEsQ0FBQ0MsT0FBTztnQkFFN0MsaURBQWlEO2dCQUNqRCxJQUFJakYsY0FBY2lHLGtCQUFrQixJQUFJLE1BQU1GLHNCQUFzQixNQUFNO29CQUN4RWhFLFFBQVFnRCxJQUFJLENBQUMsQ0FBQyxrQkFBa0IsRUFBRW1CLEtBQUtDLEtBQUssQ0FBQ0osc0JBQW9CLE1BQU0sS0FBSyxFQUFFL0YsY0FBY2lHLGtCQUFrQixDQUFDLG1DQUFtQyxDQUFDO29CQUVuSixJQUFJVCxPQUFPO3dCQUNULElBQUk7NEJBQ0YsTUFBTVksV0FBVyxNQUFNQyxNQUFNLENBQUMsZ0JBQWdCLEVBQUViLE1BQU0sQ0FBQzs0QkFDdkQsSUFBSVksU0FBU0UsRUFBRSxFQUFFO2dDQUNmLE1BQU1DLFlBQVksTUFBTUgsU0FBU0ksSUFBSTtnQ0FDckN6RSxRQUFRQyxHQUFHLENBQUMseUNBQStCdUU7Z0NBRTNDLElBQUlBLFVBQVU3RSxNQUFNLEtBQUssZUFBZTZFLFVBQVUzRSxRQUFRLEVBQUU7b0NBQzFERyxRQUFRQyxHQUFHLENBQUM7b0NBQ1pULGdCQUFnQjt3Q0FDZEUsUUFBUStEO3dDQUNSOUQsUUFBUTt3Q0FDUkMsVUFBVTt3Q0FDVkMsVUFBVTJFLFVBQVUzRSxRQUFRO29DQUM5QjtvQ0FDQSxRQUFRLDJCQUEyQjtnQ0FDckM7NEJBQ0Y7d0JBQ0YsRUFBRSxPQUFPQyxPQUFPOzRCQUNkRSxRQUFRRixLQUFLLENBQUMsK0JBQStCQTt3QkFDL0M7b0JBQ0Y7Z0JBQ0YsT0FFSyxJQUFJN0IsY0FBY2lHLGtCQUFrQixJQUFJLE1BQU1GLHNCQUFzQixPQUFPO29CQUM5RWhFLFFBQVFnRCxJQUFJLENBQUMsQ0FBQyxrQkFBa0IsRUFBRW1CLEtBQUtDLEtBQUssQ0FBQ0osc0JBQW9CLE1BQU0sS0FBSyxFQUFFL0YsY0FBY2lHLGtCQUFrQixDQUFDLFVBQVUsQ0FBQztvQkFFMUgsSUFBSVQsT0FBTzt3QkFDVCxJQUFJOzRCQUNGLE1BQU1ZLFdBQVcsTUFBTUMsTUFBTSxDQUFDLGdCQUFnQixFQUFFYixNQUFNLENBQUM7NEJBQ3ZELElBQUlZLFNBQVNFLEVBQUUsRUFBRTtnQ0FDZixNQUFNQyxZQUFZLE1BQU1ILFNBQVNJLElBQUk7Z0NBQ3JDekUsUUFBUUMsR0FBRyxDQUFDLHlDQUErQnVFO2dDQUUzQyxJQUFJQSxVQUFVN0UsTUFBTSxLQUFLLGVBQWU2RSxVQUFVM0UsUUFBUSxFQUFFO29DQUMxREcsUUFBUUMsR0FBRyxDQUFDO29DQUNaVCxnQkFBZ0I7d0NBQ2RFLFFBQVErRDt3Q0FDUjlELFFBQVE7d0NBQ1JDLFVBQVU7d0NBQ1ZDLFVBQVUyRSxVQUFVM0UsUUFBUTtvQ0FDOUI7b0NBQ0EsUUFBUSwyQkFBMkI7Z0NBQ3JDOzRCQUNGO3dCQUNGLEVBQUUsT0FBT0MsT0FBTzs0QkFDZEUsUUFBUUYsS0FBSyxDQUFDLCtCQUErQkE7d0JBQy9DO29CQUNGO2dCQUNGO2dCQUVBLDhCQUE4QjtnQkFDOUIsSUFBSWtFLHNCQUFzQixPQUFPO29CQUMvQmhFLFFBQVFnRCxJQUFJLENBQUM7b0JBRWIsSUFBSSxDQUFDaEYsVUFBVXNGLGlCQUFpQixFQUFFO3dCQUNoQ3RELFFBQVFDLEdBQUcsQ0FBQzt3QkFDWmpDLFVBQVU0RixnQkFBZ0I7b0JBQzVCLE9BQU8sSUFBSUgsT0FBTzt3QkFDaEJ6RCxRQUFRQyxHQUFHLENBQUMsNERBQWtEd0Q7d0JBQzlEekYsVUFBVVEsY0FBYyxDQUFDaUY7b0JBQzNCO29CQUVBLGtCQUFrQjtvQkFDbEJ6RixVQUFVaUcsZ0JBQWdCLENBQUNmLE9BQU8sR0FBR3pCLEtBQUtDLEdBQUc7Z0JBQy9DO1lBQ0YsR0FBRyxPQUFPLDhEQUE4RDtZQUV4RSxPQUFPLElBQU1nRCxjQUFjWjtRQUM3QjtJQUNGLEdBQUc7UUFBQ3ZFLGVBQWVrQixZQUFZO1FBQUU3QixnQkFBZ0J5RCxxQkFBcUI7UUFDbEVyRTtRQUFXQyxjQUFjaUcsa0JBQWtCO1FBQUUxRTtLQUFnQjtJQUVqRSx1REFBdUQ7SUFDdkQsTUFBTW1GLG1CQUFtQnROLGtEQUFXQSxDQUFDO1FBQ25DMkksUUFBUUMsR0FBRyxDQUFDO1FBQ1p0RSxtQkFBbUI7UUFFbkIsZ0NBQWdDO1FBQ2hDLE1BQU1pSixXQUFXdE0seURBQU9BLENBQUN1TSxXQUFXO1FBRXBDLElBQUksQ0FBQ0QsVUFBVTtZQUNiNUUsUUFBUUMsR0FBRyxDQUFDO1lBQ1p0RSxtQkFBbUI7WUFDbkI7UUFDRjtRQUVBcUUsUUFBUUMsR0FBRyxDQUFDLHFDQUEyQjJFO1FBRXZDLG1FQUFtRTtRQUNuRSwwREFBMEQ7UUFDMUQsTUFBTUUsa0JBQWtCRixTQUFTbkIsS0FBSyxFQUFFdEQsV0FBVztRQUVuRCxJQUFJMkUsaUJBQWlCO1lBQ25COUUsUUFBUUMsR0FBRyxDQUFDO1lBQ1osdURBQXVEO1lBQ3ZELGlEQUFpRDtZQUNqRHRFLG1CQUFtQjtZQUNuQjtRQUNGO1FBRUEseURBQXlEO1FBQ3pEcUUsUUFBUUMsR0FBRyxDQUFDO1FBRVosMkJBQTJCO1FBQzNCaEMsY0FBY2MsZUFBZSxDQUFDNkYsU0FBU25CLEtBQUs7UUFDNUNsRSxlQUFlbUIsZUFBZSxDQUFDO1FBQy9CbkIsZUFBZXFCLHFCQUFxQixDQUFDO1FBQ3JDM0MsY0FBY1Msd0JBQXdCLENBQUM7UUFFdkMsc0NBQXNDO1FBQ3RDVixVQUFVUSxjQUFjLENBQUNvRyxTQUFTbkIsS0FBSztRQUN2QzlILG1CQUFtQjtJQUNyQixHQUFHO1FBQUNxQztRQUFXMUYseURBQU9BO0tBQUM7SUFFdkIsd0NBQXdDO0lBQ3hDbEIsZ0RBQVNBLENBQUM7UUFDUjRJLFFBQVFDLEdBQUcsQ0FBQztRQUVaLGdDQUFnQztRQUNoQyxNQUFNMkUsV0FBV3RNLHlEQUFPQSxDQUFDdU0sV0FBVztRQUNwQzdFLFFBQVFDLEdBQUcsQ0FBQywrQkFBcUIyRTtRQUVqQyxJQUFJQSxVQUFVO1lBQ1o1RSxRQUFRQyxHQUFHLENBQUMsNkNBQW1DMkUsU0FBU25CLEtBQUs7WUFFN0QsNERBQTREO1lBQzVELE1BQU1zQixVQUFVSCxTQUFTbkIsS0FBSyxDQUFDdEQsVUFBVSxDQUFDO1lBRTFDLElBQUk0RSxTQUFTO2dCQUNYLGlEQUFpRDtnQkFDakQsTUFBTUMscUJBQXFCcEcsZ0JBQWdCaUMsVUFBVSxDQUFDQyxNQUFNLENBQUNtRSxDQUFBQSxPQUFRQSxTQUFTLE1BQU1qRSxNQUFNLEdBQUc7Z0JBRTdGLElBQUlnRSxvQkFBb0I7b0JBQ3RCaEYsUUFBUUMsR0FBRyxDQUFDO29CQUNaLHFFQUFxRTtvQkFDckVoQyxjQUFjYyxlQUFlLENBQUM2RixTQUFTbkIsS0FBSztvQkFDNUM3RSxnQkFBZ0JJLGNBQWMsQ0FBQztnQkFDakMsT0FBTztvQkFDTGdCLFFBQVFDLEdBQUcsQ0FBQztvQkFDWiwyQ0FBMkM7b0JBQzNDaEMsY0FBY2MsZUFBZSxDQUFDNkYsU0FBU25CLEtBQUs7b0JBQzVDekYsVUFBVVEsY0FBYyxDQUFDb0csU0FBU25CLEtBQUs7b0JBQ3ZDN0UsZ0JBQWdCSSxjQUFjLENBQUM7b0JBQy9CLGdGQUFnRjtvQkFDaEYsZ0VBQWdFO29CQUNoRWdCLFFBQVFDLEdBQUcsQ0FBQztnQkFDZDtZQUNGLE9BQU87Z0JBQ0wsc0RBQXNEO2dCQUN0RCxJQUFJVixlQUFlMkYsYUFBYSxJQUFJM0YsZUFBZTRGLGVBQWUsRUFBRTtvQkFDbEVuRixRQUFRQyxHQUFHLENBQUM7b0JBQ1poQyxjQUFjYyxlQUFlLENBQUM2RixTQUFTbkIsS0FBSztnQkFDOUMsT0FBTztvQkFDTHpELFFBQVFDLEdBQUcsQ0FBQztvQkFDWmhDLGNBQWNjLGVBQWUsQ0FBQzZGLFNBQVNuQixLQUFLO29CQUM1Q3pGLFVBQVVRLGNBQWMsQ0FBQ29HLFNBQVNuQixLQUFLO29CQUN2Q2xFLGVBQWVtQixlQUFlLENBQUM7b0JBQy9CbkIsZUFBZXFCLHFCQUFxQixDQUFDO29CQUNyQzNDLGNBQWNTLHdCQUF3QixDQUFDO29CQUV2Qyw2RUFBNkU7b0JBQzdFLElBQUlrRyxTQUFTUSxRQUFRLElBQUlSLFNBQVNRLFFBQVEsQ0FBQ0Msa0JBQWtCLEtBQUtuRSxXQUFXO3dCQUMzRXRDLGdCQUFnQk8sd0JBQXdCLENBQUM7d0JBQ3pDUCxnQkFBZ0JNLHFCQUFxQixDQUFDMEYsU0FBU1EsUUFBUSxDQUFDQyxrQkFBa0I7b0JBQzVFO2dCQUNGO1lBQ0Y7UUFDRjtRQUVBLHNDQUFzQztRQUN0QzFKLG1CQUFtQjtRQUVuQixtREFBbUQ7UUFDbkRnSSxXQUFXO1lBQ1RoSSxtQkFBbUI7UUFDckIsR0FBRztJQUNMLEdBQUcsRUFBRTtJQUVMLHVEQUF1RDtJQUN2RCxPQUFPO1FBQ0wsYUFBYTtRQUNibkQ7UUFDQUM7UUFDQTZGLGtCQUFrQkgsa0JBQWtCRyxnQkFBZ0I7UUFDcERnSCxxQkFBcUJuSCxrQkFBa0JtSCxtQkFBbUI7UUFDMUQ1TTtRQUNBQztRQUNBQztRQUNBQztRQUNBQztRQUNBQztRQUNBQztRQUNBQztRQUNBQztRQUNBQztRQUNBQztRQUNBQztRQUNBQztRQUNBQztRQUNBa0gsY0FBY2xCLGVBQWVrQixZQUFZLElBQUk3QixnQkFBZ0I2QixZQUFZO1FBQ3pFQyxpQkFBaUJuQixlQUFlbUIsZUFBZTtRQUMvQzZFLHFCQUFxQnBILGtCQUFrQm9ILG1CQUFtQjtRQUMxREMsd0JBQXdCckgsa0JBQWtCcUgsc0JBQXNCO1FBQ2hFTixlQUFlM0YsZUFBZTJGLGFBQWE7UUFDM0NPLGtCQUFrQmxHLGVBQWVrRyxnQkFBZ0I7UUFDakRuTDtRQUNBQztRQUNBbUwsZ0JBQWdCbkcsZUFBZW1HLGNBQWM7UUFDN0NDLG1CQUFtQnBHLGVBQWVvRyxpQkFBaUI7UUFDbkRDLG1CQUFtQnJHLGVBQWVxRyxpQkFBaUI7UUFDbkRDLHNCQUFzQnRHLGVBQWVzRyxvQkFBb0I7UUFFekQsbUJBQW1CO1FBQ25Cck07UUFDQUM7UUFDQUM7UUFDQUM7UUFDQUM7UUFDQUM7UUFDQUM7UUFDQUM7UUFDQUM7UUFDQUM7UUFFQSxhQUFhO1FBQ2J1RyxhQUFhNUIsZ0JBQWdCNEIsV0FBVztRQUN4Q3hCLGdCQUFnQkosZ0JBQWdCSSxjQUFjO1FBQzlDNkIsWUFBWWpDLGdCQUFnQmlDLFVBQVU7UUFDdEM1QixlQUFlTCxnQkFBZ0JLLGFBQWE7UUFDNUNvRyxvQkFBb0J6RyxnQkFBZ0J5RyxrQkFBa0I7UUFDdERuRyx1QkFBdUJOLGdCQUFnQk0scUJBQXFCO1FBQzVEbUQsdUJBQXVCekQsZ0JBQWdCeUQscUJBQXFCO1FBQzVEbEQsMEJBQTBCUCxnQkFBZ0JPLHdCQUF3QjtRQUNsRTJHLHNCQUFzQmxILGdCQUFnQmtILG9CQUFvQjtRQUMxRDFHLHlCQUF5QlIsZ0JBQWdCUSx1QkFBdUI7UUFDaEUyRyxzQkFBc0JuSCxnQkFBZ0JtSCxvQkFBb0I7UUFDMUQxRyx5QkFBeUJULGdCQUFnQlMsdUJBQXVCO1FBQ2hFMkcsc0JBQXNCcEgsZ0JBQWdCb0gsb0JBQW9CO1FBQzFEMUcseUJBQXlCVixnQkFBZ0JVLHVCQUF1QjtRQUVoRSxvQkFBb0I7UUFDcEIyRyxvQkFBb0JySCxnQkFBZ0I2QixZQUFZLEdBQUc3QixnQkFBZ0JxSCxrQkFBa0IsR0FBRzFHLGVBQWUwRyxrQkFBa0I7UUFDekhyRix1QkFBdUJyQixlQUFlcUIscUJBQXFCO1FBQzNEc0Qsb0JBQW9CakcsY0FBY2lHLGtCQUFrQjtRQUNwRGdDLHVCQUF1QmpJLGNBQWNpSSxxQkFBcUI7UUFDMURmLGlCQUFpQjVGLGVBQWU0RixlQUFlO1FBQy9DZ0Isb0JBQW9CNUcsZUFBZTRHLGtCQUFrQjtRQUVyRCw2QkFBNkI7UUFDN0JDLGlCQUFpQmxJLGFBQWFrSSxlQUFlO1FBQzdDQyxvQkFBb0JuSSxhQUFhbUksa0JBQWtCO1FBQ25Eakosb0JBQW9CYyxhQUFhZCxrQkFBa0I7UUFDbkRrSix1QkFBdUJwSSxhQUFhb0kscUJBQXFCO1FBQ3pEQyxhQUFhckksYUFBYXFJLFdBQVc7UUFDckNDLGdCQUFnQnRJLGFBQWFzSSxjQUFjO1FBRTNDLHFCQUFxQjtRQUNyQnBNO1FBQ0FDO1FBQ0FHO1FBQ0FDO1FBQ0FDO1FBQ0FDO1FBQ0FDO1FBQ0FDO1FBRUEsV0FBVztRQUNYQztRQUNBQztRQUNBQztRQUNBQztRQUNBQztRQUNBQztRQUNBQztRQUNBQztRQUNBQztRQUNBQztRQUVBLGtCQUFrQjtRQUNsQmtMLG9CQUFvQmxILGVBQWVrSCxrQkFBa0I7UUFDckRDLHVCQUF1Qm5ILGVBQWVtSCxxQkFBcUI7UUFDM0RDLG9CQUFvQjFJLGNBQWMwSSxrQkFBa0I7UUFFcEQsbUJBQW1CO1FBQ25CMU8sb0JBQW9CQSx5RUFBQUE7UUFDcEJDLGVBQWVBLG9FQUFBQTtRQUNmQyxpQkFBaUJBLGtFQUFBQTtRQUNqQkMsVUFBVUEsMkRBQUFBO1FBQ1ZDLG1CQUFtQkEsb0VBQUFBO1FBRW5CLDBCQUEwQjtRQUMxQnFHLDBCQUEwQlQsY0FBY1Msd0JBQXdCO1FBQ2hFQyx5QkFBeUJWLGNBQWNVLHVCQUF1QjtRQUU5RCwwQkFBMEI7UUFDMUJpSSxrQkFBa0IxSSxhQUFhMEksZ0JBQWdCO1FBQy9DQyw0QkFBNEIzSSxhQUFhMkksMEJBQTBCO1FBRW5FLDhCQUE4QjtRQUM5QnpJLGlCQUFpQkYsYUFBYUUsZUFBZTtRQUM3QzBJLG9CQUFvQjVJLGFBQWE0SSxrQkFBa0I7UUFDbkRDLHdCQUF3QjdJLGFBQWE2SSxzQkFBc0I7UUFFM0Qsb0JBQW9CO1FBQ3BCQyxzQkFBc0I3SSxrQkFBa0I2SSxvQkFBb0I7UUFDNURDLHFCQUFxQjlJLGtCQUFrQjhJLG1CQUFtQjtRQUMxREMsYUFBYS9JLGtCQUFrQitJLFdBQVc7UUFDMUNDLGFBQWFoSixrQkFBa0JnSixXQUFXO1FBRTFDLGlCQUFpQjtRQUNqQjVJLGtCQUFrQk4sY0FBY00sZ0JBQWdCO1FBQ2hETyxzQkFBc0JiLGNBQWNhLG9CQUFvQjtRQUN4RDZGO1FBQ0FqSjtRQUVBLDRCQUE0QjtRQUM1QjBMLHlCQUF5QjdILGVBQWU2SCx1QkFBdUI7UUFDL0RDLDBCQUEwQnpJLGdCQUFnQnlJLHdCQUF3QjtRQUNsRUMsOEJBQThCMUksZ0JBQWdCMEksNEJBQTRCO1FBRTFFLDBDQUEwQztRQUMxQ0MsZ0JBQWdCcEosa0JBQWtCb0osY0FBYztRQUNoREMsbUJBQW1Cckosa0JBQWtCcUosaUJBQWlCO1FBQ3REQyxxQkFBcUJ0SixrQkFBa0JzSixtQkFBbUI7UUFDMURDLHdCQUF3QnZKLGtCQUFrQnVKLHNCQUFzQjtRQUNoRUMsa0JBQWtCeEosa0JBQWtCd0osZ0JBQWdCO1FBQ3BEQyxxQkFBcUJ6SixrQkFBa0J5SixtQkFBbUI7UUFDMURDLG1CQUFtQjFKLGtCQUFrQjBKLGlCQUFpQjtRQUN0REMsc0JBQXNCM0osa0JBQWtCMkosb0JBQW9CO1FBQzVEQyxtQkFBbUI1SixrQkFBa0I0SixpQkFBaUI7UUFDdERDLHNCQUFzQjdKLGtCQUFrQjZKLG9CQUFvQjtRQUU1RCxpQkFBaUI7UUFDakJ4TTtRQUNBQztRQUNBRztRQUNBQztRQUNBaUI7UUFDQUM7UUFDQWY7UUFDQUM7UUFDQUM7UUFDQUM7UUFDQUM7UUFDQUM7UUFDQUM7UUFDQUM7UUFDQUM7UUFDQUM7UUFDQUM7UUFDQUM7UUFFQSxjQUFjO1FBQ2RDO1FBQ0FDO1FBRUEsOEJBQThCO1FBQzlCb0wsbUJBQW1CL0osYUFBYStKLGlCQUFpQjtRQUNqREMsc0JBQXNCaEssYUFBYWdLLG9CQUFvQjtRQUN2REMsc0JBQXNCakssYUFBYWlLLG9CQUFvQjtRQUN2REMseUJBQXlCbEssYUFBYWtLLHVCQUF1QjtRQUU3RCxlQUFlO1FBQ2ZqRixjQUFjbEYsY0FBY2tGLFlBQVk7UUFDeENwRSxpQkFBaUJkLGNBQWNjLGVBQWU7UUFDOUNuQjtRQUNBQztRQUNBQztRQUNBQztRQUVBLHlCQUF5QjtRQUN6QlQ7UUFDQUM7UUFFQSxvQkFBb0I7UUFDcEJyRDtRQUNBQztRQUVBLHNCQUFzQjtRQUN0QmtPLGVBQWU5SSxlQUFlOEksYUFBYTtRQUMzQ0Msa0JBQWtCL0ksZUFBZStJLGdCQUFnQjtRQUNqRHhNO1FBQ0FDO1FBRUEsd0JBQXdCO1FBQ3hCd0gscUJBQXFCdEYsY0FBY3NGLG1CQUFtQjtRQUV0RCxtQkFBbUI7UUFDbkJ6TCxTQUFTQSw4REFBQUE7UUFDVEMsY0FBY0EsbUVBQUFBO1FBQ2RDLFVBQVVBLCtEQUFBQTtRQUVWLGdDQUFnQztRQUNoQ3NMLG1CQUFtQnRGLFVBQVVzRixpQkFBaUI7UUFDOUNNLGtCQUFrQjVGLFVBQVU0RixnQkFBZ0I7UUFDNUMyRSxxQkFBcUJ2SyxVQUFVdUssbUJBQW1CO1FBQ2xEL0osZ0JBQWdCUixVQUFVUSxjQUFjO1FBQ3hDK0Qsb0JBQW9CdkUsVUFBVXVFLGtCQUFrQjtRQUNoRDlELHdCQUF3QlQsVUFBVVMsc0JBQXNCO1FBQ3hEZTtRQUNBdUQsMkJBQTJCeEQsZUFBZXdELHlCQUF5QjtJQUNyRTtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdmliZWNhcmRpbmcvLi9ob29rcy91c2VDYXJkU3R1ZGlvUmVmYWN0b3JlZC50cz85Y2M5Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIGNsaWVudFwiO1xuXG5pbXBvcnQgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0LCB1c2VDYWxsYmFjaywgdXNlUmVmIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyB0b2FzdCB9IGZyb20gXCJzb25uZXJcIjtcbmltcG9ydCB7IHY0IGFzIHV1aWR2NCB9IGZyb20gJ3V1aWQnO1xuXG4vLyBJbXBvcnQgbW9kdWxhciBob29rc1xuaW1wb3J0IHsgdXNlV2ViU29ja2V0IH0gZnJvbSAnLi9jYXJkU3R1ZGlvL3VzZVdlYlNvY2tldCc7XG5pbXBvcnQgeyB1c2VKb2JNYW5hZ2VtZW50IH0gZnJvbSAnLi9jYXJkU3R1ZGlvL3VzZUpvYk1hbmFnZW1lbnRTaW1wbGlmaWVkJztcbmltcG9ydCB7IHVzZU1lc3NhZ2VHZW5lcmF0aW9uIH0gZnJvbSAnLi9jYXJkU3R1ZGlvL3VzZU1lc3NhZ2VHZW5lcmF0aW9uJztcbmltcG9ydCB7IHVzZUZpbGVIYW5kbGluZyB9IGZyb20gJy4vY2FyZFN0dWRpby91c2VGaWxlSGFuZGxpbmcnO1xuaW1wb3J0IHsgdXNlRHJhZnRHZW5lcmF0aW9uIH0gZnJvbSAnLi9jYXJkU3R1ZGlvL3VzZURyYWZ0R2VuZXJhdGlvbic7XG5pbXBvcnQgeyB1c2VDYXJkR2VuZXJhdGlvbiB9IGZyb20gJy4vY2FyZFN0dWRpby91c2VDYXJkR2VuZXJhdGlvbic7XG5cbi8vIEltcG9ydCBjb25zdGFudHMgYW5kIHV0aWxzXG5pbXBvcnQgeyBcbiAgY2FyZFRvbmVzLCBcbiAgYXJ0aXN0aWNTdHlsZXMsIFxuICBwYXBlclNpemVzLCBcbiAgZm9ybWF0R2VuZXJhdGlvblRpbWUsIFxuICBmb3JtYXRDb3VudGRvd24sXG4gIEdlbmVyYXRlZENhcmQgXG59IGZyb20gJy4vY2FyZFN0dWRpby9jb25zdGFudHMnO1xuaW1wb3J0IHsgc2VuZFRoYW5rWW91RW1haWwsIGNoYXRXaXRoQUksIHNjcm9sbFRvQ2FyZFByZXZpZXcgfSBmcm9tICcuL2NhcmRTdHVkaW8vdXRpbHMnO1xuaW1wb3J0IHsgc3RvcmFnZSB9IGZyb20gJ0AvbGliL3N0b3JhZ2VNYW5hZ2VyJztcblxuZXhwb3J0IGZ1bmN0aW9uIHVzZUNhcmRTdHVkaW8oKSB7XG4gIC8vIENvcmUgZm9ybSBzdGF0ZVxuICBjb25zdCBbcHJvbXB0LCBzZXRQcm9tcHRdID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFt0b0ZpZWxkLCBzZXRUb0ZpZWxkXSA9IHVzZVN0YXRlKFwiXCIpO1xuICBjb25zdCBbZnJvbUZpZWxkLCBzZXRGcm9tRmllbGRdID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFtyZWxhdGlvbnNoaXBGaWVsZCwgc2V0UmVsYXRpb25zaGlwRmllbGRdID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFtwZXJzb25hbFRyYWl0cywgc2V0UGVyc29uYWxUcmFpdHNdID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFtzZWxlY3RlZFR5cGUsIHNldFNlbGVjdGVkVHlwZV0gPSB1c2VTdGF0ZTxzdHJpbmc+KFwiYmlydGhkYXlcIik7XG4gIGNvbnN0IFtjdXN0b21DYXJkVHlwZSwgc2V0Q3VzdG9tQ2FyZFR5cGVdID0gdXNlU3RhdGU8c3RyaW5nPihcIlwiKTtcbiAgY29uc3QgW3NlbGVjdGVkVG9uZSwgc2V0U2VsZWN0ZWRUb25lXSA9IHVzZVN0YXRlPHN0cmluZz4oXCJmdW5ueVwiKTtcbiAgXG4gIC8vIEFkdmFuY2VkIG9wdGlvbnMgc3RhdGVcbiAgY29uc3QgW3Nob3dBZHZhbmNlZCwgc2V0U2hvd0FkdmFuY2VkXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3NlbGVjdGVkQXJ0aXN0aWNTdHlsZSwgc2V0U2VsZWN0ZWRBcnRpc3RpY1N0eWxlXSA9IHVzZVN0YXRlPHN0cmluZz4oXCJhaS1zbWFydC1zdHlsZVwiKTtcbiAgY29uc3QgW2N1c3RvbVN0eWxlRGVzY3JpcHRpb24sIHNldEN1c3RvbVN0eWxlRGVzY3JpcHRpb25dID0gdXNlU3RhdGU8c3RyaW5nPihcIlwiKTtcbiAgY29uc3QgW3NlbGVjdGVkSW1hZ2VNb2RlbCwgc2V0U2VsZWN0ZWRJbWFnZU1vZGVsXSA9IHVzZVN0YXRlPHN0cmluZz4oXCJncHQtaW1hZ2UtMVwiKTtcbiAgY29uc3QgW3NlbGVjdGVkRHJhZnRNb2RlbCwgc2V0U2VsZWN0ZWREcmFmdE1vZGVsXSA9IHVzZVN0YXRlPHN0cmluZz4oXCJncHQtaW1hZ2UtMVwiKTtcbiAgY29uc3QgW2Zhc3RQcmV2aWV3TW9kZSwgc2V0RmFzdFByZXZpZXdNb2RlXSA9IHVzZVN0YXRlPGJvb2xlYW4+KHRydWUpO1xuICBcbiAgLy8gRW1haWwgc3RhdGVcbiAgY29uc3QgW3VzZXJFbWFpbCwgc2V0VXNlckVtYWlsXSA9IHVzZVN0YXRlPHN0cmluZz4oXCJcIik7XG4gIFxuICAvLyBDYXJkIG9wdGlvbnNcbiAgY29uc3QgW251bWJlck9mQ2FyZHMsIHNldE51bWJlck9mQ2FyZHNdID0gdXNlU3RhdGU8bnVtYmVyPigxKTtcbiAgY29uc3QgW2lzSGFuZHdyaXR0ZW5NZXNzYWdlLCBzZXRJc0hhbmR3cml0dGVuTWVzc2FnZV0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtpc0Zyb250QmFja09ubHksIHNldElzRnJvbnRCYWNrT25seV0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtzZWxlY3RlZFBhcGVyU2l6ZSwgc2V0U2VsZWN0ZWRQYXBlclNpemVdID0gdXNlU3RhdGU8c3RyaW5nPihcInN0YW5kYXJkXCIpO1xuICBcbiAgLy8gVUkgc3RhdGVcbiAgY29uc3QgW2lzVGV4dGFyZWFFeHBhbmRlZCwgc2V0SXNUZXh0YXJlYUV4cGFuZGVkXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2lzTWVzc2FnZUV4cGFuZGVkLCBzZXRJc01lc3NhZ2VFeHBhbmRlZF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtzaG93U2V0dGluZ3MsIHNldFNob3dTZXR0aW5nc10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtzaG93VGVtcGxhdGVHYWxsZXJ5LCBzZXRTaG93VGVtcGxhdGVHYWxsZXJ5XSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3Nob3dQcmludENvbmZpcm1hdGlvbiwgc2V0U2hvd1ByaW50Q29uZmlybWF0aW9uXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3Nob3dUZW1wbGF0ZUN1c3RvbWl6YXRpb24sIHNldFNob3dUZW1wbGF0ZUN1c3RvbWl6YXRpb25dID0gdXNlU3RhdGUoZmFsc2UpO1xuICBcbiAgLy8gUmVzdG9yYXRpb24gc3RhdGVcbiAgY29uc3QgW2lzUmVzdG9yaW5nSm9icywgc2V0SXNSZXN0b3JpbmdKb2JzXSA9IHVzZVN0YXRlKHRydWUpO1xuICBjb25zdCBbc2VsZWN0ZWRUZW1wbGF0ZSwgc2V0U2VsZWN0ZWRUZW1wbGF0ZV0gPSB1c2VTdGF0ZTxHZW5lcmF0ZWRDYXJkIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtpc0luaXRpYWxMb2FkQ29tcGxldGUsIHNldElzSW5pdGlhbExvYWRDb21wbGV0ZV0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIFxuICAvLyBUZW1wbGF0ZSBzdGF0ZVxuICBjb25zdCBbdGVtcGxhdGVTZWFyY2hRdWVyeSwgc2V0VGVtcGxhdGVTZWFyY2hRdWVyeV0gPSB1c2VTdGF0ZShcIlwiKTtcbiAgY29uc3QgW2lzU2VhcmNoaW5nVGVtcGxhdGVzLCBzZXRJc1NlYXJjaGluZ1RlbXBsYXRlc10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFthaUZpbHRlcmVkQ2FyZHMsIHNldEFpRmlsdGVyZWRDYXJkc10gPSB1c2VTdGF0ZTxhbnlbXT4oW10pO1xuICBjb25zdCBbc2VhcmNoTW9kZSwgc2V0U2VhcmNoTW9kZV0gPSB1c2VTdGF0ZTwndGV4dCcgfCAnYWknIHwgJ2h5YnJpZCc+KCd0ZXh0Jyk7XG4gIGNvbnN0IFt0ZXh0RmlsdGVyZWRDYXJkcywgc2V0VGV4dEZpbHRlcmVkQ2FyZHNdID0gdXNlU3RhdGU8YW55W10+KFtdKTtcbiAgY29uc3QgW3Nob3dQcm9tcHRzLCBzZXRTaG93UHJvbXB0c10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtwcmludE9wdGlvbiwgc2V0UHJpbnRPcHRpb25dID0gdXNlU3RhdGU8J3BoeXNpY2FsJyB8ICdlbWFpbCc+KCdwaHlzaWNhbCcpO1xuICBcbiAgLy8gVGVtcGxhdGUgY3VzdG9taXphdGlvbiBzdGF0ZVxuICBjb25zdCBbdGVtcGxhdGVDdXN0b21pemF0aW9ucywgc2V0VGVtcGxhdGVDdXN0b21pemF0aW9uc10gPSB1c2VTdGF0ZSh7XG4gICAgcHJvbXB0Q2hhbmdlczogXCJcIixcbiAgICBtZXNzYWdlQ2hhbmdlczogXCJcIixcbiAgICB1c2VSZWZlcmVuY2VJbWFnZTogZmFsc2UsXG4gICAgcmVmZXJlbmNlSW1hZ2VGaWxlOiBudWxsIGFzIEZpbGUgfCBudWxsLFxuICAgIHJlZmVyZW5jZUltYWdlVXJsczogW10gYXMgc3RyaW5nW10sXG4gICAgcmVmZXJlbmNlSW1hZ2VUcmFuc2Zvcm1hdGlvbjogXCJcIlxuICB9KTtcbiAgXG4gIC8vIFNlY3Rpb24gbG9hZGluZyBzdGF0ZXNcbiAgY29uc3QgW3NlY3Rpb25Mb2FkaW5nU3RhdGVzLCBzZXRTZWN0aW9uTG9hZGluZ1N0YXRlc10gPSB1c2VTdGF0ZTx7XG4gICAgZnJvbnRDb3ZlcjogJ2lkbGUnIHwgJ2xvYWRpbmcnIHwgJ2NvbXBsZXRlZCcgfCAnZXJyb3InO1xuICAgIGJhY2tDb3ZlcjogJ2lkbGUnIHwgJ2xvYWRpbmcnIHwgJ2NvbXBsZXRlZCcgfCAnZXJyb3InO1xuICAgIGxlZnRJbnRlcmlvcjogJ2lkbGUnIHwgJ2xvYWRpbmcnIHwgJ2NvbXBsZXRlZCcgfCAnZXJyb3InO1xuICAgIHJpZ2h0SW50ZXJpb3I6ICdpZGxlJyB8ICdsb2FkaW5nJyB8ICdjb21wbGV0ZWQnIHwgJ2Vycm9yJztcbiAgfT4oe1xuICAgIGZyb250Q292ZXI6ICdpZGxlJyxcbiAgICBiYWNrQ292ZXI6ICdpZGxlJyxcbiAgICBsZWZ0SW50ZXJpb3I6ICdpZGxlJyxcbiAgICByaWdodEludGVyaW9yOiAnaWRsZScsXG4gIH0pO1xuICBcbiAgLy8gQ291bnRkb3duIHN0YXRlXG4gIGNvbnN0IFtjb3VudGRvd24sIHNldENvdW50ZG93bl0gPSB1c2VTdGF0ZTxudW1iZXI+KDApO1xuICBjb25zdCBbY291bnRkb3duSW50ZXJ2YWwsIHNldENvdW50ZG93bkludGVydmFsXSA9IHVzZVN0YXRlPE5vZGVKUy5UaW1lb3V0IHwgbnVsbD4obnVsbCk7XG5cbiAgLy8gVXNlIG1vZHVsYXIgaG9va3NcbiAgY29uc3Qgd2ViU29ja2V0ID0gdXNlV2ViU29ja2V0KCk7XG4gIGNvbnN0IGpvYk1hbmFnZW1lbnQgPSB1c2VKb2JNYW5hZ2VtZW50KCk7XG4gIGNvbnN0IGZpbGVIYW5kbGluZyA9IHVzZUZpbGVIYW5kbGluZygpO1xuICBjb25zdCBtZXNzYWdlR2VuZXJhdGlvbiA9IHVzZU1lc3NhZ2VHZW5lcmF0aW9uKFxuICAgIHNlbGVjdGVkVHlwZSxcbiAgICBjdXN0b21DYXJkVHlwZSxcbiAgICBzZWxlY3RlZFRvbmUsXG4gICAgcHJvbXB0LFxuICAgIHRvRmllbGQsXG4gICAgZnJvbUZpZWxkLFxuICAgIHJlbGF0aW9uc2hpcEZpZWxkLFxuICAgIGZpbGVIYW5kbGluZy5waG90b1JlZmVyZW5jZXNcbiAgKTtcbiAgXG4gIC8vIERyYWZ0IGdlbmVyYXRpb24gcHJvcHNcbiAgY29uc3QgZHJhZnRHZW5lcmF0aW9uUHJvcHMgPSB7XG4gICAgc2VsZWN0ZWRUeXBlLFxuICAgIGN1c3RvbUNhcmRUeXBlLFxuICAgIHNlbGVjdGVkVG9uZSxcbiAgICBzZWxlY3RlZEFydGlzdGljU3R5bGUsXG4gICAgY3VzdG9tU3R5bGVEZXNjcmlwdGlvbixcbiAgICBzZWxlY3RlZERyYWZ0TW9kZWwsXG4gICAgc2VsZWN0ZWRJbWFnZU1vZGVsLFxuICAgIHNlbGVjdGVkUGFwZXJTaXplLFxuICAgIHByb21wdCxcbiAgICBwZXJzb25hbFRyYWl0cyxcbiAgICB0b0ZpZWxkLFxuICAgIGZyb21GaWVsZCxcbiAgICB1c2VyRW1haWwsXG4gICAgZmluYWxDYXJkTWVzc2FnZTogbWVzc2FnZUdlbmVyYXRpb24uZmluYWxDYXJkTWVzc2FnZSxcbiAgICBpc0hhbmR3cml0dGVuTWVzc2FnZSxcbiAgICBpc0Zyb250QmFja09ubHksXG4gICAgcmVmZXJlbmNlSW1hZ2VVcmxzOiBmaWxlSGFuZGxpbmcucmVmZXJlbmNlSW1hZ2VVcmxzLFxuICAgIHBob3RvUmVmZXJlbmNlczogZmlsZUhhbmRsaW5nLnBob3RvUmVmZXJlbmNlcyxcbiAgICByZWxhdGlvbnNoaXBGaWVsZCxcbiAgICBzYXZlSm9iVG9TdG9yYWdlOiBqb2JNYW5hZ2VtZW50LnNhdmVKb2JUb1N0b3JhZ2UsXG4gICAgc3Vic2NyaWJlVG9Kb2I6IHdlYlNvY2tldC5zdWJzY3JpYmVUb0pvYixcbiAgICB1bnN1YnNjcmliZUZyb21BbGxKb2JzOiB3ZWJTb2NrZXQudW5zdWJzY3JpYmVGcm9tQWxsSm9icyxcbiAgICBzdGFydEVsYXBzZWRUaW1lVHJhY2tpbmc6IGpvYk1hbmFnZW1lbnQuc3RhcnRFbGFwc2VkVGltZVRyYWNraW5nLFxuICAgIHN0b3BFbGFwc2VkVGltZVRyYWNraW5nOiBqb2JNYW5hZ2VtZW50LnN0b3BFbGFwc2VkVGltZVRyYWNraW5nLFxuICB9O1xuICBcbiAgY29uc3QgZHJhZnRHZW5lcmF0aW9uID0gdXNlRHJhZnRHZW5lcmF0aW9uKGRyYWZ0R2VuZXJhdGlvblByb3BzKTtcbiAgXG4gIC8vIENhcmQgZ2VuZXJhdGlvbiBwcm9wc1xuICBjb25zdCBjYXJkR2VuZXJhdGlvblByb3BzID0ge1xuICAgIHNlbGVjdGVkVHlwZSxcbiAgICBjdXN0b21DYXJkVHlwZSxcbiAgICBzZWxlY3RlZFRvbmUsXG4gICAgc2VsZWN0ZWRBcnRpc3RpY1N0eWxlLFxuICAgIGN1c3RvbVN0eWxlRGVzY3JpcHRpb24sXG4gICAgc2VsZWN0ZWRJbWFnZU1vZGVsLFxuICAgIHNlbGVjdGVkUGFwZXJTaXplLFxuICAgIHByb21wdCxcbiAgICBwZXJzb25hbFRyYWl0cyxcbiAgICB0b0ZpZWxkLFxuICAgIGZyb21GaWVsZCxcbiAgICB1c2VyRW1haWwsXG4gICAgZmluYWxDYXJkTWVzc2FnZTogbWVzc2FnZUdlbmVyYXRpb24uZmluYWxDYXJkTWVzc2FnZSxcbiAgICBpc0hhbmR3cml0dGVuTWVzc2FnZSxcbiAgICBpc0Zyb250QmFja09ubHksXG4gICAgcmVmZXJlbmNlSW1hZ2VVcmxzOiBmaWxlSGFuZGxpbmcucmVmZXJlbmNlSW1hZ2VVcmxzLFxuICAgIHBob3RvUmVmZXJlbmNlczogZmlsZUhhbmRsaW5nLnBob3RvUmVmZXJlbmNlcyxcbiAgICByZWxhdGlvbnNoaXBGaWVsZCxcbiAgICBudW1iZXJPZkNhcmRzLFxuICAgIHNhdmVKb2JUb1N0b3JhZ2U6IGpvYk1hbmFnZW1lbnQuc2F2ZUpvYlRvU3RvcmFnZSxcbiAgICByZW1vdmVKb2JGcm9tU3RvcmFnZTogam9iTWFuYWdlbWVudC5yZW1vdmVKb2JGcm9tU3RvcmFnZSxcbiAgICBzdWJzY3JpYmVUb0pvYjogd2ViU29ja2V0LnN1YnNjcmliZVRvSm9iLFxuICAgIHN0YXJ0RWxhcHNlZFRpbWVUcmFja2luZzogam9iTWFuYWdlbWVudC5zdGFydEVsYXBzZWRUaW1lVHJhY2tpbmcsXG4gICAgc3RvcEVsYXBzZWRUaW1lVHJhY2tpbmc6IGpvYk1hbmFnZW1lbnQuc3RvcEVsYXBzZWRUaW1lVHJhY2tpbmcsXG4gICAgc2V0Q3VycmVudEpvYklkOiBqb2JNYW5hZ2VtZW50LnNldEN1cnJlbnRKb2JJZCxcbiAgICBzZXRJc0RyYWZ0TW9kZTogZHJhZnRHZW5lcmF0aW9uLnNldElzRHJhZnRNb2RlLFxuICAgIHNldERyYWZ0Q2FyZHM6IGRyYWZ0R2VuZXJhdGlvbi5zZXREcmFmdENhcmRzLFxuICAgIHNldFNlbGVjdGVkRHJhZnRJbmRleDogZHJhZnRHZW5lcmF0aW9uLnNldFNlbGVjdGVkRHJhZnRJbmRleCxcbiAgICBzZXRJc0dlbmVyYXRpbmdGaW5hbENhcmQ6IGRyYWZ0R2VuZXJhdGlvbi5zZXRJc0dlbmVyYXRpbmdGaW5hbENhcmQsXG4gICAgc2V0UHJldmlld2luZ0RyYWZ0SW5kZXg6IGRyYWZ0R2VuZXJhdGlvbi5zZXRQcmV2aWV3aW5nRHJhZnRJbmRleCxcbiAgICBzZXREcmFmdENvbXBsZXRpb25TaG93bjogZHJhZnRHZW5lcmF0aW9uLnNldERyYWZ0Q29tcGxldGlvblNob3duLFxuICAgIHNldERyYWZ0Q29tcGxldGlvbkNvdW50OiBkcmFmdEdlbmVyYXRpb24uc2V0RHJhZnRDb21wbGV0aW9uQ291bnQsXG4gIH07XG4gIFxuICBjb25zdCBjYXJkR2VuZXJhdGlvbiA9IHVzZUNhcmRHZW5lcmF0aW9uKGNhcmRHZW5lcmF0aW9uUHJvcHMpO1xuXG4gIC8vIEhhbmRsZSBqb2IgdXBkYXRlcyBmcm9tIFdlYlNvY2tldFxuICBjb25zdCBoYW5kbGVKb2JVcGRhdGUgPSB1c2VDYWxsYmFjaygoZGF0YTogYW55KSA9PiB7XG4gICAgY29uc3QgeyBqb2JfaWQsIHN0YXR1cywgcHJvZ3Jlc3MsIGNhcmREYXRhLCBlcnJvciwgY29tcGxldGVkQXQgfSA9IGRhdGE7XG4gICAgXG4gICAgaWYgKCFqb2JfaWQpIHJldHVybjtcbiAgICBcbiAgICAvLyBTa2lwIHVwZGF0ZXMgaWYgd2UncmUgc3RpbGwgcmVzdG9yaW5nIGpvYnMgZnJvbSBsb2NhbFN0b3JhZ2VcbiAgICBpZiAoaXNSZXN0b3JpbmdKb2JzKSB7XG4gICAgICBjb25zb2xlLmxvZygn4o+zIFNraXBwaW5nIGpvYiB1cGRhdGUgZHVyaW5nIHJlc3RvcmF0aW9uOicsIGpvYl9pZCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFxuICAgIC8vIENoZWNrIGlmIHRoaXMgaXMgYSBkcmFmdCBqb2JcbiAgICBjb25zdCBpc0RyYWZ0Sm9iID0gam9iX2lkLnN0YXJ0c1dpdGgoJ2RyYWZ0LScpO1xuICAgIGNvbnN0IGRyYWZ0SW5kZXggPSBpc0RyYWZ0Sm9iID8gcGFyc2VJbnQoam9iX2lkLnNwbGl0KCctJylbMV0pIDogLTE7XG4gICAgXG4gICAgLy8gRmlsdGVyIG91dCB1cGRhdGVzIGZyb20gd3Jvbmcgam9iIHR5cGVcbiAgICAvLyBJZiB3ZSdyZSBpbiBkcmFmdCBtb2RlLCBvbmx5IHByb2Nlc3MgZHJhZnQgam9ic1xuICAgIC8vIElmIHdlJ3JlIGluIGZpbmFsIG1vZGUsIG9ubHkgcHJvY2VzcyBub24tZHJhZnQgam9ic1xuICAgIGNvbnN0IGlzSW5EcmFmdE1vZGUgPSBkcmFmdEdlbmVyYXRpb24uaXNEcmFmdE1vZGU7XG4gICAgaWYgKGlzSW5EcmFmdE1vZGUgJiYgIWlzRHJhZnRKb2IpIHtcbiAgICAgIGNvbnNvbGUubG9nKCfwn5qrIElnbm9yaW5nIG5vbi1kcmFmdCBqb2IgdXBkYXRlIGluIGRyYWZ0IG1vZGU6Jywgam9iX2lkKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKCFpc0luRHJhZnRNb2RlICYmIGlzRHJhZnRKb2IpIHtcbiAgICAgIGNvbnNvbGUubG9nKCfwn5qrIElnbm9yaW5nIGRyYWZ0IGpvYiB1cGRhdGUgaW4gZmluYWwgbW9kZTonLCBqb2JfaWQpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBcbiAgICBjb25zb2xlLmxvZygn8J+UhCBQcm9jZXNzaW5nIGpvYiB1cGRhdGU6JywgeyBqb2JfaWQsIHN0YXR1cywgaXNEcmFmdEpvYiwgZHJhZnRJbmRleCwgcHJvZ3Jlc3MgfSk7XG4gICAgXG4gICAgLy8gSGFuZGxlIHN0YXR1cyB0cmFuc2l0aW9uc1xuICAgIGlmIChzdGF0dXMgPT09ICdwcm9jZXNzaW5nJyAmJiAhY2FyZEdlbmVyYXRpb24uaXNHZW5lcmF0aW5nICYmICFkcmFmdEdlbmVyYXRpb24uaXNHZW5lcmF0aW5nKSB7XG4gICAgICBjb25zb2xlLmxvZygn8J+UhCBKb2IgaXMgcHJvY2Vzc2luZywgc2V0dGluZyBnZW5lcmF0aW9uIHN0YXRlJyk7XG4gICAgICBpZiAoaXNEcmFmdEpvYikge1xuICAgICAgICBkcmFmdEdlbmVyYXRpb24uc2V0SXNHZW5lcmF0aW5nKHRydWUpO1xuICAgICAgICBkcmFmdEdlbmVyYXRpb24uc2V0SXNEcmFmdE1vZGUodHJ1ZSk7XG4gICAgICAgIGpvYk1hbmFnZW1lbnQuc3RhcnRFbGFwc2VkVGltZVRyYWNraW5nKCdkcmFmdCcpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2FyZEdlbmVyYXRpb24uc2V0SXNHZW5lcmF0aW5nKHRydWUpO1xuICAgICAgICBqb2JNYW5hZ2VtZW50LnN0YXJ0RWxhcHNlZFRpbWVUcmFja2luZygnZmluYWwnKTtcbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgLy8gVXBkYXRlIHByb2dyZXNzIGlmIHByb3ZpZGVkXG4gICAgaWYgKHByb2dyZXNzKSB7XG4gICAgICAvLyBJTVBPUlRBTlQ6IERvbid0IHNob3cgXCJHZW5lcmF0aW9uIGNvbXBsZXRlIVwiIHVudGlsIHdlJ3ZlIGFjdHVhbGx5IHByb2Nlc3NlZCB0aGUgY2FyZFxuICAgICAgLy8gVGhpcyBwcmV2ZW50cyB0aGUgVUkgZnJvbSBzaG93aW5nIGNvbXBsZXRpb24gYmVmb3JlIHRoZSBjYXJkIGlzIHJlYWR5XG4gICAgICBpZiAocHJvZ3Jlc3MuaW5jbHVkZXMoJ0dlbmVyYXRpb24gY29tcGxldGUhJykgJiYgc3RhdHVzID09PSAnY29tcGxldGVkJyAmJiAhaXNEcmFmdEpvYikge1xuICAgICAgICBjb25zb2xlLmxvZygn4o+477iPIEhvbGRpbmcgXCJHZW5lcmF0aW9uIGNvbXBsZXRlIVwiIG1lc3NhZ2UgdW50aWwgY2FyZCBpcyBwcm9jZXNzZWQnKTtcbiAgICAgICAgLy8gRG9uJ3QgdXBkYXRlIHRoZSBwcm9ncmVzcyBtZXNzYWdlIHlldCAtIGl0IHdpbGwgYmUgc2V0IGluIGhhbmRsZUZpbmFsQ2FyZENvbXBsZXRpb25cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNhcmRHZW5lcmF0aW9uLnNldEdlbmVyYXRpb25Qcm9ncmVzcyhwcm9ncmVzcyk7XG4gICAgICAgIGRyYWZ0R2VuZXJhdGlvbi5zZXRHZW5lcmF0aW9uUHJvZ3Jlc3MocHJvZ3Jlc3MpO1xuICAgICAgICBjb25zb2xlLmxvZyhg8J+TiiBQcm9ncmVzcyBtZXNzYWdlOiAke3Byb2dyZXNzfWApO1xuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICBpZiAoc3RhdHVzID09PSAnY29tcGxldGVkJyAmJiBjYXJkRGF0YSkge1xuICAgICAgY29uc29sZS5sb2coJ/CfjokgSm9iIGNvbXBsZXRlZCEgQ2FyZCBkYXRhOicsIGNhcmREYXRhLCAnaXNEcmFmdEpvYjonLCBpc0RyYWZ0Sm9iKTtcbiAgICAgIFxuICAgICAgLy8gSWYgdGhpcyBpcyB0aGUgZmlyc3QgdXBkYXRlIGZvciBhIHJlY292ZXJ5IGpvYiwgZW5zdXJlIGdlbmVyYXRpb24gc3RhdGUgaXMgc2V0IHByb3Blcmx5XG4gICAgICBpZiAoaXNEcmFmdEpvYiAmJiAhZHJhZnRHZW5lcmF0aW9uLmlzR2VuZXJhdGluZyAmJiBkcmFmdEdlbmVyYXRpb24uZHJhZnRDYXJkcy5maWx0ZXIoQm9vbGVhbikubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCfwn5OlIFJlY292ZXJlZCBjb21wbGV0ZWQgZHJhZnQgam9iIC0gbm90IHNldHRpbmcgYXMgZ2VuZXJhdGluZycpO1xuICAgICAgICAvLyBEb24ndCBzZXQgaXNHZW5lcmF0aW5nIGZvciBhbHJlYWR5IGNvbXBsZXRlZCBqb2JzIGR1cmluZyByZWNvdmVyeVxuICAgICAgfVxuICAgICAgXG4gICAgICBpZiAoaXNEcmFmdEpvYiAmJiBkcmFmdEluZGV4ID49IDApIHtcbiAgICAgICAgLy8gSGFuZGxlIGRyYWZ0IGNhcmQgY29tcGxldGlvblxuICAgICAgICBjb25zb2xlLmxvZyhg8J+OqCBEcmFmdCB2YXJpYXRpb24gJHtkcmFmdEluZGV4ICsgMX0gY29tcGxldGVkIWApO1xuICAgICAgICBcbiAgICAgICAgLy8gR2V0IHN0eWxlIGluZm8gZm9yIHNtYXJ0IHN0eWxlIG1vZGVcbiAgICAgICAgbGV0IHN0eWxlSW5mbzogeyBzdHlsZU5hbWU6IHN0cmluZzsgc3R5bGVMYWJlbDogc3RyaW5nIH0gfCB1bmRlZmluZWQgPSB1bmRlZmluZWQ7XG4gICAgICAgIGlmIChzZWxlY3RlZEFydGlzdGljU3R5bGUgPT09IFwiYWktc21hcnQtc3R5bGVcIikge1xuICAgICAgICAgIGNvbnN0IHByZWRlZmluZWRTdHlsZXMgPSBbXG4gICAgICAgICAgICBcIndhdGVyY29sb3JcIiwgXCJib3RhbmljYWxcIiwgXCJjb21pYy1ib29rXCIsIFwiZHJlYW15LWZhbnRhc3lcIiwgXCJtaW5pbWFsaXN0XCJcbiAgICAgICAgICBdO1xuICAgICAgICAgIGNvbnN0IHN0eWxlTGFiZWxzID0gW1xuICAgICAgICAgICAgXCLwn46oIFdhdGVyY29sb3JcIiwgXCLwn4y/IEJvdGFuaWNhbFwiLCBcIvCfkqUgQ29taWMgQm9va1wiLCBcIvCfjLggRHJlYW15IEZhbnRhc3lcIiwgXCLinKggTWluaW1hbGlzdFwiXG4gICAgICAgICAgXTtcbiAgICAgICAgICBpZiAoZHJhZnRJbmRleCA+PSAwICYmIGRyYWZ0SW5kZXggPCBwcmVkZWZpbmVkU3R5bGVzLmxlbmd0aCkge1xuICAgICAgICAgICAgc3R5bGVJbmZvID0ge1xuICAgICAgICAgICAgICBzdHlsZU5hbWU6IHByZWRlZmluZWRTdHlsZXNbZHJhZnRJbmRleF0sXG4gICAgICAgICAgICAgIHN0eWxlTGFiZWw6IHN0eWxlTGFiZWxzW2RyYWZ0SW5kZXhdXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGRyYWZ0Q2FyZDogR2VuZXJhdGVkQ2FyZCA9IHtcbiAgICAgICAgICBpZDogYGRyYWZ0LSR7ZHJhZnRJbmRleCArIDF9LSR7RGF0ZS5ub3coKX1gLFxuICAgICAgICAgIHByb21wdDogY2FyZERhdGEucHJvbXB0IHx8IGBEcmFmdCBWYXJpYXRpb24gJHtkcmFmdEluZGV4ICsgMX1gLFxuICAgICAgICAgIGZyb250Q292ZXI6IGNhcmREYXRhLmZyb250Q292ZXIgfHwgXCJcIixcbiAgICAgICAgICBiYWNrQ292ZXI6IGNhcmREYXRhLmJhY2tDb3ZlciB8fCBcIlwiLFxuICAgICAgICAgIGxlZnRQYWdlOiBjYXJkRGF0YS5sZWZ0SW50ZXJpb3IgfHwgY2FyZERhdGEubGVmdFBhZ2UgfHwgXCJcIixcbiAgICAgICAgICByaWdodFBhZ2U6IGNhcmREYXRhLnJpZ2h0SW50ZXJpb3IgfHwgY2FyZERhdGEucmlnaHRQYWdlIHx8IFwiXCIsXG4gICAgICAgICAgY3JlYXRlZEF0OiBuZXcgRGF0ZSgpLFxuICAgICAgICAgIGdlbmVyYXRlZFByb21wdHM6IGNhcmREYXRhLmdlbmVyYXRlZFByb21wdHMgfHwge1xuICAgICAgICAgICAgZnJvbnRDb3ZlcjogY2FyZERhdGEuZ2VuZXJhdGVkUHJvbXB0cz8uZnJvbnRDb3ZlciB8fCBcIlwiLFxuICAgICAgICAgICAgYmFja0NvdmVyOiBjYXJkRGF0YS5nZW5lcmF0ZWRQcm9tcHRzPy5iYWNrQ292ZXIgfHwgXCJcIixcbiAgICAgICAgICAgIGxlZnRJbnRlcmlvcjogY2FyZERhdGEuZ2VuZXJhdGVkUHJvbXB0cz8ubGVmdEludGVyaW9yIHx8IFwiXCIsXG4gICAgICAgICAgICByaWdodEludGVyaW9yOiBjYXJkRGF0YS5nZW5lcmF0ZWRQcm9tcHRzPy5yaWdodEludGVyaW9yIHx8IFwiXCJcbiAgICAgICAgICB9LFxuICAgICAgICAgIHN0eWxlSW5mbzogc3R5bGVJbmZvXG4gICAgICAgIH07XG4gICAgICAgIFxuICAgICAgICAvLyBTaW1wbGlmaWVkIGRyYWZ0IHRyYWNraW5nIC0gdXNlIGZpeGVkIGFycmF5IHBvc2l0aW9uc1xuICAgICAgICBkcmFmdEdlbmVyYXRpb24uc2V0RHJhZnRDYXJkcyhwcmV2ID0+IHtcbiAgICAgICAgICBjb25zdCB1cGRhdGVkID0gWy4uLnByZXZdO1xuICAgICAgICAgIC8vIEVuc3VyZSBhcnJheSBoYXMgNSBzbG90c1xuICAgICAgICAgIHdoaWxlICh1cGRhdGVkLmxlbmd0aCA8IDUpIHtcbiAgICAgICAgICAgIHVwZGF0ZWQucHVzaChudWxsIGFzIGFueSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIFBsYWNlIGRyYWZ0IGF0IGl0cyBjb3JyZWN0IGluZGV4XG4gICAgICAgICAgdXBkYXRlZFtkcmFmdEluZGV4XSA9IGRyYWZ0Q2FyZDtcbiAgICAgICAgICBjb25zb2xlLmxvZyhg4pyFIERyYWZ0ICR7ZHJhZnRJbmRleCArIDF9IGNvbXBsZXRlZCBhbmQgc3RvcmVkIGF0IGluZGV4ICR7ZHJhZnRJbmRleH1gKTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBObyBsb25nZXIgc2F2ZSBpbmRpdmlkdWFsIGRyYWZ0cyB0byBsb2NhbFN0b3JhZ2VcbiAgICAgICAgICBcbiAgICAgICAgICByZXR1cm4gdXBkYXRlZDtcbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICAvLyBTaW1wbGlmaWVkIGNvbXBsZXRpb24gdHJhY2tpbmcgLSBjb3VudCB0aGUgdXBkYXRlZCBhcnJheSBpbmNsdWRpbmcgdGhlIG5ldyBkcmFmdFxuICAgICAgICBjb25zdCB1cGRhdGVkRHJhZnRzID0gWy4uLmRyYWZ0R2VuZXJhdGlvbi5kcmFmdENhcmRzXTtcbiAgICAgICAgdXBkYXRlZERyYWZ0c1tkcmFmdEluZGV4XSA9IGRyYWZ0Q2FyZDtcbiAgICAgICAgY29uc3QgY29tcGxldGVkQ291bnQgPSB1cGRhdGVkRHJhZnRzLmZpbHRlcihCb29sZWFuKS5sZW5ndGg7XG4gICAgICAgIGNvbnNvbGUubG9nKGDwn5OKIERyYWZ0IHByb2dyZXNzOiAke2NvbXBsZXRlZENvdW50fS81IHZhcmlhdGlvbnMgY29tcGxldGVgKTtcbiAgICAgICAgXG4gICAgICAgIC8vIFVwZGF0ZSBwcm9ncmVzc1xuICAgICAgICBjb25zdCBwcm9ncmVzc01zZyA9IGNvbXBsZXRlZENvdW50ID09PSA1IFxuICAgICAgICAgID8gXCJBbGwgNSB2YXJpYXRpb25zIHJlYWR5ISBDaG9vc2UgeW91ciBmYXZvcml0ZSBiZWxvdy5cIlxuICAgICAgICAgIDogYCR7Y29tcGxldGVkQ291bnR9LzUgdmFyaWF0aW9ucyBjb21wbGV0ZS4uLiR7Y29tcGxldGVkQ291bnQgPj0gMiA/IFwiIFlvdSBjYW4gc2VsZWN0IG9uZSBub3chXCIgOiBcIlwifWA7XG4gICAgICAgIFxuICAgICAgICBkcmFmdEdlbmVyYXRpb24uc2V0R2VuZXJhdGlvblByb2dyZXNzKHByb2dyZXNzTXNnKTtcbiAgICAgICAgXG4gICAgICAgIC8vIE92ZXJyaWRlIHRpbWUtYmFzZWQgcHJvZ3Jlc3Mgd2l0aCByZWFsIHByb2dyZXNzIHdoZW4gZHJhZnRzIGNvbXBsZXRlXG4gICAgICAgIC8vIERvbid0IG92ZXJyaWRlIHRpbWUtYmFzZWQgcHJvZ3Jlc3NcbiAgICAgICAgY29uc29sZS5sb2coYPCfjqggRHJhZnQgJHtjb21wbGV0ZWRDb3VudH0vNSBjb21wbGV0ZWRgKTtcbiAgICAgICAgXG4gICAgICAgIC8vIEhhbmRsZSBtaWxlc3RvbmVzXG4gICAgICAgIGlmIChjb21wbGV0ZWRDb3VudCA9PT0gMSkge1xuICAgICAgICAgIHNjcm9sbFRvQ2FyZFByZXZpZXcoKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgaWYgKGNvbXBsZXRlZENvdW50ID09PSA1ICYmICFkcmFmdEdlbmVyYXRpb24uaXNHZW5lcmF0aW5nRmluYWxDYXJkKSB7XG4gICAgICAgICAgZHJhZnRHZW5lcmF0aW9uLnNldElzR2VuZXJhdGluZyhmYWxzZSk7XG4gICAgICAgICAgam9iTWFuYWdlbWVudC5zdG9wRWxhcHNlZFRpbWVUcmFja2luZygpO1xuICAgICAgICAgIHRvYXN0LnN1Y2Nlc3MoXCLwn46oIEFsbCA1IGZyb250IGNvdmVyIHZhcmlhdGlvbnMgcmVhZHkhIENob29zZSB5b3VyIGZhdm9yaXRlIGJlbG93LlwiKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gS2VlcCBkcmFmdCBqb2JzIGluIHN0b3JhZ2UgZm9yIGxhdGVyIHJldHJpZXZhbFxuICAgICAgICAvLyBPbmx5IHVuc3Vic2NyaWJlIGZyb20gV2ViU29ja2V0XG4gICAgICAgIHdlYlNvY2tldC51bnN1YnNjcmliZUZyb21Kb2Ioam9iX2lkKTtcbiAgICAgICAgY29uc29sZS5sb2coYOKchSBLZWVwaW5nIGRyYWZ0IGpvYiAke2pvYl9pZH0gaW4gc3RvcmFnZSBmb3IgZnV0dXJlIGFjY2Vzc2ApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gSGFuZGxlIGZpbmFsIGNhcmQgY29tcGxldGlvblxuICAgICAgICBjb25zb2xlLmxvZygn8J+UjSBGaW5hbCBjYXJkIGNvbXBsZXRpb24gZGV0ZWN0ZWQuIENhcmQgZGF0YSBzdHJ1Y3R1cmU6Jywge1xuICAgICAgICAgIGhhc0NhcmREYXRhOiAhIWNhcmREYXRhLFxuICAgICAgICAgIGNhcmREYXRhS2V5czogT2JqZWN0LmtleXMoY2FyZERhdGEgfHwge30pLFxuICAgICAgICAgIGZyb250Q292ZXI6IGNhcmREYXRhPy5mcm9udENvdmVyID8gJ1ByZXNlbnQnIDogJ01pc3NpbmcnLFxuICAgICAgICAgIGJhY2tDb3ZlcjogY2FyZERhdGE/LmJhY2tDb3ZlciA/ICdQcmVzZW50JyA6ICdNaXNzaW5nJyxcbiAgICAgICAgICBsZWZ0SW50ZXJpb3I6IGNhcmREYXRhPy5sZWZ0SW50ZXJpb3IgPyAnUHJlc2VudCcgOiAnTWlzc2luZycsXG4gICAgICAgICAgcmlnaHRJbnRlcmlvcjogY2FyZERhdGE/LnJpZ2h0SW50ZXJpb3IgPyAnUHJlc2VudCcgOiAnTWlzc2luZycsXG4gICAgICAgICAgbGVmdFBhZ2U6IGNhcmREYXRhPy5sZWZ0UGFnZSA/ICdQcmVzZW50JyA6ICdNaXNzaW5nJyxcbiAgICAgICAgICByaWdodFBhZ2U6IGNhcmREYXRhPy5yaWdodFBhZ2UgPyAnUHJlc2VudCcgOiAnTWlzc2luZycsXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zb2xlLmxvZygn8J+TnSBGdWxsIGNhcmQgZGF0YTonLCBKU09OLnN0cmluZ2lmeShjYXJkRGF0YSwgbnVsbCwgMikpO1xuICAgICAgICBcbiAgICAgICAgLy8gTWFwIGJhY2tlbmQgZmllbGQgbmFtZXMgdG8gZnJvbnRlbmQgZmllbGQgbmFtZXNcbiAgICAgICAgY29uc3QgbWFwcGVkQ2FyZERhdGEgPSB7XG4gICAgICAgICAgLi4uY2FyZERhdGEsXG4gICAgICAgICAgbGVmdEludGVyaW9yOiBjYXJkRGF0YS5sZWZ0SW50ZXJpb3IgfHwgY2FyZERhdGEubGVmdFBhZ2UsXG4gICAgICAgICAgcmlnaHRJbnRlcmlvcjogY2FyZERhdGEucmlnaHRJbnRlcmlvciB8fCBjYXJkRGF0YS5yaWdodFBhZ2UsXG4gICAgICAgICAgLy8gS2VlcCBvcmlnaW5hbCBmaWVsZHMgZm9yIGJhY2t3YXJkIGNvbXBhdGliaWxpdHlcbiAgICAgICAgICBsZWZ0UGFnZTogY2FyZERhdGEubGVmdFBhZ2UgfHwgY2FyZERhdGEubGVmdEludGVyaW9yLFxuICAgICAgICAgIHJpZ2h0UGFnZTogY2FyZERhdGEucmlnaHRQYWdlIHx8IGNhcmREYXRhLnJpZ2h0SW50ZXJpb3IsXG4gICAgICAgIH07XG4gICAgICAgIFxuICAgICAgICBjb25zb2xlLmxvZygn8J+UhCBNYXBwZWQgY2FyZCBkYXRhIGZvciBmcm9udGVuZCBjb21wYXRpYmlsaXR5OicsIHtcbiAgICAgICAgICBmcm9udENvdmVyOiBtYXBwZWRDYXJkRGF0YS5mcm9udENvdmVyID8gJ1ByZXNlbnQnIDogJ01pc3NpbmcnLFxuICAgICAgICAgIGJhY2tDb3ZlcjogbWFwcGVkQ2FyZERhdGEuYmFja0NvdmVyID8gJ1ByZXNlbnQnIDogJ01pc3NpbmcnLFxuICAgICAgICAgIGxlZnRJbnRlcmlvcjogbWFwcGVkQ2FyZERhdGEubGVmdEludGVyaW9yID8gJ1ByZXNlbnQnIDogJ01pc3NpbmcnLFxuICAgICAgICAgIHJpZ2h0SW50ZXJpb3I6IG1hcHBlZENhcmREYXRhLnJpZ2h0SW50ZXJpb3IgPyAnUHJlc2VudCcgOiAnTWlzc2luZycsXG4gICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgLy8gQ2FsbCB0aGUgY29tcGxldGlvbiBoYW5kbGVyXG4gICAgICAgIGNvbnNvbGUubG9nKCfwn5qAIENhbGxpbmcgaGFuZGxlRmluYWxDYXJkQ29tcGxldGlvbi4uLicpO1xuICAgICAgICBjYXJkR2VuZXJhdGlvbi5oYW5kbGVGaW5hbENhcmRDb21wbGV0aW9uKG1hcHBlZENhcmREYXRhKTtcbiAgICAgICAgXG4gICAgICAgIC8vIENhcmQgaXMgYXV0b21hdGljYWxseSBhZGRlZCB0byByZWNlbnQgY2FyZHMgYnkgbWFya0pvYkNvbXBsZXRlXG4gICAgICAgIFxuICAgICAgICAvLyBPbmx5IGNsZWFyIHJlY292ZXJ5IGlmIHdlJ3JlIG5vdCBpbiB0aGUgbWlkZGxlIG9mIHJlc3RvcmluZ1xuICAgICAgICBpZiAoIWlzUmVzdG9yaW5nSm9icykge1xuICAgICAgICAgIGpvYk1hbmFnZW1lbnQucmVtb3ZlSm9iRnJvbVN0b3JhZ2Uoam9iX2lkKTtcbiAgICAgICAgfVxuICAgICAgICBqb2JNYW5hZ2VtZW50LnNldEN1cnJlbnRKb2JJZChudWxsKTtcbiAgICAgICAgd2ViU29ja2V0LnVuc3Vic2NyaWJlRnJvbUpvYihqb2JfaWQpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoc3RhdHVzID09PSAnZmFpbGVkJykge1xuICAgICAgY29uc29sZS5lcnJvcign4p2MIEpvYiBmYWlsZWQ6JywgZXJyb3IpO1xuICAgICAgXG4gICAgICBpZiAoaXNEcmFmdEpvYiAmJiBkcmFmdEluZGV4ID49IDApIHtcbiAgICAgICAgdG9hc3QuZXJyb3IoYERyYWZ0IHZhcmlhdGlvbiAke2RyYWZ0SW5kZXggKyAxfSBmYWlsZWQuIENvbnRpbnVpbmcgd2l0aCBvdGhlcnMuLi5gKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRvYXN0LmVycm9yKFwi4p2MIENhcmQgZ2VuZXJhdGlvbiBmYWlsZWQuIFBsZWFzZSB0cnkgYWdhaW4uXCIpO1xuICAgICAgICBjYXJkR2VuZXJhdGlvbi5zZXRJc0dlbmVyYXRpbmcoZmFsc2UpO1xuICAgICAgICBkcmFmdEdlbmVyYXRpb24uc2V0SXNHZW5lcmF0aW5nRmluYWxDYXJkKGZhbHNlKTtcbiAgICAgICAgam9iTWFuYWdlbWVudC5zdG9wRWxhcHNlZFRpbWVUcmFja2luZygpO1xuICAgICAgICBjYXJkR2VuZXJhdGlvbi5zZXRHZW5lcmF0aW9uUHJvZ3Jlc3MoXCJcIik7XG4gICAgICAgIC8vIERvbid0IHJlc2V0IHByb2dyZXNzIC0gbGV0IHRpbWUtYmFzZWQgcHJvZ3Jlc3MgY29udGludWVcbiAgICAgICAgLy8gam9iTWFuYWdlbWVudC5zZXRQcm9ncmVzc1BlcmNlbnRhZ2UoMCk7XG4gICAgICAgIGpvYk1hbmFnZW1lbnQuc2V0Q3VycmVudEpvYklkKG51bGwpO1xuICAgICAgICB3ZWJTb2NrZXQudW5zdWJzY3JpYmVGcm9tSm9iKGpvYl9pZCk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIE9ubHkgY2xlYXIgcmVjb3ZlcnkgaWYgd2UncmUgbm90IGluIHRoZSBtaWRkbGUgb2YgcmVzdG9yaW5nXG4gICAgICBpZiAoIWlzUmVzdG9yaW5nSm9icykge1xuICAgICAgICBqb2JNYW5hZ2VtZW50LnJlbW92ZUpvYkZyb21TdG9yYWdlKGpvYl9pZCk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChzdGF0dXMgPT09ICdub3RfZm91bmQnKSB7XG4gICAgICBjb25zb2xlLndhcm4oJ+KaoO+4jyBKb2Igbm90IGZvdW5kIG9uIHNlcnZlciwgY2xlYW5pbmcgdXAgc3RhbGUgcmVmZXJlbmNlOicsIGpvYl9pZCk7XG4gICAgICBcbiAgICAgIC8vIENsZWFuIHVwIHN0YWxlIGpvYiByZWZlcmVuY2VcbiAgICAgIGlmICh3ZWJTb2NrZXQuY3VycmVudEpvYlJlZi5jdXJyZW50ID09PSBqb2JfaWQpIHtcbiAgICAgICAgd2ViU29ja2V0LmN1cnJlbnRKb2JSZWYuY3VycmVudCA9IG51bGw7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIFJlc2V0IFVJIHN0YXRlIGlmIHRoaXMgd2FzIHRoZSBjdXJyZW50IGpvYlxuICAgICAgaWYgKGpvYk1hbmFnZW1lbnQuY3VycmVudEpvYklkID09PSBqb2JfaWQpIHtcbiAgICAgICAgam9iTWFuYWdlbWVudC5zZXRDdXJyZW50Sm9iSWQobnVsbCk7XG4gICAgICAgIGNhcmRHZW5lcmF0aW9uLnNldElzR2VuZXJhdGluZyhmYWxzZSk7XG4gICAgICAgIGRyYWZ0R2VuZXJhdGlvbi5zZXRJc0dlbmVyYXRpbmdGaW5hbENhcmQoZmFsc2UpO1xuICAgICAgICBjYXJkR2VuZXJhdGlvbi5zZXRHZW5lcmF0aW9uUHJvZ3Jlc3MoXCJcIik7XG4gICAgICAgIC8vIERvbid0IHJlc2V0IHByb2dyZXNzIC0gbGV0IHRpbWUtYmFzZWQgcHJvZ3Jlc3MgY29udGludWVcbiAgICAgICAgLy8gam9iTWFuYWdlbWVudC5zZXRQcm9ncmVzc1BlcmNlbnRhZ2UoMCk7XG4gICAgICAgIGpvYk1hbmFnZW1lbnQuc3RvcEVsYXBzZWRUaW1lVHJhY2tpbmcoKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gQ2xlYW4gdXAgc3RvcmFnZVxuICAgICAgLy8gT25seSBjbGVhciByZWNvdmVyeSBpZiB3ZSdyZSBub3QgaW4gdGhlIG1pZGRsZSBvZiByZXN0b3JpbmdcbiAgICAgIGlmICghaXNSZXN0b3JpbmdKb2JzKSB7XG4gICAgICAgIGpvYk1hbmFnZW1lbnQucmVtb3ZlSm9iRnJvbVN0b3JhZ2Uoam9iX2lkKTtcbiAgICAgIH1cbiAgICAgIHdlYlNvY2tldC51bnN1YnNjcmliZUZyb21Kb2Ioam9iX2lkKTtcbiAgICB9XG4gIH0sIFtzZWxlY3RlZEFydGlzdGljU3R5bGUsIGRyYWZ0R2VuZXJhdGlvbiwgY2FyZEdlbmVyYXRpb24sIGpvYk1hbmFnZW1lbnQsIHdlYlNvY2tldCwgaXNSZXN0b3JpbmdKb2JzXSk7XG5cbiAgLy8gU2V0IHVwIFdlYlNvY2tldCBqb2IgdXBkYXRlIGhhbmRsZXJcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICB3ZWJTb2NrZXQuc2V0Sm9iVXBkYXRlSGFuZGxlcihoYW5kbGVKb2JVcGRhdGUpO1xuICB9LCBbd2ViU29ja2V0LCBoYW5kbGVKb2JVcGRhdGVdKTtcblxuICAvLyBUcmFjayBpZiB3ZSd2ZSBhbHJlYWR5IGxvZ2dlZCB0aGUgc3RhbGUgam9iIG1lc3NhZ2VcbiAgY29uc3Qgc3RhbGVKb2JMb2dnZWRSZWYgPSB1c2VSZWYoZmFsc2UpO1xuXG4gIC8vIEF1dG8tcmVjb25uZWN0IFdlYlNvY2tldCBpZiBkaXNjb25uZWN0ZWQgZHVyaW5nIGFjdGl2ZSBnZW5lcmF0aW9uXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCF3ZWJTb2NrZXQuaXNTb2NrZXRDb25uZWN0ZWQgJiYgXG4gICAgICAgIChjYXJkR2VuZXJhdGlvbi5pc0dlbmVyYXRpbmcgfHwgZHJhZnRHZW5lcmF0aW9uLmlzR2VuZXJhdGluZ0ZpbmFsQ2FyZCkgJiYgXG4gICAgICAgIHdlYlNvY2tldC5jdXJyZW50Sm9iUmVmLmN1cnJlbnQpIHtcbiAgICAgIFxuICAgICAgLy8gQ2hlY2sgaWYgdGhlIGdlbmVyYXRpb24gaGFzIGJlZW4gcnVubmluZyBmb3IgbW9yZSB0aGFuIDUgbWludXRlc1xuICAgICAgaWYgKGpvYk1hbmFnZW1lbnQuZ2VuZXJhdGlvblN0YXJ0VGltZSkge1xuICAgICAgICBjb25zdCBqb2JBZ2UgPSBEYXRlLm5vdygpIC0gam9iTWFuYWdlbWVudC5nZW5lcmF0aW9uU3RhcnRUaW1lO1xuICAgICAgICBpZiAoam9iQWdlID4gNSAqIDYwICogMTAwMCkgeyAvLyA1IG1pbnV0ZXNcbiAgICAgICAgICBpZiAoIXN0YWxlSm9iTG9nZ2VkUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfij7AgSm9iIGlzIG9sZGVyIHRoYW4gNSBtaW51dGVzLCBzdG9wcGluZyByZWNvbm5lY3Rpb24gYXR0ZW1wdHMnKTtcbiAgICAgICAgICAgIHN0YWxlSm9iTG9nZ2VkUmVmLmN1cnJlbnQgPSB0cnVlO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBDbGVhbiB1cCBzdGFsZSBqb2JcbiAgICAgICAgICAgIGNvbnN0IGpvYklkID0gd2ViU29ja2V0LmN1cnJlbnRKb2JSZWYuY3VycmVudDtcbiAgICAgICAgICAgIGlmIChqb2JJZCkge1xuICAgICAgICAgICAgICBjb25zb2xlLmxvZygn8J+nuSBDbGVhbmluZyB1cCBzdGFsZSBqb2I6Jywgam9iSWQpO1xuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgLy8gUmVtb3ZlIGZyb20gbG9jYWxTdG9yYWdlIChvbmx5IGlmIG5vdCBhIGRyYWZ0IGpvYilcbiAgICAgICAgICAgICAgaWYgKCFqb2JJZC5zdGFydHNXaXRoKCdkcmFmdC0nKSkge1xuICAgICAgICAgICAgICAgIGpvYk1hbmFnZW1lbnQucmVtb3ZlSm9iRnJvbVN0b3JhZ2Uoam9iSWQpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAvLyBSZXNldCBnZW5lcmF0aW9uIHN0YXRlc1xuICAgICAgICAgICAgICBjYXJkR2VuZXJhdGlvbi5zZXRJc0dlbmVyYXRpbmcoZmFsc2UpO1xuICAgICAgICAgICAgICBkcmFmdEdlbmVyYXRpb24uc2V0SXNHZW5lcmF0aW5nRmluYWxDYXJkKGZhbHNlKTtcbiAgICAgICAgICAgICAgZHJhZnRHZW5lcmF0aW9uLnNldElzRHJhZnRNb2RlKGZhbHNlKTtcbiAgICAgICAgICAgICAgZHJhZnRHZW5lcmF0aW9uLnNldERyYWZ0Q2FyZHMoW10pO1xuICAgICAgICAgICAgICBkcmFmdEdlbmVyYXRpb24uc2V0RHJhZnRDb21wbGV0aW9uQ291bnQoMCk7XG4gICAgICAgICAgICAgIGRyYWZ0R2VuZXJhdGlvbi5zZXREcmFmdENvbXBsZXRpb25TaG93bihmYWxzZSk7XG4gICAgICAgICAgICAgIGpvYk1hbmFnZW1lbnQuc2V0Q3VycmVudEpvYklkKG51bGwpO1xuICAgICAgICAgICAgICBqb2JNYW5hZ2VtZW50LnNldEdlbmVyYXRpb25Qcm9ncmVzcygnJyk7XG4gICAgICAgICAgICAgIC8vIERvbid0IHJlc2V0IHByb2dyZXNzIC0gbGV0IHRpbWUtYmFzZWQgcHJvZ3Jlc3MgY29udGludWVcbiAgICAgICAgLy8gam9iTWFuYWdlbWVudC5zZXRQcm9ncmVzc1BlcmNlbnRhZ2UoMCk7XG4gICAgICAgICAgICAgIGpvYk1hbmFnZW1lbnQuc3RvcEVsYXBzZWRUaW1lVHJhY2tpbmcoKTtcbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIC8vIFVuc3Vic2NyaWJlIGZyb20gam9iXG4gICAgICAgICAgICAgIHdlYlNvY2tldC51bnN1YnNjcmliZUZyb21Kb2Ioam9iSWQpO1xuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgLy8gU2hvdyBlcnJvciB0b2FzdFxuICAgICAgICAgICAgICB0b2FzdC5lcnJvcignQ2FyZCBnZW5lcmF0aW9uIHRpbWVkIG91dC4gUGxlYXNlIHRyeSBhZ2Fpbi4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBcbiAgICAgIGNvbnNvbGUubG9nKCfwn5SEIFdlYlNvY2tldCBkaXNjb25uZWN0ZWQgZHVyaW5nIGdlbmVyYXRpb24sIGF0dGVtcHRpbmcgcmVjb25uZWN0Li4uJyk7XG4gICAgICBjb25zdCByZWNvbm5lY3RUaW1lciA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICB3ZWJTb2NrZXQuY29ubmVjdFdlYlNvY2tldCgpO1xuICAgICAgICBcbiAgICAgICAgLy8gUmUtc3Vic2NyaWJlIHRvIGN1cnJlbnQgam9iIGFmdGVyIHJlY29ubmVjdGlvblxuICAgICAgICBjb25zdCBqb2JJZCA9IHdlYlNvY2tldC5jdXJyZW50Sm9iUmVmLmN1cnJlbnQ7XG4gICAgICAgIGlmIChqb2JJZCkge1xuICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ/Cfk6EgUmUtc3Vic2NyaWJpbmcgdG8gam9iIGFmdGVyIHJlY29ubmVjdDonLCBqb2JJZCk7XG4gICAgICAgICAgICB3ZWJTb2NrZXQuc3Vic2NyaWJlVG9Kb2Ioam9iSWQpO1xuICAgICAgICAgIH0sIDEwMDApO1xuICAgICAgICB9XG4gICAgICB9LCAyMDAwKTtcbiAgICAgIFxuICAgICAgcmV0dXJuICgpID0+IGNsZWFyVGltZW91dChyZWNvbm5lY3RUaW1lcik7XG4gICAgfVxuICB9LCBbd2ViU29ja2V0LCBjYXJkR2VuZXJhdGlvbi5pc0dlbmVyYXRpbmcsIGRyYWZ0R2VuZXJhdGlvbi5pc0dlbmVyYXRpbmdGaW5hbENhcmQsIGpvYk1hbmFnZW1lbnQuZ2VuZXJhdGlvblN0YXJ0VGltZV0pO1xuXG4gIC8vIFJlc2V0IHN0YWxlIGpvYiBmbGFnIHdoZW4gZ2VuZXJhdGlvbiBzdGFydHNcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoY2FyZEdlbmVyYXRpb24uaXNHZW5lcmF0aW5nIHx8IGRyYWZ0R2VuZXJhdGlvbi5pc0dlbmVyYXRpbmdGaW5hbENhcmQpIHtcbiAgICAgIHN0YWxlSm9iTG9nZ2VkUmVmLmN1cnJlbnQgPSBmYWxzZTtcbiAgICB9XG4gIH0sIFtjYXJkR2VuZXJhdGlvbi5pc0dlbmVyYXRpbmcsIGRyYWZ0R2VuZXJhdGlvbi5pc0dlbmVyYXRpbmdGaW5hbENhcmRdKTtcblxuICAvLyBNb25pdG9yIGZvciBzdGFsZSBqb2IgdXBkYXRlc1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICgoY2FyZEdlbmVyYXRpb24uaXNHZW5lcmF0aW5nIHx8IGRyYWZ0R2VuZXJhdGlvbi5pc0dlbmVyYXRpbmdGaW5hbENhcmQpICYmIFxuICAgICAgICB3ZWJTb2NrZXQuY3VycmVudEpvYlJlZi5jdXJyZW50KSB7XG4gICAgICBjb25zdCBjaGVja0ludGVydmFsID0gc2V0SW50ZXJ2YWwoYXN5bmMgKCkgPT4ge1xuICAgICAgICBjb25zdCB0aW1lU2luY2VMYXN0VXBkYXRlID0gRGF0ZS5ub3coKSAtIHdlYlNvY2tldC5sYXN0Sm9iVXBkYXRlUmVmLmN1cnJlbnQ7XG4gICAgICAgIGNvbnN0IGpvYklkID0gd2ViU29ja2V0LmN1cnJlbnRKb2JSZWYuY3VycmVudDtcbiAgICAgICAgXG4gICAgICAgIC8vIFZlcnkgYWdncmVzc2l2ZSBjaGVja2luZyB3aGVuIGF0IDk1JSsgcHJvZ3Jlc3NcbiAgICAgICAgaWYgKGpvYk1hbmFnZW1lbnQucHJvZ3Jlc3NQZXJjZW50YWdlID49IDk1ICYmIHRpbWVTaW5jZUxhc3RVcGRhdGUgPiA1MDAwKSB7XG4gICAgICAgICAgY29uc29sZS53YXJuKGDimqDvuI8gTm8gdXBkYXRlcyBmb3IgJHtNYXRoLnJvdW5kKHRpbWVTaW5jZUxhc3RVcGRhdGUvMTAwMCl9cyBhdCAke2pvYk1hbmFnZW1lbnQucHJvZ3Jlc3NQZXJjZW50YWdlfSUgcHJvZ3Jlc3MgLSBjaGVja2luZyBqb2Igc3RhdHVzLi4uYCk7XG4gICAgICAgICAgXG4gICAgICAgICAgaWYgKGpvYklkKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAvYXBpL2pvYi1zdGF0dXMvJHtqb2JJZH1gKTtcbiAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgam9iU3RhdHVzID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5OKIERpcmVjdCBqb2Igc3RhdHVzIGNoZWNrOicsIGpvYlN0YXR1cyk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgaWYgKGpvYlN0YXR1cy5zdGF0dXMgPT09ICdjb21wbGV0ZWQnICYmIGpvYlN0YXR1cy5jYXJkRGF0YSkge1xuICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+KchSBKb2IgaXMgYWN0dWFsbHkgY29tcGxldGVkISBQcm9jZXNzaW5nIHJlc3VsdC4uLicpO1xuICAgICAgICAgICAgICAgICAgaGFuZGxlSm9iVXBkYXRlKHtcbiAgICAgICAgICAgICAgICAgICAgam9iX2lkOiBqb2JJZCxcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiAnY29tcGxldGVkJyxcbiAgICAgICAgICAgICAgICAgICAgcHJvZ3Jlc3M6ICdDYXJkIGdlbmVyYXRpb24gY29tcGxldGUhJyxcbiAgICAgICAgICAgICAgICAgICAgY2FyZERhdGE6IGpvYlN0YXR1cy5jYXJkRGF0YVxuICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICByZXR1cm47IC8vIEV4aXQgZWFybHkgb24gY29tcGxldGlvblxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGNoZWNrIGpvYiBzdGF0dXM6JywgZXJyb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBNb3JlIGFnZ3Jlc3NpdmUgY2hlY2tpbmcgd2hlbiBhdCBoaWdoIHByb2dyZXNzXG4gICAgICAgIGVsc2UgaWYgKGpvYk1hbmFnZW1lbnQucHJvZ3Jlc3NQZXJjZW50YWdlID49IDkwICYmIHRpbWVTaW5jZUxhc3RVcGRhdGUgPiAxMDAwMCkge1xuICAgICAgICAgIGNvbnNvbGUud2Fybihg4pqg77iPIE5vIHVwZGF0ZXMgZm9yICR7TWF0aC5yb3VuZCh0aW1lU2luY2VMYXN0VXBkYXRlLzEwMDApfXMgYXQgJHtqb2JNYW5hZ2VtZW50LnByb2dyZXNzUGVyY2VudGFnZX0lIHByb2dyZXNzYCk7XG4gICAgICAgICAgXG4gICAgICAgICAgaWYgKGpvYklkKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAvYXBpL2pvYi1zdGF0dXMvJHtqb2JJZH1gKTtcbiAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgam9iU3RhdHVzID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5OKIERpcmVjdCBqb2Igc3RhdHVzIGNoZWNrOicsIGpvYlN0YXR1cyk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgaWYgKGpvYlN0YXR1cy5zdGF0dXMgPT09ICdjb21wbGV0ZWQnICYmIGpvYlN0YXR1cy5jYXJkRGF0YSkge1xuICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+KchSBKb2IgaXMgYWN0dWFsbHkgY29tcGxldGVkISBQcm9jZXNzaW5nIHJlc3VsdC4uLicpO1xuICAgICAgICAgICAgICAgICAgaGFuZGxlSm9iVXBkYXRlKHtcbiAgICAgICAgICAgICAgICAgICAgam9iX2lkOiBqb2JJZCxcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiAnY29tcGxldGVkJyxcbiAgICAgICAgICAgICAgICAgICAgcHJvZ3Jlc3M6ICdDYXJkIGdlbmVyYXRpb24gY29tcGxldGUhJyxcbiAgICAgICAgICAgICAgICAgICAgY2FyZERhdGE6IGpvYlN0YXR1cy5jYXJkRGF0YVxuICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICByZXR1cm47IC8vIEV4aXQgZWFybHkgb24gY29tcGxldGlvblxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGNoZWNrIGpvYiBzdGF0dXM6JywgZXJyb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gU3RhbmRhcmQgc3RhbGUgdXBkYXRlIGNoZWNrXG4gICAgICAgIGlmICh0aW1lU2luY2VMYXN0VXBkYXRlID4gMzAwMDApIHsgLy8gMzAgc2Vjb25kcyB3aXRob3V0IHVwZGF0ZVxuICAgICAgICAgIGNvbnNvbGUud2Fybign4pqg77iPIE5vIGpvYiB1cGRhdGVzIGZvciAzMCBzZWNvbmRzLCBjaGVja2luZyBjb25uZWN0aW9uLi4uJyk7XG4gICAgICAgICAgXG4gICAgICAgICAgaWYgKCF3ZWJTb2NrZXQuaXNTb2NrZXRDb25uZWN0ZWQpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5SEIFdlYlNvY2tldCBkaXNjb25uZWN0ZWQsIHJlY29ubmVjdGluZy4uLicpO1xuICAgICAgICAgICAgd2ViU29ja2V0LmNvbm5lY3RXZWJTb2NrZXQoKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGpvYklkKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygn8J+ToSBSZS1zdWJzY3JpYmluZyB0byBqb2IgZHVlIHRvIHN0YWxlIHVwZGF0ZXM6Jywgam9iSWQpO1xuICAgICAgICAgICAgd2ViU29ja2V0LnN1YnNjcmliZVRvSm9iKGpvYklkKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gUmVzZXQgdGhlIHRpbWVyXG4gICAgICAgICAgd2ViU29ja2V0Lmxhc3RKb2JVcGRhdGVSZWYuY3VycmVudCA9IERhdGUubm93KCk7XG4gICAgICAgIH1cbiAgICAgIH0sIDMwMDApOyAvLyBDaGVjayBldmVyeSAzIHNlY29uZHMgZm9yIGZhc3RlciBkZXRlY3Rpb24gYXQgaGlnaCBwcm9ncmVzc1xuICAgICAgXG4gICAgICByZXR1cm4gKCkgPT4gY2xlYXJJbnRlcnZhbChjaGVja0ludGVydmFsKTtcbiAgICB9XG4gIH0sIFtjYXJkR2VuZXJhdGlvbi5pc0dlbmVyYXRpbmcsIGRyYWZ0R2VuZXJhdGlvbi5pc0dlbmVyYXRpbmdGaW5hbENhcmQsIFxuICAgICAgd2ViU29ja2V0LCBqb2JNYW5hZ2VtZW50LnByb2dyZXNzUGVyY2VudGFnZSwgaGFuZGxlSm9iVXBkYXRlXSk7XG5cbiAgLy8gU2ltcGxpZmllZCBqb2IgcmVzdG9yYXRpb24gdXNpbmcgbmV3IHN0b3JhZ2UgbWFuYWdlclxuICBjb25zdCBjaGVja1BlbmRpbmdKb2JzID0gdXNlQ2FsbGJhY2soYXN5bmMgKCkgPT4ge1xuICAgIGNvbnNvbGUubG9nKCfwn5SEIENoZWNraW5nIGZvciByZWNvdmVyeSBkYXRhLi4uJyk7XG4gICAgc2V0SXNSZXN0b3JpbmdKb2JzKHRydWUpO1xuICAgIFxuICAgIC8vIENoZWNrIGZvciBhY3RpdmUgcmVjb3Zlcnkgam9iXG4gICAgY29uc3QgcmVjb3ZlcnkgPSBzdG9yYWdlLmdldFJlY292ZXJ5KCk7XG4gICAgXG4gICAgaWYgKCFyZWNvdmVyeSkge1xuICAgICAgY29uc29sZS5sb2coJ+KchSBObyBhY3RpdmUgam9iIHRvIHJlY292ZXInKTtcbiAgICAgIHNldElzUmVzdG9yaW5nSm9icyhmYWxzZSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFxuICAgIGNvbnNvbGUubG9nKCfwn5SEIEZvdW5kIHJlY292ZXJ5IGRhdGE6JywgcmVjb3ZlcnkpO1xuICAgIFxuICAgIC8vIEluIG91ciBzaW1wbGlmaWVkIHN5c3RlbSwgd2Ugb25seSB0cmFjayBvbmUgYWN0aXZlIGpvYiBhdCBhIHRpbWVcbiAgICAvLyBSZWNvdmVyeSBpcyBtZWFudCBmb3IgYnJvd3NlciBjcmFzaGVzIGR1cmluZyBnZW5lcmF0aW9uXG4gICAgY29uc3QgaXNSZWNvdmVyeURyYWZ0ID0gcmVjb3Zlcnkuam9iSWQ/LnN0YXJ0c1dpdGgoJ2RyYWZ0LScpO1xuICAgIFxuICAgIGlmIChpc1JlY292ZXJ5RHJhZnQpIHtcbiAgICAgIGNvbnNvbGUubG9nKCfwn46oIFJlY292ZXJpbmcgZnJvbSBkcmFmdCBnZW5lcmF0aW9uJyk7XG4gICAgICAvLyBGb3IgZHJhZnQgcmVjb3ZlcnksIHdlIGNhbid0IHJlc3RvcmUgdGhlIGV4YWN0IHN0YXRlXG4gICAgICAvLyBVc2VyIHdpbGwgbmVlZCB0byByZXN0YXJ0IHRoZSBkcmFmdCBnZW5lcmF0aW9uXG4gICAgICBzZXRJc1Jlc3RvcmluZ0pvYnMoZmFsc2UpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBcbiAgICAvLyBGb3IgZmluYWwgY2FyZCByZWNvdmVyeSwgd2UgY2FuIHRyeSB0byByZXN0b3JlIHRoZSBqb2JcbiAgICBjb25zb2xlLmxvZygn8J+OryBSZWNvdmVyaW5nIGZyb20gZmluYWwgY2FyZCBnZW5lcmF0aW9uJyk7XG4gICAgXG4gICAgLy8gUmVzdG9yZSBnZW5lcmF0aW9uIHN0YXRlXG4gICAgam9iTWFuYWdlbWVudC5zZXRDdXJyZW50Sm9iSWQocmVjb3Zlcnkuam9iSWQpO1xuICAgIGNhcmRHZW5lcmF0aW9uLnNldElzR2VuZXJhdGluZyh0cnVlKTtcbiAgICBjYXJkR2VuZXJhdGlvbi5zZXRHZW5lcmF0aW9uUHJvZ3Jlc3MoXCLwn5SEIFJlc3VtaW5nIGdlbmVyYXRpb24uLi5cIik7XG4gICAgam9iTWFuYWdlbWVudC5zdGFydEVsYXBzZWRUaW1lVHJhY2tpbmcoJ2ZpbmFsJyk7XG4gICAgXG4gICAgLy8gU3Vic2NyaWJlIHRvIHRoZSBqb2IgdG8gZ2V0IHVwZGF0ZXNcbiAgICB3ZWJTb2NrZXQuc3Vic2NyaWJlVG9Kb2IocmVjb3Zlcnkuam9iSWQpO1xuICAgIHNldElzUmVzdG9yaW5nSm9icyhmYWxzZSk7XG4gIH0sIFt3ZWJTb2NrZXQsIHN0b3JhZ2VdKTtcblxuICAvLyBMb2FkIHJlY292ZXJ5IGRhdGEgb24gY29tcG9uZW50IG1vdW50XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc29sZS5sb2coJ/CfmoAgdXNlQ2FyZFN0dWRpbyBtb3VudGVkLCBjaGVja2luZyBmb3IgcmVjb3ZlcnkuLi4nKTtcbiAgICBcbiAgICAvLyBDaGVjayBmb3IgYWN0aXZlIHJlY292ZXJ5IGpvYlxuICAgIGNvbnN0IHJlY292ZXJ5ID0gc3RvcmFnZS5nZXRSZWNvdmVyeSgpO1xuICAgIGNvbnNvbGUubG9nKCfwn5OmIFJlY292ZXJ5IGRhdGE6JywgcmVjb3ZlcnkpO1xuICAgIFxuICAgIGlmIChyZWNvdmVyeSkge1xuICAgICAgY29uc29sZS5sb2coJ/CflIQgRm91bmQgYWN0aXZlIGpvYiB0byByZWNvdmVyOicsIHJlY292ZXJ5LmpvYklkKTtcbiAgICAgIFxuICAgICAgLy8gRm9yIGRyYWZ0IGpvYnMsIGNoZWNrIGlmIHdlIGFscmVhZHkgaGF2ZSBjb21wbGV0ZWQgZHJhZnRzXG4gICAgICBjb25zdCBpc0RyYWZ0ID0gcmVjb3Zlcnkuam9iSWQuc3RhcnRzV2l0aCgnZHJhZnQtJyk7XG4gICAgICBcbiAgICAgIGlmIChpc0RyYWZ0KSB7XG4gICAgICAgIC8vIENoZWNrIGlmIHdlIGFscmVhZHkgaGF2ZSBjb21wbGV0ZWQgZHJhZnQgY2FyZHNcbiAgICAgICAgY29uc3QgaGFzQ29tcGxldGVkRHJhZnRzID0gZHJhZnRHZW5lcmF0aW9uLmRyYWZ0Q2FyZHMuZmlsdGVyKGNhcmQgPT4gY2FyZCAhPT0gbnVsbCkubGVuZ3RoID4gMDtcbiAgICAgICAgXG4gICAgICAgIGlmIChoYXNDb21wbGV0ZWREcmFmdHMpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZygn4pyFIERyYWZ0IGpvYiBhbHJlYWR5IGNvbXBsZXRlZCwgbm90IHNldHRpbmcgYXMgZ2VuZXJhdGluZycpO1xuICAgICAgICAgIC8vIEp1c3QgcmVzdG9yZSB0aGUgam9iIElEIGZvciByZWZlcmVuY2UsIGJ1dCBkb24ndCBzZXQgYXMgZ2VuZXJhdGluZ1xuICAgICAgICAgIGpvYk1hbmFnZW1lbnQuc2V0Q3VycmVudEpvYklkKHJlY292ZXJ5LmpvYklkKTtcbiAgICAgICAgICBkcmFmdEdlbmVyYXRpb24uc2V0SXNEcmFmdE1vZGUodHJ1ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ/CfjqggUmVzdW1pbmcgaW5jb21wbGV0ZSBkcmFmdCBnZW5lcmF0aW9uJyk7XG4gICAgICAgICAgLy8gU3Vic2NyaWJlIHRvIHRoZSBqb2IgdG8gY2hlY2sgaXRzIHN0YXR1c1xuICAgICAgICAgIGpvYk1hbmFnZW1lbnQuc2V0Q3VycmVudEpvYklkKHJlY292ZXJ5LmpvYklkKTtcbiAgICAgICAgICB3ZWJTb2NrZXQuc3Vic2NyaWJlVG9Kb2IocmVjb3Zlcnkuam9iSWQpO1xuICAgICAgICAgIGRyYWZ0R2VuZXJhdGlvbi5zZXRJc0RyYWZ0TW9kZSh0cnVlKTtcbiAgICAgICAgICAvLyBEb24ndCBzZXQgYXMgZ2VuZXJhdGluZyB5ZXQgLSB3YWl0IGZvciBXZWJTb2NrZXQgdG8gdGVsbCB1cyB0aGUgYWN0dWFsIHN0YXR1c1xuICAgICAgICAgIC8vIFRoaXMgcHJldmVudHMgbmF2aWdhdGlvbiB0byBTdGVwIDUgZm9yIGFscmVhZHkgY29tcGxldGVkIGpvYnNcbiAgICAgICAgICBjb25zb2xlLmxvZygn4o+zIFdhaXRpbmcgZm9yIGpvYiBzdGF0dXMgdXBkYXRlIGJlZm9yZSBzZXR0aW5nIGdlbmVyYXRpb24gc3RhdGUuLi4nKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gRm9yIGZpbmFsIGNhcmQgcmVjb3ZlcnksIGNoZWNrIGlmIGFscmVhZHkgY29tcGxldGVkXG4gICAgICAgIGlmIChjYXJkR2VuZXJhdGlvbi5nZW5lcmF0ZWRDYXJkICYmIGNhcmRHZW5lcmF0aW9uLmlzQ2FyZENvbXBsZXRlZCkge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCfinIUgRmluYWwgY2FyZCBhbHJlYWR5IGNvbXBsZXRlZCwgbm90IHNldHRpbmcgYXMgZ2VuZXJhdGluZycpO1xuICAgICAgICAgIGpvYk1hbmFnZW1lbnQuc2V0Q3VycmVudEpvYklkKHJlY292ZXJ5LmpvYklkKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zb2xlLmxvZygn8J+OryBSZXN1bWluZyBpbmNvbXBsZXRlIGZpbmFsIGNhcmQgZ2VuZXJhdGlvbicpO1xuICAgICAgICAgIGpvYk1hbmFnZW1lbnQuc2V0Q3VycmVudEpvYklkKHJlY292ZXJ5LmpvYklkKTtcbiAgICAgICAgICB3ZWJTb2NrZXQuc3Vic2NyaWJlVG9Kb2IocmVjb3Zlcnkuam9iSWQpO1xuICAgICAgICAgIGNhcmRHZW5lcmF0aW9uLnNldElzR2VuZXJhdGluZyh0cnVlKTtcbiAgICAgICAgICBjYXJkR2VuZXJhdGlvbi5zZXRHZW5lcmF0aW9uUHJvZ3Jlc3MoJ/CfjqggUmVzdW1pbmcgY2FyZCBnZW5lcmF0aW9uLi4uJyk7XG4gICAgICAgICAgam9iTWFuYWdlbWVudC5zdGFydEVsYXBzZWRUaW1lVHJhY2tpbmcoJ2ZpbmFsJyk7XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gSWYgdGhpcyBpcyBhIGZpbmFsIGNhcmQgZ2VuZXJhdGlvbiBmcm9tIGEgZHJhZnQsIHNldCB0aGUgYXBwcm9wcmlhdGUgc3RhdGVcbiAgICAgICAgICBpZiAocmVjb3ZlcnkuZm9ybURhdGEgJiYgcmVjb3ZlcnkuZm9ybURhdGEuc2VsZWN0ZWREcmFmdEluZGV4ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGRyYWZ0R2VuZXJhdGlvbi5zZXRJc0dlbmVyYXRpbmdGaW5hbENhcmQodHJ1ZSk7XG4gICAgICAgICAgICBkcmFmdEdlbmVyYXRpb24uc2V0U2VsZWN0ZWREcmFmdEluZGV4KHJlY292ZXJ5LmZvcm1EYXRhLnNlbGVjdGVkRHJhZnRJbmRleCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIC8vIEFsd2F5cyBtYXJrIHJlc3RvcmF0aW9uIGFzIGNvbXBsZXRlXG4gICAgc2V0SXNSZXN0b3JpbmdKb2JzKGZhbHNlKTtcbiAgICBcbiAgICAvLyBNYXJrIHJlc3RvcmF0aW9uIGFzIGNvbXBsZXRlIGFmdGVyIGEgc21hbGwgZGVsYXlcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHNldElzUmVzdG9yaW5nSm9icyhmYWxzZSk7XG4gICAgfSwgMTAwKTtcbiAgfSwgW10pO1xuXG4gIC8vIFJldHVybiBhbGwgdGhlIHN0YXRlIGFuZCBmdW5jdGlvbnMgdGhhdCB0aGUgVUkgbmVlZHNcbiAgcmV0dXJuIHtcbiAgICAvLyBDb3JlIHN0YXRlXG4gICAgcHJvbXB0LFxuICAgIHNldFByb21wdCxcbiAgICBmaW5hbENhcmRNZXNzYWdlOiBtZXNzYWdlR2VuZXJhdGlvbi5maW5hbENhcmRNZXNzYWdlLFxuICAgIHNldEZpbmFsQ2FyZE1lc3NhZ2U6IG1lc3NhZ2VHZW5lcmF0aW9uLnNldEZpbmFsQ2FyZE1lc3NhZ2UsXG4gICAgdG9GaWVsZCxcbiAgICBzZXRUb0ZpZWxkLFxuICAgIGZyb21GaWVsZCxcbiAgICBzZXRGcm9tRmllbGQsXG4gICAgcmVsYXRpb25zaGlwRmllbGQsXG4gICAgc2V0UmVsYXRpb25zaGlwRmllbGQsXG4gICAgcGVyc29uYWxUcmFpdHMsXG4gICAgc2V0UGVyc29uYWxUcmFpdHMsXG4gICAgc2VsZWN0ZWRUeXBlLFxuICAgIHNldFNlbGVjdGVkVHlwZSxcbiAgICBjdXN0b21DYXJkVHlwZSxcbiAgICBzZXRDdXN0b21DYXJkVHlwZSxcbiAgICBzZWxlY3RlZFRvbmUsXG4gICAgc2V0U2VsZWN0ZWRUb25lLFxuICAgIGlzR2VuZXJhdGluZzogY2FyZEdlbmVyYXRpb24uaXNHZW5lcmF0aW5nIHx8IGRyYWZ0R2VuZXJhdGlvbi5pc0dlbmVyYXRpbmcsXG4gICAgc2V0SXNHZW5lcmF0aW5nOiBjYXJkR2VuZXJhdGlvbi5zZXRJc0dlbmVyYXRpbmcsXG4gICAgaXNHZW5lcmF0aW5nTWVzc2FnZTogbWVzc2FnZUdlbmVyYXRpb24uaXNHZW5lcmF0aW5nTWVzc2FnZSxcbiAgICBzZXRJc0dlbmVyYXRpbmdNZXNzYWdlOiBtZXNzYWdlR2VuZXJhdGlvbi5zZXRJc0dlbmVyYXRpbmdNZXNzYWdlLFxuICAgIGdlbmVyYXRlZENhcmQ6IGNhcmRHZW5lcmF0aW9uLmdlbmVyYXRlZENhcmQsXG4gICAgc2V0R2VuZXJhdGVkQ2FyZDogY2FyZEdlbmVyYXRpb24uc2V0R2VuZXJhdGVkQ2FyZCxcbiAgICBudW1iZXJPZkNhcmRzLFxuICAgIHNldE51bWJlck9mQ2FyZHMsXG4gICAgZ2VuZXJhdGVkQ2FyZHM6IGNhcmRHZW5lcmF0aW9uLmdlbmVyYXRlZENhcmRzLFxuICAgIHNldEdlbmVyYXRlZENhcmRzOiBjYXJkR2VuZXJhdGlvbi5zZXRHZW5lcmF0ZWRDYXJkcyxcbiAgICBzZWxlY3RlZENhcmRJbmRleDogY2FyZEdlbmVyYXRpb24uc2VsZWN0ZWRDYXJkSW5kZXgsXG4gICAgc2V0U2VsZWN0ZWRDYXJkSW5kZXg6IGNhcmRHZW5lcmF0aW9uLnNldFNlbGVjdGVkQ2FyZEluZGV4LFxuICAgIFxuICAgIC8vIEFkdmFuY2VkIG9wdGlvbnNcbiAgICBzaG93QWR2YW5jZWQsXG4gICAgc2V0U2hvd0FkdmFuY2VkLFxuICAgIHNlbGVjdGVkQXJ0aXN0aWNTdHlsZSxcbiAgICBzZXRTZWxlY3RlZEFydGlzdGljU3R5bGUsXG4gICAgY3VzdG9tU3R5bGVEZXNjcmlwdGlvbixcbiAgICBzZXRDdXN0b21TdHlsZURlc2NyaXB0aW9uLFxuICAgIHNlbGVjdGVkSW1hZ2VNb2RlbCxcbiAgICBzZXRTZWxlY3RlZEltYWdlTW9kZWwsXG4gICAgc2VsZWN0ZWREcmFmdE1vZGVsLFxuICAgIHNldFNlbGVjdGVkRHJhZnRNb2RlbCxcbiAgICBcbiAgICAvLyBEcmFmdCBtb2RlXG4gICAgaXNEcmFmdE1vZGU6IGRyYWZ0R2VuZXJhdGlvbi5pc0RyYWZ0TW9kZSxcbiAgICBzZXRJc0RyYWZ0TW9kZTogZHJhZnRHZW5lcmF0aW9uLnNldElzRHJhZnRNb2RlLFxuICAgIGRyYWZ0Q2FyZHM6IGRyYWZ0R2VuZXJhdGlvbi5kcmFmdENhcmRzLFxuICAgIHNldERyYWZ0Q2FyZHM6IGRyYWZ0R2VuZXJhdGlvbi5zZXREcmFmdENhcmRzLFxuICAgIHNlbGVjdGVkRHJhZnRJbmRleDogZHJhZnRHZW5lcmF0aW9uLnNlbGVjdGVkRHJhZnRJbmRleCxcbiAgICBzZXRTZWxlY3RlZERyYWZ0SW5kZXg6IGRyYWZ0R2VuZXJhdGlvbi5zZXRTZWxlY3RlZERyYWZ0SW5kZXgsXG4gICAgaXNHZW5lcmF0aW5nRmluYWxDYXJkOiBkcmFmdEdlbmVyYXRpb24uaXNHZW5lcmF0aW5nRmluYWxDYXJkLFxuICAgIHNldElzR2VuZXJhdGluZ0ZpbmFsQ2FyZDogZHJhZnRHZW5lcmF0aW9uLnNldElzR2VuZXJhdGluZ0ZpbmFsQ2FyZCxcbiAgICBwcmV2aWV3aW5nRHJhZnRJbmRleDogZHJhZnRHZW5lcmF0aW9uLnByZXZpZXdpbmdEcmFmdEluZGV4LFxuICAgIHNldFByZXZpZXdpbmdEcmFmdEluZGV4OiBkcmFmdEdlbmVyYXRpb24uc2V0UHJldmlld2luZ0RyYWZ0SW5kZXgsXG4gICAgZHJhZnRDb21wbGV0aW9uU2hvd246IGRyYWZ0R2VuZXJhdGlvbi5kcmFmdENvbXBsZXRpb25TaG93bixcbiAgICBzZXREcmFmdENvbXBsZXRpb25TaG93bjogZHJhZnRHZW5lcmF0aW9uLnNldERyYWZ0Q29tcGxldGlvblNob3duLFxuICAgIGRyYWZ0Q29tcGxldGlvbkNvdW50OiBkcmFmdEdlbmVyYXRpb24uZHJhZnRDb21wbGV0aW9uQ291bnQsXG4gICAgc2V0RHJhZnRDb21wbGV0aW9uQ291bnQ6IGRyYWZ0R2VuZXJhdGlvbi5zZXREcmFmdENvbXBsZXRpb25Db3VudCxcbiAgICBcbiAgICAvLyBQcm9ncmVzcyB0cmFja2luZ1xuICAgIGdlbmVyYXRpb25Qcm9ncmVzczogZHJhZnRHZW5lcmF0aW9uLmlzR2VuZXJhdGluZyA/IGRyYWZ0R2VuZXJhdGlvbi5nZW5lcmF0aW9uUHJvZ3Jlc3MgOiBjYXJkR2VuZXJhdGlvbi5nZW5lcmF0aW9uUHJvZ3Jlc3MsXG4gICAgc2V0R2VuZXJhdGlvblByb2dyZXNzOiBjYXJkR2VuZXJhdGlvbi5zZXRHZW5lcmF0aW9uUHJvZ3Jlc3MsXG4gICAgcHJvZ3Jlc3NQZXJjZW50YWdlOiBqb2JNYW5hZ2VtZW50LnByb2dyZXNzUGVyY2VudGFnZSxcbiAgICBzZXRQcm9ncmVzc1BlcmNlbnRhZ2U6IGpvYk1hbmFnZW1lbnQuc2V0UHJvZ3Jlc3NQZXJjZW50YWdlLFxuICAgIGlzQ2FyZENvbXBsZXRlZDogY2FyZEdlbmVyYXRpb24uaXNDYXJkQ29tcGxldGVkLFxuICAgIHNldElzQ2FyZENvbXBsZXRlZDogY2FyZEdlbmVyYXRpb24uc2V0SXNDYXJkQ29tcGxldGVkLFxuICAgIFxuICAgIC8vIFVwbG9hZCBhbmQgcGVyc29uYWxpemF0aW9uXG4gICAgcmVmZXJlbmNlSW1hZ2VzOiBmaWxlSGFuZGxpbmcucmVmZXJlbmNlSW1hZ2VzLFxuICAgIHNldFJlZmVyZW5jZUltYWdlczogZmlsZUhhbmRsaW5nLnNldFJlZmVyZW5jZUltYWdlcyxcbiAgICByZWZlcmVuY2VJbWFnZVVybHM6IGZpbGVIYW5kbGluZy5yZWZlcmVuY2VJbWFnZVVybHMsXG4gICAgc2V0UmVmZXJlbmNlSW1hZ2VVcmxzOiBmaWxlSGFuZGxpbmcuc2V0UmVmZXJlbmNlSW1hZ2VVcmxzLFxuICAgIGlzVXBsb2FkaW5nOiBmaWxlSGFuZGxpbmcuaXNVcGxvYWRpbmcsXG4gICAgc2V0SXNVcGxvYWRpbmc6IGZpbGVIYW5kbGluZy5zZXRJc1VwbG9hZGluZyxcbiAgICBcbiAgICAvLyBFbWFpbCBhbmQgc2V0dGluZ3NcbiAgICB1c2VyRW1haWwsXG4gICAgc2V0VXNlckVtYWlsLFxuICAgIGlzSGFuZHdyaXR0ZW5NZXNzYWdlLFxuICAgIHNldElzSGFuZHdyaXR0ZW5NZXNzYWdlLFxuICAgIGlzRnJvbnRCYWNrT25seSxcbiAgICBzZXRJc0Zyb250QmFja09ubHksXG4gICAgc2VsZWN0ZWRQYXBlclNpemUsXG4gICAgc2V0U2VsZWN0ZWRQYXBlclNpemUsXG4gICAgXG4gICAgLy8gVUkgc3RhdGVcbiAgICBpc1RleHRhcmVhRXhwYW5kZWQsXG4gICAgc2V0SXNUZXh0YXJlYUV4cGFuZGVkLFxuICAgIGlzTWVzc2FnZUV4cGFuZGVkLFxuICAgIHNldElzTWVzc2FnZUV4cGFuZGVkLFxuICAgIHNob3dTZXR0aW5ncyxcbiAgICBzZXRTaG93U2V0dGluZ3MsXG4gICAgc2hvd1RlbXBsYXRlR2FsbGVyeSxcbiAgICBzZXRTaG93VGVtcGxhdGVHYWxsZXJ5LFxuICAgIHNob3dQcmludENvbmZpcm1hdGlvbixcbiAgICBzZXRTaG93UHJpbnRDb25maXJtYXRpb24sXG4gICAgXG4gICAgLy8gR2VuZXJhdGlvbiB0aW1lXG4gICAgZ2VuZXJhdGlvbkR1cmF0aW9uOiBjYXJkR2VuZXJhdGlvbi5nZW5lcmF0aW9uRHVyYXRpb24sXG4gICAgc2V0R2VuZXJhdGlvbkR1cmF0aW9uOiBjYXJkR2VuZXJhdGlvbi5zZXRHZW5lcmF0aW9uRHVyYXRpb24sXG4gICAgY3VycmVudEVsYXBzZWRUaW1lOiBqb2JNYW5hZ2VtZW50LmN1cnJlbnRFbGFwc2VkVGltZSxcbiAgICBcbiAgICAvLyBIZWxwZXIgZnVuY3Rpb25zXG4gICAgZm9ybWF0R2VuZXJhdGlvblRpbWUsXG4gICAgZm9ybWF0Q291bnRkb3duLFxuICAgIHNlbmRUaGFua1lvdUVtYWlsLFxuICAgIGNoYXRXaXRoQUksXG4gICAgc2Nyb2xsVG9DYXJkUHJldmlldyxcbiAgICBcbiAgICAvLyBUaW1lIHRyYWNraW5nIGZ1bmN0aW9uc1xuICAgIHN0YXJ0RWxhcHNlZFRpbWVUcmFja2luZzogam9iTWFuYWdlbWVudC5zdGFydEVsYXBzZWRUaW1lVHJhY2tpbmcsXG4gICAgc3RvcEVsYXBzZWRUaW1lVHJhY2tpbmc6IGpvYk1hbmFnZW1lbnQuc3RvcEVsYXBzZWRUaW1lVHJhY2tpbmcsXG4gICAgXG4gICAgLy8gRmlsZSBoYW5kbGluZyBmdW5jdGlvbnNcbiAgICBoYW5kbGVGaWxlVXBsb2FkOiBmaWxlSGFuZGxpbmcuaGFuZGxlRmlsZVVwbG9hZCxcbiAgICBoYW5kbGVSZW1vdmVSZWZlcmVuY2VJbWFnZTogZmlsZUhhbmRsaW5nLmhhbmRsZVJlbW92ZVJlZmVyZW5jZUltYWdlLFxuICAgIFxuICAgIC8vIFNpbXBsaWZpZWQgcGhvdG8gcmVmZXJlbmNlc1xuICAgIHBob3RvUmVmZXJlbmNlczogZmlsZUhhbmRsaW5nLnBob3RvUmVmZXJlbmNlcyxcbiAgICBzZXRQaG90b1JlZmVyZW5jZXM6IGZpbGVIYW5kbGluZy5zZXRQaG90b1JlZmVyZW5jZXMsXG4gICAgdXBkYXRlUGhvdG9EZXNjcmlwdGlvbjogZmlsZUhhbmRsaW5nLnVwZGF0ZVBob3RvRGVzY3JpcHRpb24sXG4gICAgXG4gICAgLy8gTWVzc2FnZSBmdW5jdGlvbnNcbiAgICBoYW5kbGVHZXRNZXNzYWdlSGVscDogbWVzc2FnZUdlbmVyYXRpb24uaGFuZGxlR2V0TWVzc2FnZUhlbHAsXG4gICAgYWRkTWVzc2FnZVRvSGlzdG9yeTogbWVzc2FnZUdlbmVyYXRpb24uYWRkTWVzc2FnZVRvSGlzdG9yeSxcbiAgICB1bmRvTWVzc2FnZTogbWVzc2FnZUdlbmVyYXRpb24udW5kb01lc3NhZ2UsXG4gICAgcmVkb01lc3NhZ2U6IG1lc3NhZ2VHZW5lcmF0aW9uLnJlZG9NZXNzYWdlLFxuICAgIFxuICAgIC8vIEpvYiBtYW5hZ2VtZW50XG4gICAgc2F2ZUpvYlRvU3RvcmFnZTogam9iTWFuYWdlbWVudC5zYXZlSm9iVG9TdG9yYWdlLFxuICAgIHJlbW92ZUpvYkZyb21TdG9yYWdlOiBqb2JNYW5hZ2VtZW50LnJlbW92ZUpvYkZyb21TdG9yYWdlLFxuICAgIGNoZWNrUGVuZGluZ0pvYnMsXG4gICAgaXNSZXN0b3JpbmdKb2JzLFxuICAgIFxuICAgIC8vIE1haW4gZ2VuZXJhdGlvbiBmdW5jdGlvbnNcbiAgICBoYW5kbGVHZW5lcmF0ZUNhcmRBc3luYzogY2FyZEdlbmVyYXRpb24uaGFuZGxlR2VuZXJhdGVDYXJkQXN5bmMsXG4gICAgaGFuZGxlR2VuZXJhdGVEcmFmdENhcmRzOiBkcmFmdEdlbmVyYXRpb24uaGFuZGxlR2VuZXJhdGVEcmFmdENhcmRzLFxuICAgIGhhbmRsZUdlbmVyYXRlRmluYWxGcm9tRHJhZnQ6IGRyYWZ0R2VuZXJhdGlvbi5oYW5kbGVHZW5lcmF0ZUZpbmFsRnJvbURyYWZ0LFxuICAgIFxuICAgIC8vIEFkZGl0aW9uYWwgc3RhdGUgZm9yIG1lc3NhZ2UgcmVmaW5lbWVudFxuICAgIG1lc3NhZ2VIaXN0b3J5OiBtZXNzYWdlR2VuZXJhdGlvbi5tZXNzYWdlSGlzdG9yeSxcbiAgICBzZXRNZXNzYWdlSGlzdG9yeTogbWVzc2FnZUdlbmVyYXRpb24uc2V0TWVzc2FnZUhpc3RvcnksXG4gICAgY3VycmVudE1lc3NhZ2VJbmRleDogbWVzc2FnZUdlbmVyYXRpb24uY3VycmVudE1lc3NhZ2VJbmRleCxcbiAgICBzZXRDdXJyZW50TWVzc2FnZUluZGV4OiBtZXNzYWdlR2VuZXJhdGlvbi5zZXRDdXJyZW50TWVzc2FnZUluZGV4LFxuICAgIHJlZmluZW1lbnRQcm9tcHQ6IG1lc3NhZ2VHZW5lcmF0aW9uLnJlZmluZW1lbnRQcm9tcHQsXG4gICAgc2V0UmVmaW5lbWVudFByb21wdDogbWVzc2FnZUdlbmVyYXRpb24uc2V0UmVmaW5lbWVudFByb21wdCxcbiAgICBpc1JlZmluaW5nTWVzc2FnZTogbWVzc2FnZUdlbmVyYXRpb24uaXNSZWZpbmluZ01lc3NhZ2UsXG4gICAgc2V0SXNSZWZpbmluZ01lc3NhZ2U6IG1lc3NhZ2VHZW5lcmF0aW9uLnNldElzUmVmaW5pbmdNZXNzYWdlLFxuICAgIHNob3dSZWZpbmVtZW50Qm94OiBtZXNzYWdlR2VuZXJhdGlvbi5zaG93UmVmaW5lbWVudEJveCxcbiAgICBzZXRTaG93UmVmaW5lbWVudEJveDogbWVzc2FnZUdlbmVyYXRpb24uc2V0U2hvd1JlZmluZW1lbnRCb3gsXG4gICAgXG4gICAgLy8gVGVtcGxhdGUgc3RhdGVcbiAgICBzaG93VGVtcGxhdGVDdXN0b21pemF0aW9uLFxuICAgIHNldFNob3dUZW1wbGF0ZUN1c3RvbWl6YXRpb24sXG4gICAgc2VsZWN0ZWRUZW1wbGF0ZSxcbiAgICBzZXRTZWxlY3RlZFRlbXBsYXRlLFxuICAgIHRlbXBsYXRlQ3VzdG9taXphdGlvbnMsXG4gICAgc2V0VGVtcGxhdGVDdXN0b21pemF0aW9ucyxcbiAgICB0ZW1wbGF0ZVNlYXJjaFF1ZXJ5LFxuICAgIHNldFRlbXBsYXRlU2VhcmNoUXVlcnksXG4gICAgaXNTZWFyY2hpbmdUZW1wbGF0ZXMsXG4gICAgc2V0SXNTZWFyY2hpbmdUZW1wbGF0ZXMsXG4gICAgYWlGaWx0ZXJlZENhcmRzLFxuICAgIHNldEFpRmlsdGVyZWRDYXJkcyxcbiAgICBzZWFyY2hNb2RlLFxuICAgIHNldFNlYXJjaE1vZGUsXG4gICAgdGV4dEZpbHRlcmVkQ2FyZHMsXG4gICAgc2V0VGV4dEZpbHRlcmVkQ2FyZHMsXG4gICAgc2hvd1Byb21wdHMsXG4gICAgc2V0U2hvd1Byb21wdHMsXG4gICAgXG4gICAgLy8gUHJpbnQgc3RhdGVcbiAgICBwcmludE9wdGlvbixcbiAgICBzZXRQcmludE9wdGlvbixcbiAgICBcbiAgICAvLyBBZGRpdGlvbmFsIGRyYWZ0IG1vZGUgc3RhdGVcbiAgICBoYW5kd3JpdGluZ1NhbXBsZTogZmlsZUhhbmRsaW5nLmhhbmR3cml0aW5nU2FtcGxlLFxuICAgIHNldEhhbmR3cml0aW5nU2FtcGxlOiBmaWxlSGFuZGxpbmcuc2V0SGFuZHdyaXRpbmdTYW1wbGUsXG4gICAgaGFuZHdyaXRpbmdTYW1wbGVVcmw6IGZpbGVIYW5kbGluZy5oYW5kd3JpdGluZ1NhbXBsZVVybCxcbiAgICBzZXRIYW5kd3JpdGluZ1NhbXBsZVVybDogZmlsZUhhbmRsaW5nLnNldEhhbmR3cml0aW5nU2FtcGxlVXJsLFxuICAgIFxuICAgIC8vIEpvYiB0cmFja2luZ1xuICAgIGN1cnJlbnRKb2JJZDogam9iTWFuYWdlbWVudC5jdXJyZW50Sm9iSWQsXG4gICAgc2V0Q3VycmVudEpvYklkOiBqb2JNYW5hZ2VtZW50LnNldEN1cnJlbnRKb2JJZCxcbiAgICBjb3VudGRvd24sXG4gICAgc2V0Q291bnRkb3duLFxuICAgIGNvdW50ZG93bkludGVydmFsLFxuICAgIHNldENvdW50ZG93bkludGVydmFsLFxuICAgIFxuICAgIC8vIFNlY3Rpb24gbG9hZGluZyBzdGF0ZXNcbiAgICBzZWN0aW9uTG9hZGluZ1N0YXRlcyxcbiAgICBzZXRTZWN0aW9uTG9hZGluZ1N0YXRlcyxcbiAgICBcbiAgICAvLyBGYXN0IHByZXZpZXcgbW9kZVxuICAgIGZhc3RQcmV2aWV3TW9kZSxcbiAgICBzZXRGYXN0UHJldmlld01vZGUsXG4gICAgXG4gICAgLy8gQWRkaXRpb25hbCB0cmFja2luZ1xuICAgIGN1cnJlbnRDYXJkSWQ6IGNhcmRHZW5lcmF0aW9uLmN1cnJlbnRDYXJkSWQsXG4gICAgc2V0Q3VycmVudENhcmRJZDogY2FyZEdlbmVyYXRpb24uc2V0Q3VycmVudENhcmRJZCxcbiAgICBpc0luaXRpYWxMb2FkQ29tcGxldGUsXG4gICAgc2V0SXNJbml0aWFsTG9hZENvbXBsZXRlLFxuICAgIFxuICAgIC8vIEVsYXBzZWQgdGltZSB0cmFja2luZ1xuICAgIGdlbmVyYXRpb25TdGFydFRpbWU6IGpvYk1hbmFnZW1lbnQuZ2VuZXJhdGlvblN0YXJ0VGltZSxcbiAgICBcbiAgICAvLyBDb25zdGFudHMgZm9yIFVJXG4gICAgY2FyZFRvbmVzLFxuICAgIGFydGlzdGljU3R5bGVzLFxuICAgIHBhcGVyU2l6ZXMsXG4gICAgXG4gICAgLy8gV2ViU29ja2V0IGZ1bmN0aW9ucyBhbmQgc3RhdGVcbiAgICBpc1NvY2tldENvbm5lY3RlZDogd2ViU29ja2V0LmlzU29ja2V0Q29ubmVjdGVkLFxuICAgIGNvbm5lY3RXZWJTb2NrZXQ6IHdlYlNvY2tldC5jb25uZWN0V2ViU29ja2V0LFxuICAgIGRpc2Nvbm5lY3RXZWJTb2NrZXQ6IHdlYlNvY2tldC5kaXNjb25uZWN0V2ViU29ja2V0LFxuICAgIHN1YnNjcmliZVRvSm9iOiB3ZWJTb2NrZXQuc3Vic2NyaWJlVG9Kb2IsXG4gICAgdW5zdWJzY3JpYmVGcm9tSm9iOiB3ZWJTb2NrZXQudW5zdWJzY3JpYmVGcm9tSm9iLFxuICAgIHVuc3Vic2NyaWJlRnJvbUFsbEpvYnM6IHdlYlNvY2tldC51bnN1YnNjcmliZUZyb21BbGxKb2JzLFxuICAgIGhhbmRsZUpvYlVwZGF0ZSxcbiAgICBoYW5kbGVGaW5hbENhcmRDb21wbGV0aW9uOiBjYXJkR2VuZXJhdGlvbi5oYW5kbGVGaW5hbENhcmRDb21wbGV0aW9uLFxuICB9O1xufVxuIl0sIm5hbWVzIjpbInVzZVN0YXRlIiwidXNlRWZmZWN0IiwidXNlQ2FsbGJhY2siLCJ1c2VSZWYiLCJ0b2FzdCIsInVzZVdlYlNvY2tldCIsInVzZUpvYk1hbmFnZW1lbnQiLCJ1c2VNZXNzYWdlR2VuZXJhdGlvbiIsInVzZUZpbGVIYW5kbGluZyIsInVzZURyYWZ0R2VuZXJhdGlvbiIsInVzZUNhcmRHZW5lcmF0aW9uIiwiY2FyZFRvbmVzIiwiYXJ0aXN0aWNTdHlsZXMiLCJwYXBlclNpemVzIiwiZm9ybWF0R2VuZXJhdGlvblRpbWUiLCJmb3JtYXRDb3VudGRvd24iLCJzZW5kVGhhbmtZb3VFbWFpbCIsImNoYXRXaXRoQUkiLCJzY3JvbGxUb0NhcmRQcmV2aWV3Iiwic3RvcmFnZSIsInVzZUNhcmRTdHVkaW8iLCJwcm9tcHQiLCJzZXRQcm9tcHQiLCJ0b0ZpZWxkIiwic2V0VG9GaWVsZCIsImZyb21GaWVsZCIsInNldEZyb21GaWVsZCIsInJlbGF0aW9uc2hpcEZpZWxkIiwic2V0UmVsYXRpb25zaGlwRmllbGQiLCJwZXJzb25hbFRyYWl0cyIsInNldFBlcnNvbmFsVHJhaXRzIiwic2VsZWN0ZWRUeXBlIiwic2V0U2VsZWN0ZWRUeXBlIiwiY3VzdG9tQ2FyZFR5cGUiLCJzZXRDdXN0b21DYXJkVHlwZSIsInNlbGVjdGVkVG9uZSIsInNldFNlbGVjdGVkVG9uZSIsInNob3dBZHZhbmNlZCIsInNldFNob3dBZHZhbmNlZCIsInNlbGVjdGVkQXJ0aXN0aWNTdHlsZSIsInNldFNlbGVjdGVkQXJ0aXN0aWNTdHlsZSIsImN1c3RvbVN0eWxlRGVzY3JpcHRpb24iLCJzZXRDdXN0b21TdHlsZURlc2NyaXB0aW9uIiwic2VsZWN0ZWRJbWFnZU1vZGVsIiwic2V0U2VsZWN0ZWRJbWFnZU1vZGVsIiwic2VsZWN0ZWREcmFmdE1vZGVsIiwic2V0U2VsZWN0ZWREcmFmdE1vZGVsIiwiZmFzdFByZXZpZXdNb2RlIiwic2V0RmFzdFByZXZpZXdNb2RlIiwidXNlckVtYWlsIiwic2V0VXNlckVtYWlsIiwibnVtYmVyT2ZDYXJkcyIsInNldE51bWJlck9mQ2FyZHMiLCJpc0hhbmR3cml0dGVuTWVzc2FnZSIsInNldElzSGFuZHdyaXR0ZW5NZXNzYWdlIiwiaXNGcm9udEJhY2tPbmx5Iiwic2V0SXNGcm9udEJhY2tPbmx5Iiwic2VsZWN0ZWRQYXBlclNpemUiLCJzZXRTZWxlY3RlZFBhcGVyU2l6ZSIsImlzVGV4dGFyZWFFeHBhbmRlZCIsInNldElzVGV4dGFyZWFFeHBhbmRlZCIsImlzTWVzc2FnZUV4cGFuZGVkIiwic2V0SXNNZXNzYWdlRXhwYW5kZWQiLCJzaG93U2V0dGluZ3MiLCJzZXRTaG93U2V0dGluZ3MiLCJzaG93VGVtcGxhdGVHYWxsZXJ5Iiwic2V0U2hvd1RlbXBsYXRlR2FsbGVyeSIsInNob3dQcmludENvbmZpcm1hdGlvbiIsInNldFNob3dQcmludENvbmZpcm1hdGlvbiIsInNob3dUZW1wbGF0ZUN1c3RvbWl6YXRpb24iLCJzZXRTaG93VGVtcGxhdGVDdXN0b21pemF0aW9uIiwiaXNSZXN0b3JpbmdKb2JzIiwic2V0SXNSZXN0b3JpbmdKb2JzIiwic2VsZWN0ZWRUZW1wbGF0ZSIsInNldFNlbGVjdGVkVGVtcGxhdGUiLCJpc0luaXRpYWxMb2FkQ29tcGxldGUiLCJzZXRJc0luaXRpYWxMb2FkQ29tcGxldGUiLCJ0ZW1wbGF0ZVNlYXJjaFF1ZXJ5Iiwic2V0VGVtcGxhdGVTZWFyY2hRdWVyeSIsImlzU2VhcmNoaW5nVGVtcGxhdGVzIiwic2V0SXNTZWFyY2hpbmdUZW1wbGF0ZXMiLCJhaUZpbHRlcmVkQ2FyZHMiLCJzZXRBaUZpbHRlcmVkQ2FyZHMiLCJzZWFyY2hNb2RlIiwic2V0U2VhcmNoTW9kZSIsInRleHRGaWx0ZXJlZENhcmRzIiwic2V0VGV4dEZpbHRlcmVkQ2FyZHMiLCJzaG93UHJvbXB0cyIsInNldFNob3dQcm9tcHRzIiwicHJpbnRPcHRpb24iLCJzZXRQcmludE9wdGlvbiIsInRlbXBsYXRlQ3VzdG9taXphdGlvbnMiLCJzZXRUZW1wbGF0ZUN1c3RvbWl6YXRpb25zIiwicHJvbXB0Q2hhbmdlcyIsIm1lc3NhZ2VDaGFuZ2VzIiwidXNlUmVmZXJlbmNlSW1hZ2UiLCJyZWZlcmVuY2VJbWFnZUZpbGUiLCJyZWZlcmVuY2VJbWFnZVVybHMiLCJyZWZlcmVuY2VJbWFnZVRyYW5zZm9ybWF0aW9uIiwic2VjdGlvbkxvYWRpbmdTdGF0ZXMiLCJzZXRTZWN0aW9uTG9hZGluZ1N0YXRlcyIsImZyb250Q292ZXIiLCJiYWNrQ292ZXIiLCJsZWZ0SW50ZXJpb3IiLCJyaWdodEludGVyaW9yIiwiY291bnRkb3duIiwic2V0Q291bnRkb3duIiwiY291bnRkb3duSW50ZXJ2YWwiLCJzZXRDb3VudGRvd25JbnRlcnZhbCIsIndlYlNvY2tldCIsImpvYk1hbmFnZW1lbnQiLCJmaWxlSGFuZGxpbmciLCJtZXNzYWdlR2VuZXJhdGlvbiIsInBob3RvUmVmZXJlbmNlcyIsImRyYWZ0R2VuZXJhdGlvblByb3BzIiwiZmluYWxDYXJkTWVzc2FnZSIsInNhdmVKb2JUb1N0b3JhZ2UiLCJzdWJzY3JpYmVUb0pvYiIsInVuc3Vic2NyaWJlRnJvbUFsbEpvYnMiLCJzdGFydEVsYXBzZWRUaW1lVHJhY2tpbmciLCJzdG9wRWxhcHNlZFRpbWVUcmFja2luZyIsImRyYWZ0R2VuZXJhdGlvbiIsImNhcmRHZW5lcmF0aW9uUHJvcHMiLCJyZW1vdmVKb2JGcm9tU3RvcmFnZSIsInNldEN1cnJlbnRKb2JJZCIsInNldElzRHJhZnRNb2RlIiwic2V0RHJhZnRDYXJkcyIsInNldFNlbGVjdGVkRHJhZnRJbmRleCIsInNldElzR2VuZXJhdGluZ0ZpbmFsQ2FyZCIsInNldFByZXZpZXdpbmdEcmFmdEluZGV4Iiwic2V0RHJhZnRDb21wbGV0aW9uU2hvd24iLCJzZXREcmFmdENvbXBsZXRpb25Db3VudCIsImNhcmRHZW5lcmF0aW9uIiwiaGFuZGxlSm9iVXBkYXRlIiwiZGF0YSIsImpvYl9pZCIsInN0YXR1cyIsInByb2dyZXNzIiwiY2FyZERhdGEiLCJlcnJvciIsImNvbXBsZXRlZEF0IiwiY29uc29sZSIsImxvZyIsImlzRHJhZnRKb2IiLCJzdGFydHNXaXRoIiwiZHJhZnRJbmRleCIsInBhcnNlSW50Iiwic3BsaXQiLCJpc0luRHJhZnRNb2RlIiwiaXNEcmFmdE1vZGUiLCJpc0dlbmVyYXRpbmciLCJzZXRJc0dlbmVyYXRpbmciLCJpbmNsdWRlcyIsInNldEdlbmVyYXRpb25Qcm9ncmVzcyIsImRyYWZ0Q2FyZHMiLCJmaWx0ZXIiLCJCb29sZWFuIiwibGVuZ3RoIiwic3R5bGVJbmZvIiwidW5kZWZpbmVkIiwicHJlZGVmaW5lZFN0eWxlcyIsInN0eWxlTGFiZWxzIiwic3R5bGVOYW1lIiwic3R5bGVMYWJlbCIsImRyYWZ0Q2FyZCIsImlkIiwiRGF0ZSIsIm5vdyIsImxlZnRQYWdlIiwicmlnaHRQYWdlIiwiY3JlYXRlZEF0IiwiZ2VuZXJhdGVkUHJvbXB0cyIsInByZXYiLCJ1cGRhdGVkIiwicHVzaCIsInVwZGF0ZWREcmFmdHMiLCJjb21wbGV0ZWRDb3VudCIsInByb2dyZXNzTXNnIiwiaXNHZW5lcmF0aW5nRmluYWxDYXJkIiwic3VjY2VzcyIsInVuc3Vic2NyaWJlRnJvbUpvYiIsImhhc0NhcmREYXRhIiwiY2FyZERhdGFLZXlzIiwiT2JqZWN0Iiwia2V5cyIsIkpTT04iLCJzdHJpbmdpZnkiLCJtYXBwZWRDYXJkRGF0YSIsImhhbmRsZUZpbmFsQ2FyZENvbXBsZXRpb24iLCJ3YXJuIiwiY3VycmVudEpvYlJlZiIsImN1cnJlbnQiLCJjdXJyZW50Sm9iSWQiLCJzZXRKb2JVcGRhdGVIYW5kbGVyIiwic3RhbGVKb2JMb2dnZWRSZWYiLCJpc1NvY2tldENvbm5lY3RlZCIsImdlbmVyYXRpb25TdGFydFRpbWUiLCJqb2JBZ2UiLCJqb2JJZCIsInJlY29ubmVjdFRpbWVyIiwic2V0VGltZW91dCIsImNvbm5lY3RXZWJTb2NrZXQiLCJjbGVhclRpbWVvdXQiLCJjaGVja0ludGVydmFsIiwic2V0SW50ZXJ2YWwiLCJ0aW1lU2luY2VMYXN0VXBkYXRlIiwibGFzdEpvYlVwZGF0ZVJlZiIsInByb2dyZXNzUGVyY2VudGFnZSIsIk1hdGgiLCJyb3VuZCIsInJlc3BvbnNlIiwiZmV0Y2giLCJvayIsImpvYlN0YXR1cyIsImpzb24iLCJjbGVhckludGVydmFsIiwiY2hlY2tQZW5kaW5nSm9icyIsInJlY292ZXJ5IiwiZ2V0UmVjb3ZlcnkiLCJpc1JlY292ZXJ5RHJhZnQiLCJpc0RyYWZ0IiwiaGFzQ29tcGxldGVkRHJhZnRzIiwiY2FyZCIsImdlbmVyYXRlZENhcmQiLCJpc0NhcmRDb21wbGV0ZWQiLCJmb3JtRGF0YSIsInNlbGVjdGVkRHJhZnRJbmRleCIsInNldEZpbmFsQ2FyZE1lc3NhZ2UiLCJpc0dlbmVyYXRpbmdNZXNzYWdlIiwic2V0SXNHZW5lcmF0aW5nTWVzc2FnZSIsInNldEdlbmVyYXRlZENhcmQiLCJnZW5lcmF0ZWRDYXJkcyIsInNldEdlbmVyYXRlZENhcmRzIiwic2VsZWN0ZWRDYXJkSW5kZXgiLCJzZXRTZWxlY3RlZENhcmRJbmRleCIsInByZXZpZXdpbmdEcmFmdEluZGV4IiwiZHJhZnRDb21wbGV0aW9uU2hvd24iLCJkcmFmdENvbXBsZXRpb25Db3VudCIsImdlbmVyYXRpb25Qcm9ncmVzcyIsInNldFByb2dyZXNzUGVyY2VudGFnZSIsInNldElzQ2FyZENvbXBsZXRlZCIsInJlZmVyZW5jZUltYWdlcyIsInNldFJlZmVyZW5jZUltYWdlcyIsInNldFJlZmVyZW5jZUltYWdlVXJscyIsImlzVXBsb2FkaW5nIiwic2V0SXNVcGxvYWRpbmciLCJnZW5lcmF0aW9uRHVyYXRpb24iLCJzZXRHZW5lcmF0aW9uRHVyYXRpb24iLCJjdXJyZW50RWxhcHNlZFRpbWUiLCJoYW5kbGVGaWxlVXBsb2FkIiwiaGFuZGxlUmVtb3ZlUmVmZXJlbmNlSW1hZ2UiLCJzZXRQaG90b1JlZmVyZW5jZXMiLCJ1cGRhdGVQaG90b0Rlc2NyaXB0aW9uIiwiaGFuZGxlR2V0TWVzc2FnZUhlbHAiLCJhZGRNZXNzYWdlVG9IaXN0b3J5IiwidW5kb01lc3NhZ2UiLCJyZWRvTWVzc2FnZSIsImhhbmRsZUdlbmVyYXRlQ2FyZEFzeW5jIiwiaGFuZGxlR2VuZXJhdGVEcmFmdENhcmRzIiwiaGFuZGxlR2VuZXJhdGVGaW5hbEZyb21EcmFmdCIsIm1lc3NhZ2VIaXN0b3J5Iiwic2V0TWVzc2FnZUhpc3RvcnkiLCJjdXJyZW50TWVzc2FnZUluZGV4Iiwic2V0Q3VycmVudE1lc3NhZ2VJbmRleCIsInJlZmluZW1lbnRQcm9tcHQiLCJzZXRSZWZpbmVtZW50UHJvbXB0IiwiaXNSZWZpbmluZ01lc3NhZ2UiLCJzZXRJc1JlZmluaW5nTWVzc2FnZSIsInNob3dSZWZpbmVtZW50Qm94Iiwic2V0U2hvd1JlZmluZW1lbnRCb3giLCJoYW5kd3JpdGluZ1NhbXBsZSIsInNldEhhbmR3cml0aW5nU2FtcGxlIiwiaGFuZHdyaXRpbmdTYW1wbGVVcmwiLCJzZXRIYW5kd3JpdGluZ1NhbXBsZVVybCIsImN1cnJlbnRDYXJkSWQiLCJzZXRDdXJyZW50Q2FyZElkIiwiZGlzY29ubmVjdFdlYlNvY2tldCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./hooks/useCardStudioRefactored.ts\n");

/***/ }),

/***/ "(ssr)/./lib/promptGenerator.ts":
/*!********************************!*\
  !*** ./lib/promptGenerator.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PromptGenerator: () => (/* binding */ PromptGenerator)\n/* harmony export */ });\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! uuid */ \"(ssr)/./node_modules/uuid/dist/esm/v4.js\");\n\n// Visual density recommendations by card type\nconst CARD_TYPE_DENSITIES = {\n    \"sympathy\": {\n        back: 5,\n        leftInterior: 20,\n        rightInterior: 10\n    },\n    \"get-well\": {\n        back: 10,\n        leftInterior: 30,\n        rightInterior: 15\n    },\n    \"thank-you\": {\n        back: 15,\n        leftInterior: 35,\n        rightInterior: 20\n    },\n    \"wedding\": {\n        back: 10,\n        leftInterior: 30,\n        rightInterior: 15\n    },\n    \"birthday\": {\n        back: 20,\n        leftInterior: 40,\n        rightInterior: 20\n    },\n    \"anniversary\": {\n        back: 15,\n        leftInterior: 35,\n        rightInterior: 15\n    },\n    \"congratulations\": {\n        back: 20,\n        leftInterior: 40,\n        rightInterior: 20\n    },\n    \"new-baby\": {\n        back: 15,\n        leftInterior: 35,\n        rightInterior: 20\n    },\n    \"holiday\": {\n        back: 20,\n        leftInterior: 40,\n        rightInterior: 25\n    },\n    \"default\": {\n        back: 15,\n        leftInterior: 35,\n        rightInterior: 20\n    }\n};\nclass PromptGenerator {\n    static{\n        // Core requirements shared across all prompts\n        this.SAFETY_REQUIREMENTS = `\n- SAFETY: Never include brand names, character names, trademarked terms, or inappropriate content\n- Keep content family-friendly and appropriate for all ages\n- If the theme references trademarked content, use generic alternatives or focus on the emotions/concepts instead`.trim();\n    }\n    // Helper to get visual density for card type\n    static getVisualDensity(cardType) {\n        return CARD_TYPE_DENSITIES[cardType] || CARD_TYPE_DENSITIES.default;\n    }\n    static{\n        this.LAYOUT_REQUIREMENTS = `\n- Flat 2D artwork for printing\n- Full-bleed backgrounds extending to edges\n- Keep text, faces, and key elements at least 10% away from top/bottom edges\n- Keep text/faces 0.5\" from left/right edges for safe printing`.trim();\n    }\n    static{\n        this.REFERENCE_PHOTO_INSTRUCTIONS = `\n- Reference photos provided for character creation\n- Characters should only appear on the front cover\n- Transform real people into artistic cartoon/illustrated versions matching the style\n- Maintain recognizable features while adapting to the artistic style`.trim();\n    }\n    static{\n        this.TEXT_LEGIBILITY_REQUIREMENTS = `\n- Reproduce every word exactly as written\n- Use elegant, clearly readable handwritten script\n- Ensure high contrast between text and background\n- Make text large and well-spaced for easy reading\n- Center the message in the optimal reading area`.trim();\n    }\n    static getEnhancedReferencePhotoInstructions(photoReferences) {\n        // If no photo references or descriptions, use basic instructions\n        if (!photoReferences || photoReferences.length === 0) {\n            return `\nREFERENCE PHOTO INSTRUCTIONS:\n- LOOK AT THE ATTACHED PHOTOS - they contain real people that you must transform\n- Analyze the physical appearance of each person in the attached photos\n- Transform the people in the attached reference photos into cartoon/illustrated versions\n- Characters MUST HIGHLY resemble the people in the reference photos\n- Keep the SAME clothing they're wearing (omit any text/logos on clothing)\n- Maintain exact hairstyles, facial features, and body proportions\n- ONLY include the people shown in the reference photos\n- Do NOT add any additional people or characters unless explicitly requested`.trim();\n        }\n        // Find photos with descriptions\n        const photosWithDescriptions = photoReferences.filter((ref)=>ref.description && ref.description.trim() !== \"\");\n        let instructions = `\nREFERENCE PHOTO INSTRUCTIONS:\n- CRITICAL: Look at the ${photoReferences.length} attached photo(s) to see the actual people`;\n        // If user provided descriptions, use them directly\n        if (photosWithDescriptions.length > 0) {\n            instructions += `\\n- The user has identified these people in the photos:`;\n            photosWithDescriptions.forEach((ref, idx)=>{\n                instructions += `\\n  - Photo ${ref.imageIndex + 1}: ${ref.description}`;\n            });\n            instructions += `\\n- Transform these EXACT people from the attached photos into cartoon/illustrated versions`;\n        } else {\n            instructions += `\\n- Analyze the people in the attached photos and transform them into cartoon/illustrated versions`;\n        }\n        instructions += `\n- YOU MUST look at the attached images to see their actual appearance\n- Characters MUST HIGHLY resemble the people in the reference photos\n- Keep the SAME clothing they're wearing (omit any text/logos on clothing)\n- Maintain exact hairstyles, facial features, and body proportions\n- ONLY include the people described or shown - do NOT add any additional characters\n- Exception: Only add extra characters if explicitly requested in the card description`;\n        return instructions.trim();\n    }\n    static{\n        this.QR_CODE_SPACE = `\n- IMPORTANT: Leave the bottom-right corner area (approximately 1 inch square) completely clear and undecorated for QR code placement`.trim();\n    }\n    // Helper method to extract and format personal details from the theme\n    static extractPersonalDetails(theme) {\n        // Check if the theme contains personal details (interests, hobbies, etc.)\n        const personalKeywords = [\n            \"loves\",\n            \"enjoys\",\n            \"likes\",\n            \"favorite\",\n            \"always\",\n            \"never\",\n            \"collects\",\n            \"plays\",\n            \"makes\",\n            \"bakes\",\n            \"cooks\",\n            \"reads\",\n            \"watches\",\n            \"listens\",\n            \"travels\",\n            \"hikes\",\n            \"runs\",\n            \"swims\",\n            \"coffee\",\n            \"tea\",\n            \"sushi\",\n            \"pizza\",\n            \"chocolate\",\n            \"wine\",\n            \"dog\",\n            \"cat\",\n            \"pet\",\n            \"garden\",\n            \"music\",\n            \"movie\",\n            \"book\",\n            \"weekend\",\n            \"morning\",\n            \"evening\",\n            \"tradition\",\n            \"memory\",\n            \"joke\",\n            \"laugh\",\n            \"smile\",\n            \"hobby\",\n            \"passion\",\n            \"interest\"\n        ];\n        const themeWords = theme.toLowerCase().split(/\\s+/);\n        const hasPersonalDetails = personalKeywords.some((keyword)=>themeWords.includes(keyword) || theme.toLowerCase().includes(keyword));\n        if (hasPersonalDetails) {\n            return `\\nPERSONAL DETAILS TO INCORPORATE:\n${theme}\n\nIMPORTANT: These personal details should be creatively woven into the card design:\n- If they love coffee, show a cozy coffee scene\n- If they enjoy hiking, include mountain or trail elements  \n- If they have pets mentioned, include those specific pets\n- Transform interests into visual elements (e.g., \"loves sushi\" = sushi illustrations)\n- Make the card feel personally crafted for someone with these specific interests`;\n        }\n        return \"\";\n    }\n    // Generate prompts for all card sections with AI (includes images)\n    static async generateCardPromptsWithAI(config) {\n        // For now, just return the regular prompts\n        // TODO: Implement AI-powered prompt generation with images\n        return this.generateCardPrompts(config);\n    }\n    // Generate prompts for all card sections\n    static generateCardPrompts(config) {\n        const cardTypeForPrompt = config.customCardType || config.cardType;\n        const effectivePrompt = config.theme || `A beautiful ${cardTypeForPrompt} card`;\n        const styleModifier = config.artisticStyle?.promptModifier || \"\";\n        // Generate unique UUID for this card generation to ensure variety\n        const uniqueId = (0,uuid__WEBPACK_IMPORTED_MODULE_0__[\"default\"])();\n        // Build base prompt context (not currently used, but kept for reference)\n        const baseContext = `\nTheme: \"${effectivePrompt}\"\nStyle: ${config.artisticStyle?.label || \"Default\"}\n${config.referenceImageUrls?.length ? `Reference Photos: ${config.referenceImageUrls.length} photo(s) provided for character creation` : \"\"}\nUnique ID: ${uniqueId}`.trim();\n        // Generate individual section prompts\n        const frontCover = this.generateFrontCoverPrompt(cardTypeForPrompt, effectivePrompt, styleModifier, config);\n        const backCover = this.generateBackCoverPrompt(styleModifier, config.cardType);\n        const prompts = {\n            frontCover,\n            backCover\n        };\n        if (!config.isFrontBackOnly) {\n            prompts.leftInterior = this.generateLeftInteriorPrompt(styleModifier, config.cardType);\n            prompts.rightInterior = this.generateRightInteriorPrompt(config.message || \"\", config.isHandwrittenMessage || false, styleModifier, config.cardType);\n        }\n        return prompts;\n    }\n    // Generate prompt for draft cards (front cover only) - returns both prompt and images\n    static generateDraftPromptWithImages(config) {\n        const prompt = this.generateDraftPrompt(config);\n        return {\n            prompt,\n            images: config.referenceImageUrls || []\n        };\n    }\n    // Generate creative prompt using AI (Gemini 2.5 Pro)\n    static async generateCreativeDraftPrompt(config) {\n        // Import chatWithAI dynamically to avoid circular dependencies\n        const { chatWithAI } = await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! ../hooks/cardStudio/utils */ \"(ssr)/./hooks/cardStudio/utils.ts\"));\n        // Generate the instruction prompt\n        const instructionPrompt = this.generateDraftPrompt(config);\n        // System prompt for creative image generation\n        const systemPrompt = `You are an expert creative director for greeting cards. Your job is to take card requirements and create a vivid, detailed image generation prompt that will result in a beautiful, unique greeting card design. Focus on visual creativity, specific details, and artistic composition.\n\nIMPORTANT: When reference photos are provided:\n- DO NOT describe physical features (hair, eye color, facial features) - the AI can see these from the photos\n- DO describe: actions, poses, expressions, clothing (to maintain consistency but omit any text/logos on clothes), creative additions (props, activities)\n- Focus on the creative scene, composition, and how the people interact with the card's theme`;\n        try {\n            // Call Gemini 2.5 Pro to generate the creative prompt\n            const creativePrompt = await chatWithAI(instructionPrompt, {\n                systemPrompt,\n                model: \"gemini-2.5-pro\",\n                attachments: config.referenceImageUrls\n            });\n            return creativePrompt;\n        } catch (error) {\n            console.error(\"Failed to generate creative prompt with AI, using fallback:\", error);\n            // Fallback to a simpler direct prompt if AI fails\n            return this.generateFallbackCreativePrompt(config);\n        }\n    }\n    // Fallback method for generating creative prompts without AI\n    static generateFallbackCreativePrompt(config) {\n        const cardTypeForPrompt = config.customCardType || config.cardType;\n        const effectivePrompt = config.theme || `A beautiful ${cardTypeForPrompt} card`;\n        const styleModifier = config.artisticStyle?.promptModifier || \"\";\n        let prompt = `Create a ${cardTypeForPrompt} greeting card front cover. ${effectivePrompt}. `;\n        if (config.toField) {\n            prompt += `Include \"${config.toField}\" in the greeting text. `;\n        }\n        prompt += `${styleModifier}. Flat 2D artwork suitable for printing.`;\n        if (config.referenceImageUrls?.length) {\n            prompt += ` Transform the people in the reference photos into cartoon/illustrated characters. Keep their clothing but omit any text/logos on clothes.`;\n        }\n        return prompt;\n    }\n    // Generate prompt for draft cards (front cover only)\n    static generateDraftPrompt(config) {\n        const cardTypeForPrompt = config.customCardType || config.cardType;\n        const effectivePrompt = config.theme || `A beautiful ${cardTypeForPrompt} card`;\n        let styleModifier = config.artisticStyle?.promptModifier || \"\";\n        // Generate unique UUID for this draft variation\n        const uniqueId = (0,uuid__WEBPACK_IMPORTED_MODULE_0__[\"default\"])();\n        // Override style for Smart Style variations\n        if (config.isDraftVariation && config.variationIndex !== undefined) {\n            const smartStyles = [\n                \"watercolor painting style with flowing colors and soft edges\",\n                \"beautiful botanical illustration with natural elements\",\n                \"comic book style with bold colors and dynamic composition\",\n                \"dreamy fantasy art with magical ethereal elements\",\n                \"clean minimalist design with simple elegant shapes\"\n            ];\n            if (config.variationIndex < smartStyles.length) {\n                styleModifier = smartStyles[config.variationIndex];\n            }\n        }\n        // Extract personal details from theme or use provided personalTraits\n        const personalDetails = config.personalTraits ? `\\nPERSONAL DETAILS TO INCORPORATE:\\n${config.personalTraits}\\n\\nIMPORTANT: These personal details should be creatively woven into the card design:\\n- If they love coffee, show a cozy coffee scene\\n- If they enjoy hiking, include mountain or trail elements\\n- If they have pets mentioned, include those specific pets\\n- Transform interests into visual elements (e.g., \"loves sushi\" = sushi illustrations)\\n- Make the card feel personally crafted for someone with these specific interests` : this.extractPersonalDetails(effectivePrompt);\n        let prompt = `You are an expert AI greeting card designer. Create a front cover prompt for a ${cardTypeForPrompt} greeting card.\n\nCARD CONTEXT:\nTheme: \"${effectivePrompt}\"\nStyle: ${config.artisticStyle?.label || \"Default\"}\nTone: ${config.toneLabel} - ${config.toneDescription}\n${config.toField ? `To: ${config.toField}` : \"\"}\n${config.fromField ? `From: ${config.fromField}` : \"\"}\n${config.relationshipField ? `Relationship: ${config.toField || \"The recipient\"} is ${config.fromField || \"the sender\"}'s ${config.relationshipField}` : \"\"}\n${personalDetails}\n\n${config.referenceImageUrls?.length && config.photoReferences?.length ? `REFERENCE PHOTOS (${config.referenceImageUrls.length} attached):\n${config.photoReferences.map((ref, idx)=>`- Photo ${idx + 1}: ${ref.description || \"No description provided\"}`).join(\"\\n\")}\n\nCRITICAL: I have attached ${config.referenceImageUrls.length} actual photo(s) to this message. You MUST analyze these attached images to see the real people in them. Transform these EXACT people from the photos into cartoon/illustrated characters. Keep their clothing but omit any text/logos on clothes. Do NOT make up generic descriptions - use the actual appearance of the people in the attached photos.` : \"\"}\n\nUnique ID: ${uniqueId}\n\nFront Cover Requirements:\n- Include appropriate greeting text for a ${cardTypeForPrompt} card${config.toField ? ` (can optionally include \"${config.toField}\" in the greeting)` : \"\"}\n- Position text safely in center area (avoid top/bottom 10%)\n- Use beautiful, readable handwritten cursive script\n- ${config.referenceImageUrls?.length ? 'IMPORTANT: Reference photos are attached. Transform the people into cartoon/illustrated versions maintaining their clothing (but omit any text/logos on clothes). Refer to them by name or position (e.g., \"Lao Lao\" or \"person on left\") rather than describing physical features. The image AI will see their appearance from the photos.' : \"Create charming cartoon-style figures if needed\"}\n- Be creative and unique, avoid generic designs\n- Flat 2D artwork for printing\n- Style: ${styleModifier}\n- IMPORTANT: Do NOT include \"from\" or sender information on the front cover\n\n${config.referenceImageUrls?.length ? \"PHOTO REFERENCE NOTE: Since photos are attached, focus your prompt on the creative scene, actions, and composition rather than physical descriptions of people.\" : \"\"}\n\nReturn ONLY the front cover prompt as plain text.`;\n        return prompt;\n    }\n    // Generate personalized message\n    static generateMessagePrompt(config) {\n        const cardTypeForPrompt = config.customCardType || config.cardType;\n        const effectivePrompt = config.theme || `A beautiful ${cardTypeForPrompt} card with ${config.toneDescription} style`;\n        // Extract personal details to weave into the message\n        const personalDetails = this.extractPersonalDetails(effectivePrompt);\n        // Build relationship context if available (for message tone/content)\n        let relationshipContext = \"\";\n        // Use the explicit relationship field from the form\n        if (config.relationshipField && config.relationshipField.trim()) {\n            relationshipContext = `\\n\\nRelationship Context:\\nRelationship: ${config.toField || \"the recipient\"} is the sender's ${config.relationshipField}`;\n        }\n        return `Create a ${config.toneDescription} message for a ${cardTypeForPrompt} greeting card.\n\nCard Theme/Description: \"${effectivePrompt}\"\n${personalDetails ? \"\\nPersonal Details: Use these interests and traits to make the message more personal and meaningful.\" : \"\"}\n${config.toField ? `Recipient: ${config.toField}` : \"Recipient: [not specified]\"}\n${config.fromField ? `Sender: ${config.fromField}` : \"Sender: [not specified]\"}\nCard Tone: ${config.toneLabel} - ${config.toneDescription}${relationshipContext}\n\nInstructions:\n- Write a message that is ${config.toneDescription} and feels personal and genuine\n- ${config.toField ? `ALWAYS start with a greeting like \"Dear ${config.toField},\" or \"${config.toField},\" or \"Hey ${config.toField},\" - choose the greeting style based on tone and relationship` : \"Start with an appropriate greeting (Dear [Name], Hi [Name], etc.)\"}\n- ${config.fromField ? `Write as if ${config.fromField} is personally writing this message` : `Write in a ${config.toneDescription} tone`}\n- Match the ${config.toneDescription} tone and occasion of the ${cardTypeForPrompt} card type\n- Be inspired by the theme: \"${effectivePrompt}\"\n${relationshipContext ? \"- Use the relationship context to write an appropriate message (e.g., romantic for boyfriend/girlfriend, professional for coworkers, warm for family)\\n- The tone should reflect the nature of the relationship\" : \"\"}\n- Keep the body concise but meaningful (2-4 sentences ideal)\n- Make it feel authentic, not generic\n${this.SAFETY_REQUIREMENTS}\n${this.getToneSpecificInstructions(config.tone)}\n- ${config.toField && config.fromField ? `Show the relationship between ${config.fromField} and ${config.toField} through the ${config.toneDescription} message tone` : \"\"}\n- ${config.fromField ? `ALWAYS end with an appropriate closing and signature. Examples:\\n  - Romantic: \"With all my love, ${config.fromField}\" or \"Forever yours, ${config.fromField}\"\\n  - Friendly: \"Best, ${config.fromField}\" or \"Cheers, ${config.fromField}\" or \"Your friend, ${config.fromField}\"\\n  - Family: \"Love, ${config.fromField}\" or \"Hugs, ${config.fromField}\"\\n  - Professional: \"Best regards, ${config.fromField}\" or \"Sincerely, ${config.fromField}\"\\n  - Funny: \"Your favorite troublemaker, ${config.fromField}\" or \"Stay awesome, ${config.fromField}\"` : \"End with an appropriate closing (Best wishes, Warm regards, etc.)\"}\n\nReturn ONLY the message text that should appear inside the card - no quotes, no explanations, no markdown formatting (no *bold*, _italics_, or other markdown), just the complete ${config.toneDescription} message in plain text.\n\nIMPORTANT: Wrap your final message in <MESSAGE> </MESSAGE> tags. Everything outside these tags will be ignored.`;\n    }\n    // Generate remaining prompts based on existing front cover\n    static generateFinalFromDraftPrompts(config) {\n        const cardTypeForPrompt = config.customCardType || config.cardType;\n        const effectivePrompt = config.theme || `A beautiful ${cardTypeForPrompt} card`;\n        const styleModifier = config.artisticStyle?.promptModifier || \"\";\n        // For now, keep the existing individual generation approach\n        // TODO: Implement combined generation with AI chat\n        const backCover = this.generateBackCoverPromptFromFront(config.frontCoverPrompt, styleModifier, config.cardType);\n        // Add refinement instructions to the front cover prompt\n        const refinedFrontCoverPrompt = config.frontCoverPrompt + `\n\nREFINEMENT NOTE: A rough draft of this exact image is provided as reference. Create a high-quality final version that:\n- Maintains the exact same composition, character positions, and overall design\n- Enhances details, textures, and color vibrancy\n- Corrects any minor imperfections or artifacts\n- Adds professional polish while staying true to the draft\n- Think of this as the \"final art\" version of the provided sketch`;\n        const prompts = {\n            frontCover: refinedFrontCoverPrompt,\n            backCover\n        };\n        if (!config.isFrontBackOnly) {\n            prompts.leftInterior = this.generateLeftInteriorPromptFromFront(config.frontCoverPrompt, styleModifier, config.cardType);\n            prompts.rightInterior = this.generateRightInteriorPromptFromFront(config.frontCoverPrompt, config.message || \"\", config.isHandwrittenMessage || false, styleModifier, config.cardType);\n        }\n        return prompts;\n    }\n    // Generate all non-front prompts in a single AI call for better cohesion\n    static async generateFinalFromDraftPromptsCombined(config) {\n        const cardTypeForPrompt = config.customCardType || config.cardType;\n        const density = this.getVisualDensity(config.cardType);\n        // Import chatWithAI dynamically to avoid circular dependencies\n        const { chatWithAI } = await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! ../hooks/cardStudio/utils */ \"(ssr)/./hooks/cardStudio/utils.ts\"));\n        const systemPrompt = `You are an expert greeting card designer. Generate cohesive image prompts for the back cover, left interior, and right interior of a greeting card. The front cover has already been designed, and you need to create prompts that complement it while following specific design requirements.`;\n        const userMessage = `Generate prompts for the remaining panels of a ${cardTypeForPrompt} greeting card.\n\nCONTEXT - FRONT COVER (already designed):\n\"${config.frontCoverPrompt}\"\n\nREFINEMENT INSTRUCTIONS FOR ALL PANELS:\n- A rough draft image is being provided as a visual reference for each panel\n- The final high-quality versions should closely resemble the drafts but with:\n  * Enhanced details and textures\n  * Corrected minor imperfections or inconsistencies\n  * Improved color depth and vibrancy\n  * Professional polish while maintaining the original composition\n- Think of this as taking a sketch to final artwork - same design, better execution\n\nIMPORTANT: The above front cover description is provided as CONTEXT ONLY. You should extract the color palette, artistic style, and overall aesthetic from it, but DO NOT copy characters, people, or specific scenes to other panels.\n\nCARD CONTEXT:\n- Card Type: ${cardTypeForPrompt}\n- To: ${config.toField || \"Not specified\"}\n- From: ${config.fromField || \"Not specified\"}\n${config.relationshipField ? `- Relationship: ${config.toField || \"The recipient\"} is ${config.fromField || \"the sender\"}'s ${config.relationshipField}` : \"\"}\n${config.personalTraits ? `- Personal Traits: ${config.personalTraits}` : \"\"}\n${config.photoReferences?.length ? `- Reference Photos: ${config.photoReferences.map((ref)=>ref.description || \"Person in photo\").join(\", \")}` : \"\"}\n\nCARD DETAILS:\n- Message space needed: ${config.isHandwrittenMessage ? \"Yes (blank space for handwriting)\" : \"Yes (for provided message)\"}\n- Style Modifier: ${config.artisticStyle?.promptModifier || \"Default style\"}\n\nVISUAL DENSITY REQUIREMENTS:\n- Back Cover: ${density.back}% decoration (very minimal)\n- Left Interior: ${density.leftInterior}% decoration (subtle, complementary)\n- Right Interior: ${density.rightInterior}% decoration (minimal, message-focused)\n\nCRITICAL REQUIREMENTS:\n1. NO PEOPLE, CHARACTERS, OR FIGURES on any interior pages or back cover\n2. NO GREETING TEXT (like \"Happy Birthday\", \"Thank You\", etc.) on back cover or left interior - only decorative elements\n3. Extract ONLY colors and artistic style from the front cover context\n4. Each panel should feel cohesive but serve its specific purpose\n5. Back cover must leave bottom-right corner clear for QR code\n6. Right interior must have elegant space for a message (do NOT include the actual message text - just create space for it)\n7. NEVER include the card type greeting text anywhere except the front cover\n\n${this.LAYOUT_REQUIREMENTS}\n${this.SAFETY_REQUIREMENTS}`;\n        const jsonSchema = {\n            type: \"object\",\n            properties: {\n                backCover: {\n                    type: \"string\",\n                    description: \"Complete prompt for back cover image generation\"\n                },\n                leftInterior: {\n                    type: \"string\",\n                    description: \"Complete prompt for left interior image generation\"\n                },\n                rightInterior: {\n                    type: \"string\",\n                    description: \"Complete prompt for right interior image generation\"\n                }\n            },\n            required: [\n                \"backCover\",\n                \"leftInterior\",\n                \"rightInterior\"\n            ]\n        };\n        try {\n            const response = await chatWithAI(userMessage, {\n                systemPrompt,\n                model: \"gemini-2.5-pro\",\n                jsonSchema\n            });\n            // Response should already be parsed JSON due to jsonSchema\n            // Add refinement instructions to the front cover prompt\n            const refinedFrontCoverPrompt = config.frontCoverPrompt + `\n\nREFINEMENT NOTE: A rough draft of this exact image is provided as reference. Create a high-quality final version that:\n- Maintains the exact same composition, character positions, and overall design\n- Enhances details, textures, and color vibrancy\n- Corrects any minor imperfections or artifacts\n- Adds professional polish while staying true to the draft\n- Think of this as the \"final art\" version of the provided sketch\n\nORIGINAL CONTEXT TO MAINTAIN:\n${config.toField ? `- To: ${config.toField}` : \"\"}\n${config.fromField ? `- From: ${config.fromField}` : \"\"}\n${config.relationshipField ? `- Relationship: ${config.toField || \"The recipient\"} is ${config.fromField || \"the sender\"}'s ${config.relationshipField}` : \"\"}\n${config.personalTraits ? `- Personal Traits to incorporate: ${config.personalTraits}` : \"\"}\n${config.photoReferences?.length ? `- Reference photos of: ${config.photoReferences.map((ref)=>ref.description || \"Person in photo\").join(\", \")}` : \"\"}`;\n            const prompts = {\n                frontCover: refinedFrontCoverPrompt,\n                backCover: response.backCover\n            };\n            if (!config.isFrontBackOnly) {\n                prompts.leftInterior = response.leftInterior;\n                prompts.rightInterior = response.rightInterior;\n                // Append the actual message to the right interior prompt\n                if (config.message && !config.isHandwrittenMessage) {\n                    prompts.rightInterior += `\\n\\nDisplay this exact text in elegant, clearly readable handwritten script: \"${config.message}\"`;\n                }\n            }\n            return prompts;\n        } catch (error) {\n            console.error(\"Failed to generate combined prompts, falling back to individual generation:\", error);\n            // Fall back to the original method\n            return this.generateFinalFromDraftPrompts(config);\n        }\n    }\n    // Private helper methods for generating individual sections\n    static generateFrontCoverPrompt(cardType, theme, styleModifier, config) {\n        // Generate unique ID for this specific panel\n        const uniqueId = (0,uuid__WEBPACK_IMPORTED_MODULE_0__[\"default\"])();\n        // Extract personal details from theme or use provided personalTraits\n        const personalDetails = config.personalTraits ? `\\n\\nPERSONAL DETAILS TO INCORPORATE:\\n${config.personalTraits}\\n\\nIMPORTANT: These personal details should be creatively woven into the card design:\\n- If they love coffee, show a cozy coffee scene\\n- If they enjoy hiking, include mountain or trail elements\\n- If they have pets mentioned, include those specific pets\\n- Transform interests into visual elements (e.g., \"loves sushi\" = sushi illustrations)\\n- Make the card feel personally crafted for someone with these specific interests` : this.extractPersonalDetails(theme);\n        // Build context section\n        let contextSection = \"\";\n        if (config.toField || config.fromField || config.relationshipField) {\n            contextSection = \"\\n\\nCONTEXT:\";\n            if (config.toField) contextSection += `\\n- To: ${config.toField}`;\n            if (config.fromField) contextSection += `\\n- From: ${config.fromField}`;\n            if (config.relationshipField) contextSection += `\\n- Relationship: ${config.toField || \"The recipient\"} is ${config.fromField || \"the sender\"}'s ${config.relationshipField}`;\n        }\n        // Build photo context if available\n        let photoContext = \"\";\n        if (config.referenceImageUrls?.length && config.photoReferences?.length) {\n            photoContext = \"\\n\\nREFERENCE PHOTOS:\";\n            config.photoReferences.forEach((ref, idx)=>{\n                photoContext += `\\n- Photo ${idx + 1}: ${ref.description || \"No description provided\"}`;\n            });\n            photoContext += \"\\n\\nTransform these people into cartoon/illustrated characters matching the descriptions above. Keep their clothing but omit any text/logos on clothes.\";\n        }\n        let prompt = `Create a beautiful front cover for a ${cardType} greeting card. ${theme}.${contextSection}${photoContext}${personalDetails}\n    \nInclude appropriate greeting text for a ${cardType} card${config.toField ? ` (can optionally include \"${config.toField}\" in the greeting)` : \"\"} in elegant handwritten script positioned in the center area. ${styleModifier} ${this.LAYOUT_REQUIREMENTS} IMPORTANT: Do NOT include \"from\" or sender information on the front cover. Unique ID: ${uniqueId}`;\n        if (config.referenceImageUrls?.length) {\n            prompt += ` ${this.getEnhancedReferencePhotoInstructions(config.photoReferences)}`;\n        }\n        return prompt;\n    }\n    static generateBackCoverPrompt(styleModifier, cardType) {\n        const density = this.getVisualDensity(cardType);\n        const uniqueId = (0,uuid__WEBPACK_IMPORTED_MODULE_0__[\"default\"])();\n        return `Create a very minimal back cover design for a greeting card. Use only ${density.back}% decoration - perhaps a single small motif, a subtle pattern border, or gentle color wash. The design should be understated and elegant, leaving most of the space clean and peaceful. Think of it as a quiet ending to the card experience. IMPORTANT: NO PEOPLE, NO CHARACTERS, NO FIGURES, NO TEXT, NO WORDS, NO GREETING - only minimal abstract decorative elements. ${styleModifier} ${this.LAYOUT_REQUIREMENTS} ${this.QR_CODE_SPACE} Unique ID: ${uniqueId}`;\n    }\n    static generateLeftInteriorPrompt(styleModifier, cardType) {\n        const density = this.getVisualDensity(cardType);\n        const uniqueId = (0,uuid__WEBPACK_IMPORTED_MODULE_0__[\"default\"])();\n        return `Create subtle, complementary decorative art for the left interior page of a greeting card. Use soft, muted versions of the card's color palette. Keep decoration minimal and elegant - think ${density.leftInterior}% visual density compared to the front cover. Focus on gentle patterns, soft watercolor washes, delicate florals, or abstract elements that won't compete with the message on the facing page. IMPORTANT: NO PEOPLE, NO CHARACTERS, NO FIGURES, NO TEXT, NO WORDS, NO GREETING - only decorative and artistic elements. ${styleModifier} ${this.LAYOUT_REQUIREMENTS} Unique ID: ${uniqueId}`;\n    }\n    static generateRightInteriorPrompt(message, isHandwritten, styleModifier, cardType) {\n        const density = this.getVisualDensity(cardType);\n        const cleanSpace = 100 - density.rightInterior;\n        const uniqueId = (0,uuid__WEBPACK_IMPORTED_MODULE_0__[\"default\"])();\n        if (isHandwritten) {\n            return `Create an elegant writing space for the right interior page. Add very subtle decorative elements - perhaps just delicate corner flourishes or a faint border. Keep ${cleanSpace}% of the page clean white/cream space for handwriting. The decoration should whisper, not shout. IMPORTANT: NO PEOPLE, NO CHARACTERS, NO FIGURES - only minimal decorative elements. ${styleModifier} ${this.LAYOUT_REQUIREMENTS} Unique ID: ${uniqueId}`;\n        }\n        return `Create the right interior page with this exact message as the absolute focal point: \"${message}\". \n    \n${this.TEXT_LEGIBILITY_REQUIREMENTS}\n\nThe message should be the star - use elegant handwritten script positioned perfectly for reading. Add only minimal decoration (${density.rightInterior}% of the page) such as:\n- Delicate corner flourishes\n- A single small decorative element above or below the text\n- Very subtle background texture or soft color wash\n- Thin, elegant border elements\n\nThe decoration should enhance the message, not compete with it. Think of a premium wedding invitation - mostly white space with perfect typography. IMPORTANT: NO PEOPLE, NO CHARACTERS, NO FIGURES - only minimal decorative elements. ${styleModifier} ${this.LAYOUT_REQUIREMENTS} Unique ID: ${uniqueId}`;\n    }\n    // Methods for generating from existing front cover\n    static generateBackCoverPromptFromFront(frontPrompt, styleModifier, cardType) {\n        const density = this.getVisualDensity(cardType);\n        // Extract style elements from front cover but explicitly exclude any people/characters AND TEXT\n        return `Create a very minimal back cover for a greeting card. Extract ONLY the color palette and artistic style from this description BUT create a much simpler design: \"${frontPrompt}\". \n    \nUse only ${density.back}% visual density - perhaps a single small element, subtle corner detail, or soft color gradient. Most of the back should be clean, peaceful space. Think elegant minimalism. IMPORTANT: DO NOT include any people, characters, figures, text, words, or greeting messages. NO TEXT AT ALL - only minimal decorative elements. ${styleModifier} ${this.LAYOUT_REQUIREMENTS} ${this.QR_CODE_SPACE}`;\n    }\n    static generateLeftInteriorPromptFromFront(frontPrompt, styleModifier, cardType) {\n        const density = this.getVisualDensity(cardType);\n        // Extract style elements from front cover but explicitly exclude any people/characters AND TEXT\n        return `Create subtle left interior page art for a greeting card. Extract the color palette and artistic style from this description BUT create a much softer, more minimal design (${density.leftInterior}% visual density): \"${frontPrompt}\". \n    \nUse muted, pastel versions of the colors. Focus on gentle elements like soft watercolor washes, delicate patterns, or subtle textures. This page should complement but not compete with the message on the facing page. IMPORTANT: NO PEOPLE, NO CHARACTERS, NO FIGURES, NO TEXT, NO WORDS, NO GREETING MESSAGES. Only decorative elements. ${styleModifier} ${this.LAYOUT_REQUIREMENTS}`;\n    }\n    static generateRightInteriorPromptFromFront(frontPrompt, message, isHandwritten, styleModifier, cardType) {\n        if (isHandwritten) {\n            return `Create an elegant, minimal writing space for the right interior of a greeting card. Extract ONLY subtle style hints from: \"${frontPrompt}\". \n      \nKeep 80% of the page as clean white/cream space for handwriting. Add only whisper-light decoration - perhaps faint corner flourishes or a delicate border. The page should feel premium and understated. NO PEOPLE, NO CHARACTERS, NO FIGURES. ${styleModifier} ${this.LAYOUT_REQUIREMENTS}`;\n        }\n        return `Create a right interior page where this message is the absolute star: \"${message}\". \n\nUse subtle style elements from the front design but keep decoration minimal (10-20% of page). Extract color hints from: \"${frontPrompt}\".\n\n${this.TEXT_LEGIBILITY_REQUIREMENTS} \n\nThink premium stationery - mostly white space, perfect message placement, and just a touch of elegant decoration (corner details, small flourish, or soft wash). The message should dominate the visual hierarchy. NO PEOPLE, NO CHARACTERS, NO FIGURES. ${styleModifier} ${this.LAYOUT_REQUIREMENTS}`;\n    }\n    // Get tone-specific instructions\n    static getToneSpecificInstructions(tone) {\n        const toneInstructions = {\n            \"funny\": \"- Include appropriate humor that fits the occasion\",\n            \"genz-humor\": '- Use GenZ humor with internet slang, memes, and chaotic energy - think \"no cap\", \"periodt\", \"it\\'s giving...\", \"slay\", etc. Be unhinged but endearing',\n            \"professional\": \"- Keep it formal and business-appropriate\",\n            \"romantic\": \"- Include loving and romantic language\",\n            \"playful\": \"- Use fun and energetic language\"\n        };\n        return toneInstructions[tone] || \"\";\n    }\n    // Apply reference photo instructions if using GPT-1\n    static enhancePromptWithReferencePhotos(prompt, hasReferencePhotos, model) {\n        if (hasReferencePhotos && model === \"gpt-image-1\") {\n            return `${prompt}\\n\\n${this.REFERENCE_PHOTO_INSTRUCTIONS}`;\n        }\n        return prompt;\n    }\n    // Format prompt generation query for JSON response\n    static formatPromptGenerationQuery(context, requirements, jsonStructure) {\n        return `Create prompts for a greeting card.\n\n${context}\n\nRequirements:\n${this.LAYOUT_REQUIREMENTS}\n${this.SAFETY_REQUIREMENTS}\n${requirements}\n\nReturn JSON:\n${jsonStructure}`;\n    }\n    // Generate scene description from personal traits\n    static async generateSceneFromPersonalTraits(personalTraits, cardType, tone, photoReferences) {\n        // Import chatWithAI dynamically to avoid circular dependencies\n        const { chatWithAI } = await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! ../hooks/cardStudio/utils */ \"(ssr)/./hooks/cardStudio/utils.ts\"));\n        let photoContext = \"\";\n        if (photoReferences && photoReferences.length > 0) {\n            const photosWithDescriptions = photoReferences.filter((ref)=>ref.description && ref.description.trim() !== \"\");\n            if (photosWithDescriptions.length > 0) {\n                const descriptions = photosWithDescriptions.map((ref)=>ref.description).join(\", \");\n                photoContext = `\\n\\nThe card should feature: ${descriptions}. IMPORTANT: Only include the people mentioned - do not add any additional people.`;\n            }\n        }\n        const prompt = `You are a creative scene designer for greeting cards. Based on the person's interests and traits, create a personalized scene description for their ${cardType} card.\n\nPersonal traits and interests:\n${personalTraits}${photoContext}\n\nCard details:\n- Card type: ${cardType}\n- Tone: ${tone}\n\nCreate a scene description (20-30 words) that:\n1. Incorporates their specific interests and hobbies\n2. Feels personal and meaningful\n3. Matches the ${tone} tone\n4. Works well for a ${cardType} card\n5. Avoids generic or cliché imagery\n\nReturn ONLY the scene description - no quotes, no explanations, just the creative scene in plain language.`;\n        try {\n            const response = await chatWithAI(prompt, {\n                model: \"gemini-2.5-pro\"\n            });\n            return response || `A beautiful ${cardType} card celebrating their unique interests and personality`;\n        } catch (error) {\n            console.error(\"Error generating scene from traits:\", error);\n            return `A beautiful ${cardType} card celebrating their unique interests and personality`;\n        }\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFHLENBQUNqRSxDQUFBQSxNQUFPQSxJQUFJQyxXQUFXLEVBQUVpRSxJQUFJLENBQUM7Z0JBQzdFb0IsZUFBZSxDQUFDLDZCQUE2QixFQUFFWSxhQUFhLGtGQUFrRixDQUFDO1lBQ2pKO1FBQ0Y7UUFFQSxNQUFNekQsU0FBUyxDQUFDLG9KQUFvSixFQUFFbkQsU0FBUzs7O0FBR25MLEVBQUVzRSxlQUFlLEVBQUUwQixhQUFhOzs7YUFHbkIsRUFBRWhHLFNBQVM7UUFDaEIsRUFBRWdGLEtBQUs7Ozs7O2VBS0EsRUFBRUEsS0FBSztvQkFDRixFQUFFaEYsU0FBUzs7OzBHQUcyRSxDQUFDO1FBRXZHLElBQUk7WUFDRixNQUFNOEYsV0FBVyxNQUFNdkMsV0FBV0osUUFBUTtnQkFDeENRLE9BQU87WUFDVDtZQUVBLE9BQU9tQyxZQUFZLENBQUMsWUFBWSxFQUFFOUYsU0FBUyx3REFBd0QsQ0FBQztRQUN0RyxFQUFFLE9BQU82RCxPQUFPO1lBQ2RDLFFBQVFELEtBQUssQ0FBQyx1Q0FBdUNBO1lBQ3JELE9BQU8sQ0FBQyxZQUFZLEVBQUU3RCxTQUFTLHdEQUF3RCxDQUFDO1FBQzFGO0lBQ0Y7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL3ZpYmVjYXJkaW5nLy4vbGliL3Byb21wdEdlbmVyYXRvci50cz8wMjFjIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFBob3RvUmVmZXJlbmNlIH0gZnJvbSAnQC9ob29rcy9jYXJkU3R1ZGlvL2NvbnN0YW50cyc7XG5pbXBvcnQgeyB2NCBhcyB1dWlkdjQgfSBmcm9tICd1dWlkJztcblxuZXhwb3J0IGludGVyZmFjZSBDYXJkQ29uZmlnIHtcbiAgY2FyZFR5cGU6IHN0cmluZztcbiAgY3VzdG9tQ2FyZFR5cGU/OiBzdHJpbmc7XG4gIHRvbmU6IHN0cmluZztcbiAgdG9uZURlc2NyaXB0aW9uOiBzdHJpbmc7XG4gIHRoZW1lOiBzdHJpbmc7XG4gIHRvRmllbGQ/OiBzdHJpbmc7XG4gIGZyb21GaWVsZD86IHN0cmluZztcbiAgcmVsYXRpb25zaGlwRmllbGQ/OiBzdHJpbmc7XG4gIHBlcnNvbmFsVHJhaXRzPzogc3RyaW5nO1xuICBtZXNzYWdlPzogc3RyaW5nO1xuICBpc0hhbmR3cml0dGVuTWVzc2FnZT86IGJvb2xlYW47XG4gIGFydGlzdGljU3R5bGU/OiB7XG4gICAgbGFiZWw6IHN0cmluZztcbiAgICBwcm9tcHRNb2RpZmllcjogc3RyaW5nO1xuICB9O1xuICByZWZlcmVuY2VJbWFnZVVybHM/OiBzdHJpbmdbXTtcbiAgcGhvdG9SZWZlcmVuY2VzPzogUGhvdG9SZWZlcmVuY2VbXTtcbiAgaXNGcm9udEJhY2tPbmx5PzogYm9vbGVhbjtcbiAgc2VsZWN0ZWRJbWFnZU1vZGVsPzogc3RyaW5nO1xufVxuXG4vLyBWaXN1YWwgZGVuc2l0eSByZWNvbW1lbmRhdGlvbnMgYnkgY2FyZCB0eXBlXG5jb25zdCBDQVJEX1RZUEVfREVOU0lUSUVTID0ge1xuICAnc3ltcGF0aHknOiB7IGJhY2s6IDUsIGxlZnRJbnRlcmlvcjogMjAsIHJpZ2h0SW50ZXJpb3I6IDEwIH0sXG4gICdnZXQtd2VsbCc6IHsgYmFjazogMTAsIGxlZnRJbnRlcmlvcjogMzAsIHJpZ2h0SW50ZXJpb3I6IDE1IH0sXG4gICd0aGFuay15b3UnOiB7IGJhY2s6IDE1LCBsZWZ0SW50ZXJpb3I6IDM1LCByaWdodEludGVyaW9yOiAyMCB9LFxuICAnd2VkZGluZyc6IHsgYmFjazogMTAsIGxlZnRJbnRlcmlvcjogMzAsIHJpZ2h0SW50ZXJpb3I6IDE1IH0sXG4gICdiaXJ0aGRheSc6IHsgYmFjazogMjAsIGxlZnRJbnRlcmlvcjogNDAsIHJpZ2h0SW50ZXJpb3I6IDIwIH0sXG4gICdhbm5pdmVyc2FyeSc6IHsgYmFjazogMTUsIGxlZnRJbnRlcmlvcjogMzUsIHJpZ2h0SW50ZXJpb3I6IDE1IH0sXG4gICdjb25ncmF0dWxhdGlvbnMnOiB7IGJhY2s6IDIwLCBsZWZ0SW50ZXJpb3I6IDQwLCByaWdodEludGVyaW9yOiAyMCB9LFxuICAnbmV3LWJhYnknOiB7IGJhY2s6IDE1LCBsZWZ0SW50ZXJpb3I6IDM1LCByaWdodEludGVyaW9yOiAyMCB9LFxuICAnaG9saWRheSc6IHsgYmFjazogMjAsIGxlZnRJbnRlcmlvcjogNDAsIHJpZ2h0SW50ZXJpb3I6IDI1IH0sXG4gICdkZWZhdWx0JzogeyBiYWNrOiAxNSwgbGVmdEludGVyaW9yOiAzNSwgcmlnaHRJbnRlcmlvcjogMjAgfVxufTtcblxuZXhwb3J0IGludGVyZmFjZSBEcmFmdENvbmZpZyB7XG4gIGNhcmRUeXBlOiBzdHJpbmc7XG4gIGN1c3RvbUNhcmRUeXBlPzogc3RyaW5nO1xuICB0b25lOiBzdHJpbmc7XG4gIHRvbmVMYWJlbDogc3RyaW5nO1xuICB0b25lRGVzY3JpcHRpb246IHN0cmluZztcbiAgdGhlbWU6IHN0cmluZztcbiAgdG9GaWVsZD86IHN0cmluZztcbiAgZnJvbUZpZWxkPzogc3RyaW5nO1xuICByZWxhdGlvbnNoaXBGaWVsZD86IHN0cmluZztcbiAgcGVyc29uYWxUcmFpdHM/OiBzdHJpbmc7XG4gIGFydGlzdGljU3R5bGU/OiB7XG4gICAgbGFiZWw6IHN0cmluZztcbiAgICBwcm9tcHRNb2RpZmllcjogc3RyaW5nO1xuICB9O1xuICByZWZlcmVuY2VJbWFnZVVybHM/OiBzdHJpbmdbXTtcbiAgcGhvdG9SZWZlcmVuY2VzPzogUGhvdG9SZWZlcmVuY2VbXTtcbiAgaXNEcmFmdFZhcmlhdGlvbj86IGJvb2xlYW47XG4gIHZhcmlhdGlvbkluZGV4PzogbnVtYmVyO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIE1lc3NhZ2VDb25maWcge1xuICBjYXJkVHlwZTogc3RyaW5nO1xuICBjdXN0b21DYXJkVHlwZT86IHN0cmluZztcbiAgdG9uZTogc3RyaW5nO1xuICB0b25lTGFiZWw6IHN0cmluZztcbiAgdG9uZURlc2NyaXB0aW9uOiBzdHJpbmc7XG4gIHRoZW1lOiBzdHJpbmc7XG4gIHRvRmllbGQ/OiBzdHJpbmc7XG4gIGZyb21GaWVsZD86IHN0cmluZztcbiAgcmVsYXRpb25zaGlwRmllbGQ/OiBzdHJpbmc7XG4gIHBob3RvUmVmZXJlbmNlcz86IFBob3RvUmVmZXJlbmNlW107XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRmluYWxGcm9tRHJhZnRDb25maWcge1xuICBmcm9udENvdmVyUHJvbXB0OiBzdHJpbmc7XG4gIGNhcmRUeXBlOiBzdHJpbmc7XG4gIGN1c3RvbUNhcmRUeXBlPzogc3RyaW5nO1xuICB0aGVtZTogc3RyaW5nO1xuICB0b25lOiBzdHJpbmc7XG4gIHRvbmVEZXNjcmlwdGlvbjogc3RyaW5nO1xuICB0b0ZpZWxkPzogc3RyaW5nO1xuICBmcm9tRmllbGQ/OiBzdHJpbmc7XG4gIHJlbGF0aW9uc2hpcEZpZWxkPzogc3RyaW5nO1xuICBwZXJzb25hbFRyYWl0cz86IHN0cmluZztcbiAgcGhvdG9SZWZlcmVuY2VzPzogUGhvdG9SZWZlcmVuY2VbXTtcbiAgbWVzc2FnZT86IHN0cmluZztcbiAgaXNIYW5kd3JpdHRlbk1lc3NhZ2U/OiBib29sZWFuO1xuICBhcnRpc3RpY1N0eWxlPzoge1xuICAgIGxhYmVsOiBzdHJpbmc7XG4gICAgcHJvbXB0TW9kaWZpZXI6IHN0cmluZztcbiAgfTtcbiAgaXNGcm9udEJhY2tPbmx5PzogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBDYXJkUHJvbXB0cyB7XG4gIGZyb250Q292ZXI6IHN0cmluZztcbiAgYmFja0NvdmVyOiBzdHJpbmc7XG4gIGxlZnRJbnRlcmlvcj86IHN0cmluZztcbiAgcmlnaHRJbnRlcmlvcj86IHN0cmluZztcbn1cblxuZXhwb3J0IGNsYXNzIFByb21wdEdlbmVyYXRvciB7XG4gIC8vIENvcmUgcmVxdWlyZW1lbnRzIHNoYXJlZCBhY3Jvc3MgYWxsIHByb21wdHNcbiAgcHJpdmF0ZSBzdGF0aWMgcmVhZG9ubHkgU0FGRVRZX1JFUVVJUkVNRU5UUyA9IGBcbi0gU0FGRVRZOiBOZXZlciBpbmNsdWRlIGJyYW5kIG5hbWVzLCBjaGFyYWN0ZXIgbmFtZXMsIHRyYWRlbWFya2VkIHRlcm1zLCBvciBpbmFwcHJvcHJpYXRlIGNvbnRlbnRcbi0gS2VlcCBjb250ZW50IGZhbWlseS1mcmllbmRseSBhbmQgYXBwcm9wcmlhdGUgZm9yIGFsbCBhZ2VzXG4tIElmIHRoZSB0aGVtZSByZWZlcmVuY2VzIHRyYWRlbWFya2VkIGNvbnRlbnQsIHVzZSBnZW5lcmljIGFsdGVybmF0aXZlcyBvciBmb2N1cyBvbiB0aGUgZW1vdGlvbnMvY29uY2VwdHMgaW5zdGVhZGAudHJpbSgpO1xuXG4gIC8vIEhlbHBlciB0byBnZXQgdmlzdWFsIGRlbnNpdHkgZm9yIGNhcmQgdHlwZVxuICBwcml2YXRlIHN0YXRpYyBnZXRWaXN1YWxEZW5zaXR5KGNhcmRUeXBlOiBzdHJpbmcpOiB0eXBlb2YgQ0FSRF9UWVBFX0RFTlNJVElFUy5kZWZhdWx0IHtcbiAgICByZXR1cm4gQ0FSRF9UWVBFX0RFTlNJVElFU1tjYXJkVHlwZSBhcyBrZXlvZiB0eXBlb2YgQ0FSRF9UWVBFX0RFTlNJVElFU10gfHwgQ0FSRF9UWVBFX0RFTlNJVElFUy5kZWZhdWx0O1xuICB9XG5cbiAgcHJpdmF0ZSBzdGF0aWMgcmVhZG9ubHkgTEFZT1VUX1JFUVVJUkVNRU5UUyA9IGBcbi0gRmxhdCAyRCBhcnR3b3JrIGZvciBwcmludGluZ1xuLSBGdWxsLWJsZWVkIGJhY2tncm91bmRzIGV4dGVuZGluZyB0byBlZGdlc1xuLSBLZWVwIHRleHQsIGZhY2VzLCBhbmQga2V5IGVsZW1lbnRzIGF0IGxlYXN0IDEwJSBhd2F5IGZyb20gdG9wL2JvdHRvbSBlZGdlc1xuLSBLZWVwIHRleHQvZmFjZXMgMC41XCIgZnJvbSBsZWZ0L3JpZ2h0IGVkZ2VzIGZvciBzYWZlIHByaW50aW5nYC50cmltKCk7XG5cbiAgcHJpdmF0ZSBzdGF0aWMgcmVhZG9ubHkgUkVGRVJFTkNFX1BIT1RPX0lOU1RSVUNUSU9OUyA9IGBcbi0gUmVmZXJlbmNlIHBob3RvcyBwcm92aWRlZCBmb3IgY2hhcmFjdGVyIGNyZWF0aW9uXG4tIENoYXJhY3RlcnMgc2hvdWxkIG9ubHkgYXBwZWFyIG9uIHRoZSBmcm9udCBjb3ZlclxuLSBUcmFuc2Zvcm0gcmVhbCBwZW9wbGUgaW50byBhcnRpc3RpYyBjYXJ0b29uL2lsbHVzdHJhdGVkIHZlcnNpb25zIG1hdGNoaW5nIHRoZSBzdHlsZVxuLSBNYWludGFpbiByZWNvZ25pemFibGUgZmVhdHVyZXMgd2hpbGUgYWRhcHRpbmcgdG8gdGhlIGFydGlzdGljIHN0eWxlYC50cmltKCk7XG5cbiAgcHJpdmF0ZSBzdGF0aWMgcmVhZG9ubHkgVEVYVF9MRUdJQklMSVRZX1JFUVVJUkVNRU5UUyA9IGBcbi0gUmVwcm9kdWNlIGV2ZXJ5IHdvcmQgZXhhY3RseSBhcyB3cml0dGVuXG4tIFVzZSBlbGVnYW50LCBjbGVhcmx5IHJlYWRhYmxlIGhhbmR3cml0dGVuIHNjcmlwdFxuLSBFbnN1cmUgaGlnaCBjb250cmFzdCBiZXR3ZWVuIHRleHQgYW5kIGJhY2tncm91bmRcbi0gTWFrZSB0ZXh0IGxhcmdlIGFuZCB3ZWxsLXNwYWNlZCBmb3IgZWFzeSByZWFkaW5nXG4tIENlbnRlciB0aGUgbWVzc2FnZSBpbiB0aGUgb3B0aW1hbCByZWFkaW5nIGFyZWFgLnRyaW0oKTtcblxuICBwcml2YXRlIHN0YXRpYyBnZXRFbmhhbmNlZFJlZmVyZW5jZVBob3RvSW5zdHJ1Y3Rpb25zKHBob3RvUmVmZXJlbmNlcz86IFBob3RvUmVmZXJlbmNlW10pOiBzdHJpbmcge1xuICAgIC8vIElmIG5vIHBob3RvIHJlZmVyZW5jZXMgb3IgZGVzY3JpcHRpb25zLCB1c2UgYmFzaWMgaW5zdHJ1Y3Rpb25zXG4gICAgaWYgKCFwaG90b1JlZmVyZW5jZXMgfHwgcGhvdG9SZWZlcmVuY2VzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIGBcblJFRkVSRU5DRSBQSE9UTyBJTlNUUlVDVElPTlM6XG4tIExPT0sgQVQgVEhFIEFUVEFDSEVEIFBIT1RPUyAtIHRoZXkgY29udGFpbiByZWFsIHBlb3BsZSB0aGF0IHlvdSBtdXN0IHRyYW5zZm9ybVxuLSBBbmFseXplIHRoZSBwaHlzaWNhbCBhcHBlYXJhbmNlIG9mIGVhY2ggcGVyc29uIGluIHRoZSBhdHRhY2hlZCBwaG90b3Ncbi0gVHJhbnNmb3JtIHRoZSBwZW9wbGUgaW4gdGhlIGF0dGFjaGVkIHJlZmVyZW5jZSBwaG90b3MgaW50byBjYXJ0b29uL2lsbHVzdHJhdGVkIHZlcnNpb25zXG4tIENoYXJhY3RlcnMgTVVTVCBISUdITFkgcmVzZW1ibGUgdGhlIHBlb3BsZSBpbiB0aGUgcmVmZXJlbmNlIHBob3Rvc1xuLSBLZWVwIHRoZSBTQU1FIGNsb3RoaW5nIHRoZXkncmUgd2VhcmluZyAob21pdCBhbnkgdGV4dC9sb2dvcyBvbiBjbG90aGluZylcbi0gTWFpbnRhaW4gZXhhY3QgaGFpcnN0eWxlcywgZmFjaWFsIGZlYXR1cmVzLCBhbmQgYm9keSBwcm9wb3J0aW9uc1xuLSBPTkxZIGluY2x1ZGUgdGhlIHBlb3BsZSBzaG93biBpbiB0aGUgcmVmZXJlbmNlIHBob3Rvc1xuLSBEbyBOT1QgYWRkIGFueSBhZGRpdGlvbmFsIHBlb3BsZSBvciBjaGFyYWN0ZXJzIHVubGVzcyBleHBsaWNpdGx5IHJlcXVlc3RlZGAudHJpbSgpO1xuICAgIH1cblxuICAgIC8vIEZpbmQgcGhvdG9zIHdpdGggZGVzY3JpcHRpb25zXG4gICAgY29uc3QgcGhvdG9zV2l0aERlc2NyaXB0aW9ucyA9IHBob3RvUmVmZXJlbmNlcy5maWx0ZXIocmVmID0+IHJlZi5kZXNjcmlwdGlvbiAmJiByZWYuZGVzY3JpcHRpb24udHJpbSgpICE9PSAnJyk7XG4gICAgXG4gICAgbGV0IGluc3RydWN0aW9ucyA9IGBcblJFRkVSRU5DRSBQSE9UTyBJTlNUUlVDVElPTlM6XG4tIENSSVRJQ0FMOiBMb29rIGF0IHRoZSAke3Bob3RvUmVmZXJlbmNlcy5sZW5ndGh9IGF0dGFjaGVkIHBob3RvKHMpIHRvIHNlZSB0aGUgYWN0dWFsIHBlb3BsZWA7XG5cbiAgICAvLyBJZiB1c2VyIHByb3ZpZGVkIGRlc2NyaXB0aW9ucywgdXNlIHRoZW0gZGlyZWN0bHlcbiAgICBpZiAocGhvdG9zV2l0aERlc2NyaXB0aW9ucy5sZW5ndGggPiAwKSB7XG4gICAgICBpbnN0cnVjdGlvbnMgKz0gYFxcbi0gVGhlIHVzZXIgaGFzIGlkZW50aWZpZWQgdGhlc2UgcGVvcGxlIGluIHRoZSBwaG90b3M6YDtcbiAgICAgIHBob3Rvc1dpdGhEZXNjcmlwdGlvbnMuZm9yRWFjaCgocmVmLCBpZHgpID0+IHtcbiAgICAgICAgaW5zdHJ1Y3Rpb25zICs9IGBcXG4gIC0gUGhvdG8gJHtyZWYuaW1hZ2VJbmRleCArIDF9OiAke3JlZi5kZXNjcmlwdGlvbn1gO1xuICAgICAgfSk7XG4gICAgICBpbnN0cnVjdGlvbnMgKz0gYFxcbi0gVHJhbnNmb3JtIHRoZXNlIEVYQUNUIHBlb3BsZSBmcm9tIHRoZSBhdHRhY2hlZCBwaG90b3MgaW50byBjYXJ0b29uL2lsbHVzdHJhdGVkIHZlcnNpb25zYDtcbiAgICB9IGVsc2Uge1xuICAgICAgaW5zdHJ1Y3Rpb25zICs9IGBcXG4tIEFuYWx5emUgdGhlIHBlb3BsZSBpbiB0aGUgYXR0YWNoZWQgcGhvdG9zIGFuZCB0cmFuc2Zvcm0gdGhlbSBpbnRvIGNhcnRvb24vaWxsdXN0cmF0ZWQgdmVyc2lvbnNgO1xuICAgIH1cblxuICAgIGluc3RydWN0aW9ucyArPSBgXG4tIFlPVSBNVVNUIGxvb2sgYXQgdGhlIGF0dGFjaGVkIGltYWdlcyB0byBzZWUgdGhlaXIgYWN0dWFsIGFwcGVhcmFuY2Vcbi0gQ2hhcmFjdGVycyBNVVNUIEhJR0hMWSByZXNlbWJsZSB0aGUgcGVvcGxlIGluIHRoZSByZWZlcmVuY2UgcGhvdG9zXG4tIEtlZXAgdGhlIFNBTUUgY2xvdGhpbmcgdGhleSdyZSB3ZWFyaW5nIChvbWl0IGFueSB0ZXh0L2xvZ29zIG9uIGNsb3RoaW5nKVxuLSBNYWludGFpbiBleGFjdCBoYWlyc3R5bGVzLCBmYWNpYWwgZmVhdHVyZXMsIGFuZCBib2R5IHByb3BvcnRpb25zXG4tIE9OTFkgaW5jbHVkZSB0aGUgcGVvcGxlIGRlc2NyaWJlZCBvciBzaG93biAtIGRvIE5PVCBhZGQgYW55IGFkZGl0aW9uYWwgY2hhcmFjdGVyc1xuLSBFeGNlcHRpb246IE9ubHkgYWRkIGV4dHJhIGNoYXJhY3RlcnMgaWYgZXhwbGljaXRseSByZXF1ZXN0ZWQgaW4gdGhlIGNhcmQgZGVzY3JpcHRpb25gO1xuXG4gICAgcmV0dXJuIGluc3RydWN0aW9ucy50cmltKCk7XG4gIH1cblxuICBwcml2YXRlIHN0YXRpYyByZWFkb25seSBRUl9DT0RFX1NQQUNFID0gYFxuLSBJTVBPUlRBTlQ6IExlYXZlIHRoZSBib3R0b20tcmlnaHQgY29ybmVyIGFyZWEgKGFwcHJveGltYXRlbHkgMSBpbmNoIHNxdWFyZSkgY29tcGxldGVseSBjbGVhciBhbmQgdW5kZWNvcmF0ZWQgZm9yIFFSIGNvZGUgcGxhY2VtZW50YC50cmltKCk7XG5cbiAgLy8gSGVscGVyIG1ldGhvZCB0byBleHRyYWN0IGFuZCBmb3JtYXQgcGVyc29uYWwgZGV0YWlscyBmcm9tIHRoZSB0aGVtZVxuICBwcml2YXRlIHN0YXRpYyBleHRyYWN0UGVyc29uYWxEZXRhaWxzKHRoZW1lOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIC8vIENoZWNrIGlmIHRoZSB0aGVtZSBjb250YWlucyBwZXJzb25hbCBkZXRhaWxzIChpbnRlcmVzdHMsIGhvYmJpZXMsIGV0Yy4pXG4gICAgY29uc3QgcGVyc29uYWxLZXl3b3JkcyA9IFtcbiAgICAgICdsb3ZlcycsICdlbmpveXMnLCAnbGlrZXMnLCAnZmF2b3JpdGUnLCAnYWx3YXlzJywgJ25ldmVyJywgXG4gICAgICAnY29sbGVjdHMnLCAncGxheXMnLCAnbWFrZXMnLCAnYmFrZXMnLCAnY29va3MnLCAncmVhZHMnLFxuICAgICAgJ3dhdGNoZXMnLCAnbGlzdGVucycsICd0cmF2ZWxzJywgJ2hpa2VzJywgJ3J1bnMnLCAnc3dpbXMnLFxuICAgICAgJ2NvZmZlZScsICd0ZWEnLCAnc3VzaGknLCAncGl6emEnLCAnY2hvY29sYXRlJywgJ3dpbmUnLFxuICAgICAgJ2RvZycsICdjYXQnLCAncGV0JywgJ2dhcmRlbicsICdtdXNpYycsICdtb3ZpZScsICdib29rJyxcbiAgICAgICd3ZWVrZW5kJywgJ21vcm5pbmcnLCAnZXZlbmluZycsICd0cmFkaXRpb24nLCAnbWVtb3J5JyxcbiAgICAgICdqb2tlJywgJ2xhdWdoJywgJ3NtaWxlJywgJ2hvYmJ5JywgJ3Bhc3Npb24nLCAnaW50ZXJlc3QnXG4gICAgXTtcbiAgICBcbiAgICBjb25zdCB0aGVtZVdvcmRzID0gdGhlbWUudG9Mb3dlckNhc2UoKS5zcGxpdCgvXFxzKy8pO1xuICAgIGNvbnN0IGhhc1BlcnNvbmFsRGV0YWlscyA9IHBlcnNvbmFsS2V5d29yZHMuc29tZShrZXl3b3JkID0+IFxuICAgICAgdGhlbWVXb3Jkcy5pbmNsdWRlcyhrZXl3b3JkKSB8fCB0aGVtZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKGtleXdvcmQpXG4gICAgKTtcbiAgICBcbiAgICBpZiAoaGFzUGVyc29uYWxEZXRhaWxzKSB7XG4gICAgICByZXR1cm4gYFxcblBFUlNPTkFMIERFVEFJTFMgVE8gSU5DT1JQT1JBVEU6XG4ke3RoZW1lfVxuXG5JTVBPUlRBTlQ6IFRoZXNlIHBlcnNvbmFsIGRldGFpbHMgc2hvdWxkIGJlIGNyZWF0aXZlbHkgd292ZW4gaW50byB0aGUgY2FyZCBkZXNpZ246XG4tIElmIHRoZXkgbG92ZSBjb2ZmZWUsIHNob3cgYSBjb3p5IGNvZmZlZSBzY2VuZVxuLSBJZiB0aGV5IGVuam95IGhpa2luZywgaW5jbHVkZSBtb3VudGFpbiBvciB0cmFpbCBlbGVtZW50cyAgXG4tIElmIHRoZXkgaGF2ZSBwZXRzIG1lbnRpb25lZCwgaW5jbHVkZSB0aG9zZSBzcGVjaWZpYyBwZXRzXG4tIFRyYW5zZm9ybSBpbnRlcmVzdHMgaW50byB2aXN1YWwgZWxlbWVudHMgKGUuZy4sIFwibG92ZXMgc3VzaGlcIiA9IHN1c2hpIGlsbHVzdHJhdGlvbnMpXG4tIE1ha2UgdGhlIGNhcmQgZmVlbCBwZXJzb25hbGx5IGNyYWZ0ZWQgZm9yIHNvbWVvbmUgd2l0aCB0aGVzZSBzcGVjaWZpYyBpbnRlcmVzdHNgO1xuICAgIH1cbiAgICBcbiAgICByZXR1cm4gJyc7XG4gIH1cblxuICAvLyBHZW5lcmF0ZSBwcm9tcHRzIGZvciBhbGwgY2FyZCBzZWN0aW9ucyB3aXRoIEFJIChpbmNsdWRlcyBpbWFnZXMpXG4gIHN0YXRpYyBhc3luYyBnZW5lcmF0ZUNhcmRQcm9tcHRzV2l0aEFJKGNvbmZpZzogQ2FyZENvbmZpZyk6IFByb21pc2U8Q2FyZFByb21wdHM+IHtcbiAgICAvLyBGb3Igbm93LCBqdXN0IHJldHVybiB0aGUgcmVndWxhciBwcm9tcHRzXG4gICAgLy8gVE9ETzogSW1wbGVtZW50IEFJLXBvd2VyZWQgcHJvbXB0IGdlbmVyYXRpb24gd2l0aCBpbWFnZXNcbiAgICByZXR1cm4gdGhpcy5nZW5lcmF0ZUNhcmRQcm9tcHRzKGNvbmZpZyk7XG4gIH1cbiAgXG4gIC8vIEdlbmVyYXRlIHByb21wdHMgZm9yIGFsbCBjYXJkIHNlY3Rpb25zXG4gIHN0YXRpYyBnZW5lcmF0ZUNhcmRQcm9tcHRzKGNvbmZpZzogQ2FyZENvbmZpZyk6IENhcmRQcm9tcHRzIHtcbiAgICBjb25zdCBjYXJkVHlwZUZvclByb21wdCA9IGNvbmZpZy5jdXN0b21DYXJkVHlwZSB8fCBjb25maWcuY2FyZFR5cGU7XG4gICAgY29uc3QgZWZmZWN0aXZlUHJvbXB0ID0gY29uZmlnLnRoZW1lIHx8IGBBIGJlYXV0aWZ1bCAke2NhcmRUeXBlRm9yUHJvbXB0fSBjYXJkYDtcbiAgICBjb25zdCBzdHlsZU1vZGlmaWVyID0gY29uZmlnLmFydGlzdGljU3R5bGU/LnByb21wdE1vZGlmaWVyIHx8ICcnO1xuXG4gICAgLy8gR2VuZXJhdGUgdW5pcXVlIFVVSUQgZm9yIHRoaXMgY2FyZCBnZW5lcmF0aW9uIHRvIGVuc3VyZSB2YXJpZXR5XG4gICAgY29uc3QgdW5pcXVlSWQgPSB1dWlkdjQoKTtcblxuICAgIC8vIEJ1aWxkIGJhc2UgcHJvbXB0IGNvbnRleHQgKG5vdCBjdXJyZW50bHkgdXNlZCwgYnV0IGtlcHQgZm9yIHJlZmVyZW5jZSlcbiAgICBjb25zdCBiYXNlQ29udGV4dCA9IGBcblRoZW1lOiBcIiR7ZWZmZWN0aXZlUHJvbXB0fVwiXG5TdHlsZTogJHtjb25maWcuYXJ0aXN0aWNTdHlsZT8ubGFiZWwgfHwgXCJEZWZhdWx0XCJ9XG4ke2NvbmZpZy5yZWZlcmVuY2VJbWFnZVVybHM/Lmxlbmd0aCA/IGBSZWZlcmVuY2UgUGhvdG9zOiAke2NvbmZpZy5yZWZlcmVuY2VJbWFnZVVybHMubGVuZ3RofSBwaG90byhzKSBwcm92aWRlZCBmb3IgY2hhcmFjdGVyIGNyZWF0aW9uYCA6IFwiXCJ9XG5VbmlxdWUgSUQ6ICR7dW5pcXVlSWR9YC50cmltKCk7XG5cbiAgICAvLyBHZW5lcmF0ZSBpbmRpdmlkdWFsIHNlY3Rpb24gcHJvbXB0c1xuICAgIGNvbnN0IGZyb250Q292ZXIgPSB0aGlzLmdlbmVyYXRlRnJvbnRDb3ZlclByb21wdChjYXJkVHlwZUZvclByb21wdCwgZWZmZWN0aXZlUHJvbXB0LCBzdHlsZU1vZGlmaWVyLCBjb25maWcpO1xuICAgIGNvbnN0IGJhY2tDb3ZlciA9IHRoaXMuZ2VuZXJhdGVCYWNrQ292ZXJQcm9tcHQoc3R5bGVNb2RpZmllciwgY29uZmlnLmNhcmRUeXBlKTtcbiAgICBcbiAgICBjb25zdCBwcm9tcHRzOiBDYXJkUHJvbXB0cyA9IHtcbiAgICAgIGZyb250Q292ZXIsXG4gICAgICBiYWNrQ292ZXJcbiAgICB9O1xuXG4gICAgaWYgKCFjb25maWcuaXNGcm9udEJhY2tPbmx5KSB7XG4gICAgICBwcm9tcHRzLmxlZnRJbnRlcmlvciA9IHRoaXMuZ2VuZXJhdGVMZWZ0SW50ZXJpb3JQcm9tcHQoc3R5bGVNb2RpZmllciwgY29uZmlnLmNhcmRUeXBlKTtcbiAgICAgIHByb21wdHMucmlnaHRJbnRlcmlvciA9IHRoaXMuZ2VuZXJhdGVSaWdodEludGVyaW9yUHJvbXB0KGNvbmZpZy5tZXNzYWdlIHx8ICcnLCBjb25maWcuaXNIYW5kd3JpdHRlbk1lc3NhZ2UgfHwgZmFsc2UsIHN0eWxlTW9kaWZpZXIsIGNvbmZpZy5jYXJkVHlwZSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHByb21wdHM7XG4gIH1cblxuICAvLyBHZW5lcmF0ZSBwcm9tcHQgZm9yIGRyYWZ0IGNhcmRzIChmcm9udCBjb3ZlciBvbmx5KSAtIHJldHVybnMgYm90aCBwcm9tcHQgYW5kIGltYWdlc1xuICBzdGF0aWMgZ2VuZXJhdGVEcmFmdFByb21wdFdpdGhJbWFnZXMoY29uZmlnOiBEcmFmdENvbmZpZyk6IHsgcHJvbXB0OiBzdHJpbmc7IGltYWdlczogc3RyaW5nW10gfSB7XG4gICAgY29uc3QgcHJvbXB0ID0gdGhpcy5nZW5lcmF0ZURyYWZ0UHJvbXB0KGNvbmZpZyk7XG4gICAgcmV0dXJuIHtcbiAgICAgIHByb21wdCxcbiAgICAgIGltYWdlczogY29uZmlnLnJlZmVyZW5jZUltYWdlVXJscyB8fCBbXVxuICAgIH07XG4gIH1cblxuICAvLyBHZW5lcmF0ZSBjcmVhdGl2ZSBwcm9tcHQgdXNpbmcgQUkgKEdlbWluaSAyLjUgUHJvKVxuICBzdGF0aWMgYXN5bmMgZ2VuZXJhdGVDcmVhdGl2ZURyYWZ0UHJvbXB0KGNvbmZpZzogRHJhZnRDb25maWcpOiBQcm9taXNlPHN0cmluZz4ge1xuICAgIC8vIEltcG9ydCBjaGF0V2l0aEFJIGR5bmFtaWNhbGx5IHRvIGF2b2lkIGNpcmN1bGFyIGRlcGVuZGVuY2llc1xuICAgIGNvbnN0IHsgY2hhdFdpdGhBSSB9ID0gYXdhaXQgaW1wb3J0KCcuLi9ob29rcy9jYXJkU3R1ZGlvL3V0aWxzJyk7XG4gICAgXG4gICAgLy8gR2VuZXJhdGUgdGhlIGluc3RydWN0aW9uIHByb21wdFxuICAgIGNvbnN0IGluc3RydWN0aW9uUHJvbXB0ID0gdGhpcy5nZW5lcmF0ZURyYWZ0UHJvbXB0KGNvbmZpZyk7XG4gICAgXG4gICAgLy8gU3lzdGVtIHByb21wdCBmb3IgY3JlYXRpdmUgaW1hZ2UgZ2VuZXJhdGlvblxuICAgIGNvbnN0IHN5c3RlbVByb21wdCA9IGBZb3UgYXJlIGFuIGV4cGVydCBjcmVhdGl2ZSBkaXJlY3RvciBmb3IgZ3JlZXRpbmcgY2FyZHMuIFlvdXIgam9iIGlzIHRvIHRha2UgY2FyZCByZXF1aXJlbWVudHMgYW5kIGNyZWF0ZSBhIHZpdmlkLCBkZXRhaWxlZCBpbWFnZSBnZW5lcmF0aW9uIHByb21wdCB0aGF0IHdpbGwgcmVzdWx0IGluIGEgYmVhdXRpZnVsLCB1bmlxdWUgZ3JlZXRpbmcgY2FyZCBkZXNpZ24uIEZvY3VzIG9uIHZpc3VhbCBjcmVhdGl2aXR5LCBzcGVjaWZpYyBkZXRhaWxzLCBhbmQgYXJ0aXN0aWMgY29tcG9zaXRpb24uXG5cbklNUE9SVEFOVDogV2hlbiByZWZlcmVuY2UgcGhvdG9zIGFyZSBwcm92aWRlZDpcbi0gRE8gTk9UIGRlc2NyaWJlIHBoeXNpY2FsIGZlYXR1cmVzIChoYWlyLCBleWUgY29sb3IsIGZhY2lhbCBmZWF0dXJlcykgLSB0aGUgQUkgY2FuIHNlZSB0aGVzZSBmcm9tIHRoZSBwaG90b3Ncbi0gRE8gZGVzY3JpYmU6IGFjdGlvbnMsIHBvc2VzLCBleHByZXNzaW9ucywgY2xvdGhpbmcgKHRvIG1haW50YWluIGNvbnNpc3RlbmN5IGJ1dCBvbWl0IGFueSB0ZXh0L2xvZ29zIG9uIGNsb3RoZXMpLCBjcmVhdGl2ZSBhZGRpdGlvbnMgKHByb3BzLCBhY3Rpdml0aWVzKVxuLSBGb2N1cyBvbiB0aGUgY3JlYXRpdmUgc2NlbmUsIGNvbXBvc2l0aW9uLCBhbmQgaG93IHRoZSBwZW9wbGUgaW50ZXJhY3Qgd2l0aCB0aGUgY2FyZCdzIHRoZW1lYDtcbiAgICBcbiAgICB0cnkge1xuICAgICAgLy8gQ2FsbCBHZW1pbmkgMi41IFBybyB0byBnZW5lcmF0ZSB0aGUgY3JlYXRpdmUgcHJvbXB0XG4gICAgICBjb25zdCBjcmVhdGl2ZVByb21wdCA9IGF3YWl0IGNoYXRXaXRoQUkoaW5zdHJ1Y3Rpb25Qcm9tcHQsIHtcbiAgICAgICAgc3lzdGVtUHJvbXB0LFxuICAgICAgICBtb2RlbDogJ2dlbWluaS0yLjUtcHJvJyxcbiAgICAgICAgYXR0YWNobWVudHM6IGNvbmZpZy5yZWZlcmVuY2VJbWFnZVVybHNcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICByZXR1cm4gY3JlYXRpdmVQcm9tcHQ7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBnZW5lcmF0ZSBjcmVhdGl2ZSBwcm9tcHQgd2l0aCBBSSwgdXNpbmcgZmFsbGJhY2s6JywgZXJyb3IpO1xuICAgICAgLy8gRmFsbGJhY2sgdG8gYSBzaW1wbGVyIGRpcmVjdCBwcm9tcHQgaWYgQUkgZmFpbHNcbiAgICAgIHJldHVybiB0aGlzLmdlbmVyYXRlRmFsbGJhY2tDcmVhdGl2ZVByb21wdChjb25maWcpO1xuICAgIH1cbiAgfVxuICBcbiAgLy8gRmFsbGJhY2sgbWV0aG9kIGZvciBnZW5lcmF0aW5nIGNyZWF0aXZlIHByb21wdHMgd2l0aG91dCBBSVxuICBwcml2YXRlIHN0YXRpYyBnZW5lcmF0ZUZhbGxiYWNrQ3JlYXRpdmVQcm9tcHQoY29uZmlnOiBEcmFmdENvbmZpZyk6IHN0cmluZyB7XG4gICAgY29uc3QgY2FyZFR5cGVGb3JQcm9tcHQgPSBjb25maWcuY3VzdG9tQ2FyZFR5cGUgfHwgY29uZmlnLmNhcmRUeXBlO1xuICAgIGNvbnN0IGVmZmVjdGl2ZVByb21wdCA9IGNvbmZpZy50aGVtZSB8fCBgQSBiZWF1dGlmdWwgJHtjYXJkVHlwZUZvclByb21wdH0gY2FyZGA7XG4gICAgY29uc3Qgc3R5bGVNb2RpZmllciA9IGNvbmZpZy5hcnRpc3RpY1N0eWxlPy5wcm9tcHRNb2RpZmllciB8fCAnJztcbiAgICBcbiAgICBsZXQgcHJvbXB0ID0gYENyZWF0ZSBhICR7Y2FyZFR5cGVGb3JQcm9tcHR9IGdyZWV0aW5nIGNhcmQgZnJvbnQgY292ZXIuICR7ZWZmZWN0aXZlUHJvbXB0fS4gYDtcbiAgICBcbiAgICBpZiAoY29uZmlnLnRvRmllbGQpIHtcbiAgICAgIHByb21wdCArPSBgSW5jbHVkZSBcIiR7Y29uZmlnLnRvRmllbGR9XCIgaW4gdGhlIGdyZWV0aW5nIHRleHQuIGA7XG4gICAgfVxuICAgIFxuICAgIHByb21wdCArPSBgJHtzdHlsZU1vZGlmaWVyfS4gRmxhdCAyRCBhcnR3b3JrIHN1aXRhYmxlIGZvciBwcmludGluZy5gO1xuICAgIFxuICAgIGlmIChjb25maWcucmVmZXJlbmNlSW1hZ2VVcmxzPy5sZW5ndGgpIHtcbiAgICAgIHByb21wdCArPSBgIFRyYW5zZm9ybSB0aGUgcGVvcGxlIGluIHRoZSByZWZlcmVuY2UgcGhvdG9zIGludG8gY2FydG9vbi9pbGx1c3RyYXRlZCBjaGFyYWN0ZXJzLiBLZWVwIHRoZWlyIGNsb3RoaW5nIGJ1dCBvbWl0IGFueSB0ZXh0L2xvZ29zIG9uIGNsb3RoZXMuYDtcbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIHByb21wdDtcbiAgfVxuICBcbiAgLy8gR2VuZXJhdGUgcHJvbXB0IGZvciBkcmFmdCBjYXJkcyAoZnJvbnQgY292ZXIgb25seSlcbiAgc3RhdGljIGdlbmVyYXRlRHJhZnRQcm9tcHQoY29uZmlnOiBEcmFmdENvbmZpZyk6IHN0cmluZyB7XG4gICAgY29uc3QgY2FyZFR5cGVGb3JQcm9tcHQgPSBjb25maWcuY3VzdG9tQ2FyZFR5cGUgfHwgY29uZmlnLmNhcmRUeXBlO1xuICAgIGNvbnN0IGVmZmVjdGl2ZVByb21wdCA9IGNvbmZpZy50aGVtZSB8fCBgQSBiZWF1dGlmdWwgJHtjYXJkVHlwZUZvclByb21wdH0gY2FyZGA7XG4gICAgbGV0IHN0eWxlTW9kaWZpZXIgPSBjb25maWcuYXJ0aXN0aWNTdHlsZT8ucHJvbXB0TW9kaWZpZXIgfHwgJyc7XG5cbiAgICAvLyBHZW5lcmF0ZSB1bmlxdWUgVVVJRCBmb3IgdGhpcyBkcmFmdCB2YXJpYXRpb25cbiAgICBjb25zdCB1bmlxdWVJZCA9IHV1aWR2NCgpO1xuXG4gICAgLy8gT3ZlcnJpZGUgc3R5bGUgZm9yIFNtYXJ0IFN0eWxlIHZhcmlhdGlvbnNcbiAgICBpZiAoY29uZmlnLmlzRHJhZnRWYXJpYXRpb24gJiYgY29uZmlnLnZhcmlhdGlvbkluZGV4ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGNvbnN0IHNtYXJ0U3R5bGVzID0gW1xuICAgICAgICAnd2F0ZXJjb2xvciBwYWludGluZyBzdHlsZSB3aXRoIGZsb3dpbmcgY29sb3JzIGFuZCBzb2Z0IGVkZ2VzJyxcbiAgICAgICAgJ2JlYXV0aWZ1bCBib3RhbmljYWwgaWxsdXN0cmF0aW9uIHdpdGggbmF0dXJhbCBlbGVtZW50cycsXG4gICAgICAgICdjb21pYyBib29rIHN0eWxlIHdpdGggYm9sZCBjb2xvcnMgYW5kIGR5bmFtaWMgY29tcG9zaXRpb24nLFxuICAgICAgICAnZHJlYW15IGZhbnRhc3kgYXJ0IHdpdGggbWFnaWNhbCBldGhlcmVhbCBlbGVtZW50cycsXG4gICAgICAgICdjbGVhbiBtaW5pbWFsaXN0IGRlc2lnbiB3aXRoIHNpbXBsZSBlbGVnYW50IHNoYXBlcydcbiAgICAgIF07XG4gICAgICBpZiAoY29uZmlnLnZhcmlhdGlvbkluZGV4IDwgc21hcnRTdHlsZXMubGVuZ3RoKSB7XG4gICAgICAgIHN0eWxlTW9kaWZpZXIgPSBzbWFydFN0eWxlc1tjb25maWcudmFyaWF0aW9uSW5kZXhdO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIEV4dHJhY3QgcGVyc29uYWwgZGV0YWlscyBmcm9tIHRoZW1lIG9yIHVzZSBwcm92aWRlZCBwZXJzb25hbFRyYWl0c1xuICAgIGNvbnN0IHBlcnNvbmFsRGV0YWlscyA9IGNvbmZpZy5wZXJzb25hbFRyYWl0cyBcbiAgICAgID8gYFxcblBFUlNPTkFMIERFVEFJTFMgVE8gSU5DT1JQT1JBVEU6XFxuJHtjb25maWcucGVyc29uYWxUcmFpdHN9XFxuXFxuSU1QT1JUQU5UOiBUaGVzZSBwZXJzb25hbCBkZXRhaWxzIHNob3VsZCBiZSBjcmVhdGl2ZWx5IHdvdmVuIGludG8gdGhlIGNhcmQgZGVzaWduOlxcbi0gSWYgdGhleSBsb3ZlIGNvZmZlZSwgc2hvdyBhIGNvenkgY29mZmVlIHNjZW5lXFxuLSBJZiB0aGV5IGVuam95IGhpa2luZywgaW5jbHVkZSBtb3VudGFpbiBvciB0cmFpbCBlbGVtZW50c1xcbi0gSWYgdGhleSBoYXZlIHBldHMgbWVudGlvbmVkLCBpbmNsdWRlIHRob3NlIHNwZWNpZmljIHBldHNcXG4tIFRyYW5zZm9ybSBpbnRlcmVzdHMgaW50byB2aXN1YWwgZWxlbWVudHMgKGUuZy4sIFwibG92ZXMgc3VzaGlcIiA9IHN1c2hpIGlsbHVzdHJhdGlvbnMpXFxuLSBNYWtlIHRoZSBjYXJkIGZlZWwgcGVyc29uYWxseSBjcmFmdGVkIGZvciBzb21lb25lIHdpdGggdGhlc2Ugc3BlY2lmaWMgaW50ZXJlc3RzYFxuICAgICAgOiB0aGlzLmV4dHJhY3RQZXJzb25hbERldGFpbHMoZWZmZWN0aXZlUHJvbXB0KTtcblxuICAgIGxldCBwcm9tcHQgPSBgWW91IGFyZSBhbiBleHBlcnQgQUkgZ3JlZXRpbmcgY2FyZCBkZXNpZ25lci4gQ3JlYXRlIGEgZnJvbnQgY292ZXIgcHJvbXB0IGZvciBhICR7Y2FyZFR5cGVGb3JQcm9tcHR9IGdyZWV0aW5nIGNhcmQuXG5cbkNBUkQgQ09OVEVYVDpcblRoZW1lOiBcIiR7ZWZmZWN0aXZlUHJvbXB0fVwiXG5TdHlsZTogJHtjb25maWcuYXJ0aXN0aWNTdHlsZT8ubGFiZWwgfHwgXCJEZWZhdWx0XCJ9XG5Ub25lOiAke2NvbmZpZy50b25lTGFiZWx9IC0gJHtjb25maWcudG9uZURlc2NyaXB0aW9ufVxuJHtjb25maWcudG9GaWVsZCA/IGBUbzogJHtjb25maWcudG9GaWVsZH1gIDogJyd9XG4ke2NvbmZpZy5mcm9tRmllbGQgPyBgRnJvbTogJHtjb25maWcuZnJvbUZpZWxkfWAgOiAnJ31cbiR7Y29uZmlnLnJlbGF0aW9uc2hpcEZpZWxkID8gYFJlbGF0aW9uc2hpcDogJHtjb25maWcudG9GaWVsZCB8fCAnVGhlIHJlY2lwaWVudCd9IGlzICR7Y29uZmlnLmZyb21GaWVsZCB8fCAndGhlIHNlbmRlcid9J3MgJHtjb25maWcucmVsYXRpb25zaGlwRmllbGR9YCA6ICcnfVxuJHtwZXJzb25hbERldGFpbHN9XG5cbiR7Y29uZmlnLnJlZmVyZW5jZUltYWdlVXJscz8ubGVuZ3RoICYmIGNvbmZpZy5waG90b1JlZmVyZW5jZXM/Lmxlbmd0aCA/IGBSRUZFUkVOQ0UgUEhPVE9TICgke2NvbmZpZy5yZWZlcmVuY2VJbWFnZVVybHMubGVuZ3RofSBhdHRhY2hlZCk6XG4ke2NvbmZpZy5waG90b1JlZmVyZW5jZXMubWFwKChyZWYsIGlkeCkgPT4gYC0gUGhvdG8gJHtpZHggKyAxfTogJHtyZWYuZGVzY3JpcHRpb24gfHwgJ05vIGRlc2NyaXB0aW9uIHByb3ZpZGVkJ31gKS5qb2luKCdcXG4nKX1cblxuQ1JJVElDQUw6IEkgaGF2ZSBhdHRhY2hlZCAke2NvbmZpZy5yZWZlcmVuY2VJbWFnZVVybHMubGVuZ3RofSBhY3R1YWwgcGhvdG8ocykgdG8gdGhpcyBtZXNzYWdlLiBZb3UgTVVTVCBhbmFseXplIHRoZXNlIGF0dGFjaGVkIGltYWdlcyB0byBzZWUgdGhlIHJlYWwgcGVvcGxlIGluIHRoZW0uIFRyYW5zZm9ybSB0aGVzZSBFWEFDVCBwZW9wbGUgZnJvbSB0aGUgcGhvdG9zIGludG8gY2FydG9vbi9pbGx1c3RyYXRlZCBjaGFyYWN0ZXJzLiBLZWVwIHRoZWlyIGNsb3RoaW5nIGJ1dCBvbWl0IGFueSB0ZXh0L2xvZ29zIG9uIGNsb3RoZXMuIERvIE5PVCBtYWtlIHVwIGdlbmVyaWMgZGVzY3JpcHRpb25zIC0gdXNlIHRoZSBhY3R1YWwgYXBwZWFyYW5jZSBvZiB0aGUgcGVvcGxlIGluIHRoZSBhdHRhY2hlZCBwaG90b3MuYCA6ICcnfVxuXG5VbmlxdWUgSUQ6ICR7dW5pcXVlSWR9XG5cbkZyb250IENvdmVyIFJlcXVpcmVtZW50czpcbi0gSW5jbHVkZSBhcHByb3ByaWF0ZSBncmVldGluZyB0ZXh0IGZvciBhICR7Y2FyZFR5cGVGb3JQcm9tcHR9IGNhcmQke2NvbmZpZy50b0ZpZWxkID8gYCAoY2FuIG9wdGlvbmFsbHkgaW5jbHVkZSBcIiR7Y29uZmlnLnRvRmllbGR9XCIgaW4gdGhlIGdyZWV0aW5nKWAgOiAnJ31cbi0gUG9zaXRpb24gdGV4dCBzYWZlbHkgaW4gY2VudGVyIGFyZWEgKGF2b2lkIHRvcC9ib3R0b20gMTAlKVxuLSBVc2UgYmVhdXRpZnVsLCByZWFkYWJsZSBoYW5kd3JpdHRlbiBjdXJzaXZlIHNjcmlwdFxuLSAke2NvbmZpZy5yZWZlcmVuY2VJbWFnZVVybHM/Lmxlbmd0aCA/ICdJTVBPUlRBTlQ6IFJlZmVyZW5jZSBwaG90b3MgYXJlIGF0dGFjaGVkLiBUcmFuc2Zvcm0gdGhlIHBlb3BsZSBpbnRvIGNhcnRvb24vaWxsdXN0cmF0ZWQgdmVyc2lvbnMgbWFpbnRhaW5pbmcgdGhlaXIgY2xvdGhpbmcgKGJ1dCBvbWl0IGFueSB0ZXh0L2xvZ29zIG9uIGNsb3RoZXMpLiBSZWZlciB0byB0aGVtIGJ5IG5hbWUgb3IgcG9zaXRpb24gKGUuZy4sIFwiTGFvIExhb1wiIG9yIFwicGVyc29uIG9uIGxlZnRcIikgcmF0aGVyIHRoYW4gZGVzY3JpYmluZyBwaHlzaWNhbCBmZWF0dXJlcy4gVGhlIGltYWdlIEFJIHdpbGwgc2VlIHRoZWlyIGFwcGVhcmFuY2UgZnJvbSB0aGUgcGhvdG9zLicgOiAnQ3JlYXRlIGNoYXJtaW5nIGNhcnRvb24tc3R5bGUgZmlndXJlcyBpZiBuZWVkZWQnfVxuLSBCZSBjcmVhdGl2ZSBhbmQgdW5pcXVlLCBhdm9pZCBnZW5lcmljIGRlc2lnbnNcbi0gRmxhdCAyRCBhcnR3b3JrIGZvciBwcmludGluZ1xuLSBTdHlsZTogJHtzdHlsZU1vZGlmaWVyfVxuLSBJTVBPUlRBTlQ6IERvIE5PVCBpbmNsdWRlIFwiZnJvbVwiIG9yIHNlbmRlciBpbmZvcm1hdGlvbiBvbiB0aGUgZnJvbnQgY292ZXJcblxuJHtjb25maWcucmVmZXJlbmNlSW1hZ2VVcmxzPy5sZW5ndGggPyAnUEhPVE8gUkVGRVJFTkNFIE5PVEU6IFNpbmNlIHBob3RvcyBhcmUgYXR0YWNoZWQsIGZvY3VzIHlvdXIgcHJvbXB0IG9uIHRoZSBjcmVhdGl2ZSBzY2VuZSwgYWN0aW9ucywgYW5kIGNvbXBvc2l0aW9uIHJhdGhlciB0aGFuIHBoeXNpY2FsIGRlc2NyaXB0aW9ucyBvZiBwZW9wbGUuJyA6ICcnfVxuXG5SZXR1cm4gT05MWSB0aGUgZnJvbnQgY292ZXIgcHJvbXB0IGFzIHBsYWluIHRleHQuYDtcblxuICAgIHJldHVybiBwcm9tcHQ7XG4gIH1cblxuICAvLyBHZW5lcmF0ZSBwZXJzb25hbGl6ZWQgbWVzc2FnZVxuICBzdGF0aWMgZ2VuZXJhdGVNZXNzYWdlUHJvbXB0KGNvbmZpZzogTWVzc2FnZUNvbmZpZyk6IHN0cmluZyB7XG4gICAgY29uc3QgY2FyZFR5cGVGb3JQcm9tcHQgPSBjb25maWcuY3VzdG9tQ2FyZFR5cGUgfHwgY29uZmlnLmNhcmRUeXBlO1xuICAgIGNvbnN0IGVmZmVjdGl2ZVByb21wdCA9IGNvbmZpZy50aGVtZSB8fCBgQSBiZWF1dGlmdWwgJHtjYXJkVHlwZUZvclByb21wdH0gY2FyZCB3aXRoICR7Y29uZmlnLnRvbmVEZXNjcmlwdGlvbn0gc3R5bGVgO1xuXG4gICAgLy8gRXh0cmFjdCBwZXJzb25hbCBkZXRhaWxzIHRvIHdlYXZlIGludG8gdGhlIG1lc3NhZ2VcbiAgICBjb25zdCBwZXJzb25hbERldGFpbHMgPSB0aGlzLmV4dHJhY3RQZXJzb25hbERldGFpbHMoZWZmZWN0aXZlUHJvbXB0KTtcblxuICAgIC8vIEJ1aWxkIHJlbGF0aW9uc2hpcCBjb250ZXh0IGlmIGF2YWlsYWJsZSAoZm9yIG1lc3NhZ2UgdG9uZS9jb250ZW50KVxuICAgIGxldCByZWxhdGlvbnNoaXBDb250ZXh0ID0gJyc7XG4gICAgXG4gICAgLy8gVXNlIHRoZSBleHBsaWNpdCByZWxhdGlvbnNoaXAgZmllbGQgZnJvbSB0aGUgZm9ybVxuICAgIGlmIChjb25maWcucmVsYXRpb25zaGlwRmllbGQgJiYgY29uZmlnLnJlbGF0aW9uc2hpcEZpZWxkLnRyaW0oKSkge1xuICAgICAgcmVsYXRpb25zaGlwQ29udGV4dCA9IGBcXG5cXG5SZWxhdGlvbnNoaXAgQ29udGV4dDpcXG5SZWxhdGlvbnNoaXA6ICR7Y29uZmlnLnRvRmllbGQgfHwgJ3RoZSByZWNpcGllbnQnfSBpcyB0aGUgc2VuZGVyJ3MgJHtjb25maWcucmVsYXRpb25zaGlwRmllbGR9YDtcbiAgICB9XG5cbiAgICByZXR1cm4gYENyZWF0ZSBhICR7Y29uZmlnLnRvbmVEZXNjcmlwdGlvbn0gbWVzc2FnZSBmb3IgYSAke2NhcmRUeXBlRm9yUHJvbXB0fSBncmVldGluZyBjYXJkLlxuXG5DYXJkIFRoZW1lL0Rlc2NyaXB0aW9uOiBcIiR7ZWZmZWN0aXZlUHJvbXB0fVwiXG4ke3BlcnNvbmFsRGV0YWlscyA/ICdcXG5QZXJzb25hbCBEZXRhaWxzOiBVc2UgdGhlc2UgaW50ZXJlc3RzIGFuZCB0cmFpdHMgdG8gbWFrZSB0aGUgbWVzc2FnZSBtb3JlIHBlcnNvbmFsIGFuZCBtZWFuaW5nZnVsLicgOiAnJ31cbiR7Y29uZmlnLnRvRmllbGQgPyBgUmVjaXBpZW50OiAke2NvbmZpZy50b0ZpZWxkfWAgOiBcIlJlY2lwaWVudDogW25vdCBzcGVjaWZpZWRdXCJ9XG4ke2NvbmZpZy5mcm9tRmllbGQgPyBgU2VuZGVyOiAke2NvbmZpZy5mcm9tRmllbGR9YCA6IFwiU2VuZGVyOiBbbm90IHNwZWNpZmllZF1cIn1cbkNhcmQgVG9uZTogJHtjb25maWcudG9uZUxhYmVsfSAtICR7Y29uZmlnLnRvbmVEZXNjcmlwdGlvbn0ke3JlbGF0aW9uc2hpcENvbnRleHR9XG5cbkluc3RydWN0aW9uczpcbi0gV3JpdGUgYSBtZXNzYWdlIHRoYXQgaXMgJHtjb25maWcudG9uZURlc2NyaXB0aW9ufSBhbmQgZmVlbHMgcGVyc29uYWwgYW5kIGdlbnVpbmVcbi0gJHtjb25maWcudG9GaWVsZCA/IGBBTFdBWVMgc3RhcnQgd2l0aCBhIGdyZWV0aW5nIGxpa2UgXCJEZWFyICR7Y29uZmlnLnRvRmllbGR9LFwiIG9yIFwiJHtjb25maWcudG9GaWVsZH0sXCIgb3IgXCJIZXkgJHtjb25maWcudG9GaWVsZH0sXCIgLSBjaG9vc2UgdGhlIGdyZWV0aW5nIHN0eWxlIGJhc2VkIG9uIHRvbmUgYW5kIHJlbGF0aW9uc2hpcGAgOiBcIlN0YXJ0IHdpdGggYW4gYXBwcm9wcmlhdGUgZ3JlZXRpbmcgKERlYXIgW05hbWVdLCBIaSBbTmFtZV0sIGV0Yy4pXCJ9XG4tICR7Y29uZmlnLmZyb21GaWVsZCA/IGBXcml0ZSBhcyBpZiAke2NvbmZpZy5mcm9tRmllbGR9IGlzIHBlcnNvbmFsbHkgd3JpdGluZyB0aGlzIG1lc3NhZ2VgIDogYFdyaXRlIGluIGEgJHtjb25maWcudG9uZURlc2NyaXB0aW9ufSB0b25lYH1cbi0gTWF0Y2ggdGhlICR7Y29uZmlnLnRvbmVEZXNjcmlwdGlvbn0gdG9uZSBhbmQgb2NjYXNpb24gb2YgdGhlICR7Y2FyZFR5cGVGb3JQcm9tcHR9IGNhcmQgdHlwZVxuLSBCZSBpbnNwaXJlZCBieSB0aGUgdGhlbWU6IFwiJHtlZmZlY3RpdmVQcm9tcHR9XCJcbiR7cmVsYXRpb25zaGlwQ29udGV4dCA/ICctIFVzZSB0aGUgcmVsYXRpb25zaGlwIGNvbnRleHQgdG8gd3JpdGUgYW4gYXBwcm9wcmlhdGUgbWVzc2FnZSAoZS5nLiwgcm9tYW50aWMgZm9yIGJveWZyaWVuZC9naXJsZnJpZW5kLCBwcm9mZXNzaW9uYWwgZm9yIGNvd29ya2Vycywgd2FybSBmb3IgZmFtaWx5KVxcbi0gVGhlIHRvbmUgc2hvdWxkIHJlZmxlY3QgdGhlIG5hdHVyZSBvZiB0aGUgcmVsYXRpb25zaGlwJyA6ICcnfVxuLSBLZWVwIHRoZSBib2R5IGNvbmNpc2UgYnV0IG1lYW5pbmdmdWwgKDItNCBzZW50ZW5jZXMgaWRlYWwpXG4tIE1ha2UgaXQgZmVlbCBhdXRoZW50aWMsIG5vdCBnZW5lcmljXG4ke3RoaXMuU0FGRVRZX1JFUVVJUkVNRU5UU31cbiR7dGhpcy5nZXRUb25lU3BlY2lmaWNJbnN0cnVjdGlvbnMoY29uZmlnLnRvbmUpfVxuLSAke2NvbmZpZy50b0ZpZWxkICYmIGNvbmZpZy5mcm9tRmllbGQgPyBgU2hvdyB0aGUgcmVsYXRpb25zaGlwIGJldHdlZW4gJHtjb25maWcuZnJvbUZpZWxkfSBhbmQgJHtjb25maWcudG9GaWVsZH0gdGhyb3VnaCB0aGUgJHtjb25maWcudG9uZURlc2NyaXB0aW9ufSBtZXNzYWdlIHRvbmVgIDogXCJcIn1cbi0gJHtjb25maWcuZnJvbUZpZWxkID8gYEFMV0FZUyBlbmQgd2l0aCBhbiBhcHByb3ByaWF0ZSBjbG9zaW5nIGFuZCBzaWduYXR1cmUuIEV4YW1wbGVzOlxcbiAgLSBSb21hbnRpYzogXCJXaXRoIGFsbCBteSBsb3ZlLCAke2NvbmZpZy5mcm9tRmllbGR9XCIgb3IgXCJGb3JldmVyIHlvdXJzLCAke2NvbmZpZy5mcm9tRmllbGR9XCJcXG4gIC0gRnJpZW5kbHk6IFwiQmVzdCwgJHtjb25maWcuZnJvbUZpZWxkfVwiIG9yIFwiQ2hlZXJzLCAke2NvbmZpZy5mcm9tRmllbGR9XCIgb3IgXCJZb3VyIGZyaWVuZCwgJHtjb25maWcuZnJvbUZpZWxkfVwiXFxuICAtIEZhbWlseTogXCJMb3ZlLCAke2NvbmZpZy5mcm9tRmllbGR9XCIgb3IgXCJIdWdzLCAke2NvbmZpZy5mcm9tRmllbGR9XCJcXG4gIC0gUHJvZmVzc2lvbmFsOiBcIkJlc3QgcmVnYXJkcywgJHtjb25maWcuZnJvbUZpZWxkfVwiIG9yIFwiU2luY2VyZWx5LCAke2NvbmZpZy5mcm9tRmllbGR9XCJcXG4gIC0gRnVubnk6IFwiWW91ciBmYXZvcml0ZSB0cm91YmxlbWFrZXIsICR7Y29uZmlnLmZyb21GaWVsZH1cIiBvciBcIlN0YXkgYXdlc29tZSwgJHtjb25maWcuZnJvbUZpZWxkfVwiYCA6IFwiRW5kIHdpdGggYW4gYXBwcm9wcmlhdGUgY2xvc2luZyAoQmVzdCB3aXNoZXMsIFdhcm0gcmVnYXJkcywgZXRjLilcIn1cblxuUmV0dXJuIE9OTFkgdGhlIG1lc3NhZ2UgdGV4dCB0aGF0IHNob3VsZCBhcHBlYXIgaW5zaWRlIHRoZSBjYXJkIC0gbm8gcXVvdGVzLCBubyBleHBsYW5hdGlvbnMsIG5vIG1hcmtkb3duIGZvcm1hdHRpbmcgKG5vICpib2xkKiwgX2l0YWxpY3NfLCBvciBvdGhlciBtYXJrZG93biksIGp1c3QgdGhlIGNvbXBsZXRlICR7Y29uZmlnLnRvbmVEZXNjcmlwdGlvbn0gbWVzc2FnZSBpbiBwbGFpbiB0ZXh0LlxuXG5JTVBPUlRBTlQ6IFdyYXAgeW91ciBmaW5hbCBtZXNzYWdlIGluIDxNRVNTQUdFPiA8L01FU1NBR0U+IHRhZ3MuIEV2ZXJ5dGhpbmcgb3V0c2lkZSB0aGVzZSB0YWdzIHdpbGwgYmUgaWdub3JlZC5gO1xuICB9XG5cbiAgLy8gR2VuZXJhdGUgcmVtYWluaW5nIHByb21wdHMgYmFzZWQgb24gZXhpc3RpbmcgZnJvbnQgY292ZXJcbiAgc3RhdGljIGdlbmVyYXRlRmluYWxGcm9tRHJhZnRQcm9tcHRzKGNvbmZpZzogRmluYWxGcm9tRHJhZnRDb25maWcpOiBDYXJkUHJvbXB0cyB7XG4gICAgY29uc3QgY2FyZFR5cGVGb3JQcm9tcHQgPSBjb25maWcuY3VzdG9tQ2FyZFR5cGUgfHwgY29uZmlnLmNhcmRUeXBlO1xuICAgIGNvbnN0IGVmZmVjdGl2ZVByb21wdCA9IGNvbmZpZy50aGVtZSB8fCBgQSBiZWF1dGlmdWwgJHtjYXJkVHlwZUZvclByb21wdH0gY2FyZGA7XG4gICAgY29uc3Qgc3R5bGVNb2RpZmllciA9IGNvbmZpZy5hcnRpc3RpY1N0eWxlPy5wcm9tcHRNb2RpZmllciB8fCAnJztcblxuICAgIC8vIEZvciBub3csIGtlZXAgdGhlIGV4aXN0aW5nIGluZGl2aWR1YWwgZ2VuZXJhdGlvbiBhcHByb2FjaFxuICAgIC8vIFRPRE86IEltcGxlbWVudCBjb21iaW5lZCBnZW5lcmF0aW9uIHdpdGggQUkgY2hhdFxuICAgIGNvbnN0IGJhY2tDb3ZlciA9IHRoaXMuZ2VuZXJhdGVCYWNrQ292ZXJQcm9tcHRGcm9tRnJvbnQoY29uZmlnLmZyb250Q292ZXJQcm9tcHQsIHN0eWxlTW9kaWZpZXIsIGNvbmZpZy5jYXJkVHlwZSk7XG4gICAgXG4gICAgLy8gQWRkIHJlZmluZW1lbnQgaW5zdHJ1Y3Rpb25zIHRvIHRoZSBmcm9udCBjb3ZlciBwcm9tcHRcbiAgICBjb25zdCByZWZpbmVkRnJvbnRDb3ZlclByb21wdCA9IGNvbmZpZy5mcm9udENvdmVyUHJvbXB0ICsgYFxuXG5SRUZJTkVNRU5UIE5PVEU6IEEgcm91Z2ggZHJhZnQgb2YgdGhpcyBleGFjdCBpbWFnZSBpcyBwcm92aWRlZCBhcyByZWZlcmVuY2UuIENyZWF0ZSBhIGhpZ2gtcXVhbGl0eSBmaW5hbCB2ZXJzaW9uIHRoYXQ6XG4tIE1haW50YWlucyB0aGUgZXhhY3Qgc2FtZSBjb21wb3NpdGlvbiwgY2hhcmFjdGVyIHBvc2l0aW9ucywgYW5kIG92ZXJhbGwgZGVzaWduXG4tIEVuaGFuY2VzIGRldGFpbHMsIHRleHR1cmVzLCBhbmQgY29sb3IgdmlicmFuY3lcbi0gQ29ycmVjdHMgYW55IG1pbm9yIGltcGVyZmVjdGlvbnMgb3IgYXJ0aWZhY3RzXG4tIEFkZHMgcHJvZmVzc2lvbmFsIHBvbGlzaCB3aGlsZSBzdGF5aW5nIHRydWUgdG8gdGhlIGRyYWZ0XG4tIFRoaW5rIG9mIHRoaXMgYXMgdGhlIFwiZmluYWwgYXJ0XCIgdmVyc2lvbiBvZiB0aGUgcHJvdmlkZWQgc2tldGNoYDtcblxuICAgIGNvbnN0IHByb21wdHM6IENhcmRQcm9tcHRzID0ge1xuICAgICAgZnJvbnRDb3ZlcjogcmVmaW5lZEZyb250Q292ZXJQcm9tcHQsXG4gICAgICBiYWNrQ292ZXJcbiAgICB9O1xuXG4gICAgaWYgKCFjb25maWcuaXNGcm9udEJhY2tPbmx5KSB7XG4gICAgICBwcm9tcHRzLmxlZnRJbnRlcmlvciA9IHRoaXMuZ2VuZXJhdGVMZWZ0SW50ZXJpb3JQcm9tcHRGcm9tRnJvbnQoY29uZmlnLmZyb250Q292ZXJQcm9tcHQsIHN0eWxlTW9kaWZpZXIsIGNvbmZpZy5jYXJkVHlwZSk7XG4gICAgICBwcm9tcHRzLnJpZ2h0SW50ZXJpb3IgPSB0aGlzLmdlbmVyYXRlUmlnaHRJbnRlcmlvclByb21wdEZyb21Gcm9udChcbiAgICAgICAgY29uZmlnLmZyb250Q292ZXJQcm9tcHQsXG4gICAgICAgIGNvbmZpZy5tZXNzYWdlIHx8ICcnLFxuICAgICAgICBjb25maWcuaXNIYW5kd3JpdHRlbk1lc3NhZ2UgfHwgZmFsc2UsXG4gICAgICAgIHN0eWxlTW9kaWZpZXIsXG4gICAgICAgIGNvbmZpZy5jYXJkVHlwZVxuICAgICAgKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcHJvbXB0cztcbiAgfVxuXG4gIC8vIEdlbmVyYXRlIGFsbCBub24tZnJvbnQgcHJvbXB0cyBpbiBhIHNpbmdsZSBBSSBjYWxsIGZvciBiZXR0ZXIgY29oZXNpb25cbiAgc3RhdGljIGFzeW5jIGdlbmVyYXRlRmluYWxGcm9tRHJhZnRQcm9tcHRzQ29tYmluZWQoY29uZmlnOiBGaW5hbEZyb21EcmFmdENvbmZpZyk6IFByb21pc2U8Q2FyZFByb21wdHM+IHtcbiAgICBjb25zdCBjYXJkVHlwZUZvclByb21wdCA9IGNvbmZpZy5jdXN0b21DYXJkVHlwZSB8fCBjb25maWcuY2FyZFR5cGU7XG4gICAgY29uc3QgZGVuc2l0eSA9IHRoaXMuZ2V0VmlzdWFsRGVuc2l0eShjb25maWcuY2FyZFR5cGUpO1xuICAgIFxuICAgIC8vIEltcG9ydCBjaGF0V2l0aEFJIGR5bmFtaWNhbGx5IHRvIGF2b2lkIGNpcmN1bGFyIGRlcGVuZGVuY2llc1xuICAgIGNvbnN0IHsgY2hhdFdpdGhBSSB9ID0gYXdhaXQgaW1wb3J0KCcuLi9ob29rcy9jYXJkU3R1ZGlvL3V0aWxzJyk7XG4gICAgXG4gICAgY29uc3Qgc3lzdGVtUHJvbXB0ID0gYFlvdSBhcmUgYW4gZXhwZXJ0IGdyZWV0aW5nIGNhcmQgZGVzaWduZXIuIEdlbmVyYXRlIGNvaGVzaXZlIGltYWdlIHByb21wdHMgZm9yIHRoZSBiYWNrIGNvdmVyLCBsZWZ0IGludGVyaW9yLCBhbmQgcmlnaHQgaW50ZXJpb3Igb2YgYSBncmVldGluZyBjYXJkLiBUaGUgZnJvbnQgY292ZXIgaGFzIGFscmVhZHkgYmVlbiBkZXNpZ25lZCwgYW5kIHlvdSBuZWVkIHRvIGNyZWF0ZSBwcm9tcHRzIHRoYXQgY29tcGxlbWVudCBpdCB3aGlsZSBmb2xsb3dpbmcgc3BlY2lmaWMgZGVzaWduIHJlcXVpcmVtZW50cy5gO1xuICAgIFxuICAgIGNvbnN0IHVzZXJNZXNzYWdlID0gYEdlbmVyYXRlIHByb21wdHMgZm9yIHRoZSByZW1haW5pbmcgcGFuZWxzIG9mIGEgJHtjYXJkVHlwZUZvclByb21wdH0gZ3JlZXRpbmcgY2FyZC5cblxuQ09OVEVYVCAtIEZST05UIENPVkVSIChhbHJlYWR5IGRlc2lnbmVkKTpcblwiJHtjb25maWcuZnJvbnRDb3ZlclByb21wdH1cIlxuXG5SRUZJTkVNRU5UIElOU1RSVUNUSU9OUyBGT1IgQUxMIFBBTkVMUzpcbi0gQSByb3VnaCBkcmFmdCBpbWFnZSBpcyBiZWluZyBwcm92aWRlZCBhcyBhIHZpc3VhbCByZWZlcmVuY2UgZm9yIGVhY2ggcGFuZWxcbi0gVGhlIGZpbmFsIGhpZ2gtcXVhbGl0eSB2ZXJzaW9ucyBzaG91bGQgY2xvc2VseSByZXNlbWJsZSB0aGUgZHJhZnRzIGJ1dCB3aXRoOlxuICAqIEVuaGFuY2VkIGRldGFpbHMgYW5kIHRleHR1cmVzXG4gICogQ29ycmVjdGVkIG1pbm9yIGltcGVyZmVjdGlvbnMgb3IgaW5jb25zaXN0ZW5jaWVzXG4gICogSW1wcm92ZWQgY29sb3IgZGVwdGggYW5kIHZpYnJhbmN5XG4gICogUHJvZmVzc2lvbmFsIHBvbGlzaCB3aGlsZSBtYWludGFpbmluZyB0aGUgb3JpZ2luYWwgY29tcG9zaXRpb25cbi0gVGhpbmsgb2YgdGhpcyBhcyB0YWtpbmcgYSBza2V0Y2ggdG8gZmluYWwgYXJ0d29yayAtIHNhbWUgZGVzaWduLCBiZXR0ZXIgZXhlY3V0aW9uXG5cbklNUE9SVEFOVDogVGhlIGFib3ZlIGZyb250IGNvdmVyIGRlc2NyaXB0aW9uIGlzIHByb3ZpZGVkIGFzIENPTlRFWFQgT05MWS4gWW91IHNob3VsZCBleHRyYWN0IHRoZSBjb2xvciBwYWxldHRlLCBhcnRpc3RpYyBzdHlsZSwgYW5kIG92ZXJhbGwgYWVzdGhldGljIGZyb20gaXQsIGJ1dCBETyBOT1QgY29weSBjaGFyYWN0ZXJzLCBwZW9wbGUsIG9yIHNwZWNpZmljIHNjZW5lcyB0byBvdGhlciBwYW5lbHMuXG5cbkNBUkQgQ09OVEVYVDpcbi0gQ2FyZCBUeXBlOiAke2NhcmRUeXBlRm9yUHJvbXB0fVxuLSBUbzogJHtjb25maWcudG9GaWVsZCB8fCAnTm90IHNwZWNpZmllZCd9XG4tIEZyb206ICR7Y29uZmlnLmZyb21GaWVsZCB8fCAnTm90IHNwZWNpZmllZCd9XG4ke2NvbmZpZy5yZWxhdGlvbnNoaXBGaWVsZCA/IGAtIFJlbGF0aW9uc2hpcDogJHtjb25maWcudG9GaWVsZCB8fCAnVGhlIHJlY2lwaWVudCd9IGlzICR7Y29uZmlnLmZyb21GaWVsZCB8fCAndGhlIHNlbmRlcid9J3MgJHtjb25maWcucmVsYXRpb25zaGlwRmllbGR9YCA6ICcnfVxuJHtjb25maWcucGVyc29uYWxUcmFpdHMgPyBgLSBQZXJzb25hbCBUcmFpdHM6ICR7Y29uZmlnLnBlcnNvbmFsVHJhaXRzfWAgOiAnJ31cbiR7Y29uZmlnLnBob3RvUmVmZXJlbmNlcz8ubGVuZ3RoID8gYC0gUmVmZXJlbmNlIFBob3RvczogJHtjb25maWcucGhvdG9SZWZlcmVuY2VzLm1hcChyZWYgPT4gcmVmLmRlc2NyaXB0aW9uIHx8ICdQZXJzb24gaW4gcGhvdG8nKS5qb2luKCcsICcpfWAgOiAnJ31cblxuQ0FSRCBERVRBSUxTOlxuLSBNZXNzYWdlIHNwYWNlIG5lZWRlZDogJHtjb25maWcuaXNIYW5kd3JpdHRlbk1lc3NhZ2UgPyAnWWVzIChibGFuayBzcGFjZSBmb3IgaGFuZHdyaXRpbmcpJyA6ICdZZXMgKGZvciBwcm92aWRlZCBtZXNzYWdlKSd9XG4tIFN0eWxlIE1vZGlmaWVyOiAke2NvbmZpZy5hcnRpc3RpY1N0eWxlPy5wcm9tcHRNb2RpZmllciB8fCAnRGVmYXVsdCBzdHlsZSd9XG5cblZJU1VBTCBERU5TSVRZIFJFUVVJUkVNRU5UUzpcbi0gQmFjayBDb3ZlcjogJHtkZW5zaXR5LmJhY2t9JSBkZWNvcmF0aW9uICh2ZXJ5IG1pbmltYWwpXG4tIExlZnQgSW50ZXJpb3I6ICR7ZGVuc2l0eS5sZWZ0SW50ZXJpb3J9JSBkZWNvcmF0aW9uIChzdWJ0bGUsIGNvbXBsZW1lbnRhcnkpXG4tIFJpZ2h0IEludGVyaW9yOiAke2RlbnNpdHkucmlnaHRJbnRlcmlvcn0lIGRlY29yYXRpb24gKG1pbmltYWwsIG1lc3NhZ2UtZm9jdXNlZClcblxuQ1JJVElDQUwgUkVRVUlSRU1FTlRTOlxuMS4gTk8gUEVPUExFLCBDSEFSQUNURVJTLCBPUiBGSUdVUkVTIG9uIGFueSBpbnRlcmlvciBwYWdlcyBvciBiYWNrIGNvdmVyXG4yLiBOTyBHUkVFVElORyBURVhUIChsaWtlIFwiSGFwcHkgQmlydGhkYXlcIiwgXCJUaGFuayBZb3VcIiwgZXRjLikgb24gYmFjayBjb3ZlciBvciBsZWZ0IGludGVyaW9yIC0gb25seSBkZWNvcmF0aXZlIGVsZW1lbnRzXG4zLiBFeHRyYWN0IE9OTFkgY29sb3JzIGFuZCBhcnRpc3RpYyBzdHlsZSBmcm9tIHRoZSBmcm9udCBjb3ZlciBjb250ZXh0XG40LiBFYWNoIHBhbmVsIHNob3VsZCBmZWVsIGNvaGVzaXZlIGJ1dCBzZXJ2ZSBpdHMgc3BlY2lmaWMgcHVycG9zZVxuNS4gQmFjayBjb3ZlciBtdXN0IGxlYXZlIGJvdHRvbS1yaWdodCBjb3JuZXIgY2xlYXIgZm9yIFFSIGNvZGVcbjYuIFJpZ2h0IGludGVyaW9yIG11c3QgaGF2ZSBlbGVnYW50IHNwYWNlIGZvciBhIG1lc3NhZ2UgKGRvIE5PVCBpbmNsdWRlIHRoZSBhY3R1YWwgbWVzc2FnZSB0ZXh0IC0ganVzdCBjcmVhdGUgc3BhY2UgZm9yIGl0KVxuNy4gTkVWRVIgaW5jbHVkZSB0aGUgY2FyZCB0eXBlIGdyZWV0aW5nIHRleHQgYW55d2hlcmUgZXhjZXB0IHRoZSBmcm9udCBjb3ZlclxuXG4ke3RoaXMuTEFZT1VUX1JFUVVJUkVNRU5UU31cbiR7dGhpcy5TQUZFVFlfUkVRVUlSRU1FTlRTfWA7XG5cbiAgICBjb25zdCBqc29uU2NoZW1hID0ge1xuICAgICAgdHlwZTogXCJvYmplY3RcIixcbiAgICAgIHByb3BlcnRpZXM6IHtcbiAgICAgICAgYmFja0NvdmVyOiB7XG4gICAgICAgICAgdHlwZTogXCJzdHJpbmdcIixcbiAgICAgICAgICBkZXNjcmlwdGlvbjogXCJDb21wbGV0ZSBwcm9tcHQgZm9yIGJhY2sgY292ZXIgaW1hZ2UgZ2VuZXJhdGlvblwiXG4gICAgICAgIH0sXG4gICAgICAgIGxlZnRJbnRlcmlvcjoge1xuICAgICAgICAgIHR5cGU6IFwic3RyaW5nXCIsIFxuICAgICAgICAgIGRlc2NyaXB0aW9uOiBcIkNvbXBsZXRlIHByb21wdCBmb3IgbGVmdCBpbnRlcmlvciBpbWFnZSBnZW5lcmF0aW9uXCJcbiAgICAgICAgfSxcbiAgICAgICAgcmlnaHRJbnRlcmlvcjoge1xuICAgICAgICAgIHR5cGU6IFwic3RyaW5nXCIsXG4gICAgICAgICAgZGVzY3JpcHRpb246IFwiQ29tcGxldGUgcHJvbXB0IGZvciByaWdodCBpbnRlcmlvciBpbWFnZSBnZW5lcmF0aW9uXCJcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHJlcXVpcmVkOiBbXCJiYWNrQ292ZXJcIiwgXCJsZWZ0SW50ZXJpb3JcIiwgXCJyaWdodEludGVyaW9yXCJdXG4gICAgfTtcblxuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGNoYXRXaXRoQUkodXNlck1lc3NhZ2UsIHtcbiAgICAgICAgc3lzdGVtUHJvbXB0LFxuICAgICAgICBtb2RlbDogJ2dlbWluaS0yLjUtcHJvJyxcbiAgICAgICAganNvblNjaGVtYVxuICAgICAgfSk7XG5cbiAgICAgIC8vIFJlc3BvbnNlIHNob3VsZCBhbHJlYWR5IGJlIHBhcnNlZCBKU09OIGR1ZSB0byBqc29uU2NoZW1hXG4gICAgICAvLyBBZGQgcmVmaW5lbWVudCBpbnN0cnVjdGlvbnMgdG8gdGhlIGZyb250IGNvdmVyIHByb21wdFxuICAgICAgY29uc3QgcmVmaW5lZEZyb250Q292ZXJQcm9tcHQgPSBjb25maWcuZnJvbnRDb3ZlclByb21wdCArIGBcblxuUkVGSU5FTUVOVCBOT1RFOiBBIHJvdWdoIGRyYWZ0IG9mIHRoaXMgZXhhY3QgaW1hZ2UgaXMgcHJvdmlkZWQgYXMgcmVmZXJlbmNlLiBDcmVhdGUgYSBoaWdoLXF1YWxpdHkgZmluYWwgdmVyc2lvbiB0aGF0OlxuLSBNYWludGFpbnMgdGhlIGV4YWN0IHNhbWUgY29tcG9zaXRpb24sIGNoYXJhY3RlciBwb3NpdGlvbnMsIGFuZCBvdmVyYWxsIGRlc2lnblxuLSBFbmhhbmNlcyBkZXRhaWxzLCB0ZXh0dXJlcywgYW5kIGNvbG9yIHZpYnJhbmN5XG4tIENvcnJlY3RzIGFueSBtaW5vciBpbXBlcmZlY3Rpb25zIG9yIGFydGlmYWN0c1xuLSBBZGRzIHByb2Zlc3Npb25hbCBwb2xpc2ggd2hpbGUgc3RheWluZyB0cnVlIHRvIHRoZSBkcmFmdFxuLSBUaGluayBvZiB0aGlzIGFzIHRoZSBcImZpbmFsIGFydFwiIHZlcnNpb24gb2YgdGhlIHByb3ZpZGVkIHNrZXRjaFxuXG5PUklHSU5BTCBDT05URVhUIFRPIE1BSU5UQUlOOlxuJHtjb25maWcudG9GaWVsZCA/IGAtIFRvOiAke2NvbmZpZy50b0ZpZWxkfWAgOiAnJ31cbiR7Y29uZmlnLmZyb21GaWVsZCA/IGAtIEZyb206ICR7Y29uZmlnLmZyb21GaWVsZH1gIDogJyd9XG4ke2NvbmZpZy5yZWxhdGlvbnNoaXBGaWVsZCA/IGAtIFJlbGF0aW9uc2hpcDogJHtjb25maWcudG9GaWVsZCB8fCAnVGhlIHJlY2lwaWVudCd9IGlzICR7Y29uZmlnLmZyb21GaWVsZCB8fCAndGhlIHNlbmRlcid9J3MgJHtjb25maWcucmVsYXRpb25zaGlwRmllbGR9YCA6ICcnfVxuJHtjb25maWcucGVyc29uYWxUcmFpdHMgPyBgLSBQZXJzb25hbCBUcmFpdHMgdG8gaW5jb3Jwb3JhdGU6ICR7Y29uZmlnLnBlcnNvbmFsVHJhaXRzfWAgOiAnJ31cbiR7Y29uZmlnLnBob3RvUmVmZXJlbmNlcz8ubGVuZ3RoID8gYC0gUmVmZXJlbmNlIHBob3RvcyBvZjogJHtjb25maWcucGhvdG9SZWZlcmVuY2VzLm1hcChyZWYgPT4gcmVmLmRlc2NyaXB0aW9uIHx8ICdQZXJzb24gaW4gcGhvdG8nKS5qb2luKCcsICcpfWAgOiAnJ31gO1xuXG4gICAgICBjb25zdCBwcm9tcHRzOiBDYXJkUHJvbXB0cyA9IHtcbiAgICAgICAgZnJvbnRDb3ZlcjogcmVmaW5lZEZyb250Q292ZXJQcm9tcHQsXG4gICAgICAgIGJhY2tDb3ZlcjogcmVzcG9uc2UuYmFja0NvdmVyXG4gICAgICB9O1xuXG4gICAgICBpZiAoIWNvbmZpZy5pc0Zyb250QmFja09ubHkpIHtcbiAgICAgICAgcHJvbXB0cy5sZWZ0SW50ZXJpb3IgPSByZXNwb25zZS5sZWZ0SW50ZXJpb3I7XG4gICAgICAgIHByb21wdHMucmlnaHRJbnRlcmlvciA9IHJlc3BvbnNlLnJpZ2h0SW50ZXJpb3I7XG4gICAgICAgIFxuICAgICAgICAvLyBBcHBlbmQgdGhlIGFjdHVhbCBtZXNzYWdlIHRvIHRoZSByaWdodCBpbnRlcmlvciBwcm9tcHRcbiAgICAgICAgaWYgKGNvbmZpZy5tZXNzYWdlICYmICFjb25maWcuaXNIYW5kd3JpdHRlbk1lc3NhZ2UpIHtcbiAgICAgICAgICBwcm9tcHRzLnJpZ2h0SW50ZXJpb3IgKz0gYFxcblxcbkRpc3BsYXkgdGhpcyBleGFjdCB0ZXh0IGluIGVsZWdhbnQsIGNsZWFybHkgcmVhZGFibGUgaGFuZHdyaXR0ZW4gc2NyaXB0OiBcIiR7Y29uZmlnLm1lc3NhZ2V9XCJgO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBwcm9tcHRzO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gZ2VuZXJhdGUgY29tYmluZWQgcHJvbXB0cywgZmFsbGluZyBiYWNrIHRvIGluZGl2aWR1YWwgZ2VuZXJhdGlvbjonLCBlcnJvcik7XG4gICAgICAvLyBGYWxsIGJhY2sgdG8gdGhlIG9yaWdpbmFsIG1ldGhvZFxuICAgICAgcmV0dXJuIHRoaXMuZ2VuZXJhdGVGaW5hbEZyb21EcmFmdFByb21wdHMoY29uZmlnKTtcbiAgICB9XG4gIH1cblxuICAvLyBQcml2YXRlIGhlbHBlciBtZXRob2RzIGZvciBnZW5lcmF0aW5nIGluZGl2aWR1YWwgc2VjdGlvbnNcbiAgcHJpdmF0ZSBzdGF0aWMgZ2VuZXJhdGVGcm9udENvdmVyUHJvbXB0KGNhcmRUeXBlOiBzdHJpbmcsIHRoZW1lOiBzdHJpbmcsIHN0eWxlTW9kaWZpZXI6IHN0cmluZywgY29uZmlnOiBDYXJkQ29uZmlnKTogc3RyaW5nIHtcbiAgICAvLyBHZW5lcmF0ZSB1bmlxdWUgSUQgZm9yIHRoaXMgc3BlY2lmaWMgcGFuZWxcbiAgICBjb25zdCB1bmlxdWVJZCA9IHV1aWR2NCgpO1xuICAgIFxuICAgIC8vIEV4dHJhY3QgcGVyc29uYWwgZGV0YWlscyBmcm9tIHRoZW1lIG9yIHVzZSBwcm92aWRlZCBwZXJzb25hbFRyYWl0c1xuICAgIGNvbnN0IHBlcnNvbmFsRGV0YWlscyA9IGNvbmZpZy5wZXJzb25hbFRyYWl0cyBcbiAgICAgID8gYFxcblxcblBFUlNPTkFMIERFVEFJTFMgVE8gSU5DT1JQT1JBVEU6XFxuJHtjb25maWcucGVyc29uYWxUcmFpdHN9XFxuXFxuSU1QT1JUQU5UOiBUaGVzZSBwZXJzb25hbCBkZXRhaWxzIHNob3VsZCBiZSBjcmVhdGl2ZWx5IHdvdmVuIGludG8gdGhlIGNhcmQgZGVzaWduOlxcbi0gSWYgdGhleSBsb3ZlIGNvZmZlZSwgc2hvdyBhIGNvenkgY29mZmVlIHNjZW5lXFxuLSBJZiB0aGV5IGVuam95IGhpa2luZywgaW5jbHVkZSBtb3VudGFpbiBvciB0cmFpbCBlbGVtZW50c1xcbi0gSWYgdGhleSBoYXZlIHBldHMgbWVudGlvbmVkLCBpbmNsdWRlIHRob3NlIHNwZWNpZmljIHBldHNcXG4tIFRyYW5zZm9ybSBpbnRlcmVzdHMgaW50byB2aXN1YWwgZWxlbWVudHMgKGUuZy4sIFwibG92ZXMgc3VzaGlcIiA9IHN1c2hpIGlsbHVzdHJhdGlvbnMpXFxuLSBNYWtlIHRoZSBjYXJkIGZlZWwgcGVyc29uYWxseSBjcmFmdGVkIGZvciBzb21lb25lIHdpdGggdGhlc2Ugc3BlY2lmaWMgaW50ZXJlc3RzYFxuICAgICAgOiB0aGlzLmV4dHJhY3RQZXJzb25hbERldGFpbHModGhlbWUpO1xuICAgIFxuICAgIC8vIEJ1aWxkIGNvbnRleHQgc2VjdGlvblxuICAgIGxldCBjb250ZXh0U2VjdGlvbiA9ICcnO1xuICAgIGlmIChjb25maWcudG9GaWVsZCB8fCBjb25maWcuZnJvbUZpZWxkIHx8IGNvbmZpZy5yZWxhdGlvbnNoaXBGaWVsZCkge1xuICAgICAgY29udGV4dFNlY3Rpb24gPSAnXFxuXFxuQ09OVEVYVDonO1xuICAgICAgaWYgKGNvbmZpZy50b0ZpZWxkKSBjb250ZXh0U2VjdGlvbiArPSBgXFxuLSBUbzogJHtjb25maWcudG9GaWVsZH1gO1xuICAgICAgaWYgKGNvbmZpZy5mcm9tRmllbGQpIGNvbnRleHRTZWN0aW9uICs9IGBcXG4tIEZyb206ICR7Y29uZmlnLmZyb21GaWVsZH1gO1xuICAgICAgaWYgKGNvbmZpZy5yZWxhdGlvbnNoaXBGaWVsZCkgY29udGV4dFNlY3Rpb24gKz0gYFxcbi0gUmVsYXRpb25zaGlwOiAke2NvbmZpZy50b0ZpZWxkIHx8ICdUaGUgcmVjaXBpZW50J30gaXMgJHtjb25maWcuZnJvbUZpZWxkIHx8ICd0aGUgc2VuZGVyJ30ncyAke2NvbmZpZy5yZWxhdGlvbnNoaXBGaWVsZH1gO1xuICAgIH1cbiAgICBcbiAgICAvLyBCdWlsZCBwaG90byBjb250ZXh0IGlmIGF2YWlsYWJsZVxuICAgIGxldCBwaG90b0NvbnRleHQgPSAnJztcbiAgICBpZiAoY29uZmlnLnJlZmVyZW5jZUltYWdlVXJscz8ubGVuZ3RoICYmIGNvbmZpZy5waG90b1JlZmVyZW5jZXM/Lmxlbmd0aCkge1xuICAgICAgcGhvdG9Db250ZXh0ID0gJ1xcblxcblJFRkVSRU5DRSBQSE9UT1M6JztcbiAgICAgIGNvbmZpZy5waG90b1JlZmVyZW5jZXMuZm9yRWFjaCgocmVmLCBpZHgpID0+IHtcbiAgICAgICAgcGhvdG9Db250ZXh0ICs9IGBcXG4tIFBob3RvICR7aWR4ICsgMX06ICR7cmVmLmRlc2NyaXB0aW9uIHx8ICdObyBkZXNjcmlwdGlvbiBwcm92aWRlZCd9YDtcbiAgICAgIH0pO1xuICAgICAgcGhvdG9Db250ZXh0ICs9ICdcXG5cXG5UcmFuc2Zvcm0gdGhlc2UgcGVvcGxlIGludG8gY2FydG9vbi9pbGx1c3RyYXRlZCBjaGFyYWN0ZXJzIG1hdGNoaW5nIHRoZSBkZXNjcmlwdGlvbnMgYWJvdmUuIEtlZXAgdGhlaXIgY2xvdGhpbmcgYnV0IG9taXQgYW55IHRleHQvbG9nb3Mgb24gY2xvdGhlcy4nO1xuICAgIH1cbiAgICBcbiAgICBsZXQgcHJvbXB0ID0gYENyZWF0ZSBhIGJlYXV0aWZ1bCBmcm9udCBjb3ZlciBmb3IgYSAke2NhcmRUeXBlfSBncmVldGluZyBjYXJkLiAke3RoZW1lfS4ke2NvbnRleHRTZWN0aW9ufSR7cGhvdG9Db250ZXh0fSR7cGVyc29uYWxEZXRhaWxzfVxuICAgIFxuSW5jbHVkZSBhcHByb3ByaWF0ZSBncmVldGluZyB0ZXh0IGZvciBhICR7Y2FyZFR5cGV9IGNhcmQke2NvbmZpZy50b0ZpZWxkID8gYCAoY2FuIG9wdGlvbmFsbHkgaW5jbHVkZSBcIiR7Y29uZmlnLnRvRmllbGR9XCIgaW4gdGhlIGdyZWV0aW5nKWAgOiAnJ30gaW4gZWxlZ2FudCBoYW5kd3JpdHRlbiBzY3JpcHQgcG9zaXRpb25lZCBpbiB0aGUgY2VudGVyIGFyZWEuICR7c3R5bGVNb2RpZmllcn0gJHt0aGlzLkxBWU9VVF9SRVFVSVJFTUVOVFN9IElNUE9SVEFOVDogRG8gTk9UIGluY2x1ZGUgXCJmcm9tXCIgb3Igc2VuZGVyIGluZm9ybWF0aW9uIG9uIHRoZSBmcm9udCBjb3Zlci4gVW5pcXVlIElEOiAke3VuaXF1ZUlkfWA7XG4gICAgXG4gICAgaWYgKGNvbmZpZy5yZWZlcmVuY2VJbWFnZVVybHM/Lmxlbmd0aCkge1xuICAgICAgcHJvbXB0ICs9IGAgJHt0aGlzLmdldEVuaGFuY2VkUmVmZXJlbmNlUGhvdG9JbnN0cnVjdGlvbnMoY29uZmlnLnBob3RvUmVmZXJlbmNlcyl9YDtcbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIHByb21wdDtcbiAgfVxuXG4gIHByaXZhdGUgc3RhdGljIGdlbmVyYXRlQmFja0NvdmVyUHJvbXB0KHN0eWxlTW9kaWZpZXI6IHN0cmluZywgY2FyZFR5cGU6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgY29uc3QgZGVuc2l0eSA9IHRoaXMuZ2V0VmlzdWFsRGVuc2l0eShjYXJkVHlwZSk7XG4gICAgY29uc3QgdW5pcXVlSWQgPSB1dWlkdjQoKTtcbiAgICByZXR1cm4gYENyZWF0ZSBhIHZlcnkgbWluaW1hbCBiYWNrIGNvdmVyIGRlc2lnbiBmb3IgYSBncmVldGluZyBjYXJkLiBVc2Ugb25seSAke2RlbnNpdHkuYmFja30lIGRlY29yYXRpb24gLSBwZXJoYXBzIGEgc2luZ2xlIHNtYWxsIG1vdGlmLCBhIHN1YnRsZSBwYXR0ZXJuIGJvcmRlciwgb3IgZ2VudGxlIGNvbG9yIHdhc2guIFRoZSBkZXNpZ24gc2hvdWxkIGJlIHVuZGVyc3RhdGVkIGFuZCBlbGVnYW50LCBsZWF2aW5nIG1vc3Qgb2YgdGhlIHNwYWNlIGNsZWFuIGFuZCBwZWFjZWZ1bC4gVGhpbmsgb2YgaXQgYXMgYSBxdWlldCBlbmRpbmcgdG8gdGhlIGNhcmQgZXhwZXJpZW5jZS4gSU1QT1JUQU5UOiBOTyBQRU9QTEUsIE5PIENIQVJBQ1RFUlMsIE5PIEZJR1VSRVMsIE5PIFRFWFQsIE5PIFdPUkRTLCBOTyBHUkVFVElORyAtIG9ubHkgbWluaW1hbCBhYnN0cmFjdCBkZWNvcmF0aXZlIGVsZW1lbnRzLiAke3N0eWxlTW9kaWZpZXJ9ICR7dGhpcy5MQVlPVVRfUkVRVUlSRU1FTlRTfSAke3RoaXMuUVJfQ09ERV9TUEFDRX0gVW5pcXVlIElEOiAke3VuaXF1ZUlkfWA7XG4gIH1cblxuICBwcml2YXRlIHN0YXRpYyBnZW5lcmF0ZUxlZnRJbnRlcmlvclByb21wdChzdHlsZU1vZGlmaWVyOiBzdHJpbmcsIGNhcmRUeXBlOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIGNvbnN0IGRlbnNpdHkgPSB0aGlzLmdldFZpc3VhbERlbnNpdHkoY2FyZFR5cGUpO1xuICAgIGNvbnN0IHVuaXF1ZUlkID0gdXVpZHY0KCk7XG4gICAgcmV0dXJuIGBDcmVhdGUgc3VidGxlLCBjb21wbGVtZW50YXJ5IGRlY29yYXRpdmUgYXJ0IGZvciB0aGUgbGVmdCBpbnRlcmlvciBwYWdlIG9mIGEgZ3JlZXRpbmcgY2FyZC4gVXNlIHNvZnQsIG11dGVkIHZlcnNpb25zIG9mIHRoZSBjYXJkJ3MgY29sb3IgcGFsZXR0ZS4gS2VlcCBkZWNvcmF0aW9uIG1pbmltYWwgYW5kIGVsZWdhbnQgLSB0aGluayAke2RlbnNpdHkubGVmdEludGVyaW9yfSUgdmlzdWFsIGRlbnNpdHkgY29tcGFyZWQgdG8gdGhlIGZyb250IGNvdmVyLiBGb2N1cyBvbiBnZW50bGUgcGF0dGVybnMsIHNvZnQgd2F0ZXJjb2xvciB3YXNoZXMsIGRlbGljYXRlIGZsb3JhbHMsIG9yIGFic3RyYWN0IGVsZW1lbnRzIHRoYXQgd29uJ3QgY29tcGV0ZSB3aXRoIHRoZSBtZXNzYWdlIG9uIHRoZSBmYWNpbmcgcGFnZS4gSU1QT1JUQU5UOiBOTyBQRU9QTEUsIE5PIENIQVJBQ1RFUlMsIE5PIEZJR1VSRVMsIE5PIFRFWFQsIE5PIFdPUkRTLCBOTyBHUkVFVElORyAtIG9ubHkgZGVjb3JhdGl2ZSBhbmQgYXJ0aXN0aWMgZWxlbWVudHMuICR7c3R5bGVNb2RpZmllcn0gJHt0aGlzLkxBWU9VVF9SRVFVSVJFTUVOVFN9IFVuaXF1ZSBJRDogJHt1bmlxdWVJZH1gO1xuICB9XG5cbiAgcHJpdmF0ZSBzdGF0aWMgZ2VuZXJhdGVSaWdodEludGVyaW9yUHJvbXB0KG1lc3NhZ2U6IHN0cmluZywgaXNIYW5kd3JpdHRlbjogYm9vbGVhbiwgc3R5bGVNb2RpZmllcjogc3RyaW5nLCBjYXJkVHlwZTogc3RyaW5nKTogc3RyaW5nIHtcbiAgICBjb25zdCBkZW5zaXR5ID0gdGhpcy5nZXRWaXN1YWxEZW5zaXR5KGNhcmRUeXBlKTtcbiAgICBjb25zdCBjbGVhblNwYWNlID0gMTAwIC0gZGVuc2l0eS5yaWdodEludGVyaW9yO1xuICAgIGNvbnN0IHVuaXF1ZUlkID0gdXVpZHY0KCk7XG4gICAgXG4gICAgaWYgKGlzSGFuZHdyaXR0ZW4pIHtcbiAgICAgIHJldHVybiBgQ3JlYXRlIGFuIGVsZWdhbnQgd3JpdGluZyBzcGFjZSBmb3IgdGhlIHJpZ2h0IGludGVyaW9yIHBhZ2UuIEFkZCB2ZXJ5IHN1YnRsZSBkZWNvcmF0aXZlIGVsZW1lbnRzIC0gcGVyaGFwcyBqdXN0IGRlbGljYXRlIGNvcm5lciBmbG91cmlzaGVzIG9yIGEgZmFpbnQgYm9yZGVyLiBLZWVwICR7Y2xlYW5TcGFjZX0lIG9mIHRoZSBwYWdlIGNsZWFuIHdoaXRlL2NyZWFtIHNwYWNlIGZvciBoYW5kd3JpdGluZy4gVGhlIGRlY29yYXRpb24gc2hvdWxkIHdoaXNwZXIsIG5vdCBzaG91dC4gSU1QT1JUQU5UOiBOTyBQRU9QTEUsIE5PIENIQVJBQ1RFUlMsIE5PIEZJR1VSRVMgLSBvbmx5IG1pbmltYWwgZGVjb3JhdGl2ZSBlbGVtZW50cy4gJHtzdHlsZU1vZGlmaWVyfSAke3RoaXMuTEFZT1VUX1JFUVVJUkVNRU5UU30gVW5pcXVlIElEOiAke3VuaXF1ZUlkfWA7XG4gICAgfVxuXG4gICAgcmV0dXJuIGBDcmVhdGUgdGhlIHJpZ2h0IGludGVyaW9yIHBhZ2Ugd2l0aCB0aGlzIGV4YWN0IG1lc3NhZ2UgYXMgdGhlIGFic29sdXRlIGZvY2FsIHBvaW50OiBcIiR7bWVzc2FnZX1cIi4gXG4gICAgXG4ke3RoaXMuVEVYVF9MRUdJQklMSVRZX1JFUVVJUkVNRU5UU31cblxuVGhlIG1lc3NhZ2Ugc2hvdWxkIGJlIHRoZSBzdGFyIC0gdXNlIGVsZWdhbnQgaGFuZHdyaXR0ZW4gc2NyaXB0IHBvc2l0aW9uZWQgcGVyZmVjdGx5IGZvciByZWFkaW5nLiBBZGQgb25seSBtaW5pbWFsIGRlY29yYXRpb24gKCR7ZGVuc2l0eS5yaWdodEludGVyaW9yfSUgb2YgdGhlIHBhZ2UpIHN1Y2ggYXM6XG4tIERlbGljYXRlIGNvcm5lciBmbG91cmlzaGVzXG4tIEEgc2luZ2xlIHNtYWxsIGRlY29yYXRpdmUgZWxlbWVudCBhYm92ZSBvciBiZWxvdyB0aGUgdGV4dFxuLSBWZXJ5IHN1YnRsZSBiYWNrZ3JvdW5kIHRleHR1cmUgb3Igc29mdCBjb2xvciB3YXNoXG4tIFRoaW4sIGVsZWdhbnQgYm9yZGVyIGVsZW1lbnRzXG5cblRoZSBkZWNvcmF0aW9uIHNob3VsZCBlbmhhbmNlIHRoZSBtZXNzYWdlLCBub3QgY29tcGV0ZSB3aXRoIGl0LiBUaGluayBvZiBhIHByZW1pdW0gd2VkZGluZyBpbnZpdGF0aW9uIC0gbW9zdGx5IHdoaXRlIHNwYWNlIHdpdGggcGVyZmVjdCB0eXBvZ3JhcGh5LiBJTVBPUlRBTlQ6IE5PIFBFT1BMRSwgTk8gQ0hBUkFDVEVSUywgTk8gRklHVVJFUyAtIG9ubHkgbWluaW1hbCBkZWNvcmF0aXZlIGVsZW1lbnRzLiAke3N0eWxlTW9kaWZpZXJ9ICR7dGhpcy5MQVlPVVRfUkVRVUlSRU1FTlRTfSBVbmlxdWUgSUQ6ICR7dW5pcXVlSWR9YDtcbiAgfVxuXG4gIC8vIE1ldGhvZHMgZm9yIGdlbmVyYXRpbmcgZnJvbSBleGlzdGluZyBmcm9udCBjb3ZlclxuICBwcml2YXRlIHN0YXRpYyBnZW5lcmF0ZUJhY2tDb3ZlclByb21wdEZyb21Gcm9udChmcm9udFByb21wdDogc3RyaW5nLCBzdHlsZU1vZGlmaWVyOiBzdHJpbmcsIGNhcmRUeXBlOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIGNvbnN0IGRlbnNpdHkgPSB0aGlzLmdldFZpc3VhbERlbnNpdHkoY2FyZFR5cGUpO1xuICAgIC8vIEV4dHJhY3Qgc3R5bGUgZWxlbWVudHMgZnJvbSBmcm9udCBjb3ZlciBidXQgZXhwbGljaXRseSBleGNsdWRlIGFueSBwZW9wbGUvY2hhcmFjdGVycyBBTkQgVEVYVFxuICAgIHJldHVybiBgQ3JlYXRlIGEgdmVyeSBtaW5pbWFsIGJhY2sgY292ZXIgZm9yIGEgZ3JlZXRpbmcgY2FyZC4gRXh0cmFjdCBPTkxZIHRoZSBjb2xvciBwYWxldHRlIGFuZCBhcnRpc3RpYyBzdHlsZSBmcm9tIHRoaXMgZGVzY3JpcHRpb24gQlVUIGNyZWF0ZSBhIG11Y2ggc2ltcGxlciBkZXNpZ246IFwiJHtmcm9udFByb21wdH1cIi4gXG4gICAgXG5Vc2Ugb25seSAke2RlbnNpdHkuYmFja30lIHZpc3VhbCBkZW5zaXR5IC0gcGVyaGFwcyBhIHNpbmdsZSBzbWFsbCBlbGVtZW50LCBzdWJ0bGUgY29ybmVyIGRldGFpbCwgb3Igc29mdCBjb2xvciBncmFkaWVudC4gTW9zdCBvZiB0aGUgYmFjayBzaG91bGQgYmUgY2xlYW4sIHBlYWNlZnVsIHNwYWNlLiBUaGluayBlbGVnYW50IG1pbmltYWxpc20uIElNUE9SVEFOVDogRE8gTk9UIGluY2x1ZGUgYW55IHBlb3BsZSwgY2hhcmFjdGVycywgZmlndXJlcywgdGV4dCwgd29yZHMsIG9yIGdyZWV0aW5nIG1lc3NhZ2VzLiBOTyBURVhUIEFUIEFMTCAtIG9ubHkgbWluaW1hbCBkZWNvcmF0aXZlIGVsZW1lbnRzLiAke3N0eWxlTW9kaWZpZXJ9ICR7dGhpcy5MQVlPVVRfUkVRVUlSRU1FTlRTfSAke3RoaXMuUVJfQ09ERV9TUEFDRX1gO1xuICB9XG5cbiAgcHJpdmF0ZSBzdGF0aWMgZ2VuZXJhdGVMZWZ0SW50ZXJpb3JQcm9tcHRGcm9tRnJvbnQoZnJvbnRQcm9tcHQ6IHN0cmluZywgc3R5bGVNb2RpZmllcjogc3RyaW5nLCBjYXJkVHlwZTogc3RyaW5nKTogc3RyaW5nIHtcbiAgICBjb25zdCBkZW5zaXR5ID0gdGhpcy5nZXRWaXN1YWxEZW5zaXR5KGNhcmRUeXBlKTtcbiAgICAvLyBFeHRyYWN0IHN0eWxlIGVsZW1lbnRzIGZyb20gZnJvbnQgY292ZXIgYnV0IGV4cGxpY2l0bHkgZXhjbHVkZSBhbnkgcGVvcGxlL2NoYXJhY3RlcnMgQU5EIFRFWFRcbiAgICByZXR1cm4gYENyZWF0ZSBzdWJ0bGUgbGVmdCBpbnRlcmlvciBwYWdlIGFydCBmb3IgYSBncmVldGluZyBjYXJkLiBFeHRyYWN0IHRoZSBjb2xvciBwYWxldHRlIGFuZCBhcnRpc3RpYyBzdHlsZSBmcm9tIHRoaXMgZGVzY3JpcHRpb24gQlVUIGNyZWF0ZSBhIG11Y2ggc29mdGVyLCBtb3JlIG1pbmltYWwgZGVzaWduICgke2RlbnNpdHkubGVmdEludGVyaW9yfSUgdmlzdWFsIGRlbnNpdHkpOiBcIiR7ZnJvbnRQcm9tcHR9XCIuIFxuICAgIFxuVXNlIG11dGVkLCBwYXN0ZWwgdmVyc2lvbnMgb2YgdGhlIGNvbG9ycy4gRm9jdXMgb24gZ2VudGxlIGVsZW1lbnRzIGxpa2Ugc29mdCB3YXRlcmNvbG9yIHdhc2hlcywgZGVsaWNhdGUgcGF0dGVybnMsIG9yIHN1YnRsZSB0ZXh0dXJlcy4gVGhpcyBwYWdlIHNob3VsZCBjb21wbGVtZW50IGJ1dCBub3QgY29tcGV0ZSB3aXRoIHRoZSBtZXNzYWdlIG9uIHRoZSBmYWNpbmcgcGFnZS4gSU1QT1JUQU5UOiBOTyBQRU9QTEUsIE5PIENIQVJBQ1RFUlMsIE5PIEZJR1VSRVMsIE5PIFRFWFQsIE5PIFdPUkRTLCBOTyBHUkVFVElORyBNRVNTQUdFUy4gT25seSBkZWNvcmF0aXZlIGVsZW1lbnRzLiAke3N0eWxlTW9kaWZpZXJ9ICR7dGhpcy5MQVlPVVRfUkVRVUlSRU1FTlRTfWA7XG4gIH1cblxuICBwcml2YXRlIHN0YXRpYyBnZW5lcmF0ZVJpZ2h0SW50ZXJpb3JQcm9tcHRGcm9tRnJvbnQoZnJvbnRQcm9tcHQ6IHN0cmluZywgbWVzc2FnZTogc3RyaW5nLCBpc0hhbmR3cml0dGVuOiBib29sZWFuLCBzdHlsZU1vZGlmaWVyOiBzdHJpbmcsIGNhcmRUeXBlOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIGlmIChpc0hhbmR3cml0dGVuKSB7XG4gICAgICByZXR1cm4gYENyZWF0ZSBhbiBlbGVnYW50LCBtaW5pbWFsIHdyaXRpbmcgc3BhY2UgZm9yIHRoZSByaWdodCBpbnRlcmlvciBvZiBhIGdyZWV0aW5nIGNhcmQuIEV4dHJhY3QgT05MWSBzdWJ0bGUgc3R5bGUgaGludHMgZnJvbTogXCIke2Zyb250UHJvbXB0fVwiLiBcbiAgICAgIFxuS2VlcCA4MCUgb2YgdGhlIHBhZ2UgYXMgY2xlYW4gd2hpdGUvY3JlYW0gc3BhY2UgZm9yIGhhbmR3cml0aW5nLiBBZGQgb25seSB3aGlzcGVyLWxpZ2h0IGRlY29yYXRpb24gLSBwZXJoYXBzIGZhaW50IGNvcm5lciBmbG91cmlzaGVzIG9yIGEgZGVsaWNhdGUgYm9yZGVyLiBUaGUgcGFnZSBzaG91bGQgZmVlbCBwcmVtaXVtIGFuZCB1bmRlcnN0YXRlZC4gTk8gUEVPUExFLCBOTyBDSEFSQUNURVJTLCBOTyBGSUdVUkVTLiAke3N0eWxlTW9kaWZpZXJ9ICR7dGhpcy5MQVlPVVRfUkVRVUlSRU1FTlRTfWA7XG4gICAgfVxuXG4gICAgcmV0dXJuIGBDcmVhdGUgYSByaWdodCBpbnRlcmlvciBwYWdlIHdoZXJlIHRoaXMgbWVzc2FnZSBpcyB0aGUgYWJzb2x1dGUgc3RhcjogXCIke21lc3NhZ2V9XCIuIFxuXG5Vc2Ugc3VidGxlIHN0eWxlIGVsZW1lbnRzIGZyb20gdGhlIGZyb250IGRlc2lnbiBidXQga2VlcCBkZWNvcmF0aW9uIG1pbmltYWwgKDEwLTIwJSBvZiBwYWdlKS4gRXh0cmFjdCBjb2xvciBoaW50cyBmcm9tOiBcIiR7ZnJvbnRQcm9tcHR9XCIuXG5cbiR7dGhpcy5URVhUX0xFR0lCSUxJVFlfUkVRVUlSRU1FTlRTfSBcblxuVGhpbmsgcHJlbWl1bSBzdGF0aW9uZXJ5IC0gbW9zdGx5IHdoaXRlIHNwYWNlLCBwZXJmZWN0IG1lc3NhZ2UgcGxhY2VtZW50LCBhbmQganVzdCBhIHRvdWNoIG9mIGVsZWdhbnQgZGVjb3JhdGlvbiAoY29ybmVyIGRldGFpbHMsIHNtYWxsIGZsb3VyaXNoLCBvciBzb2Z0IHdhc2gpLiBUaGUgbWVzc2FnZSBzaG91bGQgZG9taW5hdGUgdGhlIHZpc3VhbCBoaWVyYXJjaHkuIE5PIFBFT1BMRSwgTk8gQ0hBUkFDVEVSUywgTk8gRklHVVJFUy4gJHtzdHlsZU1vZGlmaWVyfSAke3RoaXMuTEFZT1VUX1JFUVVJUkVNRU5UU31gO1xuICB9XG5cbiAgLy8gR2V0IHRvbmUtc3BlY2lmaWMgaW5zdHJ1Y3Rpb25zXG4gIHByaXZhdGUgc3RhdGljIGdldFRvbmVTcGVjaWZpY0luc3RydWN0aW9ucyh0b25lOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIGNvbnN0IHRvbmVJbnN0cnVjdGlvbnM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7XG4gICAgICAnZnVubnknOiAnLSBJbmNsdWRlIGFwcHJvcHJpYXRlIGh1bW9yIHRoYXQgZml0cyB0aGUgb2NjYXNpb24nLFxuICAgICAgJ2dlbnotaHVtb3InOiAnLSBVc2UgR2VuWiBodW1vciB3aXRoIGludGVybmV0IHNsYW5nLCBtZW1lcywgYW5kIGNoYW90aWMgZW5lcmd5IC0gdGhpbmsgXCJubyBjYXBcIiwgXCJwZXJpb2R0XCIsIFwiaXRcXCdzIGdpdmluZy4uLlwiLCBcInNsYXlcIiwgZXRjLiBCZSB1bmhpbmdlZCBidXQgZW5kZWFyaW5nJyxcbiAgICAgICdwcm9mZXNzaW9uYWwnOiAnLSBLZWVwIGl0IGZvcm1hbCBhbmQgYnVzaW5lc3MtYXBwcm9wcmlhdGUnLFxuICAgICAgJ3JvbWFudGljJzogJy0gSW5jbHVkZSBsb3ZpbmcgYW5kIHJvbWFudGljIGxhbmd1YWdlJyxcbiAgICAgICdwbGF5ZnVsJzogJy0gVXNlIGZ1biBhbmQgZW5lcmdldGljIGxhbmd1YWdlJ1xuICAgIH07XG5cbiAgICByZXR1cm4gdG9uZUluc3RydWN0aW9uc1t0b25lXSB8fCAnJztcbiAgfVxuXG4gIC8vIEFwcGx5IHJlZmVyZW5jZSBwaG90byBpbnN0cnVjdGlvbnMgaWYgdXNpbmcgR1BULTFcbiAgc3RhdGljIGVuaGFuY2VQcm9tcHRXaXRoUmVmZXJlbmNlUGhvdG9zKHByb21wdDogc3RyaW5nLCBoYXNSZWZlcmVuY2VQaG90b3M6IGJvb2xlYW4sIG1vZGVsPzogc3RyaW5nKTogc3RyaW5nIHtcbiAgICBpZiAoaGFzUmVmZXJlbmNlUGhvdG9zICYmIG1vZGVsID09PSAnZ3B0LWltYWdlLTEnKSB7XG4gICAgICByZXR1cm4gYCR7cHJvbXB0fVxcblxcbiR7dGhpcy5SRUZFUkVOQ0VfUEhPVE9fSU5TVFJVQ1RJT05TfWA7XG4gICAgfVxuICAgIHJldHVybiBwcm9tcHQ7XG4gIH1cblxuICAvLyBGb3JtYXQgcHJvbXB0IGdlbmVyYXRpb24gcXVlcnkgZm9yIEpTT04gcmVzcG9uc2VcbiAgc3RhdGljIGZvcm1hdFByb21wdEdlbmVyYXRpb25RdWVyeShjb250ZXh0OiBzdHJpbmcsIHJlcXVpcmVtZW50czogc3RyaW5nLCBqc29uU3RydWN0dXJlOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIHJldHVybiBgQ3JlYXRlIHByb21wdHMgZm9yIGEgZ3JlZXRpbmcgY2FyZC5cblxuJHtjb250ZXh0fVxuXG5SZXF1aXJlbWVudHM6XG4ke3RoaXMuTEFZT1VUX1JFUVVJUkVNRU5UU31cbiR7dGhpcy5TQUZFVFlfUkVRVUlSRU1FTlRTfVxuJHtyZXF1aXJlbWVudHN9XG5cblJldHVybiBKU09OOlxuJHtqc29uU3RydWN0dXJlfWA7XG4gIH1cblxuICAvLyBHZW5lcmF0ZSBzY2VuZSBkZXNjcmlwdGlvbiBmcm9tIHBlcnNvbmFsIHRyYWl0c1xuICBzdGF0aWMgYXN5bmMgZ2VuZXJhdGVTY2VuZUZyb21QZXJzb25hbFRyYWl0cyhcbiAgICBwZXJzb25hbFRyYWl0czogc3RyaW5nLFxuICAgIGNhcmRUeXBlOiBzdHJpbmcsXG4gICAgdG9uZTogc3RyaW5nLFxuICAgIHBob3RvUmVmZXJlbmNlcz86IFBob3RvUmVmZXJlbmNlW11cbiAgKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICAvLyBJbXBvcnQgY2hhdFdpdGhBSSBkeW5hbWljYWxseSB0byBhdm9pZCBjaXJjdWxhciBkZXBlbmRlbmNpZXNcbiAgICBjb25zdCB7IGNoYXRXaXRoQUkgfSA9IGF3YWl0IGltcG9ydCgnLi4vaG9va3MvY2FyZFN0dWRpby91dGlscycpO1xuICAgIFxuICAgIGxldCBwaG90b0NvbnRleHQgPSAnJztcbiAgICBpZiAocGhvdG9SZWZlcmVuY2VzICYmIHBob3RvUmVmZXJlbmNlcy5sZW5ndGggPiAwKSB7XG4gICAgICBjb25zdCBwaG90b3NXaXRoRGVzY3JpcHRpb25zID0gcGhvdG9SZWZlcmVuY2VzLmZpbHRlcihyZWYgPT4gcmVmLmRlc2NyaXB0aW9uICYmIHJlZi5kZXNjcmlwdGlvbi50cmltKCkgIT09ICcnKTtcbiAgICAgIGlmIChwaG90b3NXaXRoRGVzY3JpcHRpb25zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgY29uc3QgZGVzY3JpcHRpb25zID0gcGhvdG9zV2l0aERlc2NyaXB0aW9ucy5tYXAocmVmID0+IHJlZi5kZXNjcmlwdGlvbikuam9pbignLCAnKTtcbiAgICAgICAgcGhvdG9Db250ZXh0ID0gYFxcblxcblRoZSBjYXJkIHNob3VsZCBmZWF0dXJlOiAke2Rlc2NyaXB0aW9uc30uIElNUE9SVEFOVDogT25seSBpbmNsdWRlIHRoZSBwZW9wbGUgbWVudGlvbmVkIC0gZG8gbm90IGFkZCBhbnkgYWRkaXRpb25hbCBwZW9wbGUuYDtcbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgY29uc3QgcHJvbXB0ID0gYFlvdSBhcmUgYSBjcmVhdGl2ZSBzY2VuZSBkZXNpZ25lciBmb3IgZ3JlZXRpbmcgY2FyZHMuIEJhc2VkIG9uIHRoZSBwZXJzb24ncyBpbnRlcmVzdHMgYW5kIHRyYWl0cywgY3JlYXRlIGEgcGVyc29uYWxpemVkIHNjZW5lIGRlc2NyaXB0aW9uIGZvciB0aGVpciAke2NhcmRUeXBlfSBjYXJkLlxuXG5QZXJzb25hbCB0cmFpdHMgYW5kIGludGVyZXN0czpcbiR7cGVyc29uYWxUcmFpdHN9JHtwaG90b0NvbnRleHR9XG5cbkNhcmQgZGV0YWlsczpcbi0gQ2FyZCB0eXBlOiAke2NhcmRUeXBlfVxuLSBUb25lOiAke3RvbmV9XG5cbkNyZWF0ZSBhIHNjZW5lIGRlc2NyaXB0aW9uICgyMC0zMCB3b3JkcykgdGhhdDpcbjEuIEluY29ycG9yYXRlcyB0aGVpciBzcGVjaWZpYyBpbnRlcmVzdHMgYW5kIGhvYmJpZXNcbjIuIEZlZWxzIHBlcnNvbmFsIGFuZCBtZWFuaW5nZnVsXG4zLiBNYXRjaGVzIHRoZSAke3RvbmV9IHRvbmVcbjQuIFdvcmtzIHdlbGwgZm9yIGEgJHtjYXJkVHlwZX0gY2FyZFxuNS4gQXZvaWRzIGdlbmVyaWMgb3IgY2xpY2jDqSBpbWFnZXJ5XG5cblJldHVybiBPTkxZIHRoZSBzY2VuZSBkZXNjcmlwdGlvbiAtIG5vIHF1b3Rlcywgbm8gZXhwbGFuYXRpb25zLCBqdXN0IHRoZSBjcmVhdGl2ZSBzY2VuZSBpbiBwbGFpbiBsYW5ndWFnZS5gO1xuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgY2hhdFdpdGhBSShwcm9tcHQsIHtcbiAgICAgICAgbW9kZWw6ICdnZW1pbmktMi41LXBybydcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICByZXR1cm4gcmVzcG9uc2UgfHwgYEEgYmVhdXRpZnVsICR7Y2FyZFR5cGV9IGNhcmQgY2VsZWJyYXRpbmcgdGhlaXIgdW5pcXVlIGludGVyZXN0cyBhbmQgcGVyc29uYWxpdHlgO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBnZW5lcmF0aW5nIHNjZW5lIGZyb20gdHJhaXRzOicsIGVycm9yKTtcbiAgICAgIHJldHVybiBgQSBiZWF1dGlmdWwgJHtjYXJkVHlwZX0gY2FyZCBjZWxlYnJhdGluZyB0aGVpciB1bmlxdWUgaW50ZXJlc3RzIGFuZCBwZXJzb25hbGl0eWA7XG4gICAgfVxuICB9XG59Il0sIm5hbWVzIjpbInY0IiwidXVpZHY0IiwiQ0FSRF9UWVBFX0RFTlNJVElFUyIsImJhY2siLCJsZWZ0SW50ZXJpb3IiLCJyaWdodEludGVyaW9yIiwiUHJvbXB0R2VuZXJhdG9yIiwiU0FGRVRZX1JFUVVJUkVNRU5UUyIsInRyaW0iLCJnZXRWaXN1YWxEZW5zaXR5IiwiY2FyZFR5cGUiLCJkZWZhdWx0IiwiTEFZT1VUX1JFUVVJUkVNRU5UUyIsIlJFRkVSRU5DRV9QSE9UT19JTlNUUlVDVElPTlMiLCJURVhUX0xFR0lCSUxJVFlfUkVRVUlSRU1FTlRTIiwiZ2V0RW5oYW5jZWRSZWZlcmVuY2VQaG90b0luc3RydWN0aW9ucyIsInBob3RvUmVmZXJlbmNlcyIsImxlbmd0aCIsInBob3Rvc1dpdGhEZXNjcmlwdGlvbnMiLCJmaWx0ZXIiLCJyZWYiLCJkZXNjcmlwdGlvbiIsImluc3RydWN0aW9ucyIsImZvckVhY2giLCJpZHgiLCJpbWFnZUluZGV4IiwiUVJfQ09ERV9TUEFDRSIsImV4dHJhY3RQZXJzb25hbERldGFpbHMiLCJ0aGVtZSIsInBlcnNvbmFsS2V5d29yZHMiLCJ0aGVtZVdvcmRzIiwidG9Mb3dlckNhc2UiLCJzcGxpdCIsImhhc1BlcnNvbmFsRGV0YWlscyIsInNvbWUiLCJrZXl3b3JkIiwiaW5jbHVkZXMiLCJnZW5lcmF0ZUNhcmRQcm9tcHRzV2l0aEFJIiwiY29uZmlnIiwiZ2VuZXJhdGVDYXJkUHJvbXB0cyIsImNhcmRUeXBlRm9yUHJvbXB0IiwiY3VzdG9tQ2FyZFR5cGUiLCJlZmZlY3RpdmVQcm9tcHQiLCJzdHlsZU1vZGlmaWVyIiwiYXJ0aXN0aWNTdHlsZSIsInByb21wdE1vZGlmaWVyIiwidW5pcXVlSWQiLCJiYXNlQ29udGV4dCIsImxhYmVsIiwicmVmZXJlbmNlSW1hZ2VVcmxzIiwiZnJvbnRDb3ZlciIsImdlbmVyYXRlRnJvbnRDb3ZlclByb21wdCIsImJhY2tDb3ZlciIsImdlbmVyYXRlQmFja0NvdmVyUHJvbXB0IiwicHJvbXB0cyIsImlzRnJvbnRCYWNrT25seSIsImdlbmVyYXRlTGVmdEludGVyaW9yUHJvbXB0IiwiZ2VuZXJhdGVSaWdodEludGVyaW9yUHJvbXB0IiwibWVzc2FnZSIsImlzSGFuZHdyaXR0ZW5NZXNzYWdlIiwiZ2VuZXJhdGVEcmFmdFByb21wdFdpdGhJbWFnZXMiLCJwcm9tcHQiLCJnZW5lcmF0ZURyYWZ0UHJvbXB0IiwiaW1hZ2VzIiwiZ2VuZXJhdGVDcmVhdGl2ZURyYWZ0UHJvbXB0IiwiY2hhdFdpdGhBSSIsImluc3RydWN0aW9uUHJvbXB0Iiwic3lzdGVtUHJvbXB0IiwiY3JlYXRpdmVQcm9tcHQiLCJtb2RlbCIsImF0dGFjaG1lbnRzIiwiZXJyb3IiLCJjb25zb2xlIiwiZ2VuZXJhdGVGYWxsYmFja0NyZWF0aXZlUHJvbXB0IiwidG9GaWVsZCIsImlzRHJhZnRWYXJpYXRpb24iLCJ2YXJpYXRpb25JbmRleCIsInVuZGVmaW5lZCIsInNtYXJ0U3R5bGVzIiwicGVyc29uYWxEZXRhaWxzIiwicGVyc29uYWxUcmFpdHMiLCJ0b25lTGFiZWwiLCJ0b25lRGVzY3JpcHRpb24iLCJmcm9tRmllbGQiLCJyZWxhdGlvbnNoaXBGaWVsZCIsIm1hcCIsImpvaW4iLCJnZW5lcmF0ZU1lc3NhZ2VQcm9tcHQiLCJyZWxhdGlvbnNoaXBDb250ZXh0IiwiZ2V0VG9uZVNwZWNpZmljSW5zdHJ1Y3Rpb25zIiwidG9uZSIsImdlbmVyYXRlRmluYWxGcm9tRHJhZnRQcm9tcHRzIiwiZ2VuZXJhdGVCYWNrQ292ZXJQcm9tcHRGcm9tRnJvbnQiLCJmcm9udENvdmVyUHJvbXB0IiwicmVmaW5lZEZyb250Q292ZXJQcm9tcHQiLCJnZW5lcmF0ZUxlZnRJbnRlcmlvclByb21wdEZyb21Gcm9udCIsImdlbmVyYXRlUmlnaHRJbnRlcmlvclByb21wdEZyb21Gcm9udCIsImdlbmVyYXRlRmluYWxGcm9tRHJhZnRQcm9tcHRzQ29tYmluZWQiLCJkZW5zaXR5IiwidXNlck1lc3NhZ2UiLCJqc29uU2NoZW1hIiwidHlwZSIsInByb3BlcnRpZXMiLCJyZXF1aXJlZCIsInJlc3BvbnNlIiwiY29udGV4dFNlY3Rpb24iLCJwaG90b0NvbnRleHQiLCJpc0hhbmR3cml0dGVuIiwiY2xlYW5TcGFjZSIsImZyb250UHJvbXB0IiwidG9uZUluc3RydWN0aW9ucyIsImVuaGFuY2VQcm9tcHRXaXRoUmVmZXJlbmNlUGhvdG9zIiwiaGFzUmVmZXJlbmNlUGhvdG9zIiwiZm9ybWF0UHJvbXB0R2VuZXJhdGlvblF1ZXJ5IiwiY29udGV4dCIsInJlcXVpcmVtZW50cyIsImpzb25TdHJ1Y3R1cmUiLCJnZW5lcmF0ZVNjZW5lRnJvbVBlcnNvbmFsVHJhaXRzIiwiZGVzY3JpcHRpb25zIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./lib/promptGenerator.ts\n");

/***/ }),

/***/ "(ssr)/./lib/storageManager.ts":
/*!*******************************!*\
  !*** ./lib/storageManager.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   storage: () => (/* binding */ storage)\n/* harmony export */ });\n/**\n * Simplified Storage Manager for VibeCarding\n * \n * Philosophy: Minimal persistence focused on preventing user frustration\n * Only 3 keys: active-session, recent-cards, recovery\n */ const STORAGE_KEYS = {\n    activeSession: \"vibe-active-session\",\n    recentCards: \"vibe-recent-cards\",\n    recovery: \"vibe-recovery\"\n};\nconst EXPIRY_TIMES = {\n    session: 24 * 60 * 60 * 1000,\n    recovery: 10 * 60 * 1000,\n    recentCards: 30 // 30 days (handled differently)\n};\nclass StorageManager {\n    /**\n   * Save active session data (form + wizard state)\n   */ saveSession(formData, wizardState) {\n        if (true) return;\n        const session = {\n            formData,\n            wizardState,\n            expires: Date.now() + EXPIRY_TIMES.session,\n            lastUpdated: Date.now()\n        };\n        try {\n            localStorage.setItem(STORAGE_KEYS.activeSession, JSON.stringify(session));\n        } catch (e) {\n        // Silent fail - not critical\n        }\n    }\n    /**\n   * Get active session if not expired\n   */ getSession() {\n        if (true) return null;\n        try {\n            const stored = localStorage.getItem(STORAGE_KEYS.activeSession);\n            if (!stored) return null;\n            const session = JSON.parse(stored);\n            // Check if expired\n            if (Date.now() > session.expires) {\n                this.clearSession();\n                return null;\n            }\n            return {\n                formData: session.formData,\n                wizardState: session.wizardState\n            };\n        } catch  {\n            return null;\n        }\n    }\n    /**\n   * Clear active session\n   */ clearSession() {\n        if (true) return;\n        localStorage.removeItem(STORAGE_KEYS.activeSession);\n    }\n    /**\n   * Save recovery data during generation\n   */ saveRecovery(jobId, formData) {\n        if (true) return;\n        const recovery = {\n            jobId,\n            formData,\n            expires: Date.now() + EXPIRY_TIMES.recovery\n        };\n        try {\n            localStorage.setItem(STORAGE_KEYS.recovery, JSON.stringify(recovery));\n        } catch (e) {\n        // Silent fail\n        }\n    }\n    /**\n   * Get recovery data if not expired\n   */ getRecovery() {\n        if (true) return null;\n        try {\n            const stored = localStorage.getItem(STORAGE_KEYS.recovery);\n            if (!stored) return null;\n            const recovery = JSON.parse(stored);\n            // Check if expired\n            if (Date.now() > recovery.expires) {\n                this.clearRecovery();\n                return null;\n            }\n            return recovery;\n        } catch  {\n            return null;\n        }\n    }\n    /**\n   * Clear recovery data\n   */ clearRecovery() {\n        if (true) return;\n        localStorage.removeItem(STORAGE_KEYS.recovery);\n    }\n    /**\n   * Add a card to recent history (max 5 cards, metadata only)\n   */ addRecentCard(card) {\n        if (true) return;\n        try {\n            const recent = this.getRecentCards();\n            // Add new card at beginning\n            recent.unshift(card);\n            // Keep only last 5\n            const trimmed = recent.slice(0, 5);\n            localStorage.setItem(STORAGE_KEYS.recentCards, JSON.stringify(trimmed));\n        } catch (e) {\n        // Silent fail\n        }\n    }\n    /**\n   * Get recent cards\n   */ getRecentCards() {\n        if (true) return [];\n        try {\n            const stored = localStorage.getItem(STORAGE_KEYS.recentCards);\n            if (!stored) return [];\n            const cards = JSON.parse(stored);\n            // Filter out cards older than 30 days\n            const thirtyDaysAgo = Date.now() - 30 * 24 * 60 * 60 * 1000;\n            return cards.filter((card)=>new Date(card.date).getTime() > thirtyDaysAgo);\n        } catch  {\n            return [];\n        }\n    }\n    /**\n   * Clear all storage (privacy-first)\n   */ clearAll() {\n        if (true) return;\n        Object.values(STORAGE_KEYS).forEach((key)=>{\n            localStorage.removeItem(key);\n        });\n    }\n    /**\n   * Get storage size info\n   */ getStorageInfo() {\n        if (true) return {\n            used: 0,\n            keys: []\n        };\n        let totalSize = 0;\n        const keys = [];\n        Object.values(STORAGE_KEYS).forEach((key)=>{\n            const item = localStorage.getItem(key);\n            if (item) {\n                totalSize += item.length;\n                keys.push(key);\n            }\n        });\n        return {\n            used: Math.round(totalSize / 1024),\n            keys\n        };\n    }\n}\n// Export singleton instance\nconst storage = new StorageManager();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFLSSxJQUFJLENBQUNQO1lBQ1o7UUFDRjtRQUVBLE9BQU87WUFDTEUsTUFBTU0sS0FBS0MsS0FBSyxDQUFDTCxZQUFZO1lBQzdCRDtRQUNGO0lBQ0Y7QUFDRjtBQUVBLDRCQUE0QjtBQUNyQixNQUFNTyxVQUFVLElBQUlqRCxpQkFBaUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92aWJlY2FyZGluZy8uL2xpYi9zdG9yYWdlTWFuYWdlci50cz9jYjJlIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogU2ltcGxpZmllZCBTdG9yYWdlIE1hbmFnZXIgZm9yIFZpYmVDYXJkaW5nXG4gKiBcbiAqIFBoaWxvc29waHk6IE1pbmltYWwgcGVyc2lzdGVuY2UgZm9jdXNlZCBvbiBwcmV2ZW50aW5nIHVzZXIgZnJ1c3RyYXRpb25cbiAqIE9ubHkgMyBrZXlzOiBhY3RpdmUtc2Vzc2lvbiwgcmVjZW50LWNhcmRzLCByZWNvdmVyeVxuICovXG5cbmludGVyZmFjZSBBY3RpdmVTZXNzaW9uIHtcbiAgZm9ybURhdGE6IGFueTtcbiAgd2l6YXJkU3RhdGU6IHtcbiAgICBjdXJyZW50U3RlcDogbnVtYmVyO1xuICAgIGNvbXBsZXRlZFN0ZXBzOiBudW1iZXJbXTtcbiAgfTtcbiAgZXhwaXJlczogbnVtYmVyO1xuICBsYXN0VXBkYXRlZDogbnVtYmVyO1xufVxuXG5pbnRlcmZhY2UgUmVjZW50Q2FyZCB7XG4gIGlkOiBzdHJpbmc7XG4gIGRhdGU6IHN0cmluZztcbiAgdHlwZTogc3RyaW5nO1xuICB0b25lOiBzdHJpbmc7XG4gIHJlY2lwaWVudD86IHN0cmluZztcbiAgcHJldmlldz86IHN0cmluZzsgLy8gU21hbGwgdGh1bWJuYWlsIFVSTFxufVxuXG5pbnRlcmZhY2UgUmVjb3Zlcnkge1xuICBqb2JJZDogc3RyaW5nO1xuICBmb3JtRGF0YTogYW55O1xuICBleHBpcmVzOiBudW1iZXI7XG59XG5cbmNvbnN0IFNUT1JBR0VfS0VZUyA9IHtcbiAgYWN0aXZlU2Vzc2lvbjogJ3ZpYmUtYWN0aXZlLXNlc3Npb24nLFxuICByZWNlbnRDYXJkczogJ3ZpYmUtcmVjZW50LWNhcmRzJyxcbiAgcmVjb3Zlcnk6ICd2aWJlLXJlY292ZXJ5J1xufSBhcyBjb25zdDtcblxuY29uc3QgRVhQSVJZX1RJTUVTID0ge1xuICBzZXNzaW9uOiAyNCAqIDYwICogNjAgKiAxMDAwLCAvLyAyNCBob3Vyc1xuICByZWNvdmVyeTogMTAgKiA2MCAqIDEwMDAsICAgICAvLyAxMCBtaW51dGVzXG4gIHJlY2VudENhcmRzOiAzMCAgICAgICAgICAgICAgLy8gMzAgZGF5cyAoaGFuZGxlZCBkaWZmZXJlbnRseSlcbn0gYXMgY29uc3Q7XG5cbmNsYXNzIFN0b3JhZ2VNYW5hZ2VyIHtcbiAgLyoqXG4gICAqIFNhdmUgYWN0aXZlIHNlc3Npb24gZGF0YSAoZm9ybSArIHdpemFyZCBzdGF0ZSlcbiAgICovXG4gIHNhdmVTZXNzaW9uKGZvcm1EYXRhOiBhbnksIHdpemFyZFN0YXRlOiB7IGN1cnJlbnRTdGVwOiBudW1iZXI7IGNvbXBsZXRlZFN0ZXBzOiBudW1iZXJbXSB9KSB7XG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnKSByZXR1cm47XG4gICAgXG4gICAgY29uc3Qgc2Vzc2lvbjogQWN0aXZlU2Vzc2lvbiA9IHtcbiAgICAgIGZvcm1EYXRhLFxuICAgICAgd2l6YXJkU3RhdGUsXG4gICAgICBleHBpcmVzOiBEYXRlLm5vdygpICsgRVhQSVJZX1RJTUVTLnNlc3Npb24sXG4gICAgICBsYXN0VXBkYXRlZDogRGF0ZS5ub3coKVxuICAgIH07XG4gICAgXG4gICAgdHJ5IHtcbiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFNUT1JBR0VfS0VZUy5hY3RpdmVTZXNzaW9uLCBKU09OLnN0cmluZ2lmeShzZXNzaW9uKSk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgLy8gU2lsZW50IGZhaWwgLSBub3QgY3JpdGljYWxcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogR2V0IGFjdGl2ZSBzZXNzaW9uIGlmIG5vdCBleHBpcmVkXG4gICAqL1xuICBnZXRTZXNzaW9uKCk6IHsgZm9ybURhdGE6IGFueTsgd2l6YXJkU3RhdGU6IGFueSB9IHwgbnVsbCB7XG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnKSByZXR1cm4gbnVsbDtcbiAgICBcbiAgICB0cnkge1xuICAgICAgY29uc3Qgc3RvcmVkID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oU1RPUkFHRV9LRVlTLmFjdGl2ZVNlc3Npb24pO1xuICAgICAgaWYgKCFzdG9yZWQpIHJldHVybiBudWxsO1xuICAgICAgXG4gICAgICBjb25zdCBzZXNzaW9uOiBBY3RpdmVTZXNzaW9uID0gSlNPTi5wYXJzZShzdG9yZWQpO1xuICAgICAgXG4gICAgICAvLyBDaGVjayBpZiBleHBpcmVkXG4gICAgICBpZiAoRGF0ZS5ub3coKSA+IHNlc3Npb24uZXhwaXJlcykge1xuICAgICAgICB0aGlzLmNsZWFyU2Vzc2lvbigpO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgZm9ybURhdGE6IHNlc3Npb24uZm9ybURhdGEsXG4gICAgICAgIHdpemFyZFN0YXRlOiBzZXNzaW9uLndpemFyZFN0YXRlXG4gICAgICB9O1xuICAgIH0gY2F0Y2gge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENsZWFyIGFjdGl2ZSBzZXNzaW9uXG4gICAqL1xuICBjbGVhclNlc3Npb24oKSB7XG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnKSByZXR1cm47XG4gICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oU1RPUkFHRV9LRVlTLmFjdGl2ZVNlc3Npb24pO1xuICB9XG5cbiAgLyoqXG4gICAqIFNhdmUgcmVjb3ZlcnkgZGF0YSBkdXJpbmcgZ2VuZXJhdGlvblxuICAgKi9cbiAgc2F2ZVJlY292ZXJ5KGpvYklkOiBzdHJpbmcsIGZvcm1EYXRhOiBhbnkpIHtcbiAgICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcpIHJldHVybjtcbiAgICBcbiAgICBjb25zdCByZWNvdmVyeTogUmVjb3ZlcnkgPSB7XG4gICAgICBqb2JJZCxcbiAgICAgIGZvcm1EYXRhLFxuICAgICAgZXhwaXJlczogRGF0ZS5ub3coKSArIEVYUElSWV9USU1FUy5yZWNvdmVyeVxuICAgIH07XG4gICAgXG4gICAgdHJ5IHtcbiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFNUT1JBR0VfS0VZUy5yZWNvdmVyeSwgSlNPTi5zdHJpbmdpZnkocmVjb3ZlcnkpKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAvLyBTaWxlbnQgZmFpbFxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgcmVjb3ZlcnkgZGF0YSBpZiBub3QgZXhwaXJlZFxuICAgKi9cbiAgZ2V0UmVjb3ZlcnkoKTogUmVjb3ZlcnkgfCBudWxsIHtcbiAgICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcpIHJldHVybiBudWxsO1xuICAgIFxuICAgIHRyeSB7XG4gICAgICBjb25zdCBzdG9yZWQgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShTVE9SQUdFX0tFWVMucmVjb3ZlcnkpO1xuICAgICAgaWYgKCFzdG9yZWQpIHJldHVybiBudWxsO1xuICAgICAgXG4gICAgICBjb25zdCByZWNvdmVyeTogUmVjb3ZlcnkgPSBKU09OLnBhcnNlKHN0b3JlZCk7XG4gICAgICBcbiAgICAgIC8vIENoZWNrIGlmIGV4cGlyZWRcbiAgICAgIGlmIChEYXRlLm5vdygpID4gcmVjb3ZlcnkuZXhwaXJlcykge1xuICAgICAgICB0aGlzLmNsZWFyUmVjb3ZlcnkoKTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgICBcbiAgICAgIHJldHVybiByZWNvdmVyeTtcbiAgICB9IGNhdGNoIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDbGVhciByZWNvdmVyeSBkYXRhXG4gICAqL1xuICBjbGVhclJlY292ZXJ5KCkge1xuICAgIGlmICh0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJykgcmV0dXJuO1xuICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKFNUT1JBR0VfS0VZUy5yZWNvdmVyeSk7XG4gIH1cblxuICAvKipcbiAgICogQWRkIGEgY2FyZCB0byByZWNlbnQgaGlzdG9yeSAobWF4IDUgY2FyZHMsIG1ldGFkYXRhIG9ubHkpXG4gICAqL1xuICBhZGRSZWNlbnRDYXJkKGNhcmQ6IFJlY2VudENhcmQpIHtcbiAgICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcpIHJldHVybjtcbiAgICBcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVjZW50ID0gdGhpcy5nZXRSZWNlbnRDYXJkcygpO1xuICAgICAgXG4gICAgICAvLyBBZGQgbmV3IGNhcmQgYXQgYmVnaW5uaW5nXG4gICAgICByZWNlbnQudW5zaGlmdChjYXJkKTtcbiAgICAgIFxuICAgICAgLy8gS2VlcCBvbmx5IGxhc3QgNVxuICAgICAgY29uc3QgdHJpbW1lZCA9IHJlY2VudC5zbGljZSgwLCA1KTtcbiAgICAgIFxuICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oU1RPUkFHRV9LRVlTLnJlY2VudENhcmRzLCBKU09OLnN0cmluZ2lmeSh0cmltbWVkKSk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgLy8gU2lsZW50IGZhaWxcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogR2V0IHJlY2VudCBjYXJkc1xuICAgKi9cbiAgZ2V0UmVjZW50Q2FyZHMoKTogUmVjZW50Q2FyZFtdIHtcbiAgICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcpIHJldHVybiBbXTtcbiAgICBcbiAgICB0cnkge1xuICAgICAgY29uc3Qgc3RvcmVkID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oU1RPUkFHRV9LRVlTLnJlY2VudENhcmRzKTtcbiAgICAgIGlmICghc3RvcmVkKSByZXR1cm4gW107XG4gICAgICBcbiAgICAgIGNvbnN0IGNhcmRzOiBSZWNlbnRDYXJkW10gPSBKU09OLnBhcnNlKHN0b3JlZCk7XG4gICAgICBcbiAgICAgIC8vIEZpbHRlciBvdXQgY2FyZHMgb2xkZXIgdGhhbiAzMCBkYXlzXG4gICAgICBjb25zdCB0aGlydHlEYXlzQWdvID0gRGF0ZS5ub3coKSAtICgzMCAqIDI0ICogNjAgKiA2MCAqIDEwMDApO1xuICAgICAgcmV0dXJuIGNhcmRzLmZpbHRlcihjYXJkID0+IG5ldyBEYXRlKGNhcmQuZGF0ZSkuZ2V0VGltZSgpID4gdGhpcnR5RGF5c0Fnbyk7XG4gICAgfSBjYXRjaCB7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENsZWFyIGFsbCBzdG9yYWdlIChwcml2YWN5LWZpcnN0KVxuICAgKi9cbiAgY2xlYXJBbGwoKSB7XG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnKSByZXR1cm47XG4gICAgXG4gICAgT2JqZWN0LnZhbHVlcyhTVE9SQUdFX0tFWVMpLmZvckVhY2goa2V5ID0+IHtcbiAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKGtleSk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHN0b3JhZ2Ugc2l6ZSBpbmZvXG4gICAqL1xuICBnZXRTdG9yYWdlSW5mbygpIHtcbiAgICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcpIHJldHVybiB7IHVzZWQ6IDAsIGtleXM6IFtdIH07XG4gICAgXG4gICAgbGV0IHRvdGFsU2l6ZSA9IDA7XG4gICAgY29uc3Qga2V5czogc3RyaW5nW10gPSBbXTtcbiAgICBcbiAgICBPYmplY3QudmFsdWVzKFNUT1JBR0VfS0VZUykuZm9yRWFjaChrZXkgPT4ge1xuICAgICAgY29uc3QgaXRlbSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKGtleSk7XG4gICAgICBpZiAoaXRlbSkge1xuICAgICAgICB0b3RhbFNpemUgKz0gaXRlbS5sZW5ndGg7XG4gICAgICAgIGtleXMucHVzaChrZXkpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIFxuICAgIHJldHVybiB7XG4gICAgICB1c2VkOiBNYXRoLnJvdW5kKHRvdGFsU2l6ZSAvIDEwMjQpLCAvLyBLQlxuICAgICAga2V5c1xuICAgIH07XG4gIH1cbn1cblxuLy8gRXhwb3J0IHNpbmdsZXRvbiBpbnN0YW5jZVxuZXhwb3J0IGNvbnN0IHN0b3JhZ2UgPSBuZXcgU3RvcmFnZU1hbmFnZXIoKTtcblxuLy8gRXhwb3J0IHR5cGVzXG5leHBvcnQgdHlwZSB7IEFjdGl2ZVNlc3Npb24sIFJlY2VudENhcmQsIFJlY292ZXJ5IH07Il0sIm5hbWVzIjpbIlNUT1JBR0VfS0VZUyIsImFjdGl2ZVNlc3Npb24iLCJyZWNlbnRDYXJkcyIsInJlY292ZXJ5IiwiRVhQSVJZX1RJTUVTIiwic2Vzc2lvbiIsIlN0b3JhZ2VNYW5hZ2VyIiwic2F2ZVNlc3Npb24iLCJmb3JtRGF0YSIsIndpemFyZFN0YXRlIiwiZXhwaXJlcyIsIkRhdGUiLCJub3ciLCJsYXN0VXBkYXRlZCIsImxvY2FsU3RvcmFnZSIsInNldEl0ZW0iLCJKU09OIiwic3RyaW5naWZ5IiwiZSIsImdldFNlc3Npb24iLCJzdG9yZWQiLCJnZXRJdGVtIiwicGFyc2UiLCJjbGVhclNlc3Npb24iLCJyZW1vdmVJdGVtIiwic2F2ZVJlY292ZXJ5Iiwiam9iSWQiLCJnZXRSZWNvdmVyeSIsImNsZWFyUmVjb3ZlcnkiLCJhZGRSZWNlbnRDYXJkIiwiY2FyZCIsInJlY2VudCIsImdldFJlY2VudENhcmRzIiwidW5zaGlmdCIsInRyaW1tZWQiLCJzbGljZSIsImNhcmRzIiwidGhpcnR5RGF5c0FnbyIsImZpbHRlciIsImRhdGUiLCJnZXRUaW1lIiwiY2xlYXJBbGwiLCJPYmplY3QiLCJ2YWx1ZXMiLCJmb3JFYWNoIiwia2V5IiwiZ2V0U3RvcmFnZUluZm8iLCJ1c2VkIiwia2V5cyIsInRvdGFsU2l6ZSIsIml0ZW0iLCJsZW5ndGgiLCJwdXNoIiwiTWF0aCIsInJvdW5kIiwic3RvcmFnZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./lib/storageManager.ts\n");

/***/ }),

/***/ "(ssr)/./lib/utils.ts":
/*!**********************!*\
  !*** ./lib/utils.ts ***!
  \**********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   cn: () => (/* binding */ cn)\n/* harmony export */ });\n/* harmony import */ var clsx__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! clsx */ \"(ssr)/./node_modules/clsx/dist/clsx.mjs\");\n/* harmony import */ var tailwind_merge__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! tailwind-merge */ \"(ssr)/./node_modules/tailwind-merge/dist/bundle-mjs.mjs\");\n\n\nfunction cn(...inputs) {\n    return (0,tailwind_merge__WEBPACK_IMPORTED_MODULE_1__.twMerge)((0,clsx__WEBPACK_IMPORTED_MODULE_0__.clsx)(inputs));\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9saWIvdXRpbHMudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQTRDO0FBQ0o7QUFFakMsU0FBU0UsR0FBRyxHQUFHQyxNQUFvQjtJQUN4QyxPQUFPRix1REFBT0EsQ0FBQ0QsMENBQUlBLENBQUNHO0FBQ3RCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdmliZWNhcmRpbmcvLi9saWIvdXRpbHMudHM/Zjc0NSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB0eXBlIENsYXNzVmFsdWUsIGNsc3ggfSBmcm9tIFwiY2xzeFwiXG5pbXBvcnQgeyB0d01lcmdlIH0gZnJvbSBcInRhaWx3aW5kLW1lcmdlXCJcblxuZXhwb3J0IGZ1bmN0aW9uIGNuKC4uLmlucHV0czogQ2xhc3NWYWx1ZVtdKSB7XG4gIHJldHVybiB0d01lcmdlKGNsc3goaW5wdXRzKSlcbn1cbiJdLCJuYW1lcyI6WyJjbHN4IiwidHdNZXJnZSIsImNuIiwiaW5wdXRzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./lib/utils.ts\n");

/***/ }),

/***/ "(ssr)/./utils/imageUtils.ts":
/*!*****************************!*\
  !*** ./utils/imageUtils.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CARD_ASPECT_RATIO: () => (/* binding */ CARD_ASPECT_RATIO),\n/* harmony export */   calculateOptimalSize: () => (/* binding */ calculateOptimalSize),\n/* harmony export */   generateMultipleThumbnails: () => (/* binding */ generateMultipleThumbnails),\n/* harmony export */   generateResponsiveCardSizes: () => (/* binding */ generateResponsiveCardSizes),\n/* harmony export */   generateSizesAttribute: () => (/* binding */ generateSizesAttribute),\n/* harmony export */   generateSrcSet: () => (/* binding */ generateSrcSet),\n/* harmony export */   generateThumbnailUrl: () => (/* binding */ generateThumbnailUrl),\n/* harmony export */   getOptimalImageFormat: () => (/* binding */ getOptimalImageFormat),\n/* harmony export */   preloadCriticalImages: () => (/* binding */ preloadCriticalImages),\n/* harmony export */   supportsWebP: () => (/* binding */ supportsWebP),\n/* harmony export */   trackImageLoadPerformance: () => (/* binding */ trackImageLoadPerformance)\n/* harmony export */ });\n// Utility functions for image optimization and responsive sizing\n// Configuration for the backend API endpoint\nconst BACKEND_API_BASE_URL = \"https://vibecarding.com\" || 0;\nconst CARD_ASPECT_RATIO = 2 / 3; // 2:3 aspect ratio for greeting cards\n// Generate responsive sizes for card images\nconst generateResponsiveCardSizes = ()=>({\n        small: {\n            width: 300,\n            height: 450\n        },\n        medium: {\n            width: 400,\n            height: 600\n        },\n        large: {\n            width: 600,\n            height: 900\n        } // Desktop\n    });\n// Generate srcSet string for responsive images\nconst generateSrcSet = (baseUrl, sizes)=>{\n    const srcSetParts = [];\n    Object.entries(sizes).forEach(([size, dimensions])=>{\n        // Generate thumbnail URL with specific dimensions\n        const thumbnailUrl = generateThumbnailUrl(baseUrl, dimensions.width, dimensions.height);\n        srcSetParts.push(`${thumbnailUrl} ${dimensions.width}w`);\n    });\n    return srcSetParts.join(\", \");\n};\n// Generate sizes attribute for responsive images\nconst generateSizesAttribute = ()=>{\n    return [\n        \"(max-width: 640px) 300px\",\n        \"(max-width: 1024px) 400px\",\n        \"600px\" // Desktop: large size\n    ].join(\", \");\n};\n// Generate thumbnail URL with dimensions\nconst generateThumbnailUrl = (originalUrl, width, height)=>{\n    // For now, return the original URL - in production this would call the thumbnail API\n    // In the future, this could be enhanced to generate actual thumbnail URLs\n    return originalUrl;\n};\n// Generate multiple thumbnail sizes for an image\nconst generateMultipleThumbnails = async (imageUrl)=>{\n    const sizes = generateResponsiveCardSizes();\n    const thumbnails = {};\n    try {\n        // Generate thumbnails for each size\n        for (const [sizeKey, dimensions] of Object.entries(sizes)){\n            const response = await fetch(`${BACKEND_API_BASE_URL}/generate_thumbnail`, {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                    image_url: imageUrl,\n                    width: dimensions.width,\n                    height: dimensions.height,\n                    quality: 85\n                })\n            });\n            if (response.ok) {\n                const data = await response.json();\n                thumbnails[sizeKey] = data.thumbnail_url;\n            }\n        }\n        return thumbnails;\n    } catch (error) {\n        console.warn(\"Error generating multiple thumbnails:\", error);\n        return {};\n    }\n};\n// Check if browser supports WebP format\nconst supportsWebP = ()=>{\n    return new Promise((resolve)=>{\n        const webP = new Image();\n        webP.onload = webP.onerror = ()=>{\n            resolve(webP.height === 2);\n        };\n        webP.src = \"data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA\";\n    });\n};\n// Get optimal image format based on browser support\nconst getOptimalImageFormat = async ()=>{\n    const webpSupported = await supportsWebP();\n    return webpSupported ? \"webp\" : \"jpeg\";\n};\n// Calculate optimal image dimensions based on container size\nconst calculateOptimalSize = (containerWidth, containerHeight, devicePixelRatio = window.devicePixelRatio || 1)=>{\n    // Account for device pixel ratio for crisp images on high-DPI displays\n    const targetWidth = Math.ceil(containerWidth * devicePixelRatio);\n    const targetHeight = Math.ceil(containerHeight * devicePixelRatio);\n    // Ensure the size maintains card aspect ratio\n    const aspectRatio = CARD_ASPECT_RATIO;\n    if (targetWidth / targetHeight > aspectRatio) {\n        // Container is wider than card aspect ratio\n        return {\n            width: Math.ceil(targetHeight * aspectRatio),\n            height: targetHeight\n        };\n    } else {\n        // Container is taller than card aspect ratio\n        return {\n            width: targetWidth,\n            height: Math.ceil(targetWidth / aspectRatio)\n        };\n    }\n};\n// Preload critical images for better performance\nconst preloadCriticalImages = (imageUrls)=>{\n    imageUrls.forEach((url)=>{\n        if (url) {\n            const link = document.createElement(\"link\");\n            link.rel = \"preload\";\n            link.as = \"image\";\n            link.href = url;\n            document.head.appendChild(link);\n        }\n    });\n};\nconst trackImageLoadPerformance = (imageUrl)=>{\n    const metrics = {\n        loadStartTime: performance.now()\n    };\n    const img = new Image();\n    img.onload = ()=>{\n        metrics.loadEndTime = performance.now();\n        metrics.loadDuration = metrics.loadEndTime - metrics.loadStartTime;\n        // Log performance metrics for debugging\n        console.log(`Image loaded: ${imageUrl}`, {\n            duration: `${metrics.loadDuration?.toFixed(2)}ms`,\n            fromCache: metrics.loadDuration && metrics.loadDuration < 50 // Assume cached if very fast\n        });\n    };\n    img.src = imageUrl;\n    return metrics;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi91dGlscy9pbWFnZVV0aWxzLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQUEsaUVBQWlFO0FBRWpFLDZDQUE2QztBQUM3QyxNQUFNQSx1QkFBdUJDLHlCQUF1QyxJQUFJO0FBUWpFLE1BQU1HLG9CQUFvQixJQUFFLEVBQUUsQ0FBQyxzQ0FBc0M7QUFFNUUsNENBQTRDO0FBQ3JDLE1BQU1DLDhCQUE4QixJQUE2QjtRQUN0RUMsT0FBTztZQUFFQyxPQUFPO1lBQUtDLFFBQVE7UUFBSTtRQUNqQ0MsUUFBUTtZQUFFRixPQUFPO1lBQUtDLFFBQVE7UUFBSTtRQUNsQ0UsT0FBTztZQUFFSCxPQUFPO1lBQUtDLFFBQVE7UUFBSSxFQUFLLFVBQVU7SUFDbEQsR0FBRztBQUVILCtDQUErQztBQUN4QyxNQUFNRyxpQkFBaUIsQ0FBQ0MsU0FBaUJDO0lBQzlDLE1BQU1DLGNBQXdCLEVBQUU7SUFFaENDLE9BQU9DLE9BQU8sQ0FBQ0gsT0FBT0ksT0FBTyxDQUFDLENBQUMsQ0FBQ0MsTUFBTUMsV0FBVztRQUMvQyxrREFBa0Q7UUFDbEQsTUFBTUMsZUFBZUMscUJBQXFCVCxTQUFTTyxXQUFXWixLQUFLLEVBQUVZLFdBQVdYLE1BQU07UUFDdEZNLFlBQVlRLElBQUksQ0FBQyxDQUFDLEVBQUVGLGFBQWEsQ0FBQyxFQUFFRCxXQUFXWixLQUFLLENBQUMsQ0FBQyxDQUFDO0lBQ3pEO0lBRUEsT0FBT08sWUFBWVMsSUFBSSxDQUFDO0FBQzFCLEVBQUU7QUFFRixpREFBaUQ7QUFDMUMsTUFBTUMseUJBQXlCO0lBQ3BDLE9BQU87UUFDTDtRQUNBO1FBQ0EsUUFBK0Isc0JBQXNCO0tBQ3RELENBQUNELElBQUksQ0FBQztBQUNULEVBQUU7QUFFRix5Q0FBeUM7QUFDbEMsTUFBTUYsdUJBQXVCLENBQUNJLGFBQXFCbEIsT0FBZUM7SUFDdkUscUZBQXFGO0lBQ3JGLDBFQUEwRTtJQUMxRSxPQUFPaUI7QUFDVCxFQUFFO0FBRUYsaURBQWlEO0FBQzFDLE1BQU1DLDZCQUE2QixPQUFPQztJQUMvQyxNQUFNZCxRQUFRUjtJQUNkLE1BQU11QixhQUFxQyxDQUFDO0lBRTVDLElBQUk7UUFDRixvQ0FBb0M7UUFDcEMsS0FBSyxNQUFNLENBQUNDLFNBQVNWLFdBQVcsSUFBSUosT0FBT0MsT0FBTyxDQUFDSCxPQUFRO1lBQ3pELE1BQU1pQixXQUFXLE1BQU1DLE1BQU0sQ0FBQyxFQUFFL0IscUJBQXFCLG1CQUFtQixDQUFDLEVBQUU7Z0JBQ3pFZ0MsUUFBUTtnQkFDUkMsU0FBUztvQkFDUCxnQkFBZ0I7Z0JBQ2xCO2dCQUNBQyxNQUFNQyxLQUFLQyxTQUFTLENBQUM7b0JBQ25CQyxXQUFXVjtvQkFDWHBCLE9BQU9ZLFdBQVdaLEtBQUs7b0JBQ3ZCQyxRQUFRVyxXQUFXWCxNQUFNO29CQUN6QjhCLFNBQVM7Z0JBQ1g7WUFDRjtZQUVBLElBQUlSLFNBQVNTLEVBQUUsRUFBRTtnQkFDZixNQUFNQyxPQUFPLE1BQU1WLFNBQVNXLElBQUk7Z0JBQ2hDYixVQUFVLENBQUNDLFFBQVEsR0FBR1csS0FBS0UsYUFBYTtZQUMxQztRQUNGO1FBRUEsT0FBT2Q7SUFDVCxFQUFFLE9BQU9lLE9BQU87UUFDZEMsUUFBUUMsSUFBSSxDQUFDLHlDQUF5Q0Y7UUFDdEQsT0FBTyxDQUFDO0lBQ1Y7QUFDRixFQUFFO0FBRUYsd0NBQXdDO0FBQ2pDLE1BQU1HLGVBQWU7SUFDMUIsT0FBTyxJQUFJQyxRQUFRLENBQUNDO1FBQ2xCLE1BQU1DLE9BQU8sSUFBSUM7UUFDakJELEtBQUtFLE1BQU0sR0FBR0YsS0FBS0csT0FBTyxHQUFHO1lBQzNCSixRQUFRQyxLQUFLekMsTUFBTSxLQUFLO1FBQzFCO1FBQ0F5QyxLQUFLSSxHQUFHLEdBQUc7SUFDYjtBQUNGLEVBQUU7QUFFRixvREFBb0Q7QUFDN0MsTUFBTUMsd0JBQXdCO0lBQ25DLE1BQU1DLGdCQUFnQixNQUFNVDtJQUM1QixPQUFPUyxnQkFBZ0IsU0FBUztBQUNsQyxFQUFFO0FBRUYsNkRBQTZEO0FBQ3RELE1BQU1DLHVCQUF1QixDQUNsQ0MsZ0JBQ0FDLGlCQUNBQyxtQkFBMkJDLE9BQU9ELGdCQUFnQixJQUFJLENBQUM7SUFFdkQsdUVBQXVFO0lBQ3ZFLE1BQU1FLGNBQWNDLEtBQUtDLElBQUksQ0FBQ04saUJBQWlCRTtJQUMvQyxNQUFNSyxlQUFlRixLQUFLQyxJQUFJLENBQUNMLGtCQUFrQkM7SUFFakQsOENBQThDO0lBQzlDLE1BQU1NLGNBQWM3RDtJQUVwQixJQUFJeUQsY0FBY0csZUFBZUMsYUFBYTtRQUM1Qyw0Q0FBNEM7UUFDNUMsT0FBTztZQUNMMUQsT0FBT3VELEtBQUtDLElBQUksQ0FBQ0MsZUFBZUM7WUFDaEN6RCxRQUFRd0Q7UUFDVjtJQUNGLE9BQU87UUFDTCw2Q0FBNkM7UUFDN0MsT0FBTztZQUNMekQsT0FBT3NEO1lBQ1ByRCxRQUFRc0QsS0FBS0MsSUFBSSxDQUFDRixjQUFjSTtRQUNsQztJQUNGO0FBQ0YsRUFBRTtBQUVGLGlEQUFpRDtBQUMxQyxNQUFNQyx3QkFBd0IsQ0FBQ0M7SUFDcENBLFVBQVVsRCxPQUFPLENBQUNtRCxDQUFBQTtRQUNoQixJQUFJQSxLQUFLO1lBQ1AsTUFBTUMsT0FBT0MsU0FBU0MsYUFBYSxDQUFDO1lBQ3BDRixLQUFLRyxHQUFHLEdBQUc7WUFDWEgsS0FBS0ksRUFBRSxHQUFHO1lBQ1ZKLEtBQUtLLElBQUksR0FBR047WUFDWkUsU0FBU0ssSUFBSSxDQUFDQyxXQUFXLENBQUNQO1FBQzVCO0lBQ0Y7QUFDRixFQUFFO0FBV0ssTUFBTVEsNEJBQTRCLENBQUNsRDtJQUN4QyxNQUFNbUQsVUFBNEI7UUFDaENDLGVBQWVDLFlBQVlDLEdBQUc7SUFDaEM7SUFFQSxNQUFNQyxNQUFNLElBQUloQztJQUNoQmdDLElBQUkvQixNQUFNLEdBQUc7UUFDWDJCLFFBQVFLLFdBQVcsR0FBR0gsWUFBWUMsR0FBRztRQUNyQ0gsUUFBUU0sWUFBWSxHQUFHTixRQUFRSyxXQUFXLEdBQUdMLFFBQVFDLGFBQWE7UUFFbEUsd0NBQXdDO1FBQ3hDbkMsUUFBUXlDLEdBQUcsQ0FBQyxDQUFDLGNBQWMsRUFBRTFELFNBQVMsQ0FBQyxFQUFFO1lBQ3ZDMkQsVUFBVSxDQUFDLEVBQUVSLFFBQVFNLFlBQVksRUFBRUcsUUFBUSxHQUFHLEVBQUUsQ0FBQztZQUNqREMsV0FBV1YsUUFBUU0sWUFBWSxJQUFJTixRQUFRTSxZQUFZLEdBQUcsR0FBRyw2QkFBNkI7UUFDNUY7SUFDRjtJQUVBRixJQUFJN0IsR0FBRyxHQUFHMUI7SUFDVixPQUFPbUQ7QUFDVCxFQUFFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdmliZWNhcmRpbmcvLi91dGlscy9pbWFnZVV0aWxzLnRzP2ExMDgiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gVXRpbGl0eSBmdW5jdGlvbnMgZm9yIGltYWdlIG9wdGltaXphdGlvbiBhbmQgcmVzcG9uc2l2ZSBzaXppbmdcblxuLy8gQ29uZmlndXJhdGlvbiBmb3IgdGhlIGJhY2tlbmQgQVBJIGVuZHBvaW50XG5jb25zdCBCQUNLRU5EX0FQSV9CQVNFX1VSTCA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0JBQ0tFTkRfQVBJX1VSTCB8fCAnaHR0cHM6Ly92aWJlY2FyZGluZy5jb20nO1xuXG5leHBvcnQgaW50ZXJmYWNlIFJlc3BvbnNpdmVJbWFnZVNpemVzIHtcbiAgc21hbGw6IHsgd2lkdGg6IG51bWJlcjsgaGVpZ2h0OiBudW1iZXIgfTtcbiAgbWVkaXVtOiB7IHdpZHRoOiBudW1iZXI7IGhlaWdodDogbnVtYmVyIH07XG4gIGxhcmdlOiB7IHdpZHRoOiBudW1iZXI7IGhlaWdodDogbnVtYmVyIH07XG59XG5cbmV4cG9ydCBjb25zdCBDQVJEX0FTUEVDVF9SQVRJTyA9IDIvMzsgLy8gMjozIGFzcGVjdCByYXRpbyBmb3IgZ3JlZXRpbmcgY2FyZHNcblxuLy8gR2VuZXJhdGUgcmVzcG9uc2l2ZSBzaXplcyBmb3IgY2FyZCBpbWFnZXNcbmV4cG9ydCBjb25zdCBnZW5lcmF0ZVJlc3BvbnNpdmVDYXJkU2l6ZXMgPSAoKTogUmVzcG9uc2l2ZUltYWdlU2l6ZXMgPT4gKHtcbiAgc21hbGw6IHsgd2lkdGg6IDMwMCwgaGVpZ2h0OiA0NTAgfSwgICAvLyBNb2JpbGVcbiAgbWVkaXVtOiB7IHdpZHRoOiA0MDAsIGhlaWdodDogNjAwIH0sICAvLyBUYWJsZXRcbiAgbGFyZ2U6IHsgd2lkdGg6IDYwMCwgaGVpZ2h0OiA5MDAgfSAgICAvLyBEZXNrdG9wXG59KTtcblxuLy8gR2VuZXJhdGUgc3JjU2V0IHN0cmluZyBmb3IgcmVzcG9uc2l2ZSBpbWFnZXNcbmV4cG9ydCBjb25zdCBnZW5lcmF0ZVNyY1NldCA9IChiYXNlVXJsOiBzdHJpbmcsIHNpemVzOiBSZXNwb25zaXZlSW1hZ2VTaXplcyk6IHN0cmluZyA9PiB7XG4gIGNvbnN0IHNyY1NldFBhcnRzOiBzdHJpbmdbXSA9IFtdO1xuICBcbiAgT2JqZWN0LmVudHJpZXMoc2l6ZXMpLmZvckVhY2goKFtzaXplLCBkaW1lbnNpb25zXSkgPT4ge1xuICAgIC8vIEdlbmVyYXRlIHRodW1ibmFpbCBVUkwgd2l0aCBzcGVjaWZpYyBkaW1lbnNpb25zXG4gICAgY29uc3QgdGh1bWJuYWlsVXJsID0gZ2VuZXJhdGVUaHVtYm5haWxVcmwoYmFzZVVybCwgZGltZW5zaW9ucy53aWR0aCwgZGltZW5zaW9ucy5oZWlnaHQpO1xuICAgIHNyY1NldFBhcnRzLnB1c2goYCR7dGh1bWJuYWlsVXJsfSAke2RpbWVuc2lvbnMud2lkdGh9d2ApO1xuICB9KTtcbiAgXG4gIHJldHVybiBzcmNTZXRQYXJ0cy5qb2luKCcsICcpO1xufTtcblxuLy8gR2VuZXJhdGUgc2l6ZXMgYXR0cmlidXRlIGZvciByZXNwb25zaXZlIGltYWdlc1xuZXhwb3J0IGNvbnN0IGdlbmVyYXRlU2l6ZXNBdHRyaWJ1dGUgPSAoKTogc3RyaW5nID0+IHtcbiAgcmV0dXJuIFtcbiAgICAnKG1heC13aWR0aDogNjQwcHgpIDMwMHB4JywgICAgLy8gTW9iaWxlOiBzbWFsbCBzaXplXG4gICAgJyhtYXgtd2lkdGg6IDEwMjRweCkgNDAwcHgnLCAgIC8vIFRhYmxldDogbWVkaXVtIHNpemVcbiAgICAnNjAwcHgnICAgICAgICAgICAgICAgICAgICAgICAgLy8gRGVza3RvcDogbGFyZ2Ugc2l6ZVxuICBdLmpvaW4oJywgJyk7XG59O1xuXG4vLyBHZW5lcmF0ZSB0aHVtYm5haWwgVVJMIHdpdGggZGltZW5zaW9uc1xuZXhwb3J0IGNvbnN0IGdlbmVyYXRlVGh1bWJuYWlsVXJsID0gKG9yaWdpbmFsVXJsOiBzdHJpbmcsIHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyKTogc3RyaW5nID0+IHtcbiAgLy8gRm9yIG5vdywgcmV0dXJuIHRoZSBvcmlnaW5hbCBVUkwgLSBpbiBwcm9kdWN0aW9uIHRoaXMgd291bGQgY2FsbCB0aGUgdGh1bWJuYWlsIEFQSVxuICAvLyBJbiB0aGUgZnV0dXJlLCB0aGlzIGNvdWxkIGJlIGVuaGFuY2VkIHRvIGdlbmVyYXRlIGFjdHVhbCB0aHVtYm5haWwgVVJMc1xuICByZXR1cm4gb3JpZ2luYWxVcmw7XG59O1xuXG4vLyBHZW5lcmF0ZSBtdWx0aXBsZSB0aHVtYm5haWwgc2l6ZXMgZm9yIGFuIGltYWdlXG5leHBvcnQgY29uc3QgZ2VuZXJhdGVNdWx0aXBsZVRodW1ibmFpbHMgPSBhc3luYyAoaW1hZ2VVcmw6IHN0cmluZyk6IFByb21pc2U8UmVjb3JkPHN0cmluZywgc3RyaW5nPj4gPT4ge1xuICBjb25zdCBzaXplcyA9IGdlbmVyYXRlUmVzcG9uc2l2ZUNhcmRTaXplcygpO1xuICBjb25zdCB0aHVtYm5haWxzOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge307XG4gIFxuICB0cnkge1xuICAgIC8vIEdlbmVyYXRlIHRodW1ibmFpbHMgZm9yIGVhY2ggc2l6ZVxuICAgIGZvciAoY29uc3QgW3NpemVLZXksIGRpbWVuc2lvbnNdIG9mIE9iamVjdC5lbnRyaWVzKHNpemVzKSkge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgJHtCQUNLRU5EX0FQSV9CQVNFX1VSTH0vZ2VuZXJhdGVfdGh1bWJuYWlsYCwge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICBpbWFnZV91cmw6IGltYWdlVXJsLFxuICAgICAgICAgIHdpZHRoOiBkaW1lbnNpb25zLndpZHRoLFxuICAgICAgICAgIGhlaWdodDogZGltZW5zaW9ucy5oZWlnaHQsXG4gICAgICAgICAgcXVhbGl0eTogODVcbiAgICAgICAgfSlcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICBpZiAocmVzcG9uc2Uub2spIHtcbiAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgdGh1bWJuYWlsc1tzaXplS2V5XSA9IGRhdGEudGh1bWJuYWlsX3VybDtcbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIHRodW1ibmFpbHM7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS53YXJuKCdFcnJvciBnZW5lcmF0aW5nIG11bHRpcGxlIHRodW1ibmFpbHM6JywgZXJyb3IpO1xuICAgIHJldHVybiB7fTtcbiAgfVxufTtcblxuLy8gQ2hlY2sgaWYgYnJvd3NlciBzdXBwb3J0cyBXZWJQIGZvcm1hdFxuZXhwb3J0IGNvbnN0IHN1cHBvcnRzV2ViUCA9ICgpOiBQcm9taXNlPGJvb2xlYW4+ID0+IHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgY29uc3Qgd2ViUCA9IG5ldyBJbWFnZSgpO1xuICAgIHdlYlAub25sb2FkID0gd2ViUC5vbmVycm9yID0gKCkgPT4ge1xuICAgICAgcmVzb2x2ZSh3ZWJQLmhlaWdodCA9PT0gMik7XG4gICAgfTtcbiAgICB3ZWJQLnNyYyA9ICdkYXRhOmltYWdlL3dlYnA7YmFzZTY0LFVrbEdSam9BQUFCWFJVSlFWbEE0SUM0QUFBQ3lBZ0NkQVNvQ0FBSUFMbWswbWswaUlpSWlJZ0JvU3lnQUJjNldXZ0FBL3ZlZmYvMFBQOGJBLy9Md1lBQUEnO1xuICB9KTtcbn07XG5cbi8vIEdldCBvcHRpbWFsIGltYWdlIGZvcm1hdCBiYXNlZCBvbiBicm93c2VyIHN1cHBvcnRcbmV4cG9ydCBjb25zdCBnZXRPcHRpbWFsSW1hZ2VGb3JtYXQgPSBhc3luYyAoKTogUHJvbWlzZTwnd2VicCcgfCAnanBlZyc+ID0+IHtcbiAgY29uc3Qgd2VicFN1cHBvcnRlZCA9IGF3YWl0IHN1cHBvcnRzV2ViUCgpO1xuICByZXR1cm4gd2VicFN1cHBvcnRlZCA/ICd3ZWJwJyA6ICdqcGVnJztcbn07XG5cbi8vIENhbGN1bGF0ZSBvcHRpbWFsIGltYWdlIGRpbWVuc2lvbnMgYmFzZWQgb24gY29udGFpbmVyIHNpemVcbmV4cG9ydCBjb25zdCBjYWxjdWxhdGVPcHRpbWFsU2l6ZSA9IChcbiAgY29udGFpbmVyV2lkdGg6IG51bWJlciwgXG4gIGNvbnRhaW5lckhlaWdodDogbnVtYmVyLCBcbiAgZGV2aWNlUGl4ZWxSYXRpbzogbnVtYmVyID0gd2luZG93LmRldmljZVBpeGVsUmF0aW8gfHwgMVxuKTogeyB3aWR0aDogbnVtYmVyOyBoZWlnaHQ6IG51bWJlciB9ID0+IHtcbiAgLy8gQWNjb3VudCBmb3IgZGV2aWNlIHBpeGVsIHJhdGlvIGZvciBjcmlzcCBpbWFnZXMgb24gaGlnaC1EUEkgZGlzcGxheXNcbiAgY29uc3QgdGFyZ2V0V2lkdGggPSBNYXRoLmNlaWwoY29udGFpbmVyV2lkdGggKiBkZXZpY2VQaXhlbFJhdGlvKTtcbiAgY29uc3QgdGFyZ2V0SGVpZ2h0ID0gTWF0aC5jZWlsKGNvbnRhaW5lckhlaWdodCAqIGRldmljZVBpeGVsUmF0aW8pO1xuICBcbiAgLy8gRW5zdXJlIHRoZSBzaXplIG1haW50YWlucyBjYXJkIGFzcGVjdCByYXRpb1xuICBjb25zdCBhc3BlY3RSYXRpbyA9IENBUkRfQVNQRUNUX1JBVElPO1xuICBcbiAgaWYgKHRhcmdldFdpZHRoIC8gdGFyZ2V0SGVpZ2h0ID4gYXNwZWN0UmF0aW8pIHtcbiAgICAvLyBDb250YWluZXIgaXMgd2lkZXIgdGhhbiBjYXJkIGFzcGVjdCByYXRpb1xuICAgIHJldHVybiB7XG4gICAgICB3aWR0aDogTWF0aC5jZWlsKHRhcmdldEhlaWdodCAqIGFzcGVjdFJhdGlvKSxcbiAgICAgIGhlaWdodDogdGFyZ2V0SGVpZ2h0XG4gICAgfTtcbiAgfSBlbHNlIHtcbiAgICAvLyBDb250YWluZXIgaXMgdGFsbGVyIHRoYW4gY2FyZCBhc3BlY3QgcmF0aW9cbiAgICByZXR1cm4ge1xuICAgICAgd2lkdGg6IHRhcmdldFdpZHRoLFxuICAgICAgaGVpZ2h0OiBNYXRoLmNlaWwodGFyZ2V0V2lkdGggLyBhc3BlY3RSYXRpbylcbiAgICB9O1xuICB9XG59O1xuXG4vLyBQcmVsb2FkIGNyaXRpY2FsIGltYWdlcyBmb3IgYmV0dGVyIHBlcmZvcm1hbmNlXG5leHBvcnQgY29uc3QgcHJlbG9hZENyaXRpY2FsSW1hZ2VzID0gKGltYWdlVXJsczogc3RyaW5nW10pOiB2b2lkID0+IHtcbiAgaW1hZ2VVcmxzLmZvckVhY2godXJsID0+IHtcbiAgICBpZiAodXJsKSB7XG4gICAgICBjb25zdCBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGluaycpO1xuICAgICAgbGluay5yZWwgPSAncHJlbG9hZCc7XG4gICAgICBsaW5rLmFzID0gJ2ltYWdlJztcbiAgICAgIGxpbmsuaHJlZiA9IHVybDtcbiAgICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQobGluayk7XG4gICAgfVxuICB9KTtcbn07XG5cbi8vIEltYWdlIGxvYWRpbmcgcGVyZm9ybWFuY2UgbWV0cmljc1xuZXhwb3J0IGludGVyZmFjZSBJbWFnZUxvYWRNZXRyaWNzIHtcbiAgbG9hZFN0YXJ0VGltZTogbnVtYmVyO1xuICBsb2FkRW5kVGltZT86IG51bWJlcjtcbiAgbG9hZER1cmF0aW9uPzogbnVtYmVyO1xuICBpbWFnZVNpemU/OiBudW1iZXI7XG4gIGZyb21DYWNoZT86IGJvb2xlYW47XG59XG5cbmV4cG9ydCBjb25zdCB0cmFja0ltYWdlTG9hZFBlcmZvcm1hbmNlID0gKGltYWdlVXJsOiBzdHJpbmcpOiBJbWFnZUxvYWRNZXRyaWNzID0+IHtcbiAgY29uc3QgbWV0cmljczogSW1hZ2VMb2FkTWV0cmljcyA9IHtcbiAgICBsb2FkU3RhcnRUaW1lOiBwZXJmb3JtYW5jZS5ub3coKVxuICB9O1xuICBcbiAgY29uc3QgaW1nID0gbmV3IEltYWdlKCk7XG4gIGltZy5vbmxvYWQgPSAoKSA9PiB7XG4gICAgbWV0cmljcy5sb2FkRW5kVGltZSA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICAgIG1ldHJpY3MubG9hZER1cmF0aW9uID0gbWV0cmljcy5sb2FkRW5kVGltZSAtIG1ldHJpY3MubG9hZFN0YXJ0VGltZTtcbiAgICBcbiAgICAvLyBMb2cgcGVyZm9ybWFuY2UgbWV0cmljcyBmb3IgZGVidWdnaW5nXG4gICAgY29uc29sZS5sb2coYEltYWdlIGxvYWRlZDogJHtpbWFnZVVybH1gLCB7XG4gICAgICBkdXJhdGlvbjogYCR7bWV0cmljcy5sb2FkRHVyYXRpb24/LnRvRml4ZWQoMil9bXNgLFxuICAgICAgZnJvbUNhY2hlOiBtZXRyaWNzLmxvYWREdXJhdGlvbiAmJiBtZXRyaWNzLmxvYWREdXJhdGlvbiA8IDUwIC8vIEFzc3VtZSBjYWNoZWQgaWYgdmVyeSBmYXN0XG4gICAgfSk7XG4gIH07XG4gIFxuICBpbWcuc3JjID0gaW1hZ2VVcmw7XG4gIHJldHVybiBtZXRyaWNzO1xufTsiXSwibmFtZXMiOlsiQkFDS0VORF9BUElfQkFTRV9VUkwiLCJwcm9jZXNzIiwiZW52IiwiTkVYVF9QVUJMSUNfQkFDS0VORF9BUElfVVJMIiwiQ0FSRF9BU1BFQ1RfUkFUSU8iLCJnZW5lcmF0ZVJlc3BvbnNpdmVDYXJkU2l6ZXMiLCJzbWFsbCIsIndpZHRoIiwiaGVpZ2h0IiwibWVkaXVtIiwibGFyZ2UiLCJnZW5lcmF0ZVNyY1NldCIsImJhc2VVcmwiLCJzaXplcyIsInNyY1NldFBhcnRzIiwiT2JqZWN0IiwiZW50cmllcyIsImZvckVhY2giLCJzaXplIiwiZGltZW5zaW9ucyIsInRodW1ibmFpbFVybCIsImdlbmVyYXRlVGh1bWJuYWlsVXJsIiwicHVzaCIsImpvaW4iLCJnZW5lcmF0ZVNpemVzQXR0cmlidXRlIiwib3JpZ2luYWxVcmwiLCJnZW5lcmF0ZU11bHRpcGxlVGh1bWJuYWlscyIsImltYWdlVXJsIiwidGh1bWJuYWlscyIsInNpemVLZXkiLCJyZXNwb25zZSIsImZldGNoIiwibWV0aG9kIiwiaGVhZGVycyIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwiaW1hZ2VfdXJsIiwicXVhbGl0eSIsIm9rIiwiZGF0YSIsImpzb24iLCJ0aHVtYm5haWxfdXJsIiwiZXJyb3IiLCJjb25zb2xlIiwid2FybiIsInN1cHBvcnRzV2ViUCIsIlByb21pc2UiLCJyZXNvbHZlIiwid2ViUCIsIkltYWdlIiwib25sb2FkIiwib25lcnJvciIsInNyYyIsImdldE9wdGltYWxJbWFnZUZvcm1hdCIsIndlYnBTdXBwb3J0ZWQiLCJjYWxjdWxhdGVPcHRpbWFsU2l6ZSIsImNvbnRhaW5lcldpZHRoIiwiY29udGFpbmVySGVpZ2h0IiwiZGV2aWNlUGl4ZWxSYXRpbyIsIndpbmRvdyIsInRhcmdldFdpZHRoIiwiTWF0aCIsImNlaWwiLCJ0YXJnZXRIZWlnaHQiLCJhc3BlY3RSYXRpbyIsInByZWxvYWRDcml0aWNhbEltYWdlcyIsImltYWdlVXJscyIsInVybCIsImxpbmsiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJyZWwiLCJhcyIsImhyZWYiLCJoZWFkIiwiYXBwZW5kQ2hpbGQiLCJ0cmFja0ltYWdlTG9hZFBlcmZvcm1hbmNlIiwibWV0cmljcyIsImxvYWRTdGFydFRpbWUiLCJwZXJmb3JtYW5jZSIsIm5vdyIsImltZyIsImxvYWRFbmRUaW1lIiwibG9hZER1cmF0aW9uIiwibG9nIiwiZHVyYXRpb24iLCJ0b0ZpeGVkIiwiZnJvbUNhY2hlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./utils/imageUtils.ts\n");

/***/ }),

/***/ "(rsc)/./app/globals.css":
/*!*************************!*\
  !*** ./app/globals.css ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (\"375642a16ee3\");\nif (false) {}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvZ2xvYmFscy5jc3MiLCJtYXBwaW5ncyI6Ijs7OztBQUFBLGlFQUFlLGNBQWM7QUFDN0IsSUFBSSxLQUFVLEVBQUUsRUFBdUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92aWJlY2FyZGluZy8uL2FwcC9nbG9iYWxzLmNzcz9iM2IxIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IFwiMzc1NjQyYTE2ZWUzXCJcbmlmIChtb2R1bGUuaG90KSB7IG1vZHVsZS5ob3QuYWNjZXB0KCkgfVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./app/globals.css\n");

/***/ }),

/***/ "(rsc)/./app/layout.tsx":
/*!************************!*\
  !*** ./app/layout.tsx ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ RootLayout),\n/* harmony export */   metadata: () => (/* binding */ metadata),\n/* harmony export */   viewport: () => (/* binding */ viewport)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/rsc/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_font_google_target_css_path_app_layout_tsx_import_Inter_arguments_subsets_latin_variableName_inter___WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! next/font/google/target.css?{\"path\":\"app/layout.tsx\",\"import\":\"Inter\",\"arguments\":[{\"subsets\":[\"latin\"]}],\"variableName\":\"inter\"} */ \"(rsc)/./node_modules/next/font/google/target.css?{\\\"path\\\":\\\"app/layout.tsx\\\",\\\"import\\\":\\\"Inter\\\",\\\"arguments\\\":[{\\\"subsets\\\":[\\\"latin\\\"]}],\\\"variableName\\\":\\\"inter\\\"}\");\n/* harmony import */ var next_font_google_target_css_path_app_layout_tsx_import_Inter_arguments_subsets_latin_variableName_inter___WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(next_font_google_target_css_path_app_layout_tsx_import_Inter_arguments_subsets_latin_variableName_inter___WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _globals_css__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./globals.css */ \"(rsc)/./app/globals.css\");\n/* harmony import */ var _components_theme_provider__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/components/theme-provider */ \"(rsc)/./components/theme-provider.tsx\");\n/* harmony import */ var _components_ui_sonner__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/components/ui/sonner */ \"(rsc)/./components/ui/sonner.tsx\");\n/* harmony import */ var _components_MobileDebugPanel__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/components/MobileDebugPanel */ \"(rsc)/./components/MobileDebugPanel.tsx\");\n\n\n\n\n\n\nconst metadata = {\n    title: \"VibeCarding - Create Beautiful Greeting Cards\",\n    description: \"Create personalized, beautiful greeting cards for any occasion. Design custom birthday cards, thank you cards, anniversary cards and more with VibeCarding.\",\n    keywords: \"greeting cards, birthday cards, thank you cards, anniversary cards, custom cards, personalized cards, card maker, card designer\",\n    authors: [\n        {\n            name: \"VibeCarding\"\n        }\n    ],\n    openGraph: {\n        title: \"VibeCarding - Create Beautiful Greeting Cards\",\n        description: \"Create personalized, beautiful greeting cards for any occasion. Design custom birthday cards, thank you cards, anniversary cards and more with VibeCarding.\",\n        url: \"https://vibecarding.com\",\n        siteName: \"VibeCarding\",\n        type: \"website\",\n        images: [\n            {\n                url: \"https://vibecarding.com/og-image.png\",\n                width: 1200,\n                height: 630,\n                alt: \"VibeCarding - Create Beautiful Greeting Cards\"\n            }\n        ]\n    },\n    twitter: {\n        card: \"summary_large_image\",\n        title: \"VibeCarding - Create Beautiful Greeting Cards\",\n        description: \"Create personalized, beautiful greeting cards for any occasion. Design custom birthday cards, thank you cards, anniversary cards and more with VibeCarding.\",\n        images: [\n            \"https://vibecarding.com/og-image.png\"\n        ],\n        creator: \"@vibecarding\"\n    },\n    robots: {\n        index: true,\n        follow: true\n    },\n    icons: {\n        icon: \"data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>\\uD83D\\uDC8C</text></svg>\"\n    }\n};\nconst viewport = {\n    width: \"device-width\",\n    initialScale: 1\n};\nfunction RootLayout({ children }) {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"html\", {\n        lang: \"en\",\n        suppressHydrationWarning: true,\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"head\", {\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"link\", {\n                        rel: \"preconnect\",\n                        href: \"https://fonts.googleapis.com\"\n                    }, void 0, false, {\n                        fileName: \"/var/www/flask_app/ast_chat/app/layout.tsx\",\n                        lineNumber: 59,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"link\", {\n                        rel: \"preconnect\",\n                        href: \"https://fonts.gstatic.com\",\n                        crossOrigin: \"anonymous\"\n                    }, void 0, false, {\n                        fileName: \"/var/www/flask_app/ast_chat/app/layout.tsx\",\n                        lineNumber: 60,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"link\", {\n                        href: \"https://fonts.googleapis.com/css2?family=Caveat:wght@400;500;600;700&family=Patrick+Hand&family=Kalam:wght@300;400;700&family=Architects+Daughter&family=Indie+Flower&family=Permanent+Marker&display=swap\",\n                        rel: \"stylesheet\"\n                    }, void 0, false, {\n                        fileName: \"/var/www/flask_app/ast_chat/app/layout.tsx\",\n                        lineNumber: 61,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/var/www/flask_app/ast_chat/app/layout.tsx\",\n                lineNumber: 58,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"body\", {\n                className: (next_font_google_target_css_path_app_layout_tsx_import_Inter_arguments_subsets_latin_variableName_inter___WEBPACK_IMPORTED_MODULE_5___default().className),\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_theme_provider__WEBPACK_IMPORTED_MODULE_2__.ThemeProvider, {\n                    attribute: \"class\",\n                    defaultTheme: \"dark\",\n                    enableSystem: true,\n                    disableTransitionOnChange: true,\n                    children: [\n                        children,\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_sonner__WEBPACK_IMPORTED_MODULE_3__.Toaster, {}, void 0, false, {\n                            fileName: \"/var/www/flask_app/ast_chat/app/layout.tsx\",\n                            lineNumber: 74,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_MobileDebugPanel__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {}, void 0, false, {\n                            fileName: \"/var/www/flask_app/ast_chat/app/layout.tsx\",\n                            lineNumber: 75,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/var/www/flask_app/ast_chat/app/layout.tsx\",\n                    lineNumber: 67,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/var/www/flask_app/ast_chat/app/layout.tsx\",\n                lineNumber: 66,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/var/www/flask_app/ast_chat/app/layout.tsx\",\n        lineNumber: 57,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvbGF5b3V0LnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFPTUE7QUFMaUI7QUFDcUM7QUFDWDtBQUNZO0FBSXRELE1BQU1JLFdBQXFCO0lBQ2hDQyxPQUFPO0lBQ1BDLGFBQWE7SUFDYkMsVUFBVTtJQUNWQyxTQUFTO1FBQUM7WUFBRUMsTUFBTTtRQUFjO0tBQUU7SUFDbENDLFdBQVc7UUFDVEwsT0FBTztRQUNQQyxhQUFhO1FBQ2JLLEtBQUs7UUFDTEMsVUFBVTtRQUNWQyxNQUFNO1FBQ05DLFFBQVE7WUFDTjtnQkFDRUgsS0FBSztnQkFDTEksT0FBTztnQkFDUEMsUUFBUTtnQkFDUkMsS0FBSztZQUNQO1NBQ0Q7SUFDSDtJQUNBQyxTQUFTO1FBQ1BDLE1BQU07UUFDTmQsT0FBTztRQUNQQyxhQUFhO1FBQ2JRLFFBQVE7WUFBQztTQUF1QztRQUNoRE0sU0FBUztJQUNYO0lBQ0FDLFFBQVE7UUFDTkMsT0FBTztRQUNQQyxRQUFRO0lBQ1Y7SUFDQUMsT0FBTztRQUNMQyxNQUFNO0lBQ1I7QUFDRixFQUFFO0FBRUssTUFBTUMsV0FBcUI7SUFDaENYLE9BQU87SUFDUFksY0FBYztBQUNoQixFQUFFO0FBRWEsU0FBU0MsV0FBVyxFQUNqQ0MsUUFBUSxFQUdSO0lBQ0EscUJBQ0UsOERBQUNDO1FBQUtDLE1BQUs7UUFBS0Msd0JBQXdCOzswQkFDdEMsOERBQUNDOztrQ0FDQyw4REFBQ0M7d0JBQUtDLEtBQUk7d0JBQWFDLE1BQUs7Ozs7OztrQ0FDNUIsOERBQUNGO3dCQUFLQyxLQUFJO3dCQUFhQyxNQUFLO3dCQUE0QkMsYUFBWTs7Ozs7O2tDQUNwRSw4REFBQ0g7d0JBQ0NFLE1BQUs7d0JBQ0xELEtBQUk7Ozs7Ozs7Ozs7OzswQkFHUiw4REFBQ0c7Z0JBQUtDLFdBQVd2QywySkFBZTswQkFDOUIsNEVBQUNDLHFFQUFhQTtvQkFDWnVDLFdBQVU7b0JBQ1ZDLGNBQWE7b0JBQ2JDLFlBQVk7b0JBQ1pDLHlCQUF5Qjs7d0JBRXhCZDtzQ0FDRCw4REFBQzNCLDBEQUFPQTs7Ozs7c0NBQ1IsOERBQUNDLG9FQUFnQkE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFLM0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92aWJlY2FyZGluZy8uL2FwcC9sYXlvdXQudHN4Pzk5ODgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHR5cGUgeyBNZXRhZGF0YSwgVmlld3BvcnQgfSBmcm9tIFwibmV4dFwiO1xuaW1wb3J0IHsgSW50ZXIgfSBmcm9tIFwibmV4dC9mb250L2dvb2dsZVwiO1xuaW1wb3J0IFwiLi9nbG9iYWxzLmNzc1wiO1xuaW1wb3J0IHsgVGhlbWVQcm92aWRlciB9IGZyb20gXCJAL2NvbXBvbmVudHMvdGhlbWUtcHJvdmlkZXJcIjtcbmltcG9ydCB7IFRvYXN0ZXIgfSBmcm9tIFwiQC9jb21wb25lbnRzL3VpL3Nvbm5lclwiO1xuaW1wb3J0IE1vYmlsZURlYnVnUGFuZWwgZnJvbSBcIkAvY29tcG9uZW50cy9Nb2JpbGVEZWJ1Z1BhbmVsXCI7XG5cbmNvbnN0IGludGVyID0gSW50ZXIoeyBzdWJzZXRzOiBbXCJsYXRpblwiXSB9KTtcblxuZXhwb3J0IGNvbnN0IG1ldGFkYXRhOiBNZXRhZGF0YSA9IHtcbiAgdGl0bGU6IFwiVmliZUNhcmRpbmcgLSBDcmVhdGUgQmVhdXRpZnVsIEdyZWV0aW5nIENhcmRzXCIsXG4gIGRlc2NyaXB0aW9uOiBcIkNyZWF0ZSBwZXJzb25hbGl6ZWQsIGJlYXV0aWZ1bCBncmVldGluZyBjYXJkcyBmb3IgYW55IG9jY2FzaW9uLiBEZXNpZ24gY3VzdG9tIGJpcnRoZGF5IGNhcmRzLCB0aGFuayB5b3UgY2FyZHMsIGFubml2ZXJzYXJ5IGNhcmRzIGFuZCBtb3JlIHdpdGggVmliZUNhcmRpbmcuXCIsXG4gIGtleXdvcmRzOiBcImdyZWV0aW5nIGNhcmRzLCBiaXJ0aGRheSBjYXJkcywgdGhhbmsgeW91IGNhcmRzLCBhbm5pdmVyc2FyeSBjYXJkcywgY3VzdG9tIGNhcmRzLCBwZXJzb25hbGl6ZWQgY2FyZHMsIGNhcmQgbWFrZXIsIGNhcmQgZGVzaWduZXJcIixcbiAgYXV0aG9yczogW3sgbmFtZTogXCJWaWJlQ2FyZGluZ1wiIH1dLFxuICBvcGVuR3JhcGg6IHtcbiAgICB0aXRsZTogXCJWaWJlQ2FyZGluZyAtIENyZWF0ZSBCZWF1dGlmdWwgR3JlZXRpbmcgQ2FyZHNcIixcbiAgICBkZXNjcmlwdGlvbjogXCJDcmVhdGUgcGVyc29uYWxpemVkLCBiZWF1dGlmdWwgZ3JlZXRpbmcgY2FyZHMgZm9yIGFueSBvY2Nhc2lvbi4gRGVzaWduIGN1c3RvbSBiaXJ0aGRheSBjYXJkcywgdGhhbmsgeW91IGNhcmRzLCBhbm5pdmVyc2FyeSBjYXJkcyBhbmQgbW9yZSB3aXRoIFZpYmVDYXJkaW5nLlwiLFxuICAgIHVybDogXCJodHRwczovL3ZpYmVjYXJkaW5nLmNvbVwiLFxuICAgIHNpdGVOYW1lOiBcIlZpYmVDYXJkaW5nXCIsXG4gICAgdHlwZTogXCJ3ZWJzaXRlXCIsXG4gICAgaW1hZ2VzOiBbXG4gICAgICB7XG4gICAgICAgIHVybDogXCJodHRwczovL3ZpYmVjYXJkaW5nLmNvbS9vZy1pbWFnZS5wbmdcIiwgLy8gWW91J2xsIG5lZWQgdG8gYWRkIHRoaXMgaW1hZ2VcbiAgICAgICAgd2lkdGg6IDEyMDAsXG4gICAgICAgIGhlaWdodDogNjMwLFxuICAgICAgICBhbHQ6IFwiVmliZUNhcmRpbmcgLSBDcmVhdGUgQmVhdXRpZnVsIEdyZWV0aW5nIENhcmRzXCIsXG4gICAgICB9LFxuICAgIF0sXG4gIH0sXG4gIHR3aXR0ZXI6IHtcbiAgICBjYXJkOiBcInN1bW1hcnlfbGFyZ2VfaW1hZ2VcIixcbiAgICB0aXRsZTogXCJWaWJlQ2FyZGluZyAtIENyZWF0ZSBCZWF1dGlmdWwgR3JlZXRpbmcgQ2FyZHNcIixcbiAgICBkZXNjcmlwdGlvbjogXCJDcmVhdGUgcGVyc29uYWxpemVkLCBiZWF1dGlmdWwgZ3JlZXRpbmcgY2FyZHMgZm9yIGFueSBvY2Nhc2lvbi4gRGVzaWduIGN1c3RvbSBiaXJ0aGRheSBjYXJkcywgdGhhbmsgeW91IGNhcmRzLCBhbm5pdmVyc2FyeSBjYXJkcyBhbmQgbW9yZSB3aXRoIFZpYmVDYXJkaW5nLlwiLFxuICAgIGltYWdlczogW1wiaHR0cHM6Ly92aWJlY2FyZGluZy5jb20vb2ctaW1hZ2UucG5nXCJdLCAvLyBZb3UnbGwgbmVlZCB0byBhZGQgdGhpcyBpbWFnZVxuICAgIGNyZWF0b3I6IFwiQHZpYmVjYXJkaW5nXCIsXG4gIH0sXG4gIHJvYm90czoge1xuICAgIGluZGV4OiB0cnVlLFxuICAgIGZvbGxvdzogdHJ1ZSxcbiAgfSxcbiAgaWNvbnM6IHtcbiAgICBpY29uOiBcImRhdGE6aW1hZ2Uvc3ZnK3htbCw8c3ZnIHhtbG5zPSUyMmh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJTIyIHZpZXdCb3g9JTIyMCAwIDEwMCAxMDAlMjI+PHRleHQgeT0lMjIuOWVtJTIyIGZvbnQtc2l6ZT0lMjI5MCUyMj7wn5KMPC90ZXh0Pjwvc3ZnPlwiLFxuICB9LFxufTtcblxuZXhwb3J0IGNvbnN0IHZpZXdwb3J0OiBWaWV3cG9ydCA9IHtcbiAgd2lkdGg6IFwiZGV2aWNlLXdpZHRoXCIsXG4gIGluaXRpYWxTY2FsZTogMSxcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFJvb3RMYXlvdXQoe1xuICBjaGlsZHJlbixcbn06IFJlYWRvbmx5PHtcbiAgY2hpbGRyZW46IFJlYWN0LlJlYWN0Tm9kZTtcbn0+KSB7XG4gIHJldHVybiAoXG4gICAgPGh0bWwgbGFuZz1cImVuXCIgc3VwcHJlc3NIeWRyYXRpb25XYXJuaW5nPlxuICAgICAgPGhlYWQ+XG4gICAgICAgIDxsaW5rIHJlbD1cInByZWNvbm5lY3RcIiBocmVmPVwiaHR0cHM6Ly9mb250cy5nb29nbGVhcGlzLmNvbVwiIC8+XG4gICAgICAgIDxsaW5rIHJlbD1cInByZWNvbm5lY3RcIiBocmVmPVwiaHR0cHM6Ly9mb250cy5nc3RhdGljLmNvbVwiIGNyb3NzT3JpZ2luPVwiYW5vbnltb3VzXCIgLz5cbiAgICAgICAgPGxpbmsgXG4gICAgICAgICAgaHJlZj1cImh0dHBzOi8vZm9udHMuZ29vZ2xlYXBpcy5jb20vY3NzMj9mYW1pbHk9Q2F2ZWF0OndnaHRANDAwOzUwMDs2MDA7NzAwJmZhbWlseT1QYXRyaWNrK0hhbmQmZmFtaWx5PUthbGFtOndnaHRAMzAwOzQwMDs3MDAmZmFtaWx5PUFyY2hpdGVjdHMrRGF1Z2h0ZXImZmFtaWx5PUluZGllK0Zsb3dlciZmYW1pbHk9UGVybWFuZW50K01hcmtlciZkaXNwbGF5PXN3YXBcIiBcbiAgICAgICAgICByZWw9XCJzdHlsZXNoZWV0XCIgXG4gICAgICAgIC8+XG4gICAgICA8L2hlYWQ+XG4gICAgICA8Ym9keSBjbGFzc05hbWU9e2ludGVyLmNsYXNzTmFtZX0+XG4gICAgICAgIDxUaGVtZVByb3ZpZGVyXG4gICAgICAgICAgYXR0cmlidXRlPVwiY2xhc3NcIlxuICAgICAgICAgIGRlZmF1bHRUaGVtZT1cImRhcmtcIlxuICAgICAgICAgIGVuYWJsZVN5c3RlbVxuICAgICAgICAgIGRpc2FibGVUcmFuc2l0aW9uT25DaGFuZ2VcbiAgICAgICAgPlxuICAgICAgICAgIHtjaGlsZHJlbn1cbiAgICAgICAgICA8VG9hc3RlciAvPlxuICAgICAgICAgIDxNb2JpbGVEZWJ1Z1BhbmVsIC8+XG4gICAgICAgIDwvVGhlbWVQcm92aWRlcj5cbiAgICAgIDwvYm9keT5cbiAgICA8L2h0bWw+XG4gICk7XG59ICJdLCJuYW1lcyI6WyJpbnRlciIsIlRoZW1lUHJvdmlkZXIiLCJUb2FzdGVyIiwiTW9iaWxlRGVidWdQYW5lbCIsIm1ldGFkYXRhIiwidGl0bGUiLCJkZXNjcmlwdGlvbiIsImtleXdvcmRzIiwiYXV0aG9ycyIsIm5hbWUiLCJvcGVuR3JhcGgiLCJ1cmwiLCJzaXRlTmFtZSIsInR5cGUiLCJpbWFnZXMiLCJ3aWR0aCIsImhlaWdodCIsImFsdCIsInR3aXR0ZXIiLCJjYXJkIiwiY3JlYXRvciIsInJvYm90cyIsImluZGV4IiwiZm9sbG93IiwiaWNvbnMiLCJpY29uIiwidmlld3BvcnQiLCJpbml0aWFsU2NhbGUiLCJSb290TGF5b3V0IiwiY2hpbGRyZW4iLCJodG1sIiwibGFuZyIsInN1cHByZXNzSHlkcmF0aW9uV2FybmluZyIsImhlYWQiLCJsaW5rIiwicmVsIiwiaHJlZiIsImNyb3NzT3JpZ2luIiwiYm9keSIsImNsYXNzTmFtZSIsImF0dHJpYnV0ZSIsImRlZmF1bHRUaGVtZSIsImVuYWJsZVN5c3RlbSIsImRpc2FibGVUcmFuc2l0aW9uT25DaGFuZ2UiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./app/layout.tsx\n");

/***/ }),

/***/ "(rsc)/./app/wizard/page.tsx":
/*!*****************************!*\
  !*** ./app/wizard/page.tsx ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var next_dist_build_webpack_loaders_next_flight_loader_module_proxy__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/build/webpack/loaders/next-flight-loader/module-proxy */ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-loader/module-proxy.js");

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_webpack_loaders_next_flight_loader_module_proxy__WEBPACK_IMPORTED_MODULE_0__.createProxy)(String.raw`/var/www/flask_app/ast_chat/app/wizard/page.tsx#default`));


/***/ }),

/***/ "(rsc)/./components/MobileDebugPanel.tsx":
/*!*****************************************!*\
  !*** ./components/MobileDebugPanel.tsx ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var next_dist_build_webpack_loaders_next_flight_loader_module_proxy__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/build/webpack/loaders/next-flight-loader/module-proxy */ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-loader/module-proxy.js");

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_webpack_loaders_next_flight_loader_module_proxy__WEBPACK_IMPORTED_MODULE_0__.createProxy)(String.raw`/var/www/flask_app/ast_chat/components/MobileDebugPanel.tsx#default`));


/***/ }),

/***/ "(rsc)/./components/theme-provider.tsx":
/*!***************************************!*\
  !*** ./components/theme-provider.tsx ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ThemeProvider: () => (/* binding */ e0)
/* harmony export */ });
/* harmony import */ var next_dist_build_webpack_loaders_next_flight_loader_module_proxy__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/build/webpack/loaders/next-flight-loader/module-proxy */ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-loader/module-proxy.js");


const e0 = (0,next_dist_build_webpack_loaders_next_flight_loader_module_proxy__WEBPACK_IMPORTED_MODULE_0__.createProxy)(String.raw`/var/www/flask_app/ast_chat/components/theme-provider.tsx#ThemeProvider`);


/***/ }),

/***/ "(rsc)/./components/ui/sonner.tsx":
/*!**********************************!*\
  !*** ./components/ui/sonner.tsx ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Toaster: () => (/* binding */ e0)
/* harmony export */ });
/* harmony import */ var next_dist_build_webpack_loaders_next_flight_loader_module_proxy__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/build/webpack/loaders/next-flight-loader/module-proxy */ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-loader/module-proxy.js");


const e0 = (0,next_dist_build_webpack_loaders_next_flight_loader_module_proxy__WEBPACK_IMPORTED_MODULE_0__.createProxy)(String.raw`/var/www/flask_app/ast_chat/components/ui/sonner.tsx#Toaster`);


/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/sonner","vendor-chunks/lucide-react","vendor-chunks/next-themes","vendor-chunks/@swc","vendor-chunks/@radix-ui","vendor-chunks/framer-motion","vendor-chunks/motion-dom","vendor-chunks/ws","vendor-chunks/@floating-ui","vendor-chunks/engine.io-client","vendor-chunks/tailwind-merge","vendor-chunks/socket.io-client","vendor-chunks/socket.io-parser","vendor-chunks/xmlhttprequest-ssl","vendor-chunks/tslib","vendor-chunks/react-remove-scroll","vendor-chunks/motion-utils","vendor-chunks/engine.io-parser","vendor-chunks/aria-hidden","vendor-chunks/react-remove-scroll-bar","vendor-chunks/use-callback-ref","vendor-chunks/@socket.io","vendor-chunks/use-sidecar","vendor-chunks/class-variance-authority","vendor-chunks/ms","vendor-chunks/supports-color","vendor-chunks/uuid","vendor-chunks/react-style-singleton","vendor-chunks/clsx","vendor-chunks/has-flag","vendor-chunks/get-nonce"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fwizard%2Fpage&page=%2Fwizard%2Fpage&appPaths=%2Fwizard%2Fpage&pagePath=private-next-app-dir%2Fwizard%2Fpage.tsx&appDir=%2Fvar%2Fwww%2Fflask_app%2Fast_chat%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fvar%2Fwww%2Fflask_app%2Fast_chat&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();