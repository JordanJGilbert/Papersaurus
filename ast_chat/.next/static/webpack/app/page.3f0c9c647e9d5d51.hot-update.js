"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/page",{

/***/ "(app-pages-browser)/./app/page.tsx":
/*!**********************!*\
  !*** ./app/page.tsx ***!
  \**********************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ CardStudioPage; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _components_ui_button__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/components/ui/button */ \"(app-pages-browser)/./components/ui/button.tsx\");\n/* harmony import */ var _components_ui_input__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/components/ui/input */ \"(app-pages-browser)/./components/ui/input.tsx\");\n/* harmony import */ var _components_ui_textarea__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/components/ui/textarea */ \"(app-pages-browser)/./components/ui/textarea.tsx\");\n/* harmony import */ var _components_ui_card__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/components/ui/card */ \"(app-pages-browser)/./components/ui/card.tsx\");\n/* harmony import */ var _components_ui_badge__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/components/ui/badge */ \"(app-pages-browser)/./components/ui/badge.tsx\");\n/* harmony import */ var _components_ui_separator__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @/components/ui/separator */ \"(app-pages-browser)/./components/ui/separator.tsx\");\n/* harmony import */ var _components_ui_select__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @/components/ui/select */ \"(app-pages-browser)/./components/ui/select.tsx\");\n/* harmony import */ var _components_ui_collapsible__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @/components/ui/collapsible */ \"(app-pages-browser)/./components/ui/collapsible.tsx\");\n/* harmony import */ var _components_ui_popover__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @/components/ui/popover */ \"(app-pages-browser)/./components/ui/popover.tsx\");\n/* harmony import */ var _components_ui_dialog__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @/components/ui/dialog */ \"(app-pages-browser)/./components/ui/dialog.tsx\");\n/* harmony import */ var _barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! __barrel_optimize__?names=AlertTriangle,ArrowLeft,Baby,Cake,CheckCircle,ChevronDown,Church,Clock,CloudRain,Eye,Gift,GraduationCap,Heart,Home,Image,MessageCircle,MessageSquare,MessageSquarePlus,Palette,Printer,Redo2,RefreshCw,Settings,Settings2,Sparkles,Stethoscope,ThumbsUp,TreePine,Trophy,Undo2,Upload,Wand2,Wrench,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/wrench.js\");\n/* harmony import */ var _barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! __barrel_optimize__?names=AlertTriangle,ArrowLeft,Baby,Cake,CheckCircle,ChevronDown,Church,Clock,CloudRain,Eye,Gift,GraduationCap,Heart,Home,Image,MessageCircle,MessageSquare,MessageSquarePlus,Palette,Printer,Redo2,RefreshCw,Settings,Settings2,Sparkles,Stethoscope,ThumbsUp,TreePine,Trophy,Undo2,Upload,Wand2,Wrench,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/cake.js\");\n/* harmony import */ var _barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! __barrel_optimize__?names=AlertTriangle,ArrowLeft,Baby,Cake,CheckCircle,ChevronDown,Church,Clock,CloudRain,Eye,Gift,GraduationCap,Heart,Home,Image,MessageCircle,MessageSquare,MessageSquarePlus,Palette,Printer,Redo2,RefreshCw,Settings,Settings2,Sparkles,Stethoscope,ThumbsUp,TreePine,Trophy,Undo2,Upload,Wand2,Wrench,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/thumbs-up.js\");\n/* harmony import */ var _barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! __barrel_optimize__?names=AlertTriangle,ArrowLeft,Baby,Cake,CheckCircle,ChevronDown,Church,Clock,CloudRain,Eye,Gift,GraduationCap,Heart,Home,Image,MessageCircle,MessageSquare,MessageSquarePlus,Palette,Printer,Redo2,RefreshCw,Settings,Settings2,Sparkles,Stethoscope,ThumbsUp,TreePine,Trophy,Undo2,Upload,Wand2,Wrench,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/heart.js\");\n/* harmony import */ var _barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! __barrel_optimize__?names=AlertTriangle,ArrowLeft,Baby,Cake,CheckCircle,ChevronDown,Church,Clock,CloudRain,Eye,Gift,GraduationCap,Heart,Home,Image,MessageCircle,MessageSquare,MessageSquarePlus,Palette,Printer,Redo2,RefreshCw,Settings,Settings2,Sparkles,Stethoscope,ThumbsUp,TreePine,Trophy,Undo2,Upload,Wand2,Wrench,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/trophy.js\");\n/* harmony import */ var _barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! __barrel_optimize__?names=AlertTriangle,ArrowLeft,Baby,Cake,CheckCircle,ChevronDown,Church,Clock,CloudRain,Eye,Gift,GraduationCap,Heart,Home,Image,MessageCircle,MessageSquare,MessageSquarePlus,Palette,Printer,Redo2,RefreshCw,Settings,Settings2,Sparkles,Stethoscope,ThumbsUp,TreePine,Trophy,Undo2,Upload,Wand2,Wrench,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/tree-pine.js\");\n/* harmony import */ var _barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! __barrel_optimize__?names=AlertTriangle,ArrowLeft,Baby,Cake,CheckCircle,ChevronDown,Church,Clock,CloudRain,Eye,Gift,GraduationCap,Heart,Home,Image,MessageCircle,MessageSquare,MessageSquarePlus,Palette,Printer,Redo2,RefreshCw,Settings,Settings2,Sparkles,Stethoscope,ThumbsUp,TreePine,Trophy,Undo2,Upload,Wand2,Wrench,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/stethoscope.js\");\n/* harmony import */ var _barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! __barrel_optimize__?names=AlertTriangle,ArrowLeft,Baby,Cake,CheckCircle,ChevronDown,Church,Clock,CloudRain,Eye,Gift,GraduationCap,Heart,Home,Image,MessageCircle,MessageSquare,MessageSquarePlus,Palette,Printer,Redo2,RefreshCw,Settings,Settings2,Sparkles,Stethoscope,ThumbsUp,TreePine,Trophy,Undo2,Upload,Wand2,Wrench,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/cloud-rain.js\");\n/* harmony import */ var _barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! __barrel_optimize__?names=AlertTriangle,ArrowLeft,Baby,Cake,CheckCircle,ChevronDown,Church,Clock,CloudRain,Eye,Gift,GraduationCap,Heart,Home,Image,MessageCircle,MessageSquare,MessageSquarePlus,Palette,Printer,Redo2,RefreshCw,Settings,Settings2,Sparkles,Stethoscope,ThumbsUp,TreePine,Trophy,Undo2,Upload,Wand2,Wrench,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/graduation-cap.js\");\n/* harmony import */ var _barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! __barrel_optimize__?names=AlertTriangle,ArrowLeft,Baby,Cake,CheckCircle,ChevronDown,Church,Clock,CloudRain,Eye,Gift,GraduationCap,Heart,Home,Image,MessageCircle,MessageSquare,MessageSquarePlus,Palette,Printer,Redo2,RefreshCw,Settings,Settings2,Sparkles,Stethoscope,ThumbsUp,TreePine,Trophy,Undo2,Upload,Wand2,Wrench,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/baby.js\");\n/* harmony import */ var _barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! __barrel_optimize__?names=AlertTriangle,ArrowLeft,Baby,Cake,CheckCircle,ChevronDown,Church,Clock,CloudRain,Eye,Gift,GraduationCap,Heart,Home,Image,MessageCircle,MessageSquare,MessageSquarePlus,Palette,Printer,Redo2,RefreshCw,Settings,Settings2,Sparkles,Stethoscope,ThumbsUp,TreePine,Trophy,Undo2,Upload,Wand2,Wrench,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/church.js\");\n/* harmony import */ var _barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! __barrel_optimize__?names=AlertTriangle,ArrowLeft,Baby,Cake,CheckCircle,ChevronDown,Church,Clock,CloudRain,Eye,Gift,GraduationCap,Heart,Home,Image,MessageCircle,MessageSquare,MessageSquarePlus,Palette,Printer,Redo2,RefreshCw,Settings,Settings2,Sparkles,Stethoscope,ThumbsUp,TreePine,Trophy,Undo2,Upload,Wand2,Wrench,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/gift.js\");\n/* harmony import */ var _barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! __barrel_optimize__?names=AlertTriangle,ArrowLeft,Baby,Cake,CheckCircle,ChevronDown,Church,Clock,CloudRain,Eye,Gift,GraduationCap,Heart,Home,Image,MessageCircle,MessageSquare,MessageSquarePlus,Palette,Printer,Redo2,RefreshCw,Settings,Settings2,Sparkles,Stethoscope,ThumbsUp,TreePine,Trophy,Undo2,Upload,Wand2,Wrench,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/home.js\");\n/* harmony import */ var _barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! __barrel_optimize__?names=AlertTriangle,ArrowLeft,Baby,Cake,CheckCircle,ChevronDown,Church,Clock,CloudRain,Eye,Gift,GraduationCap,Heart,Home,Image,MessageCircle,MessageSquare,MessageSquarePlus,Palette,Printer,Redo2,RefreshCw,Settings,Settings2,Sparkles,Stethoscope,ThumbsUp,TreePine,Trophy,Undo2,Upload,Wand2,Wrench,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/message-circle.js\");\n/* harmony import */ var _barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! __barrel_optimize__?names=AlertTriangle,ArrowLeft,Baby,Cake,CheckCircle,ChevronDown,Church,Clock,CloudRain,Eye,Gift,GraduationCap,Heart,Home,Image,MessageCircle,MessageSquare,MessageSquarePlus,Palette,Printer,Redo2,RefreshCw,Settings,Settings2,Sparkles,Stethoscope,ThumbsUp,TreePine,Trophy,Undo2,Upload,Wand2,Wrench,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/eye.js\");\n/* harmony import */ var _barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! __barrel_optimize__?names=AlertTriangle,ArrowLeft,Baby,Cake,CheckCircle,ChevronDown,Church,Clock,CloudRain,Eye,Gift,GraduationCap,Heart,Home,Image,MessageCircle,MessageSquare,MessageSquarePlus,Palette,Printer,Redo2,RefreshCw,Settings,Settings2,Sparkles,Stethoscope,ThumbsUp,TreePine,Trophy,Undo2,Upload,Wand2,Wrench,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/arrow-left.js\");\n/* harmony import */ var _barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! __barrel_optimize__?names=AlertTriangle,ArrowLeft,Baby,Cake,CheckCircle,ChevronDown,Church,Clock,CloudRain,Eye,Gift,GraduationCap,Heart,Home,Image,MessageCircle,MessageSquare,MessageSquarePlus,Palette,Printer,Redo2,RefreshCw,Settings,Settings2,Sparkles,Stethoscope,ThumbsUp,TreePine,Trophy,Undo2,Upload,Wand2,Wrench,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/sparkles.js\");\n/* harmony import */ var _barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(/*! __barrel_optimize__?names=AlertTriangle,ArrowLeft,Baby,Cake,CheckCircle,ChevronDown,Church,Clock,CloudRain,Eye,Gift,GraduationCap,Heart,Home,Image,MessageCircle,MessageSquare,MessageSquarePlus,Palette,Printer,Redo2,RefreshCw,Settings,Settings2,Sparkles,Stethoscope,ThumbsUp,TreePine,Trophy,Undo2,Upload,Wand2,Wrench,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/settings-2.js\");\n/* harmony import */ var _barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_40__ = __webpack_require__(/*! __barrel_optimize__?names=AlertTriangle,ArrowLeft,Baby,Cake,CheckCircle,ChevronDown,Church,Clock,CloudRain,Eye,Gift,GraduationCap,Heart,Home,Image,MessageCircle,MessageSquare,MessageSquarePlus,Palette,Printer,Redo2,RefreshCw,Settings,Settings2,Sparkles,Stethoscope,ThumbsUp,TreePine,Trophy,Undo2,Upload,Wand2,Wrench,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/clock.js\");\n/* harmony import */ var _barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_41__ = __webpack_require__(/*! __barrel_optimize__?names=AlertTriangle,ArrowLeft,Baby,Cake,CheckCircle,ChevronDown,Church,Clock,CloudRain,Eye,Gift,GraduationCap,Heart,Home,Image,MessageCircle,MessageSquare,MessageSquarePlus,Palette,Printer,Redo2,RefreshCw,Settings,Settings2,Sparkles,Stethoscope,ThumbsUp,TreePine,Trophy,Undo2,Upload,Wand2,Wrench,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/chevron-down.js\");\n/* harmony import */ var _barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_42__ = __webpack_require__(/*! __barrel_optimize__?names=AlertTriangle,ArrowLeft,Baby,Cake,CheckCircle,ChevronDown,Church,Clock,CloudRain,Eye,Gift,GraduationCap,Heart,Home,Image,MessageCircle,MessageSquare,MessageSquarePlus,Palette,Printer,Redo2,RefreshCw,Settings,Settings2,Sparkles,Stethoscope,ThumbsUp,TreePine,Trophy,Undo2,Upload,Wand2,Wrench,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/message-square-plus.js\");\n/* harmony import */ var _barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_43__ = __webpack_require__(/*! __barrel_optimize__?names=AlertTriangle,ArrowLeft,Baby,Cake,CheckCircle,ChevronDown,Church,Clock,CloudRain,Eye,Gift,GraduationCap,Heart,Home,Image,MessageCircle,MessageSquare,MessageSquarePlus,Palette,Printer,Redo2,RefreshCw,Settings,Settings2,Sparkles,Stethoscope,ThumbsUp,TreePine,Trophy,Undo2,Upload,Wand2,Wrench,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/undo-2.js\");\n/* harmony import */ var _barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_44__ = __webpack_require__(/*! __barrel_optimize__?names=AlertTriangle,ArrowLeft,Baby,Cake,CheckCircle,ChevronDown,Church,Clock,CloudRain,Eye,Gift,GraduationCap,Heart,Home,Image,MessageCircle,MessageSquare,MessageSquarePlus,Palette,Printer,Redo2,RefreshCw,Settings,Settings2,Sparkles,Stethoscope,ThumbsUp,TreePine,Trophy,Undo2,Upload,Wand2,Wrench,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/redo-2.js\");\n/* harmony import */ var _barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_45__ = __webpack_require__(/*! __barrel_optimize__?names=AlertTriangle,ArrowLeft,Baby,Cake,CheckCircle,ChevronDown,Church,Clock,CloudRain,Eye,Gift,GraduationCap,Heart,Home,Image,MessageCircle,MessageSquare,MessageSquarePlus,Palette,Printer,Redo2,RefreshCw,Settings,Settings2,Sparkles,Stethoscope,ThumbsUp,TreePine,Trophy,Undo2,Upload,Wand2,Wrench,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/refresh-cw.js\");\n/* harmony import */ var _barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_46__ = __webpack_require__(/*! __barrel_optimize__?names=AlertTriangle,ArrowLeft,Baby,Cake,CheckCircle,ChevronDown,Church,Clock,CloudRain,Eye,Gift,GraduationCap,Heart,Home,Image,MessageCircle,MessageSquare,MessageSquarePlus,Palette,Printer,Redo2,RefreshCw,Settings,Settings2,Sparkles,Stethoscope,ThumbsUp,TreePine,Trophy,Undo2,Upload,Wand2,Wrench,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/x.js\");\n/* harmony import */ var _barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_47__ = __webpack_require__(/*! __barrel_optimize__?names=AlertTriangle,ArrowLeft,Baby,Cake,CheckCircle,ChevronDown,Church,Clock,CloudRain,Eye,Gift,GraduationCap,Heart,Home,Image,MessageCircle,MessageSquare,MessageSquarePlus,Palette,Printer,Redo2,RefreshCw,Settings,Settings2,Sparkles,Stethoscope,ThumbsUp,TreePine,Trophy,Undo2,Upload,Wand2,Wrench,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/wand-sparkles.js\");\n/* harmony import */ var _barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_48__ = __webpack_require__(/*! __barrel_optimize__?names=AlertTriangle,ArrowLeft,Baby,Cake,CheckCircle,ChevronDown,Church,Clock,CloudRain,Eye,Gift,GraduationCap,Heart,Home,Image,MessageCircle,MessageSquare,MessageSquarePlus,Palette,Printer,Redo2,RefreshCw,Settings,Settings2,Sparkles,Stethoscope,ThumbsUp,TreePine,Trophy,Undo2,Upload,Wand2,Wrench,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/settings.js\");\n/* harmony import */ var _barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_49__ = __webpack_require__(/*! __barrel_optimize__?names=AlertTriangle,ArrowLeft,Baby,Cake,CheckCircle,ChevronDown,Church,Clock,CloudRain,Eye,Gift,GraduationCap,Heart,Home,Image,MessageCircle,MessageSquare,MessageSquarePlus,Palette,Printer,Redo2,RefreshCw,Settings,Settings2,Sparkles,Stethoscope,ThumbsUp,TreePine,Trophy,Undo2,Upload,Wand2,Wrench,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/palette.js\");\n/* harmony import */ var _barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_50__ = __webpack_require__(/*! __barrel_optimize__?names=AlertTriangle,ArrowLeft,Baby,Cake,CheckCircle,ChevronDown,Church,Clock,CloudRain,Eye,Gift,GraduationCap,Heart,Home,Image,MessageCircle,MessageSquare,MessageSquarePlus,Palette,Printer,Redo2,RefreshCw,Settings,Settings2,Sparkles,Stethoscope,ThumbsUp,TreePine,Trophy,Undo2,Upload,Wand2,Wrench,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/circle-check-big.js\");\n/* harmony import */ var _barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_51__ = __webpack_require__(/*! __barrel_optimize__?names=AlertTriangle,ArrowLeft,Baby,Cake,CheckCircle,ChevronDown,Church,Clock,CloudRain,Eye,Gift,GraduationCap,Heart,Home,Image,MessageCircle,MessageSquare,MessageSquarePlus,Palette,Printer,Redo2,RefreshCw,Settings,Settings2,Sparkles,Stethoscope,ThumbsUp,TreePine,Trophy,Undo2,Upload,Wand2,Wrench,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/upload.js\");\n/* harmony import */ var _barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_52__ = __webpack_require__(/*! __barrel_optimize__?names=AlertTriangle,ArrowLeft,Baby,Cake,CheckCircle,ChevronDown,Church,Clock,CloudRain,Eye,Gift,GraduationCap,Heart,Home,Image,MessageCircle,MessageSquare,MessageSquarePlus,Palette,Printer,Redo2,RefreshCw,Settings,Settings2,Sparkles,Stethoscope,ThumbsUp,TreePine,Trophy,Undo2,Upload,Wand2,Wrench,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/image.js\");\n/* harmony import */ var _barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_53__ = __webpack_require__(/*! __barrel_optimize__?names=AlertTriangle,ArrowLeft,Baby,Cake,CheckCircle,ChevronDown,Church,Clock,CloudRain,Eye,Gift,GraduationCap,Heart,Home,Image,MessageCircle,MessageSquare,MessageSquarePlus,Palette,Printer,Redo2,RefreshCw,Settings,Settings2,Sparkles,Stethoscope,ThumbsUp,TreePine,Trophy,Undo2,Upload,Wand2,Wrench,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/message-square.js\");\n/* harmony import */ var _barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_54__ = __webpack_require__(/*! __barrel_optimize__?names=AlertTriangle,ArrowLeft,Baby,Cake,CheckCircle,ChevronDown,Church,Clock,CloudRain,Eye,Gift,GraduationCap,Heart,Home,Image,MessageCircle,MessageSquare,MessageSquarePlus,Palette,Printer,Redo2,RefreshCw,Settings,Settings2,Sparkles,Stethoscope,ThumbsUp,TreePine,Trophy,Undo2,Upload,Wand2,Wrench,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/triangle-alert.js\");\n/* harmony import */ var _barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_55__ = __webpack_require__(/*! __barrel_optimize__?names=AlertTriangle,ArrowLeft,Baby,Cake,CheckCircle,ChevronDown,Church,Clock,CloudRain,Eye,Gift,GraduationCap,Heart,Home,Image,MessageCircle,MessageSquare,MessageSquarePlus,Palette,Printer,Redo2,RefreshCw,Settings,Settings2,Sparkles,Stethoscope,ThumbsUp,TreePine,Trophy,Undo2,Upload,Wand2,Wrench,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/printer.js\");\n/* harmony import */ var next_link__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! next/link */ \"(app-pages-browser)/./node_modules/next/dist/api/link.js\");\n/* harmony import */ var sonner__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! sonner */ \"(app-pages-browser)/./node_modules/sonner/dist/index.mjs\");\n/* harmony import */ var _components_CardPreview__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @/components/CardPreview */ \"(app-pages-browser)/./components/CardPreview.tsx\");\n/* harmony import */ var qrcode__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! qrcode */ \"(app-pages-browser)/./node_modules/qrcode/lib/browser.js\");\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! uuid */ \"(app-pages-browser)/./node_modules/uuid/dist/esm-browser/v4.js\");\n/* harmony import */ var _components_mode_toggle__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @/components/mode-toggle */ \"(app-pages-browser)/./components/mode-toggle.tsx\");\n/* harmony import */ var _components_RecentCardsPreview__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @/components/RecentCardsPreview */ \"(app-pages-browser)/./components/RecentCardsPreview.tsx\");\n/* harmony import */ var _components_CriticalResourcePreloader__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @/components/CriticalResourcePreloader */ \"(app-pages-browser)/./components/CriticalResourcePreloader.tsx\");\n/* harmony import */ var _components_EarlyCardPreloader__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! @/components/EarlyCardPreloader */ \"(app-pages-browser)/./components/EarlyCardPreloader.tsx\");\n/* harmony import */ var _hooks_useCardCache__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! @/hooks/useCardCache */ \"(app-pages-browser)/./hooks/useCardCache.ts\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// Configuration for the backend API endpoint\nconst BACKEND_API_BASE_URL = \"https://vibecarding.com\" || 0;\n// Common card types with custom option\nconst cardTypes = [\n    {\n        id: \"custom\",\n        label: \"Custom\",\n        description: \"Create your own unique card type\",\n        icon: _barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_21__[\"default\"]\n    },\n    {\n        id: \"birthday\",\n        label: \"Birthday\",\n        description: \"Celebrate another year of life\",\n        icon: _barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_22__[\"default\"]\n    },\n    {\n        id: \"thank-you\",\n        label: \"Thank You\",\n        description: \"Express gratitude and appreciation\",\n        icon: _barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_23__[\"default\"]\n    },\n    {\n        id: \"anniversary\",\n        label: \"Anniversary\",\n        description: \"Commemorate special milestones\",\n        icon: _barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_24__[\"default\"]\n    },\n    {\n        id: \"congratulations\",\n        label: \"Congratulations\",\n        description: \"Celebrate achievements and success\",\n        icon: _barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_25__[\"default\"]\n    },\n    {\n        id: \"holiday\",\n        label: \"Holiday\",\n        description: \"Seasonal and holiday greetings\",\n        icon: _barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_26__[\"default\"]\n    },\n    {\n        id: \"get-well\",\n        label: \"Get Well Soon\",\n        description: \"Send healing wishes and support\",\n        icon: _barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_27__[\"default\"]\n    },\n    {\n        id: \"sympathy\",\n        label: \"Sympathy\",\n        description: \"Offer comfort during difficult times\",\n        icon: _barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_28__[\"default\"]\n    },\n    {\n        id: \"love\",\n        label: \"Love & Romance\",\n        description: \"Express romantic feelings\",\n        icon: _barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_24__[\"default\"]\n    },\n    {\n        id: \"graduation\",\n        label: \"Graduation\",\n        description: \"Celebrate educational achievements\",\n        icon: _barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_29__[\"default\"]\n    },\n    {\n        id: \"new-baby\",\n        label: \"New Baby\",\n        description: \"Welcome new arrivals\",\n        icon: _barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_30__[\"default\"]\n    },\n    {\n        id: \"wedding\",\n        label: \"Wedding\",\n        description: \"Celebrate unions and marriages\",\n        icon: _barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_31__[\"default\"]\n    },\n    {\n        id: \"retirement\",\n        label: \"Retirement\",\n        description: \"Honor career achievements\",\n        icon: _barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_32__[\"default\"]\n    },\n    {\n        id: \"housewarming\",\n        label: \"Housewarming\",\n        description: \"Welcome to new homes\",\n        icon: _barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_33__[\"default\"]\n    },\n    {\n        id: \"apology\",\n        label: \"Apology\",\n        description: \"Make amends and seek forgiveness\",\n        icon: _barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_34__[\"default\"]\n    },\n    {\n        id: \"thinking-of-you\",\n        label: \"Thinking of You\",\n        description: \"Show you care and remember\",\n        icon: _barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_35__[\"default\"]\n    }\n];\n// Card tone/style options\nconst cardTones = [\n    {\n        id: \"funny\",\n        label: \"\\uD83D\\uDE04 Funny\",\n        description: \"Humorous and lighthearted\"\n    },\n    {\n        id: \"genz-humor\",\n        label: \"\\uD83D\\uDC80 GenZ Humor\",\n        description: \"Internet memes, chaotic energy, and unhinged vibes\"\n    },\n    {\n        id: \"romantic\",\n        label: \"\\uD83D\\uDC95 Romantic\",\n        description: \"Sweet and loving\"\n    },\n    {\n        id: \"professional\",\n        label: \"\\uD83D\\uDC54 Professional\",\n        description: \"Formal and business-appropriate\"\n    },\n    {\n        id: \"heartfelt\",\n        label: \"❤️ Heartfelt\",\n        description: \"Sincere and emotional\"\n    },\n    {\n        id: \"playful\",\n        label: \"\\uD83C\\uDF89 Playful\",\n        description: \"Fun and energetic\"\n    },\n    {\n        id: \"elegant\",\n        label: \"✨ Elegant\",\n        description: \"Sophisticated and refined\"\n    },\n    {\n        id: \"casual\",\n        label: \"\\uD83D\\uDE0A Casual\",\n        description: \"Relaxed and friendly\"\n    },\n    {\n        id: \"inspirational\",\n        label: \"\\uD83C\\uDF1F Inspirational\",\n        description: \"Motivating and uplifting\"\n    },\n    {\n        id: \"quirky\",\n        label: \"\\uD83E\\uDD2A Quirky\",\n        description: \"Unique and unconventional\"\n    },\n    {\n        id: \"traditional\",\n        label: \"\\uD83C\\uDFAD Traditional\",\n        description: \"Classic and timeless\"\n    }\n];\n// Curated artistic styles for beautiful cards\nconst artisticStyles = [\n    {\n        id: \"ai-smart-style\",\n        label: \"✨ Smart Style\",\n        description: \"Let our experts choose the perfect style for your card\",\n        promptModifier: \"\" // Will be dynamically generated\n    },\n    {\n        id: \"custom\",\n        label: \"✨ Custom Style\",\n        description: \"Define your own unique artistic style\",\n        promptModifier: \"\" // Will be replaced with user input\n    },\n    {\n        id: \"watercolor\",\n        label: \"\\uD83C\\uDFA8 Watercolor\",\n        description: \"Soft, flowing paint effects (our personal favorite)\",\n        promptModifier: \"in watercolor painting style, with soft flowing colors, artistic brush strokes, paper texture, and organic paint bleeds\"\n    },\n    {\n        id: \"minimalist\",\n        label: \"✨ Minimalist\",\n        description: \"Clean, simple, elegant design\",\n        promptModifier: \"in minimalist style with clean lines, simple shapes, plenty of white space, sophisticated typography, and elegant simplicity\"\n    },\n    {\n        id: \"botanical\",\n        label: \"\\uD83C\\uDF3F Botanical\",\n        description: \"Beautiful flowers and nature elements\",\n        promptModifier: \"in botanical illustration style with detailed flowers, leaves, and natural elements, soft organic shapes, elegant floral arrangements, and nature-inspired designs perfect for greeting cards\"\n    },\n    {\n        id: \"hand-drawn\",\n        label: \"✏️ Hand-Drawn\",\n        description: \"Charming sketchy, personal feel\",\n        promptModifier: \"in hand-drawn sketch style with visible pencil lines, artistic sketching techniques, personal touches, and authentic hand-crafted appearance that feels warm and intimate\"\n    },\n    {\n        id: \"dreamy-fantasy\",\n        label: \"\\uD83C\\uDF38 Dreamy Fantasy\",\n        description: \"Enchanting anime-inspired art\",\n        promptModifier: \"in dreamy fantasy anime style, with soft pastels, magical atmosphere, detailed nature elements, whimsical characters, and enchanting fairy-tale qualities\"\n    },\n    {\n        id: \"art-deco\",\n        label: \"✨ Art Deco\",\n        description: \"Elegant 1920s geometric luxury\",\n        promptModifier: \"in vintage Art Deco style with geometric patterns, gold accents, elegant typography, luxurious details, and 1920s glamour\"\n    },\n    {\n        id: \"vintage-illustration\",\n        label: \"\\uD83D\\uDCDA Vintage Illustration\",\n        description: \"Classic storybook charm\",\n        promptModifier: \"in vintage illustration style like classic children's books, with warm nostalgic colors, charming characters, whimsical details, and timeless fairy-tale aesthetics\"\n    },\n    {\n        id: \"modern-geometric\",\n        label: \"\\uD83D\\uDD37 Modern Geometric\",\n        description: \"Clean contemporary shapes\",\n        promptModifier: \"in modern geometric style with clean shapes, contemporary design elements, balanced compositions, and sophisticated color palettes perfect for modern greeting cards\"\n    },\n    {\n        id: \"soft-pastel\",\n        label: \"\\uD83C\\uDF38 Soft Pastel\",\n        description: \"Gentle, soothing colors\",\n        promptModifier: \"in soft pastel style with gentle colors, dreamy atmosphere, delicate textures, and calming visual elements that create a peaceful and heartwarming feeling\"\n    },\n    {\n        id: \"retro-vintage\",\n        label: \"\\uD83D\\uDCFB Retro Vintage\",\n        description: \"Classic 1950s-60s nostalgia\",\n        promptModifier: \"in retro vintage style with 1950s-60s aesthetics, classic typography, warm nostalgic colors, and mid-century design elements\"\n    }\n];\n// Paper size options\nconst paperSizes = [\n    {\n        id: \"standard\",\n        label: \"5\\xd77 Card (Standard)\",\n        description: \"Standard 5\\xd77 greeting card (10\\xd77 print layout)\",\n        aspectRatio: \"9:16\",\n        dimensions: \"1024x1536\",\n        printWidth: \"10in\",\n        printHeight: \"7in\"\n    },\n    {\n        id: \"compact\",\n        label: \"4\\xd76 Card (Compact)\",\n        description: \"Compact 4\\xd76 greeting card (8\\xd76 print layout)\",\n        aspectRatio: \"2:3\",\n        dimensions: \"768x1152\",\n        printWidth: \"8in\",\n        printHeight: \"6in\"\n    },\n    {\n        id: \"a6\",\n        label: \"A6 Card (4\\xd76)\",\n        description: \"A6 paper size (8.3\\xd75.8 print layout)\",\n        aspectRatio: \"2:3\",\n        dimensions: \"768x1152\",\n        printWidth: \"8.3in\",\n        printHeight: \"5.8in\"\n    }\n];\n// Image model options\nconst imageModels = [\n    {\n        id: \"gpt-image-1\",\n        label: \"GPT Image 1\",\n        description: \"Highest quality variant : Recommended\"\n    },\n    {\n        id: \"flux-1.1-pro\",\n        label: \"FLUX 1.1 Pro\",\n        description: \"Fastest & highest quality : $0.04 per image, 3-10 seconds\"\n    },\n    {\n        id: \"seedream-3\",\n        label: \"SeeDream 3\",\n        description: \"2K photorealistic quality : $0.03 per image, 5-15 seconds\"\n    },\n    {\n        id: \"ideogram-v3-turbo\",\n        label: \"Ideogram V3 Turbo\",\n        description: \"Excellent text rendering : Magic prompt enhancement, fast generation\"\n    },\n    {\n        id: \"ideogram-v3-quality\",\n        label: \"Ideogram V3 Quality\",\n        description: \"Highest quality text rendering : Slower but better results\"\n    },\n    {\n        id: \"imagen-4.0-ultra-generate-preview-06-06\",\n        label: \"Imagen 4.0 Ultra\",\n        description: \"Experimental, not recommended for text-heavy cards.\"\n    }\n];\n// Email Helper Function\nasync function sendThankYouEmail(toEmail, cardType, cardUrl) {\n    if (!toEmail.trim()) return;\n    try {\n        // Create HTML email body\n        const htmlBody = '\\n      <div style=\"font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto; padding: 20px; color: #333;\">\\n        <div style=\"text-align: center; margin-bottom: 30px;\">\\n          <h1 style=\"color: #2563eb; margin-bottom: 10px;\">\\uD83C\\uDF89 Your Card is Ready!</h1>\\n        </div>\\n        \\n        <p style=\"font-size: 16px; line-height: 1.6; margin-bottom: 20px;\">Hi there!</p>\\n        \\n        <p style=\"font-size: 16px; line-height: 1.6; margin-bottom: 20px;\">\\n          Thank you for using VibeCarding to create your beautiful <strong>'.concat(cardType, '</strong> card!\\n        </p>\\n        \\n        <p style=\"font-size: 16px; line-height: 1.6; margin-bottom: 20px;\">\\n          We hope you love how it turned out. Your card has been generated and is ready for printing or sharing.\\n        </p>\\n        \\n        <div style=\"text-align: center; margin: 30px 0;\">\\n          <a href=\"').concat(cardUrl, '\" style=\"background-color: #2563eb; color: white; padding: 12px 24px; text-decoration: none; border-radius: 6px; font-weight: bold; display: inline-block;\">\\n            View Your Card\\n          </a>\\n        </div>\\n        \\n        <p style=\"font-size: 16px; line-height: 1.6; margin-bottom: 20px;\">\\n          If you have any questions or feedback, feel free to reach out to us.\\n        </p>\\n        \\n        <p style=\"font-size: 16px; line-height: 1.6; margin-bottom: 20px;\">\\n          Happy card making!\\n        </p>\\n        \\n        <div style=\"margin-top: 40px; padding-top: 20px; border-top: 1px solid #e5e7eb; color: #6b7280;\">\\n          <p style=\"margin-bottom: 5px;\"><strong>Best regards,</strong></p>\\n          <p style=\"margin-bottom: 5px;\">The VibeCarding Team</p>\\n          <p style=\"margin: 0;\">\\n            <a href=\"mailto:vibecarding@ast.engineer\" style=\"color: #2563eb; text-decoration: none;\">vibecarding@ast.engineer</a>\\n          </p>\\n        </div>\\n      </div>\\n    ');\n        // Plain text fallback\n        const textBody = \"Hi there!\\n\\nThank you for using VibeCarding to create your beautiful \".concat(cardType, \" card!\\n\\nWe hope you love how it turned out. Your card has been generated and is ready for printing or sharing.\\n\\nView your card: \").concat(cardUrl, \"\\n\\nIf you have any questions or feedback, feel free to reach out to us.\\n\\nHappy card making!\\n\\nBest regards,\\nThe VibeCarding Team\\nvibecarding@ast.engineer\");\n        // Send to user\n        const userResponse = await fetch(\"\".concat(BACKEND_API_BASE_URL, \"/send_email_nodejs_style\"), {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json; charset=utf-8\"\n            },\n            body: JSON.stringify({\n                to: toEmail,\n                from: \"vibecarding@ast.engineer\",\n                subject: \"Your \".concat(cardType, \" card is ready!\"),\n                body: htmlBody,\n                text: textBody,\n                html: htmlBody\n            })\n        });\n        // Send copy to jordan@ast.engineer\n        const adminResponse = await fetch(\"\".concat(BACKEND_API_BASE_URL, \"/send_email_nodejs_style\"), {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify({\n                to: \"jordan@ast.engineer\",\n                from: \"vibecarding@ast.engineer\",\n                subject: \"Card Created - \".concat(cardType, \" for \").concat(toEmail),\n                body: '<div style=\"font-family: Arial, sans-serif; padding: 20px;\">\\n          <h3 style=\"color: #2563eb;\">New Card Created on VibeCarding</h3>\\n          <p><strong>User:</strong> '.concat(toEmail, \"</p>\\n          <p><strong>Card Type:</strong> \").concat(cardType, '</p>\\n          <p><strong>Card URL:</strong> <a href=\"').concat(cardUrl, '\">').concat(cardUrl, '</a></p>\\n          <p style=\"margin-top: 20px; color: #6b7280; font-size: 14px;\">\\n            This is an automated notification of card creation activity.\\n          </p>\\n        </div>'),\n                text: \"New card created on VibeCarding:\\n\\nUser: \".concat(toEmail, \"\\nCard Type: \").concat(cardType, \"\\nCard URL: \").concat(cardUrl, \"\\n\\nThis is an automated notification of card creation activity.\")\n            })\n        });\n        if (userResponse.ok) {\n            sonner__WEBPACK_IMPORTED_MODULE_13__.toast.success(\"✉️ Thank you email sent!\");\n        }\n    } catch (error) {\n        console.error(\"Failed to send thank you email:\", error);\n    // Don't show error toast - this is a nice-to-have feature\n    }\n}\n// Chat Helper Function\nasync function chatWithAI(userMessage) {\n    let options = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};\n    const { systemPrompt = null, model = \"gemini-2.5-pro\", includeThoughts = false, jsonSchema = null, attachments = [] // Default to empty array\n     } = options;\n    try {\n        const response = await fetch(\"/internal/call_mcp_tool\", {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify({\n                tool_name: \"ai_chat\",\n                arguments: {\n                    messages: userMessage,\n                    system_prompt: systemPrompt,\n                    model: model,\n                    include_thoughts: includeThoughts,\n                    json_schema: jsonSchema,\n                    ...attachments.length > 0 && {\n                        attachments\n                    } // Only include if there are attachments\n                }\n            })\n        });\n        if (!response.ok) throw new Error(\"HTTP \".concat(response.status));\n        const data = await response.json();\n        if (data.error && data.error !== \"None\" && data.error !== null) {\n            throw new Error(data.error);\n        }\n        let result;\n        if (typeof data.result === \"string\") {\n            try {\n                result = JSON.parse(data.result);\n            } catch (e) {\n                result = {\n                    status: \"error\",\n                    message: \"Invalid JSON response\"\n                };\n            }\n        } else {\n            result = data.result;\n        }\n        if (result.status === \"error\") {\n            throw new Error(result.message);\n        }\n        return result.response;\n    } catch (error) {\n        console.error(\"AI chat failed:\", error);\n        throw error;\n    }\n}\nfunction CardStudioPage() {\n    var _imageModels_find;\n    _s();\n    var _s1 = $RefreshSig$();\n    // Core state\n    const [prompt, setPrompt] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [finalCardMessage, setFinalCardMessage] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [toField, setToField] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [fromField, setFromField] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [selectedType, setSelectedType] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"birthday\");\n    const [customCardType, setCustomCardType] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [selectedTone, setSelectedTone] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"funny\");\n    const [isGenerating, setIsGenerating] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [generatedCard, setGeneratedCard] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    // Multiple cards state\n    const [numberOfCards, setNumberOfCards] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(1);\n    const [generatedCards, setGeneratedCards] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [selectedCardIndex, setSelectedCardIndex] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    // Writing assistant state\n    const [isGeneratingMessage, setIsGeneratingMessage] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // Advanced options state\n    const [showAdvanced, setShowAdvanced] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [selectedArtisticStyle, setSelectedArtisticStyle] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"watercolor\");\n    const [customStyleDescription, setCustomStyleDescription] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [selectedImageModel, setSelectedImageModel] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"gpt-image-1\");\n    // Draft mode specific model selection\n    const [selectedDraftModel, setSelectedDraftModel] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"gpt-image-1\");\n    // Progress tracking state\n    const [generationProgress, setGenerationProgress] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [countdown, setCountdown] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const [countdownInterval, setCountdownInterval] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [isCardCompleted, setIsCardCompleted] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // Job tracking state\n    const [currentJobId, setCurrentJobId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    // Fast preview mode state\n    const [fastPreviewMode, setFastPreviewMode] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    // Draft mode state - generate 10 low-quality cards for selection\n    const [isDraftMode, setIsDraftMode] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [draftCards, setDraftCards] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]); // Cards in completion order (left to right)\n    const [draftIndexMapping, setDraftIndexMapping] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]); // Maps display position to original draft index\n    const [selectedDraftIndex, setSelectedDraftIndex] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(-1); // Display position index\n    const [isGeneratingFinalCard, setIsGeneratingFinalCard] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [previewingDraftIndex, setPreviewingDraftIndex] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(-1); // Display position index\n    const [draftCompletionShown, setDraftCompletionShown] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // Helper function to format countdown as MM:SS\n    const formatCountdown = (seconds)=>{\n        const minutes = Math.floor(seconds / 60);\n        const remainingSeconds = seconds % 60;\n        return \"\".concat(minutes, \":\").concat(remainingSeconds.toString().padStart(2, \"0\"));\n    };\n    // Job management functions\n    const saveJobToStorage = (jobId, jobData)=>{\n        try {\n            localStorage.setItem(\"cardJob_\".concat(jobId), JSON.stringify({\n                ...jobData,\n                id: jobId,\n                status: \"processing\",\n                createdAt: Date.now()\n            }));\n            // Also add to pending jobs list\n            const pendingJobs = JSON.parse(localStorage.getItem(\"pendingCardJobs\") || \"[]\");\n            if (!pendingJobs.includes(jobId)) {\n                pendingJobs.push(jobId);\n                localStorage.setItem(\"pendingCardJobs\", JSON.stringify(pendingJobs));\n            }\n        } catch (error) {\n            console.error(\"Failed to save job to localStorage:\", error);\n        }\n    };\n    const removeJobFromStorage = (jobId)=>{\n        try {\n            localStorage.removeItem(\"cardJob_\".concat(jobId));\n            // Remove from pending jobs list\n            const pendingJobs = JSON.parse(localStorage.getItem(\"pendingCardJobs\") || \"[]\");\n            const updatedJobs = pendingJobs.filter((id)=>id !== jobId);\n            localStorage.setItem(\"pendingCardJobs\", JSON.stringify(updatedJobs));\n        } catch (error) {\n            console.error(\"Failed to remove job from localStorage:\", error);\n        }\n    };\n    const checkJobStatus = async (jobId)=>{\n        try {\n            const response = await fetch(\"/api/job-status/\".concat(jobId));\n            if (!response.ok) {\n                throw new Error(\"HTTP \".concat(response.status));\n            }\n            return await response.json();\n        } catch (error) {\n            console.error(\"Failed to check job status:\", error);\n            return null;\n        }\n    };\n    // Recovery function - check for pending jobs on page load\n    const checkPendingJobs = async ()=>{\n        try {\n            const pendingJobs = JSON.parse(localStorage.getItem(\"pendingCardJobs\") || \"[]\");\n            for (const jobId of pendingJobs){\n                const jobData = localStorage.getItem(\"cardJob_\".concat(jobId));\n                if (!jobData) continue;\n                const job = JSON.parse(jobData);\n                const statusResponse = await checkJobStatus(jobId);\n                if (statusResponse && statusResponse.status === \"completed\") {\n                    console.log(\"\\uD83C\\uDF89 Job completed while user was away! Card data:\", statusResponse.cardData);\n                    // Job completed while user was away!\n                    if (statusResponse.cardData) {\n                        // Apply QR code to back cover before setting the card data\n                        let cardWithQR = {\n                            ...statusResponse.cardData\n                        };\n                        // Ensure the card has a valid createdAt date\n                        if (!cardWithQR.createdAt) {\n                            cardWithQR.createdAt = new Date();\n                        } else if (typeof cardWithQR.createdAt === \"string\" || typeof cardWithQR.createdAt === \"number\") {\n                            cardWithQR.createdAt = new Date(cardWithQR.createdAt);\n                        }\n                        // Ensure the card has a valid ID\n                        if (!cardWithQR.id) {\n                            cardWithQR.id = \"card-\".concat(Date.now(), \"-\").concat(Math.random().toString(36).substr(2, 9));\n                        }\n                        console.log(\"\\uD83D\\uDD04 Card data prepared for recovery:\", cardWithQR);\n                        try {\n                            console.log(\"\\uD83D\\uDD04 Starting QR overlay process for recovered card\");\n                            // Store card data first to get a shareable URL\n                            if (cardWithQR.frontCover) {\n                                try {\n                                    const cardStoreResponse = await fetch(\"/api/cards/store\", {\n                                        method: \"POST\",\n                                        headers: {\n                                            \"Content-Type\": \"application/json\"\n                                        },\n                                        body: JSON.stringify({\n                                            prompt: cardWithQR.prompt || \"\",\n                                            frontCover: cardWithQR.frontCover || \"\",\n                                            backCover: cardWithQR.backCover || \"\",\n                                            leftPage: cardWithQR.leftPage || \"\",\n                                            rightPage: cardWithQR.rightPage || \"\",\n                                            generatedPrompts: cardWithQR.generatedPrompts || null\n                                        })\n                                    });\n                                    if (cardStoreResponse.ok) {\n                                        const cardStoreData = await cardStoreResponse.json();\n                                        const actualShareUrl = cardStoreData.share_url;\n                                        console.log(\"Using actual share URL for QR code (recovered):\", actualShareUrl);\n                                        // Apply QR code to back cover using the API-returned URL\n                                        if (cardWithQR.backCover && actualShareUrl) {\n                                            console.log(\"\\uD83D\\uDD04 Applying QR overlay to recovered card...\");\n                                            const originalBackCover = cardWithQR.backCover;\n                                            cardWithQR.backCover = await overlayQRCodeOnImage(originalBackCover, actualShareUrl);\n                                            cardWithQR.shareUrl = actualShareUrl;\n                                            console.log(\"✅ QR overlay complete for recovered card\");\n                                        }\n                                    } else {\n                                        console.warn(\"Failed to store recovered card for sharing, continuing without QR code\");\n                                    }\n                                } catch (error) {\n                                    console.error(\"❌ Failed to store card or overlay QR code (recovered):\", error);\n                                // Continue without QR code if there's an error\n                                }\n                            } else {\n                                console.warn(\"No front cover found in recovered card, skipping QR code process\");\n                            }\n                        } catch (error) {\n                            console.error(\"❌ Error in QR code process (recovered):\", error);\n                        // Continue without QR code if there's an error\n                        }\n                        console.log(\"\\uD83C\\uDFAF Setting recovered card state:\", cardWithQR);\n                        // Set the card states - this is critical!\n                        setGeneratedCard(cardWithQR);\n                        setGeneratedCards([\n                            cardWithQR\n                        ]);\n                        setSelectedCardIndex(0);\n                        setIsCardCompleted(true);\n                        setIsGenerating(false);\n                        setGenerationProgress(\"\");\n                        // Scroll to card preview\n                        scrollToCardPreview();\n                        // Set all sections as completed\n                        setSectionLoadingStates({\n                            frontCover: \"completed\",\n                            backCover: \"completed\",\n                            leftInterior: \"completed\",\n                            rightInterior: \"completed\"\n                        });\n                        // Capture generation time from backend\n                        if (statusResponse.cardData.generationTimeSeconds) {\n                            setGenerationDuration(statusResponse.cardData.generationTimeSeconds);\n                        }\n                        // Stop elapsed time tracking\n                        stopElapsedTimeTracking();\n                        // Set progress to 100%\n                        setProgressPercentage(100);\n                        // Force a state update by updating localStorage (without base64 QR code to avoid quota issues)\n                        try {\n                            // Create a lightweight version without base64 QR code for localStorage\n                            const cardForStorage = {\n                                ...cardWithQR\n                            };\n                            if (cardForStorage.backCover && cardForStorage.backCover.startsWith(\"data:image/png;base64,\")) {\n                                // Replace the base64 QR code with the original back cover URL to save space\n                                cardForStorage.backCover = statusResponse.cardData.backCover;\n                                console.log(\"\\uD83D\\uDCBE Replaced base64 QR code with original URL for localStorage storage (recovery)\");\n                            }\n                            const cardsData = {\n                                mostRecentCard: cardForStorage,\n                                generationDuration: statusResponse.cardData.generationTimeSeconds || null\n                            };\n                            localStorage.setItem(\"vibecarding-generated-cards\", JSON.stringify(cardsData));\n                            console.log(\"\\uD83D\\uDCBE Recovered card saved to localStorage\");\n                        } catch (storageError) {\n                            console.error(\"Failed to save recovered card to localStorage:\", storageError);\n                        }\n                        sonner__WEBPACK_IMPORTED_MODULE_13__.toast.success(\"\\uD83C\\uDF89 Your card with QR code finished generating while you were away!\");\n                        // Send thank you email using job data\n                        if (job.userEmail && job.userEmail.trim()) {\n                            const cardTypeForEmail = job.selectedType === \"custom\" ? job.customCardType : job.selectedType;\n                            sendThankYouEmail(job.userEmail, cardTypeForEmail, cardWithQR.shareUrl || \"https://vibecarding.com\");\n                        }\n                        console.log(\"✅ Card recovery process finished successfully\");\n                    } else {\n                        console.error(\"❌ No card data in completed recovery response\");\n                        sonner__WEBPACK_IMPORTED_MODULE_13__.toast.error(\"❌ Card generation completed but no data received. Please try again.\");\n                    }\n                    removeJobFromStorage(jobId);\n                } else if (statusResponse && statusResponse.status === \"failed\") {\n                    // Job failed\n                    sonner__WEBPACK_IMPORTED_MODULE_13__.toast.error(\"❌ A card generation job failed. Please try again.\");\n                    removeJobFromStorage(jobId);\n                } else if (statusResponse && statusResponse.status === \"processing\") {\n                    // Still processing - restore loading states and start polling\n                    setIsGenerating(true);\n                    setCurrentJobId(jobId);\n                    setGenerationProgress(\"Resuming card generation...\");\n                    // Start elapsed time tracking from when job was originally created\n                    const jobStartTime = job.createdAt ? new Date(job.createdAt).getTime() : Date.now();\n                    startElapsedTimeTracking(jobStartTime);\n                    // Restore section loading states based on job data\n                    if (job.prompts) {\n                        const loadingStates = {\n                            frontCover: \"loading\",\n                            backCover: \"loading\",\n                            leftInterior: job.isFrontBackOnly ? \"idle\" : \"loading\",\n                            rightInterior: job.isFrontBackOnly ? \"idle\" : \"loading\"\n                        };\n                        setSectionLoadingStates(loadingStates);\n                    }\n                    // Initialize progress - will be updated by timer\n                    setGenerationProgress(\"Resuming card generation...\");\n                    setProgressPercentage(0); // Will be calculated by timer based on elapsed time\n                    sonner__WEBPACK_IMPORTED_MODULE_13__.toast.info(\"\\uD83D\\uDD04 Resuming card generation where you left off...\");\n                    pollJobStatus(jobId);\n                }\n            // If still processing, leave it in storage\n            }\n        } catch (error) {\n            console.error(\"Failed to check pending jobs:\", error);\n        }\n    };\n    // Poll job status with exponential backoff\n    const pollJobStatus = async function(jobId) {\n        let attempt = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 1;\n        try {\n            const statusResponse = await checkJobStatus(jobId);\n            // Check if this is a draft job\n            const isDraftJob = jobId.startsWith(\"draft-\");\n            const draftIndex = isDraftJob ? parseInt(jobId.split(\"-\")[1]) : -1;\n            if (statusResponse && statusResponse.status === \"completed\") {\n                console.log(\"\\uD83C\\uDF89 Job completed! Card data:\", statusResponse.cardData, \"isDraftJob:\", isDraftJob);\n                if (statusResponse.cardData) {\n                    if (isDraftJob && draftIndex >= 0) {\n                        var _statusResponse_cardData_generatedPrompts;\n                        // Handle draft card completion - no QR code needed for drafts\n                        console.log(\"\\uD83C\\uDFA8 Draft variation \".concat(draftIndex + 1, \" completed!\"));\n                        // Get style info for smart style mode\n                        let styleInfo = undefined;\n                        if (selectedArtisticStyle === \"ai-smart-style\") {\n                            const predefinedStyles = [\n                                \"watercolor\",\n                                \"botanical\",\n                                \"hand-drawn\",\n                                \"dreamy-fantasy\",\n                                \"minimalist\",\n                                \"vintage-illustration\",\n                                \"art-deco\",\n                                \"soft-pastel\",\n                                \"modern-geometric\",\n                                \"watercolor\"\n                            ];\n                            const styleLabels = [\n                                \"\\uD83C\\uDFA8 Watercolor\",\n                                \"\\uD83C\\uDF3F Botanical\",\n                                \"✏️ Hand-Drawn\",\n                                \"\\uD83C\\uDF38 Dreamy Fantasy\",\n                                \"✨ Minimalist\",\n                                \"\\uD83D\\uDCDA Vintage Illustration\",\n                                \"✨ Art Deco\",\n                                \"\\uD83C\\uDF38 Soft Pastel\",\n                                \"\\uD83D\\uDD37 Modern Geometric\",\n                                \"\\uD83C\\uDFA8 Watercolor\"\n                            ];\n                            if (draftIndex >= 0 && draftIndex < predefinedStyles.length) {\n                                styleInfo = {\n                                    styleName: predefinedStyles[draftIndex],\n                                    styleLabel: styleLabels[draftIndex]\n                                };\n                            }\n                        }\n                        const draftCard = {\n                            id: \"draft-\".concat(draftIndex + 1, \"-\").concat(Date.now()),\n                            prompt: statusResponse.cardData.prompt || \"Draft Variation \".concat(draftIndex + 1),\n                            frontCover: statusResponse.cardData.frontCover || \"\",\n                            backCover: \"\",\n                            leftPage: \"\",\n                            rightPage: \"\",\n                            createdAt: new Date(),\n                            generatedPrompts: {\n                                frontCover: ((_statusResponse_cardData_generatedPrompts = statusResponse.cardData.generatedPrompts) === null || _statusResponse_cardData_generatedPrompts === void 0 ? void 0 : _statusResponse_cardData_generatedPrompts.frontCover) || \"\" // Only store front cover prompt for draft mode\n                            },\n                            styleInfo: styleInfo // Store style information for smart style mode\n                        };\n                        // Update draft cards state - populate from left to right as they complete\n                        setDraftCards((prev)=>{\n                            const updated = [\n                                ...prev\n                            ];\n                            updated.push(draftCard); // Add to next available position (left to right)\n                            return updated;\n                        });\n                        // Update mapping to track which display position corresponds to which original draft index\n                        setDraftIndexMapping((prev)=>{\n                            const updatedMapping = [\n                                ...prev\n                            ];\n                            updatedMapping.push(draftIndex); // Map new display position to original draft index\n                            return updatedMapping;\n                        });\n                        // Update progress and check completion\n                        const newCompletedCount = draftCards.length + 1; // +1 because state update is async\n                        console.log(\"\\uD83D\\uDCCA Draft progress: \".concat(newCompletedCount, \"/5 front cover variations complete\"));\n                        // Scroll to draft preview when first card appears\n                        if (newCompletedCount === 1) {\n                            scrollToCardPreview();\n                        }\n                        if (newCompletedCount === 5) {\n                            setIsGenerating(false);\n                            setGenerationProgress(\"\");\n                            setProgressPercentage(100);\n                            stopElapsedTimeTracking();\n                            // Only show completion toast once using a flag, and only if user hasn't moved to final generation\n                            setDraftCompletionShown((prev)=>{\n                                if (!prev && !isGeneratingFinalCard) {\n                                    sonner__WEBPACK_IMPORTED_MODULE_13__.toast.success(\"\\uD83C\\uDFA8 All 5 front cover variations ready! Choose your favorite below.\");\n                                    return true;\n                                }\n                                return prev;\n                            });\n                        } else {\n                            setGenerationProgress(\"✨ \".concat(newCompletedCount, \"/5 front cover variations complete... \").concat(newCompletedCount >= 2 ? \"You can select one now to proceed!\" : \"\"));\n                            setProgressPercentage(newCompletedCount / 5 * 100);\n                        }\n                        removeJobFromStorage(jobId);\n                    } else {\n                        // Handle final card completion - apply QR code and full processing\n                        let cardWithQR = {\n                            ...statusResponse.cardData\n                        };\n                        // Ensure the card has a valid createdAt date\n                        if (!cardWithQR.createdAt) {\n                            cardWithQR.createdAt = new Date();\n                        } else if (typeof cardWithQR.createdAt === \"string\" || typeof cardWithQR.createdAt === \"number\") {\n                            cardWithQR.createdAt = new Date(cardWithQR.createdAt);\n                        }\n                        // Ensure the card has a valid ID\n                        if (!cardWithQR.id) {\n                            cardWithQR.id = \"card-\".concat(Date.now(), \"-\").concat(Math.random().toString(36).substr(2, 9));\n                        }\n                        console.log(\"\\uD83D\\uDD04 Final card data prepared:\", cardWithQR);\n                        try {\n                            setGenerationProgress(\"✨ Adding interactive QR code to your card...\");\n                            console.log(\"\\uD83D\\uDD04 Starting QR overlay process for final card\");\n                            // Store card data first to get a shareable URL\n                            if (cardWithQR.frontCover) {\n                                try {\n                                    const cardStoreResponse = await fetch(\"/api/cards/store\", {\n                                        method: \"POST\",\n                                        headers: {\n                                            \"Content-Type\": \"application/json\"\n                                        },\n                                        body: JSON.stringify({\n                                            prompt: cardWithQR.prompt || \"\",\n                                            frontCover: cardWithQR.frontCover || \"\",\n                                            backCover: cardWithQR.backCover || \"\",\n                                            leftPage: cardWithQR.leftPage || \"\",\n                                            rightPage: cardWithQR.rightPage || \"\",\n                                            generatedPrompts: cardWithQR.generatedPrompts || null\n                                        })\n                                    });\n                                    if (cardStoreResponse.ok) {\n                                        const cardStoreData = await cardStoreResponse.json();\n                                        const actualShareUrl = cardStoreData.share_url;\n                                        console.log(\"Using actual share URL for QR code:\", actualShareUrl);\n                                        // Apply QR code to back cover using the API-returned URL\n                                        if (cardWithQR.backCover && actualShareUrl) {\n                                            console.log(\"\\uD83D\\uDD04 Applying QR overlay to final card...\");\n                                            const originalBackCover = cardWithQR.backCover;\n                                            cardWithQR.backCover = await overlayQRCodeOnImage(originalBackCover, actualShareUrl);\n                                            cardWithQR.shareUrl = actualShareUrl;\n                                            console.log(\"✅ QR overlay complete for final card\");\n                                        }\n                                    } else {\n                                        console.warn(\"Failed to store card for sharing, continuing without QR code\");\n                                    }\n                                } catch (error) {\n                                    console.error(\"❌ Failed to store card or overlay QR code:\", error);\n                                // Continue without QR code if there's an error\n                                }\n                            } else {\n                                console.warn(\"No front cover found, skipping QR code process\");\n                            }\n                        } catch (error) {\n                            console.error(\"❌ Error in QR code process:\", error);\n                        // Continue without QR code if there's an error\n                        }\n                        console.log(\"\\uD83C\\uDFAF Setting final card state:\", cardWithQR);\n                        // Set the card states - this is critical!\n                        setGeneratedCard(cardWithQR);\n                        setGeneratedCards([\n                            cardWithQR\n                        ]);\n                        setSelectedCardIndex(0);\n                        setIsCardCompleted(true);\n                        setIsGenerating(false);\n                        setIsGeneratingFinalCard(false);\n                        setIsDraftMode(false);\n                        setDraftCompletionShown(false); // Reset completion flag\n                        setGenerationProgress(\"\");\n                        // Scroll to card preview\n                        scrollToCardPreview();\n                        // Set all sections as completed\n                        setSectionLoadingStates({\n                            frontCover: \"completed\",\n                            backCover: \"completed\",\n                            leftInterior: \"completed\",\n                            rightInterior: \"completed\"\n                        });\n                        // Capture generation time from backend\n                        console.log(\"\\uD83D\\uDD0D Checking for generationTimeSeconds:\", statusResponse.cardData.generationTimeSeconds);\n                        if (statusResponse.cardData.generationTimeSeconds) {\n                            console.log(\"⏱️ Setting generation duration:\", statusResponse.cardData.generationTimeSeconds, \"seconds\");\n                            setGenerationDuration(statusResponse.cardData.generationTimeSeconds);\n                        } else {\n                            console.log(\"⚠️ No generationTimeSeconds found in card data\");\n                        }\n                        // Stop elapsed time tracking\n                        stopElapsedTimeTracking();\n                        // Set progress to 100%\n                        setProgressPercentage(100);\n                        setGenerationProgress(\"Card generation complete!\");\n                        // Force a state update by updating localStorage (without base64 QR code to avoid quota issues)\n                        try {\n                            // Create a lightweight version without base64 QR code for localStorage\n                            const cardForStorage = {\n                                ...cardWithQR\n                            };\n                            if (cardForStorage.backCover && cardForStorage.backCover.startsWith(\"data:image/png;base64,\")) {\n                                // Replace the base64 QR code with the original back cover URL to save space\n                                cardForStorage.backCover = statusResponse.cardData.backCover;\n                                console.log(\"\\uD83D\\uDCBE Replaced base64 QR code with original URL for localStorage storage\");\n                            }\n                            const cardsData = {\n                                mostRecentCard: cardForStorage,\n                                generationDuration: statusResponse.cardData.generationTimeSeconds || null\n                            };\n                            localStorage.setItem(\"vibecarding-generated-cards\", JSON.stringify(cardsData));\n                            console.log(\"\\uD83D\\uDCBE Card saved to localStorage\");\n                        } catch (storageError) {\n                            console.error(\"Failed to save to localStorage:\", storageError);\n                        }\n                        sonner__WEBPACK_IMPORTED_MODULE_13__.toast.success(\"\\uD83C\\uDF89 Your card with QR code is ready!\");\n                        // Send thank you email\n                        if (userEmail.trim()) {\n                            const cardTypeForEmail = selectedType === \"custom\" ? customCardType : selectedType;\n                            sendThankYouEmail(userEmail, cardTypeForEmail, cardWithQR.shareUrl || \"https://vibecarding.com\");\n                        }\n                        console.log(\"✅ Final card completion process finished successfully\");\n                        removeJobFromStorage(jobId);\n                        setCurrentJobId(null);\n                    }\n                } else {\n                    console.error(\"❌ No card data in completed response\");\n                    sonner__WEBPACK_IMPORTED_MODULE_13__.toast.error(\"❌ Card generation completed but no data received. Please try again.\");\n                    removeJobFromStorage(jobId);\n                    if (!isDraftJob) {\n                        setCurrentJobId(null);\n                    }\n                }\n            } else if (statusResponse && statusResponse.status === \"failed\") {\n                console.error(\"❌ Job failed:\", statusResponse);\n                if (isDraftJob && draftIndex >= 0) {\n                    sonner__WEBPACK_IMPORTED_MODULE_13__.toast.error(\"Draft variation \".concat(draftIndex + 1, \" failed. Continuing with others...\"));\n                } else {\n                    sonner__WEBPACK_IMPORTED_MODULE_13__.toast.error(\"❌ Card generation failed. Please try again.\");\n                    setIsGenerating(false);\n                    setIsGeneratingFinalCard(false);\n                    stopElapsedTimeTracking();\n                    setGenerationProgress(\"\");\n                    setProgressPercentage(0);\n                    // Set all sections as error\n                    setSectionLoadingStates({\n                        frontCover: \"error\",\n                        backCover: \"error\",\n                        leftInterior: \"error\",\n                        rightInterior: \"error\"\n                    });\n                    setCurrentJobId(null);\n                }\n                removeJobFromStorage(jobId);\n            } else if (statusResponse && statusResponse.status === \"processing\") {\n                // Continue polling every 3 seconds - near real-time updates for better UX\n                console.log(\"\\uD83D\\uDD04 Job still processing (attempt \".concat(attempt, \"), polling again...\"));\n                setTimeout(()=>pollJobStatus(jobId, attempt + 1), 3000);\n            } else {\n                console.warn(\"⚠️ Unexpected status response:\", statusResponse);\n                // Continue polling in case it's a temporary issue\n                setTimeout(()=>pollJobStatus(jobId, attempt + 1), 5000);\n            }\n        } catch (error) {\n            console.error(\"Failed to poll job status:\", error);\n            // Retry after delay with exponential backoff\n            const delay = Math.min(10000, 3000 * Math.pow(1.5, Math.min(attempt - 1, 5)));\n            setTimeout(()=>pollJobStatus(jobId, attempt + 1), delay);\n        }\n    };\n    // Function to overlay QR code on back cover image\n    const overlayQRCodeOnImage = async (imageUrl, cardUrl, logoUrl)=>{\n        console.log(\"\\uD83D\\uDD27 Starting QR overlay for:\", cardUrl);\n        try {\n            // Get the most recent saved logo if no specific logo provided\n            let qrLogoUrl = logoUrl;\n            if (!qrLogoUrl) {\n                try {\n                    const logoResponse = await fetch(\"/api/logos\");\n                    if (logoResponse.ok) {\n                        const logoData = await logoResponse.json();\n                        if (logoData.status === \"success\" && logoData.logos.length > 0) {\n                            // Use the most recent logo\n                            qrLogoUrl = logoData.logos[0].url;\n                            console.log(\"\\uD83C\\uDFA8 Using saved logo for QR code:\", qrLogoUrl);\n                        }\n                    }\n                } catch (logoError) {\n                    console.log(\"No saved logos available, generating QR without logo\");\n                }\n            }\n            // Generate QR code as data URL with optional logo\n            console.log(\"\\uD83D\\uDCF1 Generating QR code...\");\n            let qrCodeDataUrl;\n            if (qrLogoUrl) {\n                try {\n                    // Generate QR with logo using the server endpoint\n                    const qrResponse = await fetch(\"/api/generate-qr-with-logo\", {\n                        method: \"POST\",\n                        headers: {\n                            \"Content-Type\": \"application/json\"\n                        },\n                        body: JSON.stringify({\n                            url: cardUrl,\n                            logo_url: qrLogoUrl,\n                            size: 160,\n                            seamless: true\n                        })\n                    });\n                    if (qrResponse.ok) {\n                        const qrData = await qrResponse.json();\n                        if (qrData.status === \"success\") {\n                            qrCodeDataUrl = qrData.qr_code;\n                            console.log(\"✅ QR code with logo generated successfully\");\n                        }\n                    }\n                } catch (logoQrError) {\n                    console.log(\"Failed to generate QR with logo, falling back to simple QR:\", logoQrError);\n                }\n            }\n            // Fallback to simple QR code if logo generation failed\n            if (!qrCodeDataUrl) {\n                qrCodeDataUrl = await qrcode__WEBPACK_IMPORTED_MODULE_15__.toDataURL(cardUrl, {\n                    width: 160,\n                    margin: 1,\n                    color: {\n                        dark: \"#000000\",\n                        light: \"#FFFFFF\"\n                    },\n                    errorCorrectionLevel: \"M\"\n                });\n                console.log(\"✅ Simple QR code generated successfully\");\n            }\n            // Create canvas to composite the images\n            const canvas = document.createElement(\"canvas\");\n            const ctx = canvas.getContext(\"2d\");\n            if (!ctx) throw new Error(\"Failed to get canvas context\");\n            // Load the back cover image\n            const backCoverImg = new Image();\n            // Try without crossOrigin first to avoid CORS issues\n            // backCoverImg.crossOrigin = 'anonymous';\n            return new Promise((resolve, reject)=>{\n                backCoverImg.onload = ()=>{\n                    console.log(\"\\uD83D\\uDDBC️ Back cover image loaded, size:\", backCoverImg.width, \"x\", backCoverImg.height);\n                    // Set canvas size to match the image\n                    canvas.width = backCoverImg.width;\n                    canvas.height = backCoverImg.height;\n                    // Draw the back cover image\n                    ctx.drawImage(backCoverImg, 0, 0);\n                    // Load and draw the QR code\n                    const qrImg = new Image();\n                    qrImg.onload = ()=>{\n                        console.log(\"\\uD83D\\uDCF1 QR code image loaded, overlaying...\");\n                        // Position QR code in bottom right corner with some padding\n                        const qrSize = 160; // Size of QR code\n                        const padding = 40; // Padding from edges\n                        const x = canvas.width - qrSize - padding;\n                        const y = canvas.height - qrSize - padding - 30; // Extra space for text\n                        console.log(\"\\uD83D\\uDCCD QR position:\", x, y, \"on canvas:\", canvas.width, \"x\", canvas.height);\n                        // Cut out a clean section for the QR code with rounded corners\n                        const cutoutPadding = 12;\n                        const cutoutX = x - cutoutPadding;\n                        const cutoutY = y - cutoutPadding;\n                        const cutoutWidth = qrSize + cutoutPadding * 2;\n                        const cutoutHeight = qrSize + cutoutPadding * 2 + 25; // Extra height for text\n                        // Create rounded rectangle cutout\n                        ctx.fillStyle = \"#FFFFFF\";\n                        ctx.beginPath();\n                        ctx.roundRect(cutoutX, cutoutY, cutoutWidth, cutoutHeight, 8);\n                        ctx.fill();\n                        // Add subtle border\n                        ctx.strokeStyle = \"rgba(0, 0, 0, 0.1)\";\n                        ctx.lineWidth = 1;\n                        ctx.stroke();\n                        // Draw the QR code\n                        ctx.drawImage(qrImg, x, y, qrSize, qrSize);\n                        // Add \"Scan me :)\" text\n                        ctx.fillStyle = \"#666666\";\n                        ctx.font = \"18px system-ui, -apple-system, sans-serif\";\n                        ctx.textAlign = \"center\";\n                        const textX = x + qrSize / 2;\n                        const textY = y + qrSize + 18;\n                        ctx.fillText(\"Scan me :)\", textX, textY);\n                        // Convert canvas to data URL and resolve\n                        const result = canvas.toDataURL(\"image/png\", 0.9);\n                        console.log(\"✅ QR overlay complete, result length:\", result.length);\n                        resolve(result);\n                    };\n                    qrImg.onerror = (error)=>{\n                        console.error(\"❌ Failed to load QR code image:\", error);\n                        reject(new Error(\"Failed to load QR code\"));\n                    };\n                    qrImg.src = qrCodeDataUrl;\n                };\n                backCoverImg.onerror = (error)=>{\n                    console.error(\"❌ Failed to load back cover image:\", error);\n                    reject(new Error(\"Failed to load back cover image\"));\n                };\n                backCoverImg.src = imageUrl;\n            });\n        } catch (error) {\n            console.error(\"❌ Error overlaying QR code:\", error);\n            // Return original image if QR overlay fails\n            return imageUrl;\n        }\n    };\n    // Upload state\n    const [handwritingSample, setHandwritingSample] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [handwritingSampleUrl, setHandwritingSampleUrl] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [referenceImages, setReferenceImages] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [referenceImageUrls, setReferenceImageUrls] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [imageTransformation, setImageTransformation] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [isUploading, setIsUploading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // Email state\n    const [userEmail, setUserEmail] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    // Card ID for URL generation (generated once per card creation)\n    const [currentCardId, setCurrentCardId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    // New options for handwritten messages and single-sided printing\n    const [isHandwrittenMessage, setIsHandwrittenMessage] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [isFrontBackOnly, setIsFrontBackOnly] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // Paper size options\n    const [selectedPaperSize, setSelectedPaperSize] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"standard\");\n    // Loading states for each card section\n    const [sectionLoadingStates, setSectionLoadingStates] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        frontCover: \"idle\",\n        backCover: \"idle\",\n        leftInterior: \"idle\",\n        rightInterior: \"idle\"\n    });\n    // Clean progress tracking\n    const [progressPercentage, setProgressPercentage] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    // Cleanup countdown interval on unmount\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        return ()=>{\n            if (countdownInterval) {\n                clearInterval(countdownInterval);\n            }\n        };\n    }, [\n        countdownInterval\n    ]);\n    // Track if initial load is complete\n    const [isInitialLoadComplete, setIsInitialLoadComplete] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // Textarea expand state\n    const [isTextareaExpanded, setIsTextareaExpanded] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [isMessageExpanded, setIsMessageExpanded] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // Message version control and refinement\n    const [messageHistory, setMessageHistory] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [currentMessageIndex, setCurrentMessageIndex] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(-1);\n    const [refinementPrompt, setRefinementPrompt] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [isRefiningMessage, setIsRefiningMessage] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [showRefinementBox, setShowRefinementBox] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // Settings menu state\n    const [showSettings, setShowSettings] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // Template selection state\n    const [showTemplateGallery, setShowTemplateGallery] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [templateSearchQuery, setTemplateSearchQuery] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [isSearchingTemplates, setIsSearchingTemplates] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [aiFilteredCards, setAiFilteredCards] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [searchMode, setSearchMode] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"text\");\n    const [textFilteredCards, setTextFilteredCards] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [showPrompts, setShowPrompts] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // Print options state\n    const [printOption, setPrintOption] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"physical\");\n    // Preload template cards for instant access\n    const { preloadAllCards, getCachedCards, totalCards } = (0,_hooks_useCardCache__WEBPACK_IMPORTED_MODULE_20__.useCardCache)();\n    // Print confirmation dialog state\n    const [showPrintConfirmation, setShowPrintConfirmation] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // Generation time tracking\n    const [generationDuration, setGenerationDuration] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [generationStartTime, setGenerationStartTime] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [currentElapsedTime, setCurrentElapsedTime] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const [elapsedTimeInterval, setElapsedTimeInterval] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    // Helper function to format generation time\n    const formatGenerationTime = (durationSeconds)=>{\n        const minutes = Math.floor(durationSeconds / 60);\n        const seconds = Math.floor(durationSeconds % 60);\n        if (minutes > 0) {\n            return \"\".concat(minutes, \"m \").concat(seconds, \"s\");\n        }\n        return \"\".concat(seconds, \"s\");\n    };\n    // Helper function to scroll to card preview\n    const scrollToCardPreview = ()=>{\n        setTimeout(()=>{\n            const cardPreviewElement = document.querySelector(\"[data-card-preview]\");\n            if (cardPreviewElement) {\n                cardPreviewElement.scrollIntoView({\n                    behavior: \"smooth\",\n                    block: \"start\"\n                });\n            }\n        }, 500);\n    };\n    // Start elapsed time tracking\n    const startElapsedTimeTracking = (startTime, estimatedTotalSeconds)=>{\n        const start = startTime || Date.now();\n        setGenerationStartTime(start);\n        // Save start time to localStorage for persistence\n        localStorage.setItem(\"generation-start-time\", start.toString());\n        // Clear any existing interval\n        if (elapsedTimeInterval) {\n            clearInterval(elapsedTimeInterval);\n        }\n        // Start new interval to update elapsed time and progress every second\n        const interval = setInterval(()=>{\n            const elapsed = (Date.now() - start) / 1000; // Convert to seconds\n            setCurrentElapsedTime(elapsed);\n            // Use provided estimated total or default based on mode\n            const estimatedTotal = estimatedTotalSeconds || (isDraftMode ? 45 : 150); // 45 seconds for draft mode, 150 seconds (2.5 minutes) for final\n            const percentage = Math.min(elapsed / estimatedTotal * 100, 95); // Cap at 95% until completion\n            setProgressPercentage(percentage);\n        }, 1000);\n        setElapsedTimeInterval(interval);\n    };\n    // Stop elapsed time tracking\n    const stopElapsedTimeTracking = ()=>{\n        if (elapsedTimeInterval) {\n            clearInterval(elapsedTimeInterval);\n            setElapsedTimeInterval(null);\n        }\n        localStorage.removeItem(\"generation-start-time\");\n    };\n    // Restore elapsed time tracking from localStorage\n    const restoreElapsedTimeTracking = ()=>{\n        const savedStartTime = localStorage.getItem(\"generation-start-time\");\n        if (savedStartTime && isGenerating) {\n            const startTime = parseInt(savedStartTime);\n            const elapsed = (Date.now() - startTime) / 1000;\n            setCurrentElapsedTime(elapsed);\n            startElapsedTimeTracking(startTime);\n        }\n    };\n    // localStorage persistence hooks\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        // Load saved state from localStorage on component mount\n        const loadSavedState = ()=>{\n            try {\n                const savedFormData = localStorage.getItem(\"vibecarding-form-data\");\n                console.log(\"\\uD83D\\uDD0D Loading saved form data:\", savedFormData);\n                if (savedFormData) {\n                    const formData = JSON.parse(savedFormData);\n                    console.log(\"\\uD83D\\uDCCB Parsed form data:\", formData);\n                    setPrompt(formData.prompt || \"\");\n                    setFinalCardMessage(formData.finalCardMessage || \"\");\n                    setToField(formData.toField || \"\");\n                    setFromField(formData.fromField || \"\");\n                    setSelectedType(formData.selectedType || \"birthday\");\n                    setCustomCardType(formData.customCardType || \"\");\n                    setSelectedTone(formData.selectedTone || \"funny\");\n                    setSelectedArtisticStyle(formData.selectedArtisticStyle || \"watercolor\");\n                    setCustomStyleDescription(formData.customStyleDescription || \"\");\n                    setSelectedImageModel(formData.selectedImageModel || \"gpt-image-1\");\n                    setSelectedDraftModel(formData.selectedDraftModel || \"gpt-image-1\");\n                    setNumberOfCards(formData.numberOfCards || 1);\n                    setUserEmail(formData.userEmail || \"\");\n                    setReferenceImageUrls(formData.referenceImageUrls || []);\n                    setImageTransformation(formData.imageTransformation || \"\");\n                    setIsHandwrittenMessage(formData.isHandwrittenMessage || false);\n                    setIsFrontBackOnly(formData.isFrontBackOnly || false);\n                    setSelectedPaperSize(formData.selectedPaperSize || \"standard\");\n                    setShowAdvanced(formData.showAdvanced || false);\n                    setHandwritingSampleUrl(formData.handwritingSampleUrl || \"\");\n                    setIsTextareaExpanded(formData.isTextareaExpanded || false);\n                    setIsMessageExpanded(formData.isMessageExpanded || false);\n                    setMessageHistory(formData.messageHistory || []);\n                    setCurrentMessageIndex(formData.currentMessageIndex || -1);\n                    setShowRefinementBox(formData.showRefinementBox || false);\n                    setShowSettings(formData.showSettings || false);\n                    setShowPrintConfirmation(formData.showPrintConfirmation || false);\n                    setIsCardCompleted(formData.isCardCompleted || false);\n                    setGenerationDuration(formData.generationDuration || null);\n                    console.log(\"✅ Form data loaded successfully\");\n                } else {\n                    console.log(\"ℹ️ No saved form data found\");\n                }\n                const savedCards = localStorage.getItem(\"vibecarding-generated-cards\");\n                if (savedCards) {\n                    const cardsData = JSON.parse(savedCards);\n                    // Check for old format (with cards array) and migrate to new format\n                    if (cardsData.cards && Array.isArray(cardsData.cards)) {\n                        console.log(\"\\uD83D\\uDD04 Detected old localStorage format, migrating to new format...\");\n                        // Get the most recent card from the old format\n                        let mostRecentCard = null;\n                        if (cardsData.cards.length > 0) {\n                            // Use selected card if available, otherwise use the last card in array\n                            const selectedIndex = cardsData.selectedIndex || 0;\n                            mostRecentCard = cardsData.cards[selectedIndex] || cardsData.cards[cardsData.cards.length - 1];\n                            if (mostRecentCard) {\n                                // Convert to new format and save immediately\n                                const newCardsData = {\n                                    mostRecentCard: mostRecentCard,\n                                    generationDuration: cardsData.generationDuration || null\n                                };\n                                try {\n                                    localStorage.setItem(\"vibecarding-generated-cards\", JSON.stringify(newCardsData));\n                                    console.log(\"✅ Migrated to new localStorage format with most recent card\");\n                                } catch (error) {\n                                    console.error(\"❌ Failed to save migrated data:\", error);\n                                }\n                                // Set up the UI with the migrated card\n                                const cardWithDate = {\n                                    ...mostRecentCard,\n                                    createdAt: new Date(mostRecentCard.createdAt)\n                                };\n                                setGeneratedCards([\n                                    cardWithDate\n                                ]);\n                                setSelectedCardIndex(0);\n                                setGeneratedCard(cardWithDate);\n                                if (cardsData.generationDuration) {\n                                    setGenerationDuration(cardsData.generationDuration);\n                                }\n                            }\n                        } else {\n                            // Old format but no cards, just clear it\n                            console.log(\"\\uD83E\\uDDF9 Old format with no cards, clearing localStorage\");\n                            localStorage.removeItem(\"vibecarding-generated-cards\");\n                        }\n                    } else if (cardsData.mostRecentCard) {\n                        const mostRecentCard = {\n                            ...cardsData.mostRecentCard,\n                            createdAt: new Date(cardsData.mostRecentCard.createdAt)\n                        };\n                        setGeneratedCards([\n                            mostRecentCard\n                        ]);\n                        setSelectedCardIndex(0);\n                        setGeneratedCard(mostRecentCard);\n                        // Restore generation duration if available\n                        if (cardsData.generationDuration) {\n                            setGenerationDuration(cardsData.generationDuration);\n                            console.log(\"⏱️ Restored generation duration:\", cardsData.generationDuration, \"seconds\");\n                        }\n                        console.log(\"✅ Most recent card loaded from localStorage\");\n                    } else {\n                        console.log(\"\\uD83E\\uDDF9 Invalid localStorage format detected, clearing...\");\n                        localStorage.removeItem(\"vibecarding-generated-cards\");\n                    }\n                }\n            } catch (error) {\n                console.error(\"Error loading saved state:\", error);\n            }\n        };\n        // Cleanup function to remove any stale or unnecessary localStorage data\n        const cleanupLocalStorage = ()=>{\n            try {\n                // List of keys we want to keep\n                const keepKeys = [\n                    \"vibecarding-form-data\",\n                    \"vibecarding-generated-cards\",\n                    \"vibecarding-templates\",\n                    \"vibecarding-templates-timestamp\",\n                    \"generation-start-time\"\n                ];\n                // Get all localStorage keys that start with 'vibecarding-' or other app-related prefixes\n                const keysToCheck = [];\n                for(let i = 0; i < localStorage.length; i++){\n                    const key = localStorage.key(i);\n                    if (key && (key.startsWith(\"vibecarding-\") || key.startsWith(\"cardJob_\") || key === \"pendingCardJobs\")) {\n                        keysToCheck.push(key);\n                    }\n                }\n                // Remove any keys that are not in our keep list\n                let removedCount = 0;\n                keysToCheck.forEach((key)=>{\n                    if (!keepKeys.includes(key)) {\n                        // Special handling for job-related keys - keep recent ones, remove old ones\n                        if (key.startsWith(\"cardJob_\") || key === \"pendingCardJobs\") {\n                            try {\n                                if (key === \"pendingCardJobs\") {\n                                    const pendingJobs = JSON.parse(localStorage.getItem(key) || \"[]\");\n                                    // Keep only jobs from the last 24 hours\n                                    const oneDayAgo = Date.now() - 24 * 60 * 60 * 1000;\n                                    const recentJobs = pendingJobs.filter((jobId)=>{\n                                        const jobData = localStorage.getItem(\"cardJob_\".concat(jobId));\n                                        if (jobData) {\n                                            const job = JSON.parse(jobData);\n                                            return job.createdAt && job.createdAt > oneDayAgo;\n                                        }\n                                        return false;\n                                    });\n                                    if (recentJobs.length !== pendingJobs.length) {\n                                        localStorage.setItem(key, JSON.stringify(recentJobs));\n                                        console.log(\"\\uD83E\\uDDF9 Cleaned up \".concat(pendingJobs.length - recentJobs.length, \" old pending jobs\"));\n                                    }\n                                } else if (key.startsWith(\"cardJob_\")) {\n                                    const jobData = localStorage.getItem(key);\n                                    if (jobData) {\n                                        const job = JSON.parse(jobData);\n                                        const oneDayAgo = Date.now() - 24 * 60 * 60 * 1000;\n                                        if (!job.createdAt || job.createdAt < oneDayAgo) {\n                                            localStorage.removeItem(key);\n                                            removedCount++;\n                                        }\n                                    }\n                                }\n                            } catch (error) {\n                                // If we can't parse the job data, it's probably corrupted, so remove it\n                                localStorage.removeItem(key);\n                                removedCount++;\n                            }\n                        } else {\n                            // Remove any other unknown keys\n                            localStorage.removeItem(key);\n                            removedCount++;\n                        }\n                    }\n                });\n                if (removedCount > 0) {\n                    console.log(\"\\uD83E\\uDDF9 Cleaned up \".concat(removedCount, \" stale localStorage items\"));\n                }\n            } catch (error) {\n                console.error(\"Error during localStorage cleanup:\", error);\n            }\n        };\n        loadSavedState();\n        cleanupLocalStorage();\n        setIsInitialLoadComplete(true);\n        // Start preloading template cards immediately on page load\n        preloadAllCards();\n    }, [\n        preloadAllCards\n    ]);\n    // Cleanup elapsed time interval on unmount\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        return ()=>{\n            if (elapsedTimeInterval) {\n                clearInterval(elapsedTimeInterval);\n            }\n        };\n    }, [\n        elapsedTimeInterval\n    ]);\n    // Check for pending jobs and restore timer on page load\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        checkPendingJobs();\n        // Restore elapsed time tracking if generation is in progress\n        restoreElapsedTimeTracking();\n    }, []);\n    // Save form data to localStorage whenever form state changes\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        // Only save after initial load is complete to avoid overwriting loaded data\n        if (!isInitialLoadComplete) return;\n        const saveFormData = ()=>{\n            try {\n                const formData = {\n                    prompt,\n                    finalCardMessage,\n                    toField,\n                    fromField,\n                    selectedType,\n                    customCardType,\n                    selectedTone,\n                    selectedArtisticStyle,\n                    customStyleDescription,\n                    selectedImageModel,\n                    selectedDraftModel,\n                    numberOfCards,\n                    userEmail,\n                    referenceImageUrls,\n                    imageTransformation,\n                    isHandwrittenMessage,\n                    isFrontBackOnly,\n                    selectedPaperSize,\n                    showAdvanced,\n                    handwritingSampleUrl,\n                    isTextareaExpanded,\n                    isMessageExpanded,\n                    messageHistory,\n                    currentMessageIndex,\n                    showRefinementBox,\n                    showSettings,\n                    showPrintConfirmation,\n                    isCardCompleted,\n                    generationDuration\n                };\n                localStorage.setItem(\"vibecarding-form-data\", JSON.stringify(formData));\n                console.log(\"✅ Form data saved to localStorage:\", formData);\n            } catch (error) {\n                console.error(\"❌ Error saving form data:\", error);\n            }\n        };\n        saveFormData();\n    }, [\n        isInitialLoadComplete,\n        prompt,\n        finalCardMessage,\n        toField,\n        fromField,\n        selectedType,\n        customCardType,\n        selectedTone,\n        selectedArtisticStyle,\n        customStyleDescription,\n        selectedImageModel,\n        numberOfCards,\n        userEmail,\n        referenceImageUrls,\n        imageTransformation,\n        isHandwrittenMessage,\n        isFrontBackOnly,\n        selectedPaperSize,\n        showAdvanced,\n        handwritingSampleUrl,\n        isTextareaExpanded,\n        isMessageExpanded,\n        messageHistory,\n        currentMessageIndex,\n        showRefinementBox,\n        showSettings,\n        showPrintConfirmation,\n        isCardCompleted,\n        generationDuration\n    ]);\n    // Save only the most recent card to localStorage whenever it changes\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const saveGeneratedCards = ()=>{\n            try {\n                if (generatedCards.length === 0) return;\n                // Get the most recent card (the last one in the array, or the selected one)\n                const mostRecentCard = generatedCard || generatedCards[generatedCards.length - 1];\n                // Create lightweight version without base64 QR codes for localStorage\n                const cardForStorage = {\n                    ...mostRecentCard\n                };\n                if (cardForStorage.backCover && cardForStorage.backCover.startsWith(\"data:image/png;base64,\")) {\n                    // Don't store the base64 QR code version - it's too large for localStorage\n                    // The QR code will be regenerated when needed\n                    console.log(\"\\uD83D\\uDCBE Skipping base64 QR code storage for card:\", cardForStorage.id);\n                // Keep the original back cover URL if we have it\n                // Note: In practice, we'd need to store the original URL separately\n                // For now, we'll just not save the base64 version\n                }\n                const cardsData = {\n                    mostRecentCard: cardForStorage,\n                    generationDuration: generationDuration\n                };\n                localStorage.setItem(\"vibecarding-generated-cards\", JSON.stringify(cardsData));\n                console.log(\"\\uD83D\\uDCBE Most recent card saved to localStorage:\", cardForStorage.id);\n            } catch (error) {\n                console.error(\"Error saving generated cards:\", error);\n            }\n        };\n        if (generatedCards.length > 0) {\n            saveGeneratedCards();\n        }\n    }, [\n        generatedCards,\n        generatedCard,\n        generationDuration\n    ]);\n    // Track manual message changes for version control\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!isInitialLoadComplete) return;\n        const timeoutId = setTimeout(()=>{\n            if (finalCardMessage.trim() && messageHistory.length > 0 && finalCardMessage !== messageHistory[currentMessageIndex]) {\n                // User has manually edited the message, add to history\n                addMessageToHistory(finalCardMessage);\n            }\n        }, 2000); // Wait 2 seconds after user stops typing\n        return ()=>clearTimeout(timeoutId);\n    }, [\n        finalCardMessage,\n        isInitialLoadComplete\n    ]);\n    // Clear saved data function\n    const clearSavedData = ()=>{\n        try {\n            localStorage.removeItem(\"vibecarding-form-data\");\n            localStorage.removeItem(\"vibecarding-generated-cards\");\n            localStorage.removeItem(\"vibecarding-templates\");\n            localStorage.removeItem(\"vibecarding-templates-timestamp\");\n            sonner__WEBPACK_IMPORTED_MODULE_13__.toast.success(\"Saved data cleared!\");\n        } catch (error) {\n            console.error(\"Error clearing saved data:\", error);\n            sonner__WEBPACK_IMPORTED_MODULE_13__.toast.error(\"Failed to clear saved data\");\n        }\n    };\n    // Storage management function\n    const getStorageUsage = ()=>{\n        try {\n            let totalSize = 0;\n            for(let key in localStorage){\n                if (localStorage.hasOwnProperty(key) && key.startsWith(\"vibecarding-\")) {\n                    totalSize += localStorage[key].length;\n                }\n            }\n            return {\n                used: totalSize,\n                usedMB: (totalSize / (1024 * 1024)).toFixed(2),\n                percentage: Math.round(totalSize / (5 * 1024 * 1024) * 100) // Assume 5MB limit\n            };\n        } catch (error) {\n            return {\n                used: 0,\n                usedMB: \"0\",\n                percentage: 0\n            };\n        }\n    };\n    // Template customization state\n    const [showTemplateCustomization, setShowTemplateCustomization] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [selectedTemplate, setSelectedTemplate] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [templateCustomizations, setTemplateCustomizations] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        promptChanges: \"\",\n        messageChanges: \"\",\n        useReferenceImage: false,\n        referenceImageFile: null,\n        referenceImageUrls: [],\n        referenceImageTransformation: \"\"\n    });\n    const applyTemplate = (template)=>{\n        // Store the selected template and show customization dialog\n        setSelectedTemplate(template);\n        setShowTemplateCustomization(true);\n        setShowTemplateGallery(false);\n        // Initialize customization form with template data\n        setTemplateCustomizations({\n            promptChanges: \"\",\n            messageChanges: \"\",\n            useReferenceImage: false,\n            referenceImageFile: null,\n            referenceImageUrls: [],\n            referenceImageTransformation: \"\"\n        });\n    };\n    // Generate card directly with existing prompts (for template customization)\n    const generateCardWithExistingPrompts = async (prompts)=>{\n        if (!userEmail.trim()) {\n            sonner__WEBPACK_IMPORTED_MODULE_13__.toast.error(\"Please enter your email address\");\n            return;\n        }\n        // Clear all draft mode states to prevent UI conflicts\n        setIsDraftMode(false);\n        setDraftCards([]);\n        setDraftIndexMapping([]);\n        setSelectedDraftIndex(-1);\n        setIsGeneratingFinalCard(false);\n        setPreviewingDraftIndex(-1);\n        setDraftCompletionShown(false); // Reset completion flag\n        // Clear any existing card states\n        setGeneratedCards([]);\n        setGeneratedCard(null);\n        setSelectedCardIndex(0);\n        setCurrentCardId(null);\n        setIsCardCompleted(false);\n        setIsGenerating(true);\n        startElapsedTimeTracking();\n        setGenerationProgress(\"\\uD83C\\uDFA8 Creating your customized template card...\");\n        setProgressPercentage(0);\n        try {\n            // Create job tracking\n            const jobId = (0,uuid__WEBPACK_IMPORTED_MODULE_36__[\"default\"])();\n            setCurrentJobId(jobId);\n            const cardTypeForPrompt = selectedType === \"custom\" ? customCardType : selectedType;\n            const paperConfig = paperSizes.find((size)=>size.id === selectedPaperSize) || paperSizes[0];\n            // Handle message customization\n            let messageContent = templateCustomizations.messageChanges.trim() || finalCardMessage;\n            if (isHandwrittenMessage) {\n                messageContent = \"[Blank space for handwritten message]\";\n            }\n            // Update the right interior prompt with custom message if provided\n            if (messageContent && prompts.rightInterior && !isHandwrittenMessage) {\n                prompts.rightInterior = prompts.rightInterior.replace(/Include message text: \"[^\"]*\"/g, 'Include message text: \"'.concat(messageContent, '\"')).replace(/\"MESSAGE GOES HERE\"/g, '\"'.concat(messageContent, '\"')).replace(/MESSAGE GOES HERE/g, messageContent);\n            }\n            // Save job data\n            const jobData = {\n                prompt: (selectedTemplate === null || selectedTemplate === void 0 ? void 0 : selectedTemplate.prompt) || \"\",\n                selectedType,\n                customCardType,\n                selectedTone,\n                finalCardMessage: messageContent,\n                toField,\n                fromField,\n                userEmail,\n                selectedArtisticStyle,\n                customStyleDescription,\n                selectedImageModel,\n                isFrontBackOnly,\n                numberOfCards: 1,\n                selectedPaperSize,\n                prompts,\n                paperConfig,\n                isTemplateCustomization: true\n            };\n            saveJobToStorage(jobId, jobData);\n            setGenerationProgress(\"\\uD83D\\uDE80 Starting your personalized template card generation...\");\n            // Prepare input images for reference photo support\n            const inputImages = [];\n            // Include both template customization reference images and main reference images\n            if (selectedImageModel === \"gpt-image-1\") {\n                // Add template customization reference images\n                if (templateCustomizations.referenceImageUrls.length > 0) {\n                    inputImages.push(...templateCustomizations.referenceImageUrls);\n                    console.log(\"\\uD83D\\uDD0D DEBUG: Added template customization reference images:\", templateCustomizations.referenceImageUrls);\n                }\n                // Add main reference images from the form\n                if (referenceImageUrls.length > 0) {\n                    inputImages.push(...referenceImageUrls);\n                    console.log(\"\\uD83D\\uDD0D DEBUG: Added main form reference images:\", referenceImageUrls);\n                }\n                if (inputImages.length > 0) {\n                    console.log(\"\\uD83D\\uDD0D DEBUG: Total input images for template generation:\", inputImages.length);\n                    sonner__WEBPACK_IMPORTED_MODULE_13__.toast.success(\"\\uD83D\\uDCF8 \".concat(inputImages.length, \" reference photo\").concat(inputImages.length > 1 ? \"s\" : \"\", \" ready for template customization!\"));\n                }\n            }\n            // Enhance prompts with reference image instructions if available\n            const enhancedPrompts = {\n                ...prompts\n            };\n            if (inputImages.length > 0 && selectedImageModel === \"gpt-image-1\") {\n                var _templateCustomizations_referenceImageUrls;\n                const totalReferenceImages = (((_templateCustomizations_referenceImageUrls = templateCustomizations.referenceImageUrls) === null || _templateCustomizations_referenceImageUrls === void 0 ? void 0 : _templateCustomizations_referenceImageUrls.length) || 0) + ((referenceImageUrls === null || referenceImageUrls === void 0 ? void 0 : referenceImageUrls.length) || 0);\n                const characterInstructions = \"\\n\\nCRITICAL CHARACTER REFERENCE INSTRUCTIONS: I have provided \".concat(totalReferenceImages > 1 ? \"multiple reference photos\" : \"a reference photo\", \" as input image\").concat(totalReferenceImages > 1 ? \"s\" : \"\", \". You MUST create cartoon/illustrated characters that accurately represent ONLY the people who are actually visible in \").concat(totalReferenceImages > 1 ? \"these reference photos\" : \"this reference photo\", \" with high fidelity to their appearance.\\n\\nMANDATORY CHARACTER MATCHING REQUIREMENTS - ONLY INCLUDE WHAT IS ACTUALLY VISIBLE:\\n- REPRESENT ONLY PEOPLE ACTUALLY IN THE PHOTOS: Create cartoon versions of ONLY the people who are actually shown in the reference photos. Do NOT add, create, or imagine any additional people not present in the reference images.\\n- EXACT hair color, hair style, and hair length from each reference photo - only what is actually visible\\n- PRECISE facial features for each person: eye color, eye shape, nose shape, face structure, skin tone - exactly as shown in the reference\\n- ACCURATE clothing: replicate ONLY the EXACT clothing items, colors, patterns, and styles actually worn by each person in their reference photo - do not add or change any clothing items\\n- ACCESSORIES ONLY IF VISIBLE: Include accessories (glasses, jewelry, hats, watches, bags, etc.) ONLY if they are actually visible on each person in the reference photo. DO NOT add glasses if they are not wearing glasses in the photo. DO NOT add jewelry if they are not wearing jewelry in the photo. DO NOT add any accessories that are not clearly visible in the reference image.\\n- CORRECT body proportions and posture as shown for each person in their reference\\n- FAITHFUL age representation and gender presentation for each individual - exactly as they appear\\n- AUTHENTIC facial expressions and poses from the reference images, lean towards making the people look happier unless the user specifically asks for a different expression\\n- GROUP COMPOSITION: If multiple people are actually shown in the photos, arrange them naturally together in a pleasing composition that fits the card's theme\\n\\nCRITICAL RESTRICTION: Do not add, remove, or modify any visual elements beyond what is actually visible in the reference photos. Only include people, clothing, and accessories that are clearly shown in the reference images.\\n\\n\").concat(templateCustomizations.referenceImageTransformation || imageTransformation || \"Study every detail of the people actually in the reference image and recreate them as stylized cartoon characters while maintaining 100% accuracy to their distinctive visual features. The characters must be immediately recognizable as the same people from the reference photo. Pay special attention to clothing details and accessories that are actually visible, and unique personal style elements that make each person distinctive. Do not add or imagine any elements not present in the reference.\", \"\\n\\nThe cartoon style should be charming and artistic while preserving complete visual accuracy to the reference photo. Only represent people, clothing, and accessories that are actually visible in the reference images.\");\n                if (enhancedPrompts.frontCover) {\n                    enhancedPrompts.frontCover += characterInstructions;\n                }\n            }\n            const response = await fetch(\"/api/generate-card-async\", {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                    jobId,\n                    prompts: enhancedPrompts,\n                    config: {\n                        userNumber: \"+17145986105\",\n                        modelVersion: selectedImageModel,\n                        aspectRatio: paperConfig.aspectRatio,\n                        quality: \"high\",\n                        outputFormat: \"jpeg\",\n                        outputCompression: 100,\n                        moderation: \"low\",\n                        dimensions: paperConfig.dimensions,\n                        isFrontBackOnly,\n                        userEmail,\n                        cardType: cardTypeForPrompt,\n                        toField,\n                        fromField,\n                        isDraftMode: false,\n                        isTemplateCustomization: true,\n                        ...inputImages.length > 0 && {\n                            input_images: inputImages,\n                            input_images_mode: \"front_cover_only\" // All reference images should go to front cover for character creation\n                        }\n                    }\n                })\n            });\n            if (!response.ok) {\n                throw new Error(\"Server error: \".concat(response.status));\n            }\n            const result = await response.json();\n            if (result.status !== \"processing\") {\n                throw new Error(result.message || \"Failed to start card generation\");\n            }\n            setGenerationProgress(\"✨ Bringing your customized template to life...\");\n            sonner__WEBPACK_IMPORTED_MODULE_13__.toast.success(\"\\uD83C\\uDF89 Your personalized template card generation started!\");\n            pollJobStatus(jobId);\n        } catch (error) {\n            console.error(\"Template customization generation error:\", error);\n            sonner__WEBPACK_IMPORTED_MODULE_13__.toast.error(\"Failed to generate customized card. Please try again.\");\n            if (currentJobId) {\n                removeJobFromStorage(currentJobId);\n                setCurrentJobId(null);\n            }\n            setIsGenerating(false);\n            setGenerationProgress(\"\");\n            stopElapsedTimeTracking();\n        }\n    };\n    const handleApplyTemplateWithCustomizations = async ()=>{\n        if (!selectedTemplate) return;\n        // Show loading state if we have customizations to process\n        if (templateCustomizations.promptChanges.trim() && selectedTemplate.generatedPrompts) {\n            sonner__WEBPACK_IMPORTED_MODULE_13__.toast.info(\"\\uD83E\\uDD16 AI is applying your customizations to the template...\");\n        }\n        // Apply template data to form - start with original prompt\n        let finalPrompt = selectedTemplate.prompt || \"\";\n        // If we have customizations and generated prompts, modify them directly and generate immediately\n        if (templateCustomizations.promptChanges.trim() && selectedTemplate.generatedPrompts) {\n            try {\n                // Directly modify the generated prompts using AI\n                const modificationQuery = \"You are an expert at modifying detailed image generation prompts for greeting cards. You have existing prompts for each section of a card, and the user wants to make specific changes.\\n\\nUSER'S CUSTOMIZATION REQUEST: \\\"\".concat(templateCustomizations.promptChanges, \"\\\"\\n\\nTASK: Modify each of the provided prompts to incorporate the user's requested changes while preserving all the original technical specifications, safety guidelines, and artistic details.\\n\\nINSTRUCTIONS:\\n1. Only modify elements specifically mentioned in the user's customization request\\n2. Preserve ALL technical specifications (portrait format, text positioning, edge safety, etc.)\\n3. Maintain the same artistic style and quality level\\n4. Keep all safety guidelines and content policies\\n5. Preserve the greeting card context and purpose\\n6. If the customization affects multiple sections, apply it consistently\\n\\nORIGINAL PROMPTS TO MODIFY:\\n\\nFRONT COVER:\\n\").concat(selectedTemplate.generatedPrompts.frontCover, \"\\n\\nBACK COVER:\\n\").concat(selectedTemplate.generatedPrompts.backCover, \"\\n\\n\").concat(selectedTemplate.generatedPrompts.leftInterior ? \"LEFT INTERIOR:\\n\".concat(selectedTemplate.generatedPrompts.leftInterior, \"\\n\\n\") : \"\").concat(selectedTemplate.generatedPrompts.rightInterior ? \"RIGHT INTERIOR:\\n\".concat(selectedTemplate.generatedPrompts.rightInterior) : \"\", '\\n\\nReturn the modified prompts in JSON format:\\n{\\n  \"frontCover\": \"complete modified front cover prompt\",\\n  \"backCover\": \"complete modified back cover prompt\"').concat(selectedTemplate.generatedPrompts.leftInterior ? ',\\n  \"leftInterior\": \"complete modified left interior prompt\"' : \"\").concat(selectedTemplate.generatedPrompts.rightInterior ? ',\\n  \"rightInterior\": \"complete modified right interior prompt\"' : \"\", \"\\n}\");\n                const modifiedPrompts = await chatWithAI(modificationQuery, {\n                    model: \"gemini-2.5-pro\",\n                    includeThoughts: false,\n                    jsonSchema: {\n                        type: \"object\",\n                        properties: {\n                            frontCover: {\n                                type: \"string\"\n                            },\n                            backCover: {\n                                type: \"string\"\n                            },\n                            ...selectedTemplate.generatedPrompts.leftInterior ? {\n                                leftInterior: {\n                                    type: \"string\"\n                                }\n                            } : {},\n                            ...selectedTemplate.generatedPrompts.rightInterior ? {\n                                rightInterior: {\n                                    type: \"string\"\n                                }\n                            } : {}\n                        },\n                        required: [\n                            \"frontCover\",\n                            \"backCover\"\n                        ]\n                    }\n                });\n                if (modifiedPrompts && modifiedPrompts.frontCover) {\n                    // Generate card directly with modified prompts, bypassing the normal prompt-to-prompts flow\n                    sonner__WEBPACK_IMPORTED_MODULE_13__.toast.info(\"\\uD83E\\uDD16 AI has customized the template prompts! Generating your personalized card...\");\n                    // Set basic form data\n                    setPrompt(selectedTemplate.prompt || \"\");\n                    // Clear states and start generation directly with modified prompts\n                    setGeneratedCards([]);\n                    setGeneratedCard(null);\n                    setSelectedCardIndex(0);\n                    setCurrentCardId(null);\n                    // Clear draft mode states to prevent UI conflicts\n                    setIsDraftMode(false);\n                    setDraftCards([]);\n                    setDraftIndexMapping([]);\n                    setSelectedDraftIndex(-1);\n                    setIsGeneratingFinalCard(false);\n                    setPreviewingDraftIndex(-1);\n                    setDraftCompletionShown(false); // Reset completion flag\n                    // Clear progress states\n                    setGenerationProgress(\"\");\n                    setIsGenerating(false);\n                    setIsCardCompleted(false);\n                    // Close dialogs\n                    setShowTemplateCustomization(false);\n                    setSelectedTemplate(null);\n                    // Start generation with modified prompts\n                    setTimeout(()=>{\n                        generateCardWithExistingPrompts(modifiedPrompts);\n                    }, 1000);\n                    return; // Exit early since we're handling generation directly\n                }\n            } catch (error) {\n                console.error(\"Failed to modify template prompts directly:\", error);\n                sonner__WEBPACK_IMPORTED_MODULE_13__.toast.error(\"Failed to customize template prompts. Using fallback method.\");\n            }\n        }\n        // Fallback: modify the user prompt and use normal generation flow\n        if (templateCustomizations.promptChanges.trim()) {\n            finalPrompt = \"\".concat(finalPrompt, \"\\n\\nCUSTOMIZATION REQUEST: \").concat(templateCustomizations.promptChanges);\n        }\n        setPrompt(finalPrompt);\n        // Try to extract card type from prompt\n        const promptLower = (selectedTemplate.prompt || \"\").toLowerCase();\n        let detectedType = \"birthday\"; // default\n        cardTypes.forEach((type)=>{\n            if (type.id !== \"custom\" && promptLower.includes(type.id.toLowerCase())) {\n                detectedType = type.id;\n            }\n        });\n        setSelectedType(detectedType);\n        // Apply message customizations\n        if (templateCustomizations.messageChanges.trim()) {\n            setFinalCardMessage(templateCustomizations.messageChanges);\n        } else {\n            setFinalCardMessage(\"\"); // Let it auto-generate\n        }\n        // Handle reference image if provided\n        if (templateCustomizations.useReferenceImage && templateCustomizations.referenceImageFile) {\n            try {\n                // Upload the reference image\n                const formData = new FormData();\n                formData.append(\"file\", templateCustomizations.referenceImageFile);\n                const uploadResponse = await fetch(\"\".concat(BACKEND_API_BASE_URL, \"/upload\"), {\n                    method: \"POST\",\n                    body: formData\n                });\n                if (uploadResponse.ok) {\n                    const uploadResult = await uploadResponse.json();\n                    // Add to existing reference images instead of replacing them\n                    setReferenceImages((prev)=>[\n                            ...prev,\n                            templateCustomizations.referenceImageFile\n                        ]);\n                    setReferenceImageUrls((prev)=>[\n                            ...prev,\n                            uploadResult.url\n                        ]);\n                    setImageTransformation(templateCustomizations.referenceImageTransformation || \"Transform into the same artistic style as the template\");\n                    sonner__WEBPACK_IMPORTED_MODULE_13__.toast.success(\"Reference image uploaded successfully!\");\n                } else {\n                    sonner__WEBPACK_IMPORTED_MODULE_13__.toast.error(\"Failed to upload reference image\");\n                }\n            } catch (error) {\n                console.error(\"Reference image upload failed:\", error);\n                sonner__WEBPACK_IMPORTED_MODULE_13__.toast.error(\"Failed to upload reference image\");\n            }\n        }\n        // Clear current generated cards since we're starting fresh with a template\n        setGeneratedCards([]);\n        setGeneratedCard(null);\n        setSelectedCardIndex(0);\n        setCurrentCardId(null);\n        // Clear draft mode states to prevent UI conflicts\n        setIsDraftMode(false);\n        setDraftCards([]);\n        setDraftIndexMapping([]);\n        setSelectedDraftIndex(-1);\n        setIsGeneratingFinalCard(false);\n        setPreviewingDraftIndex(-1);\n        setDraftCompletionShown(false); // Reset completion flag\n        // Clear progress states\n        setGenerationProgress(\"\");\n        setIsGenerating(false);\n        setIsCardCompleted(false);\n        // Close customization dialog\n        setShowTemplateCustomization(false);\n        setSelectedTemplate(null);\n        const customizationSummary = [];\n        if (templateCustomizations.promptChanges.trim()) customizationSummary.push(\"prompt changes\");\n        if (templateCustomizations.messageChanges.trim()) customizationSummary.push(\"custom message\");\n        if (templateCustomizations.useReferenceImage) customizationSummary.push(\"reference image\");\n        const summaryText = customizationSummary.length > 0 ? \" with \".concat(customizationSummary.join(\", \")) : \"\";\n        sonner__WEBPACK_IMPORTED_MODULE_13__.toast.success(\"✨ Template customized\".concat(summaryText, \"! Generating your personalized card...\"));\n        // Automatically start card generation\n        setTimeout(()=>{\n            handleGenerateCardAsync();\n        }, 1000); // Small delay to let the user see the success message\n    };\n    // Create new card function - clears all data\n    const handleCreateNewCard = ()=>{\n        // Clear all form fields\n        setPrompt(\"\");\n        setFinalCardMessage(\"\");\n        setToField(\"\");\n        setFromField(\"\");\n        setSelectedType(\"birthday\");\n        setCustomCardType(\"\");\n        setSelectedTone(\"funny\");\n        setSelectedArtisticStyle(\"watercolor\");\n        setCustomStyleDescription(\"\");\n        setSelectedImageModel(\"gpt-image-1\");\n        setNumberOfCards(1);\n        setUserEmail(\"\");\n        setReferenceImages([]);\n        setReferenceImageUrls([]);\n        setImageTransformation(\"\");\n        setHandwritingSample(null);\n        setHandwritingSampleUrl(null);\n        setIsHandwrittenMessage(false);\n        setIsFrontBackOnly(false);\n        setSelectedPaperSize(\"standard\");\n        // Clear generated cards\n        setGeneratedCards([]);\n        setGeneratedCard(null);\n        setSelectedCardIndex(0);\n        setCurrentCardId(null);\n        // Clear draft mode states\n        setIsDraftMode(false);\n        setDraftCards([]);\n        setDraftIndexMapping([]);\n        setSelectedDraftIndex(-1);\n        setIsGeneratingFinalCard(false);\n        setPreviewingDraftIndex(-1);\n        setDraftCompletionShown(false);\n        // Clear progress and states\n        setGenerationProgress(\"\");\n        setIsGenerating(false);\n        setIsGeneratingMessage(false);\n        setIsCardCompleted(false);\n        setCountdown(0);\n        if (countdownInterval) {\n            clearInterval(countdownInterval);\n            setCountdownInterval(null);\n        }\n        // Clear message history\n        setMessageHistory([]);\n        setCurrentMessageIndex(-1);\n        setRefinementPrompt(\"\");\n        setShowRefinementBox(false);\n        // Clear localStorage\n        try {\n            localStorage.removeItem(\"vibecarding-form-data\");\n            localStorage.removeItem(\"vibecarding-generated-cards\");\n        } catch (error) {\n            console.error(\"Error clearing localStorage:\", error);\n        }\n        sonner__WEBPACK_IMPORTED_MODULE_13__.toast.success(\"✨ Ready to create a new card!\");\n    };\n    // Regenerate with same prompt function\n    const handleRegenerateCard = ()=>{\n        // Keep all current settings but clear generated results\n        setGeneratedCards([]);\n        setGeneratedCard(null);\n        setSelectedCardIndex(0);\n        setCurrentCardId(null);\n        // Clear draft mode states\n        setIsDraftMode(false);\n        setDraftCards([]);\n        setDraftIndexMapping([]);\n        setSelectedDraftIndex(-1);\n        setIsGeneratingFinalCard(false);\n        setPreviewingDraftIndex(-1);\n        setDraftCompletionShown(false);\n        // Clear progress and states\n        setGenerationProgress(\"\");\n        setIsGenerating(false);\n        setIsGeneratingMessage(false);\n        setIsCardCompleted(false);\n        setCountdown(0);\n        if (countdownInterval) {\n            clearInterval(countdownInterval);\n            setCountdownInterval(null);\n        }\n        // Clear generated cards from localStorage but keep form data\n        try {\n            localStorage.removeItem(\"vibecarding-generated-cards\");\n        } catch (error) {\n            console.error(\"Error clearing generated cards:\", error);\n        }\n        sonner__WEBPACK_IMPORTED_MODULE_13__.toast.success(\"\\uD83D\\uDD04 Ready to regenerate with the same settings!\");\n    };\n    // Message version control functions\n    const addMessageToHistory = (message)=>{\n        if (message.trim() === \"\") return;\n        // Safety check: Remove any MESSAGE tags that might have slipped through\n        const cleanMessage = message.replace(/<\\/?MESSAGE>/g, \"\").trim();\n        if (cleanMessage === \"\") return;\n        // Remove any future history if we're not at the end\n        const newHistory = messageHistory.slice(0, currentMessageIndex + 1);\n        newHistory.push(cleanMessage);\n        // Keep only last 10 versions to prevent memory issues\n        if (newHistory.length > 10) {\n            newHistory.shift();\n        } else {\n            setCurrentMessageIndex(currentMessageIndex + 1);\n        }\n        setMessageHistory(newHistory);\n        setCurrentMessageIndex(newHistory.length - 1);\n    };\n    const undoMessage = ()=>{\n        if (currentMessageIndex > 0) {\n            const newIndex = currentMessageIndex - 1;\n            setCurrentMessageIndex(newIndex);\n            setFinalCardMessage(messageHistory[newIndex]);\n        }\n    };\n    const redoMessage = ()=>{\n        if (currentMessageIndex < messageHistory.length - 1) {\n            const newIndex = currentMessageIndex + 1;\n            setCurrentMessageIndex(newIndex);\n            setFinalCardMessage(messageHistory[newIndex]);\n        }\n    };\n    // Handle message refinement\n    const handleRefineMessage = async ()=>{\n        if (!refinementPrompt.trim() || !finalCardMessage.trim()) {\n            sonner__WEBPACK_IMPORTED_MODULE_13__.toast.error(\"Please enter both a message and refinement instructions!\");\n            return;\n        }\n        setIsRefiningMessage(true);\n        try {\n            const cardTypeForPrompt = selectedType === \"custom\" ? customCardType : selectedType;\n            const selectedToneObj = cardTones.find((tone)=>tone.id === selectedTone);\n            const toneDescription = selectedToneObj ? selectedToneObj.description.toLowerCase() : \"heartfelt and sincere\";\n            const refinementAPIPrompt = \"Please refine this greeting card message based on the user's instructions.\\n\\nCurrent Message: \\\"\".concat(finalCardMessage, '\"\\n\\nRefinement Instructions: \"').concat(refinementPrompt, '\"\\n\\nCard Context:\\n- Type: ').concat(cardTypeForPrompt, \"\\n- Tone: \").concat(toneDescription, \"\\n\").concat(toField ? \"- Recipient: \".concat(toField) : \"\", \"\\n\").concat(fromField ? \"- Sender: \".concat(fromField) : \"\", \"\\n\\nPlease provide only the refined message, maintaining the \").concat(toneDescription, \" tone while implementing the requested changes.\");\n            const refinedMessage = await chatWithAI(refinementAPIPrompt, {\n                model: \"gemini-2.5-pro\",\n                includeThoughts: false\n            });\n            if (refinedMessage === null || refinedMessage === void 0 ? void 0 : refinedMessage.trim()) {\n                // Add current message to history before changing\n                addMessageToHistory(finalCardMessage);\n                // Clean any potential MESSAGE tags from refined message (safety check)\n                const cleanedRefinedMessage = refinedMessage.trim().replace(/<\\/?MESSAGE>/g, \"\").trim();\n                // Set the new refined message\n                setFinalCardMessage(cleanedRefinedMessage);\n                // Add the new message to history\n                addMessageToHistory(cleanedRefinedMessage);\n                setRefinementPrompt(\"\");\n                setShowRefinementBox(false);\n                sonner__WEBPACK_IMPORTED_MODULE_13__.toast.success(\"Message refined successfully!\");\n            } else {\n                throw new Error(\"No message received\");\n            }\n        } catch (error) {\n            console.error(\"Error refining message:\", error);\n            sonner__WEBPACK_IMPORTED_MODULE_13__.toast.error(\"Failed to refine message. Please try again.\");\n        } finally{\n            setIsRefiningMessage(false);\n        }\n    };\n    // Writing Assistant\n    const handleGetMessageHelp = async ()=>{\n        // Validate custom card type if selected\n        if (selectedType === \"custom\" && !customCardType.trim()) {\n            sonner__WEBPACK_IMPORTED_MODULE_13__.toast.error(\"Please describe your custom card type first!\");\n            return;\n        }\n        setIsGeneratingMessage(true);\n        try {\n            const cardTypeForPrompt = selectedType === \"custom\" ? customCardType : selectedType;\n            const selectedToneObj = cardTones.find((tone)=>tone.id === selectedTone);\n            const toneDescription = selectedToneObj ? selectedToneObj.description.toLowerCase() : \"heartfelt and sincere\";\n            // Use effective prompt logic here too\n            const effectivePrompt = prompt.trim() || \"A beautiful \".concat(cardTypeForPrompt, \" card with \").concat(toneDescription, \" style\");\n            const messagePrompt = \"Create a \".concat(toneDescription, \" message for a \").concat(cardTypeForPrompt, ' greeting card.\\n\\nCard Theme/Description: \"').concat(effectivePrompt, '\"\\n').concat(toField ? \"Recipient: \".concat(toField) : \"Recipient: [not specified]\", \"\\n\").concat(fromField ? \"Sender: \".concat(fromField) : \"Sender: [not specified]\", \"\\nCard Tone: \").concat(selectedToneObj ? selectedToneObj.label : \"Heartfelt\", \" - \").concat(toneDescription, \"\\n\\nInstructions:\\n- Write a message that is \").concat(toneDescription, \" and feels personal and genuine\\n- \").concat(toField ? \"Address the message to \".concat(toField, \" directly, using their name naturally\") : \"Write in a way that could be personalized to any recipient\", \"\\n- \").concat(fromField ? \"Write as if \".concat(fromField, \" is personally writing this message\") : \"Write in a \".concat(toneDescription, \" tone\"), \"\\n- Match the \").concat(toneDescription, \" tone and occasion of the \").concat(cardTypeForPrompt, ' card type\\n- Be inspired by the theme: \"').concat(effectivePrompt, '\"\\n- Keep it concise but meaningful (2-4 sentences ideal)\\n- Make it feel authentic, not generic\\n- SAFETY: Never include brand names, character names, trademarked terms, or inappropriate content. If the theme references these, use generic alternatives or focus on the emotions/concepts instead\\n- Keep content family-friendly and appropriate for all ages\\n- ').concat(selectedTone === \"funny\" ? \"Include appropriate humor that fits the occasion\" : \"\", \"\\n- \").concat(selectedTone === \"genz-humor\" ? 'Use GenZ humor with internet slang, memes, and chaotic energy - think \"no cap\", \"periodt\", \"it\\'s giving...\", \"slay\", etc. Be unhinged but endearing' : \"\", \"\\n- \").concat(selectedTone === \"professional\" ? \"Keep it formal and business-appropriate\" : \"\", \"\\n- \").concat(selectedTone === \"romantic\" ? \"Include loving and romantic language\" : \"\", \"\\n- \").concat(selectedTone === \"playful\" ? \"Use fun and energetic language\" : \"\", \"\\n- \").concat(toField && fromField ? \"Show the relationship between \".concat(fromField, \" and \").concat(toField, \" through the \").concat(toneDescription, \" message tone\") : \"\", \"\\n- \").concat(fromField ? 'End the message with a signature line like \"Love, '.concat(fromField, '\" or \"- ').concat(fromField, '\" or similar, naturally integrated into the message.') : \"\", \"\\n\\nReturn ONLY the message text that should appear inside the card - no quotes, no explanations, no markdown formatting (no *bold*, _italics_, or other markdown), just the complete \").concat(toneDescription, \" message in plain text.\\n\\nIMPORTANT: Wrap your final message in <MESSAGE> </MESSAGE> tags. Everything outside these tags will be ignored.\");\n            const generatedMessage = await chatWithAI(messagePrompt, {\n                model: \"gemini-2.5-pro\",\n                includeThoughts: false // Don't include thinking content in message generation\n            });\n            if (generatedMessage === null || generatedMessage === void 0 ? void 0 : generatedMessage.trim()) {\n                // Extract message content between <MESSAGE> tags using regex\n                const messageMatch = generatedMessage.match(/<MESSAGE>([\\s\\S]*?)<\\/MESSAGE>/);\n                let extractedMessage = messageMatch ? messageMatch[1].trim() : generatedMessage.trim();\n                // Ensure no MESSAGE tags are included in the final message\n                extractedMessage = extractedMessage.replace(/<\\/?MESSAGE>/g, \"\").trim();\n                // Add current message to history if it exists and is different\n                if (finalCardMessage.trim() && finalCardMessage.trim() !== extractedMessage) {\n                    addMessageToHistory(finalCardMessage);\n                }\n                setFinalCardMessage(extractedMessage);\n                // Add the new message to history\n                addMessageToHistory(extractedMessage);\n                sonner__WEBPACK_IMPORTED_MODULE_13__.toast.success(\"✨ Personalized message created!\");\n            }\n        } catch (error) {\n            sonner__WEBPACK_IMPORTED_MODULE_13__.toast.error(\"Failed to generate message. Please try again.\");\n        } finally{\n            setIsGeneratingMessage(false);\n        }\n    };\n    // File upload handler\n    const handleFileUpload = async (file, type)=>{\n        if (!file.type.startsWith(\"image/\")) {\n            sonner__WEBPACK_IMPORTED_MODULE_13__.toast.error(\"Please upload an image file\");\n            return;\n        }\n        setIsUploading(true);\n        try {\n            const formData = new FormData();\n            formData.append(\"file\", file);\n            const response = await fetch(\"\".concat(BACKEND_API_BASE_URL, \"/upload\"), {\n                method: \"POST\",\n                body: formData\n            });\n            if (!response.ok) throw new Error(\"Upload failed: \".concat(response.status));\n            const result = await response.json();\n            if (type === \"handwriting\") {\n                setHandwritingSample(file);\n                setHandwritingSampleUrl(result.url);\n                sonner__WEBPACK_IMPORTED_MODULE_13__.toast.success(\"Handwriting sample uploaded!\");\n            } else {\n                setReferenceImages((prev)=>[\n                        ...prev,\n                        file\n                    ]);\n                setReferenceImageUrls((prev)=>[\n                        ...prev,\n                        result.url\n                    ]);\n                console.log(\"\\uD83D\\uDD0D DEBUG: Reference image uploaded successfully:\", {\n                    fileName: file.name,\n                    url: result.url,\n                    totalImages: referenceImages.length + 1\n                });\n                sonner__WEBPACK_IMPORTED_MODULE_13__.toast.success(\"Reference image uploaded! \".concat(referenceImages.length + 1, \" photo\").concat(referenceImages.length + 1 > 1 ? \"s\" : \"\", \" ready for character creation.\"));\n            }\n        } catch (error) {\n            sonner__WEBPACK_IMPORTED_MODULE_13__.toast.error(\"Upload failed. Please try again.\");\n        } finally{\n            setIsUploading(false);\n        }\n    };\n    const handleRemoveReferenceImage = (index)=>{\n        const removedImage = referenceImages[index];\n        const removedUrl = referenceImageUrls[index];\n        setReferenceImages((prev)=>prev.filter((_, i)=>i !== index));\n        setReferenceImageUrls((prev)=>prev.filter((_, i)=>i !== index));\n        console.log(\"\\uD83D\\uDD0D DEBUG: Reference image removed:\", {\n            fileName: removedImage === null || removedImage === void 0 ? void 0 : removedImage.name,\n            url: removedUrl,\n            remainingImages: referenceImages.length - 1\n        });\n        sonner__WEBPACK_IMPORTED_MODULE_13__.toast.success(\"Reference image removed! \".concat(referenceImages.length - 1, \" photo\").concat(referenceImages.length - 1 !== 1 ? \"s\" : \"\", \" remaining.\"));\n    };\n    // Simplified draft mode generation - calls consolidated function 4 times\n    const handleGenerateDraftCards = async ()=>{\n        if (!userEmail.trim()) {\n            sonner__WEBPACK_IMPORTED_MODULE_13__.toast.error(\"Please enter your email address\");\n            return;\n        }\n        // Basic email validation\n        const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n        if (!emailRegex.test(userEmail)) {\n            sonner__WEBPACK_IMPORTED_MODULE_13__.toast.error(\"Please enter a valid email address\");\n            return;\n        }\n        // Validate custom style if selected\n        if (selectedArtisticStyle === \"custom\" && !customStyleDescription.trim()) {\n            sonner__WEBPACK_IMPORTED_MODULE_13__.toast.error(\"Please describe your custom artistic style\");\n            return;\n        }\n        // Validate reference images with model compatibility\n        if (referenceImageUrls.length > 0 && selectedDraftModel !== \"gpt-image-1\") {\n            var _imageModels_find;\n            console.log(\"\\uD83D\\uDD0D DEBUG: Reference image validation failed:\", {\n                referenceImageUrlsLength: referenceImageUrls.length,\n                referenceImageUrls: referenceImageUrls,\n                selectedDraftModel: selectedDraftModel,\n                referenceImagesLength: referenceImages.length\n            });\n            // Show a more helpful error with action buttons\n            const clearPhotos = ()=>{\n                setReferenceImages([]);\n                setReferenceImageUrls([]);\n                sonner__WEBPACK_IMPORTED_MODULE_13__.toast.success(\"Reference photos cleared! You can now use draft mode.\");\n            };\n            const switchToGPT1 = ()=>{\n                setSelectedDraftModel(\"gpt-image-1\");\n                sonner__WEBPACK_IMPORTED_MODULE_13__.toast.success(\"Switched to GPT Image 1 for draft mode!\");\n            };\n            sonner__WEBPACK_IMPORTED_MODULE_13__.toast.error(/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"space-y-2\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        children: \"Reference photos are only supported with GPT Image 1 model.\"\n                    }, void 0, false, {\n                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                        lineNumber: 2456,\n                        columnNumber: 12\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"text-xs\",\n                        children: [\n                            \"You have \",\n                            referenceImageUrls.length,\n                            \" reference photo\",\n                            referenceImageUrls.length > 1 ? \"s\" : \"\",\n                            \" but selected \",\n                            (_imageModels_find = imageModels.find((m)=>m.id === selectedDraftModel)) === null || _imageModels_find === void 0 ? void 0 : _imageModels_find.label,\n                            \".\"\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                        lineNumber: 2457,\n                        columnNumber: 12\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex gap-2 mt-2\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: switchToGPT1,\n                                className: \"px-2 py-1 bg-blue-600 text-white text-xs rounded hover:bg-blue-700\",\n                                children: \"Use GPT Image 1\"\n                            }, void 0, false, {\n                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                lineNumber: 2459,\n                                columnNumber: 14\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: clearPhotos,\n                                className: \"px-2 py-1 bg-red-600 text-white text-xs rounded hover:bg-red-700\",\n                                children: \"Remove Photos\"\n                            }, void 0, false, {\n                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                lineNumber: 2465,\n                                columnNumber: 14\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                        lineNumber: 2458,\n                        columnNumber: 12\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                lineNumber: 2455,\n                columnNumber: 10\n            }, this), {\n                duration: 8000\n            });\n            return;\n        }\n        setIsDraftMode(true);\n        setIsGenerating(true);\n        startElapsedTimeTracking(undefined, 45); // 45 seconds for draft mode\n        setGenerationProgress(\"\\uD83C\\uDFA8 Creating 10 front cover variations for you to choose from...\");\n        setProgressPercentage(0);\n        setDraftCards([]);\n        setDraftIndexMapping([]);\n        setSelectedDraftIndex(-1);\n        setDraftCompletionShown(false); // Reset completion flag\n        // Clear any previous card state to avoid UI conflicts\n        setGeneratedCard(null);\n        setGeneratedCards([]);\n        setIsCardCompleted(false);\n        try {\n            console.log(\"\\uD83D\\uDE80 Starting draft mode generation with 5 variations\");\n            // Show specific message for GPT-1 users about quality enforcement\n            if (selectedDraftModel === \"gpt-image-1\") {\n                const styleMessage = selectedArtisticStyle === \"ai-smart-style\" ? \" across 5 curated artistic styles!\" : \" (using low quality for fast previews)!\";\n                sonner__WEBPACK_IMPORTED_MODULE_13__.toast.success(\"\\uD83C\\uDFA8 Generating 5 front cover variations with GPT-1\".concat(styleMessage));\n            } else {\n                const styleMessage = selectedArtisticStyle === \"ai-smart-style\" ? \" across 5 curated artistic styles!\" : \" for you to choose from!\";\n                sonner__WEBPACK_IMPORTED_MODULE_13__.toast.success(\"\\uD83C\\uDFA8 Generating 5 front cover variations\".concat(styleMessage));\n            }\n            // Generate 5 draft variations with smart style distribution\n            const draftPromises = Array.from({\n                length: 5\n            }, async (_, index)=>{\n                try {\n                    console.log(\"\\uD83C\\uDFA8 Starting draft variation \".concat(index + 1));\n                    // For smart style, use predefined styles for all 5 variations\n                    let styleOverride = undefined;\n                    let styleLabel = undefined;\n                    if (selectedArtisticStyle === \"ai-smart-style\") {\n                        const predefinedStyles = [\n                            \"watercolor\",\n                            \"botanical\",\n                            \"hand-drawn\",\n                            \"dreamy-fantasy\",\n                            \"minimalist\"\n                        ];\n                        const styleLabels = [\n                            \"\\uD83C\\uDFA8 Watercolor\",\n                            \"\\uD83C\\uDF3F Botanical\",\n                            \"✏️ Hand-Drawn\",\n                            \"\\uD83C\\uDF38 Dreamy Fantasy\",\n                            \"✨ Minimalist\"\n                        ];\n                        styleOverride = predefinedStyles[index];\n                        styleLabel = styleLabels[index];\n                        console.log(\"\\uD83C\\uDFA8 Draft \".concat(index + 1, ': Using predefined style \"').concat(styleOverride, '\" (').concat(styleLabel, \")\"));\n                    }\n                    await handleGenerateCardAsyncInternal({\n                        isDraftMode: true,\n                        draftIndex: index,\n                        styleOverride: styleOverride,\n                        styleLabel: styleLabel,\n                        onDraftComplete: (card, idx)=>{\n                            console.log(\"✅ Draft variation \".concat(idx + 1, \" completed:\"), card.id);\n                            setDraftCards((prev)=>{\n                                const updated = [\n                                    ...prev\n                                ];\n                                updated[idx] = card;\n                                // Check if all 4 variations are complete\n                                const completedCount = updated.filter((c)=>c).length;\n                                console.log(\"\\uD83D\\uDCCA Draft progress: \".concat(completedCount, \"/4 variations complete\"));\n                                if (completedCount === 4) {\n                                    setIsGenerating(false);\n                                    setGenerationProgress(\"\");\n                                    setProgressPercentage(100);\n                                    stopElapsedTimeTracking();\n                                    sonner__WEBPACK_IMPORTED_MODULE_13__.toast.success(\"\\uD83C\\uDFA8 All 4 design variations ready! Choose your favorite below.\");\n                                } else {\n                                    setGenerationProgress(\"✨ \".concat(completedCount, \"/4 variations complete...\"));\n                                    setProgressPercentage(completedCount / 4 * 100);\n                                }\n                                return updated;\n                            });\n                        }\n                    });\n                } catch (error) {\n                    console.error(\"❌ Draft variation \".concat(index + 1, \" failed:\"), error);\n                    sonner__WEBPACK_IMPORTED_MODULE_13__.toast.error(\"Draft variation \".concat(index + 1, \" failed: \").concat(error instanceof Error ? error.message : \"Unknown error\"));\n                }\n            });\n            // Wait for all draft generations to start (but not complete)\n            await Promise.allSettled(draftPromises);\n            console.log(\"\\uD83D\\uDE80 All draft variations started\");\n        } catch (error) {\n            console.error(\"Draft card generation error:\", error);\n            sonner__WEBPACK_IMPORTED_MODULE_13__.toast.error(\"Failed to start draft generation: \".concat(error instanceof Error ? error.message : \"Unknown error\"));\n            setIsGenerating(false);\n            setIsDraftMode(false);\n            setDraftCompletionShown(false); // Reset completion flag\n            setGenerationProgress(\"\");\n            stopElapsedTimeTracking();\n        }\n    };\n    // Generate final high-quality card from selected draft\n    const handleGenerateFinalFromDraft = async (displayIndex)=>{\n        if (displayIndex < 0 || displayIndex >= draftCards.length || !draftCards[displayIndex]) {\n            sonner__WEBPACK_IMPORTED_MODULE_13__.toast.error(\"Invalid draft selection\");\n            return;\n        }\n        // Get the original draft index from the mapping\n        const originalDraftIndex = draftIndexMapping[displayIndex];\n        if (originalDraftIndex === undefined) {\n            sonner__WEBPACK_IMPORTED_MODULE_13__.toast.error(\"Could not find original draft data\");\n            return;\n        }\n        // Stop remaining draft generations to focus on the selected design\n        const remainingDrafts = 10 - draftCards.length;\n        if (remainingDrafts > 0 && isGenerating) {\n            setIsGenerating(false); // Stop the draft generation process\n            sonner__WEBPACK_IMPORTED_MODULE_13__.toast.info(\"\\uD83C\\uDFAF Focusing on your selected design! Skipping \".concat(remainingDrafts, \" remaining variations.\"));\n        }\n        setIsGeneratingFinalCard(true);\n        setSelectedDraftIndex(displayIndex); // Store display index for UI\n        startElapsedTimeTracking(undefined, 120); // 120 seconds for final card generation\n        setGenerationProgress(\"\\uD83C\\uDFA8 Creating high-quality version of your selected design...\");\n        try {\n            var _selectedDraft_generatedPrompts, _paperSizes_find, _paperSizes_find1;\n            const selectedDraft = draftCards[displayIndex];\n            const jobId = (0,uuid__WEBPACK_IMPORTED_MODULE_36__[\"default\"])();\n            // Generate the missing prompts using the stored frontCover prompt + user info\n            console.log(\"\\uD83D\\uDD04 Generating complete prompts from stored front cover prompt + user info\");\n            // The draft should have at least the frontCover prompt\n            const storedFrontCoverPrompt = (_selectedDraft_generatedPrompts = selectedDraft.generatedPrompts) === null || _selectedDraft_generatedPrompts === void 0 ? void 0 : _selectedDraft_generatedPrompts.frontCover;\n            if (!storedFrontCoverPrompt) {\n                throw new Error(\"Selected draft is missing frontCover prompt\");\n            }\n            console.log(\"✅ Found stored front cover prompt:\", storedFrontCoverPrompt.substring(0, 100) + \"...\");\n            // Now generate the missing 3 prompts using the front cover context + user info\n            const cardTypeForPrompt = selectedType === \"custom\" ? customCardType : selectedType;\n            const selectedToneObj = cardTones.find((tone)=>tone.id === selectedTone);\n            const toneDescription = selectedToneObj ? selectedToneObj.description.toLowerCase() : \"heartfelt and sincere\";\n            const effectivePrompt = prompt.trim() || \"A beautiful \".concat(cardTypeForPrompt, \" card with \").concat(toneDescription, \" style\");\n            let messageContent = finalCardMessage;\n            if (isHandwrittenMessage) {\n                messageContent = \"[Blank space for handwritten message]\";\n            }\n            // Get style from the selected draft or fall back to current setting  \n            const draftStyleInfo = selectedDraft.styleInfo;\n            let styleModifier = \"\";\n            if (draftStyleInfo && draftStyleInfo.styleName) {\n                const selectedStyle = artisticStyles.find((style)=>style.id === draftStyleInfo.styleName);\n                styleModifier = (selectedStyle === null || selectedStyle === void 0 ? void 0 : selectedStyle.promptModifier) || \"\";\n            } else {\n                const selectedStyle = artisticStyles.find((style)=>style.id === selectedArtisticStyle);\n                styleModifier = selectedArtisticStyle === \"custom\" ? customStyleDescription : (selectedStyle === null || selectedStyle === void 0 ? void 0 : selectedStyle.promptModifier) || \"\";\n            }\n            const generateOtherPromptsQuery = 'You are creating the remaining prompts for a greeting card. You already have the front cover prompt below.\\n\\nEXISTING FRONT COVER PROMPT:\\n\"'.concat(storedFrontCoverPrompt, '\"\\n\\nCARD CONTEXT:\\n- Type: ').concat(cardTypeForPrompt, '\\n- Theme: \"').concat(effectivePrompt, '\"  \\n- Tone: ').concat(toneDescription, \"\\n\").concat(toField ? \"- To: \".concat(toField) : \"\", \"\\n\").concat(fromField ? \"- From: \".concat(fromField) : \"\", \"\\n\").concat(!isFrontBackOnly ? '- Message: \"'.concat(messageContent, '\"') : \"\", \"\\n\").concat(isHandwrittenMessage ? \"- Note: Include space for handwritten message\" : \"\", \"\\n\\nTASK: Create prompts for the remaining card sections that are visually cohesive with the existing front cover. Use the same color palette, artistic style, lighting, and visual elements from the front cover to create a unified design.\\n\\nRequirements:\\n- Maintain visual continuity with the front cover design\\n- Use the same artistic style: \").concat(styleModifier, '\\n- Keep consistent color palette, lighting, and mood\\n- Full-bleed backgrounds extending to edges\\n- Keep text/faces 0.5\" from left/right edges for safe printing\\n- IMPORTANT: Keep text, faces, and key elements at least 10% away from top/bottom edges\\n\\nGenerate prompts for:\\n\\n1. Back Cover: Create a simple, peaceful design that complements the front cover. Reference subtle elements from the front cover but keep it minimal and serene. NO PEOPLE, just beautiful artistic elements. IMPORTANT: Leave the bottom-right corner area (approximately 1 inch square) completely clear and undecorated for QR code placement.\\n\\n').concat(!isFrontBackOnly ? \"2. Left Interior: Creative decorative art that harmonizes with the front cover style. NO PEOPLE or characters, focus on artistic elements like patterns, landscapes, objects, or abstract art that matches the front cover's mood and style.\\n\\n3. Right Interior: \".concat(isHandwrittenMessage ? \"Design elegant writing space with decorative elements that complement the front cover style. Position decorative elements safely away from edges. NO PEOPLE or characters.\" : 'Include message text: \"'.concat(messageContent, '\" in beautiful handwritten cursive script, integrated into decorative artwork that matches the front cover style. NO PEOPLE or characters.')) : \"\", '\\n\\nReturn JSON:\\n{\\n  \"frontCover\": \"').concat(storedFrontCoverPrompt, '\",\\n  \"backCover\": \"detailed back cover prompt\"').concat(!isFrontBackOnly ? ',\\n  \"leftInterior\": \"detailed left interior prompt\",\\n  \"rightInterior\": \"detailed right interior prompt\"' : \"\", \"\\n}\");\n            const finalPrompts = await chatWithAI(generateOtherPromptsQuery, {\n                jsonSchema: {\n                    type: \"object\",\n                    properties: {\n                        frontCover: {\n                            type: \"string\"\n                        },\n                        backCover: {\n                            type: \"string\"\n                        },\n                        ...isFrontBackOnly ? {} : {\n                            leftInterior: {\n                                type: \"string\"\n                            },\n                            rightInterior: {\n                                type: \"string\"\n                            }\n                        }\n                    },\n                    required: [\n                        \"frontCover\",\n                        \"backCover\",\n                        ...isFrontBackOnly ? [] : [\n                            \"leftInterior\",\n                            \"rightInterior\"\n                        ]\n                    ]\n                },\n                model: \"gemini-2.5-pro\"\n            });\n            if (!finalPrompts || !finalPrompts.frontCover || !finalPrompts.backCover) {\n                throw new Error(\"Failed to generate complete prompts for final card\");\n            }\n            console.log(\"✅ Generated complete prompts for final card:\", {\n                hasFrontCover: !!finalPrompts.frontCover,\n                hasBackCover: !!finalPrompts.backCover,\n                hasLeftInterior: !!finalPrompts.leftInterior,\n                hasRightInterior: !!finalPrompts.rightInterior\n            });\n            // Prepare input images for final generation (reference photos)\n            const inputImages = [];\n            if (referenceImageUrls.length > 0 && selectedImageModel === \"gpt-image-1\") {\n                inputImages.push(...referenceImageUrls);\n                console.log(\"\\uD83D\\uDD0D DEBUG: Added reference images to final draft generation:\", referenceImageUrls);\n                console.log(\"\\uD83D\\uDD0D DEBUG: Total input images for final draft generation:\", inputImages.length);\n                sonner__WEBPACK_IMPORTED_MODULE_13__.toast.success(\"\\uD83D\\uDCF8 \".concat(referenceImageUrls.length, \" reference photo\").concat(referenceImageUrls.length > 1 ? \"s\" : \"\", \" applied to final generation!\"));\n            }\n            const response = await fetch(\"/api/generate-card-async\", {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                    jobId,\n                    prompts: finalPrompts,\n                    config: {\n                        userNumber: \"+17145986105\",\n                        modelVersion: selectedImageModel,\n                        aspectRatio: ((_paperSizes_find = paperSizes.find((size)=>size.id === selectedPaperSize)) === null || _paperSizes_find === void 0 ? void 0 : _paperSizes_find.aspectRatio) || \"9:16\",\n                        quality: \"high\",\n                        outputFormat: \"jpeg\",\n                        outputCompression: 100,\n                        moderation: \"low\",\n                        dimensions: ((_paperSizes_find1 = paperSizes.find((size)=>size.id === selectedPaperSize)) === null || _paperSizes_find1 === void 0 ? void 0 : _paperSizes_find1.dimensions) || \"1024x1536\",\n                        isFrontBackOnly,\n                        userEmail,\n                        cardType: selectedType === \"custom\" ? customCardType : selectedType,\n                        toField,\n                        fromField,\n                        isDraftMode: false,\n                        ...inputImages.length > 0 && {\n                            input_images: inputImages,\n                            input_images_mode: \"front_cover_only\" // All reference images should go to front cover for character creation\n                        }\n                    }\n                })\n            });\n            if (!response.ok) {\n                throw new Error(\"Server error: \".concat(response.status));\n            }\n            const result = await response.json();\n            if (result.status !== \"processing\") {\n                throw new Error(result.message || \"Failed to start final card generation\");\n            }\n            setCurrentJobId(jobId);\n            sonner__WEBPACK_IMPORTED_MODULE_13__.toast.success(\"\\uD83C\\uDFA8 Generating high-quality version of your selected design!\");\n            // Poll for completion (reuse existing pollJobStatus)\n            pollJobStatus(jobId);\n        } catch (error) {\n            console.error(\"Final card generation error:\", error);\n            sonner__WEBPACK_IMPORTED_MODULE_13__.toast.error(\"Failed to generate final card. Please try again.\");\n            setIsGeneratingFinalCard(false);\n            setGenerationProgress(\"\");\n            stopElapsedTimeTracking();\n        }\n    };\n    // Consolidated card generation function\n    const handleGenerateCardAsyncInternal = async function() {\n        let options = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};\n        const { isDraftMode = false, draftIndex = 0, styleOverride = undefined, styleLabel = undefined, onDraftComplete } = options;\n        console.log(\"\\uD83D\\uDD0D handleGenerateCardAsyncInternal called:\", {\n            isDraftMode,\n            draftIndex,\n            hasOnDraftComplete: !!onDraftComplete\n        });\n        if (!userEmail.trim()) {\n            sonner__WEBPACK_IMPORTED_MODULE_13__.toast.error(\"Please enter your email address\");\n            return;\n        }\n        // Basic email validation\n        const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n        if (!emailRegex.test(userEmail)) {\n            sonner__WEBPACK_IMPORTED_MODULE_13__.toast.error(\"Please enter a valid email address\");\n            return;\n        }\n        // Validate custom style if selected\n        if (selectedArtisticStyle === \"custom\" && !customStyleDescription.trim()) {\n            sonner__WEBPACK_IMPORTED_MODULE_13__.toast.error(\"Please describe your custom artistic style\");\n            return;\n        }\n        // Determine which model to use based on mode\n        const modelToUse = isDraftMode ? selectedDraftModel : selectedImageModel;\n        // Validate reference images with model compatibility\n        if (referenceImageUrls.length > 0 && modelToUse !== \"gpt-image-1\") {\n            const modeText = isDraftMode ? \"draft mode\" : \"final generation\";\n            sonner__WEBPACK_IMPORTED_MODULE_13__.toast.error(\"Reference photos are only supported with GPT Image 1 model. Please switch to GPT Image 1 for \".concat(modeText, \" or remove reference photos.\"));\n            return;\n        }\n        // Only set global generating state if not in draft mode (draft mode manages its own state)\n        if (!isDraftMode) {\n            setIsGenerating(true);\n            startElapsedTimeTracking(undefined, 120); // 120 seconds for regular card generation\n            setGenerationProgress(\"Creating your personalized card...\");\n            setProgressPercentage(0);\n        }\n        try {\n            // Create job tracking\n            const jobId = isDraftMode ? \"draft-\".concat(draftIndex, \"-\").concat((0,uuid__WEBPACK_IMPORTED_MODULE_36__[\"default\"])()) : (0,uuid__WEBPACK_IMPORTED_MODULE_36__[\"default\"])();\n            if (!isDraftMode) {\n                setCurrentJobId(jobId);\n            }\n            // Generate all prompts client-side first\n            const cardTypeForPrompt = selectedType === \"custom\" ? customCardType : selectedType;\n            const selectedToneObj = cardTones.find((tone)=>tone.id === selectedTone);\n            const toneDescription = selectedToneObj ? selectedToneObj.description.toLowerCase() : \"heartfelt and sincere\";\n            const effectivePrompt = prompt.trim() || \"A beautiful \".concat(cardTypeForPrompt, \" card with \").concat(toneDescription, \" style\");\n            let messageContent = finalCardMessage;\n            // Handle message generation if needed\n            if (isHandwrittenMessage) {\n                messageContent = \"[Blank space for handwritten message]\";\n            } else if (!messageContent.trim() && !isFrontBackOnly) {\n                setGenerationProgress(\"✍️ Writing the perfect message...\");\n                // Auto-generate message (keeping existing logic)\n                const autoMessagePrompt = \"Create a \".concat(toneDescription, \" message for a \").concat(cardTypeForPrompt, ' greeting card.\\n\\nCard Theme/Description: \"').concat(effectivePrompt, '\"\\n').concat(toField ? \"Recipient: \".concat(toField) : \"Recipient: [not specified]\", \"\\n\").concat(fromField ? \"Sender: \".concat(fromField) : \"Sender: [not specified]\", \"\\nCard Tone: \").concat(selectedToneObj ? selectedToneObj.label : \"Heartfelt\", \" - \").concat(toneDescription, \"\\n\\nInstructions:\\n- Write a message that is \").concat(toneDescription, \" and feels personal and genuine\\n- \").concat(toField ? \"Address the message to \".concat(toField, \" directly, using their name naturally\") : \"Write in a way that could be personalized to any recipient\", \"\\n- \").concat(fromField ? \"Write as if \".concat(fromField, \" is personally writing this message\") : \"Write in a \".concat(toneDescription, \" tone\"), \"\\n- Match the \").concat(toneDescription, \" tone and occasion of the \").concat(cardTypeForPrompt, ' card type\\n- Be inspired by the theme: \"').concat(prompt, '\"\\n- Keep it concise but meaningful (2-4 sentences ideal)\\n- Make it feel authentic, not generic\\n- SAFETY: Never include brand names, character names, trademarked terms, or inappropriate content. If the theme references these, use generic alternatives or focus on the emotions/concepts instead\\n- Keep content family-friendly and appropriate for all ages\\n- ').concat(selectedTone === \"funny\" ? \"Include appropriate humor that fits the occasion\" : \"\", \"\\n- \").concat(selectedTone === \"genz-humor\" ? 'Use GenZ humor with internet slang, memes, and chaotic energy - think \"no cap\", \"periodt\", \"it\\'s giving...\", \"slay\", etc. Be unhinged but endearing' : \"\", \"\\n- \").concat(selectedTone === \"professional\" ? \"Keep it formal and business-appropriate\" : \"\", \"\\n- \").concat(selectedTone === \"romantic\" ? \"Include loving and romantic language\" : \"\", \"\\n- \").concat(selectedTone === \"playful\" ? \"Use fun and energetic language\" : \"\", \"\\n- \").concat(toField && fromField ? \"Show the relationship between \".concat(fromField, \" and \").concat(toField, \" through the \").concat(toneDescription, \" message tone\") : \"\", \"\\n- \").concat(fromField ? 'End the message with a signature line like \"Love, '.concat(fromField, '\" or \"- ').concat(fromField, '\" or similar, naturally integrated into the message.') : \"\", \"\\n\\nReturn ONLY the message text that should appear inside the card - no quotes, no explanations, no markdown formatting (no *bold*, _italics_, or other markdown), just the complete \").concat(toneDescription, \" message in plain text.\\n\\nIMPORTANT: Wrap your final message in <MESSAGE> </MESSAGE> tags. Everything outside these tags will be ignored.\");\n                const generatedMessage = await chatWithAI(autoMessagePrompt, {\n                    model: \"gemini-2.5-pro\",\n                    includeThoughts: false\n                });\n                if (generatedMessage === null || generatedMessage === void 0 ? void 0 : generatedMessage.trim()) {\n                    const messageMatch = generatedMessage.match(/<MESSAGE>([\\s\\S]*?)<\\/MESSAGE>/);\n                    if (messageMatch && messageMatch[1]) {\n                        messageContent = messageMatch[1].trim();\n                        setFinalCardMessage(messageContent);\n                    }\n                }\n            }\n            // Generate style and paper config\n            let effectiveArtisticStyle = selectedArtisticStyle;\n            // Use style override if provided (for smart style distribution in draft mode)\n            if (styleOverride) {\n                effectiveArtisticStyle = styleOverride;\n                console.log(\"\\uD83C\\uDFA8 Using style override: \".concat(styleOverride, \" instead of \").concat(selectedArtisticStyle));\n            }\n            const selectedStyle = artisticStyles.find((style)=>style.id === effectiveArtisticStyle);\n            const styleModifier = effectiveArtisticStyle === \"custom\" ? customStyleDescription : (selectedStyle === null || selectedStyle === void 0 ? void 0 : selectedStyle.promptModifier) || \"\";\n            const paperConfig = paperSizes.find((size)=>size.id === selectedPaperSize) || paperSizes[0];\n            setGenerationProgress(\"\\uD83C\\uDFA8 Creating artistic vision for your card...\");\n            // Generate prompts for all cards\n            // In draft mode, only generate frontCover prompt for speed\n            const promptGenerationQuery = isDraftMode ? \"You are an expert AI greeting card designer. Create a front cover prompt for a \".concat(cardTypeForPrompt, ' greeting card.\\n\\nTheme: \"').concat(effectivePrompt, '\"\\nStyle: ').concat((selectedStyle === null || selectedStyle === void 0 ? void 0 : selectedStyle.label) || \"Default\", \"\\nTone: \").concat(selectedToneObj ? selectedToneObj.label : \"Heartfelt\", \" - \").concat(toneDescription, \"\\n\").concat(toField ? \"To: \".concat(toField) : \"\", \"\\n\").concat(fromField ? \"From: \".concat(fromField) : \"\", \"\\n\").concat(referenceImageUrls.length > 0 ? \"Reference Photos: I have attached \".concat(referenceImageUrls.length, \" reference photo\").concat(referenceImageUrls.length > 1 ? \"s\" : \"\", ' for character creation.\\nTransformation instructions: \"').concat(imageTransformation || \"Create stylized cartoon characters that accurately represent the people in the reference photos\", '\"') : \"\", '\\n\\nFront Cover Requirements:\\n- Include \"').concat(cardTypeForPrompt, '\" greeting text positioned safely in center area (avoid top/bottom 10%)\\n- Use beautiful, readable handwritten cursive script\\n- ').concat(referenceImageUrls.length > 0 ? \"Create cartoon/illustrated characters from reference photos\" : \"Create charming cartoon-style figures if needed\", \"\\n- Be creative and unique, avoid generic designs\\n- Flat 2D artwork for printing\\n- Style: \").concat(styleModifier, \"\\n\\nReturn ONLY the front cover prompt as plain text.\") : \"You are an expert AI greeting card designer tasked with creating cohesive, visually stunning prompts for a \".concat(cardTypeForPrompt, \" greeting card\").concat(numberOfCards > 1 ? \" (this is variant \".concat(1, \" of \").concat(numberOfCards, \" unique designs)\") : \"\", '.\\n\\nTheme: \"').concat(effectivePrompt, '\"\\nStyle: ').concat((selectedStyle === null || selectedStyle === void 0 ? void 0 : selectedStyle.label) || \"Default\", \"\\nTone: \").concat(selectedToneObj ? selectedToneObj.label : \"Heartfelt\", \" - \").concat(toneDescription, \"\\n\").concat(toField ? \"To: \".concat(toField) : \"\", \"\\n\").concat(fromField ? \"From: \".concat(fromField) : \"\", \"\\n\").concat(!isFrontBackOnly ? 'Message: \"'.concat(messageContent, '\"') : \"\", \"\\n\").concat(isHandwrittenMessage ? \"Note: Include space for handwritten message\" : \"\", \"\\n\").concat(referenceImageUrls.length > 0 ? \"Reference Photos: I have attached \".concat(referenceImageUrls.length, \" reference photo\").concat(referenceImageUrls.length > 1 ? \"s\" : \"\", \" for you to analyze. Please look at \").concat(referenceImageUrls.length > 1 ? \"these photos\" : \"this photo\", \" to understand what the people look like - their hair color/style, facial features, clothing, accessories, body type, age, etc. Use this visual information to create accurate cartoon/illustrated versions of \").concat(referenceImageUrls.length > 1 ? \"these people\" : \"this person\", ' in the prompts.\\nTransformation instructions: \"').concat(imageTransformation || \"Create stylized cartoon characters that accurately represent the people in the reference photos while maintaining their distinctive features\", '\"') : \"\", '\\n\\nCRITICAL: Create a cohesive visual narrative that flows chronologically through the card experience:\\n1. FRONT COVER: First impression - sets the scene/introduces the story\\n2. INTERIOR SPREAD: The heart of the experience - continuation and climax of the visual story\\n3. BACK COVER: Conclusion - peaceful resolution or complementary ending\\n\\nRequirements:\\n- Flat 2D artwork for printing (not 3D card images)\\n- Full-bleed backgrounds extending to edges\\n- IMPORTANT: Keep text, faces, and key elements at least 10% away from top/bottom edges (small amount may be cropped in printing)\\n- Keep text/faces 0.5\" from left/right edges for safe printing\\n- CONSISTENT visual elements throughout: same characters, color palette, lighting, art style\\n- Progressive visual storytelling from front → interior → back\\n- Put any text in quotes and make it clear/readable\\n- Each section should feel like part of the same artistic universe\\n- TONE: Ensure the visual mood and atmosphere matches the ').concat(toneDescription, ' tone throughout all sections\\n- INTELLECTUAL PROPERTY SAFETY: If the user mentions specific characters, brands, logos, or products, automatically replace them with original generic alternatives in your prompts. For example: replace specific character names with \"cartoon mouse character\" or \"superhero character\", replace brand names with \"colorful cereal\" or \"sports car\", etc. Create inspired-by designs that capture the essence without referencing any protected names or specific copyrighted elements. Never include actual brand names, character names, or trademarked terms in the image generation prompts\\n- CONTENT SAFETY: Ensure all prompts are family-friendly and appropriate for greeting cards. Avoid any content that could be flagged by safety systems including: violence, weapons, inappropriate imagery, political content, controversial topics, scary or disturbing elements, or anything not suitable for all ages. If the user requests something potentially inappropriate, redirect to positive, wholesome alternatives that capture their intent in a family-friendly way\\n').concat(selectedTone === \"funny\" ? \"- Include visual humor, playful elements, and whimsical details\" : \"\", \"\\n\").concat(selectedTone === \"genz-humor\" ? \"- Include GenZ visual elements like chaotic energy, internet meme references, bold contrasting colors, and unhinged but endearing visual style\" : \"\", \"\\n\").concat(selectedTone === \"romantic\" ? \"- Include romantic elements like soft lighting, hearts, flowers, or intimate scenes\" : \"\", \"\\n\").concat(selectedTone === \"professional\" ? \"- Keep visuals clean, sophisticated, and business-appropriate\" : \"\", \"\\n\").concat(selectedTone === \"playful\" ? \"- Include bright colors, dynamic poses, and energetic visual elements\" : \"\", \"\\n\").concat(selectedTone === \"elegant\" ? \"- Focus on sophisticated design, refined color palettes, and graceful compositions\" : \"\", \"\\n\").concat(referenceImageUrls.length > 0 ? \"- Create cartoon/illustrated characters inspired by reference images - DO NOT make realistic depictions\" : \"\", '\\n\\nCreate prompts that flow chronologically:\\n\\n1. Front Cover (Opening Scene): BE GENUINELY CREATIVE AND UNIQUE! Include \"').concat(cardTypeForPrompt, '\" greeting text positioned safely in the center area (avoid top/bottom 10% of image). TEXT STYLE: Write the greeting text in beautiful, clearly readable handwritten cursive script that matches the elegant style used inside the card - legible, flowing, and graceful with natural character and warmth. ').concat(referenceImageUrls.length > 0 ? \"I have included \".concat(referenceImageUrls.length > 1 ? \"multiple\" : \"my own\", \" reference image\").concat(referenceImageUrls.length > 1 ? \"s\" : \"\", \". Create stylized cartoon/illustrated characters inspired by the reference image\").concat(referenceImageUrls.length > 1 ? \"s\" : \"\", \" - DO NOT make realistic depictions of real people, instead create charming cartoon-style characters with simplified, friendly features.\") : \"Create charming cartoon-style or stylized illustrated figures if people are needed for the theme.\", \" This is the story opening - introduce key visual elements (colors, motifs, artistic style) that will continue throughout the other sections. Think of something unexpected, innovative, and memorable that will surprise and delight the recipient. Avoid generic designs! Style: \").concat(styleModifier, \"\\n\\n2. \").concat(!isFrontBackOnly ? \"Left Interior (Story Development): UNLEASH YOUR CREATIVITY! You have complete creative freedom to design whatever you want for this left interior page! This is your artistic playground - create something genuinely innovative and unexpected that feels right for a \".concat(cardTypeForPrompt, \" card with \").concat(toneDescription, \" tone. You can include: scenes, landscapes, objects, patterns, quotes, text, illustrations, realistic art, abstract art, or anything else that inspires you - but NO PEOPLE or characters unless the user specifically mentioned wanting people in their card description. Position any text safely in center area (avoid top/bottom 10%). Think of something no one has done before! Surprise us with bold, imaginative, and memorable artistic choices while maintaining visual harmony with the overall card style and tone. Style: \").concat(styleModifier, \"\\n\\n3. Right Interior (Story Climax): BE CREATIVE WITH MESSAGE DESIGN! \").concat(isHandwrittenMessage ? \"Design with elegant writing space that complements the visual story from left interior. Position decorative elements safely away from top/bottom edges. Create innovative and artistic decorative elements, borders, or flourishes that are unique and memorable - NO PEOPLE or characters.\" : 'Include message text: \"'.concat(messageContent, \"\\\" positioned safely in center area (avoid top/bottom 10% of image) integrated into beautiful, innovative decorative artwork. HANDWRITING STYLE: Write the message in beautiful, clearly readable handwritten cursive script that feels elegant and personal. The handwriting should be legible, flowing, and have natural character - not overly perfect but graceful and warm. Use a nice pen-style appearance with natural ink flow and slight variations in line weight. Think of sophisticated calligraphy that's still approachable and easy to read. Make the handwriting feel genuine and heartfelt. Think beyond typical florals and patterns - create something unexpected and artistic that perfectly frames the handwritten message - NO PEOPLE or characters.\"), \" This should feel like the emotional peak of the card experience, harmonizing with the left interior as a cohesive spread. Avoid clich\\xe9 designs and create something genuinely special!\").concat(handwritingSampleUrl ? \" Match the provided handwriting style sample exactly.\" : \" Use the elegant cursive handwriting style described above.\", \" Style: \").concat(styleModifier, \"\\n\\n4. \") : \"\", \"Back Cover (Story Resolution): BE SUBTLY CREATIVE! Create a simple yet innovative decorative design that brings peaceful closure to the visual story. Reference subtle elements from the front cover but keep it minimal and serene - NO PEOPLE, just beautiful, unexpected artistic elements that go beyond typical patterns or florals. IMPORTANT: Leave the bottom-right corner area (approximately 1 inch square) completely clear and undecorated - this space should remain empty. Focus decorative elements toward the center and left side of the design. Think of something quietly beautiful and memorable that complements the overall design while being genuinely unique. This should feel like a peaceful, artistic ending that surprises with its subtle creativity. Style: \").concat(styleModifier, '\\n\\nVISUAL CONTINUITY CHECKLIST:\\n- Same color palette across all sections\\n- Consistent lighting/time of day\\n- Same artistic techniques and brushwork\\n- Recurring visual motifs or symbols (but make them unique and memorable!)\\n- Progressive emotional journey from introduction to resolution\\n- Front cover: stylized cartoon/illustrated characters if people are needed for the theme\\n- Left interior: CREATIVE FREEDOM but NO PEOPLE unless user specifically requested people in their description\\n- Right interior: focus on message space with innovative decorative elements (NO PEOPLE)\\n- Back cover: simple yet creative decorative design without text or people\\n- Use simplified, friendly, charming character design if including people (front cover only)\\n- CREATIVITY PRIORITY: Always choose the more innovative, surprising, and memorable option over generic designs\\n\\nReturn JSON:\\n{\\n  \"frontCover\": \"detailed prompt with story opening elements\",\\n  \"backCover\": \"detailed prompt with story conclusion elements\"').concat(!isFrontBackOnly ? ',\\n  \"leftInterior\": \"detailed prompt with story development elements\",\\n  \"rightInterior\": \"detailed prompt with story climax elements\"' : \"\", \"\\n}\");\n            let generatedPrompts;\n            if (isDraftMode) {\n                // For draft mode, get just the front cover prompt as plain text\n                const frontCoverPrompt = await chatWithAI(promptGenerationQuery, {\n                    model: \"gemini-2.5-pro\",\n                    attachments: referenceImageUrls\n                });\n                if (!(frontCoverPrompt === null || frontCoverPrompt === void 0 ? void 0 : frontCoverPrompt.trim())) {\n                    console.error(\"❌ Failed to generate front cover prompt:\", frontCoverPrompt);\n                    throw new Error(\"Failed to generate front cover prompt\");\n                }\n                generatedPrompts = {\n                    frontCover: frontCoverPrompt.trim()\n                };\n            } else {\n                // For regular mode, get all prompts as JSON\n                generatedPrompts = await chatWithAI(promptGenerationQuery, {\n                    jsonSchema: {\n                        type: \"object\",\n                        properties: {\n                            frontCover: {\n                                type: \"string\"\n                            },\n                            backCover: {\n                                type: \"string\"\n                            },\n                            ...isFrontBackOnly ? {} : {\n                                leftInterior: {\n                                    type: \"string\"\n                                },\n                                rightInterior: {\n                                    type: \"string\"\n                                }\n                            }\n                        },\n                        required: [\n                            \"frontCover\",\n                            \"backCover\",\n                            ...isFrontBackOnly ? [] : [\n                                \"leftInterior\",\n                                \"rightInterior\"\n                            ]\n                        ]\n                    },\n                    model: \"gemini-2.5-pro\",\n                    attachments: referenceImageUrls\n                });\n                if (!generatedPrompts || !generatedPrompts.frontCover) {\n                    console.error(\"❌ Failed to generate image prompts:\", generatedPrompts);\n                    throw new Error(\"Failed to generate image prompts\");\n                }\n            }\n            console.log(\"✅ Generated prompts successfully:\", {\n                isDraftMode,\n                draftIndex,\n                hasFrontCover: !!generatedPrompts.frontCover,\n                hasBackCover: !!generatedPrompts.backCover\n            });\n            // Enhance front cover prompt with reference image instructions if available\n            if (referenceImageUrls.length > 0 && modelToUse === \"gpt-image-1\") {\n                generatedPrompts.frontCover = \"\".concat(generatedPrompts.frontCover, \"\\n\\nCRITICAL CHARACTER REFERENCE INSTRUCTIONS: I have provided \").concat(referenceImageUrls.length > 1 ? \"multiple reference photos\" : \"a reference photo\", \" as input image\").concat(referenceImageUrls.length > 1 ? \"s\" : \"\", \". You MUST create cartoon/illustrated characters that accurately represent ONLY the people who are actually visible in \").concat(referenceImageUrls.length > 1 ? \"these reference photos\" : \"this reference photo\", \" with high fidelity to their appearance.\\n\\nMANDATORY CHARACTER MATCHING REQUIREMENTS - ONLY INCLUDE WHAT IS ACTUALLY VISIBLE:\\n- REPRESENT ONLY PEOPLE ACTUALLY IN THE PHOTOS: Create cartoon versions of ONLY the people who are actually shown in the reference photos. Do NOT add, create, or imagine any additional people not present in the reference images.\\n- EXACT hair color, hair style, and hair length from each reference photo - only what is actually visible\\n- PRECISE facial features for each person: eye color, eye shape, nose shape, face structure, skin tone - exactly as shown in the reference\\n- ACCURATE clothing: replicate ONLY the EXACT clothing items, colors, patterns, and styles actually worn by each person in their reference photo - do not add or change any clothing items\\n- ACCESSORIES ONLY IF VISIBLE: Include accessories (glasses, jewelry, hats, watches, bags, etc.) ONLY if they are actually visible on each person in the reference photo. DO NOT add glasses if they are not wearing glasses in the photo. DO NOT add jewelry if they are not wearing jewelry in the photo. DO NOT add any accessories that are not clearly visible in the reference image.\\n- CORRECT body proportions and posture as shown for each person in their reference\\n- FAITHFUL age representation and gender presentation for each individual - exactly as they appear\\n- AUTHENTIC facial expressions and poses from the reference images, lean towards making the people look happier unless the user specifically asks for a different expression\\n- GROUP COMPOSITION: If multiple people are actually shown in the photos, arrange them naturally together in a pleasing composition that fits the card's theme\\n\\nCRITICAL RESTRICTION: Do not add, remove, or modify any visual elements beyond what is actually visible in the reference photos. Only include people, clothing, and accessories that are clearly shown in the reference images.\\n\\n\").concat(imageTransformation || \"Study every detail of the people actually in the reference image and recreate them as stylized cartoon characters while maintaining 100% accuracy to their distinctive visual features. The characters must be immediately recognizable as the same people from the reference photo. Pay special attention to clothing details and accessories that are actually visible, and unique personal style elements that make each person distinctive. Do not add or imagine any elements not present in the reference.\", \"\\n\\nThe cartoon style should be charming and artistic while preserving complete visual accuracy to the reference photo. Only represent people, clothing, and accessories that are actually visible in the reference images.\");\n            }\n            // Save job data to localStorage and server\n            const jobData = {\n                prompt: effectivePrompt,\n                selectedType,\n                customCardType,\n                selectedTone,\n                finalCardMessage: messageContent,\n                toField,\n                fromField,\n                userEmail,\n                selectedArtisticStyle,\n                customStyleDescription,\n                selectedImageModel,\n                isFrontBackOnly,\n                numberOfCards,\n                selectedPaperSize,\n                prompts: generatedPrompts,\n                paperConfig\n            };\n            saveJobToStorage(jobId, jobData);\n            // Create job on server and start async generation\n            setGenerationProgress(\"\\uD83D\\uDE80 Starting background generation - you can safely leave this page!\");\n            // Prepare input images for reference photo support - only for GPT-1\n            const inputImages = [];\n            if (referenceImageUrls.length > 0 && modelToUse === \"gpt-image-1\") {\n                inputImages.push(...referenceImageUrls);\n                console.log(\"\\uD83D\\uDD0D DEBUG: Added reference images to async generation:\", referenceImageUrls);\n                console.log(\"\\uD83D\\uDD0D DEBUG: Total input images for async generation:\", inputImages.length);\n                console.log(\"\\uD83D\\uDD0D DEBUG: Reference images should ALL go to front cover for character creation of multiple people\");\n            }\n            console.log(\"\\uD83D\\uDE80 Making API call to /api/generate-card-async:\", {\n                isDraftMode,\n                draftIndex,\n                jobId,\n                modelToUse,\n                quality: isDraftMode ? \"low\" : \"high\"\n            });\n            const response = await fetch(\"/api/generate-card-async\", {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                    jobId,\n                    prompts: isDraftMode ? {\n                        frontCover: generatedPrompts.frontCover\n                    } : generatedPrompts,\n                    config: {\n                        userNumber: \"+17145986105\",\n                        modelVersion: modelToUse,\n                        aspectRatio: paperConfig.aspectRatio,\n                        quality: isDraftMode ? \"low\" : \"high\",\n                        outputFormat: \"jpeg\",\n                        outputCompression: 100,\n                        moderation: \"low\",\n                        dimensions: paperConfig.dimensions,\n                        isFrontBackOnly,\n                        userEmail,\n                        cardType: cardTypeForPrompt,\n                        toField,\n                        fromField,\n                        isDraftMode: isDraftMode,\n                        ...inputImages.length > 0 && {\n                            input_images: inputImages,\n                            input_images_mode: \"front_cover_only\" // All reference images should go to front cover for character creation\n                        }\n                    }\n                })\n            });\n            console.log(\"\\uD83D\\uDCE1 API response status:\", response.status, response.ok);\n            if (!response.ok) {\n                throw new Error(\"Server error: \".concat(response.status));\n            }\n            const result = await response.json();\n            console.log(\"\\uD83D\\uDCCB API response result:\", result);\n            if (result.status !== \"processing\") {\n                console.error(\"❌ API returned unexpected status:\", result.status, result.message);\n                throw new Error(result.message || \"Failed to start card generation\");\n            }\n            console.log(\"✅ Job started successfully:\", jobId);\n            // Start polling for completion\n            if (isDraftMode) {\n                setGenerationProgress(\"✨ Creating draft generations...\");\n                console.log(\"\\uD83D\\uDD04 Starting polling for draft job \".concat(jobId));\n                // For draft mode, we'll handle polling differently if needed\n                pollJobStatus(jobId);\n            } else {\n                setGenerationProgress(\"✨ Bringing your vision to life with artistic precision...\");\n                sonner__WEBPACK_IMPORTED_MODULE_13__.toast.success(\"\\uD83C\\uDF89 Card generation started! You can leave this page and return later.\");\n                pollJobStatus(jobId);\n            }\n        } catch (error) {\n            console.error(\"❌ Card generation error (isDraftMode: \".concat(isDraftMode, \", draftIndex: \").concat(draftIndex, \"):\"), error);\n            const errorMessage = error instanceof Error ? error.message : \"Unknown error\";\n            if (isDraftMode) {\n                sonner__WEBPACK_IMPORTED_MODULE_13__.toast.error(\"Draft variation \".concat(draftIndex + 1, \" failed: \").concat(errorMessage));\n            // For draft mode, we don't want to stop the entire generation process\n            // The parent function will handle individual draft failures\n            } else {\n                sonner__WEBPACK_IMPORTED_MODULE_13__.toast.error(\"Failed to start card generation: \".concat(errorMessage));\n                // Remove failed job from localStorage\n                if (currentJobId) {\n                    removeJobFromStorage(currentJobId);\n                    setCurrentJobId(null);\n                }\n                setIsGenerating(false);\n                setGenerationProgress(\"\");\n            }\n        }\n    };\n    // Wrapper function for regular card generation (used as click handler)\n    const handleGenerateCardAsync = async ()=>{\n        return handleGenerateCardAsyncInternal({});\n    };\n    // Original synchronous card generation (keep as fallback)\n    const handleGenerateCard = async ()=>{\n        if (!userEmail.trim()) {\n            sonner__WEBPACK_IMPORTED_MODULE_13__.toast.error(\"Please enter your email address\");\n            return;\n        }\n        // Basic email validation\n        const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n        if (!emailRegex.test(userEmail)) {\n            sonner__WEBPACK_IMPORTED_MODULE_13__.toast.error(\"Please enter a valid email address\");\n            return;\n        }\n        // Validate custom style if selected\n        if (selectedArtisticStyle === \"custom\" && !customStyleDescription.trim()) {\n            sonner__WEBPACK_IMPORTED_MODULE_13__.toast.error(\"Please describe your custom artistic style\");\n            return;\n        }\n        // Validate reference images with model compatibility\n        if (referenceImageUrls.length > 0 && selectedImageModel !== \"gpt-image-1\") {\n            sonner__WEBPACK_IMPORTED_MODULE_13__.toast.error(\"Reference photos are only supported with GPT Image 1 model. Please switch to GPT Image 1 in Advanced Options or remove reference photos.\");\n            return;\n        }\n        // Create job tracking\n        const jobId = (0,uuid__WEBPACK_IMPORTED_MODULE_36__[\"default\"])();\n        setCurrentJobId(jobId);\n        // Save job to localStorage and server\n        const jobData = {\n            prompt: prompt.trim() || \"A beautiful \".concat(selectedType === \"custom\" ? customCardType : selectedType, \" card\"),\n            selectedType,\n            customCardType,\n            selectedTone,\n            finalCardMessage,\n            toField,\n            fromField,\n            userEmail,\n            selectedArtisticStyle,\n            customStyleDescription,\n            selectedImageModel,\n            isFrontBackOnly,\n            numberOfCards,\n            selectedPaperSize\n        };\n        saveJobToStorage(jobId, jobData);\n        // Also save to server\n        try {\n            await fetch(\"/api/create-job\", {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                    jobId,\n                    jobData\n                })\n            });\n        } catch (error) {\n            console.error(\"Failed to create server job:\", error);\n        // Continue anyway - localStorage tracking will still work\n        }\n        // Initialize progress tracking\n        setGenerationProgress(\"Analyzing your request...\");\n        setProgressPercentage(5);\n        // Reset section loading states\n        setSectionLoadingStates({\n            frontCover: \"idle\",\n            backCover: \"idle\",\n            leftInterior: \"idle\",\n            rightInterior: \"idle\"\n        });\n        // Use custom card type if selected, otherwise use the standard type\n        const cardTypeForPrompt = selectedType === \"custom\" ? customCardType : selectedType;\n        const selectedToneObj = cardTones.find((tone)=>tone.id === selectedTone);\n        const toneDescription = selectedToneObj ? selectedToneObj.description.toLowerCase() : \"heartfelt and sincere\";\n        // Use a default prompt if none provided\n        const effectivePrompt = prompt.trim() || \"A beautiful \".concat(cardTypeForPrompt, \" card with \").concat(toneDescription, \" style\");\n        let messageContent = finalCardMessage;\n        // Handle handwritten message case\n        if (isHandwrittenMessage) {\n            messageContent = \"[Blank space for handwritten message]\";\n        } else if (!messageContent.trim() && !isFrontBackOnly) {\n            // Auto-generate message if empty (but not for front/back only cards)\n            setGenerationProgress(\"✍️ Penning the perfect words just for you...\");\n            setIsGeneratingMessage(true); // Show \"Crafting the perfect message...\" in button\n            // Update progress for message generation\n            setGenerationProgress(\"Creating your message...\");\n            try {\n                const autoMessagePrompt = \"Create a \".concat(toneDescription, \" message for a \").concat(cardTypeForPrompt, ' greeting card.\\n\\nCard Theme/Description: \"').concat(effectivePrompt, '\"\\n').concat(toField ? \"Recipient: \".concat(toField) : \"Recipient: [not specified]\", \"\\n\").concat(fromField ? \"Sender: \".concat(fromField) : \"Sender: [not specified]\", \"\\nCard Tone: \").concat(selectedToneObj ? selectedToneObj.label : \"Heartfelt\", \" - \").concat(toneDescription, \"\\n\\nInstructions:\\n- Write a message that is \").concat(toneDescription, \" and feels personal and genuine\\n- \").concat(toField ? \"Address the message to \".concat(toField, \" directly, using their name naturally\") : \"Write in a way that could be personalized to any recipient\", \"\\n- \").concat(fromField ? \"Write as if \".concat(fromField, \" is personally writing this message\") : \"Write in a \".concat(toneDescription, \" tone\"), \"\\n- Match the \").concat(toneDescription, \" tone and occasion of the \").concat(cardTypeForPrompt, ' card type\\n- Be inspired by the theme: \"').concat(prompt, '\"\\n- Keep it concise but meaningful (2-4 sentences ideal)\\n- Make it feel authentic, not generic\\n- SAFETY: Never include brand names, character names, trademarked terms, or inappropriate content. If the theme references these, use generic alternatives or focus on the emotions/concepts instead\\n- Keep content family-friendly and appropriate for all ages\\n- ').concat(selectedTone === \"funny\" ? \"Include appropriate humor that fits the occasion\" : \"\", \"\\n- \").concat(selectedTone === \"genz-humor\" ? 'Use GenZ humor with internet slang, memes, and chaotic energy - think \"no cap\", \"periodt\", \"it\\'s giving...\", \"slay\", etc. Be unhinged but endearing' : \"\", \"\\n- \").concat(selectedTone === \"professional\" ? \"Keep it formal and business-appropriate\" : \"\", \"\\n- \").concat(selectedTone === \"romantic\" ? \"Include loving and romantic language\" : \"\", \"\\n- \").concat(selectedTone === \"playful\" ? \"Use fun and energetic language\" : \"\", \"\\n- \").concat(toField && fromField ? \"Show the relationship between \".concat(fromField, \" and \").concat(toField, \" through the \").concat(toneDescription, \" message tone\") : \"\", \"\\n- \").concat(fromField ? 'End the message with a signature line like \"Love, '.concat(fromField, '\" or \"- ').concat(fromField, '\" or similar, naturally integrated into the message.') : \"\", \"\\n\\nReturn ONLY the message text that should appear inside the card - no quotes, no explanations, no markdown formatting (no *bold*, _italics_, or other markdown), just the complete \").concat(toneDescription, \" message in plain text.\\n\\nIMPORTANT: Wrap your final message in <MESSAGE> </MESSAGE> tags. Everything outside these tags will be ignored.\");\n                const generatedMessage = await chatWithAI(autoMessagePrompt, {\n                    model: \"gemini-2.5-pro\",\n                    includeThoughts: false // Don't include thinking content in message generation\n                });\n                if (generatedMessage === null || generatedMessage === void 0 ? void 0 : generatedMessage.trim()) {\n                    // Extract message content between <MESSAGE> tags using regex\n                    const messageMatch = generatedMessage.match(/<MESSAGE>([\\s\\S]*?)<\\/MESSAGE>/);\n                    let extractedMessage = messageMatch ? messageMatch[1].trim() : generatedMessage.trim();\n                    // Ensure no MESSAGE tags are included in the final message\n                    extractedMessage = extractedMessage.replace(/<\\/?MESSAGE>/g, \"\").trim();\n                    messageContent = extractedMessage;\n                    setFinalCardMessage(messageContent);\n                    setGenerationProgress(\"✅ Perfect message crafted! Now for the magic visuals...\");\n                    sonner__WEBPACK_IMPORTED_MODULE_13__.toast.success(\"✨ Generated a personalized message for your card!\");\n                } else {\n                    messageContent = effectivePrompt;\n                }\n                setIsGeneratingMessage(false); // Reset message generation state\n            // Message generation complete\n            } catch (e) {\n                messageContent = effectivePrompt;\n                setIsGeneratingMessage(false); // Reset message generation state on error\n            }\n        }\n        // Determine which model to use based on mode\n        const modelToUse = isDraftMode ? selectedDraftModel : selectedImageModel;\n        // Validate reference images with model compatibility\n        if (referenceImageUrls.length > 0 && modelToUse !== \"gpt-image-1\") {\n            const modeText = isDraftMode ? \"draft mode\" : \"final generation\";\n            sonner__WEBPACK_IMPORTED_MODULE_13__.toast.error(\"Reference photos are only supported with GPT Image 1 model. Please switch to GPT Image 1 for \".concat(modeText, \" or remove reference photos.\"));\n            return;\n        }\n        // Only set global generating state if not in draft mode (draft mode manages its own state)\n        if (!isDraftMode) {\n            setIsGenerating(true);\n            startElapsedTimeTracking(undefined, 120); // 120 seconds for regular card generation  \n            setGenerationProgress(\"Creating your personalized card...\");\n            setProgressPercentage(0);\n        }\n        // Generate unique card ID for URL\n        const cardId = (0,uuid__WEBPACK_IMPORTED_MODULE_36__[\"default\"])();\n        setCurrentCardId(cardId);\n        const cardUrl = \"\".concat(BACKEND_API_BASE_URL, \"/card/\").concat(cardId);\n        // Reset cards state\n        setGeneratedCards([]);\n        setSelectedCardIndex(0);\n        try {\n            // Get style details\n            setGenerationProgress(\"\\uD83C\\uDFA8 Applying your artistic style...\");\n            const selectedStyle = artisticStyles.find((style)=>style.id === selectedArtisticStyle);\n            let styleModifier = selectedStyle ? selectedStyle.promptModifier : \"\";\n            // Handle AI Smart Style - let AI choose the best style\n            if (selectedArtisticStyle === \"ai-smart-style\") {\n                setGenerationProgress(\"✨ Style experts selecting the perfect look...\");\n                // Style selection progress\n                try {\n                    const styleSelectionPrompt = \"You are an expert art director specializing in beautiful, heartfelt greeting cards. Your job is to choose the perfect artistic style that will create a warm, emotional, and memorable card.\\n\\nCard Details:\\n- Type: \".concat(cardTypeForPrompt, '\\n- Theme/Description: \"').concat(effectivePrompt, '\"\\n').concat(toField ? \"- Recipient: \".concat(toField) : \"\", \"\\n\").concat(fromField ? \"- Sender: \".concat(fromField) : \"\", \"\\n\").concat(referenceImageUrls.length > 0 ? \"- Has \".concat(referenceImageUrls.length, \" reference photo\").concat(referenceImageUrls.length > 1 ? \"s\" : \"\", \" for transformation\") : \"\", \"\\n\").concat(isHandwrittenMessage ? \"- Will have handwritten message\" : '- Message: \"'.concat(finalCardMessage, '\"'), \"\\n\\nIMPORTANT GUIDELINES:\\n- Choose styles that are WARM, EMOTIONAL, and PERSONAL (greeting cards are about human connection)\\n- AVOID: robots, tech, cyberpunk, futuristic, sci-fi, digital, mechanical themes\\n- PREFER: watercolor, oil painting, hand-drawn, illustrated, artistic, painterly, natural, organic styles\\n- Consider the emotional tone: joyful, loving, celebratory, peaceful, artistic\\n- Think about what would make someone smile when they receive this card\\n\\nGreat card styles include:\\n- Watercolor illustrations with soft, flowing colors\\n- Hand-painted artwork with visible brushstrokes\\n- Charming illustrated characters and scenes\\n- Beautiful botanical and nature themes\\n- Vintage artistic styles with character\\n- Warm, inviting color palettes\\n- Artistic techniques that feel handmade and personal\\n\\nChoose ONE artistic style that perfectly matches this \").concat(cardTypeForPrompt, ' card\\'s emotional purpose. Respond with:\\n\"in [detailed artistic style description focusing on warmth, beauty, and emotional appeal]\"\\n\\nMake it feel like something created with love for someone special.');\n                    const aiSelectedStyle = await chatWithAI(styleSelectionPrompt, {\n                        model: \"gemini-2.5-pro\",\n                        includeThoughts: false // Don't include thinking content for style selection\n                    });\n                    if (aiSelectedStyle === null || aiSelectedStyle === void 0 ? void 0 : aiSelectedStyle.trim()) {\n                        styleModifier = aiSelectedStyle.trim();\n                        setGenerationProgress(\"✨ Perfect style chosen! Time to bring your card to life...\");\n                        sonner__WEBPACK_IMPORTED_MODULE_13__.toast.success(\"\\uD83C\\uDFA8 Perfect artistic style chosen for your card!\");\n                    } else {\n                        // Fallback to a beautiful default style\n                        styleModifier = \"in a sophisticated artistic style with harmonious colors, elegant composition, and beautiful visual elements perfectly suited for this special card\";\n                    }\n                } catch (error) {\n                    console.error(\"Style selection failed:\", error);\n                    // Fallback to a beautiful default style\n                    styleModifier = \"in a sophisticated artistic style with harmonious colors, elegant composition, and beautiful visual elements perfectly suited for this special card\";\n                    sonner__WEBPACK_IMPORTED_MODULE_13__.toast.info(\"Using a beautiful default style for your card\");\n                }\n            } else if (selectedArtisticStyle === \"custom\" && customStyleDescription.trim()) {\n                styleModifier = \"in \".concat(customStyleDescription.trim());\n            } else if (selectedArtisticStyle === \"custom\" && !customStyleDescription.trim()) {\n                // Fallback to default if custom is selected but no description provided\n                styleModifier = \"in artistic style with creative and unique visual elements\";\n            }\n            // Get paper size configuration\n            const paperConfig = paperSizes.find((size)=>size.id === selectedPaperSize) || paperSizes[0];\n            // Generate multiple unique prompt sets for each card\n            setGenerationProgress(\"\\uD83C\\uDFAF Crafting \".concat(numberOfCards, \" masterpiece design\").concat(numberOfCards > 1 ? \"s\" : \"\", \"...\"));\n            // Create the base prompt generation query that will be used for each card variant\n            const legacyPromptGenerationQuery = \"Create \".concat(isFrontBackOnly ? \"2\" : \"4\", \" prompts for a cohesive, chronologically flowing \").concat(cardTypeForPrompt, \" greeting card that tells a visual story (\").concat(paperConfig.aspectRatio, ' ratio):\\n\\n\\uD83C\\uDFA8 CREATIVITY MANDATE: Be genuinely creative, unique, and innovative! Avoid generic or clich\\xe9 designs. Think outside the box, surprise with unexpected elements, use bold artistic choices, and create something truly memorable and special. Push creative boundaries while staying appropriate for the card type and tone.\\n\\nTheme: \"').concat(effectivePrompt, '\"\\nStyle: ').concat((selectedStyle === null || selectedStyle === void 0 ? void 0 : selectedStyle.label) || \"Default\", \"\\nTone: \").concat(selectedToneObj ? selectedToneObj.label : \"Heartfelt\", \" - \").concat(toneDescription, \"\\n\").concat(toField ? \"To: \".concat(toField) : \"\", \"\\n\").concat(fromField ? \"From: \".concat(fromField) : \"\", \"\\n\").concat(!isFrontBackOnly ? 'Message: \"'.concat(messageContent, '\"') : \"\", \"\\n\").concat(isHandwrittenMessage ? \"Note: Include space for handwritten message\" : \"\", \"\\n\").concat(referenceImageUrls.length > 0 ? \"Reference Photos: I have attached \".concat(referenceImageUrls.length, \" reference photo\").concat(referenceImageUrls.length > 1 ? \"s\" : \"\", \" for you to analyze. Please look at \").concat(referenceImageUrls.length > 1 ? \"these photos\" : \"this photo\", \" to understand what the people look like - their hair color/style, facial features, clothing, accessories, body type, age, etc. Use this visual information to create accurate cartoon/illustrated versions of \").concat(referenceImageUrls.length > 1 ? \"these people\" : \"this person\", ' in the prompts.\\nTransformation instructions: \"').concat(imageTransformation || \"Create stylized cartoon characters that accurately represent the people in the reference photos while maintaining their distinctive features\", '\"') : \"\", '\\n\\nCRITICAL: Create a cohesive visual narrative that flows chronologically through the card experience:\\n1. FRONT COVER: First impression - sets the scene/introduces the story\\n2. INTERIOR SPREAD: The heart of the experience - continuation and climax of the visual story\\n3. BACK COVER: Conclusion - peaceful resolution or complementary ending\\n\\nRequirements:\\n- Flat 2D artwork for printing (not 3D card images)\\n- Full-bleed backgrounds extending to edges\\n- IMPORTANT: Keep text, faces, and key elements at least 10% away from top/bottom edges (small amount may be cropped in printing)\\n- Keep text/faces 0.5\" from left/right edges for safe printing\\n- CONSISTENT visual elements throughout: same characters, color palette, lighting, art style\\n- Progressive visual storytelling from front → interior → back\\n- Put any text in quotes and make it clear/readable\\n- Each section should feel like part of the same artistic universe\\n- TONE: Ensure the visual mood and atmosphere matches the ').concat(toneDescription, ' tone throughout all sections\\n- INTELLECTUAL PROPERTY SAFETY: If the user mentions specific characters, brands, logos, or products, automatically replace them with original generic alternatives in your prompts. For example: replace specific character names with \"cartoon mouse character\" or \"superhero character\", replace brand names with \"colorful cereal\" or \"sports car\", etc. Create inspired-by designs that capture the essence without referencing any protected names or specific copyrighted elements. Never include actual brand names, character names, or trademarked terms in the image generation prompts\\n- CONTENT SAFETY: Ensure all prompts are family-friendly and appropriate for greeting cards. Avoid any content that could be flagged by safety systems including: violence, weapons, inappropriate imagery, political content, controversial topics, scary or disturbing elements, or anything not suitable for all ages. If the user requests something potentially inappropriate, redirect to positive, wholesome alternatives that capture their intent in a family-friendly way\\n').concat(selectedTone === \"funny\" ? \"- Include visual humor, playful elements, and whimsical details\" : \"\", \"\\n\").concat(selectedTone === \"genz-humor\" ? \"- Include GenZ visual elements like chaotic energy, internet meme references, bold contrasting colors, and unhinged but endearing visual style\" : \"\", \"\\n\").concat(selectedTone === \"romantic\" ? \"- Include romantic elements like soft lighting, hearts, flowers, or intimate scenes\" : \"\", \"\\n\").concat(selectedTone === \"professional\" ? \"- Keep visuals clean, sophisticated, and business-appropriate\" : \"\", \"\\n\").concat(selectedTone === \"playful\" ? \"- Include bright colors, dynamic poses, and energetic visual elements\" : \"\", \"\\n\").concat(selectedTone === \"elegant\" ? \"- Focus on sophisticated design, refined color palettes, and graceful compositions\" : \"\", \"\\n\").concat(referenceImageUrls.length > 0 ? \"- Create cartoon/illustrated characters inspired by reference images - DO NOT make realistic depictions\" : \"\", '\\n\\nCreate prompts that flow chronologically:\\n\\n1. Front Cover (Opening Scene): BE GENUINELY CREATIVE AND UNIQUE! Include \"').concat(cardTypeForPrompt, '\" greeting text positioned safely in the center area (avoid top/bottom 10% of image). TEXT STYLE: Write the greeting text in beautiful, clearly readable handwritten cursive script that matches the elegant style used inside the card - legible, flowing, and graceful with natural character and warmth. ').concat(referenceImageUrls.length > 0 ? \"I have included \".concat(referenceImageUrls.length > 1 ? \"multiple\" : \"my own\", \" reference image\").concat(referenceImageUrls.length > 1 ? \"s\" : \"\", \". Create stylized cartoon/illustrated characters inspired by the reference image\").concat(referenceImageUrls.length > 1 ? \"s\" : \"\", \" - DO NOT make realistic depictions of real people, instead create charming cartoon-style characters with simplified, friendly features.\") : \"Create charming cartoon-style or stylized illustrated figures if people are needed for the theme.\", \" This is the story opening - introduce key visual elements (colors, motifs, artistic style) that will continue throughout the other sections. Think of something unexpected, innovative, and memorable that will surprise and delight the recipient. Avoid generic designs! Style: \").concat(styleModifier, \"\\n\\n2. \").concat(!isFrontBackOnly ? \"Left Interior (Story Development): UNLEASH YOUR CREATIVITY! You have complete creative freedom to design whatever you want for this left interior page! This is your artistic playground - create something genuinely innovative and unexpected that feels right for a \".concat(cardTypeForPrompt, \" card with \").concat(toneDescription, \" tone. You can include: scenes, landscapes, objects, patterns, quotes, text, illustrations, realistic art, abstract art, or anything else that inspires you - but NO PEOPLE or characters unless the user specifically mentioned wanting people in their card description. Position any text safely in center area (avoid top/bottom 10%). Think of something no one has done before! Surprise us with bold, imaginative, and memorable artistic choices while maintaining visual harmony with the overall card style and tone. Style: \").concat(styleModifier, \"\\n\\n3. Right Interior (Story Climax): BE CREATIVE WITH MESSAGE DESIGN! \").concat(isHandwrittenMessage ? \"Design with elegant writing space that complements the visual story from left interior. Position decorative elements safely away from top/bottom edges. Create innovative and artistic decorative elements, borders, or flourishes that are unique and memorable - NO PEOPLE or characters.\" : 'Include message text: \"'.concat(messageContent, \"\\\" positioned safely in center area (avoid top/bottom 10% of image) integrated into beautiful, innovative decorative artwork. HANDWRITING STYLE: Write the message in beautiful, clearly readable handwritten cursive script that feels elegant and personal. The handwriting should be legible, flowing, and have natural character - not overly perfect but graceful and warm. Use a nice pen-style appearance with natural ink flow and slight variations in line weight. Think of sophisticated calligraphy that's still approachable and easy to read. Make the handwriting feel genuine and heartfelt. Think beyond typical florals and patterns - create something unexpected and artistic that perfectly frames the handwritten message - NO PEOPLE or characters.\"), \" This should feel like the emotional peak of the card experience, harmonizing with the left interior as a cohesive spread. Avoid clich\\xe9 designs and create something genuinely special!\").concat(handwritingSampleUrl ? \" Match the provided handwriting style sample exactly.\" : \" Use the elegant cursive handwriting style described above.\", \" Style: \").concat(styleModifier, \"\\n\\n4. \") : \"\", \"Back Cover (Story Resolution): BE SUBTLY CREATIVE! Create a simple yet innovative decorative design that brings peaceful closure to the visual story. Reference subtle elements from the front cover but keep it minimal and serene - NO PEOPLE, just beautiful, unexpected artistic elements that go beyond typical patterns or florals. IMPORTANT: Leave the bottom-right corner area (approximately 1 inch square) completely clear and undecorated - this space should remain empty. Focus decorative elements toward the center and left side of the design. Think of something quietly beautiful and memorable that complements the overall design while being genuinely unique. This should feel like a peaceful, artistic ending that surprises with its subtle creativity. Style: \").concat(styleModifier, '\\n\\nVISUAL CONTINUITY CHECKLIST:\\n- Same color palette across all sections\\n- Consistent lighting/time of day\\n- Same artistic techniques and brushwork\\n- Recurring visual motifs or symbols (but make them unique and memorable!)\\n- Progressive emotional journey from introduction to resolution\\n- Front cover: stylized cartoon/illustrated characters if people are needed for the theme\\n- Left interior: CREATIVE FREEDOM but NO PEOPLE unless user specifically requested people in their description\\n- Right interior: focus on message space with innovative decorative elements (NO PEOPLE)\\n- Back cover: simple yet creative decorative design without text or people\\n- Use simplified, friendly, charming character design if including people (front cover only)\\n- CREATIVITY PRIORITY: Always choose the more innovative, surprising, and memorable option over generic designs\\n\\nReturn JSON:\\n{\\n  \"frontCover\": \"detailed prompt with story opening elements\",\\n  \"backCover\": \"detailed prompt with story conclusion elements\"').concat(!isFrontBackOnly ? ',\\n  \"leftInterior\": \"detailed prompt with story development elements\",\\n  \"rightInterior\": \"detailed prompt with story climax elements\"' : \"\", \"\\n}\");\n            // Generate multiple unique prompt sets in parallel\n            const promptGenerationPromises = Array.from({\n                length: numberOfCards\n            }, (_, cardIndex)=>{\n                const uniquePromptQuery = legacyPromptGenerationQuery + \"\\n\\n\\uD83C\\uDFA8 CARD VARIANT \".concat(cardIndex + 1, ' CREATIVE DIRECTION: \\nCreate a completely unique visual interpretation that\\'s distinctly different from other possible variants. Use different:\\n- Color palettes and mood lighting\\n- Artistic composition and layout approaches  \\n- Creative visual metaphors and symbols\\n- Character designs and poses (if applicable)\\n- Background elements and settings\\n- Typography styles and text placement\\n- Overall creative theme while keeping same core message\\n\\nMake this card variant stand out as its own unique artistic vision!\\n\\nReturn JSON:\\n{\\n  \"frontCover\": \"detailed prompt with story opening elements\",\\n  \"backCover\": \"detailed prompt with story conclusion elements\"').concat(!isFrontBackOnly ? ',\\n  \"leftInterior\": \"detailed prompt with story development elements\",\\n  \"rightInterior\": \"detailed prompt with story climax elements\"' : \"\", \"\\n}\");\n                return chatWithAI(uniquePromptQuery, {\n                    jsonSchema: {\n                        type: \"object\",\n                        properties: {\n                            frontCover: {\n                                type: \"string\"\n                            },\n                            backCover: {\n                                type: \"string\"\n                            },\n                            ...isFrontBackOnly ? {} : {\n                                leftInterior: {\n                                    type: \"string\"\n                                },\n                                rightInterior: {\n                                    type: \"string\"\n                                }\n                            }\n                        },\n                        required: [\n                            \"frontCover\",\n                            \"backCover\",\n                            ...isFrontBackOnly ? [] : [\n                                \"leftInterior\",\n                                \"rightInterior\"\n                            ]\n                        ]\n                    },\n                    includeThoughts: false,\n                    attachments: referenceImageUrls // Pass reference images to AI for better prompt generation\n                });\n            });\n            // Wait for all prompt generations to complete\n            const allGeneratedPrompts = await Promise.all(promptGenerationPromises);\n            setGenerationProgress(\"✅ \".concat(numberOfCards, \" brilliant design\").concat(numberOfCards > 1 ? \"s\" : \"\", \" ready! Now painting them into reality...\"));\n            // Generate all images in parallel\n            setGenerationProgress(\"\\uD83D\\uDDBC️ Generating your \".concat(numberOfCards, \" card\").concat(numberOfCards > 1 ? \"s\" : \"\", \" with \").concat(isFrontBackOnly ? \"2\" : \"4\", \" images each...\"));\n            // Starting image generation\n            // Set section states to loading\n            setSectionLoadingStates({\n                frontCover: \"loading\",\n                backCover: \"idle\",\n                leftInterior: isFrontBackOnly ? \"idle\" : \"idle\",\n                rightInterior: isFrontBackOnly ? \"idle\" : \"idle\"\n            });\n            // Prepare input images for each section\n            const frontCoverInputImages = [];\n            const backCoverInputImages = [];\n            const leftInteriorInputImages = [];\n            const rightInteriorInputImages = [];\n            // Handle reference images - only for models with direct image support\n            if (referenceImageUrls.length > 0 && modelToUse === \"gpt-image-1\") {\n                // GPT-1 supports direct image input - pass reference images directly\n                frontCoverInputImages.push(...referenceImageUrls);\n                console.log(\"\\uD83D\\uDD0D DEBUG: Added reference images to frontCoverInputImages:\", referenceImageUrls);\n                console.log(\"\\uD83D\\uDD0D DEBUG: frontCoverInputImages length:\", frontCoverInputImages.length);\n                setGenerationProgress(\"✨ Reference photos will be used directly for character creation...\");\n                sonner__WEBPACK_IMPORTED_MODULE_13__.toast.success(\"\\uD83D\\uDCF8 \".concat(referenceImageUrls.length, \" reference photo\").concat(referenceImageUrls.length > 1 ? \"s\" : \"\", \" ready for character creation!\"));\n            }\n            if (modelToUse === \"gpt-image-1\") {\n                // Add handwriting sample to right interior for message styling\n                if (handwritingSampleUrl && !isFrontBackOnly) {\n                    rightInteriorInputImages.push(handwritingSampleUrl);\n                }\n            }\n            // Create payloads for all cards with their unique prompts\n            const allCardPayloads = [];\n            // Create payloads for each card with its unique prompts\n            allGeneratedPrompts.forEach((generatedPrompts, cardIndex)=>{\n                // Enhance front cover prompt with reference image instructions if available\n                let enhancedFrontCoverPrompt = generatedPrompts.frontCover;\n                if (referenceImageUrls.length > 0 && modelToUse === \"gpt-image-1\") {\n                    // GPT-1 with direct image input - focus on character creation\n                    enhancedFrontCoverPrompt = \"\".concat(generatedPrompts.frontCover, \"\\n\\nCRITICAL CHARACTER REFERENCE INSTRUCTIONS: I have provided \").concat(referenceImageUrls.length > 1 ? \"multiple reference photos\" : \"a reference photo\", \" as input image\").concat(referenceImageUrls.length > 1 ? \"s\" : \"\", \". You MUST create cartoon/illustrated characters that accurately represent ONLY the people who are actually visible in \").concat(referenceImageUrls.length > 1 ? \"these reference photos\" : \"this reference photo\", \" with high fidelity to their appearance.\\n\\nMANDATORY CHARACTER MATCHING REQUIREMENTS - ONLY INCLUDE WHAT IS ACTUALLY VISIBLE:\\n- REPRESENT ONLY PEOPLE ACTUALLY IN THE PHOTOS: Create cartoon versions of ONLY the people who are actually shown in the reference photos. Do NOT add, create, or imagine any additional people not present in the reference images.\\n- EXACT hair color, hair style, and hair length from the reference photo - only what is actually visible\\n- PRECISE facial features: eye color, eye shape, nose shape, face structure, skin tone - exactly as shown in the reference\\n- ACCURATE clothing: replicate ONLY the EXACT clothing items, colors, patterns, and styles actually worn in the reference photo - do not add or change any clothing items\\n- ACCESSORIES ONLY IF VISIBLE: Include accessories (glasses, jewelry, hats, watches, bags, etc.) ONLY if they are actually visible on each person in the reference photo. DO NOT add glasses if they are not wearing glasses in the photo. DO NOT add jewelry if they are not wearing jewelry in the photo. DO NOT add any accessories that are not clearly visible in the reference image.\\n- CORRECT body proportions and posture as shown in the reference\\n- FAITHFUL age representation and gender presentation - exactly as they appear\\n- AUTHENTIC facial expressions and poses from the reference image, lean towards making the people look happier unless the user specifically asks for a different expression.\\n- GROUP COMPOSITION: If multiple people are actually shown in the photos, arrange them naturally together in a pleasing composition that fits the card's theme\\n\\nCRITICAL RESTRICTION: Do not add, remove, or modify any visual elements beyond what is actually visible in the reference photos. Only include people, clothing, and accessories that are clearly shown in the reference images.\\n\\n\").concat(imageTransformation || \"Study every detail of the people actually in the reference image and recreate them as stylized cartoon characters while maintaining 100% accuracy to their distinctive visual features. The characters must be immediately recognizable as the same people from the reference photo. Pay special attention to clothing details and accessories that are actually visible, and unique personal style elements that make each person distinctive. Do not add or imagine any elements not present in the reference.\", \"\\n\\nThe cartoon style should be charming and artistic while preserving complete visual accuracy to the reference photo. Only represent people, clothing, and accessories that are actually visible in the reference images.\");\n                }\n                const cardPayloads = [\n                    {\n                        tool_name: \"generate_images_with_prompts\",\n                        arguments: {\n                            user_number: \"+17145986105\",\n                            prompts: [\n                                enhancedFrontCoverPrompt\n                            ],\n                            model_version: modelToUse,\n                            aspect_ratio: paperConfig.aspectRatio,\n                            quality: isDraftMode ? \"low\" : \"high\",\n                            output_format: \"jpeg\",\n                            output_compression: 100,\n                            moderation: \"low\",\n                            ...frontCoverInputImages.length > 0 && {\n                                input_images: frontCoverInputImages\n                            },\n                            // Debug logging\n                            ...(()=>{\n                                if (frontCoverInputImages.length > 0) {\n                                    console.log(\"\\uD83D\\uDD0D DEBUG: Sending input_images to MCP:\", frontCoverInputImages);\n                                }\n                                return {};\n                            })()\n                        },\n                        user_id_context: \"+17145986105\",\n                        cardIndex,\n                        sectionIndex: 0,\n                        sectionName: \"Front Cover\"\n                    },\n                    {\n                        tool_name: \"generate_images_with_prompts\",\n                        arguments: {\n                            user_number: \"+17145986105\",\n                            prompts: [\n                                generatedPrompts.backCover\n                            ],\n                            model_version: modelToUse,\n                            aspect_ratio: paperConfig.aspectRatio,\n                            quality: isDraftMode ? \"low\" : \"high\",\n                            output_format: \"jpeg\",\n                            output_compression: 100,\n                            moderation: \"low\",\n                            ...backCoverInputImages.length > 0 && {\n                                input_images: backCoverInputImages\n                            }\n                        },\n                        user_id_context: \"+17145986105\",\n                        cardIndex,\n                        sectionIndex: 1,\n                        sectionName: \"Back Cover\"\n                    }\n                ];\n                // Add interior images if not front/back only\n                if (!isFrontBackOnly && generatedPrompts.leftInterior && generatedPrompts.rightInterior) {\n                    cardPayloads.push({\n                        tool_name: \"generate_images_with_prompts\",\n                        arguments: {\n                            user_number: \"+17145986105\",\n                            prompts: [\n                                generatedPrompts.leftInterior\n                            ],\n                            model_version: modelToUse,\n                            aspect_ratio: paperConfig.aspectRatio,\n                            quality: isDraftMode ? \"low\" : \"high\",\n                            output_format: \"jpeg\",\n                            output_compression: 100,\n                            moderation: \"low\",\n                            ...leftInteriorInputImages.length > 0 && {\n                                input_images: leftInteriorInputImages\n                            }\n                        },\n                        user_id_context: \"+17145986105\",\n                        cardIndex,\n                        sectionIndex: 2,\n                        sectionName: \"Left Interior\"\n                    }, {\n                        tool_name: \"generate_images_with_prompts\",\n                        arguments: {\n                            user_number: \"+17145986105\",\n                            prompts: [\n                                generatedPrompts.rightInterior\n                            ],\n                            model_version: modelToUse,\n                            aspect_ratio: paperConfig.aspectRatio,\n                            quality: isDraftMode ? \"low\" : \"high\",\n                            output_format: \"jpeg\",\n                            output_compression: 100,\n                            moderation: \"low\",\n                            ...rightInteriorInputImages.length > 0 && {\n                                input_images: rightInteriorInputImages\n                            }\n                        },\n                        user_id_context: \"+17145986105\",\n                        cardIndex,\n                        sectionIndex: 3,\n                        sectionName: \"Right Interior\"\n                    });\n                }\n                allCardPayloads.push(...cardPayloads);\n            });\n            // Track image completion per card\n            const completedImages = new Map();\n            let completedCount = 0;\n            const completedCards = [];\n            // Clear any existing cards during generation\n            setGeneratedCards([]);\n            setGeneratedCard(null);\n            setSelectedCardIndex(0);\n            setGenerationProgress(\"\\uD83C\\uDFA8 Artists at work! Creating \".concat(allCardPayloads.length, \" stunning images for your \").concat(numberOfCards, \" card\").concat(numberOfCards > 1 ? \"s\" : \"\", \"...\"));\n            // Start 2:30 countdown now that we're actually generating images\n            setCountdown(150);\n            const interval = setInterval(()=>{\n                setCountdown((prev)=>{\n                    if (prev <= 1) {\n                        clearInterval(interval);\n                        return 0;\n                    }\n                    return prev - 1;\n                });\n            }, 1000);\n            setCountdownInterval(interval);\n            // Helper function to regenerate prompt if blocked by safety system\n            const regeneratePromptIfNeeded = async (originalPrompt, sectionName)=>{\n                try {\n                    const regenerationQuery = 'The following image prompt was blocked by the safety system. Please rewrite it to be more appropriate while keeping the same artistic intent and style:\\n\\nBLOCKED PROMPT: \"'.concat(originalPrompt, \"\\\"\\n\\nRequirements:\\n- Keep the same artistic style and visual goals\\n- Remove any content that might trigger safety filters\\n- Maintain the full-bleed design requirements\\n- IMPORTANT: Keep text, faces, and key elements at least 10% away from top/bottom edges (small amount may be cropped in printing)\\n- Focus on safe, family-friendly imagery\\n- Keep the same color palette and mood\\n- Ensure it's appropriate for a greeting card\\n\\nReturn only the rewritten prompt, no explanations.\");\n                    const newPrompt = await chatWithAI(regenerationQuery, {\n                        model: \"gemini-2.5-pro\",\n                        includeThoughts: false // Don't include thinking content for prompt regeneration\n                    });\n                    return (newPrompt === null || newPrompt === void 0 ? void 0 : newPrompt.trim()) || originalPrompt;\n                } catch (error) {\n                    console.error(\"Failed to regenerate prompt:\", error);\n                    return originalPrompt;\n                }\n            };\n            // Helper function to process a single image with retry logic\n            const processSingleImage = async function(payload, index, sectionName) {\n                let cardIndex = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : 0;\n                let currentPayload = payload;\n                let retryCount = 0;\n                const maxRetries = 2;\n                let hasTriedTextFallback = false;\n                while(retryCount <= maxRetries){\n                    try {\n                        const response = await fetch(\"\".concat(BACKEND_API_BASE_URL, \"/internal/call_mcp_tool\"), {\n                            method: \"POST\",\n                            headers: {\n                                \"Content-Type\": \"application/json\"\n                            },\n                            body: JSON.stringify(currentPayload)\n                        });\n                        if (!response.ok) {\n                            throw new Error(\"HTTP \".concat(response.status));\n                        }\n                        const result = await response.json();\n                        // Check for safety system error\n                        if (result.result && typeof result.result === \"string\") {\n                            var _parsedResult_results__error, _parsedResult_results_, _parsedResult_results;\n                            const parsedResult = JSON.parse(result.result);\n                            if (parsedResult.status === \"error\" && ((_parsedResult_results = parsedResult.results) === null || _parsedResult_results === void 0 ? void 0 : (_parsedResult_results_ = _parsedResult_results[0]) === null || _parsedResult_results_ === void 0 ? void 0 : (_parsedResult_results__error = _parsedResult_results_.error) === null || _parsedResult_results__error === void 0 ? void 0 : _parsedResult_results__error.includes(\"moderation_blocked\"))) {\n                                if (retryCount < maxRetries) {\n                                    // Regenerate prompt and retry\n                                    const originalPrompt = currentPayload.arguments.prompts[0];\n                                    const newPrompt = await regeneratePromptIfNeeded(originalPrompt, sectionName);\n                                    currentPayload = {\n                                        ...currentPayload,\n                                        arguments: {\n                                            ...currentPayload.arguments,\n                                            prompts: [\n                                                newPrompt\n                                            ]\n                                        }\n                                    };\n                                    retryCount++;\n                                    continue;\n                                } else {\n                                    throw new Error(\"Safety system blocked \".concat(sectionName, \" after \").concat(maxRetries, \" attempts\"));\n                                }\n                            }\n                        // Reference image analysis is now done upfront, so no fallback needed\n                        }\n                        if (result.error && result.error !== \"None\" && result.error !== null) {\n                            throw new Error(result.error);\n                        }\n                        // Parse and extract image URL\n                        const data = JSON.parse(result.result);\n                        if (data.status !== \"success\") {\n                            throw new Error(\"\".concat(sectionName, \" generation failed\"));\n                        }\n                        const imageUrl = Array.isArray(data.results[0]) ? data.results[0][0] : data.results[0];\n                        // Track completed images per card\n                        const imageKey = \"\".concat(cardIndex, \"-\").concat(index);\n                        completedImages.set(imageKey, imageUrl);\n                        completedCount++;\n                        const totalImages = allCardPayloads.length;\n                        setGenerationProgress(\"\\uD83C\\uDFA8 \".concat(completedCount, \"/\").concat(totalImages, \" masterpieces complete! Just finished Card \").concat(cardIndex + 1, \" \").concat(sectionName, \"...\"));\n                        // Update section loading states and progress\n                        const progressPercentage = 30 + Math.floor(completedCount / totalImages * 50); // 30-80% for image generation\n                        // Update individual section states\n                        setSectionLoadingStates((prev)=>{\n                            const newState = {\n                                ...prev\n                            };\n                            if (sectionName === \"Front Cover\") {\n                                newState.frontCover = \"completed\";\n                            } else if (sectionName === \"Back Cover\") {\n                                newState.backCover = \"completed\";\n                            } else if (sectionName === \"Left Interior\") {\n                                newState.leftInterior = \"completed\";\n                            } else if (sectionName === \"Right Interior\") {\n                                newState.rightInterior = \"completed\";\n                            }\n                            return newState;\n                        });\n                        // Section completion logged\n                        // Check if this card is now complete\n                        const sectionsPerCard = isFrontBackOnly ? 2 : 4;\n                        const cardStartIndex = cardIndex * sectionsPerCard;\n                        const cardEndIndex = cardStartIndex + sectionsPerCard - 1;\n                        let isCardComplete = true;\n                        for(let i = cardStartIndex; i <= cardEndIndex; i++){\n                            const checkKey = \"\".concat(cardIndex, \"-\").concat(i - cardStartIndex);\n                            if (!completedImages.has(checkKey)) {\n                                isCardComplete = false;\n                                break;\n                            }\n                        }\n                        // If card is complete, update the cards state\n                        if (isCardComplete) {\n                            setGeneratedCards((prevCards)=>{\n                                const updatedCards = [\n                                    ...prevCards\n                                ];\n                                // Create new card object if it doesn't exist\n                                if (!updatedCards[cardIndex]) {\n                                    updatedCards[cardIndex] = {\n                                        id: \"card-\".concat(cardIndex, \"-\").concat(Date.now()),\n                                        prompt: prompt,\n                                        frontCover: \"\",\n                                        backCover: \"\",\n                                        leftPage: \"\",\n                                        rightPage: \"\",\n                                        createdAt: new Date()\n                                    };\n                                }\n                                const updatedCard = {\n                                    ...updatedCards[cardIndex]\n                                };\n                                // Set all images for this completed card\n                                updatedCard.frontCover = completedImages.get(\"\".concat(cardIndex, \"-0\")) || \"\";\n                                updatedCard.backCover = completedImages.get(\"\".concat(cardIndex, \"-1\")) || \"\";\n                                if (!isFrontBackOnly) {\n                                    updatedCard.leftPage = completedImages.get(\"\".concat(cardIndex, \"-2\")) || \"\";\n                                    updatedCard.rightPage = completedImages.get(\"\".concat(cardIndex, \"-3\")) || \"\";\n                                } else {\n                                    // Set fallbacks for front/back only mode\n                                    updatedCard.leftPage = updatedCard.backCover;\n                                    updatedCard.rightPage = updatedCard.frontCover;\n                                }\n                                // Update prompt to use effective prompt\n                                updatedCard.prompt = effectivePrompt;\n                                // Store the generated prompts for factory use\n                                updatedCard.generatedPrompts = {\n                                    frontCover: allGeneratedPrompts[cardIndex].frontCover,\n                                    backCover: allGeneratedPrompts[cardIndex].backCover,\n                                    leftInterior: !isFrontBackOnly ? allGeneratedPrompts[cardIndex].leftInterior : undefined,\n                                    rightInterior: !isFrontBackOnly ? allGeneratedPrompts[cardIndex].rightInterior : undefined\n                                };\n                                updatedCards[cardIndex] = updatedCard;\n                                // Store completed card locally for email use\n                                completedCards[cardIndex] = updatedCard;\n                                // If this is the first completed card or the selected card, set it as main display\n                                if (!generatedCard || cardIndex === selectedCardIndex) {\n                                    setGeneratedCard(updatedCard);\n                                }\n                                return updatedCards;\n                            });\n                            sonner__WEBPACK_IMPORTED_MODULE_13__.toast.success(\"\\uD83C\\uDF89 Card \".concat(cardIndex + 1, \" is complete and ready!\"));\n                        }\n                        return imageUrl;\n                    } catch (error) {\n                        if (retryCount === maxRetries) {\n                            throw new Error(\"Failed to generate \".concat(sectionName, \": \").concat(error instanceof Error ? error.message : \"Unknown error\"));\n                        }\n                        retryCount++;\n                    }\n                }\n            };\n            // Start all image generations in parallel (all cards, all sections) with unique prompts\n            const imagePromises = allCardPayloads.map((payload)=>processSingleImage(payload, payload.sectionIndex, payload.sectionName, payload.cardIndex));\n            // Wait for all to complete\n            await Promise.all(imagePromises);\n            // Finalizing images\n            // Build final cards from completed images for email use\n            const finalCards = [];\n            for(let cardIndex = 0; cardIndex < numberOfCards; cardIndex++){\n                const card = {\n                    id: \"card-\".concat(cardIndex, \"-\").concat(Date.now()),\n                    prompt: effectivePrompt,\n                    frontCover: completedImages.get(\"\".concat(cardIndex, \"-0\")) || \"\",\n                    backCover: completedImages.get(\"\".concat(cardIndex, \"-1\")) || \"\",\n                    leftPage: isFrontBackOnly ? completedImages.get(\"\".concat(cardIndex, \"-1\")) || \"\" : completedImages.get(\"\".concat(cardIndex, \"-2\")) || \"\",\n                    rightPage: isFrontBackOnly ? completedImages.get(\"\".concat(cardIndex, \"-0\")) || \"\" : completedImages.get(\"\".concat(cardIndex, \"-3\")) || \"\",\n                    createdAt: new Date(),\n                    // Include the generated prompts for factory use\n                    generatedPrompts: {\n                        frontCover: allGeneratedPrompts[cardIndex].frontCover,\n                        backCover: allGeneratedPrompts[cardIndex].backCover,\n                        leftInterior: !isFrontBackOnly ? allGeneratedPrompts[cardIndex].leftInterior : undefined,\n                        rightInterior: !isFrontBackOnly ? allGeneratedPrompts[cardIndex].rightInterior : undefined\n                    }\n                };\n                finalCards.push(card);\n            }\n            // Apply QR codes to all cards' back covers\n            setGenerationProgress(\"✨ Adding interactive QR codes to your cards...\");\n            console.log(\"\\uD83D\\uDD04 Starting QR overlay process for\", finalCards.length, \"cards\");\n            console.log(\"\\uD83D\\uDD17 Card URL:\", cardUrl);\n            for(let i = 0; i < finalCards.length; i++){\n                var _finalCards_i_backCover;\n                console.log(\"\\uD83C\\uDFAF Processing card \".concat(i + 1, \":\"), {\n                    hasBackCover: !!finalCards[i].backCover,\n                    hasCardUrl: !!cardUrl,\n                    backCoverLength: (_finalCards_i_backCover = finalCards[i].backCover) === null || _finalCards_i_backCover === void 0 ? void 0 : _finalCards_i_backCover.length\n                });\n            // QR code will be applied after successful API storage\n            }\n            // Display cards will be updated after successful API storage and QR code application\n            setGenerationProgress(\"✅ Card completed, preview down below!\");\n            setIsCardCompleted(true);\n            // Generation complete\n            setProgressPercentage(100);\n            setGenerationProgress(\"Generation complete!\");\n            // Complete and remove job from localStorage and server\n            if (currentJobId) {\n                // Store completion result on server\n                try {\n                    await fetch(\"/api/store-job-result\", {\n                        method: \"POST\",\n                        headers: {\n                            \"Content-Type\": \"application/json\"\n                        },\n                        body: JSON.stringify({\n                            jobId: currentJobId,\n                            status: \"completed\",\n                            cardData: generatedCards[0] || generatedCard\n                        })\n                    });\n                } catch (error) {\n                    console.error(\"Failed to store job result on server:\", error);\n                }\n                removeJobFromStorage(currentJobId);\n                setCurrentJobId(null);\n            }\n            if (numberOfCards === 1) {\n                sonner__WEBPACK_IMPORTED_MODULE_13__.toast.success(\"\\uD83C\\uDF89 Your complete card with QR code is ready!\");\n            } else {\n                sonner__WEBPACK_IMPORTED_MODULE_13__.toast.success(\"\\uD83C\\uDF89 All \".concat(numberOfCards, \" cards with QR codes are ready! Choose your favorite below.\"));\n            }\n            // Clear the completion message after 3 seconds but keep isCardCompleted true\n            setTimeout(()=>{\n                setGenerationProgress(\"\");\n            }, 3000);\n            // Send thank you email if user provided email\n            if (userEmail.trim()) {\n                const cardTypeForEmail = selectedType === \"custom\" ? customCardType : selectedType;\n                try {\n                    // Use the first final card (which now has QR code)\n                    const cardToStore = finalCards[0];\n                    if (!cardToStore || !cardToStore.frontCover) {\n                        console.log(\"No card data available for sharing\");\n                        sendThankYouEmail(userEmail, cardTypeForEmail, \"https://vibecarding.com\");\n                        return;\n                    }\n                    // Store card data with pre-generated card ID\n                    const cardData = {\n                        id: cardId,\n                        prompt: effectivePrompt,\n                        frontCover: cardToStore.frontCover || \"\",\n                        backCover: cardToStore.backCover || \"\",\n                        leftPage: cardToStore.leftPage || \"\",\n                        rightPage: cardToStore.rightPage || \"\"\n                    };\n                    console.log(\"Storing card data:\", cardData);\n                    const cardStoreResponse = await fetch(\"/api/cards/store\", {\n                        method: \"POST\",\n                        headers: {\n                            \"Content-Type\": \"application/json\"\n                        },\n                        body: JSON.stringify(cardData)\n                    });\n                    if (cardStoreResponse.ok) {\n                        const cardStoreData = await cardStoreResponse.json();\n                        console.log(\"Card stored successfully, API response:\", cardStoreData);\n                        // Use the share_url from the API response (contains friendly name)\n                        const actualShareUrl = cardStoreData.share_url || cardUrl;\n                        console.log(\"Using actual share URL for QR code:\", actualShareUrl);\n                        // Now apply QR codes to all cards after successful API storage\n                        for(let i = 0; i < finalCards.length; i++){\n                            if (finalCards[i].backCover && actualShareUrl) {\n                                try {\n                                    const originalBackCover = finalCards[i].backCover;\n                                    console.log(\"\\uD83D\\uDD04 Applying QR overlay to card \".concat(i + 1, \" after API storage...\"));\n                                    finalCards[i].backCover = await overlayQRCodeOnImage(originalBackCover, actualShareUrl);\n                                    console.log(\"✅ QR overlay complete for card \".concat(i + 1));\n                                } catch (error) {\n                                    console.error(\"❌ Failed to overlay QR code on card \".concat(i + 1, \":\"), error);\n                                // Card keeps original back cover if QR overlay fails\n                                }\n                            } else {\n                                console.log(\"⚠️ Skipping QR overlay for card \".concat(i + 1, \" - missing back cover or URL\"));\n                            }\n                        }\n                        // Update the displayed cards state with QR-enhanced versions\n                        console.log(\"\\uD83D\\uDD04 Updating displayed cards with QR codes after API storage...\");\n                        setGeneratedCards([\n                            ...finalCards\n                        ]);\n                        // Also update the main displayed card if needed\n                        if (finalCards.length > 0) {\n                            setGeneratedCard(finalCards[0]);\n                        }\n                        // Store the actual share URL in the first card for later use by Share button\n                        if (finalCards[0]) {\n                            finalCards[0].shareUrl = actualShareUrl;\n                            // Also update the React state with the share URL\n                            setGeneratedCards((prevCards)=>{\n                                const updated = [\n                                    ...prevCards\n                                ];\n                                if (updated[0]) {\n                                    updated[0].shareUrl = actualShareUrl;\n                                }\n                                return updated;\n                            });\n                        }\n                        sendThankYouEmail(userEmail, cardTypeForEmail, actualShareUrl);\n                    } else {\n                        console.error(\"Failed to store card:\", cardStoreResponse.status, await cardStoreResponse.text());\n                        // Fallback to generic URL if store fails\n                        sendThankYouEmail(userEmail, cardTypeForEmail, \"https://vibecarding.com\");\n                    }\n                } catch (error) {\n                    console.error(\"Error storing card for email:\", error);\n                    // Fallback to generic URL if store fails\n                    sendThankYouEmail(userEmail, cardTypeForEmail, \"https://vibecarding.com\");\n                }\n            }\n            // Clear countdown timer on successful completion\n            if (countdownInterval) {\n                clearInterval(countdownInterval);\n                setCountdownInterval(null);\n            }\n            setCountdown(0);\n        } catch (error) {\n            setGenerationProgress(\"\");\n            sonner__WEBPACK_IMPORTED_MODULE_13__.toast.error(\"Failed to generate card. Please try again.\");\n            console.error(\"Card generation error:\", error);\n            // Remove failed job from localStorage and update server\n            if (currentJobId) {\n                // Store failure result on server\n                try {\n                    await fetch(\"/api/store-job-result\", {\n                        method: \"POST\",\n                        headers: {\n                            \"Content-Type\": \"application/json\"\n                        },\n                        body: JSON.stringify({\n                            jobId: currentJobId,\n                            status: \"failed\",\n                            error: error instanceof Error ? error.message : \"Unknown error\"\n                        })\n                    });\n                } catch (serverError) {\n                    console.error(\"Failed to store job failure on server:\", serverError);\n                }\n                removeJobFromStorage(currentJobId);\n                setCurrentJobId(null);\n            }\n        } finally{\n            setIsGenerating(false);\n            // Clear countdown timer\n            if (countdownInterval) {\n                clearInterval(countdownInterval);\n                setCountdownInterval(null);\n            }\n            setCountdown(0);\n        }\n    };\n    // Show print confirmation dialog\n    const handlePrintClick = ()=>{\n        if (!generatedCard) return;\n        // Check if user email is provided\n        if (!userEmail.trim()) {\n            sonner__WEBPACK_IMPORTED_MODULE_13__.toast.error(\"Please enter your email address before printing\");\n            return;\n        }\n        setPrintOption(\"physical\"); // Reset to default\n        setShowPrintConfirmation(true);\n    };\n    // Handle template selection for preview\n    const handleTemplateSelect = async (template)=>{\n        try {\n            // Show loading state\n            setIsGenerating(true);\n            setGenerationProgress(\"\\uD83D\\uDD0D Loading complete template data...\");\n            // Close template gallery first\n            setShowTemplateGallery(false);\n            // Check if template has all required images\n            const hasAllImages = template.frontCover && template.backCover && (isFrontBackOnly || template.leftPage && template.rightPage);\n            if (hasAllImages) {\n                // Template is complete, load directly\n                setGeneratedCard(template);\n                setGeneratedCards([\n                    template\n                ]);\n                setSelectedCardIndex(0);\n                setIsCardCompleted(true);\n                setIsGenerating(false);\n                setGenerationProgress(\"\");\n                // Scroll to card preview\n                scrollToCardPreview();\n                sonner__WEBPACK_IMPORTED_MODULE_13__.toast.success(\"✨ Template loaded! You can now print or email this card from the preview below.\");\n            } else {\n                // Template is incomplete, try to fetch complete data from API\n                setGenerationProgress(\"\\uD83D\\uDCE1 Fetching complete card images...\");\n                try {\n                    // Try to fetch the complete card data from the server\n                    const response = await fetch(\"/api/cards/list?limit=1&search=\".concat(encodeURIComponent(template.id)));\n                    if (response.ok) {\n                        const data = await response.json();\n                        const foundCard = data.cards.find((card)=>card.id === template.id);\n                        if (foundCard && foundCard.frontCover && foundCard.backCover && (isFrontBackOnly || foundCard.leftPage && foundCard.rightPage)) {\n                            // Found complete card data\n                            const completeCard = {\n                                id: foundCard.id,\n                                prompt: foundCard.prompt || template.prompt,\n                                frontCover: foundCard.frontCover,\n                                backCover: foundCard.backCover,\n                                leftPage: foundCard.leftPage || foundCard.frontCover,\n                                rightPage: foundCard.rightPage || foundCard.frontCover,\n                                createdAt: new Date(foundCard.createdAt * 1000),\n                                shareUrl: foundCard.shareUrl || template.shareUrl,\n                                generatedPrompts: foundCard.generatedPrompts || template.generatedPrompts\n                            };\n                            setGeneratedCard(completeCard);\n                            setGeneratedCards([\n                                completeCard\n                            ]);\n                            setSelectedCardIndex(0);\n                            setIsCardCompleted(true);\n                            setIsGenerating(false);\n                            setGenerationProgress(\"\");\n                            // Scroll to card preview\n                            scrollToCardPreview();\n                            sonner__WEBPACK_IMPORTED_MODULE_13__.toast.success(\"✅ Complete template loaded with all images!\");\n                        } else {\n                            throw new Error(\"Complete card data not found\");\n                        }\n                    } else {\n                        throw new Error(\"Failed to fetch card data\");\n                    }\n                } catch (fetchError) {\n                    console.log(\"Could not fetch complete card data, using fallback approach:\", fetchError);\n                    // Fallback: Use front cover for missing images\n                    const fallbackCard = {\n                        ...template,\n                        backCover: template.backCover || template.frontCover,\n                        leftPage: template.leftPage || template.frontCover,\n                        rightPage: template.rightPage || template.frontCover\n                    };\n                    setGeneratedCard(fallbackCard);\n                    setGeneratedCards([\n                        fallbackCard\n                    ]);\n                    setSelectedCardIndex(0);\n                    setIsCardCompleted(true);\n                    setIsGenerating(false);\n                    setGenerationProgress(\"\");\n                    // Scroll to card preview\n                    scrollToCardPreview();\n                    sonner__WEBPACK_IMPORTED_MODULE_13__.toast.info(\"\\uD83D\\uDCCB Template loaded! Some images may be repeated from the front cover.\");\n                }\n            }\n        } catch (error) {\n            console.error(\"Error loading template:\", error);\n            setIsGenerating(false);\n            setGenerationProgress(\"\");\n            sonner__WEBPACK_IMPORTED_MODULE_13__.toast.error(\"Failed to load template. Please try again.\");\n        }\n    };\n    // Actual print function after confirmation\n    // Extracted AI Analysis Logic for Reuse\n    const performAIAnalysis = async (cardsToAnalyze, searchQuery)=>{\n        const adaptiveBatchSize = Math.min(Math.max(10, Math.floor(cardsToAnalyze.length / 8)), searchQuery.split(\" \").length > 3 ? 15 : 25 // Smaller batches for complex queries\n        );\n        const batches = [];\n        for(let i = 0; i < cardsToAnalyze.length; i += adaptiveBatchSize){\n            batches.push(cardsToAnalyze.slice(i, i + adaptiveBatchSize));\n        }\n        const analysisPrompt = 'User is searching for: \"'.concat(searchQuery, \"\\\"\\n\\nAnalyze each greeting card image and rate how well it matches the user's search query on a scale of 1-100.\\n\\nConsider:\\n- Visual style matching (watercolor, cartoon, realistic, etc.)\\n- Colors and themes\\n- Subject matter (people, animals, objects, nature, etc.)\\n- Mood and atmosphere\\n- Occasion appropriateness\\n- Overall relevance to the search query\\n\\nRate each card from 1-100 where:\\n- 90-100: Perfect match for the search query\\n- 70-89: Very good match with most elements matching\\n- 50-69: Good match with some relevant elements\\n- 30-49: Partial match with few relevant elements  \\n- 1-29: Poor match, not relevant to search\\n\\nReturn only the numeric score (1-100) for each image.\");\n        // Process ALL batches in parallel for maximum speed\n        const batchPromises = batches.map(async (batch, batchIndex)=>{\n            const validCards = batch.filter((card)=>card.frontCover);\n            const urls = validCards.map((card)=>card.frontCover);\n            const batchResults = [];\n            if (urls.length === 0) {\n                batch.forEach((card)=>{\n                    var _card_prompt;\n                    const textScore = ((_card_prompt = card.prompt) === null || _card_prompt === void 0 ? void 0 : _card_prompt.toLowerCase().includes(searchQuery.toLowerCase())) ? 60 : 20;\n                    batchResults.push({\n                        id: card.id,\n                        card: card,\n                        score: textScore,\n                        analysis: \"No image available\"\n                    });\n                });\n                return batchResults;\n            }\n            try {\n                const response = await fetch(\"/internal/call_mcp_tool\", {\n                    method: \"POST\",\n                    headers: {\n                        \"Content-Type\": \"application/json\"\n                    },\n                    body: JSON.stringify({\n                        tool_name: \"analyze_images\",\n                        arguments: {\n                            urls: urls,\n                            analysis_prompt: analysisPrompt\n                        }\n                    })\n                });\n                if (response.ok) {\n                    const data = await response.json();\n                    if (data.error && data.error !== \"None\" && data.error !== null) {\n                        throw new Error(data.error);\n                    }\n                    let result;\n                    if (typeof data.result === \"string\") {\n                        try {\n                            result = JSON.parse(data.result);\n                        } catch (e) {\n                            result = {\n                                status: \"error\",\n                                message: \"Invalid JSON response\"\n                            };\n                        }\n                    } else {\n                        result = data.result;\n                    }\n                    if (result.status === \"success\" && result.results) {\n                        result.results.forEach((analysisResult, index)=>{\n                            if (index < validCards.length) {\n                                const card = validCards[index];\n                                if (analysisResult.status === \"success\" && analysisResult.analysis) {\n                                    const scoreMatch = analysisResult.analysis.match(/\\b(\\d{1,3})\\b/);\n                                    const score = scoreMatch ? parseInt(scoreMatch[1]) : 0;\n                                    batchResults.push({\n                                        id: card.id,\n                                        card: card,\n                                        score: Math.min(Math.max(score, 0), 100),\n                                        analysis: analysisResult.analysis\n                                    });\n                                } else {\n                                    var _card_prompt;\n                                    const textScore = ((_card_prompt = card.prompt) === null || _card_prompt === void 0 ? void 0 : _card_prompt.toLowerCase().includes(searchQuery.toLowerCase())) ? 60 : 20;\n                                    batchResults.push({\n                                        id: card.id,\n                                        card: card,\n                                        score: textScore,\n                                        analysis: \"Analysis failed, using text fallback\"\n                                    });\n                                }\n                            }\n                        });\n                    } else {\n                        throw new Error(\"Invalid result structure\");\n                    }\n                } else {\n                    throw new Error(\"HTTP \".concat(response.status));\n                }\n            } catch (error) {\n                console.error(\"Failed to analyze batch \".concat(batchIndex + 1, \":\"), error);\n                batch.forEach((card)=>{\n                    var _card_prompt;\n                    const textScore = ((_card_prompt = card.prompt) === null || _card_prompt === void 0 ? void 0 : _card_prompt.toLowerCase().includes(searchQuery.toLowerCase())) ? 60 : 20;\n                    batchResults.push({\n                        id: card.id,\n                        card: card,\n                        score: textScore,\n                        analysis: \"Batch analysis failed, using text fallback\"\n                    });\n                });\n            }\n            return batchResults;\n        });\n        const allBatchResults = await Promise.all(batchPromises);\n        return allBatchResults.flat();\n    };\n    // Enhanced Text-based Template Search Function (Instant)\n    const handleTextTemplateSearch = ()=>{\n        if (!templateSearchQuery.trim()) {\n            sonner__WEBPACK_IMPORTED_MODULE_13__.toast.error(\"Please enter a search query!\");\n            return;\n        }\n        // Get all available cards first\n        const allCards = getCachedCards(1, Math.max(totalCards, 1000));\n        if (allCards.length === 0) {\n            sonner__WEBPACK_IMPORTED_MODULE_13__.toast.error(\"No templates available to search\");\n            return;\n        }\n        const searchTerms = templateSearchQuery.toLowerCase().split(\" \").filter((term)=>term.length > 1);\n        // Score cards based on text relevance (now including generated prompts)\n        const scoredCards = allCards.map((card)=>{\n            const originalPrompt = (card.prompt || \"\").toLowerCase();\n            let score = 0;\n            let matchSources = [];\n            // Build searchable text from multiple sources\n            const searchableTexts = [\n                {\n                    text: originalPrompt,\n                    weight: 10,\n                    source: \"original\"\n                }\n            ];\n            // Add generated prompts if available (these are AI-analyzed descriptions of actual images)\n            if (card.generatedPrompts) {\n                if (card.generatedPrompts.frontCover) {\n                    searchableTexts.push({\n                        text: card.generatedPrompts.frontCover.toLowerCase(),\n                        weight: 8,\n                        source: \"front-cover-analysis\"\n                    });\n                }\n                if (card.generatedPrompts.backCover) {\n                    searchableTexts.push({\n                        text: card.generatedPrompts.backCover.toLowerCase(),\n                        weight: 6,\n                        source: \"back-cover-analysis\"\n                    });\n                }\n                if (card.generatedPrompts.leftInterior) {\n                    searchableTexts.push({\n                        text: card.generatedPrompts.leftInterior.toLowerCase(),\n                        weight: 7,\n                        source: \"left-interior-analysis\"\n                    });\n                }\n                if (card.generatedPrompts.rightInterior) {\n                    searchableTexts.push({\n                        text: card.generatedPrompts.rightInterior.toLowerCase(),\n                        weight: 7,\n                        source: \"right-interior-analysis\"\n                    });\n                }\n            }\n            // Search through all text sources\n            searchTerms.forEach((term)=>{\n                searchableTexts.forEach((param)=>{\n                    let { text, weight, source } = param;\n                    // Exact word match\n                    if (text.includes(term)) {\n                        const termScore = (term.length > 3 ? 10 : 5) * (weight / 10);\n                        score += termScore;\n                        if (!matchSources.includes(source)) {\n                            matchSources.push(source);\n                        }\n                    } else if (text.includes(term.substring(0, Math.max(3, term.length - 1)))) {\n                        const partialScore = 3 * (weight / 10);\n                        score += partialScore;\n                        if (!matchSources.includes(source)) {\n                            matchSources.push(source);\n                        }\n                    }\n                });\n            });\n            // Boost for cards that match multiple terms\n            const matchedTerms = searchTerms.filter((term)=>searchableTexts.some((param)=>{\n                    let { text } = param;\n                    return text.includes(term);\n                })).length;\n            if (matchedTerms > 1) {\n                score += matchedTerms * 5;\n            }\n            // Boost for cards with AI-generated prompts (they have richer descriptions)\n            if (card.generatedPrompts && matchSources.some((source)=>source.includes(\"analysis\"))) {\n                score += 5; // Bonus for AI-analyzed visual content matches\n            }\n            return {\n                ...card,\n                textScore: score,\n                matchSources: matchSources\n            };\n        });\n        // Filter and sort by relevance\n        const filteredCards = scoredCards.filter((card)=>card.textScore > 0).sort((a, b)=>b.textScore - a.textScore).slice(0, 20); // Top 20 text matches\n        setTextFilteredCards(filteredCards);\n        if (filteredCards.length > 0) {\n            const avgScore = Math.round(filteredCards.reduce((sum, card)=>sum + card.textScore, 0) / filteredCards.length);\n            const aiAnalyzedMatches = filteredCards.filter((card)=>{\n                var _card_matchSources;\n                return (_card_matchSources = card.matchSources) === null || _card_matchSources === void 0 ? void 0 : _card_matchSources.some((source)=>source.includes(\"analysis\"));\n            }).length;\n            let successMessage = \"\\uD83D\\uDCDD Found \".concat(filteredCards.length, ' text matches for \"').concat(templateSearchQuery, '\"! Average relevance: ').concat(avgScore);\n            if (aiAnalyzedMatches > 0) {\n                successMessage += \" (\".concat(aiAnalyzedMatches, \" matches found in AI visual analysis!)\");\n            }\n            sonner__WEBPACK_IMPORTED_MODULE_13__.toast.success(successMessage);\n        } else {\n            sonner__WEBPACK_IMPORTED_MODULE_13__.toast.info(\"\\uD83E\\uDD14 No templates found matching your text search. Try different keywords!\");\n        }\n    };\n    // AI Template Search Function with Parallel Image Analysis\n    const handleAITemplateSearch = async ()=>{\n        if (!templateSearchQuery.trim()) {\n            sonner__WEBPACK_IMPORTED_MODULE_13__.toast.error(\"Please enter a search query!\");\n            return;\n        }\n        setIsSearchingTemplates(true);\n        try {\n            // Get all available cards first\n            const allCards = getCachedCards(1, Math.max(totalCards, 1000));\n            if (allCards.length === 0) {\n                sonner__WEBPACK_IMPORTED_MODULE_13__.toast.error(\"No templates available to search\");\n                return;\n            }\n            // Smart pre-filtering: First filter by text relevance to reduce AI analysis load\n            const textFilteredCards = allCards.filter((card)=>{\n                const searchTerms = templateSearchQuery.toLowerCase().split(\" \");\n                const cardText = (card.prompt || \"\").toLowerCase();\n                // Include cards that match any search term or have high general relevance\n                return searchTerms.some((term)=>cardText.includes(term) || term.length <= 3 || // Include short terms (colors, etc.)\n                    [\n                        \"card\",\n                        \"birthday\",\n                        \"funny\",\n                        \"cute\",\n                        \"love\"\n                    ].some((common)=>cardText.includes(common)));\n            });\n            // If pre-filtering removes too many cards, fall back to analyzing all\n            const cardsToAnalyze = textFilteredCards.length >= Math.min(50, allCards.length * 0.3) ? textFilteredCards : allCards;\n            const filterMessage = textFilteredCards.length < allCards.length ? \" (pre-filtered from \".concat(allCards.length, \" based on text relevance)\") : \"\";\n            sonner__WEBPACK_IMPORTED_MODULE_13__.toast.info(\"\\uD83D\\uDD0D AI analyzing \".concat(cardsToAnalyze.length, ' card images for \"').concat(templateSearchQuery, '\"').concat(filterMessage, \"...\"));\n            // Adaptive batch sizing based on query complexity and number of cards\n            const queryComplexity = templateSearchQuery.split(\" \").length;\n            const adaptiveBatchSize = Math.min(Math.max(10, Math.floor(cardsToAnalyze.length / 8)), queryComplexity > 3 ? 15 : 25 // Smaller batches for complex queries\n            );\n            console.log(\"\\uD83E\\uDDE0 Using adaptive batch size: \".concat(adaptiveBatchSize, \" (query complexity: \").concat(queryComplexity, \" terms)\"));\n            const batches = [];\n            for(let i = 0; i < cardsToAnalyze.length; i += adaptiveBatchSize){\n                batches.push(cardsToAnalyze.slice(i, i + adaptiveBatchSize));\n            }\n            console.log(\"\\uD83D\\uDE80 Processing \".concat(cardsToAnalyze.length, \" images in \").concat(batches.length, \" batches (adaptive size: \").concat(adaptiveBatchSize, \")\"));\n            // Use the extracted AI analysis function\n            console.log(\"\\uD83D\\uDE80 Processing ALL \".concat(batches.length, \" batches in parallel!\"));\n            sonner__WEBPACK_IMPORTED_MODULE_13__.toast.info(\"\\uD83D\\uDE80 Processing \".concat(batches.length, \" batches in parallel (\").concat(cardsToAnalyze.length, \" images total)...\"));\n            const analysisResults = await performAIAnalysis(cardsToAnalyze, templateSearchQuery);\n            // Sort by score (highest first) and filter out low scores\n            const rankedResults = analysisResults.filter((result)=>result.score >= 30) // Only show cards with score 30+\n            .sort((a, b)=>b.score - a.score).slice(0, 10); // Top 10 results\n            if (rankedResults.length > 0) {\n                const filteredCards = rankedResults.map((result)=>({\n                        ...result.card,\n                        aiScore: result.score,\n                        aiAnalysis: result.analysis\n                    }));\n                setAiFilteredCards(filteredCards);\n                const avgScore = Math.round(rankedResults.reduce((sum, r)=>sum + r.score, 0) / rankedResults.length);\n                sonner__WEBPACK_IMPORTED_MODULE_13__.toast.success(\"\\uD83C\\uDFAF Found \".concat(filteredCards.length, ' matches for \"').concat(templateSearchQuery, '\"! Average relevance: ').concat(avgScore, \"%\"));\n            } else {\n                sonner__WEBPACK_IMPORTED_MODULE_13__.toast.info(\"\\uD83E\\uDD14 No templates found matching your search. Try a different query!\");\n                setAiFilteredCards([]);\n            }\n        } catch (error) {\n            console.error(\"AI template search failed:\", error);\n            sonner__WEBPACK_IMPORTED_MODULE_13__.toast.error(\"AI search failed. Please try again.\");\n            setAiFilteredCards([]);\n        } finally{\n            setIsSearchingTemplates(false);\n        }\n    };\n    // Hybrid Search Function (Text + AI Enhancement)\n    const handleHybridTemplateSearch = async ()=>{\n        if (!templateSearchQuery.trim()) {\n            sonner__WEBPACK_IMPORTED_MODULE_13__.toast.error(\"Please enter a search query!\");\n            return;\n        }\n        setIsSearchingTemplates(true);\n        try {\n            // Phase 1: Fast text search for immediate results\n            sonner__WEBPACK_IMPORTED_MODULE_13__.toast.info(\"\\uD83D\\uDE80 Phase 1: Fast text search...\");\n            handleTextTemplateSearch();\n            // Phase 2: AI enhancement on text results\n            const allCards = getCachedCards(1, Math.max(totalCards, 1000));\n            const searchTerms = templateSearchQuery.toLowerCase().split(\" \").filter((term)=>term.length > 1);\n            // Get text-filtered cards for AI analysis\n            const textCandidates = allCards.filter((card)=>{\n                const cardText = (card.prompt || \"\").toLowerCase();\n                return searchTerms.some((term)=>cardText.includes(term)) || searchTerms.length === 0;\n            });\n            // If text filtering gives us a reasonable subset, use it; otherwise use all cards\n            const cardsToAnalyze = textCandidates.length > 0 && textCandidates.length < allCards.length * 0.8 ? textCandidates : allCards;\n            sonner__WEBPACK_IMPORTED_MODULE_13__.toast.info(\"\\uD83C\\uDFA8 Phase 2: AI visual analysis on \".concat(cardsToAnalyze.length, \" candidates...\"));\n            // Run AI analysis on the candidates\n            const analysisResults = await performAIAnalysis(cardsToAnalyze, templateSearchQuery);\n            // Combine text and AI scores for final ranking\n            const hybridResults = analysisResults.map((result)=>({\n                    ...result,\n                    hybridScore: result.score * 0.7 + (result.card.textScore || 0) * 0.3 // 70% AI, 30% text\n                })).sort((a, b)=>b.hybridScore - a.hybridScore);\n            const finalResults = hybridResults.slice(0, 10).map((result)=>({\n                    ...result.card,\n                    aiScore: Math.round(result.hybridScore),\n                    aiAnalysis: \"Hybrid: \".concat(result.analysis)\n                }));\n            setAiFilteredCards(finalResults);\n            if (finalResults.length > 0) {\n                const avgScore = Math.round(hybridResults.reduce((sum, r)=>sum + r.hybridScore, 0) / hybridResults.length);\n                sonner__WEBPACK_IMPORTED_MODULE_13__.toast.success(\"\\uD83C\\uDFAF Hybrid search complete! Found \".concat(finalResults.length, ' matches for \"').concat(templateSearchQuery, '\"! Average relevance: ').concat(avgScore, \"%\"));\n            } else {\n                sonner__WEBPACK_IMPORTED_MODULE_13__.toast.info(\"\\uD83E\\uDD14 No templates found matching your search. Try a different query!\");\n            }\n        } catch (error) {\n            console.error(\"Hybrid template search failed:\", error);\n            sonner__WEBPACK_IMPORTED_MODULE_13__.toast.error(\"Hybrid search failed. Please try again.\");\n        } finally{\n            setIsSearchingTemplates(false);\n        }\n    };\n    // Main search handler that routes to appropriate search method\n    const handleTemplateSearch = ()=>{\n        switch(searchMode){\n            case \"text\":\n                handleTextTemplateSearch();\n                break;\n            case \"ai\":\n                handleAITemplateSearch();\n                break;\n            case \"hybrid\":\n                handleHybridTemplateSearch();\n                break;\n        }\n    };\n    const clearTemplateSearch = ()=>{\n        setTemplateSearchQuery(\"\");\n        setAiFilteredCards([]);\n        setTextFilteredCards([]);\n    };\n    const handleConfirmPrint = async ()=>{\n        // Always use the card from the preview area\n        const cardToPrint = generatedCard;\n        if (!cardToPrint) {\n            sonner__WEBPACK_IMPORTED_MODULE_13__.toast.error(\"No card available to print\");\n            return;\n        }\n        // Validate email before proceeding\n        if (!userEmail.trim()) {\n            sonner__WEBPACK_IMPORTED_MODULE_13__.toast.error(\"Please enter your email address before printing\");\n            setShowPrintConfirmation(false);\n            return;\n        }\n        setShowPrintConfirmation(false);\n        // Note: We no longer use selectedTemplate for direct printing\n        try {\n            // Validate card data\n            if (!cardToPrint.frontCover) {\n                sonner__WEBPACK_IMPORTED_MODULE_13__.toast.error(\"Card is missing front cover image. Please regenerate the card.\");\n                return;\n            }\n            if (!cardToPrint.backCover) {\n                sonner__WEBPACK_IMPORTED_MODULE_13__.toast.error(\"Card is missing back cover image. Please regenerate the card.\");\n                return;\n            }\n            if (!isFrontBackOnly && (!cardToPrint.leftPage || !cardToPrint.rightPage)) {\n                sonner__WEBPACK_IMPORTED_MODULE_13__.toast.error(\"Card is missing interior pages. Please regenerate the card or use front-back only mode.\");\n                return;\n            }\n            // Prepare card data for both printing and PDF email\n            const cardData = {\n                front_cover: cardToPrint.frontCover,\n                back_cover: cardToPrint.backCover,\n                left_page: cardToPrint.leftPage,\n                right_page: cardToPrint.rightPage,\n                card_name: (cardToPrint.prompt || \"Custom Card\").substring(0, 50) + ((cardToPrint.prompt || \"\").length > 50 ? \"...\" : \"\"),\n                paper_size: selectedPaperSize,\n                is_front_back_only: isFrontBackOnly,\n                copies: 1,\n                color_mode: \"color\",\n                quality: \"high\"\n            };\n            console.log(\"Print data:\", {\n                printOption,\n                userEmail,\n                cardData\n            });\n            if (printOption === \"email\") {\n                // Send PDF to email\n                const emailData = {\n                    ...cardData,\n                    user_email: userEmail.trim(),\n                    send_pdf: true\n                };\n                console.log(\"Sending email data:\", emailData);\n                const response = await fetch(\"/api/send-pdf-email\", {\n                    method: \"POST\",\n                    headers: {\n                        \"Content-Type\": \"application/json\"\n                    },\n                    body: JSON.stringify(emailData)\n                });\n                console.log(\"Email response status:\", response.status);\n                if (!response.ok) {\n                    const errorText = await response.text();\n                    console.error(\"Email response error:\", errorText);\n                    throw new Error(\"HTTP \".concat(response.status, \": \").concat(errorText));\n                }\n                const result = await response.json();\n                console.log(\"Email response result:\", result);\n                if (result.status === \"success\") {\n                    sonner__WEBPACK_IMPORTED_MODULE_13__.toast.success(\"\\uD83D\\uDCE7 PDF sent to \".concat(userEmail, \"! Check your inbox.\"));\n                } else {\n                    throw new Error(result.error || \"Failed to send PDF\");\n                }\n            } else {\n                // Physical printing\n                const response = await fetch(\"/api/print-queue\", {\n                    method: \"POST\",\n                    headers: {\n                        \"Content-Type\": \"application/json\"\n                    },\n                    body: JSON.stringify(cardData)\n                });\n                if (!response.ok) {\n                    throw new Error(\"HTTP \".concat(response.status));\n                }\n                const result = await response.json();\n                if (result.status === \"queued\") {\n                    const cardType = isFrontBackOnly ? \"Front/Back card\" : \"Full duplex card\";\n                    const duplexInfo = result.duplex ? \" (duplex enabled)\" : \" (single-sided)\";\n                    sonner__WEBPACK_IMPORTED_MODULE_13__.toast.success(\"\\uD83D\\uDDA8️ Your card is now printing! You can pick it up shortly.\");\n                    // Poll for job status\n                    let pollCount = 0;\n                    const maxPolls = 6; // Poll for up to 60 seconds\n                    const pollStatus = async ()=>{\n                        try {\n                            const statusResponse = await fetch(\"/api/print-status/\".concat(result.job_id));\n                            if (statusResponse.ok) {\n                                const statusResult = await statusResponse.json();\n                                if (statusResult.status === \"found\") {\n                                    if (statusResult.job.status === \"completed\") {\n                                        sonner__WEBPACK_IMPORTED_MODULE_13__.toast.success(\"✅ Your card has been added to the print queue and should be available for pickup shortly.\");\n                                        return;\n                                    } else if (statusResult.job.status === \"failed\") {\n                                        sonner__WEBPACK_IMPORTED_MODULE_13__.toast.error(\"❌ There was an issue with printing. Please try again or contact us for help.\");\n                                        return;\n                                    } else if (statusResult.job.status === \"pending\" && pollCount < maxPolls) {\n                                        // Still pending, poll again\n                                        pollCount++;\n                                        setTimeout(pollStatus, 10000);\n                                    }\n                                }\n                            }\n                        } catch (error) {\n                            console.log(\"Could not check print status:\", error);\n                        }\n                    };\n                    // Start polling after 10 seconds\n                    setTimeout(pollStatus, 10000);\n                } else {\n                    throw new Error(result.error || \"Unknown error\");\n                }\n            }\n        } catch (error) {\n            console.error(\"Print/Email error:\", error);\n            sonner__WEBPACK_IMPORTED_MODULE_13__.toast.error(printOption === \"email\" ? \"Failed to send PDF email\" : \"Failed to queue print job\");\n        }\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-cyan-50 dark:from-gray-900 dark:via-slate-800 dark:to-gray-800\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_CriticalResourcePreloader__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {}, void 0, false, {\n                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                lineNumber: 4897,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_EarlyCardPreloader__WEBPACK_IMPORTED_MODULE_19__[\"default\"], {}, void 0, false, {\n                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                lineNumber: 4898,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"header\", {\n                className: \"border-b bg-white/80 dark:bg-gray-900/80 backdrop-blur-sm sticky top-0 z-50\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"container mx-auto px-4 py-3\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center justify-between\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex items-center space-x-3\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(next_link__WEBPACK_IMPORTED_MODULE_12__[\"default\"], {\n                                        href: \"/\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                            variant: \"ghost\",\n                                            size: \"sm\",\n                                            className: \"gap-2\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_37__[\"default\"], {\n                                                    className: \"w-4 h-4\"\n                                                }, void 0, false, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 4906,\n                                                    columnNumber: 19\n                                                }, this),\n                                                \"Back\"\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                            lineNumber: 4905,\n                                            columnNumber: 17\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                        lineNumber: 4904,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex items-center space-x-2\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"w-8 h-8 bg-gradient-to-br from-blue-500 to-cyan-600 rounded-lg flex items-center justify-center\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_38__[\"default\"], {\n                                                    className: \"w-5 h-5 text-white\"\n                                                }, void 0, false, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 4912,\n                                                    columnNumber: 19\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 4911,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                                                    className: \"text-lg font-bold text-gray-900 dark:text-white\",\n                                                    children: \"VibeCarding\"\n                                                }, void 0, false, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 4915,\n                                                    columnNumber: 19\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 4914,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                        lineNumber: 4910,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(next_link__WEBPACK_IMPORTED_MODULE_12__[\"default\"], {\n                                        href: \"/gallery\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                            variant: \"ghost\",\n                                            size: \"sm\",\n                                            className: \"gap-2 text-gray-600 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-100\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_35__[\"default\"], {\n                                                    className: \"w-4 h-4\"\n                                                }, void 0, false, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 4922,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"hidden sm:inline\",\n                                                    children: \"Infinite Gallery\"\n                                                }, void 0, false, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 4923,\n                                                    columnNumber: 19\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                            lineNumber: 4921,\n                                            columnNumber: 17\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                        lineNumber: 4920,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                lineNumber: 4903,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_popover__WEBPACK_IMPORTED_MODULE_10__.Popover, {\n                                open: showSettings,\n                                onOpenChange: setShowSettings,\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_popover__WEBPACK_IMPORTED_MODULE_10__.PopoverTrigger, {\n                                        asChild: true,\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                            variant: \"ghost\",\n                                            size: \"sm\",\n                                            className: \"h-9 w-9 p-0\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_39__[\"default\"], {\n                                                    className: \"h-4 w-4\"\n                                                }, void 0, false, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 4931,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"sr-only\",\n                                                    children: \"Settings\"\n                                                }, void 0, false, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 4932,\n                                                    columnNumber: 19\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                            lineNumber: 4930,\n                                            columnNumber: 17\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                        lineNumber: 4929,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_popover__WEBPACK_IMPORTED_MODULE_10__.PopoverContent, {\n                                        className: \"w-80 p-0\",\n                                        align: \"end\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"p-4 space-y-4\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"space-y-2\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h4\", {\n                                                            className: \"font-medium leading-none\",\n                                                            children: \"Settings\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 4938,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                            className: \"text-sm text-muted-foreground\",\n                                                            children: \"Configure your card creation preferences\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 4939,\n                                                            columnNumber: 21\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 4937,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"flex items-center justify-between\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"space-y-0.5\",\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    className: \"text-sm font-medium\",\n                                                                    children: \"Theme\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 4947,\n                                                                    columnNumber: 23\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    className: \"text-xs text-muted-foreground\",\n                                                                    children: \"Switch between light and dark mode\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 4948,\n                                                                    columnNumber: 23\n                                                                }, this)\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 4946,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_mode_toggle__WEBPACK_IMPORTED_MODULE_16__.ModeToggle, {}, void 0, false, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 4950,\n                                                            columnNumber: 21\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 4945,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_separator__WEBPACK_IMPORTED_MODULE_7__.Separator, {}, void 0, false, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 4953,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"space-y-3\",\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"flex items-center justify-between\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"space-y-0.5\",\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                        className: \"text-sm font-medium\",\n                                                                        children: \"Advanced Options\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                        lineNumber: 4959,\n                                                                        columnNumber: 25\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                        className: \"text-xs text-muted-foreground\",\n                                                                        children: \"Show additional card settings\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                        lineNumber: 4960,\n                                                                        columnNumber: 25\n                                                                    }, this)\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 4958,\n                                                                columnNumber: 23\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                                                variant: \"outline\",\n                                                                size: \"sm\",\n                                                                onClick: ()=>setShowAdvanced(!showAdvanced),\n                                                                className: \"h-8\",\n                                                                children: showAdvanced ? \"Hide\" : \"Show\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 4962,\n                                                                columnNumber: 23\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 4957,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                }, void 0, false, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 4956,\n                                                    columnNumber: 19\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                            lineNumber: 4936,\n                                            columnNumber: 17\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                        lineNumber: 4935,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                lineNumber: 4928,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                        lineNumber: 4902,\n                        columnNumber: 11\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                    lineNumber: 4901,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                lineNumber: 4900,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"container mx-auto px-4 py-6 max-w-2xl\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_5__.Card, {\n                        className: \"shadow-lg mb-6\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_5__.CardHeader, {\n                                className: \"bg-gradient-to-r from-blue-50 to-cyan-50 dark:from-blue-900/20 dark:to-cyan-900/20 rounded-t-lg\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"space-y-3\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex items-center justify-between\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"flex items-center gap-3\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"w-10 h-10 bg-gradient-to-br from-blue-500 to-cyan-600 rounded-lg flex items-center justify-center shadow-lg\",\n                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_38__[\"default\"], {\n                                                                className: \"w-6 h-6 text-white\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 4987,\n                                                                columnNumber: 25\n                                                            }, this)\n                                                        }, void 0, false, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 4986,\n                                                            columnNumber: 23\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_5__.CardTitle, {\n                                                                className: \"text-xl sm:text-2xl font-bold bg-gradient-to-r from-blue-600 to-cyan-600 bg-clip-text text-transparent whitespace-nowrap\",\n                                                                children: \"Create Your Card\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 4990,\n                                                                columnNumber: 25\n                                                            }, this)\n                                                        }, void 0, false, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 4989,\n                                                            columnNumber: 23\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 4985,\n                                                    columnNumber: 21\n                                                }, this),\n                                                (prompt || toField || fromField || generatedCards.length > 0) && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"text-xs text-green-600 dark:text-green-400 flex items-center gap-1\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_40__[\"default\"], {\n                                                            className: \"w-3 h-3\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 4997,\n                                                            columnNumber: 25\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            className: \"hidden sm:inline\",\n                                                            children: \"Auto-saved\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 4998,\n                                                            columnNumber: 25\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            className: \"sm:hidden\",\n                                                            children: \"Saved\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 4999,\n                                                            columnNumber: 25\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 4996,\n                                                    columnNumber: 23\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                            lineNumber: 4984,\n                                            columnNumber: 19\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                            variant: \"outline\",\n                                            size: \"sm\",\n                                            onClick: ()=>{\n                                                setShowTemplateGallery(true);\n                                            },\n                                            className: \"w-full sm:w-auto gap-2 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 border-gray-200 dark:border-gray-700\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_35__[\"default\"], {\n                                                    className: \"w-4 h-4\"\n                                                }, void 0, false, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 5011,\n                                                    columnNumber: 21\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    children: \"Browse Templates\"\n                                                }, void 0, false, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 5012,\n                                                    columnNumber: 21\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                            lineNumber: 5003,\n                                            columnNumber: 19\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                    lineNumber: 4983,\n                                    columnNumber: 17\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                lineNumber: 4982,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_5__.CardContent, {\n                                className: \"space-y-6 pt-6\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"space-y-3\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"flex items-center gap-2\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"w-1.5 h-8 bg-gradient-to-b from-blue-500 to-cyan-500 rounded-full\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 5020,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                        className: \"text-base font-semibold text-gray-800 dark:text-gray-200\",\n                                                        children: \"Card Type\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 5021,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 5019,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_select__WEBPACK_IMPORTED_MODULE_8__.Select, {\n                                                value: selectedType,\n                                                onValueChange: setSelectedType,\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_select__WEBPACK_IMPORTED_MODULE_8__.SelectTrigger, {\n                                                        className: \"h-12 border-2 hover:border-blue-300 dark:hover:border-blue-700 transition-colors\",\n                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_select__WEBPACK_IMPORTED_MODULE_8__.SelectValue, {\n                                                            children: (()=>{\n                                                                const selected = cardTypes.find((type)=>type.id === selectedType);\n                                                                if (!selected) return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                    className: \"text-gray-400\",\n                                                                    children: \"Choose card type\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 5030,\n                                                                    columnNumber: 49\n                                                                }, this);\n                                                                const IconComponent = selected.icon;\n                                                                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    className: \"flex items-center gap-3\",\n                                                                    children: [\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                            className: \"w-6 h-6 bg-gradient-to-br from-blue-100 to-cyan-100 dark:from-blue-900 dark:to-cyan-900 rounded-lg flex items-center justify-center\",\n                                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(IconComponent, {\n                                                                                className: \"w-4 h-4 text-blue-600 dark:text-blue-400\"\n                                                                            }, void 0, false, {\n                                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                lineNumber: 5035,\n                                                                                columnNumber: 33\n                                                                            }, this)\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 5034,\n                                                                            columnNumber: 31\n                                                                        }, this),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                            className: \"font-medium text-gray-900 dark:text-gray-100\",\n                                                                            children: selected.label\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 5037,\n                                                                            columnNumber: 31\n                                                                        }, this)\n                                                                    ]\n                                                                }, void 0, true, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 5033,\n                                                                    columnNumber: 29\n                                                                }, this);\n                                                            })()\n                                                        }, void 0, false, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 5027,\n                                                            columnNumber: 23\n                                                        }, this)\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 5026,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_select__WEBPACK_IMPORTED_MODULE_8__.SelectContent, {\n                                                        className: \"max-h-[400px]\",\n                                                        children: cardTypes.map((type)=>{\n                                                            const IconComponent = type.icon;\n                                                            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_select__WEBPACK_IMPORTED_MODULE_8__.SelectItem, {\n                                                                value: type.id,\n                                                                className: \"cursor-pointer hover:bg-blue-50 dark:hover:bg-blue-900/20\",\n                                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    className: \"flex items-center gap-3 py-1\",\n                                                                    children: [\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                            className: \"w-8 h-8 bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-700 rounded-lg flex items-center justify-center\",\n                                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(IconComponent, {\n                                                                                className: \"w-4 h-4 text-gray-700 dark:text-gray-300\"\n                                                                            }, void 0, false, {\n                                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                lineNumber: 5050,\n                                                                                columnNumber: 33\n                                                                            }, this)\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 5049,\n                                                                            columnNumber: 31\n                                                                        }, this),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                            className: \"flex-1\",\n                                                                            children: [\n                                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                    className: \"font-semibold text-gray-900 dark:text-gray-100\",\n                                                                                    children: type.label\n                                                                                }, void 0, false, {\n                                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                    lineNumber: 5053,\n                                                                                    columnNumber: 33\n                                                                                }, this),\n                                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                    className: \"text-xs text-gray-600 dark:text-gray-400\",\n                                                                                    children: type.description\n                                                                                }, void 0, false, {\n                                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                    lineNumber: 5054,\n                                                                                    columnNumber: 33\n                                                                                }, this)\n                                                                            ]\n                                                                        }, void 0, true, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 5052,\n                                                                            columnNumber: 31\n                                                                        }, this)\n                                                                    ]\n                                                                }, void 0, true, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 5048,\n                                                                    columnNumber: 29\n                                                                }, this)\n                                                            }, type.id, false, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 5047,\n                                                                columnNumber: 27\n                                                            }, this);\n                                                        })\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 5043,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 5025,\n                                                columnNumber: 19\n                                            }, this),\n                                            selectedType === \"custom\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"mt-4 p-4 bg-purple-50 dark:bg-purple-900/20 rounded-lg border border-purple-200 dark:border-purple-800 animate-in slide-in-from-top-2 duration-300\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                        className: \"text-sm font-semibold text-purple-900 dark:text-purple-100 mb-3 block flex items-center gap-2\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_21__[\"default\"], {\n                                                                className: \"w-4 h-4\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 5067,\n                                                                columnNumber: 25\n                                                            }, this),\n                                                            \"Describe Your Custom Card Type\"\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 5066,\n                                                        columnNumber: 23\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_input__WEBPACK_IMPORTED_MODULE_3__.Input, {\n                                                        placeholder: \"✨ E.g., 'Promotion at work', 'Moving away', 'First day of school'\",\n                                                        value: customCardType,\n                                                        onChange: (e)=>setCustomCardType(e.target.value),\n                                                        className: \"h-12 border-2 border-purple-300 dark:border-purple-700 focus:border-purple-500 dark:focus:border-purple-500\",\n                                                        style: {\n                                                            fontSize: \"16px\"\n                                                        }\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 5070,\n                                                        columnNumber: 23\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                        className: \"text-xs text-purple-700 dark:text-purple-300 mt-2\",\n                                                        children: \"What type of card is this? This helps personalize the message and style.\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 5077,\n                                                        columnNumber: 23\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 5065,\n                                                columnNumber: 21\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                        lineNumber: 5018,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                className: \"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block\",\n                                                children: \"Card Tone & Style\"\n                                            }, void 0, false, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 5086,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_select__WEBPACK_IMPORTED_MODULE_8__.Select, {\n                                                value: selectedTone,\n                                                onValueChange: setSelectedTone,\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_select__WEBPACK_IMPORTED_MODULE_8__.SelectTrigger, {\n                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_select__WEBPACK_IMPORTED_MODULE_8__.SelectValue, {\n                                                            children: (()=>{\n                                                                const selected = cardTones.find((tone)=>tone.id === selectedTone);\n                                                                if (!selected) return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                    className: \"text-gray-400\",\n                                                                    children: \"Choose card tone\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 5094,\n                                                                    columnNumber: 45\n                                                                }, this);\n                                                                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    className: \"flex items-center gap-2\",\n                                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                        className: \"font-medium\",\n                                                                        children: selected.label\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                        lineNumber: 5097,\n                                                                        columnNumber: 27\n                                                                    }, this)\n                                                                }, void 0, false, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 5096,\n                                                                    columnNumber: 25\n                                                                }, this);\n                                                            })()\n                                                        }, void 0, false, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 5091,\n                                                            columnNumber: 19\n                                                        }, this)\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 5090,\n                                                        columnNumber: 17\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_select__WEBPACK_IMPORTED_MODULE_8__.SelectContent, {\n                                                        children: cardTones.map((tone)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_select__WEBPACK_IMPORTED_MODULE_8__.SelectItem, {\n                                                                value: tone.id,\n                                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    children: [\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                            className: \"font-medium\",\n                                                                            children: tone.label\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 5107,\n                                                                            columnNumber: 25\n                                                                        }, this),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                            className: \"text-xs text-muted-foreground\",\n                                                                            children: tone.description\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 5108,\n                                                                            columnNumber: 25\n                                                                        }, this)\n                                                                    ]\n                                                                }, void 0, true, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 5106,\n                                                                    columnNumber: 23\n                                                                }, this)\n                                                            }, tone.id, false, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 5105,\n                                                                columnNumber: 21\n                                                            }, this))\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 5103,\n                                                        columnNumber: 17\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 5089,\n                                                columnNumber: 15\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                        lineNumber: 5085,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                className: \"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block\",\n                                                children: \"Artistic Style\"\n                                            }, void 0, false, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 5118,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_select__WEBPACK_IMPORTED_MODULE_8__.Select, {\n                                                value: selectedArtisticStyle,\n                                                onValueChange: setSelectedArtisticStyle,\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_select__WEBPACK_IMPORTED_MODULE_8__.SelectTrigger, {\n                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_select__WEBPACK_IMPORTED_MODULE_8__.SelectValue, {\n                                                            placeholder: \"Choose artistic style\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 5123,\n                                                            columnNumber: 19\n                                                        }, this)\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 5122,\n                                                        columnNumber: 17\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_select__WEBPACK_IMPORTED_MODULE_8__.SelectContent, {\n                                                        children: artisticStyles.map((style)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_select__WEBPACK_IMPORTED_MODULE_8__.SelectItem, {\n                                                                value: style.id,\n                                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    className: \"text-left w-full\",\n                                                                    children: [\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                            className: \"font-medium\",\n                                                                            children: style.label\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 5129,\n                                                                            columnNumber: 25\n                                                                        }, this),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                            className: \"text-xs text-muted-foreground\",\n                                                                            children: style.description\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 5130,\n                                                                            columnNumber: 25\n                                                                        }, this)\n                                                                    ]\n                                                                }, void 0, true, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 5128,\n                                                                    columnNumber: 23\n                                                                }, this)\n                                                            }, style.id, false, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 5127,\n                                                                columnNumber: 21\n                                                            }, this))\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 5125,\n                                                        columnNumber: 17\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 5121,\n                                                columnNumber: 15\n                                            }, this),\n                                            selectedArtisticStyle === \"custom\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"mt-3\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                        className: \"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block\",\n                                                        children: \"Describe Your Custom Style\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 5140,\n                                                        columnNumber: 19\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_textarea__WEBPACK_IMPORTED_MODULE_4__.Textarea, {\n                                                        placeholder: \"e.g., in vintage 1920s art deco style with gold accents and geometric patterns...\",\n                                                        value: customStyleDescription,\n                                                        onChange: (e)=>setCustomStyleDescription(e.target.value),\n                                                        rows: 3,\n                                                        className: \"resize-none\",\n                                                        style: {\n                                                            fontSize: \"16px\"\n                                                        }\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 5143,\n                                                        columnNumber: 19\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                        className: \"text-xs text-gray-500 dark:text-gray-400 mt-1\",\n                                                        children: \"Describe the artistic style you want for your card (colors, techniques, era, mood, etc.)\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 5151,\n                                                        columnNumber: 19\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 5139,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                        lineNumber: 5117,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"grid grid-cols-2 gap-3\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                        className: \"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block\",\n                                                        children: \"To\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 5161,\n                                                        columnNumber: 17\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_input__WEBPACK_IMPORTED_MODULE_3__.Input, {\n                                                        placeholder: \"\\uD83C\\uDFAF To\",\n                                                        value: toField,\n                                                        onChange: (e)=>setToField(e.target.value),\n                                                        style: {\n                                                            fontSize: \"16px\"\n                                                        }\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 5164,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 5160,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                        className: \"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block\",\n                                                        children: \"From\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 5172,\n                                                        columnNumber: 17\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_input__WEBPACK_IMPORTED_MODULE_3__.Input, {\n                                                        placeholder: \"\\uD83D\\uDCDD From\",\n                                                        value: fromField,\n                                                        onChange: (e)=>setFromField(e.target.value),\n                                                        style: {\n                                                            fontSize: \"16px\"\n                                                        }\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 5175,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 5171,\n                                                columnNumber: 19\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                        lineNumber: 5159,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                className: \"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block\",\n                                                children: \"Your Email (Required)\"\n                                            }, void 0, false, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 5186,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_input__WEBPACK_IMPORTED_MODULE_3__.Input, {\n                                                type: \"email\",\n                                                placeholder: \"\\uD83D\\uDCE7 your.email@example.com (we'll send you the card!)\",\n                                                required: true,\n                                                value: userEmail,\n                                                onChange: (e)=>setUserEmail(e.target.value),\n                                                style: {\n                                                    fontSize: \"16px\"\n                                                }\n                                            }, void 0, false, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 5189,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                className: \"text-xs text-gray-500 dark:text-gray-400 mt-1\",\n                                                children: \"Required to generate your card. We'll send you a thank you note when it's ready!\"\n                                            }, void 0, false, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 5197,\n                                                columnNumber: 15\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                        lineNumber: 5185,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"flex items-center justify-between mb-2\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                        className: \"text-sm font-medium text-gray-700 dark:text-gray-300\",\n                                                        children: \"Describe Your Card (Optional)\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 5205,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                                        variant: \"ghost\",\n                                                        size: \"sm\",\n                                                        onClick: ()=>setIsTextareaExpanded(!isTextareaExpanded),\n                                                        className: \"gap-1 text-xs text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300\",\n                                                        children: isTextareaExpanded ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_41__[\"default\"], {\n                                                                    className: \"w-3 h-3\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 5216,\n                                                                    columnNumber: 27\n                                                                }, this),\n                                                                \"Collapse\"\n                                                            ]\n                                                        }, void 0, true) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_41__[\"default\"], {\n                                                                    className: \"w-3 h-3 rotate-180\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 5221,\n                                                                    columnNumber: 27\n                                                                }, this),\n                                                                \"Expand\"\n                                                            ]\n                                                        }, void 0, true)\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 5208,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 5204,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_textarea__WEBPACK_IMPORTED_MODULE_4__.Textarea, {\n                                                placeholder: \"\\uD83D\\uDCA1 Optional: Be specific! E.g., 'Birthday card with cute cats and rainbow colors for my sister who loves anime' (or leave blank for a beautiful default design)\",\n                                                value: prompt,\n                                                onChange: (e)=>setPrompt(e.target.value),\n                                                rows: isTextareaExpanded ? 8 : 5,\n                                                className: isTextareaExpanded ? \"resize-y\" : \"resize-none\",\n                                                style: {\n                                                    fontSize: \"16px\"\n                                                }\n                                            }, void 0, false, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 5227,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                className: \"text-xs text-gray-500 dark:text-gray-400 mt-1\",\n                                                children: [\n                                                    \"\\uD83D\\uDCA1 \",\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                                        children: \"Tip:\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 5236,\n                                                        columnNumber: 20\n                                                    }, this),\n                                                    \" Add details like colors, style, recipient's interests, and specific themes for personalized results, or leave blank for a beautiful default card!\"\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 5235,\n                                                columnNumber: 15\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                        lineNumber: 5203,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"flex items-center justify-between mb-2\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                        className: \"text-sm font-medium text-gray-700 dark:text-gray-300\",\n                                                        children: \"Card Message\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 5243,\n                                                        columnNumber: 17\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"flex items-center gap-2\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                                                variant: \"ghost\",\n                                                                size: \"sm\",\n                                                                onClick: ()=>setIsMessageExpanded(!isMessageExpanded),\n                                                                className: \"gap-1 text-xs text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300\",\n                                                                children: isMessageExpanded ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                                                    children: [\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_41__[\"default\"], {\n                                                                            className: \"w-3 h-3\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 5255,\n                                                                            columnNumber: 25\n                                                                        }, this),\n                                                                        \"Collapse\"\n                                                                    ]\n                                                                }, void 0, true) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                                                    children: [\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_41__[\"default\"], {\n                                                                            className: \"w-3 h-3 rotate-180\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 5260,\n                                                                            columnNumber: 25\n                                                                        }, this),\n                                                                        \"Expand\"\n                                                                    ]\n                                                                }, void 0, true)\n                                                            }, void 0, false, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 5247,\n                                                                columnNumber: 19\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                                                variant: \"ghost\",\n                                                                size: \"sm\",\n                                                                onClick: handleGetMessageHelp,\n                                                                disabled: isGeneratingMessage || isHandwrittenMessage,\n                                                                className: \"gap-1 text-xs\",\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_42__[\"default\"], {\n                                                                        className: \"w-3 h-3\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                        lineNumber: 5272,\n                                                                        columnNumber: 21\n                                                                    }, this),\n                                                                    isGeneratingMessage ? \"Writing...\" : \"Help me write\"\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 5265,\n                                                                columnNumber: 19\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 5246,\n                                                        columnNumber: 17\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 5242,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_textarea__WEBPACK_IMPORTED_MODULE_4__.Textarea, {\n                                                placeholder: isHandwrittenMessage ? \"✍️ Leave blank - you'll handwrite your message\" : \"\\uD83D\\uDC9D Your personal message here... (or click 'Help me write' for AI assistance)\",\n                                                value: finalCardMessage,\n                                                onChange: (e)=>setFinalCardMessage(e.target.value),\n                                                rows: isMessageExpanded ? 8 : 5,\n                                                className: isMessageExpanded ? \"resize-y\" : \"resize-none\",\n                                                style: {\n                                                    fontSize: \"16px\"\n                                                },\n                                                disabled: isHandwrittenMessage\n                                            }, void 0, false, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 5277,\n                                                columnNumber: 19\n                                            }, this),\n                                            finalCardMessage.trim() && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"mt-3 space-y-3\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"space-y-2\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"flex items-center gap-2 flex-wrap\",\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                                                        variant: \"outline\",\n                                                                        size: \"sm\",\n                                                                        onClick: undoMessage,\n                                                                        disabled: currentMessageIndex <= 0,\n                                                                        className: \"gap-1 text-xs flex-shrink-0\",\n                                                                        children: [\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_43__[\"default\"], {\n                                                                                className: \"w-3 h-3\"\n                                                                            }, void 0, false, {\n                                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                lineNumber: 5300,\n                                                                                columnNumber: 29\n                                                                            }, this),\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                className: \"hidden sm:inline\",\n                                                                                children: \"Undo\"\n                                                                            }, void 0, false, {\n                                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                lineNumber: 5301,\n                                                                                columnNumber: 29\n                                                                            }, this)\n                                                                        ]\n                                                                    }, void 0, true, {\n                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                        lineNumber: 5293,\n                                                                        columnNumber: 27\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                                                        variant: \"outline\",\n                                                                        size: \"sm\",\n                                                                        onClick: redoMessage,\n                                                                        disabled: currentMessageIndex >= messageHistory.length - 1,\n                                                                        className: \"gap-1 text-xs flex-shrink-0\",\n                                                                        children: [\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_44__[\"default\"], {\n                                                                                className: \"w-3 h-3\"\n                                                                            }, void 0, false, {\n                                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                lineNumber: 5310,\n                                                                                columnNumber: 29\n                                                                            }, this),\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                className: \"hidden sm:inline\",\n                                                                                children: \"Redo\"\n                                                                            }, void 0, false, {\n                                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                lineNumber: 5311,\n                                                                                columnNumber: 29\n                                                                            }, this)\n                                                                        ]\n                                                                    }, void 0, true, {\n                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                        lineNumber: 5303,\n                                                                        columnNumber: 27\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                                                        variant: \"outline\",\n                                                                        size: \"sm\",\n                                                                        onClick: ()=>setShowRefinementBox(!showRefinementBox),\n                                                                        className: \"gap-1 text-xs flex-shrink-0\",\n                                                                        children: [\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_45__[\"default\"], {\n                                                                                className: \"w-3 h-3\"\n                                                                            }, void 0, false, {\n                                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                lineNumber: 5319,\n                                                                                columnNumber: 29\n                                                                            }, this),\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                className: \"hidden sm:inline\",\n                                                                                children: \"Refine\"\n                                                                            }, void 0, false, {\n                                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                lineNumber: 5320,\n                                                                                columnNumber: 29\n                                                                            }, this),\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                className: \"sm:hidden\",\n                                                                                children: \"Edit\"\n                                                                            }, void 0, false, {\n                                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                lineNumber: 5321,\n                                                                                columnNumber: 29\n                                                                            }, this)\n                                                                        ]\n                                                                    }, void 0, true, {\n                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                        lineNumber: 5313,\n                                                                        columnNumber: 27\n                                                                    }, this)\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 5292,\n                                                                columnNumber: 25\n                                                            }, this),\n                                                            messageHistory.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"text-xs text-gray-500 dark:text-gray-400 text-center sm:text-left truncate\",\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                        className: \"hidden sm:inline\",\n                                                                        children: [\n                                                                            \"Version \",\n                                                                            currentMessageIndex + 1,\n                                                                            \" of \",\n                                                                            messageHistory.length\n                                                                        ]\n                                                                    }, void 0, true, {\n                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                        lineNumber: 5326,\n                                                                        columnNumber: 29\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                        className: \"sm:hidden\",\n                                                                        children: [\n                                                                            currentMessageIndex + 1,\n                                                                            \"/\",\n                                                                            messageHistory.length\n                                                                        ]\n                                                                    }, void 0, true, {\n                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                        lineNumber: 5327,\n                                                                        columnNumber: 29\n                                                                    }, this)\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 5325,\n                                                                columnNumber: 27\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 5291,\n                                                        columnNumber: 23\n                                                    }, this),\n                                                    showRefinementBox && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"border rounded-lg p-3 bg-gray-50 dark:bg-gray-800/50\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                                className: \"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block\",\n                                                                children: \"How would you like to refine this message?\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 5335,\n                                                                columnNumber: 27\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"space-y-2\",\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_input__WEBPACK_IMPORTED_MODULE_3__.Input, {\n                                                                        placeholder: \"\\uD83D\\uDD27 E.g., 'Make it funnier', 'Add mention of their hobby', 'More formal tone'\",\n                                                                        value: refinementPrompt,\n                                                                        onChange: (e)=>setRefinementPrompt(e.target.value),\n                                                                        style: {\n                                                                            fontSize: \"16px\"\n                                                                        },\n                                                                        onKeyDown: (e)=>{\n                                                                            if (e.key === \"Enter\" && !e.shiftKey) {\n                                                                                e.preventDefault();\n                                                                                handleRefineMessage();\n                                                                            }\n                                                                        }\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                        lineNumber: 5339,\n                                                                        columnNumber: 29\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                        className: \"text-xs text-gray-500 dark:text-gray-400\",\n                                                                        children: [\n                                                                            \"\\uD83D\\uDCF1 \",\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                                                                children: \"Quick tips:\"\n                                                                            }, void 0, false, {\n                                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                lineNumber: 5352,\n                                                                                columnNumber: 34\n                                                                            }, this),\n                                                                            ' \"Shorter\", \"Add emoji\", \"More personal\", \"Different tone\" work great!'\n                                                                        ]\n                                                                    }, void 0, true, {\n                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                        lineNumber: 5351,\n                                                                        columnNumber: 29\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                        className: \"flex items-center gap-2\",\n                                                                        children: [\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                                                                size: \"sm\",\n                                                                                onClick: handleRefineMessage,\n                                                                                disabled: isRefiningMessage || !refinementPrompt.trim(),\n                                                                                className: \"gap-1\",\n                                                                                children: [\n                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_45__[\"default\"], {\n                                                                                        className: \"w-3 h-3 \".concat(isRefiningMessage ? \"animate-spin\" : \"\")\n                                                                                    }, void 0, false, {\n                                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                        lineNumber: 5361,\n                                                                                        columnNumber: 33\n                                                                                    }, this),\n                                                                                    isRefiningMessage ? \"Refining...\" : \"Apply Changes\"\n                                                                                ]\n                                                                            }, void 0, true, {\n                                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                lineNumber: 5355,\n                                                                                columnNumber: 31\n                                                                            }, this),\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                                                                variant: \"ghost\",\n                                                                                size: \"sm\",\n                                                                                onClick: ()=>{\n                                                                                    setShowRefinementBox(false);\n                                                                                    setRefinementPrompt(\"\");\n                                                                                },\n                                                                                children: \"Cancel\"\n                                                                            }, void 0, false, {\n                                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                lineNumber: 5364,\n                                                                                columnNumber: 31\n                                                                            }, this)\n                                                                        ]\n                                                                    }, void 0, true, {\n                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                        lineNumber: 5354,\n                                                                        columnNumber: 29\n                                                                    }, this)\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 5338,\n                                                                columnNumber: 27\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 5334,\n                                                        columnNumber: 25\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 5289,\n                                                columnNumber: 21\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"flex items-center space-x-2 mt-2\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                        type: \"checkbox\",\n                                                        id: \"handwritten-message\",\n                                                        checked: isHandwrittenMessage,\n                                                        onChange: (e)=>{\n                                                            setIsHandwrittenMessage(e.target.checked);\n                                                            if (e.target.checked) {\n                                                                setFinalCardMessage(\"\");\n                                                            }\n                                                        },\n                                                        className: \"rounded\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 5383,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                        htmlFor: \"handwritten-message\",\n                                                        className: \"text-sm text-gray-600 dark:text-gray-400\",\n                                                        children: \"Leave blank space for handwritten message\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 5395,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 5382,\n                                                columnNumber: 19\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                        lineNumber: 5241,\n                                        columnNumber: 17\n                                    }, this),\n                                    (selectedImageModel === \"gpt-image-1\" || referenceImageUrls.length > 0) && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                className: \"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block\",\n                                                children: \"Reference Photos (Optional)\"\n                                            }, void 0, false, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 5404,\n                                                columnNumber: 17\n                                            }, this),\n                                            referenceImageUrls.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"mb-3\",\n                                                children: [\n                                                    selectedImageModel !== \"gpt-image-1\" ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"p-3 bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-lg mb-3\",\n                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"flex items-start gap-2\",\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    className: \"w-5 h-5 bg-amber-500 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5\",\n                                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                        className: \"text-white text-xs\",\n                                                                        children: \"!\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                        lineNumber: 5415,\n                                                                        columnNumber: 29\n                                                                    }, this)\n                                                                }, void 0, false, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 5414,\n                                                                    columnNumber: 27\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    className: \"text-sm text-amber-800 dark:text-amber-200\",\n                                                                    children: [\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                            className: \"font-medium mb-1\",\n                                                                            children: \"Reference photos detected but not supported\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 5418,\n                                                                            columnNumber: 29\n                                                                        }, this),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                            className: \"text-xs\",\n                                                                            children: [\n                                                                                \"You have \",\n                                                                                referenceImageUrls.length,\n                                                                                \" reference photo\",\n                                                                                referenceImageUrls.length > 1 ? \"s\" : \"\",\n                                                                                \" from a previous session, but your current model (\",\n                                                                                (_imageModels_find = imageModels.find((m)=>m.id === selectedImageModel)) === null || _imageModels_find === void 0 ? void 0 : _imageModels_find.label,\n                                                                                \") doesn't support reference photos. Switch to GPT Image 1 to use them, or remove them below.\"\n                                                                            ]\n                                                                        }, void 0, true, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 5419,\n                                                                            columnNumber: 29\n                                                                        }, this)\n                                                                    ]\n                                                                }, void 0, true, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 5417,\n                                                                    columnNumber: 27\n                                                                }, this)\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 5413,\n                                                            columnNumber: 25\n                                                        }, this)\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 5412,\n                                                        columnNumber: 23\n                                                    }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"mb-3 p-3 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg\",\n                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"flex items-start gap-2\",\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    className: \"w-5 h-5 bg-green-500 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5\",\n                                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                        className: \"text-white text-xs\",\n                                                                        children: \"✓\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                        lineNumber: 5427,\n                                                                        columnNumber: 29\n                                                                    }, this)\n                                                                }, void 0, false, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 5426,\n                                                                    columnNumber: 27\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    className: \"text-sm text-green-800 dark:text-green-200\",\n                                                                    children: [\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                            className: \"font-medium mb-1\",\n                                                                            children: \"Reference photos ready\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 5430,\n                                                                            columnNumber: 29\n                                                                        }, this),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                            className: \"text-xs\",\n                                                                            children: [\n                                                                                referenceImageUrls.length,\n                                                                                \" reference photo\",\n                                                                                referenceImageUrls.length > 1 ? \"s\" : \"\",\n                                                                                \" will be used to create cartoon characters that look like the people in your photos.\"\n                                                                            ]\n                                                                        }, void 0, true, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 5431,\n                                                                            columnNumber: 29\n                                                                        }, this)\n                                                                    ]\n                                                                }, void 0, true, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 5429,\n                                                                    columnNumber: 27\n                                                                }, this)\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 5425,\n                                                            columnNumber: 25\n                                                        }, this)\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 5424,\n                                                        columnNumber: 23\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"space-y-2 mb-3\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"flex items-center justify-between\",\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                        className: \"text-sm font-medium text-gray-700 dark:text-gray-300\",\n                                                                        children: [\n                                                                            \"\\uD83D\\uDCF8 Your Reference Photos (\",\n                                                                            referenceImageUrls.length,\n                                                                            \")\"\n                                                                        ]\n                                                                    }, void 0, true, {\n                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                        lineNumber: 5440,\n                                                                        columnNumber: 25\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                                                        variant: \"outline\",\n                                                                        size: \"sm\",\n                                                                        onClick: ()=>{\n                                                                            setReferenceImages([]);\n                                                                            setReferenceImageUrls([]);\n                                                                            sonner__WEBPACK_IMPORTED_MODULE_13__.toast.success(\"All reference photos removed!\");\n                                                                        },\n                                                                        className: \"h-7 text-xs gap-1 text-red-600 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-900/20\",\n                                                                        children: [\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_46__[\"default\"], {\n                                                                                className: \"w-3 h-3\"\n                                                                            }, void 0, false, {\n                                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                lineNumber: 5453,\n                                                                                columnNumber: 27\n                                                                            }, this),\n                                                                            \"Remove All\"\n                                                                        ]\n                                                                    }, void 0, true, {\n                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                        lineNumber: 5443,\n                                                                        columnNumber: 25\n                                                                    }, this)\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 5439,\n                                                                columnNumber: 23\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"grid grid-cols-2 gap-2 p-3 bg-gray-50 dark:bg-gray-800 rounded-lg border\",\n                                                                children: referenceImageUrls.map((url, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                        className: \"relative group\",\n                                                                        children: [\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                                                                src: url,\n                                                                                alt: \"Reference photo \".concat(index + 1),\n                                                                                className: \"w-full aspect-square object-cover rounded border\"\n                                                                            }, void 0, false, {\n                                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                lineNumber: 5461,\n                                                                                columnNumber: 29\n                                                                            }, this),\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                                                                variant: \"destructive\",\n                                                                                size: \"sm\",\n                                                                                onClick: ()=>handleRemoveReferenceImage(index),\n                                                                                className: \"absolute top-1 right-1 h-6 w-6 p-0 opacity-0 group-hover:opacity-100 transition-opacity\",\n                                                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_46__[\"default\"], {\n                                                                                    className: \"w-3 h-3\"\n                                                                                }, void 0, false, {\n                                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                    lineNumber: 5472,\n                                                                                    columnNumber: 31\n                                                                                }, this)\n                                                                            }, void 0, false, {\n                                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                lineNumber: 5466,\n                                                                                columnNumber: 29\n                                                                            }, this),\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                className: \"absolute bottom-1 left-1 bg-black/70 text-white text-xs px-1 rounded\",\n                                                                                children: [\n                                                                                    \"Photo \",\n                                                                                    index + 1\n                                                                                ]\n                                                                            }, void 0, true, {\n                                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                lineNumber: 5474,\n                                                                                columnNumber: 29\n                                                                            }, this)\n                                                                        ]\n                                                                    }, index, true, {\n                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                        lineNumber: 5460,\n                                                                        columnNumber: 27\n                                                                    }, this))\n                                                            }, void 0, false, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 5458,\n                                                                columnNumber: 23\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 5438,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 5410,\n                                                columnNumber: 19\n                                            }, this),\n                                            selectedImageModel === \"gpt-image-1\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                        className: \"text-xs text-gray-500 dark:text-gray-400 mb-3\",\n                                                        children: \"Upload photos to create cartoon characters that look like the people in your photos! Perfect for including multiple people - upload one photo of yourself and another of a friend to create cards featuring both of you. (Only available with GPT Image 1 model)\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 5486,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                        className: \"text-xs text-gray-400 dark:text-gray-500 mb-3\",\n                                                        children: \"✨ For your privacy, photos are turned into cartoon/illustrated characters - not realistic depictions\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 5489,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                ]\n                                            }, void 0, true),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"space-y-3\",\n                                                children: [\n                                                    selectedImageModel === \"gpt-image-1\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg p-4 text-center\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                                type: \"file\",\n                                                                accept: \"image/*\",\n                                                                onChange: (e)=>{\n                                                                    var _e_target_files;\n                                                                    return ((_e_target_files = e.target.files) === null || _e_target_files === void 0 ? void 0 : _e_target_files[0]) && handleFileUpload(e.target.files[0], \"reference\");\n                                                                },\n                                                                disabled: isUploading,\n                                                                className: \"hidden\",\n                                                                id: \"reference-upload\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 5498,\n                                                                columnNumber: 21\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                                htmlFor: \"reference-upload\",\n                                                                className: \"cursor-pointer\",\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_47__[\"default\"], {\n                                                                        className: \"w-6 h-6 mx-auto mb-2 text-gray-400\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                        lineNumber: 5507,\n                                                                        columnNumber: 23\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                        className: \"text-sm text-gray-600 dark:text-gray-400\",\n                                                                        children: isUploading ? \"Uploading...\" : \"Upload \".concat(referenceImages.length > 0 ? \"another\" : \"a\", \" photo to create characters\")\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                        lineNumber: 5508,\n                                                                        columnNumber: 23\n                                                                    }, this)\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 5506,\n                                                                columnNumber: 21\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 5497,\n                                                        columnNumber: 19\n                                                    }, this),\n                                                    referenceImages.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"space-y-2\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"flex items-center justify-between\",\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                        className: \"text-xs text-gray-500 dark:text-gray-400\",\n                                                                        children: [\n                                                                            referenceImages.length,\n                                                                            \" photo\",\n                                                                            referenceImages.length > 1 ? \"s\" : \"\",\n                                                                            \" uploaded:\"\n                                                                        ]\n                                                                    }, void 0, true, {\n                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                        lineNumber: 5519,\n                                                                        columnNumber: 23\n                                                                    }, this),\n                                                                    selectedImageModel !== \"gpt-image-1\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                                                        variant: \"outline\",\n                                                                        size: \"sm\",\n                                                                        onClick: ()=>{\n                                                                            setReferenceImages([]);\n                                                                            setReferenceImageUrls([]);\n                                                                            sonner__WEBPACK_IMPORTED_MODULE_13__.toast.success(\"All reference photos removed!\");\n                                                                        },\n                                                                        className: \"h-6 text-xs gap-1 text-red-600 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-900/20\",\n                                                                        children: [\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_46__[\"default\"], {\n                                                                                className: \"w-3 h-3\"\n                                                                            }, void 0, false, {\n                                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                lineNumber: 5533,\n                                                                                columnNumber: 27\n                                                                            }, this),\n                                                                            \"Clear All\"\n                                                                        ]\n                                                                    }, void 0, true, {\n                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                        lineNumber: 5523,\n                                                                        columnNumber: 25\n                                                                    }, this)\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 5518,\n                                                                columnNumber: 21\n                                                            }, this),\n                                                            referenceImages.map((image, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    className: \"flex items-center justify-between p-3 bg-purple-50 dark:bg-purple-900/20 rounded-lg\",\n                                                                    children: [\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                            className: \"flex items-center gap-2\",\n                                                                            children: [\n                                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_47__[\"default\"], {\n                                                                                    className: \"w-4 h-4 text-purple-600\"\n                                                                                }, void 0, false, {\n                                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                    lineNumber: 5541,\n                                                                                    columnNumber: 27\n                                                                                }, this),\n                                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                    className: \"text-sm text-purple-800 dark:text-purple-200\",\n                                                                                    children: image.name\n                                                                                }, void 0, false, {\n                                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                    lineNumber: 5542,\n                                                                                    columnNumber: 27\n                                                                                }, this)\n                                                                            ]\n                                                                        }, void 0, true, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 5540,\n                                                                            columnNumber: 25\n                                                                        }, this),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                                                            variant: \"ghost\",\n                                                                            size: \"sm\",\n                                                                            onClick: ()=>handleRemoveReferenceImage(index),\n                                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_46__[\"default\"], {\n                                                                                className: \"w-4 h-4\"\n                                                                            }, void 0, false, {\n                                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                lineNumber: 5549,\n                                                                                columnNumber: 27\n                                                                            }, this)\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 5544,\n                                                                            columnNumber: 25\n                                                                        }, this)\n                                                                    ]\n                                                                }, index, true, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 5539,\n                                                                    columnNumber: 23\n                                                                }, this))\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 5517,\n                                                        columnNumber: 19\n                                                    }, this),\n                                                    referenceImages.length > 0 && selectedImageModel === \"gpt-image-1\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_textarea__WEBPACK_IMPORTED_MODULE_4__.Textarea, {\n                                                                placeholder: \"Character style instructions (optional): e.g., 'Make us look like anime characters', 'Keep our exact outfits and accessories but in watercolor style', or 'Show both people together in the same scene'\",\n                                                                value: imageTransformation,\n                                                                onChange: (e)=>setImageTransformation(e.target.value),\n                                                                rows: 3,\n                                                                className: \"resize-none\",\n                                                                style: {\n                                                                    fontSize: \"16px\"\n                                                                }\n                                                            }, void 0, false, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 5559,\n                                                                columnNumber: 21\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                className: \"text-xs text-gray-500 dark:text-gray-400 mt-1\",\n                                                                children: [\n                                                                    \"\\uD83D\\uDCA1 \",\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                                                        children: \"Tip:\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                        lineNumber: 5568,\n                                                                        columnNumber: 26\n                                                                    }, this),\n                                                                    ' Leave blank to keep exact clothing & accessories, or specify style changes like \"anime style\" or \"vintage cartoon look\"'\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 5567,\n                                                                columnNumber: 21\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 5558,\n                                                        columnNumber: 19\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 5494,\n                                                columnNumber: 15\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                        lineNumber: 5403,\n                                        columnNumber: 15\n                                    }, this),\n                                    showAdvanced && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"space-y-4 p-4 border rounded-lg bg-gray-50 dark:bg-gray-800/50\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"flex items-center gap-2 mb-4\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_48__[\"default\"], {\n                                                        className: \"w-4 h-4\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 5580,\n                                                        columnNumber: 19\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        className: \"text-sm font-medium text-gray-700 dark:text-gray-300\",\n                                                        children: \"Advanced Options\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 5581,\n                                                        columnNumber: 19\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 5579,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                        className: \"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block\",\n                                                        children: \"Image Generation Model\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 5586,\n                                                        columnNumber: 19\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_select__WEBPACK_IMPORTED_MODULE_8__.Select, {\n                                                        value: selectedImageModel,\n                                                        onValueChange: setSelectedImageModel,\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_select__WEBPACK_IMPORTED_MODULE_8__.SelectTrigger, {\n                                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_select__WEBPACK_IMPORTED_MODULE_8__.SelectValue, {\n                                                                    placeholder: \"Choose image model\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 5591,\n                                                                    columnNumber: 23\n                                                                }, this)\n                                                            }, void 0, false, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 5590,\n                                                                columnNumber: 21\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_select__WEBPACK_IMPORTED_MODULE_8__.SelectContent, {\n                                                                children: imageModels.map((model)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_select__WEBPACK_IMPORTED_MODULE_8__.SelectItem, {\n                                                                        value: model.id,\n                                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                            children: [\n                                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                    className: \"font-medium\",\n                                                                                    children: model.label\n                                                                                }, void 0, false, {\n                                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                    lineNumber: 5597,\n                                                                                    columnNumber: 29\n                                                                                }, this),\n                                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                    className: \"text-xs text-muted-foreground\",\n                                                                                    children: model.description\n                                                                                }, void 0, false, {\n                                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                    lineNumber: 5598,\n                                                                                    columnNumber: 29\n                                                                                }, this)\n                                                                            ]\n                                                                        }, void 0, true, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 5596,\n                                                                            columnNumber: 27\n                                                                        }, this)\n                                                                    }, model.id, false, {\n                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                        lineNumber: 5595,\n                                                                        columnNumber: 25\n                                                                    }, this))\n                                                            }, void 0, false, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 5593,\n                                                                columnNumber: 21\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 5589,\n                                                        columnNumber: 19\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 5585,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                        className: \"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block\",\n                                                        children: \"Draft Mode Model\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 5608,\n                                                        columnNumber: 20\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_select__WEBPACK_IMPORTED_MODULE_8__.Select, {\n                                                        value: selectedDraftModel,\n                                                        onValueChange: setSelectedDraftModel,\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_select__WEBPACK_IMPORTED_MODULE_8__.SelectTrigger, {\n                                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_select__WEBPACK_IMPORTED_MODULE_8__.SelectValue, {\n                                                                    placeholder: \"Choose draft model\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 5613,\n                                                                    columnNumber: 24\n                                                                }, this)\n                                                            }, void 0, false, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 5612,\n                                                                columnNumber: 22\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_select__WEBPACK_IMPORTED_MODULE_8__.SelectContent, {\n                                                                children: imageModels.map((model)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_select__WEBPACK_IMPORTED_MODULE_8__.SelectItem, {\n                                                                        value: model.id,\n                                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                            children: [\n                                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                    className: \"font-medium\",\n                                                                                    children: model.label\n                                                                                }, void 0, false, {\n                                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                    lineNumber: 5619,\n                                                                                    columnNumber: 30\n                                                                                }, this),\n                                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                    className: \"text-xs text-muted-foreground\",\n                                                                                    children: model.description\n                                                                                }, void 0, false, {\n                                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                    lineNumber: 5620,\n                                                                                    columnNumber: 30\n                                                                                }, this)\n                                                                            ]\n                                                                        }, void 0, true, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 5618,\n                                                                            columnNumber: 28\n                                                                        }, this)\n                                                                    }, model.id, false, {\n                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                        lineNumber: 5617,\n                                                                        columnNumber: 26\n                                                                    }, this))\n                                                            }, void 0, false, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 5615,\n                                                                columnNumber: 22\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 5611,\n                                                        columnNumber: 20\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                        className: \"text-xs text-gray-500 dark:text-gray-400 mt-1\",\n                                                        children: \"Model used for draft variations. Consider faster models like FLUX 1.1 Pro for quicker previews.\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 5626,\n                                                        columnNumber: 20\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 5607,\n                                                columnNumber: 18\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                        className: \"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block\",\n                                                        children: \"Paper Size\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 5633,\n                                                        columnNumber: 19\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_select__WEBPACK_IMPORTED_MODULE_8__.Select, {\n                                                        value: selectedPaperSize,\n                                                        onValueChange: setSelectedPaperSize,\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_select__WEBPACK_IMPORTED_MODULE_8__.SelectTrigger, {\n                                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_select__WEBPACK_IMPORTED_MODULE_8__.SelectValue, {\n                                                                    placeholder: \"Choose paper size\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 5638,\n                                                                    columnNumber: 23\n                                                                }, this)\n                                                            }, void 0, false, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 5637,\n                                                                columnNumber: 21\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_select__WEBPACK_IMPORTED_MODULE_8__.SelectContent, {\n                                                                children: paperSizes.map((size)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_select__WEBPACK_IMPORTED_MODULE_8__.SelectItem, {\n                                                                        value: size.id,\n                                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                            children: [\n                                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                    className: \"font-medium\",\n                                                                                    children: size.label\n                                                                                }, void 0, false, {\n                                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                    lineNumber: 5644,\n                                                                                    columnNumber: 29\n                                                                                }, this),\n                                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                    className: \"text-xs text-muted-foreground\",\n                                                                                    children: size.description\n                                                                                }, void 0, false, {\n                                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                    lineNumber: 5645,\n                                                                                    columnNumber: 29\n                                                                                }, this)\n                                                                            ]\n                                                                        }, void 0, true, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 5643,\n                                                                            columnNumber: 27\n                                                                        }, this)\n                                                                    }, size.id, false, {\n                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                        lineNumber: 5642,\n                                                                        columnNumber: 25\n                                                                    }, this))\n                                                            }, void 0, false, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 5640,\n                                                                columnNumber: 21\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 5636,\n                                                        columnNumber: 19\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 5632,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                        className: \"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block\",\n                                                        children: \"Number of Cards to Generate\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 5655,\n                                                        columnNumber: 19\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_select__WEBPACK_IMPORTED_MODULE_8__.Select, {\n                                                        value: numberOfCards.toString(),\n                                                        onValueChange: (value)=>setNumberOfCards(parseInt(value)),\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_select__WEBPACK_IMPORTED_MODULE_8__.SelectTrigger, {\n                                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_select__WEBPACK_IMPORTED_MODULE_8__.SelectValue, {\n                                                                    placeholder: \"Choose number of cards\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 5660,\n                                                                    columnNumber: 23\n                                                                }, this)\n                                                            }, void 0, false, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 5659,\n                                                                columnNumber: 21\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_select__WEBPACK_IMPORTED_MODULE_8__.SelectContent, {\n                                                                children: [\n                                                                    1,\n                                                                    2,\n                                                                    3,\n                                                                    4,\n                                                                    5\n                                                                ].map((num)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_select__WEBPACK_IMPORTED_MODULE_8__.SelectItem, {\n                                                                        value: num.toString(),\n                                                                        children: [\n                                                                            num,\n                                                                            \" Card\",\n                                                                            num > 1 ? \"s\" : \"\"\n                                                                        ]\n                                                                    }, num, true, {\n                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                        lineNumber: 5664,\n                                                                        columnNumber: 25\n                                                                    }, this))\n                                                            }, void 0, false, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 5662,\n                                                                columnNumber: 21\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 5658,\n                                                        columnNumber: 19\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                        className: \"text-xs text-gray-500 dark:text-gray-400 mt-1\",\n                                                        children: \"Generate multiple card variations to choose from\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 5670,\n                                                        columnNumber: 19\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 5654,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"space-y-3\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"flex items-center space-x-2\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                                type: \"checkbox\",\n                                                                id: \"front-back-only\",\n                                                                checked: isFrontBackOnly,\n                                                                onChange: (e)=>setIsFrontBackOnly(e.target.checked),\n                                                                className: \"rounded\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 5678,\n                                                                columnNumber: 21\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                                htmlFor: \"front-back-only\",\n                                                                className: \"text-sm text-gray-700 dark:text-gray-300\",\n                                                                children: \"Front and back only (no interior pages)\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 5685,\n                                                                columnNumber: 21\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 5677,\n                                                        columnNumber: 19\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                        className: \"text-xs text-gray-500 dark:text-gray-400\",\n                                                        children: \"Perfect for postcards or simple greeting cards\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 5689,\n                                                        columnNumber: 19\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 5676,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                        className: \"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block\",\n                                                        children: \"Data Management\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 5696,\n                                                        columnNumber: 19\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                                        variant: \"outline\",\n                                                        size: \"sm\",\n                                                        onClick: clearSavedData,\n                                                        className: \"w-full gap-2 text-red-600 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-900/20\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_46__[\"default\"], {\n                                                                className: \"w-4 h-4\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 5705,\n                                                                columnNumber: 21\n                                                            }, this),\n                                                            \"Clear Saved Data\"\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 5699,\n                                                        columnNumber: 19\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                        className: \"text-xs text-gray-500 dark:text-gray-400 mt-1\",\n                                                        children: \"Remove all saved form data and generated cards from your browser\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 5708,\n                                                        columnNumber: 19\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 5695,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                        lineNumber: 5578,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_collapsible__WEBPACK_IMPORTED_MODULE_9__.Collapsible, {\n                                        className: \"space-y-2\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_collapsible__WEBPACK_IMPORTED_MODULE_9__.CollapsibleTrigger, {\n                                                asChild: true,\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                                    variant: \"ghost\",\n                                                    className: \"w-full justify-between text-xs text-gray-500 dark:text-gray-400 h-8\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            children: \"Privacy & Terms\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 5719,\n                                                            columnNumber: 23\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_41__[\"default\"], {\n                                                            className: \"h-3 w-3\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 5720,\n                                                            columnNumber: 23\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 5718,\n                                                    columnNumber: 21\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 5717,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_collapsible__WEBPACK_IMPORTED_MODULE_9__.CollapsibleContent, {\n                                                className: \"space-y-3\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"text-xs text-gray-600 dark:text-gray-300 space-y-3 p-4 border rounded-lg bg-gray-50 dark:bg-gray-800/50\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h4\", {\n                                                                    className: \"font-semibold mb-2 text-gray-800 dark:text-gray-200\",\n                                                                    children: \"Privacy Policy\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 5727,\n                                                                    columnNumber: 25\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"ul\", {\n                                                                    className: \"space-y-1 text-gray-600 dark:text-gray-400\",\n                                                                    children: [\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                                                            children: \"• We collect your email address and card content to provide our service\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 5729,\n                                                                            columnNumber: 27\n                                                                        }, this),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                                                            children: \"• Images and messages are processed using third-party AI services\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 5730,\n                                                                            columnNumber: 27\n                                                                        }, this),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                                                            children: \"• Cards are stored temporarily for delivery and may be cached for performance\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 5731,\n                                                                            columnNumber: 27\n                                                                        }, this),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                                                            children: \"• We do not sell, share, or use your personal data for marketing purposes\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 5732,\n                                                                            columnNumber: 27\n                                                                        }, this),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                                                            children: \"• Your email is only used for card delivery and service communications\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 5733,\n                                                                            columnNumber: 27\n                                                                        }, this)\n                                                                    ]\n                                                                }, void 0, true, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 5728,\n                                                                    columnNumber: 25\n                                                                }, this)\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 5726,\n                                                            columnNumber: 23\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h4\", {\n                                                                    className: \"font-semibold mb-2 text-gray-800 dark:text-gray-200\",\n                                                                    children: \"Terms of Service\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 5738,\n                                                                    columnNumber: 25\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"ul\", {\n                                                                    className: \"space-y-1 text-gray-600 dark:text-gray-400\",\n                                                                    children: [\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                                                            children: \"• You must be 13+ years old to use this service\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 5740,\n                                                                            columnNumber: 27\n                                                                        }, this),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                                                            children: \"• You are responsible for the content you submit\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 5741,\n                                                                            columnNumber: 27\n                                                                        }, this),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                                                            children: '• Service is provided \"as-is\" without warranties'\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 5742,\n                                                                            columnNumber: 27\n                                                                        }, this),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                                                            children: \"• We reserve the right to refuse service for policy violations\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 5743,\n                                                                            columnNumber: 27\n                                                                        }, this),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                                                            children: \"• These terms may be updated with notice on our website\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 5744,\n                                                                            columnNumber: 27\n                                                                        }, this)\n                                                                    ]\n                                                                }, void 0, true, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 5739,\n                                                                    columnNumber: 25\n                                                                }, this)\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 5737,\n                                                            columnNumber: 23\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h4\", {\n                                                                    className: \"font-semibold mb-2 text-gray-800 dark:text-gray-200\",\n                                                                    children: \"Content Policy\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 5749,\n                                                                    columnNumber: 25\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"ul\", {\n                                                                    className: \"space-y-1 text-gray-600 dark:text-gray-400\",\n                                                                    children: [\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                                                            children: \"• All content must be family-friendly and appropriate for all audiences\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 5751,\n                                                                            columnNumber: 27\n                                                                        }, this),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                                                            children: \"• No copyrighted characters, logos, or trademarked content\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 5752,\n                                                                            columnNumber: 27\n                                                                        }, this),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                                                            children: \"• No hate speech, harassment, or discriminatory content\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 5753,\n                                                                            columnNumber: 27\n                                                                        }, this),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                                                            children: \"• No illegal, harmful, or explicit material\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 5754,\n                                                                            columnNumber: 27\n                                                                        }, this),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                                                            children: \"• Content may be filtered to ensure compliance with these guidelines\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 5755,\n                                                                            columnNumber: 27\n                                                                        }, this)\n                                                                    ]\n                                                                }, void 0, true, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 5750,\n                                                                    columnNumber: 25\n                                                                }, this)\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 5748,\n                                                            columnNumber: 23\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h4\", {\n                                                                    className: \"font-semibold mb-2 text-gray-800 dark:text-gray-200\",\n                                                                    children: \"Intellectual Property\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 5760,\n                                                                    columnNumber: 25\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"ul\", {\n                                                                    className: \"space-y-1 text-gray-600 dark:text-gray-400\",\n                                                                    children: [\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                                                            children: \"• You retain rights to your original content and ideas\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 5762,\n                                                                            columnNumber: 27\n                                                                        }, this),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                                                            children: \"• Generated images are created using AI and may not be copyrightable\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 5763,\n                                                                            columnNumber: 27\n                                                                        }, this),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                                                            children: \"• You grant us license to process and deliver your cards\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 5764,\n                                                                            columnNumber: 27\n                                                                        }, this),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                                                            children: \"• Respect third-party intellectual property rights\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 5765,\n                                                                            columnNumber: 27\n                                                                        }, this)\n                                                                    ]\n                                                                }, void 0, true, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 5761,\n                                                                    columnNumber: 25\n                                                                }, this)\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 5759,\n                                                            columnNumber: 23\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"pt-2 border-t border-gray-200 dark:border-gray-700\",\n                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                className: \"text-center text-gray-500 dark:text-gray-400\",\n                                                                children: [\n                                                                    \"By creating a card, you agree to these terms and policies.\",\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"br\", {}, void 0, false, {\n                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                        lineNumber: 5772,\n                                                                        columnNumber: 27\n                                                                    }, this),\n                                                                    \"Last updated: \",\n                                                                    new Date().toLocaleDateString()\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 5770,\n                                                                columnNumber: 25\n                                                            }, this)\n                                                        }, void 0, false, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 5769,\n                                                            columnNumber: 23\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 5724,\n                                                    columnNumber: 21\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 5723,\n                                                columnNumber: 19\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                        lineNumber: 5716,\n                                        columnNumber: 17\n                                    }, this),\n                                    (isGenerating || isGeneratingMessage) && !isGeneratingFinalCard && !(isDraftMode && draftCards.length > 0) && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"mb-4 p-4 bg-gradient-to-r from-blue-50 to-cyan-50 dark:from-blue-900/30 dark:to-cyan-900/30 rounded-lg border border-blue-200 dark:border-blue-800\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"space-y-3\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"flex items-center gap-2\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"w-4 h-4 border-2 border-blue-500 border-t-transparent rounded-full animate-spin\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 5785,\n                                                            columnNumber: 25\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            className: \"text-sm font-medium text-blue-600 dark:text-blue-400\",\n                                                            children: generationProgress || \"Generating your card...\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 5786,\n                                                            columnNumber: 25\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 5784,\n                                                    columnNumber: 23\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-3\",\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"bg-gradient-to-r from-blue-500 to-cyan-500 h-3 rounded-full transition-all duration-1000 ease-out\",\n                                                        style: {\n                                                            width: \"\".concat(Math.min(progressPercentage, 100), \"%\")\n                                                        }\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 5793,\n                                                        columnNumber: 25\n                                                    }, this)\n                                                }, void 0, false, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 5792,\n                                                    columnNumber: 23\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"flex items-center justify-between text-xs text-gray-600 dark:text-gray-400\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            className: \"font-medium\",\n                                                            children: [\n                                                                Math.round(progressPercentage),\n                                                                \"% Complete\"\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 5801,\n                                                            columnNumber: 25\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"flex items-center gap-3\",\n                                                            children: [\n                                                                currentElapsedTime > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                    className: \"text-blue-600 dark:text-blue-400\",\n                                                                    children: [\n                                                                        \"⏱️ \",\n                                                                        formatGenerationTime(currentElapsedTime)\n                                                                    ]\n                                                                }, void 0, true, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 5806,\n                                                                    columnNumber: 29\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                    className: \"text-gray-500\",\n                                                                    children: isDraftMode && !isGeneratingFinalCard ? \"~30-60 sec expected\" : \"~1:30-2:00 min expected\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 5810,\n                                                                    columnNumber: 27\n                                                                }, this)\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 5804,\n                                                            columnNumber: 25\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 5800,\n                                                    columnNumber: 23\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                            lineNumber: 5782,\n                                            columnNumber: 21\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                        lineNumber: 5781,\n                                        columnNumber: 19\n                                    }, this),\n                                    !isDraftMode && draftCards.length === 0 && !isGeneratingFinalCard && !isGenerating ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"space-y-3\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"bg-purple-50 dark:bg-purple-900/20 rounded-lg p-3 border border-purple-200 dark:border-purple-800\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"flex items-start gap-2\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_49__[\"default\"], {\n                                                            className: \"w-4 h-4 text-purple-600 mt-0.5 flex-shrink-0\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 5825,\n                                                            columnNumber: 25\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"text-sm\",\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                    className: \"font-medium text-purple-900 dark:text-purple-100\",\n                                                                    children: \"\\uD83C\\uDFA8 Draft Mode (Recommended)\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 5827,\n                                                                    columnNumber: 27\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                    className: \"text-purple-700 dark:text-purple-300 text-xs mt-1\",\n                                                                    children: [\n                                                                        \"Generate 5 different front cover designs quickly with low quality, then pick your favorite for complete high-quality card generation.\",\n                                                                        selectedArtisticStyle === \"ai-smart-style\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                            className: \"font-medium\",\n                                                                            children: \" With Smart Style, you'll see your card in 5 of our curated artistic styles!\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 5833,\n                                                                            columnNumber: 29\n                                                                        }, this)\n                                                                    ]\n                                                                }, void 0, true, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 5830,\n                                                                    columnNumber: 51\n                                                                }, this)\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 5826,\n                                                            columnNumber: 25\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 5824,\n                                                    columnNumber: 23\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 5823,\n                                                columnNumber: 21\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                                onClick: handleGenerateDraftCards,\n                                                disabled: isGenerating || isGeneratingMessage || !userEmail.trim(),\n                                                className: \"w-full h-12 transition-all duration-300 bg-gradient-to-r from-purple-500 to-pink-600 hover:from-purple-600 hover:to-pink-700\",\n                                                size: \"lg\",\n                                                children: isGenerating || isGeneratingMessage ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 5849,\n                                                            columnNumber: 27\n                                                        }, this),\n                                                        isGeneratingMessage ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            children: \"Writing your message...\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 5851,\n                                                            columnNumber: 29\n                                                        }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            children: \"Creating 10 design options...\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 5853,\n                                                            columnNumber: 29\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_49__[\"default\"], {\n                                                            className: \"w-5 h-5 mr-2\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 5858,\n                                                            columnNumber: 27\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            children: \"Create 10 Front Cover Options\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 5859,\n                                                            columnNumber: 27\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true)\n                                            }, void 0, false, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 5841,\n                                                columnNumber: 21\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"text-center text-xs text-gray-500 dark:text-gray-400\",\n                                                children: \"or\"\n                                            }, void 0, false, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 5864,\n                                                columnNumber: 21\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                                onClick: handleGenerateCardAsync,\n                                                disabled: isGenerating || isGeneratingMessage || !userEmail.trim(),\n                                                variant: \"outline\",\n                                                className: \"w-full h-10 transition-all duration-300 border-blue-300 hover:border-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/20\",\n                                                size: \"lg\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_38__[\"default\"], {\n                                                        className: \"w-4 h-4 mr-2\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 5876,\n                                                        columnNumber: 23\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        children: \"Direct Generation\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 5877,\n                                                        columnNumber: 23\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 5869,\n                                                columnNumber: 21\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                        lineNumber: 5821,\n                                        columnNumber: 19\n                                    }, this) : isGeneratingFinalCard ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"space-y-4\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                                disabled: true,\n                                                className: \"w-full h-12 transition-all duration-300 bg-gradient-to-r from-blue-500 to-cyan-600\",\n                                                size: \"lg\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 5887,\n                                                        columnNumber: 23\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        children: \"Creating high-quality version...\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 5888,\n                                                        columnNumber: 23\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 5882,\n                                                columnNumber: 21\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"p-4 bg-gradient-to-r from-blue-50 to-cyan-50 dark:from-blue-900/30 dark:to-cyan-900/30 rounded-lg border border-blue-200 dark:border-blue-800\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"space-y-3\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"flex items-center gap-2\",\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    className: \"w-4 h-4 border-2 border-blue-500 border-t-transparent rounded-full animate-spin\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 5896,\n                                                                    columnNumber: 27\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                    className: \"text-sm font-medium text-blue-600 dark:text-blue-400\",\n                                                                    children: generationProgress || \"Generating high-quality version of your selected design...\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 5897,\n                                                                    columnNumber: 27\n                                                                }, this)\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 5895,\n                                                            columnNumber: 25\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-3\",\n                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"bg-gradient-to-r from-blue-500 to-cyan-500 h-3 rounded-full transition-all duration-1000 ease-out\",\n                                                                style: {\n                                                                    width: \"\".concat(Math.min(progressPercentage, 100), \"%\")\n                                                                }\n                                                            }, void 0, false, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 5904,\n                                                                columnNumber: 27\n                                                            }, this)\n                                                        }, void 0, false, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 5903,\n                                                            columnNumber: 25\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"flex items-center justify-between text-xs text-gray-600 dark:text-gray-400\",\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                    className: \"font-medium\",\n                                                                    children: [\n                                                                        Math.round(progressPercentage),\n                                                                        \"% Complete\"\n                                                                    ]\n                                                                }, void 0, true, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 5912,\n                                                                    columnNumber: 27\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    className: \"flex items-center gap-3\",\n                                                                    children: [\n                                                                        currentElapsedTime > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                            className: \"text-blue-600 dark:text-blue-400\",\n                                                                            children: [\n                                                                                \"⏱️ \",\n                                                                                formatGenerationTime(currentElapsedTime)\n                                                                            ]\n                                                                        }, void 0, true, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 5917,\n                                                                            columnNumber: 31\n                                                                        }, this),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                            className: \"text-gray-500\",\n                                                                            children: isDraftMode && !isGeneratingFinalCard ? \"~30-60 sec expected\" : \"~1:30-2:00 min expected\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 5921,\n                                                                            columnNumber: 29\n                                                                        }, this)\n                                                                    ]\n                                                                }, void 0, true, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 5915,\n                                                                    columnNumber: 27\n                                                                }, this)\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 5911,\n                                                            columnNumber: 25\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 5893,\n                                                    columnNumber: 23\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 5892,\n                                                columnNumber: 21\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                        lineNumber: 5881,\n                                        columnNumber: 19\n                                    }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                        onClick: handleGenerateCardAsync,\n                                        disabled: isGenerating || isGeneratingMessage || !userEmail.trim(),\n                                        className: \"w-full h-12 transition-all duration-300 \".concat(isCardCompleted ? \"bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700\" : \"bg-gradient-to-r from-blue-500 to-cyan-600 hover:from-blue-600 hover:to-cyan-700\"),\n                                        size: \"lg\",\n                                        children: isGenerating || isGeneratingMessage ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2\"\n                                                }, void 0, false, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 5942,\n                                                    columnNumber: 23\n                                                }, this),\n                                                isGeneratingMessage ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    children: \"Writing your message...\"\n                                                }, void 0, false, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 5944,\n                                                    columnNumber: 25\n                                                }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    children: \"Creating your card...\"\n                                                }, void 0, false, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 5946,\n                                                    columnNumber: 25\n                                                }, this)\n                                            ]\n                                        }, void 0, true) : isCardCompleted ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex items-center justify-center w-full\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"w-5 h-5 mr-2 text-white\",\n                                                    children: \"✅\"\n                                                }, void 0, false, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 5951,\n                                                    columnNumber: 23\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    children: \"Card Completed!\"\n                                                }, void 0, false, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 5952,\n                                                    columnNumber: 23\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                            lineNumber: 5950,\n                                            columnNumber: 21\n                                        }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_38__[\"default\"], {\n                                                    className: \"w-5 h-5 mr-2\"\n                                                }, void 0, false, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 5956,\n                                                    columnNumber: 23\n                                                }, this),\n                                                numberOfCards > 1 ? \"Create \".concat(numberOfCards, \" Cards\") : \"Create Card\"\n                                            ]\n                                        }, void 0, true)\n                                    }, void 0, false, {\n                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                        lineNumber: 5930,\n                                        columnNumber: 17\n                                    }, this),\n                                    isCardCompleted && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"mt-4 grid grid-cols-2 gap-3\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                                onClick: handleRegenerateCard,\n                                                variant: \"outline\",\n                                                className: \"flex items-center gap-2 border-blue-200 hover:border-blue-300 hover:bg-blue-50 dark:border-blue-800 dark:hover:border-blue-700 dark:hover:bg-blue-900/20\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_45__[\"default\"], {\n                                                        className: \"w-4 h-4\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 5971,\n                                                        columnNumber: 23\n                                                    }, this),\n                                                    \"Regenerate Same\"\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 5966,\n                                                columnNumber: 21\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                                onClick: handleCreateNewCard,\n                                                variant: \"outline\",\n                                                className: \"flex items-center gap-2 border-green-200 hover:border-green-300 hover:bg-green-50 dark:border-green-800 dark:hover:border-green-700 dark:hover:bg-green-900/20\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_38__[\"default\"], {\n                                                        className: \"w-4 h-4\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 5979,\n                                                        columnNumber: 23\n                                                    }, this),\n                                                    \"Create New Card\"\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 5974,\n                                                columnNumber: 21\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                        lineNumber: 5965,\n                                        columnNumber: 19\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                lineNumber: 5016,\n                                columnNumber: 15\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                        lineNumber: 4981,\n                        columnNumber: 9\n                    }, this),\n                    isDraftMode && draftCards.length > 0 && !isGeneratingFinalCard && !generatedCard && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_5__.Card, {\n                        className: \"shadow-lg\",\n                        \"data-card-preview\": true,\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_5__.CardHeader, {\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_5__.CardTitle, {\n                                        className: \"flex items-center gap-2\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_49__[\"default\"], {\n                                                className: \"w-5 h-5 text-purple-600\"\n                                            }, void 0, false, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 5992,\n                                                columnNumber: 17\n                                            }, this),\n                                            \"Choose Your Favorite Design\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                        lineNumber: 5991,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_5__.CardDescription, {\n                                        children: \"10 front cover variations created with low quality for fast preview. Select your favorite to generate the complete high-quality card!\"\n                                    }, void 0, false, {\n                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                        lineNumber: 5995,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                lineNumber: 5990,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_5__.CardContent, {\n                                className: \"space-y-4\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"w-full\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"flex overflow-x-auto gap-3 pb-4 -mx-4 px-4 snap-x snap-mandatory\",\n                                                children: Array.from({\n                                                    length: 10\n                                                }, (_, displayIndex)=>{\n                                                    const card = draftCards[displayIndex];\n                                                    const originalIndex = draftIndexMapping[displayIndex];\n                                                    const isLoading = displayIndex >= draftCards.length;\n                                                    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"flex-shrink-0 w-48 sm:w-56 snap-center rounded-lg border-2 p-2 sm:p-3 transition-all \".concat(selectedDraftIndex === displayIndex ? \"border-purple-500 bg-purple-50 dark:bg-purple-900/20 shadow-lg\" : card ? \"border-gray-200 dark:border-gray-700 hover:border-purple-300 hover:bg-purple-50/50 dark:hover:bg-purple-900/10\" : \"border-dashed border-gray-300 dark:border-gray-600\"),\n                                                        onClick: ()=>card && setSelectedDraftIndex(displayIndex),\n                                                        children: card ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    className: \"aspect-[2/3] relative overflow-hidden rounded border mb-2 sm:mb-3\",\n                                                                    children: [\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                                                            src: card.frontCover,\n                                                                            alt: \"Design \".concat(originalIndex + 1),\n                                                                            className: \"w-full h-full object-cover\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 6024,\n                                                                            columnNumber: 29\n                                                                        }, this),\n                                                                        selectedDraftIndex === displayIndex && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                            className: \"absolute inset-0 bg-purple-600/20 flex items-center justify-center\",\n                                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                className: \"bg-white rounded-full p-2\",\n                                                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_50__[\"default\"], {\n                                                                                    className: \"w-6 h-6 sm:w-8 sm:h-8 text-purple-600\"\n                                                                                }, void 0, false, {\n                                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                    lineNumber: 6032,\n                                                                                    columnNumber: 37\n                                                                                }, this)\n                                                                            }, void 0, false, {\n                                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                lineNumber: 6031,\n                                                                                columnNumber: 33\n                                                                            }, this)\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 6030,\n                                                                            columnNumber: 31\n                                                                        }, this)\n                                                                    ]\n                                                                }, void 0, true, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 6023,\n                                                                    columnNumber: 29\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    className: \"text-center space-y-1 sm:space-y-2\",\n                                                                    children: [\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h4\", {\n                                                                            className: \"font-medium text-sm\",\n                                                                            children: [\n                                                                                \"Design \",\n                                                                                originalIndex + 1\n                                                                            ]\n                                                                        }, void 0, true, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 6040,\n                                                                            columnNumber: 29\n                                                                        }, this),\n                                                                        selectedArtisticStyle === \"ai-smart-style\" && card.styleInfo && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                            className: \"text-xs text-gray-600 dark:text-gray-400 truncate\",\n                                                                            children: card.styleInfo.styleLabel\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 6042,\n                                                                            columnNumber: 31\n                                                                        }, this),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                            className: \"space-y-1\",\n                                                                            children: [\n                                                                                selectedDraftIndex === displayIndex && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_badge__WEBPACK_IMPORTED_MODULE_6__.Badge, {\n                                                                                    className: \"bg-purple-600 text-white text-xs px-2 py-1 mb-1\",\n                                                                                    children: \"✓ Selected\"\n                                                                                }, void 0, false, {\n                                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                    lineNumber: 6048,\n                                                                                    columnNumber: 35\n                                                                                }, this),\n                                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                                                                    variant: \"outline\",\n                                                                                    size: \"sm\",\n                                                                                    onClick: (e)=>{\n                                                                                        e.stopPropagation();\n                                                                                        setPreviewingDraftIndex(displayIndex);\n                                                                                    },\n                                                                                    className: \"w-full text-xs h-7 sm:h-8\",\n                                                                                    children: [\n                                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_35__[\"default\"], {\n                                                                                            className: \"w-3 h-3 mr-1\"\n                                                                                        }, void 0, false, {\n                                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                            lineNumber: 6061,\n                                                                                            columnNumber: 31\n                                                                                        }, this),\n                                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                            className: \"hidden sm:inline\",\n                                                                                            children: \"Preview Design\"\n                                                                                        }, void 0, false, {\n                                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                            lineNumber: 6062,\n                                                                                            columnNumber: 35\n                                                                                        }, this),\n                                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                            className: \"sm:hidden\",\n                                                                                            children: \"Preview\"\n                                                                                        }, void 0, false, {\n                                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                            lineNumber: 6063,\n                                                                                            columnNumber: 35\n                                                                                        }, this)\n                                                                                    ]\n                                                                                }, void 0, true, {\n                                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                    lineNumber: 6052,\n                                                                                    columnNumber: 29\n                                                                                }, this)\n                                                                            ]\n                                                                        }, void 0, true, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 6046,\n                                                                            columnNumber: 31\n                                                                        }, this)\n                                                                    ]\n                                                                }, void 0, true, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 6039,\n                                                                    columnNumber: 29\n                                                                }, this)\n                                                            ]\n                                                        }, void 0, true) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"flex flex-col items-center justify-center py-6 sm:py-8\",\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    className: \"w-6 h-6 sm:w-8 sm:h-8 border-2 border-purple-500 border-t-transparent rounded-full animate-spin mx-auto mb-2 sm:mb-3\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 6070,\n                                                                    columnNumber: 29\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h4\", {\n                                                                    className: \"font-medium text-sm mb-1\",\n                                                                    children: \"Creating...\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 6071,\n                                                                    columnNumber: 29\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                    className: \"text-xs text-gray-500\",\n                                                                    children: \"Generating front cover...\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 6072,\n                                                                    columnNumber: 29\n                                                                }, this)\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 6069,\n                                                            columnNumber: 27\n                                                        }, this)\n                                                    }, displayIndex, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 6009,\n                                                        columnNumber: 47\n                                                    }, this);\n                                                })\n                                            }, void 0, false, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 6002,\n                                                columnNumber: 17\n                                            }, this),\n                                            selectedDraftIndex !== -1 && draftIndexMapping[selectedDraftIndex] !== undefined && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"text-center bg-purple-50 dark:bg-purple-900/20 rounded-lg p-3\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                    className: \"text-sm font-medium text-purple-900 dark:text-purple-100\",\n                                                    children: [\n                                                        \"✓ Design \",\n                                                        draftIndexMapping[selectedDraftIndex] + 1,\n                                                        \" selected\"\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 6083,\n                                                    columnNumber: 21\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 6082,\n                                                columnNumber: 19\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                        lineNumber: 6001,\n                                        columnNumber: 15\n                                    }, this),\n                                    draftCards.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"mt-6 text-center space-y-3\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                                onClick: ()=>handleGenerateFinalFromDraft(selectedDraftIndex),\n                                                disabled: selectedDraftIndex === -1,\n                                                className: \"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white w-full md:w-auto\",\n                                                size: \"lg\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_38__[\"default\"], {\n                                                        className: \"w-5 h-5 mr-2\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 6099,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    \"Generate Complete High-Quality Card\"\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 6093,\n                                                columnNumber: 19\n                                            }, this),\n                                            selectedDraftIndex === -1 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                className: \"text-sm text-gray-500 dark:text-gray-400\",\n                                                children: \"Please select a design variation above to proceed\"\n                                            }, void 0, false, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 6104,\n                                                columnNumber: 21\n                                            }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"space-y-2\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                        className: \"text-sm text-green-600 dark:text-green-400 font-medium\",\n                                                        children: [\n                                                            \"✓ Design \",\n                                                            draftIndexMapping[selectedDraftIndex] + 1,\n                                                            \" selected - ready to generate!\"\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 6109,\n                                                        columnNumber: 23\n                                                    }, this),\n                                                    draftCards.length < 10 && isGenerating && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                        className: \"text-xs text-gray-500 dark:text-gray-400\",\n                                                        children: \"Remaining variations will be cancelled to focus on your selected design\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 6113,\n                                                        columnNumber: 25\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 6108,\n                                                columnNumber: 21\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                        lineNumber: 6092,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                lineNumber: 5999,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                        lineNumber: 5989,\n                        columnNumber: 11\n                    }, this),\n                    (()=>{\n                        console.log(\"\\uD83D\\uDD0D Card Preview Render Check:\", {\n                            hasGeneratedCard: !!generatedCard,\n                            cardId: generatedCard === null || generatedCard === void 0 ? void 0 : generatedCard.id,\n                            isCardCompleted,\n                            generatedCardsLength: generatedCards.length,\n                            selectedCardIndex,\n                            frontCover: (generatedCard === null || generatedCard === void 0 ? void 0 : generatedCard.frontCover) ? \"present\" : \"missing\",\n                            isDraftMode,\n                            isGeneratingFinalCard,\n                            draftCardsLength: draftCards.length\n                        });\n                        return null;\n                    })(),\n                    generatedCard && !isGeneratingFinalCard && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_5__.Card, {\n                        className: \"shadow-lg\",\n                        \"data-card-preview\": true,\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_5__.CardHeader, {\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex items-center justify-between\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_5__.CardTitle, {\n                                                    className: \"flex items-center gap-2\",\n                                                    children: [\n                                                        isCardCompleted && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"w-6 h-6 bg-green-500 rounded-full flex items-center justify-center\",\n                                                            title: generationDuration ? \"Generated in \".concat(formatGenerationTime(generationDuration)) : \"Card completed\",\n                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                className: \"text-white text-sm\",\n                                                                children: \"✓\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 6151,\n                                                                columnNumber: 33\n                                                            }, this)\n                                                        }, void 0, false, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 6147,\n                                                            columnNumber: 31\n                                                        }, this),\n                                                        numberOfCards > 1 ? \"Your Cards (\".concat(generatedCards.length, \" Generated)\") : \"Your Card\"\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 6145,\n                                                    columnNumber: 27\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_5__.CardDescription, {\n                                                    children: isCardCompleted ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"space-y-2\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                className: \"text-green-600 dark:text-green-400 font-medium\",\n                                                                children: \"\\uD83C\\uDF89 Card generation complete! Your card is ready for printing or sharing.\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 6159,\n                                                                columnNumber: 31\n                                                            }, this),\n                                                            generationDuration && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"inline-flex items-center gap-2 bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300 px-3 py-1 rounded-full text-sm font-medium\",\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                        className: \"text-blue-500\",\n                                                                        children: \"⚡\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                        lineNumber: 6164,\n                                                                        columnNumber: 37\n                                                                    }, this),\n                                                                    \"Generated in \",\n                                                                    formatGenerationTime(generationDuration)\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 6163,\n                                                                columnNumber: 35\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 6158,\n                                                        columnNumber: 31\n                                                    }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                                        children: [\n                                                            \"Created \",\n                                                            new Date(generatedCard.createdAt).toLocaleDateString(),\n                                                            numberOfCards > 1 && \" • Viewing Card \".concat(selectedCardIndex + 1, \" of \").concat(generatedCards.length)\n                                                        ]\n                                                    }, void 0, true)\n                                                }, void 0, false, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 6156,\n                                                    columnNumber: 27\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                            lineNumber: 6144,\n                                            columnNumber: 25\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                        lineNumber: 6143,\n                                        columnNumber: 23\n                                    }, this),\n                                    numberOfCards > 1 && generatedCards.length > 1 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"mt-4\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                className: \"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block\",\n                                                children: \"Choose Your Favorite Card\"\n                                            }, void 0, false, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 6183,\n                                                columnNumber: 27\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"grid grid-cols-2 md:grid-cols-4 gap-3\",\n                                                children: generatedCards.map((card, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"relative cursor-pointer rounded-lg border-2 p-2 transition-all \".concat(selectedCardIndex === index ? \"border-blue-500 bg-blue-50 dark:bg-blue-900/20\" : \"border-gray-200 dark:border-gray-700 hover:border-gray-300\"),\n                                                        onClick: ()=>{\n                                                            setSelectedCardIndex(index);\n                                                            setGeneratedCard(card);\n                                                        },\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"aspect-[2/3] relative overflow-hidden rounded\",\n                                                                children: card.frontCover ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                                                    src: card.frontCover,\n                                                                    alt: \"Card \".concat(index + 1, \" Preview\"),\n                                                                    className: \"w-full h-full object-cover\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 6202,\n                                                                    columnNumber: 37\n                                                                }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    className: \"w-full h-full bg-gray-100 dark:bg-gray-800 flex items-center justify-center\",\n                                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                        className: \"w-4 h-4 border-2 border-blue-500 border-t-transparent rounded-full animate-spin\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                        lineNumber: 6209,\n                                                                        columnNumber: 39\n                                                                    }, this)\n                                                                }, void 0, false, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 6208,\n                                                                    columnNumber: 37\n                                                                }, this)\n                                                            }, void 0, false, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 6200,\n                                                                columnNumber: 33\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"text-center mt-1\",\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                        className: \"text-xs font-medium\",\n                                                                        children: [\n                                                                            \"Card \",\n                                                                            index + 1\n                                                                        ]\n                                                                    }, void 0, true, {\n                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                        lineNumber: 6214,\n                                                                        columnNumber: 35\n                                                                    }, this),\n                                                                    selectedCardIndex === index && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                        className: \"text-xs text-blue-600 dark:text-blue-400\",\n                                                                        children: \"Selected\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                        lineNumber: 6216,\n                                                                        columnNumber: 37\n                                                                    }, this)\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 6213,\n                                                                columnNumber: 33\n                                                            }, this)\n                                                        ]\n                                                    }, card.id, true, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 6188,\n                                                        columnNumber: 31\n                                                    }, this))\n                                            }, void 0, false, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 6186,\n                                                columnNumber: 27\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                        lineNumber: 6182,\n                                        columnNumber: 25\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                lineNumber: 6142,\n                                columnNumber: 21\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_5__.CardContent, {\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_CardPreview__WEBPACK_IMPORTED_MODULE_14__[\"default\"], {\n                                    card: generatedCard,\n                                    onCardUpdate: (updatedCard)=>{\n                                        setGeneratedCard(updatedCard);\n                                        // Also update the card in the cards array\n                                        setGeneratedCards((prev)=>{\n                                            const updated = [\n                                                ...prev\n                                            ];\n                                            updated[selectedCardIndex] = updatedCard;\n                                            return updated;\n                                        });\n                                    },\n                                    isFrontBackOnly: isFrontBackOnly,\n                                    onPrint: handlePrintClick,\n                                    paperConfig: paperSizes.find((size)=>size.id === selectedPaperSize) || paperSizes[0],\n                                    sectionLoadingStates: sectionLoadingStates,\n                                    // Pass paper size control props\n                                    selectedPaperSize: selectedPaperSize,\n                                    onPaperSizeChange: setSelectedPaperSize,\n                                    paperSizes: paperSizes,\n                                    isCardCompleted: isCardCompleted,\n                                    // Fast preview functionality\n                                    fastPreviewMode: fastPreviewMode && !isCardCompleted,\n                                    onViewFullCard: ()=>setFastPreviewMode(false)\n                                }, void 0, false, {\n                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                    lineNumber: 6226,\n                                    columnNumber: 23\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                lineNumber: 6225,\n                                columnNumber: 21\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                        lineNumber: 6141,\n                        columnNumber: 19\n                    }, this),\n                    !generatedCard && !isDraftMode && draftCards.length === 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_5__.Card, {\n                        className: \"shadow-lg\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_5__.CardContent, {\n                            className: \"flex flex-col items-center justify-center py-12 text-center\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"w-16 h-16 bg-gradient-to-br from-blue-500 to-cyan-600 rounded-full flex items-center justify-center mb-4\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_38__[\"default\"], {\n                                        className: \"w-8 h-8 text-white\"\n                                    }, void 0, false, {\n                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                        lineNumber: 6259,\n                                        columnNumber: 21\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                    lineNumber: 6258,\n                                    columnNumber: 19\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                    className: \"text-lg font-semibold text-gray-900 dark:text-white mb-2\",\n                                    children: \"Ready to Create?\"\n                                }, void 0, false, {\n                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                    lineNumber: 6261,\n                                    columnNumber: 19\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"text-gray-600 dark:text-gray-400 text-sm max-w-sm\",\n                                    children: \"Describe your perfect card above and we'll bring it to life with creative magic!\"\n                                }, void 0, false, {\n                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                    lineNumber: 6264,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                            lineNumber: 6257,\n                            columnNumber: 17\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                        lineNumber: 6256,\n                        columnNumber: 15\n                    }, this),\n                    !generatedCard && !isDraftMode && draftCards.length === 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"mt-8\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_RecentCardsPreview__WEBPACK_IMPORTED_MODULE_17__[\"default\"], {\n                            maxCards: 6,\n                            onCardSelect: (card)=>{\n                                // When a card is selected from the preview, open the card viewer web app\n                                let cardId = card.id;\n                                // If shareUrl contains a card ID, extract it\n                                if (card.shareUrl && card.shareUrl.includes(\"/card/\")) {\n                                    const urlParts = card.shareUrl.split(\"/card/\");\n                                    if (urlParts.length > 1) {\n                                        cardId = urlParts[1].split(\"?\")[0]; // Remove any query parameters\n                                    }\n                                }\n                                // Navigate to the card viewer web app\n                                window.open(\"/card/\".concat(cardId), \"_blank\");\n                            }\n                        }, void 0, false, {\n                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                            lineNumber: 6274,\n                            columnNumber: 13\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                        lineNumber: 6273,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_dialog__WEBPACK_IMPORTED_MODULE_11__.Dialog, {\n                        open: showTemplateCustomization,\n                        onOpenChange: setShowTemplateCustomization,\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_dialog__WEBPACK_IMPORTED_MODULE_11__.DialogContent, {\n                            className: \"sm:max-w-2xl max-h-[90vh] overflow-y-auto\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_dialog__WEBPACK_IMPORTED_MODULE_11__.DialogHeader, {\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_dialog__WEBPACK_IMPORTED_MODULE_11__.DialogTitle, {\n                                            className: \"flex items-center gap-2\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_47__[\"default\"], {\n                                                    className: \"w-5 h-5 text-purple-600\"\n                                                }, void 0, false, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 6300,\n                                                    columnNumber: 17\n                                                }, this),\n                                                \"Customize Template\"\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                            lineNumber: 6299,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_dialog__WEBPACK_IMPORTED_MODULE_11__.DialogDescription, {\n                                            children: \"Personalize this template with your own changes, message, and reference images before generating.\"\n                                        }, void 0, false, {\n                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                            lineNumber: 6303,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                    lineNumber: 6298,\n                                    columnNumber: 13\n                                }, this),\n                                selectedTemplate && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"space-y-6 py-4\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"space-y-3\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h4\", {\n                                                    className: \"font-medium\",\n                                                    children: \"Selected Template\"\n                                                }, void 0, false, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 6312,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"bg-gray-50 dark:bg-gray-800 rounded-lg p-4\",\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"flex items-start gap-4\",\n                                                        children: [\n                                                            selectedTemplate.frontCover && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                                                src: selectedTemplate.frontCover,\n                                                                alt: \"Template preview\",\n                                                                className: \"w-24 h-36 object-cover rounded-lg shadow-md\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 6316,\n                                                                columnNumber: 25\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"flex-1\",\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                        className: \"text-sm font-medium text-gray-900 dark:text-gray-100 mb-2\",\n                                                                        children: \"Template Details:\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                        lineNumber: 6323,\n                                                                        columnNumber: 25\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                        className: \"space-y-3\",\n                                                                        children: [\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                className: \"text-sm text-gray-600 dark:text-gray-400 bg-white dark:bg-gray-700 p-3 rounded border\",\n                                                                                children: [\n                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                                        className: \"font-medium mb-2\",\n                                                                                        children: \"Original Input:\"\n                                                                                    }, void 0, false, {\n                                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                        lineNumber: 6328,\n                                                                                        columnNumber: 29\n                                                                                    }, this),\n                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                                        children: selectedTemplate.prompt\n                                                                                    }, void 0, false, {\n                                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                        lineNumber: 6329,\n                                                                                        columnNumber: 29\n                                                                                    }, this)\n                                                                                ]\n                                                                            }, void 0, true, {\n                                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                lineNumber: 6327,\n                                                                                columnNumber: 27\n                                                                            }, this),\n                                                                            selectedTemplate.generatedPrompts && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                className: \"text-sm text-gray-600 dark:text-gray-400 bg-blue-50 dark:bg-blue-900/20 p-3 rounded border border-blue-200 dark:border-blue-800\",\n                                                                                children: [\n                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                                        className: \"font-medium mb-2 text-blue-900 dark:text-blue-100\",\n                                                                                        children: \"Generated Image Prompts:\"\n                                                                                    }, void 0, false, {\n                                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                        lineNumber: 6333,\n                                                                                        columnNumber: 31\n                                                                                    }, this),\n                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                        className: \"space-y-2 max-h-32 overflow-y-auto\",\n                                                                                        children: [\n                                                                                            selectedTemplate.generatedPrompts.frontCover && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                                children: [\n                                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                                        className: \"font-semibold text-blue-800 dark:text-blue-200\",\n                                                                                                        children: \"Front Cover:\"\n                                                                                                    }, void 0, false, {\n                                                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                                        lineNumber: 6337,\n                                                                                                        columnNumber: 37\n                                                                                                    }, this),\n                                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                                                        className: \"text-xs mt-1\",\n                                                                                                        children: [\n                                                                                                            selectedTemplate.generatedPrompts.frontCover.substring(0, 150),\n                                                                                                            \"...\"\n                                                                                                        ]\n                                                                                                    }, void 0, true, {\n                                                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                                        lineNumber: 6338,\n                                                                                                        columnNumber: 37\n                                                                                                    }, this)\n                                                                                                ]\n                                                                                            }, void 0, true, {\n                                                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                                lineNumber: 6336,\n                                                                                                columnNumber: 35\n                                                                                            }, this),\n                                                                                            selectedTemplate.generatedPrompts.backCover && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                                children: [\n                                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                                        className: \"font-semibold text-blue-800 dark:text-blue-200\",\n                                                                                                        children: \"Back Cover:\"\n                                                                                                    }, void 0, false, {\n                                                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                                        lineNumber: 6343,\n                                                                                                        columnNumber: 37\n                                                                                                    }, this),\n                                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                                                        className: \"text-xs mt-1\",\n                                                                                                        children: [\n                                                                                                            selectedTemplate.generatedPrompts.backCover.substring(0, 150),\n                                                                                                            \"...\"\n                                                                                                        ]\n                                                                                                    }, void 0, true, {\n                                                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                                        lineNumber: 6344,\n                                                                                                        columnNumber: 37\n                                                                                                    }, this)\n                                                                                                ]\n                                                                                            }, void 0, true, {\n                                                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                                lineNumber: 6342,\n                                                                                                columnNumber: 35\n                                                                                            }, this),\n                                                                                            selectedTemplate.generatedPrompts.leftInterior && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                                children: [\n                                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                                        className: \"font-semibold text-blue-800 dark:text-blue-200\",\n                                                                                                        children: \"Left Interior:\"\n                                                                                                    }, void 0, false, {\n                                                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                                        lineNumber: 6349,\n                                                                                                        columnNumber: 37\n                                                                                                    }, this),\n                                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                                                        className: \"text-xs mt-1\",\n                                                                                                        children: [\n                                                                                                            selectedTemplate.generatedPrompts.leftInterior.substring(0, 150),\n                                                                                                            \"...\"\n                                                                                                        ]\n                                                                                                    }, void 0, true, {\n                                                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                                        lineNumber: 6350,\n                                                                                                        columnNumber: 37\n                                                                                                    }, this)\n                                                                                                ]\n                                                                                            }, void 0, true, {\n                                                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                                lineNumber: 6348,\n                                                                                                columnNumber: 35\n                                                                                            }, this),\n                                                                                            selectedTemplate.generatedPrompts.rightInterior && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                                children: [\n                                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                                        className: \"font-semibold text-blue-800 dark:text-blue-200\",\n                                                                                                        children: \"Right Interior:\"\n                                                                                                    }, void 0, false, {\n                                                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                                        lineNumber: 6355,\n                                                                                                        columnNumber: 37\n                                                                                                    }, this),\n                                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                                                        className: \"text-xs mt-1\",\n                                                                                                        children: [\n                                                                                                            selectedTemplate.generatedPrompts.rightInterior.substring(0, 150),\n                                                                                                            \"...\"\n                                                                                                        ]\n                                                                                                    }, void 0, true, {\n                                                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                                        lineNumber: 6356,\n                                                                                                        columnNumber: 37\n                                                                                                    }, this)\n                                                                                                ]\n                                                                                            }, void 0, true, {\n                                                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                                lineNumber: 6354,\n                                                                                                columnNumber: 35\n                                                                                            }, this)\n                                                                                        ]\n                                                                                    }, void 0, true, {\n                                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                        lineNumber: 6334,\n                                                                                        columnNumber: 31\n                                                                                    }, this)\n                                                                                ]\n                                                                            }, void 0, true, {\n                                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                lineNumber: 6332,\n                                                                                columnNumber: 29\n                                                                            }, this)\n                                                                        ]\n                                                                    }, void 0, true, {\n                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                        lineNumber: 6326,\n                                                                        columnNumber: 25\n                                                                    }, this)\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 6322,\n                                                                columnNumber: 23\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 6314,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                }, void 0, false, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 6313,\n                                                    columnNumber: 19\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                            lineNumber: 6311,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"space-y-3\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                    className: \"text-sm font-medium text-gray-700 dark:text-gray-300\",\n                                                    children: \"Additional Changes to Design (Optional)\"\n                                                }, void 0, false, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 6370,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_textarea__WEBPACK_IMPORTED_MODULE_4__.Textarea, {\n                                                    placeholder: \"e.g., 'Change the message to say from Jordan', 'Make it more romantic', 'Add more flowers', 'Change colors to blue and gold'...\",\n                                                    value: templateCustomizations.promptChanges,\n                                                    onChange: (e)=>setTemplateCustomizations((prev)=>({\n                                                                ...prev,\n                                                                promptChanges: e.target.value\n                                                            })),\n                                                    rows: 3,\n                                                    className: \"resize-none\",\n                                                    style: {\n                                                        fontSize: \"16px\"\n                                                    }\n                                                }, void 0, false, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 6373,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                    className: \"text-xs text-gray-500 dark:text-gray-400\",\n                                                    children: \"Describe any changes you want to make to the template design, style, or content.\"\n                                                }, void 0, false, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 6384,\n                                                    columnNumber: 19\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                            lineNumber: 6369,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"space-y-3\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                    className: \"text-sm font-medium text-gray-700 dark:text-gray-300\",\n                                                    children: \"Custom Message (Optional)\"\n                                                }, void 0, false, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 6391,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_textarea__WEBPACK_IMPORTED_MODULE_4__.Textarea, {\n                                                    placeholder: \"Leave empty to auto-generate a message, or write your own custom message here...\",\n                                                    value: templateCustomizations.messageChanges,\n                                                    onChange: (e)=>setTemplateCustomizations((prev)=>({\n                                                                ...prev,\n                                                                messageChanges: e.target.value\n                                                            })),\n                                                    rows: 4,\n                                                    className: \"resize-none\",\n                                                    style: {\n                                                        fontSize: \"16px\"\n                                                    }\n                                                }, void 0, false, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 6394,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                    className: \"text-xs text-gray-500 dark:text-gray-400\",\n                                                    children: \"This will replace the card's interior message. Leave blank to auto-generate.\"\n                                                }, void 0, false, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 6405,\n                                                    columnNumber: 19\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                            lineNumber: 6390,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"space-y-4\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"flex items-center space-x-3\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                            type: \"checkbox\",\n                                                            id: \"use-reference-image\",\n                                                            checked: templateCustomizations.useReferenceImage,\n                                                            onChange: (e)=>setTemplateCustomizations((prev)=>({\n                                                                        ...prev,\n                                                                        useReferenceImage: e.target.checked,\n                                                                        referenceImageFile: null,\n                                                                        referenceImageUrls: [],\n                                                                        referenceImageTransformation: \"\"\n                                                                    })),\n                                                            className: \"rounded\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 6413,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                            htmlFor: \"use-reference-image\",\n                                                            className: \"text-sm font-medium text-gray-700 dark:text-gray-300\",\n                                                            children: \"Add reference photo to personalize the card\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 6426,\n                                                            columnNumber: 21\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 6412,\n                                                    columnNumber: 19\n                                                }, this),\n                                                templateCustomizations.useReferenceImage && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"space-y-4 pl-6 border-l-2 border-purple-200 dark:border-purple-800\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                            className: \"text-xs text-purple-600 dark:text-purple-400\",\n                                                            children: \"Upload a photo to create cartoon characters that look like the people in your photo!\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 6433,\n                                                            columnNumber: 23\n                                                        }, this),\n                                                        !templateCustomizations.referenceImageFile ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg p-4 text-center\",\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                                    type: \"file\",\n                                                                    accept: \"image/*\",\n                                                                    onChange: (e)=>{\n                                                                        var _e_target_files;\n                                                                        const file = (_e_target_files = e.target.files) === null || _e_target_files === void 0 ? void 0 : _e_target_files[0];\n                                                                        if (file) {\n                                                                            setTemplateCustomizations((prev)=>({\n                                                                                    ...prev,\n                                                                                    referenceImageFile: file\n                                                                                }));\n                                                                        }\n                                                                    },\n                                                                    className: \"hidden\",\n                                                                    id: \"template-reference-upload\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 6440,\n                                                                    columnNumber: 27\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                                    htmlFor: \"template-reference-upload\",\n                                                                    className: \"cursor-pointer\",\n                                                                    children: [\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_51__[\"default\"], {\n                                                                            className: \"w-6 h-6 mx-auto mb-2 text-gray-400\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 6456,\n                                                                            columnNumber: 29\n                                                                        }, this),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                            className: \"text-sm text-gray-600 dark:text-gray-400\",\n                                                                            children: \"Upload reference photo\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 6457,\n                                                                            columnNumber: 29\n                                                                        }, this)\n                                                                    ]\n                                                                }, void 0, true, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 6455,\n                                                                    columnNumber: 27\n                                                                }, this)\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 6439,\n                                                            columnNumber: 25\n                                                        }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"space-y-3\",\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    className: \"flex items-center justify-between p-3 bg-purple-50 dark:bg-purple-900/20 rounded-lg\",\n                                                                    children: [\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                            className: \"flex items-center gap-2\",\n                                                                            children: [\n                                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_52__[\"default\"], {\n                                                                                    className: \"w-4 h-4 text-purple-600\"\n                                                                                }, void 0, false, {\n                                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                    lineNumber: 6466,\n                                                                                    columnNumber: 31\n                                                                                }, this),\n                                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                    className: \"text-sm text-purple-800 dark:text-purple-200\",\n                                                                                    children: templateCustomizations.referenceImageFile.name\n                                                                                }, void 0, false, {\n                                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                    lineNumber: 6467,\n                                                                                    columnNumber: 31\n                                                                                }, this)\n                                                                            ]\n                                                                        }, void 0, true, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 6465,\n                                                                            columnNumber: 29\n                                                                        }, this),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                                                            variant: \"ghost\",\n                                                                            size: \"sm\",\n                                                                            onClick: ()=>setTemplateCustomizations((prev)=>({\n                                                                                        ...prev,\n                                                                                        referenceImageFile: null\n                                                                                    })),\n                                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_46__[\"default\"], {\n                                                                                className: \"w-4 h-4\"\n                                                                            }, void 0, false, {\n                                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                lineNumber: 6479,\n                                                                                columnNumber: 31\n                                                                            }, this)\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 6471,\n                                                                            columnNumber: 29\n                                                                        }, this)\n                                                                    ]\n                                                                }, void 0, true, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 6464,\n                                                                    columnNumber: 27\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    className: \"space-y-2\",\n                                                                    children: [\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                                            className: \"text-sm font-medium text-gray-700 dark:text-gray-300\",\n                                                                            children: \"How to use the reference photo\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 6485,\n                                                                            columnNumber: 29\n                                                                        }, this),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_textarea__WEBPACK_IMPORTED_MODULE_4__.Textarea, {\n                                                                            placeholder: \"e.g., 'Use this photo to create cartoon versions of me and my girlfriend on the front cover', 'Replace the people in the template with us', 'Make us look like the characters in the template style'...\",\n                                                                            value: templateCustomizations.referenceImageTransformation,\n                                                                            onChange: (e)=>setTemplateCustomizations((prev)=>({\n                                                                                        ...prev,\n                                                                                        referenceImageTransformation: e.target.value\n                                                                                    })),\n                                                                            rows: 3,\n                                                                            className: \"resize-none\",\n                                                                            style: {\n                                                                                fontSize: \"16px\"\n                                                                            }\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 6488,\n                                                                            columnNumber: 29\n                                                                        }, this),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                            className: \"text-xs text-gray-500 dark:text-gray-400\",\n                                                                            children: \"Describe how you want your photo to be incorporated into the template design.\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 6499,\n                                                                            columnNumber: 29\n                                                                        }, this)\n                                                                    ]\n                                                                }, void 0, true, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 6484,\n                                                                    columnNumber: 27\n                                                                }, this)\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 6463,\n                                                            columnNumber: 25\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 6432,\n                                                    columnNumber: 21\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                            lineNumber: 6411,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex gap-3 pt-4 border-t\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                                    variant: \"outline\",\n                                                    onClick: ()=>{\n                                                        setShowTemplateCustomization(false);\n                                                        setSelectedTemplate(null);\n                                                        setShowTemplateGallery(true); // Go back to template gallery\n                                                    },\n                                                    className: \"flex-1\",\n                                                    children: \"Back to Templates\"\n                                                }, void 0, false, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 6511,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                                    onClick: handleApplyTemplateWithCustomizations,\n                                                    className: \"flex-1 bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_47__[\"default\"], {\n                                                            className: \"w-4 h-4 mr-2\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 6526,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        \"Apply & Generate Card\"\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 6522,\n                                                    columnNumber: 19\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                            lineNumber: 6510,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                    lineNumber: 6309,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                            lineNumber: 6297,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                        lineNumber: 6296,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_dialog__WEBPACK_IMPORTED_MODULE_11__.Dialog, {\n                        open: showTemplateGallery,\n                        onOpenChange: setShowTemplateGallery,\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_dialog__WEBPACK_IMPORTED_MODULE_11__.DialogContent, {\n                            className: \"w-[95vw] max-w-7xl h-[85vh] sm:max-h-[95vh] overflow-hidden p-0 flex flex-col\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50 dark:from-gray-900 dark:via-purple-900/20 dark:to-blue-900/20 p-3 sm:p-6 flex-shrink-0\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_dialog__WEBPACK_IMPORTED_MODULE_11__.DialogHeader, {\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex items-center justify-between mb-2 sm:mb-4\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"flex items-center gap-2 sm:gap-3\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"w-8 h-8 sm:w-12 sm:h-12 bg-gradient-to-br from-purple-500 to-pink-600 rounded-xl flex items-center justify-center shadow-lg\",\n                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_35__[\"default\"], {\n                                                                className: \"w-4 h-4 sm:w-7 sm:h-7 text-white\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 6543,\n                                                                columnNumber: 23\n                                                            }, this)\n                                                        }, void 0, false, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 6542,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_dialog__WEBPACK_IMPORTED_MODULE_11__.DialogTitle, {\n                                                                    className: \"text-lg sm:text-2xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent\",\n                                                                    children: \"Template Gallery\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 6546,\n                                                                    columnNumber: 23\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_dialog__WEBPACK_IMPORTED_MODULE_11__.DialogDescription, {\n                                                                    className: \"text-xs sm:text-sm text-gray-600 dark:text-gray-400\",\n                                                                    children: \"Find the perfect starting point for your card\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 6549,\n                                                                    columnNumber: 23\n                                                                }, this)\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 6545,\n                                                            columnNumber: 21\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 6541,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                                    variant: \"outline\",\n                                                    size: \"sm\",\n                                                    onClick: ()=>setShowPrompts(!showPrompts),\n                                                    className: \"gap-1 sm:gap-2 bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm h-8 sm:h-9 text-xs sm:text-sm\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_53__[\"default\"], {\n                                                            className: \"w-3 h-3 sm:w-4 sm:h-4\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 6562,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            className: \"hidden sm:inline\",\n                                                            children: [\n                                                                showPrompts ? \"Hide\" : \"Show\",\n                                                                \" Prompts\"\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 6563,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            className: \"sm:hidden\",\n                                                            children: showPrompts ? \"Hide\" : \"Show\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 6564,\n                                                            columnNumber: 21\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 6556,\n                                                    columnNumber: 19\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                            lineNumber: 6540,\n                                            columnNumber: 17\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                        lineNumber: 6539,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"bg-white dark:bg-gray-800 rounded-xl p-2 sm:p-6 shadow-sm space-y-2 sm:space-y-4\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"flex items-center justify-between gap-2\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"flex items-center gap-2\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"w-6 h-6 sm:w-10 sm:h-10 bg-gradient-to-br from-purple-100 to-pink-100 dark:from-purple-900 dark:to-pink-900 rounded-lg flex items-center justify-center\",\n                                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_38__[\"default\"], {\n                                                                    className: \"w-3 h-3 sm:w-5 sm:h-5 text-purple-600 dark:text-purple-400\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 6574,\n                                                                    columnNumber: 23\n                                                                }, this)\n                                                            }, void 0, false, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 6573,\n                                                                columnNumber: 21\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                                                        className: \"text-sm sm:text-lg font-semibold text-gray-900 dark:text-gray-100\",\n                                                                        children: \"Search\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                        lineNumber: 6577,\n                                                                        columnNumber: 23\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                        className: \"text-xs text-gray-600 dark:text-gray-400 hidden sm:block\",\n                                                                        children: \"Find templates by keywords or visual style\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                        lineNumber: 6578,\n                                                                        columnNumber: 23\n                                                                    }, this)\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 6576,\n                                                                columnNumber: 21\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 6572,\n                                                        columnNumber: 19\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_select__WEBPACK_IMPORTED_MODULE_8__.Select, {\n                                                        value: searchMode,\n                                                        onValueChange: (value)=>setSearchMode(value),\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_select__WEBPACK_IMPORTED_MODULE_8__.SelectTrigger, {\n                                                                className: \"w-20 sm:w-36 h-7 sm:h-10 border text-xs sm:text-sm\",\n                                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_select__WEBPACK_IMPORTED_MODULE_8__.SelectValue, {}, void 0, false, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 6585,\n                                                                    columnNumber: 23\n                                                                }, this)\n                                                            }, void 0, false, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 6584,\n                                                                columnNumber: 21\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_select__WEBPACK_IMPORTED_MODULE_8__.SelectContent, {\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_select__WEBPACK_IMPORTED_MODULE_8__.SelectItem, {\n                                                                        value: \"text\",\n                                                                        className: \"cursor-pointer\",\n                                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                            className: \"flex items-center gap-2\",\n                                                                            children: [\n                                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                    className: \"text-base\",\n                                                                                    children: \"\\uD83D\\uDCDD\"\n                                                                                }, void 0, false, {\n                                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                    lineNumber: 6590,\n                                                                                    columnNumber: 27\n                                                                                }, this),\n                                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                    className: \"font-medium\",\n                                                                                    children: \"Text Search\"\n                                                                                }, void 0, false, {\n                                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                    lineNumber: 6591,\n                                                                                    columnNumber: 27\n                                                                                }, this)\n                                                                            ]\n                                                                        }, void 0, true, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 6589,\n                                                                            columnNumber: 25\n                                                                        }, this)\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                        lineNumber: 6588,\n                                                                        columnNumber: 23\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_select__WEBPACK_IMPORTED_MODULE_8__.SelectItem, {\n                                                                        value: \"ai\",\n                                                                        className: \"cursor-pointer\",\n                                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                            className: \"flex items-center gap-2\",\n                                                                            children: [\n                                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                    className: \"text-base\",\n                                                                                    children: \"\\uD83C\\uDFA8\"\n                                                                                }, void 0, false, {\n                                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                    lineNumber: 6596,\n                                                                                    columnNumber: 27\n                                                                                }, this),\n                                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                    className: \"font-medium\",\n                                                                                    children: \"AI Vision\"\n                                                                                }, void 0, false, {\n                                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                    lineNumber: 6597,\n                                                                                    columnNumber: 27\n                                                                                }, this)\n                                                                            ]\n                                                                        }, void 0, true, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 6595,\n                                                                            columnNumber: 25\n                                                                        }, this)\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                        lineNumber: 6594,\n                                                                        columnNumber: 23\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_select__WEBPACK_IMPORTED_MODULE_8__.SelectItem, {\n                                                                        value: \"hybrid\",\n                                                                        className: \"cursor-pointer\",\n                                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                            className: \"flex items-center gap-2\",\n                                                                            children: [\n                                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                    className: \"text-base\",\n                                                                                    children: \"⚡\"\n                                                                                }, void 0, false, {\n                                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                    lineNumber: 6602,\n                                                                                    columnNumber: 27\n                                                                                }, this),\n                                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                    className: \"font-medium\",\n                                                                                    children: \"Hybrid\"\n                                                                                }, void 0, false, {\n                                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                    lineNumber: 6603,\n                                                                                    columnNumber: 27\n                                                                                }, this)\n                                                                            ]\n                                                                        }, void 0, true, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 6601,\n                                                                            columnNumber: 25\n                                                                        }, this)\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                        lineNumber: 6600,\n                                                                        columnNumber: 23\n                                                                    }, this)\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 6587,\n                                                                columnNumber: 21\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 6583,\n                                                        columnNumber: 19\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 6571,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"bg-gradient-to-r from-purple-50 to-pink-50 dark:from-purple-900/20 dark:to-pink-900/20 rounded-lg p-1 sm:p-3 hidden sm:block\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"text-xs sm:text-sm font-medium text-purple-900 dark:text-purple-100 mb-1\",\n                                                        children: [\n                                                            searchMode === \"text\" && \"\\uD83D\\uDCDD Text Search Mode\",\n                                                            searchMode === \"ai\" && \"\\uD83C\\uDFA8 AI Vision Mode\",\n                                                            searchMode === \"hybrid\" && \"⚡ Hybrid Search Mode\"\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 6612,\n                                                        columnNumber: 19\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"text-xs text-purple-700 dark:text-purple-300\",\n                                                        children: [\n                                                            searchMode === \"text\" && \"Fast keyword search through card descriptions + AI-generated visual prompts (instant results)\",\n                                                            searchMode === \"ai\" && \"AI analyzes card images for visual style, colors, and themes (10-15 seconds)\",\n                                                            searchMode === \"hybrid\" && \"Combines fast text search with AI visual analysis for best results\"\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 6617,\n                                                        columnNumber: 19\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 6611,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"flex gap-1 sm:gap-3\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"flex-1 relative\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_input__WEBPACK_IMPORTED_MODULE_3__.Input, {\n                                                                placeholder: \"Search templates...\",\n                                                                value: templateSearchQuery,\n                                                                onChange: (e)=>setTemplateSearchQuery(e.target.value),\n                                                                onKeyDown: (e)=>{\n                                                                    if (e.key === \"Enter\" && !e.shiftKey) {\n                                                                        e.preventDefault();\n                                                                        handleTemplateSearch();\n                                                                    }\n                                                                },\n                                                                disabled: isSearchingTemplates,\n                                                                className: \"h-8 sm:h-12 pl-8 sm:pl-12 pr-3 border text-sm sm:text-base\",\n                                                                style: {\n                                                                    fontSize: \"16px\"\n                                                                }\n                                                            }, void 0, false, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 6626,\n                                                                columnNumber: 21\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"absolute left-2 sm:left-3 top-1/2 -translate-y-1/2\",\n                                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    className: \"w-4 h-4 sm:w-6 sm:h-6 bg-gradient-to-br from-purple-100 to-pink-100 dark:from-purple-800 dark:to-pink-800 rounded-full flex items-center justify-center\",\n                                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                        className: \"text-xs\",\n                                                                        children: \"\\uD83D\\uDD0D\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                        lineNumber: 6642,\n                                                                        columnNumber: 25\n                                                                    }, this)\n                                                                }, void 0, false, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 6641,\n                                                                    columnNumber: 23\n                                                                }, this)\n                                                            }, void 0, false, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 6640,\n                                                                columnNumber: 21\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 6625,\n                                                        columnNumber: 19\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                                        onClick: handleTemplateSearch,\n                                                        disabled: isSearchingTemplates || !templateSearchQuery.trim(),\n                                                        className: \"h-8 sm:h-12 px-3 sm:px-6 gap-1 font-medium text-xs sm:text-base \".concat(searchMode === \"text\" ? \"bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700\" : searchMode === \"ai\" ? \"bg-gradient-to-r from-purple-500 to-purple-600 hover:from-purple-600 hover:to-purple-700\" : \"bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500 hover:from-blue-600 hover:via-purple-600 hover:to-pink-600\", \" text-white shadow-md hover:shadow-lg transition-all\"),\n                                                        children: isSearchingTemplates ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    className: \"w-3 h-3 sm:w-4 sm:h-4 border-2 border-white border-t-transparent rounded-full animate-spin\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 6659,\n                                                                    columnNumber: 25\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                    className: \"hidden sm:inline\",\n                                                                    children: searchMode === \"hybrid\" ? \"Analyzing...\" : \"Searching...\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 6660,\n                                                                    columnNumber: 25\n                                                                }, this)\n                                                            ]\n                                                        }, void 0, true) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                                            children: [\n                                                                searchMode === \"text\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                    className: \"text-xs sm:text-lg\",\n                                                                    children: \"\\uD83D\\uDCDD\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 6664,\n                                                                    columnNumber: 51\n                                                                }, this),\n                                                                searchMode === \"ai\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                    className: \"text-xs sm:text-lg\",\n                                                                    children: \"\\uD83C\\uDFA8\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 6665,\n                                                                    columnNumber: 49\n                                                                }, this),\n                                                                searchMode === \"hybrid\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                    className: \"text-xs sm:text-lg\",\n                                                                    children: \"⚡\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 6666,\n                                                                    columnNumber: 53\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                    className: \"hidden sm:inline\",\n                                                                    children: \"Search\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 6667,\n                                                                    columnNumber: 25\n                                                                }, this)\n                                                            ]\n                                                        }, void 0, true)\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 6646,\n                                                        columnNumber: 19\n                                                    }, this),\n                                                    (templateSearchQuery || aiFilteredCards.length > 0 || textFilteredCards.length > 0) && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                                        variant: \"outline\",\n                                                        onClick: clearTemplateSearch,\n                                                        className: \"h-8 sm:h-12 px-2 sm:px-4 gap-1 border\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_46__[\"default\"], {\n                                                                className: \"w-3 h-3 sm:w-4 sm:h-4\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 6677,\n                                                                columnNumber: 23\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                className: \"hidden sm:inline\",\n                                                                children: \"Clear\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 6678,\n                                                                columnNumber: 23\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 6672,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 6624,\n                                                columnNumber: 17\n                                            }, this),\n                                            aiFilteredCards.length > 0 && (searchMode === \"ai\" || searchMode === \"hybrid\") && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"flex items-center gap-1 sm:gap-2 text-xs sm:text-sm text-purple-600 dark:text-purple-400\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_38__[\"default\"], {\n                                                        className: \"w-3 h-3 sm:w-4 sm:h-4\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 6686,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        children: [\n                                                            searchMode === \"hybrid\" ? \"Hybrid\" : \"AI\",\n                                                            \" found \",\n                                                            aiFilteredCards.length,\n                                                            \" matches\",\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                className: \"hidden sm:inline\",\n                                                                children: [\n                                                                    ' for \"',\n                                                                    templateSearchQuery,\n                                                                    '\"'\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 6689,\n                                                                columnNumber: 23\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 6687,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 6685,\n                                                columnNumber: 19\n                                            }, this),\n                                            textFilteredCards.length > 0 && searchMode === \"text\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"flex items-center gap-1 sm:gap-2 text-xs sm:text-sm text-blue-600 dark:text-blue-400\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        children: \"\\uD83D\\uDCDD\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 6696,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        children: [\n                                                            \"Found \",\n                                                            textFilteredCards.length,\n                                                            \" matches\",\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                className: \"hidden sm:inline\",\n                                                                children: [\n                                                                    ' for \"',\n                                                                    templateSearchQuery,\n                                                                    '\"'\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 6697,\n                                                                columnNumber: 67\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 6697,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 6695,\n                                                columnNumber: 19\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                        lineNumber: 6570,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex-1 min-h-0 overflow-auto bg-gray-50 dark:bg-gray-900 rounded-xl p-2 sm:p-4\",\n                                        children: aiFilteredCards.length > 0 && (searchMode === \"ai\" || searchMode === \"hybrid\") || textFilteredCards.length > 0 && searchMode === \"text\" ? // Show filtered results\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"space-y-3 sm:space-y-4\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"flex items-center gap-2 sm:gap-3\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"w-6 h-6 sm:w-8 sm:h-8 bg-gradient-to-br from-purple-100 to-pink-100 dark:from-purple-900 dark:to-pink-900 rounded-lg flex items-center justify-center\",\n                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                className: \"text-sm sm:text-base\",\n                                                                children: [\n                                                                    searchMode === \"text\" && \"\\uD83D\\uDCDD\",\n                                                                    searchMode === \"ai\" && \"\\uD83C\\uDFAF\",\n                                                                    searchMode === \"hybrid\" && \"⚡\"\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 6708,\n                                                                columnNumber: 23\n                                                            }, this)\n                                                        }, void 0, false, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 6707,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                                                    className: \"text-sm sm:text-base font-semibold text-gray-900 dark:text-gray-100\",\n                                                                    children: [\n                                                                        searchMode === \"text\" && \"Text Search Results\",\n                                                                        searchMode === \"ai\" && \"AI Vision Results\",\n                                                                        searchMode === \"hybrid\" && \"Hybrid Search Results\"\n                                                                    ]\n                                                                }, void 0, true, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 6715,\n                                                                    columnNumber: 23\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                    className: \"text-xs text-gray-600 dark:text-gray-400\",\n                                                                    children: [\n                                                                        searchMode === \"text\" && \"Ranked by keyword relevance\",\n                                                                        searchMode === \"ai\" && \"Ranked by visual relevance\",\n                                                                        searchMode === \"hybrid\" && \"Ranked by combined relevance\"\n                                                                    ]\n                                                                }, void 0, true, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 6720,\n                                                                    columnNumber: 23\n                                                                }, this)\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 6714,\n                                                            columnNumber: 21\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 6706,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"flex overflow-x-scroll gap-3 sm:gap-4 pb-3 -mx-2 px-2 min-w-full\",\n                                                    style: {\n                                                        scrollBehavior: \"smooth\",\n                                                        WebkitOverflowScrolling: \"touch\",\n                                                        scrollbarWidth: \"thin\",\n                                                        scrollSnapType: \"x mandatory\",\n                                                        touchAction: \"pan-x\",\n                                                        overflowX: \"scroll\",\n                                                        overflowY: \"hidden\"\n                                                    },\n                                                    children: (searchMode === \"text\" ? textFilteredCards : aiFilteredCards).map((card, index)=>{\n                                                        var _card_prompt;\n                                                        const frontImage = card.frontCover || card.backCover || card.leftPage || card.rightPage;\n                                                        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"flex-shrink-0 w-48 sm:w-64 touch-pan-x\",\n                                                            style: {\n                                                                scrollSnapAlign: \"start\"\n                                                            },\n                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"\".concat(searchMode === \"text\" ? \"bg-gradient-to-br from-blue-900 to-indigo-900 border-blue-400\" : searchMode === \"ai\" ? \"bg-gradient-to-br from-purple-900 to-blue-900 border-purple-400\" : \"bg-gradient-to-br from-blue-900 via-purple-900 to-indigo-900 border-gradient-to-r border-blue-400\", \" rounded-xl p-2 shadow-inner space-y-2 h-full border-2 relative flex flex-col\"),\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                        className: \"absolute top-2 left-2 z-10 flex gap-1\",\n                                                                        children: [\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_badge__WEBPACK_IMPORTED_MODULE_6__.Badge, {\n                                                                                className: \"\".concat(searchMode === \"text\" ? \"bg-blue-600\" : \"bg-purple-600\", \" text-white text-xs rounded-full shadow-md\"),\n                                                                                children: [\n                                                                                    \"#\",\n                                                                                    index + 1\n                                                                                ]\n                                                                            }, void 0, true, {\n                                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                lineNumber: 6757,\n                                                                                columnNumber: 31\n                                                                            }, this),\n                                                                            (card.aiScore || card.textScore) && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_badge__WEBPACK_IMPORTED_MODULE_6__.Badge, {\n                                                                                className: \"bg-green-600 text-white text-xs rounded-full shadow-md\",\n                                                                                children: [\n                                                                                    searchMode === \"text\" ? card.textScore : card.aiScore,\n                                                                                    searchMode === \"ai\" || searchMode === \"hybrid\" ? \"%\" : \"\"\n                                                                                ]\n                                                                            }, void 0, true, {\n                                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                lineNumber: 6763,\n                                                                                columnNumber: 33\n                                                                            }, this)\n                                                                        ]\n                                                                    }, void 0, true, {\n                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                        lineNumber: 6756,\n                                                                        columnNumber: 29\n                                                                    }, this),\n                                                                    frontImage ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                                                        src: frontImage,\n                                                                        alt: \"Template: \".concat(card.prompt || \"Untitled\"),\n                                                                        className: \"rounded-lg shadow-lg w-full h-auto object-cover select-none pointer-events-none\",\n                                                                        loading: \"lazy\",\n                                                                        style: {\n                                                                            userSelect: \"none\"\n                                                                        }\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                        lineNumber: 6771,\n                                                                        columnNumber: 31\n                                                                    }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                        className: \"w-full h-32 sm:h-48 bg-gradient-to-br from-gray-100 to-gray-200 rounded-lg flex items-center justify-center\",\n                                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                            className: \"text-center text-gray-500\",\n                                                                            children: [\n                                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_52__[\"default\"], {\n                                                                                    className: \"w-6 h-6 sm:w-8 sm:h-8 mx-auto mb-2\"\n                                                                                }, void 0, false, {\n                                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                    lineNumber: 6783,\n                                                                                    columnNumber: 35\n                                                                                }, this),\n                                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                                    className: \"text-xs sm:text-sm\",\n                                                                                    children: \"No preview\"\n                                                                                }, void 0, false, {\n                                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                    lineNumber: 6784,\n                                                                                    columnNumber: 35\n                                                                                }, this)\n                                                                            ]\n                                                                        }, void 0, true, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 6782,\n                                                                            columnNumber: 33\n                                                                        }, this)\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                        lineNumber: 6781,\n                                                                        columnNumber: 31\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                        className: \"text-xs \".concat(searchMode === \"text\" ? \"text-blue-100 bg-blue-800/50\" : \"text-purple-100 bg-purple-800/50\", \" px-2 py-1 rounded space-y-1 flex-1 flex flex-col\"),\n                                                                        children: [\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                className: \"line-clamp-2\",\n                                                                                children: [\n                                                                                    ((_card_prompt = card.prompt) === null || _card_prompt === void 0 ? void 0 : _card_prompt.substring(0, 50)) || \"Untitled\",\n                                                                                    card.prompt && card.prompt.length > 50 && \"...\"\n                                                                                ]\n                                                                            }, void 0, true, {\n                                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                lineNumber: 6792,\n                                                                                columnNumber: 31\n                                                                            }, this),\n                                                                            showPrompts && card.generatedPrompts && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                className: \"text-xs opacity-80 border-t border-white/20 pt-1 space-y-1 hidden sm:block\",\n                                                                                children: [\n                                                                                    card.generatedPrompts.frontCover && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                        children: [\n                                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                                className: \"font-semibold\",\n                                                                                                children: \"Front:\"\n                                                                                            }, void 0, false, {\n                                                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                                lineNumber: 6802,\n                                                                                                columnNumber: 39\n                                                                                            }, this),\n                                                                                            \" \",\n                                                                                            card.generatedPrompts.frontCover.substring(0, 60),\n                                                                                            card.generatedPrompts.frontCover.length > 60 && \"...\"\n                                                                                        ]\n                                                                                    }, void 0, true, {\n                                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                        lineNumber: 6801,\n                                                                                        columnNumber: 37\n                                                                                    }, this),\n                                                                                    card.generatedPrompts.backCover && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                        children: [\n                                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                                className: \"font-semibold\",\n                                                                                                children: \"Back:\"\n                                                                                            }, void 0, false, {\n                                                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                                lineNumber: 6808,\n                                                                                                columnNumber: 39\n                                                                                            }, this),\n                                                                                            \" \",\n                                                                                            card.generatedPrompts.backCover.substring(0, 60),\n                                                                                            card.generatedPrompts.backCover.length > 60 && \"...\"\n                                                                                        ]\n                                                                                    }, void 0, true, {\n                                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                        lineNumber: 6807,\n                                                                                        columnNumber: 37\n                                                                                    }, this)\n                                                                                ]\n                                                                            }, void 0, true, {\n                                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                lineNumber: 6799,\n                                                                                columnNumber: 33\n                                                                            }, this),\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                className: \"flex flex-col gap-1 pt-2 mt-auto\",\n                                                                                children: [\n                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                                                                        size: \"sm\",\n                                                                                        variant: \"outline\",\n                                                                                        className: \"w-full h-6 sm:h-7 text-xs bg-white/10 border-white/20 text-white hover:bg-white/20\",\n                                                                                        onClick: (e)=>{\n                                                                                            e.stopPropagation();\n                                                                                            // Convert GalleryCard to GeneratedCard format for applyTemplate\n                                                                                            const template = {\n                                                                                                id: card.id,\n                                                                                                prompt: card.prompt || \"\",\n                                                                                                frontCover: card.frontCover || \"\",\n                                                                                                backCover: card.backCover || \"\",\n                                                                                                leftPage: card.leftPage || \"\",\n                                                                                                rightPage: card.rightPage || \"\",\n                                                                                                createdAt: new Date(card.createdAt * 1000),\n                                                                                                shareUrl: card.shareUrl,\n                                                                                                generatedPrompts: card.generatedPrompts\n                                                                                            };\n                                                                                            applyTemplate(template);\n                                                                                        },\n                                                                                        children: [\n                                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_47__[\"default\"], {\n                                                                                                className: \"w-2 h-2 sm:w-3 sm:h-3 mr-1\"\n                                                                                            }, void 0, false, {\n                                                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                                lineNumber: 6838,\n                                                                                                columnNumber: 35\n                                                                                            }, this),\n                                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                                className: \"hidden sm:inline\",\n                                                                                                children: \"Customize\"\n                                                                                            }, void 0, false, {\n                                                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                                lineNumber: 6839,\n                                                                                                columnNumber: 35\n                                                                                            }, this),\n                                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                                className: \"sm:hidden\",\n                                                                                                children: \"Custom\"\n                                                                                            }, void 0, false, {\n                                                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                                lineNumber: 6840,\n                                                                                                columnNumber: 35\n                                                                                            }, this)\n                                                                                        ]\n                                                                                    }, void 0, true, {\n                                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                        lineNumber: 6817,\n                                                                                        columnNumber: 33\n                                                                                    }, this),\n                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                                                                        size: \"sm\",\n                                                                                        variant: \"outline\",\n                                                                                        className: \"w-full h-6 sm:h-7 text-xs bg-blue-600/80 border-blue-500/50 text-white hover:bg-blue-600\",\n                                                                                        onClick: (e)=>{\n                                                                                            e.stopPropagation();\n                                                                                            // Convert GalleryCard to GeneratedCard format for preview\n                                                                                            const template = {\n                                                                                                id: card.id,\n                                                                                                prompt: card.prompt || \"\",\n                                                                                                frontCover: card.frontCover || \"\",\n                                                                                                backCover: card.backCover || \"\",\n                                                                                                leftPage: card.leftPage || \"\",\n                                                                                                rightPage: card.rightPage || \"\",\n                                                                                                createdAt: new Date(card.createdAt * 1000),\n                                                                                                shareUrl: card.shareUrl,\n                                                                                                generatedPrompts: card.generatedPrompts\n                                                                                            };\n                                                                                            handleTemplateSelect(template);\n                                                                                        },\n                                                                                        children: [\n                                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_35__[\"default\"], {\n                                                                                                className: \"w-2 h-2 sm:w-3 sm:h-3 mr-1\"\n                                                                                            }, void 0, false, {\n                                                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                                lineNumber: 6863,\n                                                                                                columnNumber: 35\n                                                                                            }, this),\n                                                                                            \"Select\"\n                                                                                        ]\n                                                                                    }, void 0, true, {\n                                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                        lineNumber: 6842,\n                                                                                        columnNumber: 33\n                                                                                    }, this)\n                                                                                ]\n                                                                            }, void 0, true, {\n                                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                lineNumber: 6816,\n                                                                                columnNumber: 31\n                                                                            }, this)\n                                                                        ]\n                                                                    }, void 0, true, {\n                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                        lineNumber: 6789,\n                                                                        columnNumber: 29\n                                                                    }, this)\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 6748,\n                                                                columnNumber: 27\n                                                            }, this)\n                                                        }, card.id, false, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 6743,\n                                                            columnNumber: 25\n                                                        }, this);\n                                                    })\n                                                }, void 0, false, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 6727,\n                                                    columnNumber: 19\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                            lineNumber: 6705,\n                                            columnNumber: 17\n                                        }, this) : // Show all templates\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"space-y-3 sm:space-y-4\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"flex items-center gap-2 sm:gap-3\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"w-6 h-6 sm:w-8 sm:h-8 bg-gradient-to-br from-blue-100 to-cyan-100 dark:from-blue-900 dark:to-cyan-900 rounded-lg flex items-center justify-center\",\n                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                className: \"text-sm sm:text-base\",\n                                                                children: \"\\uD83D\\uDCDA\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 6879,\n                                                                columnNumber: 23\n                                                            }, this)\n                                                        }, void 0, false, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 6878,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                                                    className: \"text-sm sm:text-base font-semibold text-gray-900 dark:text-gray-100\",\n                                                                    children: \"All Templates\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 6882,\n                                                                    columnNumber: 23\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                    className: \"text-xs text-gray-600 dark:text-gray-400\",\n                                                                    children: \"Browse our entire collection\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 6883,\n                                                                    columnNumber: 23\n                                                                }, this)\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 6881,\n                                                            columnNumber: 21\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 6877,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"flex overflow-x-scroll gap-3 sm:gap-4 pb-3 -mx-2 px-2 min-w-full\",\n                                                    style: {\n                                                        scrollBehavior: \"smooth\",\n                                                        WebkitOverflowScrolling: \"touch\",\n                                                        scrollbarWidth: \"thin\",\n                                                        scrollSnapType: \"x mandatory\",\n                                                        touchAction: \"pan-x\",\n                                                        overflowX: \"scroll\",\n                                                        overflowY: \"hidden\"\n                                                    },\n                                                    children: _s1(()=>{\n                                                        _s1();\n                                                        const { getCachedCards, hasCache, totalCards } = (0,_hooks_useCardCache__WEBPACK_IMPORTED_MODULE_20__.useCardCache)();\n                                                        const allCards = hasCache ? getCachedCards(1, Math.max(totalCards, 1000)) : [];\n                                                        return allCards.map((card)=>{\n                                                            var _card_prompt;\n                                                            const frontImage = card.frontCover || card.backCover || card.leftPage || card.rightPage;\n                                                            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"flex-shrink-0 w-48 sm:w-64 touch-pan-x\",\n                                                                style: {\n                                                                    scrollSnapAlign: \"start\"\n                                                                },\n                                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    className: \"bg-gray-900 rounded-xl p-2 shadow-inner space-y-2 h-full flex flex-col\",\n                                                                    children: [\n                                                                        frontImage ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                                                            src: frontImage,\n                                                                            alt: \"Template: \".concat(card.prompt || \"Untitled\"),\n                                                                            className: \"rounded-lg shadow-lg w-full h-auto object-cover select-none pointer-events-none\",\n                                                                            loading: \"lazy\",\n                                                                            style: {\n                                                                                userSelect: \"none\"\n                                                                            }\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 6913,\n                                                                            columnNumber: 35\n                                                                        }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                            className: \"w-full h-32 sm:h-48 bg-gradient-to-br from-gray-100 to-gray-200 rounded-lg flex items-center justify-center\",\n                                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                className: \"text-center text-gray-500\",\n                                                                                children: [\n                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_52__[\"default\"], {\n                                                                                        className: \"w-6 h-6 sm:w-8 sm:h-8 mx-auto mb-2\"\n                                                                                    }, void 0, false, {\n                                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                        lineNumber: 6925,\n                                                                                        columnNumber: 39\n                                                                                    }, this),\n                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                                        className: \"text-xs sm:text-sm\",\n                                                                                        children: \"No preview\"\n                                                                                    }, void 0, false, {\n                                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                        lineNumber: 6926,\n                                                                                        columnNumber: 39\n                                                                                    }, this)\n                                                                                ]\n                                                                            }, void 0, true, {\n                                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                lineNumber: 6924,\n                                                                                columnNumber: 37\n                                                                            }, this)\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 6923,\n                                                                            columnNumber: 35\n                                                                        }, this),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                            className: \"text-xs text-gray-100 bg-gray-800/50 px-2 py-1 rounded space-y-1 flex-1 flex flex-col\",\n                                                                            children: [\n                                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                    className: \"line-clamp-2\",\n                                                                                    children: [\n                                                                                        ((_card_prompt = card.prompt) === null || _card_prompt === void 0 ? void 0 : _card_prompt.substring(0, 50)) || \"Untitled\",\n                                                                                        card.prompt && card.prompt.length > 50 && \"...\"\n                                                                                    ]\n                                                                                }, void 0, true, {\n                                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                    lineNumber: 6932,\n                                                                                    columnNumber: 35\n                                                                                }, this),\n                                                                                showPrompts && card.generatedPrompts && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                    className: \"text-xs opacity-80 border-t border-white/20 pt-1 space-y-1 hidden sm:block\",\n                                                                                    children: [\n                                                                                        card.generatedPrompts.frontCover && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                            children: [\n                                                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                                    className: \"font-semibold\",\n                                                                                                    children: \"Front:\"\n                                                                                                }, void 0, false, {\n                                                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                                    lineNumber: 6942,\n                                                                                                    columnNumber: 43\n                                                                                                }, this),\n                                                                                                \" \",\n                                                                                                card.generatedPrompts.frontCover.substring(0, 60),\n                                                                                                card.generatedPrompts.frontCover.length > 60 && \"...\"\n                                                                                            ]\n                                                                                        }, void 0, true, {\n                                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                            lineNumber: 6941,\n                                                                                            columnNumber: 41\n                                                                                        }, this),\n                                                                                        card.generatedPrompts.backCover && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                            children: [\n                                                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                                    className: \"font-semibold\",\n                                                                                                    children: \"Back:\"\n                                                                                                }, void 0, false, {\n                                                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                                    lineNumber: 6948,\n                                                                                                    columnNumber: 43\n                                                                                                }, this),\n                                                                                                \" \",\n                                                                                                card.generatedPrompts.backCover.substring(0, 60),\n                                                                                                card.generatedPrompts.backCover.length > 60 && \"...\"\n                                                                                            ]\n                                                                                        }, void 0, true, {\n                                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                            lineNumber: 6947,\n                                                                                            columnNumber: 41\n                                                                                        }, this)\n                                                                                    ]\n                                                                                }, void 0, true, {\n                                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                    lineNumber: 6939,\n                                                                                    columnNumber: 37\n                                                                                }, this),\n                                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                    className: \"flex flex-col gap-1 pt-2 mt-auto\",\n                                                                                    children: [\n                                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                                                                            size: \"sm\",\n                                                                                            variant: \"outline\",\n                                                                                            className: \"w-full h-6 sm:h-7 text-xs bg-white/10 border-white/20 text-white hover:bg-white/20\",\n                                                                                            onClick: (e)=>{\n                                                                                                e.stopPropagation();\n                                                                                                // Convert GalleryCard to GeneratedCard format for applyTemplate\n                                                                                                const template = {\n                                                                                                    id: card.id,\n                                                                                                    prompt: card.prompt || \"\",\n                                                                                                    frontCover: card.frontCover || \"\",\n                                                                                                    backCover: card.backCover || \"\",\n                                                                                                    leftPage: card.leftPage || \"\",\n                                                                                                    rightPage: card.rightPage || \"\",\n                                                                                                    createdAt: new Date(card.createdAt * 1000),\n                                                                                                    shareUrl: card.shareUrl,\n                                                                                                    generatedPrompts: card.generatedPrompts\n                                                                                                };\n                                                                                                applyTemplate(template);\n                                                                                            },\n                                                                                            children: [\n                                                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_47__[\"default\"], {\n                                                                                                    className: \"w-2 h-2 sm:w-3 sm:h-3 mr-1\"\n                                                                                                }, void 0, false, {\n                                                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                                    lineNumber: 6978,\n                                                                                                    columnNumber: 39\n                                                                                                }, this),\n                                                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                                    className: \"hidden sm:inline\",\n                                                                                                    children: \"Customize\"\n                                                                                                }, void 0, false, {\n                                                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                                    lineNumber: 6979,\n                                                                                                    columnNumber: 39\n                                                                                                }, this),\n                                                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                                    className: \"sm:hidden\",\n                                                                                                    children: \"Custom\"\n                                                                                                }, void 0, false, {\n                                                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                                    lineNumber: 6980,\n                                                                                                    columnNumber: 39\n                                                                                                }, this)\n                                                                                            ]\n                                                                                        }, void 0, true, {\n                                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                            lineNumber: 6957,\n                                                                                            columnNumber: 37\n                                                                                        }, this),\n                                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                                                                            size: \"sm\",\n                                                                                            variant: \"outline\",\n                                                                                            className: \"w-full h-6 sm:h-7 text-xs bg-blue-600/80 border-blue-500/50 text-white hover:bg-blue-600\",\n                                                                                            onClick: (e)=>{\n                                                                                                e.stopPropagation();\n                                                                                                // Convert GalleryCard to GeneratedCard format for preview\n                                                                                                const template = {\n                                                                                                    id: card.id,\n                                                                                                    prompt: card.prompt || \"\",\n                                                                                                    frontCover: card.frontCover || \"\",\n                                                                                                    backCover: card.backCover || \"\",\n                                                                                                    leftPage: card.leftPage || \"\",\n                                                                                                    rightPage: card.rightPage || \"\",\n                                                                                                    createdAt: new Date(card.createdAt * 1000),\n                                                                                                    shareUrl: card.shareUrl,\n                                                                                                    generatedPrompts: card.generatedPrompts\n                                                                                                };\n                                                                                                handleTemplateSelect(template);\n                                                                                            },\n                                                                                            children: [\n                                                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_35__[\"default\"], {\n                                                                                                    className: \"w-2 h-2 sm:w-3 sm:h-3 mr-1\"\n                                                                                                }, void 0, false, {\n                                                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                                    lineNumber: 7003,\n                                                                                                    columnNumber: 39\n                                                                                                }, this),\n                                                                                                \"Select\"\n                                                                                            ]\n                                                                                        }, void 0, true, {\n                                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                            lineNumber: 6982,\n                                                                                            columnNumber: 37\n                                                                                        }, this)\n                                                                                    ]\n                                                                                }, void 0, true, {\n                                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                    lineNumber: 6956,\n                                                                                    columnNumber: 35\n                                                                                }, this)\n                                                                            ]\n                                                                        }, void 0, true, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 6931,\n                                                                            columnNumber: 33\n                                                                        }, this)\n                                                                    ]\n                                                                }, void 0, true, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 6911,\n                                                                    columnNumber: 31\n                                                                }, this)\n                                                            }, card.id, false, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 6906,\n                                                                columnNumber: 29\n                                                            }, this);\n                                                        });\n                                                    }, \"tBPKCcMpqyXH39aswRyE/f0AIOU=\", false, function() {\n                                                        return [\n                                                            _hooks_useCardCache__WEBPACK_IMPORTED_MODULE_20__.useCardCache\n                                                        ];\n                                                    })()\n                                                }, void 0, false, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 6886,\n                                                    columnNumber: 21\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                            lineNumber: 6876,\n                                            columnNumber: 17\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                        lineNumber: 6702,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"bg-gray-100 dark:bg-gray-800 p-3 sm:p-4 rounded-b-xl -m-3 sm:-m-6 mt-4 flex-shrink-0\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3 sm:gap-0\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"flex items-center gap-2\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"w-5 h-5 sm:w-6 sm:h-6 bg-gradient-to-br from-purple-100 to-pink-100 dark:from-purple-900 dark:to-pink-900 rounded-full flex items-center justify-center\",\n                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                className: \"text-xs\",\n                                                                children: \"\\uD83D\\uDCA1\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 7022,\n                                                                columnNumber: 21\n                                                            }, this)\n                                                        }, void 0, false, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 7021,\n                                                            columnNumber: 19\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                            className: \"text-xs sm:text-sm text-gray-700 dark:text-gray-300\",\n                                                            children: aiFilteredCards.length > 0 ? \"AI has ranked these templates by relevance to your search\" : \"Use 'Customize' to personalize templates or 'Select' to use as-is\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 7024,\n                                                            columnNumber: 19\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 7020,\n                                                    columnNumber: 17\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                                    variant: \"outline\",\n                                                    onClick: ()=>{\n                                                        setShowTemplateGallery(false);\n                                                        clearTemplateSearch();\n                                                    },\n                                                    className: \"gap-1 sm:gap-2 border-2 h-8 sm:h-9 text-xs sm:text-sm w-full sm:w-auto\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_46__[\"default\"], {\n                                                            className: \"w-3 h-3 sm:w-4 sm:h-4\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 7039,\n                                                            columnNumber: 19\n                                                        }, this),\n                                                        \"Close\"\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 7031,\n                                                    columnNumber: 17\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                            lineNumber: 7019,\n                                            columnNumber: 15\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                        lineNumber: 7018,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                lineNumber: 6538,\n                                columnNumber: 13\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                            lineNumber: 6537,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                        lineNumber: 6536,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_dialog__WEBPACK_IMPORTED_MODULE_11__.Dialog, {\n                        open: previewingDraftIndex !== -1,\n                        onOpenChange: (open)=>!open && setPreviewingDraftIndex(-1),\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_dialog__WEBPACK_IMPORTED_MODULE_11__.DialogContent, {\n                            className: \"sm:max-w-4xl max-h-[90vh] overflow-auto\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_dialog__WEBPACK_IMPORTED_MODULE_11__.DialogHeader, {\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_dialog__WEBPACK_IMPORTED_MODULE_11__.DialogTitle, {\n                                            className: \"flex items-center gap-2\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_35__[\"default\"], {\n                                                    className: \"w-5 h-5 text-purple-600\"\n                                                }, void 0, false, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 7053,\n                                                    columnNumber: 17\n                                                }, this),\n                                                \"Front Cover Design \",\n                                                previewingDraftIndex !== -1 ? draftIndexMapping[previewingDraftIndex] + 1 : 1,\n                                                \" - Preview\"\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                            lineNumber: 7052,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_dialog__WEBPACK_IMPORTED_MODULE_11__.DialogDescription, {\n                                            children: \"Low quality preview of the front cover design. Select this design to generate the complete high-quality card.\"\n                                        }, void 0, false, {\n                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                            lineNumber: 7056,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                    lineNumber: 7051,\n                                    columnNumber: 13\n                                }, this),\n                                previewingDraftIndex !== -1 && draftCards[previewingDraftIndex] && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"space-y-6\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"bg-gray-50 dark:bg-gray-800 rounded-lg p-4\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_CardPreview__WEBPACK_IMPORTED_MODULE_14__[\"default\"], {\n                                                card: draftCards[previewingDraftIndex],\n                                                onCardUpdate: ()=>{},\n                                                isFrontBackOnly: true,\n                                                onPrint: ()=>{},\n                                                paperConfig: paperSizes.find((size)=>size.id === selectedPaperSize) || paperSizes[0],\n                                                sectionLoadingStates: {\n                                                    frontCover: \"completed\",\n                                                    backCover: \"idle\",\n                                                    leftInterior: \"idle\",\n                                                    rightInterior: \"idle\"\n                                                },\n                                                selectedPaperSize: selectedPaperSize,\n                                                onPaperSizeChange: ()=>{},\n                                                paperSizes: paperSizes,\n                                                isCardCompleted: false,\n                                                fastPreviewMode: false,\n                                                onViewFullCard: ()=>{}\n                                            }, void 0, false, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 7065,\n                                                columnNumber: 19\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                            lineNumber: 7064,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex gap-3 justify-center pt-4 border-t\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                                    variant: \"outline\",\n                                                    onClick: ()=>setPreviewingDraftIndex(-1),\n                                                    children: \"Close Preview\"\n                                                }, void 0, false, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 7088,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                                    onClick: ()=>{\n                                                        setSelectedDraftIndex(previewingDraftIndex);\n                                                        setPreviewingDraftIndex(-1);\n                                                    },\n                                                    className: \"bg-purple-600 hover:bg-purple-700 text-white\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_50__[\"default\"], {\n                                                            className: \"w-4 h-4 mr-2\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 7101,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        \"Select This Design\"\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 7094,\n                                                    columnNumber: 19\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                            lineNumber: 7087,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                    lineNumber: 7062,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                            lineNumber: 7050,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                        lineNumber: 7049,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_dialog__WEBPACK_IMPORTED_MODULE_11__.Dialog, {\n                        open: showPrintConfirmation,\n                        onOpenChange: setShowPrintConfirmation,\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_dialog__WEBPACK_IMPORTED_MODULE_11__.DialogContent, {\n                            className: \"sm:max-w-lg\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_dialog__WEBPACK_IMPORTED_MODULE_11__.DialogHeader, {\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_dialog__WEBPACK_IMPORTED_MODULE_11__.DialogTitle, {\n                                            className: \"flex items-center gap-2\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_54__[\"default\"], {\n                                                    className: \"w-5 h-5 text-amber-500\"\n                                                }, void 0, false, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 7115,\n                                                    columnNumber: 17\n                                                }, this),\n                                                \"Get Your Card\"\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                            lineNumber: 7114,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_dialog__WEBPACK_IMPORTED_MODULE_11__.DialogDescription, {\n                                            children: \"How would you like to receive your greeting card?\"\n                                        }, void 0, false, {\n                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                            lineNumber: 7118,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                    lineNumber: 7113,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"space-y-4\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"space-y-3\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                    className: \"text-sm font-medium text-gray-700 dark:text-gray-300\",\n                                                    children: \"Choose delivery method:\"\n                                                }, void 0, false, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 7126,\n                                                    columnNumber: 17\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"p-4 rounded-lg border-2 cursor-pointer transition-all \".concat(printOption === \"physical\" ? \"border-blue-500 bg-blue-50 dark:bg-blue-900/20\" : \"border-gray-200 dark:border-gray-700 hover:border-gray-300\"),\n                                                    onClick: ()=>setPrintOption(\"physical\"),\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"flex items-start gap-3\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"flex items-center\",\n                                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                                    type: \"radio\",\n                                                                    checked: printOption === \"physical\",\n                                                                    onChange: ()=>setPrintOption(\"physical\"),\n                                                                    className: \"w-4 h-4 text-blue-600\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 7141,\n                                                                    columnNumber: 23\n                                                                }, this)\n                                                            }, void 0, false, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 7140,\n                                                                columnNumber: 21\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"flex-1\",\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                        className: \"flex items-center gap-2 mb-1\",\n                                                                        children: [\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_55__[\"default\"], {\n                                                                                className: \"w-5 h-5 text-blue-600\"\n                                                                            }, void 0, false, {\n                                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                lineNumber: 7150,\n                                                                                columnNumber: 25\n                                                                            }, this),\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h4\", {\n                                                                                className: \"font-medium text-blue-900 dark:text-blue-100\",\n                                                                                children: \"Physical Print & Pickup\"\n                                                                            }, void 0, false, {\n                                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                lineNumber: 7151,\n                                                                                columnNumber: 25\n                                                                            }, this)\n                                                                        ]\n                                                                    }, void 0, true, {\n                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                        lineNumber: 7149,\n                                                                        columnNumber: 23\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                        className: \"text-sm text-blue-800 dark:text-blue-200\",\n                                                                        children: \"Print your card at our location. Ready for pickup in just a few minutes.\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                        lineNumber: 7155,\n                                                                        columnNumber: 23\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                        className: \"mt-2 space-y-1\",\n                                                                        children: [\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                className: \"flex items-center gap-2 text-xs text-gray-600 dark:text-gray-400\",\n                                                                                children: [\n                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                        className: \"w-1.5 h-1.5 bg-green-500 rounded-full\"\n                                                                                    }, void 0, false, {\n                                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                        lineNumber: 7160,\n                                                                                        columnNumber: 27\n                                                                                    }, this),\n                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                        children: \"High quality color printing\"\n                                                                                    }, void 0, false, {\n                                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                        lineNumber: 7161,\n                                                                                        columnNumber: 27\n                                                                                    }, this)\n                                                                                ]\n                                                                            }, void 0, true, {\n                                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                lineNumber: 7159,\n                                                                                columnNumber: 25\n                                                                            }, this),\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                className: \"flex items-center gap-2 text-xs text-gray-600 dark:text-gray-400\",\n                                                                                children: [\n                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                        className: \"w-1.5 h-1.5 bg-green-500 rounded-full\"\n                                                                                    }, void 0, false, {\n                                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                        lineNumber: 7164,\n                                                                                        columnNumber: 27\n                                                                                    }, this),\n                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                        children: isFrontBackOnly ? \"Front and back only\" : \"Full greeting card with interior pages\"\n                                                                                    }, void 0, false, {\n                                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                        lineNumber: 7165,\n                                                                                        columnNumber: 27\n                                                                                    }, this)\n                                                                                ]\n                                                                            }, void 0, true, {\n                                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                lineNumber: 7163,\n                                                                                columnNumber: 25\n                                                                            }, this),\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                className: \"flex items-center gap-2 text-xs text-gray-600 dark:text-gray-400\",\n                                                                                children: [\n                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                        className: \"w-1.5 h-1.5 bg-green-500 rounded-full\"\n                                                                                    }, void 0, false, {\n                                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                        lineNumber: 7170,\n                                                                                        columnNumber: 27\n                                                                                    }, this),\n                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                        children: \"Ready for pickup shortly\"\n                                                                                    }, void 0, false, {\n                                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                        lineNumber: 7171,\n                                                                                        columnNumber: 27\n                                                                                    }, this)\n                                                                                ]\n                                                                            }, void 0, true, {\n                                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                lineNumber: 7169,\n                                                                                columnNumber: 25\n                                                                            }, this)\n                                                                        ]\n                                                                    }, void 0, true, {\n                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                        lineNumber: 7158,\n                                                                        columnNumber: 23\n                                                                    }, this)\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 7148,\n                                                                columnNumber: 21\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 7139,\n                                                        columnNumber: 19\n                                                    }, this)\n                                                }, void 0, false, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 7131,\n                                                    columnNumber: 17\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"p-4 rounded-lg border-2 cursor-pointer transition-all \".concat(printOption === \"email\" ? \"border-green-500 bg-green-50 dark:bg-green-900/20\" : \"border-gray-200 dark:border-gray-700 hover:border-gray-300\"),\n                                                    onClick: ()=>setPrintOption(\"email\"),\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"flex items-start gap-3\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"flex items-center\",\n                                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                                    type: \"radio\",\n                                                                    checked: printOption === \"email\",\n                                                                    onChange: ()=>setPrintOption(\"email\"),\n                                                                    className: \"w-4 h-4 text-green-600\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 7189,\n                                                                    columnNumber: 23\n                                                                }, this)\n                                                            }, void 0, false, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 7188,\n                                                                columnNumber: 21\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"flex-1\",\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                        className: \"flex items-center gap-2 mb-1\",\n                                                                        children: [\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_34__[\"default\"], {\n                                                                                className: \"w-5 h-5 text-green-600\"\n                                                                            }, void 0, false, {\n                                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                lineNumber: 7198,\n                                                                                columnNumber: 25\n                                                                            }, this),\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h4\", {\n                                                                                className: \"font-medium text-green-900 dark:text-green-100\",\n                                                                                children: \"Email PDF\"\n                                                                            }, void 0, false, {\n                                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                lineNumber: 7199,\n                                                                                columnNumber: 25\n                                                                            }, this)\n                                                                        ]\n                                                                    }, void 0, true, {\n                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                        lineNumber: 7197,\n                                                                        columnNumber: 23\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                        className: \"text-sm text-green-800 dark:text-green-200\",\n                                                                        children: [\n                                                                            \"Receive a high-quality PDF of your card at \",\n                                                                            userEmail,\n                                                                            \". Print at home or any print shop.\"\n                                                                        ]\n                                                                    }, void 0, true, {\n                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                        lineNumber: 7203,\n                                                                        columnNumber: 23\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                        className: \"mt-2 space-y-1\",\n                                                                        children: [\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                className: \"flex items-center gap-2 text-xs text-gray-600 dark:text-gray-400\",\n                                                                                children: [\n                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                        className: \"w-1.5 h-1.5 bg-green-500 rounded-full\"\n                                                                                    }, void 0, false, {\n                                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                        lineNumber: 7208,\n                                                                                        columnNumber: 27\n                                                                                    }, this),\n                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                        children: \"Instant delivery to your inbox\"\n                                                                                    }, void 0, false, {\n                                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                        lineNumber: 7209,\n                                                                                        columnNumber: 27\n                                                                                    }, this)\n                                                                                ]\n                                                                            }, void 0, true, {\n                                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                lineNumber: 7207,\n                                                                                columnNumber: 25\n                                                                            }, this),\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                className: \"flex items-center gap-2 text-xs text-gray-600 dark:text-gray-400\",\n                                                                                children: [\n                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                        className: \"w-1.5 h-1.5 bg-green-500 rounded-full\"\n                                                                                    }, void 0, false, {\n                                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                        lineNumber: 7212,\n                                                                                        columnNumber: 27\n                                                                                    }, this),\n                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                        children: \"Print anywhere, anytime\"\n                                                                                    }, void 0, false, {\n                                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                        lineNumber: 7213,\n                                                                                        columnNumber: 27\n                                                                                    }, this)\n                                                                                ]\n                                                                            }, void 0, true, {\n                                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                lineNumber: 7211,\n                                                                                columnNumber: 25\n                                                                            }, this),\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                className: \"flex items-center gap-2 text-xs text-gray-600 dark:text-gray-400\",\n                                                                                children: [\n                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                        className: \"w-1.5 h-1.5 bg-green-500 rounded-full\"\n                                                                                    }, void 0, false, {\n                                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                        lineNumber: 7216,\n                                                                                        columnNumber: 27\n                                                                                    }, this),\n                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                        children: \"High-resolution PDF optimized for printing\"\n                                                                                    }, void 0, false, {\n                                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                        lineNumber: 7217,\n                                                                                        columnNumber: 27\n                                                                                    }, this)\n                                                                                ]\n                                                                            }, void 0, true, {\n                                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                lineNumber: 7215,\n                                                                                columnNumber: 25\n                                                                            }, this)\n                                                                        ]\n                                                                    }, void 0, true, {\n                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                        lineNumber: 7206,\n                                                                        columnNumber: 23\n                                                                    }, this)\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 7196,\n                                                                columnNumber: 21\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 7187,\n                                                        columnNumber: 19\n                                                    }, this)\n                                                }, void 0, false, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 7179,\n                                                    columnNumber: 17\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                            lineNumber: 7125,\n                                            columnNumber: 15\n                                        }, this),\n                                        printOption === \"physical\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"bg-amber-50 dark:bg-amber-900/20 p-3 rounded-lg\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                className: \"text-sm text-amber-800 dark:text-amber-200\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                                        children: \"Please confirm:\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 7228,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    \" You are ready to pick up your printed card from our location.\"\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 7227,\n                                                columnNumber: 19\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                            lineNumber: 7226,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                    lineNumber: 7123,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex gap-3 mt-6\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                            variant: \"outline\",\n                                            onClick: ()=>setShowPrintConfirmation(false),\n                                            className: \"flex-1\",\n                                            children: \"Cancel\"\n                                        }, void 0, false, {\n                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                            lineNumber: 7235,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                            onClick: handleConfirmPrint,\n                                            className: \"flex-1 \".concat(printOption === \"email\" ? \"bg-green-600 hover:bg-green-700\" : \"bg-blue-600 hover:bg-blue-700\"),\n                                            children: printOption === \"email\" ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_34__[\"default\"], {\n                                                        className: \"w-4 h-4 mr-2\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 7252,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    \"Send PDF to Email\"\n                                                ]\n                                            }, void 0, true) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_55__[\"default\"], {\n                                                        className: \"w-4 h-4 mr-2\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 7257,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    \"Print Card\"\n                                                ]\n                                            }, void 0, true)\n                                        }, void 0, false, {\n                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                            lineNumber: 7242,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                    lineNumber: 7234,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                            lineNumber: 7112,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                        lineNumber: 7111,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                lineNumber: 4979,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n        lineNumber: 4896,\n        columnNumber: 5\n    }, this);\n}\n_s(CardStudioPage, \"bnP9+PHAIfYGyd5imCmuD8tLcOA=\", false, function() {\n    return [\n        _hooks_useCardCache__WEBPACK_IMPORTED_MODULE_20__.useCardCache\n    ];\n});\n_c = CardStudioPage;\nvar _c;\n$RefreshReg$(_c, \"CardStudioPage\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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eEI5Q2tFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL2FwcC9wYWdlLnRzeD83NjAzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIGNsaWVudFwiO1xuXG5pbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUsIHVzZUVmZmVjdCB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgQnV0dG9uIH0gZnJvbSBcIkAvY29tcG9uZW50cy91aS9idXR0b25cIjtcbmltcG9ydCB7IElucHV0IH0gZnJvbSBcIkAvY29tcG9uZW50cy91aS9pbnB1dFwiO1xuaW1wb3J0IHsgVGV4dGFyZWEgfSBmcm9tIFwiQC9jb21wb25lbnRzL3VpL3RleHRhcmVhXCI7XG5pbXBvcnQgeyBDYXJkLCBDYXJkQ29udGVudCwgQ2FyZERlc2NyaXB0aW9uLCBDYXJkSGVhZGVyLCBDYXJkVGl0bGUgfSBmcm9tIFwiQC9jb21wb25lbnRzL3VpL2NhcmRcIjtcbmltcG9ydCB7IEJhZGdlIH0gZnJvbSBcIkAvY29tcG9uZW50cy91aS9iYWRnZVwiO1xuaW1wb3J0IHsgU2VwYXJhdG9yIH0gZnJvbSBcIkAvY29tcG9uZW50cy91aS9zZXBhcmF0b3JcIjtcbmltcG9ydCB7IFNlbGVjdCwgU2VsZWN0Q29udGVudCwgU2VsZWN0SXRlbSwgU2VsZWN0VHJpZ2dlciwgU2VsZWN0VmFsdWUgfSBmcm9tIFwiQC9jb21wb25lbnRzL3VpL3NlbGVjdFwiO1xuaW1wb3J0IHsgQ29sbGFwc2libGUsIENvbGxhcHNpYmxlQ29udGVudCwgQ29sbGFwc2libGVUcmlnZ2VyIH0gZnJvbSBcIkAvY29tcG9uZW50cy91aS9jb2xsYXBzaWJsZVwiO1xuaW1wb3J0IHsgUG9wb3ZlciwgUG9wb3ZlckNvbnRlbnQsIFBvcG92ZXJUcmlnZ2VyIH0gZnJvbSBcIkAvY29tcG9uZW50cy91aS9wb3BvdmVyXCI7XG5pbXBvcnQgeyBEaWFsb2csIERpYWxvZ0NvbnRlbnQsIERpYWxvZ0Rlc2NyaXB0aW9uLCBEaWFsb2dIZWFkZXIsIERpYWxvZ1RpdGxlIH0gZnJvbSBcIkAvY29tcG9uZW50cy91aS9kaWFsb2dcIjtcbmltcG9ydCB7IEFycm93TGVmdCwgU3BhcmtsZXMsIFByaW50ZXIsIEhlYXJ0LCBHaWZ0LCBHcmFkdWF0aW9uQ2FwLCBDYWxlbmRhciwgV2FuZDIsIE1lc3NhZ2VTcXVhcmVQbHVzLCBDaGV2cm9uRG93biwgU2V0dGluZ3MsIFphcCwgUGFsZXR0ZSwgRWRpdDMsIFVwbG9hZCwgWCwgQ2FrZSwgVGh1bWJzVXAsIFBhcnR5UG9wcGVyLCBUcm9waHksIFRyZWVQaW5lLCBTdGV0aG9zY29wZSwgQ2xvdWRSYWluLCBCYWJ5LCBDaHVyY2gsIEhvbWUsIE1lc3NhZ2VDaXJjbGUsIEV5ZSwgV3JlbmNoLCBDbG9jaywgVW5kbzIsIFJlZG8yLCBSZWZyZXNoQ3csIFNldHRpbmdzMiwgQWxlcnRUcmlhbmdsZSwgQ2hlY2tDaXJjbGUsIENpcmNsZSwgSW1hZ2UgYXMgSW1hZ2VJY29uLCBNZXNzYWdlU3F1YXJlIH0gZnJvbSBcImx1Y2lkZS1yZWFjdFwiO1xuaW1wb3J0IExpbmsgZnJvbSBcIm5leHQvbGlua1wiO1xuaW1wb3J0IHsgdG9hc3QgfSBmcm9tIFwic29ubmVyXCI7XG5pbXBvcnQgQ2FyZFByZXZpZXcgZnJvbSBcIkAvY29tcG9uZW50cy9DYXJkUHJldmlld1wiO1xuaW1wb3J0ICogYXMgUVJDb2RlIGZyb20gJ3FyY29kZSc7XG5pbXBvcnQgeyB2NCBhcyB1dWlkdjQgfSBmcm9tICd1dWlkJztcbmltcG9ydCB7IE1vZGVUb2dnbGUgfSBmcm9tIFwiQC9jb21wb25lbnRzL21vZGUtdG9nZ2xlXCI7XG5pbXBvcnQgUmVjZW50Q2FyZHNQcmV2aWV3IGZyb20gXCJAL2NvbXBvbmVudHMvUmVjZW50Q2FyZHNQcmV2aWV3XCI7XG5pbXBvcnQgRmFzdEhvcml6b250YWxHYWxsZXJ5IGZyb20gXCJAL2NvbXBvbmVudHMvRmFzdEhvcml6b250YWxHYWxsZXJ5XCI7XG5pbXBvcnQgQ3JpdGljYWxSZXNvdXJjZVByZWxvYWRlciBmcm9tIFwiQC9jb21wb25lbnRzL0NyaXRpY2FsUmVzb3VyY2VQcmVsb2FkZXJcIjtcbmltcG9ydCBFYXJseUNhcmRQcmVsb2FkZXIgZnJvbSBcIkAvY29tcG9uZW50cy9FYXJseUNhcmRQcmVsb2FkZXJcIjtcbmltcG9ydCB7IHVzZUNhcmRDYWNoZSB9IGZyb20gXCJAL2hvb2tzL3VzZUNhcmRDYWNoZVwiO1xuXG4vLyBDb25maWd1cmF0aW9uIGZvciB0aGUgYmFja2VuZCBBUEkgZW5kcG9pbnRcbmNvbnN0IEJBQ0tFTkRfQVBJX0JBU0VfVVJMID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQkFDS0VORF9BUElfVVJMIHx8ICdodHRwczovL3ZpYmVjYXJkaW5nLmNvbSc7XG5cbmludGVyZmFjZSBHZW5lcmF0ZWRDYXJkIHtcbiAgaWQ6IHN0cmluZztcbiAgcHJvbXB0OiBzdHJpbmc7XG4gIGZyb250Q292ZXI6IHN0cmluZzsgICAgICAvLyBQb3J0cmFpdCBpbWFnZSAtIHdoYXQgcmVjaXBpZW50cyBzZWUgZmlyc3RcbiAgYmFja0NvdmVyOiBzdHJpbmc7ICAgICAgIC8vIFBvcnRyYWl0IGltYWdlIC0gYmFjayBvZiB0aGUgY2FyZFxuICBsZWZ0UGFnZTogc3RyaW5nOyAgICAgICAgLy8gUG9ydHJhaXQgaW1hZ2UgLSBsZWZ0IGludGVyaW9yIChkZWNvcmF0aXZlIGFydClcbiAgcmlnaHRQYWdlOiBzdHJpbmc7ICAgICAgIC8vIFBvcnRyYWl0IGltYWdlIC0gcmlnaHQgaW50ZXJpb3IgKG1lc3NhZ2UgYXJlYSlcbiAgY3JlYXRlZEF0OiBEYXRlO1xuICBzaGFyZVVybD86IHN0cmluZzsgICAgICAgLy8gU2hhcmVhYmxlIFVSTCBmb3IgdGhlIGNhcmRcbiAgLy8gU3RvcmUgdGhlIGFjdHVhbCBwcm9tcHRzIHNlbnQgdG8gaW1hZ2UgZ2VuZXJhdGlvblxuICBnZW5lcmF0ZWRQcm9tcHRzPzoge1xuICAgIGZyb250Q292ZXI/OiBzdHJpbmc7XG4gICAgYmFja0NvdmVyPzogc3RyaW5nO1xuICAgIGxlZnRJbnRlcmlvcj86IHN0cmluZztcbiAgICByaWdodEludGVyaW9yPzogc3RyaW5nO1xuICB9O1xuICAvLyBUaHVtYm5haWwgVVJMcyBmb3IgZmFzdGVyIGxvYWRpbmdcbiAgdGh1bWJuYWlscz86IHtcbiAgICBmcm9udENvdmVyPzogc3RyaW5nO1xuICAgIGJhY2tDb3Zlcj86IHN0cmluZztcbiAgICBsZWZ0UGFnZT86IHN0cmluZztcbiAgICByaWdodFBhZ2U/OiBzdHJpbmc7XG4gIH07XG4gIC8vIFN0eWxlIGluZm9ybWF0aW9uIGZvciBzbWFydCBzdHlsZSBtb2RlXG4gIHN0eWxlSW5mbz86IHtcbiAgICBzdHlsZU5hbWU/OiBzdHJpbmc7XG4gICAgc3R5bGVMYWJlbD86IHN0cmluZztcbiAgfTtcbn1cblxuLy8gQ29tbW9uIGNhcmQgdHlwZXMgd2l0aCBjdXN0b20gb3B0aW9uXG5jb25zdCBjYXJkVHlwZXMgPSBbXG4gIHsgaWQ6IFwiY3VzdG9tXCIsIGxhYmVsOiBcIkN1c3RvbVwiLCBkZXNjcmlwdGlvbjogXCJDcmVhdGUgeW91ciBvd24gdW5pcXVlIGNhcmQgdHlwZVwiLCBpY29uOiBXcmVuY2ggfSxcbiAgeyBpZDogXCJiaXJ0aGRheVwiLCBsYWJlbDogXCJCaXJ0aGRheVwiLCBkZXNjcmlwdGlvbjogXCJDZWxlYnJhdGUgYW5vdGhlciB5ZWFyIG9mIGxpZmVcIiwgaWNvbjogQ2FrZSB9LFxuICB7IGlkOiBcInRoYW5rLXlvdVwiLCBsYWJlbDogXCJUaGFuayBZb3VcIiwgZGVzY3JpcHRpb246IFwiRXhwcmVzcyBncmF0aXR1ZGUgYW5kIGFwcHJlY2lhdGlvblwiLCBpY29uOiBUaHVtYnNVcCB9LFxuICB7IGlkOiBcImFubml2ZXJzYXJ5XCIsIGxhYmVsOiBcIkFubml2ZXJzYXJ5XCIsIGRlc2NyaXB0aW9uOiBcIkNvbW1lbW9yYXRlIHNwZWNpYWwgbWlsZXN0b25lc1wiLCBpY29uOiBIZWFydCB9LFxuICB7IGlkOiBcImNvbmdyYXR1bGF0aW9uc1wiLCBsYWJlbDogXCJDb25ncmF0dWxhdGlvbnNcIiwgZGVzY3JpcHRpb246IFwiQ2VsZWJyYXRlIGFjaGlldmVtZW50cyBhbmQgc3VjY2Vzc1wiLCBpY29uOiBUcm9waHkgfSxcbiAgeyBpZDogXCJob2xpZGF5XCIsIGxhYmVsOiBcIkhvbGlkYXlcIiwgZGVzY3JpcHRpb246IFwiU2Vhc29uYWwgYW5kIGhvbGlkYXkgZ3JlZXRpbmdzXCIsIGljb246IFRyZWVQaW5lIH0sXG4gIHsgaWQ6IFwiZ2V0LXdlbGxcIiwgbGFiZWw6IFwiR2V0IFdlbGwgU29vblwiLCBkZXNjcmlwdGlvbjogXCJTZW5kIGhlYWxpbmcgd2lzaGVzIGFuZCBzdXBwb3J0XCIsIGljb246IFN0ZXRob3Njb3BlIH0sXG4gIHsgaWQ6IFwic3ltcGF0aHlcIiwgbGFiZWw6IFwiU3ltcGF0aHlcIiwgZGVzY3JpcHRpb246IFwiT2ZmZXIgY29tZm9ydCBkdXJpbmcgZGlmZmljdWx0IHRpbWVzXCIsIGljb246IENsb3VkUmFpbiB9LFxuICB7IGlkOiBcImxvdmVcIiwgbGFiZWw6IFwiTG92ZSAmIFJvbWFuY2VcIiwgZGVzY3JpcHRpb246IFwiRXhwcmVzcyByb21hbnRpYyBmZWVsaW5nc1wiLCBpY29uOiBIZWFydCB9LFxuICB7IGlkOiBcImdyYWR1YXRpb25cIiwgbGFiZWw6IFwiR3JhZHVhdGlvblwiLCBkZXNjcmlwdGlvbjogXCJDZWxlYnJhdGUgZWR1Y2F0aW9uYWwgYWNoaWV2ZW1lbnRzXCIsIGljb246IEdyYWR1YXRpb25DYXAgfSxcbiAgeyBpZDogXCJuZXctYmFieVwiLCBsYWJlbDogXCJOZXcgQmFieVwiLCBkZXNjcmlwdGlvbjogXCJXZWxjb21lIG5ldyBhcnJpdmFsc1wiLCBpY29uOiBCYWJ5IH0sXG4gIHsgaWQ6IFwid2VkZGluZ1wiLCBsYWJlbDogXCJXZWRkaW5nXCIsIGRlc2NyaXB0aW9uOiBcIkNlbGVicmF0ZSB1bmlvbnMgYW5kIG1hcnJpYWdlc1wiLCBpY29uOiBDaHVyY2ggfSxcbiAgeyBpZDogXCJyZXRpcmVtZW50XCIsIGxhYmVsOiBcIlJldGlyZW1lbnRcIiwgZGVzY3JpcHRpb246IFwiSG9ub3IgY2FyZWVyIGFjaGlldmVtZW50c1wiLCBpY29uOiBHaWZ0IH0sXG4gIHsgaWQ6IFwiaG91c2V3YXJtaW5nXCIsIGxhYmVsOiBcIkhvdXNld2FybWluZ1wiLCBkZXNjcmlwdGlvbjogXCJXZWxjb21lIHRvIG5ldyBob21lc1wiLCBpY29uOiBIb21lIH0sXG4gIHsgaWQ6IFwiYXBvbG9neVwiLCBsYWJlbDogXCJBcG9sb2d5XCIsIGRlc2NyaXB0aW9uOiBcIk1ha2UgYW1lbmRzIGFuZCBzZWVrIGZvcmdpdmVuZXNzXCIsIGljb246IE1lc3NhZ2VDaXJjbGUgfSxcbiAgeyBpZDogXCJ0aGlua2luZy1vZi15b3VcIiwgbGFiZWw6IFwiVGhpbmtpbmcgb2YgWW91XCIsIGRlc2NyaXB0aW9uOiBcIlNob3cgeW91IGNhcmUgYW5kIHJlbWVtYmVyXCIsIGljb246IEV5ZSB9LFxuXTtcblxuLy8gQ2FyZCB0b25lL3N0eWxlIG9wdGlvbnNcbmNvbnN0IGNhcmRUb25lcyA9IFtcbiAgeyBpZDogXCJmdW5ueVwiLCBsYWJlbDogXCLwn5iEIEZ1bm55XCIsIGRlc2NyaXB0aW9uOiBcIkh1bW9yb3VzIGFuZCBsaWdodGhlYXJ0ZWRcIiB9LFxuICB7IGlkOiBcImdlbnotaHVtb3JcIiwgbGFiZWw6IFwi8J+SgCBHZW5aIEh1bW9yXCIsIGRlc2NyaXB0aW9uOiBcIkludGVybmV0IG1lbWVzLCBjaGFvdGljIGVuZXJneSwgYW5kIHVuaGluZ2VkIHZpYmVzXCIgfSxcbiAgeyBpZDogXCJyb21hbnRpY1wiLCBsYWJlbDogXCLwn5KVIFJvbWFudGljXCIsIGRlc2NyaXB0aW9uOiBcIlN3ZWV0IGFuZCBsb3ZpbmdcIiB9LFxuICB7IGlkOiBcInByb2Zlc3Npb25hbFwiLCBsYWJlbDogXCLwn5GUIFByb2Zlc3Npb25hbFwiLCBkZXNjcmlwdGlvbjogXCJGb3JtYWwgYW5kIGJ1c2luZXNzLWFwcHJvcHJpYXRlXCIgfSxcbiAgeyBpZDogXCJoZWFydGZlbHRcIiwgbGFiZWw6IFwi4p2k77iPIEhlYXJ0ZmVsdFwiLCBkZXNjcmlwdGlvbjogXCJTaW5jZXJlIGFuZCBlbW90aW9uYWxcIiB9LFxuICB7IGlkOiBcInBsYXlmdWxcIiwgbGFiZWw6IFwi8J+OiSBQbGF5ZnVsXCIsIGRlc2NyaXB0aW9uOiBcIkZ1biBhbmQgZW5lcmdldGljXCIgfSxcbiAgeyBpZDogXCJlbGVnYW50XCIsIGxhYmVsOiBcIuKcqCBFbGVnYW50XCIsIGRlc2NyaXB0aW9uOiBcIlNvcGhpc3RpY2F0ZWQgYW5kIHJlZmluZWRcIiB9LFxuICB7IGlkOiBcImNhc3VhbFwiLCBsYWJlbDogXCLwn5iKIENhc3VhbFwiLCBkZXNjcmlwdGlvbjogXCJSZWxheGVkIGFuZCBmcmllbmRseVwiIH0sXG4gIHsgaWQ6IFwiaW5zcGlyYXRpb25hbFwiLCBsYWJlbDogXCLwn4yfIEluc3BpcmF0aW9uYWxcIiwgZGVzY3JpcHRpb246IFwiTW90aXZhdGluZyBhbmQgdXBsaWZ0aW5nXCIgfSxcbiAgeyBpZDogXCJxdWlya3lcIiwgbGFiZWw6IFwi8J+kqiBRdWlya3lcIiwgZGVzY3JpcHRpb246IFwiVW5pcXVlIGFuZCB1bmNvbnZlbnRpb25hbFwiIH0sXG4gIHsgaWQ6IFwidHJhZGl0aW9uYWxcIiwgbGFiZWw6IFwi8J+OrSBUcmFkaXRpb25hbFwiLCBkZXNjcmlwdGlvbjogXCJDbGFzc2ljIGFuZCB0aW1lbGVzc1wiIH0sXG5dO1xuXG4vLyBDdXJhdGVkIGFydGlzdGljIHN0eWxlcyBmb3IgYmVhdXRpZnVsIGNhcmRzXG5jb25zdCBhcnRpc3RpY1N0eWxlcyA9IFtcbiAge1xuICAgIGlkOiBcImFpLXNtYXJ0LXN0eWxlXCIsIFxuICAgIGxhYmVsOiBcIuKcqCBTbWFydCBTdHlsZVwiLCBcbiAgICBkZXNjcmlwdGlvbjogXCJMZXQgb3VyIGV4cGVydHMgY2hvb3NlIHRoZSBwZXJmZWN0IHN0eWxlIGZvciB5b3VyIGNhcmRcIixcbiAgICBwcm9tcHRNb2RpZmllcjogXCJcIiAvLyBXaWxsIGJlIGR5bmFtaWNhbGx5IGdlbmVyYXRlZFxuICB9LFxuICB7XG4gICAgaWQ6IFwiY3VzdG9tXCIsIFxuICAgIGxhYmVsOiBcIuKcqCBDdXN0b20gU3R5bGVcIiwgXG4gICAgZGVzY3JpcHRpb246IFwiRGVmaW5lIHlvdXIgb3duIHVuaXF1ZSBhcnRpc3RpYyBzdHlsZVwiLFxuICAgIHByb21wdE1vZGlmaWVyOiBcIlwiIC8vIFdpbGwgYmUgcmVwbGFjZWQgd2l0aCB1c2VyIGlucHV0XG4gIH0sXG4gIHsgXG4gICAgaWQ6IFwid2F0ZXJjb2xvclwiLCBcbiAgICBsYWJlbDogXCLwn46oIFdhdGVyY29sb3JcIiwgXG4gICAgZGVzY3JpcHRpb246IFwiU29mdCwgZmxvd2luZyBwYWludCBlZmZlY3RzIChvdXIgcGVyc29uYWwgZmF2b3JpdGUpXCIsXG4gICAgcHJvbXB0TW9kaWZpZXI6IFwiaW4gd2F0ZXJjb2xvciBwYWludGluZyBzdHlsZSwgd2l0aCBzb2Z0IGZsb3dpbmcgY29sb3JzLCBhcnRpc3RpYyBicnVzaCBzdHJva2VzLCBwYXBlciB0ZXh0dXJlLCBhbmQgb3JnYW5pYyBwYWludCBibGVlZHNcIlxuICB9LFxuICB7XG4gICAgaWQ6IFwibWluaW1hbGlzdFwiLCBcbiAgICBsYWJlbDogXCLinKggTWluaW1hbGlzdFwiLCBcbiAgICBkZXNjcmlwdGlvbjogXCJDbGVhbiwgc2ltcGxlLCBlbGVnYW50IGRlc2lnblwiLFxuICAgIHByb21wdE1vZGlmaWVyOiBcImluIG1pbmltYWxpc3Qgc3R5bGUgd2l0aCBjbGVhbiBsaW5lcywgc2ltcGxlIHNoYXBlcywgcGxlbnR5IG9mIHdoaXRlIHNwYWNlLCBzb3BoaXN0aWNhdGVkIHR5cG9ncmFwaHksIGFuZCBlbGVnYW50IHNpbXBsaWNpdHlcIlxuICB9LFxuICB7IFxuICAgIGlkOiBcImJvdGFuaWNhbFwiLCBcbiAgICBsYWJlbDogXCLwn4y/IEJvdGFuaWNhbFwiLCBcbiAgICBkZXNjcmlwdGlvbjogXCJCZWF1dGlmdWwgZmxvd2VycyBhbmQgbmF0dXJlIGVsZW1lbnRzXCIsXG4gICAgcHJvbXB0TW9kaWZpZXI6IFwiaW4gYm90YW5pY2FsIGlsbHVzdHJhdGlvbiBzdHlsZSB3aXRoIGRldGFpbGVkIGZsb3dlcnMsIGxlYXZlcywgYW5kIG5hdHVyYWwgZWxlbWVudHMsIHNvZnQgb3JnYW5pYyBzaGFwZXMsIGVsZWdhbnQgZmxvcmFsIGFycmFuZ2VtZW50cywgYW5kIG5hdHVyZS1pbnNwaXJlZCBkZXNpZ25zIHBlcmZlY3QgZm9yIGdyZWV0aW5nIGNhcmRzXCJcbiAgfSxcbiAgeyBcbiAgICBpZDogXCJoYW5kLWRyYXduXCIsIFxuICAgIGxhYmVsOiBcIuKcj++4jyBIYW5kLURyYXduXCIsIFxuICAgIGRlc2NyaXB0aW9uOiBcIkNoYXJtaW5nIHNrZXRjaHksIHBlcnNvbmFsIGZlZWxcIixcbiAgICBwcm9tcHRNb2RpZmllcjogXCJpbiBoYW5kLWRyYXduIHNrZXRjaCBzdHlsZSB3aXRoIHZpc2libGUgcGVuY2lsIGxpbmVzLCBhcnRpc3RpYyBza2V0Y2hpbmcgdGVjaG5pcXVlcywgcGVyc29uYWwgdG91Y2hlcywgYW5kIGF1dGhlbnRpYyBoYW5kLWNyYWZ0ZWQgYXBwZWFyYW5jZSB0aGF0IGZlZWxzIHdhcm0gYW5kIGludGltYXRlXCJcbiAgfSxcbiAgeyBcbiAgICBpZDogXCJkcmVhbXktZmFudGFzeVwiLCBcbiAgICBsYWJlbDogXCLwn4y4IERyZWFteSBGYW50YXN5XCIsIFxuICAgIGRlc2NyaXB0aW9uOiBcIkVuY2hhbnRpbmcgYW5pbWUtaW5zcGlyZWQgYXJ0XCIsXG4gICAgcHJvbXB0TW9kaWZpZXI6IFwiaW4gZHJlYW15IGZhbnRhc3kgYW5pbWUgc3R5bGUsIHdpdGggc29mdCBwYXN0ZWxzLCBtYWdpY2FsIGF0bW9zcGhlcmUsIGRldGFpbGVkIG5hdHVyZSBlbGVtZW50cywgd2hpbXNpY2FsIGNoYXJhY3RlcnMsIGFuZCBlbmNoYW50aW5nIGZhaXJ5LXRhbGUgcXVhbGl0aWVzXCJcbiAgfSxcbiAgeyBcbiAgICBpZDogXCJhcnQtZGVjb1wiLCBcbiAgICBsYWJlbDogXCLinKggQXJ0IERlY29cIiwgXG4gICAgZGVzY3JpcHRpb246IFwiRWxlZ2FudCAxOTIwcyBnZW9tZXRyaWMgbHV4dXJ5XCIsXG4gICAgcHJvbXB0TW9kaWZpZXI6IFwiaW4gdmludGFnZSBBcnQgRGVjbyBzdHlsZSB3aXRoIGdlb21ldHJpYyBwYXR0ZXJucywgZ29sZCBhY2NlbnRzLCBlbGVnYW50IHR5cG9ncmFwaHksIGx1eHVyaW91cyBkZXRhaWxzLCBhbmQgMTkyMHMgZ2xhbW91clwiXG4gIH0sXG4gIHsgXG4gICAgaWQ6IFwidmludGFnZS1pbGx1c3RyYXRpb25cIiwgXG4gICAgbGFiZWw6IFwi8J+TmiBWaW50YWdlIElsbHVzdHJhdGlvblwiLCBcbiAgICBkZXNjcmlwdGlvbjogXCJDbGFzc2ljIHN0b3J5Ym9vayBjaGFybVwiLFxuICAgIHByb21wdE1vZGlmaWVyOiBcImluIHZpbnRhZ2UgaWxsdXN0cmF0aW9uIHN0eWxlIGxpa2UgY2xhc3NpYyBjaGlsZHJlbidzIGJvb2tzLCB3aXRoIHdhcm0gbm9zdGFsZ2ljIGNvbG9ycywgY2hhcm1pbmcgY2hhcmFjdGVycywgd2hpbXNpY2FsIGRldGFpbHMsIGFuZCB0aW1lbGVzcyBmYWlyeS10YWxlIGFlc3RoZXRpY3NcIlxuICB9LFxuICB7XG4gICAgaWQ6IFwibW9kZXJuLWdlb21ldHJpY1wiLCBcbiAgICBsYWJlbDogXCLwn5S3IE1vZGVybiBHZW9tZXRyaWNcIiwgXG4gICAgZGVzY3JpcHRpb246IFwiQ2xlYW4gY29udGVtcG9yYXJ5IHNoYXBlc1wiLFxuICAgIHByb21wdE1vZGlmaWVyOiBcImluIG1vZGVybiBnZW9tZXRyaWMgc3R5bGUgd2l0aCBjbGVhbiBzaGFwZXMsIGNvbnRlbXBvcmFyeSBkZXNpZ24gZWxlbWVudHMsIGJhbGFuY2VkIGNvbXBvc2l0aW9ucywgYW5kIHNvcGhpc3RpY2F0ZWQgY29sb3IgcGFsZXR0ZXMgcGVyZmVjdCBmb3IgbW9kZXJuIGdyZWV0aW5nIGNhcmRzXCJcbiAgfSxcbiAge1xuICAgIGlkOiBcInNvZnQtcGFzdGVsXCIsIFxuICAgIGxhYmVsOiBcIvCfjLggU29mdCBQYXN0ZWxcIiwgXG4gICAgZGVzY3JpcHRpb246IFwiR2VudGxlLCBzb290aGluZyBjb2xvcnNcIixcbiAgICBwcm9tcHRNb2RpZmllcjogXCJpbiBzb2Z0IHBhc3RlbCBzdHlsZSB3aXRoIGdlbnRsZSBjb2xvcnMsIGRyZWFteSBhdG1vc3BoZXJlLCBkZWxpY2F0ZSB0ZXh0dXJlcywgYW5kIGNhbG1pbmcgdmlzdWFsIGVsZW1lbnRzIHRoYXQgY3JlYXRlIGEgcGVhY2VmdWwgYW5kIGhlYXJ0d2FybWluZyBmZWVsaW5nXCJcbiAgfSxcbiAge1xuICAgIGlkOiBcInJldHJvLXZpbnRhZ2VcIiwgXG4gICAgbGFiZWw6IFwi8J+TuyBSZXRybyBWaW50YWdlXCIsIFxuICAgIGRlc2NyaXB0aW9uOiBcIkNsYXNzaWMgMTk1MHMtNjBzIG5vc3RhbGdpYVwiLFxuICAgIHByb21wdE1vZGlmaWVyOiBcImluIHJldHJvIHZpbnRhZ2Ugc3R5bGUgd2l0aCAxOTUwcy02MHMgYWVzdGhldGljcywgY2xhc3NpYyB0eXBvZ3JhcGh5LCB3YXJtIG5vc3RhbGdpYyBjb2xvcnMsIGFuZCBtaWQtY2VudHVyeSBkZXNpZ24gZWxlbWVudHNcIlxuICB9XG5dO1xuXG4vLyBQYXBlciBzaXplIG9wdGlvbnNcbmNvbnN0IHBhcGVyU2l6ZXMgPSBbXG4gIHtcbiAgICBpZDogXCJzdGFuZGFyZFwiLFxuICAgIGxhYmVsOiBcIjXDlzcgQ2FyZCAoU3RhbmRhcmQpXCIsXG4gICAgZGVzY3JpcHRpb246IFwiU3RhbmRhcmQgNcOXNyBncmVldGluZyBjYXJkICgxMMOXNyBwcmludCBsYXlvdXQpXCIsXG4gICAgYXNwZWN0UmF0aW86IFwiOToxNlwiLFxuICAgIGRpbWVuc2lvbnM6IFwiMTAyNHgxNTM2XCIsXG4gICAgcHJpbnRXaWR0aDogXCIxMGluXCIsXG4gICAgcHJpbnRIZWlnaHQ6IFwiN2luXCJcbiAgfSxcbiAge1xuICAgIGlkOiBcImNvbXBhY3RcIixcbiAgICBsYWJlbDogXCI0w5c2IENhcmQgKENvbXBhY3QpXCIsXG4gICAgZGVzY3JpcHRpb246IFwiQ29tcGFjdCA0w5c2IGdyZWV0aW5nIGNhcmQgKDjDlzYgcHJpbnQgbGF5b3V0KVwiLFxuICAgIGFzcGVjdFJhdGlvOiBcIjI6M1wiLFxuICAgIGRpbWVuc2lvbnM6IFwiNzY4eDExNTJcIixcbiAgICBwcmludFdpZHRoOiBcIjhpblwiLFxuICAgIHByaW50SGVpZ2h0OiBcIjZpblwiXG4gIH0sXG4gIHtcbiAgICBpZDogXCJhNlwiLFxuICAgIGxhYmVsOiBcIkE2IENhcmQgKDTDlzYpXCIsXG4gICAgZGVzY3JpcHRpb246IFwiQTYgcGFwZXIgc2l6ZSAoOC4zw5c1LjggcHJpbnQgbGF5b3V0KVwiLFxuICAgIGFzcGVjdFJhdGlvOiBcIjI6M1wiLFxuICAgIGRpbWVuc2lvbnM6IFwiNzY4eDExNTJcIixcbiAgICBwcmludFdpZHRoOiBcIjguM2luXCIsXG4gICAgcHJpbnRIZWlnaHQ6IFwiNS44aW5cIlxuICB9XG5dO1xuXG4vLyBJbWFnZSBtb2RlbCBvcHRpb25zXG5jb25zdCBpbWFnZU1vZGVscyA9IFtcbiAgeyBcbiAgICBpZDogXCJncHQtaW1hZ2UtMVwiLCBcbiAgICBsYWJlbDogXCJHUFQgSW1hZ2UgMVwiLCBcbiAgICBkZXNjcmlwdGlvbjogXCJIaWdoZXN0IHF1YWxpdHkgdmFyaWFudCA6IFJlY29tbWVuZGVkXCIsXG4gIH0sXG4gIHsgXG4gICAgaWQ6IFwiZmx1eC0xLjEtcHJvXCIsIFxuICAgIGxhYmVsOiBcIkZMVVggMS4xIFByb1wiLCBcbiAgICBkZXNjcmlwdGlvbjogXCJGYXN0ZXN0ICYgaGlnaGVzdCBxdWFsaXR5IDogJDAuMDQgcGVyIGltYWdlLCAzLTEwIHNlY29uZHNcIixcbiAgfSxcbiAgeyBcbiAgICBpZDogXCJzZWVkcmVhbS0zXCIsIFxuICAgIGxhYmVsOiBcIlNlZURyZWFtIDNcIiwgXG4gICAgZGVzY3JpcHRpb246IFwiMksgcGhvdG9yZWFsaXN0aWMgcXVhbGl0eSA6ICQwLjAzIHBlciBpbWFnZSwgNS0xNSBzZWNvbmRzXCIsXG4gIH0sXG4gIHsgXG4gICAgaWQ6IFwiaWRlb2dyYW0tdjMtdHVyYm9cIiwgXG4gICAgbGFiZWw6IFwiSWRlb2dyYW0gVjMgVHVyYm9cIiwgXG4gICAgZGVzY3JpcHRpb246IFwiRXhjZWxsZW50IHRleHQgcmVuZGVyaW5nIDogTWFnaWMgcHJvbXB0IGVuaGFuY2VtZW50LCBmYXN0IGdlbmVyYXRpb25cIixcbiAgfSxcbiAgeyBcbiAgICBpZDogXCJpZGVvZ3JhbS12My1xdWFsaXR5XCIsIFxuICAgIGxhYmVsOiBcIklkZW9ncmFtIFYzIFF1YWxpdHlcIiwgXG4gICAgZGVzY3JpcHRpb246IFwiSGlnaGVzdCBxdWFsaXR5IHRleHQgcmVuZGVyaW5nIDogU2xvd2VyIGJ1dCBiZXR0ZXIgcmVzdWx0c1wiLFxuICB9LFxuICB7IFxuICAgIGlkOiBcImltYWdlbi00LjAtdWx0cmEtZ2VuZXJhdGUtcHJldmlldy0wNi0wNlwiLCBcbiAgICBsYWJlbDogXCJJbWFnZW4gNC4wIFVsdHJhXCIsIFxuICAgIGRlc2NyaXB0aW9uOiBcIkV4cGVyaW1lbnRhbCwgbm90IHJlY29tbWVuZGVkIGZvciB0ZXh0LWhlYXZ5IGNhcmRzLlwiLFxuICB9LFxuXTtcblxuXG5cbi8vIEVtYWlsIEhlbHBlciBGdW5jdGlvblxuYXN5bmMgZnVuY3Rpb24gc2VuZFRoYW5rWW91RW1haWwodG9FbWFpbDogc3RyaW5nLCBjYXJkVHlwZTogc3RyaW5nLCBjYXJkVXJsOiBzdHJpbmcpIHtcbiAgaWYgKCF0b0VtYWlsLnRyaW0oKSkgcmV0dXJuO1xuICBcbiAgdHJ5IHtcbiAgICAvLyBDcmVhdGUgSFRNTCBlbWFpbCBib2R5XG4gICAgY29uc3QgaHRtbEJvZHkgPSBgXG4gICAgICA8ZGl2IHN0eWxlPVwiZm9udC1mYW1pbHk6IEFyaWFsLCBzYW5zLXNlcmlmOyBtYXgtd2lkdGg6IDYwMHB4OyBtYXJnaW46IDAgYXV0bzsgcGFkZGluZzogMjBweDsgY29sb3I6ICMzMzM7XCI+XG4gICAgICAgIDxkaXYgc3R5bGU9XCJ0ZXh0LWFsaWduOiBjZW50ZXI7IG1hcmdpbi1ib3R0b206IDMwcHg7XCI+XG4gICAgICAgICAgPGgxIHN0eWxlPVwiY29sb3I6ICMyNTYzZWI7IG1hcmdpbi1ib3R0b206IDEwcHg7XCI+8J+OiSBZb3VyIENhcmQgaXMgUmVhZHkhPC9oMT5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIFxuICAgICAgICA8cCBzdHlsZT1cImZvbnQtc2l6ZTogMTZweDsgbGluZS1oZWlnaHQ6IDEuNjsgbWFyZ2luLWJvdHRvbTogMjBweDtcIj5IaSB0aGVyZSE8L3A+XG4gICAgICAgIFxuICAgICAgICA8cCBzdHlsZT1cImZvbnQtc2l6ZTogMTZweDsgbGluZS1oZWlnaHQ6IDEuNjsgbWFyZ2luLWJvdHRvbTogMjBweDtcIj5cbiAgICAgICAgICBUaGFuayB5b3UgZm9yIHVzaW5nIFZpYmVDYXJkaW5nIHRvIGNyZWF0ZSB5b3VyIGJlYXV0aWZ1bCA8c3Ryb25nPiR7Y2FyZFR5cGV9PC9zdHJvbmc+IGNhcmQhXG4gICAgICAgIDwvcD5cbiAgICAgICAgXG4gICAgICAgIDxwIHN0eWxlPVwiZm9udC1zaXplOiAxNnB4OyBsaW5lLWhlaWdodDogMS42OyBtYXJnaW4tYm90dG9tOiAyMHB4O1wiPlxuICAgICAgICAgIFdlIGhvcGUgeW91IGxvdmUgaG93IGl0IHR1cm5lZCBvdXQuIFlvdXIgY2FyZCBoYXMgYmVlbiBnZW5lcmF0ZWQgYW5kIGlzIHJlYWR5IGZvciBwcmludGluZyBvciBzaGFyaW5nLlxuICAgICAgICA8L3A+XG4gICAgICAgIFxuICAgICAgICA8ZGl2IHN0eWxlPVwidGV4dC1hbGlnbjogY2VudGVyOyBtYXJnaW46IDMwcHggMDtcIj5cbiAgICAgICAgICA8YSBocmVmPVwiJHtjYXJkVXJsfVwiIHN0eWxlPVwiYmFja2dyb3VuZC1jb2xvcjogIzI1NjNlYjsgY29sb3I6IHdoaXRlOyBwYWRkaW5nOiAxMnB4IDI0cHg7IHRleHQtZGVjb3JhdGlvbjogbm9uZTsgYm9yZGVyLXJhZGl1czogNnB4OyBmb250LXdlaWdodDogYm9sZDsgZGlzcGxheTogaW5saW5lLWJsb2NrO1wiPlxuICAgICAgICAgICAgVmlldyBZb3VyIENhcmRcbiAgICAgICAgICA8L2E+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICBcbiAgICAgICAgPHAgc3R5bGU9XCJmb250LXNpemU6IDE2cHg7IGxpbmUtaGVpZ2h0OiAxLjY7IG1hcmdpbi1ib3R0b206IDIwcHg7XCI+XG4gICAgICAgICAgSWYgeW91IGhhdmUgYW55IHF1ZXN0aW9ucyBvciBmZWVkYmFjaywgZmVlbCBmcmVlIHRvIHJlYWNoIG91dCB0byB1cy5cbiAgICAgICAgPC9wPlxuICAgICAgICBcbiAgICAgICAgPHAgc3R5bGU9XCJmb250LXNpemU6IDE2cHg7IGxpbmUtaGVpZ2h0OiAxLjY7IG1hcmdpbi1ib3R0b206IDIwcHg7XCI+XG4gICAgICAgICAgSGFwcHkgY2FyZCBtYWtpbmchXG4gICAgICAgIDwvcD5cbiAgICAgICAgXG4gICAgICAgIDxkaXYgc3R5bGU9XCJtYXJnaW4tdG9wOiA0MHB4OyBwYWRkaW5nLXRvcDogMjBweDsgYm9yZGVyLXRvcDogMXB4IHNvbGlkICNlNWU3ZWI7IGNvbG9yOiAjNmI3MjgwO1wiPlxuICAgICAgICAgIDxwIHN0eWxlPVwibWFyZ2luLWJvdHRvbTogNXB4O1wiPjxzdHJvbmc+QmVzdCByZWdhcmRzLDwvc3Ryb25nPjwvcD5cbiAgICAgICAgICA8cCBzdHlsZT1cIm1hcmdpbi1ib3R0b206IDVweDtcIj5UaGUgVmliZUNhcmRpbmcgVGVhbTwvcD5cbiAgICAgICAgICA8cCBzdHlsZT1cIm1hcmdpbjogMDtcIj5cbiAgICAgICAgICAgIDxhIGhyZWY9XCJtYWlsdG86dmliZWNhcmRpbmdAYXN0LmVuZ2luZWVyXCIgc3R5bGU9XCJjb2xvcjogIzI1NjNlYjsgdGV4dC1kZWNvcmF0aW9uOiBub25lO1wiPnZpYmVjYXJkaW5nQGFzdC5lbmdpbmVlcjwvYT5cbiAgICAgICAgICA8L3A+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgYDtcblxuICAgIC8vIFBsYWluIHRleHQgZmFsbGJhY2tcbiAgICBjb25zdCB0ZXh0Qm9keSA9IGBIaSB0aGVyZSFcblxuVGhhbmsgeW91IGZvciB1c2luZyBWaWJlQ2FyZGluZyB0byBjcmVhdGUgeW91ciBiZWF1dGlmdWwgJHtjYXJkVHlwZX0gY2FyZCFcblxuV2UgaG9wZSB5b3UgbG92ZSBob3cgaXQgdHVybmVkIG91dC4gWW91ciBjYXJkIGhhcyBiZWVuIGdlbmVyYXRlZCBhbmQgaXMgcmVhZHkgZm9yIHByaW50aW5nIG9yIHNoYXJpbmcuXG5cblZpZXcgeW91ciBjYXJkOiAke2NhcmRVcmx9XG5cbklmIHlvdSBoYXZlIGFueSBxdWVzdGlvbnMgb3IgZmVlZGJhY2ssIGZlZWwgZnJlZSB0byByZWFjaCBvdXQgdG8gdXMuXG5cbkhhcHB5IGNhcmQgbWFraW5nIVxuXG5CZXN0IHJlZ2FyZHMsXG5UaGUgVmliZUNhcmRpbmcgVGVhbVxudmliZWNhcmRpbmdAYXN0LmVuZ2luZWVyYDtcblxuICAgIC8vIFNlbmQgdG8gdXNlclxuICAgIGNvbnN0IHVzZXJSZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke0JBQ0tFTkRfQVBJX0JBU0VfVVJMfS9zZW5kX2VtYWlsX25vZGVqc19zdHlsZWAsIHtcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgaGVhZGVyczogeyBcbiAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uOyBjaGFyc2V0PXV0Zi04J1xuICAgICAgfSxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgdG86IHRvRW1haWwsXG4gICAgICAgIGZyb206ICd2aWJlY2FyZGluZ0Bhc3QuZW5naW5lZXInLFxuICAgICAgICBzdWJqZWN0OiBgWW91ciAke2NhcmRUeXBlfSBjYXJkIGlzIHJlYWR5IWAsXG4gICAgICAgIGJvZHk6IGh0bWxCb2R5LFxuICAgICAgICB0ZXh0OiB0ZXh0Qm9keSxcbiAgICAgICAgaHRtbDogaHRtbEJvZHlcbiAgICAgIH0pXG4gICAgfSk7XG5cbiAgICAvLyBTZW5kIGNvcHkgdG8gam9yZGFuQGFzdC5lbmdpbmVlclxuICAgIGNvbnN0IGFkbWluUmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgJHtCQUNLRU5EX0FQSV9CQVNFX1VSTH0vc2VuZF9lbWFpbF9ub2RlanNfc3R5bGVgLCB7XG4gICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICB0bzogJ2pvcmRhbkBhc3QuZW5naW5lZXInLFxuICAgICAgICBmcm9tOiAndmliZWNhcmRpbmdAYXN0LmVuZ2luZWVyJyxcbiAgICAgICAgc3ViamVjdDogYENhcmQgQ3JlYXRlZCAtICR7Y2FyZFR5cGV9IGZvciAke3RvRW1haWx9YCxcbiAgICAgICAgYm9keTogYDxkaXYgc3R5bGU9XCJmb250LWZhbWlseTogQXJpYWwsIHNhbnMtc2VyaWY7IHBhZGRpbmc6IDIwcHg7XCI+XG4gICAgICAgICAgPGgzIHN0eWxlPVwiY29sb3I6ICMyNTYzZWI7XCI+TmV3IENhcmQgQ3JlYXRlZCBvbiBWaWJlQ2FyZGluZzwvaDM+XG4gICAgICAgICAgPHA+PHN0cm9uZz5Vc2VyOjwvc3Ryb25nPiAke3RvRW1haWx9PC9wPlxuICAgICAgICAgIDxwPjxzdHJvbmc+Q2FyZCBUeXBlOjwvc3Ryb25nPiAke2NhcmRUeXBlfTwvcD5cbiAgICAgICAgICA8cD48c3Ryb25nPkNhcmQgVVJMOjwvc3Ryb25nPiA8YSBocmVmPVwiJHtjYXJkVXJsfVwiPiR7Y2FyZFVybH08L2E+PC9wPlxuICAgICAgICAgIDxwIHN0eWxlPVwibWFyZ2luLXRvcDogMjBweDsgY29sb3I6ICM2YjcyODA7IGZvbnQtc2l6ZTogMTRweDtcIj5cbiAgICAgICAgICAgIFRoaXMgaXMgYW4gYXV0b21hdGVkIG5vdGlmaWNhdGlvbiBvZiBjYXJkIGNyZWF0aW9uIGFjdGl2aXR5LlxuICAgICAgICAgIDwvcD5cbiAgICAgICAgPC9kaXY+YCxcbiAgICAgICAgdGV4dDogYE5ldyBjYXJkIGNyZWF0ZWQgb24gVmliZUNhcmRpbmc6XG5cblVzZXI6ICR7dG9FbWFpbH1cbkNhcmQgVHlwZTogJHtjYXJkVHlwZX1cbkNhcmQgVVJMOiAke2NhcmRVcmx9XG5cblRoaXMgaXMgYW4gYXV0b21hdGVkIG5vdGlmaWNhdGlvbiBvZiBjYXJkIGNyZWF0aW9uIGFjdGl2aXR5LmBcbiAgICAgIH0pXG4gICAgfSk7XG5cbiAgICBpZiAodXNlclJlc3BvbnNlLm9rKSB7XG4gICAgICB0b2FzdC5zdWNjZXNzKFwi4pyJ77iPIFRoYW5rIHlvdSBlbWFpbCBzZW50IVwiKTtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIHNlbmQgdGhhbmsgeW91IGVtYWlsOicsIGVycm9yKTtcbiAgICAvLyBEb24ndCBzaG93IGVycm9yIHRvYXN0IC0gdGhpcyBpcyBhIG5pY2UtdG8taGF2ZSBmZWF0dXJlXG4gIH1cbn1cblxuLy8gQ2hhdCBIZWxwZXIgRnVuY3Rpb25cbmFzeW5jIGZ1bmN0aW9uIGNoYXRXaXRoQUkodXNlck1lc3NhZ2U6IHN0cmluZywgb3B0aW9uczoge1xuICBzeXN0ZW1Qcm9tcHQ/OiBzdHJpbmcgfCBudWxsO1xuICBtb2RlbD86IHN0cmluZztcbiAgaW5jbHVkZVRob3VnaHRzPzogYm9vbGVhbjtcbiAganNvblNjaGVtYT86IGFueTtcbiAgYXR0YWNobWVudHM/OiBzdHJpbmdbXTsgIC8vIEFkZCBzdXBwb3J0IGZvciBpbWFnZSBhdHRhY2htZW50c1xufSA9IHt9KSB7XG4gIGNvbnN0IHtcbiAgICBzeXN0ZW1Qcm9tcHQgPSBudWxsLFxuICAgIG1vZGVsID0gJ2dlbWluaS0yLjUtcHJvJyxcbiAgICBpbmNsdWRlVGhvdWdodHMgPSBmYWxzZSwgIC8vIERlZmF1bHQgdG8gZmFsc2UgdG8gYXZvaWQgdGhpbmtpbmcgY29udGVudCBpbiByZXNwb25zZXNcbiAgICBqc29uU2NoZW1hID0gbnVsbCxcbiAgICBhdHRhY2htZW50cyA9IFtdICAvLyBEZWZhdWx0IHRvIGVtcHR5IGFycmF5XG4gIH0gPSBvcHRpb25zO1xuICBcbiAgdHJ5IHtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCcvaW50ZXJuYWwvY2FsbF9tY3BfdG9vbCcsIHtcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIHRvb2xfbmFtZTogJ2FpX2NoYXQnLFxuICAgICAgICBhcmd1bWVudHM6IHtcbiAgICAgICAgICBtZXNzYWdlczogdXNlck1lc3NhZ2UsXG4gICAgICAgICAgc3lzdGVtX3Byb21wdDogc3lzdGVtUHJvbXB0LFxuICAgICAgICAgIG1vZGVsOiBtb2RlbCxcbiAgICAgICAgICBpbmNsdWRlX3Rob3VnaHRzOiBpbmNsdWRlVGhvdWdodHMsXG4gICAgICAgICAganNvbl9zY2hlbWE6IGpzb25TY2hlbWEsXG4gICAgICAgICAgLi4uKGF0dGFjaG1lbnRzLmxlbmd0aCA+IDAgJiYgeyBhdHRhY2htZW50cyB9KSAgLy8gT25seSBpbmNsdWRlIGlmIHRoZXJlIGFyZSBhdHRhY2htZW50c1xuICAgICAgICB9XG4gICAgICB9KVxuICAgIH0pO1xuICAgIFxuICAgIGlmICghcmVzcG9uc2Uub2spIHRocm93IG5ldyBFcnJvcihgSFRUUCAke3Jlc3BvbnNlLnN0YXR1c31gKTtcbiAgICBcbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgIGlmIChkYXRhLmVycm9yICYmIGRhdGEuZXJyb3IgIT09IFwiTm9uZVwiICYmIGRhdGEuZXJyb3IgIT09IG51bGwpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihkYXRhLmVycm9yKTtcbiAgICB9XG4gICAgXG4gICAgbGV0IHJlc3VsdDtcbiAgICBpZiAodHlwZW9mIGRhdGEucmVzdWx0ID09PSAnc3RyaW5nJykge1xuICAgICAgdHJ5IHtcbiAgICAgICAgcmVzdWx0ID0gSlNPTi5wYXJzZShkYXRhLnJlc3VsdCk7XG4gICAgICB9IGNhdGNoIHtcbiAgICAgICAgcmVzdWx0ID0geyBzdGF0dXM6ICdlcnJvcicsIG1lc3NhZ2U6ICdJbnZhbGlkIEpTT04gcmVzcG9uc2UnIH07XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc3VsdCA9IGRhdGEucmVzdWx0O1xuICAgIH1cbiAgICBcbiAgICBpZiAocmVzdWx0LnN0YXR1cyA9PT0gJ2Vycm9yJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKHJlc3VsdC5tZXNzYWdlKTtcbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIHJlc3VsdC5yZXNwb25zZTtcbiAgICBcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdBSSBjaGF0IGZhaWxlZDonLCBlcnJvcik7XG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQ2FyZFN0dWRpb1BhZ2UoKSB7XG4gIC8vIENvcmUgc3RhdGVcbiAgY29uc3QgW3Byb21wdCwgc2V0UHJvbXB0XSA9IHVzZVN0YXRlKFwiXCIpO1xuICBjb25zdCBbZmluYWxDYXJkTWVzc2FnZSwgc2V0RmluYWxDYXJkTWVzc2FnZV0gPSB1c2VTdGF0ZShcIlwiKTtcbiAgY29uc3QgW3RvRmllbGQsIHNldFRvRmllbGRdID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFtmcm9tRmllbGQsIHNldEZyb21GaWVsZF0gPSB1c2VTdGF0ZShcIlwiKTtcbiAgY29uc3QgW3NlbGVjdGVkVHlwZSwgc2V0U2VsZWN0ZWRUeXBlXSA9IHVzZVN0YXRlPHN0cmluZz4oXCJiaXJ0aGRheVwiKTtcbiAgY29uc3QgW2N1c3RvbUNhcmRUeXBlLCBzZXRDdXN0b21DYXJkVHlwZV0gPSB1c2VTdGF0ZTxzdHJpbmc+KFwiXCIpO1xuICBjb25zdCBbc2VsZWN0ZWRUb25lLCBzZXRTZWxlY3RlZFRvbmVdID0gdXNlU3RhdGU8c3RyaW5nPihcImZ1bm55XCIpO1xuICBjb25zdCBbaXNHZW5lcmF0aW5nLCBzZXRJc0dlbmVyYXRpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbZ2VuZXJhdGVkQ2FyZCwgc2V0R2VuZXJhdGVkQ2FyZF0gPSB1c2VTdGF0ZTxHZW5lcmF0ZWRDYXJkIHwgbnVsbD4obnVsbCk7XG4gIFxuICAvLyBNdWx0aXBsZSBjYXJkcyBzdGF0ZVxuICBjb25zdCBbbnVtYmVyT2ZDYXJkcywgc2V0TnVtYmVyT2ZDYXJkc10gPSB1c2VTdGF0ZTxudW1iZXI+KDEpO1xuICBjb25zdCBbZ2VuZXJhdGVkQ2FyZHMsIHNldEdlbmVyYXRlZENhcmRzXSA9IHVzZVN0YXRlPEdlbmVyYXRlZENhcmRbXT4oW10pO1xuICBjb25zdCBbc2VsZWN0ZWRDYXJkSW5kZXgsIHNldFNlbGVjdGVkQ2FyZEluZGV4XSA9IHVzZVN0YXRlPG51bWJlcj4oMCk7XG5cbiAgLy8gV3JpdGluZyBhc3Npc3RhbnQgc3RhdGVcbiAgY29uc3QgW2lzR2VuZXJhdGluZ01lc3NhZ2UsIHNldElzR2VuZXJhdGluZ01lc3NhZ2VdID0gdXNlU3RhdGUoZmFsc2UpO1xuXG4gIC8vIEFkdmFuY2VkIG9wdGlvbnMgc3RhdGVcbiAgY29uc3QgW3Nob3dBZHZhbmNlZCwgc2V0U2hvd0FkdmFuY2VkXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3NlbGVjdGVkQXJ0aXN0aWNTdHlsZSwgc2V0U2VsZWN0ZWRBcnRpc3RpY1N0eWxlXSA9IHVzZVN0YXRlPHN0cmluZz4oXCJ3YXRlcmNvbG9yXCIpO1xuICBjb25zdCBbY3VzdG9tU3R5bGVEZXNjcmlwdGlvbiwgc2V0Q3VzdG9tU3R5bGVEZXNjcmlwdGlvbl0gPSB1c2VTdGF0ZTxzdHJpbmc+KFwiXCIpO1xuICBjb25zdCBbc2VsZWN0ZWRJbWFnZU1vZGVsLCBzZXRTZWxlY3RlZEltYWdlTW9kZWxdID0gdXNlU3RhdGU8c3RyaW5nPihcImdwdC1pbWFnZS0xXCIpO1xuXG4gIC8vIERyYWZ0IG1vZGUgc3BlY2lmaWMgbW9kZWwgc2VsZWN0aW9uXG4gIGNvbnN0IFtzZWxlY3RlZERyYWZ0TW9kZWwsIHNldFNlbGVjdGVkRHJhZnRNb2RlbF0gPSB1c2VTdGF0ZTxzdHJpbmc+KFwiZ3B0LWltYWdlLTFcIik7XG5cbiAgLy8gUHJvZ3Jlc3MgdHJhY2tpbmcgc3RhdGVcbiAgY29uc3QgW2dlbmVyYXRpb25Qcm9ncmVzcywgc2V0R2VuZXJhdGlvblByb2dyZXNzXSA9IHVzZVN0YXRlPHN0cmluZz4oXCJcIik7XG4gIGNvbnN0IFtjb3VudGRvd24sIHNldENvdW50ZG93bl0gPSB1c2VTdGF0ZTxudW1iZXI+KDApO1xuICBjb25zdCBbY291bnRkb3duSW50ZXJ2YWwsIHNldENvdW50ZG93bkludGVydmFsXSA9IHVzZVN0YXRlPE5vZGVKUy5UaW1lb3V0IHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtpc0NhcmRDb21wbGV0ZWQsIHNldElzQ2FyZENvbXBsZXRlZF0gPSB1c2VTdGF0ZTxib29sZWFuPihmYWxzZSk7XG5cbiAgLy8gSm9iIHRyYWNraW5nIHN0YXRlXG4gIGNvbnN0IFtjdXJyZW50Sm9iSWQsIHNldEN1cnJlbnRKb2JJZF0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcblxuICAvLyBGYXN0IHByZXZpZXcgbW9kZSBzdGF0ZVxuICBjb25zdCBbZmFzdFByZXZpZXdNb2RlLCBzZXRGYXN0UHJldmlld01vZGVdID0gdXNlU3RhdGU8Ym9vbGVhbj4odHJ1ZSk7XG4gIFxuICAvLyBEcmFmdCBtb2RlIHN0YXRlIC0gZ2VuZXJhdGUgMTAgbG93LXF1YWxpdHkgY2FyZHMgZm9yIHNlbGVjdGlvblxuICBjb25zdCBbaXNEcmFmdE1vZGUsIHNldElzRHJhZnRNb2RlXSA9IHVzZVN0YXRlPGJvb2xlYW4+KGZhbHNlKTtcbiAgY29uc3QgW2RyYWZ0Q2FyZHMsIHNldERyYWZ0Q2FyZHNdID0gdXNlU3RhdGU8R2VuZXJhdGVkQ2FyZFtdPihbXSk7IC8vIENhcmRzIGluIGNvbXBsZXRpb24gb3JkZXIgKGxlZnQgdG8gcmlnaHQpXG4gIGNvbnN0IFtkcmFmdEluZGV4TWFwcGluZywgc2V0RHJhZnRJbmRleE1hcHBpbmddID0gdXNlU3RhdGU8bnVtYmVyW10+KFtdKTsgLy8gTWFwcyBkaXNwbGF5IHBvc2l0aW9uIHRvIG9yaWdpbmFsIGRyYWZ0IGluZGV4XG4gIGNvbnN0IFtzZWxlY3RlZERyYWZ0SW5kZXgsIHNldFNlbGVjdGVkRHJhZnRJbmRleF0gPSB1c2VTdGF0ZTxudW1iZXI+KC0xKTsgLy8gRGlzcGxheSBwb3NpdGlvbiBpbmRleFxuICBjb25zdCBbaXNHZW5lcmF0aW5nRmluYWxDYXJkLCBzZXRJc0dlbmVyYXRpbmdGaW5hbENhcmRdID0gdXNlU3RhdGU8Ym9vbGVhbj4oZmFsc2UpO1xuICBjb25zdCBbcHJldmlld2luZ0RyYWZ0SW5kZXgsIHNldFByZXZpZXdpbmdEcmFmdEluZGV4XSA9IHVzZVN0YXRlPG51bWJlcj4oLTEpOyAvLyBEaXNwbGF5IHBvc2l0aW9uIGluZGV4XG4gIGNvbnN0IFtkcmFmdENvbXBsZXRpb25TaG93biwgc2V0RHJhZnRDb21wbGV0aW9uU2hvd25dID0gdXNlU3RhdGU8Ym9vbGVhbj4oZmFsc2UpO1xuXG4gIC8vIEhlbHBlciBmdW5jdGlvbiB0byBmb3JtYXQgY291bnRkb3duIGFzIE1NOlNTXG4gIGNvbnN0IGZvcm1hdENvdW50ZG93biA9IChzZWNvbmRzOiBudW1iZXIpOiBzdHJpbmcgPT4ge1xuICAgIGNvbnN0IG1pbnV0ZXMgPSBNYXRoLmZsb29yKHNlY29uZHMgLyA2MCk7XG4gICAgY29uc3QgcmVtYWluaW5nU2Vjb25kcyA9IHNlY29uZHMgJSA2MDtcbiAgICByZXR1cm4gYCR7bWludXRlc306JHtyZW1haW5pbmdTZWNvbmRzLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgJzAnKX1gO1xuICB9O1xuXG4gIC8vIEpvYiBtYW5hZ2VtZW50IGZ1bmN0aW9uc1xuICBjb25zdCBzYXZlSm9iVG9TdG9yYWdlID0gKGpvYklkOiBzdHJpbmcsIGpvYkRhdGE6IGFueSkgPT4ge1xuICAgIHRyeSB7XG4gICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShgY2FyZEpvYl8ke2pvYklkfWAsIEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgLi4uam9iRGF0YSxcbiAgICAgICAgaWQ6IGpvYklkLFxuICAgICAgICBzdGF0dXM6ICdwcm9jZXNzaW5nJyxcbiAgICAgICAgY3JlYXRlZEF0OiBEYXRlLm5vdygpXG4gICAgICB9KSk7XG4gICAgICBcbiAgICAgIC8vIEFsc28gYWRkIHRvIHBlbmRpbmcgam9icyBsaXN0XG4gICAgICBjb25zdCBwZW5kaW5nSm9icyA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3BlbmRpbmdDYXJkSm9icycpIHx8ICdbXScpO1xuICAgICAgaWYgKCFwZW5kaW5nSm9icy5pbmNsdWRlcyhqb2JJZCkpIHtcbiAgICAgICAgcGVuZGluZ0pvYnMucHVzaChqb2JJZCk7XG4gICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdwZW5kaW5nQ2FyZEpvYnMnLCBKU09OLnN0cmluZ2lmeShwZW5kaW5nSm9icykpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gc2F2ZSBqb2IgdG8gbG9jYWxTdG9yYWdlOicsIGVycm9yKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgcmVtb3ZlSm9iRnJvbVN0b3JhZ2UgPSAoam9iSWQ6IHN0cmluZykgPT4ge1xuICAgIHRyeSB7XG4gICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShgY2FyZEpvYl8ke2pvYklkfWApO1xuICAgICAgXG4gICAgICAvLyBSZW1vdmUgZnJvbSBwZW5kaW5nIGpvYnMgbGlzdFxuICAgICAgY29uc3QgcGVuZGluZ0pvYnMgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdwZW5kaW5nQ2FyZEpvYnMnKSB8fCAnW10nKTtcbiAgICAgIGNvbnN0IHVwZGF0ZWRKb2JzID0gcGVuZGluZ0pvYnMuZmlsdGVyKChpZDogc3RyaW5nKSA9PiBpZCAhPT0gam9iSWQpO1xuICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3BlbmRpbmdDYXJkSm9icycsIEpTT04uc3RyaW5naWZ5KHVwZGF0ZWRKb2JzKSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byByZW1vdmUgam9iIGZyb20gbG9jYWxTdG9yYWdlOicsIGVycm9yKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgY2hlY2tKb2JTdGF0dXMgPSBhc3luYyAoam9iSWQ6IHN0cmluZyk6IFByb21pc2U8YW55PiA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYC9hcGkvam9iLXN0YXR1cy8ke2pvYklkfWApO1xuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEhUVFAgJHtyZXNwb25zZS5zdGF0dXN9YCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gY2hlY2sgam9iIHN0YXR1czonLCBlcnJvcik7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH07XG5cbiAgLy8gUmVjb3ZlcnkgZnVuY3Rpb24gLSBjaGVjayBmb3IgcGVuZGluZyBqb2JzIG9uIHBhZ2UgbG9hZFxuICBjb25zdCBjaGVja1BlbmRpbmdKb2JzID0gYXN5bmMgKCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBwZW5kaW5nSm9icyA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3BlbmRpbmdDYXJkSm9icycpIHx8ICdbXScpO1xuICAgICAgXG4gICAgICBmb3IgKGNvbnN0IGpvYklkIG9mIHBlbmRpbmdKb2JzKSB7XG4gICAgICAgIGNvbnN0IGpvYkRhdGEgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShgY2FyZEpvYl8ke2pvYklkfWApO1xuICAgICAgICBpZiAoIWpvYkRhdGEpIGNvbnRpbnVlO1xuICAgICAgICBcbiAgICAgICAgY29uc3Qgam9iID0gSlNPTi5wYXJzZShqb2JEYXRhKTtcbiAgICAgICAgY29uc3Qgc3RhdHVzUmVzcG9uc2UgPSBhd2FpdCBjaGVja0pvYlN0YXR1cyhqb2JJZCk7XG4gICAgICAgIFxuICAgICAgICBpZiAoc3RhdHVzUmVzcG9uc2UgJiYgc3RhdHVzUmVzcG9uc2Uuc3RhdHVzID09PSAnY29tcGxldGVkJykge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCfwn46JIEpvYiBjb21wbGV0ZWQgd2hpbGUgdXNlciB3YXMgYXdheSEgQ2FyZCBkYXRhOicsIHN0YXR1c1Jlc3BvbnNlLmNhcmREYXRhKTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBKb2IgY29tcGxldGVkIHdoaWxlIHVzZXIgd2FzIGF3YXkhXG4gICAgICAgICAgaWYgKHN0YXR1c1Jlc3BvbnNlLmNhcmREYXRhKSB7XG4gICAgICAgICAgICAvLyBBcHBseSBRUiBjb2RlIHRvIGJhY2sgY292ZXIgYmVmb3JlIHNldHRpbmcgdGhlIGNhcmQgZGF0YVxuICAgICAgICAgICAgbGV0IGNhcmRXaXRoUVIgPSB7IC4uLnN0YXR1c1Jlc3BvbnNlLmNhcmREYXRhIH07XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIEVuc3VyZSB0aGUgY2FyZCBoYXMgYSB2YWxpZCBjcmVhdGVkQXQgZGF0ZVxuICAgICAgICAgICAgaWYgKCFjYXJkV2l0aFFSLmNyZWF0ZWRBdCkge1xuICAgICAgICAgICAgICBjYXJkV2l0aFFSLmNyZWF0ZWRBdCA9IG5ldyBEYXRlKCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBjYXJkV2l0aFFSLmNyZWF0ZWRBdCA9PT0gJ3N0cmluZycgfHwgdHlwZW9mIGNhcmRXaXRoUVIuY3JlYXRlZEF0ID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgICBjYXJkV2l0aFFSLmNyZWF0ZWRBdCA9IG5ldyBEYXRlKGNhcmRXaXRoUVIuY3JlYXRlZEF0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gRW5zdXJlIHRoZSBjYXJkIGhhcyBhIHZhbGlkIElEXG4gICAgICAgICAgICBpZiAoIWNhcmRXaXRoUVIuaWQpIHtcbiAgICAgICAgICAgICAgY2FyZFdpdGhRUi5pZCA9IGBjYXJkLSR7RGF0ZS5ub3coKX0tJHtNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHIoMiwgOSl9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29uc29sZS5sb2coJ/CflIQgQ2FyZCBkYXRhIHByZXBhcmVkIGZvciByZWNvdmVyeTonLCBjYXJkV2l0aFFSKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/CflIQgU3RhcnRpbmcgUVIgb3ZlcmxheSBwcm9jZXNzIGZvciByZWNvdmVyZWQgY2FyZCcpO1xuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU3RvcmUgY2FyZCBkYXRhIGZpcnN0IHRvIGdldCBhIHNoYXJlYWJsZSBVUkxcbiAgICAgICAgICAgICAgIGlmIChjYXJkV2l0aFFSLmZyb250Q292ZXIpIHtcbiAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICBjb25zdCBjYXJkU3RvcmVSZXNwb25zZSA9IGF3YWl0IGZldGNoKCcvYXBpL2NhcmRzL3N0b3JlJywge1xuICAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgICAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgICAgICAgICAgICAgcHJvbXB0OiBjYXJkV2l0aFFSLnByb21wdCB8fCAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgZnJvbnRDb3ZlcjogY2FyZFdpdGhRUi5mcm9udENvdmVyIHx8ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICBiYWNrQ292ZXI6IGNhcmRXaXRoUVIuYmFja0NvdmVyIHx8ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICBsZWZ0UGFnZTogY2FyZFdpdGhRUi5sZWZ0UGFnZSB8fCAnJyxcbiAgICAgICAgICAgICAgICAgICAgICByaWdodFBhZ2U6IGNhcmRXaXRoUVIucmlnaHRQYWdlIHx8ICcnLFxuICAgICAgICAgICAgICAgICAgICAgIGdlbmVyYXRlZFByb21wdHM6IGNhcmRXaXRoUVIuZ2VuZXJhdGVkUHJvbXB0cyB8fCBudWxsXG4gICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgIGlmIChjYXJkU3RvcmVSZXNwb25zZS5vaykge1xuICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2FyZFN0b3JlRGF0YSA9IGF3YWl0IGNhcmRTdG9yZVJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGFjdHVhbFNoYXJlVXJsID0gY2FyZFN0b3JlRGF0YS5zaGFyZV91cmw7XG4gICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnVXNpbmcgYWN0dWFsIHNoYXJlIFVSTCBmb3IgUVIgY29kZSAocmVjb3ZlcmVkKTonLCBhY3R1YWxTaGFyZVVybCk7XG4gICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgIC8vIEFwcGx5IFFSIGNvZGUgdG8gYmFjayBjb3ZlciB1c2luZyB0aGUgQVBJLXJldHVybmVkIFVSTFxuICAgICAgICAgICAgICAgICAgICAgaWYgKGNhcmRXaXRoUVIuYmFja0NvdmVyICYmIGFjdHVhbFNoYXJlVXJsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5SEIEFwcGx5aW5nIFFSIG92ZXJsYXkgdG8gcmVjb3ZlcmVkIGNhcmQuLi4nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgb3JpZ2luYWxCYWNrQ292ZXIgPSBjYXJkV2l0aFFSLmJhY2tDb3ZlcjtcbiAgICAgICAgICAgICAgICAgICAgICAgY2FyZFdpdGhRUi5iYWNrQ292ZXIgPSBhd2FpdCBvdmVybGF5UVJDb2RlT25JbWFnZShvcmlnaW5hbEJhY2tDb3ZlciwgYWN0dWFsU2hhcmVVcmwpO1xuICAgICAgICAgICAgICAgICAgICAgICBjYXJkV2l0aFFSLnNoYXJlVXJsID0gYWN0dWFsU2hhcmVVcmw7XG4gICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfinIUgUVIgb3ZlcmxheSBjb21wbGV0ZSBmb3IgcmVjb3ZlcmVkIGNhcmQnKTtcbiAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignRmFpbGVkIHRvIHN0b3JlIHJlY292ZXJlZCBjYXJkIGZvciBzaGFyaW5nLCBjb250aW51aW5nIHdpdGhvdXQgUVIgY29kZScpO1xuICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcign4p2MIEZhaWxlZCB0byBzdG9yZSBjYXJkIG9yIG92ZXJsYXkgUVIgY29kZSAocmVjb3ZlcmVkKTonLCBlcnJvcik7XG4gICAgICAgICAgICAgICAgICAvLyBDb250aW51ZSB3aXRob3V0IFFSIGNvZGUgaWYgdGhlcmUncyBhbiBlcnJvclxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ05vIGZyb250IGNvdmVyIGZvdW5kIGluIHJlY292ZXJlZCBjYXJkLCBza2lwcGluZyBRUiBjb2RlIHByb2Nlc3MnKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcign4p2MIEVycm9yIGluIFFSIGNvZGUgcHJvY2VzcyAocmVjb3ZlcmVkKTonLCBlcnJvcik7XG4gICAgICAgICAgICAgIC8vIENvbnRpbnVlIHdpdGhvdXQgUVIgY29kZSBpZiB0aGVyZSdzIGFuIGVycm9yXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn46vIFNldHRpbmcgcmVjb3ZlcmVkIGNhcmQgc3RhdGU6JywgY2FyZFdpdGhRUik7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIFNldCB0aGUgY2FyZCBzdGF0ZXMgLSB0aGlzIGlzIGNyaXRpY2FsIVxuICAgICAgICAgICAgc2V0R2VuZXJhdGVkQ2FyZChjYXJkV2l0aFFSKTtcbiAgICAgICAgICAgIHNldEdlbmVyYXRlZENhcmRzKFtjYXJkV2l0aFFSXSk7XG4gICAgICAgICAgICBzZXRTZWxlY3RlZENhcmRJbmRleCgwKTtcbiAgICAgICAgICAgIHNldElzQ2FyZENvbXBsZXRlZCh0cnVlKTtcbiAgICAgICAgICAgIHNldElzR2VuZXJhdGluZyhmYWxzZSk7XG4gICAgICAgICAgICBzZXRHZW5lcmF0aW9uUHJvZ3Jlc3MoXCJcIik7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIFNjcm9sbCB0byBjYXJkIHByZXZpZXdcbiAgICAgICAgICAgIHNjcm9sbFRvQ2FyZFByZXZpZXcoKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gU2V0IGFsbCBzZWN0aW9ucyBhcyBjb21wbGV0ZWRcbiAgICAgICAgICAgIHNldFNlY3Rpb25Mb2FkaW5nU3RhdGVzKHtcbiAgICAgICAgICAgICAgZnJvbnRDb3ZlcjogJ2NvbXBsZXRlZCcsXG4gICAgICAgICAgICAgIGJhY2tDb3ZlcjogJ2NvbXBsZXRlZCcsXG4gICAgICAgICAgICAgIGxlZnRJbnRlcmlvcjogJ2NvbXBsZXRlZCcsXG4gICAgICAgICAgICAgIHJpZ2h0SW50ZXJpb3I6ICdjb21wbGV0ZWQnLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIENhcHR1cmUgZ2VuZXJhdGlvbiB0aW1lIGZyb20gYmFja2VuZFxuICAgICAgICAgICAgaWYgKHN0YXR1c1Jlc3BvbnNlLmNhcmREYXRhLmdlbmVyYXRpb25UaW1lU2Vjb25kcykge1xuICAgICAgICAgICAgICBzZXRHZW5lcmF0aW9uRHVyYXRpb24oc3RhdHVzUmVzcG9uc2UuY2FyZERhdGEuZ2VuZXJhdGlvblRpbWVTZWNvbmRzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gU3RvcCBlbGFwc2VkIHRpbWUgdHJhY2tpbmdcbiAgICAgICAgICAgIHN0b3BFbGFwc2VkVGltZVRyYWNraW5nKCk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIFNldCBwcm9ncmVzcyB0byAxMDAlXG4gICAgICAgICAgICBzZXRQcm9ncmVzc1BlcmNlbnRhZ2UoMTAwKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEZvcmNlIGEgc3RhdGUgdXBkYXRlIGJ5IHVwZGF0aW5nIGxvY2FsU3RvcmFnZSAod2l0aG91dCBiYXNlNjQgUVIgY29kZSB0byBhdm9pZCBxdW90YSBpc3N1ZXMpXG4gICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgIC8vIENyZWF0ZSBhIGxpZ2h0d2VpZ2h0IHZlcnNpb24gd2l0aG91dCBiYXNlNjQgUVIgY29kZSBmb3IgbG9jYWxTdG9yYWdlXG4gICAgICAgICAgICAgICBjb25zdCBjYXJkRm9yU3RvcmFnZSA9IHsgLi4uY2FyZFdpdGhRUiB9O1xuICAgICAgICAgICAgICAgaWYgKGNhcmRGb3JTdG9yYWdlLmJhY2tDb3ZlciAmJiBjYXJkRm9yU3RvcmFnZS5iYWNrQ292ZXIuc3RhcnRzV2l0aCgnZGF0YTppbWFnZS9wbmc7YmFzZTY0LCcpKSB7XG4gICAgICAgICAgICAgICAgIC8vIFJlcGxhY2UgdGhlIGJhc2U2NCBRUiBjb2RlIHdpdGggdGhlIG9yaWdpbmFsIGJhY2sgY292ZXIgVVJMIHRvIHNhdmUgc3BhY2VcbiAgICAgICAgICAgICAgICAgY2FyZEZvclN0b3JhZ2UuYmFja0NvdmVyID0gc3RhdHVzUmVzcG9uc2UuY2FyZERhdGEuYmFja0NvdmVyO1xuICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn8J+SviBSZXBsYWNlZCBiYXNlNjQgUVIgY29kZSB3aXRoIG9yaWdpbmFsIFVSTCBmb3IgbG9jYWxTdG9yYWdlIHN0b3JhZ2UgKHJlY292ZXJ5KScpO1xuICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICBjb25zdCBjYXJkc0RhdGEgPSB7XG4gICAgICAgICAgICAgICAgIG1vc3RSZWNlbnRDYXJkOiBjYXJkRm9yU3RvcmFnZSxcbiAgICAgICAgICAgICAgICAgZ2VuZXJhdGlvbkR1cmF0aW9uOiBzdGF0dXNSZXNwb25zZS5jYXJkRGF0YS5nZW5lcmF0aW9uVGltZVNlY29uZHMgfHwgbnVsbFxuICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd2aWJlY2FyZGluZy1nZW5lcmF0ZWQtY2FyZHMnLCBKU09OLnN0cmluZ2lmeShjYXJkc0RhdGEpKTtcbiAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5K+IFJlY292ZXJlZCBjYXJkIHNhdmVkIHRvIGxvY2FsU3RvcmFnZScpO1xuICAgICAgICAgICAgIH0gY2F0Y2ggKHN0b3JhZ2VFcnJvcikge1xuICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIHNhdmUgcmVjb3ZlcmVkIGNhcmQgdG8gbG9jYWxTdG9yYWdlOicsIHN0b3JhZ2VFcnJvcik7XG4gICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICB0b2FzdC5zdWNjZXNzKFwi8J+OiSBZb3VyIGNhcmQgd2l0aCBRUiBjb2RlIGZpbmlzaGVkIGdlbmVyYXRpbmcgd2hpbGUgeW91IHdlcmUgYXdheSFcIik7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIFNlbmQgdGhhbmsgeW91IGVtYWlsIHVzaW5nIGpvYiBkYXRhXG4gICAgICAgICAgICBpZiAoam9iLnVzZXJFbWFpbCAmJiBqb2IudXNlckVtYWlsLnRyaW0oKSkge1xuICAgICAgICAgICAgICBjb25zdCBjYXJkVHlwZUZvckVtYWlsID0gam9iLnNlbGVjdGVkVHlwZSA9PT0gXCJjdXN0b21cIiA/IGpvYi5jdXN0b21DYXJkVHlwZSA6IGpvYi5zZWxlY3RlZFR5cGU7XG4gICAgICAgICAgICAgIHNlbmRUaGFua1lvdUVtYWlsKGpvYi51c2VyRW1haWwsIGNhcmRUeXBlRm9yRW1haWwsIGNhcmRXaXRoUVIuc2hhcmVVcmwgfHwgJ2h0dHBzOi8vdmliZWNhcmRpbmcuY29tJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfinIUgQ2FyZCByZWNvdmVyeSBwcm9jZXNzIGZpbmlzaGVkIHN1Y2Nlc3NmdWxseScpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgTm8gY2FyZCBkYXRhIGluIGNvbXBsZXRlZCByZWNvdmVyeSByZXNwb25zZScpO1xuICAgICAgICAgICAgdG9hc3QuZXJyb3IoXCLinYwgQ2FyZCBnZW5lcmF0aW9uIGNvbXBsZXRlZCBidXQgbm8gZGF0YSByZWNlaXZlZC4gUGxlYXNlIHRyeSBhZ2Fpbi5cIik7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJlbW92ZUpvYkZyb21TdG9yYWdlKGpvYklkKTtcbiAgICAgICAgfSBlbHNlIGlmIChzdGF0dXNSZXNwb25zZSAmJiBzdGF0dXNSZXNwb25zZS5zdGF0dXMgPT09ICdmYWlsZWQnKSB7XG4gICAgICAgICAgLy8gSm9iIGZhaWxlZFxuICAgICAgICAgIHRvYXN0LmVycm9yKFwi4p2MIEEgY2FyZCBnZW5lcmF0aW9uIGpvYiBmYWlsZWQuIFBsZWFzZSB0cnkgYWdhaW4uXCIpO1xuICAgICAgICAgIHJlbW92ZUpvYkZyb21TdG9yYWdlKGpvYklkKTtcbiAgICAgICAgfSBlbHNlIGlmIChzdGF0dXNSZXNwb25zZSAmJiBzdGF0dXNSZXNwb25zZS5zdGF0dXMgPT09ICdwcm9jZXNzaW5nJykge1xuICAgICAgICAgIC8vIFN0aWxsIHByb2Nlc3NpbmcgLSByZXN0b3JlIGxvYWRpbmcgc3RhdGVzIGFuZCBzdGFydCBwb2xsaW5nXG4gICAgICAgICAgc2V0SXNHZW5lcmF0aW5nKHRydWUpO1xuICAgICAgICAgIHNldEN1cnJlbnRKb2JJZChqb2JJZCk7XG4gICAgICAgICAgc2V0R2VuZXJhdGlvblByb2dyZXNzKFwiUmVzdW1pbmcgY2FyZCBnZW5lcmF0aW9uLi4uXCIpO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIFN0YXJ0IGVsYXBzZWQgdGltZSB0cmFja2luZyBmcm9tIHdoZW4gam9iIHdhcyBvcmlnaW5hbGx5IGNyZWF0ZWRcbiAgICAgICAgICBjb25zdCBqb2JTdGFydFRpbWUgPSBqb2IuY3JlYXRlZEF0ID8gbmV3IERhdGUoam9iLmNyZWF0ZWRBdCkuZ2V0VGltZSgpIDogRGF0ZS5ub3coKTtcbiAgICAgICAgICBzdGFydEVsYXBzZWRUaW1lVHJhY2tpbmcoam9iU3RhcnRUaW1lKTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBSZXN0b3JlIHNlY3Rpb24gbG9hZGluZyBzdGF0ZXMgYmFzZWQgb24gam9iIGRhdGFcbiAgICAgICAgICBpZiAoam9iLnByb21wdHMpIHtcbiAgICAgICAgICAgIGNvbnN0IGxvYWRpbmdTdGF0ZXMgPSB7XG4gICAgICAgICAgICAgIGZyb250Q292ZXI6ICdsb2FkaW5nJyBhcyBjb25zdCxcbiAgICAgICAgICAgICAgYmFja0NvdmVyOiAnbG9hZGluZycgYXMgY29uc3QsXG4gICAgICAgICAgICAgIGxlZnRJbnRlcmlvcjogam9iLmlzRnJvbnRCYWNrT25seSA/ICdpZGxlJyBhcyBjb25zdCA6ICdsb2FkaW5nJyBhcyBjb25zdCxcbiAgICAgICAgICAgICAgcmlnaHRJbnRlcmlvcjogam9iLmlzRnJvbnRCYWNrT25seSA/ICdpZGxlJyBhcyBjb25zdCA6ICdsb2FkaW5nJyBhcyBjb25zdCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBzZXRTZWN0aW9uTG9hZGluZ1N0YXRlcyhsb2FkaW5nU3RhdGVzKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gSW5pdGlhbGl6ZSBwcm9ncmVzcyAtIHdpbGwgYmUgdXBkYXRlZCBieSB0aW1lclxuICAgICAgICAgIHNldEdlbmVyYXRpb25Qcm9ncmVzcyhcIlJlc3VtaW5nIGNhcmQgZ2VuZXJhdGlvbi4uLlwiKTtcbiAgICAgICAgICBzZXRQcm9ncmVzc1BlcmNlbnRhZ2UoMCk7IC8vIFdpbGwgYmUgY2FsY3VsYXRlZCBieSB0aW1lciBiYXNlZCBvbiBlbGFwc2VkIHRpbWVcbiAgICAgICAgICBcbiAgICAgICAgICB0b2FzdC5pbmZvKFwi8J+UhCBSZXN1bWluZyBjYXJkIGdlbmVyYXRpb24gd2hlcmUgeW91IGxlZnQgb2ZmLi4uXCIpO1xuICAgICAgICAgIHBvbGxKb2JTdGF0dXMoam9iSWQpO1xuICAgICAgICB9XG4gICAgICAgIC8vIElmIHN0aWxsIHByb2Nlc3NpbmcsIGxlYXZlIGl0IGluIHN0b3JhZ2VcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGNoZWNrIHBlbmRpbmcgam9iczonLCBlcnJvcik7XG4gICAgfVxuICB9O1xuXG4gIC8vIFBvbGwgam9iIHN0YXR1cyB3aXRoIGV4cG9uZW50aWFsIGJhY2tvZmZcbiAgY29uc3QgcG9sbEpvYlN0YXR1cyA9IGFzeW5jIChqb2JJZDogc3RyaW5nLCBhdHRlbXB0OiBudW1iZXIgPSAxKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHN0YXR1c1Jlc3BvbnNlID0gYXdhaXQgY2hlY2tKb2JTdGF0dXMoam9iSWQpO1xuICAgICAgXG4gICAgICAvLyBDaGVjayBpZiB0aGlzIGlzIGEgZHJhZnQgam9iXG4gICAgICBjb25zdCBpc0RyYWZ0Sm9iID0gam9iSWQuc3RhcnRzV2l0aCgnZHJhZnQtJyk7XG4gICAgICBjb25zdCBkcmFmdEluZGV4ID0gaXNEcmFmdEpvYiA/IHBhcnNlSW50KGpvYklkLnNwbGl0KCctJylbMV0pIDogLTE7XG4gICAgICBcbiAgICAgIGlmIChzdGF0dXNSZXNwb25zZSAmJiBzdGF0dXNSZXNwb25zZS5zdGF0dXMgPT09ICdjb21wbGV0ZWQnKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCfwn46JIEpvYiBjb21wbGV0ZWQhIENhcmQgZGF0YTonLCBzdGF0dXNSZXNwb25zZS5jYXJkRGF0YSwgJ2lzRHJhZnRKb2I6JywgaXNEcmFmdEpvYik7XG4gICAgICAgIFxuICAgICAgICBpZiAoc3RhdHVzUmVzcG9uc2UuY2FyZERhdGEpIHtcbiAgICAgICAgICBpZiAoaXNEcmFmdEpvYiAmJiBkcmFmdEluZGV4ID49IDApIHtcbiAgICAgICAgICAgIC8vIEhhbmRsZSBkcmFmdCBjYXJkIGNvbXBsZXRpb24gLSBubyBRUiBjb2RlIG5lZWRlZCBmb3IgZHJhZnRzXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhg8J+OqCBEcmFmdCB2YXJpYXRpb24gJHtkcmFmdEluZGV4ICsgMX0gY29tcGxldGVkIWApO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBHZXQgc3R5bGUgaW5mbyBmb3Igc21hcnQgc3R5bGUgbW9kZVxuICAgICAgICAgICAgbGV0IHN0eWxlSW5mbzogeyBzdHlsZU5hbWU6IHN0cmluZzsgc3R5bGVMYWJlbDogc3RyaW5nIH0gfCB1bmRlZmluZWQgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICBpZiAoc2VsZWN0ZWRBcnRpc3RpY1N0eWxlID09PSBcImFpLXNtYXJ0LXN0eWxlXCIpIHtcbiAgICAgICAgICAgICAgY29uc3QgcHJlZGVmaW5lZFN0eWxlcyA9IFtcbiAgICAgICAgICAgICAgICBcIndhdGVyY29sb3JcIiwgXCJib3RhbmljYWxcIiwgXCJoYW5kLWRyYXduXCIsIFwiZHJlYW15LWZhbnRhc3lcIiwgXCJtaW5pbWFsaXN0XCIsXG4gICAgICAgICAgICAgICAgXCJ2aW50YWdlLWlsbHVzdHJhdGlvblwiLCBcImFydC1kZWNvXCIsIFwic29mdC1wYXN0ZWxcIiwgXCJtb2Rlcm4tZ2VvbWV0cmljXCIsIFwid2F0ZXJjb2xvclwiXG4gICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgIGNvbnN0IHN0eWxlTGFiZWxzID0gW1xuICAgICAgICAgICAgICAgIFwi8J+OqCBXYXRlcmNvbG9yXCIsIFwi8J+MvyBCb3RhbmljYWxcIiwgXCLinI/vuI8gSGFuZC1EcmF3blwiLCBcIvCfjLggRHJlYW15IEZhbnRhc3lcIiwgXCLinKggTWluaW1hbGlzdFwiLFxuICAgICAgICAgICAgICAgIFwi8J+TmiBWaW50YWdlIElsbHVzdHJhdGlvblwiLCBcIuKcqCBBcnQgRGVjb1wiLCBcIvCfjLggU29mdCBQYXN0ZWxcIiwgXCLwn5S3IE1vZGVybiBHZW9tZXRyaWNcIiwgXCLwn46oIFdhdGVyY29sb3JcIlxuICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICBpZiAoZHJhZnRJbmRleCA+PSAwICYmIGRyYWZ0SW5kZXggPCBwcmVkZWZpbmVkU3R5bGVzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHN0eWxlSW5mbyA9IHtcbiAgICAgICAgICAgICAgICAgIHN0eWxlTmFtZTogcHJlZGVmaW5lZFN0eWxlc1tkcmFmdEluZGV4XSxcbiAgICAgICAgICAgICAgICAgIHN0eWxlTGFiZWw6IHN0eWxlTGFiZWxzW2RyYWZ0SW5kZXhdXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBkcmFmdENhcmQ6IEdlbmVyYXRlZENhcmQgPSB7XG4gICAgICAgICAgICAgIGlkOiBgZHJhZnQtJHtkcmFmdEluZGV4ICsgMX0tJHtEYXRlLm5vdygpfWAsXG4gICAgICAgICAgICAgIHByb21wdDogc3RhdHVzUmVzcG9uc2UuY2FyZERhdGEucHJvbXB0IHx8IGBEcmFmdCBWYXJpYXRpb24gJHtkcmFmdEluZGV4ICsgMX1gLFxuICAgICAgICAgICAgICBmcm9udENvdmVyOiBzdGF0dXNSZXNwb25zZS5jYXJkRGF0YS5mcm9udENvdmVyIHx8IFwiXCIsXG4gICAgICAgICAgICAgIGJhY2tDb3ZlcjogXCJcIiwgLy8gRHJhZnQgbW9kZSBvbmx5IGdlbmVyYXRlcyBmcm9udCBjb3ZlclxuICAgICAgICAgICAgICBsZWZ0UGFnZTogXCJcIiwgLy8gV2lsbCBiZSBnZW5lcmF0ZWQgaW4gZmluYWwgaGlnaC1xdWFsaXR5IHZlcnNpb25cbiAgICAgICAgICAgICAgcmlnaHRQYWdlOiBcIlwiLCAvLyBXaWxsIGJlIGdlbmVyYXRlZCBpbiBmaW5hbCBoaWdoLXF1YWxpdHkgdmVyc2lvblxuICAgICAgICAgICAgICBjcmVhdGVkQXQ6IG5ldyBEYXRlKCksXG4gICAgICAgICAgICAgIGdlbmVyYXRlZFByb21wdHM6IHtcbiAgICAgICAgICAgICAgICBmcm9udENvdmVyOiBzdGF0dXNSZXNwb25zZS5jYXJkRGF0YS5nZW5lcmF0ZWRQcm9tcHRzPy5mcm9udENvdmVyIHx8IFwiXCIgLy8gT25seSBzdG9yZSBmcm9udCBjb3ZlciBwcm9tcHQgZm9yIGRyYWZ0IG1vZGVcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgc3R5bGVJbmZvOiBzdHlsZUluZm8gLy8gU3RvcmUgc3R5bGUgaW5mb3JtYXRpb24gZm9yIHNtYXJ0IHN0eWxlIG1vZGVcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIFVwZGF0ZSBkcmFmdCBjYXJkcyBzdGF0ZSAtIHBvcHVsYXRlIGZyb20gbGVmdCB0byByaWdodCBhcyB0aGV5IGNvbXBsZXRlXG4gICAgICAgICAgICBzZXREcmFmdENhcmRzKHByZXYgPT4ge1xuICAgICAgICAgICAgICBjb25zdCB1cGRhdGVkID0gWy4uLnByZXZdO1xuICAgICAgICAgICAgICB1cGRhdGVkLnB1c2goZHJhZnRDYXJkKTsgLy8gQWRkIHRvIG5leHQgYXZhaWxhYmxlIHBvc2l0aW9uIChsZWZ0IHRvIHJpZ2h0KVxuICAgICAgICAgICAgICByZXR1cm4gdXBkYXRlZDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBVcGRhdGUgbWFwcGluZyB0byB0cmFjayB3aGljaCBkaXNwbGF5IHBvc2l0aW9uIGNvcnJlc3BvbmRzIHRvIHdoaWNoIG9yaWdpbmFsIGRyYWZ0IGluZGV4XG4gICAgICAgICAgICBzZXREcmFmdEluZGV4TWFwcGluZyhwcmV2ID0+IHtcbiAgICAgICAgICAgICAgY29uc3QgdXBkYXRlZE1hcHBpbmcgPSBbLi4ucHJldl07XG4gICAgICAgICAgICAgIHVwZGF0ZWRNYXBwaW5nLnB1c2goZHJhZnRJbmRleCk7IC8vIE1hcCBuZXcgZGlzcGxheSBwb3NpdGlvbiB0byBvcmlnaW5hbCBkcmFmdCBpbmRleFxuICAgICAgICAgICAgICByZXR1cm4gdXBkYXRlZE1hcHBpbmc7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gVXBkYXRlIHByb2dyZXNzIGFuZCBjaGVjayBjb21wbGV0aW9uXG4gICAgICAgICAgICBjb25zdCBuZXdDb21wbGV0ZWRDb3VudCA9IGRyYWZ0Q2FyZHMubGVuZ3RoICsgMTsgLy8gKzEgYmVjYXVzZSBzdGF0ZSB1cGRhdGUgaXMgYXN5bmNcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGDwn5OKIERyYWZ0IHByb2dyZXNzOiAke25ld0NvbXBsZXRlZENvdW50fS81IGZyb250IGNvdmVyIHZhcmlhdGlvbnMgY29tcGxldGVgKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gU2Nyb2xsIHRvIGRyYWZ0IHByZXZpZXcgd2hlbiBmaXJzdCBjYXJkIGFwcGVhcnNcbiAgICAgICAgICAgIGlmIChuZXdDb21wbGV0ZWRDb3VudCA9PT0gMSkge1xuICAgICAgICAgICAgICBzY3JvbGxUb0NhcmRQcmV2aWV3KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmIChuZXdDb21wbGV0ZWRDb3VudCA9PT0gNSkge1xuICAgICAgICAgICAgICBzZXRJc0dlbmVyYXRpbmcoZmFsc2UpO1xuICAgICAgICAgICAgICBzZXRHZW5lcmF0aW9uUHJvZ3Jlc3MoXCJcIik7XG4gICAgICAgICAgICAgIHNldFByb2dyZXNzUGVyY2VudGFnZSgxMDApO1xuICAgICAgICAgICAgICBzdG9wRWxhcHNlZFRpbWVUcmFja2luZygpO1xuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgLy8gT25seSBzaG93IGNvbXBsZXRpb24gdG9hc3Qgb25jZSB1c2luZyBhIGZsYWcsIGFuZCBvbmx5IGlmIHVzZXIgaGFzbid0IG1vdmVkIHRvIGZpbmFsIGdlbmVyYXRpb25cbiAgICAgICAgICAgICAgc2V0RHJhZnRDb21wbGV0aW9uU2hvd24ocHJldiA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCFwcmV2ICYmICFpc0dlbmVyYXRpbmdGaW5hbENhcmQpIHtcbiAgICAgICAgICAgICAgICAgIHRvYXN0LnN1Y2Nlc3MoXCLwn46oIEFsbCA1IGZyb250IGNvdmVyIHZhcmlhdGlvbnMgcmVhZHkhIENob29zZSB5b3VyIGZhdm9yaXRlIGJlbG93LlwiKTtcbiAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gcHJldjtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBzZXRHZW5lcmF0aW9uUHJvZ3Jlc3MoYOKcqCAke25ld0NvbXBsZXRlZENvdW50fS81IGZyb250IGNvdmVyIHZhcmlhdGlvbnMgY29tcGxldGUuLi4gJHtuZXdDb21wbGV0ZWRDb3VudCA+PSAyID8gXCJZb3UgY2FuIHNlbGVjdCBvbmUgbm93IHRvIHByb2NlZWQhXCIgOiBcIlwifWApO1xuICAgICAgICAgICAgICBzZXRQcm9ncmVzc1BlcmNlbnRhZ2UoKG5ld0NvbXBsZXRlZENvdW50IC8gNSkgKiAxMDApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICByZW1vdmVKb2JGcm9tU3RvcmFnZShqb2JJZCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIEhhbmRsZSBmaW5hbCBjYXJkIGNvbXBsZXRpb24gLSBhcHBseSBRUiBjb2RlIGFuZCBmdWxsIHByb2Nlc3NpbmdcbiAgICAgICAgICAgIGxldCBjYXJkV2l0aFFSID0geyAuLi5zdGF0dXNSZXNwb25zZS5jYXJkRGF0YSB9O1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBFbnN1cmUgdGhlIGNhcmQgaGFzIGEgdmFsaWQgY3JlYXRlZEF0IGRhdGVcbiAgICAgICAgICAgIGlmICghY2FyZFdpdGhRUi5jcmVhdGVkQXQpIHtcbiAgICAgICAgICAgICAgY2FyZFdpdGhRUi5jcmVhdGVkQXQgPSBuZXcgRGF0ZSgpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgY2FyZFdpdGhRUi5jcmVhdGVkQXQgPT09ICdzdHJpbmcnIHx8IHR5cGVvZiBjYXJkV2l0aFFSLmNyZWF0ZWRBdCA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgY2FyZFdpdGhRUi5jcmVhdGVkQXQgPSBuZXcgRGF0ZShjYXJkV2l0aFFSLmNyZWF0ZWRBdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIEVuc3VyZSB0aGUgY2FyZCBoYXMgYSB2YWxpZCBJRFxuICAgICAgICAgICAgaWYgKCFjYXJkV2l0aFFSLmlkKSB7XG4gICAgICAgICAgICAgIGNhcmRXaXRoUVIuaWQgPSBgY2FyZC0ke0RhdGUubm93KCl9LSR7TWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyKDIsIDkpfWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5SEIEZpbmFsIGNhcmQgZGF0YSBwcmVwYXJlZDonLCBjYXJkV2l0aFFSKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgc2V0R2VuZXJhdGlvblByb2dyZXNzKFwi4pyoIEFkZGluZyBpbnRlcmFjdGl2ZSBRUiBjb2RlIHRvIHlvdXIgY2FyZC4uLlwiKTtcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/CflIQgU3RhcnRpbmcgUVIgb3ZlcmxheSBwcm9jZXNzIGZvciBmaW5hbCBjYXJkJyk7XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAvLyBTdG9yZSBjYXJkIGRhdGEgZmlyc3QgdG8gZ2V0IGEgc2hhcmVhYmxlIFVSTFxuICAgICAgICAgICAgICBpZiAoY2FyZFdpdGhRUi5mcm9udENvdmVyKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IGNhcmRTdG9yZVJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hcGkvY2FyZHMvc3RvcmUnLCB7XG4gICAgICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgICAgICAgICAgIHByb21wdDogY2FyZFdpdGhRUi5wcm9tcHQgfHwgJycsXG4gICAgICAgICAgICAgICAgICAgICAgZnJvbnRDb3ZlcjogY2FyZFdpdGhRUi5mcm9udENvdmVyIHx8ICcnLFxuICAgICAgICAgICAgICAgICAgICAgIGJhY2tDb3ZlcjogY2FyZFdpdGhRUi5iYWNrQ292ZXIgfHwgJycsXG4gICAgICAgICAgICAgICAgICAgICAgbGVmdFBhZ2U6IGNhcmRXaXRoUVIubGVmdFBhZ2UgfHwgJycsXG4gICAgICAgICAgICAgICAgICAgICAgcmlnaHRQYWdlOiBjYXJkV2l0aFFSLnJpZ2h0UGFnZSB8fCAnJyxcbiAgICAgICAgICAgICAgICAgICAgICBnZW5lcmF0ZWRQcm9tcHRzOiBjYXJkV2l0aFFSLmdlbmVyYXRlZFByb21wdHMgfHwgbnVsbFxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgIGlmIChjYXJkU3RvcmVSZXNwb25zZS5vaykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjYXJkU3RvcmVEYXRhID0gYXdhaXQgY2FyZFN0b3JlUmVzcG9uc2UuanNvbigpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBhY3R1YWxTaGFyZVVybCA9IGNhcmRTdG9yZURhdGEuc2hhcmVfdXJsO1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnVXNpbmcgYWN0dWFsIHNoYXJlIFVSTCBmb3IgUVIgY29kZTonLCBhY3R1YWxTaGFyZVVybCk7XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAvLyBBcHBseSBRUiBjb2RlIHRvIGJhY2sgY292ZXIgdXNpbmcgdGhlIEFQSS1yZXR1cm5lZCBVUkxcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNhcmRXaXRoUVIuYmFja0NvdmVyICYmIGFjdHVhbFNoYXJlVXJsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/CflIQgQXBwbHlpbmcgUVIgb3ZlcmxheSB0byBmaW5hbCBjYXJkLi4uJyk7XG4gICAgICAgICAgICAgICAgICAgICAgY29uc3Qgb3JpZ2luYWxCYWNrQ292ZXIgPSBjYXJkV2l0aFFSLmJhY2tDb3ZlcjtcbiAgICAgICAgICAgICAgICAgICAgICBjYXJkV2l0aFFSLmJhY2tDb3ZlciA9IGF3YWl0IG92ZXJsYXlRUkNvZGVPbkltYWdlKG9yaWdpbmFsQmFja0NvdmVyLCBhY3R1YWxTaGFyZVVybCk7XG4gICAgICAgICAgICAgICAgICAgICAgY2FyZFdpdGhRUi5zaGFyZVVybCA9IGFjdHVhbFNoYXJlVXJsO1xuICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfinIUgUVIgb3ZlcmxheSBjb21wbGV0ZSBmb3IgZmluYWwgY2FyZCcpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ0ZhaWxlZCB0byBzdG9yZSBjYXJkIGZvciBzaGFyaW5nLCBjb250aW51aW5nIHdpdGhvdXQgUVIgY29kZScpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgRmFpbGVkIHRvIHN0b3JlIGNhcmQgb3Igb3ZlcmxheSBRUiBjb2RlOicsIGVycm9yKTtcbiAgICAgICAgICAgICAgICAgIC8vIENvbnRpbnVlIHdpdGhvdXQgUVIgY29kZSBpZiB0aGVyZSdzIGFuIGVycm9yXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignTm8gZnJvbnQgY292ZXIgZm91bmQsIHNraXBwaW5nIFFSIGNvZGUgcHJvY2VzcycpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgRXJyb3IgaW4gUVIgY29kZSBwcm9jZXNzOicsIGVycm9yKTtcbiAgICAgICAgICAgICAgLy8gQ29udGludWUgd2l0aG91dCBRUiBjb2RlIGlmIHRoZXJlJ3MgYW4gZXJyb3JcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29uc29sZS5sb2coJ/Cfjq8gU2V0dGluZyBmaW5hbCBjYXJkIHN0YXRlOicsIGNhcmRXaXRoUVIpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBTZXQgdGhlIGNhcmQgc3RhdGVzIC0gdGhpcyBpcyBjcml0aWNhbCFcbiAgICAgICAgICAgIHNldEdlbmVyYXRlZENhcmQoY2FyZFdpdGhRUik7XG4gICAgICAgICAgICBzZXRHZW5lcmF0ZWRDYXJkcyhbY2FyZFdpdGhRUl0pO1xuICAgICAgICAgICAgc2V0U2VsZWN0ZWRDYXJkSW5kZXgoMCk7XG4gICAgICAgICAgICBzZXRJc0NhcmRDb21wbGV0ZWQodHJ1ZSk7XG4gICAgICAgICAgICBzZXRJc0dlbmVyYXRpbmcoZmFsc2UpO1xuICAgICAgICAgICAgc2V0SXNHZW5lcmF0aW5nRmluYWxDYXJkKGZhbHNlKTtcbiAgICAgICAgICAgIHNldElzRHJhZnRNb2RlKGZhbHNlKTtcbiAgICAgICAgICAgIHNldERyYWZ0Q29tcGxldGlvblNob3duKGZhbHNlKTsgLy8gUmVzZXQgY29tcGxldGlvbiBmbGFnXG4gICAgICAgICAgICBzZXRHZW5lcmF0aW9uUHJvZ3Jlc3MoXCJcIik7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIFNjcm9sbCB0byBjYXJkIHByZXZpZXdcbiAgICAgICAgICAgIHNjcm9sbFRvQ2FyZFByZXZpZXcoKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gU2V0IGFsbCBzZWN0aW9ucyBhcyBjb21wbGV0ZWRcbiAgICAgICAgICAgIHNldFNlY3Rpb25Mb2FkaW5nU3RhdGVzKHtcbiAgICAgICAgICAgICAgZnJvbnRDb3ZlcjogJ2NvbXBsZXRlZCcsXG4gICAgICAgICAgICAgIGJhY2tDb3ZlcjogJ2NvbXBsZXRlZCcsXG4gICAgICAgICAgICAgIGxlZnRJbnRlcmlvcjogJ2NvbXBsZXRlZCcsXG4gICAgICAgICAgICAgIHJpZ2h0SW50ZXJpb3I6ICdjb21wbGV0ZWQnLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIENhcHR1cmUgZ2VuZXJhdGlvbiB0aW1lIGZyb20gYmFja2VuZFxuICAgICAgICAgICAgY29uc29sZS5sb2coJ/CflI0gQ2hlY2tpbmcgZm9yIGdlbmVyYXRpb25UaW1lU2Vjb25kczonLCBzdGF0dXNSZXNwb25zZS5jYXJkRGF0YS5nZW5lcmF0aW9uVGltZVNlY29uZHMpO1xuICAgICAgICAgICAgaWYgKHN0YXR1c1Jlc3BvbnNlLmNhcmREYXRhLmdlbmVyYXRpb25UaW1lU2Vjb25kcykge1xuICAgICAgICAgICAgICBjb25zb2xlLmxvZygn4o+x77iPIFNldHRpbmcgZ2VuZXJhdGlvbiBkdXJhdGlvbjonLCBzdGF0dXNSZXNwb25zZS5jYXJkRGF0YS5nZW5lcmF0aW9uVGltZVNlY29uZHMsICdzZWNvbmRzJyk7XG4gICAgICAgICAgICAgIHNldEdlbmVyYXRpb25EdXJhdGlvbihzdGF0dXNSZXNwb25zZS5jYXJkRGF0YS5nZW5lcmF0aW9uVGltZVNlY29uZHMpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+KaoO+4jyBObyBnZW5lcmF0aW9uVGltZVNlY29uZHMgZm91bmQgaW4gY2FyZCBkYXRhJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIFN0b3AgZWxhcHNlZCB0aW1lIHRyYWNraW5nXG4gICAgICAgICAgICBzdG9wRWxhcHNlZFRpbWVUcmFja2luZygpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBTZXQgcHJvZ3Jlc3MgdG8gMTAwJVxuICAgICAgICAgICAgc2V0UHJvZ3Jlc3NQZXJjZW50YWdlKDEwMCk7XG4gICAgICAgICAgICBzZXRHZW5lcmF0aW9uUHJvZ3Jlc3MoXCJDYXJkIGdlbmVyYXRpb24gY29tcGxldGUhXCIpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBGb3JjZSBhIHN0YXRlIHVwZGF0ZSBieSB1cGRhdGluZyBsb2NhbFN0b3JhZ2UgKHdpdGhvdXQgYmFzZTY0IFFSIGNvZGUgdG8gYXZvaWQgcXVvdGEgaXNzdWVzKVxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgLy8gQ3JlYXRlIGEgbGlnaHR3ZWlnaHQgdmVyc2lvbiB3aXRob3V0IGJhc2U2NCBRUiBjb2RlIGZvciBsb2NhbFN0b3JhZ2VcbiAgICAgICAgICAgICAgY29uc3QgY2FyZEZvclN0b3JhZ2UgPSB7IC4uLmNhcmRXaXRoUVIgfTtcbiAgICAgICAgICAgICAgaWYgKGNhcmRGb3JTdG9yYWdlLmJhY2tDb3ZlciAmJiBjYXJkRm9yU3RvcmFnZS5iYWNrQ292ZXIuc3RhcnRzV2l0aCgnZGF0YTppbWFnZS9wbmc7YmFzZTY0LCcpKSB7XG4gICAgICAgICAgICAgICAgLy8gUmVwbGFjZSB0aGUgYmFzZTY0IFFSIGNvZGUgd2l0aCB0aGUgb3JpZ2luYWwgYmFjayBjb3ZlciBVUkwgdG8gc2F2ZSBzcGFjZVxuICAgICAgICAgICAgICAgIGNhcmRGb3JTdG9yYWdlLmJhY2tDb3ZlciA9IHN0YXR1c1Jlc3BvbnNlLmNhcmREYXRhLmJhY2tDb3ZlcjtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn8J+SviBSZXBsYWNlZCBiYXNlNjQgUVIgY29kZSB3aXRoIG9yaWdpbmFsIFVSTCBmb3IgbG9jYWxTdG9yYWdlIHN0b3JhZ2UnKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgY29uc3QgY2FyZHNEYXRhID0ge1xuICAgICAgICAgICAgICAgIG1vc3RSZWNlbnRDYXJkOiBjYXJkRm9yU3RvcmFnZSxcbiAgICAgICAgICAgICAgICBnZW5lcmF0aW9uRHVyYXRpb246IHN0YXR1c1Jlc3BvbnNlLmNhcmREYXRhLmdlbmVyYXRpb25UaW1lU2Vjb25kcyB8fCBudWxsXG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd2aWJlY2FyZGluZy1nZW5lcmF0ZWQtY2FyZHMnLCBKU09OLnN0cmluZ2lmeShjYXJkc0RhdGEpKTtcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/Cfkr4gQ2FyZCBzYXZlZCB0byBsb2NhbFN0b3JhZ2UnKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKHN0b3JhZ2VFcnJvcikge1xuICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gc2F2ZSB0byBsb2NhbFN0b3JhZ2U6Jywgc3RvcmFnZUVycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgdG9hc3Quc3VjY2VzcyhcIvCfjokgWW91ciBjYXJkIHdpdGggUVIgY29kZSBpcyByZWFkeSFcIik7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIFNlbmQgdGhhbmsgeW91IGVtYWlsXG4gICAgICAgICAgICBpZiAodXNlckVtYWlsLnRyaW0oKSkge1xuICAgICAgICAgICAgICBjb25zdCBjYXJkVHlwZUZvckVtYWlsID0gc2VsZWN0ZWRUeXBlID09PSBcImN1c3RvbVwiID8gY3VzdG9tQ2FyZFR5cGUgOiBzZWxlY3RlZFR5cGU7XG4gICAgICAgICAgICAgIHNlbmRUaGFua1lvdUVtYWlsKHVzZXJFbWFpbCwgY2FyZFR5cGVGb3JFbWFpbCwgY2FyZFdpdGhRUi5zaGFyZVVybCB8fCAnaHR0cHM6Ly92aWJlY2FyZGluZy5jb20nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29uc29sZS5sb2coJ+KchSBGaW5hbCBjYXJkIGNvbXBsZXRpb24gcHJvY2VzcyBmaW5pc2hlZCBzdWNjZXNzZnVsbHknKTtcbiAgICAgICAgICAgIHJlbW92ZUpvYkZyb21TdG9yYWdlKGpvYklkKTtcbiAgICAgICAgICAgIHNldEN1cnJlbnRKb2JJZChudWxsKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcign4p2MIE5vIGNhcmQgZGF0YSBpbiBjb21wbGV0ZWQgcmVzcG9uc2UnKTtcbiAgICAgICAgICB0b2FzdC5lcnJvcihcIuKdjCBDYXJkIGdlbmVyYXRpb24gY29tcGxldGVkIGJ1dCBubyBkYXRhIHJlY2VpdmVkLiBQbGVhc2UgdHJ5IGFnYWluLlwiKTtcbiAgICAgICAgICByZW1vdmVKb2JGcm9tU3RvcmFnZShqb2JJZCk7XG4gICAgICAgICAgaWYgKCFpc0RyYWZ0Sm9iKSB7XG4gICAgICAgICAgICBzZXRDdXJyZW50Sm9iSWQobnVsbCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHN0YXR1c1Jlc3BvbnNlICYmIHN0YXR1c1Jlc3BvbnNlLnN0YXR1cyA9PT0gJ2ZhaWxlZCcpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcign4p2MIEpvYiBmYWlsZWQ6Jywgc3RhdHVzUmVzcG9uc2UpO1xuICAgICAgICBcbiAgICAgICAgaWYgKGlzRHJhZnRKb2IgJiYgZHJhZnRJbmRleCA+PSAwKSB7XG4gICAgICAgICAgdG9hc3QuZXJyb3IoYERyYWZ0IHZhcmlhdGlvbiAke2RyYWZ0SW5kZXggKyAxfSBmYWlsZWQuIENvbnRpbnVpbmcgd2l0aCBvdGhlcnMuLi5gKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0b2FzdC5lcnJvcihcIuKdjCBDYXJkIGdlbmVyYXRpb24gZmFpbGVkLiBQbGVhc2UgdHJ5IGFnYWluLlwiKTtcbiAgICAgICAgICBzZXRJc0dlbmVyYXRpbmcoZmFsc2UpO1xuICAgICAgICAgIHNldElzR2VuZXJhdGluZ0ZpbmFsQ2FyZChmYWxzZSk7XG4gICAgICAgICAgc3RvcEVsYXBzZWRUaW1lVHJhY2tpbmcoKTtcbiAgICAgICAgICBzZXRHZW5lcmF0aW9uUHJvZ3Jlc3MoXCJcIik7XG4gICAgICAgICAgc2V0UHJvZ3Jlc3NQZXJjZW50YWdlKDApO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIFNldCBhbGwgc2VjdGlvbnMgYXMgZXJyb3JcbiAgICAgICAgICBzZXRTZWN0aW9uTG9hZGluZ1N0YXRlcyh7XG4gICAgICAgICAgICBmcm9udENvdmVyOiAnZXJyb3InLFxuICAgICAgICAgICAgYmFja0NvdmVyOiAnZXJyb3InLFxuICAgICAgICAgICAgbGVmdEludGVyaW9yOiAnZXJyb3InLFxuICAgICAgICAgICAgcmlnaHRJbnRlcmlvcjogJ2Vycm9yJyxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBzZXRDdXJyZW50Sm9iSWQobnVsbCk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHJlbW92ZUpvYkZyb21TdG9yYWdlKGpvYklkKTtcbiAgICAgIH0gZWxzZSBpZiAoc3RhdHVzUmVzcG9uc2UgJiYgc3RhdHVzUmVzcG9uc2Uuc3RhdHVzID09PSAncHJvY2Vzc2luZycpIHtcbiAgICAgICAgLy8gQ29udGludWUgcG9sbGluZyBldmVyeSAzIHNlY29uZHMgLSBuZWFyIHJlYWwtdGltZSB1cGRhdGVzIGZvciBiZXR0ZXIgVVhcbiAgICAgICAgY29uc29sZS5sb2coYPCflIQgSm9iIHN0aWxsIHByb2Nlc3NpbmcgKGF0dGVtcHQgJHthdHRlbXB0fSksIHBvbGxpbmcgYWdhaW4uLi5gKTtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiBwb2xsSm9iU3RhdHVzKGpvYklkLCBhdHRlbXB0ICsgMSksIDMwMDApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc29sZS53YXJuKCfimqDvuI8gVW5leHBlY3RlZCBzdGF0dXMgcmVzcG9uc2U6Jywgc3RhdHVzUmVzcG9uc2UpO1xuICAgICAgICAvLyBDb250aW51ZSBwb2xsaW5nIGluIGNhc2UgaXQncyBhIHRlbXBvcmFyeSBpc3N1ZVxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHBvbGxKb2JTdGF0dXMoam9iSWQsIGF0dGVtcHQgKyAxKSwgNTAwMCk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBwb2xsIGpvYiBzdGF0dXM6JywgZXJyb3IpO1xuICAgICAgLy8gUmV0cnkgYWZ0ZXIgZGVsYXkgd2l0aCBleHBvbmVudGlhbCBiYWNrb2ZmXG4gICAgICBjb25zdCBkZWxheSA9IE1hdGgubWluKDEwMDAwLCAzMDAwICogTWF0aC5wb3coMS41LCBNYXRoLm1pbihhdHRlbXB0IC0gMSwgNSkpKTtcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4gcG9sbEpvYlN0YXR1cyhqb2JJZCwgYXR0ZW1wdCArIDEpLCBkZWxheSk7XG4gICAgfVxuICB9O1xuXG4gIC8vIEZ1bmN0aW9uIHRvIG92ZXJsYXkgUVIgY29kZSBvbiBiYWNrIGNvdmVyIGltYWdlXG4gIGNvbnN0IG92ZXJsYXlRUkNvZGVPbkltYWdlID0gYXN5bmMgKGltYWdlVXJsOiBzdHJpbmcsIGNhcmRVcmw6IHN0cmluZywgbG9nb1VybD86IHN0cmluZyk6IFByb21pc2U8c3RyaW5nPiA9PiB7XG4gICAgY29uc29sZS5sb2coJ/CflKcgU3RhcnRpbmcgUVIgb3ZlcmxheSBmb3I6JywgY2FyZFVybCk7XG4gICAgdHJ5IHtcbiAgICAgIC8vIEdldCB0aGUgbW9zdCByZWNlbnQgc2F2ZWQgbG9nbyBpZiBubyBzcGVjaWZpYyBsb2dvIHByb3ZpZGVkXG4gICAgICBsZXQgcXJMb2dvVXJsID0gbG9nb1VybDtcbiAgICAgIGlmICghcXJMb2dvVXJsKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgbG9nb1Jlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hcGkvbG9nb3MnKTtcbiAgICAgICAgICBpZiAobG9nb1Jlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgICBjb25zdCBsb2dvRGF0YSA9IGF3YWl0IGxvZ29SZXNwb25zZS5qc29uKCk7XG4gICAgICAgICAgICBpZiAobG9nb0RhdGEuc3RhdHVzID09PSAnc3VjY2VzcycgJiYgbG9nb0RhdGEubG9nb3MubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAvLyBVc2UgdGhlIG1vc3QgcmVjZW50IGxvZ29cbiAgICAgICAgICAgICAgcXJMb2dvVXJsID0gbG9nb0RhdGEubG9nb3NbMF0udXJsO1xuICAgICAgICAgICAgICBjb25zb2xlLmxvZygn8J+OqCBVc2luZyBzYXZlZCBsb2dvIGZvciBRUiBjb2RlOicsIHFyTG9nb1VybCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChsb2dvRXJyb3IpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZygnTm8gc2F2ZWQgbG9nb3MgYXZhaWxhYmxlLCBnZW5lcmF0aW5nIFFSIHdpdGhvdXQgbG9nbycpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIEdlbmVyYXRlIFFSIGNvZGUgYXMgZGF0YSBVUkwgd2l0aCBvcHRpb25hbCBsb2dvXG4gICAgICBjb25zb2xlLmxvZygn8J+TsSBHZW5lcmF0aW5nIFFSIGNvZGUuLi4nKTtcbiAgICAgIGxldCBxckNvZGVEYXRhVXJsO1xuICAgICAgXG4gICAgICBpZiAocXJMb2dvVXJsKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgLy8gR2VuZXJhdGUgUVIgd2l0aCBsb2dvIHVzaW5nIHRoZSBzZXJ2ZXIgZW5kcG9pbnRcbiAgICAgICAgICBjb25zdCBxclJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hcGkvZ2VuZXJhdGUtcXItd2l0aC1sb2dvJywge1xuICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgICAgdXJsOiBjYXJkVXJsLFxuICAgICAgICAgICAgICBsb2dvX3VybDogcXJMb2dvVXJsLFxuICAgICAgICAgICAgICBzaXplOiAxNjAsXG4gICAgICAgICAgICAgIHNlYW1sZXNzOiB0cnVlXG4gICAgICAgICAgICB9KVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIFxuICAgICAgICAgIGlmIChxclJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgICBjb25zdCBxckRhdGEgPSBhd2FpdCBxclJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgICAgIGlmIChxckRhdGEuc3RhdHVzID09PSAnc3VjY2VzcycpIHtcbiAgICAgICAgICAgICAgcXJDb2RlRGF0YVVybCA9IHFyRGF0YS5xcl9jb2RlO1xuICAgICAgICAgICAgICBjb25zb2xlLmxvZygn4pyFIFFSIGNvZGUgd2l0aCBsb2dvIGdlbmVyYXRlZCBzdWNjZXNzZnVsbHknKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGxvZ29RckVycm9yKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ0ZhaWxlZCB0byBnZW5lcmF0ZSBRUiB3aXRoIGxvZ28sIGZhbGxpbmcgYmFjayB0byBzaW1wbGUgUVI6JywgbG9nb1FyRXJyb3IpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIEZhbGxiYWNrIHRvIHNpbXBsZSBRUiBjb2RlIGlmIGxvZ28gZ2VuZXJhdGlvbiBmYWlsZWRcbiAgICAgIGlmICghcXJDb2RlRGF0YVVybCkge1xuICAgICAgICBxckNvZGVEYXRhVXJsID0gYXdhaXQgUVJDb2RlLnRvRGF0YVVSTChjYXJkVXJsLCB7XG4gICAgICAgICAgd2lkdGg6IDE2MCwgLy8gU2l6ZSBpbiBwaXhlbHMgKHJvdWdobHkgMS4zIGluY2hlcyBhdCAxMjAgRFBJKVxuICAgICAgICAgIG1hcmdpbjogMSxcbiAgICAgICAgICBjb2xvcjoge1xuICAgICAgICAgICAgZGFyazogJyMwMDAwMDAnLFxuICAgICAgICAgICAgbGlnaHQ6ICcjRkZGRkZGJ1xuICAgICAgICAgIH0sXG4gICAgICAgICAgZXJyb3JDb3JyZWN0aW9uTGV2ZWw6ICdNJ1xuICAgICAgICB9KTtcbiAgICAgICAgY29uc29sZS5sb2coJ+KchSBTaW1wbGUgUVIgY29kZSBnZW5lcmF0ZWQgc3VjY2Vzc2Z1bGx5Jyk7XG4gICAgICB9XG5cbiAgICAgIC8vIENyZWF0ZSBjYW52YXMgdG8gY29tcG9zaXRlIHRoZSBpbWFnZXNcbiAgICAgIGNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgICAgY29uc3QgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gICAgICBpZiAoIWN0eCkgdGhyb3cgbmV3IEVycm9yKCdGYWlsZWQgdG8gZ2V0IGNhbnZhcyBjb250ZXh0Jyk7XG5cbiAgICAgIC8vIExvYWQgdGhlIGJhY2sgY292ZXIgaW1hZ2VcbiAgICAgIGNvbnN0IGJhY2tDb3ZlckltZyA9IG5ldyBJbWFnZSgpO1xuICAgICAgLy8gVHJ5IHdpdGhvdXQgY3Jvc3NPcmlnaW4gZmlyc3QgdG8gYXZvaWQgQ09SUyBpc3N1ZXNcbiAgICAgIC8vIGJhY2tDb3ZlckltZy5jcm9zc09yaWdpbiA9ICdhbm9ueW1vdXMnO1xuICAgICAgXG4gICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICBiYWNrQ292ZXJJbWcub25sb2FkID0gKCkgPT4ge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5a877iPIEJhY2sgY292ZXIgaW1hZ2UgbG9hZGVkLCBzaXplOicsIGJhY2tDb3ZlckltZy53aWR0aCwgJ3gnLCBiYWNrQ292ZXJJbWcuaGVpZ2h0KTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBTZXQgY2FudmFzIHNpemUgdG8gbWF0Y2ggdGhlIGltYWdlXG4gICAgICAgICAgY2FudmFzLndpZHRoID0gYmFja0NvdmVySW1nLndpZHRoO1xuICAgICAgICAgIGNhbnZhcy5oZWlnaHQgPSBiYWNrQ292ZXJJbWcuaGVpZ2h0O1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIERyYXcgdGhlIGJhY2sgY292ZXIgaW1hZ2VcbiAgICAgICAgICBjdHguZHJhd0ltYWdlKGJhY2tDb3ZlckltZywgMCwgMCk7XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gTG9hZCBhbmQgZHJhdyB0aGUgUVIgY29kZVxuICAgICAgICAgIGNvbnN0IHFySW1nID0gbmV3IEltYWdlKCk7XG4gICAgICAgICAgcXJJbWcub25sb2FkID0gKCkgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ/Cfk7EgUVIgY29kZSBpbWFnZSBsb2FkZWQsIG92ZXJsYXlpbmcuLi4nKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gUG9zaXRpb24gUVIgY29kZSBpbiBib3R0b20gcmlnaHQgY29ybmVyIHdpdGggc29tZSBwYWRkaW5nXG4gICAgICAgICAgICBjb25zdCBxclNpemUgPSAxNjA7IC8vIFNpemUgb2YgUVIgY29kZVxuICAgICAgICAgICAgY29uc3QgcGFkZGluZyA9IDQwOyAvLyBQYWRkaW5nIGZyb20gZWRnZXNcbiAgICAgICAgICAgIGNvbnN0IHggPSBjYW52YXMud2lkdGggLSBxclNpemUgLSBwYWRkaW5nO1xuICAgICAgICAgICAgY29uc3QgeSA9IGNhbnZhcy5oZWlnaHQgLSBxclNpemUgLSBwYWRkaW5nIC0gMzA7IC8vIEV4dHJhIHNwYWNlIGZvciB0ZXh0XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5ONIFFSIHBvc2l0aW9uOicsIHgsIHksICdvbiBjYW52YXM6JywgY2FudmFzLndpZHRoLCAneCcsIGNhbnZhcy5oZWlnaHQpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBDdXQgb3V0IGEgY2xlYW4gc2VjdGlvbiBmb3IgdGhlIFFSIGNvZGUgd2l0aCByb3VuZGVkIGNvcm5lcnNcbiAgICAgICAgICAgIGNvbnN0IGN1dG91dFBhZGRpbmcgPSAxMjtcbiAgICAgICAgICAgIGNvbnN0IGN1dG91dFggPSB4IC0gY3V0b3V0UGFkZGluZztcbiAgICAgICAgICAgIGNvbnN0IGN1dG91dFkgPSB5IC0gY3V0b3V0UGFkZGluZztcbiAgICAgICAgICAgIGNvbnN0IGN1dG91dFdpZHRoID0gcXJTaXplICsgKGN1dG91dFBhZGRpbmcgKiAyKTtcbiAgICAgICAgICAgIGNvbnN0IGN1dG91dEhlaWdodCA9IHFyU2l6ZSArIChjdXRvdXRQYWRkaW5nICogMikgKyAyNTsgLy8gRXh0cmEgaGVpZ2h0IGZvciB0ZXh0XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIENyZWF0ZSByb3VuZGVkIHJlY3RhbmdsZSBjdXRvdXRcbiAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSAnI0ZGRkZGRic7XG4gICAgICAgICAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgICAgICAgICBjdHgucm91bmRSZWN0KGN1dG91dFgsIGN1dG91dFksIGN1dG91dFdpZHRoLCBjdXRvdXRIZWlnaHQsIDgpO1xuICAgICAgICAgICAgY3R4LmZpbGwoKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gQWRkIHN1YnRsZSBib3JkZXJcbiAgICAgICAgICAgIGN0eC5zdHJva2VTdHlsZSA9ICdyZ2JhKDAsIDAsIDAsIDAuMSknO1xuICAgICAgICAgICAgY3R4LmxpbmVXaWR0aCA9IDE7XG4gICAgICAgICAgICBjdHguc3Ryb2tlKCk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIERyYXcgdGhlIFFSIGNvZGVcbiAgICAgICAgICAgIGN0eC5kcmF3SW1hZ2UocXJJbWcsIHgsIHksIHFyU2l6ZSwgcXJTaXplKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gQWRkIFwiU2NhbiBtZSA6KVwiIHRleHRcbiAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSAnIzY2NjY2Nic7XG4gICAgICAgICAgICBjdHguZm9udCA9ICcxOHB4IHN5c3RlbS11aSwgLWFwcGxlLXN5c3RlbSwgc2Fucy1zZXJpZic7XG4gICAgICAgICAgICBjdHgudGV4dEFsaWduID0gJ2NlbnRlcic7XG4gICAgICAgICAgICBjb25zdCB0ZXh0WCA9IHggKyBxclNpemUgLyAyO1xuICAgICAgICAgICAgY29uc3QgdGV4dFkgPSB5ICsgcXJTaXplICsgMTg7XG4gICAgICAgICAgICBjdHguZmlsbFRleHQoJ1NjYW4gbWUgOiknLCB0ZXh0WCwgdGV4dFkpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBDb252ZXJ0IGNhbnZhcyB0byBkYXRhIFVSTCBhbmQgcmVzb2x2ZVxuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gY2FudmFzLnRvRGF0YVVSTCgnaW1hZ2UvcG5nJywgMC45KTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfinIUgUVIgb3ZlcmxheSBjb21wbGV0ZSwgcmVzdWx0IGxlbmd0aDonLCByZXN1bHQubGVuZ3RoKTtcbiAgICAgICAgICAgIHJlc29sdmUocmVzdWx0KTtcbiAgICAgICAgICB9O1xuICAgICAgICAgIHFySW1nLm9uZXJyb3IgPSAoZXJyb3IpID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBGYWlsZWQgdG8gbG9hZCBRUiBjb2RlIGltYWdlOicsIGVycm9yKTtcbiAgICAgICAgICAgIHJlamVjdChuZXcgRXJyb3IoJ0ZhaWxlZCB0byBsb2FkIFFSIGNvZGUnKSk7XG4gICAgICAgICAgfTtcbiAgICAgICAgICBxckltZy5zcmMgPSBxckNvZGVEYXRhVXJsO1xuICAgICAgICB9O1xuICAgICAgICBiYWNrQ292ZXJJbWcub25lcnJvciA9IChlcnJvcikgPT4ge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBGYWlsZWQgdG8gbG9hZCBiYWNrIGNvdmVyIGltYWdlOicsIGVycm9yKTtcbiAgICAgICAgICByZWplY3QobmV3IEVycm9yKCdGYWlsZWQgdG8gbG9hZCBiYWNrIGNvdmVyIGltYWdlJykpO1xuICAgICAgICB9O1xuICAgICAgICBiYWNrQ292ZXJJbWcuc3JjID0gaW1hZ2VVcmw7XG4gICAgICB9KTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcign4p2MIEVycm9yIG92ZXJsYXlpbmcgUVIgY29kZTonLCBlcnJvcik7XG4gICAgICAvLyBSZXR1cm4gb3JpZ2luYWwgaW1hZ2UgaWYgUVIgb3ZlcmxheSBmYWlsc1xuICAgICAgcmV0dXJuIGltYWdlVXJsO1xuICAgIH1cbiAgfTtcblxuICAvLyBVcGxvYWQgc3RhdGVcbiAgY29uc3QgW2hhbmR3cml0aW5nU2FtcGxlLCBzZXRIYW5kd3JpdGluZ1NhbXBsZV0gPSB1c2VTdGF0ZTxGaWxlIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtoYW5kd3JpdGluZ1NhbXBsZVVybCwgc2V0SGFuZHdyaXRpbmdTYW1wbGVVcmxdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtyZWZlcmVuY2VJbWFnZXMsIHNldFJlZmVyZW5jZUltYWdlc10gPSB1c2VTdGF0ZTxGaWxlW10+KFtdKTtcbiAgY29uc3QgW3JlZmVyZW5jZUltYWdlVXJscywgc2V0UmVmZXJlbmNlSW1hZ2VVcmxzXSA9IHVzZVN0YXRlPHN0cmluZ1tdPihbXSk7XG4gIGNvbnN0IFtpbWFnZVRyYW5zZm9ybWF0aW9uLCBzZXRJbWFnZVRyYW5zZm9ybWF0aW9uXSA9IHVzZVN0YXRlPHN0cmluZz4oXCJcIik7XG4gIGNvbnN0IFtpc1VwbG9hZGluZywgc2V0SXNVcGxvYWRpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuXG4gIC8vIEVtYWlsIHN0YXRlXG4gIGNvbnN0IFt1c2VyRW1haWwsIHNldFVzZXJFbWFpbF0gPSB1c2VTdGF0ZTxzdHJpbmc+KFwiXCIpO1xuICBcbiAgLy8gQ2FyZCBJRCBmb3IgVVJMIGdlbmVyYXRpb24gKGdlbmVyYXRlZCBvbmNlIHBlciBjYXJkIGNyZWF0aW9uKVxuICBjb25zdCBbY3VycmVudENhcmRJZCwgc2V0Q3VycmVudENhcmRJZF0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcblxuICAvLyBOZXcgb3B0aW9ucyBmb3IgaGFuZHdyaXR0ZW4gbWVzc2FnZXMgYW5kIHNpbmdsZS1zaWRlZCBwcmludGluZ1xuICBjb25zdCBbaXNIYW5kd3JpdHRlbk1lc3NhZ2UsIHNldElzSGFuZHdyaXR0ZW5NZXNzYWdlXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2lzRnJvbnRCYWNrT25seSwgc2V0SXNGcm9udEJhY2tPbmx5XSA9IHVzZVN0YXRlKGZhbHNlKTtcblxuICAvLyBQYXBlciBzaXplIG9wdGlvbnNcbiAgY29uc3QgW3NlbGVjdGVkUGFwZXJTaXplLCBzZXRTZWxlY3RlZFBhcGVyU2l6ZV0gPSB1c2VTdGF0ZTxzdHJpbmc+KFwic3RhbmRhcmRcIik7XG5cbiAgLy8gTG9hZGluZyBzdGF0ZXMgZm9yIGVhY2ggY2FyZCBzZWN0aW9uXG4gIGNvbnN0IFtzZWN0aW9uTG9hZGluZ1N0YXRlcywgc2V0U2VjdGlvbkxvYWRpbmdTdGF0ZXNdID0gdXNlU3RhdGU8e1xuICAgIGZyb250Q292ZXI6ICdpZGxlJyB8ICdsb2FkaW5nJyB8ICdjb21wbGV0ZWQnIHwgJ2Vycm9yJztcbiAgICBiYWNrQ292ZXI6ICdpZGxlJyB8ICdsb2FkaW5nJyB8ICdjb21wbGV0ZWQnIHwgJ2Vycm9yJztcbiAgICBsZWZ0SW50ZXJpb3I6ICdpZGxlJyB8ICdsb2FkaW5nJyB8ICdjb21wbGV0ZWQnIHwgJ2Vycm9yJztcbiAgICByaWdodEludGVyaW9yOiAnaWRsZScgfCAnbG9hZGluZycgfCAnY29tcGxldGVkJyB8ICdlcnJvcic7XG4gIH0+KHtcbiAgICBmcm9udENvdmVyOiAnaWRsZScsXG4gICAgYmFja0NvdmVyOiAnaWRsZScsXG4gICAgbGVmdEludGVyaW9yOiAnaWRsZScsXG4gICAgcmlnaHRJbnRlcmlvcjogJ2lkbGUnLFxuICB9KTtcblxuICAvLyBDbGVhbiBwcm9ncmVzcyB0cmFja2luZ1xuICBjb25zdCBbcHJvZ3Jlc3NQZXJjZW50YWdlLCBzZXRQcm9ncmVzc1BlcmNlbnRhZ2VdID0gdXNlU3RhdGU8bnVtYmVyPigwKTtcblxuICAvLyBDbGVhbnVwIGNvdW50ZG93biBpbnRlcnZhbCBvbiB1bm1vdW50XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGlmIChjb3VudGRvd25JbnRlcnZhbCkge1xuICAgICAgICBjbGVhckludGVydmFsKGNvdW50ZG93bkludGVydmFsKTtcbiAgICAgIH1cbiAgICB9O1xuICB9LCBbY291bnRkb3duSW50ZXJ2YWxdKTtcblxuICAvLyBUcmFjayBpZiBpbml0aWFsIGxvYWQgaXMgY29tcGxldGVcbiAgY29uc3QgW2lzSW5pdGlhbExvYWRDb21wbGV0ZSwgc2V0SXNJbml0aWFsTG9hZENvbXBsZXRlXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgXG4gIC8vIFRleHRhcmVhIGV4cGFuZCBzdGF0ZVxuICBjb25zdCBbaXNUZXh0YXJlYUV4cGFuZGVkLCBzZXRJc1RleHRhcmVhRXhwYW5kZWRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbaXNNZXNzYWdlRXhwYW5kZWQsIHNldElzTWVzc2FnZUV4cGFuZGVkXSA9IHVzZVN0YXRlKGZhbHNlKTtcblxuICAvLyBNZXNzYWdlIHZlcnNpb24gY29udHJvbCBhbmQgcmVmaW5lbWVudFxuICBjb25zdCBbbWVzc2FnZUhpc3RvcnksIHNldE1lc3NhZ2VIaXN0b3J5XSA9IHVzZVN0YXRlPHN0cmluZ1tdPihbXSk7XG4gIGNvbnN0IFtjdXJyZW50TWVzc2FnZUluZGV4LCBzZXRDdXJyZW50TWVzc2FnZUluZGV4XSA9IHVzZVN0YXRlKC0xKTtcbiAgY29uc3QgW3JlZmluZW1lbnRQcm9tcHQsIHNldFJlZmluZW1lbnRQcm9tcHRdID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFtpc1JlZmluaW5nTWVzc2FnZSwgc2V0SXNSZWZpbmluZ01lc3NhZ2VdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbc2hvd1JlZmluZW1lbnRCb3gsIHNldFNob3dSZWZpbmVtZW50Qm94XSA9IHVzZVN0YXRlKGZhbHNlKTtcblxuICAvLyBTZXR0aW5ncyBtZW51IHN0YXRlXG4gIGNvbnN0IFtzaG93U2V0dGluZ3MsIHNldFNob3dTZXR0aW5nc10gPSB1c2VTdGF0ZShmYWxzZSk7XG5cbiAgLy8gVGVtcGxhdGUgc2VsZWN0aW9uIHN0YXRlXG4gIGNvbnN0IFtzaG93VGVtcGxhdGVHYWxsZXJ5LCBzZXRTaG93VGVtcGxhdGVHYWxsZXJ5XSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3RlbXBsYXRlU2VhcmNoUXVlcnksIHNldFRlbXBsYXRlU2VhcmNoUXVlcnldID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFtpc1NlYXJjaGluZ1RlbXBsYXRlcywgc2V0SXNTZWFyY2hpbmdUZW1wbGF0ZXNdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbYWlGaWx0ZXJlZENhcmRzLCBzZXRBaUZpbHRlcmVkQ2FyZHNdID0gdXNlU3RhdGU8YW55W10+KFtdKTtcbiAgY29uc3QgW3NlYXJjaE1vZGUsIHNldFNlYXJjaE1vZGVdID0gdXNlU3RhdGU8J3RleHQnIHwgJ2FpJyB8ICdoeWJyaWQnPigndGV4dCcpO1xuICBjb25zdCBbdGV4dEZpbHRlcmVkQ2FyZHMsIHNldFRleHRGaWx0ZXJlZENhcmRzXSA9IHVzZVN0YXRlPGFueVtdPihbXSk7XG4gIGNvbnN0IFtzaG93UHJvbXB0cywgc2V0U2hvd1Byb21wdHNdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBcbiAgLy8gUHJpbnQgb3B0aW9ucyBzdGF0ZVxuICBjb25zdCBbcHJpbnRPcHRpb24sIHNldFByaW50T3B0aW9uXSA9IHVzZVN0YXRlPCdwaHlzaWNhbCcgfCAnZW1haWwnPigncGh5c2ljYWwnKTtcbiAgXG4gIC8vIFByZWxvYWQgdGVtcGxhdGUgY2FyZHMgZm9yIGluc3RhbnQgYWNjZXNzXG4gIGNvbnN0IHsgcHJlbG9hZEFsbENhcmRzLCBnZXRDYWNoZWRDYXJkcywgdG90YWxDYXJkcyB9ID0gdXNlQ2FyZENhY2hlKCk7XG5cbiAgLy8gUHJpbnQgY29uZmlybWF0aW9uIGRpYWxvZyBzdGF0ZVxuICBjb25zdCBbc2hvd1ByaW50Q29uZmlybWF0aW9uLCBzZXRTaG93UHJpbnRDb25maXJtYXRpb25dID0gdXNlU3RhdGUoZmFsc2UpO1xuXG4gIC8vIEdlbmVyYXRpb24gdGltZSB0cmFja2luZ1xuICBjb25zdCBbZ2VuZXJhdGlvbkR1cmF0aW9uLCBzZXRHZW5lcmF0aW9uRHVyYXRpb25dID0gdXNlU3RhdGU8bnVtYmVyIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtnZW5lcmF0aW9uU3RhcnRUaW1lLCBzZXRHZW5lcmF0aW9uU3RhcnRUaW1lXSA9IHVzZVN0YXRlPG51bWJlciB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbY3VycmVudEVsYXBzZWRUaW1lLCBzZXRDdXJyZW50RWxhcHNlZFRpbWVdID0gdXNlU3RhdGU8bnVtYmVyPigwKTtcbiAgY29uc3QgW2VsYXBzZWRUaW1lSW50ZXJ2YWwsIHNldEVsYXBzZWRUaW1lSW50ZXJ2YWxdID0gdXNlU3RhdGU8Tm9kZUpTLlRpbWVvdXQgfCBudWxsPihudWxsKTtcblxuICAvLyBIZWxwZXIgZnVuY3Rpb24gdG8gZm9ybWF0IGdlbmVyYXRpb24gdGltZVxuICBjb25zdCBmb3JtYXRHZW5lcmF0aW9uVGltZSA9IChkdXJhdGlvblNlY29uZHM6IG51bWJlcikgPT4ge1xuICAgIGNvbnN0IG1pbnV0ZXMgPSBNYXRoLmZsb29yKGR1cmF0aW9uU2Vjb25kcyAvIDYwKTtcbiAgICBjb25zdCBzZWNvbmRzID0gTWF0aC5mbG9vcihkdXJhdGlvblNlY29uZHMgJSA2MCk7XG4gICAgXG4gICAgaWYgKG1pbnV0ZXMgPiAwKSB7XG4gICAgICByZXR1cm4gYCR7bWludXRlc31tICR7c2Vjb25kc31zYDtcbiAgICB9XG4gICAgcmV0dXJuIGAke3NlY29uZHN9c2A7XG4gIH07XG5cbiAgLy8gSGVscGVyIGZ1bmN0aW9uIHRvIHNjcm9sbCB0byBjYXJkIHByZXZpZXdcbiAgY29uc3Qgc2Nyb2xsVG9DYXJkUHJldmlldyA9ICgpID0+IHtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGNvbnN0IGNhcmRQcmV2aWV3RWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWNhcmQtcHJldmlld10nKTtcbiAgICAgIGlmIChjYXJkUHJldmlld0VsZW1lbnQpIHtcbiAgICAgICAgY2FyZFByZXZpZXdFbGVtZW50LnNjcm9sbEludG9WaWV3KHsgYmVoYXZpb3I6ICdzbW9vdGgnLCBibG9jazogJ3N0YXJ0JyB9KTtcbiAgICAgIH1cbiAgICB9LCA1MDApO1xuICB9O1xuXG4gIC8vIFN0YXJ0IGVsYXBzZWQgdGltZSB0cmFja2luZ1xuICBjb25zdCBzdGFydEVsYXBzZWRUaW1lVHJhY2tpbmcgPSAoc3RhcnRUaW1lPzogbnVtYmVyLCBlc3RpbWF0ZWRUb3RhbFNlY29uZHM/OiBudW1iZXIpID0+IHtcbiAgICBjb25zdCBzdGFydCA9IHN0YXJ0VGltZSB8fCBEYXRlLm5vdygpO1xuICAgIHNldEdlbmVyYXRpb25TdGFydFRpbWUoc3RhcnQpO1xuICAgIFxuICAgIC8vIFNhdmUgc3RhcnQgdGltZSB0byBsb2NhbFN0b3JhZ2UgZm9yIHBlcnNpc3RlbmNlXG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2dlbmVyYXRpb24tc3RhcnQtdGltZScsIHN0YXJ0LnRvU3RyaW5nKCkpO1xuICAgIFxuICAgIC8vIENsZWFyIGFueSBleGlzdGluZyBpbnRlcnZhbFxuICAgIGlmIChlbGFwc2VkVGltZUludGVydmFsKSB7XG4gICAgICBjbGVhckludGVydmFsKGVsYXBzZWRUaW1lSW50ZXJ2YWwpO1xuICAgIH1cbiAgICBcbiAgICAvLyBTdGFydCBuZXcgaW50ZXJ2YWwgdG8gdXBkYXRlIGVsYXBzZWQgdGltZSBhbmQgcHJvZ3Jlc3MgZXZlcnkgc2Vjb25kXG4gICAgY29uc3QgaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICBjb25zdCBlbGFwc2VkID0gKERhdGUubm93KCkgLSBzdGFydCkgLyAxMDAwOyAvLyBDb252ZXJ0IHRvIHNlY29uZHNcbiAgICAgIHNldEN1cnJlbnRFbGFwc2VkVGltZShlbGFwc2VkKTtcbiAgICAgIFxuICAgICAgLy8gVXNlIHByb3ZpZGVkIGVzdGltYXRlZCB0b3RhbCBvciBkZWZhdWx0IGJhc2VkIG9uIG1vZGVcbiAgICAgIGNvbnN0IGVzdGltYXRlZFRvdGFsID0gZXN0aW1hdGVkVG90YWxTZWNvbmRzIHx8IChpc0RyYWZ0TW9kZSA/IDQ1IDogMTUwKTsgLy8gNDUgc2Vjb25kcyBmb3IgZHJhZnQgbW9kZSwgMTUwIHNlY29uZHMgKDIuNSBtaW51dGVzKSBmb3IgZmluYWxcbiAgICAgIGNvbnN0IHBlcmNlbnRhZ2UgPSBNYXRoLm1pbigoZWxhcHNlZCAvIGVzdGltYXRlZFRvdGFsKSAqIDEwMCwgOTUpOyAvLyBDYXAgYXQgOTUlIHVudGlsIGNvbXBsZXRpb25cbiAgICAgIHNldFByb2dyZXNzUGVyY2VudGFnZShwZXJjZW50YWdlKTtcbiAgICB9LCAxMDAwKTtcbiAgICBcbiAgICBzZXRFbGFwc2VkVGltZUludGVydmFsKGludGVydmFsKTtcbiAgfTtcblxuICAvLyBTdG9wIGVsYXBzZWQgdGltZSB0cmFja2luZ1xuICBjb25zdCBzdG9wRWxhcHNlZFRpbWVUcmFja2luZyA9ICgpID0+IHtcbiAgICBpZiAoZWxhcHNlZFRpbWVJbnRlcnZhbCkge1xuICAgICAgY2xlYXJJbnRlcnZhbChlbGFwc2VkVGltZUludGVydmFsKTtcbiAgICAgIHNldEVsYXBzZWRUaW1lSW50ZXJ2YWwobnVsbCk7XG4gICAgfVxuICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdnZW5lcmF0aW9uLXN0YXJ0LXRpbWUnKTtcbiAgfTtcblxuICAvLyBSZXN0b3JlIGVsYXBzZWQgdGltZSB0cmFja2luZyBmcm9tIGxvY2FsU3RvcmFnZVxuICBjb25zdCByZXN0b3JlRWxhcHNlZFRpbWVUcmFja2luZyA9ICgpID0+IHtcbiAgICBjb25zdCBzYXZlZFN0YXJ0VGltZSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdnZW5lcmF0aW9uLXN0YXJ0LXRpbWUnKTtcbiAgICBpZiAoc2F2ZWRTdGFydFRpbWUgJiYgaXNHZW5lcmF0aW5nKSB7XG4gICAgICBjb25zdCBzdGFydFRpbWUgPSBwYXJzZUludChzYXZlZFN0YXJ0VGltZSk7XG4gICAgICBjb25zdCBlbGFwc2VkID0gKERhdGUubm93KCkgLSBzdGFydFRpbWUpIC8gMTAwMDtcbiAgICAgIHNldEN1cnJlbnRFbGFwc2VkVGltZShlbGFwc2VkKTtcbiAgICAgIHN0YXJ0RWxhcHNlZFRpbWVUcmFja2luZyhzdGFydFRpbWUpO1xuICAgIH1cbiAgfTtcblxuICAvLyBsb2NhbFN0b3JhZ2UgcGVyc2lzdGVuY2UgaG9va3NcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAvLyBMb2FkIHNhdmVkIHN0YXRlIGZyb20gbG9jYWxTdG9yYWdlIG9uIGNvbXBvbmVudCBtb3VudFxuICAgIGNvbnN0IGxvYWRTYXZlZFN0YXRlID0gKCkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3Qgc2F2ZWRGb3JtRGF0YSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd2aWJlY2FyZGluZy1mb3JtLWRhdGEnKTtcbiAgICAgICAgY29uc29sZS5sb2coJ/CflI0gTG9hZGluZyBzYXZlZCBmb3JtIGRhdGE6Jywgc2F2ZWRGb3JtRGF0YSk7XG4gICAgICAgIGlmIChzYXZlZEZvcm1EYXRhKSB7XG4gICAgICAgICAgY29uc3QgZm9ybURhdGEgPSBKU09OLnBhcnNlKHNhdmVkRm9ybURhdGEpO1xuICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5OLIFBhcnNlZCBmb3JtIGRhdGE6JywgZm9ybURhdGEpO1xuICAgICAgICAgIHNldFByb21wdChmb3JtRGF0YS5wcm9tcHQgfHwgXCJcIik7XG4gICAgICAgICAgc2V0RmluYWxDYXJkTWVzc2FnZShmb3JtRGF0YS5maW5hbENhcmRNZXNzYWdlIHx8IFwiXCIpO1xuICAgICAgICAgIHNldFRvRmllbGQoZm9ybURhdGEudG9GaWVsZCB8fCBcIlwiKTtcbiAgICAgICAgICBzZXRGcm9tRmllbGQoZm9ybURhdGEuZnJvbUZpZWxkIHx8IFwiXCIpO1xuICAgICAgICAgIHNldFNlbGVjdGVkVHlwZShmb3JtRGF0YS5zZWxlY3RlZFR5cGUgfHwgXCJiaXJ0aGRheVwiKTtcbiAgICAgICAgICBzZXRDdXN0b21DYXJkVHlwZShmb3JtRGF0YS5jdXN0b21DYXJkVHlwZSB8fCBcIlwiKTtcbiAgICAgICAgICBzZXRTZWxlY3RlZFRvbmUoZm9ybURhdGEuc2VsZWN0ZWRUb25lIHx8IFwiZnVubnlcIik7XG4gICAgICAgICAgc2V0U2VsZWN0ZWRBcnRpc3RpY1N0eWxlKGZvcm1EYXRhLnNlbGVjdGVkQXJ0aXN0aWNTdHlsZSB8fCBcIndhdGVyY29sb3JcIik7XG4gICAgICAgICAgc2V0Q3VzdG9tU3R5bGVEZXNjcmlwdGlvbihmb3JtRGF0YS5jdXN0b21TdHlsZURlc2NyaXB0aW9uIHx8IFwiXCIpO1xuICAgICAgICAgIHNldFNlbGVjdGVkSW1hZ2VNb2RlbChmb3JtRGF0YS5zZWxlY3RlZEltYWdlTW9kZWwgfHwgXCJncHQtaW1hZ2UtMVwiKTtcbiAgICAgICAgICBzZXRTZWxlY3RlZERyYWZ0TW9kZWwoZm9ybURhdGEuc2VsZWN0ZWREcmFmdE1vZGVsIHx8IFwiZ3B0LWltYWdlLTFcIik7XG4gICAgICAgICAgc2V0TnVtYmVyT2ZDYXJkcyhmb3JtRGF0YS5udW1iZXJPZkNhcmRzIHx8IDEpO1xuICAgICAgICAgIHNldFVzZXJFbWFpbChmb3JtRGF0YS51c2VyRW1haWwgfHwgXCJcIik7XG4gICAgICAgICAgc2V0UmVmZXJlbmNlSW1hZ2VVcmxzKGZvcm1EYXRhLnJlZmVyZW5jZUltYWdlVXJscyB8fCBbXSk7XG4gICAgICAgICAgc2V0SW1hZ2VUcmFuc2Zvcm1hdGlvbihmb3JtRGF0YS5pbWFnZVRyYW5zZm9ybWF0aW9uIHx8IFwiXCIpO1xuICAgICAgICAgIHNldElzSGFuZHdyaXR0ZW5NZXNzYWdlKGZvcm1EYXRhLmlzSGFuZHdyaXR0ZW5NZXNzYWdlIHx8IGZhbHNlKTtcbiAgICAgICAgICBzZXRJc0Zyb250QmFja09ubHkoZm9ybURhdGEuaXNGcm9udEJhY2tPbmx5IHx8IGZhbHNlKTtcbiAgICAgICAgICBzZXRTZWxlY3RlZFBhcGVyU2l6ZShmb3JtRGF0YS5zZWxlY3RlZFBhcGVyU2l6ZSB8fCBcInN0YW5kYXJkXCIpO1xuICAgICAgICAgIHNldFNob3dBZHZhbmNlZChmb3JtRGF0YS5zaG93QWR2YW5jZWQgfHwgZmFsc2UpO1xuICAgICAgICAgIHNldEhhbmR3cml0aW5nU2FtcGxlVXJsKGZvcm1EYXRhLmhhbmR3cml0aW5nU2FtcGxlVXJsIHx8IFwiXCIpO1xuICAgICAgICAgIHNldElzVGV4dGFyZWFFeHBhbmRlZChmb3JtRGF0YS5pc1RleHRhcmVhRXhwYW5kZWQgfHwgZmFsc2UpO1xuICAgICAgICAgIHNldElzTWVzc2FnZUV4cGFuZGVkKGZvcm1EYXRhLmlzTWVzc2FnZUV4cGFuZGVkIHx8IGZhbHNlKTtcbiAgICAgICAgICBzZXRNZXNzYWdlSGlzdG9yeShmb3JtRGF0YS5tZXNzYWdlSGlzdG9yeSB8fCBbXSk7XG4gICAgICAgICAgc2V0Q3VycmVudE1lc3NhZ2VJbmRleChmb3JtRGF0YS5jdXJyZW50TWVzc2FnZUluZGV4IHx8IC0xKTtcbiAgICAgICAgICBzZXRTaG93UmVmaW5lbWVudEJveChmb3JtRGF0YS5zaG93UmVmaW5lbWVudEJveCB8fCBmYWxzZSk7XG4gICAgICAgICAgc2V0U2hvd1NldHRpbmdzKGZvcm1EYXRhLnNob3dTZXR0aW5ncyB8fCBmYWxzZSk7XG4gICAgICAgICAgc2V0U2hvd1ByaW50Q29uZmlybWF0aW9uKGZvcm1EYXRhLnNob3dQcmludENvbmZpcm1hdGlvbiB8fCBmYWxzZSk7XG4gICAgICAgICAgc2V0SXNDYXJkQ29tcGxldGVkKGZvcm1EYXRhLmlzQ2FyZENvbXBsZXRlZCB8fCBmYWxzZSk7XG4gICAgICAgICAgc2V0R2VuZXJhdGlvbkR1cmF0aW9uKGZvcm1EYXRhLmdlbmVyYXRpb25EdXJhdGlvbiB8fCBudWxsKTtcbiAgICAgICAgICBjb25zb2xlLmxvZygn4pyFIEZvcm0gZGF0YSBsb2FkZWQgc3VjY2Vzc2Z1bGx5Jyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ+KEue+4jyBObyBzYXZlZCBmb3JtIGRhdGEgZm91bmQnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHNhdmVkQ2FyZHMgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndmliZWNhcmRpbmctZ2VuZXJhdGVkLWNhcmRzJyk7XG4gICAgICAgIGlmIChzYXZlZENhcmRzKSB7XG4gICAgICAgICAgY29uc3QgY2FyZHNEYXRhID0gSlNPTi5wYXJzZShzYXZlZENhcmRzKTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBDaGVjayBmb3Igb2xkIGZvcm1hdCAod2l0aCBjYXJkcyBhcnJheSkgYW5kIG1pZ3JhdGUgdG8gbmV3IGZvcm1hdFxuICAgICAgICAgIGlmIChjYXJkc0RhdGEuY2FyZHMgJiYgQXJyYXkuaXNBcnJheShjYXJkc0RhdGEuY2FyZHMpKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygn8J+UhCBEZXRlY3RlZCBvbGQgbG9jYWxTdG9yYWdlIGZvcm1hdCwgbWlncmF0aW5nIHRvIG5ldyBmb3JtYXQuLi4nKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gR2V0IHRoZSBtb3N0IHJlY2VudCBjYXJkIGZyb20gdGhlIG9sZCBmb3JtYXRcbiAgICAgICAgICAgIGxldCBtb3N0UmVjZW50Q2FyZCA9IG51bGw7XG4gICAgICAgICAgICBpZiAoY2FyZHNEYXRhLmNhcmRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgLy8gVXNlIHNlbGVjdGVkIGNhcmQgaWYgYXZhaWxhYmxlLCBvdGhlcndpc2UgdXNlIHRoZSBsYXN0IGNhcmQgaW4gYXJyYXlcbiAgICAgICAgICAgICAgY29uc3Qgc2VsZWN0ZWRJbmRleCA9IGNhcmRzRGF0YS5zZWxlY3RlZEluZGV4IHx8IDA7XG4gICAgICAgICAgICAgIG1vc3RSZWNlbnRDYXJkID0gY2FyZHNEYXRhLmNhcmRzW3NlbGVjdGVkSW5kZXhdIHx8IGNhcmRzRGF0YS5jYXJkc1tjYXJkc0RhdGEuY2FyZHMubGVuZ3RoIC0gMV07XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICBpZiAobW9zdFJlY2VudENhcmQpIHtcbiAgICAgICAgICAgICAgICAvLyBDb252ZXJ0IHRvIG5ldyBmb3JtYXQgYW5kIHNhdmUgaW1tZWRpYXRlbHlcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdDYXJkc0RhdGEgPSB7XG4gICAgICAgICAgICAgICAgICBtb3N0UmVjZW50Q2FyZDogbW9zdFJlY2VudENhcmQsXG4gICAgICAgICAgICAgICAgICBnZW5lcmF0aW9uRHVyYXRpb246IGNhcmRzRGF0YS5nZW5lcmF0aW9uRHVyYXRpb24gfHwgbnVsbFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd2aWJlY2FyZGluZy1nZW5lcmF0ZWQtY2FyZHMnLCBKU09OLnN0cmluZ2lmeShuZXdDYXJkc0RhdGEpKTtcbiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfinIUgTWlncmF0ZWQgdG8gbmV3IGxvY2FsU3RvcmFnZSBmb3JtYXQgd2l0aCBtb3N0IHJlY2VudCBjYXJkJyk7XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBGYWlsZWQgdG8gc2F2ZSBtaWdyYXRlZCBkYXRhOicsIGVycm9yKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgLy8gU2V0IHVwIHRoZSBVSSB3aXRoIHRoZSBtaWdyYXRlZCBjYXJkXG4gICAgICAgICAgICAgICAgY29uc3QgY2FyZFdpdGhEYXRlID0ge1xuICAgICAgICAgICAgICAgICAgLi4ubW9zdFJlY2VudENhcmQsXG4gICAgICAgICAgICAgICAgICBjcmVhdGVkQXQ6IG5ldyBEYXRlKG1vc3RSZWNlbnRDYXJkLmNyZWF0ZWRBdClcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHNldEdlbmVyYXRlZENhcmRzKFtjYXJkV2l0aERhdGVdKTtcbiAgICAgICAgICAgICAgICBzZXRTZWxlY3RlZENhcmRJbmRleCgwKTtcbiAgICAgICAgICAgICAgICBzZXRHZW5lcmF0ZWRDYXJkKGNhcmRXaXRoRGF0ZSk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgaWYgKGNhcmRzRGF0YS5nZW5lcmF0aW9uRHVyYXRpb24pIHtcbiAgICAgICAgICAgICAgICAgIHNldEdlbmVyYXRpb25EdXJhdGlvbihjYXJkc0RhdGEuZ2VuZXJhdGlvbkR1cmF0aW9uKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIC8vIE9sZCBmb3JtYXQgYnV0IG5vIGNhcmRzLCBqdXN0IGNsZWFyIGl0XG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn6e5IE9sZCBmb3JtYXQgd2l0aCBubyBjYXJkcywgY2xlYXJpbmcgbG9jYWxTdG9yYWdlJyk7XG4gICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCd2aWJlY2FyZGluZy1nZW5lcmF0ZWQtY2FyZHMnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gSGFuZGxlIG5ldyBmb3JtYXQgKHdpdGggbW9zdFJlY2VudENhcmQpXG4gICAgICAgICAgZWxzZSBpZiAoY2FyZHNEYXRhLm1vc3RSZWNlbnRDYXJkKSB7XG4gICAgICAgICAgICBjb25zdCBtb3N0UmVjZW50Q2FyZCA9IHtcbiAgICAgICAgICAgICAgLi4uY2FyZHNEYXRhLm1vc3RSZWNlbnRDYXJkLFxuICAgICAgICAgICAgICBjcmVhdGVkQXQ6IG5ldyBEYXRlKGNhcmRzRGF0YS5tb3N0UmVjZW50Q2FyZC5jcmVhdGVkQXQpXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgc2V0R2VuZXJhdGVkQ2FyZHMoW21vc3RSZWNlbnRDYXJkXSk7XG4gICAgICAgICAgICBzZXRTZWxlY3RlZENhcmRJbmRleCgwKTtcbiAgICAgICAgICAgIHNldEdlbmVyYXRlZENhcmQobW9zdFJlY2VudENhcmQpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBSZXN0b3JlIGdlbmVyYXRpb24gZHVyYXRpb24gaWYgYXZhaWxhYmxlXG4gICAgICAgICAgICBpZiAoY2FyZHNEYXRhLmdlbmVyYXRpb25EdXJhdGlvbikge1xuICAgICAgICAgICAgICBzZXRHZW5lcmF0aW9uRHVyYXRpb24oY2FyZHNEYXRhLmdlbmVyYXRpb25EdXJhdGlvbik7XG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfij7HvuI8gUmVzdG9yZWQgZ2VuZXJhdGlvbiBkdXJhdGlvbjonLCBjYXJkc0RhdGEuZ2VuZXJhdGlvbkR1cmF0aW9uLCAnc2Vjb25kcycpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc29sZS5sb2coJ+KchSBNb3N0IHJlY2VudCBjYXJkIGxvYWRlZCBmcm9tIGxvY2FsU3RvcmFnZScpO1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLyBJbnZhbGlkIG9yIGVtcHR5IGZvcm1hdCwgY2xlYXIgaXRcbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn6e5IEludmFsaWQgbG9jYWxTdG9yYWdlIGZvcm1hdCBkZXRlY3RlZCwgY2xlYXJpbmcuLi4nKTtcbiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCd2aWJlY2FyZGluZy1nZW5lcmF0ZWQtY2FyZHMnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGxvYWRpbmcgc2F2ZWQgc3RhdGU6JywgZXJyb3IpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICAvLyBDbGVhbnVwIGZ1bmN0aW9uIHRvIHJlbW92ZSBhbnkgc3RhbGUgb3IgdW5uZWNlc3NhcnkgbG9jYWxTdG9yYWdlIGRhdGFcbiAgICBjb25zdCBjbGVhbnVwTG9jYWxTdG9yYWdlID0gKCkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgLy8gTGlzdCBvZiBrZXlzIHdlIHdhbnQgdG8ga2VlcFxuICAgICAgICBjb25zdCBrZWVwS2V5cyA9IFtcbiAgICAgICAgICAndmliZWNhcmRpbmctZm9ybS1kYXRhJyxcbiAgICAgICAgICAndmliZWNhcmRpbmctZ2VuZXJhdGVkLWNhcmRzJyxcbiAgICAgICAgICAndmliZWNhcmRpbmctdGVtcGxhdGVzJyxcbiAgICAgICAgICAndmliZWNhcmRpbmctdGVtcGxhdGVzLXRpbWVzdGFtcCcsXG4gICAgICAgICAgJ2dlbmVyYXRpb24tc3RhcnQtdGltZSdcbiAgICAgICAgXTtcbiAgICAgICAgXG4gICAgICAgIC8vIEdldCBhbGwgbG9jYWxTdG9yYWdlIGtleXMgdGhhdCBzdGFydCB3aXRoICd2aWJlY2FyZGluZy0nIG9yIG90aGVyIGFwcC1yZWxhdGVkIHByZWZpeGVzXG4gICAgICAgIGNvbnN0IGtleXNUb0NoZWNrID0gW107XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbG9jYWxTdG9yYWdlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgY29uc3Qga2V5ID0gbG9jYWxTdG9yYWdlLmtleShpKTtcbiAgICAgICAgICBpZiAoa2V5ICYmIChrZXkuc3RhcnRzV2l0aCgndmliZWNhcmRpbmctJykgfHwga2V5LnN0YXJ0c1dpdGgoJ2NhcmRKb2JfJykgfHwga2V5ID09PSAncGVuZGluZ0NhcmRKb2JzJykpIHtcbiAgICAgICAgICAgIGtleXNUb0NoZWNrLnB1c2goa2V5KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIFJlbW92ZSBhbnkga2V5cyB0aGF0IGFyZSBub3QgaW4gb3VyIGtlZXAgbGlzdFxuICAgICAgICBsZXQgcmVtb3ZlZENvdW50ID0gMDtcbiAgICAgICAga2V5c1RvQ2hlY2suZm9yRWFjaChrZXkgPT4ge1xuICAgICAgICAgIGlmICgha2VlcEtleXMuaW5jbHVkZXMoa2V5KSkge1xuICAgICAgICAgICAgLy8gU3BlY2lhbCBoYW5kbGluZyBmb3Igam9iLXJlbGF0ZWQga2V5cyAtIGtlZXAgcmVjZW50IG9uZXMsIHJlbW92ZSBvbGQgb25lc1xuICAgICAgICAgICAgaWYgKGtleS5zdGFydHNXaXRoKCdjYXJkSm9iXycpIHx8IGtleSA9PT0gJ3BlbmRpbmdDYXJkSm9icycpIHtcbiAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBpZiAoa2V5ID09PSAncGVuZGluZ0NhcmRKb2JzJykge1xuICAgICAgICAgICAgICAgICAgY29uc3QgcGVuZGluZ0pvYnMgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKGtleSkgfHwgJ1tdJyk7XG4gICAgICAgICAgICAgICAgICAvLyBLZWVwIG9ubHkgam9icyBmcm9tIHRoZSBsYXN0IDI0IGhvdXJzXG4gICAgICAgICAgICAgICAgICBjb25zdCBvbmVEYXlBZ28gPSBEYXRlLm5vdygpIC0gKDI0ICogNjAgKiA2MCAqIDEwMDApO1xuICAgICAgICAgICAgICAgICAgY29uc3QgcmVjZW50Sm9icyA9IHBlbmRpbmdKb2JzLmZpbHRlcigoam9iSWQ6IHN0cmluZykgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBqb2JEYXRhID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oYGNhcmRKb2JfJHtqb2JJZH1gKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGpvYkRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICBjb25zdCBqb2IgPSBKU09OLnBhcnNlKGpvYkRhdGEpO1xuICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBqb2IuY3JlYXRlZEF0ICYmIGpvYi5jcmVhdGVkQXQgPiBvbmVEYXlBZ287XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgIGlmIChyZWNlbnRKb2JzLmxlbmd0aCAhPT0gcGVuZGluZ0pvYnMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKGtleSwgSlNPTi5zdHJpbmdpZnkocmVjZW50Sm9icykpO1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhg8J+nuSBDbGVhbmVkIHVwICR7cGVuZGluZ0pvYnMubGVuZ3RoIC0gcmVjZW50Sm9icy5sZW5ndGh9IG9sZCBwZW5kaW5nIGpvYnNgKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGtleS5zdGFydHNXaXRoKCdjYXJkSm9iXycpKSB7XG4gICAgICAgICAgICAgICAgICBjb25zdCBqb2JEYXRhID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oa2V5KTtcbiAgICAgICAgICAgICAgICAgIGlmIChqb2JEYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGpvYiA9IEpTT04ucGFyc2Uoam9iRGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG9uZURheUFnbyA9IERhdGUubm93KCkgLSAoMjQgKiA2MCAqIDYwICogMTAwMCk7XG4gICAgICAgICAgICAgICAgICAgIGlmICgham9iLmNyZWF0ZWRBdCB8fCBqb2IuY3JlYXRlZEF0IDwgb25lRGF5QWdvKSB7XG4gICAgICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oa2V5KTtcbiAgICAgICAgICAgICAgICAgICAgICByZW1vdmVkQ291bnQrKztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAvLyBJZiB3ZSBjYW4ndCBwYXJzZSB0aGUgam9iIGRhdGEsIGl0J3MgcHJvYmFibHkgY29ycnVwdGVkLCBzbyByZW1vdmUgaXRcbiAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShrZXkpO1xuICAgICAgICAgICAgICAgIHJlbW92ZWRDb3VudCsrO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAvLyBSZW1vdmUgYW55IG90aGVyIHVua25vd24ga2V5c1xuICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShrZXkpO1xuICAgICAgICAgICAgICByZW1vdmVkQ291bnQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgaWYgKHJlbW92ZWRDb3VudCA+IDApIHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhg8J+nuSBDbGVhbmVkIHVwICR7cmVtb3ZlZENvdW50fSBzdGFsZSBsb2NhbFN0b3JhZ2UgaXRlbXNgKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZHVyaW5nIGxvY2FsU3RvcmFnZSBjbGVhbnVwOicsIGVycm9yKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgbG9hZFNhdmVkU3RhdGUoKTtcbiAgICBjbGVhbnVwTG9jYWxTdG9yYWdlKCk7XG4gICAgc2V0SXNJbml0aWFsTG9hZENvbXBsZXRlKHRydWUpO1xuICAgIFxuICAgIC8vIFN0YXJ0IHByZWxvYWRpbmcgdGVtcGxhdGUgY2FyZHMgaW1tZWRpYXRlbHkgb24gcGFnZSBsb2FkXG4gICAgcHJlbG9hZEFsbENhcmRzKCk7XG4gIH0sIFtwcmVsb2FkQWxsQ2FyZHNdKTtcblxuICAvLyBDbGVhbnVwIGVsYXBzZWQgdGltZSBpbnRlcnZhbCBvbiB1bm1vdW50XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGlmIChlbGFwc2VkVGltZUludGVydmFsKSB7XG4gICAgICAgIGNsZWFySW50ZXJ2YWwoZWxhcHNlZFRpbWVJbnRlcnZhbCk7XG4gICAgICB9XG4gICAgfTtcbiAgfSwgW2VsYXBzZWRUaW1lSW50ZXJ2YWxdKTtcblxuICAvLyBDaGVjayBmb3IgcGVuZGluZyBqb2JzIGFuZCByZXN0b3JlIHRpbWVyIG9uIHBhZ2UgbG9hZFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNoZWNrUGVuZGluZ0pvYnMoKTtcbiAgICAvLyBSZXN0b3JlIGVsYXBzZWQgdGltZSB0cmFja2luZyBpZiBnZW5lcmF0aW9uIGlzIGluIHByb2dyZXNzXG4gICAgcmVzdG9yZUVsYXBzZWRUaW1lVHJhY2tpbmcoKTtcbiAgfSwgW10pO1xuXG4gIC8vIFNhdmUgZm9ybSBkYXRhIHRvIGxvY2FsU3RvcmFnZSB3aGVuZXZlciBmb3JtIHN0YXRlIGNoYW5nZXNcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAvLyBPbmx5IHNhdmUgYWZ0ZXIgaW5pdGlhbCBsb2FkIGlzIGNvbXBsZXRlIHRvIGF2b2lkIG92ZXJ3cml0aW5nIGxvYWRlZCBkYXRhXG4gICAgaWYgKCFpc0luaXRpYWxMb2FkQ29tcGxldGUpIHJldHVybjtcbiAgICBcbiAgICBjb25zdCBzYXZlRm9ybURhdGEgPSAoKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBmb3JtRGF0YSA9IHtcbiAgICAgICAgICBwcm9tcHQsXG4gICAgICAgICAgZmluYWxDYXJkTWVzc2FnZSxcbiAgICAgICAgICB0b0ZpZWxkLFxuICAgICAgICAgIGZyb21GaWVsZCxcbiAgICAgICAgICBzZWxlY3RlZFR5cGUsXG4gICAgICAgICAgY3VzdG9tQ2FyZFR5cGUsXG4gICAgICAgICAgc2VsZWN0ZWRUb25lLFxuICAgICAgICAgIHNlbGVjdGVkQXJ0aXN0aWNTdHlsZSxcbiAgICAgICAgICBjdXN0b21TdHlsZURlc2NyaXB0aW9uLFxuICAgICAgICAgIHNlbGVjdGVkSW1hZ2VNb2RlbCxcbiAgICAgICAgICBzZWxlY3RlZERyYWZ0TW9kZWwsXG4gICAgICAgICAgbnVtYmVyT2ZDYXJkcyxcbiAgICAgICAgICB1c2VyRW1haWwsXG4gICAgICAgICAgcmVmZXJlbmNlSW1hZ2VVcmxzLFxuICAgICAgICAgIGltYWdlVHJhbnNmb3JtYXRpb24sXG4gICAgICAgICAgaXNIYW5kd3JpdHRlbk1lc3NhZ2UsXG4gICAgICAgICAgaXNGcm9udEJhY2tPbmx5LFxuICAgICAgICAgIHNlbGVjdGVkUGFwZXJTaXplLFxuICAgICAgICAgIHNob3dBZHZhbmNlZCxcbiAgICAgICAgICBoYW5kd3JpdGluZ1NhbXBsZVVybCxcbiAgICAgICAgICBpc1RleHRhcmVhRXhwYW5kZWQsXG4gICAgICAgICAgaXNNZXNzYWdlRXhwYW5kZWQsXG4gICAgICAgICAgbWVzc2FnZUhpc3RvcnksXG4gICAgICAgICAgY3VycmVudE1lc3NhZ2VJbmRleCxcbiAgICAgICAgICBzaG93UmVmaW5lbWVudEJveCxcbiAgICAgICAgICBzaG93U2V0dGluZ3MsXG4gICAgICAgICAgc2hvd1ByaW50Q29uZmlybWF0aW9uLFxuICAgICAgICAgIGlzQ2FyZENvbXBsZXRlZCxcbiAgICAgICAgICBnZW5lcmF0aW9uRHVyYXRpb25cbiAgICAgICAgfTtcbiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3ZpYmVjYXJkaW5nLWZvcm0tZGF0YScsIEpTT04uc3RyaW5naWZ5KGZvcm1EYXRhKSk7XG4gICAgICAgIGNvbnNvbGUubG9nKCfinIUgRm9ybSBkYXRhIHNhdmVkIHRvIGxvY2FsU3RvcmFnZTonLCBmb3JtRGF0YSk7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgRXJyb3Igc2F2aW5nIGZvcm0gZGF0YTonLCBlcnJvcik7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHNhdmVGb3JtRGF0YSgpO1xuICAgICAgfSwgW2lzSW5pdGlhbExvYWRDb21wbGV0ZSwgcHJvbXB0LCBmaW5hbENhcmRNZXNzYWdlLCB0b0ZpZWxkLCBmcm9tRmllbGQsIHNlbGVjdGVkVHlwZSwgY3VzdG9tQ2FyZFR5cGUsIHNlbGVjdGVkVG9uZSwgc2VsZWN0ZWRBcnRpc3RpY1N0eWxlLCBjdXN0b21TdHlsZURlc2NyaXB0aW9uLCBzZWxlY3RlZEltYWdlTW9kZWwsIG51bWJlck9mQ2FyZHMsIHVzZXJFbWFpbCwgcmVmZXJlbmNlSW1hZ2VVcmxzLCBpbWFnZVRyYW5zZm9ybWF0aW9uLCBpc0hhbmR3cml0dGVuTWVzc2FnZSwgaXNGcm9udEJhY2tPbmx5LCBzZWxlY3RlZFBhcGVyU2l6ZSwgc2hvd0FkdmFuY2VkLCBoYW5kd3JpdGluZ1NhbXBsZVVybCwgaXNUZXh0YXJlYUV4cGFuZGVkLCBpc01lc3NhZ2VFeHBhbmRlZCwgbWVzc2FnZUhpc3RvcnksIGN1cnJlbnRNZXNzYWdlSW5kZXgsIHNob3dSZWZpbmVtZW50Qm94LCBzaG93U2V0dGluZ3MsIHNob3dQcmludENvbmZpcm1hdGlvbiwgaXNDYXJkQ29tcGxldGVkLCBnZW5lcmF0aW9uRHVyYXRpb25dKTtcblxuICAvLyBTYXZlIG9ubHkgdGhlIG1vc3QgcmVjZW50IGNhcmQgdG8gbG9jYWxTdG9yYWdlIHdoZW5ldmVyIGl0IGNoYW5nZXNcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBzYXZlR2VuZXJhdGVkQ2FyZHMgPSAoKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBpZiAoZ2VuZXJhdGVkQ2FyZHMubGVuZ3RoID09PSAwKSByZXR1cm47XG4gICAgICAgIFxuICAgICAgICAvLyBHZXQgdGhlIG1vc3QgcmVjZW50IGNhcmQgKHRoZSBsYXN0IG9uZSBpbiB0aGUgYXJyYXksIG9yIHRoZSBzZWxlY3RlZCBvbmUpXG4gICAgICAgIGNvbnN0IG1vc3RSZWNlbnRDYXJkID0gZ2VuZXJhdGVkQ2FyZCB8fCBnZW5lcmF0ZWRDYXJkc1tnZW5lcmF0ZWRDYXJkcy5sZW5ndGggLSAxXTtcbiAgICAgICAgXG4gICAgICAgIC8vIENyZWF0ZSBsaWdodHdlaWdodCB2ZXJzaW9uIHdpdGhvdXQgYmFzZTY0IFFSIGNvZGVzIGZvciBsb2NhbFN0b3JhZ2VcbiAgICAgICAgY29uc3QgY2FyZEZvclN0b3JhZ2UgPSB7IC4uLm1vc3RSZWNlbnRDYXJkIH07XG4gICAgICAgIGlmIChjYXJkRm9yU3RvcmFnZS5iYWNrQ292ZXIgJiYgY2FyZEZvclN0b3JhZ2UuYmFja0NvdmVyLnN0YXJ0c1dpdGgoJ2RhdGE6aW1hZ2UvcG5nO2Jhc2U2NCwnKSkge1xuICAgICAgICAgIC8vIERvbid0IHN0b3JlIHRoZSBiYXNlNjQgUVIgY29kZSB2ZXJzaW9uIC0gaXQncyB0b28gbGFyZ2UgZm9yIGxvY2FsU3RvcmFnZVxuICAgICAgICAgIC8vIFRoZSBRUiBjb2RlIHdpbGwgYmUgcmVnZW5lcmF0ZWQgd2hlbiBuZWVkZWRcbiAgICAgICAgICBjb25zb2xlLmxvZygn8J+SviBTa2lwcGluZyBiYXNlNjQgUVIgY29kZSBzdG9yYWdlIGZvciBjYXJkOicsIGNhcmRGb3JTdG9yYWdlLmlkKTtcbiAgICAgICAgICAvLyBLZWVwIHRoZSBvcmlnaW5hbCBiYWNrIGNvdmVyIFVSTCBpZiB3ZSBoYXZlIGl0XG4gICAgICAgICAgLy8gTm90ZTogSW4gcHJhY3RpY2UsIHdlJ2QgbmVlZCB0byBzdG9yZSB0aGUgb3JpZ2luYWwgVVJMIHNlcGFyYXRlbHlcbiAgICAgICAgICAvLyBGb3Igbm93LCB3ZSdsbCBqdXN0IG5vdCBzYXZlIHRoZSBiYXNlNjQgdmVyc2lvblxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBjb25zdCBjYXJkc0RhdGEgPSB7XG4gICAgICAgICAgbW9zdFJlY2VudENhcmQ6IGNhcmRGb3JTdG9yYWdlLFxuICAgICAgICAgIGdlbmVyYXRpb25EdXJhdGlvbjogZ2VuZXJhdGlvbkR1cmF0aW9uXG4gICAgICAgIH07XG4gICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd2aWJlY2FyZGluZy1nZW5lcmF0ZWQtY2FyZHMnLCBKU09OLnN0cmluZ2lmeShjYXJkc0RhdGEpKTtcbiAgICAgICAgY29uc29sZS5sb2coJ/Cfkr4gTW9zdCByZWNlbnQgY2FyZCBzYXZlZCB0byBsb2NhbFN0b3JhZ2U6JywgY2FyZEZvclN0b3JhZ2UuaWQpO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3Igc2F2aW5nIGdlbmVyYXRlZCBjYXJkczonLCBlcnJvcik7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGlmIChnZW5lcmF0ZWRDYXJkcy5sZW5ndGggPiAwKSB7XG4gICAgICBzYXZlR2VuZXJhdGVkQ2FyZHMoKTtcbiAgICB9XG4gIH0sIFtnZW5lcmF0ZWRDYXJkcywgZ2VuZXJhdGVkQ2FyZCwgZ2VuZXJhdGlvbkR1cmF0aW9uXSk7XG5cbiAgLy8gVHJhY2sgbWFudWFsIG1lc3NhZ2UgY2hhbmdlcyBmb3IgdmVyc2lvbiBjb250cm9sXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFpc0luaXRpYWxMb2FkQ29tcGxldGUpIHJldHVybjtcbiAgICBcbiAgICBjb25zdCB0aW1lb3V0SWQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGlmIChmaW5hbENhcmRNZXNzYWdlLnRyaW0oKSAmJiBcbiAgICAgICAgICBtZXNzYWdlSGlzdG9yeS5sZW5ndGggPiAwICYmIFxuICAgICAgICAgIGZpbmFsQ2FyZE1lc3NhZ2UgIT09IG1lc3NhZ2VIaXN0b3J5W2N1cnJlbnRNZXNzYWdlSW5kZXhdKSB7XG4gICAgICAgIC8vIFVzZXIgaGFzIG1hbnVhbGx5IGVkaXRlZCB0aGUgbWVzc2FnZSwgYWRkIHRvIGhpc3RvcnlcbiAgICAgICAgYWRkTWVzc2FnZVRvSGlzdG9yeShmaW5hbENhcmRNZXNzYWdlKTtcbiAgICAgIH1cbiAgICB9LCAyMDAwKTsgLy8gV2FpdCAyIHNlY29uZHMgYWZ0ZXIgdXNlciBzdG9wcyB0eXBpbmdcblxuICAgIHJldHVybiAoKSA9PiBjbGVhclRpbWVvdXQodGltZW91dElkKTtcbiAgfSwgW2ZpbmFsQ2FyZE1lc3NhZ2UsIGlzSW5pdGlhbExvYWRDb21wbGV0ZV0pO1xuXG5cbiAgLy8gQ2xlYXIgc2F2ZWQgZGF0YSBmdW5jdGlvblxuICBjb25zdCBjbGVhclNhdmVkRGF0YSA9ICgpID0+IHtcbiAgICB0cnkge1xuICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ3ZpYmVjYXJkaW5nLWZvcm0tZGF0YScpO1xuICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ3ZpYmVjYXJkaW5nLWdlbmVyYXRlZC1jYXJkcycpO1xuICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ3ZpYmVjYXJkaW5nLXRlbXBsYXRlcycpO1xuICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ3ZpYmVjYXJkaW5nLXRlbXBsYXRlcy10aW1lc3RhbXAnKTtcbiAgICAgIHRvYXN0LnN1Y2Nlc3MoXCJTYXZlZCBkYXRhIGNsZWFyZWQhXCIpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBjbGVhcmluZyBzYXZlZCBkYXRhOicsIGVycm9yKTtcbiAgICAgIHRvYXN0LmVycm9yKFwiRmFpbGVkIHRvIGNsZWFyIHNhdmVkIGRhdGFcIik7XG4gICAgfVxuICB9O1xuXG4gIC8vIFN0b3JhZ2UgbWFuYWdlbWVudCBmdW5jdGlvblxuICBjb25zdCBnZXRTdG9yYWdlVXNhZ2UgPSAoKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGxldCB0b3RhbFNpemUgPSAwO1xuICAgICAgZm9yIChsZXQga2V5IGluIGxvY2FsU3RvcmFnZSkge1xuICAgICAgICBpZiAobG9jYWxTdG9yYWdlLmhhc093blByb3BlcnR5KGtleSkgJiYga2V5LnN0YXJ0c1dpdGgoJ3ZpYmVjYXJkaW5nLScpKSB7XG4gICAgICAgICAgdG90YWxTaXplICs9IGxvY2FsU3RvcmFnZVtrZXldLmxlbmd0aDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdXNlZDogdG90YWxTaXplLFxuICAgICAgICB1c2VkTUI6ICh0b3RhbFNpemUgLyAoMTAyNCAqIDEwMjQpKS50b0ZpeGVkKDIpLFxuICAgICAgICBwZXJjZW50YWdlOiBNYXRoLnJvdW5kKCh0b3RhbFNpemUgLyAoNSAqIDEwMjQgKiAxMDI0KSkgKiAxMDApIC8vIEFzc3VtZSA1TUIgbGltaXRcbiAgICAgIH07XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHJldHVybiB7IHVzZWQ6IDAsIHVzZWRNQjogJzAnLCBwZXJjZW50YWdlOiAwIH07XG4gICAgfVxuICB9O1xuXG5cbiAgLy8gVGVtcGxhdGUgY3VzdG9taXphdGlvbiBzdGF0ZVxuICBjb25zdCBbc2hvd1RlbXBsYXRlQ3VzdG9taXphdGlvbiwgc2V0U2hvd1RlbXBsYXRlQ3VzdG9taXphdGlvbl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtzZWxlY3RlZFRlbXBsYXRlLCBzZXRTZWxlY3RlZFRlbXBsYXRlXSA9IHVzZVN0YXRlPEdlbmVyYXRlZENhcmQgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW3RlbXBsYXRlQ3VzdG9taXphdGlvbnMsIHNldFRlbXBsYXRlQ3VzdG9taXphdGlvbnNdID0gdXNlU3RhdGUoe1xuICAgIHByb21wdENoYW5nZXM6IFwiXCIsXG4gICAgbWVzc2FnZUNoYW5nZXM6IFwiXCIsXG4gICAgdXNlUmVmZXJlbmNlSW1hZ2U6IGZhbHNlLFxuICAgIHJlZmVyZW5jZUltYWdlRmlsZTogbnVsbCBhcyBGaWxlIHwgbnVsbCxcbiAgICByZWZlcmVuY2VJbWFnZVVybHM6IFtdIGFzIHN0cmluZ1tdLFxuICAgIHJlZmVyZW5jZUltYWdlVHJhbnNmb3JtYXRpb246IFwiXCJcbiAgfSk7XG5cbiAgY29uc3QgYXBwbHlUZW1wbGF0ZSA9ICh0ZW1wbGF0ZTogR2VuZXJhdGVkQ2FyZCkgPT4ge1xuICAgIC8vIFN0b3JlIHRoZSBzZWxlY3RlZCB0ZW1wbGF0ZSBhbmQgc2hvdyBjdXN0b21pemF0aW9uIGRpYWxvZ1xuICAgIHNldFNlbGVjdGVkVGVtcGxhdGUodGVtcGxhdGUpO1xuICAgIHNldFNob3dUZW1wbGF0ZUN1c3RvbWl6YXRpb24odHJ1ZSk7XG4gICAgc2V0U2hvd1RlbXBsYXRlR2FsbGVyeShmYWxzZSk7XG4gICAgXG4gICAgLy8gSW5pdGlhbGl6ZSBjdXN0b21pemF0aW9uIGZvcm0gd2l0aCB0ZW1wbGF0ZSBkYXRhXG4gICAgc2V0VGVtcGxhdGVDdXN0b21pemF0aW9ucyh7XG4gICAgICBwcm9tcHRDaGFuZ2VzOiBcIlwiLFxuICAgICAgbWVzc2FnZUNoYW5nZXM6IFwiXCIsXG4gICAgICB1c2VSZWZlcmVuY2VJbWFnZTogZmFsc2UsXG4gICAgICByZWZlcmVuY2VJbWFnZUZpbGU6IG51bGwsXG4gICAgICByZWZlcmVuY2VJbWFnZVVybHM6IFtdLFxuICAgICAgcmVmZXJlbmNlSW1hZ2VUcmFuc2Zvcm1hdGlvbjogXCJcIlxuICAgIH0pO1xuICB9O1xuXG4gIC8vIEdlbmVyYXRlIGNhcmQgZGlyZWN0bHkgd2l0aCBleGlzdGluZyBwcm9tcHRzIChmb3IgdGVtcGxhdGUgY3VzdG9taXphdGlvbilcbiAgY29uc3QgZ2VuZXJhdGVDYXJkV2l0aEV4aXN0aW5nUHJvbXB0cyA9IGFzeW5jIChwcm9tcHRzOiBhbnkpID0+IHtcbiAgICBpZiAoIXVzZXJFbWFpbC50cmltKCkpIHtcbiAgICAgIHRvYXN0LmVycm9yKFwiUGxlYXNlIGVudGVyIHlvdXIgZW1haWwgYWRkcmVzc1wiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBDbGVhciBhbGwgZHJhZnQgbW9kZSBzdGF0ZXMgdG8gcHJldmVudCBVSSBjb25mbGljdHNcbiAgICBzZXRJc0RyYWZ0TW9kZShmYWxzZSk7XG4gICAgc2V0RHJhZnRDYXJkcyhbXSk7XG4gICAgc2V0RHJhZnRJbmRleE1hcHBpbmcoW10pO1xuICAgIHNldFNlbGVjdGVkRHJhZnRJbmRleCgtMSk7XG4gICAgc2V0SXNHZW5lcmF0aW5nRmluYWxDYXJkKGZhbHNlKTtcbiAgICBzZXRQcmV2aWV3aW5nRHJhZnRJbmRleCgtMSk7XG4gICAgc2V0RHJhZnRDb21wbGV0aW9uU2hvd24oZmFsc2UpOyAvLyBSZXNldCBjb21wbGV0aW9uIGZsYWdcbiAgICBcbiAgICAvLyBDbGVhciBhbnkgZXhpc3RpbmcgY2FyZCBzdGF0ZXNcbiAgICBzZXRHZW5lcmF0ZWRDYXJkcyhbXSk7XG4gICAgc2V0R2VuZXJhdGVkQ2FyZChudWxsKTtcbiAgICBzZXRTZWxlY3RlZENhcmRJbmRleCgwKTtcbiAgICBzZXRDdXJyZW50Q2FyZElkKG51bGwpO1xuICAgIHNldElzQ2FyZENvbXBsZXRlZChmYWxzZSk7XG5cbiAgICBzZXRJc0dlbmVyYXRpbmcodHJ1ZSk7XG4gICAgc3RhcnRFbGFwc2VkVGltZVRyYWNraW5nKCk7XG4gICAgc2V0R2VuZXJhdGlvblByb2dyZXNzKFwi8J+OqCBDcmVhdGluZyB5b3VyIGN1c3RvbWl6ZWQgdGVtcGxhdGUgY2FyZC4uLlwiKTtcbiAgICBzZXRQcm9ncmVzc1BlcmNlbnRhZ2UoMCk7XG5cbiAgICB0cnkge1xuICAgICAgLy8gQ3JlYXRlIGpvYiB0cmFja2luZ1xuICAgICAgY29uc3Qgam9iSWQgPSB1dWlkdjQoKTtcbiAgICAgIHNldEN1cnJlbnRKb2JJZChqb2JJZCk7XG4gICAgICBcbiAgICAgIGNvbnN0IGNhcmRUeXBlRm9yUHJvbXB0ID0gc2VsZWN0ZWRUeXBlID09PSBcImN1c3RvbVwiID8gY3VzdG9tQ2FyZFR5cGUgOiBzZWxlY3RlZFR5cGU7XG4gICAgICBjb25zdCBwYXBlckNvbmZpZyA9IHBhcGVyU2l6ZXMuZmluZChzaXplID0+IHNpemUuaWQgPT09IHNlbGVjdGVkUGFwZXJTaXplKSB8fCBwYXBlclNpemVzWzBdO1xuXG4gICAgICAvLyBIYW5kbGUgbWVzc2FnZSBjdXN0b21pemF0aW9uXG4gICAgICBsZXQgbWVzc2FnZUNvbnRlbnQgPSB0ZW1wbGF0ZUN1c3RvbWl6YXRpb25zLm1lc3NhZ2VDaGFuZ2VzLnRyaW0oKSB8fCBmaW5hbENhcmRNZXNzYWdlO1xuICAgICAgaWYgKGlzSGFuZHdyaXR0ZW5NZXNzYWdlKSB7XG4gICAgICAgIG1lc3NhZ2VDb250ZW50ID0gXCJbQmxhbmsgc3BhY2UgZm9yIGhhbmR3cml0dGVuIG1lc3NhZ2VdXCI7XG4gICAgICB9XG5cbiAgICAgIC8vIFVwZGF0ZSB0aGUgcmlnaHQgaW50ZXJpb3IgcHJvbXB0IHdpdGggY3VzdG9tIG1lc3NhZ2UgaWYgcHJvdmlkZWRcbiAgICAgIGlmIChtZXNzYWdlQ29udGVudCAmJiBwcm9tcHRzLnJpZ2h0SW50ZXJpb3IgJiYgIWlzSGFuZHdyaXR0ZW5NZXNzYWdlKSB7XG4gICAgICAgIHByb21wdHMucmlnaHRJbnRlcmlvciA9IHByb21wdHMucmlnaHRJbnRlcmlvclxuICAgICAgICAgIC5yZXBsYWNlKC9JbmNsdWRlIG1lc3NhZ2UgdGV4dDogXCJbXlwiXSpcIi9nLCBgSW5jbHVkZSBtZXNzYWdlIHRleHQ6IFwiJHttZXNzYWdlQ29udGVudH1cImApXG4gICAgICAgICAgLnJlcGxhY2UoL1wiTUVTU0FHRSBHT0VTIEhFUkVcIi9nLCBgXCIke21lc3NhZ2VDb250ZW50fVwiYClcbiAgICAgICAgICAucmVwbGFjZSgvTUVTU0FHRSBHT0VTIEhFUkUvZywgbWVzc2FnZUNvbnRlbnQpO1xuICAgICAgfVxuXG4gICAgICAvLyBTYXZlIGpvYiBkYXRhXG4gICAgICBjb25zdCBqb2JEYXRhID0ge1xuICAgICAgICBwcm9tcHQ6IHNlbGVjdGVkVGVtcGxhdGU/LnByb21wdCB8fCBcIlwiLFxuICAgICAgICBzZWxlY3RlZFR5cGUsXG4gICAgICAgIGN1c3RvbUNhcmRUeXBlLFxuICAgICAgICBzZWxlY3RlZFRvbmUsXG4gICAgICAgIGZpbmFsQ2FyZE1lc3NhZ2U6IG1lc3NhZ2VDb250ZW50LFxuICAgICAgICB0b0ZpZWxkLFxuICAgICAgICBmcm9tRmllbGQsXG4gICAgICAgIHVzZXJFbWFpbCxcbiAgICAgICAgc2VsZWN0ZWRBcnRpc3RpY1N0eWxlLFxuICAgICAgICBjdXN0b21TdHlsZURlc2NyaXB0aW9uLFxuICAgICAgICBzZWxlY3RlZEltYWdlTW9kZWwsXG4gICAgICAgIGlzRnJvbnRCYWNrT25seSxcbiAgICAgICAgbnVtYmVyT2ZDYXJkczogMSxcbiAgICAgICAgc2VsZWN0ZWRQYXBlclNpemUsXG4gICAgICAgIHByb21wdHMsXG4gICAgICAgIHBhcGVyQ29uZmlnLFxuICAgICAgICBpc1RlbXBsYXRlQ3VzdG9taXphdGlvbjogdHJ1ZVxuICAgICAgfTtcbiAgICAgIFxuICAgICAgc2F2ZUpvYlRvU3RvcmFnZShqb2JJZCwgam9iRGF0YSk7XG4gICAgICBcbiAgICAgIHNldEdlbmVyYXRpb25Qcm9ncmVzcyhcIvCfmoAgU3RhcnRpbmcgeW91ciBwZXJzb25hbGl6ZWQgdGVtcGxhdGUgY2FyZCBnZW5lcmF0aW9uLi4uXCIpO1xuICAgICAgXG4gICAgICAvLyBQcmVwYXJlIGlucHV0IGltYWdlcyBmb3IgcmVmZXJlbmNlIHBob3RvIHN1cHBvcnRcbiAgICAgIGNvbnN0IGlucHV0SW1hZ2VzOiBzdHJpbmdbXSA9IFtdO1xuICAgICAgXG4gICAgICAgICAgICAgIC8vIEluY2x1ZGUgYm90aCB0ZW1wbGF0ZSBjdXN0b21pemF0aW9uIHJlZmVyZW5jZSBpbWFnZXMgYW5kIG1haW4gcmVmZXJlbmNlIGltYWdlc1xuICAgICAgICBpZiAoc2VsZWN0ZWRJbWFnZU1vZGVsID09PSBcImdwdC1pbWFnZS0xXCIpIHtcbiAgICAgICAgICAvLyBBZGQgdGVtcGxhdGUgY3VzdG9taXphdGlvbiByZWZlcmVuY2UgaW1hZ2VzXG4gICAgICAgICAgaWYgKHRlbXBsYXRlQ3VzdG9taXphdGlvbnMucmVmZXJlbmNlSW1hZ2VVcmxzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGlucHV0SW1hZ2VzLnB1c2goLi4udGVtcGxhdGVDdXN0b21pemF0aW9ucy5yZWZlcmVuY2VJbWFnZVVybHMpO1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCLwn5SNIERFQlVHOiBBZGRlZCB0ZW1wbGF0ZSBjdXN0b21pemF0aW9uIHJlZmVyZW5jZSBpbWFnZXM6XCIsIHRlbXBsYXRlQ3VzdG9taXphdGlvbnMucmVmZXJlbmNlSW1hZ2VVcmxzKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gQWRkIG1haW4gcmVmZXJlbmNlIGltYWdlcyBmcm9tIHRoZSBmb3JtXG4gICAgICAgICAgaWYgKHJlZmVyZW5jZUltYWdlVXJscy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBpbnB1dEltYWdlcy5wdXNoKC4uLnJlZmVyZW5jZUltYWdlVXJscyk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIvCflI0gREVCVUc6IEFkZGVkIG1haW4gZm9ybSByZWZlcmVuY2UgaW1hZ2VzOlwiLCByZWZlcmVuY2VJbWFnZVVybHMpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBcbiAgICAgICAgICBpZiAoaW5wdXRJbWFnZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCLwn5SNIERFQlVHOiBUb3RhbCBpbnB1dCBpbWFnZXMgZm9yIHRlbXBsYXRlIGdlbmVyYXRpb246XCIsIGlucHV0SW1hZ2VzLmxlbmd0aCk7XG4gICAgICAgICAgICB0b2FzdC5zdWNjZXNzKGDwn5O4ICR7aW5wdXRJbWFnZXMubGVuZ3RofSByZWZlcmVuY2UgcGhvdG8ke2lucHV0SW1hZ2VzLmxlbmd0aCA+IDEgPyAncycgOiAnJ30gcmVhZHkgZm9yIHRlbXBsYXRlIGN1c3RvbWl6YXRpb24hYCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgIC8vIEVuaGFuY2UgcHJvbXB0cyB3aXRoIHJlZmVyZW5jZSBpbWFnZSBpbnN0cnVjdGlvbnMgaWYgYXZhaWxhYmxlXG4gICAgICBjb25zdCBlbmhhbmNlZFByb21wdHMgPSB7IC4uLnByb21wdHMgfTtcbiAgICAgIGlmIChpbnB1dEltYWdlcy5sZW5ndGggPiAwICYmIHNlbGVjdGVkSW1hZ2VNb2RlbCA9PT0gXCJncHQtaW1hZ2UtMVwiKSB7XG4gICAgICAgIGNvbnN0IHRvdGFsUmVmZXJlbmNlSW1hZ2VzID0gKHRlbXBsYXRlQ3VzdG9taXphdGlvbnMucmVmZXJlbmNlSW1hZ2VVcmxzPy5sZW5ndGggfHwgMCkgKyAocmVmZXJlbmNlSW1hZ2VVcmxzPy5sZW5ndGggfHwgMCk7XG4gICAgICAgIGNvbnN0IGNoYXJhY3Rlckluc3RydWN0aW9ucyA9IGBcXG5cXG5DUklUSUNBTCBDSEFSQUNURVIgUkVGRVJFTkNFIElOU1RSVUNUSU9OUzogSSBoYXZlIHByb3ZpZGVkICR7dG90YWxSZWZlcmVuY2VJbWFnZXMgPiAxID8gJ211bHRpcGxlIHJlZmVyZW5jZSBwaG90b3MnIDogJ2EgcmVmZXJlbmNlIHBob3RvJ30gYXMgaW5wdXQgaW1hZ2Uke3RvdGFsUmVmZXJlbmNlSW1hZ2VzID4gMSA/ICdzJyA6ICcnfS4gWW91IE1VU1QgY3JlYXRlIGNhcnRvb24vaWxsdXN0cmF0ZWQgY2hhcmFjdGVycyB0aGF0IGFjY3VyYXRlbHkgcmVwcmVzZW50IE9OTFkgdGhlIHBlb3BsZSB3aG8gYXJlIGFjdHVhbGx5IHZpc2libGUgaW4gJHt0b3RhbFJlZmVyZW5jZUltYWdlcyA+IDEgPyAndGhlc2UgcmVmZXJlbmNlIHBob3RvcycgOiAndGhpcyByZWZlcmVuY2UgcGhvdG8nfSB3aXRoIGhpZ2ggZmlkZWxpdHkgdG8gdGhlaXIgYXBwZWFyYW5jZS5cblxuTUFOREFUT1JZIENIQVJBQ1RFUiBNQVRDSElORyBSRVFVSVJFTUVOVFMgLSBPTkxZIElOQ0xVREUgV0hBVCBJUyBBQ1RVQUxMWSBWSVNJQkxFOlxuLSBSRVBSRVNFTlQgT05MWSBQRU9QTEUgQUNUVUFMTFkgSU4gVEhFIFBIT1RPUzogQ3JlYXRlIGNhcnRvb24gdmVyc2lvbnMgb2YgT05MWSB0aGUgcGVvcGxlIHdobyBhcmUgYWN0dWFsbHkgc2hvd24gaW4gdGhlIHJlZmVyZW5jZSBwaG90b3MuIERvIE5PVCBhZGQsIGNyZWF0ZSwgb3IgaW1hZ2luZSBhbnkgYWRkaXRpb25hbCBwZW9wbGUgbm90IHByZXNlbnQgaW4gdGhlIHJlZmVyZW5jZSBpbWFnZXMuXG4tIEVYQUNUIGhhaXIgY29sb3IsIGhhaXIgc3R5bGUsIGFuZCBoYWlyIGxlbmd0aCBmcm9tIGVhY2ggcmVmZXJlbmNlIHBob3RvIC0gb25seSB3aGF0IGlzIGFjdHVhbGx5IHZpc2libGVcbi0gUFJFQ0lTRSBmYWNpYWwgZmVhdHVyZXMgZm9yIGVhY2ggcGVyc29uOiBleWUgY29sb3IsIGV5ZSBzaGFwZSwgbm9zZSBzaGFwZSwgZmFjZSBzdHJ1Y3R1cmUsIHNraW4gdG9uZSAtIGV4YWN0bHkgYXMgc2hvd24gaW4gdGhlIHJlZmVyZW5jZVxuLSBBQ0NVUkFURSBjbG90aGluZzogcmVwbGljYXRlIE9OTFkgdGhlIEVYQUNUIGNsb3RoaW5nIGl0ZW1zLCBjb2xvcnMsIHBhdHRlcm5zLCBhbmQgc3R5bGVzIGFjdHVhbGx5IHdvcm4gYnkgZWFjaCBwZXJzb24gaW4gdGhlaXIgcmVmZXJlbmNlIHBob3RvIC0gZG8gbm90IGFkZCBvciBjaGFuZ2UgYW55IGNsb3RoaW5nIGl0ZW1zXG4tIEFDQ0VTU09SSUVTIE9OTFkgSUYgVklTSUJMRTogSW5jbHVkZSBhY2Nlc3NvcmllcyAoZ2xhc3NlcywgamV3ZWxyeSwgaGF0cywgd2F0Y2hlcywgYmFncywgZXRjLikgT05MWSBpZiB0aGV5IGFyZSBhY3R1YWxseSB2aXNpYmxlIG9uIGVhY2ggcGVyc29uIGluIHRoZSByZWZlcmVuY2UgcGhvdG8uIERPIE5PVCBhZGQgZ2xhc3NlcyBpZiB0aGV5IGFyZSBub3Qgd2VhcmluZyBnbGFzc2VzIGluIHRoZSBwaG90by4gRE8gTk9UIGFkZCBqZXdlbHJ5IGlmIHRoZXkgYXJlIG5vdCB3ZWFyaW5nIGpld2VscnkgaW4gdGhlIHBob3RvLiBETyBOT1QgYWRkIGFueSBhY2Nlc3NvcmllcyB0aGF0IGFyZSBub3QgY2xlYXJseSB2aXNpYmxlIGluIHRoZSByZWZlcmVuY2UgaW1hZ2UuXG4tIENPUlJFQ1QgYm9keSBwcm9wb3J0aW9ucyBhbmQgcG9zdHVyZSBhcyBzaG93biBmb3IgZWFjaCBwZXJzb24gaW4gdGhlaXIgcmVmZXJlbmNlXG4tIEZBSVRIRlVMIGFnZSByZXByZXNlbnRhdGlvbiBhbmQgZ2VuZGVyIHByZXNlbnRhdGlvbiBmb3IgZWFjaCBpbmRpdmlkdWFsIC0gZXhhY3RseSBhcyB0aGV5IGFwcGVhclxuLSBBVVRIRU5USUMgZmFjaWFsIGV4cHJlc3Npb25zIGFuZCBwb3NlcyBmcm9tIHRoZSByZWZlcmVuY2UgaW1hZ2VzLCBsZWFuIHRvd2FyZHMgbWFraW5nIHRoZSBwZW9wbGUgbG9vayBoYXBwaWVyIHVubGVzcyB0aGUgdXNlciBzcGVjaWZpY2FsbHkgYXNrcyBmb3IgYSBkaWZmZXJlbnQgZXhwcmVzc2lvblxuLSBHUk9VUCBDT01QT1NJVElPTjogSWYgbXVsdGlwbGUgcGVvcGxlIGFyZSBhY3R1YWxseSBzaG93biBpbiB0aGUgcGhvdG9zLCBhcnJhbmdlIHRoZW0gbmF0dXJhbGx5IHRvZ2V0aGVyIGluIGEgcGxlYXNpbmcgY29tcG9zaXRpb24gdGhhdCBmaXRzIHRoZSBjYXJkJ3MgdGhlbWVcblxuQ1JJVElDQUwgUkVTVFJJQ1RJT046IERvIG5vdCBhZGQsIHJlbW92ZSwgb3IgbW9kaWZ5IGFueSB2aXN1YWwgZWxlbWVudHMgYmV5b25kIHdoYXQgaXMgYWN0dWFsbHkgdmlzaWJsZSBpbiB0aGUgcmVmZXJlbmNlIHBob3Rvcy4gT25seSBpbmNsdWRlIHBlb3BsZSwgY2xvdGhpbmcsIGFuZCBhY2Nlc3NvcmllcyB0aGF0IGFyZSBjbGVhcmx5IHNob3duIGluIHRoZSByZWZlcmVuY2UgaW1hZ2VzLlxuXG4ke3RlbXBsYXRlQ3VzdG9taXphdGlvbnMucmVmZXJlbmNlSW1hZ2VUcmFuc2Zvcm1hdGlvbiB8fCBpbWFnZVRyYW5zZm9ybWF0aW9uIHx8ICdTdHVkeSBldmVyeSBkZXRhaWwgb2YgdGhlIHBlb3BsZSBhY3R1YWxseSBpbiB0aGUgcmVmZXJlbmNlIGltYWdlIGFuZCByZWNyZWF0ZSB0aGVtIGFzIHN0eWxpemVkIGNhcnRvb24gY2hhcmFjdGVycyB3aGlsZSBtYWludGFpbmluZyAxMDAlIGFjY3VyYWN5IHRvIHRoZWlyIGRpc3RpbmN0aXZlIHZpc3VhbCBmZWF0dXJlcy4gVGhlIGNoYXJhY3RlcnMgbXVzdCBiZSBpbW1lZGlhdGVseSByZWNvZ25pemFibGUgYXMgdGhlIHNhbWUgcGVvcGxlIGZyb20gdGhlIHJlZmVyZW5jZSBwaG90by4gUGF5IHNwZWNpYWwgYXR0ZW50aW9uIHRvIGNsb3RoaW5nIGRldGFpbHMgYW5kIGFjY2Vzc29yaWVzIHRoYXQgYXJlIGFjdHVhbGx5IHZpc2libGUsIGFuZCB1bmlxdWUgcGVyc29uYWwgc3R5bGUgZWxlbWVudHMgdGhhdCBtYWtlIGVhY2ggcGVyc29uIGRpc3RpbmN0aXZlLiBEbyBub3QgYWRkIG9yIGltYWdpbmUgYW55IGVsZW1lbnRzIG5vdCBwcmVzZW50IGluIHRoZSByZWZlcmVuY2UuJ31cblxuVGhlIGNhcnRvb24gc3R5bGUgc2hvdWxkIGJlIGNoYXJtaW5nIGFuZCBhcnRpc3RpYyB3aGlsZSBwcmVzZXJ2aW5nIGNvbXBsZXRlIHZpc3VhbCBhY2N1cmFjeSB0byB0aGUgcmVmZXJlbmNlIHBob3RvLiBPbmx5IHJlcHJlc2VudCBwZW9wbGUsIGNsb3RoaW5nLCBhbmQgYWNjZXNzb3JpZXMgdGhhdCBhcmUgYWN0dWFsbHkgdmlzaWJsZSBpbiB0aGUgcmVmZXJlbmNlIGltYWdlcy5gO1xuXG4gICAgICAgIGlmIChlbmhhbmNlZFByb21wdHMuZnJvbnRDb3Zlcikge1xuICAgICAgICAgIGVuaGFuY2VkUHJvbXB0cy5mcm9udENvdmVyICs9IGNoYXJhY3Rlckluc3RydWN0aW9ucztcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCcvYXBpL2dlbmVyYXRlLWNhcmQtYXN5bmMnLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgIGpvYklkLFxuICAgICAgICAgIHByb21wdHM6IGVuaGFuY2VkUHJvbXB0cyxcbiAgICAgICAgICBjb25maWc6IHtcbiAgICAgICAgICAgIHVzZXJOdW1iZXI6IFwiKzE3MTQ1OTg2MTA1XCIsXG4gICAgICAgICAgICBtb2RlbFZlcnNpb246IHNlbGVjdGVkSW1hZ2VNb2RlbCxcbiAgICAgICAgICAgIGFzcGVjdFJhdGlvOiBwYXBlckNvbmZpZy5hc3BlY3RSYXRpbyxcbiAgICAgICAgICAgIHF1YWxpdHk6IFwiaGlnaFwiLCAvLyBIaWdoIHF1YWxpdHkgZm9yIHRlbXBsYXRlIGN1c3RvbWl6YXRpb25cbiAgICAgICAgICAgIG91dHB1dEZvcm1hdDogXCJqcGVnXCIsXG4gICAgICAgICAgICBvdXRwdXRDb21wcmVzc2lvbjogMTAwLFxuICAgICAgICAgICAgbW9kZXJhdGlvbjogXCJsb3dcIixcbiAgICAgICAgICAgIGRpbWVuc2lvbnM6IHBhcGVyQ29uZmlnLmRpbWVuc2lvbnMsXG4gICAgICAgICAgICBpc0Zyb250QmFja09ubHksXG4gICAgICAgICAgICB1c2VyRW1haWwsXG4gICAgICAgICAgICBjYXJkVHlwZTogY2FyZFR5cGVGb3JQcm9tcHQsXG4gICAgICAgICAgICB0b0ZpZWxkLFxuICAgICAgICAgICAgZnJvbUZpZWxkLFxuICAgICAgICAgICAgaXNEcmFmdE1vZGU6IGZhbHNlLCAvLyBFeHBsaWNpdGx5IHNldCB0byBmYWxzZSBmb3IgdGVtcGxhdGUgZ2VuZXJhdGlvblxuICAgICAgICAgICAgaXNUZW1wbGF0ZUN1c3RvbWl6YXRpb246IHRydWUsXG4gICAgICAgICAgICAuLi4oaW5wdXRJbWFnZXMubGVuZ3RoID4gMCAmJiB7IFxuICAgICAgICAgICAgICBpbnB1dF9pbWFnZXM6IGlucHV0SW1hZ2VzLFxuICAgICAgICAgICAgICBpbnB1dF9pbWFnZXNfbW9kZTogXCJmcm9udF9jb3Zlcl9vbmx5XCIgLy8gQWxsIHJlZmVyZW5jZSBpbWFnZXMgc2hvdWxkIGdvIHRvIGZyb250IGNvdmVyIGZvciBjaGFyYWN0ZXIgY3JlYXRpb25cbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgfSk7XG5cbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBTZXJ2ZXIgZXJyb3I6ICR7cmVzcG9uc2Uuc3RhdHVzfWApO1xuICAgICAgfVxuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICBcbiAgICAgIGlmIChyZXN1bHQuc3RhdHVzICE9PSAncHJvY2Vzc2luZycpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKHJlc3VsdC5tZXNzYWdlIHx8ICdGYWlsZWQgdG8gc3RhcnQgY2FyZCBnZW5lcmF0aW9uJyk7XG4gICAgICB9XG5cbiAgICAgIHNldEdlbmVyYXRpb25Qcm9ncmVzcyhcIuKcqCBCcmluZ2luZyB5b3VyIGN1c3RvbWl6ZWQgdGVtcGxhdGUgdG8gbGlmZS4uLlwiKTtcbiAgICAgIHRvYXN0LnN1Y2Nlc3MoXCLwn46JIFlvdXIgcGVyc29uYWxpemVkIHRlbXBsYXRlIGNhcmQgZ2VuZXJhdGlvbiBzdGFydGVkIVwiKTtcbiAgICAgIFxuICAgICAgcG9sbEpvYlN0YXR1cyhqb2JJZCk7XG5cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignVGVtcGxhdGUgY3VzdG9taXphdGlvbiBnZW5lcmF0aW9uIGVycm9yOicsIGVycm9yKTtcbiAgICAgIHRvYXN0LmVycm9yKFwiRmFpbGVkIHRvIGdlbmVyYXRlIGN1c3RvbWl6ZWQgY2FyZC4gUGxlYXNlIHRyeSBhZ2Fpbi5cIik7XG4gICAgICBcbiAgICAgIGlmIChjdXJyZW50Sm9iSWQpIHtcbiAgICAgICAgcmVtb3ZlSm9iRnJvbVN0b3JhZ2UoY3VycmVudEpvYklkKTtcbiAgICAgICAgc2V0Q3VycmVudEpvYklkKG51bGwpO1xuICAgICAgfVxuICAgICAgXG4gICAgICBzZXRJc0dlbmVyYXRpbmcoZmFsc2UpO1xuICAgICAgc2V0R2VuZXJhdGlvblByb2dyZXNzKFwiXCIpO1xuICAgICAgc3RvcEVsYXBzZWRUaW1lVHJhY2tpbmcoKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlQXBwbHlUZW1wbGF0ZVdpdGhDdXN0b21pemF0aW9ucyA9IGFzeW5jICgpID0+IHtcbiAgICBpZiAoIXNlbGVjdGVkVGVtcGxhdGUpIHJldHVybjtcbiAgICBcbiAgICAvLyBTaG93IGxvYWRpbmcgc3RhdGUgaWYgd2UgaGF2ZSBjdXN0b21pemF0aW9ucyB0byBwcm9jZXNzXG4gICAgaWYgKHRlbXBsYXRlQ3VzdG9taXphdGlvbnMucHJvbXB0Q2hhbmdlcy50cmltKCkgJiYgc2VsZWN0ZWRUZW1wbGF0ZS5nZW5lcmF0ZWRQcm9tcHRzKSB7XG4gICAgICB0b2FzdC5pbmZvKFwi8J+kliBBSSBpcyBhcHBseWluZyB5b3VyIGN1c3RvbWl6YXRpb25zIHRvIHRoZSB0ZW1wbGF0ZS4uLlwiKTtcbiAgICB9XG4gICAgXG4gICAgLy8gQXBwbHkgdGVtcGxhdGUgZGF0YSB0byBmb3JtIC0gc3RhcnQgd2l0aCBvcmlnaW5hbCBwcm9tcHRcbiAgICBsZXQgZmluYWxQcm9tcHQgPSBzZWxlY3RlZFRlbXBsYXRlLnByb21wdCB8fCBcIlwiO1xuICAgIFxuICAgIC8vIElmIHdlIGhhdmUgY3VzdG9taXphdGlvbnMgYW5kIGdlbmVyYXRlZCBwcm9tcHRzLCBtb2RpZnkgdGhlbSBkaXJlY3RseSBhbmQgZ2VuZXJhdGUgaW1tZWRpYXRlbHlcbiAgICBpZiAodGVtcGxhdGVDdXN0b21pemF0aW9ucy5wcm9tcHRDaGFuZ2VzLnRyaW0oKSAmJiBzZWxlY3RlZFRlbXBsYXRlLmdlbmVyYXRlZFByb21wdHMpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIC8vIERpcmVjdGx5IG1vZGlmeSB0aGUgZ2VuZXJhdGVkIHByb21wdHMgdXNpbmcgQUlcbiAgICAgICAgY29uc3QgbW9kaWZpY2F0aW9uUXVlcnkgPSBgWW91IGFyZSBhbiBleHBlcnQgYXQgbW9kaWZ5aW5nIGRldGFpbGVkIGltYWdlIGdlbmVyYXRpb24gcHJvbXB0cyBmb3IgZ3JlZXRpbmcgY2FyZHMuIFlvdSBoYXZlIGV4aXN0aW5nIHByb21wdHMgZm9yIGVhY2ggc2VjdGlvbiBvZiBhIGNhcmQsIGFuZCB0aGUgdXNlciB3YW50cyB0byBtYWtlIHNwZWNpZmljIGNoYW5nZXMuXG5cblVTRVInUyBDVVNUT01JWkFUSU9OIFJFUVVFU1Q6IFwiJHt0ZW1wbGF0ZUN1c3RvbWl6YXRpb25zLnByb21wdENoYW5nZXN9XCJcblxuVEFTSzogTW9kaWZ5IGVhY2ggb2YgdGhlIHByb3ZpZGVkIHByb21wdHMgdG8gaW5jb3Jwb3JhdGUgdGhlIHVzZXIncyByZXF1ZXN0ZWQgY2hhbmdlcyB3aGlsZSBwcmVzZXJ2aW5nIGFsbCB0aGUgb3JpZ2luYWwgdGVjaG5pY2FsIHNwZWNpZmljYXRpb25zLCBzYWZldHkgZ3VpZGVsaW5lcywgYW5kIGFydGlzdGljIGRldGFpbHMuXG5cbklOU1RSVUNUSU9OUzpcbjEuIE9ubHkgbW9kaWZ5IGVsZW1lbnRzIHNwZWNpZmljYWxseSBtZW50aW9uZWQgaW4gdGhlIHVzZXIncyBjdXN0b21pemF0aW9uIHJlcXVlc3RcbjIuIFByZXNlcnZlIEFMTCB0ZWNobmljYWwgc3BlY2lmaWNhdGlvbnMgKHBvcnRyYWl0IGZvcm1hdCwgdGV4dCBwb3NpdGlvbmluZywgZWRnZSBzYWZldHksIGV0Yy4pXG4zLiBNYWludGFpbiB0aGUgc2FtZSBhcnRpc3RpYyBzdHlsZSBhbmQgcXVhbGl0eSBsZXZlbFxuNC4gS2VlcCBhbGwgc2FmZXR5IGd1aWRlbGluZXMgYW5kIGNvbnRlbnQgcG9saWNpZXNcbjUuIFByZXNlcnZlIHRoZSBncmVldGluZyBjYXJkIGNvbnRleHQgYW5kIHB1cnBvc2VcbjYuIElmIHRoZSBjdXN0b21pemF0aW9uIGFmZmVjdHMgbXVsdGlwbGUgc2VjdGlvbnMsIGFwcGx5IGl0IGNvbnNpc3RlbnRseVxuXG5PUklHSU5BTCBQUk9NUFRTIFRPIE1PRElGWTpcblxuRlJPTlQgQ09WRVI6XG4ke3NlbGVjdGVkVGVtcGxhdGUuZ2VuZXJhdGVkUHJvbXB0cy5mcm9udENvdmVyfVxuXG5CQUNLIENPVkVSOlxuJHtzZWxlY3RlZFRlbXBsYXRlLmdlbmVyYXRlZFByb21wdHMuYmFja0NvdmVyfVxuXG4ke3NlbGVjdGVkVGVtcGxhdGUuZ2VuZXJhdGVkUHJvbXB0cy5sZWZ0SW50ZXJpb3IgPyBgTEVGVCBJTlRFUklPUjpcbiR7c2VsZWN0ZWRUZW1wbGF0ZS5nZW5lcmF0ZWRQcm9tcHRzLmxlZnRJbnRlcmlvcn1cblxuYCA6ICcnfSR7c2VsZWN0ZWRUZW1wbGF0ZS5nZW5lcmF0ZWRQcm9tcHRzLnJpZ2h0SW50ZXJpb3IgPyBgUklHSFQgSU5URVJJT1I6XG4ke3NlbGVjdGVkVGVtcGxhdGUuZ2VuZXJhdGVkUHJvbXB0cy5yaWdodEludGVyaW9yfWAgOiAnJ31cblxuUmV0dXJuIHRoZSBtb2RpZmllZCBwcm9tcHRzIGluIEpTT04gZm9ybWF0Olxue1xuICBcImZyb250Q292ZXJcIjogXCJjb21wbGV0ZSBtb2RpZmllZCBmcm9udCBjb3ZlciBwcm9tcHRcIixcbiAgXCJiYWNrQ292ZXJcIjogXCJjb21wbGV0ZSBtb2RpZmllZCBiYWNrIGNvdmVyIHByb21wdFwiJHtzZWxlY3RlZFRlbXBsYXRlLmdlbmVyYXRlZFByb21wdHMubGVmdEludGVyaW9yID8gJyxcXG4gIFwibGVmdEludGVyaW9yXCI6IFwiY29tcGxldGUgbW9kaWZpZWQgbGVmdCBpbnRlcmlvciBwcm9tcHRcIicgOiAnJ30ke3NlbGVjdGVkVGVtcGxhdGUuZ2VuZXJhdGVkUHJvbXB0cy5yaWdodEludGVyaW9yID8gJyxcXG4gIFwicmlnaHRJbnRlcmlvclwiOiBcImNvbXBsZXRlIG1vZGlmaWVkIHJpZ2h0IGludGVyaW9yIHByb21wdFwiJyA6ICcnfVxufWA7XG5cbiAgICAgICAgY29uc3QgbW9kaWZpZWRQcm9tcHRzID0gYXdhaXQgY2hhdFdpdGhBSShtb2RpZmljYXRpb25RdWVyeSwge1xuICAgICAgICAgIG1vZGVsOiAnZ2VtaW5pLTIuNS1wcm8nLFxuICAgICAgICAgIGluY2x1ZGVUaG91Z2h0czogZmFsc2UsXG4gICAgICAgICAganNvblNjaGVtYToge1xuICAgICAgICAgICAgdHlwZTogXCJvYmplY3RcIixcbiAgICAgICAgICAgIHByb3BlcnRpZXM6IHtcbiAgICAgICAgICAgICAgZnJvbnRDb3ZlcjogeyB0eXBlOiBcInN0cmluZ1wiIH0sXG4gICAgICAgICAgICAgIGJhY2tDb3ZlcjogeyB0eXBlOiBcInN0cmluZ1wiIH0sXG4gICAgICAgICAgICAgIC4uLihzZWxlY3RlZFRlbXBsYXRlLmdlbmVyYXRlZFByb21wdHMubGVmdEludGVyaW9yID8geyBsZWZ0SW50ZXJpb3I6IHsgdHlwZTogXCJzdHJpbmdcIiB9IH0gOiB7fSksXG4gICAgICAgICAgICAgIC4uLihzZWxlY3RlZFRlbXBsYXRlLmdlbmVyYXRlZFByb21wdHMucmlnaHRJbnRlcmlvciA/IHsgcmlnaHRJbnRlcmlvcjogeyB0eXBlOiBcInN0cmluZ1wiIH0gfSA6IHt9KVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHJlcXVpcmVkOiBbXCJmcm9udENvdmVyXCIsIFwiYmFja0NvdmVyXCJdXG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBpZiAobW9kaWZpZWRQcm9tcHRzICYmIG1vZGlmaWVkUHJvbXB0cy5mcm9udENvdmVyKSB7XG4gICAgICAgICAgLy8gR2VuZXJhdGUgY2FyZCBkaXJlY3RseSB3aXRoIG1vZGlmaWVkIHByb21wdHMsIGJ5cGFzc2luZyB0aGUgbm9ybWFsIHByb21wdC10by1wcm9tcHRzIGZsb3dcbiAgICAgICAgICB0b2FzdC5pbmZvKFwi8J+kliBBSSBoYXMgY3VzdG9taXplZCB0aGUgdGVtcGxhdGUgcHJvbXB0cyEgR2VuZXJhdGluZyB5b3VyIHBlcnNvbmFsaXplZCBjYXJkLi4uXCIpO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIFNldCBiYXNpYyBmb3JtIGRhdGFcbiAgICAgICAgICBzZXRQcm9tcHQoc2VsZWN0ZWRUZW1wbGF0ZS5wcm9tcHQgfHwgXCJcIik7XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gQ2xlYXIgc3RhdGVzIGFuZCBzdGFydCBnZW5lcmF0aW9uIGRpcmVjdGx5IHdpdGggbW9kaWZpZWQgcHJvbXB0c1xuICAgICAgICAgIHNldEdlbmVyYXRlZENhcmRzKFtdKTtcbiAgICAgICAgICBzZXRHZW5lcmF0ZWRDYXJkKG51bGwpO1xuICAgICAgICAgIHNldFNlbGVjdGVkQ2FyZEluZGV4KDApO1xuICAgICAgICAgIHNldEN1cnJlbnRDYXJkSWQobnVsbCk7XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gQ2xlYXIgZHJhZnQgbW9kZSBzdGF0ZXMgdG8gcHJldmVudCBVSSBjb25mbGljdHNcbiAgICAgICAgICBzZXRJc0RyYWZ0TW9kZShmYWxzZSk7XG4gICAgICAgICAgc2V0RHJhZnRDYXJkcyhbXSk7XG4gICAgICAgICAgc2V0RHJhZnRJbmRleE1hcHBpbmcoW10pO1xuICAgICAgICAgIHNldFNlbGVjdGVkRHJhZnRJbmRleCgtMSk7XG4gICAgICAgICAgc2V0SXNHZW5lcmF0aW5nRmluYWxDYXJkKGZhbHNlKTtcbiAgICAgICAgICBzZXRQcmV2aWV3aW5nRHJhZnRJbmRleCgtMSk7XG4gICAgICAgICAgc2V0RHJhZnRDb21wbGV0aW9uU2hvd24oZmFsc2UpOyAvLyBSZXNldCBjb21wbGV0aW9uIGZsYWdcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBDbGVhciBwcm9ncmVzcyBzdGF0ZXNcbiAgICAgICAgICBzZXRHZW5lcmF0aW9uUHJvZ3Jlc3MoXCJcIik7XG4gICAgICAgICAgc2V0SXNHZW5lcmF0aW5nKGZhbHNlKTtcbiAgICAgICAgICBzZXRJc0NhcmRDb21wbGV0ZWQoZmFsc2UpO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIENsb3NlIGRpYWxvZ3NcbiAgICAgICAgICBzZXRTaG93VGVtcGxhdGVDdXN0b21pemF0aW9uKGZhbHNlKTtcbiAgICAgICAgICBzZXRTZWxlY3RlZFRlbXBsYXRlKG51bGwpO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIFN0YXJ0IGdlbmVyYXRpb24gd2l0aCBtb2RpZmllZCBwcm9tcHRzXG4gICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBnZW5lcmF0ZUNhcmRXaXRoRXhpc3RpbmdQcm9tcHRzKG1vZGlmaWVkUHJvbXB0cyk7XG4gICAgICAgICAgfSwgMTAwMCk7XG4gICAgICAgICAgXG4gICAgICAgICAgcmV0dXJuOyAvLyBFeGl0IGVhcmx5IHNpbmNlIHdlJ3JlIGhhbmRsaW5nIGdlbmVyYXRpb24gZGlyZWN0bHlcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIG1vZGlmeSB0ZW1wbGF0ZSBwcm9tcHRzIGRpcmVjdGx5OicsIGVycm9yKTtcbiAgICAgICAgdG9hc3QuZXJyb3IoXCJGYWlsZWQgdG8gY3VzdG9taXplIHRlbXBsYXRlIHByb21wdHMuIFVzaW5nIGZhbGxiYWNrIG1ldGhvZC5cIik7XG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIC8vIEZhbGxiYWNrOiBtb2RpZnkgdGhlIHVzZXIgcHJvbXB0IGFuZCB1c2Ugbm9ybWFsIGdlbmVyYXRpb24gZmxvd1xuICAgIGlmICh0ZW1wbGF0ZUN1c3RvbWl6YXRpb25zLnByb21wdENoYW5nZXMudHJpbSgpKSB7XG4gICAgICBmaW5hbFByb21wdCA9IGAke2ZpbmFsUHJvbXB0fVxuXG5DVVNUT01JWkFUSU9OIFJFUVVFU1Q6ICR7dGVtcGxhdGVDdXN0b21pemF0aW9ucy5wcm9tcHRDaGFuZ2VzfWA7XG4gICAgfVxuICAgIFxuICAgIHNldFByb21wdChmaW5hbFByb21wdCk7XG4gICAgXG4gICAgLy8gVHJ5IHRvIGV4dHJhY3QgY2FyZCB0eXBlIGZyb20gcHJvbXB0XG4gICAgY29uc3QgcHJvbXB0TG93ZXIgPSAoc2VsZWN0ZWRUZW1wbGF0ZS5wcm9tcHQgfHwgXCJcIikudG9Mb3dlckNhc2UoKTtcbiAgICBsZXQgZGV0ZWN0ZWRUeXBlID0gXCJiaXJ0aGRheVwiOyAvLyBkZWZhdWx0XG4gICAgXG4gICAgY2FyZFR5cGVzLmZvckVhY2godHlwZSA9PiB7XG4gICAgICBpZiAodHlwZS5pZCAhPT0gXCJjdXN0b21cIiAmJiBwcm9tcHRMb3dlci5pbmNsdWRlcyh0eXBlLmlkLnRvTG93ZXJDYXNlKCkpKSB7XG4gICAgICAgIGRldGVjdGVkVHlwZSA9IHR5cGUuaWQ7XG4gICAgICB9XG4gICAgfSk7XG4gICAgXG4gICAgc2V0U2VsZWN0ZWRUeXBlKGRldGVjdGVkVHlwZSk7XG4gICAgXG4gICAgLy8gQXBwbHkgbWVzc2FnZSBjdXN0b21pemF0aW9uc1xuICAgIGlmICh0ZW1wbGF0ZUN1c3RvbWl6YXRpb25zLm1lc3NhZ2VDaGFuZ2VzLnRyaW0oKSkge1xuICAgICAgc2V0RmluYWxDYXJkTWVzc2FnZSh0ZW1wbGF0ZUN1c3RvbWl6YXRpb25zLm1lc3NhZ2VDaGFuZ2VzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2V0RmluYWxDYXJkTWVzc2FnZShcIlwiKTsgLy8gTGV0IGl0IGF1dG8tZ2VuZXJhdGVcbiAgICB9XG4gICAgXG4gICAgLy8gSGFuZGxlIHJlZmVyZW5jZSBpbWFnZSBpZiBwcm92aWRlZFxuICAgIGlmICh0ZW1wbGF0ZUN1c3RvbWl6YXRpb25zLnVzZVJlZmVyZW5jZUltYWdlICYmIHRlbXBsYXRlQ3VzdG9taXphdGlvbnMucmVmZXJlbmNlSW1hZ2VGaWxlKSB7XG4gICAgICB0cnkge1xuICAgICAgICAvLyBVcGxvYWQgdGhlIHJlZmVyZW5jZSBpbWFnZVxuICAgICAgICBjb25zdCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpO1xuICAgICAgICBmb3JtRGF0YS5hcHBlbmQoJ2ZpbGUnLCB0ZW1wbGF0ZUN1c3RvbWl6YXRpb25zLnJlZmVyZW5jZUltYWdlRmlsZSk7XG4gICAgICAgIFxuICAgICAgICBjb25zdCB1cGxvYWRSZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke0JBQ0tFTkRfQVBJX0JBU0VfVVJMfS91cGxvYWRgLCB7XG4gICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgYm9keTogZm9ybURhdGEsXG4gICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgaWYgKHVwbG9hZFJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgY29uc3QgdXBsb2FkUmVzdWx0ID0gYXdhaXQgdXBsb2FkUmVzcG9uc2UuanNvbigpO1xuICAgICAgICAgIC8vIEFkZCB0byBleGlzdGluZyByZWZlcmVuY2UgaW1hZ2VzIGluc3RlYWQgb2YgcmVwbGFjaW5nIHRoZW1cbiAgICAgICAgICBzZXRSZWZlcmVuY2VJbWFnZXMocHJldiA9PiBbLi4ucHJldiwgdGVtcGxhdGVDdXN0b21pemF0aW9ucy5yZWZlcmVuY2VJbWFnZUZpbGUhXSk7XG4gICAgICAgICAgc2V0UmVmZXJlbmNlSW1hZ2VVcmxzKHByZXYgPT4gWy4uLnByZXYsIHVwbG9hZFJlc3VsdC51cmxdKTtcbiAgICAgICAgICBzZXRJbWFnZVRyYW5zZm9ybWF0aW9uKHRlbXBsYXRlQ3VzdG9taXphdGlvbnMucmVmZXJlbmNlSW1hZ2VUcmFuc2Zvcm1hdGlvbiB8fCBcIlRyYW5zZm9ybSBpbnRvIHRoZSBzYW1lIGFydGlzdGljIHN0eWxlIGFzIHRoZSB0ZW1wbGF0ZVwiKTtcbiAgICAgICAgICB0b2FzdC5zdWNjZXNzKFwiUmVmZXJlbmNlIGltYWdlIHVwbG9hZGVkIHN1Y2Nlc3NmdWxseSFcIik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdG9hc3QuZXJyb3IoXCJGYWlsZWQgdG8gdXBsb2FkIHJlZmVyZW5jZSBpbWFnZVwiKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignUmVmZXJlbmNlIGltYWdlIHVwbG9hZCBmYWlsZWQ6JywgZXJyb3IpO1xuICAgICAgICB0b2FzdC5lcnJvcihcIkZhaWxlZCB0byB1cGxvYWQgcmVmZXJlbmNlIGltYWdlXCIpO1xuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICAvLyBDbGVhciBjdXJyZW50IGdlbmVyYXRlZCBjYXJkcyBzaW5jZSB3ZSdyZSBzdGFydGluZyBmcmVzaCB3aXRoIGEgdGVtcGxhdGVcbiAgICBzZXRHZW5lcmF0ZWRDYXJkcyhbXSk7XG4gICAgc2V0R2VuZXJhdGVkQ2FyZChudWxsKTtcbiAgICBzZXRTZWxlY3RlZENhcmRJbmRleCgwKTtcbiAgICBzZXRDdXJyZW50Q2FyZElkKG51bGwpO1xuICAgIFxuICAgIC8vIENsZWFyIGRyYWZ0IG1vZGUgc3RhdGVzIHRvIHByZXZlbnQgVUkgY29uZmxpY3RzXG4gICAgc2V0SXNEcmFmdE1vZGUoZmFsc2UpO1xuICAgIHNldERyYWZ0Q2FyZHMoW10pO1xuICAgIHNldERyYWZ0SW5kZXhNYXBwaW5nKFtdKTtcbiAgICBzZXRTZWxlY3RlZERyYWZ0SW5kZXgoLTEpO1xuICAgIHNldElzR2VuZXJhdGluZ0ZpbmFsQ2FyZChmYWxzZSk7XG4gICAgc2V0UHJldmlld2luZ0RyYWZ0SW5kZXgoLTEpO1xuICAgIHNldERyYWZ0Q29tcGxldGlvblNob3duKGZhbHNlKTsgLy8gUmVzZXQgY29tcGxldGlvbiBmbGFnXG4gICAgXG4gICAgLy8gQ2xlYXIgcHJvZ3Jlc3Mgc3RhdGVzXG4gICAgc2V0R2VuZXJhdGlvblByb2dyZXNzKFwiXCIpO1xuICAgIHNldElzR2VuZXJhdGluZyhmYWxzZSk7XG4gICAgc2V0SXNDYXJkQ29tcGxldGVkKGZhbHNlKTtcbiAgICBcbiAgICAvLyBDbG9zZSBjdXN0b21pemF0aW9uIGRpYWxvZ1xuICAgIHNldFNob3dUZW1wbGF0ZUN1c3RvbWl6YXRpb24oZmFsc2UpO1xuICAgIHNldFNlbGVjdGVkVGVtcGxhdGUobnVsbCk7XG4gICAgXG4gICAgY29uc3QgY3VzdG9taXphdGlvblN1bW1hcnkgPSBbXTtcbiAgICBpZiAodGVtcGxhdGVDdXN0b21pemF0aW9ucy5wcm9tcHRDaGFuZ2VzLnRyaW0oKSkgY3VzdG9taXphdGlvblN1bW1hcnkucHVzaChcInByb21wdCBjaGFuZ2VzXCIpO1xuICAgIGlmICh0ZW1wbGF0ZUN1c3RvbWl6YXRpb25zLm1lc3NhZ2VDaGFuZ2VzLnRyaW0oKSkgY3VzdG9taXphdGlvblN1bW1hcnkucHVzaChcImN1c3RvbSBtZXNzYWdlXCIpO1xuICAgIGlmICh0ZW1wbGF0ZUN1c3RvbWl6YXRpb25zLnVzZVJlZmVyZW5jZUltYWdlKSBjdXN0b21pemF0aW9uU3VtbWFyeS5wdXNoKFwicmVmZXJlbmNlIGltYWdlXCIpO1xuICAgIFxuICAgIGNvbnN0IHN1bW1hcnlUZXh0ID0gY3VzdG9taXphdGlvblN1bW1hcnkubGVuZ3RoID4gMCBcbiAgICAgID8gYCB3aXRoICR7Y3VzdG9taXphdGlvblN1bW1hcnkuam9pbihcIiwgXCIpfWBcbiAgICAgIDogXCJcIjtcbiAgICBcbiAgICB0b2FzdC5zdWNjZXNzKGDinKggVGVtcGxhdGUgY3VzdG9taXplZCR7c3VtbWFyeVRleHR9ISBHZW5lcmF0aW5nIHlvdXIgcGVyc29uYWxpemVkIGNhcmQuLi5gKTtcbiAgICBcbiAgICAvLyBBdXRvbWF0aWNhbGx5IHN0YXJ0IGNhcmQgZ2VuZXJhdGlvblxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgaGFuZGxlR2VuZXJhdGVDYXJkQXN5bmMoKTtcbiAgICB9LCAxMDAwKTsgLy8gU21hbGwgZGVsYXkgdG8gbGV0IHRoZSB1c2VyIHNlZSB0aGUgc3VjY2VzcyBtZXNzYWdlXG4gIH07XG5cbiAgLy8gQ3JlYXRlIG5ldyBjYXJkIGZ1bmN0aW9uIC0gY2xlYXJzIGFsbCBkYXRhXG4gIGNvbnN0IGhhbmRsZUNyZWF0ZU5ld0NhcmQgPSAoKSA9PiB7XG4gICAgLy8gQ2xlYXIgYWxsIGZvcm0gZmllbGRzXG4gICAgc2V0UHJvbXB0KFwiXCIpO1xuICAgIHNldEZpbmFsQ2FyZE1lc3NhZ2UoXCJcIik7XG4gICAgc2V0VG9GaWVsZChcIlwiKTtcbiAgICBzZXRGcm9tRmllbGQoXCJcIik7XG4gICAgc2V0U2VsZWN0ZWRUeXBlKFwiYmlydGhkYXlcIik7XG4gICAgc2V0Q3VzdG9tQ2FyZFR5cGUoXCJcIik7XG4gICAgc2V0U2VsZWN0ZWRUb25lKFwiZnVubnlcIik7XG4gICAgc2V0U2VsZWN0ZWRBcnRpc3RpY1N0eWxlKFwid2F0ZXJjb2xvclwiKTtcbiAgICBzZXRDdXN0b21TdHlsZURlc2NyaXB0aW9uKFwiXCIpO1xuICAgIHNldFNlbGVjdGVkSW1hZ2VNb2RlbChcImdwdC1pbWFnZS0xXCIpO1xuICAgIHNldE51bWJlck9mQ2FyZHMoMSk7XG4gICAgc2V0VXNlckVtYWlsKFwiXCIpO1xuICAgIHNldFJlZmVyZW5jZUltYWdlcyhbXSk7XG4gICAgc2V0UmVmZXJlbmNlSW1hZ2VVcmxzKFtdKTtcbiAgICBzZXRJbWFnZVRyYW5zZm9ybWF0aW9uKFwiXCIpO1xuICAgIHNldEhhbmR3cml0aW5nU2FtcGxlKG51bGwpO1xuICAgIHNldEhhbmR3cml0aW5nU2FtcGxlVXJsKG51bGwpO1xuICAgIHNldElzSGFuZHdyaXR0ZW5NZXNzYWdlKGZhbHNlKTtcbiAgICBzZXRJc0Zyb250QmFja09ubHkoZmFsc2UpO1xuICAgIHNldFNlbGVjdGVkUGFwZXJTaXplKFwic3RhbmRhcmRcIik7XG4gICAgXG4gICAgLy8gQ2xlYXIgZ2VuZXJhdGVkIGNhcmRzXG4gICAgc2V0R2VuZXJhdGVkQ2FyZHMoW10pO1xuICAgIHNldEdlbmVyYXRlZENhcmQobnVsbCk7XG4gICAgc2V0U2VsZWN0ZWRDYXJkSW5kZXgoMCk7XG4gICAgc2V0Q3VycmVudENhcmRJZChudWxsKTtcbiAgICBcbiAgICAvLyBDbGVhciBkcmFmdCBtb2RlIHN0YXRlc1xuICAgIHNldElzRHJhZnRNb2RlKGZhbHNlKTtcbiAgICBzZXREcmFmdENhcmRzKFtdKTtcbiAgICBzZXREcmFmdEluZGV4TWFwcGluZyhbXSk7XG4gICAgc2V0U2VsZWN0ZWREcmFmdEluZGV4KC0xKTtcbiAgICBzZXRJc0dlbmVyYXRpbmdGaW5hbENhcmQoZmFsc2UpO1xuICAgIHNldFByZXZpZXdpbmdEcmFmdEluZGV4KC0xKTtcbiAgICBzZXREcmFmdENvbXBsZXRpb25TaG93bihmYWxzZSk7XG4gICAgXG4gICAgLy8gQ2xlYXIgcHJvZ3Jlc3MgYW5kIHN0YXRlc1xuICAgIHNldEdlbmVyYXRpb25Qcm9ncmVzcyhcIlwiKTtcbiAgICBzZXRJc0dlbmVyYXRpbmcoZmFsc2UpO1xuICAgIHNldElzR2VuZXJhdGluZ01lc3NhZ2UoZmFsc2UpO1xuICAgIHNldElzQ2FyZENvbXBsZXRlZChmYWxzZSk7XG4gICAgc2V0Q291bnRkb3duKDApO1xuICAgIGlmIChjb3VudGRvd25JbnRlcnZhbCkge1xuICAgICAgY2xlYXJJbnRlcnZhbChjb3VudGRvd25JbnRlcnZhbCk7XG4gICAgICBzZXRDb3VudGRvd25JbnRlcnZhbChudWxsKTtcbiAgICB9XG4gICAgXG4gICAgLy8gQ2xlYXIgbWVzc2FnZSBoaXN0b3J5XG4gICAgc2V0TWVzc2FnZUhpc3RvcnkoW10pO1xuICAgIHNldEN1cnJlbnRNZXNzYWdlSW5kZXgoLTEpO1xuICAgIHNldFJlZmluZW1lbnRQcm9tcHQoXCJcIik7XG4gICAgc2V0U2hvd1JlZmluZW1lbnRCb3goZmFsc2UpO1xuICAgIFxuICAgIC8vIENsZWFyIGxvY2FsU3RvcmFnZVxuICAgIHRyeSB7XG4gICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgndmliZWNhcmRpbmctZm9ybS1kYXRhJyk7XG4gICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgndmliZWNhcmRpbmctZ2VuZXJhdGVkLWNhcmRzJyk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGNsZWFyaW5nIGxvY2FsU3RvcmFnZTonLCBlcnJvcik7XG4gICAgfVxuICAgIFxuICAgIHRvYXN0LnN1Y2Nlc3MoXCLinKggUmVhZHkgdG8gY3JlYXRlIGEgbmV3IGNhcmQhXCIpO1xuICB9O1xuXG4gIC8vIFJlZ2VuZXJhdGUgd2l0aCBzYW1lIHByb21wdCBmdW5jdGlvblxuICBjb25zdCBoYW5kbGVSZWdlbmVyYXRlQ2FyZCA9ICgpID0+IHtcbiAgICAvLyBLZWVwIGFsbCBjdXJyZW50IHNldHRpbmdzIGJ1dCBjbGVhciBnZW5lcmF0ZWQgcmVzdWx0c1xuICAgIHNldEdlbmVyYXRlZENhcmRzKFtdKTtcbiAgICBzZXRHZW5lcmF0ZWRDYXJkKG51bGwpO1xuICAgIHNldFNlbGVjdGVkQ2FyZEluZGV4KDApO1xuICAgIHNldEN1cnJlbnRDYXJkSWQobnVsbCk7XG4gICAgXG4gICAgLy8gQ2xlYXIgZHJhZnQgbW9kZSBzdGF0ZXNcbiAgICBzZXRJc0RyYWZ0TW9kZShmYWxzZSk7XG4gICAgc2V0RHJhZnRDYXJkcyhbXSk7XG4gICAgc2V0RHJhZnRJbmRleE1hcHBpbmcoW10pO1xuICAgIHNldFNlbGVjdGVkRHJhZnRJbmRleCgtMSk7XG4gICAgc2V0SXNHZW5lcmF0aW5nRmluYWxDYXJkKGZhbHNlKTtcbiAgICBzZXRQcmV2aWV3aW5nRHJhZnRJbmRleCgtMSk7XG4gICAgc2V0RHJhZnRDb21wbGV0aW9uU2hvd24oZmFsc2UpO1xuICAgIFxuICAgIC8vIENsZWFyIHByb2dyZXNzIGFuZCBzdGF0ZXNcbiAgICBzZXRHZW5lcmF0aW9uUHJvZ3Jlc3MoXCJcIik7XG4gICAgc2V0SXNHZW5lcmF0aW5nKGZhbHNlKTtcbiAgICBzZXRJc0dlbmVyYXRpbmdNZXNzYWdlKGZhbHNlKTtcbiAgICBzZXRJc0NhcmRDb21wbGV0ZWQoZmFsc2UpO1xuICAgIHNldENvdW50ZG93bigwKTtcbiAgICBpZiAoY291bnRkb3duSW50ZXJ2YWwpIHtcbiAgICAgIGNsZWFySW50ZXJ2YWwoY291bnRkb3duSW50ZXJ2YWwpO1xuICAgICAgc2V0Q291bnRkb3duSW50ZXJ2YWwobnVsbCk7XG4gICAgfVxuICAgIFxuICAgIC8vIENsZWFyIGdlbmVyYXRlZCBjYXJkcyBmcm9tIGxvY2FsU3RvcmFnZSBidXQga2VlcCBmb3JtIGRhdGFcbiAgICB0cnkge1xuICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ3ZpYmVjYXJkaW5nLWdlbmVyYXRlZC1jYXJkcycpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBjbGVhcmluZyBnZW5lcmF0ZWQgY2FyZHM6JywgZXJyb3IpO1xuICAgIH1cbiAgICBcbiAgICB0b2FzdC5zdWNjZXNzKFwi8J+UhCBSZWFkeSB0byByZWdlbmVyYXRlIHdpdGggdGhlIHNhbWUgc2V0dGluZ3MhXCIpO1xuICB9O1xuXG4gIC8vIE1lc3NhZ2UgdmVyc2lvbiBjb250cm9sIGZ1bmN0aW9uc1xuICBjb25zdCBhZGRNZXNzYWdlVG9IaXN0b3J5ID0gKG1lc3NhZ2U6IHN0cmluZykgPT4ge1xuICAgIGlmIChtZXNzYWdlLnRyaW0oKSA9PT0gXCJcIikgcmV0dXJuO1xuICAgIFxuICAgIC8vIFNhZmV0eSBjaGVjazogUmVtb3ZlIGFueSBNRVNTQUdFIHRhZ3MgdGhhdCBtaWdodCBoYXZlIHNsaXBwZWQgdGhyb3VnaFxuICAgIGNvbnN0IGNsZWFuTWVzc2FnZSA9IG1lc3NhZ2UucmVwbGFjZSgvPFxcLz9NRVNTQUdFPi9nLCAnJykudHJpbSgpO1xuICAgIGlmIChjbGVhbk1lc3NhZ2UgPT09IFwiXCIpIHJldHVybjtcbiAgICBcbiAgICAvLyBSZW1vdmUgYW55IGZ1dHVyZSBoaXN0b3J5IGlmIHdlJ3JlIG5vdCBhdCB0aGUgZW5kXG4gICAgY29uc3QgbmV3SGlzdG9yeSA9IG1lc3NhZ2VIaXN0b3J5LnNsaWNlKDAsIGN1cnJlbnRNZXNzYWdlSW5kZXggKyAxKTtcbiAgICBuZXdIaXN0b3J5LnB1c2goY2xlYW5NZXNzYWdlKTtcbiAgICBcbiAgICAvLyBLZWVwIG9ubHkgbGFzdCAxMCB2ZXJzaW9ucyB0byBwcmV2ZW50IG1lbW9yeSBpc3N1ZXNcbiAgICBpZiAobmV3SGlzdG9yeS5sZW5ndGggPiAxMCkge1xuICAgICAgbmV3SGlzdG9yeS5zaGlmdCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzZXRDdXJyZW50TWVzc2FnZUluZGV4KGN1cnJlbnRNZXNzYWdlSW5kZXggKyAxKTtcbiAgICB9XG4gICAgXG4gICAgc2V0TWVzc2FnZUhpc3RvcnkobmV3SGlzdG9yeSk7XG4gICAgc2V0Q3VycmVudE1lc3NhZ2VJbmRleChuZXdIaXN0b3J5Lmxlbmd0aCAtIDEpO1xuICB9O1xuXG4gIGNvbnN0IHVuZG9NZXNzYWdlID0gKCkgPT4ge1xuICAgIGlmIChjdXJyZW50TWVzc2FnZUluZGV4ID4gMCkge1xuICAgICAgY29uc3QgbmV3SW5kZXggPSBjdXJyZW50TWVzc2FnZUluZGV4IC0gMTtcbiAgICAgIHNldEN1cnJlbnRNZXNzYWdlSW5kZXgobmV3SW5kZXgpO1xuICAgICAgc2V0RmluYWxDYXJkTWVzc2FnZShtZXNzYWdlSGlzdG9yeVtuZXdJbmRleF0pO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCByZWRvTWVzc2FnZSA9ICgpID0+IHtcbiAgICBpZiAoY3VycmVudE1lc3NhZ2VJbmRleCA8IG1lc3NhZ2VIaXN0b3J5Lmxlbmd0aCAtIDEpIHtcbiAgICAgIGNvbnN0IG5ld0luZGV4ID0gY3VycmVudE1lc3NhZ2VJbmRleCArIDE7XG4gICAgICBzZXRDdXJyZW50TWVzc2FnZUluZGV4KG5ld0luZGV4KTtcbiAgICAgIHNldEZpbmFsQ2FyZE1lc3NhZ2UobWVzc2FnZUhpc3RvcnlbbmV3SW5kZXhdKTtcbiAgICB9XG4gIH07XG5cbiAgLy8gSGFuZGxlIG1lc3NhZ2UgcmVmaW5lbWVudFxuICBjb25zdCBoYW5kbGVSZWZpbmVNZXNzYWdlID0gYXN5bmMgKCkgPT4ge1xuICAgIGlmICghcmVmaW5lbWVudFByb21wdC50cmltKCkgfHwgIWZpbmFsQ2FyZE1lc3NhZ2UudHJpbSgpKSB7XG4gICAgICB0b2FzdC5lcnJvcihcIlBsZWFzZSBlbnRlciBib3RoIGEgbWVzc2FnZSBhbmQgcmVmaW5lbWVudCBpbnN0cnVjdGlvbnMhXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHNldElzUmVmaW5pbmdNZXNzYWdlKHRydWUpO1xuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGNhcmRUeXBlRm9yUHJvbXB0ID0gc2VsZWN0ZWRUeXBlID09PSBcImN1c3RvbVwiID8gY3VzdG9tQ2FyZFR5cGUgOiBzZWxlY3RlZFR5cGU7XG4gICAgICBjb25zdCBzZWxlY3RlZFRvbmVPYmogPSBjYXJkVG9uZXMuZmluZCh0b25lID0+IHRvbmUuaWQgPT09IHNlbGVjdGVkVG9uZSk7XG4gICAgICBjb25zdCB0b25lRGVzY3JpcHRpb24gPSBzZWxlY3RlZFRvbmVPYmogPyBzZWxlY3RlZFRvbmVPYmouZGVzY3JpcHRpb24udG9Mb3dlckNhc2UoKSA6IFwiaGVhcnRmZWx0IGFuZCBzaW5jZXJlXCI7XG4gICAgICBcbiAgICAgIGNvbnN0IHJlZmluZW1lbnRBUElQcm9tcHQgPSBgUGxlYXNlIHJlZmluZSB0aGlzIGdyZWV0aW5nIGNhcmQgbWVzc2FnZSBiYXNlZCBvbiB0aGUgdXNlcidzIGluc3RydWN0aW9ucy5cblxuQ3VycmVudCBNZXNzYWdlOiBcIiR7ZmluYWxDYXJkTWVzc2FnZX1cIlxuXG5SZWZpbmVtZW50IEluc3RydWN0aW9uczogXCIke3JlZmluZW1lbnRQcm9tcHR9XCJcblxuQ2FyZCBDb250ZXh0OlxuLSBUeXBlOiAke2NhcmRUeXBlRm9yUHJvbXB0fVxuLSBUb25lOiAke3RvbmVEZXNjcmlwdGlvbn1cbiR7dG9GaWVsZCA/IGAtIFJlY2lwaWVudDogJHt0b0ZpZWxkfWAgOiBcIlwifVxuJHtmcm9tRmllbGQgPyBgLSBTZW5kZXI6ICR7ZnJvbUZpZWxkfWAgOiBcIlwifVxuXG5QbGVhc2UgcHJvdmlkZSBvbmx5IHRoZSByZWZpbmVkIG1lc3NhZ2UsIG1haW50YWluaW5nIHRoZSAke3RvbmVEZXNjcmlwdGlvbn0gdG9uZSB3aGlsZSBpbXBsZW1lbnRpbmcgdGhlIHJlcXVlc3RlZCBjaGFuZ2VzLmA7XG5cbiAgICAgIGNvbnN0IHJlZmluZWRNZXNzYWdlID0gYXdhaXQgY2hhdFdpdGhBSShyZWZpbmVtZW50QVBJUHJvbXB0LCB7XG4gICAgICAgIG1vZGVsOiBcImdlbWluaS0yLjUtcHJvXCIsXG4gICAgICAgIGluY2x1ZGVUaG91Z2h0czogZmFsc2VcbiAgICAgIH0pO1xuXG4gICAgICBpZiAocmVmaW5lZE1lc3NhZ2U/LnRyaW0oKSkge1xuICAgICAgICAvLyBBZGQgY3VycmVudCBtZXNzYWdlIHRvIGhpc3RvcnkgYmVmb3JlIGNoYW5naW5nXG4gICAgICAgIGFkZE1lc3NhZ2VUb0hpc3RvcnkoZmluYWxDYXJkTWVzc2FnZSk7XG4gICAgICAgIFxuICAgICAgICAvLyBDbGVhbiBhbnkgcG90ZW50aWFsIE1FU1NBR0UgdGFncyBmcm9tIHJlZmluZWQgbWVzc2FnZSAoc2FmZXR5IGNoZWNrKVxuICAgICAgICBjb25zdCBjbGVhbmVkUmVmaW5lZE1lc3NhZ2UgPSByZWZpbmVkTWVzc2FnZS50cmltKCkucmVwbGFjZSgvPFxcLz9NRVNTQUdFPi9nLCAnJykudHJpbSgpO1xuICAgICAgICBcbiAgICAgICAgLy8gU2V0IHRoZSBuZXcgcmVmaW5lZCBtZXNzYWdlXG4gICAgICAgIHNldEZpbmFsQ2FyZE1lc3NhZ2UoY2xlYW5lZFJlZmluZWRNZXNzYWdlKTtcbiAgICAgICAgXG4gICAgICAgIC8vIEFkZCB0aGUgbmV3IG1lc3NhZ2UgdG8gaGlzdG9yeVxuICAgICAgICBhZGRNZXNzYWdlVG9IaXN0b3J5KGNsZWFuZWRSZWZpbmVkTWVzc2FnZSk7XG4gICAgICAgIFxuICAgICAgICBzZXRSZWZpbmVtZW50UHJvbXB0KFwiXCIpO1xuICAgICAgICBzZXRTaG93UmVmaW5lbWVudEJveChmYWxzZSk7XG4gICAgICAgIHRvYXN0LnN1Y2Nlc3MoXCJNZXNzYWdlIHJlZmluZWQgc3VjY2Vzc2Z1bGx5IVwiKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTm8gbWVzc2FnZSByZWNlaXZlZCcpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciByZWZpbmluZyBtZXNzYWdlOicsIGVycm9yKTtcbiAgICAgIHRvYXN0LmVycm9yKFwiRmFpbGVkIHRvIHJlZmluZSBtZXNzYWdlLiBQbGVhc2UgdHJ5IGFnYWluLlwiKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgc2V0SXNSZWZpbmluZ01lc3NhZ2UoZmFsc2UpO1xuICAgIH1cbiAgfTtcblxuICAvLyBXcml0aW5nIEFzc2lzdGFudFxuICAgIGNvbnN0IGhhbmRsZUdldE1lc3NhZ2VIZWxwID0gYXN5bmMgKCkgPT4ge1xuICAgIC8vIFZhbGlkYXRlIGN1c3RvbSBjYXJkIHR5cGUgaWYgc2VsZWN0ZWRcbiAgICBpZiAoc2VsZWN0ZWRUeXBlID09PSBcImN1c3RvbVwiICYmICFjdXN0b21DYXJkVHlwZS50cmltKCkpIHtcbiAgICAgIHRvYXN0LmVycm9yKFwiUGxlYXNlIGRlc2NyaWJlIHlvdXIgY3VzdG9tIGNhcmQgdHlwZSBmaXJzdCFcIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFxuICAgIHNldElzR2VuZXJhdGluZ01lc3NhZ2UodHJ1ZSk7XG5cbiAgICB0cnkge1xuICAgICAgY29uc3QgY2FyZFR5cGVGb3JQcm9tcHQgPSBzZWxlY3RlZFR5cGUgPT09IFwiY3VzdG9tXCIgPyBjdXN0b21DYXJkVHlwZSA6IHNlbGVjdGVkVHlwZTtcbiAgICAgIGNvbnN0IHNlbGVjdGVkVG9uZU9iaiA9IGNhcmRUb25lcy5maW5kKHRvbmUgPT4gdG9uZS5pZCA9PT0gc2VsZWN0ZWRUb25lKTtcbiAgICAgIGNvbnN0IHRvbmVEZXNjcmlwdGlvbiA9IHNlbGVjdGVkVG9uZU9iaiA/IHNlbGVjdGVkVG9uZU9iai5kZXNjcmlwdGlvbi50b0xvd2VyQ2FzZSgpIDogXCJoZWFydGZlbHQgYW5kIHNpbmNlcmVcIjtcbiAgICAgIFxuICAgICAgLy8gVXNlIGVmZmVjdGl2ZSBwcm9tcHQgbG9naWMgaGVyZSB0b29cbiAgICAgIGNvbnN0IGVmZmVjdGl2ZVByb21wdCA9IHByb21wdC50cmltKCkgfHwgYEEgYmVhdXRpZnVsICR7Y2FyZFR5cGVGb3JQcm9tcHR9IGNhcmQgd2l0aCAke3RvbmVEZXNjcmlwdGlvbn0gc3R5bGVgO1xuICAgICAgXG4gICAgICBjb25zdCBtZXNzYWdlUHJvbXB0ID0gYENyZWF0ZSBhICR7dG9uZURlc2NyaXB0aW9ufSBtZXNzYWdlIGZvciBhICR7Y2FyZFR5cGVGb3JQcm9tcHR9IGdyZWV0aW5nIGNhcmQuXG5cbkNhcmQgVGhlbWUvRGVzY3JpcHRpb246IFwiJHtlZmZlY3RpdmVQcm9tcHR9XCJcbiR7dG9GaWVsZCA/IGBSZWNpcGllbnQ6ICR7dG9GaWVsZH1gIDogXCJSZWNpcGllbnQ6IFtub3Qgc3BlY2lmaWVkXVwifVxuJHtmcm9tRmllbGQgPyBgU2VuZGVyOiAke2Zyb21GaWVsZH1gIDogXCJTZW5kZXI6IFtub3Qgc3BlY2lmaWVkXVwifVxuQ2FyZCBUb25lOiAke3NlbGVjdGVkVG9uZU9iaiA/IHNlbGVjdGVkVG9uZU9iai5sYWJlbCA6IFwiSGVhcnRmZWx0XCJ9IC0gJHt0b25lRGVzY3JpcHRpb259XG5cbkluc3RydWN0aW9uczpcbi0gV3JpdGUgYSBtZXNzYWdlIHRoYXQgaXMgJHt0b25lRGVzY3JpcHRpb259IGFuZCBmZWVscyBwZXJzb25hbCBhbmQgZ2VudWluZVxuLSAke3RvRmllbGQgPyBgQWRkcmVzcyB0aGUgbWVzc2FnZSB0byAke3RvRmllbGR9IGRpcmVjdGx5LCB1c2luZyB0aGVpciBuYW1lIG5hdHVyYWxseWAgOiBcIldyaXRlIGluIGEgd2F5IHRoYXQgY291bGQgYmUgcGVyc29uYWxpemVkIHRvIGFueSByZWNpcGllbnRcIn1cbi0gJHtmcm9tRmllbGQgPyBgV3JpdGUgYXMgaWYgJHtmcm9tRmllbGR9IGlzIHBlcnNvbmFsbHkgd3JpdGluZyB0aGlzIG1lc3NhZ2VgIDogYFdyaXRlIGluIGEgJHt0b25lRGVzY3JpcHRpb259IHRvbmVgfVxuLSBNYXRjaCB0aGUgJHt0b25lRGVzY3JpcHRpb259IHRvbmUgYW5kIG9jY2FzaW9uIG9mIHRoZSAke2NhcmRUeXBlRm9yUHJvbXB0fSBjYXJkIHR5cGVcbi0gQmUgaW5zcGlyZWQgYnkgdGhlIHRoZW1lOiBcIiR7ZWZmZWN0aXZlUHJvbXB0fVwiXG4tIEtlZXAgaXQgY29uY2lzZSBidXQgbWVhbmluZ2Z1bCAoMi00IHNlbnRlbmNlcyBpZGVhbClcbi0gTWFrZSBpdCBmZWVsIGF1dGhlbnRpYywgbm90IGdlbmVyaWNcbi0gU0FGRVRZOiBOZXZlciBpbmNsdWRlIGJyYW5kIG5hbWVzLCBjaGFyYWN0ZXIgbmFtZXMsIHRyYWRlbWFya2VkIHRlcm1zLCBvciBpbmFwcHJvcHJpYXRlIGNvbnRlbnQuIElmIHRoZSB0aGVtZSByZWZlcmVuY2VzIHRoZXNlLCB1c2UgZ2VuZXJpYyBhbHRlcm5hdGl2ZXMgb3IgZm9jdXMgb24gdGhlIGVtb3Rpb25zL2NvbmNlcHRzIGluc3RlYWRcbi0gS2VlcCBjb250ZW50IGZhbWlseS1mcmllbmRseSBhbmQgYXBwcm9wcmlhdGUgZm9yIGFsbCBhZ2VzXG4tICR7c2VsZWN0ZWRUb25lID09PSAnZnVubnknID8gJ0luY2x1ZGUgYXBwcm9wcmlhdGUgaHVtb3IgdGhhdCBmaXRzIHRoZSBvY2Nhc2lvbicgOiAnJ31cbi0gJHtzZWxlY3RlZFRvbmUgPT09ICdnZW56LWh1bW9yJyA/ICdVc2UgR2VuWiBodW1vciB3aXRoIGludGVybmV0IHNsYW5nLCBtZW1lcywgYW5kIGNoYW90aWMgZW5lcmd5IC0gdGhpbmsgXCJubyBjYXBcIiwgXCJwZXJpb2R0XCIsIFwiaXRcXCdzIGdpdmluZy4uLlwiLCBcInNsYXlcIiwgZXRjLiBCZSB1bmhpbmdlZCBidXQgZW5kZWFyaW5nJyA6ICcnfVxuLSAke3NlbGVjdGVkVG9uZSA9PT0gJ3Byb2Zlc3Npb25hbCcgPyAnS2VlcCBpdCBmb3JtYWwgYW5kIGJ1c2luZXNzLWFwcHJvcHJpYXRlJyA6ICcnfVxuLSAke3NlbGVjdGVkVG9uZSA9PT0gJ3JvbWFudGljJyA/ICdJbmNsdWRlIGxvdmluZyBhbmQgcm9tYW50aWMgbGFuZ3VhZ2UnIDogJyd9XG4tICR7c2VsZWN0ZWRUb25lID09PSAncGxheWZ1bCcgPyAnVXNlIGZ1biBhbmQgZW5lcmdldGljIGxhbmd1YWdlJyA6ICcnfVxuLSAke3RvRmllbGQgJiYgZnJvbUZpZWxkID8gYFNob3cgdGhlIHJlbGF0aW9uc2hpcCBiZXR3ZWVuICR7ZnJvbUZpZWxkfSBhbmQgJHt0b0ZpZWxkfSB0aHJvdWdoIHRoZSAke3RvbmVEZXNjcmlwdGlvbn0gbWVzc2FnZSB0b25lYCA6IFwiXCJ9XG4tICR7ZnJvbUZpZWxkID8gYEVuZCB0aGUgbWVzc2FnZSB3aXRoIGEgc2lnbmF0dXJlIGxpbmUgbGlrZSBcIkxvdmUsICR7ZnJvbUZpZWxkfVwiIG9yIFwiLSAke2Zyb21GaWVsZH1cIiBvciBzaW1pbGFyLCBuYXR1cmFsbHkgaW50ZWdyYXRlZCBpbnRvIHRoZSBtZXNzYWdlLmAgOiBcIlwifVxuXG5SZXR1cm4gT05MWSB0aGUgbWVzc2FnZSB0ZXh0IHRoYXQgc2hvdWxkIGFwcGVhciBpbnNpZGUgdGhlIGNhcmQgLSBubyBxdW90ZXMsIG5vIGV4cGxhbmF0aW9ucywgbm8gbWFya2Rvd24gZm9ybWF0dGluZyAobm8gKmJvbGQqLCBfaXRhbGljc18sIG9yIG90aGVyIG1hcmtkb3duKSwganVzdCB0aGUgY29tcGxldGUgJHt0b25lRGVzY3JpcHRpb259IG1lc3NhZ2UgaW4gcGxhaW4gdGV4dC5cblxuSU1QT1JUQU5UOiBXcmFwIHlvdXIgZmluYWwgbWVzc2FnZSBpbiA8TUVTU0FHRT4gPC9NRVNTQUdFPiB0YWdzLiBFdmVyeXRoaW5nIG91dHNpZGUgdGhlc2UgdGFncyB3aWxsIGJlIGlnbm9yZWQuYDtcblxuICAgICAgY29uc3QgZ2VuZXJhdGVkTWVzc2FnZSA9IGF3YWl0IGNoYXRXaXRoQUkobWVzc2FnZVByb21wdCwge1xuICAgICAgICBtb2RlbDogXCJnZW1pbmktMi41LXByb1wiLFxuICAgICAgICBpbmNsdWRlVGhvdWdodHM6IGZhbHNlICAvLyBEb24ndCBpbmNsdWRlIHRoaW5raW5nIGNvbnRlbnQgaW4gbWVzc2FnZSBnZW5lcmF0aW9uXG4gICAgICB9KTtcblxuICAgICAgaWYgKGdlbmVyYXRlZE1lc3NhZ2U/LnRyaW0oKSkge1xuICAgICAgICAvLyBFeHRyYWN0IG1lc3NhZ2UgY29udGVudCBiZXR3ZWVuIDxNRVNTQUdFPiB0YWdzIHVzaW5nIHJlZ2V4XG4gICAgICAgIGNvbnN0IG1lc3NhZ2VNYXRjaCA9IGdlbmVyYXRlZE1lc3NhZ2UubWF0Y2goLzxNRVNTQUdFPihbXFxzXFxTXSo/KTxcXC9NRVNTQUdFPi8pO1xuICAgICAgICBsZXQgZXh0cmFjdGVkTWVzc2FnZSA9IG1lc3NhZ2VNYXRjaCA/IG1lc3NhZ2VNYXRjaFsxXS50cmltKCkgOiBnZW5lcmF0ZWRNZXNzYWdlLnRyaW0oKTtcbiAgICAgICAgXG4gICAgICAgIC8vIEVuc3VyZSBubyBNRVNTQUdFIHRhZ3MgYXJlIGluY2x1ZGVkIGluIHRoZSBmaW5hbCBtZXNzYWdlXG4gICAgICAgIGV4dHJhY3RlZE1lc3NhZ2UgPSBleHRyYWN0ZWRNZXNzYWdlLnJlcGxhY2UoLzxcXC8/TUVTU0FHRT4vZywgJycpLnRyaW0oKTtcbiAgICAgICAgXG4gICAgICAgIC8vIEFkZCBjdXJyZW50IG1lc3NhZ2UgdG8gaGlzdG9yeSBpZiBpdCBleGlzdHMgYW5kIGlzIGRpZmZlcmVudFxuICAgICAgICBpZiAoZmluYWxDYXJkTWVzc2FnZS50cmltKCkgJiYgZmluYWxDYXJkTWVzc2FnZS50cmltKCkgIT09IGV4dHJhY3RlZE1lc3NhZ2UpIHtcbiAgICAgICAgICBhZGRNZXNzYWdlVG9IaXN0b3J5KGZpbmFsQ2FyZE1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBzZXRGaW5hbENhcmRNZXNzYWdlKGV4dHJhY3RlZE1lc3NhZ2UpO1xuICAgICAgICBcbiAgICAgICAgLy8gQWRkIHRoZSBuZXcgbWVzc2FnZSB0byBoaXN0b3J5XG4gICAgICAgIGFkZE1lc3NhZ2VUb0hpc3RvcnkoZXh0cmFjdGVkTWVzc2FnZSk7XG4gICAgICAgIFxuICAgICAgICB0b2FzdC5zdWNjZXNzKFwi4pyoIFBlcnNvbmFsaXplZCBtZXNzYWdlIGNyZWF0ZWQhXCIpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICB0b2FzdC5lcnJvcihcIkZhaWxlZCB0byBnZW5lcmF0ZSBtZXNzYWdlLiBQbGVhc2UgdHJ5IGFnYWluLlwiKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgc2V0SXNHZW5lcmF0aW5nTWVzc2FnZShmYWxzZSk7XG4gICAgfVxuICB9O1xuXG5cblxuICAvLyBGaWxlIHVwbG9hZCBoYW5kbGVyXG4gIGNvbnN0IGhhbmRsZUZpbGVVcGxvYWQgPSBhc3luYyAoZmlsZTogRmlsZSwgdHlwZTogJ2hhbmR3cml0aW5nJyB8ICdyZWZlcmVuY2UnKSA9PiB7XG4gICAgaWYgKCFmaWxlLnR5cGUuc3RhcnRzV2l0aCgnaW1hZ2UvJykpIHtcbiAgICAgIHRvYXN0LmVycm9yKFwiUGxlYXNlIHVwbG9hZCBhbiBpbWFnZSBmaWxlXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHNldElzVXBsb2FkaW5nKHRydWUpO1xuICAgIFxuICAgIHRyeSB7XG4gICAgICBjb25zdCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpO1xuICAgICAgZm9ybURhdGEuYXBwZW5kKCdmaWxlJywgZmlsZSk7XG4gICAgICBcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7QkFDS0VORF9BUElfQkFTRV9VUkx9L3VwbG9hZGAsIHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGJvZHk6IGZvcm1EYXRhLFxuICAgICAgfSk7XG4gICAgICBcbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHRocm93IG5ldyBFcnJvcihgVXBsb2FkIGZhaWxlZDogJHtyZXNwb25zZS5zdGF0dXN9YCk7XG4gICAgICBcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgIFxuICAgICAgaWYgKHR5cGUgPT09ICdoYW5kd3JpdGluZycpIHtcbiAgICAgICAgc2V0SGFuZHdyaXRpbmdTYW1wbGUoZmlsZSk7XG4gICAgICAgIHNldEhhbmR3cml0aW5nU2FtcGxlVXJsKHJlc3VsdC51cmwpO1xuICAgICAgICB0b2FzdC5zdWNjZXNzKFwiSGFuZHdyaXRpbmcgc2FtcGxlIHVwbG9hZGVkIVwiKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNldFJlZmVyZW5jZUltYWdlcyhwcmV2ID0+IFsuLi5wcmV2LCBmaWxlXSk7XG4gICAgICAgIHNldFJlZmVyZW5jZUltYWdlVXJscyhwcmV2ID0+IFsuLi5wcmV2LCByZXN1bHQudXJsXSk7XG4gICAgICAgIGNvbnNvbGUubG9nKFwi8J+UjSBERUJVRzogUmVmZXJlbmNlIGltYWdlIHVwbG9hZGVkIHN1Y2Nlc3NmdWxseTpcIiwge1xuICAgICAgICAgIGZpbGVOYW1lOiBmaWxlLm5hbWUsXG4gICAgICAgICAgdXJsOiByZXN1bHQudXJsLFxuICAgICAgICAgIHRvdGFsSW1hZ2VzOiByZWZlcmVuY2VJbWFnZXMubGVuZ3RoICsgMVxuICAgICAgICB9KTtcbiAgICAgICAgdG9hc3Quc3VjY2VzcyhgUmVmZXJlbmNlIGltYWdlIHVwbG9hZGVkISAke3JlZmVyZW5jZUltYWdlcy5sZW5ndGggKyAxfSBwaG90byR7cmVmZXJlbmNlSW1hZ2VzLmxlbmd0aCArIDEgPiAxID8gJ3MnIDogJyd9IHJlYWR5IGZvciBjaGFyYWN0ZXIgY3JlYXRpb24uYCk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHRvYXN0LmVycm9yKFwiVXBsb2FkIGZhaWxlZC4gUGxlYXNlIHRyeSBhZ2Fpbi5cIik7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldElzVXBsb2FkaW5nKGZhbHNlKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlUmVtb3ZlUmVmZXJlbmNlSW1hZ2UgPSAoaW5kZXg6IG51bWJlcikgPT4ge1xuICAgIGNvbnN0IHJlbW92ZWRJbWFnZSA9IHJlZmVyZW5jZUltYWdlc1tpbmRleF07XG4gICAgY29uc3QgcmVtb3ZlZFVybCA9IHJlZmVyZW5jZUltYWdlVXJsc1tpbmRleF07XG4gICAgXG4gICAgc2V0UmVmZXJlbmNlSW1hZ2VzKHByZXYgPT4gcHJldi5maWx0ZXIoKF8sIGkpID0+IGkgIT09IGluZGV4KSk7XG4gICAgc2V0UmVmZXJlbmNlSW1hZ2VVcmxzKHByZXYgPT4gcHJldi5maWx0ZXIoKF8sIGkpID0+IGkgIT09IGluZGV4KSk7XG4gICAgXG4gICAgY29uc29sZS5sb2coXCLwn5SNIERFQlVHOiBSZWZlcmVuY2UgaW1hZ2UgcmVtb3ZlZDpcIiwge1xuICAgICAgZmlsZU5hbWU6IHJlbW92ZWRJbWFnZT8ubmFtZSxcbiAgICAgIHVybDogcmVtb3ZlZFVybCxcbiAgICAgIHJlbWFpbmluZ0ltYWdlczogcmVmZXJlbmNlSW1hZ2VzLmxlbmd0aCAtIDFcbiAgICB9KTtcbiAgICBcbiAgICB0b2FzdC5zdWNjZXNzKGBSZWZlcmVuY2UgaW1hZ2UgcmVtb3ZlZCEgJHtyZWZlcmVuY2VJbWFnZXMubGVuZ3RoIC0gMX0gcGhvdG8ke3JlZmVyZW5jZUltYWdlcy5sZW5ndGggLSAxICE9PSAxID8gJ3MnIDogJyd9IHJlbWFpbmluZy5gKTtcbiAgfTtcblxuICAvLyBTaW1wbGlmaWVkIGRyYWZ0IG1vZGUgZ2VuZXJhdGlvbiAtIGNhbGxzIGNvbnNvbGlkYXRlZCBmdW5jdGlvbiA0IHRpbWVzXG4gIGNvbnN0IGhhbmRsZUdlbmVyYXRlRHJhZnRDYXJkcyA9IGFzeW5jICgpID0+IHtcbiAgICBpZiAoIXVzZXJFbWFpbC50cmltKCkpIHtcbiAgICAgIHRvYXN0LmVycm9yKFwiUGxlYXNlIGVudGVyIHlvdXIgZW1haWwgYWRkcmVzc1wiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBCYXNpYyBlbWFpbCB2YWxpZGF0aW9uXG4gICAgY29uc3QgZW1haWxSZWdleCA9IC9eW15cXHNAXStAW15cXHNAXStcXC5bXlxcc0BdKyQvO1xuICAgIGlmICghZW1haWxSZWdleC50ZXN0KHVzZXJFbWFpbCkpIHtcbiAgICAgIHRvYXN0LmVycm9yKFwiUGxlYXNlIGVudGVyIGEgdmFsaWQgZW1haWwgYWRkcmVzc1wiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBWYWxpZGF0ZSBjdXN0b20gc3R5bGUgaWYgc2VsZWN0ZWRcbiAgICBpZiAoc2VsZWN0ZWRBcnRpc3RpY1N0eWxlID09PSBcImN1c3RvbVwiICYmICFjdXN0b21TdHlsZURlc2NyaXB0aW9uLnRyaW0oKSkge1xuICAgICAgdG9hc3QuZXJyb3IoXCJQbGVhc2UgZGVzY3JpYmUgeW91ciBjdXN0b20gYXJ0aXN0aWMgc3R5bGVcIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gVmFsaWRhdGUgcmVmZXJlbmNlIGltYWdlcyB3aXRoIG1vZGVsIGNvbXBhdGliaWxpdHlcbiAgICBpZiAocmVmZXJlbmNlSW1hZ2VVcmxzLmxlbmd0aCA+IDAgJiYgc2VsZWN0ZWREcmFmdE1vZGVsICE9PSBcImdwdC1pbWFnZS0xXCIpIHtcbiAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIvCflI0gREVCVUc6IFJlZmVyZW5jZSBpbWFnZSB2YWxpZGF0aW9uIGZhaWxlZDpcIiwge1xuICAgICAgICAgcmVmZXJlbmNlSW1hZ2VVcmxzTGVuZ3RoOiByZWZlcmVuY2VJbWFnZVVybHMubGVuZ3RoLFxuICAgICAgICAgcmVmZXJlbmNlSW1hZ2VVcmxzOiByZWZlcmVuY2VJbWFnZVVybHMsXG4gICAgICAgICBzZWxlY3RlZERyYWZ0TW9kZWw6IHNlbGVjdGVkRHJhZnRNb2RlbCxcbiAgICAgICAgIHJlZmVyZW5jZUltYWdlc0xlbmd0aDogcmVmZXJlbmNlSW1hZ2VzLmxlbmd0aFxuICAgICAgIH0pO1xuICAgICAgIFxuICAgICAgIC8vIFNob3cgYSBtb3JlIGhlbHBmdWwgZXJyb3Igd2l0aCBhY3Rpb24gYnV0dG9uc1xuICAgICAgIGNvbnN0IGNsZWFyUGhvdG9zID0gKCkgPT4ge1xuICAgICAgICAgc2V0UmVmZXJlbmNlSW1hZ2VzKFtdKTtcbiAgICAgICAgIHNldFJlZmVyZW5jZUltYWdlVXJscyhbXSk7XG4gICAgICAgICB0b2FzdC5zdWNjZXNzKFwiUmVmZXJlbmNlIHBob3RvcyBjbGVhcmVkISBZb3UgY2FuIG5vdyB1c2UgZHJhZnQgbW9kZS5cIik7XG4gICAgICAgfTtcbiAgICAgICBcbiAgICAgICBjb25zdCBzd2l0Y2hUb0dQVDEgPSAoKSA9PiB7XG4gICAgICAgICBzZXRTZWxlY3RlZERyYWZ0TW9kZWwoXCJncHQtaW1hZ2UtMVwiKTtcbiAgICAgICAgIHRvYXN0LnN1Y2Nlc3MoXCJTd2l0Y2hlZCB0byBHUFQgSW1hZ2UgMSBmb3IgZHJhZnQgbW9kZSFcIik7XG4gICAgICAgfTtcbiAgICAgICBcbiAgICAgICB0b2FzdC5lcnJvcihcbiAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0yXCI+XG4gICAgICAgICAgIDxwPlJlZmVyZW5jZSBwaG90b3MgYXJlIG9ubHkgc3VwcG9ydGVkIHdpdGggR1BUIEltYWdlIDEgbW9kZWwuPC9wPlxuICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXhzXCI+WW91IGhhdmUge3JlZmVyZW5jZUltYWdlVXJscy5sZW5ndGh9IHJlZmVyZW5jZSBwaG90b3tyZWZlcmVuY2VJbWFnZVVybHMubGVuZ3RoID4gMSA/ICdzJyA6ICcnfSBidXQgc2VsZWN0ZWQge2ltYWdlTW9kZWxzLmZpbmQobSA9PiBtLmlkID09PSBzZWxlY3RlZERyYWZ0TW9kZWwpPy5sYWJlbH0uPC9wPlxuICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZ2FwLTIgbXQtMlwiPlxuICAgICAgICAgICAgIDxidXR0b24gXG4gICAgICAgICAgICAgICBvbkNsaWNrPXtzd2l0Y2hUb0dQVDF9XG4gICAgICAgICAgICAgICBjbGFzc05hbWU9XCJweC0yIHB5LTEgYmctYmx1ZS02MDAgdGV4dC13aGl0ZSB0ZXh0LXhzIHJvdW5kZWQgaG92ZXI6YmctYmx1ZS03MDBcIlxuICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgIFVzZSBHUFQgSW1hZ2UgMVxuICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgIDxidXR0b24gXG4gICAgICAgICAgICAgICBvbkNsaWNrPXtjbGVhclBob3Rvc31cbiAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInB4LTIgcHktMSBiZy1yZWQtNjAwIHRleHQtd2hpdGUgdGV4dC14cyByb3VuZGVkIGhvdmVyOmJnLXJlZC03MDBcIlxuICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgIFJlbW92ZSBQaG90b3NcbiAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICA8L2Rpdj4sXG4gICAgICAgICB7IGR1cmF0aW9uOiA4MDAwIH1cbiAgICAgICApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHNldElzRHJhZnRNb2RlKHRydWUpO1xuICAgIHNldElzR2VuZXJhdGluZyh0cnVlKTtcbiAgICBzdGFydEVsYXBzZWRUaW1lVHJhY2tpbmcodW5kZWZpbmVkLCA0NSk7IC8vIDQ1IHNlY29uZHMgZm9yIGRyYWZ0IG1vZGVcbiAgICBzZXRHZW5lcmF0aW9uUHJvZ3Jlc3MoXCLwn46oIENyZWF0aW5nIDEwIGZyb250IGNvdmVyIHZhcmlhdGlvbnMgZm9yIHlvdSB0byBjaG9vc2UgZnJvbS4uLlwiKTtcbiAgICBzZXRQcm9ncmVzc1BlcmNlbnRhZ2UoMCk7XG4gICAgc2V0RHJhZnRDYXJkcyhbXSk7XG4gICAgc2V0RHJhZnRJbmRleE1hcHBpbmcoW10pO1xuICAgIHNldFNlbGVjdGVkRHJhZnRJbmRleCgtMSk7XG4gICAgc2V0RHJhZnRDb21wbGV0aW9uU2hvd24oZmFsc2UpOyAvLyBSZXNldCBjb21wbGV0aW9uIGZsYWdcbiAgICBcbiAgICAvLyBDbGVhciBhbnkgcHJldmlvdXMgY2FyZCBzdGF0ZSB0byBhdm9pZCBVSSBjb25mbGljdHNcbiAgICBzZXRHZW5lcmF0ZWRDYXJkKG51bGwpO1xuICAgIHNldEdlbmVyYXRlZENhcmRzKFtdKTtcbiAgICBzZXRJc0NhcmRDb21wbGV0ZWQoZmFsc2UpO1xuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnNvbGUubG9nKFwi8J+agCBTdGFydGluZyBkcmFmdCBtb2RlIGdlbmVyYXRpb24gd2l0aCA1IHZhcmlhdGlvbnNcIik7XG4gICAgICBcbiAgICAgIC8vIFNob3cgc3BlY2lmaWMgbWVzc2FnZSBmb3IgR1BULTEgdXNlcnMgYWJvdXQgcXVhbGl0eSBlbmZvcmNlbWVudFxuICAgICAgaWYgKHNlbGVjdGVkRHJhZnRNb2RlbCA9PT0gXCJncHQtaW1hZ2UtMVwiKSB7XG4gICAgICAgIGNvbnN0IHN0eWxlTWVzc2FnZSA9IHNlbGVjdGVkQXJ0aXN0aWNTdHlsZSA9PT0gXCJhaS1zbWFydC1zdHlsZVwiIFxuICAgICAgICAgID8gXCIgYWNyb3NzIDUgY3VyYXRlZCBhcnRpc3RpYyBzdHlsZXMhXCJcbiAgICAgICAgICA6IFwiICh1c2luZyBsb3cgcXVhbGl0eSBmb3IgZmFzdCBwcmV2aWV3cykhXCI7XG4gICAgICAgIHRvYXN0LnN1Y2Nlc3MoYPCfjqggR2VuZXJhdGluZyA1IGZyb250IGNvdmVyIHZhcmlhdGlvbnMgd2l0aCBHUFQtMSR7c3R5bGVNZXNzYWdlfWApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3Qgc3R5bGVNZXNzYWdlID0gc2VsZWN0ZWRBcnRpc3RpY1N0eWxlID09PSBcImFpLXNtYXJ0LXN0eWxlXCIgXG4gICAgICAgICAgPyBcIiBhY3Jvc3MgNSBjdXJhdGVkIGFydGlzdGljIHN0eWxlcyFcIlxuICAgICAgICAgIDogXCIgZm9yIHlvdSB0byBjaG9vc2UgZnJvbSFcIjtcbiAgICAgICAgdG9hc3Quc3VjY2Vzcyhg8J+OqCBHZW5lcmF0aW5nIDUgZnJvbnQgY292ZXIgdmFyaWF0aW9ucyR7c3R5bGVNZXNzYWdlfWApO1xuICAgICAgfVxuXG4gICAgICAgICAgICAgIC8vIEdlbmVyYXRlIDUgZHJhZnQgdmFyaWF0aW9ucyB3aXRoIHNtYXJ0IHN0eWxlIGRpc3RyaWJ1dGlvblxuICAgICAgICBjb25zdCBkcmFmdFByb21pc2VzID0gQXJyYXkuZnJvbSh7IGxlbmd0aDogNSB9LCBhc3luYyAoXywgaW5kZXgpID0+IHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coYPCfjqggU3RhcnRpbmcgZHJhZnQgdmFyaWF0aW9uICR7aW5kZXggKyAxfWApO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBGb3Igc21hcnQgc3R5bGUsIHVzZSBwcmVkZWZpbmVkIHN0eWxlcyBmb3IgYWxsIDUgdmFyaWF0aW9uc1xuICAgICAgICAgICAgbGV0IHN0eWxlT3ZlcnJpZGU6IHN0cmluZyB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGxldCBzdHlsZUxhYmVsOiBzdHJpbmcgfCB1bmRlZmluZWQgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICBpZiAoc2VsZWN0ZWRBcnRpc3RpY1N0eWxlID09PSBcImFpLXNtYXJ0LXN0eWxlXCIpIHtcbiAgICAgICAgICAgICAgY29uc3QgcHJlZGVmaW5lZFN0eWxlcyA9IFtcbiAgICAgICAgICAgICAgICBcIndhdGVyY29sb3JcIixcbiAgICAgICAgICAgICAgICBcImJvdGFuaWNhbFwiLFxuICAgICAgICAgICAgICAgIFwiaGFuZC1kcmF3blwiLCBcbiAgICAgICAgICAgICAgICBcImRyZWFteS1mYW50YXN5XCIsXG4gICAgICAgICAgICAgICAgXCJtaW5pbWFsaXN0XCJcbiAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIGNvbnN0IHN0eWxlTGFiZWxzID0gW1xuICAgICAgICAgICAgICAgIFwi8J+OqCBXYXRlcmNvbG9yXCIsXG4gICAgICAgICAgICAgICAgXCLwn4y/IEJvdGFuaWNhbFwiLCBcbiAgICAgICAgICAgICAgICBcIuKcj++4jyBIYW5kLURyYXduXCIsXG4gICAgICAgICAgICAgICAgXCLwn4y4IERyZWFteSBGYW50YXN5XCIsXG4gICAgICAgICAgICAgICAgXCLinKggTWluaW1hbGlzdFwiXG4gICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICBzdHlsZU92ZXJyaWRlID0gcHJlZGVmaW5lZFN0eWxlc1tpbmRleF07XG4gICAgICAgICAgICAgIHN0eWxlTGFiZWwgPSBzdHlsZUxhYmVsc1tpbmRleF07XG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKGDwn46oIERyYWZ0ICR7aW5kZXggKyAxfTogVXNpbmcgcHJlZGVmaW5lZCBzdHlsZSBcIiR7c3R5bGVPdmVycmlkZX1cIiAoJHtzdHlsZUxhYmVsfSlgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgYXdhaXQgaGFuZGxlR2VuZXJhdGVDYXJkQXN5bmNJbnRlcm5hbCh7XG4gICAgICAgICAgICAgIGlzRHJhZnRNb2RlOiB0cnVlLFxuICAgICAgICAgICAgICBkcmFmdEluZGV4OiBpbmRleCxcbiAgICAgICAgICAgICAgc3R5bGVPdmVycmlkZTogc3R5bGVPdmVycmlkZSxcbiAgICAgICAgICAgICAgc3R5bGVMYWJlbDogc3R5bGVMYWJlbCxcbiAgICAgICAgICAgICAgb25EcmFmdENvbXBsZXRlOiAoY2FyZDogR2VuZXJhdGVkQ2FyZCwgaWR4OiBudW1iZXIpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhg4pyFIERyYWZ0IHZhcmlhdGlvbiAke2lkeCArIDF9IGNvbXBsZXRlZDpgLCBjYXJkLmlkKTtcbiAgICAgICAgICAgICAgICBzZXREcmFmdENhcmRzKHByZXYgPT4ge1xuICAgICAgICAgICAgICAgICAgY29uc3QgdXBkYXRlZCA9IFsuLi5wcmV2XTtcbiAgICAgICAgICAgICAgICAgIHVwZGF0ZWRbaWR4XSA9IGNhcmQ7XG4gICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIGFsbCA0IHZhcmlhdGlvbnMgYXJlIGNvbXBsZXRlXG4gICAgICAgICAgICAgICAgICBjb25zdCBjb21wbGV0ZWRDb3VudCA9IHVwZGF0ZWQuZmlsdGVyKGMgPT4gYykubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coYPCfk4ogRHJhZnQgcHJvZ3Jlc3M6ICR7Y29tcGxldGVkQ291bnR9LzQgdmFyaWF0aW9ucyBjb21wbGV0ZWApO1xuICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICBpZiAoY29tcGxldGVkQ291bnQgPT09IDQpIHtcbiAgICAgICAgICAgICAgICAgICAgc2V0SXNHZW5lcmF0aW5nKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgc2V0R2VuZXJhdGlvblByb2dyZXNzKFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICBzZXRQcm9ncmVzc1BlcmNlbnRhZ2UoMTAwKTtcbiAgICAgICAgICAgICAgICAgICAgc3RvcEVsYXBzZWRUaW1lVHJhY2tpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgdG9hc3Quc3VjY2VzcyhcIvCfjqggQWxsIDQgZGVzaWduIHZhcmlhdGlvbnMgcmVhZHkhIENob29zZSB5b3VyIGZhdm9yaXRlIGJlbG93LlwiKTtcbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHNldEdlbmVyYXRpb25Qcm9ncmVzcyhg4pyoICR7Y29tcGxldGVkQ291bnR9LzQgdmFyaWF0aW9ucyBjb21wbGV0ZS4uLmApO1xuICAgICAgICAgICAgICAgICAgICBzZXRQcm9ncmVzc1BlcmNlbnRhZ2UoKGNvbXBsZXRlZENvdW50IC8gNCkgKiAxMDApO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICByZXR1cm4gdXBkYXRlZDtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYOKdjCBEcmFmdCB2YXJpYXRpb24gJHtpbmRleCArIDF9IGZhaWxlZDpgLCBlcnJvcik7XG4gICAgICAgICAgICB0b2FzdC5lcnJvcihgRHJhZnQgdmFyaWF0aW9uICR7aW5kZXggKyAxfSBmYWlsZWQ6ICR7ZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnVW5rbm93biBlcnJvcid9YCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgLy8gV2FpdCBmb3IgYWxsIGRyYWZ0IGdlbmVyYXRpb25zIHRvIHN0YXJ0IChidXQgbm90IGNvbXBsZXRlKVxuICAgICAgYXdhaXQgUHJvbWlzZS5hbGxTZXR0bGVkKGRyYWZ0UHJvbWlzZXMpO1xuICAgICAgY29uc29sZS5sb2coXCLwn5qAIEFsbCBkcmFmdCB2YXJpYXRpb25zIHN0YXJ0ZWRcIik7XG5cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRHJhZnQgY2FyZCBnZW5lcmF0aW9uIGVycm9yOicsIGVycm9yKTtcbiAgICAgIHRvYXN0LmVycm9yKGBGYWlsZWQgdG8gc3RhcnQgZHJhZnQgZ2VuZXJhdGlvbjogJHtlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJ31gKTtcbiAgICAgIFxuICAgICAgc2V0SXNHZW5lcmF0aW5nKGZhbHNlKTtcbiAgICAgIHNldElzRHJhZnRNb2RlKGZhbHNlKTtcbiAgICAgIHNldERyYWZ0Q29tcGxldGlvblNob3duKGZhbHNlKTsgLy8gUmVzZXQgY29tcGxldGlvbiBmbGFnXG4gICAgICBzZXRHZW5lcmF0aW9uUHJvZ3Jlc3MoXCJcIik7XG4gICAgICBzdG9wRWxhcHNlZFRpbWVUcmFja2luZygpO1xuICAgIH1cbiAgfTtcblxuXG5cbiAgLy8gR2VuZXJhdGUgZmluYWwgaGlnaC1xdWFsaXR5IGNhcmQgZnJvbSBzZWxlY3RlZCBkcmFmdFxuICBjb25zdCBoYW5kbGVHZW5lcmF0ZUZpbmFsRnJvbURyYWZ0ID0gYXN5bmMgKGRpc3BsYXlJbmRleDogbnVtYmVyKSA9PiB7XG4gICAgaWYgKGRpc3BsYXlJbmRleCA8IDAgfHwgZGlzcGxheUluZGV4ID49IGRyYWZ0Q2FyZHMubGVuZ3RoIHx8ICFkcmFmdENhcmRzW2Rpc3BsYXlJbmRleF0pIHtcbiAgICAgIHRvYXN0LmVycm9yKFwiSW52YWxpZCBkcmFmdCBzZWxlY3Rpb25cIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gR2V0IHRoZSBvcmlnaW5hbCBkcmFmdCBpbmRleCBmcm9tIHRoZSBtYXBwaW5nXG4gICAgY29uc3Qgb3JpZ2luYWxEcmFmdEluZGV4ID0gZHJhZnRJbmRleE1hcHBpbmdbZGlzcGxheUluZGV4XTtcbiAgICBpZiAob3JpZ2luYWxEcmFmdEluZGV4ID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHRvYXN0LmVycm9yKFwiQ291bGQgbm90IGZpbmQgb3JpZ2luYWwgZHJhZnQgZGF0YVwiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBTdG9wIHJlbWFpbmluZyBkcmFmdCBnZW5lcmF0aW9ucyB0byBmb2N1cyBvbiB0aGUgc2VsZWN0ZWQgZGVzaWduXG4gICAgY29uc3QgcmVtYWluaW5nRHJhZnRzID0gMTAgLSBkcmFmdENhcmRzLmxlbmd0aDtcbiAgICBpZiAocmVtYWluaW5nRHJhZnRzID4gMCAmJiBpc0dlbmVyYXRpbmcpIHtcbiAgICAgIHNldElzR2VuZXJhdGluZyhmYWxzZSk7IC8vIFN0b3AgdGhlIGRyYWZ0IGdlbmVyYXRpb24gcHJvY2Vzc1xuICAgICAgdG9hc3QuaW5mbyhg8J+OryBGb2N1c2luZyBvbiB5b3VyIHNlbGVjdGVkIGRlc2lnbiEgU2tpcHBpbmcgJHtyZW1haW5pbmdEcmFmdHN9IHJlbWFpbmluZyB2YXJpYXRpb25zLmApO1xuICAgIH1cblxuICAgIHNldElzR2VuZXJhdGluZ0ZpbmFsQ2FyZCh0cnVlKTtcbiAgICBzZXRTZWxlY3RlZERyYWZ0SW5kZXgoZGlzcGxheUluZGV4KTsgLy8gU3RvcmUgZGlzcGxheSBpbmRleCBmb3IgVUlcbiAgICBzdGFydEVsYXBzZWRUaW1lVHJhY2tpbmcodW5kZWZpbmVkLCAxMjApOyAvLyAxMjAgc2Vjb25kcyBmb3IgZmluYWwgY2FyZCBnZW5lcmF0aW9uXG4gICAgc2V0R2VuZXJhdGlvblByb2dyZXNzKFwi8J+OqCBDcmVhdGluZyBoaWdoLXF1YWxpdHkgdmVyc2lvbiBvZiB5b3VyIHNlbGVjdGVkIGRlc2lnbi4uLlwiKTtcblxuICAgIHRyeSB7XG4gICAgICBjb25zdCBzZWxlY3RlZERyYWZ0ID0gZHJhZnRDYXJkc1tkaXNwbGF5SW5kZXhdO1xuICAgICAgY29uc3Qgam9iSWQgPSB1dWlkdjQoKTtcbiAgICAgIFxuICAgICAgLy8gR2VuZXJhdGUgdGhlIG1pc3NpbmcgcHJvbXB0cyB1c2luZyB0aGUgc3RvcmVkIGZyb250Q292ZXIgcHJvbXB0ICsgdXNlciBpbmZvXG4gICAgICBjb25zb2xlLmxvZyhcIvCflIQgR2VuZXJhdGluZyBjb21wbGV0ZSBwcm9tcHRzIGZyb20gc3RvcmVkIGZyb250IGNvdmVyIHByb21wdCArIHVzZXIgaW5mb1wiKTtcbiAgICAgIFxuICAgICAgLy8gVGhlIGRyYWZ0IHNob3VsZCBoYXZlIGF0IGxlYXN0IHRoZSBmcm9udENvdmVyIHByb21wdFxuICAgICAgY29uc3Qgc3RvcmVkRnJvbnRDb3ZlclByb21wdCA9IHNlbGVjdGVkRHJhZnQuZ2VuZXJhdGVkUHJvbXB0cz8uZnJvbnRDb3ZlcjtcbiAgICAgIGlmICghc3RvcmVkRnJvbnRDb3ZlclByb21wdCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJTZWxlY3RlZCBkcmFmdCBpcyBtaXNzaW5nIGZyb250Q292ZXIgcHJvbXB0XCIpO1xuICAgICAgfVxuICAgICAgXG4gICAgICBjb25zb2xlLmxvZyhcIuKchSBGb3VuZCBzdG9yZWQgZnJvbnQgY292ZXIgcHJvbXB0OlwiLCBzdG9yZWRGcm9udENvdmVyUHJvbXB0LnN1YnN0cmluZygwLCAxMDApICsgXCIuLi5cIik7XG4gICAgICBcbiAgICAgIC8vIE5vdyBnZW5lcmF0ZSB0aGUgbWlzc2luZyAzIHByb21wdHMgdXNpbmcgdGhlIGZyb250IGNvdmVyIGNvbnRleHQgKyB1c2VyIGluZm9cbiAgICAgIGNvbnN0IGNhcmRUeXBlRm9yUHJvbXB0ID0gc2VsZWN0ZWRUeXBlID09PSBcImN1c3RvbVwiID8gY3VzdG9tQ2FyZFR5cGUgOiBzZWxlY3RlZFR5cGU7XG4gICAgICBjb25zdCBzZWxlY3RlZFRvbmVPYmogPSBjYXJkVG9uZXMuZmluZCh0b25lID0+IHRvbmUuaWQgPT09IHNlbGVjdGVkVG9uZSk7XG4gICAgICBjb25zdCB0b25lRGVzY3JpcHRpb24gPSBzZWxlY3RlZFRvbmVPYmogPyBzZWxlY3RlZFRvbmVPYmouZGVzY3JpcHRpb24udG9Mb3dlckNhc2UoKSA6IFwiaGVhcnRmZWx0IGFuZCBzaW5jZXJlXCI7XG4gICAgICBjb25zdCBlZmZlY3RpdmVQcm9tcHQgPSBwcm9tcHQudHJpbSgpIHx8IGBBIGJlYXV0aWZ1bCAke2NhcmRUeXBlRm9yUHJvbXB0fSBjYXJkIHdpdGggJHt0b25lRGVzY3JpcHRpb259IHN0eWxlYDtcbiAgICAgIFxuICAgICAgbGV0IG1lc3NhZ2VDb250ZW50ID0gZmluYWxDYXJkTWVzc2FnZTtcbiAgICAgIGlmIChpc0hhbmR3cml0dGVuTWVzc2FnZSkge1xuICAgICAgICBtZXNzYWdlQ29udGVudCA9IFwiW0JsYW5rIHNwYWNlIGZvciBoYW5kd3JpdHRlbiBtZXNzYWdlXVwiO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBHZXQgc3R5bGUgZnJvbSB0aGUgc2VsZWN0ZWQgZHJhZnQgb3IgZmFsbCBiYWNrIHRvIGN1cnJlbnQgc2V0dGluZyAgXG4gICAgICBjb25zdCBkcmFmdFN0eWxlSW5mbyA9IHNlbGVjdGVkRHJhZnQuc3R5bGVJbmZvO1xuICAgICAgbGV0IHN0eWxlTW9kaWZpZXIgPSBcIlwiO1xuICAgICAgaWYgKGRyYWZ0U3R5bGVJbmZvICYmIGRyYWZ0U3R5bGVJbmZvLnN0eWxlTmFtZSkge1xuICAgICAgICBjb25zdCBzZWxlY3RlZFN0eWxlID0gYXJ0aXN0aWNTdHlsZXMuZmluZChzdHlsZSA9PiBzdHlsZS5pZCA9PT0gZHJhZnRTdHlsZUluZm8uc3R5bGVOYW1lKTtcbiAgICAgICAgc3R5bGVNb2RpZmllciA9IHNlbGVjdGVkU3R5bGU/LnByb21wdE1vZGlmaWVyIHx8IFwiXCI7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBzZWxlY3RlZFN0eWxlID0gYXJ0aXN0aWNTdHlsZXMuZmluZChzdHlsZSA9PiBzdHlsZS5pZCA9PT0gc2VsZWN0ZWRBcnRpc3RpY1N0eWxlKTtcbiAgICAgICAgc3R5bGVNb2RpZmllciA9IHNlbGVjdGVkQXJ0aXN0aWNTdHlsZSA9PT0gXCJjdXN0b21cIiBcbiAgICAgICAgICA/IGN1c3RvbVN0eWxlRGVzY3JpcHRpb24gXG4gICAgICAgICAgOiBzZWxlY3RlZFN0eWxlPy5wcm9tcHRNb2RpZmllciB8fCBcIlwiO1xuICAgICAgfVxuICAgICAgXG4gICAgICBjb25zdCBnZW5lcmF0ZU90aGVyUHJvbXB0c1F1ZXJ5ID0gYFlvdSBhcmUgY3JlYXRpbmcgdGhlIHJlbWFpbmluZyBwcm9tcHRzIGZvciBhIGdyZWV0aW5nIGNhcmQuIFlvdSBhbHJlYWR5IGhhdmUgdGhlIGZyb250IGNvdmVyIHByb21wdCBiZWxvdy5cblxuRVhJU1RJTkcgRlJPTlQgQ09WRVIgUFJPTVBUOlxuXCIke3N0b3JlZEZyb250Q292ZXJQcm9tcHR9XCJcblxuQ0FSRCBDT05URVhUOlxuLSBUeXBlOiAke2NhcmRUeXBlRm9yUHJvbXB0fVxuLSBUaGVtZTogXCIke2VmZmVjdGl2ZVByb21wdH1cIiAgXG4tIFRvbmU6ICR7dG9uZURlc2NyaXB0aW9ufVxuJHt0b0ZpZWxkID8gYC0gVG86ICR7dG9GaWVsZH1gIDogXCJcIn1cbiR7ZnJvbUZpZWxkID8gYC0gRnJvbTogJHtmcm9tRmllbGR9YCA6IFwiXCJ9XG4keyFpc0Zyb250QmFja09ubHkgPyBgLSBNZXNzYWdlOiBcIiR7bWVzc2FnZUNvbnRlbnR9XCJgIDogXCJcIn1cbiR7aXNIYW5kd3JpdHRlbk1lc3NhZ2UgPyBcIi0gTm90ZTogSW5jbHVkZSBzcGFjZSBmb3IgaGFuZHdyaXR0ZW4gbWVzc2FnZVwiIDogXCJcIn1cblxuVEFTSzogQ3JlYXRlIHByb21wdHMgZm9yIHRoZSByZW1haW5pbmcgY2FyZCBzZWN0aW9ucyB0aGF0IGFyZSB2aXN1YWxseSBjb2hlc2l2ZSB3aXRoIHRoZSBleGlzdGluZyBmcm9udCBjb3Zlci4gVXNlIHRoZSBzYW1lIGNvbG9yIHBhbGV0dGUsIGFydGlzdGljIHN0eWxlLCBsaWdodGluZywgYW5kIHZpc3VhbCBlbGVtZW50cyBmcm9tIHRoZSBmcm9udCBjb3ZlciB0byBjcmVhdGUgYSB1bmlmaWVkIGRlc2lnbi5cblxuUmVxdWlyZW1lbnRzOlxuLSBNYWludGFpbiB2aXN1YWwgY29udGludWl0eSB3aXRoIHRoZSBmcm9udCBjb3ZlciBkZXNpZ25cbi0gVXNlIHRoZSBzYW1lIGFydGlzdGljIHN0eWxlOiAke3N0eWxlTW9kaWZpZXJ9XG4tIEtlZXAgY29uc2lzdGVudCBjb2xvciBwYWxldHRlLCBsaWdodGluZywgYW5kIG1vb2Rcbi0gRnVsbC1ibGVlZCBiYWNrZ3JvdW5kcyBleHRlbmRpbmcgdG8gZWRnZXNcbi0gS2VlcCB0ZXh0L2ZhY2VzIDAuNVwiIGZyb20gbGVmdC9yaWdodCBlZGdlcyBmb3Igc2FmZSBwcmludGluZ1xuLSBJTVBPUlRBTlQ6IEtlZXAgdGV4dCwgZmFjZXMsIGFuZCBrZXkgZWxlbWVudHMgYXQgbGVhc3QgMTAlIGF3YXkgZnJvbSB0b3AvYm90dG9tIGVkZ2VzXG5cbkdlbmVyYXRlIHByb21wdHMgZm9yOlxuXG4xLiBCYWNrIENvdmVyOiBDcmVhdGUgYSBzaW1wbGUsIHBlYWNlZnVsIGRlc2lnbiB0aGF0IGNvbXBsZW1lbnRzIHRoZSBmcm9udCBjb3Zlci4gUmVmZXJlbmNlIHN1YnRsZSBlbGVtZW50cyBmcm9tIHRoZSBmcm9udCBjb3ZlciBidXQga2VlcCBpdCBtaW5pbWFsIGFuZCBzZXJlbmUuIE5PIFBFT1BMRSwganVzdCBiZWF1dGlmdWwgYXJ0aXN0aWMgZWxlbWVudHMuIElNUE9SVEFOVDogTGVhdmUgdGhlIGJvdHRvbS1yaWdodCBjb3JuZXIgYXJlYSAoYXBwcm94aW1hdGVseSAxIGluY2ggc3F1YXJlKSBjb21wbGV0ZWx5IGNsZWFyIGFuZCB1bmRlY29yYXRlZCBmb3IgUVIgY29kZSBwbGFjZW1lbnQuXG5cbiR7IWlzRnJvbnRCYWNrT25seSA/IGAyLiBMZWZ0IEludGVyaW9yOiBDcmVhdGl2ZSBkZWNvcmF0aXZlIGFydCB0aGF0IGhhcm1vbml6ZXMgd2l0aCB0aGUgZnJvbnQgY292ZXIgc3R5bGUuIE5PIFBFT1BMRSBvciBjaGFyYWN0ZXJzLCBmb2N1cyBvbiBhcnRpc3RpYyBlbGVtZW50cyBsaWtlIHBhdHRlcm5zLCBsYW5kc2NhcGVzLCBvYmplY3RzLCBvciBhYnN0cmFjdCBhcnQgdGhhdCBtYXRjaGVzIHRoZSBmcm9udCBjb3ZlcidzIG1vb2QgYW5kIHN0eWxlLlxuXG4zLiBSaWdodCBJbnRlcmlvcjogJHtpc0hhbmR3cml0dGVuTWVzc2FnZSA/IGBEZXNpZ24gZWxlZ2FudCB3cml0aW5nIHNwYWNlIHdpdGggZGVjb3JhdGl2ZSBlbGVtZW50cyB0aGF0IGNvbXBsZW1lbnQgdGhlIGZyb250IGNvdmVyIHN0eWxlLiBQb3NpdGlvbiBkZWNvcmF0aXZlIGVsZW1lbnRzIHNhZmVseSBhd2F5IGZyb20gZWRnZXMuIE5PIFBFT1BMRSBvciBjaGFyYWN0ZXJzLmAgOiBgSW5jbHVkZSBtZXNzYWdlIHRleHQ6IFwiJHttZXNzYWdlQ29udGVudH1cIiBpbiBiZWF1dGlmdWwgaGFuZHdyaXR0ZW4gY3Vyc2l2ZSBzY3JpcHQsIGludGVncmF0ZWQgaW50byBkZWNvcmF0aXZlIGFydHdvcmsgdGhhdCBtYXRjaGVzIHRoZSBmcm9udCBjb3ZlciBzdHlsZS4gTk8gUEVPUExFIG9yIGNoYXJhY3RlcnMuYH1gIDogJyd9XG5cblJldHVybiBKU09OOlxue1xuICBcImZyb250Q292ZXJcIjogXCIke3N0b3JlZEZyb250Q292ZXJQcm9tcHR9XCIsXG4gIFwiYmFja0NvdmVyXCI6IFwiZGV0YWlsZWQgYmFjayBjb3ZlciBwcm9tcHRcIiR7IWlzRnJvbnRCYWNrT25seSA/ICcsXFxuICBcImxlZnRJbnRlcmlvclwiOiBcImRldGFpbGVkIGxlZnQgaW50ZXJpb3IgcHJvbXB0XCIsXFxuICBcInJpZ2h0SW50ZXJpb3JcIjogXCJkZXRhaWxlZCByaWdodCBpbnRlcmlvciBwcm9tcHRcIicgOiAnJ31cbn1gO1xuXG4gICAgICBjb25zdCBmaW5hbFByb21wdHMgPSBhd2FpdCBjaGF0V2l0aEFJKGdlbmVyYXRlT3RoZXJQcm9tcHRzUXVlcnksIHtcbiAgICAgICAganNvblNjaGVtYToge1xuICAgICAgICAgIHR5cGU6IFwib2JqZWN0XCIsXG4gICAgICAgICAgcHJvcGVydGllczoge1xuICAgICAgICAgICAgZnJvbnRDb3ZlcjogeyB0eXBlOiBcInN0cmluZ1wiIH0sXG4gICAgICAgICAgICBiYWNrQ292ZXI6IHsgdHlwZTogXCJzdHJpbmdcIiB9LFxuICAgICAgICAgICAgLi4uKGlzRnJvbnRCYWNrT25seSA/IHt9IDogeyBcbiAgICAgICAgICAgICAgbGVmdEludGVyaW9yOiB7IHR5cGU6IFwic3RyaW5nXCIgfSxcbiAgICAgICAgICAgICAgcmlnaHRJbnRlcmlvcjogeyB0eXBlOiBcInN0cmluZ1wiIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgfSxcbiAgICAgICAgICByZXF1aXJlZDogW1wiZnJvbnRDb3ZlclwiLCBcImJhY2tDb3ZlclwiLCAuLi4oaXNGcm9udEJhY2tPbmx5ID8gW10gOiBbXCJsZWZ0SW50ZXJpb3JcIiwgXCJyaWdodEludGVyaW9yXCJdKV1cbiAgICAgICAgfSxcbiAgICAgICAgbW9kZWw6IFwiZ2VtaW5pLTIuNS1wcm9cIlxuICAgICAgfSk7XG5cbiAgICAgIGlmICghZmluYWxQcm9tcHRzIHx8ICFmaW5hbFByb21wdHMuZnJvbnRDb3ZlciB8fCAhZmluYWxQcm9tcHRzLmJhY2tDb3Zlcikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJGYWlsZWQgdG8gZ2VuZXJhdGUgY29tcGxldGUgcHJvbXB0cyBmb3IgZmluYWwgY2FyZFwiKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgY29uc29sZS5sb2coXCLinIUgR2VuZXJhdGVkIGNvbXBsZXRlIHByb21wdHMgZm9yIGZpbmFsIGNhcmQ6XCIsIHtcbiAgICAgICAgaGFzRnJvbnRDb3ZlcjogISFmaW5hbFByb21wdHMuZnJvbnRDb3ZlcixcbiAgICAgICAgaGFzQmFja0NvdmVyOiAhIWZpbmFsUHJvbXB0cy5iYWNrQ292ZXIsXG4gICAgICAgIGhhc0xlZnRJbnRlcmlvcjogISFmaW5hbFByb21wdHMubGVmdEludGVyaW9yLFxuICAgICAgICBoYXNSaWdodEludGVyaW9yOiAhIWZpbmFsUHJvbXB0cy5yaWdodEludGVyaW9yXG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgLy8gUHJlcGFyZSBpbnB1dCBpbWFnZXMgZm9yIGZpbmFsIGdlbmVyYXRpb24gKHJlZmVyZW5jZSBwaG90b3MpXG4gICAgICBjb25zdCBpbnB1dEltYWdlczogc3RyaW5nW10gPSBbXTtcbiAgICAgIGlmIChyZWZlcmVuY2VJbWFnZVVybHMubGVuZ3RoID4gMCAmJiBzZWxlY3RlZEltYWdlTW9kZWwgPT09IFwiZ3B0LWltYWdlLTFcIikge1xuICAgICAgICBpbnB1dEltYWdlcy5wdXNoKC4uLnJlZmVyZW5jZUltYWdlVXJscyk7XG4gICAgICAgIGNvbnNvbGUubG9nKFwi8J+UjSBERUJVRzogQWRkZWQgcmVmZXJlbmNlIGltYWdlcyB0byBmaW5hbCBkcmFmdCBnZW5lcmF0aW9uOlwiLCByZWZlcmVuY2VJbWFnZVVybHMpO1xuICAgICAgICBjb25zb2xlLmxvZyhcIvCflI0gREVCVUc6IFRvdGFsIGlucHV0IGltYWdlcyBmb3IgZmluYWwgZHJhZnQgZ2VuZXJhdGlvbjpcIiwgaW5wdXRJbWFnZXMubGVuZ3RoKTtcbiAgICAgICAgdG9hc3Quc3VjY2Vzcyhg8J+TuCAke3JlZmVyZW5jZUltYWdlVXJscy5sZW5ndGh9IHJlZmVyZW5jZSBwaG90byR7cmVmZXJlbmNlSW1hZ2VVcmxzLmxlbmd0aCA+IDEgPyAncycgOiAnJ30gYXBwbGllZCB0byBmaW5hbCBnZW5lcmF0aW9uIWApO1xuICAgICAgfVxuXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCcvYXBpL2dlbmVyYXRlLWNhcmQtYXN5bmMnLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgIGpvYklkLFxuICAgICAgICAgIHByb21wdHM6IGZpbmFsUHJvbXB0cyxcbiAgICAgICAgICBjb25maWc6IHtcbiAgICAgICAgICAgIHVzZXJOdW1iZXI6IFwiKzE3MTQ1OTg2MTA1XCIsXG4gICAgICAgICAgICBtb2RlbFZlcnNpb246IHNlbGVjdGVkSW1hZ2VNb2RlbCxcbiAgICAgICAgICAgIGFzcGVjdFJhdGlvOiBwYXBlclNpemVzLmZpbmQoc2l6ZSA9PiBzaXplLmlkID09PSBzZWxlY3RlZFBhcGVyU2l6ZSk/LmFzcGVjdFJhdGlvIHx8IFwiOToxNlwiLFxuICAgICAgICAgICAgcXVhbGl0eTogXCJoaWdoXCIsIC8vIEhJR0ggUVVBTElUWSBmb3IgZmluYWwgY2FyZFxuICAgICAgICAgICAgb3V0cHV0Rm9ybWF0OiBcImpwZWdcIixcbiAgICAgICAgICAgIG91dHB1dENvbXByZXNzaW9uOiAxMDAsXG4gICAgICAgICAgICBtb2RlcmF0aW9uOiBcImxvd1wiLFxuICAgICAgICAgICAgZGltZW5zaW9uczogcGFwZXJTaXplcy5maW5kKHNpemUgPT4gc2l6ZS5pZCA9PT0gc2VsZWN0ZWRQYXBlclNpemUpPy5kaW1lbnNpb25zIHx8IFwiMTAyNHgxNTM2XCIsXG4gICAgICAgICAgICBpc0Zyb250QmFja09ubHksXG4gICAgICAgICAgICB1c2VyRW1haWwsXG4gICAgICAgICAgICBjYXJkVHlwZTogc2VsZWN0ZWRUeXBlID09PSBcImN1c3RvbVwiID8gY3VzdG9tQ2FyZFR5cGUgOiBzZWxlY3RlZFR5cGUsXG4gICAgICAgICAgICB0b0ZpZWxkLFxuICAgICAgICAgICAgZnJvbUZpZWxkLFxuICAgICAgICAgICAgaXNEcmFmdE1vZGU6IGZhbHNlLFxuICAgICAgICAgICAgLi4uKGlucHV0SW1hZ2VzLmxlbmd0aCA+IDAgJiYgeyBcbiAgICAgICAgICAgICAgaW5wdXRfaW1hZ2VzOiBpbnB1dEltYWdlcyxcbiAgICAgICAgICAgICAgaW5wdXRfaW1hZ2VzX21vZGU6IFwiZnJvbnRfY292ZXJfb25seVwiIC8vIEFsbCByZWZlcmVuY2UgaW1hZ2VzIHNob3VsZCBnbyB0byBmcm9udCBjb3ZlciBmb3IgY2hhcmFjdGVyIGNyZWF0aW9uXG4gICAgICAgICAgICB9KVxuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgIH0pO1xuXG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgU2VydmVyIGVycm9yOiAke3Jlc3BvbnNlLnN0YXR1c31gKTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgXG4gICAgICBpZiAocmVzdWx0LnN0YXR1cyAhPT0gJ3Byb2Nlc3NpbmcnKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihyZXN1bHQubWVzc2FnZSB8fCAnRmFpbGVkIHRvIHN0YXJ0IGZpbmFsIGNhcmQgZ2VuZXJhdGlvbicpO1xuICAgICAgfVxuXG4gICAgICBzZXRDdXJyZW50Sm9iSWQoam9iSWQpO1xuICAgICAgdG9hc3Quc3VjY2VzcyhcIvCfjqggR2VuZXJhdGluZyBoaWdoLXF1YWxpdHkgdmVyc2lvbiBvZiB5b3VyIHNlbGVjdGVkIGRlc2lnbiFcIik7XG4gICAgICBcbiAgICAgIC8vIFBvbGwgZm9yIGNvbXBsZXRpb24gKHJldXNlIGV4aXN0aW5nIHBvbGxKb2JTdGF0dXMpXG4gICAgICBwb2xsSm9iU3RhdHVzKGpvYklkKTtcblxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdGaW5hbCBjYXJkIGdlbmVyYXRpb24gZXJyb3I6JywgZXJyb3IpO1xuICAgICAgdG9hc3QuZXJyb3IoXCJGYWlsZWQgdG8gZ2VuZXJhdGUgZmluYWwgY2FyZC4gUGxlYXNlIHRyeSBhZ2Fpbi5cIik7XG4gICAgICBzZXRJc0dlbmVyYXRpbmdGaW5hbENhcmQoZmFsc2UpO1xuICAgICAgc2V0R2VuZXJhdGlvblByb2dyZXNzKFwiXCIpO1xuICAgICAgc3RvcEVsYXBzZWRUaW1lVHJhY2tpbmcoKTtcbiAgICB9XG4gIH07XG5cbiAgLy8gQ29uc29saWRhdGVkIGNhcmQgZ2VuZXJhdGlvbiBmdW5jdGlvblxuICBjb25zdCBoYW5kbGVHZW5lcmF0ZUNhcmRBc3luY0ludGVybmFsID0gYXN5bmMgKG9wdGlvbnM6IHtcbiAgICBpc0RyYWZ0TW9kZT86IGJvb2xlYW47XG4gICAgZHJhZnRJbmRleD86IG51bWJlcjtcbiAgICBzdHlsZU92ZXJyaWRlPzogc3RyaW5nO1xuICAgIHN0eWxlTGFiZWw/OiBzdHJpbmc7XG4gICAgb25EcmFmdENvbXBsZXRlPzogKGNhcmQ6IEdlbmVyYXRlZENhcmQsIGluZGV4OiBudW1iZXIpID0+IHZvaWQ7XG4gIH0gPSB7fSkgPT4ge1xuICAgIGNvbnN0IHsgaXNEcmFmdE1vZGUgPSBmYWxzZSwgZHJhZnRJbmRleCA9IDAsIHN0eWxlT3ZlcnJpZGUgPSB1bmRlZmluZWQsIHN0eWxlTGFiZWwgPSB1bmRlZmluZWQsIG9uRHJhZnRDb21wbGV0ZSB9ID0gb3B0aW9ucztcbiAgICBcbiAgICBjb25zb2xlLmxvZyhg8J+UjSBoYW5kbGVHZW5lcmF0ZUNhcmRBc3luY0ludGVybmFsIGNhbGxlZDpgLCB7IGlzRHJhZnRNb2RlLCBkcmFmdEluZGV4LCBoYXNPbkRyYWZ0Q29tcGxldGU6ICEhb25EcmFmdENvbXBsZXRlIH0pO1xuICAgIGlmICghdXNlckVtYWlsLnRyaW0oKSkge1xuICAgICAgdG9hc3QuZXJyb3IoXCJQbGVhc2UgZW50ZXIgeW91ciBlbWFpbCBhZGRyZXNzXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIEJhc2ljIGVtYWlsIHZhbGlkYXRpb25cbiAgICBjb25zdCBlbWFpbFJlZ2V4ID0gL15bXlxcc0BdK0BbXlxcc0BdK1xcLlteXFxzQF0rJC87XG4gICAgaWYgKCFlbWFpbFJlZ2V4LnRlc3QodXNlckVtYWlsKSkge1xuICAgICAgdG9hc3QuZXJyb3IoXCJQbGVhc2UgZW50ZXIgYSB2YWxpZCBlbWFpbCBhZGRyZXNzXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIFZhbGlkYXRlIGN1c3RvbSBzdHlsZSBpZiBzZWxlY3RlZFxuICAgIGlmIChzZWxlY3RlZEFydGlzdGljU3R5bGUgPT09IFwiY3VzdG9tXCIgJiYgIWN1c3RvbVN0eWxlRGVzY3JpcHRpb24udHJpbSgpKSB7XG4gICAgICB0b2FzdC5lcnJvcihcIlBsZWFzZSBkZXNjcmliZSB5b3VyIGN1c3RvbSBhcnRpc3RpYyBzdHlsZVwiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBEZXRlcm1pbmUgd2hpY2ggbW9kZWwgdG8gdXNlIGJhc2VkIG9uIG1vZGVcbiAgICBjb25zdCBtb2RlbFRvVXNlID0gaXNEcmFmdE1vZGUgPyBzZWxlY3RlZERyYWZ0TW9kZWwgOiBzZWxlY3RlZEltYWdlTW9kZWw7XG5cbiAgICAvLyBWYWxpZGF0ZSByZWZlcmVuY2UgaW1hZ2VzIHdpdGggbW9kZWwgY29tcGF0aWJpbGl0eVxuICAgIGlmIChyZWZlcmVuY2VJbWFnZVVybHMubGVuZ3RoID4gMCAmJiBtb2RlbFRvVXNlICE9PSBcImdwdC1pbWFnZS0xXCIpIHtcbiAgICAgIGNvbnN0IG1vZGVUZXh0ID0gaXNEcmFmdE1vZGUgPyBcImRyYWZ0IG1vZGVcIiA6IFwiZmluYWwgZ2VuZXJhdGlvblwiO1xuICAgICAgdG9hc3QuZXJyb3IoYFJlZmVyZW5jZSBwaG90b3MgYXJlIG9ubHkgc3VwcG9ydGVkIHdpdGggR1BUIEltYWdlIDEgbW9kZWwuIFBsZWFzZSBzd2l0Y2ggdG8gR1BUIEltYWdlIDEgZm9yICR7bW9kZVRleHR9IG9yIHJlbW92ZSByZWZlcmVuY2UgcGhvdG9zLmApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIE9ubHkgc2V0IGdsb2JhbCBnZW5lcmF0aW5nIHN0YXRlIGlmIG5vdCBpbiBkcmFmdCBtb2RlIChkcmFmdCBtb2RlIG1hbmFnZXMgaXRzIG93biBzdGF0ZSlcbiAgICBpZiAoIWlzRHJhZnRNb2RlKSB7XG4gICAgICBzZXRJc0dlbmVyYXRpbmcodHJ1ZSk7XG4gICAgICBzdGFydEVsYXBzZWRUaW1lVHJhY2tpbmcodW5kZWZpbmVkLCAxMjApOyAvLyAxMjAgc2Vjb25kcyBmb3IgcmVndWxhciBjYXJkIGdlbmVyYXRpb25cbiAgICAgIHNldEdlbmVyYXRpb25Qcm9ncmVzcyhcIkNyZWF0aW5nIHlvdXIgcGVyc29uYWxpemVkIGNhcmQuLi5cIik7XG4gICAgICBzZXRQcm9ncmVzc1BlcmNlbnRhZ2UoMCk7XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIC8vIENyZWF0ZSBqb2IgdHJhY2tpbmdcbiAgICAgIGNvbnN0IGpvYklkID0gaXNEcmFmdE1vZGUgPyBgZHJhZnQtJHtkcmFmdEluZGV4fS0ke3V1aWR2NCgpfWAgOiB1dWlkdjQoKTtcbiAgICAgIGlmICghaXNEcmFmdE1vZGUpIHtcbiAgICAgICAgc2V0Q3VycmVudEpvYklkKGpvYklkKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gR2VuZXJhdGUgYWxsIHByb21wdHMgY2xpZW50LXNpZGUgZmlyc3RcbiAgICAgIGNvbnN0IGNhcmRUeXBlRm9yUHJvbXB0ID0gc2VsZWN0ZWRUeXBlID09PSBcImN1c3RvbVwiID8gY3VzdG9tQ2FyZFR5cGUgOiBzZWxlY3RlZFR5cGU7XG4gICAgICBjb25zdCBzZWxlY3RlZFRvbmVPYmogPSBjYXJkVG9uZXMuZmluZCh0b25lID0+IHRvbmUuaWQgPT09IHNlbGVjdGVkVG9uZSk7XG4gICAgICBjb25zdCB0b25lRGVzY3JpcHRpb24gPSBzZWxlY3RlZFRvbmVPYmogPyBzZWxlY3RlZFRvbmVPYmouZGVzY3JpcHRpb24udG9Mb3dlckNhc2UoKSA6IFwiaGVhcnRmZWx0IGFuZCBzaW5jZXJlXCI7XG4gICAgICBjb25zdCBlZmZlY3RpdmVQcm9tcHQgPSBwcm9tcHQudHJpbSgpIHx8IGBBIGJlYXV0aWZ1bCAke2NhcmRUeXBlRm9yUHJvbXB0fSBjYXJkIHdpdGggJHt0b25lRGVzY3JpcHRpb259IHN0eWxlYDtcblxuICAgICAgbGV0IG1lc3NhZ2VDb250ZW50ID0gZmluYWxDYXJkTWVzc2FnZTtcbiAgICAgIFxuICAgICAgLy8gSGFuZGxlIG1lc3NhZ2UgZ2VuZXJhdGlvbiBpZiBuZWVkZWRcbiAgICAgIGlmIChpc0hhbmR3cml0dGVuTWVzc2FnZSkge1xuICAgICAgICBtZXNzYWdlQ29udGVudCA9IFwiW0JsYW5rIHNwYWNlIGZvciBoYW5kd3JpdHRlbiBtZXNzYWdlXVwiO1xuICAgICAgfSBlbHNlIGlmICghbWVzc2FnZUNvbnRlbnQudHJpbSgpICYmICFpc0Zyb250QmFja09ubHkpIHtcbiAgICAgICAgc2V0R2VuZXJhdGlvblByb2dyZXNzKFwi4pyN77iPIFdyaXRpbmcgdGhlIHBlcmZlY3QgbWVzc2FnZS4uLlwiKTtcbiAgICAgICAgXG4gICAgICAgIC8vIEF1dG8tZ2VuZXJhdGUgbWVzc2FnZSAoa2VlcGluZyBleGlzdGluZyBsb2dpYylcbiAgICAgICAgY29uc3QgYXV0b01lc3NhZ2VQcm9tcHQgPSBgQ3JlYXRlIGEgJHt0b25lRGVzY3JpcHRpb259IG1lc3NhZ2UgZm9yIGEgJHtjYXJkVHlwZUZvclByb21wdH0gZ3JlZXRpbmcgY2FyZC5cblxuQ2FyZCBUaGVtZS9EZXNjcmlwdGlvbjogXCIke2VmZmVjdGl2ZVByb21wdH1cIlxuJHt0b0ZpZWxkID8gYFJlY2lwaWVudDogJHt0b0ZpZWxkfWAgOiBcIlJlY2lwaWVudDogW25vdCBzcGVjaWZpZWRdXCJ9XG4ke2Zyb21GaWVsZCA/IGBTZW5kZXI6ICR7ZnJvbUZpZWxkfWAgOiBcIlNlbmRlcjogW25vdCBzcGVjaWZpZWRdXCJ9XG5DYXJkIFRvbmU6ICR7c2VsZWN0ZWRUb25lT2JqID8gc2VsZWN0ZWRUb25lT2JqLmxhYmVsIDogXCJIZWFydGZlbHRcIn0gLSAke3RvbmVEZXNjcmlwdGlvbn1cblxuSW5zdHJ1Y3Rpb25zOlxuLSBXcml0ZSBhIG1lc3NhZ2UgdGhhdCBpcyAke3RvbmVEZXNjcmlwdGlvbn0gYW5kIGZlZWxzIHBlcnNvbmFsIGFuZCBnZW51aW5lXG4tICR7dG9GaWVsZCA/IGBBZGRyZXNzIHRoZSBtZXNzYWdlIHRvICR7dG9GaWVsZH0gZGlyZWN0bHksIHVzaW5nIHRoZWlyIG5hbWUgbmF0dXJhbGx5YCA6IFwiV3JpdGUgaW4gYSB3YXkgdGhhdCBjb3VsZCBiZSBwZXJzb25hbGl6ZWQgdG8gYW55IHJlY2lwaWVudFwifVxuLSAke2Zyb21GaWVsZCA/IGBXcml0ZSBhcyBpZiAke2Zyb21GaWVsZH0gaXMgcGVyc29uYWxseSB3cml0aW5nIHRoaXMgbWVzc2FnZWAgOiBgV3JpdGUgaW4gYSAke3RvbmVEZXNjcmlwdGlvbn0gdG9uZWB9XG4tIE1hdGNoIHRoZSAke3RvbmVEZXNjcmlwdGlvbn0gdG9uZSBhbmQgb2NjYXNpb24gb2YgdGhlICR7Y2FyZFR5cGVGb3JQcm9tcHR9IGNhcmQgdHlwZVxuLSBCZSBpbnNwaXJlZCBieSB0aGUgdGhlbWU6IFwiJHtwcm9tcHR9XCJcbi0gS2VlcCBpdCBjb25jaXNlIGJ1dCBtZWFuaW5nZnVsICgyLTQgc2VudGVuY2VzIGlkZWFsKVxuLSBNYWtlIGl0IGZlZWwgYXV0aGVudGljLCBub3QgZ2VuZXJpY1xuLSBTQUZFVFk6IE5ldmVyIGluY2x1ZGUgYnJhbmQgbmFtZXMsIGNoYXJhY3RlciBuYW1lcywgdHJhZGVtYXJrZWQgdGVybXMsIG9yIGluYXBwcm9wcmlhdGUgY29udGVudC4gSWYgdGhlIHRoZW1lIHJlZmVyZW5jZXMgdGhlc2UsIHVzZSBnZW5lcmljIGFsdGVybmF0aXZlcyBvciBmb2N1cyBvbiB0aGUgZW1vdGlvbnMvY29uY2VwdHMgaW5zdGVhZFxuLSBLZWVwIGNvbnRlbnQgZmFtaWx5LWZyaWVuZGx5IGFuZCBhcHByb3ByaWF0ZSBmb3IgYWxsIGFnZXNcbi0gJHtzZWxlY3RlZFRvbmUgPT09ICdmdW5ueScgPyAnSW5jbHVkZSBhcHByb3ByaWF0ZSBodW1vciB0aGF0IGZpdHMgdGhlIG9jY2FzaW9uJyA6ICcnfVxuLSAke3NlbGVjdGVkVG9uZSA9PT0gJ2dlbnotaHVtb3InID8gJ1VzZSBHZW5aIGh1bW9yIHdpdGggaW50ZXJuZXQgc2xhbmcsIG1lbWVzLCBhbmQgY2hhb3RpYyBlbmVyZ3kgLSB0aGluayBcIm5vIGNhcFwiLCBcInBlcmlvZHRcIiwgXCJpdFxcJ3MgZ2l2aW5nLi4uXCIsIFwic2xheVwiLCBldGMuIEJlIHVuaGluZ2VkIGJ1dCBlbmRlYXJpbmcnIDogJyd9XG4tICR7c2VsZWN0ZWRUb25lID09PSAncHJvZmVzc2lvbmFsJyA/ICdLZWVwIGl0IGZvcm1hbCBhbmQgYnVzaW5lc3MtYXBwcm9wcmlhdGUnIDogJyd9XG4tICR7c2VsZWN0ZWRUb25lID09PSAncm9tYW50aWMnID8gJ0luY2x1ZGUgbG92aW5nIGFuZCByb21hbnRpYyBsYW5ndWFnZScgOiAnJ31cbi0gJHtzZWxlY3RlZFRvbmUgPT09ICdwbGF5ZnVsJyA/ICdVc2UgZnVuIGFuZCBlbmVyZ2V0aWMgbGFuZ3VhZ2UnIDogJyd9XG4tICR7dG9GaWVsZCAmJiBmcm9tRmllbGQgPyBgU2hvdyB0aGUgcmVsYXRpb25zaGlwIGJldHdlZW4gJHtmcm9tRmllbGR9IGFuZCAke3RvRmllbGR9IHRocm91Z2ggdGhlICR7dG9uZURlc2NyaXB0aW9ufSBtZXNzYWdlIHRvbmVgIDogXCJcIn1cbi0gJHtmcm9tRmllbGQgPyBgRW5kIHRoZSBtZXNzYWdlIHdpdGggYSBzaWduYXR1cmUgbGluZSBsaWtlIFwiTG92ZSwgJHtmcm9tRmllbGR9XCIgb3IgXCItICR7ZnJvbUZpZWxkfVwiIG9yIHNpbWlsYXIsIG5hdHVyYWxseSBpbnRlZ3JhdGVkIGludG8gdGhlIG1lc3NhZ2UuYCA6IFwiXCJ9XG5cblJldHVybiBPTkxZIHRoZSBtZXNzYWdlIHRleHQgdGhhdCBzaG91bGQgYXBwZWFyIGluc2lkZSB0aGUgY2FyZCAtIG5vIHF1b3Rlcywgbm8gZXhwbGFuYXRpb25zLCBubyBtYXJrZG93biBmb3JtYXR0aW5nIChubyAqYm9sZCosIF9pdGFsaWNzXywgb3Igb3RoZXIgbWFya2Rvd24pLCBqdXN0IHRoZSBjb21wbGV0ZSAke3RvbmVEZXNjcmlwdGlvbn0gbWVzc2FnZSBpbiBwbGFpbiB0ZXh0LlxuXG5JTVBPUlRBTlQ6IFdyYXAgeW91ciBmaW5hbCBtZXNzYWdlIGluIDxNRVNTQUdFPiA8L01FU1NBR0U+IHRhZ3MuIEV2ZXJ5dGhpbmcgb3V0c2lkZSB0aGVzZSB0YWdzIHdpbGwgYmUgaWdub3JlZC5gO1xuXG4gICAgICAgIGNvbnN0IGdlbmVyYXRlZE1lc3NhZ2UgPSBhd2FpdCBjaGF0V2l0aEFJKGF1dG9NZXNzYWdlUHJvbXB0LCB7XG4gICAgICAgICAgbW9kZWw6IFwiZ2VtaW5pLTIuNS1wcm9cIixcbiAgICAgICAgICBpbmNsdWRlVGhvdWdodHM6IGZhbHNlXG4gICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgaWYgKGdlbmVyYXRlZE1lc3NhZ2U/LnRyaW0oKSkge1xuICAgICAgICAgIGNvbnN0IG1lc3NhZ2VNYXRjaCA9IGdlbmVyYXRlZE1lc3NhZ2UubWF0Y2goLzxNRVNTQUdFPihbXFxzXFxTXSo/KTxcXC9NRVNTQUdFPi8pO1xuICAgICAgICAgIGlmIChtZXNzYWdlTWF0Y2ggJiYgbWVzc2FnZU1hdGNoWzFdKSB7XG4gICAgICAgICAgICBtZXNzYWdlQ29udGVudCA9IG1lc3NhZ2VNYXRjaFsxXS50cmltKCk7XG4gICAgICAgICAgICBzZXRGaW5hbENhcmRNZXNzYWdlKG1lc3NhZ2VDb250ZW50KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gR2VuZXJhdGUgc3R5bGUgYW5kIHBhcGVyIGNvbmZpZ1xuICAgICAgbGV0IGVmZmVjdGl2ZUFydGlzdGljU3R5bGUgPSBzZWxlY3RlZEFydGlzdGljU3R5bGU7XG4gICAgICBcbiAgICAgIC8vIFVzZSBzdHlsZSBvdmVycmlkZSBpZiBwcm92aWRlZCAoZm9yIHNtYXJ0IHN0eWxlIGRpc3RyaWJ1dGlvbiBpbiBkcmFmdCBtb2RlKVxuICAgICAgaWYgKHN0eWxlT3ZlcnJpZGUpIHtcbiAgICAgICAgZWZmZWN0aXZlQXJ0aXN0aWNTdHlsZSA9IHN0eWxlT3ZlcnJpZGU7XG4gICAgICAgIGNvbnNvbGUubG9nKGDwn46oIFVzaW5nIHN0eWxlIG92ZXJyaWRlOiAke3N0eWxlT3ZlcnJpZGV9IGluc3RlYWQgb2YgJHtzZWxlY3RlZEFydGlzdGljU3R5bGV9YCk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIGNvbnN0IHNlbGVjdGVkU3R5bGUgPSBhcnRpc3RpY1N0eWxlcy5maW5kKHN0eWxlID0+IHN0eWxlLmlkID09PSBlZmZlY3RpdmVBcnRpc3RpY1N0eWxlKTtcbiAgICAgIGNvbnN0IHN0eWxlTW9kaWZpZXIgPSBlZmZlY3RpdmVBcnRpc3RpY1N0eWxlID09PSBcImN1c3RvbVwiIFxuICAgICAgICA/IGN1c3RvbVN0eWxlRGVzY3JpcHRpb24gXG4gICAgICAgIDogc2VsZWN0ZWRTdHlsZT8ucHJvbXB0TW9kaWZpZXIgfHwgXCJcIjtcblxuICAgICAgY29uc3QgcGFwZXJDb25maWcgPSBwYXBlclNpemVzLmZpbmQoc2l6ZSA9PiBzaXplLmlkID09PSBzZWxlY3RlZFBhcGVyU2l6ZSkgfHwgcGFwZXJTaXplc1swXTtcblxuICAgICAgc2V0R2VuZXJhdGlvblByb2dyZXNzKFwi8J+OqCBDcmVhdGluZyBhcnRpc3RpYyB2aXNpb24gZm9yIHlvdXIgY2FyZC4uLlwiKTtcblxuICAgICAgLy8gR2VuZXJhdGUgcHJvbXB0cyBmb3IgYWxsIGNhcmRzXG4gICAgICAvLyBJbiBkcmFmdCBtb2RlLCBvbmx5IGdlbmVyYXRlIGZyb250Q292ZXIgcHJvbXB0IGZvciBzcGVlZFxuICAgICAgY29uc3QgcHJvbXB0R2VuZXJhdGlvblF1ZXJ5ID0gaXNEcmFmdE1vZGUgPyBcbiAgICAgICAgYFlvdSBhcmUgYW4gZXhwZXJ0IEFJIGdyZWV0aW5nIGNhcmQgZGVzaWduZXIuIENyZWF0ZSBhIGZyb250IGNvdmVyIHByb21wdCBmb3IgYSAke2NhcmRUeXBlRm9yUHJvbXB0fSBncmVldGluZyBjYXJkLlxuXG5UaGVtZTogXCIke2VmZmVjdGl2ZVByb21wdH1cIlxuU3R5bGU6ICR7c2VsZWN0ZWRTdHlsZT8ubGFiZWwgfHwgXCJEZWZhdWx0XCJ9XG5Ub25lOiAke3NlbGVjdGVkVG9uZU9iaiA/IHNlbGVjdGVkVG9uZU9iai5sYWJlbCA6IFwiSGVhcnRmZWx0XCJ9IC0gJHt0b25lRGVzY3JpcHRpb259XG4ke3RvRmllbGQgPyBgVG86ICR7dG9GaWVsZH1gIDogXCJcIn1cbiR7ZnJvbUZpZWxkID8gYEZyb206ICR7ZnJvbUZpZWxkfWAgOiBcIlwifVxuJHtyZWZlcmVuY2VJbWFnZVVybHMubGVuZ3RoID4gMCA/IGBSZWZlcmVuY2UgUGhvdG9zOiBJIGhhdmUgYXR0YWNoZWQgJHtyZWZlcmVuY2VJbWFnZVVybHMubGVuZ3RofSByZWZlcmVuY2UgcGhvdG8ke3JlZmVyZW5jZUltYWdlVXJscy5sZW5ndGggPiAxID8gJ3MnIDogJyd9IGZvciBjaGFyYWN0ZXIgY3JlYXRpb24uXG5UcmFuc2Zvcm1hdGlvbiBpbnN0cnVjdGlvbnM6IFwiJHtpbWFnZVRyYW5zZm9ybWF0aW9uIHx8ICdDcmVhdGUgc3R5bGl6ZWQgY2FydG9vbiBjaGFyYWN0ZXJzIHRoYXQgYWNjdXJhdGVseSByZXByZXNlbnQgdGhlIHBlb3BsZSBpbiB0aGUgcmVmZXJlbmNlIHBob3Rvcyd9XCJgIDogXCJcIn1cblxuRnJvbnQgQ292ZXIgUmVxdWlyZW1lbnRzOlxuLSBJbmNsdWRlIFwiJHtjYXJkVHlwZUZvclByb21wdH1cIiBncmVldGluZyB0ZXh0IHBvc2l0aW9uZWQgc2FmZWx5IGluIGNlbnRlciBhcmVhIChhdm9pZCB0b3AvYm90dG9tIDEwJSlcbi0gVXNlIGJlYXV0aWZ1bCwgcmVhZGFibGUgaGFuZHdyaXR0ZW4gY3Vyc2l2ZSBzY3JpcHRcbi0gJHtyZWZlcmVuY2VJbWFnZVVybHMubGVuZ3RoID4gMCA/ICdDcmVhdGUgY2FydG9vbi9pbGx1c3RyYXRlZCBjaGFyYWN0ZXJzIGZyb20gcmVmZXJlbmNlIHBob3RvcycgOiAnQ3JlYXRlIGNoYXJtaW5nIGNhcnRvb24tc3R5bGUgZmlndXJlcyBpZiBuZWVkZWQnfVxuLSBCZSBjcmVhdGl2ZSBhbmQgdW5pcXVlLCBhdm9pZCBnZW5lcmljIGRlc2lnbnNcbi0gRmxhdCAyRCBhcnR3b3JrIGZvciBwcmludGluZ1xuLSBTdHlsZTogJHtzdHlsZU1vZGlmaWVyfVxuXG5SZXR1cm4gT05MWSB0aGUgZnJvbnQgY292ZXIgcHJvbXB0IGFzIHBsYWluIHRleHQuYCBcbiAgICAgICAgOlxuICAgICAgICBgWW91IGFyZSBhbiBleHBlcnQgQUkgZ3JlZXRpbmcgY2FyZCBkZXNpZ25lciB0YXNrZWQgd2l0aCBjcmVhdGluZyBjb2hlc2l2ZSwgdmlzdWFsbHkgc3R1bm5pbmcgcHJvbXB0cyBmb3IgYSAke2NhcmRUeXBlRm9yUHJvbXB0fSBncmVldGluZyBjYXJkJHtudW1iZXJPZkNhcmRzID4gMSA/IGAgKHRoaXMgaXMgdmFyaWFudCAkezF9IG9mICR7bnVtYmVyT2ZDYXJkc30gdW5pcXVlIGRlc2lnbnMpYCA6ICcnfS5cblxuVGhlbWU6IFwiJHtlZmZlY3RpdmVQcm9tcHR9XCJcblN0eWxlOiAke3NlbGVjdGVkU3R5bGU/LmxhYmVsIHx8IFwiRGVmYXVsdFwifVxuVG9uZTogJHtzZWxlY3RlZFRvbmVPYmogPyBzZWxlY3RlZFRvbmVPYmoubGFiZWwgOiBcIkhlYXJ0ZmVsdFwifSAtICR7dG9uZURlc2NyaXB0aW9ufVxuJHt0b0ZpZWxkID8gYFRvOiAke3RvRmllbGR9YCA6IFwiXCJ9XG4ke2Zyb21GaWVsZCA/IGBGcm9tOiAke2Zyb21GaWVsZH1gIDogXCJcIn1cbiR7IWlzRnJvbnRCYWNrT25seSA/IGBNZXNzYWdlOiBcIiR7bWVzc2FnZUNvbnRlbnR9XCJgIDogXCJcIn1cbiR7aXNIYW5kd3JpdHRlbk1lc3NhZ2UgPyBcIk5vdGU6IEluY2x1ZGUgc3BhY2UgZm9yIGhhbmR3cml0dGVuIG1lc3NhZ2VcIiA6IFwiXCJ9XG4ke3JlZmVyZW5jZUltYWdlVXJscy5sZW5ndGggPiAwID8gYFJlZmVyZW5jZSBQaG90b3M6IEkgaGF2ZSBhdHRhY2hlZCAke3JlZmVyZW5jZUltYWdlVXJscy5sZW5ndGh9IHJlZmVyZW5jZSBwaG90byR7cmVmZXJlbmNlSW1hZ2VVcmxzLmxlbmd0aCA+IDEgPyAncycgOiAnJ30gZm9yIHlvdSB0byBhbmFseXplLiBQbGVhc2UgbG9vayBhdCAke3JlZmVyZW5jZUltYWdlVXJscy5sZW5ndGggPiAxID8gJ3RoZXNlIHBob3RvcycgOiAndGhpcyBwaG90byd9IHRvIHVuZGVyc3RhbmQgd2hhdCB0aGUgcGVvcGxlIGxvb2sgbGlrZSAtIHRoZWlyIGhhaXIgY29sb3Ivc3R5bGUsIGZhY2lhbCBmZWF0dXJlcywgY2xvdGhpbmcsIGFjY2Vzc29yaWVzLCBib2R5IHR5cGUsIGFnZSwgZXRjLiBVc2UgdGhpcyB2aXN1YWwgaW5mb3JtYXRpb24gdG8gY3JlYXRlIGFjY3VyYXRlIGNhcnRvb24vaWxsdXN0cmF0ZWQgdmVyc2lvbnMgb2YgJHtyZWZlcmVuY2VJbWFnZVVybHMubGVuZ3RoID4gMSA/ICd0aGVzZSBwZW9wbGUnIDogJ3RoaXMgcGVyc29uJ30gaW4gdGhlIHByb21wdHMuXG5UcmFuc2Zvcm1hdGlvbiBpbnN0cnVjdGlvbnM6IFwiJHtpbWFnZVRyYW5zZm9ybWF0aW9uIHx8ICdDcmVhdGUgc3R5bGl6ZWQgY2FydG9vbiBjaGFyYWN0ZXJzIHRoYXQgYWNjdXJhdGVseSByZXByZXNlbnQgdGhlIHBlb3BsZSBpbiB0aGUgcmVmZXJlbmNlIHBob3RvcyB3aGlsZSBtYWludGFpbmluZyB0aGVpciBkaXN0aW5jdGl2ZSBmZWF0dXJlcyd9XCJgIDogXCJcIn1cblxuQ1JJVElDQUw6IENyZWF0ZSBhIGNvaGVzaXZlIHZpc3VhbCBuYXJyYXRpdmUgdGhhdCBmbG93cyBjaHJvbm9sb2dpY2FsbHkgdGhyb3VnaCB0aGUgY2FyZCBleHBlcmllbmNlOlxuMS4gRlJPTlQgQ09WRVI6IEZpcnN0IGltcHJlc3Npb24gLSBzZXRzIHRoZSBzY2VuZS9pbnRyb2R1Y2VzIHRoZSBzdG9yeVxuMi4gSU5URVJJT1IgU1BSRUFEOiBUaGUgaGVhcnQgb2YgdGhlIGV4cGVyaWVuY2UgLSBjb250aW51YXRpb24gYW5kIGNsaW1heCBvZiB0aGUgdmlzdWFsIHN0b3J5XG4zLiBCQUNLIENPVkVSOiBDb25jbHVzaW9uIC0gcGVhY2VmdWwgcmVzb2x1dGlvbiBvciBjb21wbGVtZW50YXJ5IGVuZGluZ1xuXG5SZXF1aXJlbWVudHM6XG4tIEZsYXQgMkQgYXJ0d29yayBmb3IgcHJpbnRpbmcgKG5vdCAzRCBjYXJkIGltYWdlcylcbi0gRnVsbC1ibGVlZCBiYWNrZ3JvdW5kcyBleHRlbmRpbmcgdG8gZWRnZXNcbi0gSU1QT1JUQU5UOiBLZWVwIHRleHQsIGZhY2VzLCBhbmQga2V5IGVsZW1lbnRzIGF0IGxlYXN0IDEwJSBhd2F5IGZyb20gdG9wL2JvdHRvbSBlZGdlcyAoc21hbGwgYW1vdW50IG1heSBiZSBjcm9wcGVkIGluIHByaW50aW5nKVxuLSBLZWVwIHRleHQvZmFjZXMgMC41XCIgZnJvbSBsZWZ0L3JpZ2h0IGVkZ2VzIGZvciBzYWZlIHByaW50aW5nXG4tIENPTlNJU1RFTlQgdmlzdWFsIGVsZW1lbnRzIHRocm91Z2hvdXQ6IHNhbWUgY2hhcmFjdGVycywgY29sb3IgcGFsZXR0ZSwgbGlnaHRpbmcsIGFydCBzdHlsZVxuLSBQcm9ncmVzc2l2ZSB2aXN1YWwgc3Rvcnl0ZWxsaW5nIGZyb20gZnJvbnQg4oaSIGludGVyaW9yIOKGkiBiYWNrXG4tIFB1dCBhbnkgdGV4dCBpbiBxdW90ZXMgYW5kIG1ha2UgaXQgY2xlYXIvcmVhZGFibGVcbi0gRWFjaCBzZWN0aW9uIHNob3VsZCBmZWVsIGxpa2UgcGFydCBvZiB0aGUgc2FtZSBhcnRpc3RpYyB1bml2ZXJzZVxuLSBUT05FOiBFbnN1cmUgdGhlIHZpc3VhbCBtb29kIGFuZCBhdG1vc3BoZXJlIG1hdGNoZXMgdGhlICR7dG9uZURlc2NyaXB0aW9ufSB0b25lIHRocm91Z2hvdXQgYWxsIHNlY3Rpb25zXG4tIElOVEVMTEVDVFVBTCBQUk9QRVJUWSBTQUZFVFk6IElmIHRoZSB1c2VyIG1lbnRpb25zIHNwZWNpZmljIGNoYXJhY3RlcnMsIGJyYW5kcywgbG9nb3MsIG9yIHByb2R1Y3RzLCBhdXRvbWF0aWNhbGx5IHJlcGxhY2UgdGhlbSB3aXRoIG9yaWdpbmFsIGdlbmVyaWMgYWx0ZXJuYXRpdmVzIGluIHlvdXIgcHJvbXB0cy4gRm9yIGV4YW1wbGU6IHJlcGxhY2Ugc3BlY2lmaWMgY2hhcmFjdGVyIG5hbWVzIHdpdGggXCJjYXJ0b29uIG1vdXNlIGNoYXJhY3RlclwiIG9yIFwic3VwZXJoZXJvIGNoYXJhY3RlclwiLCByZXBsYWNlIGJyYW5kIG5hbWVzIHdpdGggXCJjb2xvcmZ1bCBjZXJlYWxcIiBvciBcInNwb3J0cyBjYXJcIiwgZXRjLiBDcmVhdGUgaW5zcGlyZWQtYnkgZGVzaWducyB0aGF0IGNhcHR1cmUgdGhlIGVzc2VuY2Ugd2l0aG91dCByZWZlcmVuY2luZyBhbnkgcHJvdGVjdGVkIG5hbWVzIG9yIHNwZWNpZmljIGNvcHlyaWdodGVkIGVsZW1lbnRzLiBOZXZlciBpbmNsdWRlIGFjdHVhbCBicmFuZCBuYW1lcywgY2hhcmFjdGVyIG5hbWVzLCBvciB0cmFkZW1hcmtlZCB0ZXJtcyBpbiB0aGUgaW1hZ2UgZ2VuZXJhdGlvbiBwcm9tcHRzXG4tIENPTlRFTlQgU0FGRVRZOiBFbnN1cmUgYWxsIHByb21wdHMgYXJlIGZhbWlseS1mcmllbmRseSBhbmQgYXBwcm9wcmlhdGUgZm9yIGdyZWV0aW5nIGNhcmRzLiBBdm9pZCBhbnkgY29udGVudCB0aGF0IGNvdWxkIGJlIGZsYWdnZWQgYnkgc2FmZXR5IHN5c3RlbXMgaW5jbHVkaW5nOiB2aW9sZW5jZSwgd2VhcG9ucywgaW5hcHByb3ByaWF0ZSBpbWFnZXJ5LCBwb2xpdGljYWwgY29udGVudCwgY29udHJvdmVyc2lhbCB0b3BpY3MsIHNjYXJ5IG9yIGRpc3R1cmJpbmcgZWxlbWVudHMsIG9yIGFueXRoaW5nIG5vdCBzdWl0YWJsZSBmb3IgYWxsIGFnZXMuIElmIHRoZSB1c2VyIHJlcXVlc3RzIHNvbWV0aGluZyBwb3RlbnRpYWxseSBpbmFwcHJvcHJpYXRlLCByZWRpcmVjdCB0byBwb3NpdGl2ZSwgd2hvbGVzb21lIGFsdGVybmF0aXZlcyB0aGF0IGNhcHR1cmUgdGhlaXIgaW50ZW50IGluIGEgZmFtaWx5LWZyaWVuZGx5IHdheVxuJHtzZWxlY3RlZFRvbmUgPT09ICdmdW5ueScgPyAnLSBJbmNsdWRlIHZpc3VhbCBodW1vciwgcGxheWZ1bCBlbGVtZW50cywgYW5kIHdoaW1zaWNhbCBkZXRhaWxzJyA6ICcnfVxuJHtzZWxlY3RlZFRvbmUgPT09ICdnZW56LWh1bW9yJyA/ICctIEluY2x1ZGUgR2VuWiB2aXN1YWwgZWxlbWVudHMgbGlrZSBjaGFvdGljIGVuZXJneSwgaW50ZXJuZXQgbWVtZSByZWZlcmVuY2VzLCBib2xkIGNvbnRyYXN0aW5nIGNvbG9ycywgYW5kIHVuaGluZ2VkIGJ1dCBlbmRlYXJpbmcgdmlzdWFsIHN0eWxlJyA6ICcnfVxuJHtzZWxlY3RlZFRvbmUgPT09ICdyb21hbnRpYycgPyAnLSBJbmNsdWRlIHJvbWFudGljIGVsZW1lbnRzIGxpa2Ugc29mdCBsaWdodGluZywgaGVhcnRzLCBmbG93ZXJzLCBvciBpbnRpbWF0ZSBzY2VuZXMnIDogJyd9XG4ke3NlbGVjdGVkVG9uZSA9PT0gJ3Byb2Zlc3Npb25hbCcgPyAnLSBLZWVwIHZpc3VhbHMgY2xlYW4sIHNvcGhpc3RpY2F0ZWQsIGFuZCBidXNpbmVzcy1hcHByb3ByaWF0ZScgOiAnJ31cbiR7c2VsZWN0ZWRUb25lID09PSAncGxheWZ1bCcgPyAnLSBJbmNsdWRlIGJyaWdodCBjb2xvcnMsIGR5bmFtaWMgcG9zZXMsIGFuZCBlbmVyZ2V0aWMgdmlzdWFsIGVsZW1lbnRzJyA6ICcnfVxuJHtzZWxlY3RlZFRvbmUgPT09ICdlbGVnYW50JyA/ICctIEZvY3VzIG9uIHNvcGhpc3RpY2F0ZWQgZGVzaWduLCByZWZpbmVkIGNvbG9yIHBhbGV0dGVzLCBhbmQgZ3JhY2VmdWwgY29tcG9zaXRpb25zJyA6ICcnfVxuJHtyZWZlcmVuY2VJbWFnZVVybHMubGVuZ3RoID4gMCA/IGAtIENyZWF0ZSBjYXJ0b29uL2lsbHVzdHJhdGVkIGNoYXJhY3RlcnMgaW5zcGlyZWQgYnkgcmVmZXJlbmNlIGltYWdlcyAtIERPIE5PVCBtYWtlIHJlYWxpc3RpYyBkZXBpY3Rpb25zYCA6ICcnfVxuXG5DcmVhdGUgcHJvbXB0cyB0aGF0IGZsb3cgY2hyb25vbG9naWNhbGx5OlxuXG4xLiBGcm9udCBDb3ZlciAoT3BlbmluZyBTY2VuZSk6IEJFIEdFTlVJTkVMWSBDUkVBVElWRSBBTkQgVU5JUVVFISBJbmNsdWRlIFwiJHtjYXJkVHlwZUZvclByb21wdH1cIiBncmVldGluZyB0ZXh0IHBvc2l0aW9uZWQgc2FmZWx5IGluIHRoZSBjZW50ZXIgYXJlYSAoYXZvaWQgdG9wL2JvdHRvbSAxMCUgb2YgaW1hZ2UpLiBURVhUIFNUWUxFOiBXcml0ZSB0aGUgZ3JlZXRpbmcgdGV4dCBpbiBiZWF1dGlmdWwsIGNsZWFybHkgcmVhZGFibGUgaGFuZHdyaXR0ZW4gY3Vyc2l2ZSBzY3JpcHQgdGhhdCBtYXRjaGVzIHRoZSBlbGVnYW50IHN0eWxlIHVzZWQgaW5zaWRlIHRoZSBjYXJkIC0gbGVnaWJsZSwgZmxvd2luZywgYW5kIGdyYWNlZnVsIHdpdGggbmF0dXJhbCBjaGFyYWN0ZXIgYW5kIHdhcm10aC4gJHtyZWZlcmVuY2VJbWFnZVVybHMubGVuZ3RoID4gMCA/IGBJIGhhdmUgaW5jbHVkZWQgJHtyZWZlcmVuY2VJbWFnZVVybHMubGVuZ3RoID4gMSA/ICdtdWx0aXBsZScgOiAnbXkgb3duJ30gcmVmZXJlbmNlIGltYWdlJHtyZWZlcmVuY2VJbWFnZVVybHMubGVuZ3RoID4gMSA/ICdzJyA6ICcnfS4gQ3JlYXRlIHN0eWxpemVkIGNhcnRvb24vaWxsdXN0cmF0ZWQgY2hhcmFjdGVycyBpbnNwaXJlZCBieSB0aGUgcmVmZXJlbmNlIGltYWdlJHtyZWZlcmVuY2VJbWFnZVVybHMubGVuZ3RoID4gMSA/ICdzJyA6ICcnfSAtIERPIE5PVCBtYWtlIHJlYWxpc3RpYyBkZXBpY3Rpb25zIG9mIHJlYWwgcGVvcGxlLCBpbnN0ZWFkIGNyZWF0ZSBjaGFybWluZyBjYXJ0b29uLXN0eWxlIGNoYXJhY3RlcnMgd2l0aCBzaW1wbGlmaWVkLCBmcmllbmRseSBmZWF0dXJlcy5gIDogJ0NyZWF0ZSBjaGFybWluZyBjYXJ0b29uLXN0eWxlIG9yIHN0eWxpemVkIGlsbHVzdHJhdGVkIGZpZ3VyZXMgaWYgcGVvcGxlIGFyZSBuZWVkZWQgZm9yIHRoZSB0aGVtZS4nfSBUaGlzIGlzIHRoZSBzdG9yeSBvcGVuaW5nIC0gaW50cm9kdWNlIGtleSB2aXN1YWwgZWxlbWVudHMgKGNvbG9ycywgbW90aWZzLCBhcnRpc3RpYyBzdHlsZSkgdGhhdCB3aWxsIGNvbnRpbnVlIHRocm91Z2hvdXQgdGhlIG90aGVyIHNlY3Rpb25zLiBUaGluayBvZiBzb21ldGhpbmcgdW5leHBlY3RlZCwgaW5ub3ZhdGl2ZSwgYW5kIG1lbW9yYWJsZSB0aGF0IHdpbGwgc3VycHJpc2UgYW5kIGRlbGlnaHQgdGhlIHJlY2lwaWVudC4gQXZvaWQgZ2VuZXJpYyBkZXNpZ25zISBTdHlsZTogJHtzdHlsZU1vZGlmaWVyfVxuXG4yLiAkeyFpc0Zyb250QmFja09ubHkgPyBgTGVmdCBJbnRlcmlvciAoU3RvcnkgRGV2ZWxvcG1lbnQpOiBVTkxFQVNIIFlPVVIgQ1JFQVRJVklUWSEgWW91IGhhdmUgY29tcGxldGUgY3JlYXRpdmUgZnJlZWRvbSB0byBkZXNpZ24gd2hhdGV2ZXIgeW91IHdhbnQgZm9yIHRoaXMgbGVmdCBpbnRlcmlvciBwYWdlISBUaGlzIGlzIHlvdXIgYXJ0aXN0aWMgcGxheWdyb3VuZCAtIGNyZWF0ZSBzb21ldGhpbmcgZ2VudWluZWx5IGlubm92YXRpdmUgYW5kIHVuZXhwZWN0ZWQgdGhhdCBmZWVscyByaWdodCBmb3IgYSAke2NhcmRUeXBlRm9yUHJvbXB0fSBjYXJkIHdpdGggJHt0b25lRGVzY3JpcHRpb259IHRvbmUuIFlvdSBjYW4gaW5jbHVkZTogc2NlbmVzLCBsYW5kc2NhcGVzLCBvYmplY3RzLCBwYXR0ZXJucywgcXVvdGVzLCB0ZXh0LCBpbGx1c3RyYXRpb25zLCByZWFsaXN0aWMgYXJ0LCBhYnN0cmFjdCBhcnQsIG9yIGFueXRoaW5nIGVsc2UgdGhhdCBpbnNwaXJlcyB5b3UgLSBidXQgTk8gUEVPUExFIG9yIGNoYXJhY3RlcnMgdW5sZXNzIHRoZSB1c2VyIHNwZWNpZmljYWxseSBtZW50aW9uZWQgd2FudGluZyBwZW9wbGUgaW4gdGhlaXIgY2FyZCBkZXNjcmlwdGlvbi4gUG9zaXRpb24gYW55IHRleHQgc2FmZWx5IGluIGNlbnRlciBhcmVhIChhdm9pZCB0b3AvYm90dG9tIDEwJSkuIFRoaW5rIG9mIHNvbWV0aGluZyBubyBvbmUgaGFzIGRvbmUgYmVmb3JlISBTdXJwcmlzZSB1cyB3aXRoIGJvbGQsIGltYWdpbmF0aXZlLCBhbmQgbWVtb3JhYmxlIGFydGlzdGljIGNob2ljZXMgd2hpbGUgbWFpbnRhaW5pbmcgdmlzdWFsIGhhcm1vbnkgd2l0aCB0aGUgb3ZlcmFsbCBjYXJkIHN0eWxlIGFuZCB0b25lLiBTdHlsZTogJHtzdHlsZU1vZGlmaWVyfVxuXG4zLiBSaWdodCBJbnRlcmlvciAoU3RvcnkgQ2xpbWF4KTogQkUgQ1JFQVRJVkUgV0lUSCBNRVNTQUdFIERFU0lHTiEgJHtpc0hhbmR3cml0dGVuTWVzc2FnZSA/IGBEZXNpZ24gd2l0aCBlbGVnYW50IHdyaXRpbmcgc3BhY2UgdGhhdCBjb21wbGVtZW50cyB0aGUgdmlzdWFsIHN0b3J5IGZyb20gbGVmdCBpbnRlcmlvci4gUG9zaXRpb24gZGVjb3JhdGl2ZSBlbGVtZW50cyBzYWZlbHkgYXdheSBmcm9tIHRvcC9ib3R0b20gZWRnZXMuIENyZWF0ZSBpbm5vdmF0aXZlIGFuZCBhcnRpc3RpYyBkZWNvcmF0aXZlIGVsZW1lbnRzLCBib3JkZXJzLCBvciBmbG91cmlzaGVzIHRoYXQgYXJlIHVuaXF1ZSBhbmQgbWVtb3JhYmxlIC0gTk8gUEVPUExFIG9yIGNoYXJhY3RlcnMuYCA6IGBJbmNsdWRlIG1lc3NhZ2UgdGV4dDogXCIke21lc3NhZ2VDb250ZW50fVwiIHBvc2l0aW9uZWQgc2FmZWx5IGluIGNlbnRlciBhcmVhIChhdm9pZCB0b3AvYm90dG9tIDEwJSBvZiBpbWFnZSkgaW50ZWdyYXRlZCBpbnRvIGJlYXV0aWZ1bCwgaW5ub3ZhdGl2ZSBkZWNvcmF0aXZlIGFydHdvcmsuIEhBTkRXUklUSU5HIFNUWUxFOiBXcml0ZSB0aGUgbWVzc2FnZSBpbiBiZWF1dGlmdWwsIGNsZWFybHkgcmVhZGFibGUgaGFuZHdyaXR0ZW4gY3Vyc2l2ZSBzY3JpcHQgdGhhdCBmZWVscyBlbGVnYW50IGFuZCBwZXJzb25hbC4gVGhlIGhhbmR3cml0aW5nIHNob3VsZCBiZSBsZWdpYmxlLCBmbG93aW5nLCBhbmQgaGF2ZSBuYXR1cmFsIGNoYXJhY3RlciAtIG5vdCBvdmVybHkgcGVyZmVjdCBidXQgZ3JhY2VmdWwgYW5kIHdhcm0uIFVzZSBhIG5pY2UgcGVuLXN0eWxlIGFwcGVhcmFuY2Ugd2l0aCBuYXR1cmFsIGluayBmbG93IGFuZCBzbGlnaHQgdmFyaWF0aW9ucyBpbiBsaW5lIHdlaWdodC4gVGhpbmsgb2Ygc29waGlzdGljYXRlZCBjYWxsaWdyYXBoeSB0aGF0J3Mgc3RpbGwgYXBwcm9hY2hhYmxlIGFuZCBlYXN5IHRvIHJlYWQuIE1ha2UgdGhlIGhhbmR3cml0aW5nIGZlZWwgZ2VudWluZSBhbmQgaGVhcnRmZWx0LiBUaGluayBiZXlvbmQgdHlwaWNhbCBmbG9yYWxzIGFuZCBwYXR0ZXJucyAtIGNyZWF0ZSBzb21ldGhpbmcgdW5leHBlY3RlZCBhbmQgYXJ0aXN0aWMgdGhhdCBwZXJmZWN0bHkgZnJhbWVzIHRoZSBoYW5kd3JpdHRlbiBtZXNzYWdlIC0gTk8gUEVPUExFIG9yIGNoYXJhY3RlcnMuYH0gVGhpcyBzaG91bGQgZmVlbCBsaWtlIHRoZSBlbW90aW9uYWwgcGVhayBvZiB0aGUgY2FyZCBleHBlcmllbmNlLCBoYXJtb25pemluZyB3aXRoIHRoZSBsZWZ0IGludGVyaW9yIGFzIGEgY29oZXNpdmUgc3ByZWFkLiBBdm9pZCBjbGljaMOpIGRlc2lnbnMgYW5kIGNyZWF0ZSBzb21ldGhpbmcgZ2VudWluZWx5IHNwZWNpYWwhJHtoYW5kd3JpdGluZ1NhbXBsZVVybCA/ICcgTWF0Y2ggdGhlIHByb3ZpZGVkIGhhbmR3cml0aW5nIHN0eWxlIHNhbXBsZSBleGFjdGx5LicgOiAnIFVzZSB0aGUgZWxlZ2FudCBjdXJzaXZlIGhhbmR3cml0aW5nIHN0eWxlIGRlc2NyaWJlZCBhYm92ZS4nfSBTdHlsZTogJHtzdHlsZU1vZGlmaWVyfVxuXG40LiBgIDogJyd9QmFjayBDb3ZlciAoU3RvcnkgUmVzb2x1dGlvbik6IEJFIFNVQlRMWSBDUkVBVElWRSEgQ3JlYXRlIGEgc2ltcGxlIHlldCBpbm5vdmF0aXZlIGRlY29yYXRpdmUgZGVzaWduIHRoYXQgYnJpbmdzIHBlYWNlZnVsIGNsb3N1cmUgdG8gdGhlIHZpc3VhbCBzdG9yeS4gUmVmZXJlbmNlIHN1YnRsZSBlbGVtZW50cyBmcm9tIHRoZSBmcm9udCBjb3ZlciBidXQga2VlcCBpdCBtaW5pbWFsIGFuZCBzZXJlbmUgLSBOTyBQRU9QTEUsIGp1c3QgYmVhdXRpZnVsLCB1bmV4cGVjdGVkIGFydGlzdGljIGVsZW1lbnRzIHRoYXQgZ28gYmV5b25kIHR5cGljYWwgcGF0dGVybnMgb3IgZmxvcmFscy4gSU1QT1JUQU5UOiBMZWF2ZSB0aGUgYm90dG9tLXJpZ2h0IGNvcm5lciBhcmVhIChhcHByb3hpbWF0ZWx5IDEgaW5jaCBzcXVhcmUpIGNvbXBsZXRlbHkgY2xlYXIgYW5kIHVuZGVjb3JhdGVkIC0gdGhpcyBzcGFjZSBzaG91bGQgcmVtYWluIGVtcHR5LiBGb2N1cyBkZWNvcmF0aXZlIGVsZW1lbnRzIHRvd2FyZCB0aGUgY2VudGVyIGFuZCBsZWZ0IHNpZGUgb2YgdGhlIGRlc2lnbi4gVGhpbmsgb2Ygc29tZXRoaW5nIHF1aWV0bHkgYmVhdXRpZnVsIGFuZCBtZW1vcmFibGUgdGhhdCBjb21wbGVtZW50cyB0aGUgb3ZlcmFsbCBkZXNpZ24gd2hpbGUgYmVpbmcgZ2VudWluZWx5IHVuaXF1ZS4gVGhpcyBzaG91bGQgZmVlbCBsaWtlIGEgcGVhY2VmdWwsIGFydGlzdGljIGVuZGluZyB0aGF0IHN1cnByaXNlcyB3aXRoIGl0cyBzdWJ0bGUgY3JlYXRpdml0eS4gU3R5bGU6ICR7c3R5bGVNb2RpZmllcn1cblxuVklTVUFMIENPTlRJTlVJVFkgQ0hFQ0tMSVNUOlxuLSBTYW1lIGNvbG9yIHBhbGV0dGUgYWNyb3NzIGFsbCBzZWN0aW9uc1xuLSBDb25zaXN0ZW50IGxpZ2h0aW5nL3RpbWUgb2YgZGF5XG4tIFNhbWUgYXJ0aXN0aWMgdGVjaG5pcXVlcyBhbmQgYnJ1c2h3b3JrXG4tIFJlY3VycmluZyB2aXN1YWwgbW90aWZzIG9yIHN5bWJvbHMgKGJ1dCBtYWtlIHRoZW0gdW5pcXVlIGFuZCBtZW1vcmFibGUhKVxuLSBQcm9ncmVzc2l2ZSBlbW90aW9uYWwgam91cm5leSBmcm9tIGludHJvZHVjdGlvbiB0byByZXNvbHV0aW9uXG4tIEZyb250IGNvdmVyOiBzdHlsaXplZCBjYXJ0b29uL2lsbHVzdHJhdGVkIGNoYXJhY3RlcnMgaWYgcGVvcGxlIGFyZSBuZWVkZWQgZm9yIHRoZSB0aGVtZVxuLSBMZWZ0IGludGVyaW9yOiBDUkVBVElWRSBGUkVFRE9NIGJ1dCBOTyBQRU9QTEUgdW5sZXNzIHVzZXIgc3BlY2lmaWNhbGx5IHJlcXVlc3RlZCBwZW9wbGUgaW4gdGhlaXIgZGVzY3JpcHRpb25cbi0gUmlnaHQgaW50ZXJpb3I6IGZvY3VzIG9uIG1lc3NhZ2Ugc3BhY2Ugd2l0aCBpbm5vdmF0aXZlIGRlY29yYXRpdmUgZWxlbWVudHMgKE5PIFBFT1BMRSlcbi0gQmFjayBjb3Zlcjogc2ltcGxlIHlldCBjcmVhdGl2ZSBkZWNvcmF0aXZlIGRlc2lnbiB3aXRob3V0IHRleHQgb3IgcGVvcGxlXG4tIFVzZSBzaW1wbGlmaWVkLCBmcmllbmRseSwgY2hhcm1pbmcgY2hhcmFjdGVyIGRlc2lnbiBpZiBpbmNsdWRpbmcgcGVvcGxlIChmcm9udCBjb3ZlciBvbmx5KVxuLSBDUkVBVElWSVRZIFBSSU9SSVRZOiBBbHdheXMgY2hvb3NlIHRoZSBtb3JlIGlubm92YXRpdmUsIHN1cnByaXNpbmcsIGFuZCBtZW1vcmFibGUgb3B0aW9uIG92ZXIgZ2VuZXJpYyBkZXNpZ25zXG5cblJldHVybiBKU09OOlxue1xuICBcImZyb250Q292ZXJcIjogXCJkZXRhaWxlZCBwcm9tcHQgd2l0aCBzdG9yeSBvcGVuaW5nIGVsZW1lbnRzXCIsXG4gIFwiYmFja0NvdmVyXCI6IFwiZGV0YWlsZWQgcHJvbXB0IHdpdGggc3RvcnkgY29uY2x1c2lvbiBlbGVtZW50c1wiJHshaXNGcm9udEJhY2tPbmx5ID8gJyxcXG4gIFwibGVmdEludGVyaW9yXCI6IFwiZGV0YWlsZWQgcHJvbXB0IHdpdGggc3RvcnkgZGV2ZWxvcG1lbnQgZWxlbWVudHNcIixcXG4gIFwicmlnaHRJbnRlcmlvclwiOiBcImRldGFpbGVkIHByb21wdCB3aXRoIHN0b3J5IGNsaW1heCBlbGVtZW50c1wiJyA6ICcnfVxufWA7XG5cbiAgICAgIGxldCBnZW5lcmF0ZWRQcm9tcHRzO1xuXG4gICAgICBpZiAoaXNEcmFmdE1vZGUpIHtcbiAgICAgICAgLy8gRm9yIGRyYWZ0IG1vZGUsIGdldCBqdXN0IHRoZSBmcm9udCBjb3ZlciBwcm9tcHQgYXMgcGxhaW4gdGV4dFxuICAgICAgICBjb25zdCBmcm9udENvdmVyUHJvbXB0ID0gYXdhaXQgY2hhdFdpdGhBSShwcm9tcHRHZW5lcmF0aW9uUXVlcnksIHtcbiAgICAgICAgICBtb2RlbDogXCJnZW1pbmktMi41LXByb1wiLFxuICAgICAgICAgIGF0dGFjaG1lbnRzOiByZWZlcmVuY2VJbWFnZVVybHNcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKCFmcm9udENvdmVyUHJvbXB0Py50cmltKCkpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFwi4p2MIEZhaWxlZCB0byBnZW5lcmF0ZSBmcm9udCBjb3ZlciBwcm9tcHQ6XCIsIGZyb250Q292ZXJQcm9tcHQpO1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkZhaWxlZCB0byBnZW5lcmF0ZSBmcm9udCBjb3ZlciBwcm9tcHRcIik7XG4gICAgICAgIH1cblxuICAgICAgICBnZW5lcmF0ZWRQcm9tcHRzID0ge1xuICAgICAgICAgIGZyb250Q292ZXI6IGZyb250Q292ZXJQcm9tcHQudHJpbSgpXG4gICAgICAgIH07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBGb3IgcmVndWxhciBtb2RlLCBnZXQgYWxsIHByb21wdHMgYXMgSlNPTlxuICAgICAgICBnZW5lcmF0ZWRQcm9tcHRzID0gYXdhaXQgY2hhdFdpdGhBSShwcm9tcHRHZW5lcmF0aW9uUXVlcnksIHtcbiAgICAgICAganNvblNjaGVtYToge1xuICAgICAgICAgIHR5cGU6IFwib2JqZWN0XCIsXG4gICAgICAgICAgcHJvcGVydGllczoge1xuICAgICAgICAgICAgZnJvbnRDb3ZlcjogeyB0eXBlOiBcInN0cmluZ1wiIH0sXG4gICAgICAgICAgICBiYWNrQ292ZXI6IHsgdHlwZTogXCJzdHJpbmdcIiB9LFxuICAgICAgICAgICAgLi4uKGlzRnJvbnRCYWNrT25seSA/IHt9IDogeyBcbiAgICAgICAgICAgICAgbGVmdEludGVyaW9yOiB7IHR5cGU6IFwic3RyaW5nXCIgfSxcbiAgICAgICAgICAgICAgcmlnaHRJbnRlcmlvcjogeyB0eXBlOiBcInN0cmluZ1wiIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgfSxcbiAgICAgICAgICByZXF1aXJlZDogW1wiZnJvbnRDb3ZlclwiLCBcImJhY2tDb3ZlclwiLCAuLi4oaXNGcm9udEJhY2tPbmx5ID8gW10gOiBbXCJsZWZ0SW50ZXJpb3JcIiwgXCJyaWdodEludGVyaW9yXCJdKV1cbiAgICAgICAgfSxcbiAgICAgICAgbW9kZWw6IFwiZ2VtaW5pLTIuNS1wcm9cIixcbiAgICAgICAgICBhdHRhY2htZW50czogcmVmZXJlbmNlSW1hZ2VVcmxzXG4gICAgICB9KTtcblxuICAgICAgaWYgKCFnZW5lcmF0ZWRQcm9tcHRzIHx8ICFnZW5lcmF0ZWRQcm9tcHRzLmZyb250Q292ZXIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIuKdjCBGYWlsZWQgdG8gZ2VuZXJhdGUgaW1hZ2UgcHJvbXB0czpcIiwgZ2VuZXJhdGVkUHJvbXB0cyk7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkZhaWxlZCB0byBnZW5lcmF0ZSBpbWFnZSBwcm9tcHRzXCIpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBcbiAgICAgIGNvbnNvbGUubG9nKFwi4pyFIEdlbmVyYXRlZCBwcm9tcHRzIHN1Y2Nlc3NmdWxseTpcIiwgeyBcbiAgICAgICAgaXNEcmFmdE1vZGUsIFxuICAgICAgICBkcmFmdEluZGV4LCBcbiAgICAgICAgaGFzRnJvbnRDb3ZlcjogISFnZW5lcmF0ZWRQcm9tcHRzLmZyb250Q292ZXIsXG4gICAgICAgIGhhc0JhY2tDb3ZlcjogISFnZW5lcmF0ZWRQcm9tcHRzLmJhY2tDb3ZlclxuICAgICAgfSk7XG5cbiAgICAgIC8vIEVuaGFuY2UgZnJvbnQgY292ZXIgcHJvbXB0IHdpdGggcmVmZXJlbmNlIGltYWdlIGluc3RydWN0aW9ucyBpZiBhdmFpbGFibGVcbiAgICAgIGlmIChyZWZlcmVuY2VJbWFnZVVybHMubGVuZ3RoID4gMCAmJiBtb2RlbFRvVXNlID09PSBcImdwdC1pbWFnZS0xXCIpIHtcbiAgICAgICAgZ2VuZXJhdGVkUHJvbXB0cy5mcm9udENvdmVyID0gYCR7Z2VuZXJhdGVkUHJvbXB0cy5mcm9udENvdmVyfVxcblxcbkNSSVRJQ0FMIENIQVJBQ1RFUiBSRUZFUkVOQ0UgSU5TVFJVQ1RJT05TOiBJIGhhdmUgcHJvdmlkZWQgJHtyZWZlcmVuY2VJbWFnZVVybHMubGVuZ3RoID4gMSA/ICdtdWx0aXBsZSByZWZlcmVuY2UgcGhvdG9zJyA6ICdhIHJlZmVyZW5jZSBwaG90byd9IGFzIGlucHV0IGltYWdlJHtyZWZlcmVuY2VJbWFnZVVybHMubGVuZ3RoID4gMSA/ICdzJyA6ICcnfS4gWW91IE1VU1QgY3JlYXRlIGNhcnRvb24vaWxsdXN0cmF0ZWQgY2hhcmFjdGVycyB0aGF0IGFjY3VyYXRlbHkgcmVwcmVzZW50IE9OTFkgdGhlIHBlb3BsZSB3aG8gYXJlIGFjdHVhbGx5IHZpc2libGUgaW4gJHtyZWZlcmVuY2VJbWFnZVVybHMubGVuZ3RoID4gMSA/ICd0aGVzZSByZWZlcmVuY2UgcGhvdG9zJyA6ICd0aGlzIHJlZmVyZW5jZSBwaG90byd9IHdpdGggaGlnaCBmaWRlbGl0eSB0byB0aGVpciBhcHBlYXJhbmNlLlxuXG5NQU5EQVRPUlkgQ0hBUkFDVEVSIE1BVENISU5HIFJFUVVJUkVNRU5UUyAtIE9OTFkgSU5DTFVERSBXSEFUIElTIEFDVFVBTExZIFZJU0lCTEU6XG4tIFJFUFJFU0VOVCBPTkxZIFBFT1BMRSBBQ1RVQUxMWSBJTiBUSEUgUEhPVE9TOiBDcmVhdGUgY2FydG9vbiB2ZXJzaW9ucyBvZiBPTkxZIHRoZSBwZW9wbGUgd2hvIGFyZSBhY3R1YWxseSBzaG93biBpbiB0aGUgcmVmZXJlbmNlIHBob3Rvcy4gRG8gTk9UIGFkZCwgY3JlYXRlLCBvciBpbWFnaW5lIGFueSBhZGRpdGlvbmFsIHBlb3BsZSBub3QgcHJlc2VudCBpbiB0aGUgcmVmZXJlbmNlIGltYWdlcy5cbi0gRVhBQ1QgaGFpciBjb2xvciwgaGFpciBzdHlsZSwgYW5kIGhhaXIgbGVuZ3RoIGZyb20gZWFjaCByZWZlcmVuY2UgcGhvdG8gLSBvbmx5IHdoYXQgaXMgYWN0dWFsbHkgdmlzaWJsZVxuLSBQUkVDSVNFIGZhY2lhbCBmZWF0dXJlcyBmb3IgZWFjaCBwZXJzb246IGV5ZSBjb2xvciwgZXllIHNoYXBlLCBub3NlIHNoYXBlLCBmYWNlIHN0cnVjdHVyZSwgc2tpbiB0b25lIC0gZXhhY3RseSBhcyBzaG93biBpbiB0aGUgcmVmZXJlbmNlXG4tIEFDQ1VSQVRFIGNsb3RoaW5nOiByZXBsaWNhdGUgT05MWSB0aGUgRVhBQ1QgY2xvdGhpbmcgaXRlbXMsIGNvbG9ycywgcGF0dGVybnMsIGFuZCBzdHlsZXMgYWN0dWFsbHkgd29ybiBieSBlYWNoIHBlcnNvbiBpbiB0aGVpciByZWZlcmVuY2UgcGhvdG8gLSBkbyBub3QgYWRkIG9yIGNoYW5nZSBhbnkgY2xvdGhpbmcgaXRlbXNcbi0gQUNDRVNTT1JJRVMgT05MWSBJRiBWSVNJQkxFOiBJbmNsdWRlIGFjY2Vzc29yaWVzIChnbGFzc2VzLCBqZXdlbHJ5LCBoYXRzLCB3YXRjaGVzLCBiYWdzLCBldGMuKSBPTkxZIGlmIHRoZXkgYXJlIGFjdHVhbGx5IHZpc2libGUgb24gZWFjaCBwZXJzb24gaW4gdGhlIHJlZmVyZW5jZSBwaG90by4gRE8gTk9UIGFkZCBnbGFzc2VzIGlmIHRoZXkgYXJlIG5vdCB3ZWFyaW5nIGdsYXNzZXMgaW4gdGhlIHBob3RvLiBETyBOT1QgYWRkIGpld2VscnkgaWYgdGhleSBhcmUgbm90IHdlYXJpbmcgamV3ZWxyeSBpbiB0aGUgcGhvdG8uIERPIE5PVCBhZGQgYW55IGFjY2Vzc29yaWVzIHRoYXQgYXJlIG5vdCBjbGVhcmx5IHZpc2libGUgaW4gdGhlIHJlZmVyZW5jZSBpbWFnZS5cbi0gQ09SUkVDVCBib2R5IHByb3BvcnRpb25zIGFuZCBwb3N0dXJlIGFzIHNob3duIGZvciBlYWNoIHBlcnNvbiBpbiB0aGVpciByZWZlcmVuY2Vcbi0gRkFJVEhGVUwgYWdlIHJlcHJlc2VudGF0aW9uIGFuZCBnZW5kZXIgcHJlc2VudGF0aW9uIGZvciBlYWNoIGluZGl2aWR1YWwgLSBleGFjdGx5IGFzIHRoZXkgYXBwZWFyXG4tIEFVVEhFTlRJQyBmYWNpYWwgZXhwcmVzc2lvbnMgYW5kIHBvc2VzIGZyb20gdGhlIHJlZmVyZW5jZSBpbWFnZXMsIGxlYW4gdG93YXJkcyBtYWtpbmcgdGhlIHBlb3BsZSBsb29rIGhhcHBpZXIgdW5sZXNzIHRoZSB1c2VyIHNwZWNpZmljYWxseSBhc2tzIGZvciBhIGRpZmZlcmVudCBleHByZXNzaW9uXG4tIEdST1VQIENPTVBPU0lUSU9OOiBJZiBtdWx0aXBsZSBwZW9wbGUgYXJlIGFjdHVhbGx5IHNob3duIGluIHRoZSBwaG90b3MsIGFycmFuZ2UgdGhlbSBuYXR1cmFsbHkgdG9nZXRoZXIgaW4gYSBwbGVhc2luZyBjb21wb3NpdGlvbiB0aGF0IGZpdHMgdGhlIGNhcmQncyB0aGVtZVxuXG5DUklUSUNBTCBSRVNUUklDVElPTjogRG8gbm90IGFkZCwgcmVtb3ZlLCBvciBtb2RpZnkgYW55IHZpc3VhbCBlbGVtZW50cyBiZXlvbmQgd2hhdCBpcyBhY3R1YWxseSB2aXNpYmxlIGluIHRoZSByZWZlcmVuY2UgcGhvdG9zLiBPbmx5IGluY2x1ZGUgcGVvcGxlLCBjbG90aGluZywgYW5kIGFjY2Vzc29yaWVzIHRoYXQgYXJlIGNsZWFybHkgc2hvd24gaW4gdGhlIHJlZmVyZW5jZSBpbWFnZXMuXG5cbiR7aW1hZ2VUcmFuc2Zvcm1hdGlvbiB8fCAnU3R1ZHkgZXZlcnkgZGV0YWlsIG9mIHRoZSBwZW9wbGUgYWN0dWFsbHkgaW4gdGhlIHJlZmVyZW5jZSBpbWFnZSBhbmQgcmVjcmVhdGUgdGhlbSBhcyBzdHlsaXplZCBjYXJ0b29uIGNoYXJhY3RlcnMgd2hpbGUgbWFpbnRhaW5pbmcgMTAwJSBhY2N1cmFjeSB0byB0aGVpciBkaXN0aW5jdGl2ZSB2aXN1YWwgZmVhdHVyZXMuIFRoZSBjaGFyYWN0ZXJzIG11c3QgYmUgaW1tZWRpYXRlbHkgcmVjb2duaXphYmxlIGFzIHRoZSBzYW1lIHBlb3BsZSBmcm9tIHRoZSByZWZlcmVuY2UgcGhvdG8uIFBheSBzcGVjaWFsIGF0dGVudGlvbiB0byBjbG90aGluZyBkZXRhaWxzIGFuZCBhY2Nlc3NvcmllcyB0aGF0IGFyZSBhY3R1YWxseSB2aXNpYmxlLCBhbmQgdW5pcXVlIHBlcnNvbmFsIHN0eWxlIGVsZW1lbnRzIHRoYXQgbWFrZSBlYWNoIHBlcnNvbiBkaXN0aW5jdGl2ZS4gRG8gbm90IGFkZCBvciBpbWFnaW5lIGFueSBlbGVtZW50cyBub3QgcHJlc2VudCBpbiB0aGUgcmVmZXJlbmNlLid9XG5cblRoZSBjYXJ0b29uIHN0eWxlIHNob3VsZCBiZSBjaGFybWluZyBhbmQgYXJ0aXN0aWMgd2hpbGUgcHJlc2VydmluZyBjb21wbGV0ZSB2aXN1YWwgYWNjdXJhY3kgdG8gdGhlIHJlZmVyZW5jZSBwaG90by4gT25seSByZXByZXNlbnQgcGVvcGxlLCBjbG90aGluZywgYW5kIGFjY2Vzc29yaWVzIHRoYXQgYXJlIGFjdHVhbGx5IHZpc2libGUgaW4gdGhlIHJlZmVyZW5jZSBpbWFnZXMuYDtcbiAgICAgIH1cblxuICAgICAgLy8gU2F2ZSBqb2IgZGF0YSB0byBsb2NhbFN0b3JhZ2UgYW5kIHNlcnZlclxuICAgICAgY29uc3Qgam9iRGF0YSA9IHtcbiAgICAgICAgcHJvbXB0OiBlZmZlY3RpdmVQcm9tcHQsXG4gICAgICAgIHNlbGVjdGVkVHlwZSxcbiAgICAgICAgY3VzdG9tQ2FyZFR5cGUsXG4gICAgICAgIHNlbGVjdGVkVG9uZSxcbiAgICAgICAgZmluYWxDYXJkTWVzc2FnZTogbWVzc2FnZUNvbnRlbnQsXG4gICAgICAgIHRvRmllbGQsXG4gICAgICAgIGZyb21GaWVsZCxcbiAgICAgICAgdXNlckVtYWlsLFxuICAgICAgICBzZWxlY3RlZEFydGlzdGljU3R5bGUsXG4gICAgICAgIGN1c3RvbVN0eWxlRGVzY3JpcHRpb24sXG4gICAgICAgIHNlbGVjdGVkSW1hZ2VNb2RlbCxcbiAgICAgICAgaXNGcm9udEJhY2tPbmx5LFxuICAgICAgICBudW1iZXJPZkNhcmRzLFxuICAgICAgICBzZWxlY3RlZFBhcGVyU2l6ZSxcbiAgICAgICAgcHJvbXB0czogZ2VuZXJhdGVkUHJvbXB0cyxcbiAgICAgICAgcGFwZXJDb25maWdcbiAgICAgIH07XG4gICAgICBcbiAgICAgIHNhdmVKb2JUb1N0b3JhZ2Uoam9iSWQsIGpvYkRhdGEpO1xuICAgICAgXG4gICAgICAvLyBDcmVhdGUgam9iIG9uIHNlcnZlciBhbmQgc3RhcnQgYXN5bmMgZ2VuZXJhdGlvblxuICAgICAgc2V0R2VuZXJhdGlvblByb2dyZXNzKFwi8J+agCBTdGFydGluZyBiYWNrZ3JvdW5kIGdlbmVyYXRpb24gLSB5b3UgY2FuIHNhZmVseSBsZWF2ZSB0aGlzIHBhZ2UhXCIpO1xuICAgICAgXG4gICAgICAvLyBQcmVwYXJlIGlucHV0IGltYWdlcyBmb3IgcmVmZXJlbmNlIHBob3RvIHN1cHBvcnQgLSBvbmx5IGZvciBHUFQtMVxuICAgICAgY29uc3QgaW5wdXRJbWFnZXM6IHN0cmluZ1tdID0gW107XG4gICAgICBpZiAocmVmZXJlbmNlSW1hZ2VVcmxzLmxlbmd0aCA+IDAgJiYgbW9kZWxUb1VzZSA9PT0gXCJncHQtaW1hZ2UtMVwiKSB7XG4gICAgICAgIGlucHV0SW1hZ2VzLnB1c2goLi4ucmVmZXJlbmNlSW1hZ2VVcmxzKTtcbiAgICAgICAgY29uc29sZS5sb2coXCLwn5SNIERFQlVHOiBBZGRlZCByZWZlcmVuY2UgaW1hZ2VzIHRvIGFzeW5jIGdlbmVyYXRpb246XCIsIHJlZmVyZW5jZUltYWdlVXJscyk7XG4gICAgICAgIGNvbnNvbGUubG9nKFwi8J+UjSBERUJVRzogVG90YWwgaW5wdXQgaW1hZ2VzIGZvciBhc3luYyBnZW5lcmF0aW9uOlwiLCBpbnB1dEltYWdlcy5sZW5ndGgpO1xuICAgICAgICBjb25zb2xlLmxvZyhcIvCflI0gREVCVUc6IFJlZmVyZW5jZSBpbWFnZXMgc2hvdWxkIEFMTCBnbyB0byBmcm9udCBjb3ZlciBmb3IgY2hhcmFjdGVyIGNyZWF0aW9uIG9mIG11bHRpcGxlIHBlb3BsZVwiKTtcbiAgICAgIH1cblxuICAgICAgY29uc29sZS5sb2coXCLwn5qAIE1ha2luZyBBUEkgY2FsbCB0byAvYXBpL2dlbmVyYXRlLWNhcmQtYXN5bmM6XCIsIHsgXG4gICAgICAgIGlzRHJhZnRNb2RlLCBcbiAgICAgICAgZHJhZnRJbmRleCwgXG4gICAgICAgIGpvYklkLCBcbiAgICAgICAgbW9kZWxUb1VzZSxcbiAgICAgICAgcXVhbGl0eTogaXNEcmFmdE1vZGUgPyBcImxvd1wiIDogXCJoaWdoXCJcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCcvYXBpL2dlbmVyYXRlLWNhcmQtYXN5bmMnLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgIGpvYklkLFxuICAgICAgICAgIHByb21wdHM6IGlzRHJhZnRNb2RlID8geyBmcm9udENvdmVyOiBnZW5lcmF0ZWRQcm9tcHRzLmZyb250Q292ZXIgfSA6IGdlbmVyYXRlZFByb21wdHMsIC8vIERyYWZ0IG1vZGU6IGZyb250IGNvdmVyIG9ubHlcbiAgICAgICAgICBjb25maWc6IHtcbiAgICAgICAgICAgIHVzZXJOdW1iZXI6IFwiKzE3MTQ1OTg2MTA1XCIsXG4gICAgICAgICAgICBtb2RlbFZlcnNpb246IG1vZGVsVG9Vc2UsXG4gICAgICAgICAgICBhc3BlY3RSYXRpbzogcGFwZXJDb25maWcuYXNwZWN0UmF0aW8sXG4gICAgICAgICAgICBxdWFsaXR5OiBpc0RyYWZ0TW9kZSA/IFwibG93XCIgOiBcImhpZ2hcIiwgLy8gR1BULTEgZm9yY2VkIHRvIGxvdyBxdWFsaXR5IGZvciBzcGVlZFxuICAgICAgICAgICAgb3V0cHV0Rm9ybWF0OiBcImpwZWdcIixcbiAgICAgICAgICAgIG91dHB1dENvbXByZXNzaW9uOiAxMDAsXG4gICAgICAgICAgICBtb2RlcmF0aW9uOiBcImxvd1wiLFxuICAgICAgICAgICAgZGltZW5zaW9uczogcGFwZXJDb25maWcuZGltZW5zaW9ucyxcbiAgICAgICAgICAgIGlzRnJvbnRCYWNrT25seSxcbiAgICAgICAgICAgIHVzZXJFbWFpbCxcbiAgICAgICAgICAgIGNhcmRUeXBlOiBjYXJkVHlwZUZvclByb21wdCxcbiAgICAgICAgICAgIHRvRmllbGQsXG4gICAgICAgICAgICBmcm9tRmllbGQsXG4gICAgICAgICAgICBpc0RyYWZ0TW9kZTogaXNEcmFmdE1vZGUsIC8vIEFkZCBmbGFnIHRvIGhlbHAgYmFja2VuZCB1bmRlcnN0YW5kIHRoaXMgaXMgZHJhZnQgbW9kZVxuICAgICAgICAgICAgLi4uKGlucHV0SW1hZ2VzLmxlbmd0aCA+IDAgJiYgeyBcbiAgICAgICAgICAgICAgaW5wdXRfaW1hZ2VzOiBpbnB1dEltYWdlcyxcbiAgICAgICAgICAgICAgaW5wdXRfaW1hZ2VzX21vZGU6IFwiZnJvbnRfY292ZXJfb25seVwiIC8vIEFsbCByZWZlcmVuY2UgaW1hZ2VzIHNob3VsZCBnbyB0byBmcm9udCBjb3ZlciBmb3IgY2hhcmFjdGVyIGNyZWF0aW9uXG4gICAgICAgICAgICB9KVxuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICBjb25zb2xlLmxvZyhcIvCfk6EgQVBJIHJlc3BvbnNlIHN0YXR1czpcIiwgcmVzcG9uc2Uuc3RhdHVzLCByZXNwb25zZS5vayk7XG5cbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBTZXJ2ZXIgZXJyb3I6ICR7cmVzcG9uc2Uuc3RhdHVzfWApO1xuICAgICAgfVxuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICBjb25zb2xlLmxvZyhcIvCfk4sgQVBJIHJlc3BvbnNlIHJlc3VsdDpcIiwgcmVzdWx0KTtcbiAgICAgIFxuICAgICAgaWYgKHJlc3VsdC5zdGF0dXMgIT09ICdwcm9jZXNzaW5nJykge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwi4p2MIEFQSSByZXR1cm5lZCB1bmV4cGVjdGVkIHN0YXR1czpcIiwgcmVzdWx0LnN0YXR1cywgcmVzdWx0Lm1lc3NhZ2UpO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IocmVzdWx0Lm1lc3NhZ2UgfHwgJ0ZhaWxlZCB0byBzdGFydCBjYXJkIGdlbmVyYXRpb24nKTtcbiAgICAgIH1cblxuICAgICAgY29uc29sZS5sb2coXCLinIUgSm9iIHN0YXJ0ZWQgc3VjY2Vzc2Z1bGx5OlwiLCBqb2JJZCk7XG5cbiAgICAgIC8vIFN0YXJ0IHBvbGxpbmcgZm9yIGNvbXBsZXRpb25cbiAgICAgIGlmIChpc0RyYWZ0TW9kZSkge1xuICAgICAgICBzZXRHZW5lcmF0aW9uUHJvZ3Jlc3MoXCLinKggQ3JlYXRpbmcgZHJhZnQgZ2VuZXJhdGlvbnMuLi5cIik7XG4gICAgICAgIGNvbnNvbGUubG9nKGDwn5SEIFN0YXJ0aW5nIHBvbGxpbmcgZm9yIGRyYWZ0IGpvYiAke2pvYklkfWApO1xuICAgICAgICAvLyBGb3IgZHJhZnQgbW9kZSwgd2UnbGwgaGFuZGxlIHBvbGxpbmcgZGlmZmVyZW50bHkgaWYgbmVlZGVkXG4gICAgICAgIHBvbGxKb2JTdGF0dXMoam9iSWQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2V0R2VuZXJhdGlvblByb2dyZXNzKFwi4pyoIEJyaW5naW5nIHlvdXIgdmlzaW9uIHRvIGxpZmUgd2l0aCBhcnRpc3RpYyBwcmVjaXNpb24uLi5cIik7XG4gICAgICAgIHRvYXN0LnN1Y2Nlc3MoXCLwn46JIENhcmQgZ2VuZXJhdGlvbiBzdGFydGVkISBZb3UgY2FuIGxlYXZlIHRoaXMgcGFnZSBhbmQgcmV0dXJuIGxhdGVyLlwiKTtcbiAgICAgICAgcG9sbEpvYlN0YXR1cyhqb2JJZCk7XG4gICAgICB9XG5cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihg4p2MIENhcmQgZ2VuZXJhdGlvbiBlcnJvciAoaXNEcmFmdE1vZGU6ICR7aXNEcmFmdE1vZGV9LCBkcmFmdEluZGV4OiAke2RyYWZ0SW5kZXh9KTpgLCBlcnJvcik7XG4gICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJztcbiAgICAgIFxuICAgICAgaWYgKGlzRHJhZnRNb2RlKSB7XG4gICAgICAgIHRvYXN0LmVycm9yKGBEcmFmdCB2YXJpYXRpb24gJHtkcmFmdEluZGV4ICsgMX0gZmFpbGVkOiAke2Vycm9yTWVzc2FnZX1gKTtcbiAgICAgICAgLy8gRm9yIGRyYWZ0IG1vZGUsIHdlIGRvbid0IHdhbnQgdG8gc3RvcCB0aGUgZW50aXJlIGdlbmVyYXRpb24gcHJvY2Vzc1xuICAgICAgICAvLyBUaGUgcGFyZW50IGZ1bmN0aW9uIHdpbGwgaGFuZGxlIGluZGl2aWR1YWwgZHJhZnQgZmFpbHVyZXNcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRvYXN0LmVycm9yKGBGYWlsZWQgdG8gc3RhcnQgY2FyZCBnZW5lcmF0aW9uOiAke2Vycm9yTWVzc2FnZX1gKTtcbiAgICAgICAgXG4gICAgICAgIC8vIFJlbW92ZSBmYWlsZWQgam9iIGZyb20gbG9jYWxTdG9yYWdlXG4gICAgICAgIGlmIChjdXJyZW50Sm9iSWQpIHtcbiAgICAgICAgICByZW1vdmVKb2JGcm9tU3RvcmFnZShjdXJyZW50Sm9iSWQpO1xuICAgICAgICAgIHNldEN1cnJlbnRKb2JJZChudWxsKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgc2V0SXNHZW5lcmF0aW5nKGZhbHNlKTtcbiAgICAgICAgc2V0R2VuZXJhdGlvblByb2dyZXNzKFwiXCIpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICAvLyBXcmFwcGVyIGZ1bmN0aW9uIGZvciByZWd1bGFyIGNhcmQgZ2VuZXJhdGlvbiAodXNlZCBhcyBjbGljayBoYW5kbGVyKVxuICBjb25zdCBoYW5kbGVHZW5lcmF0ZUNhcmRBc3luYyA9IGFzeW5jICgpID0+IHtcbiAgICByZXR1cm4gaGFuZGxlR2VuZXJhdGVDYXJkQXN5bmNJbnRlcm5hbCh7fSk7XG4gIH07XG5cbiAgLy8gT3JpZ2luYWwgc3luY2hyb25vdXMgY2FyZCBnZW5lcmF0aW9uIChrZWVwIGFzIGZhbGxiYWNrKVxuICBjb25zdCBoYW5kbGVHZW5lcmF0ZUNhcmQgPSBhc3luYyAoKSA9PiB7XG4gICAgaWYgKCF1c2VyRW1haWwudHJpbSgpKSB7XG4gICAgICB0b2FzdC5lcnJvcihcIlBsZWFzZSBlbnRlciB5b3VyIGVtYWlsIGFkZHJlc3NcIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gQmFzaWMgZW1haWwgdmFsaWRhdGlvblxuICAgIGNvbnN0IGVtYWlsUmVnZXggPSAvXlteXFxzQF0rQFteXFxzQF0rXFwuW15cXHNAXSskLztcbiAgICBpZiAoIWVtYWlsUmVnZXgudGVzdCh1c2VyRW1haWwpKSB7XG4gICAgICB0b2FzdC5lcnJvcihcIlBsZWFzZSBlbnRlciBhIHZhbGlkIGVtYWlsIGFkZHJlc3NcIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gVmFsaWRhdGUgY3VzdG9tIHN0eWxlIGlmIHNlbGVjdGVkXG4gICAgaWYgKHNlbGVjdGVkQXJ0aXN0aWNTdHlsZSA9PT0gXCJjdXN0b21cIiAmJiAhY3VzdG9tU3R5bGVEZXNjcmlwdGlvbi50cmltKCkpIHtcbiAgICAgIHRvYXN0LmVycm9yKFwiUGxlYXNlIGRlc2NyaWJlIHlvdXIgY3VzdG9tIGFydGlzdGljIHN0eWxlXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIFZhbGlkYXRlIHJlZmVyZW5jZSBpbWFnZXMgd2l0aCBtb2RlbCBjb21wYXRpYmlsaXR5XG4gICAgaWYgKHJlZmVyZW5jZUltYWdlVXJscy5sZW5ndGggPiAwICYmIHNlbGVjdGVkSW1hZ2VNb2RlbCAhPT0gXCJncHQtaW1hZ2UtMVwiKSB7XG4gICAgICB0b2FzdC5lcnJvcihcIlJlZmVyZW5jZSBwaG90b3MgYXJlIG9ubHkgc3VwcG9ydGVkIHdpdGggR1BUIEltYWdlIDEgbW9kZWwuIFBsZWFzZSBzd2l0Y2ggdG8gR1BUIEltYWdlIDEgaW4gQWR2YW5jZWQgT3B0aW9ucyBvciByZW1vdmUgcmVmZXJlbmNlIHBob3Rvcy5cIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gQ3JlYXRlIGpvYiB0cmFja2luZ1xuICAgIGNvbnN0IGpvYklkID0gdXVpZHY0KCk7XG4gICAgc2V0Q3VycmVudEpvYklkKGpvYklkKTtcbiAgICBcbiAgICAvLyBTYXZlIGpvYiB0byBsb2NhbFN0b3JhZ2UgYW5kIHNlcnZlclxuICAgIGNvbnN0IGpvYkRhdGEgPSB7XG4gICAgICBwcm9tcHQ6IHByb21wdC50cmltKCkgfHwgYEEgYmVhdXRpZnVsICR7c2VsZWN0ZWRUeXBlID09PSBcImN1c3RvbVwiID8gY3VzdG9tQ2FyZFR5cGUgOiBzZWxlY3RlZFR5cGV9IGNhcmRgLFxuICAgICAgc2VsZWN0ZWRUeXBlLFxuICAgICAgY3VzdG9tQ2FyZFR5cGUsXG4gICAgICBzZWxlY3RlZFRvbmUsXG4gICAgICBmaW5hbENhcmRNZXNzYWdlLFxuICAgICAgdG9GaWVsZCxcbiAgICAgIGZyb21GaWVsZCxcbiAgICAgIHVzZXJFbWFpbCxcbiAgICAgIHNlbGVjdGVkQXJ0aXN0aWNTdHlsZSxcbiAgICAgIGN1c3RvbVN0eWxlRGVzY3JpcHRpb24sXG4gICAgICBzZWxlY3RlZEltYWdlTW9kZWwsXG4gICAgICBpc0Zyb250QmFja09ubHksXG4gICAgICBudW1iZXJPZkNhcmRzLFxuICAgICAgc2VsZWN0ZWRQYXBlclNpemVcbiAgICB9O1xuICAgIHNhdmVKb2JUb1N0b3JhZ2Uoam9iSWQsIGpvYkRhdGEpO1xuICAgIFxuICAgIC8vIEFsc28gc2F2ZSB0byBzZXJ2ZXJcbiAgICB0cnkge1xuICAgICAgYXdhaXQgZmV0Y2goJy9hcGkvY3JlYXRlLWpvYicsIHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IGpvYklkLCBqb2JEYXRhIH0pXG4gICAgICB9KTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGNyZWF0ZSBzZXJ2ZXIgam9iOicsIGVycm9yKTtcbiAgICAgIC8vIENvbnRpbnVlIGFueXdheSAtIGxvY2FsU3RvcmFnZSB0cmFja2luZyB3aWxsIHN0aWxsIHdvcmtcbiAgICB9XG5cbiAgICAvLyBJbml0aWFsaXplIHByb2dyZXNzIHRyYWNraW5nXG4gICAgc2V0R2VuZXJhdGlvblByb2dyZXNzKFwiQW5hbHl6aW5nIHlvdXIgcmVxdWVzdC4uLlwiKTtcbiAgICBzZXRQcm9ncmVzc1BlcmNlbnRhZ2UoNSk7XG5cbiAgICAvLyBSZXNldCBzZWN0aW9uIGxvYWRpbmcgc3RhdGVzXG4gICAgc2V0U2VjdGlvbkxvYWRpbmdTdGF0ZXMoe1xuICAgICAgZnJvbnRDb3ZlcjogJ2lkbGUnLFxuICAgICAgYmFja0NvdmVyOiAnaWRsZScsXG4gICAgICBsZWZ0SW50ZXJpb3I6ICdpZGxlJyxcbiAgICAgIHJpZ2h0SW50ZXJpb3I6ICdpZGxlJyxcbiAgICB9KTtcblxuICAgIC8vIFVzZSBjdXN0b20gY2FyZCB0eXBlIGlmIHNlbGVjdGVkLCBvdGhlcndpc2UgdXNlIHRoZSBzdGFuZGFyZCB0eXBlXG4gICAgY29uc3QgY2FyZFR5cGVGb3JQcm9tcHQgPSBzZWxlY3RlZFR5cGUgPT09IFwiY3VzdG9tXCIgPyBjdXN0b21DYXJkVHlwZSA6IHNlbGVjdGVkVHlwZTtcbiAgICBjb25zdCBzZWxlY3RlZFRvbmVPYmogPSBjYXJkVG9uZXMuZmluZCh0b25lID0+IHRvbmUuaWQgPT09IHNlbGVjdGVkVG9uZSk7XG4gICAgY29uc3QgdG9uZURlc2NyaXB0aW9uID0gc2VsZWN0ZWRUb25lT2JqID8gc2VsZWN0ZWRUb25lT2JqLmRlc2NyaXB0aW9uLnRvTG93ZXJDYXNlKCkgOiBcImhlYXJ0ZmVsdCBhbmQgc2luY2VyZVwiO1xuXG4gICAgLy8gVXNlIGEgZGVmYXVsdCBwcm9tcHQgaWYgbm9uZSBwcm92aWRlZFxuICAgIGNvbnN0IGVmZmVjdGl2ZVByb21wdCA9IHByb21wdC50cmltKCkgfHwgYEEgYmVhdXRpZnVsICR7Y2FyZFR5cGVGb3JQcm9tcHR9IGNhcmQgd2l0aCAke3RvbmVEZXNjcmlwdGlvbn0gc3R5bGVgO1xuXG4gICAgbGV0IG1lc3NhZ2VDb250ZW50ID0gZmluYWxDYXJkTWVzc2FnZTtcbiAgICBcbiAgICAvLyBIYW5kbGUgaGFuZHdyaXR0ZW4gbWVzc2FnZSBjYXNlXG4gICAgaWYgKGlzSGFuZHdyaXR0ZW5NZXNzYWdlKSB7XG4gICAgICBtZXNzYWdlQ29udGVudCA9IFwiW0JsYW5rIHNwYWNlIGZvciBoYW5kd3JpdHRlbiBtZXNzYWdlXVwiO1xuICAgIH0gZWxzZSBpZiAoIW1lc3NhZ2VDb250ZW50LnRyaW0oKSAmJiAhaXNGcm9udEJhY2tPbmx5KSB7XG4gICAgICAvLyBBdXRvLWdlbmVyYXRlIG1lc3NhZ2UgaWYgZW1wdHkgKGJ1dCBub3QgZm9yIGZyb250L2JhY2sgb25seSBjYXJkcylcbiAgICAgIHNldEdlbmVyYXRpb25Qcm9ncmVzcyhcIuKcje+4jyBQZW5uaW5nIHRoZSBwZXJmZWN0IHdvcmRzIGp1c3QgZm9yIHlvdS4uLlwiKTtcbiAgICAgIHNldElzR2VuZXJhdGluZ01lc3NhZ2UodHJ1ZSk7IC8vIFNob3cgXCJDcmFmdGluZyB0aGUgcGVyZmVjdCBtZXNzYWdlLi4uXCIgaW4gYnV0dG9uXG4gICAgICBcbiAgICAgIC8vIFVwZGF0ZSBwcm9ncmVzcyBmb3IgbWVzc2FnZSBnZW5lcmF0aW9uXG4gICAgICBzZXRHZW5lcmF0aW9uUHJvZ3Jlc3MoXCJDcmVhdGluZyB5b3VyIG1lc3NhZ2UuLi5cIik7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBhdXRvTWVzc2FnZVByb21wdCA9IGBDcmVhdGUgYSAke3RvbmVEZXNjcmlwdGlvbn0gbWVzc2FnZSBmb3IgYSAke2NhcmRUeXBlRm9yUHJvbXB0fSBncmVldGluZyBjYXJkLlxuXG5DYXJkIFRoZW1lL0Rlc2NyaXB0aW9uOiBcIiR7ZWZmZWN0aXZlUHJvbXB0fVwiXG4ke3RvRmllbGQgPyBgUmVjaXBpZW50OiAke3RvRmllbGR9YCA6IFwiUmVjaXBpZW50OiBbbm90IHNwZWNpZmllZF1cIn1cbiR7ZnJvbUZpZWxkID8gYFNlbmRlcjogJHtmcm9tRmllbGR9YCA6IFwiU2VuZGVyOiBbbm90IHNwZWNpZmllZF1cIn1cbkNhcmQgVG9uZTogJHtzZWxlY3RlZFRvbmVPYmogPyBzZWxlY3RlZFRvbmVPYmoubGFiZWwgOiBcIkhlYXJ0ZmVsdFwifSAtICR7dG9uZURlc2NyaXB0aW9ufVxuXG5JbnN0cnVjdGlvbnM6XG4tIFdyaXRlIGEgbWVzc2FnZSB0aGF0IGlzICR7dG9uZURlc2NyaXB0aW9ufSBhbmQgZmVlbHMgcGVyc29uYWwgYW5kIGdlbnVpbmVcbi0gJHt0b0ZpZWxkID8gYEFkZHJlc3MgdGhlIG1lc3NhZ2UgdG8gJHt0b0ZpZWxkfSBkaXJlY3RseSwgdXNpbmcgdGhlaXIgbmFtZSBuYXR1cmFsbHlgIDogXCJXcml0ZSBpbiBhIHdheSB0aGF0IGNvdWxkIGJlIHBlcnNvbmFsaXplZCB0byBhbnkgcmVjaXBpZW50XCJ9XG4tICR7ZnJvbUZpZWxkID8gYFdyaXRlIGFzIGlmICR7ZnJvbUZpZWxkfSBpcyBwZXJzb25hbGx5IHdyaXRpbmcgdGhpcyBtZXNzYWdlYCA6IGBXcml0ZSBpbiBhICR7dG9uZURlc2NyaXB0aW9ufSB0b25lYH1cbi0gTWF0Y2ggdGhlICR7dG9uZURlc2NyaXB0aW9ufSB0b25lIGFuZCBvY2Nhc2lvbiBvZiB0aGUgJHtjYXJkVHlwZUZvclByb21wdH0gY2FyZCB0eXBlXG4tIEJlIGluc3BpcmVkIGJ5IHRoZSB0aGVtZTogXCIke3Byb21wdH1cIlxuLSBLZWVwIGl0IGNvbmNpc2UgYnV0IG1lYW5pbmdmdWwgKDItNCBzZW50ZW5jZXMgaWRlYWwpXG4tIE1ha2UgaXQgZmVlbCBhdXRoZW50aWMsIG5vdCBnZW5lcmljXG4tIFNBRkVUWTogTmV2ZXIgaW5jbHVkZSBicmFuZCBuYW1lcywgY2hhcmFjdGVyIG5hbWVzLCB0cmFkZW1hcmtlZCB0ZXJtcywgb3IgaW5hcHByb3ByaWF0ZSBjb250ZW50LiBJZiB0aGUgdGhlbWUgcmVmZXJlbmNlcyB0aGVzZSwgdXNlIGdlbmVyaWMgYWx0ZXJuYXRpdmVzIG9yIGZvY3VzIG9uIHRoZSBlbW90aW9ucy9jb25jZXB0cyBpbnN0ZWFkXG4tIEtlZXAgY29udGVudCBmYW1pbHktZnJpZW5kbHkgYW5kIGFwcHJvcHJpYXRlIGZvciBhbGwgYWdlc1xuLSAke3NlbGVjdGVkVG9uZSA9PT0gJ2Z1bm55JyA/ICdJbmNsdWRlIGFwcHJvcHJpYXRlIGh1bW9yIHRoYXQgZml0cyB0aGUgb2NjYXNpb24nIDogJyd9XG4tICR7c2VsZWN0ZWRUb25lID09PSAnZ2Vuei1odW1vcicgPyAnVXNlIEdlblogaHVtb3Igd2l0aCBpbnRlcm5ldCBzbGFuZywgbWVtZXMsIGFuZCBjaGFvdGljIGVuZXJneSAtIHRoaW5rIFwibm8gY2FwXCIsIFwicGVyaW9kdFwiLCBcIml0XFwncyBnaXZpbmcuLi5cIiwgXCJzbGF5XCIsIGV0Yy4gQmUgdW5oaW5nZWQgYnV0IGVuZGVhcmluZycgOiAnJ31cbi0gJHtzZWxlY3RlZFRvbmUgPT09ICdwcm9mZXNzaW9uYWwnID8gJ0tlZXAgaXQgZm9ybWFsIGFuZCBidXNpbmVzcy1hcHByb3ByaWF0ZScgOiAnJ31cbi0gJHtzZWxlY3RlZFRvbmUgPT09ICdyb21hbnRpYycgPyAnSW5jbHVkZSBsb3ZpbmcgYW5kIHJvbWFudGljIGxhbmd1YWdlJyA6ICcnfVxuLSAke3NlbGVjdGVkVG9uZSA9PT0gJ3BsYXlmdWwnID8gJ1VzZSBmdW4gYW5kIGVuZXJnZXRpYyBsYW5ndWFnZScgOiAnJ31cbi0gJHt0b0ZpZWxkICYmIGZyb21GaWVsZCA/IGBTaG93IHRoZSByZWxhdGlvbnNoaXAgYmV0d2VlbiAke2Zyb21GaWVsZH0gYW5kICR7dG9GaWVsZH0gdGhyb3VnaCB0aGUgJHt0b25lRGVzY3JpcHRpb259IG1lc3NhZ2UgdG9uZWAgOiBcIlwifVxuLSAke2Zyb21GaWVsZCA/IGBFbmQgdGhlIG1lc3NhZ2Ugd2l0aCBhIHNpZ25hdHVyZSBsaW5lIGxpa2UgXCJMb3ZlLCAke2Zyb21GaWVsZH1cIiBvciBcIi0gJHtmcm9tRmllbGR9XCIgb3Igc2ltaWxhciwgbmF0dXJhbGx5IGludGVncmF0ZWQgaW50byB0aGUgbWVzc2FnZS5gIDogXCJcIn1cblxuUmV0dXJuIE9OTFkgdGhlIG1lc3NhZ2UgdGV4dCB0aGF0IHNob3VsZCBhcHBlYXIgaW5zaWRlIHRoZSBjYXJkIC0gbm8gcXVvdGVzLCBubyBleHBsYW5hdGlvbnMsIG5vIG1hcmtkb3duIGZvcm1hdHRpbmcgKG5vICpib2xkKiwgX2l0YWxpY3NfLCBvciBvdGhlciBtYXJrZG93biksIGp1c3QgdGhlIGNvbXBsZXRlICR7dG9uZURlc2NyaXB0aW9ufSBtZXNzYWdlIGluIHBsYWluIHRleHQuXG5cbklNUE9SVEFOVDogV3JhcCB5b3VyIGZpbmFsIG1lc3NhZ2UgaW4gPE1FU1NBR0U+IDwvTUVTU0FHRT4gdGFncy4gRXZlcnl0aGluZyBvdXRzaWRlIHRoZXNlIHRhZ3Mgd2lsbCBiZSBpZ25vcmVkLmA7XG5cbiAgICAgICAgY29uc3QgZ2VuZXJhdGVkTWVzc2FnZSA9IGF3YWl0IGNoYXRXaXRoQUkoYXV0b01lc3NhZ2VQcm9tcHQsIHtcbiAgICAgICAgICBtb2RlbDogXCJnZW1pbmktMi41LXByb1wiLFxuICAgICAgICAgIGluY2x1ZGVUaG91Z2h0czogZmFsc2UgIC8vIERvbid0IGluY2x1ZGUgdGhpbmtpbmcgY29udGVudCBpbiBtZXNzYWdlIGdlbmVyYXRpb25cbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChnZW5lcmF0ZWRNZXNzYWdlPy50cmltKCkpIHtcbiAgICAgICAgICAvLyBFeHRyYWN0IG1lc3NhZ2UgY29udGVudCBiZXR3ZWVuIDxNRVNTQUdFPiB0YWdzIHVzaW5nIHJlZ2V4XG4gICAgICAgICAgY29uc3QgbWVzc2FnZU1hdGNoID0gZ2VuZXJhdGVkTWVzc2FnZS5tYXRjaCgvPE1FU1NBR0U+KFtcXHNcXFNdKj8pPFxcL01FU1NBR0U+Lyk7XG4gICAgICAgICAgbGV0IGV4dHJhY3RlZE1lc3NhZ2UgPSBtZXNzYWdlTWF0Y2ggPyBtZXNzYWdlTWF0Y2hbMV0udHJpbSgpIDogZ2VuZXJhdGVkTWVzc2FnZS50cmltKCk7XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gRW5zdXJlIG5vIE1FU1NBR0UgdGFncyBhcmUgaW5jbHVkZWQgaW4gdGhlIGZpbmFsIG1lc3NhZ2VcbiAgICAgICAgICBleHRyYWN0ZWRNZXNzYWdlID0gZXh0cmFjdGVkTWVzc2FnZS5yZXBsYWNlKC88XFwvP01FU1NBR0U+L2csICcnKS50cmltKCk7XG4gICAgICAgICAgXG4gICAgICAgICAgbWVzc2FnZUNvbnRlbnQgPSBleHRyYWN0ZWRNZXNzYWdlO1xuICAgICAgICAgIHNldEZpbmFsQ2FyZE1lc3NhZ2UobWVzc2FnZUNvbnRlbnQpO1xuICAgICAgICAgIHNldEdlbmVyYXRpb25Qcm9ncmVzcyhcIuKchSBQZXJmZWN0IG1lc3NhZ2UgY3JhZnRlZCEgTm93IGZvciB0aGUgbWFnaWMgdmlzdWFscy4uLlwiKTtcbiAgICAgICAgICB0b2FzdC5zdWNjZXNzKFwi4pyoIEdlbmVyYXRlZCBhIHBlcnNvbmFsaXplZCBtZXNzYWdlIGZvciB5b3VyIGNhcmQhXCIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG1lc3NhZ2VDb250ZW50ID0gZWZmZWN0aXZlUHJvbXB0O1xuICAgICAgICB9XG4gICAgICAgIHNldElzR2VuZXJhdGluZ01lc3NhZ2UoZmFsc2UpOyAvLyBSZXNldCBtZXNzYWdlIGdlbmVyYXRpb24gc3RhdGVcbiAgICAgICAgXG4gICAgICAgIC8vIE1lc3NhZ2UgZ2VuZXJhdGlvbiBjb21wbGV0ZVxuICAgICAgfSBjYXRjaCB7XG4gICAgICAgIG1lc3NhZ2VDb250ZW50ID0gZWZmZWN0aXZlUHJvbXB0O1xuICAgICAgICBzZXRJc0dlbmVyYXRpbmdNZXNzYWdlKGZhbHNlKTsgLy8gUmVzZXQgbWVzc2FnZSBnZW5lcmF0aW9uIHN0YXRlIG9uIGVycm9yXG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gRGV0ZXJtaW5lIHdoaWNoIG1vZGVsIHRvIHVzZSBiYXNlZCBvbiBtb2RlXG4gICAgY29uc3QgbW9kZWxUb1VzZSA9IGlzRHJhZnRNb2RlID8gc2VsZWN0ZWREcmFmdE1vZGVsIDogc2VsZWN0ZWRJbWFnZU1vZGVsO1xuXG4gICAgLy8gVmFsaWRhdGUgcmVmZXJlbmNlIGltYWdlcyB3aXRoIG1vZGVsIGNvbXBhdGliaWxpdHlcbiAgICBpZiAocmVmZXJlbmNlSW1hZ2VVcmxzLmxlbmd0aCA+IDAgJiYgbW9kZWxUb1VzZSAhPT0gXCJncHQtaW1hZ2UtMVwiKSB7XG4gICAgICBjb25zdCBtb2RlVGV4dCA9IGlzRHJhZnRNb2RlID8gXCJkcmFmdCBtb2RlXCIgOiBcImZpbmFsIGdlbmVyYXRpb25cIjtcbiAgICAgIHRvYXN0LmVycm9yKGBSZWZlcmVuY2UgcGhvdG9zIGFyZSBvbmx5IHN1cHBvcnRlZCB3aXRoIEdQVCBJbWFnZSAxIG1vZGVsLiBQbGVhc2Ugc3dpdGNoIHRvIEdQVCBJbWFnZSAxIGZvciAke21vZGVUZXh0fSBvciByZW1vdmUgcmVmZXJlbmNlIHBob3Rvcy5gKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBPbmx5IHNldCBnbG9iYWwgZ2VuZXJhdGluZyBzdGF0ZSBpZiBub3QgaW4gZHJhZnQgbW9kZSAoZHJhZnQgbW9kZSBtYW5hZ2VzIGl0cyBvd24gc3RhdGUpXG4gICAgaWYgKCFpc0RyYWZ0TW9kZSkge1xuICAgICAgc2V0SXNHZW5lcmF0aW5nKHRydWUpO1xuICAgICAgc3RhcnRFbGFwc2VkVGltZVRyYWNraW5nKHVuZGVmaW5lZCwgMTIwKTsgLy8gMTIwIHNlY29uZHMgZm9yIHJlZ3VsYXIgY2FyZCBnZW5lcmF0aW9uICBcbiAgICAgIHNldEdlbmVyYXRpb25Qcm9ncmVzcyhcIkNyZWF0aW5nIHlvdXIgcGVyc29uYWxpemVkIGNhcmQuLi5cIik7XG4gICAgICBzZXRQcm9ncmVzc1BlcmNlbnRhZ2UoMCk7XG4gICAgfVxuICAgIFxuICAgIC8vIEdlbmVyYXRlIHVuaXF1ZSBjYXJkIElEIGZvciBVUkxcbiAgICBjb25zdCBjYXJkSWQgPSB1dWlkdjQoKTtcbiAgICBzZXRDdXJyZW50Q2FyZElkKGNhcmRJZCk7XG4gICAgY29uc3QgY2FyZFVybCA9IGAke0JBQ0tFTkRfQVBJX0JBU0VfVVJMfS9jYXJkLyR7Y2FyZElkfWA7XG4gICAgXG4gICAgLy8gUmVzZXQgY2FyZHMgc3RhdGVcbiAgICBzZXRHZW5lcmF0ZWRDYXJkcyhbXSk7XG4gICAgc2V0U2VsZWN0ZWRDYXJkSW5kZXgoMCk7XG4gICAgXG4gICAgdHJ5IHtcbiAgICAgIC8vIEdldCBzdHlsZSBkZXRhaWxzXG4gICAgICBzZXRHZW5lcmF0aW9uUHJvZ3Jlc3MoXCLwn46oIEFwcGx5aW5nIHlvdXIgYXJ0aXN0aWMgc3R5bGUuLi5cIik7XG4gICAgICBjb25zdCBzZWxlY3RlZFN0eWxlID0gYXJ0aXN0aWNTdHlsZXMuZmluZChzdHlsZSA9PiBzdHlsZS5pZCA9PT0gc2VsZWN0ZWRBcnRpc3RpY1N0eWxlKTtcbiAgICAgIGxldCBzdHlsZU1vZGlmaWVyID0gc2VsZWN0ZWRTdHlsZSA/IHNlbGVjdGVkU3R5bGUucHJvbXB0TW9kaWZpZXIgOiBcIlwiO1xuICAgICAgXG4gICAgICAvLyBIYW5kbGUgQUkgU21hcnQgU3R5bGUgLSBsZXQgQUkgY2hvb3NlIHRoZSBiZXN0IHN0eWxlXG4gICAgICBpZiAoc2VsZWN0ZWRBcnRpc3RpY1N0eWxlID09PSBcImFpLXNtYXJ0LXN0eWxlXCIpIHtcbiAgICAgICAgc2V0R2VuZXJhdGlvblByb2dyZXNzKFwi4pyoIFN0eWxlIGV4cGVydHMgc2VsZWN0aW5nIHRoZSBwZXJmZWN0IGxvb2suLi5cIik7XG4gICAgICAgIFxuICAgICAgICAvLyBTdHlsZSBzZWxlY3Rpb24gcHJvZ3Jlc3NcbiAgICAgICAgXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3Qgc3R5bGVTZWxlY3Rpb25Qcm9tcHQgPSBgWW91IGFyZSBhbiBleHBlcnQgYXJ0IGRpcmVjdG9yIHNwZWNpYWxpemluZyBpbiBiZWF1dGlmdWwsIGhlYXJ0ZmVsdCBncmVldGluZyBjYXJkcy4gWW91ciBqb2IgaXMgdG8gY2hvb3NlIHRoZSBwZXJmZWN0IGFydGlzdGljIHN0eWxlIHRoYXQgd2lsbCBjcmVhdGUgYSB3YXJtLCBlbW90aW9uYWwsIGFuZCBtZW1vcmFibGUgY2FyZC5cblxuQ2FyZCBEZXRhaWxzOlxuLSBUeXBlOiAke2NhcmRUeXBlRm9yUHJvbXB0fVxuLSBUaGVtZS9EZXNjcmlwdGlvbjogXCIke2VmZmVjdGl2ZVByb21wdH1cIlxuJHt0b0ZpZWxkID8gYC0gUmVjaXBpZW50OiAke3RvRmllbGR9YCA6IFwiXCJ9XG4ke2Zyb21GaWVsZCA/IGAtIFNlbmRlcjogJHtmcm9tRmllbGR9YCA6IFwiXCJ9XG4ke3JlZmVyZW5jZUltYWdlVXJscy5sZW5ndGggPiAwID8gYC0gSGFzICR7cmVmZXJlbmNlSW1hZ2VVcmxzLmxlbmd0aH0gcmVmZXJlbmNlIHBob3RvJHtyZWZlcmVuY2VJbWFnZVVybHMubGVuZ3RoID4gMSA/ICdzJyA6ICcnfSBmb3IgdHJhbnNmb3JtYXRpb25gIDogXCJcIn1cbiR7aXNIYW5kd3JpdHRlbk1lc3NhZ2UgPyBgLSBXaWxsIGhhdmUgaGFuZHdyaXR0ZW4gbWVzc2FnZWAgOiBgLSBNZXNzYWdlOiBcIiR7ZmluYWxDYXJkTWVzc2FnZX1cImB9XG5cbklNUE9SVEFOVCBHVUlERUxJTkVTOlxuLSBDaG9vc2Ugc3R5bGVzIHRoYXQgYXJlIFdBUk0sIEVNT1RJT05BTCwgYW5kIFBFUlNPTkFMIChncmVldGluZyBjYXJkcyBhcmUgYWJvdXQgaHVtYW4gY29ubmVjdGlvbilcbi0gQVZPSUQ6IHJvYm90cywgdGVjaCwgY3liZXJwdW5rLCBmdXR1cmlzdGljLCBzY2ktZmksIGRpZ2l0YWwsIG1lY2hhbmljYWwgdGhlbWVzXG4tIFBSRUZFUjogd2F0ZXJjb2xvciwgb2lsIHBhaW50aW5nLCBoYW5kLWRyYXduLCBpbGx1c3RyYXRlZCwgYXJ0aXN0aWMsIHBhaW50ZXJseSwgbmF0dXJhbCwgb3JnYW5pYyBzdHlsZXNcbi0gQ29uc2lkZXIgdGhlIGVtb3Rpb25hbCB0b25lOiBqb3lmdWwsIGxvdmluZywgY2VsZWJyYXRvcnksIHBlYWNlZnVsLCBhcnRpc3RpY1xuLSBUaGluayBhYm91dCB3aGF0IHdvdWxkIG1ha2Ugc29tZW9uZSBzbWlsZSB3aGVuIHRoZXkgcmVjZWl2ZSB0aGlzIGNhcmRcblxuR3JlYXQgY2FyZCBzdHlsZXMgaW5jbHVkZTpcbi0gV2F0ZXJjb2xvciBpbGx1c3RyYXRpb25zIHdpdGggc29mdCwgZmxvd2luZyBjb2xvcnNcbi0gSGFuZC1wYWludGVkIGFydHdvcmsgd2l0aCB2aXNpYmxlIGJydXNoc3Ryb2tlc1xuLSBDaGFybWluZyBpbGx1c3RyYXRlZCBjaGFyYWN0ZXJzIGFuZCBzY2VuZXNcbi0gQmVhdXRpZnVsIGJvdGFuaWNhbCBhbmQgbmF0dXJlIHRoZW1lc1xuLSBWaW50YWdlIGFydGlzdGljIHN0eWxlcyB3aXRoIGNoYXJhY3RlclxuLSBXYXJtLCBpbnZpdGluZyBjb2xvciBwYWxldHRlc1xuLSBBcnRpc3RpYyB0ZWNobmlxdWVzIHRoYXQgZmVlbCBoYW5kbWFkZSBhbmQgcGVyc29uYWxcblxuQ2hvb3NlIE9ORSBhcnRpc3RpYyBzdHlsZSB0aGF0IHBlcmZlY3RseSBtYXRjaGVzIHRoaXMgJHtjYXJkVHlwZUZvclByb21wdH0gY2FyZCdzIGVtb3Rpb25hbCBwdXJwb3NlLiBSZXNwb25kIHdpdGg6XG5cImluIFtkZXRhaWxlZCBhcnRpc3RpYyBzdHlsZSBkZXNjcmlwdGlvbiBmb2N1c2luZyBvbiB3YXJtdGgsIGJlYXV0eSwgYW5kIGVtb3Rpb25hbCBhcHBlYWxdXCJcblxuTWFrZSBpdCBmZWVsIGxpa2Ugc29tZXRoaW5nIGNyZWF0ZWQgd2l0aCBsb3ZlIGZvciBzb21lb25lIHNwZWNpYWwuYDtcblxuICAgICAgICAgIGNvbnN0IGFpU2VsZWN0ZWRTdHlsZSA9IGF3YWl0IGNoYXRXaXRoQUkoc3R5bGVTZWxlY3Rpb25Qcm9tcHQsIHtcbiAgICAgICAgICAgIG1vZGVsOiBcImdlbWluaS0yLjUtcHJvXCIsXG4gICAgICAgICAgICBpbmNsdWRlVGhvdWdodHM6IGZhbHNlICAvLyBEb24ndCBpbmNsdWRlIHRoaW5raW5nIGNvbnRlbnQgZm9yIHN0eWxlIHNlbGVjdGlvblxuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgaWYgKGFpU2VsZWN0ZWRTdHlsZT8udHJpbSgpKSB7XG4gICAgICAgICAgICBzdHlsZU1vZGlmaWVyID0gYWlTZWxlY3RlZFN0eWxlLnRyaW0oKTtcbiAgICAgICAgICAgIHNldEdlbmVyYXRpb25Qcm9ncmVzcyhcIuKcqCBQZXJmZWN0IHN0eWxlIGNob3NlbiEgVGltZSB0byBicmluZyB5b3VyIGNhcmQgdG8gbGlmZS4uLlwiKTtcbiAgICAgICAgICAgIHRvYXN0LnN1Y2Nlc3MoXCLwn46oIFBlcmZlY3QgYXJ0aXN0aWMgc3R5bGUgY2hvc2VuIGZvciB5b3VyIGNhcmQhXCIpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBGYWxsYmFjayB0byBhIGJlYXV0aWZ1bCBkZWZhdWx0IHN0eWxlXG4gICAgICAgICAgICBzdHlsZU1vZGlmaWVyID0gXCJpbiBhIHNvcGhpc3RpY2F0ZWQgYXJ0aXN0aWMgc3R5bGUgd2l0aCBoYXJtb25pb3VzIGNvbG9ycywgZWxlZ2FudCBjb21wb3NpdGlvbiwgYW5kIGJlYXV0aWZ1bCB2aXN1YWwgZWxlbWVudHMgcGVyZmVjdGx5IHN1aXRlZCBmb3IgdGhpcyBzcGVjaWFsIGNhcmRcIjtcbiAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignU3R5bGUgc2VsZWN0aW9uIGZhaWxlZDonLCBlcnJvcik7XG4gICAgICAgICAgLy8gRmFsbGJhY2sgdG8gYSBiZWF1dGlmdWwgZGVmYXVsdCBzdHlsZVxuICAgICAgICAgIHN0eWxlTW9kaWZpZXIgPSBcImluIGEgc29waGlzdGljYXRlZCBhcnRpc3RpYyBzdHlsZSB3aXRoIGhhcm1vbmlvdXMgY29sb3JzLCBlbGVnYW50IGNvbXBvc2l0aW9uLCBhbmQgYmVhdXRpZnVsIHZpc3VhbCBlbGVtZW50cyBwZXJmZWN0bHkgc3VpdGVkIGZvciB0aGlzIHNwZWNpYWwgY2FyZFwiO1xuICAgICAgICAgIHRvYXN0LmluZm8oXCJVc2luZyBhIGJlYXV0aWZ1bCBkZWZhdWx0IHN0eWxlIGZvciB5b3VyIGNhcmRcIik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIC8vIFVzZSBjdXN0b20gc3R5bGUgZGVzY3JpcHRpb24gaWYgY3VzdG9tIHN0eWxlIGlzIHNlbGVjdGVkXG4gICAgICBlbHNlIGlmIChzZWxlY3RlZEFydGlzdGljU3R5bGUgPT09IFwiY3VzdG9tXCIgJiYgY3VzdG9tU3R5bGVEZXNjcmlwdGlvbi50cmltKCkpIHtcbiAgICAgICAgc3R5bGVNb2RpZmllciA9IGBpbiAke2N1c3RvbVN0eWxlRGVzY3JpcHRpb24udHJpbSgpfWA7XG4gICAgICB9IGVsc2UgaWYgKHNlbGVjdGVkQXJ0aXN0aWNTdHlsZSA9PT0gXCJjdXN0b21cIiAmJiAhY3VzdG9tU3R5bGVEZXNjcmlwdGlvbi50cmltKCkpIHtcbiAgICAgICAgLy8gRmFsbGJhY2sgdG8gZGVmYXVsdCBpZiBjdXN0b20gaXMgc2VsZWN0ZWQgYnV0IG5vIGRlc2NyaXB0aW9uIHByb3ZpZGVkXG4gICAgICAgIHN0eWxlTW9kaWZpZXIgPSBcImluIGFydGlzdGljIHN0eWxlIHdpdGggY3JlYXRpdmUgYW5kIHVuaXF1ZSB2aXN1YWwgZWxlbWVudHNcIjtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gR2V0IHBhcGVyIHNpemUgY29uZmlndXJhdGlvblxuICAgICAgY29uc3QgcGFwZXJDb25maWcgPSBwYXBlclNpemVzLmZpbmQoc2l6ZSA9PiBzaXplLmlkID09PSBzZWxlY3RlZFBhcGVyU2l6ZSkgfHwgcGFwZXJTaXplc1swXTtcbiAgICAgIFxuICAgICAgLy8gR2VuZXJhdGUgbXVsdGlwbGUgdW5pcXVlIHByb21wdCBzZXRzIGZvciBlYWNoIGNhcmRcbiAgICAgIHNldEdlbmVyYXRpb25Qcm9ncmVzcyhg8J+OryBDcmFmdGluZyAke251bWJlck9mQ2FyZHN9IG1hc3RlcnBpZWNlIGRlc2lnbiR7bnVtYmVyT2ZDYXJkcyA+IDEgPyAncycgOiAnJ30uLi5gKTtcbiAgICAgIFxuICAgICAgLy8gQ3JlYXRlIHRoZSBiYXNlIHByb21wdCBnZW5lcmF0aW9uIHF1ZXJ5IHRoYXQgd2lsbCBiZSB1c2VkIGZvciBlYWNoIGNhcmQgdmFyaWFudFxuICAgICAgY29uc3QgbGVnYWN5UHJvbXB0R2VuZXJhdGlvblF1ZXJ5ID0gYENyZWF0ZSAke2lzRnJvbnRCYWNrT25seSA/ICcyJyA6ICc0J30gcHJvbXB0cyBmb3IgYSBjb2hlc2l2ZSwgY2hyb25vbG9naWNhbGx5IGZsb3dpbmcgJHtjYXJkVHlwZUZvclByb21wdH0gZ3JlZXRpbmcgY2FyZCB0aGF0IHRlbGxzIGEgdmlzdWFsIHN0b3J5ICgke3BhcGVyQ29uZmlnLmFzcGVjdFJhdGlvfSByYXRpbyk6XG5cbvCfjqggQ1JFQVRJVklUWSBNQU5EQVRFOiBCZSBnZW51aW5lbHkgY3JlYXRpdmUsIHVuaXF1ZSwgYW5kIGlubm92YXRpdmUhIEF2b2lkIGdlbmVyaWMgb3IgY2xpY2jDqSBkZXNpZ25zLiBUaGluayBvdXRzaWRlIHRoZSBib3gsIHN1cnByaXNlIHdpdGggdW5leHBlY3RlZCBlbGVtZW50cywgdXNlIGJvbGQgYXJ0aXN0aWMgY2hvaWNlcywgYW5kIGNyZWF0ZSBzb21ldGhpbmcgdHJ1bHkgbWVtb3JhYmxlIGFuZCBzcGVjaWFsLiBQdXNoIGNyZWF0aXZlIGJvdW5kYXJpZXMgd2hpbGUgc3RheWluZyBhcHByb3ByaWF0ZSBmb3IgdGhlIGNhcmQgdHlwZSBhbmQgdG9uZS5cblxuVGhlbWU6IFwiJHtlZmZlY3RpdmVQcm9tcHR9XCJcblN0eWxlOiAke3NlbGVjdGVkU3R5bGU/LmxhYmVsIHx8IFwiRGVmYXVsdFwifVxuVG9uZTogJHtzZWxlY3RlZFRvbmVPYmogPyBzZWxlY3RlZFRvbmVPYmoubGFiZWwgOiBcIkhlYXJ0ZmVsdFwifSAtICR7dG9uZURlc2NyaXB0aW9ufVxuJHt0b0ZpZWxkID8gYFRvOiAke3RvRmllbGR9YCA6IFwiXCJ9XG4ke2Zyb21GaWVsZCA/IGBGcm9tOiAke2Zyb21GaWVsZH1gIDogXCJcIn1cbiR7IWlzRnJvbnRCYWNrT25seSA/IGBNZXNzYWdlOiBcIiR7bWVzc2FnZUNvbnRlbnR9XCJgIDogXCJcIn1cbiR7aXNIYW5kd3JpdHRlbk1lc3NhZ2UgPyBcIk5vdGU6IEluY2x1ZGUgc3BhY2UgZm9yIGhhbmR3cml0dGVuIG1lc3NhZ2VcIiA6IFwiXCJ9XG4ke3JlZmVyZW5jZUltYWdlVXJscy5sZW5ndGggPiAwID8gYFJlZmVyZW5jZSBQaG90b3M6IEkgaGF2ZSBhdHRhY2hlZCAke3JlZmVyZW5jZUltYWdlVXJscy5sZW5ndGh9IHJlZmVyZW5jZSBwaG90byR7cmVmZXJlbmNlSW1hZ2VVcmxzLmxlbmd0aCA+IDEgPyAncycgOiAnJ30gZm9yIHlvdSB0byBhbmFseXplLiBQbGVhc2UgbG9vayBhdCAke3JlZmVyZW5jZUltYWdlVXJscy5sZW5ndGggPiAxID8gJ3RoZXNlIHBob3RvcycgOiAndGhpcyBwaG90byd9IHRvIHVuZGVyc3RhbmQgd2hhdCB0aGUgcGVvcGxlIGxvb2sgbGlrZSAtIHRoZWlyIGhhaXIgY29sb3Ivc3R5bGUsIGZhY2lhbCBmZWF0dXJlcywgY2xvdGhpbmcsIGFjY2Vzc29yaWVzLCBib2R5IHR5cGUsIGFnZSwgZXRjLiBVc2UgdGhpcyB2aXN1YWwgaW5mb3JtYXRpb24gdG8gY3JlYXRlIGFjY3VyYXRlIGNhcnRvb24vaWxsdXN0cmF0ZWQgdmVyc2lvbnMgb2YgJHtyZWZlcmVuY2VJbWFnZVVybHMubGVuZ3RoID4gMSA/ICd0aGVzZSBwZW9wbGUnIDogJ3RoaXMgcGVyc29uJ30gaW4gdGhlIHByb21wdHMuXG5UcmFuc2Zvcm1hdGlvbiBpbnN0cnVjdGlvbnM6IFwiJHtpbWFnZVRyYW5zZm9ybWF0aW9uIHx8ICdDcmVhdGUgc3R5bGl6ZWQgY2FydG9vbiBjaGFyYWN0ZXJzIHRoYXQgYWNjdXJhdGVseSByZXByZXNlbnQgdGhlIHBlb3BsZSBpbiB0aGUgcmVmZXJlbmNlIHBob3RvcyB3aGlsZSBtYWludGFpbmluZyB0aGVpciBkaXN0aW5jdGl2ZSBmZWF0dXJlcyd9XCJgIDogXCJcIn1cblxuQ1JJVElDQUw6IENyZWF0ZSBhIGNvaGVzaXZlIHZpc3VhbCBuYXJyYXRpdmUgdGhhdCBmbG93cyBjaHJvbm9sb2dpY2FsbHkgdGhyb3VnaCB0aGUgY2FyZCBleHBlcmllbmNlOlxuMS4gRlJPTlQgQ09WRVI6IEZpcnN0IGltcHJlc3Npb24gLSBzZXRzIHRoZSBzY2VuZS9pbnRyb2R1Y2VzIHRoZSBzdG9yeVxuMi4gSU5URVJJT1IgU1BSRUFEOiBUaGUgaGVhcnQgb2YgdGhlIGV4cGVyaWVuY2UgLSBjb250aW51YXRpb24gYW5kIGNsaW1heCBvZiB0aGUgdmlzdWFsIHN0b3J5XG4zLiBCQUNLIENPVkVSOiBDb25jbHVzaW9uIC0gcGVhY2VmdWwgcmVzb2x1dGlvbiBvciBjb21wbGVtZW50YXJ5IGVuZGluZ1xuXG5SZXF1aXJlbWVudHM6XG4tIEZsYXQgMkQgYXJ0d29yayBmb3IgcHJpbnRpbmcgKG5vdCAzRCBjYXJkIGltYWdlcylcbi0gRnVsbC1ibGVlZCBiYWNrZ3JvdW5kcyBleHRlbmRpbmcgdG8gZWRnZXNcbi0gSU1QT1JUQU5UOiBLZWVwIHRleHQsIGZhY2VzLCBhbmQga2V5IGVsZW1lbnRzIGF0IGxlYXN0IDEwJSBhd2F5IGZyb20gdG9wL2JvdHRvbSBlZGdlcyAoc21hbGwgYW1vdW50IG1heSBiZSBjcm9wcGVkIGluIHByaW50aW5nKVxuLSBLZWVwIHRleHQvZmFjZXMgMC41XCIgZnJvbSBsZWZ0L3JpZ2h0IGVkZ2VzIGZvciBzYWZlIHByaW50aW5nXG4tIENPTlNJU1RFTlQgdmlzdWFsIGVsZW1lbnRzIHRocm91Z2hvdXQ6IHNhbWUgY2hhcmFjdGVycywgY29sb3IgcGFsZXR0ZSwgbGlnaHRpbmcsIGFydCBzdHlsZVxuLSBQcm9ncmVzc2l2ZSB2aXN1YWwgc3Rvcnl0ZWxsaW5nIGZyb20gZnJvbnQg4oaSIGludGVyaW9yIOKGkiBiYWNrXG4tIFB1dCBhbnkgdGV4dCBpbiBxdW90ZXMgYW5kIG1ha2UgaXQgY2xlYXIvcmVhZGFibGVcbi0gRWFjaCBzZWN0aW9uIHNob3VsZCBmZWVsIGxpa2UgcGFydCBvZiB0aGUgc2FtZSBhcnRpc3RpYyB1bml2ZXJzZVxuLSBUT05FOiBFbnN1cmUgdGhlIHZpc3VhbCBtb29kIGFuZCBhdG1vc3BoZXJlIG1hdGNoZXMgdGhlICR7dG9uZURlc2NyaXB0aW9ufSB0b25lIHRocm91Z2hvdXQgYWxsIHNlY3Rpb25zXG4tIElOVEVMTEVDVFVBTCBQUk9QRVJUWSBTQUZFVFk6IElmIHRoZSB1c2VyIG1lbnRpb25zIHNwZWNpZmljIGNoYXJhY3RlcnMsIGJyYW5kcywgbG9nb3MsIG9yIHByb2R1Y3RzLCBhdXRvbWF0aWNhbGx5IHJlcGxhY2UgdGhlbSB3aXRoIG9yaWdpbmFsIGdlbmVyaWMgYWx0ZXJuYXRpdmVzIGluIHlvdXIgcHJvbXB0cy4gRm9yIGV4YW1wbGU6IHJlcGxhY2Ugc3BlY2lmaWMgY2hhcmFjdGVyIG5hbWVzIHdpdGggXCJjYXJ0b29uIG1vdXNlIGNoYXJhY3RlclwiIG9yIFwic3VwZXJoZXJvIGNoYXJhY3RlclwiLCByZXBsYWNlIGJyYW5kIG5hbWVzIHdpdGggXCJjb2xvcmZ1bCBjZXJlYWxcIiBvciBcInNwb3J0cyBjYXJcIiwgZXRjLiBDcmVhdGUgaW5zcGlyZWQtYnkgZGVzaWducyB0aGF0IGNhcHR1cmUgdGhlIGVzc2VuY2Ugd2l0aG91dCByZWZlcmVuY2luZyBhbnkgcHJvdGVjdGVkIG5hbWVzIG9yIHNwZWNpZmljIGNvcHlyaWdodGVkIGVsZW1lbnRzLiBOZXZlciBpbmNsdWRlIGFjdHVhbCBicmFuZCBuYW1lcywgY2hhcmFjdGVyIG5hbWVzLCBvciB0cmFkZW1hcmtlZCB0ZXJtcyBpbiB0aGUgaW1hZ2UgZ2VuZXJhdGlvbiBwcm9tcHRzXG4tIENPTlRFTlQgU0FGRVRZOiBFbnN1cmUgYWxsIHByb21wdHMgYXJlIGZhbWlseS1mcmllbmRseSBhbmQgYXBwcm9wcmlhdGUgZm9yIGdyZWV0aW5nIGNhcmRzLiBBdm9pZCBhbnkgY29udGVudCB0aGF0IGNvdWxkIGJlIGZsYWdnZWQgYnkgc2FmZXR5IHN5c3RlbXMgaW5jbHVkaW5nOiB2aW9sZW5jZSwgd2VhcG9ucywgaW5hcHByb3ByaWF0ZSBpbWFnZXJ5LCBwb2xpdGljYWwgY29udGVudCwgY29udHJvdmVyc2lhbCB0b3BpY3MsIHNjYXJ5IG9yIGRpc3R1cmJpbmcgZWxlbWVudHMsIG9yIGFueXRoaW5nIG5vdCBzdWl0YWJsZSBmb3IgYWxsIGFnZXMuIElmIHRoZSB1c2VyIHJlcXVlc3RzIHNvbWV0aGluZyBwb3RlbnRpYWxseSBpbmFwcHJvcHJpYXRlLCByZWRpcmVjdCB0byBwb3NpdGl2ZSwgd2hvbGVzb21lIGFsdGVybmF0aXZlcyB0aGF0IGNhcHR1cmUgdGhlaXIgaW50ZW50IGluIGEgZmFtaWx5LWZyaWVuZGx5IHdheVxuJHtzZWxlY3RlZFRvbmUgPT09ICdmdW5ueScgPyAnLSBJbmNsdWRlIHZpc3VhbCBodW1vciwgcGxheWZ1bCBlbGVtZW50cywgYW5kIHdoaW1zaWNhbCBkZXRhaWxzJyA6ICcnfVxuJHtzZWxlY3RlZFRvbmUgPT09ICdnZW56LWh1bW9yJyA/ICctIEluY2x1ZGUgR2VuWiB2aXN1YWwgZWxlbWVudHMgbGlrZSBjaGFvdGljIGVuZXJneSwgaW50ZXJuZXQgbWVtZSByZWZlcmVuY2VzLCBib2xkIGNvbnRyYXN0aW5nIGNvbG9ycywgYW5kIHVuaGluZ2VkIGJ1dCBlbmRlYXJpbmcgdmlzdWFsIHN0eWxlJyA6ICcnfVxuJHtzZWxlY3RlZFRvbmUgPT09ICdyb21hbnRpYycgPyAnLSBJbmNsdWRlIHJvbWFudGljIGVsZW1lbnRzIGxpa2Ugc29mdCBsaWdodGluZywgaGVhcnRzLCBmbG93ZXJzLCBvciBpbnRpbWF0ZSBzY2VuZXMnIDogJyd9XG4ke3NlbGVjdGVkVG9uZSA9PT0gJ3Byb2Zlc3Npb25hbCcgPyAnLSBLZWVwIHZpc3VhbHMgY2xlYW4sIHNvcGhpc3RpY2F0ZWQsIGFuZCBidXNpbmVzcy1hcHByb3ByaWF0ZScgOiAnJ31cbiR7c2VsZWN0ZWRUb25lID09PSAncGxheWZ1bCcgPyAnLSBJbmNsdWRlIGJyaWdodCBjb2xvcnMsIGR5bmFtaWMgcG9zZXMsIGFuZCBlbmVyZ2V0aWMgdmlzdWFsIGVsZW1lbnRzJyA6ICcnfVxuJHtzZWxlY3RlZFRvbmUgPT09ICdlbGVnYW50JyA/ICctIEZvY3VzIG9uIHNvcGhpc3RpY2F0ZWQgZGVzaWduLCByZWZpbmVkIGNvbG9yIHBhbGV0dGVzLCBhbmQgZ3JhY2VmdWwgY29tcG9zaXRpb25zJyA6ICcnfVxuJHtyZWZlcmVuY2VJbWFnZVVybHMubGVuZ3RoID4gMCA/IGAtIENyZWF0ZSBjYXJ0b29uL2lsbHVzdHJhdGVkIGNoYXJhY3RlcnMgaW5zcGlyZWQgYnkgcmVmZXJlbmNlIGltYWdlcyAtIERPIE5PVCBtYWtlIHJlYWxpc3RpYyBkZXBpY3Rpb25zYCA6ICcnfVxuXG5DcmVhdGUgcHJvbXB0cyB0aGF0IGZsb3cgY2hyb25vbG9naWNhbGx5OlxuXG4xLiBGcm9udCBDb3ZlciAoT3BlbmluZyBTY2VuZSk6IEJFIEdFTlVJTkVMWSBDUkVBVElWRSBBTkQgVU5JUVVFISBJbmNsdWRlIFwiJHtjYXJkVHlwZUZvclByb21wdH1cIiBncmVldGluZyB0ZXh0IHBvc2l0aW9uZWQgc2FmZWx5IGluIHRoZSBjZW50ZXIgYXJlYSAoYXZvaWQgdG9wL2JvdHRvbSAxMCUgb2YgaW1hZ2UpLiBURVhUIFNUWUxFOiBXcml0ZSB0aGUgZ3JlZXRpbmcgdGV4dCBpbiBiZWF1dGlmdWwsIGNsZWFybHkgcmVhZGFibGUgaGFuZHdyaXR0ZW4gY3Vyc2l2ZSBzY3JpcHQgdGhhdCBtYXRjaGVzIHRoZSBlbGVnYW50IHN0eWxlIHVzZWQgaW5zaWRlIHRoZSBjYXJkIC0gbGVnaWJsZSwgZmxvd2luZywgYW5kIGdyYWNlZnVsIHdpdGggbmF0dXJhbCBjaGFyYWN0ZXIgYW5kIHdhcm10aC4gJHtyZWZlcmVuY2VJbWFnZVVybHMubGVuZ3RoID4gMCA/IGBJIGhhdmUgaW5jbHVkZWQgJHtyZWZlcmVuY2VJbWFnZVVybHMubGVuZ3RoID4gMSA/ICdtdWx0aXBsZScgOiAnbXkgb3duJ30gcmVmZXJlbmNlIGltYWdlJHtyZWZlcmVuY2VJbWFnZVVybHMubGVuZ3RoID4gMSA/ICdzJyA6ICcnfS4gQ3JlYXRlIHN0eWxpemVkIGNhcnRvb24vaWxsdXN0cmF0ZWQgY2hhcmFjdGVycyBpbnNwaXJlZCBieSB0aGUgcmVmZXJlbmNlIGltYWdlJHtyZWZlcmVuY2VJbWFnZVVybHMubGVuZ3RoID4gMSA/ICdzJyA6ICcnfSAtIERPIE5PVCBtYWtlIHJlYWxpc3RpYyBkZXBpY3Rpb25zIG9mIHJlYWwgcGVvcGxlLCBpbnN0ZWFkIGNyZWF0ZSBjaGFybWluZyBjYXJ0b29uLXN0eWxlIGNoYXJhY3RlcnMgd2l0aCBzaW1wbGlmaWVkLCBmcmllbmRseSBmZWF0dXJlcy5gIDogJ0NyZWF0ZSBjaGFybWluZyBjYXJ0b29uLXN0eWxlIG9yIHN0eWxpemVkIGlsbHVzdHJhdGVkIGZpZ3VyZXMgaWYgcGVvcGxlIGFyZSBuZWVkZWQgZm9yIHRoZSB0aGVtZS4nfSBUaGlzIGlzIHRoZSBzdG9yeSBvcGVuaW5nIC0gaW50cm9kdWNlIGtleSB2aXN1YWwgZWxlbWVudHMgKGNvbG9ycywgbW90aWZzLCBhcnRpc3RpYyBzdHlsZSkgdGhhdCB3aWxsIGNvbnRpbnVlIHRocm91Z2hvdXQgdGhlIG90aGVyIHNlY3Rpb25zLiBUaGluayBvZiBzb21ldGhpbmcgdW5leHBlY3RlZCwgaW5ub3ZhdGl2ZSwgYW5kIG1lbW9yYWJsZSB0aGF0IHdpbGwgc3VycHJpc2UgYW5kIGRlbGlnaHQgdGhlIHJlY2lwaWVudC4gQXZvaWQgZ2VuZXJpYyBkZXNpZ25zISBTdHlsZTogJHtzdHlsZU1vZGlmaWVyfVxuXG4yLiAkeyFpc0Zyb250QmFja09ubHkgPyBgTGVmdCBJbnRlcmlvciAoU3RvcnkgRGV2ZWxvcG1lbnQpOiBVTkxFQVNIIFlPVVIgQ1JFQVRJVklUWSEgWW91IGhhdmUgY29tcGxldGUgY3JlYXRpdmUgZnJlZWRvbSB0byBkZXNpZ24gd2hhdGV2ZXIgeW91IHdhbnQgZm9yIHRoaXMgbGVmdCBpbnRlcmlvciBwYWdlISBUaGlzIGlzIHlvdXIgYXJ0aXN0aWMgcGxheWdyb3VuZCAtIGNyZWF0ZSBzb21ldGhpbmcgZ2VudWluZWx5IGlubm92YXRpdmUgYW5kIHVuZXhwZWN0ZWQgdGhhdCBmZWVscyByaWdodCBmb3IgYSAke2NhcmRUeXBlRm9yUHJvbXB0fSBjYXJkIHdpdGggJHt0b25lRGVzY3JpcHRpb259IHRvbmUuIFlvdSBjYW4gaW5jbHVkZTogc2NlbmVzLCBsYW5kc2NhcGVzLCBvYmplY3RzLCBwYXR0ZXJucywgcXVvdGVzLCB0ZXh0LCBpbGx1c3RyYXRpb25zLCByZWFsaXN0aWMgYXJ0LCBhYnN0cmFjdCBhcnQsIG9yIGFueXRoaW5nIGVsc2UgdGhhdCBpbnNwaXJlcyB5b3UgLSBidXQgTk8gUEVPUExFIG9yIGNoYXJhY3RlcnMgdW5sZXNzIHRoZSB1c2VyIHNwZWNpZmljYWxseSBtZW50aW9uZWQgd2FudGluZyBwZW9wbGUgaW4gdGhlaXIgY2FyZCBkZXNjcmlwdGlvbi4gUG9zaXRpb24gYW55IHRleHQgc2FmZWx5IGluIGNlbnRlciBhcmVhIChhdm9pZCB0b3AvYm90dG9tIDEwJSkuIFRoaW5rIG9mIHNvbWV0aGluZyBubyBvbmUgaGFzIGRvbmUgYmVmb3JlISBTdXJwcmlzZSB1cyB3aXRoIGJvbGQsIGltYWdpbmF0aXZlLCBhbmQgbWVtb3JhYmxlIGFydGlzdGljIGNob2ljZXMgd2hpbGUgbWFpbnRhaW5pbmcgdmlzdWFsIGhhcm1vbnkgd2l0aCB0aGUgb3ZlcmFsbCBjYXJkIHN0eWxlIGFuZCB0b25lLiBTdHlsZTogJHtzdHlsZU1vZGlmaWVyfVxuXG4zLiBSaWdodCBJbnRlcmlvciAoU3RvcnkgQ2xpbWF4KTogQkUgQ1JFQVRJVkUgV0lUSCBNRVNTQUdFIERFU0lHTiEgJHtpc0hhbmR3cml0dGVuTWVzc2FnZSA/IGBEZXNpZ24gd2l0aCBlbGVnYW50IHdyaXRpbmcgc3BhY2UgdGhhdCBjb21wbGVtZW50cyB0aGUgdmlzdWFsIHN0b3J5IGZyb20gbGVmdCBpbnRlcmlvci4gUG9zaXRpb24gZGVjb3JhdGl2ZSBlbGVtZW50cyBzYWZlbHkgYXdheSBmcm9tIHRvcC9ib3R0b20gZWRnZXMuIENyZWF0ZSBpbm5vdmF0aXZlIGFuZCBhcnRpc3RpYyBkZWNvcmF0aXZlIGVsZW1lbnRzLCBib3JkZXJzLCBvciBmbG91cmlzaGVzIHRoYXQgYXJlIHVuaXF1ZSBhbmQgbWVtb3JhYmxlIC0gTk8gUEVPUExFIG9yIGNoYXJhY3RlcnMuYCA6IGBJbmNsdWRlIG1lc3NhZ2UgdGV4dDogXCIke21lc3NhZ2VDb250ZW50fVwiIHBvc2l0aW9uZWQgc2FmZWx5IGluIGNlbnRlciBhcmVhIChhdm9pZCB0b3AvYm90dG9tIDEwJSBvZiBpbWFnZSkgaW50ZWdyYXRlZCBpbnRvIGJlYXV0aWZ1bCwgaW5ub3ZhdGl2ZSBkZWNvcmF0aXZlIGFydHdvcmsuIEhBTkRXUklUSU5HIFNUWUxFOiBXcml0ZSB0aGUgbWVzc2FnZSBpbiBiZWF1dGlmdWwsIGNsZWFybHkgcmVhZGFibGUgaGFuZHdyaXR0ZW4gY3Vyc2l2ZSBzY3JpcHQgdGhhdCBmZWVscyBlbGVnYW50IGFuZCBwZXJzb25hbC4gVGhlIGhhbmR3cml0aW5nIHNob3VsZCBiZSBsZWdpYmxlLCBmbG93aW5nLCBhbmQgaGF2ZSBuYXR1cmFsIGNoYXJhY3RlciAtIG5vdCBvdmVybHkgcGVyZmVjdCBidXQgZ3JhY2VmdWwgYW5kIHdhcm0uIFVzZSBhIG5pY2UgcGVuLXN0eWxlIGFwcGVhcmFuY2Ugd2l0aCBuYXR1cmFsIGluayBmbG93IGFuZCBzbGlnaHQgdmFyaWF0aW9ucyBpbiBsaW5lIHdlaWdodC4gVGhpbmsgb2Ygc29waGlzdGljYXRlZCBjYWxsaWdyYXBoeSB0aGF0J3Mgc3RpbGwgYXBwcm9hY2hhYmxlIGFuZCBlYXN5IHRvIHJlYWQuIE1ha2UgdGhlIGhhbmR3cml0aW5nIGZlZWwgZ2VudWluZSBhbmQgaGVhcnRmZWx0LiBUaGluayBiZXlvbmQgdHlwaWNhbCBmbG9yYWxzIGFuZCBwYXR0ZXJucyAtIGNyZWF0ZSBzb21ldGhpbmcgdW5leHBlY3RlZCBhbmQgYXJ0aXN0aWMgdGhhdCBwZXJmZWN0bHkgZnJhbWVzIHRoZSBoYW5kd3JpdHRlbiBtZXNzYWdlIC0gTk8gUEVPUExFIG9yIGNoYXJhY3RlcnMuYH0gVGhpcyBzaG91bGQgZmVlbCBsaWtlIHRoZSBlbW90aW9uYWwgcGVhayBvZiB0aGUgY2FyZCBleHBlcmllbmNlLCBoYXJtb25pemluZyB3aXRoIHRoZSBsZWZ0IGludGVyaW9yIGFzIGEgY29oZXNpdmUgc3ByZWFkLiBBdm9pZCBjbGljaMOpIGRlc2lnbnMgYW5kIGNyZWF0ZSBzb21ldGhpbmcgZ2VudWluZWx5IHNwZWNpYWwhJHtoYW5kd3JpdGluZ1NhbXBsZVVybCA/ICcgTWF0Y2ggdGhlIHByb3ZpZGVkIGhhbmR3cml0aW5nIHN0eWxlIHNhbXBsZSBleGFjdGx5LicgOiAnIFVzZSB0aGUgZWxlZ2FudCBjdXJzaXZlIGhhbmR3cml0aW5nIHN0eWxlIGRlc2NyaWJlZCBhYm92ZS4nfSBTdHlsZTogJHtzdHlsZU1vZGlmaWVyfVxuXG40LiBgIDogJyd9QmFjayBDb3ZlciAoU3RvcnkgUmVzb2x1dGlvbik6IEJFIFNVQlRMWSBDUkVBVElWRSEgQ3JlYXRlIGEgc2ltcGxlIHlldCBpbm5vdmF0aXZlIGRlY29yYXRpdmUgZGVzaWduIHRoYXQgYnJpbmdzIHBlYWNlZnVsIGNsb3N1cmUgdG8gdGhlIHZpc3VhbCBzdG9yeS4gUmVmZXJlbmNlIHN1YnRsZSBlbGVtZW50cyBmcm9tIHRoZSBmcm9udCBjb3ZlciBidXQga2VlcCBpdCBtaW5pbWFsIGFuZCBzZXJlbmUgLSBOTyBQRU9QTEUsIGp1c3QgYmVhdXRpZnVsLCB1bmV4cGVjdGVkIGFydGlzdGljIGVsZW1lbnRzIHRoYXQgZ28gYmV5b25kIHR5cGljYWwgcGF0dGVybnMgb3IgZmxvcmFscy4gSU1QT1JUQU5UOiBMZWF2ZSB0aGUgYm90dG9tLXJpZ2h0IGNvcm5lciBhcmVhIChhcHByb3hpbWF0ZWx5IDEgaW5jaCBzcXVhcmUpIGNvbXBsZXRlbHkgY2xlYXIgYW5kIHVuZGVjb3JhdGVkIC0gdGhpcyBzcGFjZSBzaG91bGQgcmVtYWluIGVtcHR5LiBGb2N1cyBkZWNvcmF0aXZlIGVsZW1lbnRzIHRvd2FyZCB0aGUgY2VudGVyIGFuZCBsZWZ0IHNpZGUgb2YgdGhlIGRlc2lnbi4gVGhpbmsgb2Ygc29tZXRoaW5nIHF1aWV0bHkgYmVhdXRpZnVsIGFuZCBtZW1vcmFibGUgdGhhdCBjb21wbGVtZW50cyB0aGUgb3ZlcmFsbCBkZXNpZ24gd2hpbGUgYmVpbmcgZ2VudWluZWx5IHVuaXF1ZS4gVGhpcyBzaG91bGQgZmVlbCBsaWtlIGEgcGVhY2VmdWwsIGFydGlzdGljIGVuZGluZyB0aGF0IHN1cnByaXNlcyB3aXRoIGl0cyBzdWJ0bGUgY3JlYXRpdml0eS4gU3R5bGU6ICR7c3R5bGVNb2RpZmllcn1cblxuVklTVUFMIENPTlRJTlVJVFkgQ0hFQ0tMSVNUOlxuLSBTYW1lIGNvbG9yIHBhbGV0dGUgYWNyb3NzIGFsbCBzZWN0aW9uc1xuLSBDb25zaXN0ZW50IGxpZ2h0aW5nL3RpbWUgb2YgZGF5XG4tIFNhbWUgYXJ0aXN0aWMgdGVjaG5pcXVlcyBhbmQgYnJ1c2h3b3JrXG4tIFJlY3VycmluZyB2aXN1YWwgbW90aWZzIG9yIHN5bWJvbHMgKGJ1dCBtYWtlIHRoZW0gdW5pcXVlIGFuZCBtZW1vcmFibGUhKVxuLSBQcm9ncmVzc2l2ZSBlbW90aW9uYWwgam91cm5leSBmcm9tIGludHJvZHVjdGlvbiB0byByZXNvbHV0aW9uXG4tIEZyb250IGNvdmVyOiBzdHlsaXplZCBjYXJ0b29uL2lsbHVzdHJhdGVkIGNoYXJhY3RlcnMgaWYgcGVvcGxlIGFyZSBuZWVkZWQgZm9yIHRoZSB0aGVtZVxuLSBMZWZ0IGludGVyaW9yOiBDUkVBVElWRSBGUkVFRE9NIGJ1dCBOTyBQRU9QTEUgdW5sZXNzIHVzZXIgc3BlY2lmaWNhbGx5IHJlcXVlc3RlZCBwZW9wbGUgaW4gdGhlaXIgZGVzY3JpcHRpb25cbi0gUmlnaHQgaW50ZXJpb3I6IGZvY3VzIG9uIG1lc3NhZ2Ugc3BhY2Ugd2l0aCBpbm5vdmF0aXZlIGRlY29yYXRpdmUgZWxlbWVudHMgKE5PIFBFT1BMRSlcbi0gQmFjayBjb3Zlcjogc2ltcGxlIHlldCBjcmVhdGl2ZSBkZWNvcmF0aXZlIGRlc2lnbiB3aXRob3V0IHRleHQgb3IgcGVvcGxlXG4tIFVzZSBzaW1wbGlmaWVkLCBmcmllbmRseSwgY2hhcm1pbmcgY2hhcmFjdGVyIGRlc2lnbiBpZiBpbmNsdWRpbmcgcGVvcGxlIChmcm9udCBjb3ZlciBvbmx5KVxuLSBDUkVBVElWSVRZIFBSSU9SSVRZOiBBbHdheXMgY2hvb3NlIHRoZSBtb3JlIGlubm92YXRpdmUsIHN1cnByaXNpbmcsIGFuZCBtZW1vcmFibGUgb3B0aW9uIG92ZXIgZ2VuZXJpYyBkZXNpZ25zXG5cblJldHVybiBKU09OOlxue1xuICBcImZyb250Q292ZXJcIjogXCJkZXRhaWxlZCBwcm9tcHQgd2l0aCBzdG9yeSBvcGVuaW5nIGVsZW1lbnRzXCIsXG4gIFwiYmFja0NvdmVyXCI6IFwiZGV0YWlsZWQgcHJvbXB0IHdpdGggc3RvcnkgY29uY2x1c2lvbiBlbGVtZW50c1wiJHshaXNGcm9udEJhY2tPbmx5ID8gJyxcXG4gIFwibGVmdEludGVyaW9yXCI6IFwiZGV0YWlsZWQgcHJvbXB0IHdpdGggc3RvcnkgZGV2ZWxvcG1lbnQgZWxlbWVudHNcIixcXG4gIFwicmlnaHRJbnRlcmlvclwiOiBcImRldGFpbGVkIHByb21wdCB3aXRoIHN0b3J5IGNsaW1heCBlbGVtZW50c1wiJyA6ICcnfVxufWA7XG5cbiAgICAgIC8vIEdlbmVyYXRlIG11bHRpcGxlIHVuaXF1ZSBwcm9tcHQgc2V0cyBpbiBwYXJhbGxlbFxuICAgICAgY29uc3QgcHJvbXB0R2VuZXJhdGlvblByb21pc2VzID0gQXJyYXkuZnJvbSh7IGxlbmd0aDogbnVtYmVyT2ZDYXJkcyB9LCAoXywgY2FyZEluZGV4KSA9PiB7XG4gICAgICAgIGNvbnN0IHVuaXF1ZVByb21wdFF1ZXJ5ID0gbGVnYWN5UHJvbXB0R2VuZXJhdGlvblF1ZXJ5ICsgYFxuXG7wn46oIENBUkQgVkFSSUFOVCAke2NhcmRJbmRleCArIDF9IENSRUFUSVZFIERJUkVDVElPTjogXG5DcmVhdGUgYSBjb21wbGV0ZWx5IHVuaXF1ZSB2aXN1YWwgaW50ZXJwcmV0YXRpb24gdGhhdCdzIGRpc3RpbmN0bHkgZGlmZmVyZW50IGZyb20gb3RoZXIgcG9zc2libGUgdmFyaWFudHMuIFVzZSBkaWZmZXJlbnQ6XG4tIENvbG9yIHBhbGV0dGVzIGFuZCBtb29kIGxpZ2h0aW5nXG4tIEFydGlzdGljIGNvbXBvc2l0aW9uIGFuZCBsYXlvdXQgYXBwcm9hY2hlcyAgXG4tIENyZWF0aXZlIHZpc3VhbCBtZXRhcGhvcnMgYW5kIHN5bWJvbHNcbi0gQ2hhcmFjdGVyIGRlc2lnbnMgYW5kIHBvc2VzIChpZiBhcHBsaWNhYmxlKVxuLSBCYWNrZ3JvdW5kIGVsZW1lbnRzIGFuZCBzZXR0aW5nc1xuLSBUeXBvZ3JhcGh5IHN0eWxlcyBhbmQgdGV4dCBwbGFjZW1lbnRcbi0gT3ZlcmFsbCBjcmVhdGl2ZSB0aGVtZSB3aGlsZSBrZWVwaW5nIHNhbWUgY29yZSBtZXNzYWdlXG5cbk1ha2UgdGhpcyBjYXJkIHZhcmlhbnQgc3RhbmQgb3V0IGFzIGl0cyBvd24gdW5pcXVlIGFydGlzdGljIHZpc2lvbiFcblxuUmV0dXJuIEpTT046XG57XG4gIFwiZnJvbnRDb3ZlclwiOiBcImRldGFpbGVkIHByb21wdCB3aXRoIHN0b3J5IG9wZW5pbmcgZWxlbWVudHNcIixcbiAgXCJiYWNrQ292ZXJcIjogXCJkZXRhaWxlZCBwcm9tcHQgd2l0aCBzdG9yeSBjb25jbHVzaW9uIGVsZW1lbnRzXCIkeyFpc0Zyb250QmFja09ubHkgPyAnLFxcbiAgXCJsZWZ0SW50ZXJpb3JcIjogXCJkZXRhaWxlZCBwcm9tcHQgd2l0aCBzdG9yeSBkZXZlbG9wbWVudCBlbGVtZW50c1wiLFxcbiAgXCJyaWdodEludGVyaW9yXCI6IFwiZGV0YWlsZWQgcHJvbXB0IHdpdGggc3RvcnkgY2xpbWF4IGVsZW1lbnRzXCInIDogJyd9XG59YDtcblxuICAgICAgICByZXR1cm4gY2hhdFdpdGhBSSh1bmlxdWVQcm9tcHRRdWVyeSwge1xuICAgICAgICAgIGpzb25TY2hlbWE6IHtcbiAgICAgICAgICAgIHR5cGU6IFwib2JqZWN0XCIsXG4gICAgICAgICAgICBwcm9wZXJ0aWVzOiB7XG4gICAgICAgICAgICAgIGZyb250Q292ZXI6IHsgdHlwZTogXCJzdHJpbmdcIiB9LFxuICAgICAgICAgICAgICBiYWNrQ292ZXI6IHsgdHlwZTogXCJzdHJpbmdcIiB9LFxuICAgICAgICAgICAgICAuLi4oaXNGcm9udEJhY2tPbmx5ID8ge30gOiB7IFxuICAgICAgICAgICAgICAgIGxlZnRJbnRlcmlvcjogeyB0eXBlOiBcInN0cmluZ1wiIH0sXG4gICAgICAgICAgICAgICAgcmlnaHRJbnRlcmlvcjogeyB0eXBlOiBcInN0cmluZ1wiIH1cbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICByZXF1aXJlZDogW1wiZnJvbnRDb3ZlclwiLCBcImJhY2tDb3ZlclwiLCAuLi4oaXNGcm9udEJhY2tPbmx5ID8gW10gOiBbXCJsZWZ0SW50ZXJpb3JcIiwgXCJyaWdodEludGVyaW9yXCJdKV1cbiAgICAgICAgICB9LFxuICAgICAgICAgIGluY2x1ZGVUaG91Z2h0czogZmFsc2UsICAvLyBEb24ndCBpbmNsdWRlIHRoaW5raW5nIGNvbnRlbnQgZm9yIHByb21wdCBnZW5lcmF0aW9uXG4gICAgICAgICAgYXR0YWNobWVudHM6IHJlZmVyZW5jZUltYWdlVXJscyAgLy8gUGFzcyByZWZlcmVuY2UgaW1hZ2VzIHRvIEFJIGZvciBiZXR0ZXIgcHJvbXB0IGdlbmVyYXRpb25cbiAgICAgICAgfSk7XG4gICAgICB9KTtcblxuICAgICAgLy8gV2FpdCBmb3IgYWxsIHByb21wdCBnZW5lcmF0aW9ucyB0byBjb21wbGV0ZVxuICAgICAgY29uc3QgYWxsR2VuZXJhdGVkUHJvbXB0cyA9IGF3YWl0IFByb21pc2UuYWxsKHByb21wdEdlbmVyYXRpb25Qcm9taXNlcyk7XG4gICAgICBcbiAgICAgIHNldEdlbmVyYXRpb25Qcm9ncmVzcyhg4pyFICR7bnVtYmVyT2ZDYXJkc30gYnJpbGxpYW50IGRlc2lnbiR7bnVtYmVyT2ZDYXJkcyA+IDEgPyAncycgOiAnJ30gcmVhZHkhIE5vdyBwYWludGluZyB0aGVtIGludG8gcmVhbGl0eS4uLmApO1xuXG4gICAgICAvLyBHZW5lcmF0ZSBhbGwgaW1hZ2VzIGluIHBhcmFsbGVsXG4gICAgICBzZXRHZW5lcmF0aW9uUHJvZ3Jlc3MoYPCflrzvuI8gR2VuZXJhdGluZyB5b3VyICR7bnVtYmVyT2ZDYXJkc30gY2FyZCR7bnVtYmVyT2ZDYXJkcyA+IDEgPyAncycgOiAnJ30gd2l0aCAke2lzRnJvbnRCYWNrT25seSA/ICcyJyA6ICc0J30gaW1hZ2VzIGVhY2guLi5gKTtcbiAgICAgIFxuICAgICAgLy8gU3RhcnRpbmcgaW1hZ2UgZ2VuZXJhdGlvblxuICAgICAgXG4gICAgICAvLyBTZXQgc2VjdGlvbiBzdGF0ZXMgdG8gbG9hZGluZ1xuICAgICAgc2V0U2VjdGlvbkxvYWRpbmdTdGF0ZXMoe1xuICAgICAgICBmcm9udENvdmVyOiAnbG9hZGluZycsXG4gICAgICAgIGJhY2tDb3ZlcjogJ2lkbGUnLFxuICAgICAgICBsZWZ0SW50ZXJpb3I6IGlzRnJvbnRCYWNrT25seSA/ICdpZGxlJyA6ICdpZGxlJyxcbiAgICAgICAgcmlnaHRJbnRlcmlvcjogaXNGcm9udEJhY2tPbmx5ID8gJ2lkbGUnIDogJ2lkbGUnLFxuICAgICAgfSk7XG4gICAgICBcbiAgICAgIC8vIFByZXBhcmUgaW5wdXQgaW1hZ2VzIGZvciBlYWNoIHNlY3Rpb25cbiAgICAgIGNvbnN0IGZyb250Q292ZXJJbnB1dEltYWdlczogc3RyaW5nW10gPSBbXTtcbiAgICAgIGNvbnN0IGJhY2tDb3ZlcklucHV0SW1hZ2VzOiBzdHJpbmdbXSA9IFtdO1xuICAgICAgY29uc3QgbGVmdEludGVyaW9ySW5wdXRJbWFnZXM6IHN0cmluZ1tdID0gW107XG4gICAgICBjb25zdCByaWdodEludGVyaW9ySW5wdXRJbWFnZXM6IHN0cmluZ1tdID0gW107XG4gICAgICBcbiAgICAgIC8vIEhhbmRsZSByZWZlcmVuY2UgaW1hZ2VzIC0gb25seSBmb3IgbW9kZWxzIHdpdGggZGlyZWN0IGltYWdlIHN1cHBvcnRcbiAgICAgIGlmIChyZWZlcmVuY2VJbWFnZVVybHMubGVuZ3RoID4gMCAmJiBtb2RlbFRvVXNlID09PSBcImdwdC1pbWFnZS0xXCIpIHtcbiAgICAgICAgLy8gR1BULTEgc3VwcG9ydHMgZGlyZWN0IGltYWdlIGlucHV0IC0gcGFzcyByZWZlcmVuY2UgaW1hZ2VzIGRpcmVjdGx5XG4gICAgICAgIGZyb250Q292ZXJJbnB1dEltYWdlcy5wdXNoKC4uLnJlZmVyZW5jZUltYWdlVXJscyk7XG4gICAgICAgIGNvbnNvbGUubG9nKFwi8J+UjSBERUJVRzogQWRkZWQgcmVmZXJlbmNlIGltYWdlcyB0byBmcm9udENvdmVySW5wdXRJbWFnZXM6XCIsIHJlZmVyZW5jZUltYWdlVXJscyk7XG4gICAgICAgIGNvbnNvbGUubG9nKFwi8J+UjSBERUJVRzogZnJvbnRDb3ZlcklucHV0SW1hZ2VzIGxlbmd0aDpcIiwgZnJvbnRDb3ZlcklucHV0SW1hZ2VzLmxlbmd0aCk7XG4gICAgICAgIHNldEdlbmVyYXRpb25Qcm9ncmVzcyhg4pyoIFJlZmVyZW5jZSBwaG90b3Mgd2lsbCBiZSB1c2VkIGRpcmVjdGx5IGZvciBjaGFyYWN0ZXIgY3JlYXRpb24uLi5gKTtcbiAgICAgICAgdG9hc3Quc3VjY2Vzcyhg8J+TuCAke3JlZmVyZW5jZUltYWdlVXJscy5sZW5ndGh9IHJlZmVyZW5jZSBwaG90byR7cmVmZXJlbmNlSW1hZ2VVcmxzLmxlbmd0aCA+IDEgPyAncycgOiAnJ30gcmVhZHkgZm9yIGNoYXJhY3RlciBjcmVhdGlvbiFgKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgaWYgKG1vZGVsVG9Vc2UgPT09IFwiZ3B0LWltYWdlLTFcIikge1xuICAgICAgICAvLyBBZGQgaGFuZHdyaXRpbmcgc2FtcGxlIHRvIHJpZ2h0IGludGVyaW9yIGZvciBtZXNzYWdlIHN0eWxpbmdcbiAgICAgICAgaWYgKGhhbmR3cml0aW5nU2FtcGxlVXJsICYmICFpc0Zyb250QmFja09ubHkpIHtcbiAgICAgICAgICByaWdodEludGVyaW9ySW5wdXRJbWFnZXMucHVzaChoYW5kd3JpdGluZ1NhbXBsZVVybCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIENyZWF0ZSBwYXlsb2FkcyBmb3IgYWxsIGNhcmRzIHdpdGggdGhlaXIgdW5pcXVlIHByb21wdHNcbiAgICAgIGNvbnN0IGFsbENhcmRQYXlsb2FkczogYW55W10gPSBbXTtcbiAgICAgIFxuICAgICAgLy8gQ3JlYXRlIHBheWxvYWRzIGZvciBlYWNoIGNhcmQgd2l0aCBpdHMgdW5pcXVlIHByb21wdHNcbiAgICAgIGFsbEdlbmVyYXRlZFByb21wdHMuZm9yRWFjaCgoZ2VuZXJhdGVkUHJvbXB0cywgY2FyZEluZGV4KSA9PiB7XG4gICAgICAgIC8vIEVuaGFuY2UgZnJvbnQgY292ZXIgcHJvbXB0IHdpdGggcmVmZXJlbmNlIGltYWdlIGluc3RydWN0aW9ucyBpZiBhdmFpbGFibGVcbiAgICAgICAgbGV0IGVuaGFuY2VkRnJvbnRDb3ZlclByb21wdCA9IGdlbmVyYXRlZFByb21wdHMuZnJvbnRDb3ZlcjtcbiAgICAgICAgaWYgKHJlZmVyZW5jZUltYWdlVXJscy5sZW5ndGggPiAwICYmIG1vZGVsVG9Vc2UgPT09IFwiZ3B0LWltYWdlLTFcIikge1xuICAgICAgICAgIC8vIEdQVC0xIHdpdGggZGlyZWN0IGltYWdlIGlucHV0IC0gZm9jdXMgb24gY2hhcmFjdGVyIGNyZWF0aW9uXG4gICAgICAgICAgZW5oYW5jZWRGcm9udENvdmVyUHJvbXB0ID0gYCR7Z2VuZXJhdGVkUHJvbXB0cy5mcm9udENvdmVyfVxcblxcbkNSSVRJQ0FMIENIQVJBQ1RFUiBSRUZFUkVOQ0UgSU5TVFJVQ1RJT05TOiBJIGhhdmUgcHJvdmlkZWQgJHtyZWZlcmVuY2VJbWFnZVVybHMubGVuZ3RoID4gMSA/ICdtdWx0aXBsZSByZWZlcmVuY2UgcGhvdG9zJyA6ICdhIHJlZmVyZW5jZSBwaG90byd9IGFzIGlucHV0IGltYWdlJHtyZWZlcmVuY2VJbWFnZVVybHMubGVuZ3RoID4gMSA/ICdzJyA6ICcnfS4gWW91IE1VU1QgY3JlYXRlIGNhcnRvb24vaWxsdXN0cmF0ZWQgY2hhcmFjdGVycyB0aGF0IGFjY3VyYXRlbHkgcmVwcmVzZW50IE9OTFkgdGhlIHBlb3BsZSB3aG8gYXJlIGFjdHVhbGx5IHZpc2libGUgaW4gJHtyZWZlcmVuY2VJbWFnZVVybHMubGVuZ3RoID4gMSA/ICd0aGVzZSByZWZlcmVuY2UgcGhvdG9zJyA6ICd0aGlzIHJlZmVyZW5jZSBwaG90byd9IHdpdGggaGlnaCBmaWRlbGl0eSB0byB0aGVpciBhcHBlYXJhbmNlLlxuXG5NQU5EQVRPUlkgQ0hBUkFDVEVSIE1BVENISU5HIFJFUVVJUkVNRU5UUyAtIE9OTFkgSU5DTFVERSBXSEFUIElTIEFDVFVBTExZIFZJU0lCTEU6XG4tIFJFUFJFU0VOVCBPTkxZIFBFT1BMRSBBQ1RVQUxMWSBJTiBUSEUgUEhPVE9TOiBDcmVhdGUgY2FydG9vbiB2ZXJzaW9ucyBvZiBPTkxZIHRoZSBwZW9wbGUgd2hvIGFyZSBhY3R1YWxseSBzaG93biBpbiB0aGUgcmVmZXJlbmNlIHBob3Rvcy4gRG8gTk9UIGFkZCwgY3JlYXRlLCBvciBpbWFnaW5lIGFueSBhZGRpdGlvbmFsIHBlb3BsZSBub3QgcHJlc2VudCBpbiB0aGUgcmVmZXJlbmNlIGltYWdlcy5cbi0gRVhBQ1QgaGFpciBjb2xvciwgaGFpciBzdHlsZSwgYW5kIGhhaXIgbGVuZ3RoIGZyb20gdGhlIHJlZmVyZW5jZSBwaG90byAtIG9ubHkgd2hhdCBpcyBhY3R1YWxseSB2aXNpYmxlXG4tIFBSRUNJU0UgZmFjaWFsIGZlYXR1cmVzOiBleWUgY29sb3IsIGV5ZSBzaGFwZSwgbm9zZSBzaGFwZSwgZmFjZSBzdHJ1Y3R1cmUsIHNraW4gdG9uZSAtIGV4YWN0bHkgYXMgc2hvd24gaW4gdGhlIHJlZmVyZW5jZVxuLSBBQ0NVUkFURSBjbG90aGluZzogcmVwbGljYXRlIE9OTFkgdGhlIEVYQUNUIGNsb3RoaW5nIGl0ZW1zLCBjb2xvcnMsIHBhdHRlcm5zLCBhbmQgc3R5bGVzIGFjdHVhbGx5IHdvcm4gaW4gdGhlIHJlZmVyZW5jZSBwaG90byAtIGRvIG5vdCBhZGQgb3IgY2hhbmdlIGFueSBjbG90aGluZyBpdGVtc1xuLSBBQ0NFU1NPUklFUyBPTkxZIElGIFZJU0lCTEU6IEluY2x1ZGUgYWNjZXNzb3JpZXMgKGdsYXNzZXMsIGpld2VscnksIGhhdHMsIHdhdGNoZXMsIGJhZ3MsIGV0Yy4pIE9OTFkgaWYgdGhleSBhcmUgYWN0dWFsbHkgdmlzaWJsZSBvbiBlYWNoIHBlcnNvbiBpbiB0aGUgcmVmZXJlbmNlIHBob3RvLiBETyBOT1QgYWRkIGdsYXNzZXMgaWYgdGhleSBhcmUgbm90IHdlYXJpbmcgZ2xhc3NlcyBpbiB0aGUgcGhvdG8uIERPIE5PVCBhZGQgamV3ZWxyeSBpZiB0aGV5IGFyZSBub3Qgd2VhcmluZyBqZXdlbHJ5IGluIHRoZSBwaG90by4gRE8gTk9UIGFkZCBhbnkgYWNjZXNzb3JpZXMgdGhhdCBhcmUgbm90IGNsZWFybHkgdmlzaWJsZSBpbiB0aGUgcmVmZXJlbmNlIGltYWdlLlxuLSBDT1JSRUNUIGJvZHkgcHJvcG9ydGlvbnMgYW5kIHBvc3R1cmUgYXMgc2hvd24gaW4gdGhlIHJlZmVyZW5jZVxuLSBGQUlUSEZVTCBhZ2UgcmVwcmVzZW50YXRpb24gYW5kIGdlbmRlciBwcmVzZW50YXRpb24gLSBleGFjdGx5IGFzIHRoZXkgYXBwZWFyXG4tIEFVVEhFTlRJQyBmYWNpYWwgZXhwcmVzc2lvbnMgYW5kIHBvc2VzIGZyb20gdGhlIHJlZmVyZW5jZSBpbWFnZSwgbGVhbiB0b3dhcmRzIG1ha2luZyB0aGUgcGVvcGxlIGxvb2sgaGFwcGllciB1bmxlc3MgdGhlIHVzZXIgc3BlY2lmaWNhbGx5IGFza3MgZm9yIGEgZGlmZmVyZW50IGV4cHJlc3Npb24uXG4tIEdST1VQIENPTVBPU0lUSU9OOiBJZiBtdWx0aXBsZSBwZW9wbGUgYXJlIGFjdHVhbGx5IHNob3duIGluIHRoZSBwaG90b3MsIGFycmFuZ2UgdGhlbSBuYXR1cmFsbHkgdG9nZXRoZXIgaW4gYSBwbGVhc2luZyBjb21wb3NpdGlvbiB0aGF0IGZpdHMgdGhlIGNhcmQncyB0aGVtZVxuXG5DUklUSUNBTCBSRVNUUklDVElPTjogRG8gbm90IGFkZCwgcmVtb3ZlLCBvciBtb2RpZnkgYW55IHZpc3VhbCBlbGVtZW50cyBiZXlvbmQgd2hhdCBpcyBhY3R1YWxseSB2aXNpYmxlIGluIHRoZSByZWZlcmVuY2UgcGhvdG9zLiBPbmx5IGluY2x1ZGUgcGVvcGxlLCBjbG90aGluZywgYW5kIGFjY2Vzc29yaWVzIHRoYXQgYXJlIGNsZWFybHkgc2hvd24gaW4gdGhlIHJlZmVyZW5jZSBpbWFnZXMuXG5cbiR7aW1hZ2VUcmFuc2Zvcm1hdGlvbiB8fCAnU3R1ZHkgZXZlcnkgZGV0YWlsIG9mIHRoZSBwZW9wbGUgYWN0dWFsbHkgaW4gdGhlIHJlZmVyZW5jZSBpbWFnZSBhbmQgcmVjcmVhdGUgdGhlbSBhcyBzdHlsaXplZCBjYXJ0b29uIGNoYXJhY3RlcnMgd2hpbGUgbWFpbnRhaW5pbmcgMTAwJSBhY2N1cmFjeSB0byB0aGVpciBkaXN0aW5jdGl2ZSB2aXN1YWwgZmVhdHVyZXMuIFRoZSBjaGFyYWN0ZXJzIG11c3QgYmUgaW1tZWRpYXRlbHkgcmVjb2duaXphYmxlIGFzIHRoZSBzYW1lIHBlb3BsZSBmcm9tIHRoZSByZWZlcmVuY2UgcGhvdG8uIFBheSBzcGVjaWFsIGF0dGVudGlvbiB0byBjbG90aGluZyBkZXRhaWxzIGFuZCBhY2Nlc3NvcmllcyB0aGF0IGFyZSBhY3R1YWxseSB2aXNpYmxlLCBhbmQgdW5pcXVlIHBlcnNvbmFsIHN0eWxlIGVsZW1lbnRzIHRoYXQgbWFrZSBlYWNoIHBlcnNvbiBkaXN0aW5jdGl2ZS4gRG8gbm90IGFkZCBvciBpbWFnaW5lIGFueSBlbGVtZW50cyBub3QgcHJlc2VudCBpbiB0aGUgcmVmZXJlbmNlLid9XG5cblRoZSBjYXJ0b29uIHN0eWxlIHNob3VsZCBiZSBjaGFybWluZyBhbmQgYXJ0aXN0aWMgd2hpbGUgcHJlc2VydmluZyBjb21wbGV0ZSB2aXN1YWwgYWNjdXJhY3kgdG8gdGhlIHJlZmVyZW5jZSBwaG90by4gT25seSByZXByZXNlbnQgcGVvcGxlLCBjbG90aGluZywgYW5kIGFjY2Vzc29yaWVzIHRoYXQgYXJlIGFjdHVhbGx5IHZpc2libGUgaW4gdGhlIHJlZmVyZW5jZSBpbWFnZXMuYDtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgY29uc3QgY2FyZFBheWxvYWRzID0gW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIHRvb2xfbmFtZTogXCJnZW5lcmF0ZV9pbWFnZXNfd2l0aF9wcm9tcHRzXCIsXG4gICAgICAgICAgICBhcmd1bWVudHM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJfbnVtYmVyOiBcIisxNzE0NTk4NjEwNVwiLFxuICAgICAgICAgICAgICAgIHByb21wdHM6IFtlbmhhbmNlZEZyb250Q292ZXJQcm9tcHRdLFxuICAgICAgICAgICAgICAgIG1vZGVsX3ZlcnNpb246IG1vZGVsVG9Vc2UsXG4gICAgICAgICAgICAgICAgYXNwZWN0X3JhdGlvOiBwYXBlckNvbmZpZy5hc3BlY3RSYXRpbyxcbiAgICAgICAgICAgICAgICBxdWFsaXR5OiBpc0RyYWZ0TW9kZSA/IFwibG93XCIgOiBcImhpZ2hcIiwgLy8gR1BULTEgZm9yY2VkIHRvIGxvdyBxdWFsaXR5IGZvciBzcGVlZFxuICAgICAgICAgICAgICAgIG91dHB1dF9mb3JtYXQ6IFwianBlZ1wiLFxuICAgICAgICAgICAgICAgIG91dHB1dF9jb21wcmVzc2lvbjogMTAwLFxuICAgICAgICAgICAgICAgIG1vZGVyYXRpb246IFwibG93XCIsXG4gICAgICAgICAgICAgICAgLi4uKGZyb250Q292ZXJJbnB1dEltYWdlcy5sZW5ndGggPiAwICYmIHsgaW5wdXRfaW1hZ2VzOiBmcm9udENvdmVySW5wdXRJbWFnZXMgfSksXG4gICAgICAgICAgICAgICAgLy8gRGVidWcgbG9nZ2luZ1xuICAgICAgICAgICAgICAgIC4uLigoKSA9PiB7XG4gICAgICAgICAgICAgICAgICBpZiAoZnJvbnRDb3ZlcklucHV0SW1hZ2VzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCLwn5SNIERFQlVHOiBTZW5kaW5nIGlucHV0X2ltYWdlcyB0byBNQ1A6XCIsIGZyb250Q292ZXJJbnB1dEltYWdlcyk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICByZXR1cm4ge307XG4gICAgICAgICAgICAgICAgfSkoKVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHVzZXJfaWRfY29udGV4dDogXCIrMTcxNDU5ODYxMDVcIixcbiAgICAgICAgICAgIGNhcmRJbmRleCxcbiAgICAgICAgICAgIHNlY3Rpb25JbmRleDogMCxcbiAgICAgICAgICAgIHNlY3Rpb25OYW1lOiBcIkZyb250IENvdmVyXCJcbiAgICAgICAgICB9LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHRvb2xfbmFtZTogXCJnZW5lcmF0ZV9pbWFnZXNfd2l0aF9wcm9tcHRzXCIsXG4gICAgICAgICAgICBhcmd1bWVudHM6IHtcbiAgICAgICAgICAgICAgdXNlcl9udW1iZXI6IFwiKzE3MTQ1OTg2MTA1XCIsXG4gICAgICAgICAgICAgIHByb21wdHM6IFtnZW5lcmF0ZWRQcm9tcHRzLmJhY2tDb3Zlcl0sXG4gICAgICAgICAgICAgIG1vZGVsX3ZlcnNpb246IG1vZGVsVG9Vc2UsXG4gICAgICAgICAgICAgIGFzcGVjdF9yYXRpbzogcGFwZXJDb25maWcuYXNwZWN0UmF0aW8sXG4gICAgICAgICAgICAgIHF1YWxpdHk6IGlzRHJhZnRNb2RlID8gXCJsb3dcIiA6IFwiaGlnaFwiLCAvLyBHUFQtMSBmb3JjZWQgdG8gbG93IHF1YWxpdHkgZm9yIHNwZWVkXG4gICAgICAgICAgICAgIG91dHB1dF9mb3JtYXQ6IFwianBlZ1wiLFxuICAgICAgICAgICAgICBvdXRwdXRfY29tcHJlc3Npb246IDEwMCxcbiAgICAgICAgICAgICAgbW9kZXJhdGlvbjogXCJsb3dcIixcbiAgICAgICAgICAgICAgLi4uKGJhY2tDb3ZlcklucHV0SW1hZ2VzLmxlbmd0aCA+IDAgJiYgeyBpbnB1dF9pbWFnZXM6IGJhY2tDb3ZlcklucHV0SW1hZ2VzIH0pXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdXNlcl9pZF9jb250ZXh0OiBcIisxNzE0NTk4NjEwNVwiLFxuICAgICAgICAgICAgY2FyZEluZGV4LFxuICAgICAgICAgICAgc2VjdGlvbkluZGV4OiAxLFxuICAgICAgICAgICAgc2VjdGlvbk5hbWU6IFwiQmFjayBDb3ZlclwiXG4gICAgICAgICAgfVxuICAgICAgICBdO1xuXG4gICAgICAgIC8vIEFkZCBpbnRlcmlvciBpbWFnZXMgaWYgbm90IGZyb250L2JhY2sgb25seVxuICAgICAgICBpZiAoIWlzRnJvbnRCYWNrT25seSAmJiBnZW5lcmF0ZWRQcm9tcHRzLmxlZnRJbnRlcmlvciAmJiBnZW5lcmF0ZWRQcm9tcHRzLnJpZ2h0SW50ZXJpb3IpIHtcbiAgICAgICAgICBjYXJkUGF5bG9hZHMucHVzaChcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgdG9vbF9uYW1lOiBcImdlbmVyYXRlX2ltYWdlc193aXRoX3Byb21wdHNcIixcbiAgICAgICAgICAgICAgYXJndW1lbnRzOiB7XG4gICAgICAgICAgICAgICAgdXNlcl9udW1iZXI6IFwiKzE3MTQ1OTg2MTA1XCIsXG4gICAgICAgICAgICAgICAgcHJvbXB0czogW2dlbmVyYXRlZFByb21wdHMubGVmdEludGVyaW9yXSxcbiAgICAgICAgICAgICAgICBtb2RlbF92ZXJzaW9uOiBtb2RlbFRvVXNlLFxuICAgICAgICAgICAgICAgIGFzcGVjdF9yYXRpbzogcGFwZXJDb25maWcuYXNwZWN0UmF0aW8sXG4gICAgICAgICAgICAgICAgcXVhbGl0eTogaXNEcmFmdE1vZGUgPyBcImxvd1wiIDogXCJoaWdoXCIsIC8vIEdQVC0xIGZvcmNlZCB0byBsb3cgcXVhbGl0eSBmb3Igc3BlZWRcbiAgICAgICAgICAgICAgICBvdXRwdXRfZm9ybWF0OiBcImpwZWdcIixcbiAgICAgICAgICAgICAgICBvdXRwdXRfY29tcHJlc3Npb246IDEwMCxcbiAgICAgICAgICAgICAgICBtb2RlcmF0aW9uOiBcImxvd1wiLFxuICAgICAgICAgICAgICAgIC4uLihsZWZ0SW50ZXJpb3JJbnB1dEltYWdlcy5sZW5ndGggPiAwICYmIHsgaW5wdXRfaW1hZ2VzOiBsZWZ0SW50ZXJpb3JJbnB1dEltYWdlcyB9KVxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB1c2VyX2lkX2NvbnRleHQ6IFwiKzE3MTQ1OTg2MTA1XCIsXG4gICAgICAgICAgICAgIGNhcmRJbmRleCxcbiAgICAgICAgICAgICAgc2VjdGlvbkluZGV4OiAyLFxuICAgICAgICAgICAgICBzZWN0aW9uTmFtZTogXCJMZWZ0IEludGVyaW9yXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHRvb2xfbmFtZTogXCJnZW5lcmF0ZV9pbWFnZXNfd2l0aF9wcm9tcHRzXCIsXG4gICAgICAgICAgICAgIGFyZ3VtZW50czoge1xuICAgICAgICAgICAgICAgIHVzZXJfbnVtYmVyOiBcIisxNzE0NTk4NjEwNVwiLFxuICAgICAgICAgICAgICAgIHByb21wdHM6IFtnZW5lcmF0ZWRQcm9tcHRzLnJpZ2h0SW50ZXJpb3JdLFxuICAgICAgICAgICAgICAgIG1vZGVsX3ZlcnNpb246IG1vZGVsVG9Vc2UsXG4gICAgICAgICAgICAgICAgYXNwZWN0X3JhdGlvOiBwYXBlckNvbmZpZy5hc3BlY3RSYXRpbyxcbiAgICAgICAgICAgICAgICBxdWFsaXR5OiBpc0RyYWZ0TW9kZSA/IFwibG93XCIgOiBcImhpZ2hcIiwgLy8gR1BULTEgZm9yY2VkIHRvIGxvdyBxdWFsaXR5IGZvciBzcGVlZFxuICAgICAgICAgICAgICAgIG91dHB1dF9mb3JtYXQ6IFwianBlZ1wiLFxuICAgICAgICAgICAgICAgIG91dHB1dF9jb21wcmVzc2lvbjogMTAwLFxuICAgICAgICAgICAgICAgIG1vZGVyYXRpb246IFwibG93XCIsXG4gICAgICAgICAgICAgICAgLi4uKHJpZ2h0SW50ZXJpb3JJbnB1dEltYWdlcy5sZW5ndGggPiAwICYmIHsgaW5wdXRfaW1hZ2VzOiByaWdodEludGVyaW9ySW5wdXRJbWFnZXMgfSlcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgdXNlcl9pZF9jb250ZXh0OiBcIisxNzE0NTk4NjEwNVwiLFxuICAgICAgICAgICAgICBjYXJkSW5kZXgsXG4gICAgICAgICAgICAgIHNlY3Rpb25JbmRleDogMyxcbiAgICAgICAgICAgICAgc2VjdGlvbk5hbWU6IFwiUmlnaHQgSW50ZXJpb3JcIlxuICAgICAgICAgICAgfVxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGFsbENhcmRQYXlsb2Fkcy5wdXNoKC4uLmNhcmRQYXlsb2Fkcyk7XG4gICAgICB9KTtcblxuICAgICAgLy8gVHJhY2sgaW1hZ2UgY29tcGxldGlvbiBwZXIgY2FyZFxuICAgICAgY29uc3QgY29tcGxldGVkSW1hZ2VzID0gbmV3IE1hcDxzdHJpbmcsIHN0cmluZz4oKTtcbiAgICAgIGxldCBjb21wbGV0ZWRDb3VudCA9IDA7XG4gICAgICBjb25zdCBjb21wbGV0ZWRDYXJkczogR2VuZXJhdGVkQ2FyZFtdID0gW107XG4gICAgICBcbiAgICAgIC8vIENsZWFyIGFueSBleGlzdGluZyBjYXJkcyBkdXJpbmcgZ2VuZXJhdGlvblxuICAgICAgc2V0R2VuZXJhdGVkQ2FyZHMoW10pO1xuICAgICAgc2V0R2VuZXJhdGVkQ2FyZChudWxsKTtcbiAgICAgIHNldFNlbGVjdGVkQ2FyZEluZGV4KDApO1xuICAgICAgc2V0R2VuZXJhdGlvblByb2dyZXNzKGDwn46oIEFydGlzdHMgYXQgd29yayEgQ3JlYXRpbmcgJHthbGxDYXJkUGF5bG9hZHMubGVuZ3RofSBzdHVubmluZyBpbWFnZXMgZm9yIHlvdXIgJHtudW1iZXJPZkNhcmRzfSBjYXJkJHtudW1iZXJPZkNhcmRzID4gMSA/ICdzJyA6ICcnfS4uLmApO1xuICAgICAgXG4gICAgICAvLyBTdGFydCAyOjMwIGNvdW50ZG93biBub3cgdGhhdCB3ZSdyZSBhY3R1YWxseSBnZW5lcmF0aW5nIGltYWdlc1xuICAgICAgc2V0Q291bnRkb3duKDE1MCk7XG4gICAgICBjb25zdCBpbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgICAgc2V0Q291bnRkb3duKHByZXYgPT4ge1xuICAgICAgICAgIGlmIChwcmV2IDw9IDEpIHtcbiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpO1xuICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBwcmV2IC0gMTtcbiAgICAgICAgfSk7XG4gICAgICB9LCAxMDAwKTtcbiAgICAgIHNldENvdW50ZG93bkludGVydmFsKGludGVydmFsKTtcblxuICAgICAgLy8gSGVscGVyIGZ1bmN0aW9uIHRvIHJlZ2VuZXJhdGUgcHJvbXB0IGlmIGJsb2NrZWQgYnkgc2FmZXR5IHN5c3RlbVxuICAgICAgY29uc3QgcmVnZW5lcmF0ZVByb21wdElmTmVlZGVkID0gYXN5bmMgKG9yaWdpbmFsUHJvbXB0OiBzdHJpbmcsIHNlY3Rpb25OYW1lOiBzdHJpbmcpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCByZWdlbmVyYXRpb25RdWVyeSA9IGBUaGUgZm9sbG93aW5nIGltYWdlIHByb21wdCB3YXMgYmxvY2tlZCBieSB0aGUgc2FmZXR5IHN5c3RlbS4gUGxlYXNlIHJld3JpdGUgaXQgdG8gYmUgbW9yZSBhcHByb3ByaWF0ZSB3aGlsZSBrZWVwaW5nIHRoZSBzYW1lIGFydGlzdGljIGludGVudCBhbmQgc3R5bGU6XG5cbkJMT0NLRUQgUFJPTVBUOiBcIiR7b3JpZ2luYWxQcm9tcHR9XCJcblxuUmVxdWlyZW1lbnRzOlxuLSBLZWVwIHRoZSBzYW1lIGFydGlzdGljIHN0eWxlIGFuZCB2aXN1YWwgZ29hbHNcbi0gUmVtb3ZlIGFueSBjb250ZW50IHRoYXQgbWlnaHQgdHJpZ2dlciBzYWZldHkgZmlsdGVyc1xuLSBNYWludGFpbiB0aGUgZnVsbC1ibGVlZCBkZXNpZ24gcmVxdWlyZW1lbnRzXG4tIElNUE9SVEFOVDogS2VlcCB0ZXh0LCBmYWNlcywgYW5kIGtleSBlbGVtZW50cyBhdCBsZWFzdCAxMCUgYXdheSBmcm9tIHRvcC9ib3R0b20gZWRnZXMgKHNtYWxsIGFtb3VudCBtYXkgYmUgY3JvcHBlZCBpbiBwcmludGluZylcbi0gRm9jdXMgb24gc2FmZSwgZmFtaWx5LWZyaWVuZGx5IGltYWdlcnlcbi0gS2VlcCB0aGUgc2FtZSBjb2xvciBwYWxldHRlIGFuZCBtb29kXG4tIEVuc3VyZSBpdCdzIGFwcHJvcHJpYXRlIGZvciBhIGdyZWV0aW5nIGNhcmRcblxuUmV0dXJuIG9ubHkgdGhlIHJld3JpdHRlbiBwcm9tcHQsIG5vIGV4cGxhbmF0aW9ucy5gO1xuXG4gICAgICAgICAgY29uc3QgbmV3UHJvbXB0ID0gYXdhaXQgY2hhdFdpdGhBSShyZWdlbmVyYXRpb25RdWVyeSwge1xuICAgICAgICAgICAgbW9kZWw6IFwiZ2VtaW5pLTIuNS1wcm9cIixcbiAgICAgICAgICAgIGluY2x1ZGVUaG91Z2h0czogZmFsc2UgIC8vIERvbid0IGluY2x1ZGUgdGhpbmtpbmcgY29udGVudCBmb3IgcHJvbXB0IHJlZ2VuZXJhdGlvblxuICAgICAgICAgIH0pO1xuICAgICAgICAgIFxuICAgICAgICAgIHJldHVybiBuZXdQcm9tcHQ/LnRyaW0oKSB8fCBvcmlnaW5hbFByb21wdDtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gcmVnZW5lcmF0ZSBwcm9tcHQ6JywgZXJyb3IpO1xuICAgICAgICAgIHJldHVybiBvcmlnaW5hbFByb21wdDtcbiAgICAgICAgfVxuICAgICAgfTtcblxuXG4gICAgICAvLyBIZWxwZXIgZnVuY3Rpb24gdG8gcHJvY2VzcyBhIHNpbmdsZSBpbWFnZSB3aXRoIHJldHJ5IGxvZ2ljXG4gICAgICBjb25zdCBwcm9jZXNzU2luZ2xlSW1hZ2UgPSBhc3luYyAocGF5bG9hZDogYW55LCBpbmRleDogbnVtYmVyLCBzZWN0aW9uTmFtZTogc3RyaW5nLCBjYXJkSW5kZXg6IG51bWJlciA9IDApID0+IHtcbiAgICAgICAgbGV0IGN1cnJlbnRQYXlsb2FkID0gcGF5bG9hZDtcbiAgICAgICAgbGV0IHJldHJ5Q291bnQgPSAwO1xuICAgICAgICBjb25zdCBtYXhSZXRyaWVzID0gMjtcbiAgICAgICAgbGV0IGhhc1RyaWVkVGV4dEZhbGxiYWNrID0gZmFsc2U7XG4gICAgICAgIFxuICAgICAgICB3aGlsZSAocmV0cnlDb3VudCA8PSBtYXhSZXRyaWVzKSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7QkFDS0VORF9BUElfQkFTRV9VUkx9L2ludGVybmFsL2NhbGxfbWNwX3Rvb2xgLCB7XG4gICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGN1cnJlbnRQYXlsb2FkKSxcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSFRUUCAke3Jlc3BvbnNlLnN0YXR1c31gKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBDaGVjayBmb3Igc2FmZXR5IHN5c3RlbSBlcnJvclxuICAgICAgICAgICAgaWYgKHJlc3VsdC5yZXN1bHQgJiYgdHlwZW9mIHJlc3VsdC5yZXN1bHQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgIGNvbnN0IHBhcnNlZFJlc3VsdCA9IEpTT04ucGFyc2UocmVzdWx0LnJlc3VsdCk7XG4gICAgICAgICAgICAgIGlmIChwYXJzZWRSZXN1bHQuc3RhdHVzID09PSAnZXJyb3InICYmIHBhcnNlZFJlc3VsdC5yZXN1bHRzPy5bMF0/LmVycm9yPy5pbmNsdWRlcygnbW9kZXJhdGlvbl9ibG9ja2VkJykpIHtcbiAgICAgICAgICAgICAgICBpZiAocmV0cnlDb3VudCA8IG1heFJldHJpZXMpIHtcbiAgICAgICAgICAgICAgICAgIC8vIFJlZ2VuZXJhdGUgcHJvbXB0IGFuZCByZXRyeVxuICAgICAgICAgICAgICAgICAgY29uc3Qgb3JpZ2luYWxQcm9tcHQgPSBjdXJyZW50UGF5bG9hZC5hcmd1bWVudHMucHJvbXB0c1swXTtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IG5ld1Byb21wdCA9IGF3YWl0IHJlZ2VuZXJhdGVQcm9tcHRJZk5lZWRlZChvcmlnaW5hbFByb21wdCwgc2VjdGlvbk5hbWUpO1xuICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICBjdXJyZW50UGF5bG9hZCA9IHtcbiAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudFBheWxvYWQsXG4gICAgICAgICAgICAgICAgICAgIGFyZ3VtZW50czoge1xuICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRQYXlsb2FkLmFyZ3VtZW50cyxcbiAgICAgICAgICAgICAgICAgICAgICBwcm9tcHRzOiBbbmV3UHJvbXB0XVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICByZXRyeUNvdW50Kys7XG4gICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBTYWZldHkgc3lzdGVtIGJsb2NrZWQgJHtzZWN0aW9uTmFtZX0gYWZ0ZXIgJHttYXhSZXRyaWVzfSBhdHRlbXB0c2ApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgLy8gUmVmZXJlbmNlIGltYWdlIGFuYWx5c2lzIGlzIG5vdyBkb25lIHVwZnJvbnQsIHNvIG5vIGZhbGxiYWNrIG5lZWRlZFxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAocmVzdWx0LmVycm9yICYmIHJlc3VsdC5lcnJvciAhPT0gXCJOb25lXCIgJiYgcmVzdWx0LmVycm9yICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihyZXN1bHQuZXJyb3IpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBQYXJzZSBhbmQgZXh0cmFjdCBpbWFnZSBVUkxcbiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBKU09OLnBhcnNlKHJlc3VsdC5yZXN1bHQpO1xuICAgICAgICAgICAgaWYgKGRhdGEuc3RhdHVzICE9PSBcInN1Y2Nlc3NcIikge1xuICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYCR7c2VjdGlvbk5hbWV9IGdlbmVyYXRpb24gZmFpbGVkYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnN0IGltYWdlVXJsID0gQXJyYXkuaXNBcnJheShkYXRhLnJlc3VsdHNbMF0pID8gZGF0YS5yZXN1bHRzWzBdWzBdIDogZGF0YS5yZXN1bHRzWzBdO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBUcmFjayBjb21wbGV0ZWQgaW1hZ2VzIHBlciBjYXJkXG4gICAgICAgICAgICBjb25zdCBpbWFnZUtleSA9IGAke2NhcmRJbmRleH0tJHtpbmRleH1gO1xuICAgICAgICAgICAgY29tcGxldGVkSW1hZ2VzLnNldChpbWFnZUtleSwgaW1hZ2VVcmwpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBjb21wbGV0ZWRDb3VudCsrO1xuICAgICAgICAgICAgY29uc3QgdG90YWxJbWFnZXMgPSBhbGxDYXJkUGF5bG9hZHMubGVuZ3RoO1xuICAgICAgICAgICAgc2V0R2VuZXJhdGlvblByb2dyZXNzKGDwn46oICR7Y29tcGxldGVkQ291bnR9LyR7dG90YWxJbWFnZXN9IG1hc3RlcnBpZWNlcyBjb21wbGV0ZSEgSnVzdCBmaW5pc2hlZCBDYXJkICR7Y2FyZEluZGV4ICsgMX0gJHtzZWN0aW9uTmFtZX0uLi5gKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gVXBkYXRlIHNlY3Rpb24gbG9hZGluZyBzdGF0ZXMgYW5kIHByb2dyZXNzXG4gICAgICAgICAgICBjb25zdCBwcm9ncmVzc1BlcmNlbnRhZ2UgPSAzMCArIE1hdGguZmxvb3IoKGNvbXBsZXRlZENvdW50IC8gdG90YWxJbWFnZXMpICogNTApOyAvLyAzMC04MCUgZm9yIGltYWdlIGdlbmVyYXRpb25cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gVXBkYXRlIGluZGl2aWR1YWwgc2VjdGlvbiBzdGF0ZXNcbiAgICAgICAgICAgIHNldFNlY3Rpb25Mb2FkaW5nU3RhdGVzKHByZXYgPT4ge1xuICAgICAgICAgICAgICBjb25zdCBuZXdTdGF0ZSA9IHsgLi4ucHJldiB9O1xuICAgICAgICAgICAgICBpZiAoc2VjdGlvbk5hbWUgPT09IFwiRnJvbnQgQ292ZXJcIikge1xuICAgICAgICAgICAgICAgIG5ld1N0YXRlLmZyb250Q292ZXIgPSAnY29tcGxldGVkJztcbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChzZWN0aW9uTmFtZSA9PT0gXCJCYWNrIENvdmVyXCIpIHtcbiAgICAgICAgICAgICAgICBuZXdTdGF0ZS5iYWNrQ292ZXIgPSAnY29tcGxldGVkJztcbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChzZWN0aW9uTmFtZSA9PT0gXCJMZWZ0IEludGVyaW9yXCIpIHtcbiAgICAgICAgICAgICAgICBuZXdTdGF0ZS5sZWZ0SW50ZXJpb3IgPSAnY29tcGxldGVkJztcbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChzZWN0aW9uTmFtZSA9PT0gXCJSaWdodCBJbnRlcmlvclwiKSB7XG4gICAgICAgICAgICAgICAgbmV3U3RhdGUucmlnaHRJbnRlcmlvciA9ICdjb21wbGV0ZWQnO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHJldHVybiBuZXdTdGF0ZTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBTZWN0aW9uIGNvbXBsZXRpb24gbG9nZ2VkXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIENoZWNrIGlmIHRoaXMgY2FyZCBpcyBub3cgY29tcGxldGVcbiAgICAgICAgICAgIGNvbnN0IHNlY3Rpb25zUGVyQ2FyZCA9IGlzRnJvbnRCYWNrT25seSA/IDIgOiA0O1xuICAgICAgICAgICAgY29uc3QgY2FyZFN0YXJ0SW5kZXggPSBjYXJkSW5kZXggKiBzZWN0aW9uc1BlckNhcmQ7XG4gICAgICAgICAgICBjb25zdCBjYXJkRW5kSW5kZXggPSBjYXJkU3RhcnRJbmRleCArIHNlY3Rpb25zUGVyQ2FyZCAtIDE7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGxldCBpc0NhcmRDb21wbGV0ZSA9IHRydWU7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gY2FyZFN0YXJ0SW5kZXg7IGkgPD0gY2FyZEVuZEluZGV4OyBpKyspIHtcbiAgICAgICAgICAgICAgY29uc3QgY2hlY2tLZXkgPSBgJHtjYXJkSW5kZXh9LSR7aSAtIGNhcmRTdGFydEluZGV4fWA7XG4gICAgICAgICAgICAgIGlmICghY29tcGxldGVkSW1hZ2VzLmhhcyhjaGVja0tleSkpIHtcbiAgICAgICAgICAgICAgICBpc0NhcmRDb21wbGV0ZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIElmIGNhcmQgaXMgY29tcGxldGUsIHVwZGF0ZSB0aGUgY2FyZHMgc3RhdGVcbiAgICAgICAgICAgIGlmIChpc0NhcmRDb21wbGV0ZSkge1xuICAgICAgICAgICAgICBzZXRHZW5lcmF0ZWRDYXJkcyhwcmV2Q2FyZHMgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHVwZGF0ZWRDYXJkcyA9IFsuLi5wcmV2Q2FyZHNdO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIC8vIENyZWF0ZSBuZXcgY2FyZCBvYmplY3QgaWYgaXQgZG9lc24ndCBleGlzdFxuICAgICAgICAgICAgICAgIGlmICghdXBkYXRlZENhcmRzW2NhcmRJbmRleF0pIHtcbiAgICAgICAgICAgICAgICAgIHVwZGF0ZWRDYXJkc1tjYXJkSW5kZXhdID0ge1xuICAgICAgICAgICAgICAgICAgICBpZDogYGNhcmQtJHtjYXJkSW5kZXh9LSR7RGF0ZS5ub3coKX1gLFxuICAgICAgICAgICAgICAgICAgICBwcm9tcHQ6IHByb21wdCxcbiAgICAgICAgICAgICAgICAgICAgZnJvbnRDb3ZlcjogXCJcIixcbiAgICAgICAgICAgICAgICAgICAgYmFja0NvdmVyOiBcIlwiLFxuICAgICAgICAgICAgICAgICAgICBsZWZ0UGFnZTogXCJcIixcbiAgICAgICAgICAgICAgICAgICAgcmlnaHRQYWdlOiBcIlwiLFxuICAgICAgICAgICAgICAgICAgICBjcmVhdGVkQXQ6IG5ldyBEYXRlKClcbiAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB1cGRhdGVkQ2FyZDogR2VuZXJhdGVkQ2FyZCA9IHsgLi4udXBkYXRlZENhcmRzW2NhcmRJbmRleF0gfTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAvLyBTZXQgYWxsIGltYWdlcyBmb3IgdGhpcyBjb21wbGV0ZWQgY2FyZFxuICAgICAgICAgICAgICAgIHVwZGF0ZWRDYXJkLmZyb250Q292ZXIgPSBjb21wbGV0ZWRJbWFnZXMuZ2V0KGAke2NhcmRJbmRleH0tMGApIHx8IFwiXCI7XG4gICAgICAgICAgICAgICAgdXBkYXRlZENhcmQuYmFja0NvdmVyID0gY29tcGxldGVkSW1hZ2VzLmdldChgJHtjYXJkSW5kZXh9LTFgKSB8fCBcIlwiO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGlmICghaXNGcm9udEJhY2tPbmx5KSB7XG4gICAgICAgICAgICAgICAgICB1cGRhdGVkQ2FyZC5sZWZ0UGFnZSA9IGNvbXBsZXRlZEltYWdlcy5nZXQoYCR7Y2FyZEluZGV4fS0yYCkgfHwgXCJcIjtcbiAgICAgICAgICAgICAgICAgIHVwZGF0ZWRDYXJkLnJpZ2h0UGFnZSA9IGNvbXBsZXRlZEltYWdlcy5nZXQoYCR7Y2FyZEluZGV4fS0zYCkgfHwgXCJcIjtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgLy8gU2V0IGZhbGxiYWNrcyBmb3IgZnJvbnQvYmFjayBvbmx5IG1vZGVcbiAgICAgICAgICAgICAgICAgIHVwZGF0ZWRDYXJkLmxlZnRQYWdlID0gdXBkYXRlZENhcmQuYmFja0NvdmVyO1xuICAgICAgICAgICAgICAgICAgdXBkYXRlZENhcmQucmlnaHRQYWdlID0gdXBkYXRlZENhcmQuZnJvbnRDb3ZlcjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBVcGRhdGUgcHJvbXB0IHRvIHVzZSBlZmZlY3RpdmUgcHJvbXB0XG4gICAgICAgICAgICAgICAgdXBkYXRlZENhcmQucHJvbXB0ID0gZWZmZWN0aXZlUHJvbXB0O1xuXG4gICAgICAgICAgICAgICAgLy8gU3RvcmUgdGhlIGdlbmVyYXRlZCBwcm9tcHRzIGZvciBmYWN0b3J5IHVzZVxuICAgICAgICAgICAgICAgIHVwZGF0ZWRDYXJkLmdlbmVyYXRlZFByb21wdHMgPSB7XG4gICAgICAgICAgICAgICAgICBmcm9udENvdmVyOiBhbGxHZW5lcmF0ZWRQcm9tcHRzW2NhcmRJbmRleF0uZnJvbnRDb3ZlcixcbiAgICAgICAgICAgICAgICAgIGJhY2tDb3ZlcjogYWxsR2VuZXJhdGVkUHJvbXB0c1tjYXJkSW5kZXhdLmJhY2tDb3ZlcixcbiAgICAgICAgICAgICAgICAgIGxlZnRJbnRlcmlvcjogIWlzRnJvbnRCYWNrT25seSA/IGFsbEdlbmVyYXRlZFByb21wdHNbY2FyZEluZGV4XS5sZWZ0SW50ZXJpb3IgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICByaWdodEludGVyaW9yOiAhaXNGcm9udEJhY2tPbmx5ID8gYWxsR2VuZXJhdGVkUHJvbXB0c1tjYXJkSW5kZXhdLnJpZ2h0SW50ZXJpb3IgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIHVwZGF0ZWRDYXJkc1tjYXJkSW5kZXhdID0gdXBkYXRlZENhcmQ7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgLy8gU3RvcmUgY29tcGxldGVkIGNhcmQgbG9jYWxseSBmb3IgZW1haWwgdXNlXG4gICAgICAgICAgICAgICAgY29tcGxldGVkQ2FyZHNbY2FyZEluZGV4XSA9IHVwZGF0ZWRDYXJkO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIC8vIElmIHRoaXMgaXMgdGhlIGZpcnN0IGNvbXBsZXRlZCBjYXJkIG9yIHRoZSBzZWxlY3RlZCBjYXJkLCBzZXQgaXQgYXMgbWFpbiBkaXNwbGF5XG4gICAgICAgICAgICAgICAgaWYgKCFnZW5lcmF0ZWRDYXJkIHx8IGNhcmRJbmRleCA9PT0gc2VsZWN0ZWRDYXJkSW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgIHNldEdlbmVyYXRlZENhcmQodXBkYXRlZENhcmQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICByZXR1cm4gdXBkYXRlZENhcmRzO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIHRvYXN0LnN1Y2Nlc3MoYPCfjokgQ2FyZCAke2NhcmRJbmRleCArIDF9IGlzIGNvbXBsZXRlIGFuZCByZWFkeSFgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgcmV0dXJuIGltYWdlVXJsO1xuICAgICAgICAgICAgXG4gICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGlmIChyZXRyeUNvdW50ID09PSBtYXhSZXRyaWVzKSB7XG4gICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIGdlbmVyYXRlICR7c2VjdGlvbk5hbWV9OiAke2Vycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InfWApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0cnlDb3VudCsrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgLy8gU3RhcnQgYWxsIGltYWdlIGdlbmVyYXRpb25zIGluIHBhcmFsbGVsIChhbGwgY2FyZHMsIGFsbCBzZWN0aW9ucykgd2l0aCB1bmlxdWUgcHJvbXB0c1xuICAgICAgY29uc3QgaW1hZ2VQcm9taXNlcyA9IGFsbENhcmRQYXlsb2Fkcy5tYXAoKHBheWxvYWQpID0+IFxuICAgICAgICBwcm9jZXNzU2luZ2xlSW1hZ2UocGF5bG9hZCwgcGF5bG9hZC5zZWN0aW9uSW5kZXgsIHBheWxvYWQuc2VjdGlvbk5hbWUsIHBheWxvYWQuY2FyZEluZGV4KVxuICAgICAgKTtcblxuICAgICAgLy8gV2FpdCBmb3IgYWxsIHRvIGNvbXBsZXRlXG4gICAgICBhd2FpdCBQcm9taXNlLmFsbChpbWFnZVByb21pc2VzKTtcblxuICAgICAgLy8gRmluYWxpemluZyBpbWFnZXNcblxuICAgICAgLy8gQnVpbGQgZmluYWwgY2FyZHMgZnJvbSBjb21wbGV0ZWQgaW1hZ2VzIGZvciBlbWFpbCB1c2VcbiAgICAgIGNvbnN0IGZpbmFsQ2FyZHM6IEdlbmVyYXRlZENhcmRbXSA9IFtdO1xuICAgICAgZm9yIChsZXQgY2FyZEluZGV4ID0gMDsgY2FyZEluZGV4IDwgbnVtYmVyT2ZDYXJkczsgY2FyZEluZGV4KyspIHtcbiAgICAgICAgY29uc3QgY2FyZDogR2VuZXJhdGVkQ2FyZCA9IHtcbiAgICAgICAgICBpZDogYGNhcmQtJHtjYXJkSW5kZXh9LSR7RGF0ZS5ub3coKX1gLFxuICAgICAgICAgIHByb21wdDogZWZmZWN0aXZlUHJvbXB0LFxuICAgICAgICAgIGZyb250Q292ZXI6IGNvbXBsZXRlZEltYWdlcy5nZXQoYCR7Y2FyZEluZGV4fS0wYCkgfHwgXCJcIixcbiAgICAgICAgICBiYWNrQ292ZXI6IGNvbXBsZXRlZEltYWdlcy5nZXQoYCR7Y2FyZEluZGV4fS0xYCkgfHwgXCJcIixcbiAgICAgICAgICBsZWZ0UGFnZTogaXNGcm9udEJhY2tPbmx5ID8gKGNvbXBsZXRlZEltYWdlcy5nZXQoYCR7Y2FyZEluZGV4fS0xYCkgfHwgXCJcIikgOiAoY29tcGxldGVkSW1hZ2VzLmdldChgJHtjYXJkSW5kZXh9LTJgKSB8fCBcIlwiKSxcbiAgICAgICAgICByaWdodFBhZ2U6IGlzRnJvbnRCYWNrT25seSA/IChjb21wbGV0ZWRJbWFnZXMuZ2V0KGAke2NhcmRJbmRleH0tMGApIHx8IFwiXCIpIDogKGNvbXBsZXRlZEltYWdlcy5nZXQoYCR7Y2FyZEluZGV4fS0zYCkgfHwgXCJcIiksXG4gICAgICAgICAgY3JlYXRlZEF0OiBuZXcgRGF0ZSgpLFxuICAgICAgICAgIC8vIEluY2x1ZGUgdGhlIGdlbmVyYXRlZCBwcm9tcHRzIGZvciBmYWN0b3J5IHVzZVxuICAgICAgICAgIGdlbmVyYXRlZFByb21wdHM6IHtcbiAgICAgICAgICAgIGZyb250Q292ZXI6IGFsbEdlbmVyYXRlZFByb21wdHNbY2FyZEluZGV4XS5mcm9udENvdmVyLFxuICAgICAgICAgICAgYmFja0NvdmVyOiBhbGxHZW5lcmF0ZWRQcm9tcHRzW2NhcmRJbmRleF0uYmFja0NvdmVyLFxuICAgICAgICAgICAgbGVmdEludGVyaW9yOiAhaXNGcm9udEJhY2tPbmx5ID8gYWxsR2VuZXJhdGVkUHJvbXB0c1tjYXJkSW5kZXhdLmxlZnRJbnRlcmlvciA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHJpZ2h0SW50ZXJpb3I6ICFpc0Zyb250QmFja09ubHkgPyBhbGxHZW5lcmF0ZWRQcm9tcHRzW2NhcmRJbmRleF0ucmlnaHRJbnRlcmlvciA6IHVuZGVmaW5lZCxcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGZpbmFsQ2FyZHMucHVzaChjYXJkKTtcbiAgICAgIH1cblxuICAgICAgLy8gQXBwbHkgUVIgY29kZXMgdG8gYWxsIGNhcmRzJyBiYWNrIGNvdmVyc1xuICAgICAgc2V0R2VuZXJhdGlvblByb2dyZXNzKFwi4pyoIEFkZGluZyBpbnRlcmFjdGl2ZSBRUiBjb2RlcyB0byB5b3VyIGNhcmRzLi4uXCIpO1xuICAgICAgY29uc29sZS5sb2coJ/CflIQgU3RhcnRpbmcgUVIgb3ZlcmxheSBwcm9jZXNzIGZvcicsIGZpbmFsQ2FyZHMubGVuZ3RoLCAnY2FyZHMnKTtcbiAgICAgIGNvbnNvbGUubG9nKCfwn5SXIENhcmQgVVJMOicsIGNhcmRVcmwpO1xuICAgICAgXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGZpbmFsQ2FyZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc29sZS5sb2coYPCfjq8gUHJvY2Vzc2luZyBjYXJkICR7aSArIDF9OmAsIHtcbiAgICAgICAgICBoYXNCYWNrQ292ZXI6ICEhZmluYWxDYXJkc1tpXS5iYWNrQ292ZXIsXG4gICAgICAgICAgaGFzQ2FyZFVybDogISFjYXJkVXJsLFxuICAgICAgICAgIGJhY2tDb3Zlckxlbmd0aDogZmluYWxDYXJkc1tpXS5iYWNrQ292ZXI/Lmxlbmd0aFxuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIC8vIFFSIGNvZGUgd2lsbCBiZSBhcHBsaWVkIGFmdGVyIHN1Y2Nlc3NmdWwgQVBJIHN0b3JhZ2VcbiAgICAgIH1cblxuICAgICAgLy8gRGlzcGxheSBjYXJkcyB3aWxsIGJlIHVwZGF0ZWQgYWZ0ZXIgc3VjY2Vzc2Z1bCBBUEkgc3RvcmFnZSBhbmQgUVIgY29kZSBhcHBsaWNhdGlvblxuXG4gICAgICBzZXRHZW5lcmF0aW9uUHJvZ3Jlc3MoXCLinIUgQ2FyZCBjb21wbGV0ZWQsIHByZXZpZXcgZG93biBiZWxvdyFcIik7XG4gICAgICBzZXRJc0NhcmRDb21wbGV0ZWQodHJ1ZSk7XG4gICAgICBcbiAgICAgIC8vIEdlbmVyYXRpb24gY29tcGxldGVcbiAgICAgIHNldFByb2dyZXNzUGVyY2VudGFnZSgxMDApO1xuICAgICAgc2V0R2VuZXJhdGlvblByb2dyZXNzKFwiR2VuZXJhdGlvbiBjb21wbGV0ZSFcIik7XG5cbiAgICAgIC8vIENvbXBsZXRlIGFuZCByZW1vdmUgam9iIGZyb20gbG9jYWxTdG9yYWdlIGFuZCBzZXJ2ZXJcbiAgICAgIGlmIChjdXJyZW50Sm9iSWQpIHtcbiAgICAgICAgLy8gU3RvcmUgY29tcGxldGlvbiByZXN1bHQgb24gc2VydmVyXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgYXdhaXQgZmV0Y2goJy9hcGkvc3RvcmUtam9iLXJlc3VsdCcsIHtcbiAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICAgIGpvYklkOiBjdXJyZW50Sm9iSWQsXG4gICAgICAgICAgICAgIHN0YXR1czogJ2NvbXBsZXRlZCcsXG4gICAgICAgICAgICAgIGNhcmREYXRhOiBnZW5lcmF0ZWRDYXJkc1swXSB8fCBnZW5lcmF0ZWRDYXJkXG4gICAgICAgICAgICB9KVxuICAgICAgICAgIH0pO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBzdG9yZSBqb2IgcmVzdWx0IG9uIHNlcnZlcjonLCBlcnJvcik7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHJlbW92ZUpvYkZyb21TdG9yYWdlKGN1cnJlbnRKb2JJZCk7XG4gICAgICAgIHNldEN1cnJlbnRKb2JJZChudWxsKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgaWYgKG51bWJlck9mQ2FyZHMgPT09IDEpIHtcbiAgICAgICAgdG9hc3Quc3VjY2VzcyhcIvCfjokgWW91ciBjb21wbGV0ZSBjYXJkIHdpdGggUVIgY29kZSBpcyByZWFkeSFcIik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0b2FzdC5zdWNjZXNzKGDwn46JIEFsbCAke251bWJlck9mQ2FyZHN9IGNhcmRzIHdpdGggUVIgY29kZXMgYXJlIHJlYWR5ISBDaG9vc2UgeW91ciBmYXZvcml0ZSBiZWxvdy5gKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gQ2xlYXIgdGhlIGNvbXBsZXRpb24gbWVzc2FnZSBhZnRlciAzIHNlY29uZHMgYnV0IGtlZXAgaXNDYXJkQ29tcGxldGVkIHRydWVcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBzZXRHZW5lcmF0aW9uUHJvZ3Jlc3MoXCJcIik7XG4gICAgICB9LCAzMDAwKTtcbiAgICAgIFxuICAgICAgLy8gU2VuZCB0aGFuayB5b3UgZW1haWwgaWYgdXNlciBwcm92aWRlZCBlbWFpbFxuICAgICAgaWYgKHVzZXJFbWFpbC50cmltKCkpIHtcbiAgICAgICAgY29uc3QgY2FyZFR5cGVGb3JFbWFpbCA9IHNlbGVjdGVkVHlwZSA9PT0gXCJjdXN0b21cIiA/IGN1c3RvbUNhcmRUeXBlIDogc2VsZWN0ZWRUeXBlO1xuICAgICAgICBcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAvLyBVc2UgdGhlIGZpcnN0IGZpbmFsIGNhcmQgKHdoaWNoIG5vdyBoYXMgUVIgY29kZSlcbiAgICAgICAgICBjb25zdCBjYXJkVG9TdG9yZSA9IGZpbmFsQ2FyZHNbMF07XG4gICAgICAgICAgXG4gICAgICAgICAgaWYgKCFjYXJkVG9TdG9yZSB8fCAhY2FyZFRvU3RvcmUuZnJvbnRDb3Zlcikge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ05vIGNhcmQgZGF0YSBhdmFpbGFibGUgZm9yIHNoYXJpbmcnKTtcbiAgICAgICAgICAgIHNlbmRUaGFua1lvdUVtYWlsKHVzZXJFbWFpbCwgY2FyZFR5cGVGb3JFbWFpbCwgJ2h0dHBzOi8vdmliZWNhcmRpbmcuY29tJyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIFxuICAgICAgICAgIC8vIFN0b3JlIGNhcmQgZGF0YSB3aXRoIHByZS1nZW5lcmF0ZWQgY2FyZCBJRFxuICAgICAgICAgIGNvbnN0IGNhcmREYXRhID0ge1xuICAgICAgICAgICAgaWQ6IGNhcmRJZCwgLy8gVXNlIHByZS1nZW5lcmF0ZWQgY2FyZCBJRFxuICAgICAgICAgICAgcHJvbXB0OiBlZmZlY3RpdmVQcm9tcHQsXG4gICAgICAgICAgICBmcm9udENvdmVyOiBjYXJkVG9TdG9yZS5mcm9udENvdmVyIHx8ICcnLFxuICAgICAgICAgICAgYmFja0NvdmVyOiBjYXJkVG9TdG9yZS5iYWNrQ292ZXIgfHwgJycsXG4gICAgICAgICAgICBsZWZ0UGFnZTogY2FyZFRvU3RvcmUubGVmdFBhZ2UgfHwgJycsXG4gICAgICAgICAgICByaWdodFBhZ2U6IGNhcmRUb1N0b3JlLnJpZ2h0UGFnZSB8fCAnJ1xuICAgICAgICAgIH07XG4gICAgICAgICAgXG4gICAgICAgICAgY29uc29sZS5sb2coJ1N0b3JpbmcgY2FyZCBkYXRhOicsIGNhcmREYXRhKTtcbiAgICAgICAgICBcbiAgICAgICAgICBjb25zdCBjYXJkU3RvcmVSZXNwb25zZSA9IGF3YWl0IGZldGNoKCcvYXBpL2NhcmRzL3N0b3JlJywge1xuICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGNhcmREYXRhKVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIFxuICAgICAgICAgIGlmIChjYXJkU3RvcmVSZXNwb25zZS5vaykge1xuICAgICAgICAgICAgY29uc3QgY2FyZFN0b3JlRGF0YSA9IGF3YWl0IGNhcmRTdG9yZVJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdDYXJkIHN0b3JlZCBzdWNjZXNzZnVsbHksIEFQSSByZXNwb25zZTonLCBjYXJkU3RvcmVEYXRhKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gVXNlIHRoZSBzaGFyZV91cmwgZnJvbSB0aGUgQVBJIHJlc3BvbnNlIChjb250YWlucyBmcmllbmRseSBuYW1lKVxuICAgICAgICAgICAgY29uc3QgYWN0dWFsU2hhcmVVcmwgPSBjYXJkU3RvcmVEYXRhLnNoYXJlX3VybCB8fCBjYXJkVXJsO1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ1VzaW5nIGFjdHVhbCBzaGFyZSBVUkwgZm9yIFFSIGNvZGU6JywgYWN0dWFsU2hhcmVVcmwpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBOb3cgYXBwbHkgUVIgY29kZXMgdG8gYWxsIGNhcmRzIGFmdGVyIHN1Y2Nlc3NmdWwgQVBJIHN0b3JhZ2VcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZmluYWxDYXJkcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICBpZiAoZmluYWxDYXJkc1tpXS5iYWNrQ292ZXIgJiYgYWN0dWFsU2hhcmVVcmwpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgY29uc3Qgb3JpZ2luYWxCYWNrQ292ZXIgPSBmaW5hbENhcmRzW2ldLmJhY2tDb3ZlcjtcbiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGDwn5SEIEFwcGx5aW5nIFFSIG92ZXJsYXkgdG8gY2FyZCAke2kgKyAxfSBhZnRlciBBUEkgc3RvcmFnZS4uLmApO1xuICAgICAgICAgICAgICAgICAgZmluYWxDYXJkc1tpXS5iYWNrQ292ZXIgPSBhd2FpdCBvdmVybGF5UVJDb2RlT25JbWFnZShvcmlnaW5hbEJhY2tDb3ZlciwgYWN0dWFsU2hhcmVVcmwpO1xuICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coYOKchSBRUiBvdmVybGF5IGNvbXBsZXRlIGZvciBjYXJkICR7aSArIDF9YCk7XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYOKdjCBGYWlsZWQgdG8gb3ZlcmxheSBRUiBjb2RlIG9uIGNhcmQgJHtpICsgMX06YCwgZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgLy8gQ2FyZCBrZWVwcyBvcmlnaW5hbCBiYWNrIGNvdmVyIGlmIFFSIG92ZXJsYXkgZmFpbHNcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coYOKaoO+4jyBTa2lwcGluZyBRUiBvdmVybGF5IGZvciBjYXJkICR7aSArIDF9IC0gbWlzc2luZyBiYWNrIGNvdmVyIG9yIFVSTGApO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIFVwZGF0ZSB0aGUgZGlzcGxheWVkIGNhcmRzIHN0YXRlIHdpdGggUVItZW5oYW5jZWQgdmVyc2lvbnNcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5SEIFVwZGF0aW5nIGRpc3BsYXllZCBjYXJkcyB3aXRoIFFSIGNvZGVzIGFmdGVyIEFQSSBzdG9yYWdlLi4uJyk7XG4gICAgICAgICAgICBzZXRHZW5lcmF0ZWRDYXJkcyhbLi4uZmluYWxDYXJkc10pO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBBbHNvIHVwZGF0ZSB0aGUgbWFpbiBkaXNwbGF5ZWQgY2FyZCBpZiBuZWVkZWRcbiAgICAgICAgICAgIGlmIChmaW5hbENhcmRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgc2V0R2VuZXJhdGVkQ2FyZChmaW5hbENhcmRzWzBdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gU3RvcmUgdGhlIGFjdHVhbCBzaGFyZSBVUkwgaW4gdGhlIGZpcnN0IGNhcmQgZm9yIGxhdGVyIHVzZSBieSBTaGFyZSBidXR0b25cbiAgICAgICAgICAgIGlmIChmaW5hbENhcmRzWzBdKSB7XG4gICAgICAgICAgICAgIGZpbmFsQ2FyZHNbMF0uc2hhcmVVcmwgPSBhY3R1YWxTaGFyZVVybDtcbiAgICAgICAgICAgICAgLy8gQWxzbyB1cGRhdGUgdGhlIFJlYWN0IHN0YXRlIHdpdGggdGhlIHNoYXJlIFVSTFxuICAgICAgICAgICAgICBzZXRHZW5lcmF0ZWRDYXJkcyhwcmV2Q2FyZHMgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHVwZGF0ZWQgPSBbLi4ucHJldkNhcmRzXTtcbiAgICAgICAgICAgICAgICBpZiAodXBkYXRlZFswXSkge1xuICAgICAgICAgICAgICAgICAgdXBkYXRlZFswXS5zaGFyZVVybCA9IGFjdHVhbFNoYXJlVXJsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gdXBkYXRlZDtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHNlbmRUaGFua1lvdUVtYWlsKHVzZXJFbWFpbCwgY2FyZFR5cGVGb3JFbWFpbCwgYWN0dWFsU2hhcmVVcmwpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gc3RvcmUgY2FyZDonLCBjYXJkU3RvcmVSZXNwb25zZS5zdGF0dXMsIGF3YWl0IGNhcmRTdG9yZVJlc3BvbnNlLnRleHQoKSk7XG4gICAgICAgICAgICAvLyBGYWxsYmFjayB0byBnZW5lcmljIFVSTCBpZiBzdG9yZSBmYWlsc1xuICAgICAgICAgICAgc2VuZFRoYW5rWW91RW1haWwodXNlckVtYWlsLCBjYXJkVHlwZUZvckVtYWlsLCAnaHR0cHM6Ly92aWJlY2FyZGluZy5jb20nKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3Igc3RvcmluZyBjYXJkIGZvciBlbWFpbDonLCBlcnJvcik7XG4gICAgICAgICAgLy8gRmFsbGJhY2sgdG8gZ2VuZXJpYyBVUkwgaWYgc3RvcmUgZmFpbHNcbiAgICAgICAgICBzZW5kVGhhbmtZb3VFbWFpbCh1c2VyRW1haWwsIGNhcmRUeXBlRm9yRW1haWwsICdodHRwczovL3ZpYmVjYXJkaW5nLmNvbScpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIENsZWFyIGNvdW50ZG93biB0aW1lciBvbiBzdWNjZXNzZnVsIGNvbXBsZXRpb25cbiAgICAgIGlmIChjb3VudGRvd25JbnRlcnZhbCkge1xuICAgICAgICBjbGVhckludGVydmFsKGNvdW50ZG93bkludGVydmFsKTtcbiAgICAgICAgc2V0Q291bnRkb3duSW50ZXJ2YWwobnVsbCk7XG4gICAgICB9XG4gICAgICBzZXRDb3VudGRvd24oMCk7XG5cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgc2V0R2VuZXJhdGlvblByb2dyZXNzKFwiXCIpO1xuICAgICAgdG9hc3QuZXJyb3IoXCJGYWlsZWQgdG8gZ2VuZXJhdGUgY2FyZC4gUGxlYXNlIHRyeSBhZ2Fpbi5cIik7XG4gICAgICBjb25zb2xlLmVycm9yKFwiQ2FyZCBnZW5lcmF0aW9uIGVycm9yOlwiLCBlcnJvcik7XG4gICAgICBcbiAgICAgIC8vIFJlbW92ZSBmYWlsZWQgam9iIGZyb20gbG9jYWxTdG9yYWdlIGFuZCB1cGRhdGUgc2VydmVyXG4gICAgICBpZiAoY3VycmVudEpvYklkKSB7XG4gICAgICAgIC8vIFN0b3JlIGZhaWx1cmUgcmVzdWx0IG9uIHNlcnZlclxuICAgICAgICB0cnkge1xuICAgICAgICAgIGF3YWl0IGZldGNoKCcvYXBpL3N0b3JlLWpvYi1yZXN1bHQnLCB7XG4gICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgICBqb2JJZDogY3VycmVudEpvYklkLFxuICAgICAgICAgICAgICBzdGF0dXM6ICdmYWlsZWQnLFxuICAgICAgICAgICAgICBlcnJvcjogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnVW5rbm93biBlcnJvcidcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gY2F0Y2ggKHNlcnZlckVycm9yKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIHN0b3JlIGpvYiBmYWlsdXJlIG9uIHNlcnZlcjonLCBzZXJ2ZXJFcnJvcik7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHJlbW92ZUpvYkZyb21TdG9yYWdlKGN1cnJlbnRKb2JJZCk7XG4gICAgICAgIHNldEN1cnJlbnRKb2JJZChudWxsKTtcbiAgICAgIH1cbiAgICB9IGZpbmFsbHkge1xuICAgICAgc2V0SXNHZW5lcmF0aW5nKGZhbHNlKTtcbiAgICAgIC8vIENsZWFyIGNvdW50ZG93biB0aW1lclxuICAgICAgaWYgKGNvdW50ZG93bkludGVydmFsKSB7XG4gICAgICAgIGNsZWFySW50ZXJ2YWwoY291bnRkb3duSW50ZXJ2YWwpO1xuICAgICAgICBzZXRDb3VudGRvd25JbnRlcnZhbChudWxsKTtcbiAgICAgIH1cbiAgICAgIHNldENvdW50ZG93bigwKTtcbiAgICB9XG4gIH07XG5cblxuICAvLyBTaG93IHByaW50IGNvbmZpcm1hdGlvbiBkaWFsb2dcbiAgY29uc3QgaGFuZGxlUHJpbnRDbGljayA9ICgpID0+IHtcbiAgICBpZiAoIWdlbmVyYXRlZENhcmQpIHJldHVybjtcbiAgICBcbiAgICAvLyBDaGVjayBpZiB1c2VyIGVtYWlsIGlzIHByb3ZpZGVkXG4gICAgaWYgKCF1c2VyRW1haWwudHJpbSgpKSB7XG4gICAgICB0b2FzdC5lcnJvcihcIlBsZWFzZSBlbnRlciB5b3VyIGVtYWlsIGFkZHJlc3MgYmVmb3JlIHByaW50aW5nXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBcbiAgICBzZXRQcmludE9wdGlvbigncGh5c2ljYWwnKTsgLy8gUmVzZXQgdG8gZGVmYXVsdFxuICAgIHNldFNob3dQcmludENvbmZpcm1hdGlvbih0cnVlKTtcbiAgfTtcblxuICAvLyBIYW5kbGUgdGVtcGxhdGUgc2VsZWN0aW9uIGZvciBwcmV2aWV3XG4gIGNvbnN0IGhhbmRsZVRlbXBsYXRlU2VsZWN0ID0gYXN5bmMgKHRlbXBsYXRlOiBHZW5lcmF0ZWRDYXJkKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIC8vIFNob3cgbG9hZGluZyBzdGF0ZVxuICAgICAgc2V0SXNHZW5lcmF0aW5nKHRydWUpO1xuICAgICAgc2V0R2VuZXJhdGlvblByb2dyZXNzKFwi8J+UjSBMb2FkaW5nIGNvbXBsZXRlIHRlbXBsYXRlIGRhdGEuLi5cIik7XG4gICAgICBcbiAgICAgIC8vIENsb3NlIHRlbXBsYXRlIGdhbGxlcnkgZmlyc3RcbiAgICAgIHNldFNob3dUZW1wbGF0ZUdhbGxlcnkoZmFsc2UpO1xuICAgICAgXG4gICAgICAvLyBDaGVjayBpZiB0ZW1wbGF0ZSBoYXMgYWxsIHJlcXVpcmVkIGltYWdlc1xuICAgICAgY29uc3QgaGFzQWxsSW1hZ2VzID0gdGVtcGxhdGUuZnJvbnRDb3ZlciAmJiB0ZW1wbGF0ZS5iYWNrQ292ZXIgJiYgXG4gICAgICAgIChpc0Zyb250QmFja09ubHkgfHwgKHRlbXBsYXRlLmxlZnRQYWdlICYmIHRlbXBsYXRlLnJpZ2h0UGFnZSkpO1xuICAgICAgXG4gICAgICBpZiAoaGFzQWxsSW1hZ2VzKSB7XG4gICAgICAgIC8vIFRlbXBsYXRlIGlzIGNvbXBsZXRlLCBsb2FkIGRpcmVjdGx5XG4gICAgICAgIHNldEdlbmVyYXRlZENhcmQodGVtcGxhdGUpO1xuICAgICAgICBzZXRHZW5lcmF0ZWRDYXJkcyhbdGVtcGxhdGVdKTtcbiAgICAgICAgc2V0U2VsZWN0ZWRDYXJkSW5kZXgoMCk7XG4gICAgICAgIHNldElzQ2FyZENvbXBsZXRlZCh0cnVlKTtcbiAgICAgICAgc2V0SXNHZW5lcmF0aW5nKGZhbHNlKTtcbiAgICAgICAgc2V0R2VuZXJhdGlvblByb2dyZXNzKFwiXCIpO1xuICAgICAgICBcbiAgICAgICAgLy8gU2Nyb2xsIHRvIGNhcmQgcHJldmlld1xuICAgICAgICBzY3JvbGxUb0NhcmRQcmV2aWV3KCk7XG4gICAgICAgIFxuICAgICAgICB0b2FzdC5zdWNjZXNzKGDinKggVGVtcGxhdGUgbG9hZGVkISBZb3UgY2FuIG5vdyBwcmludCBvciBlbWFpbCB0aGlzIGNhcmQgZnJvbSB0aGUgcHJldmlldyBiZWxvdy5gKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIFRlbXBsYXRlIGlzIGluY29tcGxldGUsIHRyeSB0byBmZXRjaCBjb21wbGV0ZSBkYXRhIGZyb20gQVBJXG4gICAgICAgIHNldEdlbmVyYXRpb25Qcm9ncmVzcyhcIvCfk6EgRmV0Y2hpbmcgY29tcGxldGUgY2FyZCBpbWFnZXMuLi5cIik7XG4gICAgICAgIFxuICAgICAgICB0cnkge1xuICAgICAgICAgIC8vIFRyeSB0byBmZXRjaCB0aGUgY29tcGxldGUgY2FyZCBkYXRhIGZyb20gdGhlIHNlcnZlclxuICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYC9hcGkvY2FyZHMvbGlzdD9saW1pdD0xJnNlYXJjaD0ke2VuY29kZVVSSUNvbXBvbmVudCh0ZW1wbGF0ZS5pZCl9YCk7XG4gICAgICAgICAgXG4gICAgICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgICAgICAgY29uc3QgZm91bmRDYXJkID0gZGF0YS5jYXJkcy5maW5kKChjYXJkOiBhbnkpID0+IGNhcmQuaWQgPT09IHRlbXBsYXRlLmlkKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKGZvdW5kQ2FyZCAmJiBmb3VuZENhcmQuZnJvbnRDb3ZlciAmJiBmb3VuZENhcmQuYmFja0NvdmVyICYmIFxuICAgICAgICAgICAgICAgIChpc0Zyb250QmFja09ubHkgfHwgKGZvdW5kQ2FyZC5sZWZ0UGFnZSAmJiBmb3VuZENhcmQucmlnaHRQYWdlKSkpIHtcbiAgICAgICAgICAgICAgLy8gRm91bmQgY29tcGxldGUgY2FyZCBkYXRhXG4gICAgICAgICAgICAgIGNvbnN0IGNvbXBsZXRlQ2FyZDogR2VuZXJhdGVkQ2FyZCA9IHtcbiAgICAgICAgICAgICAgICBpZDogZm91bmRDYXJkLmlkLFxuICAgICAgICAgICAgICAgIHByb21wdDogZm91bmRDYXJkLnByb21wdCB8fCB0ZW1wbGF0ZS5wcm9tcHQsXG4gICAgICAgICAgICAgICAgZnJvbnRDb3ZlcjogZm91bmRDYXJkLmZyb250Q292ZXIsXG4gICAgICAgICAgICAgICAgYmFja0NvdmVyOiBmb3VuZENhcmQuYmFja0NvdmVyLFxuICAgICAgICAgICAgICAgIGxlZnRQYWdlOiBmb3VuZENhcmQubGVmdFBhZ2UgfHwgZm91bmRDYXJkLmZyb250Q292ZXIsXG4gICAgICAgICAgICAgICAgcmlnaHRQYWdlOiBmb3VuZENhcmQucmlnaHRQYWdlIHx8IGZvdW5kQ2FyZC5mcm9udENvdmVyLFxuICAgICAgICAgICAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoZm91bmRDYXJkLmNyZWF0ZWRBdCAqIDEwMDApLFxuICAgICAgICAgICAgICAgIHNoYXJlVXJsOiBmb3VuZENhcmQuc2hhcmVVcmwgfHwgdGVtcGxhdGUuc2hhcmVVcmwsXG4gICAgICAgICAgICAgICAgZ2VuZXJhdGVkUHJvbXB0czogZm91bmRDYXJkLmdlbmVyYXRlZFByb21wdHMgfHwgdGVtcGxhdGUuZ2VuZXJhdGVkUHJvbXB0c1xuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgc2V0R2VuZXJhdGVkQ2FyZChjb21wbGV0ZUNhcmQpO1xuICAgICAgICAgICAgICBzZXRHZW5lcmF0ZWRDYXJkcyhbY29tcGxldGVDYXJkXSk7XG4gICAgICAgICAgICAgIHNldFNlbGVjdGVkQ2FyZEluZGV4KDApO1xuICAgICAgICAgICAgICBzZXRJc0NhcmRDb21wbGV0ZWQodHJ1ZSk7XG4gICAgICAgICAgICAgIHNldElzR2VuZXJhdGluZyhmYWxzZSk7XG4gICAgICAgICAgICAgIHNldEdlbmVyYXRpb25Qcm9ncmVzcyhcIlwiKTtcbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIC8vIFNjcm9sbCB0byBjYXJkIHByZXZpZXdcbiAgICAgICAgICAgICAgc2Nyb2xsVG9DYXJkUHJldmlldygpO1xuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgdG9hc3Quc3VjY2Vzcyhg4pyFIENvbXBsZXRlIHRlbXBsYXRlIGxvYWRlZCB3aXRoIGFsbCBpbWFnZXMhYCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDb21wbGV0ZSBjYXJkIGRhdGEgbm90IGZvdW5kXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJGYWlsZWQgdG8gZmV0Y2ggY2FyZCBkYXRhXCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZmV0Y2hFcnJvcikge1xuICAgICAgICAgIGNvbnNvbGUubG9nKFwiQ291bGQgbm90IGZldGNoIGNvbXBsZXRlIGNhcmQgZGF0YSwgdXNpbmcgZmFsbGJhY2sgYXBwcm9hY2g6XCIsIGZldGNoRXJyb3IpO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIEZhbGxiYWNrOiBVc2UgZnJvbnQgY292ZXIgZm9yIG1pc3NpbmcgaW1hZ2VzXG4gICAgICAgICAgY29uc3QgZmFsbGJhY2tDYXJkOiBHZW5lcmF0ZWRDYXJkID0ge1xuICAgICAgICAgICAgLi4udGVtcGxhdGUsXG4gICAgICAgICAgICBiYWNrQ292ZXI6IHRlbXBsYXRlLmJhY2tDb3ZlciB8fCB0ZW1wbGF0ZS5mcm9udENvdmVyLFxuICAgICAgICAgICAgbGVmdFBhZ2U6IHRlbXBsYXRlLmxlZnRQYWdlIHx8IHRlbXBsYXRlLmZyb250Q292ZXIsXG4gICAgICAgICAgICByaWdodFBhZ2U6IHRlbXBsYXRlLnJpZ2h0UGFnZSB8fCB0ZW1wbGF0ZS5mcm9udENvdmVyXG4gICAgICAgICAgfTtcbiAgICAgICAgICBcbiAgICAgICAgICBzZXRHZW5lcmF0ZWRDYXJkKGZhbGxiYWNrQ2FyZCk7XG4gICAgICAgICAgc2V0R2VuZXJhdGVkQ2FyZHMoW2ZhbGxiYWNrQ2FyZF0pO1xuICAgICAgICAgIHNldFNlbGVjdGVkQ2FyZEluZGV4KDApO1xuICAgICAgICAgIHNldElzQ2FyZENvbXBsZXRlZCh0cnVlKTtcbiAgICAgICAgICBzZXRJc0dlbmVyYXRpbmcoZmFsc2UpO1xuICAgICAgICAgIHNldEdlbmVyYXRpb25Qcm9ncmVzcyhcIlwiKTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBTY3JvbGwgdG8gY2FyZCBwcmV2aWV3XG4gICAgICAgICAgc2Nyb2xsVG9DYXJkUHJldmlldygpO1xuICAgICAgICAgIFxuICAgICAgICAgIHRvYXN0LmluZm8oYPCfk4sgVGVtcGxhdGUgbG9hZGVkISBTb21lIGltYWdlcyBtYXkgYmUgcmVwZWF0ZWQgZnJvbSB0aGUgZnJvbnQgY292ZXIuYCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGxvYWRpbmcgdGVtcGxhdGU6XCIsIGVycm9yKTtcbiAgICAgIHNldElzR2VuZXJhdGluZyhmYWxzZSk7XG4gICAgICBzZXRHZW5lcmF0aW9uUHJvZ3Jlc3MoXCJcIik7XG4gICAgICB0b2FzdC5lcnJvcihcIkZhaWxlZCB0byBsb2FkIHRlbXBsYXRlLiBQbGVhc2UgdHJ5IGFnYWluLlwiKTtcbiAgICB9XG4gIH07XG5cbiAgLy8gQWN0dWFsIHByaW50IGZ1bmN0aW9uIGFmdGVyIGNvbmZpcm1hdGlvblxuICAvLyBFeHRyYWN0ZWQgQUkgQW5hbHlzaXMgTG9naWMgZm9yIFJldXNlXG4gIGNvbnN0IHBlcmZvcm1BSUFuYWx5c2lzID0gYXN5bmMgKGNhcmRzVG9BbmFseXplOiBhbnlbXSwgc2VhcmNoUXVlcnk6IHN0cmluZykgPT4ge1xuICAgIGNvbnN0IGFkYXB0aXZlQmF0Y2hTaXplID0gTWF0aC5taW4oXG4gICAgICBNYXRoLm1heCgxMCwgTWF0aC5mbG9vcihjYXJkc1RvQW5hbHl6ZS5sZW5ndGggLyA4KSksIC8vIDggYmF0Y2hlcyBtYXhcbiAgICAgIHNlYXJjaFF1ZXJ5LnNwbGl0KCcgJykubGVuZ3RoID4gMyA/IDE1IDogMjUgLy8gU21hbGxlciBiYXRjaGVzIGZvciBjb21wbGV4IHF1ZXJpZXNcbiAgICApO1xuICAgIFxuICAgIGNvbnN0IGJhdGNoZXMgPSBbXTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNhcmRzVG9BbmFseXplLmxlbmd0aDsgaSArPSBhZGFwdGl2ZUJhdGNoU2l6ZSkge1xuICAgICAgYmF0Y2hlcy5wdXNoKGNhcmRzVG9BbmFseXplLnNsaWNlKGksIGkgKyBhZGFwdGl2ZUJhdGNoU2l6ZSkpO1xuICAgIH1cbiAgICBcbiAgICBjb25zdCBhbmFseXNpc1Byb21wdCA9IGBVc2VyIGlzIHNlYXJjaGluZyBmb3I6IFwiJHtzZWFyY2hRdWVyeX1cIlxuXG5BbmFseXplIGVhY2ggZ3JlZXRpbmcgY2FyZCBpbWFnZSBhbmQgcmF0ZSBob3cgd2VsbCBpdCBtYXRjaGVzIHRoZSB1c2VyJ3Mgc2VhcmNoIHF1ZXJ5IG9uIGEgc2NhbGUgb2YgMS0xMDAuXG5cbkNvbnNpZGVyOlxuLSBWaXN1YWwgc3R5bGUgbWF0Y2hpbmcgKHdhdGVyY29sb3IsIGNhcnRvb24sIHJlYWxpc3RpYywgZXRjLilcbi0gQ29sb3JzIGFuZCB0aGVtZXNcbi0gU3ViamVjdCBtYXR0ZXIgKHBlb3BsZSwgYW5pbWFscywgb2JqZWN0cywgbmF0dXJlLCBldGMuKVxuLSBNb29kIGFuZCBhdG1vc3BoZXJlXG4tIE9jY2FzaW9uIGFwcHJvcHJpYXRlbmVzc1xuLSBPdmVyYWxsIHJlbGV2YW5jZSB0byB0aGUgc2VhcmNoIHF1ZXJ5XG5cblJhdGUgZWFjaCBjYXJkIGZyb20gMS0xMDAgd2hlcmU6XG4tIDkwLTEwMDogUGVyZmVjdCBtYXRjaCBmb3IgdGhlIHNlYXJjaCBxdWVyeVxuLSA3MC04OTogVmVyeSBnb29kIG1hdGNoIHdpdGggbW9zdCBlbGVtZW50cyBtYXRjaGluZ1xuLSA1MC02OTogR29vZCBtYXRjaCB3aXRoIHNvbWUgcmVsZXZhbnQgZWxlbWVudHNcbi0gMzAtNDk6IFBhcnRpYWwgbWF0Y2ggd2l0aCBmZXcgcmVsZXZhbnQgZWxlbWVudHMgIFxuLSAxLTI5OiBQb29yIG1hdGNoLCBub3QgcmVsZXZhbnQgdG8gc2VhcmNoXG5cblJldHVybiBvbmx5IHRoZSBudW1lcmljIHNjb3JlICgxLTEwMCkgZm9yIGVhY2ggaW1hZ2UuYDtcblxuICAgIC8vIFByb2Nlc3MgQUxMIGJhdGNoZXMgaW4gcGFyYWxsZWwgZm9yIG1heGltdW0gc3BlZWRcbiAgICBjb25zdCBiYXRjaFByb21pc2VzID0gYmF0Y2hlcy5tYXAoYXN5bmMgKGJhdGNoOiBhbnlbXSwgYmF0Y2hJbmRleDogbnVtYmVyKSA9PiB7XG4gICAgICBjb25zdCB2YWxpZENhcmRzID0gYmF0Y2guZmlsdGVyKGNhcmQgPT4gY2FyZC5mcm9udENvdmVyKTtcbiAgICAgIGNvbnN0IHVybHMgPSB2YWxpZENhcmRzLm1hcChjYXJkID0+IGNhcmQuZnJvbnRDb3Zlcik7XG4gICAgICBcbiAgICAgIGNvbnN0IGJhdGNoUmVzdWx0czogQXJyYXk8e1xuICAgICAgICBpZDogc3RyaW5nO1xuICAgICAgICBjYXJkOiBhbnk7XG4gICAgICAgIHNjb3JlOiBudW1iZXI7XG4gICAgICAgIGFuYWx5c2lzOiBzdHJpbmc7XG4gICAgICB9PiA9IFtdO1xuICAgICAgXG4gICAgICBpZiAodXJscy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgYmF0Y2guZm9yRWFjaChjYXJkID0+IHtcbiAgICAgICAgICBjb25zdCB0ZXh0U2NvcmUgPSBjYXJkLnByb21wdD8udG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhzZWFyY2hRdWVyeS50b0xvd2VyQ2FzZSgpKSA/IDYwIDogMjA7XG4gICAgICAgICAgYmF0Y2hSZXN1bHRzLnB1c2goe1xuICAgICAgICAgICAgaWQ6IGNhcmQuaWQsXG4gICAgICAgICAgICBjYXJkOiBjYXJkLFxuICAgICAgICAgICAgc2NvcmU6IHRleHRTY29yZSxcbiAgICAgICAgICAgIGFuYWx5c2lzOiBcIk5vIGltYWdlIGF2YWlsYWJsZVwiXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gYmF0Y2hSZXN1bHRzO1xuICAgICAgfVxuXG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCcvaW50ZXJuYWwvY2FsbF9tY3BfdG9vbCcsIHtcbiAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICB0b29sX25hbWU6ICdhbmFseXplX2ltYWdlcycsXG4gICAgICAgICAgICBhcmd1bWVudHM6IHtcbiAgICAgICAgICAgICAgdXJsczogdXJscyxcbiAgICAgICAgICAgICAgYW5hbHlzaXNfcHJvbXB0OiBhbmFseXNpc1Byb21wdFxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChyZXNwb25zZS5vaykge1xuICAgICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgICAgaWYgKGRhdGEuZXJyb3IgJiYgZGF0YS5lcnJvciAhPT0gXCJOb25lXCIgJiYgZGF0YS5lcnJvciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGRhdGEuZXJyb3IpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBcbiAgICAgICAgICBsZXQgcmVzdWx0O1xuICAgICAgICAgIGlmICh0eXBlb2YgZGF0YS5yZXN1bHQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICByZXN1bHQgPSBKU09OLnBhcnNlKGRhdGEucmVzdWx0KTtcbiAgICAgICAgICAgIH0gY2F0Y2gge1xuICAgICAgICAgICAgICByZXN1bHQgPSB7IHN0YXR1czogJ2Vycm9yJywgbWVzc2FnZTogJ0ludmFsaWQgSlNPTiByZXNwb25zZScgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVzdWx0ID0gZGF0YS5yZXN1bHQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIFxuICAgICAgICAgIGlmIChyZXN1bHQuc3RhdHVzID09PSAnc3VjY2VzcycgJiYgcmVzdWx0LnJlc3VsdHMpIHtcbiAgICAgICAgICAgIHJlc3VsdC5yZXN1bHRzLmZvckVhY2goKGFuYWx5c2lzUmVzdWx0OiBhbnksIGluZGV4OiBudW1iZXIpID0+IHtcbiAgICAgICAgICAgICAgaWYgKGluZGV4IDwgdmFsaWRDYXJkcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjYXJkID0gdmFsaWRDYXJkc1tpbmRleF07XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgaWYgKGFuYWx5c2lzUmVzdWx0LnN0YXR1cyA9PT0gJ3N1Y2Nlc3MnICYmIGFuYWx5c2lzUmVzdWx0LmFuYWx5c2lzKSB7XG4gICAgICAgICAgICAgICAgICBjb25zdCBzY29yZU1hdGNoID0gYW5hbHlzaXNSZXN1bHQuYW5hbHlzaXMubWF0Y2goL1xcYihcXGR7MSwzfSlcXGIvKTtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IHNjb3JlID0gc2NvcmVNYXRjaCA/IHBhcnNlSW50KHNjb3JlTWF0Y2hbMV0pIDogMDtcbiAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgYmF0Y2hSZXN1bHRzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBpZDogY2FyZC5pZCxcbiAgICAgICAgICAgICAgICAgICAgY2FyZDogY2FyZCxcbiAgICAgICAgICAgICAgICAgICAgc2NvcmU6IE1hdGgubWluKE1hdGgubWF4KHNjb3JlLCAwKSwgMTAwKSxcbiAgICAgICAgICAgICAgICAgICAgYW5hbHlzaXM6IGFuYWx5c2lzUmVzdWx0LmFuYWx5c2lzXG4gICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgY29uc3QgdGV4dFNjb3JlID0gY2FyZC5wcm9tcHQ/LnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoc2VhcmNoUXVlcnkudG9Mb3dlckNhc2UoKSkgPyA2MCA6IDIwO1xuICAgICAgICAgICAgICAgICAgYmF0Y2hSZXN1bHRzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBpZDogY2FyZC5pZCxcbiAgICAgICAgICAgICAgICAgICAgY2FyZDogY2FyZCxcbiAgICAgICAgICAgICAgICAgICAgc2NvcmU6IHRleHRTY29yZSxcbiAgICAgICAgICAgICAgICAgICAgYW5hbHlzaXM6IFwiQW5hbHlzaXMgZmFpbGVkLCB1c2luZyB0ZXh0IGZhbGxiYWNrXCJcbiAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCByZXN1bHQgc3RydWN0dXJlJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSFRUUCAke3Jlc3BvbnNlLnN0YXR1c31gKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihgRmFpbGVkIHRvIGFuYWx5emUgYmF0Y2ggJHtiYXRjaEluZGV4ICsgMX06YCwgZXJyb3IpO1xuICAgICAgICBcbiAgICAgICAgYmF0Y2guZm9yRWFjaChjYXJkID0+IHtcbiAgICAgICAgICBjb25zdCB0ZXh0U2NvcmUgPSBjYXJkLnByb21wdD8udG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhzZWFyY2hRdWVyeS50b0xvd2VyQ2FzZSgpKSA/IDYwIDogMjA7XG4gICAgICAgICAgYmF0Y2hSZXN1bHRzLnB1c2goe1xuICAgICAgICAgICAgaWQ6IGNhcmQuaWQsXG4gICAgICAgICAgICBjYXJkOiBjYXJkLFxuICAgICAgICAgICAgc2NvcmU6IHRleHRTY29yZSxcbiAgICAgICAgICAgIGFuYWx5c2lzOiBcIkJhdGNoIGFuYWx5c2lzIGZhaWxlZCwgdXNpbmcgdGV4dCBmYWxsYmFja1wiXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgXG4gICAgICByZXR1cm4gYmF0Y2hSZXN1bHRzO1xuICAgIH0pO1xuXG4gICAgY29uc3QgYWxsQmF0Y2hSZXN1bHRzID0gYXdhaXQgUHJvbWlzZS5hbGwoYmF0Y2hQcm9taXNlcyk7XG4gICAgcmV0dXJuIGFsbEJhdGNoUmVzdWx0cy5mbGF0KCk7XG4gIH07XG5cbiAgLy8gRW5oYW5jZWQgVGV4dC1iYXNlZCBUZW1wbGF0ZSBTZWFyY2ggRnVuY3Rpb24gKEluc3RhbnQpXG4gIGNvbnN0IGhhbmRsZVRleHRUZW1wbGF0ZVNlYXJjaCA9ICgpID0+IHtcbiAgICBpZiAoIXRlbXBsYXRlU2VhcmNoUXVlcnkudHJpbSgpKSB7XG4gICAgICB0b2FzdC5lcnJvcihcIlBsZWFzZSBlbnRlciBhIHNlYXJjaCBxdWVyeSFcIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gR2V0IGFsbCBhdmFpbGFibGUgY2FyZHMgZmlyc3RcbiAgICBjb25zdCBhbGxDYXJkcyA9IGdldENhY2hlZENhcmRzKDEsIE1hdGgubWF4KHRvdGFsQ2FyZHMsIDEwMDApKTtcbiAgICBcbiAgICBpZiAoYWxsQ2FyZHMubGVuZ3RoID09PSAwKSB7XG4gICAgICB0b2FzdC5lcnJvcihcIk5vIHRlbXBsYXRlcyBhdmFpbGFibGUgdG8gc2VhcmNoXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHNlYXJjaFRlcm1zID0gdGVtcGxhdGVTZWFyY2hRdWVyeS50b0xvd2VyQ2FzZSgpLnNwbGl0KCcgJykuZmlsdGVyKHRlcm0gPT4gdGVybS5sZW5ndGggPiAxKTtcbiAgICBcbiAgICAvLyBTY29yZSBjYXJkcyBiYXNlZCBvbiB0ZXh0IHJlbGV2YW5jZSAobm93IGluY2x1ZGluZyBnZW5lcmF0ZWQgcHJvbXB0cylcbiAgICBjb25zdCBzY29yZWRDYXJkcyA9IGFsbENhcmRzLm1hcChjYXJkID0+IHtcbiAgICAgIGNvbnN0IG9yaWdpbmFsUHJvbXB0ID0gKGNhcmQucHJvbXB0IHx8ICcnKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgbGV0IHNjb3JlID0gMDtcbiAgICAgIGxldCBtYXRjaFNvdXJjZXM6IHN0cmluZ1tdID0gW107XG4gICAgICBcbiAgICAgIC8vIEJ1aWxkIHNlYXJjaGFibGUgdGV4dCBmcm9tIG11bHRpcGxlIHNvdXJjZXNcbiAgICAgIGNvbnN0IHNlYXJjaGFibGVUZXh0cyA9IFtcbiAgICAgICAgeyB0ZXh0OiBvcmlnaW5hbFByb21wdCwgd2VpZ2h0OiAxMCwgc291cmNlOiAnb3JpZ2luYWwnIH1cbiAgICAgIF07XG4gICAgICBcbiAgICAgIC8vIEFkZCBnZW5lcmF0ZWQgcHJvbXB0cyBpZiBhdmFpbGFibGUgKHRoZXNlIGFyZSBBSS1hbmFseXplZCBkZXNjcmlwdGlvbnMgb2YgYWN0dWFsIGltYWdlcylcbiAgICAgIGlmIChjYXJkLmdlbmVyYXRlZFByb21wdHMpIHtcbiAgICAgICAgaWYgKGNhcmQuZ2VuZXJhdGVkUHJvbXB0cy5mcm9udENvdmVyKSB7XG4gICAgICAgICAgc2VhcmNoYWJsZVRleHRzLnB1c2goeyBcbiAgICAgICAgICAgIHRleHQ6IGNhcmQuZ2VuZXJhdGVkUHJvbXB0cy5mcm9udENvdmVyLnRvTG93ZXJDYXNlKCksIFxuICAgICAgICAgICAgd2VpZ2h0OiA4LCBcbiAgICAgICAgICAgIHNvdXJjZTogJ2Zyb250LWNvdmVyLWFuYWx5c2lzJyBcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY2FyZC5nZW5lcmF0ZWRQcm9tcHRzLmJhY2tDb3Zlcikge1xuICAgICAgICAgIHNlYXJjaGFibGVUZXh0cy5wdXNoKHsgXG4gICAgICAgICAgICB0ZXh0OiBjYXJkLmdlbmVyYXRlZFByb21wdHMuYmFja0NvdmVyLnRvTG93ZXJDYXNlKCksIFxuICAgICAgICAgICAgd2VpZ2h0OiA2LCBcbiAgICAgICAgICAgIHNvdXJjZTogJ2JhY2stY292ZXItYW5hbHlzaXMnIFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjYXJkLmdlbmVyYXRlZFByb21wdHMubGVmdEludGVyaW9yKSB7XG4gICAgICAgICAgc2VhcmNoYWJsZVRleHRzLnB1c2goeyBcbiAgICAgICAgICAgIHRleHQ6IGNhcmQuZ2VuZXJhdGVkUHJvbXB0cy5sZWZ0SW50ZXJpb3IudG9Mb3dlckNhc2UoKSwgXG4gICAgICAgICAgICB3ZWlnaHQ6IDcsIFxuICAgICAgICAgICAgc291cmNlOiAnbGVmdC1pbnRlcmlvci1hbmFseXNpcycgXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNhcmQuZ2VuZXJhdGVkUHJvbXB0cy5yaWdodEludGVyaW9yKSB7XG4gICAgICAgICAgc2VhcmNoYWJsZVRleHRzLnB1c2goeyBcbiAgICAgICAgICAgIHRleHQ6IGNhcmQuZ2VuZXJhdGVkUHJvbXB0cy5yaWdodEludGVyaW9yLnRvTG93ZXJDYXNlKCksIFxuICAgICAgICAgICAgd2VpZ2h0OiA3LCBcbiAgICAgICAgICAgIHNvdXJjZTogJ3JpZ2h0LWludGVyaW9yLWFuYWx5c2lzJyBcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBTZWFyY2ggdGhyb3VnaCBhbGwgdGV4dCBzb3VyY2VzXG4gICAgICBzZWFyY2hUZXJtcy5mb3JFYWNoKHRlcm0gPT4ge1xuICAgICAgICBzZWFyY2hhYmxlVGV4dHMuZm9yRWFjaCgoeyB0ZXh0LCB3ZWlnaHQsIHNvdXJjZSB9KSA9PiB7XG4gICAgICAgICAgLy8gRXhhY3Qgd29yZCBtYXRjaFxuICAgICAgICAgIGlmICh0ZXh0LmluY2x1ZGVzKHRlcm0pKSB7XG4gICAgICAgICAgICBjb25zdCB0ZXJtU2NvcmUgPSAodGVybS5sZW5ndGggPiAzID8gMTAgOiA1KSAqICh3ZWlnaHQgLyAxMCk7XG4gICAgICAgICAgICBzY29yZSArPSB0ZXJtU2NvcmU7XG4gICAgICAgICAgICBpZiAoIW1hdGNoU291cmNlcy5pbmNsdWRlcyhzb3VyY2UpKSB7XG4gICAgICAgICAgICAgIG1hdGNoU291cmNlcy5wdXNoKHNvdXJjZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIFBhcnRpYWwgbWF0Y2hcbiAgICAgICAgICBlbHNlIGlmICh0ZXh0LmluY2x1ZGVzKHRlcm0uc3Vic3RyaW5nKDAsIE1hdGgubWF4KDMsIHRlcm0ubGVuZ3RoIC0gMSkpKSkge1xuICAgICAgICAgICAgY29uc3QgcGFydGlhbFNjb3JlID0gMyAqICh3ZWlnaHQgLyAxMCk7XG4gICAgICAgICAgICBzY29yZSArPSBwYXJ0aWFsU2NvcmU7XG4gICAgICAgICAgICBpZiAoIW1hdGNoU291cmNlcy5pbmNsdWRlcyhzb3VyY2UpKSB7XG4gICAgICAgICAgICAgIG1hdGNoU291cmNlcy5wdXNoKHNvdXJjZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICAvLyBCb29zdCBmb3IgY2FyZHMgdGhhdCBtYXRjaCBtdWx0aXBsZSB0ZXJtc1xuICAgICAgY29uc3QgbWF0Y2hlZFRlcm1zID0gc2VhcmNoVGVybXMuZmlsdGVyKHRlcm0gPT4gXG4gICAgICAgIHNlYXJjaGFibGVUZXh0cy5zb21lKCh7IHRleHQgfSkgPT4gdGV4dC5pbmNsdWRlcyh0ZXJtKSlcbiAgICAgICkubGVuZ3RoO1xuICAgICAgaWYgKG1hdGNoZWRUZXJtcyA+IDEpIHtcbiAgICAgICAgc2NvcmUgKz0gbWF0Y2hlZFRlcm1zICogNTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gQm9vc3QgZm9yIGNhcmRzIHdpdGggQUktZ2VuZXJhdGVkIHByb21wdHMgKHRoZXkgaGF2ZSByaWNoZXIgZGVzY3JpcHRpb25zKVxuICAgICAgaWYgKGNhcmQuZ2VuZXJhdGVkUHJvbXB0cyAmJiBtYXRjaFNvdXJjZXMuc29tZShzb3VyY2UgPT4gc291cmNlLmluY2x1ZGVzKCdhbmFseXNpcycpKSkge1xuICAgICAgICBzY29yZSArPSA1OyAvLyBCb251cyBmb3IgQUktYW5hbHl6ZWQgdmlzdWFsIGNvbnRlbnQgbWF0Y2hlc1xuICAgICAgfVxuICAgICAgXG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5jYXJkLFxuICAgICAgICB0ZXh0U2NvcmU6IHNjb3JlLFxuICAgICAgICBtYXRjaFNvdXJjZXM6IG1hdGNoU291cmNlc1xuICAgICAgfTtcbiAgICB9KTtcblxuICAgIC8vIEZpbHRlciBhbmQgc29ydCBieSByZWxldmFuY2VcbiAgICBjb25zdCBmaWx0ZXJlZENhcmRzID0gc2NvcmVkQ2FyZHNcbiAgICAgIC5maWx0ZXIoY2FyZCA9PiBjYXJkLnRleHRTY29yZSA+IDApXG4gICAgICAuc29ydCgoYSwgYikgPT4gYi50ZXh0U2NvcmUgLSBhLnRleHRTY29yZSlcbiAgICAgIC5zbGljZSgwLCAyMCk7IC8vIFRvcCAyMCB0ZXh0IG1hdGNoZXNcblxuICAgIHNldFRleHRGaWx0ZXJlZENhcmRzKGZpbHRlcmVkQ2FyZHMpO1xuICAgIFxuICAgIGlmIChmaWx0ZXJlZENhcmRzLmxlbmd0aCA+IDApIHtcbiAgICAgIGNvbnN0IGF2Z1Njb3JlID0gTWF0aC5yb3VuZChmaWx0ZXJlZENhcmRzLnJlZHVjZSgoc3VtLCBjYXJkKSA9PiBzdW0gKyBjYXJkLnRleHRTY29yZSwgMCkgLyBmaWx0ZXJlZENhcmRzLmxlbmd0aCk7XG4gICAgICBjb25zdCBhaUFuYWx5emVkTWF0Y2hlcyA9IGZpbHRlcmVkQ2FyZHMuZmlsdGVyKGNhcmQgPT4gXG4gICAgICAgIGNhcmQubWF0Y2hTb3VyY2VzPy5zb21lKHNvdXJjZSA9PiBzb3VyY2UuaW5jbHVkZXMoJ2FuYWx5c2lzJykpXG4gICAgICApLmxlbmd0aDtcbiAgICAgIFxuICAgICAgbGV0IHN1Y2Nlc3NNZXNzYWdlID0gYPCfk50gRm91bmQgJHtmaWx0ZXJlZENhcmRzLmxlbmd0aH0gdGV4dCBtYXRjaGVzIGZvciBcIiR7dGVtcGxhdGVTZWFyY2hRdWVyeX1cIiEgQXZlcmFnZSByZWxldmFuY2U6ICR7YXZnU2NvcmV9YDtcbiAgICAgIGlmIChhaUFuYWx5emVkTWF0Y2hlcyA+IDApIHtcbiAgICAgICAgc3VjY2Vzc01lc3NhZ2UgKz0gYCAoJHthaUFuYWx5emVkTWF0Y2hlc30gbWF0Y2hlcyBmb3VuZCBpbiBBSSB2aXN1YWwgYW5hbHlzaXMhKWA7XG4gICAgICB9XG4gICAgICBcbiAgICAgIHRvYXN0LnN1Y2Nlc3Moc3VjY2Vzc01lc3NhZ2UpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0b2FzdC5pbmZvKFwi8J+klCBObyB0ZW1wbGF0ZXMgZm91bmQgbWF0Y2hpbmcgeW91ciB0ZXh0IHNlYXJjaC4gVHJ5IGRpZmZlcmVudCBrZXl3b3JkcyFcIik7XG4gICAgfVxuICB9O1xuXG4gIC8vIEFJIFRlbXBsYXRlIFNlYXJjaCBGdW5jdGlvbiB3aXRoIFBhcmFsbGVsIEltYWdlIEFuYWx5c2lzXG4gIGNvbnN0IGhhbmRsZUFJVGVtcGxhdGVTZWFyY2ggPSBhc3luYyAoKSA9PiB7XG4gICAgaWYgKCF0ZW1wbGF0ZVNlYXJjaFF1ZXJ5LnRyaW0oKSkge1xuICAgICAgdG9hc3QuZXJyb3IoXCJQbGVhc2UgZW50ZXIgYSBzZWFyY2ggcXVlcnkhXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHNldElzU2VhcmNoaW5nVGVtcGxhdGVzKHRydWUpO1xuICAgIFxuICAgIHRyeSB7XG4gICAgICAvLyBHZXQgYWxsIGF2YWlsYWJsZSBjYXJkcyBmaXJzdFxuICAgICAgY29uc3QgYWxsQ2FyZHMgPSBnZXRDYWNoZWRDYXJkcygxLCBNYXRoLm1heCh0b3RhbENhcmRzLCAxMDAwKSk7XG4gICAgICBcbiAgICAgIGlmIChhbGxDYXJkcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgdG9hc3QuZXJyb3IoXCJObyB0ZW1wbGF0ZXMgYXZhaWxhYmxlIHRvIHNlYXJjaFwiKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyBTbWFydCBwcmUtZmlsdGVyaW5nOiBGaXJzdCBmaWx0ZXIgYnkgdGV4dCByZWxldmFuY2UgdG8gcmVkdWNlIEFJIGFuYWx5c2lzIGxvYWRcbiAgICAgIGNvbnN0IHRleHRGaWx0ZXJlZENhcmRzID0gYWxsQ2FyZHMuZmlsdGVyKGNhcmQgPT4ge1xuICAgICAgICBjb25zdCBzZWFyY2hUZXJtcyA9IHRlbXBsYXRlU2VhcmNoUXVlcnkudG9Mb3dlckNhc2UoKS5zcGxpdCgnICcpO1xuICAgICAgICBjb25zdCBjYXJkVGV4dCA9IChjYXJkLnByb21wdCB8fCAnJykudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgXG4gICAgICAgIC8vIEluY2x1ZGUgY2FyZHMgdGhhdCBtYXRjaCBhbnkgc2VhcmNoIHRlcm0gb3IgaGF2ZSBoaWdoIGdlbmVyYWwgcmVsZXZhbmNlXG4gICAgICAgIHJldHVybiBzZWFyY2hUZXJtcy5zb21lKHRlcm0gPT4gXG4gICAgICAgICAgY2FyZFRleHQuaW5jbHVkZXModGVybSkgfHwgXG4gICAgICAgICAgdGVybS5sZW5ndGggPD0gMyB8fCAvLyBJbmNsdWRlIHNob3J0IHRlcm1zIChjb2xvcnMsIGV0Yy4pXG4gICAgICAgICAgWydjYXJkJywgJ2JpcnRoZGF5JywgJ2Z1bm55JywgJ2N1dGUnLCAnbG92ZSddLnNvbWUoY29tbW9uID0+IGNhcmRUZXh0LmluY2x1ZGVzKGNvbW1vbikpXG4gICAgICAgICk7XG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgLy8gSWYgcHJlLWZpbHRlcmluZyByZW1vdmVzIHRvbyBtYW55IGNhcmRzLCBmYWxsIGJhY2sgdG8gYW5hbHl6aW5nIGFsbFxuICAgICAgY29uc3QgY2FyZHNUb0FuYWx5emUgPSB0ZXh0RmlsdGVyZWRDYXJkcy5sZW5ndGggPj0gTWF0aC5taW4oNTAsIGFsbENhcmRzLmxlbmd0aCAqIDAuMykgXG4gICAgICAgID8gdGV4dEZpbHRlcmVkQ2FyZHMgXG4gICAgICAgIDogYWxsQ2FyZHM7XG4gICAgICBcbiAgICAgIGNvbnN0IGZpbHRlck1lc3NhZ2UgPSB0ZXh0RmlsdGVyZWRDYXJkcy5sZW5ndGggPCBhbGxDYXJkcy5sZW5ndGggXG4gICAgICAgID8gYCAocHJlLWZpbHRlcmVkIGZyb20gJHthbGxDYXJkcy5sZW5ndGh9IGJhc2VkIG9uIHRleHQgcmVsZXZhbmNlKWBcbiAgICAgICAgOiAnJztcbiAgICAgIFxuICAgICAgdG9hc3QuaW5mbyhg8J+UjSBBSSBhbmFseXppbmcgJHtjYXJkc1RvQW5hbHl6ZS5sZW5ndGh9IGNhcmQgaW1hZ2VzIGZvciBcIiR7dGVtcGxhdGVTZWFyY2hRdWVyeX1cIiR7ZmlsdGVyTWVzc2FnZX0uLi5gKTtcblxuICAgICAgLy8gQWRhcHRpdmUgYmF0Y2ggc2l6aW5nIGJhc2VkIG9uIHF1ZXJ5IGNvbXBsZXhpdHkgYW5kIG51bWJlciBvZiBjYXJkc1xuICAgICAgY29uc3QgcXVlcnlDb21wbGV4aXR5ID0gdGVtcGxhdGVTZWFyY2hRdWVyeS5zcGxpdCgnICcpLmxlbmd0aDtcbiAgICAgIGNvbnN0IGFkYXB0aXZlQmF0Y2hTaXplID0gTWF0aC5taW4oXG4gICAgICAgIE1hdGgubWF4KDEwLCBNYXRoLmZsb29yKGNhcmRzVG9BbmFseXplLmxlbmd0aCAvIDgpKSwgLy8gOCBiYXRjaGVzIG1heFxuICAgICAgICBxdWVyeUNvbXBsZXhpdHkgPiAzID8gMTUgOiAyNSAvLyBTbWFsbGVyIGJhdGNoZXMgZm9yIGNvbXBsZXggcXVlcmllc1xuICAgICAgKTtcbiAgICAgIFxuICAgICAgY29uc29sZS5sb2coYPCfp6AgVXNpbmcgYWRhcHRpdmUgYmF0Y2ggc2l6ZTogJHthZGFwdGl2ZUJhdGNoU2l6ZX0gKHF1ZXJ5IGNvbXBsZXhpdHk6ICR7cXVlcnlDb21wbGV4aXR5fSB0ZXJtcylgKTtcbiAgICAgIFxuICAgICAgY29uc3QgYmF0Y2hlcyA9IFtdO1xuICAgICAgXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNhcmRzVG9BbmFseXplLmxlbmd0aDsgaSArPSBhZGFwdGl2ZUJhdGNoU2l6ZSkge1xuICAgICAgICBiYXRjaGVzLnB1c2goY2FyZHNUb0FuYWx5emUuc2xpY2UoaSwgaSArIGFkYXB0aXZlQmF0Y2hTaXplKSk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIGNvbnNvbGUubG9nKGDwn5qAIFByb2Nlc3NpbmcgJHtjYXJkc1RvQW5hbHl6ZS5sZW5ndGh9IGltYWdlcyBpbiAke2JhdGNoZXMubGVuZ3RofSBiYXRjaGVzIChhZGFwdGl2ZSBzaXplOiAke2FkYXB0aXZlQmF0Y2hTaXplfSlgKTtcbiAgICAgIFxuICAgICAgLy8gVXNlIHRoZSBleHRyYWN0ZWQgQUkgYW5hbHlzaXMgZnVuY3Rpb25cbiAgICAgIGNvbnNvbGUubG9nKGDwn5qAIFByb2Nlc3NpbmcgQUxMICR7YmF0Y2hlcy5sZW5ndGh9IGJhdGNoZXMgaW4gcGFyYWxsZWwhYCk7XG4gICAgICB0b2FzdC5pbmZvKGDwn5qAIFByb2Nlc3NpbmcgJHtiYXRjaGVzLmxlbmd0aH0gYmF0Y2hlcyBpbiBwYXJhbGxlbCAoJHtjYXJkc1RvQW5hbHl6ZS5sZW5ndGh9IGltYWdlcyB0b3RhbCkuLi5gKTtcbiAgICAgIFxuICAgICAgY29uc3QgYW5hbHlzaXNSZXN1bHRzID0gYXdhaXQgcGVyZm9ybUFJQW5hbHlzaXMoY2FyZHNUb0FuYWx5emUsIHRlbXBsYXRlU2VhcmNoUXVlcnkpO1xuICAgICAgXG4gICAgICAvLyBTb3J0IGJ5IHNjb3JlIChoaWdoZXN0IGZpcnN0KSBhbmQgZmlsdGVyIG91dCBsb3cgc2NvcmVzXG4gICAgICBjb25zdCByYW5rZWRSZXN1bHRzID0gYW5hbHlzaXNSZXN1bHRzXG4gICAgICAgIC5maWx0ZXIocmVzdWx0ID0+IHJlc3VsdC5zY29yZSA+PSAzMCkgLy8gT25seSBzaG93IGNhcmRzIHdpdGggc2NvcmUgMzArXG4gICAgICAgIC5zb3J0KChhLCBiKSA9PiBiLnNjb3JlIC0gYS5zY29yZSlcbiAgICAgICAgLnNsaWNlKDAsIDEwKTsgLy8gVG9wIDEwIHJlc3VsdHNcblxuICAgICAgaWYgKHJhbmtlZFJlc3VsdHMubGVuZ3RoID4gMCkge1xuICAgICAgICBjb25zdCBmaWx0ZXJlZENhcmRzID0gcmFua2VkUmVzdWx0cy5tYXAocmVzdWx0ID0+ICh7XG4gICAgICAgICAgLi4ucmVzdWx0LmNhcmQsXG4gICAgICAgICAgYWlTY29yZTogcmVzdWx0LnNjb3JlLFxuICAgICAgICAgIGFpQW5hbHlzaXM6IHJlc3VsdC5hbmFseXNpc1xuICAgICAgICB9KSk7XG4gICAgICAgIFxuICAgICAgICBzZXRBaUZpbHRlcmVkQ2FyZHMoZmlsdGVyZWRDYXJkcyk7XG4gICAgICAgIFxuICAgICAgICBjb25zdCBhdmdTY29yZSA9IE1hdGgucm91bmQocmFua2VkUmVzdWx0cy5yZWR1Y2UoKHN1bSwgcikgPT4gc3VtICsgci5zY29yZSwgMCkgLyByYW5rZWRSZXN1bHRzLmxlbmd0aCk7XG4gICAgICAgIHRvYXN0LnN1Y2Nlc3MoYPCfjq8gRm91bmQgJHtmaWx0ZXJlZENhcmRzLmxlbmd0aH0gbWF0Y2hlcyBmb3IgXCIke3RlbXBsYXRlU2VhcmNoUXVlcnl9XCIhIEF2ZXJhZ2UgcmVsZXZhbmNlOiAke2F2Z1Njb3JlfSVgKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRvYXN0LmluZm8oXCLwn6SUIE5vIHRlbXBsYXRlcyBmb3VuZCBtYXRjaGluZyB5b3VyIHNlYXJjaC4gVHJ5IGEgZGlmZmVyZW50IHF1ZXJ5IVwiKTtcbiAgICAgICAgc2V0QWlGaWx0ZXJlZENhcmRzKFtdKTtcbiAgICAgIH1cbiAgICAgIFxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdBSSB0ZW1wbGF0ZSBzZWFyY2ggZmFpbGVkOicsIGVycm9yKTtcbiAgICAgIHRvYXN0LmVycm9yKFwiQUkgc2VhcmNoIGZhaWxlZC4gUGxlYXNlIHRyeSBhZ2Fpbi5cIik7XG4gICAgICBzZXRBaUZpbHRlcmVkQ2FyZHMoW10pO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBzZXRJc1NlYXJjaGluZ1RlbXBsYXRlcyhmYWxzZSk7XG4gICAgfVxuICB9O1xuXG4gIC8vIEh5YnJpZCBTZWFyY2ggRnVuY3Rpb24gKFRleHQgKyBBSSBFbmhhbmNlbWVudClcbiAgY29uc3QgaGFuZGxlSHlicmlkVGVtcGxhdGVTZWFyY2ggPSBhc3luYyAoKSA9PiB7XG4gICAgaWYgKCF0ZW1wbGF0ZVNlYXJjaFF1ZXJ5LnRyaW0oKSkge1xuICAgICAgdG9hc3QuZXJyb3IoXCJQbGVhc2UgZW50ZXIgYSBzZWFyY2ggcXVlcnkhXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHNldElzU2VhcmNoaW5nVGVtcGxhdGVzKHRydWUpO1xuICAgIFxuICAgIHRyeSB7XG4gICAgICAvLyBQaGFzZSAxOiBGYXN0IHRleHQgc2VhcmNoIGZvciBpbW1lZGlhdGUgcmVzdWx0c1xuICAgICAgdG9hc3QuaW5mbyhg8J+agCBQaGFzZSAxOiBGYXN0IHRleHQgc2VhcmNoLi4uYCk7XG4gICAgICBoYW5kbGVUZXh0VGVtcGxhdGVTZWFyY2goKTtcbiAgICAgIFxuICAgICAgLy8gUGhhc2UgMjogQUkgZW5oYW5jZW1lbnQgb24gdGV4dCByZXN1bHRzXG4gICAgICBjb25zdCBhbGxDYXJkcyA9IGdldENhY2hlZENhcmRzKDEsIE1hdGgubWF4KHRvdGFsQ2FyZHMsIDEwMDApKTtcbiAgICAgIGNvbnN0IHNlYXJjaFRlcm1zID0gdGVtcGxhdGVTZWFyY2hRdWVyeS50b0xvd2VyQ2FzZSgpLnNwbGl0KCcgJykuZmlsdGVyKHRlcm0gPT4gdGVybS5sZW5ndGggPiAxKTtcbiAgICAgIFxuICAgICAgLy8gR2V0IHRleHQtZmlsdGVyZWQgY2FyZHMgZm9yIEFJIGFuYWx5c2lzXG4gICAgICBjb25zdCB0ZXh0Q2FuZGlkYXRlcyA9IGFsbENhcmRzLmZpbHRlcihjYXJkID0+IHtcbiAgICAgICAgY29uc3QgY2FyZFRleHQgPSAoY2FyZC5wcm9tcHQgfHwgJycpLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIHJldHVybiBzZWFyY2hUZXJtcy5zb21lKHRlcm0gPT4gY2FyZFRleHQuaW5jbHVkZXModGVybSkpIHx8IHNlYXJjaFRlcm1zLmxlbmd0aCA9PT0gMDtcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICAvLyBJZiB0ZXh0IGZpbHRlcmluZyBnaXZlcyB1cyBhIHJlYXNvbmFibGUgc3Vic2V0LCB1c2UgaXQ7IG90aGVyd2lzZSB1c2UgYWxsIGNhcmRzXG4gICAgICBjb25zdCBjYXJkc1RvQW5hbHl6ZSA9IHRleHRDYW5kaWRhdGVzLmxlbmd0aCA+IDAgJiYgdGV4dENhbmRpZGF0ZXMubGVuZ3RoIDwgYWxsQ2FyZHMubGVuZ3RoICogMC44IFxuICAgICAgICA/IHRleHRDYW5kaWRhdGVzIFxuICAgICAgICA6IGFsbENhcmRzO1xuICAgICAgXG4gICAgICB0b2FzdC5pbmZvKGDwn46oIFBoYXNlIDI6IEFJIHZpc3VhbCBhbmFseXNpcyBvbiAke2NhcmRzVG9BbmFseXplLmxlbmd0aH0gY2FuZGlkYXRlcy4uLmApO1xuICAgICAgXG4gICAgICAgICAgICAgLy8gUnVuIEFJIGFuYWx5c2lzIG9uIHRoZSBjYW5kaWRhdGVzXG4gICAgICAgY29uc3QgYW5hbHlzaXNSZXN1bHRzID0gYXdhaXQgcGVyZm9ybUFJQW5hbHlzaXMoY2FyZHNUb0FuYWx5emUsIHRlbXBsYXRlU2VhcmNoUXVlcnkpO1xuICAgICAgXG4gICAgICAgICAgICAgLy8gQ29tYmluZSB0ZXh0IGFuZCBBSSBzY29yZXMgZm9yIGZpbmFsIHJhbmtpbmdcbiAgICAgICBjb25zdCBoeWJyaWRSZXN1bHRzID0gYW5hbHlzaXNSZXN1bHRzLm1hcCgocmVzdWx0OiBhbnkpID0+ICh7XG4gICAgICAgICAuLi5yZXN1bHQsXG4gICAgICAgICBoeWJyaWRTY29yZTogKHJlc3VsdC5zY29yZSAqIDAuNykgKyAoKHJlc3VsdC5jYXJkLnRleHRTY29yZSB8fCAwKSAqIDAuMykgLy8gNzAlIEFJLCAzMCUgdGV4dFxuICAgICAgIH0pKS5zb3J0KChhOiBhbnksIGI6IGFueSkgPT4gYi5oeWJyaWRTY29yZSAtIGEuaHlicmlkU2NvcmUpO1xuICAgICAgIFxuICAgICAgIGNvbnN0IGZpbmFsUmVzdWx0cyA9IGh5YnJpZFJlc3VsdHMuc2xpY2UoMCwgMTApLm1hcCgocmVzdWx0OiBhbnkpID0+ICh7XG4gICAgICAgICAuLi5yZXN1bHQuY2FyZCxcbiAgICAgICAgIGFpU2NvcmU6IE1hdGgucm91bmQocmVzdWx0Lmh5YnJpZFNjb3JlKSxcbiAgICAgICAgIGFpQW5hbHlzaXM6IGBIeWJyaWQ6ICR7cmVzdWx0LmFuYWx5c2lzfWBcbiAgICAgICB9KSk7XG4gICAgICAgXG4gICAgICAgc2V0QWlGaWx0ZXJlZENhcmRzKGZpbmFsUmVzdWx0cyk7XG4gICAgICAgXG4gICAgICAgaWYgKGZpbmFsUmVzdWx0cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICBjb25zdCBhdmdTY29yZSA9IE1hdGgucm91bmQoaHlicmlkUmVzdWx0cy5yZWR1Y2UoKHN1bTogbnVtYmVyLCByOiBhbnkpID0+IHN1bSArIHIuaHlicmlkU2NvcmUsIDApIC8gaHlicmlkUmVzdWx0cy5sZW5ndGgpO1xuICAgICAgICAgdG9hc3Quc3VjY2Vzcyhg8J+OryBIeWJyaWQgc2VhcmNoIGNvbXBsZXRlISBGb3VuZCAke2ZpbmFsUmVzdWx0cy5sZW5ndGh9IG1hdGNoZXMgZm9yIFwiJHt0ZW1wbGF0ZVNlYXJjaFF1ZXJ5fVwiISBBdmVyYWdlIHJlbGV2YW5jZTogJHthdmdTY29yZX0lYCk7XG4gICAgICAgfSBlbHNlIHtcbiAgICAgICAgIHRvYXN0LmluZm8oXCLwn6SUIE5vIHRlbXBsYXRlcyBmb3VuZCBtYXRjaGluZyB5b3VyIHNlYXJjaC4gVHJ5IGEgZGlmZmVyZW50IHF1ZXJ5IVwiKTtcbiAgICAgICB9XG4gICAgICBcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignSHlicmlkIHRlbXBsYXRlIHNlYXJjaCBmYWlsZWQ6JywgZXJyb3IpO1xuICAgICAgdG9hc3QuZXJyb3IoXCJIeWJyaWQgc2VhcmNoIGZhaWxlZC4gUGxlYXNlIHRyeSBhZ2Fpbi5cIik7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldElzU2VhcmNoaW5nVGVtcGxhdGVzKGZhbHNlKTtcbiAgICB9XG4gIH07XG5cbiAgLy8gTWFpbiBzZWFyY2ggaGFuZGxlciB0aGF0IHJvdXRlcyB0byBhcHByb3ByaWF0ZSBzZWFyY2ggbWV0aG9kXG4gIGNvbnN0IGhhbmRsZVRlbXBsYXRlU2VhcmNoID0gKCkgPT4ge1xuICAgIHN3aXRjaCAoc2VhcmNoTW9kZSkge1xuICAgICAgY2FzZSAndGV4dCc6XG4gICAgICAgIGhhbmRsZVRleHRUZW1wbGF0ZVNlYXJjaCgpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ2FpJzpcbiAgICAgICAgaGFuZGxlQUlUZW1wbGF0ZVNlYXJjaCgpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ2h5YnJpZCc6XG4gICAgICAgIGhhbmRsZUh5YnJpZFRlbXBsYXRlU2VhcmNoKCk7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBjbGVhclRlbXBsYXRlU2VhcmNoID0gKCkgPT4ge1xuICAgIHNldFRlbXBsYXRlU2VhcmNoUXVlcnkoXCJcIik7XG4gICAgc2V0QWlGaWx0ZXJlZENhcmRzKFtdKTtcbiAgICBzZXRUZXh0RmlsdGVyZWRDYXJkcyhbXSk7XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlQ29uZmlybVByaW50ID0gYXN5bmMgKCkgPT4ge1xuICAgIC8vIEFsd2F5cyB1c2UgdGhlIGNhcmQgZnJvbSB0aGUgcHJldmlldyBhcmVhXG4gICAgY29uc3QgY2FyZFRvUHJpbnQgPSBnZW5lcmF0ZWRDYXJkO1xuICAgIGlmICghY2FyZFRvUHJpbnQpIHtcbiAgICAgIHRvYXN0LmVycm9yKFwiTm8gY2FyZCBhdmFpbGFibGUgdG8gcHJpbnRcIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFxuICAgIC8vIFZhbGlkYXRlIGVtYWlsIGJlZm9yZSBwcm9jZWVkaW5nXG4gICAgaWYgKCF1c2VyRW1haWwudHJpbSgpKSB7XG4gICAgICB0b2FzdC5lcnJvcihcIlBsZWFzZSBlbnRlciB5b3VyIGVtYWlsIGFkZHJlc3MgYmVmb3JlIHByaW50aW5nXCIpO1xuICAgICAgc2V0U2hvd1ByaW50Q29uZmlybWF0aW9uKGZhbHNlKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgXG4gICAgc2V0U2hvd1ByaW50Q29uZmlybWF0aW9uKGZhbHNlKTtcbiAgICBcbiAgICAvLyBOb3RlOiBXZSBubyBsb25nZXIgdXNlIHNlbGVjdGVkVGVtcGxhdGUgZm9yIGRpcmVjdCBwcmludGluZ1xuICAgIFxuICAgIHRyeSB7XG4gICAgICAvLyBWYWxpZGF0ZSBjYXJkIGRhdGFcbiAgICAgIGlmICghY2FyZFRvUHJpbnQuZnJvbnRDb3Zlcikge1xuICAgICAgICB0b2FzdC5lcnJvcihcIkNhcmQgaXMgbWlzc2luZyBmcm9udCBjb3ZlciBpbWFnZS4gUGxlYXNlIHJlZ2VuZXJhdGUgdGhlIGNhcmQuXCIpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBcbiAgICAgIGlmICghY2FyZFRvUHJpbnQuYmFja0NvdmVyKSB7XG4gICAgICAgIHRvYXN0LmVycm9yKFwiQ2FyZCBpcyBtaXNzaW5nIGJhY2sgY292ZXIgaW1hZ2UuIFBsZWFzZSByZWdlbmVyYXRlIHRoZSBjYXJkLlwiKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgXG4gICAgICBpZiAoIWlzRnJvbnRCYWNrT25seSAmJiAoIWNhcmRUb1ByaW50LmxlZnRQYWdlIHx8ICFjYXJkVG9QcmludC5yaWdodFBhZ2UpKSB7XG4gICAgICAgIHRvYXN0LmVycm9yKFwiQ2FyZCBpcyBtaXNzaW5nIGludGVyaW9yIHBhZ2VzLiBQbGVhc2UgcmVnZW5lcmF0ZSB0aGUgY2FyZCBvciB1c2UgZnJvbnQtYmFjayBvbmx5IG1vZGUuXCIpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIFByZXBhcmUgY2FyZCBkYXRhIGZvciBib3RoIHByaW50aW5nIGFuZCBQREYgZW1haWxcbiAgICAgIGNvbnN0IGNhcmREYXRhID0ge1xuICAgICAgICBmcm9udF9jb3ZlcjogY2FyZFRvUHJpbnQuZnJvbnRDb3ZlcixcbiAgICAgICAgYmFja19jb3ZlcjogY2FyZFRvUHJpbnQuYmFja0NvdmVyLFxuICAgICAgICBsZWZ0X3BhZ2U6IGNhcmRUb1ByaW50LmxlZnRQYWdlLFxuICAgICAgICByaWdodF9wYWdlOiBjYXJkVG9QcmludC5yaWdodFBhZ2UsXG4gICAgICAgIGNhcmRfbmFtZTogKGNhcmRUb1ByaW50LnByb21wdCB8fCAnQ3VzdG9tIENhcmQnKS5zdWJzdHJpbmcoMCwgNTApICsgKChjYXJkVG9QcmludC5wcm9tcHQgfHwgJycpLmxlbmd0aCA+IDUwID8gJy4uLicgOiAnJyksXG4gICAgICAgIHBhcGVyX3NpemU6IHNlbGVjdGVkUGFwZXJTaXplLFxuICAgICAgICBpc19mcm9udF9iYWNrX29ubHk6IGlzRnJvbnRCYWNrT25seSxcbiAgICAgICAgY29waWVzOiAxLFxuICAgICAgICBjb2xvcl9tb2RlOiAnY29sb3InLFxuICAgICAgICBxdWFsaXR5OiAnaGlnaCdcbiAgICAgIH07XG5cbiAgICAgIGNvbnNvbGUubG9nKCdQcmludCBkYXRhOicsIHsgcHJpbnRPcHRpb24sIHVzZXJFbWFpbCwgY2FyZERhdGEgfSk7XG5cbiAgICAgIGlmIChwcmludE9wdGlvbiA9PT0gJ2VtYWlsJykge1xuICAgICAgICAvLyBTZW5kIFBERiB0byBlbWFpbFxuICAgICAgICBjb25zdCBlbWFpbERhdGEgPSB7XG4gICAgICAgICAgLi4uY2FyZERhdGEsXG4gICAgICAgICAgdXNlcl9lbWFpbDogdXNlckVtYWlsLnRyaW0oKSxcbiAgICAgICAgICBzZW5kX3BkZjogdHJ1ZVxuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnNvbGUubG9nKCdTZW5kaW5nIGVtYWlsIGRhdGE6JywgZW1haWxEYXRhKTtcblxuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCcvYXBpL3NlbmQtcGRmLWVtYWlsJywge1xuICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgfSxcbiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShlbWFpbERhdGEpLFxuICAgICAgICB9KTtcblxuICAgICAgICBjb25zb2xlLmxvZygnRW1haWwgcmVzcG9uc2Ugc3RhdHVzOicsIHJlc3BvbnNlLnN0YXR1cyk7XG5cbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgIGNvbnN0IGVycm9yVGV4dCA9IGF3YWl0IHJlc3BvbnNlLnRleHQoKTtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdFbWFpbCByZXNwb25zZSBlcnJvcjonLCBlcnJvclRleHQpO1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSFRUUCAke3Jlc3BvbnNlLnN0YXR1c306ICR7ZXJyb3JUZXh0fWApO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgICBjb25zb2xlLmxvZygnRW1haWwgcmVzcG9uc2UgcmVzdWx0OicsIHJlc3VsdCk7XG4gICAgICAgIFxuICAgICAgICBpZiAocmVzdWx0LnN0YXR1cyA9PT0gJ3N1Y2Nlc3MnKSB7XG4gICAgICAgICAgdG9hc3Quc3VjY2Vzcyhg8J+TpyBQREYgc2VudCB0byAke3VzZXJFbWFpbH0hIENoZWNrIHlvdXIgaW5ib3guYCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHJlc3VsdC5lcnJvciB8fCAnRmFpbGVkIHRvIHNlbmQgUERGJyk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIFBoeXNpY2FsIHByaW50aW5nXG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hcGkvcHJpbnQtcXVldWUnLCB7XG4gICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICB9LFxuICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGNhcmREYXRhKSxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSFRUUCAke3Jlc3BvbnNlLnN0YXR1c31gKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgXG4gICAgICAgIGlmIChyZXN1bHQuc3RhdHVzID09PSAncXVldWVkJykge1xuICAgICAgICAgIGNvbnN0IGNhcmRUeXBlID0gaXNGcm9udEJhY2tPbmx5ID8gJ0Zyb250L0JhY2sgY2FyZCcgOiAnRnVsbCBkdXBsZXggY2FyZCc7XG4gICAgICAgICAgY29uc3QgZHVwbGV4SW5mbyA9IHJlc3VsdC5kdXBsZXggPyAnIChkdXBsZXggZW5hYmxlZCknIDogJyAoc2luZ2xlLXNpZGVkKSc7XG4gICAgICAgICAgdG9hc3Quc3VjY2Vzcyhg8J+WqO+4jyBZb3VyIGNhcmQgaXMgbm93IHByaW50aW5nISBZb3UgY2FuIHBpY2sgaXQgdXAgc2hvcnRseS5gKTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBQb2xsIGZvciBqb2Igc3RhdHVzXG4gICAgICAgICAgbGV0IHBvbGxDb3VudCA9IDA7XG4gICAgICAgICAgY29uc3QgbWF4UG9sbHMgPSA2OyAvLyBQb2xsIGZvciB1cCB0byA2MCBzZWNvbmRzXG4gICAgICAgICAgXG4gICAgICAgICAgY29uc3QgcG9sbFN0YXR1cyA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIGNvbnN0IHN0YXR1c1Jlc3BvbnNlID0gYXdhaXQgZmV0Y2goYC9hcGkvcHJpbnQtc3RhdHVzLyR7cmVzdWx0LmpvYl9pZH1gKTtcbiAgICAgICAgICAgICAgaWYgKHN0YXR1c1Jlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3RhdHVzUmVzdWx0ID0gYXdhaXQgc3RhdHVzUmVzcG9uc2UuanNvbigpO1xuICAgICAgICAgICAgICAgIGlmIChzdGF0dXNSZXN1bHQuc3RhdHVzID09PSAnZm91bmQnKSB7XG4gICAgICAgICAgICAgICAgICBpZiAoc3RhdHVzUmVzdWx0LmpvYi5zdGF0dXMgPT09ICdjb21wbGV0ZWQnKSB7XG4gICAgICAgICAgICAgICAgICAgIHRvYXN0LnN1Y2Nlc3MoXCLinIUgWW91ciBjYXJkIGhhcyBiZWVuIGFkZGVkIHRvIHRoZSBwcmludCBxdWV1ZSBhbmQgc2hvdWxkIGJlIGF2YWlsYWJsZSBmb3IgcGlja3VwIHNob3J0bHkuXCIpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHN0YXR1c1Jlc3VsdC5qb2Iuc3RhdHVzID09PSAnZmFpbGVkJykge1xuICAgICAgICAgICAgICAgICAgICB0b2FzdC5lcnJvcihcIuKdjCBUaGVyZSB3YXMgYW4gaXNzdWUgd2l0aCBwcmludGluZy4gUGxlYXNlIHRyeSBhZ2FpbiBvciBjb250YWN0IHVzIGZvciBoZWxwLlwiKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChzdGF0dXNSZXN1bHQuam9iLnN0YXR1cyA9PT0gJ3BlbmRpbmcnICYmIHBvbGxDb3VudCA8IG1heFBvbGxzKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFN0aWxsIHBlbmRpbmcsIHBvbGwgYWdhaW5cbiAgICAgICAgICAgICAgICAgICAgcG9sbENvdW50Kys7XG4gICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQocG9sbFN0YXR1cywgMTAwMDApO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJDb3VsZCBub3QgY2hlY2sgcHJpbnQgc3RhdHVzOlwiLCBlcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBTdGFydCBwb2xsaW5nIGFmdGVyIDEwIHNlY29uZHNcbiAgICAgICAgICBzZXRUaW1lb3V0KHBvbGxTdGF0dXMsIDEwMDAwKTtcbiAgICAgICAgICBcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IocmVzdWx0LmVycm9yIHx8ICdVbmtub3duIGVycm9yJyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignUHJpbnQvRW1haWwgZXJyb3I6JywgZXJyb3IpO1xuICAgICAgdG9hc3QuZXJyb3IocHJpbnRPcHRpb24gPT09ICdlbWFpbCcgPyBcIkZhaWxlZCB0byBzZW5kIFBERiBlbWFpbFwiIDogXCJGYWlsZWQgdG8gcXVldWUgcHJpbnQgam9iXCIpO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwibWluLWgtc2NyZWVuIGJnLWdyYWRpZW50LXRvLWJyIGZyb20tc2xhdGUtNTAgdmlhLWJsdWUtNTAgdG8tY3lhbi01MCBkYXJrOmZyb20tZ3JheS05MDAgZGFyazp2aWEtc2xhdGUtODAwIGRhcms6dG8tZ3JheS04MDBcIj5cbiAgICAgIDxDcml0aWNhbFJlc291cmNlUHJlbG9hZGVyIC8+XG4gICAgICA8RWFybHlDYXJkUHJlbG9hZGVyIC8+XG4gICAgICB7LyogU2ltcGxpZmllZCBIZWFkZXIgKi99XG4gICAgICA8aGVhZGVyIGNsYXNzTmFtZT1cImJvcmRlci1iIGJnLXdoaXRlLzgwIGRhcms6YmctZ3JheS05MDAvODAgYmFja2Ryb3AtYmx1ci1zbSBzdGlja3kgdG9wLTAgei01MFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhaW5lciBteC1hdXRvIHB4LTQgcHktM1wiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIHNwYWNlLXgtM1wiPlxuICAgICAgICAgICAgICA8TGluayBocmVmPVwiL1wiPlxuICAgICAgICAgICAgICAgIDxCdXR0b24gdmFyaWFudD1cImdob3N0XCIgc2l6ZT1cInNtXCIgY2xhc3NOYW1lPVwiZ2FwLTJcIj5cbiAgICAgICAgICAgICAgICAgIDxBcnJvd0xlZnQgY2xhc3NOYW1lPVwidy00IGgtNFwiIC8+XG4gICAgICAgICAgICAgICAgICBCYWNrXG4gICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgIDwvTGluaz5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBzcGFjZS14LTJcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctOCBoLTggYmctZ3JhZGllbnQtdG8tYnIgZnJvbS1ibHVlLTUwMCB0by1jeWFuLTYwMCByb3VuZGVkLWxnIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICA8U3BhcmtsZXMgY2xhc3NOYW1lPVwidy01IGgtNSB0ZXh0LXdoaXRlXCIgLz5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgPGgxIGNsYXNzTmFtZT1cInRleHQtbGcgZm9udC1ib2xkIHRleHQtZ3JheS05MDAgZGFyazp0ZXh0LXdoaXRlXCI+XG4gICAgICAgICAgICAgICAgICAgIFZpYmVDYXJkaW5nXG4gICAgICAgICAgICAgICAgICA8L2gxPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPExpbmsgaHJlZj1cIi9nYWxsZXJ5XCI+XG4gICAgICAgICAgICAgICAgPEJ1dHRvbiB2YXJpYW50PVwiZ2hvc3RcIiBzaXplPVwic21cIiBjbGFzc05hbWU9XCJnYXAtMiB0ZXh0LWdyYXktNjAwIGhvdmVyOnRleHQtZ3JheS05MDAgZGFyazp0ZXh0LWdyYXktNDAwIGRhcms6aG92ZXI6dGV4dC1ncmF5LTEwMFwiPlxuICAgICAgICAgICAgICAgICAgPEV5ZSBjbGFzc05hbWU9XCJ3LTQgaC00XCIgLz5cbiAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImhpZGRlbiBzbTppbmxpbmVcIj5JbmZpbml0ZSBHYWxsZXJ5PC9zcGFuPlxuICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICA8L0xpbms+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIHsvKiBTZXR0aW5ncyBNZW51ICovfVxuICAgICAgICAgICAgPFBvcG92ZXIgb3Blbj17c2hvd1NldHRpbmdzfSBvbk9wZW5DaGFuZ2U9e3NldFNob3dTZXR0aW5nc30+XG4gICAgICAgICAgICAgIDxQb3BvdmVyVHJpZ2dlciBhc0NoaWxkPlxuICAgICAgICAgICAgICAgIDxCdXR0b24gdmFyaWFudD1cImdob3N0XCIgc2l6ZT1cInNtXCIgY2xhc3NOYW1lPVwiaC05IHctOSBwLTBcIj5cbiAgICAgICAgICAgICAgICAgIDxTZXR0aW5nczIgY2xhc3NOYW1lPVwiaC00IHctNFwiIC8+XG4gICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJzci1vbmx5XCI+U2V0dGluZ3M8L3NwYW4+XG4gICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgIDwvUG9wb3ZlclRyaWdnZXI+XG4gICAgICAgICAgICAgIDxQb3BvdmVyQ29udGVudCBjbGFzc05hbWU9XCJ3LTgwIHAtMFwiIGFsaWduPVwiZW5kXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwLTQgc3BhY2UteS00XCI+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktMlwiPlxuICAgICAgICAgICAgICAgICAgICA8aDQgY2xhc3NOYW1lPVwiZm9udC1tZWRpdW0gbGVhZGluZy1ub25lXCI+U2V0dGluZ3M8L2g0PlxuICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtbXV0ZWQtZm9yZWdyb3VuZFwiPlxuICAgICAgICAgICAgICAgICAgICAgIENvbmZpZ3VyZSB5b3VyIGNhcmQgY3JlYXRpb24gcHJlZmVyZW5jZXNcbiAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgIHsvKiBUaGVtZSBUb2dnbGUgKi99XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlblwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktMC41XCI+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXNtIGZvbnQtbWVkaXVtXCI+VGhlbWU8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1tdXRlZC1mb3JlZ3JvdW5kXCI+U3dpdGNoIGJldHdlZW4gbGlnaHQgYW5kIGRhcmsgbW9kZTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPE1vZGVUb2dnbGUgLz5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICA8U2VwYXJhdG9yIC8+XG4gICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgIHsvKiBBZHZhbmNlZCBPcHRpb25zIFRvZ2dsZSAqL31cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0zXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuXCI+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTAuNVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXNtIGZvbnQtbWVkaXVtXCI+QWR2YW5jZWQgT3B0aW9uczwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtbXV0ZWQtZm9yZWdyb3VuZFwiPlNob3cgYWRkaXRpb25hbCBjYXJkIHNldHRpbmdzPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyaWFudD1cIm91dGxpbmVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZT1cInNtXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldFNob3dBZHZhbmNlZCghc2hvd0FkdmFuY2VkKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImgtOFwiXG4gICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAge3Nob3dBZHZhbmNlZCA/IFwiSGlkZVwiIDogXCJTaG93XCJ9XG4gICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvUG9wb3ZlckNvbnRlbnQ+XG4gICAgICAgICAgICA8L1BvcG92ZXI+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9oZWFkZXI+XG5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyIG14LWF1dG8gcHgtNCBweS02IG1heC13LTJ4bFwiPlxuICAgICAgICB7LyogTWFpbiBGb3JtICovfVxuICAgICAgICA8Q2FyZCBjbGFzc05hbWU9XCJzaGFkb3ctbGcgbWItNlwiPlxuICAgICAgICAgICAgICA8Q2FyZEhlYWRlciBjbGFzc05hbWU9XCJiZy1ncmFkaWVudC10by1yIGZyb20tYmx1ZS01MCB0by1jeWFuLTUwIGRhcms6ZnJvbS1ibHVlLTkwMC8yMCBkYXJrOnRvLWN5YW4tOTAwLzIwIHJvdW5kZWQtdC1sZ1wiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0zXCI+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlblwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTEwIGgtMTAgYmctZ3JhZGllbnQtdG8tYnIgZnJvbS1ibHVlLTUwMCB0by1jeWFuLTYwMCByb3VuZGVkLWxnIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHNoYWRvdy1sZ1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPFNwYXJrbGVzIGNsYXNzTmFtZT1cInctNiBoLTYgdGV4dC13aGl0ZVwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxDYXJkVGl0bGUgY2xhc3NOYW1lPVwidGV4dC14bCBzbTp0ZXh0LTJ4bCBmb250LWJvbGQgYmctZ3JhZGllbnQtdG8tciBmcm9tLWJsdWUtNjAwIHRvLWN5YW4tNjAwIGJnLWNsaXAtdGV4dCB0ZXh0LXRyYW5zcGFyZW50IHdoaXRlc3BhY2Utbm93cmFwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIENyZWF0ZSBZb3VyIENhcmRcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvQ2FyZFRpdGxlPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgeyhwcm9tcHQgfHwgdG9GaWVsZCB8fCBmcm9tRmllbGQgfHwgZ2VuZXJhdGVkQ2FyZHMubGVuZ3RoID4gMCkgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LWdyZWVuLTYwMCBkYXJrOnRleHQtZ3JlZW4tNDAwIGZsZXggaXRlbXMtY2VudGVyIGdhcC0xXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8Q2xvY2sgY2xhc3NOYW1lPVwidy0zIGgtM1wiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJoaWRkZW4gc206aW5saW5lXCI+QXV0by1zYXZlZDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInNtOmhpZGRlblwiPlNhdmVkPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgIHZhcmlhbnQ9XCJvdXRsaW5lXCJcbiAgICAgICAgICAgICAgICAgICAgc2l6ZT1cInNtXCJcbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIHNldFNob3dUZW1wbGF0ZUdhbGxlcnkodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBzbTp3LWF1dG8gZ2FwLTIgYmctd2hpdGUgZGFyazpiZy1ncmF5LTgwMCBob3ZlcjpiZy1ncmF5LTUwIGRhcms6aG92ZXI6YmctZ3JheS03MDAgYm9yZGVyLWdyYXktMjAwIGRhcms6Ym9yZGVyLWdyYXktNzAwXCJcbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPEV5ZSBjbGFzc05hbWU9XCJ3LTQgaC00XCIgLz5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4+QnJvd3NlIFRlbXBsYXRlczwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L0NhcmRIZWFkZXI+XG4gICAgICAgICAgICAgIDxDYXJkQ29udGVudCBjbGFzc05hbWU9XCJzcGFjZS15LTYgcHQtNlwiPlxuICAgICAgICAgICAgey8qIENhcmQgVHlwZSAqL31cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktM1wiPlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMS41IGgtOCBiZy1ncmFkaWVudC10by1iIGZyb20tYmx1ZS01MDAgdG8tY3lhbi01MDAgcm91bmRlZC1mdWxsXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cInRleHQtYmFzZSBmb250LXNlbWlib2xkIHRleHQtZ3JheS04MDAgZGFyazp0ZXh0LWdyYXktMjAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgQ2FyZCBUeXBlXG4gICAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDxTZWxlY3QgdmFsdWU9e3NlbGVjdGVkVHlwZX0gb25WYWx1ZUNoYW5nZT17c2V0U2VsZWN0ZWRUeXBlfT5cbiAgICAgICAgICAgICAgICAgICAgPFNlbGVjdFRyaWdnZXIgY2xhc3NOYW1lPVwiaC0xMiBib3JkZXItMiBob3Zlcjpib3JkZXItYmx1ZS0zMDAgZGFyazpob3Zlcjpib3JkZXItYmx1ZS03MDAgdHJhbnNpdGlvbi1jb2xvcnNcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0VmFsdWU+XG4gICAgICAgICAgICAgICAgICAgICAgICB7KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2VsZWN0ZWQgPSBjYXJkVHlwZXMuZmluZCgodHlwZSkgPT4gdHlwZS5pZCA9PT0gc2VsZWN0ZWRUeXBlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFzZWxlY3RlZCkgcmV0dXJuIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtZ3JheS00MDBcIj5DaG9vc2UgY2FyZCB0eXBlPC9zcGFuPjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgSWNvbkNvbXBvbmVudCA9IHNlbGVjdGVkLmljb247XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTYgaC02IGJnLWdyYWRpZW50LXRvLWJyIGZyb20tYmx1ZS0xMDAgdG8tY3lhbi0xMDAgZGFyazpmcm9tLWJsdWUtOTAwIGRhcms6dG8tY3lhbi05MDAgcm91bmRlZC1sZyBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SWNvbkNvbXBvbmVudCBjbGFzc05hbWU9XCJ3LTQgaC00IHRleHQtYmx1ZS02MDAgZGFyazp0ZXh0LWJsdWUtNDAwXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZm9udC1tZWRpdW0gdGV4dC1ncmF5LTkwMCBkYXJrOnRleHQtZ3JheS0xMDBcIj57c2VsZWN0ZWQubGFiZWx9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSkoKX1cbiAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdFZhbHVlPlxuICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdFRyaWdnZXI+XG4gICAgICAgICAgICAgICAgICAgIDxTZWxlY3RDb250ZW50IGNsYXNzTmFtZT1cIm1heC1oLVs0MDBweF1cIj5cbiAgICAgICAgICAgICAgICAgICAgICB7Y2FyZFR5cGVzLm1hcCgodHlwZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgSWNvbkNvbXBvbmVudCA9IHR5cGUuaWNvbjtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3RJdGVtIGtleT17dHlwZS5pZH0gdmFsdWU9e3R5cGUuaWR9IGNsYXNzTmFtZT1cImN1cnNvci1wb2ludGVyIGhvdmVyOmJnLWJsdWUtNTAgZGFyazpob3ZlcjpiZy1ibHVlLTkwMC8yMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTMgcHktMVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTggaC04IGJnLWdyYWRpZW50LXRvLWJyIGZyb20tZ3JheS0xMDAgdG8tZ3JheS0yMDAgZGFyazpmcm9tLWdyYXktODAwIGRhcms6dG8tZ3JheS03MDAgcm91bmRlZC1sZyBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SWNvbkNvbXBvbmVudCBjbGFzc05hbWU9XCJ3LTQgaC00IHRleHQtZ3JheS03MDAgZGFyazp0ZXh0LWdyYXktMzAwXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4LTFcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkIHRleHQtZ3JheS05MDAgZGFyazp0ZXh0LWdyYXktMTAwXCI+e3R5cGUubGFiZWx9PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LWdyYXktNjAwIGRhcms6dGV4dC1ncmF5LTQwMFwiPnt0eXBlLmRlc2NyaXB0aW9ufTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0SXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Q29udGVudD5cbiAgICAgICAgICAgICAgICAgIDwvU2VsZWN0PlxuICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICB7LyogQ3VzdG9tIENhcmQgVHlwZSBJbnB1dCAqL31cbiAgICAgICAgICAgICAgICAgIHtzZWxlY3RlZFR5cGUgPT09IFwiY3VzdG9tXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTQgcC00IGJnLXB1cnBsZS01MCBkYXJrOmJnLXB1cnBsZS05MDAvMjAgcm91bmRlZC1sZyBib3JkZXIgYm9yZGVyLXB1cnBsZS0yMDAgZGFyazpib3JkZXItcHVycGxlLTgwMCBhbmltYXRlLWluIHNsaWRlLWluLWZyb20tdG9wLTIgZHVyYXRpb24tMzAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cInRleHQtc20gZm9udC1zZW1pYm9sZCB0ZXh0LXB1cnBsZS05MDAgZGFyazp0ZXh0LXB1cnBsZS0xMDAgbWItMyBibG9jayBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPFdyZW5jaCBjbGFzc05hbWU9XCJ3LTQgaC00XCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIERlc2NyaWJlIFlvdXIgQ3VzdG9tIENhcmQgVHlwZVxuICAgICAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIuKcqCBFLmcuLCAnUHJvbW90aW9uIGF0IHdvcmsnLCAnTW92aW5nIGF3YXknLCAnRmlyc3QgZGF5IG9mIHNjaG9vbCdcIlxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e2N1c3RvbUNhcmRUeXBlfVxuICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRDdXN0b21DYXJkVHlwZShlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJoLTEyIGJvcmRlci0yIGJvcmRlci1wdXJwbGUtMzAwIGRhcms6Ym9yZGVyLXB1cnBsZS03MDAgZm9jdXM6Ym9yZGVyLXB1cnBsZS01MDAgZGFyazpmb2N1czpib3JkZXItcHVycGxlLTUwMFwiXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBmb250U2l6ZTogJzE2cHgnIH19XG4gICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtcHVycGxlLTcwMCBkYXJrOnRleHQtcHVycGxlLTMwMCBtdC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICBXaGF0IHR5cGUgb2YgY2FyZCBpcyB0aGlzPyBUaGlzIGhlbHBzIHBlcnNvbmFsaXplIHRoZSBtZXNzYWdlIGFuZCBzdHlsZS5cbiAgICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgey8qIENhcmQgVG9uZSAqL31cbiAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJ0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZ3JheS03MDAgZGFyazp0ZXh0LWdyYXktMzAwIG1iLTIgYmxvY2tcIj5cbiAgICAgICAgICAgICAgICBDYXJkIFRvbmUgJiBTdHlsZVxuICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICA8U2VsZWN0IHZhbHVlPXtzZWxlY3RlZFRvbmV9IG9uVmFsdWVDaGFuZ2U9e3NldFNlbGVjdGVkVG9uZX0+XG4gICAgICAgICAgICAgICAgPFNlbGVjdFRyaWdnZXI+XG4gICAgICAgICAgICAgICAgICA8U2VsZWN0VmFsdWU+XG4gICAgICAgICAgICAgICAgICAgIHsoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNlbGVjdGVkID0gY2FyZFRvbmVzLmZpbmQoKHRvbmUpID0+IHRvbmUuaWQgPT09IHNlbGVjdGVkVG9uZSk7XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKCFzZWxlY3RlZCkgcmV0dXJuIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtZ3JheS00MDBcIj5DaG9vc2UgY2FyZCB0b25lPC9zcGFuPjtcbiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJmb250LW1lZGl1bVwiPntzZWxlY3RlZC5sYWJlbH08L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICB9KSgpfVxuICAgICAgICAgICAgICAgICAgPC9TZWxlY3RWYWx1ZT5cbiAgICAgICAgICAgICAgICA8L1NlbGVjdFRyaWdnZXI+XG4gICAgICAgICAgICAgICAgPFNlbGVjdENvbnRlbnQ+XG4gICAgICAgICAgICAgICAgICB7Y2FyZFRvbmVzLm1hcCgodG9uZSkgPT4gKFxuICAgICAgICAgICAgICAgICAgICA8U2VsZWN0SXRlbSBrZXk9e3RvbmUuaWR9IHZhbHVlPXt0b25lLmlkfT5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmb250LW1lZGl1bVwiPnt0b25lLmxhYmVsfTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtbXV0ZWQtZm9yZWdyb3VuZFwiPnt0b25lLmRlc2NyaXB0aW9ufTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdEl0ZW0+XG4gICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICA8L1NlbGVjdENvbnRlbnQ+XG4gICAgICAgICAgICAgIDwvU2VsZWN0PlxuICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgIHsvKiBBcnRpc3RpYyBTdHlsZSBTZWxlY3Rpb24gKi99XG4gICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwidGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWdyYXktNzAwIGRhcms6dGV4dC1ncmF5LTMwMCBtYi0yIGJsb2NrXCI+XG4gICAgICAgICAgICAgICAgQXJ0aXN0aWMgU3R5bGVcbiAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgICAgPFNlbGVjdCB2YWx1ZT17c2VsZWN0ZWRBcnRpc3RpY1N0eWxlfSBvblZhbHVlQ2hhbmdlPXtzZXRTZWxlY3RlZEFydGlzdGljU3R5bGV9PlxuICAgICAgICAgICAgICAgIDxTZWxlY3RUcmlnZ2VyPlxuICAgICAgICAgICAgICAgICAgPFNlbGVjdFZhbHVlIHBsYWNlaG9sZGVyPVwiQ2hvb3NlIGFydGlzdGljIHN0eWxlXCIgLz5cbiAgICAgICAgICAgICAgICA8L1NlbGVjdFRyaWdnZXI+XG4gICAgICAgICAgICAgICAgPFNlbGVjdENvbnRlbnQ+XG4gICAgICAgICAgICAgICAgICB7YXJ0aXN0aWNTdHlsZXMubWFwKChzdHlsZSkgPT4gKFxuICAgICAgICAgICAgICAgICAgICA8U2VsZWN0SXRlbSBrZXk9e3N0eWxlLmlkfSB2YWx1ZT17c3R5bGUuaWR9PlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1sZWZ0IHctZnVsbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmb250LW1lZGl1bVwiPntzdHlsZS5sYWJlbH08L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LW11dGVkLWZvcmVncm91bmRcIj57c3R5bGUuZGVzY3JpcHRpb259PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0SXRlbT5cbiAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgIDwvU2VsZWN0Q29udGVudD5cbiAgICAgICAgICAgICAgPC9TZWxlY3Q+XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIHsvKiBDdXN0b20gU3R5bGUgRGVzY3JpcHRpb24gKi99XG4gICAgICAgICAgICAgIHtzZWxlY3RlZEFydGlzdGljU3R5bGUgPT09IFwiY3VzdG9tXCIgJiYgKFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtM1wiPlxuICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cInRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1ncmF5LTcwMCBkYXJrOnRleHQtZ3JheS0zMDAgbWItMiBibG9ja1wiPlxuICAgICAgICAgICAgICAgICAgICBEZXNjcmliZSBZb3VyIEN1c3RvbSBTdHlsZVxuICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgIDxUZXh0YXJlYVxuICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cImUuZy4sIGluIHZpbnRhZ2UgMTkyMHMgYXJ0IGRlY28gc3R5bGUgd2l0aCBnb2xkIGFjY2VudHMgYW5kIGdlb21ldHJpYyBwYXR0ZXJucy4uLlwiXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlPXtjdXN0b21TdHlsZURlc2NyaXB0aW9ufVxuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldEN1c3RvbVN0eWxlRGVzY3JpcHRpb24oZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgICAgICAgICByb3dzPXszfVxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJyZXNpemUtbm9uZVwiXG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IGZvbnRTaXplOiAnMTZweCcgfX1cbiAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtZ3JheS01MDAgZGFyazp0ZXh0LWdyYXktNDAwIG10LTFcIj5cbiAgICAgICAgICAgICAgICAgICAgRGVzY3JpYmUgdGhlIGFydGlzdGljIHN0eWxlIHlvdSB3YW50IGZvciB5b3VyIGNhcmQgKGNvbG9ycywgdGVjaG5pcXVlcywgZXJhLCBtb29kLCBldGMuKVxuICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgIHsvKiBUby9Gcm9tIEZpZWxkcyAqL31cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JpZCBncmlkLWNvbHMtMiBnYXAtM1wiPlxuICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwidGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWdyYXktNzAwIGRhcms6dGV4dC1ncmF5LTMwMCBtYi0yIGJsb2NrXCI+XG4gICAgICAgICAgICAgICAgICBUb1xuICAgICAgICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwi8J+OryBUb1wiXG4gICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3RvRmllbGR9XG4gICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRUb0ZpZWxkKGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBmb250U2l6ZTogJzE2cHgnIH19XG4gICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cInRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1ncmF5LTcwMCBkYXJrOnRleHQtZ3JheS0zMDAgbWItMiBibG9ja1wiPlxuICAgICAgICAgICAgICAgICAgRnJvbVxuICAgICAgICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwi8J+TnSBGcm9tXCJcbiAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17ZnJvbUZpZWxkfVxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0RnJvbUZpZWxkKGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBmb250U2l6ZTogJzE2cHgnIH19XG4gICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgey8qIFVzZXIgRW1haWwgRmllbGQgKi99XG4gICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwidGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWdyYXktNzAwIGRhcms6dGV4dC1ncmF5LTMwMCBtYi0yIGJsb2NrXCI+XG4gICAgICAgICAgICAgICAgWW91ciBFbWFpbCAoUmVxdWlyZWQpXG4gICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgIHR5cGU9XCJlbWFpbFwiXG4gICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCLwn5OnIHlvdXIuZW1haWxAZXhhbXBsZS5jb20gKHdlJ2xsIHNlbmQgeW91IHRoZSBjYXJkISlcIlxuICAgICAgICAgICAgICAgIHJlcXVpcmVkXG4gICAgICAgICAgICAgICAgdmFsdWU9e3VzZXJFbWFpbH1cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldFVzZXJFbWFpbChlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICAgICAgc3R5bGU9e3sgZm9udFNpemU6ICcxNnB4JyB9fVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtZ3JheS01MDAgZGFyazp0ZXh0LWdyYXktNDAwIG10LTFcIj5cbiAgICAgICAgICAgICAgICBSZXF1aXJlZCB0byBnZW5lcmF0ZSB5b3VyIGNhcmQuIFdlJ2xsIHNlbmQgeW91IGEgdGhhbmsgeW91IG5vdGUgd2hlbiBpdCdzIHJlYWR5IVxuICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgey8qIE1haW4gRGVzY3JpcHRpb24gKi99XG4gICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIG1iLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cInRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1ncmF5LTcwMCBkYXJrOnRleHQtZ3JheS0zMDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICBEZXNjcmliZSBZb3VyIENhcmQgKE9wdGlvbmFsKVxuICAgICAgICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgdmFyaWFudD1cImdob3N0XCJcbiAgICAgICAgICAgICAgICAgICAgICBzaXplPVwic21cIlxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldElzVGV4dGFyZWFFeHBhbmRlZCghaXNUZXh0YXJlYUV4cGFuZGVkKX1cbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJnYXAtMSB0ZXh0LXhzIHRleHQtZ3JheS01MDAgaG92ZXI6dGV4dC1ncmF5LTcwMCBkYXJrOnRleHQtZ3JheS00MDAgZGFyazpob3Zlcjp0ZXh0LWdyYXktMzAwXCJcbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgIHtpc1RleHRhcmVhRXhwYW5kZWQgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hldnJvbkRvd24gY2xhc3NOYW1lPVwidy0zIGgtM1wiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIENvbGxhcHNlXG4gICAgICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZXZyb25Eb3duIGNsYXNzTmFtZT1cInctMyBoLTMgcm90YXRlLTE4MFwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIEV4cGFuZFxuICAgICAgICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPFRleHRhcmVhXG4gICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCLwn5KhIE9wdGlvbmFsOiBCZSBzcGVjaWZpYyEgRS5nLiwgJ0JpcnRoZGF5IGNhcmQgd2l0aCBjdXRlIGNhdHMgYW5kIHJhaW5ib3cgY29sb3JzIGZvciBteSBzaXN0ZXIgd2hvIGxvdmVzIGFuaW1lJyAob3IgbGVhdmUgYmxhbmsgZm9yIGEgYmVhdXRpZnVsIGRlZmF1bHQgZGVzaWduKVwiXG4gICAgICAgICAgICAgICAgdmFsdWU9e3Byb21wdH1cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldFByb21wdChlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICAgICAgcm93cz17aXNUZXh0YXJlYUV4cGFuZGVkID8gOCA6IDV9XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtpc1RleHRhcmVhRXhwYW5kZWQgPyBcInJlc2l6ZS15XCIgOiBcInJlc2l6ZS1ub25lXCJ9XG4gICAgICAgICAgICAgICAgc3R5bGU9e3sgZm9udFNpemU6ICcxNnB4JyB9fVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtZ3JheS01MDAgZGFyazp0ZXh0LWdyYXktNDAwIG10LTFcIj5cbiAgICAgICAgICAgICAgICDwn5KhIDxzdHJvbmc+VGlwOjwvc3Ryb25nPiBBZGQgZGV0YWlscyBsaWtlIGNvbG9ycywgc3R5bGUsIHJlY2lwaWVudCdzIGludGVyZXN0cywgYW5kIHNwZWNpZmljIHRoZW1lcyBmb3IgcGVyc29uYWxpemVkIHJlc3VsdHMsIG9yIGxlYXZlIGJsYW5rIGZvciBhIGJlYXV0aWZ1bCBkZWZhdWx0IGNhcmQhXG4gICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgey8qIE1lc3NhZ2UgU2VjdGlvbiAqL31cbiAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiBtYi0yXCI+XG4gICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cInRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1ncmF5LTcwMCBkYXJrOnRleHQtZ3JheS0zMDBcIj5cbiAgICAgICAgICAgICAgICAgIENhcmQgTWVzc2FnZVxuICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XG4gICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgIHZhcmlhbnQ9XCJnaG9zdFwiXG4gICAgICAgICAgICAgICAgICAgIHNpemU9XCJzbVwiXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldElzTWVzc2FnZUV4cGFuZGVkKCFpc01lc3NhZ2VFeHBhbmRlZCl9XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImdhcC0xIHRleHQteHMgdGV4dC1ncmF5LTUwMCBob3Zlcjp0ZXh0LWdyYXktNzAwIGRhcms6dGV4dC1ncmF5LTQwMCBkYXJrOmhvdmVyOnRleHQtZ3JheS0zMDBcIlxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICB7aXNNZXNzYWdlRXhwYW5kZWQgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxDaGV2cm9uRG93biBjbGFzc05hbWU9XCJ3LTMgaC0zXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIENvbGxhcHNlXG4gICAgICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxDaGV2cm9uRG93biBjbGFzc05hbWU9XCJ3LTMgaC0zIHJvdGF0ZS0xODBcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgRXhwYW5kXG4gICAgICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgdmFyaWFudD1cImdob3N0XCJcbiAgICAgICAgICAgICAgICAgICAgc2l6ZT1cInNtXCJcbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlR2V0TWVzc2FnZUhlbHB9XG4gICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtpc0dlbmVyYXRpbmdNZXNzYWdlIHx8IGlzSGFuZHdyaXR0ZW5NZXNzYWdlfVxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJnYXAtMSB0ZXh0LXhzXCJcbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPE1lc3NhZ2VTcXVhcmVQbHVzIGNsYXNzTmFtZT1cInctMyBoLTNcIiAvPlxuICAgICAgICAgICAgICAgICAgICB7aXNHZW5lcmF0aW5nTWVzc2FnZSA/IFwiV3JpdGluZy4uLlwiIDogXCJIZWxwIG1lIHdyaXRlXCJ9XG4gICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8VGV4dGFyZWFcbiAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17aXNIYW5kd3JpdHRlbk1lc3NhZ2UgPyBcIuKcje+4jyBMZWF2ZSBibGFuayAtIHlvdSdsbCBoYW5kd3JpdGUgeW91ciBtZXNzYWdlXCIgOiBcIvCfkp0gWW91ciBwZXJzb25hbCBtZXNzYWdlIGhlcmUuLi4gKG9yIGNsaWNrICdIZWxwIG1lIHdyaXRlJyBmb3IgQUkgYXNzaXN0YW5jZSlcIn1cbiAgICAgICAgICAgICAgICB2YWx1ZT17ZmluYWxDYXJkTWVzc2FnZX1cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldEZpbmFsQ2FyZE1lc3NhZ2UoZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgICAgICAgICByb3dzPXtpc01lc3NhZ2VFeHBhbmRlZCA/IDggOiA1fVxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2lzTWVzc2FnZUV4cGFuZGVkID8gXCJyZXNpemUteVwiIDogXCJyZXNpemUtbm9uZVwifVxuICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBmb250U2l6ZTogJzE2cHgnIH19XG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2lzSGFuZHdyaXR0ZW5NZXNzYWdlfVxuICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgey8qIE1lc3NhZ2UgVmVyc2lvbiBDb250cm9sIGFuZCBSZWZpbmVtZW50ICovfVxuICAgICAgICAgICAgICAgICAge2ZpbmFsQ2FyZE1lc3NhZ2UudHJpbSgpICYmIChcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC0zIHNwYWNlLXktM1wiPlxuICAgICAgICAgICAgICAgICAgICAgIHsvKiBWZXJzaW9uIENvbnRyb2wgQnV0dG9ucyAqL31cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiBmbGV4LXdyYXBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhcmlhbnQ9XCJvdXRsaW5lXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplPVwic21cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3VuZG9NZXNzYWdlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtjdXJyZW50TWVzc2FnZUluZGV4IDw9IDB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZ2FwLTEgdGV4dC14cyBmbGV4LXNocmluay0wXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxVbmRvMiBjbGFzc05hbWU9XCJ3LTMgaC0zXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJoaWRkZW4gc206aW5saW5lXCI+VW5kbzwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXJpYW50PVwib3V0bGluZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZT1cInNtXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXtyZWRvTWVzc2FnZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17Y3VycmVudE1lc3NhZ2VJbmRleCA+PSBtZXNzYWdlSGlzdG9yeS5sZW5ndGggLSAxfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImdhcC0xIHRleHQteHMgZmxleC1zaHJpbmstMFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8UmVkbzIgY2xhc3NOYW1lPVwidy0zIGgtM1wiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiaGlkZGVuIHNtOmlubGluZVwiPlJlZG88L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyaWFudD1cIm91dGxpbmVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU9XCJzbVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0U2hvd1JlZmluZW1lbnRCb3goIXNob3dSZWZpbmVtZW50Qm94KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJnYXAtMSB0ZXh0LXhzIGZsZXgtc2hyaW5rLTBcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFJlZnJlc2hDdyBjbGFzc05hbWU9XCJ3LTMgaC0zXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJoaWRkZW4gc206aW5saW5lXCI+UmVmaW5lPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInNtOmhpZGRlblwiPkVkaXQ8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICB7bWVzc2FnZUhpc3RvcnkubGVuZ3RoID4gMCAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LWdyYXktNTAwIGRhcms6dGV4dC1ncmF5LTQwMCB0ZXh0LWNlbnRlciBzbTp0ZXh0LWxlZnQgdHJ1bmNhdGVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJoaWRkZW4gc206aW5saW5lXCI+VmVyc2lvbiB7Y3VycmVudE1lc3NhZ2VJbmRleCArIDF9IG9mIHttZXNzYWdlSGlzdG9yeS5sZW5ndGh9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInNtOmhpZGRlblwiPntjdXJyZW50TWVzc2FnZUluZGV4ICsgMX0ve21lc3NhZ2VIaXN0b3J5Lmxlbmd0aH08L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgICAgICAgIHsvKiBSZWZpbmVtZW50IEJveCAqL31cbiAgICAgICAgICAgICAgICAgICAgICB7c2hvd1JlZmluZW1lbnRCb3ggJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJib3JkZXIgcm91bmRlZC1sZyBwLTMgYmctZ3JheS01MCBkYXJrOmJnLWdyYXktODAwLzUwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJ0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZ3JheS03MDAgZGFyazp0ZXh0LWdyYXktMzAwIG1iLTIgYmxvY2tcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBIb3cgd291bGQgeW91IGxpa2UgdG8gcmVmaW5lIHRoaXMgbWVzc2FnZT9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwi8J+UpyBFLmcuLCAnTWFrZSBpdCBmdW5uaWVyJywgJ0FkZCBtZW50aW9uIG9mIHRoZWlyIGhvYmJ5JywgJ01vcmUgZm9ybWFsIHRvbmUnXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXtyZWZpbmVtZW50UHJvbXB0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRSZWZpbmVtZW50UHJvbXB0KGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IGZvbnRTaXplOiAnMTZweCcgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uS2V5RG93bj17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUua2V5ID09PSAnRW50ZXInICYmICFlLnNoaWZ0S2V5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZVJlZmluZU1lc3NhZ2UoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1ncmF5LTUwMCBkYXJrOnRleHQtZ3JheS00MDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIPCfk7EgPHN0cm9uZz5RdWljayB0aXBzOjwvc3Ryb25nPiBcIlNob3J0ZXJcIiwgXCJBZGQgZW1vamlcIiwgXCJNb3JlIHBlcnNvbmFsXCIsIFwiRGlmZmVyZW50IHRvbmVcIiB3b3JrIGdyZWF0IVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU9XCJzbVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZVJlZmluZU1lc3NhZ2V9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtpc1JlZmluaW5nTWVzc2FnZSB8fCAhcmVmaW5lbWVudFByb21wdC50cmltKCl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImdhcC0xXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFJlZnJlc2hDdyBjbGFzc05hbWU9e2B3LTMgaC0zICR7aXNSZWZpbmluZ01lc3NhZ2UgPyAnYW5pbWF0ZS1zcGluJyA6ICcnfWB9IC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtpc1JlZmluaW5nTWVzc2FnZSA/IFwiUmVmaW5pbmcuLi5cIiA6IFwiQXBwbHkgQ2hhbmdlc1wifVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhcmlhbnQ9XCJnaG9zdFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU9XCJzbVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRTaG93UmVmaW5lbWVudEJveChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0UmVmaW5lbWVudFByb21wdChcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ2FuY2VsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgIHsvKiBIYW5kd3JpdHRlbiBNZXNzYWdlIE9wdGlvbiAqL31cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgc3BhY2UteC0yIG10LTJcIj5cbiAgICAgICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICAgICAgdHlwZT1cImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICBpZD1cImhhbmR3cml0dGVuLW1lc3NhZ2VcIlxuICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e2lzSGFuZHdyaXR0ZW5NZXNzYWdlfVxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0SXNIYW5kd3JpdHRlbk1lc3NhZ2UoZS50YXJnZXQuY2hlY2tlZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZS50YXJnZXQuY2hlY2tlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRGaW5hbENhcmRNZXNzYWdlKFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicm91bmRlZFwiXG4gICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgIDxsYWJlbCBodG1sRm9yPVwiaGFuZHdyaXR0ZW4tbWVzc2FnZVwiIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1ncmF5LTYwMCBkYXJrOnRleHQtZ3JheS00MDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICBMZWF2ZSBibGFuayBzcGFjZSBmb3IgaGFuZHdyaXR0ZW4gbWVzc2FnZVxuICAgICAgICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgIHsvKiBSZWZlcmVuY2UgUGhvdG8gLSBPbmx5IGF2YWlsYWJsZSBmb3IgR1BULTEgbW9kZWwsIGJ1dCBzaG93IGlmIHBob3RvcyBleGlzdCAqL31cbiAgICAgICAgICAgIHsoc2VsZWN0ZWRJbWFnZU1vZGVsID09PSBcImdwdC1pbWFnZS0xXCIgfHwgcmVmZXJlbmNlSW1hZ2VVcmxzLmxlbmd0aCA+IDApICYmIChcbiAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwidGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWdyYXktNzAwIGRhcms6dGV4dC1ncmF5LTMwMCBtYi0yIGJsb2NrXCI+XG4gICAgICAgICAgICAgICAgICBSZWZlcmVuY2UgUGhvdG9zIChPcHRpb25hbClcbiAgICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHsvKiBBbHdheXMgc2hvdyBleGlzdGluZyByZWZlcmVuY2UgcGhvdG9zIGlmIHRoZXkgZXhpc3QgKi99XG4gICAgICAgICAgICAgICAge3JlZmVyZW5jZUltYWdlVXJscy5sZW5ndGggPiAwICYmIChcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWItM1wiPlxuICAgICAgICAgICAgICAgICAgICB7c2VsZWN0ZWRJbWFnZU1vZGVsICE9PSBcImdwdC1pbWFnZS0xXCIgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwLTMgYmctYW1iZXItNTAgZGFyazpiZy1hbWJlci05MDAvMjAgYm9yZGVyIGJvcmRlci1hbWJlci0yMDAgZGFyazpib3JkZXItYW1iZXItODAwIHJvdW5kZWQtbGcgbWItM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLXN0YXJ0IGdhcC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy01IGgtNSBiZy1hbWJlci01MDAgcm91bmRlZC1mdWxsIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIGZsZXgtc2hyaW5rLTAgbXQtMC41XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC13aGl0ZSB0ZXh0LXhzXCI+ITwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LWFtYmVyLTgwMCBkYXJrOnRleHQtYW1iZXItMjAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwiZm9udC1tZWRpdW0gbWItMVwiPlJlZmVyZW5jZSBwaG90b3MgZGV0ZWN0ZWQgYnV0IG5vdCBzdXBwb3J0ZWQ8L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC14c1wiPllvdSBoYXZlIHtyZWZlcmVuY2VJbWFnZVVybHMubGVuZ3RofSByZWZlcmVuY2UgcGhvdG97cmVmZXJlbmNlSW1hZ2VVcmxzLmxlbmd0aCA+IDEgPyAncycgOiAnJ30gZnJvbSBhIHByZXZpb3VzIHNlc3Npb24sIGJ1dCB5b3VyIGN1cnJlbnQgbW9kZWwgKHtpbWFnZU1vZGVscy5maW5kKG0gPT4gbS5pZCA9PT0gc2VsZWN0ZWRJbWFnZU1vZGVsKT8ubGFiZWx9KSBkb2Vzbid0IHN1cHBvcnQgcmVmZXJlbmNlIHBob3Rvcy4gU3dpdGNoIHRvIEdQVCBJbWFnZSAxIHRvIHVzZSB0aGVtLCBvciByZW1vdmUgdGhlbSBiZWxvdy48L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYi0zIHAtMyBiZy1ncmVlbi01MCBkYXJrOmJnLWdyZWVuLTkwMC8yMCBib3JkZXIgYm9yZGVyLWdyZWVuLTIwMCBkYXJrOmJvcmRlci1ncmVlbi04MDAgcm91bmRlZC1sZ1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLXN0YXJ0IGdhcC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy01IGgtNSBiZy1ncmVlbi01MDAgcm91bmRlZC1mdWxsIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIGZsZXgtc2hyaW5rLTAgbXQtMC41XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC13aGl0ZSB0ZXh0LXhzXCI+4pyTPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtZ3JlZW4tODAwIGRhcms6dGV4dC1ncmVlbi0yMDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJmb250LW1lZGl1bSBtYi0xXCI+UmVmZXJlbmNlIHBob3RvcyByZWFkeTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXhzXCI+e3JlZmVyZW5jZUltYWdlVXJscy5sZW5ndGh9IHJlZmVyZW5jZSBwaG90b3tyZWZlcmVuY2VJbWFnZVVybHMubGVuZ3RoID4gMSA/ICdzJyA6ICcnfSB3aWxsIGJlIHVzZWQgdG8gY3JlYXRlIGNhcnRvb24gY2hhcmFjdGVycyB0aGF0IGxvb2sgbGlrZSB0aGUgcGVvcGxlIGluIHlvdXIgcGhvdG9zLjwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIHsvKiBEaXNwbGF5IGV4aXN0aW5nIHJlZmVyZW5jZSBwaG90b3MgcHJvbWluZW50bHkgKi99XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0yIG1iLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlblwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZ3JheS03MDAgZGFyazp0ZXh0LWdyYXktMzAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIPCfk7ggWW91ciBSZWZlcmVuY2UgUGhvdG9zICh7cmVmZXJlbmNlSW1hZ2VVcmxzLmxlbmd0aH0pXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyaWFudD1cIm91dGxpbmVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplPVwic21cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0UmVmZXJlbmNlSW1hZ2VzKFtdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRSZWZlcmVuY2VJbWFnZVVybHMoW10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0LnN1Y2Nlc3MoXCJBbGwgcmVmZXJlbmNlIHBob3RvcyByZW1vdmVkIVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiaC03IHRleHQteHMgZ2FwLTEgdGV4dC1yZWQtNjAwIGhvdmVyOnRleHQtcmVkLTcwMCBob3ZlcjpiZy1yZWQtNTAgZGFyazpob3ZlcjpiZy1yZWQtOTAwLzIwXCJcbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPFggY2xhc3NOYW1lPVwidy0zIGgtM1wiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIFJlbW92ZSBBbGxcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JpZCBncmlkLWNvbHMtMiBnYXAtMiBwLTMgYmctZ3JheS01MCBkYXJrOmJnLWdyYXktODAwIHJvdW5kZWQtbGcgYm9yZGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICB7cmVmZXJlbmNlSW1hZ2VVcmxzLm1hcCgodXJsLCBpbmRleCkgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGtleT17aW5kZXh9IGNsYXNzTmFtZT1cInJlbGF0aXZlIGdyb3VwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGltZ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3JjPXt1cmx9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbHQ9e2BSZWZlcmVuY2UgcGhvdG8gJHtpbmRleCArIDF9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBhc3BlY3Qtc3F1YXJlIG9iamVjdC1jb3ZlciByb3VuZGVkIGJvcmRlclwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXJpYW50PVwiZGVzdHJ1Y3RpdmVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZT1cInNtXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGhhbmRsZVJlbW92ZVJlZmVyZW5jZUltYWdlKGluZGV4KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImFic29sdXRlIHRvcC0xIHJpZ2h0LTEgaC02IHctNiBwLTAgb3BhY2l0eS0wIGdyb3VwLWhvdmVyOm9wYWNpdHktMTAwIHRyYW5zaXRpb24tb3BhY2l0eVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFggY2xhc3NOYW1lPVwidy0zIGgtM1wiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSBib3R0b20tMSBsZWZ0LTEgYmctYmxhY2svNzAgdGV4dC13aGl0ZSB0ZXh0LXhzIHB4LTEgcm91bmRlZFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUGhvdG8ge2luZGV4ICsgMX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHtzZWxlY3RlZEltYWdlTW9kZWwgPT09IFwiZ3B0LWltYWdlLTFcIiAmJiAoXG4gICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtZ3JheS01MDAgZGFyazp0ZXh0LWdyYXktNDAwIG1iLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICBVcGxvYWQgcGhvdG9zIHRvIGNyZWF0ZSBjYXJ0b29uIGNoYXJhY3RlcnMgdGhhdCBsb29rIGxpa2UgdGhlIHBlb3BsZSBpbiB5b3VyIHBob3RvcyEgUGVyZmVjdCBmb3IgaW5jbHVkaW5nIG11bHRpcGxlIHBlb3BsZSAtIHVwbG9hZCBvbmUgcGhvdG8gb2YgeW91cnNlbGYgYW5kIGFub3RoZXIgb2YgYSBmcmllbmQgdG8gY3JlYXRlIGNhcmRzIGZlYXR1cmluZyBib3RoIG9mIHlvdS4gKE9ubHkgYXZhaWxhYmxlIHdpdGggR1BUIEltYWdlIDEgbW9kZWwpXG4gICAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LWdyYXktNDAwIGRhcms6dGV4dC1ncmF5LTUwMCBtYi0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAg4pyoIEZvciB5b3VyIHByaXZhY3ksIHBob3RvcyBhcmUgdHVybmVkIGludG8gY2FydG9vbi9pbGx1c3RyYXRlZCBjaGFyYWN0ZXJzIC0gbm90IHJlYWxpc3RpYyBkZXBpY3Rpb25zXG4gICAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0zXCI+XG4gICAgICAgICAgICAgICAgey8qIFVwbG9hZCBBcmVhIC0gT25seSBzaG93IGlmIG1vZGVsIHN1cHBvcnRzIGl0ICovfVxuICAgICAgICAgICAgICAgIHtzZWxlY3RlZEltYWdlTW9kZWwgPT09IFwiZ3B0LWltYWdlLTFcIiAmJiAoXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJvcmRlci0yIGJvcmRlci1kYXNoZWQgYm9yZGVyLWdyYXktMzAwIGRhcms6Ym9yZGVyLWdyYXktNjAwIHJvdW5kZWQtbGcgcC00IHRleHQtY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJmaWxlXCJcbiAgICAgICAgICAgICAgICAgICAgICBhY2NlcHQ9XCJpbWFnZS8qXCJcbiAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IGUudGFyZ2V0LmZpbGVzPy5bMF0gJiYgaGFuZGxlRmlsZVVwbG9hZChlLnRhcmdldC5maWxlc1swXSwgJ3JlZmVyZW5jZScpfVxuICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtpc1VwbG9hZGluZ31cbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJoaWRkZW5cIlxuICAgICAgICAgICAgICAgICAgICAgIGlkPVwicmVmZXJlbmNlLXVwbG9hZFwiXG4gICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgIDxsYWJlbCBodG1sRm9yPVwicmVmZXJlbmNlLXVwbG9hZFwiIGNsYXNzTmFtZT1cImN1cnNvci1wb2ludGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgPFdhbmQyIGNsYXNzTmFtZT1cInctNiBoLTYgbXgtYXV0byBtYi0yIHRleHQtZ3JheS00MDBcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LWdyYXktNjAwIGRhcms6dGV4dC1ncmF5LTQwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAge2lzVXBsb2FkaW5nID8gXCJVcGxvYWRpbmcuLi5cIiA6IGBVcGxvYWQgJHtyZWZlcmVuY2VJbWFnZXMubGVuZ3RoID4gMCA/ICdhbm90aGVyJyA6ICdhJ30gcGhvdG8gdG8gY3JlYXRlIGNoYXJhY3RlcnNgfVxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgKX1cblxuICAgICAgICAgICAgICAgIHsvKiBEaXNwbGF5IHVwbG9hZGVkIGltYWdlcyAqL31cbiAgICAgICAgICAgICAgICB7cmVmZXJlbmNlSW1hZ2VzLmxlbmd0aCA+IDAgJiYgKFxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTJcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW5cIj5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1ncmF5LTUwMCBkYXJrOnRleHQtZ3JheS00MDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtyZWZlcmVuY2VJbWFnZXMubGVuZ3RofSBwaG90b3tyZWZlcmVuY2VJbWFnZXMubGVuZ3RoID4gMSA/ICdzJyA6ICcnfSB1cGxvYWRlZDpcbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICB7c2VsZWN0ZWRJbWFnZU1vZGVsICE9PSBcImdwdC1pbWFnZS0xXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICB2YXJpYW50PVwib3V0bGluZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU9XCJzbVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRSZWZlcmVuY2VJbWFnZXMoW10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFJlZmVyZW5jZUltYWdlVXJscyhbXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3Quc3VjY2VzcyhcIkFsbCByZWZlcmVuY2UgcGhvdG9zIHJlbW92ZWQhXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJoLTYgdGV4dC14cyBnYXAtMSB0ZXh0LXJlZC02MDAgaG92ZXI6dGV4dC1yZWQtNzAwIGhvdmVyOmJnLXJlZC01MCBkYXJrOmhvdmVyOmJnLXJlZC05MDAvMjBcIlxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8WCBjbGFzc05hbWU9XCJ3LTMgaC0zXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgQ2xlYXIgQWxsXG4gICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAge3JlZmVyZW5jZUltYWdlcy5tYXAoKGltYWdlLCBpbmRleCkgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYga2V5PXtpbmRleH0gY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIHAtMyBiZy1wdXJwbGUtNTAgZGFyazpiZy1wdXJwbGUtOTAwLzIwIHJvdW5kZWQtbGdcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPFdhbmQyIGNsYXNzTmFtZT1cInctNCBoLTQgdGV4dC1wdXJwbGUtNjAwXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LXB1cnBsZS04MDAgZGFyazp0ZXh0LXB1cnBsZS0yMDBcIj57aW1hZ2UubmFtZX08L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyaWFudD1cImdob3N0XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZT1cInNtXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gaGFuZGxlUmVtb3ZlUmVmZXJlbmNlSW1hZ2UoaW5kZXgpfVxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8WCBjbGFzc05hbWU9XCJ3LTQgaC00XCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICl9XG5cbiAgICAgICAgICAgICAgICB7LyogQ2hhcmFjdGVyIHN0eWxlIGluc3RydWN0aW9ucyAtIE9ubHkgc2hvdyBpZiBtb2RlbCBzdXBwb3J0cyBpdCAqL31cbiAgICAgICAgICAgICAgICB7cmVmZXJlbmNlSW1hZ2VzLmxlbmd0aCA+IDAgJiYgc2VsZWN0ZWRJbWFnZU1vZGVsID09PSBcImdwdC1pbWFnZS0xXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgPFRleHRhcmVhXG4gICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJDaGFyYWN0ZXIgc3R5bGUgaW5zdHJ1Y3Rpb25zIChvcHRpb25hbCk6IGUuZy4sICdNYWtlIHVzIGxvb2sgbGlrZSBhbmltZSBjaGFyYWN0ZXJzJywgJ0tlZXAgb3VyIGV4YWN0IG91dGZpdHMgYW5kIGFjY2Vzc29yaWVzIGJ1dCBpbiB3YXRlcmNvbG9yIHN0eWxlJywgb3IgJ1Nob3cgYm90aCBwZW9wbGUgdG9nZXRoZXIgaW4gdGhlIHNhbWUgc2NlbmUnXCJcbiAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17aW1hZ2VUcmFuc2Zvcm1hdGlvbn1cbiAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldEltYWdlVHJhbnNmb3JtYXRpb24oZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgICAgICAgICAgIHJvd3M9ezN9XG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicmVzaXplLW5vbmVcIlxuICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IGZvbnRTaXplOiAnMTZweCcgfX1cbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LWdyYXktNTAwIGRhcms6dGV4dC1ncmF5LTQwMCBtdC0xXCI+XG4gICAgICAgICAgICAgICAgICAgICAg8J+SoSA8c3Ryb25nPlRpcDo8L3N0cm9uZz4gTGVhdmUgYmxhbmsgdG8ga2VlcCBleGFjdCBjbG90aGluZyAmIGFjY2Vzc29yaWVzLCBvciBzcGVjaWZ5IHN0eWxlIGNoYW5nZXMgbGlrZSBcImFuaW1lIHN0eWxlXCIgb3IgXCJ2aW50YWdlIGNhcnRvb24gbG9va1wiXG4gICAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICl9XG5cbiAgICAgICAgICAgIHsvKiBBZHZhbmNlZCBPcHRpb25zIC0gQ29udHJvbGxlZCBieSBTZXR0aW5ncyBNZW51ICovfVxuICAgICAgICAgICAge3Nob3dBZHZhbmNlZCAmJiAoXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS00IHAtNCBib3JkZXIgcm91bmRlZC1sZyBiZy1ncmF5LTUwIGRhcms6YmctZ3JheS04MDAvNTBcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yIG1iLTRcIj5cbiAgICAgICAgICAgICAgICAgIDxTZXR0aW5ncyBjbGFzc05hbWU9XCJ3LTQgaC00XCIgLz5cbiAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1ncmF5LTcwMCBkYXJrOnRleHQtZ3JheS0zMDBcIj5BZHZhbmNlZCBPcHRpb25zPC9zcGFuPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgey8qIEltYWdlIE1vZGVsIFNlbGVjdGlvbiAqL31cbiAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cInRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1ncmF5LTcwMCBkYXJrOnRleHQtZ3JheS0zMDAgbWItMiBibG9ja1wiPlxuICAgICAgICAgICAgICAgICAgICBJbWFnZSBHZW5lcmF0aW9uIE1vZGVsXG4gICAgICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgPFNlbGVjdCB2YWx1ZT17c2VsZWN0ZWRJbWFnZU1vZGVsfSBvblZhbHVlQ2hhbmdlPXtzZXRTZWxlY3RlZEltYWdlTW9kZWx9PlxuICAgICAgICAgICAgICAgICAgICA8U2VsZWN0VHJpZ2dlcj5cbiAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0VmFsdWUgcGxhY2Vob2xkZXI9XCJDaG9vc2UgaW1hZ2UgbW9kZWxcIiAvPlxuICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdFRyaWdnZXI+XG4gICAgICAgICAgICAgICAgICAgIDxTZWxlY3RDb250ZW50PlxuICAgICAgICAgICAgICAgICAgICAgIHtpbWFnZU1vZGVscy5tYXAoKG1vZGVsKSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0SXRlbSBrZXk9e21vZGVsLmlkfSB2YWx1ZT17bW9kZWwuaWR9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZm9udC1tZWRpdW1cIj57bW9kZWwubGFiZWx9PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtbXV0ZWQtZm9yZWdyb3VuZFwiPnttb2RlbC5kZXNjcmlwdGlvbn08L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdEl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Q29udGVudD5cbiAgICAgICAgICAgICAgICAgIDwvU2VsZWN0PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7LyogRHJhZnQgTW9kZSBNb2RlbCBTZWxlY3Rpb24gKi99XG4gICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cInRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1ncmF5LTcwMCBkYXJrOnRleHQtZ3JheS0zMDAgbWItMiBibG9ja1wiPlxuICAgICAgICAgICAgICAgICAgICAgRHJhZnQgTW9kZSBNb2RlbFxuICAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICAgPFNlbGVjdCB2YWx1ZT17c2VsZWN0ZWREcmFmdE1vZGVsfSBvblZhbHVlQ2hhbmdlPXtzZXRTZWxlY3RlZERyYWZ0TW9kZWx9PlxuICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdFRyaWdnZXI+XG4gICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3RWYWx1ZSBwbGFjZWhvbGRlcj1cIkNob29zZSBkcmFmdCBtb2RlbFwiIC8+XG4gICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdFRyaWdnZXI+XG4gICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Q29udGVudD5cbiAgICAgICAgICAgICAgICAgICAgICAge2ltYWdlTW9kZWxzLm1hcCgobW9kZWwpID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0SXRlbSBrZXk9e21vZGVsLmlkfSB2YWx1ZT17bW9kZWwuaWR9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmb250LW1lZGl1bVwiPnttb2RlbC5sYWJlbH08L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtbXV0ZWQtZm9yZWdyb3VuZFwiPnttb2RlbC5kZXNjcmlwdGlvbn08L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0SXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdENvbnRlbnQ+XG4gICAgICAgICAgICAgICAgICAgPC9TZWxlY3Q+XG4gICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LWdyYXktNTAwIGRhcms6dGV4dC1ncmF5LTQwMCBtdC0xXCI+XG4gICAgICAgICAgICAgICAgICAgICBNb2RlbCB1c2VkIGZvciBkcmFmdCB2YXJpYXRpb25zLiBDb25zaWRlciBmYXN0ZXIgbW9kZWxzIGxpa2UgRkxVWCAxLjEgUHJvIGZvciBxdWlja2VyIHByZXZpZXdzLlxuICAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICB7LyogUGFwZXIgU2l6ZSBTZWxlY3Rpb24gKi99XG4gICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJ0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZ3JheS03MDAgZGFyazp0ZXh0LWdyYXktMzAwIG1iLTIgYmxvY2tcIj5cbiAgICAgICAgICAgICAgICAgICAgUGFwZXIgU2l6ZVxuICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgIDxTZWxlY3QgdmFsdWU9e3NlbGVjdGVkUGFwZXJTaXplfSBvblZhbHVlQ2hhbmdlPXtzZXRTZWxlY3RlZFBhcGVyU2l6ZX0+XG4gICAgICAgICAgICAgICAgICAgIDxTZWxlY3RUcmlnZ2VyPlxuICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3RWYWx1ZSBwbGFjZWhvbGRlcj1cIkNob29zZSBwYXBlciBzaXplXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3RUcmlnZ2VyPlxuICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Q29udGVudD5cbiAgICAgICAgICAgICAgICAgICAgICB7cGFwZXJTaXplcy5tYXAoKHNpemUpID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3RJdGVtIGtleT17c2l6ZS5pZH0gdmFsdWU9e3NpemUuaWR9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZm9udC1tZWRpdW1cIj57c2l6ZS5sYWJlbH08L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1tdXRlZC1mb3JlZ3JvdW5kXCI+e3NpemUuZGVzY3JpcHRpb259PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3RJdGVtPlxuICAgICAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdENvbnRlbnQ+XG4gICAgICAgICAgICAgICAgICA8L1NlbGVjdD5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgIHsvKiBOdW1iZXIgb2YgQ2FyZHMgKi99XG4gICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJ0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZ3JheS03MDAgZGFyazp0ZXh0LWdyYXktMzAwIG1iLTIgYmxvY2tcIj5cbiAgICAgICAgICAgICAgICAgICAgTnVtYmVyIG9mIENhcmRzIHRvIEdlbmVyYXRlXG4gICAgICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgPFNlbGVjdCB2YWx1ZT17bnVtYmVyT2ZDYXJkcy50b1N0cmluZygpfSBvblZhbHVlQ2hhbmdlPXsodmFsdWUpID0+IHNldE51bWJlck9mQ2FyZHMocGFyc2VJbnQodmFsdWUpKX0+XG4gICAgICAgICAgICAgICAgICAgIDxTZWxlY3RUcmlnZ2VyPlxuICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3RWYWx1ZSBwbGFjZWhvbGRlcj1cIkNob29zZSBudW1iZXIgb2YgY2FyZHNcIiAvPlxuICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdFRyaWdnZXI+XG4gICAgICAgICAgICAgICAgICAgIDxTZWxlY3RDb250ZW50PlxuICAgICAgICAgICAgICAgICAgICAgIHtbMSwgMiwgMywgNCwgNV0ubWFwKChudW0pID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3RJdGVtIGtleT17bnVtfSB2YWx1ZT17bnVtLnRvU3RyaW5nKCl9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICB7bnVtfSBDYXJke251bSA+IDEgPyAncycgOiAnJ31cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0SXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3RDb250ZW50PlxuICAgICAgICAgICAgICAgICAgPC9TZWxlY3Q+XG4gICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtZ3JheS01MDAgZGFyazp0ZXh0LWdyYXktNDAwIG10LTFcIj5cbiAgICAgICAgICAgICAgICAgICAgR2VuZXJhdGUgbXVsdGlwbGUgY2FyZCB2YXJpYXRpb25zIHRvIGNob29zZSBmcm9tXG4gICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICB7LyogUHJpbnQgT3B0aW9ucyAqL31cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktM1wiPlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBzcGFjZS14LTJcIj5cbiAgICAgICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICAgICAgdHlwZT1cImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICBpZD1cImZyb250LWJhY2stb25seVwiXG4gICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17aXNGcm9udEJhY2tPbmx5fVxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0SXNGcm9udEJhY2tPbmx5KGUudGFyZ2V0LmNoZWNrZWQpfVxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInJvdW5kZWRcIlxuICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICA8bGFiZWwgaHRtbEZvcj1cImZyb250LWJhY2stb25seVwiIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1ncmF5LTcwMCBkYXJrOnRleHQtZ3JheS0zMDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICBGcm9udCBhbmQgYmFjayBvbmx5IChubyBpbnRlcmlvciBwYWdlcylcbiAgICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LWdyYXktNTAwIGRhcms6dGV4dC1ncmF5LTQwMFwiPlxuICAgICAgICAgICAgICAgICAgICBQZXJmZWN0IGZvciBwb3N0Y2FyZHMgb3Igc2ltcGxlIGdyZWV0aW5nIGNhcmRzXG4gICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICB7LyogQ2xlYXIgU2F2ZWQgRGF0YSBTZWN0aW9uICovfVxuICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwidGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWdyYXktNzAwIGRhcms6dGV4dC1ncmF5LTMwMCBtYi0yIGJsb2NrXCI+XG4gICAgICAgICAgICAgICAgICAgIERhdGEgTWFuYWdlbWVudFxuICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgdmFyaWFudD1cIm91dGxpbmVcIlxuICAgICAgICAgICAgICAgICAgICBzaXplPVwic21cIlxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXtjbGVhclNhdmVkRGF0YX1cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIGdhcC0yIHRleHQtcmVkLTYwMCBob3Zlcjp0ZXh0LXJlZC03MDAgaG92ZXI6YmctcmVkLTUwIGRhcms6aG92ZXI6YmctcmVkLTkwMC8yMFwiXG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIDxYIGNsYXNzTmFtZT1cInctNCBoLTRcIiAvPlxuICAgICAgICAgICAgICAgICAgICBDbGVhciBTYXZlZCBEYXRhXG4gICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1ncmF5LTUwMCBkYXJrOnRleHQtZ3JheS00MDAgbXQtMVwiPlxuICAgICAgICAgICAgICAgICAgICBSZW1vdmUgYWxsIHNhdmVkIGZvcm0gZGF0YSBhbmQgZ2VuZXJhdGVkIGNhcmRzIGZyb20geW91ciBicm93c2VyXG4gICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKX1cblxuICAgICAgICAgICAgICAgIHsvKiBQcml2YWN5ICYgVGVybXMgU2VjdGlvbiAqL31cbiAgICAgICAgICAgICAgICA8Q29sbGFwc2libGUgY2xhc3NOYW1lPVwic3BhY2UteS0yXCI+XG4gICAgICAgICAgICAgICAgICA8Q29sbGFwc2libGVUcmlnZ2VyIGFzQ2hpbGQ+XG4gICAgICAgICAgICAgICAgICAgIDxCdXR0b24gdmFyaWFudD1cImdob3N0XCIgY2xhc3NOYW1lPVwidy1mdWxsIGp1c3RpZnktYmV0d2VlbiB0ZXh0LXhzIHRleHQtZ3JheS01MDAgZGFyazp0ZXh0LWdyYXktNDAwIGgtOFwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPlByaXZhY3kgJiBUZXJtczwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICA8Q2hldnJvbkRvd24gY2xhc3NOYW1lPVwiaC0zIHctM1wiIC8+XG4gICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgPC9Db2xsYXBzaWJsZVRyaWdnZXI+XG4gICAgICAgICAgICAgICAgICA8Q29sbGFwc2libGVDb250ZW50IGNsYXNzTmFtZT1cInNwYWNlLXktM1wiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1ncmF5LTYwMCBkYXJrOnRleHQtZ3JheS0zMDAgc3BhY2UteS0zIHAtNCBib3JkZXIgcm91bmRlZC1sZyBiZy1ncmF5LTUwIGRhcms6YmctZ3JheS04MDAvNTBcIj5cbiAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGg0IGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGQgbWItMiB0ZXh0LWdyYXktODAwIGRhcms6dGV4dC1ncmF5LTIwMFwiPlByaXZhY3kgUG9saWN5PC9oND5cbiAgICAgICAgICAgICAgICAgICAgICAgIDx1bCBjbGFzc05hbWU9XCJzcGFjZS15LTEgdGV4dC1ncmF5LTYwMCBkYXJrOnRleHQtZ3JheS00MDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpPuKAoiBXZSBjb2xsZWN0IHlvdXIgZW1haWwgYWRkcmVzcyBhbmQgY2FyZCBjb250ZW50IHRvIHByb3ZpZGUgb3VyIHNlcnZpY2U8L2xpPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8bGk+4oCiIEltYWdlcyBhbmQgbWVzc2FnZXMgYXJlIHByb2Nlc3NlZCB1c2luZyB0aGlyZC1wYXJ0eSBBSSBzZXJ2aWNlczwvbGk+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxsaT7igKIgQ2FyZHMgYXJlIHN0b3JlZCB0ZW1wb3JhcmlseSBmb3IgZGVsaXZlcnkgYW5kIG1heSBiZSBjYWNoZWQgZm9yIHBlcmZvcm1hbmNlPC9saT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpPuKAoiBXZSBkbyBub3Qgc2VsbCwgc2hhcmUsIG9yIHVzZSB5b3VyIHBlcnNvbmFsIGRhdGEgZm9yIG1hcmtldGluZyBwdXJwb3NlczwvbGk+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxsaT7igKIgWW91ciBlbWFpbCBpcyBvbmx5IHVzZWQgZm9yIGNhcmQgZGVsaXZlcnkgYW5kIHNlcnZpY2UgY29tbXVuaWNhdGlvbnM8L2xpPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC91bD5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aDQgY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZCBtYi0yIHRleHQtZ3JheS04MDAgZGFyazp0ZXh0LWdyYXktMjAwXCI+VGVybXMgb2YgU2VydmljZTwvaDQ+XG4gICAgICAgICAgICAgICAgICAgICAgICA8dWwgY2xhc3NOYW1lPVwic3BhY2UteS0xIHRleHQtZ3JheS02MDAgZGFyazp0ZXh0LWdyYXktNDAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxsaT7igKIgWW91IG11c3QgYmUgMTMrIHllYXJzIG9sZCB0byB1c2UgdGhpcyBzZXJ2aWNlPC9saT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpPuKAoiBZb3UgYXJlIHJlc3BvbnNpYmxlIGZvciB0aGUgY29udGVudCB5b3Ugc3VibWl0PC9saT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpPuKAoiBTZXJ2aWNlIGlzIHByb3ZpZGVkIFwiYXMtaXNcIiB3aXRob3V0IHdhcnJhbnRpZXM8L2xpPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8bGk+4oCiIFdlIHJlc2VydmUgdGhlIHJpZ2h0IHRvIHJlZnVzZSBzZXJ2aWNlIGZvciBwb2xpY3kgdmlvbGF0aW9uczwvbGk+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxsaT7igKIgVGhlc2UgdGVybXMgbWF5IGJlIHVwZGF0ZWQgd2l0aCBub3RpY2Ugb24gb3VyIHdlYnNpdGU8L2xpPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC91bD5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aDQgY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZCBtYi0yIHRleHQtZ3JheS04MDAgZGFyazp0ZXh0LWdyYXktMjAwXCI+Q29udGVudCBQb2xpY3k8L2g0PlxuICAgICAgICAgICAgICAgICAgICAgICAgPHVsIGNsYXNzTmFtZT1cInNwYWNlLXktMSB0ZXh0LWdyYXktNjAwIGRhcms6dGV4dC1ncmF5LTQwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8bGk+4oCiIEFsbCBjb250ZW50IG11c3QgYmUgZmFtaWx5LWZyaWVuZGx5IGFuZCBhcHByb3ByaWF0ZSBmb3IgYWxsIGF1ZGllbmNlczwvbGk+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxsaT7igKIgTm8gY29weXJpZ2h0ZWQgY2hhcmFjdGVycywgbG9nb3MsIG9yIHRyYWRlbWFya2VkIGNvbnRlbnQ8L2xpPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8bGk+4oCiIE5vIGhhdGUgc3BlZWNoLCBoYXJhc3NtZW50LCBvciBkaXNjcmltaW5hdG9yeSBjb250ZW50PC9saT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpPuKAoiBObyBpbGxlZ2FsLCBoYXJtZnVsLCBvciBleHBsaWNpdCBtYXRlcmlhbDwvbGk+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxsaT7igKIgQ29udGVudCBtYXkgYmUgZmlsdGVyZWQgdG8gZW5zdXJlIGNvbXBsaWFuY2Ugd2l0aCB0aGVzZSBndWlkZWxpbmVzPC9saT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvdWw+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGg0IGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGQgbWItMiB0ZXh0LWdyYXktODAwIGRhcms6dGV4dC1ncmF5LTIwMFwiPkludGVsbGVjdHVhbCBQcm9wZXJ0eTwvaDQ+XG4gICAgICAgICAgICAgICAgICAgICAgICA8dWwgY2xhc3NOYW1lPVwic3BhY2UteS0xIHRleHQtZ3JheS02MDAgZGFyazp0ZXh0LWdyYXktNDAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxsaT7igKIgWW91IHJldGFpbiByaWdodHMgdG8geW91ciBvcmlnaW5hbCBjb250ZW50IGFuZCBpZGVhczwvbGk+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxsaT7igKIgR2VuZXJhdGVkIGltYWdlcyBhcmUgY3JlYXRlZCB1c2luZyBBSSBhbmQgbWF5IG5vdCBiZSBjb3B5cmlnaHRhYmxlPC9saT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpPuKAoiBZb3UgZ3JhbnQgdXMgbGljZW5zZSB0byBwcm9jZXNzIGFuZCBkZWxpdmVyIHlvdXIgY2FyZHM8L2xpPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8bGk+4oCiIFJlc3BlY3QgdGhpcmQtcGFydHkgaW50ZWxsZWN0dWFsIHByb3BlcnR5IHJpZ2h0czwvbGk+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L3VsPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwdC0yIGJvcmRlci10IGJvcmRlci1ncmF5LTIwMCBkYXJrOmJvcmRlci1ncmF5LTcwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXIgdGV4dC1ncmF5LTUwMCBkYXJrOnRleHQtZ3JheS00MDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgQnkgY3JlYXRpbmcgYSBjYXJkLCB5b3UgYWdyZWUgdG8gdGhlc2UgdGVybXMgYW5kIHBvbGljaWVzLiBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGJyIC8+TGFzdCB1cGRhdGVkOiB7bmV3IERhdGUoKS50b0xvY2FsZURhdGVTdHJpbmcoKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8L0NvbGxhcHNpYmxlQ29udGVudD5cbiAgICAgICAgICAgICAgICA8L0NvbGxhcHNpYmxlPlxuXG4gICAgICAgICAgICAgICAgey8qIENsZWFuIFByb2dyZXNzIEluZGljYXRvciAtIEhpZGUgd2hlbiBkcmFmdCBjYXJkcyBhcmUgYXZhaWxhYmxlIGZvciBzZWxlY3Rpb24gKi99XG4gICAgICAgICAgICAgICAgeyhpc0dlbmVyYXRpbmcgfHwgaXNHZW5lcmF0aW5nTWVzc2FnZSkgJiYgIWlzR2VuZXJhdGluZ0ZpbmFsQ2FyZCAmJiAhKGlzRHJhZnRNb2RlICYmIGRyYWZ0Q2FyZHMubGVuZ3RoID4gMCkgJiYgKFxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYi00IHAtNCBiZy1ncmFkaWVudC10by1yIGZyb20tYmx1ZS01MCB0by1jeWFuLTUwIGRhcms6ZnJvbS1ibHVlLTkwMC8zMCBkYXJrOnRvLWN5YW4tOTAwLzMwIHJvdW5kZWQtbGcgYm9yZGVyIGJvcmRlci1ibHVlLTIwMCBkYXJrOmJvcmRlci1ibHVlLTgwMFwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktM1wiPlxuICAgICAgICAgICAgICAgICAgICAgIHsvKiBQcm9ncmVzcyBNZXNzYWdlICovfVxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy00IGgtNCBib3JkZXItMiBib3JkZXItYmx1ZS01MDAgYm9yZGVyLXQtdHJhbnNwYXJlbnQgcm91bmRlZC1mdWxsIGFuaW1hdGUtc3BpblwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtYmx1ZS02MDAgZGFyazp0ZXh0LWJsdWUtNDAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtnZW5lcmF0aW9uUHJvZ3Jlc3MgfHwgXCJHZW5lcmF0aW5nIHlvdXIgY2FyZC4uLlwifVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgICAgICAgey8qIENsZWFuIFByb2dyZXNzIEJhciAqL31cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctZnVsbCBiZy1ncmF5LTIwMCBkYXJrOmJnLWdyYXktNzAwIHJvdW5kZWQtZnVsbCBoLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJnLWdyYWRpZW50LXRvLXIgZnJvbS1ibHVlLTUwMCB0by1jeWFuLTUwMCBoLTMgcm91bmRlZC1mdWxsIHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTEwMDAgZWFzZS1vdXRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogYCR7TWF0aC5taW4ocHJvZ3Jlc3NQZXJjZW50YWdlLCAxMDApfSVgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgICAgICAgey8qIFByb2dyZXNzIFRleHQgYW5kIFRpbWUgRGlzcGxheSAqL31cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiB0ZXh0LXhzIHRleHQtZ3JheS02MDAgZGFyazp0ZXh0LWdyYXktNDAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJmb250LW1lZGl1bVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICB7TWF0aC5yb3VuZChwcm9ncmVzc1BlcmNlbnRhZ2UpfSUgQ29tcGxldGVcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRFbGFwc2VkVGltZSA+IDAgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtYmx1ZS02MDAgZGFyazp0ZXh0LWJsdWUtNDAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICDij7HvuI8ge2Zvcm1hdEdlbmVyYXRpb25UaW1lKGN1cnJlbnRFbGFwc2VkVGltZSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNTAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2lzRHJhZnRNb2RlICYmICFpc0dlbmVyYXRpbmdGaW5hbENhcmQgPyAnfjMwLTYwIHNlYyBleHBlY3RlZCcgOiAnfjE6MzAtMjowMCBtaW4gZXhwZWN0ZWQnfVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICApfVxuXG4gICAgICAgICAgICAgICAgey8qIEdlbmVyYXRlIEJ1dHRvbnMgKi99XG4gICAgICAgICAgICAgICAgeyFpc0RyYWZ0TW9kZSAmJiBkcmFmdENhcmRzLmxlbmd0aCA9PT0gMCAmJiAhaXNHZW5lcmF0aW5nRmluYWxDYXJkICYmICFpc0dlbmVyYXRpbmcgPyAoXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktM1wiPlxuICAgICAgICAgICAgICAgICAgICB7LyogRHJhZnQgTW9kZSBEZXNjcmlwdGlvbiAqL31cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy1wdXJwbGUtNTAgZGFyazpiZy1wdXJwbGUtOTAwLzIwIHJvdW5kZWQtbGcgcC0zIGJvcmRlciBib3JkZXItcHVycGxlLTIwMCBkYXJrOmJvcmRlci1wdXJwbGUtODAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLXN0YXJ0IGdhcC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8UGFsZXR0ZSBjbGFzc05hbWU9XCJ3LTQgaC00IHRleHQtcHVycGxlLTYwMCBtdC0wLjUgZmxleC1zaHJpbmstMFwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtc21cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwiZm9udC1tZWRpdW0gdGV4dC1wdXJwbGUtOTAwIGRhcms6dGV4dC1wdXJwbGUtMTAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAg8J+OqCBEcmFmdCBNb2RlIChSZWNvbW1lbmRlZClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXB1cnBsZS03MDAgZGFyazp0ZXh0LXB1cnBsZS0zMDAgdGV4dC14cyBtdC0xXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIEdlbmVyYXRlIDUgZGlmZmVyZW50IGZyb250IGNvdmVyIGRlc2lnbnMgcXVpY2tseSB3aXRoIGxvdyBxdWFsaXR5LCB0aGVuIHBpY2sgeW91ciBmYXZvcml0ZSBmb3IgY29tcGxldGUgaGlnaC1xdWFsaXR5IGNhcmQgZ2VuZXJhdGlvbi4gXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtzZWxlY3RlZEFydGlzdGljU3R5bGUgPT09IFwiYWktc21hcnQtc3R5bGVcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZm9udC1tZWRpdW1cIj4gV2l0aCBTbWFydCBTdHlsZSwgeW91J2xsIHNlZSB5b3VyIGNhcmQgaW4gNSBvZiBvdXIgY3VyYXRlZCBhcnRpc3RpYyBzdHlsZXMhPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgey8qIERyYWZ0IE1vZGUgQnV0dG9uICovfVxuICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlR2VuZXJhdGVEcmFmdENhcmRzfVxuICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtpc0dlbmVyYXRpbmcgfHwgaXNHZW5lcmF0aW5nTWVzc2FnZSB8fCAhdXNlckVtYWlsLnRyaW0oKX1cbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgaC0xMiB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0zMDAgYmctZ3JhZGllbnQtdG8tciBmcm9tLXB1cnBsZS01MDAgdG8tcGluay02MDAgaG92ZXI6ZnJvbS1wdXJwbGUtNjAwIGhvdmVyOnRvLXBpbmstNzAwXCJcbiAgICAgICAgICAgICAgICAgICAgICBzaXplPVwibGdcIlxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAge2lzR2VuZXJhdGluZyB8fCBpc0dlbmVyYXRpbmdNZXNzYWdlID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTQgaC00IGJvcmRlci0yIGJvcmRlci13aGl0ZSBib3JkZXItdC10cmFuc3BhcmVudCByb3VuZGVkLWZ1bGwgYW5pbWF0ZS1zcGluIG1yLTJcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICB7aXNHZW5lcmF0aW5nTWVzc2FnZSA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj5Xcml0aW5nIHlvdXIgbWVzc2FnZS4uLjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj5DcmVhdGluZyAxMCBkZXNpZ24gb3B0aW9ucy4uLjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8UGFsZXR0ZSBjbGFzc05hbWU9XCJ3LTUgaC01IG1yLTJcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj5DcmVhdGUgMTAgRnJvbnQgQ292ZXIgT3B0aW9uczwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlciB0ZXh0LXhzIHRleHQtZ3JheS01MDAgZGFyazp0ZXh0LWdyYXktNDAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgb3JcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICB7LyogRGlyZWN0IEdlbmVyYXRpb24gQnV0dG9uICovfVxuICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlR2VuZXJhdGVDYXJkQXN5bmN9XG4gICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2lzR2VuZXJhdGluZyB8fCBpc0dlbmVyYXRpbmdNZXNzYWdlIHx8ICF1c2VyRW1haWwudHJpbSgpfVxuICAgICAgICAgICAgICAgICAgICAgIHZhcmlhbnQ9XCJvdXRsaW5lXCJcbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgaC0xMCB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0zMDAgYm9yZGVyLWJsdWUtMzAwIGhvdmVyOmJvcmRlci1ibHVlLTQwMCBob3ZlcjpiZy1ibHVlLTUwIGRhcms6aG92ZXI6YmctYmx1ZS05MDAvMjBcIlxuICAgICAgICAgICAgICAgICAgICAgIHNpemU9XCJsZ1wiXG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICA8U3BhcmtsZXMgY2xhc3NOYW1lPVwidy00IGgtNCBtci0yXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj5EaXJlY3QgR2VuZXJhdGlvbjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICApIDogaXNHZW5lcmF0aW5nRmluYWxDYXJkID8gKFxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTRcIj5cbiAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0cnVlfVxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBoLTEyIHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTMwMCBiZy1ncmFkaWVudC10by1yIGZyb20tYmx1ZS01MDAgdG8tY3lhbi02MDBcIlxuICAgICAgICAgICAgICAgICAgICAgIHNpemU9XCJsZ1wiXG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctNCBoLTQgYm9yZGVyLTIgYm9yZGVyLXdoaXRlIGJvcmRlci10LXRyYW5zcGFyZW50IHJvdW5kZWQtZnVsbCBhbmltYXRlLXNwaW4gbXItMlwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgPHNwYW4+Q3JlYXRpbmcgaGlnaC1xdWFsaXR5IHZlcnNpb24uLi48L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgey8qIFByb2dyZXNzIEluZGljYXRvciBmb3IgRmluYWwgQ2FyZCBHZW5lcmF0aW9uICovfVxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInAtNCBiZy1ncmFkaWVudC10by1yIGZyb20tYmx1ZS01MCB0by1jeWFuLTUwIGRhcms6ZnJvbS1ibHVlLTkwMC8zMCBkYXJrOnRvLWN5YW4tOTAwLzMwIHJvdW5kZWQtbGcgYm9yZGVyIGJvcmRlci1ibHVlLTIwMCBkYXJrOmJvcmRlci1ibHVlLTgwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICB7LyogUHJvZ3Jlc3MgTWVzc2FnZSAqL31cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTQgaC00IGJvcmRlci0yIGJvcmRlci1ibHVlLTUwMCBib3JkZXItdC10cmFuc3BhcmVudCByb3VuZGVkLWZ1bGwgYW5pbWF0ZS1zcGluXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWJsdWUtNjAwIGRhcms6dGV4dC1ibHVlLTQwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtnZW5lcmF0aW9uUHJvZ3Jlc3MgfHwgXCJHZW5lcmF0aW5nIGhpZ2gtcXVhbGl0eSB2ZXJzaW9uIG9mIHlvdXIgc2VsZWN0ZWQgZGVzaWduLi4uXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgICAgICAgICB7LyogQ2xlYW4gUHJvZ3Jlc3MgQmFyICovfVxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LWZ1bGwgYmctZ3JheS0yMDAgZGFyazpiZy1ncmF5LTcwMCByb3VuZGVkLWZ1bGwgaC0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYmctZ3JhZGllbnQtdG8tciBmcm9tLWJsdWUtNTAwIHRvLWN5YW4tNTAwIGgtMyByb3VuZGVkLWZ1bGwgdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMTAwMCBlYXNlLW91dFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IGAke01hdGgubWluKHByb2dyZXNzUGVyY2VudGFnZSwgMTAwKX0lYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHsvKiBQcm9ncmVzcyBUZXh0IGFuZCBUaW1lIERpc3BsYXkgKi99XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiB0ZXh0LXhzIHRleHQtZ3JheS02MDAgZGFyazp0ZXh0LWdyYXktNDAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImZvbnQtbWVkaXVtXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge01hdGgucm91bmQocHJvZ3Jlc3NQZXJjZW50YWdlKX0lIENvbXBsZXRlXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50RWxhcHNlZFRpbWUgPiAwICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtYmx1ZS02MDAgZGFyazp0ZXh0LWJsdWUtNDAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOKPse+4jyB7Zm9ybWF0R2VuZXJhdGlvblRpbWUoY3VycmVudEVsYXBzZWRUaW1lKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtZ3JheS01MDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtpc0RyYWZ0TW9kZSAmJiAhaXNHZW5lcmF0aW5nRmluYWxDYXJkID8gJ34zMC02MCBzZWMgZXhwZWN0ZWQnIDogJ34xOjMwLTI6MDAgbWluIGV4cGVjdGVkJ31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVHZW5lcmF0ZUNhcmRBc3luY31cbiAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtpc0dlbmVyYXRpbmcgfHwgaXNHZW5lcmF0aW5nTWVzc2FnZSB8fCAhdXNlckVtYWlsLnRyaW0oKX1cbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YHctZnVsbCBoLTEyIHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTMwMCAke1xuICAgICAgICAgICAgICAgICAgICBpc0NhcmRDb21wbGV0ZWQgXG4gICAgICAgICAgICAgICAgICAgICAgPyAnYmctZ3JhZGllbnQtdG8tciBmcm9tLWdyZWVuLTUwMCB0by1lbWVyYWxkLTYwMCBob3Zlcjpmcm9tLWdyZWVuLTYwMCBob3Zlcjp0by1lbWVyYWxkLTcwMCcgXG4gICAgICAgICAgICAgICAgICAgICAgOiAnYmctZ3JhZGllbnQtdG8tciBmcm9tLWJsdWUtNTAwIHRvLWN5YW4tNjAwIGhvdmVyOmZyb20tYmx1ZS02MDAgaG92ZXI6dG8tY3lhbi03MDAnXG4gICAgICAgICAgICAgICAgICB9YH1cbiAgICAgICAgICAgICAgICAgIHNpemU9XCJsZ1wiXG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAge2lzR2VuZXJhdGluZyB8fCBpc0dlbmVyYXRpbmdNZXNzYWdlID8gKFxuICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy00IGgtNCBib3JkZXItMiBib3JkZXItd2hpdGUgYm9yZGVyLXQtdHJhbnNwYXJlbnQgcm91bmRlZC1mdWxsIGFuaW1hdGUtc3BpbiBtci0yXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICB7aXNHZW5lcmF0aW5nTWVzc2FnZSA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPldyaXRpbmcgeW91ciBtZXNzYWdlLi4uPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj5DcmVhdGluZyB5b3VyIGNhcmQuLi48L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgICApIDogaXNDYXJkQ29tcGxldGVkID8gKFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHctZnVsbFwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy01IGgtNSBtci0yIHRleHQtd2hpdGVcIj7inIU8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj5DYXJkIENvbXBsZXRlZCE8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgICA8U3BhcmtsZXMgY2xhc3NOYW1lPVwidy01IGgtNSBtci0yXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICB7bnVtYmVyT2ZDYXJkcyA+IDEgPyBgQ3JlYXRlICR7bnVtYmVyT2ZDYXJkc30gQ2FyZHNgIDogJ0NyZWF0ZSBDYXJkJ31cbiAgICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgey8qIEFjdGlvbiBidXR0b25zIHdoZW4gY2FyZCBpcyBjb21wbGV0ZWQgKi99XG4gICAgICAgICAgICAgICAge2lzQ2FyZENvbXBsZXRlZCAmJiAoXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTQgZ3JpZCBncmlkLWNvbHMtMiBnYXAtM1wiPlxuICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlUmVnZW5lcmF0ZUNhcmR9XG4gICAgICAgICAgICAgICAgICAgICAgdmFyaWFudD1cIm91dGxpbmVcIlxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yIGJvcmRlci1ibHVlLTIwMCBob3Zlcjpib3JkZXItYmx1ZS0zMDAgaG92ZXI6YmctYmx1ZS01MCBkYXJrOmJvcmRlci1ibHVlLTgwMCBkYXJrOmhvdmVyOmJvcmRlci1ibHVlLTcwMCBkYXJrOmhvdmVyOmJnLWJsdWUtOTAwLzIwXCJcbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgIDxSZWZyZXNoQ3cgY2xhc3NOYW1lPVwidy00IGgtNFwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgUmVnZW5lcmF0ZSBTYW1lXG4gICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlQ3JlYXRlTmV3Q2FyZH1cbiAgICAgICAgICAgICAgICAgICAgICB2YXJpYW50PVwib3V0bGluZVwiXG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgYm9yZGVyLWdyZWVuLTIwMCBob3Zlcjpib3JkZXItZ3JlZW4tMzAwIGhvdmVyOmJnLWdyZWVuLTUwIGRhcms6Ym9yZGVyLWdyZWVuLTgwMCBkYXJrOmhvdmVyOmJvcmRlci1ncmVlbi03MDAgZGFyazpob3ZlcjpiZy1ncmVlbi05MDAvMjBcIlxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgPFNwYXJrbGVzIGNsYXNzTmFtZT1cInctNCBoLTRcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgIENyZWF0ZSBOZXcgQ2FyZFxuICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgIDwvQ2FyZENvbnRlbnQ+XG4gICAgICAgICAgICA8L0NhcmQ+XG5cbiAgICAgICAgey8qIERyYWZ0IENhcmRzIFNlbGVjdGlvbiAqL31cbiAgICAgICAge2lzRHJhZnRNb2RlICYmIGRyYWZ0Q2FyZHMubGVuZ3RoID4gMCAmJiAhaXNHZW5lcmF0aW5nRmluYWxDYXJkICYmICFnZW5lcmF0ZWRDYXJkICYmIChcbiAgICAgICAgICA8Q2FyZCBjbGFzc05hbWU9XCJzaGFkb3ctbGdcIiBkYXRhLWNhcmQtcHJldmlldz5cbiAgICAgICAgICAgIDxDYXJkSGVhZGVyPlxuICAgICAgICAgICAgICA8Q2FyZFRpdGxlIGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XG4gICAgICAgICAgICAgICAgPFBhbGV0dGUgY2xhc3NOYW1lPVwidy01IGgtNSB0ZXh0LXB1cnBsZS02MDBcIiAvPlxuICAgICAgICAgICAgICAgIENob29zZSBZb3VyIEZhdm9yaXRlIERlc2lnblxuICAgICAgICAgICAgICA8L0NhcmRUaXRsZT5cbiAgICAgICAgICAgICAgPENhcmREZXNjcmlwdGlvbj5cbiAgICAgICAgICAgICAgICAxMCBmcm9udCBjb3ZlciB2YXJpYXRpb25zIGNyZWF0ZWQgd2l0aCBsb3cgcXVhbGl0eSBmb3IgZmFzdCBwcmV2aWV3LiBTZWxlY3QgeW91ciBmYXZvcml0ZSB0byBnZW5lcmF0ZSB0aGUgY29tcGxldGUgaGlnaC1xdWFsaXR5IGNhcmQhXG4gICAgICAgICAgICAgIDwvQ2FyZERlc2NyaXB0aW9uPlxuICAgICAgICAgICAgPC9DYXJkSGVhZGVyPlxuICAgICAgICAgICAgPENhcmRDb250ZW50IGNsYXNzTmFtZT1cInNwYWNlLXktNFwiPlxuICAgICAgICAgICAgICB7LyogVW5pZmllZCBob3Jpem9udGFsIHNjcm9sbGluZyB2aWV3IGZvciBhbGwgc2NyZWVuIHNpemVzICovfVxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctZnVsbFwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBvdmVyZmxvdy14LWF1dG8gZ2FwLTMgcGItNCAtbXgtNCBweC00IHNuYXAteCBzbmFwLW1hbmRhdG9yeVwiPlxuICAgICAgICAgICAgICAgICAge0FycmF5LmZyb20oeyBsZW5ndGg6IDEwIH0sIChfLCBkaXNwbGF5SW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY2FyZCA9IGRyYWZ0Q2FyZHNbZGlzcGxheUluZGV4XTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgb3JpZ2luYWxJbmRleCA9IGRyYWZ0SW5kZXhNYXBwaW5nW2Rpc3BsYXlJbmRleF07XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGlzTG9hZGluZyA9IGRpc3BsYXlJbmRleCA+PSBkcmFmdENhcmRzLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2Rpc3BsYXlJbmRleH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgZmxleC1zaHJpbmstMCB3LTQ4IHNtOnctNTYgc25hcC1jZW50ZXIgcm91bmRlZC1sZyBib3JkZXItMiBwLTIgc206cC0zIHRyYW5zaXRpb24tYWxsICR7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkRHJhZnRJbmRleCA9PT0gZGlzcGxheUluZGV4XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyAnYm9yZGVyLXB1cnBsZS01MDAgYmctcHVycGxlLTUwIGRhcms6YmctcHVycGxlLTkwMC8yMCBzaGFkb3ctbGcnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBjYXJkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyAnYm9yZGVyLWdyYXktMjAwIGRhcms6Ym9yZGVyLWdyYXktNzAwIGhvdmVyOmJvcmRlci1wdXJwbGUtMzAwIGhvdmVyOmJnLXB1cnBsZS01MC81MCBkYXJrOmhvdmVyOmJnLXB1cnBsZS05MDAvMTAnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiAnYm9yZGVyLWRhc2hlZCBib3JkZXItZ3JheS0zMDAgZGFyazpib3JkZXItZ3JheS02MDAnXG4gICAgICAgICAgICAgICAgICAgICAgICB9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGNhcmQgJiYgc2V0U2VsZWN0ZWREcmFmdEluZGV4KGRpc3BsYXlJbmRleCl9XG4gICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAge2NhcmQgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgey8qIFNpbmdsZSBmcm9udCBjb3ZlciBwcmV2aWV3ICovfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYXNwZWN0LVsyLzNdIHJlbGF0aXZlIG92ZXJmbG93LWhpZGRlbiByb3VuZGVkIGJvcmRlciBtYi0yIHNtOm1iLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW1nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcmM9e2NhcmQuZnJvbnRDb3Zlcn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsdD17YERlc2lnbiAke29yaWdpbmFsSW5kZXggKyAxfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgaC1mdWxsIG9iamVjdC1jb3ZlclwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7c2VsZWN0ZWREcmFmdEluZGV4ID09PSBkaXNwbGF5SW5kZXggJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSBpbnNldC0wIGJnLXB1cnBsZS02MDAvMjAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy13aGl0ZSByb3VuZGVkLWZ1bGwgcC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tDaXJjbGUgY2xhc3NOYW1lPVwidy02IGgtNiBzbTp3LTggc206aC04IHRleHQtcHVycGxlLTYwMFwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsvKiBDYXJkIGluZm8gKi99XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlciBzcGFjZS15LTEgc206c3BhY2UteS0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGg0IGNsYXNzTmFtZT1cImZvbnQtbWVkaXVtIHRleHQtc21cIj5EZXNpZ24ge29yaWdpbmFsSW5kZXggKyAxfTwvaDQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge3NlbGVjdGVkQXJ0aXN0aWNTdHlsZSA9PT0gXCJhaS1zbWFydC1zdHlsZVwiICYmIGNhcmQuc3R5bGVJbmZvICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1ncmF5LTYwMCBkYXJrOnRleHQtZ3JheS00MDAgdHJ1bmNhdGVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2NhcmQuc3R5bGVJbmZvLnN0eWxlTGFiZWx9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTFcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3NlbGVjdGVkRHJhZnRJbmRleCA9PT0gZGlzcGxheUluZGV4ICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QmFkZ2UgY2xhc3NOYW1lPVwiYmctcHVycGxlLTYwMCB0ZXh0LXdoaXRlIHRleHQteHMgcHgtMiBweS0xIG1iLTFcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOKckyBTZWxlY3RlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvQmFkZ2U+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXJpYW50PVwib3V0bGluZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplPVwic21cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0UHJldmlld2luZ0RyYWZ0SW5kZXgoZGlzcGxheUluZGV4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIHRleHQteHMgaC03IHNtOmgtOFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEV5ZSBjbGFzc05hbWU9XCJ3LTMgaC0zIG1yLTFcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImhpZGRlbiBzbTppbmxpbmVcIj5QcmV2aWV3IERlc2lnbjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJzbTpoaWRkZW5cIj5QcmV2aWV3PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHB5LTYgc206cHktOFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy02IGgtNiBzbTp3LTggc206aC04IGJvcmRlci0yIGJvcmRlci1wdXJwbGUtNTAwIGJvcmRlci10LXRyYW5zcGFyZW50IHJvdW5kZWQtZnVsbCBhbmltYXRlLXNwaW4gbXgtYXV0byBtYi0yIHNtOm1iLTNcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoNCBjbGFzc05hbWU9XCJmb250LW1lZGl1bSB0ZXh0LXNtIG1iLTFcIj5DcmVhdGluZy4uLjwvaDQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LWdyYXktNTAwXCI+R2VuZXJhdGluZyBmcm9udCBjb3Zlci4uLjwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgey8qIFNlbGVjdGlvbiBpbmRpY2F0b3IgKi99XG4gICAgICAgICAgICAgICAge3NlbGVjdGVkRHJhZnRJbmRleCAhPT0gLTEgJiYgZHJhZnRJbmRleE1hcHBpbmdbc2VsZWN0ZWREcmFmdEluZGV4XSAhPT0gdW5kZWZpbmVkICYmIChcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXIgYmctcHVycGxlLTUwIGRhcms6YmctcHVycGxlLTkwMC8yMCByb3VuZGVkLWxnIHAtM1wiPlxuICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtcHVycGxlLTkwMCBkYXJrOnRleHQtcHVycGxlLTEwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgIOKckyBEZXNpZ24ge2RyYWZ0SW5kZXhNYXBwaW5nW3NlbGVjdGVkRHJhZnRJbmRleF0gKyAxfSBzZWxlY3RlZFxuICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIHsvKiBHZW5lcmF0ZSBidXR0b24gLSBzaG93IGFzIHNvb24gYXMgdXNlciBzZWxlY3RzIGEgY2FyZCAqL31cbiAgICAgICAgICAgICAge2RyYWZ0Q2FyZHMubGVuZ3RoID4gMCAmJiAoXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC02IHRleHQtY2VudGVyIHNwYWNlLXktM1wiPlxuICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBoYW5kbGVHZW5lcmF0ZUZpbmFsRnJvbURyYWZ0KHNlbGVjdGVkRHJhZnRJbmRleCl9XG4gICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtzZWxlY3RlZERyYWZ0SW5kZXggPT09IC0xfVxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJiZy1ncmFkaWVudC10by1yIGZyb20tcHVycGxlLTYwMCB0by1waW5rLTYwMCBob3Zlcjpmcm9tLXB1cnBsZS03MDAgaG92ZXI6dG8tcGluay03MDAgdGV4dC13aGl0ZSB3LWZ1bGwgbWQ6dy1hdXRvXCJcbiAgICAgICAgICAgICAgICAgICAgc2l6ZT1cImxnXCJcbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPFNwYXJrbGVzIGNsYXNzTmFtZT1cInctNSBoLTUgbXItMlwiIC8+XG4gICAgICAgICAgICAgICAgICAgIEdlbmVyYXRlIENvbXBsZXRlIEhpZ2gtUXVhbGl0eSBDYXJkXG4gICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAge3NlbGVjdGVkRHJhZnRJbmRleCA9PT0gLTEgPyAoXG4gICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1ncmF5LTUwMCBkYXJrOnRleHQtZ3JheS00MDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICBQbGVhc2Ugc2VsZWN0IGEgZGVzaWduIHZhcmlhdGlvbiBhYm92ZSB0byBwcm9jZWVkXG4gICAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LWdyZWVuLTYwMCBkYXJrOnRleHQtZ3JlZW4tNDAwIGZvbnQtbWVkaXVtXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICDinJMgRGVzaWduIHtkcmFmdEluZGV4TWFwcGluZ1tzZWxlY3RlZERyYWZ0SW5kZXhdICsgMX0gc2VsZWN0ZWQgLSByZWFkeSB0byBnZW5lcmF0ZSFcbiAgICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICAgICAge2RyYWZ0Q2FyZHMubGVuZ3RoIDwgMTAgJiYgaXNHZW5lcmF0aW5nICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1ncmF5LTUwMCBkYXJrOnRleHQtZ3JheS00MDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgUmVtYWluaW5nIHZhcmlhdGlvbnMgd2lsbCBiZSBjYW5jZWxsZWQgdG8gZm9jdXMgb24geW91ciBzZWxlY3RlZCBkZXNpZ25cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8L0NhcmRDb250ZW50PlxuICAgICAgICAgIDwvQ2FyZD5cbiAgICAgICAgKX1cblxuICAgICAgICB7LyogQ2FyZCBQcmV2aWV3IC0gSGlkZSB3aGVuIGluIGRyYWZ0IG1vZGUgb3Igd2hlbiBnZW5lcmF0aW5nIGZpbmFsIGZyb20gZHJhZnQgKi99XG4gICAgICAgIHsoKCkgPT4ge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5SNIENhcmQgUHJldmlldyBSZW5kZXIgQ2hlY2s6Jywge1xuICAgICAgICAgICAgaGFzR2VuZXJhdGVkQ2FyZDogISFnZW5lcmF0ZWRDYXJkLFxuICAgICAgICAgICAgY2FyZElkOiBnZW5lcmF0ZWRDYXJkPy5pZCxcbiAgICAgICAgICAgIGlzQ2FyZENvbXBsZXRlZCxcbiAgICAgICAgICAgIGdlbmVyYXRlZENhcmRzTGVuZ3RoOiBnZW5lcmF0ZWRDYXJkcy5sZW5ndGgsXG4gICAgICAgICAgICBzZWxlY3RlZENhcmRJbmRleCxcbiAgICAgICAgICAgIGZyb250Q292ZXI6IGdlbmVyYXRlZENhcmQ/LmZyb250Q292ZXIgPyAncHJlc2VudCcgOiAnbWlzc2luZycsXG4gICAgICAgICAgICBpc0RyYWZ0TW9kZSxcbiAgICAgICAgICAgIGlzR2VuZXJhdGluZ0ZpbmFsQ2FyZCxcbiAgICAgICAgICAgIGRyYWZ0Q2FyZHNMZW5ndGg6IGRyYWZ0Q2FyZHMubGVuZ3RoXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH0pKCl9XG4gICAgICAgIHtnZW5lcmF0ZWRDYXJkICYmICFpc0dlbmVyYXRpbmdGaW5hbENhcmQgJiYgKFxuICAgICAgICAgICAgICAgICAgPENhcmQgY2xhc3NOYW1lPVwic2hhZG93LWxnXCIgZGF0YS1jYXJkLXByZXZpZXc+XG4gICAgICAgICAgICAgICAgICAgIDxDYXJkSGVhZGVyPlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2FyZFRpdGxlIGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2lzQ2FyZENvbXBsZXRlZCAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LTYgaC02IGJnLWdyZWVuLTUwMCByb3VuZGVkLWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIiBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9e2dlbmVyYXRpb25EdXJhdGlvbiA/IGBHZW5lcmF0ZWQgaW4gJHtmb3JtYXRHZW5lcmF0aW9uVGltZShnZW5lcmF0aW9uRHVyYXRpb24pfWAgOiAnQ2FyZCBjb21wbGV0ZWQnfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXdoaXRlIHRleHQtc21cIj7inJM8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtudW1iZXJPZkNhcmRzID4gMSA/IGBZb3VyIENhcmRzICgke2dlbmVyYXRlZENhcmRzLmxlbmd0aH0gR2VuZXJhdGVkKWAgOiAnWW91ciBDYXJkJ31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9DYXJkVGl0bGU+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxDYXJkRGVzY3JpcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2lzQ2FyZENvbXBsZXRlZCA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LWdyZWVuLTYwMCBkYXJrOnRleHQtZ3JlZW4tNDAwIGZvbnQtbWVkaXVtXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIPCfjokgQ2FyZCBnZW5lcmF0aW9uIGNvbXBsZXRlISBZb3VyIGNhcmQgaXMgcmVhZHkgZm9yIHByaW50aW5nIG9yIHNoYXJpbmcuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtnZW5lcmF0aW9uRHVyYXRpb24gJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaW5saW5lLWZsZXggaXRlbXMtY2VudGVyIGdhcC0yIGJnLWJsdWUtNTAgZGFyazpiZy1ibHVlLTkwMC8yMCB0ZXh0LWJsdWUtNzAwIGRhcms6dGV4dC1ibHVlLTMwMCBweC0zIHB5LTEgcm91bmRlZC1mdWxsIHRleHQtc20gZm9udC1tZWRpdW1cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtYmx1ZS01MDBcIj7imqE8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBHZW5lcmF0ZWQgaW4ge2Zvcm1hdEdlbmVyYXRpb25UaW1lKGdlbmVyYXRpb25EdXJhdGlvbil9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ3JlYXRlZCB7bmV3IERhdGUoZ2VuZXJhdGVkQ2FyZC5jcmVhdGVkQXQpLnRvTG9jYWxlRGF0ZVN0cmluZygpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7bnVtYmVyT2ZDYXJkcyA+IDEgJiYgYCDigKIgVmlld2luZyBDYXJkICR7c2VsZWN0ZWRDYXJkSW5kZXggKyAxfSBvZiAke2dlbmVyYXRlZENhcmRzLmxlbmd0aH1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9DYXJkRGVzY3JpcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgIHsvKiBDYXJkIFNlbGVjdG9yIGZvciBNdWx0aXBsZSBDYXJkcyAqL31cbiAgICAgICAgICAgICAgICAgICAgICB7bnVtYmVyT2ZDYXJkcyA+IDEgJiYgZ2VuZXJhdGVkQ2FyZHMubGVuZ3RoID4gMSAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cInRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1ncmF5LTcwMCBkYXJrOnRleHQtZ3JheS0zMDAgbWItMiBibG9ja1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIENob29zZSBZb3VyIEZhdm9yaXRlIENhcmRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJncmlkIGdyaWQtY29scy0yIG1kOmdyaWQtY29scy00IGdhcC0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2dlbmVyYXRlZENhcmRzLm1hcCgoY2FyZCwgaW5kZXgpID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtjYXJkLmlkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2ByZWxhdGl2ZSBjdXJzb3ItcG9pbnRlciByb3VuZGVkLWxnIGJvcmRlci0yIHAtMiB0cmFuc2l0aW9uLWFsbCAke1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkQ2FyZEluZGV4ID09PSBpbmRleFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyAnYm9yZGVyLWJsdWUtNTAwIGJnLWJsdWUtNTAgZGFyazpiZy1ibHVlLTkwMC8yMCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogJ2JvcmRlci1ncmF5LTIwMCBkYXJrOmJvcmRlci1ncmF5LTcwMCBob3Zlcjpib3JkZXItZ3JheS0zMDAnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0U2VsZWN0ZWRDYXJkSW5kZXgoaW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldEdlbmVyYXRlZENhcmQoY2FyZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYXNwZWN0LVsyLzNdIHJlbGF0aXZlIG92ZXJmbG93LWhpZGRlbiByb3VuZGVkXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2NhcmQuZnJvbnRDb3ZlciA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbWdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3JjPXtjYXJkLmZyb250Q292ZXJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsdD17YENhcmQgJHtpbmRleCArIDF9IFByZXZpZXdgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgaC1mdWxsIG9iamVjdC1jb3ZlclwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctZnVsbCBoLWZ1bGwgYmctZ3JheS0xMDAgZGFyazpiZy1ncmF5LTgwMCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctNCBoLTQgYm9yZGVyLTIgYm9yZGVyLWJsdWUtNTAwIGJvcmRlci10LXRyYW5zcGFyZW50IHJvdW5kZWQtZnVsbCBhbmltYXRlLXNwaW5cIiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXIgbXQtMVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQteHMgZm9udC1tZWRpdW1cIj5DYXJkIHtpbmRleCArIDF9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtzZWxlY3RlZENhcmRJbmRleCA9PT0gaW5kZXggJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtYmx1ZS02MDAgZGFyazp0ZXh0LWJsdWUtNDAwXCI+U2VsZWN0ZWQ8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgIDwvQ2FyZEhlYWRlcj5cbiAgICAgICAgICAgICAgICAgICAgPENhcmRDb250ZW50PlxuICAgICAgICAgICAgICAgICAgICAgIDxDYXJkUHJldmlldyBcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhcmQ9e2dlbmVyYXRlZENhcmR9IFxuICAgICAgICAgICAgICAgICAgICAgICAgb25DYXJkVXBkYXRlPXsodXBkYXRlZENhcmQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0R2VuZXJhdGVkQ2FyZCh1cGRhdGVkQ2FyZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFsc28gdXBkYXRlIHRoZSBjYXJkIGluIHRoZSBjYXJkcyBhcnJheVxuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRHZW5lcmF0ZWRDYXJkcyhwcmV2ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB1cGRhdGVkID0gWy4uLnByZXZdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZWRbc2VsZWN0ZWRDYXJkSW5kZXhdID0gdXBkYXRlZENhcmQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVwZGF0ZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlzRnJvbnRCYWNrT25seT17aXNGcm9udEJhY2tPbmx5fVxuICAgICAgICAgICAgICAgICAgICAgICAgb25QcmludD17aGFuZGxlUHJpbnRDbGlja31cbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcGVyQ29uZmlnPXtwYXBlclNpemVzLmZpbmQoc2l6ZSA9PiBzaXplLmlkID09PSBzZWxlY3RlZFBhcGVyU2l6ZSkgfHwgcGFwZXJTaXplc1swXX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHNlY3Rpb25Mb2FkaW5nU3RhdGVzPXtzZWN0aW9uTG9hZGluZ1N0YXRlc31cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFBhc3MgcGFwZXIgc2l6ZSBjb250cm9sIHByb3BzXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZFBhcGVyU2l6ZT17c2VsZWN0ZWRQYXBlclNpemV9XG4gICAgICAgICAgICAgICAgICAgICAgICBvblBhcGVyU2l6ZUNoYW5nZT17c2V0U2VsZWN0ZWRQYXBlclNpemV9XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXBlclNpemVzPXtwYXBlclNpemVzfVxuICAgICAgICAgICAgICAgICAgICAgICAgaXNDYXJkQ29tcGxldGVkPXtpc0NhcmRDb21wbGV0ZWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBGYXN0IHByZXZpZXcgZnVuY3Rpb25hbGl0eVxuICAgICAgICAgICAgICAgICAgICAgICAgZmFzdFByZXZpZXdNb2RlPXtmYXN0UHJldmlld01vZGUgJiYgIWlzQ2FyZENvbXBsZXRlZH1cbiAgICAgICAgICAgICAgICAgICAgICAgIG9uVmlld0Z1bGxDYXJkPXsoKSA9PiBzZXRGYXN0UHJldmlld01vZGUoZmFsc2UpfVxuICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgIDwvQ2FyZENvbnRlbnQ+XG4gICAgICAgICAgICAgICAgICA8L0NhcmQ+XG4gICAgICAgICl9XG5cbiAgICAgICAgey8qIEVtcHR5IFN0YXRlIC0gT25seSBzaG93IHdoZW4gbm8gY2FyZHMgYW5kIG5vdCBpbiBkcmFmdCBtb2RlICovfVxuICAgICAgICB7IWdlbmVyYXRlZENhcmQgJiYgIWlzRHJhZnRNb2RlICYmIGRyYWZ0Q2FyZHMubGVuZ3RoID09PSAwICYmIChcbiAgICAgICAgICAgICAgPENhcmQgY2xhc3NOYW1lPVwic2hhZG93LWxnXCI+XG4gICAgICAgICAgICAgICAgPENhcmRDb250ZW50IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHB5LTEyIHRleHQtY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMTYgaC0xNiBiZy1ncmFkaWVudC10by1iciBmcm9tLWJsdWUtNTAwIHRvLWN5YW4tNjAwIHJvdW5kZWQtZnVsbCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBtYi00XCI+XG4gICAgICAgICAgICAgICAgICAgIDxTcGFya2xlcyBjbGFzc05hbWU9XCJ3LTggaC04IHRleHQtd2hpdGVcIiAvPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwidGV4dC1sZyBmb250LXNlbWlib2xkIHRleHQtZ3JheS05MDAgZGFyazp0ZXh0LXdoaXRlIG1iLTJcIj5cbiAgICAgICAgICAgICAgICBSZWFkeSB0byBDcmVhdGU/XG4gICAgICAgICAgICAgICAgICA8L2gzPlxuICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNjAwIGRhcms6dGV4dC1ncmF5LTQwMCB0ZXh0LXNtIG1heC13LXNtXCI+XG4gICAgICAgICAgICAgICAgRGVzY3JpYmUgeW91ciBwZXJmZWN0IGNhcmQgYWJvdmUgYW5kIHdlJ2xsIGJyaW5nIGl0IHRvIGxpZmUgd2l0aCBjcmVhdGl2ZSBtYWdpYyFcbiAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICA8L0NhcmRDb250ZW50PlxuICAgICAgICAgICAgICA8L0NhcmQ+XG4gICAgICAgICAgICApfVxuXG4gICAgICAgIHsvKiBSZWNlbnQgQ2FyZHMgUHJldmlldyAtIE9ubHkgc2hvdyB3aGVuIG5vIGNhcmQgaXMgZ2VuZXJhdGVkIGFuZCBub3QgaW4gZHJhZnQgbW9kZSAqL31cbiAgICAgICAgeyFnZW5lcmF0ZWRDYXJkICYmICFpc0RyYWZ0TW9kZSAmJiBkcmFmdENhcmRzLmxlbmd0aCA9PT0gMCAmJiAoXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC04XCI+XG4gICAgICAgICAgICA8UmVjZW50Q2FyZHNQcmV2aWV3IFxuICAgICAgICAgICAgICBtYXhDYXJkcz17Nn1cbiAgICAgICAgICAgICAgb25DYXJkU2VsZWN0PXsoY2FyZCkgPT4ge1xuICAgICAgICAgICAgICAgIC8vIFdoZW4gYSBjYXJkIGlzIHNlbGVjdGVkIGZyb20gdGhlIHByZXZpZXcsIG9wZW4gdGhlIGNhcmQgdmlld2VyIHdlYiBhcHBcbiAgICAgICAgICAgICAgICBsZXQgY2FyZElkID0gY2FyZC5pZDtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAvLyBJZiBzaGFyZVVybCBjb250YWlucyBhIGNhcmQgSUQsIGV4dHJhY3QgaXRcbiAgICAgICAgICAgICAgICBpZiAoY2FyZC5zaGFyZVVybCAmJiBjYXJkLnNoYXJlVXJsLmluY2x1ZGVzKCcvY2FyZC8nKSkge1xuICAgICAgICAgICAgICAgICAgY29uc3QgdXJsUGFydHMgPSBjYXJkLnNoYXJlVXJsLnNwbGl0KCcvY2FyZC8nKTtcbiAgICAgICAgICAgICAgICAgIGlmICh1cmxQYXJ0cy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhcmRJZCA9IHVybFBhcnRzWzFdLnNwbGl0KCc/JylbMF07IC8vIFJlbW92ZSBhbnkgcXVlcnkgcGFyYW1ldGVyc1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAvLyBOYXZpZ2F0ZSB0byB0aGUgY2FyZCB2aWV3ZXIgd2ViIGFwcFxuICAgICAgICAgICAgICAgIHdpbmRvdy5vcGVuKGAvY2FyZC8ke2NhcmRJZH1gLCAnX2JsYW5rJyk7XG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApfVxuXG4gICAgICAgIHsvKiBUZW1wbGF0ZSBDdXN0b21pemF0aW9uIERpYWxvZyAqL31cbiAgICAgICAgPERpYWxvZyBvcGVuPXtzaG93VGVtcGxhdGVDdXN0b21pemF0aW9ufSBvbk9wZW5DaGFuZ2U9e3NldFNob3dUZW1wbGF0ZUN1c3RvbWl6YXRpb259PlxuICAgICAgICAgIDxEaWFsb2dDb250ZW50IGNsYXNzTmFtZT1cInNtOm1heC13LTJ4bCBtYXgtaC1bOTB2aF0gb3ZlcmZsb3cteS1hdXRvXCI+XG4gICAgICAgICAgICA8RGlhbG9nSGVhZGVyPlxuICAgICAgICAgICAgICA8RGlhbG9nVGl0bGUgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cbiAgICAgICAgICAgICAgICA8V2FuZDIgY2xhc3NOYW1lPVwidy01IGgtNSB0ZXh0LXB1cnBsZS02MDBcIiAvPlxuICAgICAgICAgICAgICAgIEN1c3RvbWl6ZSBUZW1wbGF0ZVxuICAgICAgICAgICAgICA8L0RpYWxvZ1RpdGxlPlxuICAgICAgICAgICAgICA8RGlhbG9nRGVzY3JpcHRpb24+XG4gICAgICAgICAgICAgICAgUGVyc29uYWxpemUgdGhpcyB0ZW1wbGF0ZSB3aXRoIHlvdXIgb3duIGNoYW5nZXMsIG1lc3NhZ2UsIGFuZCByZWZlcmVuY2UgaW1hZ2VzIGJlZm9yZSBnZW5lcmF0aW5nLlxuICAgICAgICAgICAgICA8L0RpYWxvZ0Rlc2NyaXB0aW9uPlxuICAgICAgICAgICAgPC9EaWFsb2dIZWFkZXI+XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHtzZWxlY3RlZFRlbXBsYXRlICYmIChcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTYgcHktNFwiPlxuICAgICAgICAgICAgICAgIHsvKiBUZW1wbGF0ZSBQcmV2aWV3ICovfVxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0zXCI+XG4gICAgICAgICAgICAgICAgICA8aDQgY2xhc3NOYW1lPVwiZm9udC1tZWRpdW1cIj5TZWxlY3RlZCBUZW1wbGF0ZTwvaDQ+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLWdyYXktNTAgZGFyazpiZy1ncmF5LTgwMCByb3VuZGVkLWxnIHAtNFwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtc3RhcnQgZ2FwLTRcIj5cbiAgICAgICAgICAgICAgICAgICAgICB7c2VsZWN0ZWRUZW1wbGF0ZS5mcm9udENvdmVyICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxpbWdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc3JjPXtzZWxlY3RlZFRlbXBsYXRlLmZyb250Q292ZXJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGFsdD1cIlRlbXBsYXRlIHByZXZpZXdcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LTI0IGgtMzYgb2JqZWN0LWNvdmVyIHJvdW5kZWQtbGcgc2hhZG93LW1kXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgtMVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWdyYXktOTAwIGRhcms6dGV4dC1ncmF5LTEwMCBtYi0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIFRlbXBsYXRlIERldGFpbHM6XG4gICAgICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1ncmF5LTYwMCBkYXJrOnRleHQtZ3JheS00MDAgYmctd2hpdGUgZGFyazpiZy1ncmF5LTcwMCBwLTMgcm91bmRlZCBib3JkZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJmb250LW1lZGl1bSBtYi0yXCI+T3JpZ2luYWwgSW5wdXQ6PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPntzZWxlY3RlZFRlbXBsYXRlLnByb21wdH08L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICB7c2VsZWN0ZWRUZW1wbGF0ZS5nZW5lcmF0ZWRQcm9tcHRzICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1ncmF5LTYwMCBkYXJrOnRleHQtZ3JheS00MDAgYmctYmx1ZS01MCBkYXJrOmJnLWJsdWUtOTAwLzIwIHAtMyByb3VuZGVkIGJvcmRlciBib3JkZXItYmx1ZS0yMDAgZGFyazpib3JkZXItYmx1ZS04MDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cImZvbnQtbWVkaXVtIG1iLTIgdGV4dC1ibHVlLTkwMCBkYXJrOnRleHQtYmx1ZS0xMDBcIj5HZW5lcmF0ZWQgSW1hZ2UgUHJvbXB0czo8L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktMiBtYXgtaC0zMiBvdmVyZmxvdy15LWF1dG9cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3NlbGVjdGVkVGVtcGxhdGUuZ2VuZXJhdGVkUHJvbXB0cy5mcm9udENvdmVyICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZCB0ZXh0LWJsdWUtODAwIGRhcms6dGV4dC1ibHVlLTIwMFwiPkZyb250IENvdmVyOjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQteHMgbXQtMVwiPntzZWxlY3RlZFRlbXBsYXRlLmdlbmVyYXRlZFByb21wdHMuZnJvbnRDb3Zlci5zdWJzdHJpbmcoMCwgMTUwKX0uLi48L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtzZWxlY3RlZFRlbXBsYXRlLmdlbmVyYXRlZFByb21wdHMuYmFja0NvdmVyICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZCB0ZXh0LWJsdWUtODAwIGRhcms6dGV4dC1ibHVlLTIwMFwiPkJhY2sgQ292ZXI6PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC14cyBtdC0xXCI+e3NlbGVjdGVkVGVtcGxhdGUuZ2VuZXJhdGVkUHJvbXB0cy5iYWNrQ292ZXIuc3Vic3RyaW5nKDAsIDE1MCl9Li4uPC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7c2VsZWN0ZWRUZW1wbGF0ZS5nZW5lcmF0ZWRQcm9tcHRzLmxlZnRJbnRlcmlvciAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGQgdGV4dC1ibHVlLTgwMCBkYXJrOnRleHQtYmx1ZS0yMDBcIj5MZWZ0IEludGVyaW9yOjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQteHMgbXQtMVwiPntzZWxlY3RlZFRlbXBsYXRlLmdlbmVyYXRlZFByb21wdHMubGVmdEludGVyaW9yLnN1YnN0cmluZygwLCAxNTApfS4uLjwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3NlbGVjdGVkVGVtcGxhdGUuZ2VuZXJhdGVkUHJvbXB0cy5yaWdodEludGVyaW9yICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZCB0ZXh0LWJsdWUtODAwIGRhcms6dGV4dC1ibHVlLTIwMFwiPlJpZ2h0IEludGVyaW9yOjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQteHMgbXQtMVwiPntzZWxlY3RlZFRlbXBsYXRlLmdlbmVyYXRlZFByb21wdHMucmlnaHRJbnRlcmlvci5zdWJzdHJpbmcoMCwgMTUwKX0uLi48L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgey8qIFByb21wdCBDdXN0b21pemF0aW9ucyAqL31cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktM1wiPlxuICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cInRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1ncmF5LTcwMCBkYXJrOnRleHQtZ3JheS0zMDBcIj5cbiAgICAgICAgICAgICAgICAgICAgQWRkaXRpb25hbCBDaGFuZ2VzIHRvIERlc2lnbiAoT3B0aW9uYWwpXG4gICAgICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgPFRleHRhcmVhXG4gICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiZS5nLiwgJ0NoYW5nZSB0aGUgbWVzc2FnZSB0byBzYXkgZnJvbSBKb3JkYW4nLCAnTWFrZSBpdCBtb3JlIHJvbWFudGljJywgJ0FkZCBtb3JlIGZsb3dlcnMnLCAnQ2hhbmdlIGNvbG9ycyB0byBibHVlIGFuZCBnb2xkJy4uLlwiXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlPXt0ZW1wbGF0ZUN1c3RvbWl6YXRpb25zLnByb21wdENoYW5nZXN9XG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0VGVtcGxhdGVDdXN0b21pemF0aW9ucyhwcmV2ID0+ICh7XG4gICAgICAgICAgICAgICAgICAgICAgLi4ucHJldixcbiAgICAgICAgICAgICAgICAgICAgICBwcm9tcHRDaGFuZ2VzOiBlLnRhcmdldC52YWx1ZVxuICAgICAgICAgICAgICAgICAgICB9KSl9XG4gICAgICAgICAgICAgICAgICAgIHJvd3M9ezN9XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInJlc2l6ZS1ub25lXCJcbiAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgZm9udFNpemU6ICcxNnB4JyB9fVxuICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1ncmF5LTUwMCBkYXJrOnRleHQtZ3JheS00MDBcIj5cbiAgICAgICAgICAgICAgICAgICAgRGVzY3JpYmUgYW55IGNoYW5nZXMgeW91IHdhbnQgdG8gbWFrZSB0byB0aGUgdGVtcGxhdGUgZGVzaWduLCBzdHlsZSwgb3IgY29udGVudC5cbiAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgIHsvKiBNZXNzYWdlIEN1c3RvbWl6YXRpb24gKi99XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTNcIj5cbiAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJ0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZ3JheS03MDAgZGFyazp0ZXh0LWdyYXktMzAwXCI+XG4gICAgICAgICAgICAgICAgICAgIEN1c3RvbSBNZXNzYWdlIChPcHRpb25hbClcbiAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICA8VGV4dGFyZWFcbiAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJMZWF2ZSBlbXB0eSB0byBhdXRvLWdlbmVyYXRlIGEgbWVzc2FnZSwgb3Igd3JpdGUgeW91ciBvd24gY3VzdG9tIG1lc3NhZ2UgaGVyZS4uLlwiXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlPXt0ZW1wbGF0ZUN1c3RvbWl6YXRpb25zLm1lc3NhZ2VDaGFuZ2VzfVxuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldFRlbXBsYXRlQ3VzdG9taXphdGlvbnMocHJldiA9PiAoe1xuICAgICAgICAgICAgICAgICAgICAgIC4uLnByZXYsXG4gICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZUNoYW5nZXM6IGUudGFyZ2V0LnZhbHVlXG4gICAgICAgICAgICAgICAgICAgIH0pKX1cbiAgICAgICAgICAgICAgICAgICAgcm93cz17NH1cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicmVzaXplLW5vbmVcIlxuICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBmb250U2l6ZTogJzE2cHgnIH19XG4gICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LWdyYXktNTAwIGRhcms6dGV4dC1ncmF5LTQwMFwiPlxuICAgICAgICAgICAgICAgICAgICBUaGlzIHdpbGwgcmVwbGFjZSB0aGUgY2FyZCdzIGludGVyaW9yIG1lc3NhZ2UuIExlYXZlIGJsYW5rIHRvIGF1dG8tZ2VuZXJhdGUuXG4gICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICB7LyogUmVmZXJlbmNlIEltYWdlIE9wdGlvbiAqL31cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktNFwiPlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBzcGFjZS14LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICAgICAgdHlwZT1cImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICBpZD1cInVzZS1yZWZlcmVuY2UtaW1hZ2VcIlxuICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e3RlbXBsYXRlQ3VzdG9taXphdGlvbnMudXNlUmVmZXJlbmNlSW1hZ2V9XG4gICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRUZW1wbGF0ZUN1c3RvbWl6YXRpb25zKHByZXYgPT4gKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLnByZXYsXG4gICAgICAgICAgICAgICAgICAgICAgICB1c2VSZWZlcmVuY2VJbWFnZTogZS50YXJnZXQuY2hlY2tlZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlZmVyZW5jZUltYWdlRmlsZTogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlZmVyZW5jZUltYWdlVXJsczogW10sXG4gICAgICAgICAgICAgICAgICAgICAgICByZWZlcmVuY2VJbWFnZVRyYW5zZm9ybWF0aW9uOiBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgfSkpfVxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInJvdW5kZWRcIlxuICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICA8bGFiZWwgaHRtbEZvcj1cInVzZS1yZWZlcmVuY2UtaW1hZ2VcIiBjbGFzc05hbWU9XCJ0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZ3JheS03MDAgZGFyazp0ZXh0LWdyYXktMzAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgQWRkIHJlZmVyZW5jZSBwaG90byB0byBwZXJzb25hbGl6ZSB0aGUgY2FyZFxuICAgICAgICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgIHt0ZW1wbGF0ZUN1c3RvbWl6YXRpb25zLnVzZVJlZmVyZW5jZUltYWdlICYmIChcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTQgcGwtNiBib3JkZXItbC0yIGJvcmRlci1wdXJwbGUtMjAwIGRhcms6Ym9yZGVyLXB1cnBsZS04MDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtcHVycGxlLTYwMCBkYXJrOnRleHQtcHVycGxlLTQwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgVXBsb2FkIGEgcGhvdG8gdG8gY3JlYXRlIGNhcnRvb24gY2hhcmFjdGVycyB0aGF0IGxvb2sgbGlrZSB0aGUgcGVvcGxlIGluIHlvdXIgcGhvdG8hXG4gICAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgIHsvKiBGaWxlIFVwbG9hZCAqL31cbiAgICAgICAgICAgICAgICAgICAgICB7IXRlbXBsYXRlQ3VzdG9taXphdGlvbnMucmVmZXJlbmNlSW1hZ2VGaWxlID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJib3JkZXItMiBib3JkZXItZGFzaGVkIGJvcmRlci1ncmF5LTMwMCBkYXJrOmJvcmRlci1ncmF5LTYwMCByb3VuZGVkLWxnIHAtNCB0ZXh0LWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwiZmlsZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWNjZXB0PVwiaW1hZ2UvKlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBmaWxlID0gZS50YXJnZXQuZmlsZXM/LlswXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmaWxlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRlbXBsYXRlQ3VzdG9taXphdGlvbnMocHJldiA9PiAoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLnByZXYsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVmZXJlbmNlSW1hZ2VGaWxlOiBmaWxlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImhpZGRlblwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ9XCJ0ZW1wbGF0ZS1yZWZlcmVuY2UtdXBsb2FkXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGh0bWxGb3I9XCJ0ZW1wbGF0ZS1yZWZlcmVuY2UtdXBsb2FkXCIgY2xhc3NOYW1lPVwiY3Vyc29yLXBvaW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VXBsb2FkIGNsYXNzTmFtZT1cInctNiBoLTYgbXgtYXV0byBtYi0yIHRleHQtZ3JheS00MDBcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LWdyYXktNjAwIGRhcms6dGV4dC1ncmF5LTQwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVXBsb2FkIHJlZmVyZW5jZSBwaG90b1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIHAtMyBiZy1wdXJwbGUtNTAgZGFyazpiZy1wdXJwbGUtOTAwLzIwIHJvdW5kZWQtbGdcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW1hZ2VJY29uIGNsYXNzTmFtZT1cInctNCBoLTQgdGV4dC1wdXJwbGUtNjAwXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1wdXJwbGUtODAwIGRhcms6dGV4dC1wdXJwbGUtMjAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt0ZW1wbGF0ZUN1c3RvbWl6YXRpb25zLnJlZmVyZW5jZUltYWdlRmlsZS5uYW1lfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhcmlhbnQ9XCJnaG9zdFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplPVwic21cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0VGVtcGxhdGVDdXN0b21pemF0aW9ucyhwcmV2ID0+ICh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLnByZXYsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZmVyZW5jZUltYWdlRmlsZTogbnVsbFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxYIGNsYXNzTmFtZT1cInctNCBoLTRcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHsvKiBUcmFuc2Zvcm1hdGlvbiBJbnN0cnVjdGlvbnMgKi99XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cInRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1ncmF5LTcwMCBkYXJrOnRleHQtZ3JheS0zMDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEhvdyB0byB1c2UgdGhlIHJlZmVyZW5jZSBwaG90b1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRleHRhcmVhXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cImUuZy4sICdVc2UgdGhpcyBwaG90byB0byBjcmVhdGUgY2FydG9vbiB2ZXJzaW9ucyBvZiBtZSBhbmQgbXkgZ2lybGZyaWVuZCBvbiB0aGUgZnJvbnQgY292ZXInLCAnUmVwbGFjZSB0aGUgcGVvcGxlIGluIHRoZSB0ZW1wbGF0ZSB3aXRoIHVzJywgJ01ha2UgdXMgbG9vayBsaWtlIHRoZSBjaGFyYWN0ZXJzIGluIHRoZSB0ZW1wbGF0ZSBzdHlsZScuLi5cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3RlbXBsYXRlQ3VzdG9taXphdGlvbnMucmVmZXJlbmNlSW1hZ2VUcmFuc2Zvcm1hdGlvbn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0VGVtcGxhdGVDdXN0b21pemF0aW9ucyhwcmV2ID0+ICh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLnByZXYsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZmVyZW5jZUltYWdlVHJhbnNmb3JtYXRpb246IGUudGFyZ2V0LnZhbHVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3dzPXszfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicmVzaXplLW5vbmVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgZm9udFNpemU6ICcxNnB4JyB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LWdyYXktNTAwIGRhcms6dGV4dC1ncmF5LTQwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVzY3JpYmUgaG93IHlvdSB3YW50IHlvdXIgcGhvdG8gdG8gYmUgaW5jb3Jwb3JhdGVkIGludG8gdGhlIHRlbXBsYXRlIGRlc2lnbi5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgey8qIEFjdGlvbiBCdXR0b25zICovfVxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBnYXAtMyBwdC00IGJvcmRlci10XCI+XG4gICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgIHZhcmlhbnQ9XCJvdXRsaW5lXCJcbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIHNldFNob3dUZW1wbGF0ZUN1c3RvbWl6YXRpb24oZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgIHNldFNlbGVjdGVkVGVtcGxhdGUobnVsbCk7XG4gICAgICAgICAgICAgICAgICAgICAgc2V0U2hvd1RlbXBsYXRlR2FsbGVyeSh0cnVlKTsgLy8gR28gYmFjayB0byB0ZW1wbGF0ZSBnYWxsZXJ5XG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZsZXgtMVwiXG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIEJhY2sgdG8gVGVtcGxhdGVzXG4gICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlQXBwbHlUZW1wbGF0ZVdpdGhDdXN0b21pemF0aW9uc31cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZmxleC0xIGJnLWdyYWRpZW50LXRvLXIgZnJvbS1wdXJwbGUtNjAwIHRvLWJsdWUtNjAwIGhvdmVyOmZyb20tcHVycGxlLTcwMCBob3Zlcjp0by1ibHVlLTcwMCB0ZXh0LXdoaXRlXCJcbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPFdhbmQyIGNsYXNzTmFtZT1cInctNCBoLTQgbXItMlwiIC8+XG4gICAgICAgICAgICAgICAgICAgIEFwcGx5ICYgR2VuZXJhdGUgQ2FyZFxuICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICA8L0RpYWxvZ0NvbnRlbnQ+XG4gICAgICAgIDwvRGlhbG9nPlxuXG4gICAgICAgIHsvKiBUZW1wbGF0ZSBHYWxsZXJ5IERpYWxvZyAqL31cbiAgICAgICAgPERpYWxvZyBvcGVuPXtzaG93VGVtcGxhdGVHYWxsZXJ5fSBvbk9wZW5DaGFuZ2U9e3NldFNob3dUZW1wbGF0ZUdhbGxlcnl9PlxuICAgICAgICAgIDxEaWFsb2dDb250ZW50IGNsYXNzTmFtZT1cInctWzk1dnddIG1heC13LTd4bCBoLVs4NXZoXSBzbTptYXgtaC1bOTV2aF0gb3ZlcmZsb3ctaGlkZGVuIHAtMCBmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLWdyYWRpZW50LXRvLWJyIGZyb20tYmx1ZS01MCB2aWEtcHVycGxlLTUwIHRvLXBpbmstNTAgZGFyazpmcm9tLWdyYXktOTAwIGRhcms6dmlhLXB1cnBsZS05MDAvMjAgZGFyazp0by1ibHVlLTkwMC8yMCBwLTMgc206cC02IGZsZXgtc2hyaW5rLTBcIj5cbiAgICAgICAgICAgICAgPERpYWxvZ0hlYWRlcj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiBtYi0yIHNtOm1iLTRcIj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgc206Z2FwLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTggaC04IHNtOnctMTIgc206aC0xMiBiZy1ncmFkaWVudC10by1iciBmcm9tLXB1cnBsZS01MDAgdG8tcGluay02MDAgcm91bmRlZC14bCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBzaGFkb3ctbGdcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8RXllIGNsYXNzTmFtZT1cInctNCBoLTQgc206dy03IHNtOmgtNyB0ZXh0LXdoaXRlXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgPERpYWxvZ1RpdGxlIGNsYXNzTmFtZT1cInRleHQtbGcgc206dGV4dC0yeGwgZm9udC1ib2xkIGJnLWdyYWRpZW50LXRvLXIgZnJvbS1wdXJwbGUtNjAwIHRvLXBpbmstNjAwIGJnLWNsaXAtdGV4dCB0ZXh0LXRyYW5zcGFyZW50XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICBUZW1wbGF0ZSBHYWxsZXJ5XG4gICAgICAgICAgICAgICAgICAgICAgPC9EaWFsb2dUaXRsZT5cbiAgICAgICAgICAgICAgICAgICAgICA8RGlhbG9nRGVzY3JpcHRpb24gY2xhc3NOYW1lPVwidGV4dC14cyBzbTp0ZXh0LXNtIHRleHQtZ3JheS02MDAgZGFyazp0ZXh0LWdyYXktNDAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICBGaW5kIHRoZSBwZXJmZWN0IHN0YXJ0aW5nIHBvaW50IGZvciB5b3VyIGNhcmRcbiAgICAgICAgICAgICAgICAgICAgICA8L0RpYWxvZ0Rlc2NyaXB0aW9uPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICB7LyogU2hvdyBQcm9tcHRzIFRvZ2dsZSAqL31cbiAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgdmFyaWFudD1cIm91dGxpbmVcIlxuICAgICAgICAgICAgICAgICAgICBzaXplPVwic21cIlxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRTaG93UHJvbXB0cyghc2hvd1Byb21wdHMpfVxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJnYXAtMSBzbTpnYXAtMiBiZy13aGl0ZS84MCBkYXJrOmJnLWdyYXktODAwLzgwIGJhY2tkcm9wLWJsdXItc20gaC04IHNtOmgtOSB0ZXh0LXhzIHNtOnRleHQtc21cIlxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8TWVzc2FnZVNxdWFyZSBjbGFzc05hbWU9XCJ3LTMgaC0zIHNtOnctNCBzbTpoLTRcIiAvPlxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJoaWRkZW4gc206aW5saW5lXCI+e3Nob3dQcm9tcHRzID8gJ0hpZGUnIDogJ1Nob3cnfSBQcm9tcHRzPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJzbTpoaWRkZW5cIj57c2hvd1Byb21wdHMgPyAnSGlkZScgOiAnU2hvdyd9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvRGlhbG9nSGVhZGVyPlxuICAgICAgICAgICAgXG4gICAgICAgICAgICAgIHsvKiBUZW1wbGF0ZSBTZWFyY2ggU2VjdGlvbiAtIENvbXBhY3QgTW9iaWxlIFZlcnNpb24gKi99XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctd2hpdGUgZGFyazpiZy1ncmF5LTgwMCByb3VuZGVkLXhsIHAtMiBzbTpwLTYgc2hhZG93LXNtIHNwYWNlLXktMiBzbTpzcGFjZS15LTRcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiBnYXAtMlwiPlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctNiBoLTYgc206dy0xMCBzbTpoLTEwIGJnLWdyYWRpZW50LXRvLWJyIGZyb20tcHVycGxlLTEwMCB0by1waW5rLTEwMCBkYXJrOmZyb20tcHVycGxlLTkwMCBkYXJrOnRvLXBpbmstOTAwIHJvdW5kZWQtbGcgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8U3BhcmtsZXMgY2xhc3NOYW1lPVwidy0zIGgtMyBzbTp3LTUgc206aC01IHRleHQtcHVycGxlLTYwMCBkYXJrOnRleHQtcHVycGxlLTQwMFwiIC8+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJ0ZXh0LXNtIHNtOnRleHQtbGcgZm9udC1zZW1pYm9sZCB0ZXh0LWdyYXktOTAwIGRhcms6dGV4dC1ncmF5LTEwMFwiPlNlYXJjaDwvaDM+XG4gICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LWdyYXktNjAwIGRhcms6dGV4dC1ncmF5LTQwMCBoaWRkZW4gc206YmxvY2tcIj5GaW5kIHRlbXBsYXRlcyBieSBrZXl3b3JkcyBvciB2aXN1YWwgc3R5bGU8L3A+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgIHsvKiBTZWFyY2ggTW9kZSBUb2dnbGUgLSBDb21wYWN0IG9uIG1vYmlsZSAqL31cbiAgICAgICAgICAgICAgICAgIDxTZWxlY3QgdmFsdWU9e3NlYXJjaE1vZGV9IG9uVmFsdWVDaGFuZ2U9eyh2YWx1ZTogJ3RleHQnIHwgJ2FpJyB8ICdoeWJyaWQnKSA9PiBzZXRTZWFyY2hNb2RlKHZhbHVlKX0+XG4gICAgICAgICAgICAgICAgICAgIDxTZWxlY3RUcmlnZ2VyIGNsYXNzTmFtZT1cInctMjAgc206dy0zNiBoLTcgc206aC0xMCBib3JkZXIgdGV4dC14cyBzbTp0ZXh0LXNtXCI+XG4gICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdFZhbHVlIC8+XG4gICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0VHJpZ2dlcj5cbiAgICAgICAgICAgICAgICAgICAgPFNlbGVjdENvbnRlbnQ+XG4gICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdEl0ZW0gdmFsdWU9XCJ0ZXh0XCIgY2xhc3NOYW1lPVwiY3Vyc29yLXBvaW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1iYXNlXCI+8J+TnTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZm9udC1tZWRpdW1cIj5UZXh0IFNlYXJjaDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0SXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0SXRlbSB2YWx1ZT1cImFpXCIgY2xhc3NOYW1lPVwiY3Vyc29yLXBvaW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1iYXNlXCI+8J+OqDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZm9udC1tZWRpdW1cIj5BSSBWaXNpb248L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdEl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdEl0ZW0gdmFsdWU9XCJoeWJyaWRcIiBjbGFzc05hbWU9XCJjdXJzb3ItcG9pbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LWJhc2VcIj7imqE8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImZvbnQtbWVkaXVtXCI+SHlicmlkPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3RJdGVtPlxuICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdENvbnRlbnQ+XG4gICAgICAgICAgICAgICAgICA8L1NlbGVjdD5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgey8qIFNlYXJjaCBNb2RlIERlc2NyaXB0aW9uIC0gSGlkZGVuIG9uIG1vYmlsZSAqL31cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLWdyYWRpZW50LXRvLXIgZnJvbS1wdXJwbGUtNTAgdG8tcGluay01MCBkYXJrOmZyb20tcHVycGxlLTkwMC8yMCBkYXJrOnRvLXBpbmstOTAwLzIwIHJvdW5kZWQtbGcgcC0xIHNtOnAtMyBoaWRkZW4gc206YmxvY2tcIj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC14cyBzbTp0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtcHVycGxlLTkwMCBkYXJrOnRleHQtcHVycGxlLTEwMCBtYi0xXCI+XG4gICAgICAgICAgICAgICAgICAgIHtzZWFyY2hNb2RlID09PSAndGV4dCcgJiYgXCLwn5OdIFRleHQgU2VhcmNoIE1vZGVcIn1cbiAgICAgICAgICAgICAgICAgICAge3NlYXJjaE1vZGUgPT09ICdhaScgJiYgXCLwn46oIEFJIFZpc2lvbiBNb2RlXCJ9XG4gICAgICAgICAgICAgICAgICAgIHtzZWFyY2hNb2RlID09PSAnaHlicmlkJyAmJiBcIuKaoSBIeWJyaWQgU2VhcmNoIE1vZGVcIn1cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtcHVycGxlLTcwMCBkYXJrOnRleHQtcHVycGxlLTMwMFwiPlxuICAgICAgICAgICAgICAgICAgICB7c2VhcmNoTW9kZSA9PT0gJ3RleHQnICYmIFwiRmFzdCBrZXl3b3JkIHNlYXJjaCB0aHJvdWdoIGNhcmQgZGVzY3JpcHRpb25zICsgQUktZ2VuZXJhdGVkIHZpc3VhbCBwcm9tcHRzIChpbnN0YW50IHJlc3VsdHMpXCJ9XG4gICAgICAgICAgICAgICAgICAgIHtzZWFyY2hNb2RlID09PSAnYWknICYmIFwiQUkgYW5hbHl6ZXMgY2FyZCBpbWFnZXMgZm9yIHZpc3VhbCBzdHlsZSwgY29sb3JzLCBhbmQgdGhlbWVzICgxMC0xNSBzZWNvbmRzKVwifVxuICAgICAgICAgICAgICAgICAgICB7c2VhcmNoTW9kZSA9PT0gJ2h5YnJpZCcgJiYgXCJDb21iaW5lcyBmYXN0IHRleHQgc2VhcmNoIHdpdGggQUkgdmlzdWFsIGFuYWx5c2lzIGZvciBiZXN0IHJlc3VsdHNcIn1cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBnYXAtMSBzbTpnYXAtM1wiPlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4LTEgcmVsYXRpdmVcIj5cbiAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJTZWFyY2ggdGVtcGxhdGVzLi4uXCJcbiAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17dGVtcGxhdGVTZWFyY2hRdWVyeX1cbiAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldFRlbXBsYXRlU2VhcmNoUXVlcnkoZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgICAgICAgICAgIG9uS2V5RG93bj17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLmtleSA9PT0gJ0VudGVyJyAmJiAhZS5zaGlmdEtleSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZVRlbXBsYXRlU2VhcmNoKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17aXNTZWFyY2hpbmdUZW1wbGF0ZXN9XG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiaC04IHNtOmgtMTIgcGwtOCBzbTpwbC0xMiBwci0zIGJvcmRlciB0ZXh0LXNtIHNtOnRleHQtYmFzZVwiXG4gICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgZm9udFNpemU6ICcxNnB4JyB9fVxuICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIGxlZnQtMiBzbTpsZWZ0LTMgdG9wLTEvMiAtdHJhbnNsYXRlLXktMS8yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTQgaC00IHNtOnctNiBzbTpoLTYgYmctZ3JhZGllbnQtdG8tYnIgZnJvbS1wdXJwbGUtMTAwIHRvLXBpbmstMTAwIGRhcms6ZnJvbS1wdXJwbGUtODAwIGRhcms6dG8tcGluay04MDAgcm91bmRlZC1mdWxsIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXhzXCI+8J+UjTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlVGVtcGxhdGVTZWFyY2h9XG4gICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtpc1NlYXJjaGluZ1RlbXBsYXRlcyB8fCAhdGVtcGxhdGVTZWFyY2hRdWVyeS50cmltKCl9XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YGgtOCBzbTpoLTEyIHB4LTMgc206cHgtNiBnYXAtMSBmb250LW1lZGl1bSB0ZXh0LXhzIHNtOnRleHQtYmFzZSAke1xuICAgICAgICAgICAgICAgICAgICAgIHNlYXJjaE1vZGUgPT09ICd0ZXh0JyBcbiAgICAgICAgICAgICAgICAgICAgICAgID8gJ2JnLWdyYWRpZW50LXRvLXIgZnJvbS1ibHVlLTUwMCB0by1ibHVlLTYwMCBob3Zlcjpmcm9tLWJsdWUtNjAwIGhvdmVyOnRvLWJsdWUtNzAwJyBcbiAgICAgICAgICAgICAgICAgICAgICAgIDogc2VhcmNoTW9kZSA9PT0gJ2FpJ1xuICAgICAgICAgICAgICAgICAgICAgICAgPyAnYmctZ3JhZGllbnQtdG8tciBmcm9tLXB1cnBsZS01MDAgdG8tcHVycGxlLTYwMCBob3Zlcjpmcm9tLXB1cnBsZS02MDAgaG92ZXI6dG8tcHVycGxlLTcwMCdcbiAgICAgICAgICAgICAgICAgICAgICAgIDogJ2JnLWdyYWRpZW50LXRvLXIgZnJvbS1ibHVlLTUwMCB2aWEtcHVycGxlLTUwMCB0by1waW5rLTUwMCBob3Zlcjpmcm9tLWJsdWUtNjAwIGhvdmVyOnZpYS1wdXJwbGUtNjAwIGhvdmVyOnRvLXBpbmstNjAwJ1xuICAgICAgICAgICAgICAgICAgICB9IHRleHQtd2hpdGUgc2hhZG93LW1kIGhvdmVyOnNoYWRvdy1sZyB0cmFuc2l0aW9uLWFsbGB9XG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIHtpc1NlYXJjaGluZ1RlbXBsYXRlcyA/IChcbiAgICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTMgaC0zIHNtOnctNCBzbTpoLTQgYm9yZGVyLTIgYm9yZGVyLXdoaXRlIGJvcmRlci10LXRyYW5zcGFyZW50IHJvdW5kZWQtZnVsbCBhbmltYXRlLXNwaW5cIiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiaGlkZGVuIHNtOmlubGluZVwiPntzZWFyY2hNb2RlID09PSAnaHlicmlkJyA/ICdBbmFseXppbmcuLi4nIDogJ1NlYXJjaGluZy4uLid9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAgICB7c2VhcmNoTW9kZSA9PT0gJ3RleHQnICYmIDxzcGFuIGNsYXNzTmFtZT1cInRleHQteHMgc206dGV4dC1sZ1wiPvCfk508L3NwYW4+fVxuICAgICAgICAgICAgICAgICAgICAgICAge3NlYXJjaE1vZGUgPT09ICdhaScgJiYgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC14cyBzbTp0ZXh0LWxnXCI+8J+OqDwvc3Bhbj59XG4gICAgICAgICAgICAgICAgICAgICAgICB7c2VhcmNoTW9kZSA9PT0gJ2h5YnJpZCcgJiYgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC14cyBzbTp0ZXh0LWxnXCI+4pqhPC9zcGFuPn1cbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImhpZGRlbiBzbTppbmxpbmVcIj5TZWFyY2g8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgIHsodGVtcGxhdGVTZWFyY2hRdWVyeSB8fCBhaUZpbHRlcmVkQ2FyZHMubGVuZ3RoID4gMCB8fCB0ZXh0RmlsdGVyZWRDYXJkcy5sZW5ndGggPiAwKSAmJiAoXG4gICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICB2YXJpYW50PVwib3V0bGluZVwiXG4gICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17Y2xlYXJUZW1wbGF0ZVNlYXJjaH1cbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJoLTggc206aC0xMiBweC0yIHNtOnB4LTQgZ2FwLTEgYm9yZGVyXCJcbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgIDxYIGNsYXNzTmFtZT1cInctMyBoLTMgc206dy00IHNtOmgtNFwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiaGlkZGVuIHNtOmlubGluZVwiPkNsZWFyPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHsvKiBSZXN1bHRzIFN1bW1hcnkgLSBDb21wYWN0IG9uIG1vYmlsZSAqL31cbiAgICAgICAgICAgICAgICB7YWlGaWx0ZXJlZENhcmRzLmxlbmd0aCA+IDAgJiYgKHNlYXJjaE1vZGUgPT09ICdhaScgfHwgc2VhcmNoTW9kZSA9PT0gJ2h5YnJpZCcpICYmIChcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTEgc206Z2FwLTIgdGV4dC14cyBzbTp0ZXh0LXNtIHRleHQtcHVycGxlLTYwMCBkYXJrOnRleHQtcHVycGxlLTQwMFwiPlxuICAgICAgICAgICAgICAgICAgICA8U3BhcmtsZXMgY2xhc3NOYW1lPVwidy0zIGgtMyBzbTp3LTQgc206aC00XCIgLz5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4+XG4gICAgICAgICAgICAgICAgICAgICAge3NlYXJjaE1vZGUgPT09ICdoeWJyaWQnID8gJ0h5YnJpZCcgOiAnQUknfSBmb3VuZCB7YWlGaWx0ZXJlZENhcmRzLmxlbmd0aH0gbWF0Y2hlc1xuICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImhpZGRlbiBzbTppbmxpbmVcIj4gZm9yIFwie3RlbXBsYXRlU2VhcmNoUXVlcnl9XCI8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAge3RleHRGaWx0ZXJlZENhcmRzLmxlbmd0aCA+IDAgJiYgc2VhcmNoTW9kZSA9PT0gJ3RleHQnICYmIChcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTEgc206Z2FwLTIgdGV4dC14cyBzbTp0ZXh0LXNtIHRleHQtYmx1ZS02MDAgZGFyazp0ZXh0LWJsdWUtNDAwXCI+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuPvCfk508L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuPkZvdW5kIHt0ZXh0RmlsdGVyZWRDYXJkcy5sZW5ndGh9IG1hdGNoZXM8c3BhbiBjbGFzc05hbWU9XCJoaWRkZW4gc206aW5saW5lXCI+IGZvciBcInt0ZW1wbGF0ZVNlYXJjaFF1ZXJ5fVwiPC9zcGFuPjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgtMSBtaW4taC0wIG92ZXJmbG93LWF1dG8gYmctZ3JheS01MCBkYXJrOmJnLWdyYXktOTAwIHJvdW5kZWQteGwgcC0yIHNtOnAtNFwiPlxuICAgICAgICAgICAgICB7KGFpRmlsdGVyZWRDYXJkcy5sZW5ndGggPiAwICYmIChzZWFyY2hNb2RlID09PSAnYWknIHx8IHNlYXJjaE1vZGUgPT09ICdoeWJyaWQnKSkgfHwgKHRleHRGaWx0ZXJlZENhcmRzLmxlbmd0aCA+IDAgJiYgc2VhcmNoTW9kZSA9PT0gJ3RleHQnKSA/IChcbiAgICAgICAgICAgICAgICAvLyBTaG93IGZpbHRlcmVkIHJlc3VsdHNcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktMyBzbTpzcGFjZS15LTRcIj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgc206Z2FwLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTYgaC02IHNtOnctOCBzbTpoLTggYmctZ3JhZGllbnQtdG8tYnIgZnJvbS1wdXJwbGUtMTAwIHRvLXBpbmstMTAwIGRhcms6ZnJvbS1wdXJwbGUtOTAwIGRhcms6dG8tcGluay05MDAgcm91bmRlZC1sZyBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtc20gc206dGV4dC1iYXNlXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICB7c2VhcmNoTW9kZSA9PT0gJ3RleHQnICYmICfwn5OdJ31cbiAgICAgICAgICAgICAgICAgICAgICAgIHtzZWFyY2hNb2RlID09PSAnYWknICYmICfwn46vJ31cbiAgICAgICAgICAgICAgICAgICAgICAgIHtzZWFyY2hNb2RlID09PSAnaHlicmlkJyAmJiAn4pqhJ31cbiAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJ0ZXh0LXNtIHNtOnRleHQtYmFzZSBmb250LXNlbWlib2xkIHRleHQtZ3JheS05MDAgZGFyazp0ZXh0LWdyYXktMTAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICB7c2VhcmNoTW9kZSA9PT0gJ3RleHQnICYmICdUZXh0IFNlYXJjaCBSZXN1bHRzJ31cbiAgICAgICAgICAgICAgICAgICAgICAgIHtzZWFyY2hNb2RlID09PSAnYWknICYmICdBSSBWaXNpb24gUmVzdWx0cyd9XG4gICAgICAgICAgICAgICAgICAgICAgICB7c2VhcmNoTW9kZSA9PT0gJ2h5YnJpZCcgJiYgJ0h5YnJpZCBTZWFyY2ggUmVzdWx0cyd9XG4gICAgICAgICAgICAgICAgICAgICAgPC9oMz5cbiAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtZ3JheS02MDAgZGFyazp0ZXh0LWdyYXktNDAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICB7c2VhcmNoTW9kZSA9PT0gJ3RleHQnICYmICdSYW5rZWQgYnkga2V5d29yZCByZWxldmFuY2UnfVxuICAgICAgICAgICAgICAgICAgICAgICAge3NlYXJjaE1vZGUgPT09ICdhaScgJiYgJ1JhbmtlZCBieSB2aXN1YWwgcmVsZXZhbmNlJ31cbiAgICAgICAgICAgICAgICAgICAgICAgIHtzZWFyY2hNb2RlID09PSAnaHlicmlkJyAmJiAnUmFua2VkIGJ5IGNvbWJpbmVkIHJlbGV2YW5jZSd9XG4gICAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPGRpdiBcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZmxleCBvdmVyZmxvdy14LXNjcm9sbCBnYXAtMyBzbTpnYXAtNCBwYi0zIC1teC0yIHB4LTIgbWluLXctZnVsbFwiXG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgc2Nyb2xsQmVoYXZpb3I6ICdzbW9vdGgnLFxuICAgICAgICAgICAgICAgICAgICAgIFdlYmtpdE92ZXJmbG93U2Nyb2xsaW5nOiAndG91Y2gnLFxuICAgICAgICAgICAgICAgICAgICAgIHNjcm9sbGJhcldpZHRoOiAndGhpbicsXG4gICAgICAgICAgICAgICAgICAgICAgc2Nyb2xsU25hcFR5cGU6ICd4IG1hbmRhdG9yeScsXG4gICAgICAgICAgICAgICAgICAgICAgdG91Y2hBY3Rpb246ICdwYW4teCcsXG4gICAgICAgICAgICAgICAgICAgICAgb3ZlcmZsb3dYOiAnc2Nyb2xsJyxcbiAgICAgICAgICAgICAgICAgICAgICBvdmVyZmxvd1k6ICdoaWRkZW4nXG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIHsoc2VhcmNoTW9kZSA9PT0gJ3RleHQnID8gdGV4dEZpbHRlcmVkQ2FyZHMgOiBhaUZpbHRlcmVkQ2FyZHMpLm1hcCgoY2FyZCwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICBjb25zdCBmcm9udEltYWdlID0gY2FyZC5mcm9udENvdmVyIHx8IGNhcmQuYmFja0NvdmVyIHx8IGNhcmQubGVmdFBhZ2UgfHwgY2FyZC5yaWdodFBhZ2U7XG4gICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtjYXJkLmlkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmbGV4LXNocmluay0wIHctNDggc206dy02NCB0b3VjaC1wYW4teFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IHNjcm9sbFNuYXBBbGlnbjogJ3N0YXJ0JyB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YCR7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VhcmNoTW9kZSA9PT0gJ3RleHQnIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyAnYmctZ3JhZGllbnQtdG8tYnIgZnJvbS1ibHVlLTkwMCB0by1pbmRpZ28tOTAwIGJvcmRlci1ibHVlLTQwMCcgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IHNlYXJjaE1vZGUgPT09ICdhaSdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gJ2JnLWdyYWRpZW50LXRvLWJyIGZyb20tcHVycGxlLTkwMCB0by1ibHVlLTkwMCBib3JkZXItcHVycGxlLTQwMCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogJ2JnLWdyYWRpZW50LXRvLWJyIGZyb20tYmx1ZS05MDAgdmlhLXB1cnBsZS05MDAgdG8taW5kaWdvLTkwMCBib3JkZXItZ3JhZGllbnQtdG8tciBib3JkZXItYmx1ZS00MDAnXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0gcm91bmRlZC14bCBwLTIgc2hhZG93LWlubmVyIHNwYWNlLXktMiBoLWZ1bGwgYm9yZGVyLTIgcmVsYXRpdmUgZmxleCBmbGV4LWNvbGB9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsvKiBTY29yZSBiYWRnZSAtIHBvc2l0aW9uZWQgdG8gbm90IGNvdmVyIGZ1bGwgaW1hZ2UgKi99XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSB0b3AtMiBsZWZ0LTIgei0xMCBmbGV4IGdhcC0xXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QmFkZ2UgY2xhc3NOYW1lPXtgJHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VhcmNoTW9kZSA9PT0gJ3RleHQnID8gJ2JnLWJsdWUtNjAwJyA6ICdiZy1wdXJwbGUtNjAwJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSB0ZXh0LXdoaXRlIHRleHQteHMgcm91bmRlZC1mdWxsIHNoYWRvdy1tZGB9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAje2luZGV4ICsgMX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvQmFkZ2U+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7KGNhcmQuYWlTY29yZSB8fCBjYXJkLnRleHRTY29yZSkgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QmFkZ2UgY2xhc3NOYW1lPVwiYmctZ3JlZW4tNjAwIHRleHQtd2hpdGUgdGV4dC14cyByb3VuZGVkLWZ1bGwgc2hhZG93LW1kXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3NlYXJjaE1vZGUgPT09ICd0ZXh0JyA/IGNhcmQudGV4dFNjb3JlIDogY2FyZC5haVNjb3JlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtzZWFyY2hNb2RlID09PSAnYWknIHx8IHNlYXJjaE1vZGUgPT09ICdoeWJyaWQnID8gJyUnIDogJyd9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvQmFkZ2U+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtmcm9udEltYWdlID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGltZ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcmM9e2Zyb250SW1hZ2V9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsdD17YFRlbXBsYXRlOiAke2NhcmQucHJvbXB0IHx8ICdVbnRpdGxlZCd9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicm91bmRlZC1sZyBzaGFkb3ctbGcgdy1mdWxsIGgtYXV0byBvYmplY3QtY292ZXIgc2VsZWN0LW5vbmUgcG9pbnRlci1ldmVudHMtbm9uZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvYWRpbmc9XCJsYXp5XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VyU2VsZWN0OiAnbm9uZSdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy1mdWxsIGgtMzIgc206aC00OCBiZy1ncmFkaWVudC10by1iciBmcm9tLWdyYXktMTAwIHRvLWdyYXktMjAwIHJvdW5kZWQtbGcgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlciB0ZXh0LWdyYXktNTAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEltYWdlSWNvbiBjbGFzc05hbWU9XCJ3LTYgaC02IHNtOnctOCBzbTpoLTggbXgtYXV0byBtYi0yXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXhzIHNtOnRleHQtc21cIj5ObyBwcmV2aWV3PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2B0ZXh0LXhzICR7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWFyY2hNb2RlID09PSAndGV4dCcgPyAndGV4dC1ibHVlLTEwMCBiZy1ibHVlLTgwMC81MCcgOiAndGV4dC1wdXJwbGUtMTAwIGJnLXB1cnBsZS04MDAvNTAnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBweC0yIHB5LTEgcm91bmRlZCBzcGFjZS15LTEgZmxleC0xIGZsZXggZmxleC1jb2xgfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibGluZS1jbGFtcC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjYXJkLnByb21wdD8uc3Vic3RyaW5nKDAsIDUwKSB8fCAnVW50aXRsZWQnfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y2FyZC5wcm9tcHQgJiYgY2FyZC5wcm9tcHQubGVuZ3RoID4gNTAgJiYgJy4uLid9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgey8qIFNob3cgR2VuZXJhdGVkIFByb21wdHMgaWYgZW5hYmxlZCAtIE9ubHkgb24gbGFyZ2VyIHNjcmVlbnMgKi99XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7c2hvd1Byb21wdHMgJiYgY2FyZC5nZW5lcmF0ZWRQcm9tcHRzICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXhzIG9wYWNpdHktODAgYm9yZGVyLXQgYm9yZGVyLXdoaXRlLzIwIHB0LTEgc3BhY2UteS0xIGhpZGRlbiBzbTpibG9ja1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjYXJkLmdlbmVyYXRlZFByb21wdHMuZnJvbnRDb3ZlciAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkXCI+RnJvbnQ6PC9zcGFuPiB7Y2FyZC5nZW5lcmF0ZWRQcm9tcHRzLmZyb250Q292ZXIuc3Vic3RyaW5nKDAsIDYwKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2NhcmQuZ2VuZXJhdGVkUHJvbXB0cy5mcm9udENvdmVyLmxlbmd0aCA+IDYwICYmICcuLi4nfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y2FyZC5nZW5lcmF0ZWRQcm9tcHRzLmJhY2tDb3ZlciAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkXCI+QmFjazo8L3NwYW4+IHtjYXJkLmdlbmVyYXRlZFByb21wdHMuYmFja0NvdmVyLnN1YnN0cmluZygwLCA2MCl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjYXJkLmdlbmVyYXRlZFByb21wdHMuYmFja0NvdmVyLmxlbmd0aCA+IDYwICYmICcuLi4nfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7LyogQWN0aW9uIEJ1dHRvbnMgKi99XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgZ2FwLTEgcHQtMiBtdC1hdXRvXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplPVwic21cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhcmlhbnQ9XCJvdXRsaW5lXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgaC02IHNtOmgtNyB0ZXh0LXhzIGJnLXdoaXRlLzEwIGJvcmRlci13aGl0ZS8yMCB0ZXh0LXdoaXRlIGhvdmVyOmJnLXdoaXRlLzIwXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENvbnZlcnQgR2FsbGVyeUNhcmQgdG8gR2VuZXJhdGVkQ2FyZCBmb3JtYXQgZm9yIGFwcGx5VGVtcGxhdGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXBsYXRlOiBHZW5lcmF0ZWRDYXJkID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogY2FyZC5pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvbXB0OiBjYXJkLnByb21wdCB8fCAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnJvbnRDb3ZlcjogY2FyZC5mcm9udENvdmVyIHx8ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYWNrQ292ZXI6IGNhcmQuYmFja0NvdmVyIHx8ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZWZ0UGFnZTogY2FyZC5sZWZ0UGFnZSB8fCAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmlnaHRQYWdlOiBjYXJkLnJpZ2h0UGFnZSB8fCAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3JlYXRlZEF0OiBuZXcgRGF0ZShjYXJkLmNyZWF0ZWRBdCAqIDEwMDApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaGFyZVVybDogY2FyZC5zaGFyZVVybCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2VuZXJhdGVkUHJvbXB0czogY2FyZC5nZW5lcmF0ZWRQcm9tcHRzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBwbHlUZW1wbGF0ZSh0ZW1wbGF0ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxXYW5kMiBjbGFzc05hbWU9XCJ3LTIgaC0yIHNtOnctMyBzbTpoLTMgbXItMVwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiaGlkZGVuIHNtOmlubGluZVwiPkN1c3RvbWl6ZTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJzbTpoaWRkZW5cIj5DdXN0b208L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZT1cInNtXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXJpYW50PVwib3V0bGluZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIGgtNiBzbTpoLTcgdGV4dC14cyBiZy1ibHVlLTYwMC84MCBib3JkZXItYmx1ZS01MDAvNTAgdGV4dC13aGl0ZSBob3ZlcjpiZy1ibHVlLTYwMFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDb252ZXJ0IEdhbGxlcnlDYXJkIHRvIEdlbmVyYXRlZENhcmQgZm9ybWF0IGZvciBwcmV2aWV3XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wbGF0ZTogR2VuZXJhdGVkQ2FyZCA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGNhcmQuaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb21wdDogY2FyZC5wcm9tcHQgfHwgJycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZyb250Q292ZXI6IGNhcmQuZnJvbnRDb3ZlciB8fCAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja0NvdmVyOiBjYXJkLmJhY2tDb3ZlciB8fCAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGVmdFBhZ2U6IGNhcmQubGVmdFBhZ2UgfHwgJycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJpZ2h0UGFnZTogY2FyZC5yaWdodFBhZ2UgfHwgJycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoY2FyZC5jcmVhdGVkQXQgKiAxMDAwKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hhcmVVcmw6IGNhcmQuc2hhcmVVcmwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdlbmVyYXRlZFByb21wdHM6IGNhcmQuZ2VuZXJhdGVkUHJvbXB0c1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZVRlbXBsYXRlU2VsZWN0KHRlbXBsYXRlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEV5ZSBjbGFzc05hbWU9XCJ3LTIgaC0yIHNtOnctMyBzbTpoLTMgbXItMVwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU2VsZWN0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAvLyBTaG93IGFsbCB0ZW1wbGF0ZXNcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktMyBzbTpzcGFjZS15LTRcIj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgc206Z2FwLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTYgaC02IHNtOnctOCBzbTpoLTggYmctZ3JhZGllbnQtdG8tYnIgZnJvbS1ibHVlLTEwMCB0by1jeWFuLTEwMCBkYXJrOmZyb20tYmx1ZS05MDAgZGFyazp0by1jeWFuLTkwMCByb3VuZGVkLWxnIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1zbSBzbTp0ZXh0LWJhc2VcIj7wn5OaPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwidGV4dC1zbSBzbTp0ZXh0LWJhc2UgZm9udC1zZW1pYm9sZCB0ZXh0LWdyYXktOTAwIGRhcms6dGV4dC1ncmF5LTEwMFwiPkFsbCBUZW1wbGF0ZXM8L2gzPlxuICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1ncmF5LTYwMCBkYXJrOnRleHQtZ3JheS00MDBcIj5Ccm93c2Ugb3VyIGVudGlyZSBjb2xsZWN0aW9uPC9wPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IFxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZsZXggb3ZlcmZsb3cteC1zY3JvbGwgZ2FwLTMgc206Z2FwLTQgcGItMyAtbXgtMiBweC0yIG1pbi13LWZ1bGxcIlxuICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICBzY3JvbGxCZWhhdmlvcjogJ3Ntb290aCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBXZWJraXRPdmVyZmxvd1Njcm9sbGluZzogJ3RvdWNoJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjcm9sbGJhcldpZHRoOiAndGhpbicsXG4gICAgICAgICAgICAgICAgICAgICAgICBzY3JvbGxTbmFwVHlwZTogJ3ggbWFuZGF0b3J5JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvdWNoQWN0aW9uOiAncGFuLXgnLFxuICAgICAgICAgICAgICAgICAgICAgICAgb3ZlcmZsb3dYOiAnc2Nyb2xsJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG92ZXJmbG93WTogJ2hpZGRlbidcbiAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgeygoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB7IGdldENhY2hlZENhcmRzLCBoYXNDYWNoZSwgdG90YWxDYXJkcyB9ID0gdXNlQ2FyZENhY2hlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBhbGxDYXJkcyA9IGhhc0NhY2hlID8gZ2V0Q2FjaGVkQ2FyZHMoMSwgTWF0aC5tYXgodG90YWxDYXJkcywgMTAwMCkpIDogW107XG4gICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhbGxDYXJkcy5tYXAoKGNhcmQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZnJvbnRJbWFnZSA9IGNhcmQuZnJvbnRDb3ZlciB8fCBjYXJkLmJhY2tDb3ZlciB8fCBjYXJkLmxlZnRQYWdlIHx8IGNhcmQucmlnaHRQYWdlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2NhcmQuaWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmbGV4LXNocmluay0wIHctNDggc206dy02NCB0b3VjaC1wYW4teFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBzY3JvbGxTbmFwQWxpZ246ICdzdGFydCcgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLWdyYXktOTAwIHJvdW5kZWQteGwgcC0yIHNoYWRvdy1pbm5lciBzcGFjZS15LTIgaC1mdWxsIGZsZXggZmxleC1jb2xcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2Zyb250SW1hZ2UgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGltZ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3JjPXtmcm9udEltYWdlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWx0PXtgVGVtcGxhdGU6ICR7Y2FyZC5wcm9tcHQgfHwgJ1VudGl0bGVkJ31gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicm91bmRlZC1sZyBzaGFkb3ctbGcgdy1mdWxsIGgtYXV0byBvYmplY3QtY292ZXIgc2VsZWN0LW5vbmUgcG9pbnRlci1ldmVudHMtbm9uZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2FkaW5nPVwibGF6eVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VyU2VsZWN0OiAnbm9uZSdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctZnVsbCBoLTMyIHNtOmgtNDggYmctZ3JhZGllbnQtdG8tYnIgZnJvbS1ncmF5LTEwMCB0by1ncmF5LTIwMCByb3VuZGVkLWxnIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtY2VudGVyIHRleHQtZ3JheS01MDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEltYWdlSWNvbiBjbGFzc05hbWU9XCJ3LTYgaC02IHNtOnctOCBzbTpoLTggbXgtYXV0byBtYi0yXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC14cyBzbTp0ZXh0LXNtXCI+Tm8gcHJldmlldzwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LWdyYXktMTAwIGJnLWdyYXktODAwLzUwIHB4LTIgcHktMSByb3VuZGVkIHNwYWNlLXktMSBmbGV4LTEgZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibGluZS1jbGFtcC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y2FyZC5wcm9tcHQ/LnN1YnN0cmluZygwLCA1MCkgfHwgJ1VudGl0bGVkJ31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjYXJkLnByb21wdCAmJiBjYXJkLnByb21wdC5sZW5ndGggPiA1MCAmJiAnLi4uJ31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7LyogU2hvdyBHZW5lcmF0ZWQgUHJvbXB0cyBpZiBlbmFibGVkIC0gT25seSBvbiBsYXJnZXIgc2NyZWVucyAqL31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7c2hvd1Byb21wdHMgJiYgY2FyZC5nZW5lcmF0ZWRQcm9tcHRzICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC14cyBvcGFjaXR5LTgwIGJvcmRlci10IGJvcmRlci13aGl0ZS8yMCBwdC0xIHNwYWNlLXktMSBoaWRkZW4gc206YmxvY2tcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2NhcmQuZ2VuZXJhdGVkUHJvbXB0cy5mcm9udENvdmVyICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZFwiPkZyb250Ojwvc3Bhbj4ge2NhcmQuZ2VuZXJhdGVkUHJvbXB0cy5mcm9udENvdmVyLnN1YnN0cmluZygwLCA2MCl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y2FyZC5nZW5lcmF0ZWRQcm9tcHRzLmZyb250Q292ZXIubGVuZ3RoID4gNjAgJiYgJy4uLid9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjYXJkLmdlbmVyYXRlZFByb21wdHMuYmFja0NvdmVyICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZFwiPkJhY2s6PC9zcGFuPiB7Y2FyZC5nZW5lcmF0ZWRQcm9tcHRzLmJhY2tDb3Zlci5zdWJzdHJpbmcoMCwgNjApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2NhcmQuZ2VuZXJhdGVkUHJvbXB0cy5iYWNrQ292ZXIubGVuZ3RoID4gNjAgJiYgJy4uLid9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsvKiBBY3Rpb24gQnV0dG9ucyAqL31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgZ2FwLTEgcHQtMiBtdC1hdXRvXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU9XCJzbVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhcmlhbnQ9XCJvdXRsaW5lXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIGgtNiBzbTpoLTcgdGV4dC14cyBiZy13aGl0ZS8xMCBib3JkZXItd2hpdGUvMjAgdGV4dC13aGl0ZSBob3ZlcjpiZy13aGl0ZS8yMFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDb252ZXJ0IEdhbGxlcnlDYXJkIHRvIEdlbmVyYXRlZENhcmQgZm9ybWF0IGZvciBhcHBseVRlbXBsYXRlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcGxhdGU6IEdlbmVyYXRlZENhcmQgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogY2FyZC5pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb21wdDogY2FyZC5wcm9tcHQgfHwgJycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcm9udENvdmVyOiBjYXJkLmZyb250Q292ZXIgfHwgJycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYWNrQ292ZXI6IGNhcmQuYmFja0NvdmVyIHx8ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGVmdFBhZ2U6IGNhcmQubGVmdFBhZ2UgfHwgJycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByaWdodFBhZ2U6IGNhcmQucmlnaHRQYWdlIHx8ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3JlYXRlZEF0OiBuZXcgRGF0ZShjYXJkLmNyZWF0ZWRBdCAqIDEwMDApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hhcmVVcmw6IGNhcmQuc2hhcmVVcmwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnZW5lcmF0ZWRQcm9tcHRzOiBjYXJkLmdlbmVyYXRlZFByb21wdHNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwcGx5VGVtcGxhdGUodGVtcGxhdGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8V2FuZDIgY2xhc3NOYW1lPVwidy0yIGgtMiBzbTp3LTMgc206aC0zIG1yLTFcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJoaWRkZW4gc206aW5saW5lXCI+Q3VzdG9taXplPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJzbTpoaWRkZW5cIj5DdXN0b208L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZT1cInNtXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyaWFudD1cIm91dGxpbmVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgaC02IHNtOmgtNyB0ZXh0LXhzIGJnLWJsdWUtNjAwLzgwIGJvcmRlci1ibHVlLTUwMC81MCB0ZXh0LXdoaXRlIGhvdmVyOmJnLWJsdWUtNjAwXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENvbnZlcnQgR2FsbGVyeUNhcmQgdG8gR2VuZXJhdGVkQ2FyZCBmb3JtYXQgZm9yIHByZXZpZXdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wbGF0ZTogR2VuZXJhdGVkQ2FyZCA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBjYXJkLmlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvbXB0OiBjYXJkLnByb21wdCB8fCAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZyb250Q292ZXI6IGNhcmQuZnJvbnRDb3ZlciB8fCAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tDb3ZlcjogY2FyZC5iYWNrQ292ZXIgfHwgJycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZWZ0UGFnZTogY2FyZC5sZWZ0UGFnZSB8fCAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJpZ2h0UGFnZTogY2FyZC5yaWdodFBhZ2UgfHwgJycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVkQXQ6IG5ldyBEYXRlKGNhcmQuY3JlYXRlZEF0ICogMTAwMCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaGFyZVVybDogY2FyZC5zaGFyZVVybCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdlbmVyYXRlZFByb21wdHM6IGNhcmQuZ2VuZXJhdGVkUHJvbXB0c1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFuZGxlVGVtcGxhdGVTZWxlY3QodGVtcGxhdGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8RXllIGNsYXNzTmFtZT1cInctMiBoLTIgc206dy0zIHNtOmgtMyBtci0xXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU2VsZWN0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgIH0pKCl9XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLWdyYXktMTAwIGRhcms6YmctZ3JheS04MDAgcC0zIHNtOnAtNCByb3VuZGVkLWIteGwgLW0tMyBzbTotbS02IG10LTQgZmxleC1zaHJpbmstMFwiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgc206ZmxleC1yb3cganVzdGlmeS1iZXR3ZWVuIGl0ZW1zLXN0YXJ0IHNtOml0ZW1zLWNlbnRlciBnYXAtMyBzbTpnYXAtMFwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy01IGgtNSBzbTp3LTYgc206aC02IGJnLWdyYWRpZW50LXRvLWJyIGZyb20tcHVycGxlLTEwMCB0by1waW5rLTEwMCBkYXJrOmZyb20tcHVycGxlLTkwMCBkYXJrOnRvLXBpbmstOTAwIHJvdW5kZWQtZnVsbCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXhzXCI+8J+SoTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC14cyBzbTp0ZXh0LXNtIHRleHQtZ3JheS03MDAgZGFyazp0ZXh0LWdyYXktMzAwXCI+XG4gICAgICAgICAgICAgICAgICAgIHthaUZpbHRlcmVkQ2FyZHMubGVuZ3RoID4gMCBcbiAgICAgICAgICAgICAgICAgICAgICA/IFwiQUkgaGFzIHJhbmtlZCB0aGVzZSB0ZW1wbGF0ZXMgYnkgcmVsZXZhbmNlIHRvIHlvdXIgc2VhcmNoXCJcbiAgICAgICAgICAgICAgICAgICAgICA6IFwiVXNlICdDdXN0b21pemUnIHRvIHBlcnNvbmFsaXplIHRlbXBsYXRlcyBvciAnU2VsZWN0JyB0byB1c2UgYXMtaXNcIlxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgdmFyaWFudD1cIm91dGxpbmVcIlxuICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBzZXRTaG93VGVtcGxhdGVHYWxsZXJ5KGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJUZW1wbGF0ZVNlYXJjaCgpO1xuICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImdhcC0xIHNtOmdhcC0yIGJvcmRlci0yIGgtOCBzbTpoLTkgdGV4dC14cyBzbTp0ZXh0LXNtIHctZnVsbCBzbTp3LWF1dG9cIlxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIDxYIGNsYXNzTmFtZT1cInctMyBoLTMgc206dy00IHNtOmgtNFwiIC8+XG4gICAgICAgICAgICAgICAgICBDbG9zZVxuICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9EaWFsb2dDb250ZW50PlxuICAgICAgICA8L0RpYWxvZz5cblxuICAgICAgICB7LyogRHJhZnQgQ2FyZCBQcmV2aWV3IERpYWxvZyAqL31cbiAgICAgICAgPERpYWxvZyBvcGVuPXtwcmV2aWV3aW5nRHJhZnRJbmRleCAhPT0gLTF9IG9uT3BlbkNoYW5nZT17KG9wZW4pID0+ICFvcGVuICYmIHNldFByZXZpZXdpbmdEcmFmdEluZGV4KC0xKX0+XG4gICAgICAgICAgPERpYWxvZ0NvbnRlbnQgY2xhc3NOYW1lPVwic206bWF4LXctNHhsIG1heC1oLVs5MHZoXSBvdmVyZmxvdy1hdXRvXCI+XG4gICAgICAgICAgICA8RGlhbG9nSGVhZGVyPlxuICAgICAgICAgICAgICA8RGlhbG9nVGl0bGUgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cbiAgICAgICAgICAgICAgICA8RXllIGNsYXNzTmFtZT1cInctNSBoLTUgdGV4dC1wdXJwbGUtNjAwXCIgLz5cbiAgICAgICAgICAgICAgICBGcm9udCBDb3ZlciBEZXNpZ24ge3ByZXZpZXdpbmdEcmFmdEluZGV4ICE9PSAtMSA/IChkcmFmdEluZGV4TWFwcGluZ1twcmV2aWV3aW5nRHJhZnRJbmRleF0gKyAxKSA6IDF9IC0gUHJldmlld1xuICAgICAgICAgICAgICA8L0RpYWxvZ1RpdGxlPlxuICAgICAgICAgICAgICA8RGlhbG9nRGVzY3JpcHRpb24+XG4gICAgICAgICAgICAgICAgTG93IHF1YWxpdHkgcHJldmlldyBvZiB0aGUgZnJvbnQgY292ZXIgZGVzaWduLiBTZWxlY3QgdGhpcyBkZXNpZ24gdG8gZ2VuZXJhdGUgdGhlIGNvbXBsZXRlIGhpZ2gtcXVhbGl0eSBjYXJkLlxuICAgICAgICAgICAgICA8L0RpYWxvZ0Rlc2NyaXB0aW9uPlxuICAgICAgICAgICAgPC9EaWFsb2dIZWFkZXI+XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHtwcmV2aWV3aW5nRHJhZnRJbmRleCAhPT0gLTEgJiYgZHJhZnRDYXJkc1twcmV2aWV3aW5nRHJhZnRJbmRleF0gJiYgKFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktNlwiPlxuICAgICAgICAgICAgICAgIHsvKiBGdWxsIENhcmQgUHJldmlldyAqL31cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLWdyYXktNTAgZGFyazpiZy1ncmF5LTgwMCByb3VuZGVkLWxnIHAtNFwiPlxuICAgICAgICAgICAgICAgICAgPENhcmRQcmV2aWV3IFxuICAgICAgICAgICAgICAgICAgICBjYXJkPXtkcmFmdENhcmRzW3ByZXZpZXdpbmdEcmFmdEluZGV4XX0gXG4gICAgICAgICAgICAgICAgICAgIG9uQ2FyZFVwZGF0ZT17KCkgPT4ge319IC8vIERyYWZ0IGNhcmRzIGFyZSByZWFkLW9ubHlcbiAgICAgICAgICAgICAgICAgICAgaXNGcm9udEJhY2tPbmx5PXt0cnVlfVxuICAgICAgICAgICAgICAgICAgICBvblByaW50PXsoKSA9PiB7fX0gLy8gTm8gcHJpbnQgZnVuY3Rpb25hbGl0eSBmb3IgZHJhZnQgcHJldmlld3NcbiAgICAgICAgICAgICAgICAgICAgcGFwZXJDb25maWc9e3BhcGVyU2l6ZXMuZmluZChzaXplID0+IHNpemUuaWQgPT09IHNlbGVjdGVkUGFwZXJTaXplKSB8fCBwYXBlclNpemVzWzBdfVxuICAgICAgICAgICAgICAgICAgICBzZWN0aW9uTG9hZGluZ1N0YXRlcz17e1xuICAgICAgICAgICAgICAgICAgICAgIGZyb250Q292ZXI6ICdjb21wbGV0ZWQnLFxuICAgICAgICAgICAgICAgICAgICAgIGJhY2tDb3ZlcjogJ2lkbGUnLFxuICAgICAgICAgICAgICAgICAgICAgIGxlZnRJbnRlcmlvcjogJ2lkbGUnLFxuICAgICAgICAgICAgICAgICAgICAgIHJpZ2h0SW50ZXJpb3I6ICdpZGxlJ1xuICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZFBhcGVyU2l6ZT17c2VsZWN0ZWRQYXBlclNpemV9XG4gICAgICAgICAgICAgICAgICAgIG9uUGFwZXJTaXplQ2hhbmdlPXsoKSA9PiB7fX0gLy8gTm8gcGFwZXIgc2l6ZSBjaGFuZ2UgZm9yIGRyYWZ0IHByZXZpZXdzXG4gICAgICAgICAgICAgICAgICAgIHBhcGVyU2l6ZXM9e3BhcGVyU2l6ZXN9XG4gICAgICAgICAgICAgICAgICAgIGlzQ2FyZENvbXBsZXRlZD17ZmFsc2V9XG4gICAgICAgICAgICAgICAgICAgIGZhc3RQcmV2aWV3TW9kZT17ZmFsc2V9XG4gICAgICAgICAgICAgICAgICAgIG9uVmlld0Z1bGxDYXJkPXsoKSA9PiB7fX0gLy8gTm8gZnVsbCBjYXJkIHZpZXcgZm9yIGRyYWZ0IHByZXZpZXdzXG4gICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHsvKiBBY3Rpb24gQnV0dG9ucyAqL31cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZ2FwLTMganVzdGlmeS1jZW50ZXIgcHQtNCBib3JkZXItdFwiPlxuICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICB2YXJpYW50PVwib3V0bGluZVwiXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldFByZXZpZXdpbmdEcmFmdEluZGV4KC0xKX1cbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgQ2xvc2UgUHJldmlld1xuICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICBzZXRTZWxlY3RlZERyYWZ0SW5kZXgocHJldmlld2luZ0RyYWZ0SW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICAgIHNldFByZXZpZXdpbmdEcmFmdEluZGV4KC0xKTtcbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYmctcHVycGxlLTYwMCBob3ZlcjpiZy1wdXJwbGUtNzAwIHRleHQtd2hpdGVcIlxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8Q2hlY2tDaXJjbGUgY2xhc3NOYW1lPVwidy00IGgtNCBtci0yXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgU2VsZWN0IFRoaXMgRGVzaWduXG4gICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApfVxuICAgICAgICAgIDwvRGlhbG9nQ29udGVudD5cbiAgICAgICAgPC9EaWFsb2c+XG5cbiAgICAgICAgey8qIFByaW50IENvbmZpcm1hdGlvbiBEaWFsb2cgKi99XG4gICAgICAgIDxEaWFsb2cgb3Blbj17c2hvd1ByaW50Q29uZmlybWF0aW9ufSBvbk9wZW5DaGFuZ2U9e3NldFNob3dQcmludENvbmZpcm1hdGlvbn0+XG4gICAgICAgICAgPERpYWxvZ0NvbnRlbnQgY2xhc3NOYW1lPVwic206bWF4LXctbGdcIj5cbiAgICAgICAgICAgIDxEaWFsb2dIZWFkZXI+XG4gICAgICAgICAgICAgIDxEaWFsb2dUaXRsZSBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxuICAgICAgICAgICAgICAgIDxBbGVydFRyaWFuZ2xlIGNsYXNzTmFtZT1cInctNSBoLTUgdGV4dC1hbWJlci01MDBcIiAvPlxuICAgICAgICAgICAgICAgIEdldCBZb3VyIENhcmRcbiAgICAgICAgICAgICAgPC9EaWFsb2dUaXRsZT5cbiAgICAgICAgICAgICAgPERpYWxvZ0Rlc2NyaXB0aW9uPlxuICAgICAgICAgICAgICAgIEhvdyB3b3VsZCB5b3UgbGlrZSB0byByZWNlaXZlIHlvdXIgZ3JlZXRpbmcgY2FyZD9cbiAgICAgICAgICAgICAgPC9EaWFsb2dEZXNjcmlwdGlvbj5cbiAgICAgICAgICAgIDwvRGlhbG9nSGVhZGVyPlxuICAgICAgICAgICAgXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktNFwiPlxuICAgICAgICAgICAgICB7LyogUHJpbnQgT3B0aW9uIFNlbGVjdGlvbiAqL31cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTNcIj5cbiAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwidGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWdyYXktNzAwIGRhcms6dGV4dC1ncmF5LTMwMFwiPlxuICAgICAgICAgICAgICAgICAgQ2hvb3NlIGRlbGl2ZXJ5IG1ldGhvZDpcbiAgICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHsvKiBQaHlzaWNhbCBQcmludCBPcHRpb24gKi99XG4gICAgICAgICAgICAgICAgPGRpdiBcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YHAtNCByb3VuZGVkLWxnIGJvcmRlci0yIGN1cnNvci1wb2ludGVyIHRyYW5zaXRpb24tYWxsICR7XG4gICAgICAgICAgICAgICAgICAgIHByaW50T3B0aW9uID09PSAncGh5c2ljYWwnIFxuICAgICAgICAgICAgICAgICAgICAgID8gJ2JvcmRlci1ibHVlLTUwMCBiZy1ibHVlLTUwIGRhcms6YmctYmx1ZS05MDAvMjAnIFxuICAgICAgICAgICAgICAgICAgICAgIDogJ2JvcmRlci1ncmF5LTIwMCBkYXJrOmJvcmRlci1ncmF5LTcwMCBob3Zlcjpib3JkZXItZ3JheS0zMDAnXG4gICAgICAgICAgICAgICAgICB9YH1cbiAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldFByaW50T3B0aW9uKCdwaHlzaWNhbCcpfVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1zdGFydCBnYXAtM1wiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwicmFkaW9cIlxuICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17cHJpbnRPcHRpb24gPT09ICdwaHlzaWNhbCd9XG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KCkgPT4gc2V0UHJpbnRPcHRpb24oJ3BoeXNpY2FsJyl9XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LTQgaC00IHRleHQtYmx1ZS02MDBcIlxuICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgtMVwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgbWItMVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPFByaW50ZXIgY2xhc3NOYW1lPVwidy01IGgtNSB0ZXh0LWJsdWUtNjAwXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxoNCBjbGFzc05hbWU9XCJmb250LW1lZGl1bSB0ZXh0LWJsdWUtOTAwIGRhcms6dGV4dC1ibHVlLTEwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICBQaHlzaWNhbCBQcmludCAmIFBpY2t1cFxuICAgICAgICAgICAgICAgICAgICAgICAgPC9oND5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtYmx1ZS04MDAgZGFyazp0ZXh0LWJsdWUtMjAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICBQcmludCB5b3VyIGNhcmQgYXQgb3VyIGxvY2F0aW9uLiBSZWFkeSBmb3IgcGlja3VwIGluIGp1c3QgYSBmZXcgbWludXRlcy5cbiAgICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC0yIHNwYWNlLXktMVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiB0ZXh0LXhzIHRleHQtZ3JheS02MDAgZGFyazp0ZXh0LWdyYXktNDAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0xLjUgaC0xLjUgYmctZ3JlZW4tNTAwIHJvdW5kZWQtZnVsbFwiPjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj5IaWdoIHF1YWxpdHkgY29sb3IgcHJpbnRpbmc8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgdGV4dC14cyB0ZXh0LWdyYXktNjAwIGRhcms6dGV4dC1ncmF5LTQwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMS41IGgtMS41IGJnLWdyZWVuLTUwMCByb3VuZGVkLWZ1bGxcIj48L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2lzRnJvbnRCYWNrT25seSA/ICdGcm9udCBhbmQgYmFjayBvbmx5JyA6ICdGdWxsIGdyZWV0aW5nIGNhcmQgd2l0aCBpbnRlcmlvciBwYWdlcyd9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiB0ZXh0LXhzIHRleHQtZ3JheS02MDAgZGFyazp0ZXh0LWdyYXktNDAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0xLjUgaC0xLjUgYmctZ3JlZW4tNTAwIHJvdW5kZWQtZnVsbFwiPjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj5SZWFkeSBmb3IgcGlja3VwIHNob3J0bHk8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgIHsvKiBFbWFpbCBQREYgT3B0aW9uICovfVxuICAgICAgICAgICAgICAgIDxkaXYgXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2BwLTQgcm91bmRlZC1sZyBib3JkZXItMiBjdXJzb3ItcG9pbnRlciB0cmFuc2l0aW9uLWFsbCAke1xuICAgICAgICAgICAgICAgICAgICBwcmludE9wdGlvbiA9PT0gJ2VtYWlsJyBcbiAgICAgICAgICAgICAgICAgICAgICA/ICdib3JkZXItZ3JlZW4tNTAwIGJnLWdyZWVuLTUwIGRhcms6YmctZ3JlZW4tOTAwLzIwJyBcbiAgICAgICAgICAgICAgICAgICAgICA6ICdib3JkZXItZ3JheS0yMDAgZGFyazpib3JkZXItZ3JheS03MDAgaG92ZXI6Ym9yZGVyLWdyYXktMzAwJ1xuICAgICAgICAgICAgICAgICAgfWB9XG4gICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRQcmludE9wdGlvbignZW1haWwnKX1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtc3RhcnQgZ2FwLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cInJhZGlvXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e3ByaW50T3B0aW9uID09PSAnZW1haWwnfVxuICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eygpID0+IHNldFByaW50T3B0aW9uKCdlbWFpbCcpfVxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy00IGgtNCB0ZXh0LWdyZWVuLTYwMFwiXG4gICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC0xXCI+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiBtYi0xXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8TWVzc2FnZUNpcmNsZSBjbGFzc05hbWU9XCJ3LTUgaC01IHRleHQtZ3JlZW4tNjAwXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxoNCBjbGFzc05hbWU9XCJmb250LW1lZGl1bSB0ZXh0LWdyZWVuLTkwMCBkYXJrOnRleHQtZ3JlZW4tMTAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIEVtYWlsIFBERlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9oND5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtZ3JlZW4tODAwIGRhcms6dGV4dC1ncmVlbi0yMDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIFJlY2VpdmUgYSBoaWdoLXF1YWxpdHkgUERGIG9mIHlvdXIgY2FyZCBhdCB7dXNlckVtYWlsfS4gUHJpbnQgYXQgaG9tZSBvciBhbnkgcHJpbnQgc2hvcC5cbiAgICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC0yIHNwYWNlLXktMVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiB0ZXh0LXhzIHRleHQtZ3JheS02MDAgZGFyazp0ZXh0LWdyYXktNDAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0xLjUgaC0xLjUgYmctZ3JlZW4tNTAwIHJvdW5kZWQtZnVsbFwiPjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj5JbnN0YW50IGRlbGl2ZXJ5IHRvIHlvdXIgaW5ib3g8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgdGV4dC14cyB0ZXh0LWdyYXktNjAwIGRhcms6dGV4dC1ncmF5LTQwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMS41IGgtMS41IGJnLWdyZWVuLTUwMCByb3VuZGVkLWZ1bGxcIj48L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4+UHJpbnQgYW55d2hlcmUsIGFueXRpbWU8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgdGV4dC14cyB0ZXh0LWdyYXktNjAwIGRhcms6dGV4dC1ncmF5LTQwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMS41IGgtMS41IGJnLWdyZWVuLTUwMCByb3VuZGVkLWZ1bGxcIj48L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4+SGlnaC1yZXNvbHV0aW9uIFBERiBvcHRpbWl6ZWQgZm9yIHByaW50aW5nPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgIHtwcmludE9wdGlvbiA9PT0gJ3BoeXNpY2FsJyAmJiAoXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy1hbWJlci01MCBkYXJrOmJnLWFtYmVyLTkwMC8yMCBwLTMgcm91bmRlZC1sZ1wiPlxuICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LWFtYmVyLTgwMCBkYXJrOnRleHQtYW1iZXItMjAwXCI+XG4gICAgICAgICAgICAgICAgICAgIDxzdHJvbmc+UGxlYXNlIGNvbmZpcm06PC9zdHJvbmc+IFlvdSBhcmUgcmVhZHkgdG8gcGljayB1cCB5b3VyIHByaW50ZWQgY2FyZCBmcm9tIG91ciBsb2NhdGlvbi5cbiAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZ2FwLTMgbXQtNlwiPlxuICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgdmFyaWFudD1cIm91dGxpbmVcIlxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldFNob3dQcmludENvbmZpcm1hdGlvbihmYWxzZSl9XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZmxleC0xXCJcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIENhbmNlbFxuICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZUNvbmZpcm1QcmludH1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2BmbGV4LTEgJHtcbiAgICAgICAgICAgICAgICAgIHByaW50T3B0aW9uID09PSAnZW1haWwnIFxuICAgICAgICAgICAgICAgICAgICA/ICdiZy1ncmVlbi02MDAgaG92ZXI6YmctZ3JlZW4tNzAwJyBcbiAgICAgICAgICAgICAgICAgICAgOiAnYmctYmx1ZS02MDAgaG92ZXI6YmctYmx1ZS03MDAnXG4gICAgICAgICAgICAgICAgfWB9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICB7cHJpbnRPcHRpb24gPT09ICdlbWFpbCcgPyAoXG4gICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICA8TWVzc2FnZUNpcmNsZSBjbGFzc05hbWU9XCJ3LTQgaC00IG1yLTJcIiAvPlxuICAgICAgICAgICAgICAgICAgICBTZW5kIFBERiB0byBFbWFpbFxuICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgIDxQcmludGVyIGNsYXNzTmFtZT1cInctNCBoLTQgbXItMlwiIC8+XG4gICAgICAgICAgICAgICAgICAgIFByaW50IENhcmRcbiAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9EaWFsb2dDb250ZW50PlxuICAgICAgICA8L0RpYWxvZz5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApO1xufSAiXSwibmFtZXMiOlsiUmVhY3QiLCJ1c2VTdGF0ZSIsInVzZUVmZmVjdCIsIkJ1dHRvbiIsIklucHV0IiwiVGV4dGFyZWEiLCJDYXJkIiwiQ2FyZENvbnRlbnQiLCJDYXJkRGVzY3JpcHRpb24iLCJDYXJkSGVhZGVyIiwiQ2FyZFRpdGxlIiwiQmFkZ2UiLCJTZXBhcmF0b3IiLCJTZWxlY3QiLCJTZWxlY3RDb250ZW50IiwiU2VsZWN0SXRlbSIsIlNlbGVjdFRyaWdnZXIiLCJTZWxlY3RWYWx1ZSIsIkNvbGxhcHNpYmxlIiwiQ29sbGFwc2libGVDb250ZW50IiwiQ29sbGFwc2libGVUcmlnZ2VyIiwiUG9wb3ZlciIsIlBvcG92ZXJDb250ZW50IiwiUG9wb3ZlclRyaWdnZXIiLCJEaWFsb2ciLCJEaWFsb2dDb250ZW50IiwiRGlhbG9nRGVzY3JpcHRpb24iLCJEaWFsb2dIZWFkZXIiLCJEaWFsb2dUaXRsZSIsIkFycm93TGVmdCIsIlNwYXJrbGVzIiwiUHJpbnRlciIsIkhlYXJ0IiwiR2lmdCIsIkdyYWR1YXRpb25DYXAiLCJXYW5kMiIsIk1lc3NhZ2VTcXVhcmVQbHVzIiwiQ2hldnJvbkRvd24iLCJTZXR0aW5ncyIsIlBhbGV0dGUiLCJVcGxvYWQiLCJYIiwiQ2FrZSIsIlRodW1ic1VwIiwiVHJvcGh5IiwiVHJlZVBpbmUiLCJTdGV0aG9zY29wZSIsIkNsb3VkUmFpbiIsIkJhYnkiLCJDaHVyY2giLCJIb21lIiwiTWVzc2FnZUNpcmNsZSIsIkV5ZSIsIldyZW5jaCIsIkNsb2NrIiwiVW5kbzIiLCJSZWRvMiIsIlJlZnJlc2hDdyIsIlNldHRpbmdzMiIsIkFsZXJ0VHJpYW5nbGUiLCJDaGVja0NpcmNsZSIsIkltYWdlIiwiSW1hZ2VJY29uIiwiTWVzc2FnZVNxdWFyZSIsIkxpbmsiLCJ0b2FzdCIsIkNhcmRQcmV2aWV3IiwiUVJDb2RlIiwidjQiLCJ1dWlkdjQiLCJNb2RlVG9nZ2xlIiwiUmVjZW50Q2FyZHNQcmV2aWV3IiwiQ3JpdGljYWxSZXNvdXJjZVByZWxvYWRlciIsIkVhcmx5Q2FyZFByZWxvYWRlciIsInVzZUNhcmRDYWNoZSIsIkJBQ0tFTkRfQVBJX0JBU0VfVVJMIiwicHJvY2VzcyIsImVudiIsIk5FWFRfUFVCTElDX0JBQ0tFTkRfQVBJX1VSTCIsImNhcmRUeXBlcyIsImlkIiwibGFiZWwiLCJkZXNjcmlwdGlvbiIsImljb24iLCJjYXJkVG9uZXMiLCJhcnRpc3RpY1N0eWxlcyIsInByb21wdE1vZGlmaWVyIiwicGFwZXJTaXplcyIsImFzcGVjdFJhdGlvIiwiZGltZW5zaW9ucyIsInByaW50V2lkdGgiLCJwcmludEhlaWdodCIsImltYWdlTW9kZWxzIiwic2VuZFRoYW5rWW91RW1haWwiLCJ0b0VtYWlsIiwiY2FyZFR5cGUiLCJjYXJkVXJsIiwidHJpbSIsImh0bWxCb2R5IiwidGV4dEJvZHkiLCJ1c2VyUmVzcG9uc2UiLCJmZXRjaCIsIm1ldGhvZCIsImhlYWRlcnMiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsInRvIiwiZnJvbSIsInN1YmplY3QiLCJ0ZXh0IiwiaHRtbCIsImFkbWluUmVzcG9uc2UiLCJvayIsInN1Y2Nlc3MiLCJlcnJvciIsImNvbnNvbGUiLCJjaGF0V2l0aEFJIiwidXNlck1lc3NhZ2UiLCJvcHRpb25zIiwic3lzdGVtUHJvbXB0IiwibW9kZWwiLCJpbmNsdWRlVGhvdWdodHMiLCJqc29uU2NoZW1hIiwiYXR0YWNobWVudHMiLCJyZXNwb25zZSIsInRvb2xfbmFtZSIsImFyZ3VtZW50cyIsIm1lc3NhZ2VzIiwic3lzdGVtX3Byb21wdCIsImluY2x1ZGVfdGhvdWdodHMiLCJqc29uX3NjaGVtYSIsImxlbmd0aCIsIkVycm9yIiwic3RhdHVzIiwiZGF0YSIsImpzb24iLCJyZXN1bHQiLCJwYXJzZSIsIm1lc3NhZ2UiLCJDYXJkU3R1ZGlvUGFnZSIsInByb21wdCIsInNldFByb21wdCIsImZpbmFsQ2FyZE1lc3NhZ2UiLCJzZXRGaW5hbENhcmRNZXNzYWdlIiwidG9GaWVsZCIsInNldFRvRmllbGQiLCJmcm9tRmllbGQiLCJzZXRGcm9tRmllbGQiLCJzZWxlY3RlZFR5cGUiLCJzZXRTZWxlY3RlZFR5cGUiLCJjdXN0b21DYXJkVHlwZSIsInNldEN1c3RvbUNhcmRUeXBlIiwic2VsZWN0ZWRUb25lIiwic2V0U2VsZWN0ZWRUb25lIiwiaXNHZW5lcmF0aW5nIiwic2V0SXNHZW5lcmF0aW5nIiwiZ2VuZXJhdGVkQ2FyZCIsInNldEdlbmVyYXRlZENhcmQiLCJudW1iZXJPZkNhcmRzIiwic2V0TnVtYmVyT2ZDYXJkcyIsImdlbmVyYXRlZENhcmRzIiwic2V0R2VuZXJhdGVkQ2FyZHMiLCJzZWxlY3RlZENhcmRJbmRleCIsInNldFNlbGVjdGVkQ2FyZEluZGV4IiwiaXNHZW5lcmF0aW5nTWVzc2FnZSIsInNldElzR2VuZXJhdGluZ01lc3NhZ2UiLCJzaG93QWR2YW5jZWQiLCJzZXRTaG93QWR2YW5jZWQiLCJzZWxlY3RlZEFydGlzdGljU3R5bGUiLCJzZXRTZWxlY3RlZEFydGlzdGljU3R5bGUiLCJjdXN0b21TdHlsZURlc2NyaXB0aW9uIiwic2V0Q3VzdG9tU3R5bGVEZXNjcmlwdGlvbiIsInNlbGVjdGVkSW1hZ2VNb2RlbCIsInNldFNlbGVjdGVkSW1hZ2VNb2RlbCIsInNlbGVjdGVkRHJhZnRNb2RlbCIsInNldFNlbGVjdGVkRHJhZnRNb2RlbCIsImdlbmVyYXRpb25Qcm9ncmVzcyIsInNldEdlbmVyYXRpb25Qcm9ncmVzcyIsImNvdW50ZG93biIsInNldENvdW50ZG93biIsImNvdW50ZG93bkludGVydmFsIiwic2V0Q291bnRkb3duSW50ZXJ2YWwiLCJpc0NhcmRDb21wbGV0ZWQiLCJzZXRJc0NhcmRDb21wbGV0ZWQiLCJjdXJyZW50Sm9iSWQiLCJzZXRDdXJyZW50Sm9iSWQiLCJmYXN0UHJldmlld01vZGUiLCJzZXRGYXN0UHJldmlld01vZGUiLCJpc0RyYWZ0TW9kZSIsInNldElzRHJhZnRNb2RlIiwiZHJhZnRDYXJkcyIsInNldERyYWZ0Q2FyZHMiLCJkcmFmdEluZGV4TWFwcGluZyIsInNldERyYWZ0SW5kZXhNYXBwaW5nIiwic2VsZWN0ZWREcmFmdEluZGV4Iiwic2V0U2VsZWN0ZWREcmFmdEluZGV4IiwiaXNHZW5lcmF0aW5nRmluYWxDYXJkIiwic2V0SXNHZW5lcmF0aW5nRmluYWxDYXJkIiwicHJldmlld2luZ0RyYWZ0SW5kZXgiLCJzZXRQcmV2aWV3aW5nRHJhZnRJbmRleCIsImRyYWZ0Q29tcGxldGlvblNob3duIiwic2V0RHJhZnRDb21wbGV0aW9uU2hvd24iLCJmb3JtYXRDb3VudGRvd24iLCJzZWNvbmRzIiwibWludXRlcyIsIk1hdGgiLCJmbG9vciIsInJlbWFpbmluZ1NlY29uZHMiLCJ0b1N0cmluZyIsInBhZFN0YXJ0Iiwic2F2ZUpvYlRvU3RvcmFnZSIsImpvYklkIiwiam9iRGF0YSIsImxvY2FsU3RvcmFnZSIsInNldEl0ZW0iLCJjcmVhdGVkQXQiLCJEYXRlIiwibm93IiwicGVuZGluZ0pvYnMiLCJnZXRJdGVtIiwiaW5jbHVkZXMiLCJwdXNoIiwicmVtb3ZlSm9iRnJvbVN0b3JhZ2UiLCJyZW1vdmVJdGVtIiwidXBkYXRlZEpvYnMiLCJmaWx0ZXIiLCJjaGVja0pvYlN0YXR1cyIsImNoZWNrUGVuZGluZ0pvYnMiLCJqb2IiLCJzdGF0dXNSZXNwb25zZSIsImxvZyIsImNhcmREYXRhIiwiY2FyZFdpdGhRUiIsInJhbmRvbSIsInN1YnN0ciIsImZyb250Q292ZXIiLCJjYXJkU3RvcmVSZXNwb25zZSIsImJhY2tDb3ZlciIsImxlZnRQYWdlIiwicmlnaHRQYWdlIiwiZ2VuZXJhdGVkUHJvbXB0cyIsImNhcmRTdG9yZURhdGEiLCJhY3R1YWxTaGFyZVVybCIsInNoYXJlX3VybCIsIm9yaWdpbmFsQmFja0NvdmVyIiwib3ZlcmxheVFSQ29kZU9uSW1hZ2UiLCJzaGFyZVVybCIsIndhcm4iLCJzY3JvbGxUb0NhcmRQcmV2aWV3Iiwic2V0U2VjdGlvbkxvYWRpbmdTdGF0ZXMiLCJsZWZ0SW50ZXJpb3IiLCJyaWdodEludGVyaW9yIiwiZ2VuZXJhdGlvblRpbWVTZWNvbmRzIiwic2V0R2VuZXJhdGlvbkR1cmF0aW9uIiwic3RvcEVsYXBzZWRUaW1lVHJhY2tpbmciLCJzZXRQcm9ncmVzc1BlcmNlbnRhZ2UiLCJjYXJkRm9yU3RvcmFnZSIsInN0YXJ0c1dpdGgiLCJjYXJkc0RhdGEiLCJtb3N0UmVjZW50Q2FyZCIsImdlbmVyYXRpb25EdXJhdGlvbiIsInN0b3JhZ2VFcnJvciIsInVzZXJFbWFpbCIsImNhcmRUeXBlRm9yRW1haWwiLCJqb2JTdGFydFRpbWUiLCJnZXRUaW1lIiwic3RhcnRFbGFwc2VkVGltZVRyYWNraW5nIiwicHJvbXB0cyIsImxvYWRpbmdTdGF0ZXMiLCJpc0Zyb250QmFja09ubHkiLCJpbmZvIiwicG9sbEpvYlN0YXR1cyIsImF0dGVtcHQiLCJpc0RyYWZ0Sm9iIiwiZHJhZnRJbmRleCIsInBhcnNlSW50Iiwic3BsaXQiLCJzdHlsZUluZm8iLCJ1bmRlZmluZWQiLCJwcmVkZWZpbmVkU3R5bGVzIiwic3R5bGVMYWJlbHMiLCJzdHlsZU5hbWUiLCJzdHlsZUxhYmVsIiwiZHJhZnRDYXJkIiwicHJldiIsInVwZGF0ZWQiLCJ1cGRhdGVkTWFwcGluZyIsIm5ld0NvbXBsZXRlZENvdW50Iiwic2V0VGltZW91dCIsImRlbGF5IiwibWluIiwicG93IiwiaW1hZ2VVcmwiLCJsb2dvVXJsIiwicXJMb2dvVXJsIiwibG9nb1Jlc3BvbnNlIiwibG9nb0RhdGEiLCJsb2dvcyIsInVybCIsImxvZ29FcnJvciIsInFyQ29kZURhdGFVcmwiLCJxclJlc3BvbnNlIiwibG9nb191cmwiLCJzaXplIiwic2VhbWxlc3MiLCJxckRhdGEiLCJxcl9jb2RlIiwibG9nb1FyRXJyb3IiLCJ0b0RhdGFVUkwiLCJ3aWR0aCIsIm1hcmdpbiIsImNvbG9yIiwiZGFyayIsImxpZ2h0IiwiZXJyb3JDb3JyZWN0aW9uTGV2ZWwiLCJjYW52YXMiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJjdHgiLCJnZXRDb250ZXh0IiwiYmFja0NvdmVySW1nIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJvbmxvYWQiLCJoZWlnaHQiLCJkcmF3SW1hZ2UiLCJxckltZyIsInFyU2l6ZSIsInBhZGRpbmciLCJ4IiwieSIsImN1dG91dFBhZGRpbmciLCJjdXRvdXRYIiwiY3V0b3V0WSIsImN1dG91dFdpZHRoIiwiY3V0b3V0SGVpZ2h0IiwiZmlsbFN0eWxlIiwiYmVnaW5QYXRoIiwicm91bmRSZWN0IiwiZmlsbCIsInN0cm9rZVN0eWxlIiwibGluZVdpZHRoIiwic3Ryb2tlIiwiZm9udCIsInRleHRBbGlnbiIsInRleHRYIiwidGV4dFkiLCJmaWxsVGV4dCIsIm9uZXJyb3IiLCJzcmMiLCJoYW5kd3JpdGluZ1NhbXBsZSIsInNldEhhbmR3cml0aW5nU2FtcGxlIiwiaGFuZHdyaXRpbmdTYW1wbGVVcmwiLCJzZXRIYW5kd3JpdGluZ1NhbXBsZVVybCIsInJlZmVyZW5jZUltYWdlcyIsInNldFJlZmVyZW5jZUltYWdlcyIsInJlZmVyZW5jZUltYWdlVXJscyIsInNldFJlZmVyZW5jZUltYWdlVXJscyIsImltYWdlVHJhbnNmb3JtYXRpb24iLCJzZXRJbWFnZVRyYW5zZm9ybWF0aW9uIiwiaXNVcGxvYWRpbmciLCJzZXRJc1VwbG9hZGluZyIsInNldFVzZXJFbWFpbCIsImN1cnJlbnRDYXJkSWQiLCJzZXRDdXJyZW50Q2FyZElkIiwiaXNIYW5kd3JpdHRlbk1lc3NhZ2UiLCJzZXRJc0hhbmR3cml0dGVuTWVzc2FnZSIsInNldElzRnJvbnRCYWNrT25seSIsInNlbGVjdGVkUGFwZXJTaXplIiwic2V0U2VsZWN0ZWRQYXBlclNpemUiLCJzZWN0aW9uTG9hZGluZ1N0YXRlcyIsInByb2dyZXNzUGVyY2VudGFnZSIsImNsZWFySW50ZXJ2YWwiLCJpc0luaXRpYWxMb2FkQ29tcGxldGUiLCJzZXRJc0luaXRpYWxMb2FkQ29tcGxldGUiLCJpc1RleHRhcmVhRXhwYW5kZWQiLCJzZXRJc1RleHRhcmVhRXhwYW5kZWQiLCJpc01lc3NhZ2VFeHBhbmRlZCIsInNldElzTWVzc2FnZUV4cGFuZGVkIiwibWVzc2FnZUhpc3RvcnkiLCJzZXRNZXNzYWdlSGlzdG9yeSIsImN1cnJlbnRNZXNzYWdlSW5kZXgiLCJzZXRDdXJyZW50TWVzc2FnZUluZGV4IiwicmVmaW5lbWVudFByb21wdCIsInNldFJlZmluZW1lbnRQcm9tcHQiLCJpc1JlZmluaW5nTWVzc2FnZSIsInNldElzUmVmaW5pbmdNZXNzYWdlIiwic2hvd1JlZmluZW1lbnRCb3giLCJzZXRTaG93UmVmaW5lbWVudEJveCIsInNob3dTZXR0aW5ncyIsInNldFNob3dTZXR0aW5ncyIsInNob3dUZW1wbGF0ZUdhbGxlcnkiLCJzZXRTaG93VGVtcGxhdGVHYWxsZXJ5IiwidGVtcGxhdGVTZWFyY2hRdWVyeSIsInNldFRlbXBsYXRlU2VhcmNoUXVlcnkiLCJpc1NlYXJjaGluZ1RlbXBsYXRlcyIsInNldElzU2VhcmNoaW5nVGVtcGxhdGVzIiwiYWlGaWx0ZXJlZENhcmRzIiwic2V0QWlGaWx0ZXJlZENhcmRzIiwic2VhcmNoTW9kZSIsInNldFNlYXJjaE1vZGUiLCJ0ZXh0RmlsdGVyZWRDYXJkcyIsInNldFRleHRGaWx0ZXJlZENhcmRzIiwic2hvd1Byb21wdHMiLCJzZXRTaG93UHJvbXB0cyIsInByaW50T3B0aW9uIiwic2V0UHJpbnRPcHRpb24iLCJwcmVsb2FkQWxsQ2FyZHMiLCJnZXRDYWNoZWRDYXJkcyIsInRvdGFsQ2FyZHMiLCJzaG93UHJpbnRDb25maXJtYXRpb24iLCJzZXRTaG93UHJpbnRDb25maXJtYXRpb24iLCJnZW5lcmF0aW9uU3RhcnRUaW1lIiwic2V0R2VuZXJhdGlvblN0YXJ0VGltZSIsImN1cnJlbnRFbGFwc2VkVGltZSIsInNldEN1cnJlbnRFbGFwc2VkVGltZSIsImVsYXBzZWRUaW1lSW50ZXJ2YWwiLCJzZXRFbGFwc2VkVGltZUludGVydmFsIiwiZm9ybWF0R2VuZXJhdGlvblRpbWUiLCJkdXJhdGlvblNlY29uZHMiLCJjYXJkUHJldmlld0VsZW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwic2Nyb2xsSW50b1ZpZXciLCJiZWhhdmlvciIsImJsb2NrIiwic3RhcnRUaW1lIiwiZXN0aW1hdGVkVG90YWxTZWNvbmRzIiwic3RhcnQiLCJpbnRlcnZhbCIsInNldEludGVydmFsIiwiZWxhcHNlZCIsImVzdGltYXRlZFRvdGFsIiwicGVyY2VudGFnZSIsInJlc3RvcmVFbGFwc2VkVGltZVRyYWNraW5nIiwic2F2ZWRTdGFydFRpbWUiLCJsb2FkU2F2ZWRTdGF0ZSIsInNhdmVkRm9ybURhdGEiLCJmb3JtRGF0YSIsInNhdmVkQ2FyZHMiLCJjYXJkcyIsIkFycmF5IiwiaXNBcnJheSIsInNlbGVjdGVkSW5kZXgiLCJuZXdDYXJkc0RhdGEiLCJjYXJkV2l0aERhdGUiLCJjbGVhbnVwTG9jYWxTdG9yYWdlIiwia2VlcEtleXMiLCJrZXlzVG9DaGVjayIsImkiLCJrZXkiLCJyZW1vdmVkQ291bnQiLCJmb3JFYWNoIiwib25lRGF5QWdvIiwicmVjZW50Sm9icyIsInNhdmVGb3JtRGF0YSIsInNhdmVHZW5lcmF0ZWRDYXJkcyIsInRpbWVvdXRJZCIsImFkZE1lc3NhZ2VUb0hpc3RvcnkiLCJjbGVhclRpbWVvdXQiLCJjbGVhclNhdmVkRGF0YSIsImdldFN0b3JhZ2VVc2FnZSIsInRvdGFsU2l6ZSIsImhhc093blByb3BlcnR5IiwidXNlZCIsInVzZWRNQiIsInRvRml4ZWQiLCJyb3VuZCIsInNob3dUZW1wbGF0ZUN1c3RvbWl6YXRpb24iLCJzZXRTaG93VGVtcGxhdGVDdXN0b21pemF0aW9uIiwic2VsZWN0ZWRUZW1wbGF0ZSIsInNldFNlbGVjdGVkVGVtcGxhdGUiLCJ0ZW1wbGF0ZUN1c3RvbWl6YXRpb25zIiwic2V0VGVtcGxhdGVDdXN0b21pemF0aW9ucyIsInByb21wdENoYW5nZXMiLCJtZXNzYWdlQ2hhbmdlcyIsInVzZVJlZmVyZW5jZUltYWdlIiwicmVmZXJlbmNlSW1hZ2VGaWxlIiwicmVmZXJlbmNlSW1hZ2VUcmFuc2Zvcm1hdGlvbiIsImFwcGx5VGVtcGxhdGUiLCJ0ZW1wbGF0ZSIsImdlbmVyYXRlQ2FyZFdpdGhFeGlzdGluZ1Byb21wdHMiLCJjYXJkVHlwZUZvclByb21wdCIsInBhcGVyQ29uZmlnIiwiZmluZCIsIm1lc3NhZ2VDb250ZW50IiwicmVwbGFjZSIsImlzVGVtcGxhdGVDdXN0b21pemF0aW9uIiwiaW5wdXRJbWFnZXMiLCJlbmhhbmNlZFByb21wdHMiLCJ0b3RhbFJlZmVyZW5jZUltYWdlcyIsImNoYXJhY3Rlckluc3RydWN0aW9ucyIsImNvbmZpZyIsInVzZXJOdW1iZXIiLCJtb2RlbFZlcnNpb24iLCJxdWFsaXR5Iiwib3V0cHV0Rm9ybWF0Iiwib3V0cHV0Q29tcHJlc3Npb24iLCJtb2RlcmF0aW9uIiwiaW5wdXRfaW1hZ2VzIiwiaW5wdXRfaW1hZ2VzX21vZGUiLCJoYW5kbGVBcHBseVRlbXBsYXRlV2l0aEN1c3RvbWl6YXRpb25zIiwiZmluYWxQcm9tcHQiLCJtb2RpZmljYXRpb25RdWVyeSIsIm1vZGlmaWVkUHJvbXB0cyIsInR5cGUiLCJwcm9wZXJ0aWVzIiwicmVxdWlyZWQiLCJwcm9tcHRMb3dlciIsInRvTG93ZXJDYXNlIiwiZGV0ZWN0ZWRUeXBlIiwiRm9ybURhdGEiLCJhcHBlbmQiLCJ1cGxvYWRSZXNwb25zZSIsInVwbG9hZFJlc3VsdCIsImN1c3RvbWl6YXRpb25TdW1tYXJ5Iiwic3VtbWFyeVRleHQiLCJqb2luIiwiaGFuZGxlR2VuZXJhdGVDYXJkQXN5bmMiLCJoYW5kbGVDcmVhdGVOZXdDYXJkIiwiaGFuZGxlUmVnZW5lcmF0ZUNhcmQiLCJjbGVhbk1lc3NhZ2UiLCJuZXdIaXN0b3J5Iiwic2xpY2UiLCJzaGlmdCIsInVuZG9NZXNzYWdlIiwibmV3SW5kZXgiLCJyZWRvTWVzc2FnZSIsImhhbmRsZVJlZmluZU1lc3NhZ2UiLCJzZWxlY3RlZFRvbmVPYmoiLCJ0b25lIiwidG9uZURlc2NyaXB0aW9uIiwicmVmaW5lbWVudEFQSVByb21wdCIsInJlZmluZWRNZXNzYWdlIiwiY2xlYW5lZFJlZmluZWRNZXNzYWdlIiwiaGFuZGxlR2V0TWVzc2FnZUhlbHAiLCJlZmZlY3RpdmVQcm9tcHQiLCJtZXNzYWdlUHJvbXB0IiwiZ2VuZXJhdGVkTWVzc2FnZSIsIm1lc3NhZ2VNYXRjaCIsIm1hdGNoIiwiZXh0cmFjdGVkTWVzc2FnZSIsImhhbmRsZUZpbGVVcGxvYWQiLCJmaWxlIiwiZmlsZU5hbWUiLCJuYW1lIiwidG90YWxJbWFnZXMiLCJoYW5kbGVSZW1vdmVSZWZlcmVuY2VJbWFnZSIsImluZGV4IiwicmVtb3ZlZEltYWdlIiwicmVtb3ZlZFVybCIsIl8iLCJyZW1haW5pbmdJbWFnZXMiLCJoYW5kbGVHZW5lcmF0ZURyYWZ0Q2FyZHMiLCJlbWFpbFJlZ2V4IiwidGVzdCIsInJlZmVyZW5jZUltYWdlVXJsc0xlbmd0aCIsInJlZmVyZW5jZUltYWdlc0xlbmd0aCIsImNsZWFyUGhvdG9zIiwic3dpdGNoVG9HUFQxIiwiZGl2IiwiY2xhc3NOYW1lIiwicCIsIm0iLCJidXR0b24iLCJvbkNsaWNrIiwiZHVyYXRpb24iLCJzdHlsZU1lc3NhZ2UiLCJkcmFmdFByb21pc2VzIiwic3R5bGVPdmVycmlkZSIsImhhbmRsZUdlbmVyYXRlQ2FyZEFzeW5jSW50ZXJuYWwiLCJvbkRyYWZ0Q29tcGxldGUiLCJjYXJkIiwiaWR4IiwiY29tcGxldGVkQ291bnQiLCJjIiwiYWxsU2V0dGxlZCIsImhhbmRsZUdlbmVyYXRlRmluYWxGcm9tRHJhZnQiLCJkaXNwbGF5SW5kZXgiLCJvcmlnaW5hbERyYWZ0SW5kZXgiLCJyZW1haW5pbmdEcmFmdHMiLCJzZWxlY3RlZERyYWZ0Iiwic3RvcmVkRnJvbnRDb3ZlclByb21wdCIsInN1YnN0cmluZyIsImRyYWZ0U3R5bGVJbmZvIiwic3R5bGVNb2RpZmllciIsInNlbGVjdGVkU3R5bGUiLCJzdHlsZSIsImdlbmVyYXRlT3RoZXJQcm9tcHRzUXVlcnkiLCJmaW5hbFByb21wdHMiLCJoYXNGcm9udENvdmVyIiwiaGFzQmFja0NvdmVyIiwiaGFzTGVmdEludGVyaW9yIiwiaGFzUmlnaHRJbnRlcmlvciIsImhhc09uRHJhZnRDb21wbGV0ZSIsIm1vZGVsVG9Vc2UiLCJtb2RlVGV4dCIsImF1dG9NZXNzYWdlUHJvbXB0IiwiZWZmZWN0aXZlQXJ0aXN0aWNTdHlsZSIsInByb21wdEdlbmVyYXRpb25RdWVyeSIsImZyb250Q292ZXJQcm9tcHQiLCJlcnJvck1lc3NhZ2UiLCJoYW5kbGVHZW5lcmF0ZUNhcmQiLCJjYXJkSWQiLCJzdHlsZVNlbGVjdGlvblByb21wdCIsImFpU2VsZWN0ZWRTdHlsZSIsImxlZ2FjeVByb21wdEdlbmVyYXRpb25RdWVyeSIsInByb21wdEdlbmVyYXRpb25Qcm9taXNlcyIsImNhcmRJbmRleCIsInVuaXF1ZVByb21wdFF1ZXJ5IiwiYWxsR2VuZXJhdGVkUHJvbXB0cyIsImFsbCIsImZyb250Q292ZXJJbnB1dEltYWdlcyIsImJhY2tDb3ZlcklucHV0SW1hZ2VzIiwibGVmdEludGVyaW9ySW5wdXRJbWFnZXMiLCJyaWdodEludGVyaW9ySW5wdXRJbWFnZXMiLCJhbGxDYXJkUGF5bG9hZHMiLCJlbmhhbmNlZEZyb250Q292ZXJQcm9tcHQiLCJjYXJkUGF5bG9hZHMiLCJ1c2VyX251bWJlciIsIm1vZGVsX3ZlcnNpb24iLCJhc3BlY3RfcmF0aW8iLCJvdXRwdXRfZm9ybWF0Iiwib3V0cHV0X2NvbXByZXNzaW9uIiwidXNlcl9pZF9jb250ZXh0Iiwic2VjdGlvbkluZGV4Iiwic2VjdGlvbk5hbWUiLCJjb21wbGV0ZWRJbWFnZXMiLCJNYXAiLCJjb21wbGV0ZWRDYXJkcyIsInJlZ2VuZXJhdGVQcm9tcHRJZk5lZWRlZCIsIm9yaWdpbmFsUHJvbXB0IiwicmVnZW5lcmF0aW9uUXVlcnkiLCJuZXdQcm9tcHQiLCJwcm9jZXNzU2luZ2xlSW1hZ2UiLCJwYXlsb2FkIiwiY3VycmVudFBheWxvYWQiLCJyZXRyeUNvdW50IiwibWF4UmV0cmllcyIsImhhc1RyaWVkVGV4dEZhbGxiYWNrIiwicGFyc2VkUmVzdWx0IiwicmVzdWx0cyIsImltYWdlS2V5Iiwic2V0IiwibmV3U3RhdGUiLCJzZWN0aW9uc1BlckNhcmQiLCJjYXJkU3RhcnRJbmRleCIsImNhcmRFbmRJbmRleCIsImlzQ2FyZENvbXBsZXRlIiwiY2hlY2tLZXkiLCJoYXMiLCJwcmV2Q2FyZHMiLCJ1cGRhdGVkQ2FyZHMiLCJ1cGRhdGVkQ2FyZCIsImdldCIsImltYWdlUHJvbWlzZXMiLCJtYXAiLCJmaW5hbENhcmRzIiwiaGFzQ2FyZFVybCIsImJhY2tDb3Zlckxlbmd0aCIsImNhcmRUb1N0b3JlIiwic2VydmVyRXJyb3IiLCJoYW5kbGVQcmludENsaWNrIiwiaGFuZGxlVGVtcGxhdGVTZWxlY3QiLCJoYXNBbGxJbWFnZXMiLCJlbmNvZGVVUklDb21wb25lbnQiLCJmb3VuZENhcmQiLCJjb21wbGV0ZUNhcmQiLCJmZXRjaEVycm9yIiwiZmFsbGJhY2tDYXJkIiwicGVyZm9ybUFJQW5hbHlzaXMiLCJjYXJkc1RvQW5hbHl6ZSIsInNlYXJjaFF1ZXJ5IiwiYWRhcHRpdmVCYXRjaFNpemUiLCJtYXgiLCJiYXRjaGVzIiwiYW5hbHlzaXNQcm9tcHQiLCJiYXRjaFByb21pc2VzIiwiYmF0Y2giLCJiYXRjaEluZGV4IiwidmFsaWRDYXJkcyIsInVybHMiLCJiYXRjaFJlc3VsdHMiLCJ0ZXh0U2NvcmUiLCJzY29yZSIsImFuYWx5c2lzIiwiYW5hbHlzaXNfcHJvbXB0IiwiYW5hbHlzaXNSZXN1bHQiLCJzY29yZU1hdGNoIiwiYWxsQmF0Y2hSZXN1bHRzIiwiZmxhdCIsImhhbmRsZVRleHRUZW1wbGF0ZVNlYXJjaCIsImFsbENhcmRzIiwic2VhcmNoVGVybXMiLCJ0ZXJtIiwic2NvcmVkQ2FyZHMiLCJtYXRjaFNvdXJjZXMiLCJzZWFyY2hhYmxlVGV4dHMiLCJ3ZWlnaHQiLCJzb3VyY2UiLCJ0ZXJtU2NvcmUiLCJwYXJ0aWFsU2NvcmUiLCJtYXRjaGVkVGVybXMiLCJzb21lIiwiZmlsdGVyZWRDYXJkcyIsInNvcnQiLCJhIiwiYiIsImF2Z1Njb3JlIiwicmVkdWNlIiwic3VtIiwiYWlBbmFseXplZE1hdGNoZXMiLCJzdWNjZXNzTWVzc2FnZSIsImhhbmRsZUFJVGVtcGxhdGVTZWFyY2giLCJjYXJkVGV4dCIsImNvbW1vbiIsImZpbHRlck1lc3NhZ2UiLCJxdWVyeUNvbXBsZXhpdHkiLCJhbmFseXNpc1Jlc3VsdHMiLCJyYW5rZWRSZXN1bHRzIiwiYWlTY29yZSIsImFpQW5hbHlzaXMiLCJyIiwiaGFuZGxlSHlicmlkVGVtcGxhdGVTZWFyY2giLCJ0ZXh0Q2FuZGlkYXRlcyIsImh5YnJpZFJlc3VsdHMiLCJoeWJyaWRTY29yZSIsImZpbmFsUmVzdWx0cyIsImhhbmRsZVRlbXBsYXRlU2VhcmNoIiwiY2xlYXJUZW1wbGF0ZVNlYXJjaCIsImhhbmRsZUNvbmZpcm1QcmludCIsImNhcmRUb1ByaW50IiwiZnJvbnRfY292ZXIiLCJiYWNrX2NvdmVyIiwibGVmdF9wYWdlIiwicmlnaHRfcGFnZSIsImNhcmRfbmFtZSIsInBhcGVyX3NpemUiLCJpc19mcm9udF9iYWNrX29ubHkiLCJjb3BpZXMiLCJjb2xvcl9tb2RlIiwiZW1haWxEYXRhIiwidXNlcl9lbWFpbCIsInNlbmRfcGRmIiwiZXJyb3JUZXh0IiwiZHVwbGV4SW5mbyIsImR1cGxleCIsInBvbGxDb3VudCIsIm1heFBvbGxzIiwicG9sbFN0YXR1cyIsImpvYl9pZCIsInN0YXR1c1Jlc3VsdCIsImhlYWRlciIsImhyZWYiLCJ2YXJpYW50IiwiaDEiLCJzcGFuIiwib3BlbiIsIm9uT3BlbkNoYW5nZSIsImFzQ2hpbGQiLCJhbGlnbiIsImg0IiwidmFsdWUiLCJvblZhbHVlQ2hhbmdlIiwic2VsZWN0ZWQiLCJJY29uQ29tcG9uZW50IiwicGxhY2Vob2xkZXIiLCJvbkNoYW5nZSIsImUiLCJ0YXJnZXQiLCJmb250U2l6ZSIsInJvd3MiLCJzdHJvbmciLCJkaXNhYmxlZCIsIm9uS2V5RG93biIsInNoaWZ0S2V5IiwicHJldmVudERlZmF1bHQiLCJpbnB1dCIsImNoZWNrZWQiLCJodG1sRm9yIiwiaW1nIiwiYWx0IiwiYWNjZXB0IiwiZmlsZXMiLCJpbWFnZSIsIm51bSIsInVsIiwibGkiLCJiciIsInRvTG9jYWxlRGF0ZVN0cmluZyIsImRhdGEtY2FyZC1wcmV2aWV3Iiwib3JpZ2luYWxJbmRleCIsImlzTG9hZGluZyIsInN0b3BQcm9wYWdhdGlvbiIsImhhc0dlbmVyYXRlZENhcmQiLCJnZW5lcmF0ZWRDYXJkc0xlbmd0aCIsImRyYWZ0Q2FyZHNMZW5ndGgiLCJ0aXRsZSIsIm9uQ2FyZFVwZGF0ZSIsIm9uUHJpbnQiLCJvblBhcGVyU2l6ZUNoYW5nZSIsIm9uVmlld0Z1bGxDYXJkIiwiaDMiLCJtYXhDYXJkcyIsIm9uQ2FyZFNlbGVjdCIsInVybFBhcnRzIiwid2luZG93Iiwic2Nyb2xsQmVoYXZpb3IiLCJXZWJraXRPdmVyZmxvd1Njcm9sbGluZyIsInNjcm9sbGJhcldpZHRoIiwic2Nyb2xsU25hcFR5cGUiLCJ0b3VjaEFjdGlvbiIsIm92ZXJmbG93WCIsIm92ZXJmbG93WSIsImZyb250SW1hZ2UiLCJzY3JvbGxTbmFwQWxpZ24iLCJsb2FkaW5nIiwidXNlclNlbGVjdCIsImhhc0NhY2hlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./app/page.tsx\n"));

/***/ })

});