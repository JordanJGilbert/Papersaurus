"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/page",{

/***/ "(app-pages-browser)/./app/page.tsx":
/*!**********************!*\
  !*** ./app/page.tsx ***!
  \**********************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ CardStudioPage; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _components_ui_button__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/components/ui/button */ \"(app-pages-browser)/./components/ui/button.tsx\");\n/* harmony import */ var _components_ui_input__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/components/ui/input */ \"(app-pages-browser)/./components/ui/input.tsx\");\n/* harmony import */ var _components_ui_textarea__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/components/ui/textarea */ \"(app-pages-browser)/./components/ui/textarea.tsx\");\n/* harmony import */ var _components_ui_card__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/components/ui/card */ \"(app-pages-browser)/./components/ui/card.tsx\");\n/* harmony import */ var _components_ui_badge__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/components/ui/badge */ \"(app-pages-browser)/./components/ui/badge.tsx\");\n/* harmony import */ var _components_ui_separator__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @/components/ui/separator */ \"(app-pages-browser)/./components/ui/separator.tsx\");\n/* harmony import */ var _components_ui_select__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @/components/ui/select */ \"(app-pages-browser)/./components/ui/select.tsx\");\n/* harmony import */ var _components_ui_collapsible__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @/components/ui/collapsible */ \"(app-pages-browser)/./components/ui/collapsible.tsx\");\n/* harmony import */ var _components_ui_popover__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @/components/ui/popover */ \"(app-pages-browser)/./components/ui/popover.tsx\");\n/* harmony import */ var _components_ui_dialog__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @/components/ui/dialog */ \"(app-pages-browser)/./components/ui/dialog.tsx\");\n/* harmony import */ var _barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! __barrel_optimize__?names=AlertTriangle,ArrowLeft,Baby,Cake,CheckCircle,ChevronDown,Church,Clock,CloudRain,Eye,Gift,GraduationCap,Heart,Home,Image,MessageCircle,MessageSquare,MessageSquarePlus,Palette,Printer,Redo2,RefreshCw,Settings,Settings2,Sparkles,Stethoscope,ThumbsUp,TreePine,Trophy,Undo2,Upload,Wand2,Wrench,X,Zap!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/wrench.js\");\n/* harmony import */ var _barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! __barrel_optimize__?names=AlertTriangle,ArrowLeft,Baby,Cake,CheckCircle,ChevronDown,Church,Clock,CloudRain,Eye,Gift,GraduationCap,Heart,Home,Image,MessageCircle,MessageSquare,MessageSquarePlus,Palette,Printer,Redo2,RefreshCw,Settings,Settings2,Sparkles,Stethoscope,ThumbsUp,TreePine,Trophy,Undo2,Upload,Wand2,Wrench,X,Zap!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/cake.js\");\n/* harmony import */ var _barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! __barrel_optimize__?names=AlertTriangle,ArrowLeft,Baby,Cake,CheckCircle,ChevronDown,Church,Clock,CloudRain,Eye,Gift,GraduationCap,Heart,Home,Image,MessageCircle,MessageSquare,MessageSquarePlus,Palette,Printer,Redo2,RefreshCw,Settings,Settings2,Sparkles,Stethoscope,ThumbsUp,TreePine,Trophy,Undo2,Upload,Wand2,Wrench,X,Zap!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/thumbs-up.js\");\n/* harmony import */ var _barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! __barrel_optimize__?names=AlertTriangle,ArrowLeft,Baby,Cake,CheckCircle,ChevronDown,Church,Clock,CloudRain,Eye,Gift,GraduationCap,Heart,Home,Image,MessageCircle,MessageSquare,MessageSquarePlus,Palette,Printer,Redo2,RefreshCw,Settings,Settings2,Sparkles,Stethoscope,ThumbsUp,TreePine,Trophy,Undo2,Upload,Wand2,Wrench,X,Zap!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/heart.js\");\n/* harmony import */ var _barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! __barrel_optimize__?names=AlertTriangle,ArrowLeft,Baby,Cake,CheckCircle,ChevronDown,Church,Clock,CloudRain,Eye,Gift,GraduationCap,Heart,Home,Image,MessageCircle,MessageSquare,MessageSquarePlus,Palette,Printer,Redo2,RefreshCw,Settings,Settings2,Sparkles,Stethoscope,ThumbsUp,TreePine,Trophy,Undo2,Upload,Wand2,Wrench,X,Zap!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/trophy.js\");\n/* harmony import */ var _barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! __barrel_optimize__?names=AlertTriangle,ArrowLeft,Baby,Cake,CheckCircle,ChevronDown,Church,Clock,CloudRain,Eye,Gift,GraduationCap,Heart,Home,Image,MessageCircle,MessageSquare,MessageSquarePlus,Palette,Printer,Redo2,RefreshCw,Settings,Settings2,Sparkles,Stethoscope,ThumbsUp,TreePine,Trophy,Undo2,Upload,Wand2,Wrench,X,Zap!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/tree-pine.js\");\n/* harmony import */ var _barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! __barrel_optimize__?names=AlertTriangle,ArrowLeft,Baby,Cake,CheckCircle,ChevronDown,Church,Clock,CloudRain,Eye,Gift,GraduationCap,Heart,Home,Image,MessageCircle,MessageSquare,MessageSquarePlus,Palette,Printer,Redo2,RefreshCw,Settings,Settings2,Sparkles,Stethoscope,ThumbsUp,TreePine,Trophy,Undo2,Upload,Wand2,Wrench,X,Zap!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/stethoscope.js\");\n/* harmony import */ var _barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! __barrel_optimize__?names=AlertTriangle,ArrowLeft,Baby,Cake,CheckCircle,ChevronDown,Church,Clock,CloudRain,Eye,Gift,GraduationCap,Heart,Home,Image,MessageCircle,MessageSquare,MessageSquarePlus,Palette,Printer,Redo2,RefreshCw,Settings,Settings2,Sparkles,Stethoscope,ThumbsUp,TreePine,Trophy,Undo2,Upload,Wand2,Wrench,X,Zap!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/cloud-rain.js\");\n/* harmony import */ var _barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! __barrel_optimize__?names=AlertTriangle,ArrowLeft,Baby,Cake,CheckCircle,ChevronDown,Church,Clock,CloudRain,Eye,Gift,GraduationCap,Heart,Home,Image,MessageCircle,MessageSquare,MessageSquarePlus,Palette,Printer,Redo2,RefreshCw,Settings,Settings2,Sparkles,Stethoscope,ThumbsUp,TreePine,Trophy,Undo2,Upload,Wand2,Wrench,X,Zap!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/graduation-cap.js\");\n/* harmony import */ var _barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! __barrel_optimize__?names=AlertTriangle,ArrowLeft,Baby,Cake,CheckCircle,ChevronDown,Church,Clock,CloudRain,Eye,Gift,GraduationCap,Heart,Home,Image,MessageCircle,MessageSquare,MessageSquarePlus,Palette,Printer,Redo2,RefreshCw,Settings,Settings2,Sparkles,Stethoscope,ThumbsUp,TreePine,Trophy,Undo2,Upload,Wand2,Wrench,X,Zap!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/baby.js\");\n/* harmony import */ var _barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! __barrel_optimize__?names=AlertTriangle,ArrowLeft,Baby,Cake,CheckCircle,ChevronDown,Church,Clock,CloudRain,Eye,Gift,GraduationCap,Heart,Home,Image,MessageCircle,MessageSquare,MessageSquarePlus,Palette,Printer,Redo2,RefreshCw,Settings,Settings2,Sparkles,Stethoscope,ThumbsUp,TreePine,Trophy,Undo2,Upload,Wand2,Wrench,X,Zap!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/church.js\");\n/* harmony import */ var _barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! __barrel_optimize__?names=AlertTriangle,ArrowLeft,Baby,Cake,CheckCircle,ChevronDown,Church,Clock,CloudRain,Eye,Gift,GraduationCap,Heart,Home,Image,MessageCircle,MessageSquare,MessageSquarePlus,Palette,Printer,Redo2,RefreshCw,Settings,Settings2,Sparkles,Stethoscope,ThumbsUp,TreePine,Trophy,Undo2,Upload,Wand2,Wrench,X,Zap!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/gift.js\");\n/* harmony import */ var _barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! __barrel_optimize__?names=AlertTriangle,ArrowLeft,Baby,Cake,CheckCircle,ChevronDown,Church,Clock,CloudRain,Eye,Gift,GraduationCap,Heart,Home,Image,MessageCircle,MessageSquare,MessageSquarePlus,Palette,Printer,Redo2,RefreshCw,Settings,Settings2,Sparkles,Stethoscope,ThumbsUp,TreePine,Trophy,Undo2,Upload,Wand2,Wrench,X,Zap!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/home.js\");\n/* harmony import */ var _barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! __barrel_optimize__?names=AlertTriangle,ArrowLeft,Baby,Cake,CheckCircle,ChevronDown,Church,Clock,CloudRain,Eye,Gift,GraduationCap,Heart,Home,Image,MessageCircle,MessageSquare,MessageSquarePlus,Palette,Printer,Redo2,RefreshCw,Settings,Settings2,Sparkles,Stethoscope,ThumbsUp,TreePine,Trophy,Undo2,Upload,Wand2,Wrench,X,Zap!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/message-circle.js\");\n/* harmony import */ var _barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! __barrel_optimize__?names=AlertTriangle,ArrowLeft,Baby,Cake,CheckCircle,ChevronDown,Church,Clock,CloudRain,Eye,Gift,GraduationCap,Heart,Home,Image,MessageCircle,MessageSquare,MessageSquarePlus,Palette,Printer,Redo2,RefreshCw,Settings,Settings2,Sparkles,Stethoscope,ThumbsUp,TreePine,Trophy,Undo2,Upload,Wand2,Wrench,X,Zap!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/eye.js\");\n/* harmony import */ var _barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! __barrel_optimize__?names=AlertTriangle,ArrowLeft,Baby,Cake,CheckCircle,ChevronDown,Church,Clock,CloudRain,Eye,Gift,GraduationCap,Heart,Home,Image,MessageCircle,MessageSquare,MessageSquarePlus,Palette,Printer,Redo2,RefreshCw,Settings,Settings2,Sparkles,Stethoscope,ThumbsUp,TreePine,Trophy,Undo2,Upload,Wand2,Wrench,X,Zap!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/arrow-left.js\");\n/* harmony import */ var _barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! __barrel_optimize__?names=AlertTriangle,ArrowLeft,Baby,Cake,CheckCircle,ChevronDown,Church,Clock,CloudRain,Eye,Gift,GraduationCap,Heart,Home,Image,MessageCircle,MessageSquare,MessageSquarePlus,Palette,Printer,Redo2,RefreshCw,Settings,Settings2,Sparkles,Stethoscope,ThumbsUp,TreePine,Trophy,Undo2,Upload,Wand2,Wrench,X,Zap!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/sparkles.js\");\n/* harmony import */ var _barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(/*! __barrel_optimize__?names=AlertTriangle,ArrowLeft,Baby,Cake,CheckCircle,ChevronDown,Church,Clock,CloudRain,Eye,Gift,GraduationCap,Heart,Home,Image,MessageCircle,MessageSquare,MessageSquarePlus,Palette,Printer,Redo2,RefreshCw,Settings,Settings2,Sparkles,Stethoscope,ThumbsUp,TreePine,Trophy,Undo2,Upload,Wand2,Wrench,X,Zap!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/settings-2.js\");\n/* harmony import */ var _barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_40__ = __webpack_require__(/*! __barrel_optimize__?names=AlertTriangle,ArrowLeft,Baby,Cake,CheckCircle,ChevronDown,Church,Clock,CloudRain,Eye,Gift,GraduationCap,Heart,Home,Image,MessageCircle,MessageSquare,MessageSquarePlus,Palette,Printer,Redo2,RefreshCw,Settings,Settings2,Sparkles,Stethoscope,ThumbsUp,TreePine,Trophy,Undo2,Upload,Wand2,Wrench,X,Zap!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/clock.js\");\n/* harmony import */ var _barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_41__ = __webpack_require__(/*! __barrel_optimize__?names=AlertTriangle,ArrowLeft,Baby,Cake,CheckCircle,ChevronDown,Church,Clock,CloudRain,Eye,Gift,GraduationCap,Heart,Home,Image,MessageCircle,MessageSquare,MessageSquarePlus,Palette,Printer,Redo2,RefreshCw,Settings,Settings2,Sparkles,Stethoscope,ThumbsUp,TreePine,Trophy,Undo2,Upload,Wand2,Wrench,X,Zap!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/chevron-down.js\");\n/* harmony import */ var _barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_42__ = __webpack_require__(/*! __barrel_optimize__?names=AlertTriangle,ArrowLeft,Baby,Cake,CheckCircle,ChevronDown,Church,Clock,CloudRain,Eye,Gift,GraduationCap,Heart,Home,Image,MessageCircle,MessageSquare,MessageSquarePlus,Palette,Printer,Redo2,RefreshCw,Settings,Settings2,Sparkles,Stethoscope,ThumbsUp,TreePine,Trophy,Undo2,Upload,Wand2,Wrench,X,Zap!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/message-square-plus.js\");\n/* harmony import */ var _barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_43__ = __webpack_require__(/*! __barrel_optimize__?names=AlertTriangle,ArrowLeft,Baby,Cake,CheckCircle,ChevronDown,Church,Clock,CloudRain,Eye,Gift,GraduationCap,Heart,Home,Image,MessageCircle,MessageSquare,MessageSquarePlus,Palette,Printer,Redo2,RefreshCw,Settings,Settings2,Sparkles,Stethoscope,ThumbsUp,TreePine,Trophy,Undo2,Upload,Wand2,Wrench,X,Zap!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/undo-2.js\");\n/* harmony import */ var _barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_44__ = __webpack_require__(/*! __barrel_optimize__?names=AlertTriangle,ArrowLeft,Baby,Cake,CheckCircle,ChevronDown,Church,Clock,CloudRain,Eye,Gift,GraduationCap,Heart,Home,Image,MessageCircle,MessageSquare,MessageSquarePlus,Palette,Printer,Redo2,RefreshCw,Settings,Settings2,Sparkles,Stethoscope,ThumbsUp,TreePine,Trophy,Undo2,Upload,Wand2,Wrench,X,Zap!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/redo-2.js\");\n/* harmony import */ var _barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_45__ = __webpack_require__(/*! __barrel_optimize__?names=AlertTriangle,ArrowLeft,Baby,Cake,CheckCircle,ChevronDown,Church,Clock,CloudRain,Eye,Gift,GraduationCap,Heart,Home,Image,MessageCircle,MessageSquare,MessageSquarePlus,Palette,Printer,Redo2,RefreshCw,Settings,Settings2,Sparkles,Stethoscope,ThumbsUp,TreePine,Trophy,Undo2,Upload,Wand2,Wrench,X,Zap!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/refresh-cw.js\");\n/* harmony import */ var _barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_46__ = __webpack_require__(/*! __barrel_optimize__?names=AlertTriangle,ArrowLeft,Baby,Cake,CheckCircle,ChevronDown,Church,Clock,CloudRain,Eye,Gift,GraduationCap,Heart,Home,Image,MessageCircle,MessageSquare,MessageSquarePlus,Palette,Printer,Redo2,RefreshCw,Settings,Settings2,Sparkles,Stethoscope,ThumbsUp,TreePine,Trophy,Undo2,Upload,Wand2,Wrench,X,Zap!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/x.js\");\n/* harmony import */ var _barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_47__ = __webpack_require__(/*! __barrel_optimize__?names=AlertTriangle,ArrowLeft,Baby,Cake,CheckCircle,ChevronDown,Church,Clock,CloudRain,Eye,Gift,GraduationCap,Heart,Home,Image,MessageCircle,MessageSquare,MessageSquarePlus,Palette,Printer,Redo2,RefreshCw,Settings,Settings2,Sparkles,Stethoscope,ThumbsUp,TreePine,Trophy,Undo2,Upload,Wand2,Wrench,X,Zap!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/wand-sparkles.js\");\n/* harmony import */ var _barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_48__ = __webpack_require__(/*! __barrel_optimize__?names=AlertTriangle,ArrowLeft,Baby,Cake,CheckCircle,ChevronDown,Church,Clock,CloudRain,Eye,Gift,GraduationCap,Heart,Home,Image,MessageCircle,MessageSquare,MessageSquarePlus,Palette,Printer,Redo2,RefreshCw,Settings,Settings2,Sparkles,Stethoscope,ThumbsUp,TreePine,Trophy,Undo2,Upload,Wand2,Wrench,X,Zap!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/settings.js\");\n/* harmony import */ var _barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_49__ = __webpack_require__(/*! __barrel_optimize__?names=AlertTriangle,ArrowLeft,Baby,Cake,CheckCircle,ChevronDown,Church,Clock,CloudRain,Eye,Gift,GraduationCap,Heart,Home,Image,MessageCircle,MessageSquare,MessageSquarePlus,Palette,Printer,Redo2,RefreshCw,Settings,Settings2,Sparkles,Stethoscope,ThumbsUp,TreePine,Trophy,Undo2,Upload,Wand2,Wrench,X,Zap!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/palette.js\");\n/* harmony import */ var _barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_50__ = __webpack_require__(/*! __barrel_optimize__?names=AlertTriangle,ArrowLeft,Baby,Cake,CheckCircle,ChevronDown,Church,Clock,CloudRain,Eye,Gift,GraduationCap,Heart,Home,Image,MessageCircle,MessageSquare,MessageSquarePlus,Palette,Printer,Redo2,RefreshCw,Settings,Settings2,Sparkles,Stethoscope,ThumbsUp,TreePine,Trophy,Undo2,Upload,Wand2,Wrench,X,Zap!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/upload.js\");\n/* harmony import */ var _barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_51__ = __webpack_require__(/*! __barrel_optimize__?names=AlertTriangle,ArrowLeft,Baby,Cake,CheckCircle,ChevronDown,Church,Clock,CloudRain,Eye,Gift,GraduationCap,Heart,Home,Image,MessageCircle,MessageSquare,MessageSquarePlus,Palette,Printer,Redo2,RefreshCw,Settings,Settings2,Sparkles,Stethoscope,ThumbsUp,TreePine,Trophy,Undo2,Upload,Wand2,Wrench,X,Zap!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/image.js\");\n/* harmony import */ var _barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_52__ = __webpack_require__(/*! __barrel_optimize__?names=AlertTriangle,ArrowLeft,Baby,Cake,CheckCircle,ChevronDown,Church,Clock,CloudRain,Eye,Gift,GraduationCap,Heart,Home,Image,MessageCircle,MessageSquare,MessageSquarePlus,Palette,Printer,Redo2,RefreshCw,Settings,Settings2,Sparkles,Stethoscope,ThumbsUp,TreePine,Trophy,Undo2,Upload,Wand2,Wrench,X,Zap!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/message-square.js\");\n/* harmony import */ var _barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_53__ = __webpack_require__(/*! __barrel_optimize__?names=AlertTriangle,ArrowLeft,Baby,Cake,CheckCircle,ChevronDown,Church,Clock,CloudRain,Eye,Gift,GraduationCap,Heart,Home,Image,MessageCircle,MessageSquare,MessageSquarePlus,Palette,Printer,Redo2,RefreshCw,Settings,Settings2,Sparkles,Stethoscope,ThumbsUp,TreePine,Trophy,Undo2,Upload,Wand2,Wrench,X,Zap!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/zap.js\");\n/* harmony import */ var _barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_54__ = __webpack_require__(/*! __barrel_optimize__?names=AlertTriangle,ArrowLeft,Baby,Cake,CheckCircle,ChevronDown,Church,Clock,CloudRain,Eye,Gift,GraduationCap,Heart,Home,Image,MessageCircle,MessageSquare,MessageSquarePlus,Palette,Printer,Redo2,RefreshCw,Settings,Settings2,Sparkles,Stethoscope,ThumbsUp,TreePine,Trophy,Undo2,Upload,Wand2,Wrench,X,Zap!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/circle-check-big.js\");\n/* harmony import */ var _barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_55__ = __webpack_require__(/*! __barrel_optimize__?names=AlertTriangle,ArrowLeft,Baby,Cake,CheckCircle,ChevronDown,Church,Clock,CloudRain,Eye,Gift,GraduationCap,Heart,Home,Image,MessageCircle,MessageSquare,MessageSquarePlus,Palette,Printer,Redo2,RefreshCw,Settings,Settings2,Sparkles,Stethoscope,ThumbsUp,TreePine,Trophy,Undo2,Upload,Wand2,Wrench,X,Zap!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/triangle-alert.js\");\n/* harmony import */ var _barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_56__ = __webpack_require__(/*! __barrel_optimize__?names=AlertTriangle,ArrowLeft,Baby,Cake,CheckCircle,ChevronDown,Church,Clock,CloudRain,Eye,Gift,GraduationCap,Heart,Home,Image,MessageCircle,MessageSquare,MessageSquarePlus,Palette,Printer,Redo2,RefreshCw,Settings,Settings2,Sparkles,Stethoscope,ThumbsUp,TreePine,Trophy,Undo2,Upload,Wand2,Wrench,X,Zap!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/printer.js\");\n/* harmony import */ var next_link__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! next/link */ \"(app-pages-browser)/./node_modules/next/dist/api/link.js\");\n/* harmony import */ var sonner__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! sonner */ \"(app-pages-browser)/./node_modules/sonner/dist/index.mjs\");\n/* harmony import */ var _components_CardPreview__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @/components/CardPreview */ \"(app-pages-browser)/./components/CardPreview.tsx\");\n/* harmony import */ var qrcode__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! qrcode */ \"(app-pages-browser)/./node_modules/qrcode/lib/browser.js\");\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! uuid */ \"(app-pages-browser)/./node_modules/uuid/dist/esm-browser/v4.js\");\n/* harmony import */ var _components_mode_toggle__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @/components/mode-toggle */ \"(app-pages-browser)/./components/mode-toggle.tsx\");\n/* harmony import */ var _components_RecentCardsPreview__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @/components/RecentCardsPreview */ \"(app-pages-browser)/./components/RecentCardsPreview.tsx\");\n/* harmony import */ var _components_CriticalResourcePreloader__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @/components/CriticalResourcePreloader */ \"(app-pages-browser)/./components/CriticalResourcePreloader.tsx\");\n/* harmony import */ var _components_EarlyCardPreloader__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! @/components/EarlyCardPreloader */ \"(app-pages-browser)/./components/EarlyCardPreloader.tsx\");\n/* harmony import */ var _hooks_useCardCache__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! @/hooks/useCardCache */ \"(app-pages-browser)/./hooks/useCardCache.ts\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// Configuration for the backend API endpoint\nconst BACKEND_API_BASE_URL = \"https://vibecarding.com\" || 0;\n// Common card types with custom option\nconst cardTypes = [\n    {\n        id: \"custom\",\n        label: \"Custom\",\n        description: \"Create your own unique card type\",\n        icon: _barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_21__[\"default\"]\n    },\n    {\n        id: \"birthday\",\n        label: \"Birthday\",\n        description: \"Celebrate another year of life\",\n        icon: _barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_22__[\"default\"]\n    },\n    {\n        id: \"thank-you\",\n        label: \"Thank You\",\n        description: \"Express gratitude and appreciation\",\n        icon: _barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_23__[\"default\"]\n    },\n    {\n        id: \"anniversary\",\n        label: \"Anniversary\",\n        description: \"Commemorate special milestones\",\n        icon: _barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_24__[\"default\"]\n    },\n    {\n        id: \"congratulations\",\n        label: \"Congratulations\",\n        description: \"Celebrate achievements and success\",\n        icon: _barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_25__[\"default\"]\n    },\n    {\n        id: \"holiday\",\n        label: \"Holiday\",\n        description: \"Seasonal and holiday greetings\",\n        icon: _barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_26__[\"default\"]\n    },\n    {\n        id: \"get-well\",\n        label: \"Get Well Soon\",\n        description: \"Send healing wishes and support\",\n        icon: _barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_27__[\"default\"]\n    },\n    {\n        id: \"sympathy\",\n        label: \"Sympathy\",\n        description: \"Offer comfort during difficult times\",\n        icon: _barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_28__[\"default\"]\n    },\n    {\n        id: \"love\",\n        label: \"Love & Romance\",\n        description: \"Express romantic feelings\",\n        icon: _barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_24__[\"default\"]\n    },\n    {\n        id: \"graduation\",\n        label: \"Graduation\",\n        description: \"Celebrate educational achievements\",\n        icon: _barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_29__[\"default\"]\n    },\n    {\n        id: \"new-baby\",\n        label: \"New Baby\",\n        description: \"Welcome new arrivals\",\n        icon: _barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_30__[\"default\"]\n    },\n    {\n        id: \"wedding\",\n        label: \"Wedding\",\n        description: \"Celebrate unions and marriages\",\n        icon: _barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_31__[\"default\"]\n    },\n    {\n        id: \"retirement\",\n        label: \"Retirement\",\n        description: \"Honor career achievements\",\n        icon: _barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_32__[\"default\"]\n    },\n    {\n        id: \"housewarming\",\n        label: \"Housewarming\",\n        description: \"Welcome to new homes\",\n        icon: _barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_33__[\"default\"]\n    },\n    {\n        id: \"apology\",\n        label: \"Apology\",\n        description: \"Make amends and seek forgiveness\",\n        icon: _barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_34__[\"default\"]\n    },\n    {\n        id: \"thinking-of-you\",\n        label: \"Thinking of You\",\n        description: \"Show you care and remember\",\n        icon: _barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_35__[\"default\"]\n    }\n];\n// Card tone/style options\nconst cardTones = [\n    {\n        id: \"funny\",\n        label: \"\\uD83D\\uDE04 Funny\",\n        description: \"Humorous and lighthearted\"\n    },\n    {\n        id: \"genz-humor\",\n        label: \"\\uD83D\\uDC80 GenZ Humor\",\n        description: \"Internet memes, chaotic energy, and unhinged vibes\"\n    },\n    {\n        id: \"romantic\",\n        label: \"\\uD83D\\uDC95 Romantic\",\n        description: \"Sweet and loving\"\n    },\n    {\n        id: \"professional\",\n        label: \"\\uD83D\\uDC54 Professional\",\n        description: \"Formal and business-appropriate\"\n    },\n    {\n        id: \"heartfelt\",\n        label: \"❤️ Heartfelt\",\n        description: \"Sincere and emotional\"\n    },\n    {\n        id: \"playful\",\n        label: \"\\uD83C\\uDF89 Playful\",\n        description: \"Fun and energetic\"\n    },\n    {\n        id: \"elegant\",\n        label: \"✨ Elegant\",\n        description: \"Sophisticated and refined\"\n    },\n    {\n        id: \"casual\",\n        label: \"\\uD83D\\uDE0A Casual\",\n        description: \"Relaxed and friendly\"\n    },\n    {\n        id: \"inspirational\",\n        label: \"\\uD83C\\uDF1F Inspirational\",\n        description: \"Motivating and uplifting\"\n    },\n    {\n        id: \"quirky\",\n        label: \"\\uD83E\\uDD2A Quirky\",\n        description: \"Unique and unconventional\"\n    },\n    {\n        id: \"traditional\",\n        label: \"\\uD83C\\uDFAD Traditional\",\n        description: \"Classic and timeless\"\n    }\n];\n// Curated artistic styles for beautiful cards\nconst artisticStyles = [\n    {\n        id: \"ai-smart-style\",\n        label: \"✨ Smart Style\",\n        description: \"Let our experts choose the perfect style for your card\",\n        promptModifier: \"\" // Will be dynamically generated\n    },\n    {\n        id: \"custom\",\n        label: \"✨ Custom Style\",\n        description: \"Define your own unique artistic style\",\n        promptModifier: \"\" // Will be replaced with user input\n    },\n    {\n        id: \"watercolor\",\n        label: \"\\uD83C\\uDFA8 Watercolor\",\n        description: \"Soft, flowing paint effects (our personal favorite)\",\n        promptModifier: \"in watercolor painting style, with soft flowing colors, artistic brush strokes, paper texture, and organic paint bleeds\"\n    },\n    {\n        id: \"minimalist\",\n        label: \"✨ Minimalist\",\n        description: \"Clean, simple, elegant design\",\n        promptModifier: \"in minimalist style with clean lines, simple shapes, plenty of white space, sophisticated typography, and elegant simplicity\"\n    },\n    {\n        id: \"dreamy-fantasy\",\n        label: \"\\uD83C\\uDF38 Dreamy Fantasy\",\n        description: \"Enchanting anime-inspired art\",\n        promptModifier: \"in dreamy fantasy anime style, with soft pastels, magical atmosphere, detailed nature elements, whimsical characters, and enchanting fairy-tale qualities\"\n    },\n    {\n        id: \"art-deco\",\n        label: \"✨ Art Deco\",\n        description: \"Elegant 1920s geometric luxury\",\n        promptModifier: \"in vintage Art Deco style with geometric patterns, gold accents, elegant typography, luxurious details, and 1920s glamour\"\n    },\n    {\n        id: \"pop-art\",\n        label: \"\\uD83C\\uDFAD Pop Art\",\n        description: \"Bold, colorful comic book style\",\n        promptModifier: \"in pop art style like Andy Warhol and Roy Lichtenstein, with bold colors, comic book elements, halftone dots, and graphic design aesthetics\"\n    },\n    {\n        id: \"impressionist\",\n        label: \"\\uD83D\\uDDBC️ Impressionist\",\n        description: \"Soft brushstrokes like Monet\",\n        promptModifier: \"in impressionist painting style like Monet and Renoir, with soft brush strokes, light and shadow play, and dreamy atmospheric effects\"\n    },\n    {\n        id: \"retro-vintage\",\n        label: \"\\uD83D\\uDCFB Retro Vintage\",\n        description: \"Classic 1950s-60s nostalgia\",\n        promptModifier: \"in retro vintage style with 1950s-60s aesthetics, classic typography, warm nostalgic colors, and mid-century design elements\"\n    }\n];\n// Paper size options\nconst paperSizes = [\n    {\n        id: \"standard\",\n        label: \"5\\xd77 Card (Standard)\",\n        description: \"Standard 5\\xd77 greeting card (10\\xd77 print layout)\",\n        aspectRatio: \"9:16\",\n        dimensions: \"1024x1536\",\n        printWidth: \"10in\",\n        printHeight: \"7in\"\n    },\n    {\n        id: \"compact\",\n        label: \"4\\xd76 Card (Compact)\",\n        description: \"Compact 4\\xd76 greeting card (8\\xd76 print layout)\",\n        aspectRatio: \"2:3\",\n        dimensions: \"768x1152\",\n        printWidth: \"8in\",\n        printHeight: \"6in\"\n    },\n    {\n        id: \"a6\",\n        label: \"A6 Card (4\\xd76)\",\n        description: \"A6 paper size (8.3\\xd75.8 print layout)\",\n        aspectRatio: \"2:3\",\n        dimensions: \"768x1152\",\n        printWidth: \"8.3in\",\n        printHeight: \"5.8in\"\n    }\n];\n// Image model options\nconst imageModels = [\n    {\n        id: \"gpt-image-1\",\n        label: \"GPT Image 1\",\n        description: \"Highest quality variant : Recommended\"\n    },\n    {\n        id: \"flux-1.1-pro\",\n        label: \"FLUX 1.1 Pro\",\n        description: \"Fastest & highest quality : $0.04 per image, 3-10 seconds\"\n    },\n    {\n        id: \"seedream-3\",\n        label: \"SeeDream 3\",\n        description: \"2K photorealistic quality : $0.03 per image, 5-15 seconds\"\n    },\n    {\n        id: \"ideogram-v3-turbo\",\n        label: \"Ideogram V3 Turbo\",\n        description: \"Excellent text rendering : Magic prompt enhancement, fast generation\"\n    },\n    {\n        id: \"ideogram-v3-quality\",\n        label: \"Ideogram V3 Quality\",\n        description: \"Highest quality text rendering : Slower but better results\"\n    },\n    {\n        id: \"imagen-4.0-ultra-generate-preview-06-06\",\n        label: \"Imagen 4.0 Ultra\",\n        description: \"Experimental, not recommended for text-heavy cards.\"\n    }\n];\n// Email Helper Function\nasync function sendThankYouEmail(toEmail, cardType, cardUrl) {\n    if (!toEmail.trim()) return;\n    try {\n        // Create HTML email body\n        const htmlBody = '\\n      <div style=\"font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto; padding: 20px; color: #333;\">\\n        <div style=\"text-align: center; margin-bottom: 30px;\">\\n          <h1 style=\"color: #2563eb; margin-bottom: 10px;\">\\uD83C\\uDF89 Your Card is Ready!</h1>\\n        </div>\\n        \\n        <p style=\"font-size: 16px; line-height: 1.6; margin-bottom: 20px;\">Hi there!</p>\\n        \\n        <p style=\"font-size: 16px; line-height: 1.6; margin-bottom: 20px;\">\\n          Thank you for using VibeCarding to create your beautiful <strong>'.concat(cardType, '</strong> card!\\n        </p>\\n        \\n        <p style=\"font-size: 16px; line-height: 1.6; margin-bottom: 20px;\">\\n          We hope you love how it turned out. Your card has been generated and is ready for printing or sharing.\\n        </p>\\n        \\n        <div style=\"text-align: center; margin: 30px 0;\">\\n          <a href=\"').concat(cardUrl, '\" style=\"background-color: #2563eb; color: white; padding: 12px 24px; text-decoration: none; border-radius: 6px; font-weight: bold; display: inline-block;\">\\n            View Your Card\\n          </a>\\n        </div>\\n        \\n        <p style=\"font-size: 16px; line-height: 1.6; margin-bottom: 20px;\">\\n          If you have any questions or feedback, feel free to reach out to us.\\n        </p>\\n        \\n        <p style=\"font-size: 16px; line-height: 1.6; margin-bottom: 20px;\">\\n          Happy card making!\\n        </p>\\n        \\n        <div style=\"margin-top: 40px; padding-top: 20px; border-top: 1px solid #e5e7eb; color: #6b7280;\">\\n          <p style=\"margin-bottom: 5px;\"><strong>Best regards,</strong></p>\\n          <p style=\"margin-bottom: 5px;\">The VibeCarding Team</p>\\n          <p style=\"margin: 0;\">\\n            <a href=\"mailto:vibecarding@ast.engineer\" style=\"color: #2563eb; text-decoration: none;\">vibecarding@ast.engineer</a>\\n          </p>\\n        </div>\\n      </div>\\n    ');\n        // Plain text fallback\n        const textBody = \"Hi there!\\n\\nThank you for using VibeCarding to create your beautiful \".concat(cardType, \" card!\\n\\nWe hope you love how it turned out. Your card has been generated and is ready for printing or sharing.\\n\\nView your card: \").concat(cardUrl, \"\\n\\nIf you have any questions or feedback, feel free to reach out to us.\\n\\nHappy card making!\\n\\nBest regards,\\nThe VibeCarding Team\\nvibecarding@ast.engineer\");\n        // Send to user\n        const userResponse = await fetch(\"\".concat(BACKEND_API_BASE_URL, \"/send_email_nodejs_style\"), {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json; charset=utf-8\"\n            },\n            body: JSON.stringify({\n                to: toEmail,\n                from: \"vibecarding@ast.engineer\",\n                subject: \"Your \".concat(cardType, \" card is ready!\"),\n                body: htmlBody,\n                text: textBody,\n                html: htmlBody\n            })\n        });\n        // Send copy to jordan@ast.engineer\n        const adminResponse = await fetch(\"\".concat(BACKEND_API_BASE_URL, \"/send_email_nodejs_style\"), {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify({\n                to: \"jordan@ast.engineer\",\n                from: \"vibecarding@ast.engineer\",\n                subject: \"Card Created - \".concat(cardType, \" for \").concat(toEmail),\n                body: '<div style=\"font-family: Arial, sans-serif; padding: 20px;\">\\n          <h3 style=\"color: #2563eb;\">New Card Created on VibeCarding</h3>\\n          <p><strong>User:</strong> '.concat(toEmail, \"</p>\\n          <p><strong>Card Type:</strong> \").concat(cardType, '</p>\\n          <p><strong>Card URL:</strong> <a href=\"').concat(cardUrl, '\">').concat(cardUrl, '</a></p>\\n          <p style=\"margin-top: 20px; color: #6b7280; font-size: 14px;\">\\n            This is an automated notification of card creation activity.\\n          </p>\\n        </div>'),\n                text: \"New card created on VibeCarding:\\n\\nUser: \".concat(toEmail, \"\\nCard Type: \").concat(cardType, \"\\nCard URL: \").concat(cardUrl, \"\\n\\nThis is an automated notification of card creation activity.\")\n            })\n        });\n        if (userResponse.ok) {\n            sonner__WEBPACK_IMPORTED_MODULE_13__.toast.success(\"✉️ Thank you email sent!\");\n        }\n    } catch (error) {\n        console.error(\"Failed to send thank you email:\", error);\n    // Don't show error toast - this is a nice-to-have feature\n    }\n}\n// Chat Helper Function\nasync function chatWithAI(userMessage) {\n    let options = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};\n    const { systemPrompt = null, model = \"gemini-2.5-pro\", includeThoughts = false, jsonSchema = null } = options;\n    try {\n        const response = await fetch(\"/internal/call_mcp_tool\", {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify({\n                tool_name: \"ai_chat\",\n                arguments: {\n                    messages: userMessage,\n                    system_prompt: systemPrompt,\n                    model: model,\n                    include_thoughts: includeThoughts,\n                    json_schema: jsonSchema\n                }\n            })\n        });\n        if (!response.ok) throw new Error(\"HTTP \".concat(response.status));\n        const data = await response.json();\n        if (data.error && data.error !== \"None\" && data.error !== null) {\n            throw new Error(data.error);\n        }\n        let result;\n        if (typeof data.result === \"string\") {\n            try {\n                result = JSON.parse(data.result);\n            } catch (e) {\n                result = {\n                    status: \"error\",\n                    message: \"Invalid JSON response\"\n                };\n            }\n        } else {\n            result = data.result;\n        }\n        if (result.status === \"error\") {\n            throw new Error(result.message);\n        }\n        return result.response;\n    } catch (error) {\n        console.error(\"AI chat failed:\", error);\n        throw error;\n    }\n}\nfunction CardStudioPage() {\n    var _imageModels_find;\n    _s();\n    var _s1 = $RefreshSig$();\n    // Core state\n    const [prompt, setPrompt] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [finalCardMessage, setFinalCardMessage] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [toField, setToField] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [fromField, setFromField] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [selectedType, setSelectedType] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"birthday\");\n    const [customCardType, setCustomCardType] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [selectedTone, setSelectedTone] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"funny\");\n    const [isGenerating, setIsGenerating] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [generatedCard, setGeneratedCard] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    // Multiple cards state\n    const [numberOfCards, setNumberOfCards] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(1);\n    const [generatedCards, setGeneratedCards] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [selectedCardIndex, setSelectedCardIndex] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    // Writing assistant state\n    const [isGeneratingMessage, setIsGeneratingMessage] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // Advanced options state\n    const [showAdvanced, setShowAdvanced] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [selectedArtisticStyle, setSelectedArtisticStyle] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"ai-smart-style\");\n    const [customStyleDescription, setCustomStyleDescription] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [selectedImageModel, setSelectedImageModel] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"gpt-image-1\");\n    // Draft mode specific model selection\n    const [selectedDraftModel, setSelectedDraftModel] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"gpt-image-1\");\n    // Progress tracking state\n    const [generationProgress, setGenerationProgress] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [countdown, setCountdown] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const [countdownInterval, setCountdownInterval] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [isCardCompleted, setIsCardCompleted] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // Job tracking state\n    const [currentJobId, setCurrentJobId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    // Fast preview mode state\n    const [fastPreviewMode, setFastPreviewMode] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    // Draft mode state - generate 4 low-quality cards for selection\n    const [isDraftMode, setIsDraftMode] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [draftCards, setDraftCards] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [selectedDraftIndex, setSelectedDraftIndex] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(-1);\n    const [isGeneratingFinalCard, setIsGeneratingFinalCard] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [previewingDraftIndex, setPreviewingDraftIndex] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(-1);\n    // Helper function to format countdown as MM:SS\n    const formatCountdown = (seconds)=>{\n        const minutes = Math.floor(seconds / 60);\n        const remainingSeconds = seconds % 60;\n        return \"\".concat(minutes, \":\").concat(remainingSeconds.toString().padStart(2, \"0\"));\n    };\n    // Job management functions\n    const saveJobToStorage = (jobId, jobData)=>{\n        try {\n            localStorage.setItem(\"cardJob_\".concat(jobId), JSON.stringify({\n                ...jobData,\n                id: jobId,\n                status: \"processing\",\n                createdAt: Date.now()\n            }));\n            // Also add to pending jobs list\n            const pendingJobs = JSON.parse(localStorage.getItem(\"pendingCardJobs\") || \"[]\");\n            if (!pendingJobs.includes(jobId)) {\n                pendingJobs.push(jobId);\n                localStorage.setItem(\"pendingCardJobs\", JSON.stringify(pendingJobs));\n            }\n        } catch (error) {\n            console.error(\"Failed to save job to localStorage:\", error);\n        }\n    };\n    const removeJobFromStorage = (jobId)=>{\n        try {\n            localStorage.removeItem(\"cardJob_\".concat(jobId));\n            // Remove from pending jobs list\n            const pendingJobs = JSON.parse(localStorage.getItem(\"pendingCardJobs\") || \"[]\");\n            const updatedJobs = pendingJobs.filter((id)=>id !== jobId);\n            localStorage.setItem(\"pendingCardJobs\", JSON.stringify(updatedJobs));\n        } catch (error) {\n            console.error(\"Failed to remove job from localStorage:\", error);\n        }\n    };\n    const checkJobStatus = async (jobId)=>{\n        try {\n            const response = await fetch(\"/api/job-status/\".concat(jobId));\n            if (!response.ok) {\n                throw new Error(\"HTTP \".concat(response.status));\n            }\n            return await response.json();\n        } catch (error) {\n            console.error(\"Failed to check job status:\", error);\n            return null;\n        }\n    };\n    // Recovery function - check for pending jobs on page load\n    const checkPendingJobs = async ()=>{\n        try {\n            const pendingJobs = JSON.parse(localStorage.getItem(\"pendingCardJobs\") || \"[]\");\n            for (const jobId of pendingJobs){\n                const jobData = localStorage.getItem(\"cardJob_\".concat(jobId));\n                if (!jobData) continue;\n                const job = JSON.parse(jobData);\n                const statusResponse = await checkJobStatus(jobId);\n                if (statusResponse && statusResponse.status === \"completed\") {\n                    console.log(\"\\uD83C\\uDF89 Job completed while user was away! Card data:\", statusResponse.cardData);\n                    // Job completed while user was away!\n                    if (statusResponse.cardData) {\n                        // Apply QR code to back cover before setting the card data\n                        let cardWithQR = {\n                            ...statusResponse.cardData\n                        };\n                        // Ensure the card has a valid createdAt date\n                        if (!cardWithQR.createdAt) {\n                            cardWithQR.createdAt = new Date();\n                        } else if (typeof cardWithQR.createdAt === \"string\" || typeof cardWithQR.createdAt === \"number\") {\n                            cardWithQR.createdAt = new Date(cardWithQR.createdAt);\n                        }\n                        // Ensure the card has a valid ID\n                        if (!cardWithQR.id) {\n                            cardWithQR.id = \"card-\".concat(Date.now(), \"-\").concat(Math.random().toString(36).substr(2, 9));\n                        }\n                        console.log(\"\\uD83D\\uDD04 Card data prepared for recovery:\", cardWithQR);\n                        try {\n                            console.log(\"\\uD83D\\uDD04 Starting QR overlay process for recovered card\");\n                            // Store card data first to get a shareable URL\n                            if (cardWithQR.frontCover) {\n                                try {\n                                    const cardStoreResponse = await fetch(\"/api/cards/store\", {\n                                        method: \"POST\",\n                                        headers: {\n                                            \"Content-Type\": \"application/json\"\n                                        },\n                                        body: JSON.stringify({\n                                            prompt: cardWithQR.prompt || \"\",\n                                            frontCover: cardWithQR.frontCover || \"\",\n                                            backCover: cardWithQR.backCover || \"\",\n                                            leftPage: cardWithQR.leftPage || \"\",\n                                            rightPage: cardWithQR.rightPage || \"\",\n                                            generatedPrompts: cardWithQR.generatedPrompts || null\n                                        })\n                                    });\n                                    if (cardStoreResponse.ok) {\n                                        const cardStoreData = await cardStoreResponse.json();\n                                        const actualShareUrl = cardStoreData.share_url;\n                                        console.log(\"Using actual share URL for QR code (recovered):\", actualShareUrl);\n                                        // Apply QR code to back cover using the API-returned URL\n                                        if (cardWithQR.backCover && actualShareUrl) {\n                                            console.log(\"\\uD83D\\uDD04 Applying QR overlay to recovered card...\");\n                                            const originalBackCover = cardWithQR.backCover;\n                                            cardWithQR.backCover = await overlayQRCodeOnImage(originalBackCover, actualShareUrl);\n                                            cardWithQR.shareUrl = actualShareUrl;\n                                            console.log(\"✅ QR overlay complete for recovered card\");\n                                        }\n                                    } else {\n                                        console.warn(\"Failed to store recovered card for sharing, continuing without QR code\");\n                                    }\n                                } catch (error) {\n                                    console.error(\"❌ Failed to store card or overlay QR code (recovered):\", error);\n                                // Continue without QR code if there's an error\n                                }\n                            } else {\n                                console.warn(\"No front cover found in recovered card, skipping QR code process\");\n                            }\n                        } catch (error) {\n                            console.error(\"❌ Error in QR code process (recovered):\", error);\n                        // Continue without QR code if there's an error\n                        }\n                        console.log(\"\\uD83C\\uDFAF Setting recovered card state:\", cardWithQR);\n                        // Set the card states - this is critical!\n                        setGeneratedCard(cardWithQR);\n                        setGeneratedCards([\n                            cardWithQR\n                        ]);\n                        setSelectedCardIndex(0);\n                        setIsCardCompleted(true);\n                        setIsGenerating(false);\n                        setGenerationProgress(\"\");\n                        // Set all sections as completed\n                        setSectionLoadingStates({\n                            frontCover: \"completed\",\n                            backCover: \"completed\",\n                            leftInterior: \"completed\",\n                            rightInterior: \"completed\"\n                        });\n                        // Capture generation time from backend\n                        if (statusResponse.cardData.generationTimeSeconds) {\n                            setGenerationDuration(statusResponse.cardData.generationTimeSeconds);\n                        }\n                        // Stop elapsed time tracking\n                        stopElapsedTimeTracking();\n                        // Set progress to 100%\n                        setProgressPercentage(100);\n                        // Force a state update by updating localStorage (without base64 QR code to avoid quota issues)\n                        try {\n                            // Create a lightweight version without base64 QR code for localStorage\n                            const cardForStorage = {\n                                ...cardWithQR\n                            };\n                            if (cardForStorage.backCover && cardForStorage.backCover.startsWith(\"data:image/png;base64,\")) {\n                                // Replace the base64 QR code with the original back cover URL to save space\n                                cardForStorage.backCover = statusResponse.cardData.backCover;\n                                console.log(\"\\uD83D\\uDCBE Replaced base64 QR code with original URL for localStorage storage (recovery)\");\n                            }\n                            const cardsData = {\n                                cards: [\n                                    cardForStorage\n                                ],\n                                selectedIndex: 0,\n                                generationDuration: statusResponse.cardData.generationTimeSeconds || null\n                            };\n                            localStorage.setItem(\"vibecarding-generated-cards\", JSON.stringify(cardsData));\n                            console.log(\"\\uD83D\\uDCBE Recovered card saved to localStorage\");\n                        } catch (storageError) {\n                            console.error(\"Failed to save recovered card to localStorage:\", storageError);\n                        }\n                        sonner__WEBPACK_IMPORTED_MODULE_13__.toast.success(\"\\uD83C\\uDF89 Your card with QR code finished generating while you were away!\");\n                        // Send thank you email using job data\n                        if (job.userEmail && job.userEmail.trim()) {\n                            const cardTypeForEmail = job.selectedType === \"custom\" ? job.customCardType : job.selectedType;\n                            sendThankYouEmail(job.userEmail, cardTypeForEmail, cardWithQR.shareUrl || \"https://vibecarding.com\");\n                        }\n                        console.log(\"✅ Card recovery process finished successfully\");\n                    } else {\n                        console.error(\"❌ No card data in completed recovery response\");\n                        sonner__WEBPACK_IMPORTED_MODULE_13__.toast.error(\"❌ Card generation completed but no data received. Please try again.\");\n                    }\n                    removeJobFromStorage(jobId);\n                } else if (statusResponse && statusResponse.status === \"failed\") {\n                    // Job failed\n                    sonner__WEBPACK_IMPORTED_MODULE_13__.toast.error(\"❌ A card generation job failed. Please try again.\");\n                    removeJobFromStorage(jobId);\n                } else if (statusResponse && statusResponse.status === \"processing\") {\n                    // Still processing - restore loading states and start polling\n                    setIsGenerating(true);\n                    setCurrentJobId(jobId);\n                    setGenerationProgress(\"Resuming card generation...\");\n                    // Start elapsed time tracking from when job was originally created\n                    const jobStartTime = job.createdAt ? new Date(job.createdAt).getTime() : Date.now();\n                    startElapsedTimeTracking(jobStartTime);\n                    // Restore section loading states based on job data\n                    if (job.prompts) {\n                        const loadingStates = {\n                            frontCover: \"loading\",\n                            backCover: \"loading\",\n                            leftInterior: job.isFrontBackOnly ? \"idle\" : \"loading\",\n                            rightInterior: job.isFrontBackOnly ? \"idle\" : \"loading\"\n                        };\n                        setSectionLoadingStates(loadingStates);\n                    }\n                    // Initialize progress - will be updated by timer\n                    setGenerationProgress(\"Resuming card generation...\");\n                    setProgressPercentage(0); // Will be calculated by timer based on elapsed time\n                    sonner__WEBPACK_IMPORTED_MODULE_13__.toast.info(\"\\uD83D\\uDD04 Resuming card generation where you left off...\");\n                    pollJobStatus(jobId);\n                }\n            // If still processing, leave it in storage\n            }\n        } catch (error) {\n            console.error(\"Failed to check pending jobs:\", error);\n        }\n    };\n    // Poll job status with exponential backoff\n    const pollJobStatus = async function(jobId) {\n        let attempt = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 1;\n        try {\n            const statusResponse = await checkJobStatus(jobId);\n            // Check if this is a draft job\n            const isDraftJob = jobId.startsWith(\"draft-\");\n            const draftIndex = isDraftJob ? parseInt(jobId.split(\"-\")[1]) : -1;\n            if (statusResponse && statusResponse.status === \"completed\") {\n                console.log(\"\\uD83C\\uDF89 Job completed! Card data:\", statusResponse.cardData, \"isDraftJob:\", isDraftJob);\n                if (statusResponse.cardData) {\n                    if (isDraftJob && draftIndex >= 0) {\n                        // Handle draft card completion - no QR code needed for drafts\n                        console.log(\"\\uD83C\\uDFA8 Draft variation \".concat(draftIndex + 1, \" completed!\"));\n                        const draftCard = {\n                            id: \"draft-\".concat(draftIndex + 1, \"-\").concat(Date.now()),\n                            prompt: statusResponse.cardData.prompt || \"Draft Variation \".concat(draftIndex + 1),\n                            frontCover: statusResponse.cardData.frontCover || \"\",\n                            backCover: statusResponse.cardData.backCover || \"\",\n                            leftPage: statusResponse.cardData.leftPage || \"\",\n                            rightPage: statusResponse.cardData.rightPage || \"\",\n                            createdAt: new Date(),\n                            generatedPrompts: statusResponse.cardData.generatedPrompts\n                        };\n                        // Update only the draft cards state\n                        setDraftCards((prev)=>{\n                            const updated = [\n                                ...prev\n                            ];\n                            updated[draftIndex] = draftCard;\n                            // Check if all 10 variations are complete\n                            const completedCount = updated.filter((c)=>c).length;\n                            console.log(\"\\uD83D\\uDCCA Draft progress: \".concat(completedCount, \"/10 variations complete\"));\n                            if (completedCount === 10) {\n                                setIsGenerating(false);\n                                setGenerationProgress(\"\");\n                                setProgressPercentage(100);\n                                stopElapsedTimeTracking();\n                                sonner__WEBPACK_IMPORTED_MODULE_13__.toast.success(\"\\uD83C\\uDFA8 All 10 design variations ready! Choose your favorite below.\");\n                            } else {\n                                setGenerationProgress(\"✨ \".concat(completedCount, \"/10 variations complete...\"));\n                                setProgressPercentage(completedCount / 10 * 100);\n                            }\n                            return updated;\n                        });\n                        removeJobFromStorage(jobId);\n                    } else {\n                        // Handle final card completion - apply QR code and full processing\n                        let cardWithQR = {\n                            ...statusResponse.cardData\n                        };\n                        // Ensure the card has a valid createdAt date\n                        if (!cardWithQR.createdAt) {\n                            cardWithQR.createdAt = new Date();\n                        } else if (typeof cardWithQR.createdAt === \"string\" || typeof cardWithQR.createdAt === \"number\") {\n                            cardWithQR.createdAt = new Date(cardWithQR.createdAt);\n                        }\n                        // Ensure the card has a valid ID\n                        if (!cardWithQR.id) {\n                            cardWithQR.id = \"card-\".concat(Date.now(), \"-\").concat(Math.random().toString(36).substr(2, 9));\n                        }\n                        console.log(\"\\uD83D\\uDD04 Final card data prepared:\", cardWithQR);\n                        try {\n                            setGenerationProgress(\"✨ Adding interactive QR code to your card...\");\n                            console.log(\"\\uD83D\\uDD04 Starting QR overlay process for final card\");\n                            // Store card data first to get a shareable URL\n                            if (cardWithQR.frontCover) {\n                                try {\n                                    const cardStoreResponse = await fetch(\"/api/cards/store\", {\n                                        method: \"POST\",\n                                        headers: {\n                                            \"Content-Type\": \"application/json\"\n                                        },\n                                        body: JSON.stringify({\n                                            prompt: cardWithQR.prompt || \"\",\n                                            frontCover: cardWithQR.frontCover || \"\",\n                                            backCover: cardWithQR.backCover || \"\",\n                                            leftPage: cardWithQR.leftPage || \"\",\n                                            rightPage: cardWithQR.rightPage || \"\",\n                                            generatedPrompts: cardWithQR.generatedPrompts || null\n                                        })\n                                    });\n                                    if (cardStoreResponse.ok) {\n                                        const cardStoreData = await cardStoreResponse.json();\n                                        const actualShareUrl = cardStoreData.share_url;\n                                        console.log(\"Using actual share URL for QR code:\", actualShareUrl);\n                                        // Apply QR code to back cover using the API-returned URL\n                                        if (cardWithQR.backCover && actualShareUrl) {\n                                            console.log(\"\\uD83D\\uDD04 Applying QR overlay to final card...\");\n                                            const originalBackCover = cardWithQR.backCover;\n                                            cardWithQR.backCover = await overlayQRCodeOnImage(originalBackCover, actualShareUrl);\n                                            cardWithQR.shareUrl = actualShareUrl;\n                                            console.log(\"✅ QR overlay complete for final card\");\n                                        }\n                                    } else {\n                                        console.warn(\"Failed to store card for sharing, continuing without QR code\");\n                                    }\n                                } catch (error) {\n                                    console.error(\"❌ Failed to store card or overlay QR code:\", error);\n                                // Continue without QR code if there's an error\n                                }\n                            } else {\n                                console.warn(\"No front cover found, skipping QR code process\");\n                            }\n                        } catch (error) {\n                            console.error(\"❌ Error in QR code process:\", error);\n                        // Continue without QR code if there's an error\n                        }\n                        console.log(\"\\uD83C\\uDFAF Setting final card state:\", cardWithQR);\n                        // Set the card states - this is critical!\n                        setGeneratedCard(cardWithQR);\n                        setGeneratedCards([\n                            cardWithQR\n                        ]);\n                        setSelectedCardIndex(0);\n                        setIsCardCompleted(true);\n                        setIsGenerating(false);\n                        setIsGeneratingFinalCard(false);\n                        setIsDraftMode(false);\n                        setGenerationProgress(\"\");\n                        // Set all sections as completed\n                        setSectionLoadingStates({\n                            frontCover: \"completed\",\n                            backCover: \"completed\",\n                            leftInterior: \"completed\",\n                            rightInterior: \"completed\"\n                        });\n                        // Capture generation time from backend\n                        console.log(\"\\uD83D\\uDD0D Checking for generationTimeSeconds:\", statusResponse.cardData.generationTimeSeconds);\n                        if (statusResponse.cardData.generationTimeSeconds) {\n                            console.log(\"⏱️ Setting generation duration:\", statusResponse.cardData.generationTimeSeconds, \"seconds\");\n                            setGenerationDuration(statusResponse.cardData.generationTimeSeconds);\n                        } else {\n                            console.log(\"⚠️ No generationTimeSeconds found in card data\");\n                        }\n                        // Stop elapsed time tracking\n                        stopElapsedTimeTracking();\n                        // Set progress to 100%\n                        setProgressPercentage(100);\n                        setGenerationProgress(\"Card generation complete!\");\n                        // Force a state update by updating localStorage (without base64 QR code to avoid quota issues)\n                        try {\n                            // Create a lightweight version without base64 QR code for localStorage\n                            const cardForStorage = {\n                                ...cardWithQR\n                            };\n                            if (cardForStorage.backCover && cardForStorage.backCover.startsWith(\"data:image/png;base64,\")) {\n                                // Replace the base64 QR code with the original back cover URL to save space\n                                cardForStorage.backCover = statusResponse.cardData.backCover;\n                                console.log(\"\\uD83D\\uDCBE Replaced base64 QR code with original URL for localStorage storage\");\n                            }\n                            const cardsData = {\n                                cards: [\n                                    cardForStorage\n                                ],\n                                selectedIndex: 0,\n                                generationDuration: statusResponse.cardData.generationTimeSeconds || null\n                            };\n                            localStorage.setItem(\"vibecarding-generated-cards\", JSON.stringify(cardsData));\n                            console.log(\"\\uD83D\\uDCBE Card saved to localStorage\");\n                        } catch (storageError) {\n                            console.error(\"Failed to save to localStorage:\", storageError);\n                        }\n                        sonner__WEBPACK_IMPORTED_MODULE_13__.toast.success(\"\\uD83C\\uDF89 Your card with QR code is ready!\");\n                        // Send thank you email\n                        if (userEmail.trim()) {\n                            const cardTypeForEmail = selectedType === \"custom\" ? customCardType : selectedType;\n                            sendThankYouEmail(userEmail, cardTypeForEmail, cardWithQR.shareUrl || \"https://vibecarding.com\");\n                        }\n                        console.log(\"✅ Final card completion process finished successfully\");\n                        removeJobFromStorage(jobId);\n                        setCurrentJobId(null);\n                    }\n                } else {\n                    console.error(\"❌ No card data in completed response\");\n                    sonner__WEBPACK_IMPORTED_MODULE_13__.toast.error(\"❌ Card generation completed but no data received. Please try again.\");\n                    removeJobFromStorage(jobId);\n                    if (!isDraftJob) {\n                        setCurrentJobId(null);\n                    }\n                }\n            } else if (statusResponse && statusResponse.status === \"failed\") {\n                console.error(\"❌ Job failed:\", statusResponse);\n                if (isDraftJob && draftIndex >= 0) {\n                    sonner__WEBPACK_IMPORTED_MODULE_13__.toast.error(\"Draft variation \".concat(draftIndex + 1, \" failed. Continuing with others...\"));\n                } else {\n                    sonner__WEBPACK_IMPORTED_MODULE_13__.toast.error(\"❌ Card generation failed. Please try again.\");\n                    setIsGenerating(false);\n                    setIsGeneratingFinalCard(false);\n                    stopElapsedTimeTracking();\n                    setGenerationProgress(\"\");\n                    setProgressPercentage(0);\n                    // Set all sections as error\n                    setSectionLoadingStates({\n                        frontCover: \"error\",\n                        backCover: \"error\",\n                        leftInterior: \"error\",\n                        rightInterior: \"error\"\n                    });\n                    setCurrentJobId(null);\n                }\n                removeJobFromStorage(jobId);\n            } else if (statusResponse && statusResponse.status === \"processing\") {\n                // Continue polling every 3 seconds - near real-time updates for better UX\n                console.log(\"\\uD83D\\uDD04 Job still processing (attempt \".concat(attempt, \"), polling again...\"));\n                setTimeout(()=>pollJobStatus(jobId, attempt + 1), 3000);\n            } else {\n                console.warn(\"⚠️ Unexpected status response:\", statusResponse);\n                // Continue polling in case it's a temporary issue\n                setTimeout(()=>pollJobStatus(jobId, attempt + 1), 5000);\n            }\n        } catch (error) {\n            console.error(\"Failed to poll job status:\", error);\n            // Retry after delay with exponential backoff\n            const delay = Math.min(10000, 3000 * Math.pow(1.5, Math.min(attempt - 1, 5)));\n            setTimeout(()=>pollJobStatus(jobId, attempt + 1), delay);\n        }\n    };\n    // Function to overlay QR code on back cover image\n    const overlayQRCodeOnImage = async (imageUrl, cardUrl, logoUrl)=>{\n        console.log(\"\\uD83D\\uDD27 Starting QR overlay for:\", cardUrl);\n        try {\n            // Get the most recent saved logo if no specific logo provided\n            let qrLogoUrl = logoUrl;\n            if (!qrLogoUrl) {\n                try {\n                    const logoResponse = await fetch(\"/api/logos\");\n                    if (logoResponse.ok) {\n                        const logoData = await logoResponse.json();\n                        if (logoData.status === \"success\" && logoData.logos.length > 0) {\n                            // Use the most recent logo\n                            qrLogoUrl = logoData.logos[0].url;\n                            console.log(\"\\uD83C\\uDFA8 Using saved logo for QR code:\", qrLogoUrl);\n                        }\n                    }\n                } catch (logoError) {\n                    console.log(\"No saved logos available, generating QR without logo\");\n                }\n            }\n            // Generate QR code as data URL with optional logo\n            console.log(\"\\uD83D\\uDCF1 Generating QR code...\");\n            let qrCodeDataUrl;\n            if (qrLogoUrl) {\n                try {\n                    // Generate QR with logo using the server endpoint\n                    const qrResponse = await fetch(\"/api/generate-qr-with-logo\", {\n                        method: \"POST\",\n                        headers: {\n                            \"Content-Type\": \"application/json\"\n                        },\n                        body: JSON.stringify({\n                            url: cardUrl,\n                            logo_url: qrLogoUrl,\n                            size: 160,\n                            seamless: true\n                        })\n                    });\n                    if (qrResponse.ok) {\n                        const qrData = await qrResponse.json();\n                        if (qrData.status === \"success\") {\n                            qrCodeDataUrl = qrData.qr_code;\n                            console.log(\"✅ QR code with logo generated successfully\");\n                        }\n                    }\n                } catch (logoQrError) {\n                    console.log(\"Failed to generate QR with logo, falling back to simple QR:\", logoQrError);\n                }\n            }\n            // Fallback to simple QR code if logo generation failed\n            if (!qrCodeDataUrl) {\n                qrCodeDataUrl = await qrcode__WEBPACK_IMPORTED_MODULE_15__.toDataURL(cardUrl, {\n                    width: 160,\n                    margin: 1,\n                    color: {\n                        dark: \"#000000\",\n                        light: \"#FFFFFF\"\n                    },\n                    errorCorrectionLevel: \"M\"\n                });\n                console.log(\"✅ Simple QR code generated successfully\");\n            }\n            // Create canvas to composite the images\n            const canvas = document.createElement(\"canvas\");\n            const ctx = canvas.getContext(\"2d\");\n            if (!ctx) throw new Error(\"Failed to get canvas context\");\n            // Load the back cover image\n            const backCoverImg = new Image();\n            // Try without crossOrigin first to avoid CORS issues\n            // backCoverImg.crossOrigin = 'anonymous';\n            return new Promise((resolve, reject)=>{\n                backCoverImg.onload = ()=>{\n                    console.log(\"\\uD83D\\uDDBC️ Back cover image loaded, size:\", backCoverImg.width, \"x\", backCoverImg.height);\n                    // Set canvas size to match the image\n                    canvas.width = backCoverImg.width;\n                    canvas.height = backCoverImg.height;\n                    // Draw the back cover image\n                    ctx.drawImage(backCoverImg, 0, 0);\n                    // Load and draw the QR code\n                    const qrImg = new Image();\n                    qrImg.onload = ()=>{\n                        console.log(\"\\uD83D\\uDCF1 QR code image loaded, overlaying...\");\n                        // Position QR code in bottom right corner with some padding\n                        const qrSize = 160; // Size of QR code\n                        const padding = 40; // Padding from edges\n                        const x = canvas.width - qrSize - padding;\n                        const y = canvas.height - qrSize - padding - 30; // Extra space for text\n                        console.log(\"\\uD83D\\uDCCD QR position:\", x, y, \"on canvas:\", canvas.width, \"x\", canvas.height);\n                        // Cut out a clean section for the QR code with rounded corners\n                        const cutoutPadding = 12;\n                        const cutoutX = x - cutoutPadding;\n                        const cutoutY = y - cutoutPadding;\n                        const cutoutWidth = qrSize + cutoutPadding * 2;\n                        const cutoutHeight = qrSize + cutoutPadding * 2 + 25; // Extra height for text\n                        // Create rounded rectangle cutout\n                        ctx.fillStyle = \"#FFFFFF\";\n                        ctx.beginPath();\n                        ctx.roundRect(cutoutX, cutoutY, cutoutWidth, cutoutHeight, 8);\n                        ctx.fill();\n                        // Add subtle border\n                        ctx.strokeStyle = \"rgba(0, 0, 0, 0.1)\";\n                        ctx.lineWidth = 1;\n                        ctx.stroke();\n                        // Draw the QR code\n                        ctx.drawImage(qrImg, x, y, qrSize, qrSize);\n                        // Add \"Scan me :)\" text\n                        ctx.fillStyle = \"#666666\";\n                        ctx.font = \"18px system-ui, -apple-system, sans-serif\";\n                        ctx.textAlign = \"center\";\n                        const textX = x + qrSize / 2;\n                        const textY = y + qrSize + 18;\n                        ctx.fillText(\"Scan me :)\", textX, textY);\n                        // Convert canvas to data URL and resolve\n                        const result = canvas.toDataURL(\"image/png\", 0.9);\n                        console.log(\"✅ QR overlay complete, result length:\", result.length);\n                        resolve(result);\n                    };\n                    qrImg.onerror = (error)=>{\n                        console.error(\"❌ Failed to load QR code image:\", error);\n                        reject(new Error(\"Failed to load QR code\"));\n                    };\n                    qrImg.src = qrCodeDataUrl;\n                };\n                backCoverImg.onerror = (error)=>{\n                    console.error(\"❌ Failed to load back cover image:\", error);\n                    reject(new Error(\"Failed to load back cover image\"));\n                };\n                backCoverImg.src = imageUrl;\n            });\n        } catch (error) {\n            console.error(\"❌ Error overlaying QR code:\", error);\n            // Return original image if QR overlay fails\n            return imageUrl;\n        }\n    };\n    // Upload state\n    const [handwritingSample, setHandwritingSample] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [handwritingSampleUrl, setHandwritingSampleUrl] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [referenceImages, setReferenceImages] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [referenceImageUrls, setReferenceImageUrls] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [imageTransformation, setImageTransformation] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [isUploading, setIsUploading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // Email state\n    const [userEmail, setUserEmail] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    // Card ID for URL generation (generated once per card creation)\n    const [currentCardId, setCurrentCardId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    // New options for handwritten messages and single-sided printing\n    const [isHandwrittenMessage, setIsHandwrittenMessage] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [isFrontBackOnly, setIsFrontBackOnly] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // Paper size options\n    const [selectedPaperSize, setSelectedPaperSize] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"standard\");\n    // Loading states for each card section\n    const [sectionLoadingStates, setSectionLoadingStates] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        frontCover: \"idle\",\n        backCover: \"idle\",\n        leftInterior: \"idle\",\n        rightInterior: \"idle\"\n    });\n    // Clean progress tracking\n    const [progressPercentage, setProgressPercentage] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    // Cleanup countdown interval on unmount\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        return ()=>{\n            if (countdownInterval) {\n                clearInterval(countdownInterval);\n            }\n        };\n    }, [\n        countdownInterval\n    ]);\n    // Track if initial load is complete\n    const [isInitialLoadComplete, setIsInitialLoadComplete] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // Textarea expand state\n    const [isTextareaExpanded, setIsTextareaExpanded] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [isMessageExpanded, setIsMessageExpanded] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // Message version control and refinement\n    const [messageHistory, setMessageHistory] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [currentMessageIndex, setCurrentMessageIndex] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(-1);\n    const [refinementPrompt, setRefinementPrompt] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [isRefiningMessage, setIsRefiningMessage] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [showRefinementBox, setShowRefinementBox] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // Settings menu state\n    const [showSettings, setShowSettings] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // Template selection state\n    const [showTemplateGallery, setShowTemplateGallery] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [templateSearchQuery, setTemplateSearchQuery] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [isSearchingTemplates, setIsSearchingTemplates] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [aiFilteredCards, setAiFilteredCards] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [searchMode, setSearchMode] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"text\");\n    const [textFilteredCards, setTextFilteredCards] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [showPrompts, setShowPrompts] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // Print options state\n    const [printOption, setPrintOption] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"physical\");\n    // Preload template cards for instant access\n    const { preloadAllCards, getCachedCards, totalCards } = (0,_hooks_useCardCache__WEBPACK_IMPORTED_MODULE_20__.useCardCache)();\n    // Print confirmation dialog state\n    const [showPrintConfirmation, setShowPrintConfirmation] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // Generation time tracking\n    const [generationDuration, setGenerationDuration] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [generationStartTime, setGenerationStartTime] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [currentElapsedTime, setCurrentElapsedTime] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const [elapsedTimeInterval, setElapsedTimeInterval] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    // Helper function to format generation time\n    const formatGenerationTime = (durationSeconds)=>{\n        const minutes = Math.floor(durationSeconds / 60);\n        const seconds = Math.floor(durationSeconds % 60);\n        if (minutes > 0) {\n            return \"\".concat(minutes, \"m \").concat(seconds, \"s\");\n        }\n        return \"\".concat(seconds, \"s\");\n    };\n    // Start elapsed time tracking\n    const startElapsedTimeTracking = (startTime)=>{\n        const start = startTime || Date.now();\n        setGenerationStartTime(start);\n        // Save start time to localStorage for persistence\n        localStorage.setItem(\"generation-start-time\", start.toString());\n        // Clear any existing interval\n        if (elapsedTimeInterval) {\n            clearInterval(elapsedTimeInterval);\n        }\n        // Start new interval to update elapsed time and progress every second\n        const interval = setInterval(()=>{\n            const elapsed = (Date.now() - start) / 1000; // Convert to seconds\n            setCurrentElapsedTime(elapsed);\n            // Smooth progress: estimate 150 seconds (2.5 minutes) total\n            const estimatedTotal = 150;\n            const percentage = Math.min(elapsed / estimatedTotal * 100, 95); // Cap at 95% until completion\n            setProgressPercentage(percentage);\n        }, 1000);\n        setElapsedTimeInterval(interval);\n    };\n    // Stop elapsed time tracking\n    const stopElapsedTimeTracking = ()=>{\n        if (elapsedTimeInterval) {\n            clearInterval(elapsedTimeInterval);\n            setElapsedTimeInterval(null);\n        }\n        localStorage.removeItem(\"generation-start-time\");\n    };\n    // Restore elapsed time tracking from localStorage\n    const restoreElapsedTimeTracking = ()=>{\n        const savedStartTime = localStorage.getItem(\"generation-start-time\");\n        if (savedStartTime && isGenerating) {\n            const startTime = parseInt(savedStartTime);\n            const elapsed = (Date.now() - startTime) / 1000;\n            setCurrentElapsedTime(elapsed);\n            startElapsedTimeTracking(startTime);\n        }\n    };\n    // localStorage persistence hooks\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        // Load saved state from localStorage on component mount\n        const loadSavedState = ()=>{\n            try {\n                const savedFormData = localStorage.getItem(\"vibecarding-form-data\");\n                console.log(\"\\uD83D\\uDD0D Loading saved form data:\", savedFormData);\n                if (savedFormData) {\n                    const formData = JSON.parse(savedFormData);\n                    console.log(\"\\uD83D\\uDCCB Parsed form data:\", formData);\n                    setPrompt(formData.prompt || \"\");\n                    setFinalCardMessage(formData.finalCardMessage || \"\");\n                    setToField(formData.toField || \"\");\n                    setFromField(formData.fromField || \"\");\n                    setSelectedType(formData.selectedType || \"birthday\");\n                    setCustomCardType(formData.customCardType || \"\");\n                    setSelectedTone(formData.selectedTone || \"funny\");\n                    setSelectedArtisticStyle(formData.selectedArtisticStyle || \"ai-smart-style\");\n                    setCustomStyleDescription(formData.customStyleDescription || \"\");\n                    setSelectedImageModel(formData.selectedImageModel || \"gpt-image-1\");\n                    setSelectedDraftModel(formData.selectedDraftModel || \"flux-1.1-pro\");\n                    setNumberOfCards(formData.numberOfCards || 1);\n                    setUserEmail(formData.userEmail || \"\");\n                    setReferenceImageUrls(formData.referenceImageUrls || []);\n                    setImageTransformation(formData.imageTransformation || \"\");\n                    setIsHandwrittenMessage(formData.isHandwrittenMessage || false);\n                    setIsFrontBackOnly(formData.isFrontBackOnly || false);\n                    setSelectedPaperSize(formData.selectedPaperSize || \"standard\");\n                    setShowAdvanced(formData.showAdvanced || false);\n                    setHandwritingSampleUrl(formData.handwritingSampleUrl || \"\");\n                    setIsTextareaExpanded(formData.isTextareaExpanded || false);\n                    setIsMessageExpanded(formData.isMessageExpanded || false);\n                    setMessageHistory(formData.messageHistory || []);\n                    setCurrentMessageIndex(formData.currentMessageIndex || -1);\n                    setShowRefinementBox(formData.showRefinementBox || false);\n                    setShowSettings(formData.showSettings || false);\n                    setShowPrintConfirmation(formData.showPrintConfirmation || false);\n                    setIsCardCompleted(formData.isCardCompleted || false);\n                    setGenerationDuration(formData.generationDuration || null);\n                    console.log(\"✅ Form data loaded successfully\");\n                } else {\n                    console.log(\"ℹ️ No saved form data found\");\n                }\n                const savedCards = localStorage.getItem(\"vibecarding-generated-cards\");\n                if (savedCards) {\n                    const cardsData = JSON.parse(savedCards);\n                    // Convert createdAt strings back to Date objects\n                    const cardsWithDates = (cardsData.cards || []).map((card)=>({\n                            ...card,\n                            createdAt: new Date(card.createdAt)\n                        }));\n                    setGeneratedCards(cardsWithDates);\n                    setSelectedCardIndex(cardsData.selectedIndex || 0);\n                    if (cardsWithDates.length > 0) {\n                        setGeneratedCard(cardsWithDates[cardsData.selectedIndex || 0]);\n                    }\n                    // Restore generation duration if available\n                    if (cardsData.generationDuration) {\n                        setGenerationDuration(cardsData.generationDuration);\n                        console.log(\"⏱️ Restored generation duration:\", cardsData.generationDuration, \"seconds\");\n                    }\n                }\n            } catch (error) {\n                console.error(\"Error loading saved state:\", error);\n            }\n        };\n        loadSavedState();\n        setIsInitialLoadComplete(true);\n        // Start preloading template cards immediately on page load\n        preloadAllCards();\n    }, [\n        preloadAllCards\n    ]);\n    // Cleanup elapsed time interval on unmount\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        return ()=>{\n            if (elapsedTimeInterval) {\n                clearInterval(elapsedTimeInterval);\n            }\n        };\n    }, [\n        elapsedTimeInterval\n    ]);\n    // Check for pending jobs and restore timer on page load\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        checkPendingJobs();\n        // Restore elapsed time tracking if generation is in progress\n        restoreElapsedTimeTracking();\n    }, []);\n    // Save form data to localStorage whenever form state changes\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        // Only save after initial load is complete to avoid overwriting loaded data\n        if (!isInitialLoadComplete) return;\n        const saveFormData = ()=>{\n            try {\n                const formData = {\n                    prompt,\n                    finalCardMessage,\n                    toField,\n                    fromField,\n                    selectedType,\n                    customCardType,\n                    selectedTone,\n                    selectedArtisticStyle,\n                    customStyleDescription,\n                    selectedImageModel,\n                    selectedDraftModel,\n                    numberOfCards,\n                    userEmail,\n                    referenceImageUrls,\n                    imageTransformation,\n                    isHandwrittenMessage,\n                    isFrontBackOnly,\n                    selectedPaperSize,\n                    showAdvanced,\n                    handwritingSampleUrl,\n                    isTextareaExpanded,\n                    isMessageExpanded,\n                    messageHistory,\n                    currentMessageIndex,\n                    showRefinementBox,\n                    showSettings,\n                    showPrintConfirmation,\n                    isCardCompleted,\n                    generationDuration\n                };\n                localStorage.setItem(\"vibecarding-form-data\", JSON.stringify(formData));\n                console.log(\"✅ Form data saved to localStorage:\", formData);\n            } catch (error) {\n                console.error(\"❌ Error saving form data:\", error);\n            }\n        };\n        saveFormData();\n    }, [\n        isInitialLoadComplete,\n        prompt,\n        finalCardMessage,\n        toField,\n        fromField,\n        selectedType,\n        customCardType,\n        selectedTone,\n        selectedArtisticStyle,\n        customStyleDescription,\n        selectedImageModel,\n        numberOfCards,\n        userEmail,\n        referenceImageUrls,\n        imageTransformation,\n        isHandwrittenMessage,\n        isFrontBackOnly,\n        selectedPaperSize,\n        showAdvanced,\n        handwritingSampleUrl,\n        isTextareaExpanded,\n        isMessageExpanded,\n        messageHistory,\n        currentMessageIndex,\n        showRefinementBox,\n        showSettings,\n        showPrintConfirmation,\n        isCardCompleted,\n        generationDuration\n    ]);\n    // Save generated cards to localStorage whenever they change\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const saveGeneratedCards = ()=>{\n            try {\n                // Create lightweight versions without base64 QR codes for localStorage\n                const cardsForStorage = generatedCards.map((card)=>{\n                    const cardCopy = {\n                        ...card\n                    };\n                    if (cardCopy.backCover && cardCopy.backCover.startsWith(\"data:image/png;base64,\")) {\n                        // Don't store the base64 QR code version - it's too large for localStorage\n                        // The QR code will be regenerated when needed\n                        console.log(\"\\uD83D\\uDCBE Skipping base64 QR code storage for card:\", cardCopy.id);\n                    // Keep the original back cover URL if we have it\n                    // Note: In practice, we'd need to store the original URL separately\n                    // For now, we'll just not save the base64 version\n                    }\n                    return cardCopy;\n                });\n                const cardsData = {\n                    cards: cardsForStorage,\n                    selectedIndex: selectedCardIndex,\n                    generationDuration: generationDuration\n                };\n                localStorage.setItem(\"vibecarding-generated-cards\", JSON.stringify(cardsData));\n            } catch (error) {\n                console.error(\"Error saving generated cards:\", error);\n            }\n        };\n        if (generatedCards.length > 0) {\n            saveGeneratedCards();\n        }\n    }, [\n        generatedCards,\n        selectedCardIndex,\n        generationDuration\n    ]);\n    // Track manual message changes for version control\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!isInitialLoadComplete) return;\n        const timeoutId = setTimeout(()=>{\n            if (finalCardMessage.trim() && messageHistory.length > 0 && finalCardMessage !== messageHistory[currentMessageIndex]) {\n                // User has manually edited the message, add to history\n                addMessageToHistory(finalCardMessage);\n            }\n        }, 2000); // Wait 2 seconds after user stops typing\n        return ()=>clearTimeout(timeoutId);\n    }, [\n        finalCardMessage,\n        isInitialLoadComplete\n    ]);\n    // Clear saved data function\n    const clearSavedData = ()=>{\n        try {\n            localStorage.removeItem(\"vibecarding-form-data\");\n            localStorage.removeItem(\"vibecarding-generated-cards\");\n            localStorage.removeItem(\"vibecarding-templates\");\n            localStorage.removeItem(\"vibecarding-templates-timestamp\");\n            sonner__WEBPACK_IMPORTED_MODULE_13__.toast.success(\"Saved data cleared!\");\n        } catch (error) {\n            console.error(\"Error clearing saved data:\", error);\n            sonner__WEBPACK_IMPORTED_MODULE_13__.toast.error(\"Failed to clear saved data\");\n        }\n    };\n    // Storage management function\n    const getStorageUsage = ()=>{\n        try {\n            let totalSize = 0;\n            for(let key in localStorage){\n                if (localStorage.hasOwnProperty(key) && key.startsWith(\"vibecarding-\")) {\n                    totalSize += localStorage[key].length;\n                }\n            }\n            return {\n                used: totalSize,\n                usedMB: (totalSize / (1024 * 1024)).toFixed(2),\n                percentage: Math.round(totalSize / (5 * 1024 * 1024) * 100) // Assume 5MB limit\n            };\n        } catch (error) {\n            return {\n                used: 0,\n                usedMB: \"0\",\n                percentage: 0\n            };\n        }\n    };\n    // Template customization state\n    const [showTemplateCustomization, setShowTemplateCustomization] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [selectedTemplate, setSelectedTemplate] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [templateCustomizations, setTemplateCustomizations] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        promptChanges: \"\",\n        messageChanges: \"\",\n        useReferenceImage: false,\n        referenceImageFile: null,\n        referenceImageUrls: [],\n        referenceImageTransformation: \"\"\n    });\n    const applyTemplate = (template)=>{\n        // Store the selected template and show customization dialog\n        setSelectedTemplate(template);\n        setShowTemplateCustomization(true);\n        setShowTemplateGallery(false);\n        // Initialize customization form with template data\n        setTemplateCustomizations({\n            promptChanges: \"\",\n            messageChanges: \"\",\n            useReferenceImage: false,\n            referenceImageFile: null,\n            referenceImageUrls: [],\n            referenceImageTransformation: \"\"\n        });\n    };\n    // Generate card directly with existing prompts (for template customization)\n    const generateCardWithExistingPrompts = async (prompts)=>{\n        if (!userEmail.trim()) {\n            sonner__WEBPACK_IMPORTED_MODULE_13__.toast.error(\"Please enter your email address\");\n            return;\n        }\n        // Clear all draft mode states to prevent UI conflicts\n        setIsDraftMode(false);\n        setDraftCards([]);\n        setSelectedDraftIndex(-1);\n        setIsGeneratingFinalCard(false);\n        setPreviewingDraftIndex(-1);\n        // Clear any existing card states\n        setGeneratedCards([]);\n        setGeneratedCard(null);\n        setSelectedCardIndex(0);\n        setCurrentCardId(null);\n        setIsCardCompleted(false);\n        setIsGenerating(true);\n        startElapsedTimeTracking();\n        setGenerationProgress(\"\\uD83C\\uDFA8 Creating your customized template card...\");\n        setProgressPercentage(0);\n        try {\n            // Create job tracking\n            const jobId = (0,uuid__WEBPACK_IMPORTED_MODULE_36__[\"default\"])();\n            setCurrentJobId(jobId);\n            const cardTypeForPrompt = selectedType === \"custom\" ? customCardType : selectedType;\n            const paperConfig = paperSizes.find((size)=>size.id === selectedPaperSize) || paperSizes[0];\n            // Handle message customization\n            let messageContent = templateCustomizations.messageChanges.trim() || finalCardMessage;\n            if (isHandwrittenMessage) {\n                messageContent = \"[Blank space for handwritten message]\";\n            }\n            // Update the right interior prompt with custom message if provided\n            if (messageContent && prompts.rightInterior && !isHandwrittenMessage) {\n                prompts.rightInterior = prompts.rightInterior.replace(/Include message text: \"[^\"]*\"/g, 'Include message text: \"'.concat(messageContent, '\"')).replace(/\"MESSAGE GOES HERE\"/g, '\"'.concat(messageContent, '\"')).replace(/MESSAGE GOES HERE/g, messageContent);\n            }\n            // Save job data\n            const jobData = {\n                prompt: (selectedTemplate === null || selectedTemplate === void 0 ? void 0 : selectedTemplate.prompt) || \"\",\n                selectedType,\n                customCardType,\n                selectedTone,\n                finalCardMessage: messageContent,\n                toField,\n                fromField,\n                userEmail,\n                selectedArtisticStyle,\n                customStyleDescription,\n                selectedImageModel,\n                isFrontBackOnly,\n                numberOfCards: 1,\n                selectedPaperSize,\n                prompts,\n                paperConfig,\n                isTemplateCustomization: true\n            };\n            saveJobToStorage(jobId, jobData);\n            setGenerationProgress(\"\\uD83D\\uDE80 Starting your personalized template card generation...\");\n            // Prepare input images for reference photo support\n            const inputImages = [];\n            // Include both template customization reference images and main reference images\n            if (selectedImageModel === \"gpt-image-1\") {\n                // Add template customization reference images\n                if (templateCustomizations.referenceImageUrls.length > 0) {\n                    inputImages.push(...templateCustomizations.referenceImageUrls);\n                    console.log(\"\\uD83D\\uDD0D DEBUG: Added template customization reference images:\", templateCustomizations.referenceImageUrls);\n                }\n                // Add main reference images from the form\n                if (referenceImageUrls.length > 0) {\n                    inputImages.push(...referenceImageUrls);\n                    console.log(\"\\uD83D\\uDD0D DEBUG: Added main form reference images:\", referenceImageUrls);\n                }\n                if (inputImages.length > 0) {\n                    console.log(\"\\uD83D\\uDD0D DEBUG: Total input images for template generation:\", inputImages.length);\n                    sonner__WEBPACK_IMPORTED_MODULE_13__.toast.success(\"\\uD83D\\uDCF8 \".concat(inputImages.length, \" reference photo\").concat(inputImages.length > 1 ? \"s\" : \"\", \" ready for template customization!\"));\n                }\n            }\n            // Enhance prompts with reference image instructions if available\n            const enhancedPrompts = {\n                ...prompts\n            };\n            if (inputImages.length > 0 && selectedImageModel === \"gpt-image-1\") {\n                var _templateCustomizations_referenceImageUrls;\n                const totalReferenceImages = (((_templateCustomizations_referenceImageUrls = templateCustomizations.referenceImageUrls) === null || _templateCustomizations_referenceImageUrls === void 0 ? void 0 : _templateCustomizations_referenceImageUrls.length) || 0) + ((referenceImageUrls === null || referenceImageUrls === void 0 ? void 0 : referenceImageUrls.length) || 0);\n                const characterInstructions = \"\\n\\nCRITICAL CHARACTER REFERENCE INSTRUCTIONS: I have provided \".concat(totalReferenceImages > 1 ? \"multiple reference photos\" : \"a reference photo\", \" as input image\").concat(totalReferenceImages > 1 ? \"s\" : \"\", \". You MUST create cartoon/illustrated characters that accurately represent the people in \").concat(totalReferenceImages > 1 ? \"these reference photos\" : \"this reference photo\", \" with high fidelity to their appearance.\\n\\nMANDATORY CHARACTER MATCHING REQUIREMENTS:\\n- REPRESENT ALL PEOPLE: If multiple reference photos are provided, create cartoon versions of ALL people shown, bringing them together in the same scene\\n- EXACT hair color, hair style, and hair length from each reference photo\\n- PRECISE facial features for each person: eye color, eye shape, nose shape, face structure, skin tone\\n- ACCURATE clothing: replicate the EXACT clothing items, colors, patterns, and styles worn by each person in their reference photo\\n- COMPLETE accessories: include ALL accessories visible on each person (glasses, jewelry, hats, watches, bags, etc.)\\n- CORRECT body proportions and posture as shown for each person in their reference\\n- FAITHFUL age representation and gender presentation for each individual\\n- AUTHENTIC facial expressions and poses from the reference images, lean towards making the people look happier unless the user specifically asks for a different expression\\n- GROUP COMPOSITION: If multiple people, arrange them naturally together in a pleasing composition that fits the card's theme\\n\\n\").concat(templateCustomizations.referenceImageTransformation || imageTransformation || \"Study every detail of the people in the reference image and recreate them as stylized cartoon characters while maintaining 100% accuracy to their distinctive visual features. The characters must be immediately recognizable as the same people from the reference photo. Pay special attention to clothing details, accessories, and unique personal style elements that make each person distinctive.\", \"\\n\\nThe cartoon style should be charming and artistic while preserving complete visual accuracy to the reference photo. Every person in the reference must be represented with their exact appearance, clothing, and accessories.\");\n                if (enhancedPrompts.frontCover) {\n                    enhancedPrompts.frontCover += characterInstructions;\n                }\n            }\n            const response = await fetch(\"/api/generate-card-async\", {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                    jobId,\n                    prompts: enhancedPrompts,\n                    config: {\n                        userNumber: \"+17145986105\",\n                        modelVersion: selectedImageModel,\n                        aspectRatio: paperConfig.aspectRatio,\n                        quality: \"high\",\n                        outputFormat: \"jpeg\",\n                        outputCompression: 100,\n                        moderation: \"low\",\n                        dimensions: paperConfig.dimensions,\n                        isFrontBackOnly,\n                        userEmail,\n                        cardType: cardTypeForPrompt,\n                        toField,\n                        fromField,\n                        isDraftMode: false,\n                        isTemplateCustomization: true,\n                        ...inputImages.length > 0 && {\n                            input_images: inputImages,\n                            input_images_mode: \"front_cover_only\" // All reference images should go to front cover for character creation\n                        }\n                    }\n                })\n            });\n            if (!response.ok) {\n                throw new Error(\"Server error: \".concat(response.status));\n            }\n            const result = await response.json();\n            if (result.status !== \"processing\") {\n                throw new Error(result.message || \"Failed to start card generation\");\n            }\n            setGenerationProgress(\"✨ Bringing your customized template to life...\");\n            sonner__WEBPACK_IMPORTED_MODULE_13__.toast.success(\"\\uD83C\\uDF89 Your personalized template card generation started!\");\n            pollJobStatus(jobId);\n        } catch (error) {\n            console.error(\"Template customization generation error:\", error);\n            sonner__WEBPACK_IMPORTED_MODULE_13__.toast.error(\"Failed to generate customized card. Please try again.\");\n            if (currentJobId) {\n                removeJobFromStorage(currentJobId);\n                setCurrentJobId(null);\n            }\n            setIsGenerating(false);\n            setGenerationProgress(\"\");\n            stopElapsedTimeTracking();\n        }\n    };\n    const handleApplyTemplateWithCustomizations = async ()=>{\n        if (!selectedTemplate) return;\n        // Show loading state if we have customizations to process\n        if (templateCustomizations.promptChanges.trim() && selectedTemplate.generatedPrompts) {\n            sonner__WEBPACK_IMPORTED_MODULE_13__.toast.info(\"\\uD83E\\uDD16 AI is applying your customizations to the template...\");\n        }\n        // Apply template data to form - start with original prompt\n        let finalPrompt = selectedTemplate.prompt || \"\";\n        // If we have customizations and generated prompts, modify them directly and generate immediately\n        if (templateCustomizations.promptChanges.trim() && selectedTemplate.generatedPrompts) {\n            try {\n                // Directly modify the generated prompts using AI\n                const modificationQuery = \"You are an expert at modifying detailed image generation prompts for greeting cards. You have existing prompts for each section of a card, and the user wants to make specific changes.\\n\\nUSER'S CUSTOMIZATION REQUEST: \\\"\".concat(templateCustomizations.promptChanges, \"\\\"\\n\\nTASK: Modify each of the provided prompts to incorporate the user's requested changes while preserving all the original technical specifications, safety guidelines, and artistic details.\\n\\nINSTRUCTIONS:\\n1. Only modify elements specifically mentioned in the user's customization request\\n2. Preserve ALL technical specifications (portrait format, text positioning, edge safety, etc.)\\n3. Maintain the same artistic style and quality level\\n4. Keep all safety guidelines and content policies\\n5. Preserve the greeting card context and purpose\\n6. If the customization affects multiple sections, apply it consistently\\n\\nORIGINAL PROMPTS TO MODIFY:\\n\\nFRONT COVER:\\n\").concat(selectedTemplate.generatedPrompts.frontCover, \"\\n\\nBACK COVER:\\n\").concat(selectedTemplate.generatedPrompts.backCover, \"\\n\\n\").concat(selectedTemplate.generatedPrompts.leftInterior ? \"LEFT INTERIOR:\\n\".concat(selectedTemplate.generatedPrompts.leftInterior, \"\\n\\n\") : \"\").concat(selectedTemplate.generatedPrompts.rightInterior ? \"RIGHT INTERIOR:\\n\".concat(selectedTemplate.generatedPrompts.rightInterior) : \"\", '\\n\\nReturn the modified prompts in JSON format:\\n{\\n  \"frontCover\": \"complete modified front cover prompt\",\\n  \"backCover\": \"complete modified back cover prompt\"').concat(selectedTemplate.generatedPrompts.leftInterior ? ',\\n  \"leftInterior\": \"complete modified left interior prompt\"' : \"\").concat(selectedTemplate.generatedPrompts.rightInterior ? ',\\n  \"rightInterior\": \"complete modified right interior prompt\"' : \"\", \"\\n}\");\n                const modifiedPrompts = await chatWithAI(modificationQuery, {\n                    model: \"gemini-2.5-pro\",\n                    includeThoughts: false,\n                    jsonSchema: {\n                        type: \"object\",\n                        properties: {\n                            frontCover: {\n                                type: \"string\"\n                            },\n                            backCover: {\n                                type: \"string\"\n                            },\n                            ...selectedTemplate.generatedPrompts.leftInterior ? {\n                                leftInterior: {\n                                    type: \"string\"\n                                }\n                            } : {},\n                            ...selectedTemplate.generatedPrompts.rightInterior ? {\n                                rightInterior: {\n                                    type: \"string\"\n                                }\n                            } : {}\n                        },\n                        required: [\n                            \"frontCover\",\n                            \"backCover\"\n                        ]\n                    }\n                });\n                if (modifiedPrompts && modifiedPrompts.frontCover) {\n                    // Generate card directly with modified prompts, bypassing the normal prompt-to-prompts flow\n                    sonner__WEBPACK_IMPORTED_MODULE_13__.toast.info(\"\\uD83E\\uDD16 AI has customized the template prompts! Generating your personalized card...\");\n                    // Set basic form data\n                    setPrompt(selectedTemplate.prompt || \"\");\n                    // Clear states and start generation directly with modified prompts\n                    setGeneratedCards([]);\n                    setGeneratedCard(null);\n                    setSelectedCardIndex(0);\n                    setCurrentCardId(null);\n                    // Clear draft mode states to prevent UI conflicts\n                    setIsDraftMode(false);\n                    setDraftCards([]);\n                    setSelectedDraftIndex(-1);\n                    setIsGeneratingFinalCard(false);\n                    setPreviewingDraftIndex(-1);\n                    // Clear progress states\n                    setGenerationProgress(\"\");\n                    setIsGenerating(false);\n                    setIsCardCompleted(false);\n                    // Close dialogs\n                    setShowTemplateCustomization(false);\n                    setSelectedTemplate(null);\n                    // Start generation with modified prompts\n                    setTimeout(()=>{\n                        generateCardWithExistingPrompts(modifiedPrompts);\n                    }, 1000);\n                    return; // Exit early since we're handling generation directly\n                }\n            } catch (error) {\n                console.error(\"Failed to modify template prompts directly:\", error);\n                sonner__WEBPACK_IMPORTED_MODULE_13__.toast.error(\"Failed to customize template prompts. Using fallback method.\");\n            }\n        }\n        // Fallback: modify the user prompt and use normal generation flow\n        if (templateCustomizations.promptChanges.trim()) {\n            finalPrompt = \"\".concat(finalPrompt, \"\\n\\nCUSTOMIZATION REQUEST: \").concat(templateCustomizations.promptChanges);\n        }\n        setPrompt(finalPrompt);\n        // Try to extract card type from prompt\n        const promptLower = (selectedTemplate.prompt || \"\").toLowerCase();\n        let detectedType = \"birthday\"; // default\n        cardTypes.forEach((type)=>{\n            if (type.id !== \"custom\" && promptLower.includes(type.id.toLowerCase())) {\n                detectedType = type.id;\n            }\n        });\n        setSelectedType(detectedType);\n        // Apply message customizations\n        if (templateCustomizations.messageChanges.trim()) {\n            setFinalCardMessage(templateCustomizations.messageChanges);\n        } else {\n            setFinalCardMessage(\"\"); // Let it auto-generate\n        }\n        // Handle reference image if provided\n        if (templateCustomizations.useReferenceImage && templateCustomizations.referenceImageFile) {\n            try {\n                // Upload the reference image\n                const formData = new FormData();\n                formData.append(\"file\", templateCustomizations.referenceImageFile);\n                const uploadResponse = await fetch(\"\".concat(BACKEND_API_BASE_URL, \"/upload\"), {\n                    method: \"POST\",\n                    body: formData\n                });\n                if (uploadResponse.ok) {\n                    const uploadResult = await uploadResponse.json();\n                    // Add to existing reference images instead of replacing them\n                    setReferenceImages((prev)=>[\n                            ...prev,\n                            templateCustomizations.referenceImageFile\n                        ]);\n                    setReferenceImageUrls((prev)=>[\n                            ...prev,\n                            uploadResult.url\n                        ]);\n                    setImageTransformation(templateCustomizations.referenceImageTransformation || \"Transform into the same artistic style as the template\");\n                    sonner__WEBPACK_IMPORTED_MODULE_13__.toast.success(\"Reference image uploaded successfully!\");\n                } else {\n                    sonner__WEBPACK_IMPORTED_MODULE_13__.toast.error(\"Failed to upload reference image\");\n                }\n            } catch (error) {\n                console.error(\"Reference image upload failed:\", error);\n                sonner__WEBPACK_IMPORTED_MODULE_13__.toast.error(\"Failed to upload reference image\");\n            }\n        }\n        // Clear current generated cards since we're starting fresh with a template\n        setGeneratedCards([]);\n        setGeneratedCard(null);\n        setSelectedCardIndex(0);\n        setCurrentCardId(null);\n        // Clear draft mode states to prevent UI conflicts\n        setIsDraftMode(false);\n        setDraftCards([]);\n        setSelectedDraftIndex(-1);\n        setIsGeneratingFinalCard(false);\n        setPreviewingDraftIndex(-1);\n        // Clear progress states\n        setGenerationProgress(\"\");\n        setIsGenerating(false);\n        setIsCardCompleted(false);\n        // Close customization dialog\n        setShowTemplateCustomization(false);\n        setSelectedTemplate(null);\n        const customizationSummary = [];\n        if (templateCustomizations.promptChanges.trim()) customizationSummary.push(\"prompt changes\");\n        if (templateCustomizations.messageChanges.trim()) customizationSummary.push(\"custom message\");\n        if (templateCustomizations.useReferenceImage) customizationSummary.push(\"reference image\");\n        const summaryText = customizationSummary.length > 0 ? \" with \".concat(customizationSummary.join(\", \")) : \"\";\n        sonner__WEBPACK_IMPORTED_MODULE_13__.toast.success(\"✨ Template customized\".concat(summaryText, \"! Generating your personalized card...\"));\n        // Automatically start card generation\n        setTimeout(()=>{\n            handleGenerateCardAsync();\n        }, 1000); // Small delay to let the user see the success message\n    };\n    // Create new card function - clears all data\n    const handleCreateNewCard = ()=>{\n        // Clear all form fields\n        setPrompt(\"\");\n        setFinalCardMessage(\"\");\n        setToField(\"\");\n        setFromField(\"\");\n        setSelectedType(\"birthday\");\n        setCustomCardType(\"\");\n        setSelectedTone(\"funny\");\n        setSelectedArtisticStyle(\"ai-smart-style\");\n        setCustomStyleDescription(\"\");\n        setSelectedImageModel(\"gpt-image-1\");\n        setNumberOfCards(1);\n        setUserEmail(\"\");\n        setReferenceImages([]);\n        setReferenceImageUrls([]);\n        setImageTransformation(\"\");\n        setHandwritingSample(null);\n        setHandwritingSampleUrl(null);\n        setIsHandwrittenMessage(false);\n        setIsFrontBackOnly(false);\n        setSelectedPaperSize(\"standard\");\n        // Clear generated cards\n        setGeneratedCards([]);\n        setGeneratedCard(null);\n        setSelectedCardIndex(0);\n        setCurrentCardId(null);\n        // Clear draft mode states\n        setIsDraftMode(false);\n        setDraftCards([]);\n        setSelectedDraftIndex(-1);\n        setIsGeneratingFinalCard(false);\n        setPreviewingDraftIndex(-1);\n        // Clear progress and states\n        setGenerationProgress(\"\");\n        setIsGenerating(false);\n        setIsGeneratingMessage(false);\n        setIsCardCompleted(false);\n        setCountdown(0);\n        if (countdownInterval) {\n            clearInterval(countdownInterval);\n            setCountdownInterval(null);\n        }\n        // Clear message history\n        setMessageHistory([]);\n        setCurrentMessageIndex(-1);\n        setRefinementPrompt(\"\");\n        setShowRefinementBox(false);\n        // Clear localStorage\n        try {\n            localStorage.removeItem(\"vibecarding-form-data\");\n            localStorage.removeItem(\"vibecarding-generated-cards\");\n        } catch (error) {\n            console.error(\"Error clearing localStorage:\", error);\n        }\n        sonner__WEBPACK_IMPORTED_MODULE_13__.toast.success(\"✨ Ready to create a new card!\");\n    };\n    // Regenerate with same prompt function\n    const handleRegenerateCard = ()=>{\n        // Keep all current settings but clear generated results\n        setGeneratedCards([]);\n        setGeneratedCard(null);\n        setSelectedCardIndex(0);\n        setCurrentCardId(null);\n        // Clear draft mode states\n        setIsDraftMode(false);\n        setDraftCards([]);\n        setSelectedDraftIndex(-1);\n        setIsGeneratingFinalCard(false);\n        setPreviewingDraftIndex(-1);\n        // Clear progress and states\n        setGenerationProgress(\"\");\n        setIsGenerating(false);\n        setIsGeneratingMessage(false);\n        setIsCardCompleted(false);\n        setCountdown(0);\n        if (countdownInterval) {\n            clearInterval(countdownInterval);\n            setCountdownInterval(null);\n        }\n        // Clear generated cards from localStorage but keep form data\n        try {\n            localStorage.removeItem(\"vibecarding-generated-cards\");\n        } catch (error) {\n            console.error(\"Error clearing generated cards:\", error);\n        }\n        sonner__WEBPACK_IMPORTED_MODULE_13__.toast.success(\"\\uD83D\\uDD04 Ready to regenerate with the same settings!\");\n    };\n    // Message version control functions\n    const addMessageToHistory = (message)=>{\n        if (message.trim() === \"\") return;\n        // Safety check: Remove any MESSAGE tags that might have slipped through\n        const cleanMessage = message.replace(/<\\/?MESSAGE>/g, \"\").trim();\n        if (cleanMessage === \"\") return;\n        // Remove any future history if we're not at the end\n        const newHistory = messageHistory.slice(0, currentMessageIndex + 1);\n        newHistory.push(cleanMessage);\n        // Keep only last 10 versions to prevent memory issues\n        if (newHistory.length > 10) {\n            newHistory.shift();\n        } else {\n            setCurrentMessageIndex(currentMessageIndex + 1);\n        }\n        setMessageHistory(newHistory);\n        setCurrentMessageIndex(newHistory.length - 1);\n    };\n    const undoMessage = ()=>{\n        if (currentMessageIndex > 0) {\n            const newIndex = currentMessageIndex - 1;\n            setCurrentMessageIndex(newIndex);\n            setFinalCardMessage(messageHistory[newIndex]);\n        }\n    };\n    const redoMessage = ()=>{\n        if (currentMessageIndex < messageHistory.length - 1) {\n            const newIndex = currentMessageIndex + 1;\n            setCurrentMessageIndex(newIndex);\n            setFinalCardMessage(messageHistory[newIndex]);\n        }\n    };\n    // Handle message refinement\n    const handleRefineMessage = async ()=>{\n        if (!refinementPrompt.trim() || !finalCardMessage.trim()) {\n            sonner__WEBPACK_IMPORTED_MODULE_13__.toast.error(\"Please enter both a message and refinement instructions!\");\n            return;\n        }\n        setIsRefiningMessage(true);\n        try {\n            const cardTypeForPrompt = selectedType === \"custom\" ? customCardType : selectedType;\n            const selectedToneObj = cardTones.find((tone)=>tone.id === selectedTone);\n            const toneDescription = selectedToneObj ? selectedToneObj.description.toLowerCase() : \"heartfelt and sincere\";\n            const refinementAPIPrompt = \"Please refine this greeting card message based on the user's instructions.\\n\\nCurrent Message: \\\"\".concat(finalCardMessage, '\"\\n\\nRefinement Instructions: \"').concat(refinementPrompt, '\"\\n\\nCard Context:\\n- Type: ').concat(cardTypeForPrompt, \"\\n- Tone: \").concat(toneDescription, \"\\n\").concat(toField ? \"- Recipient: \".concat(toField) : \"\", \"\\n\").concat(fromField ? \"- Sender: \".concat(fromField) : \"\", \"\\n\\nPlease provide only the refined message, maintaining the \").concat(toneDescription, \" tone while implementing the requested changes.\");\n            const refinedMessage = await chatWithAI(refinementAPIPrompt, {\n                model: \"gemini-2.5-pro\",\n                includeThoughts: false\n            });\n            if (refinedMessage === null || refinedMessage === void 0 ? void 0 : refinedMessage.trim()) {\n                // Add current message to history before changing\n                addMessageToHistory(finalCardMessage);\n                // Clean any potential MESSAGE tags from refined message (safety check)\n                const cleanedRefinedMessage = refinedMessage.trim().replace(/<\\/?MESSAGE>/g, \"\").trim();\n                // Set the new refined message\n                setFinalCardMessage(cleanedRefinedMessage);\n                // Add the new message to history\n                addMessageToHistory(cleanedRefinedMessage);\n                setRefinementPrompt(\"\");\n                setShowRefinementBox(false);\n                sonner__WEBPACK_IMPORTED_MODULE_13__.toast.success(\"Message refined successfully!\");\n            } else {\n                throw new Error(\"No message received\");\n            }\n        } catch (error) {\n            console.error(\"Error refining message:\", error);\n            sonner__WEBPACK_IMPORTED_MODULE_13__.toast.error(\"Failed to refine message. Please try again.\");\n        } finally{\n            setIsRefiningMessage(false);\n        }\n    };\n    // Writing Assistant\n    const handleGetMessageHelp = async ()=>{\n        // Validate custom card type if selected\n        if (selectedType === \"custom\" && !customCardType.trim()) {\n            sonner__WEBPACK_IMPORTED_MODULE_13__.toast.error(\"Please describe your custom card type first!\");\n            return;\n        }\n        setIsGeneratingMessage(true);\n        try {\n            const cardTypeForPrompt = selectedType === \"custom\" ? customCardType : selectedType;\n            const selectedToneObj = cardTones.find((tone)=>tone.id === selectedTone);\n            const toneDescription = selectedToneObj ? selectedToneObj.description.toLowerCase() : \"heartfelt and sincere\";\n            // Use effective prompt logic here too\n            const effectivePrompt = prompt.trim() || \"A beautiful \".concat(cardTypeForPrompt, \" card with \").concat(toneDescription, \" style\");\n            const messagePrompt = \"Create a \".concat(toneDescription, \" message for a \").concat(cardTypeForPrompt, ' greeting card.\\n\\nCard Theme/Description: \"').concat(effectivePrompt, '\"\\n').concat(toField ? \"Recipient: \".concat(toField) : \"Recipient: [not specified]\", \"\\n\").concat(fromField ? \"Sender: \".concat(fromField) : \"Sender: [not specified]\", \"\\nCard Tone: \").concat(selectedToneObj ? selectedToneObj.label : \"Heartfelt\", \" - \").concat(toneDescription, \"\\n\\nInstructions:\\n- Write a message that is \").concat(toneDescription, \" and feels personal and genuine\\n- \").concat(toField ? \"Address the message to \".concat(toField, \" directly, using their name naturally\") : \"Write in a way that could be personalized to any recipient\", \"\\n- \").concat(fromField ? \"Write as if \".concat(fromField, \" is personally writing this message\") : \"Write in a \".concat(toneDescription, \" tone\"), \"\\n- Match the \").concat(toneDescription, \" tone and occasion of the \").concat(cardTypeForPrompt, ' card type\\n- Be inspired by the theme: \"').concat(effectivePrompt, '\"\\n- Keep it concise but meaningful (2-4 sentences ideal)\\n- Make it feel authentic, not generic\\n- SAFETY: Never include brand names, character names, trademarked terms, or inappropriate content. If the theme references these, use generic alternatives or focus on the emotions/concepts instead\\n- Keep content family-friendly and appropriate for all ages\\n- ').concat(selectedTone === \"funny\" ? \"Include appropriate humor that fits the occasion\" : \"\", \"\\n- \").concat(selectedTone === \"genz-humor\" ? 'Use GenZ humor with internet slang, memes, and chaotic energy - think \"no cap\", \"periodt\", \"it\\'s giving...\", \"slay\", etc. Be unhinged but endearing' : \"\", \"\\n- \").concat(selectedTone === \"professional\" ? \"Keep it formal and business-appropriate\" : \"\", \"\\n- \").concat(selectedTone === \"romantic\" ? \"Include loving and romantic language\" : \"\", \"\\n- \").concat(selectedTone === \"playful\" ? \"Use fun and energetic language\" : \"\", \"\\n- \").concat(toField && fromField ? \"Show the relationship between \".concat(fromField, \" and \").concat(toField, \" through the \").concat(toneDescription, \" message tone\") : \"\", \"\\n- \").concat(fromField ? 'End the message with a signature line like \"Love, '.concat(fromField, '\" or \"- ').concat(fromField, '\" or similar, naturally integrated into the message.') : \"\", \"\\n\\nReturn ONLY the message text that should appear inside the card - no quotes, no explanations, no markdown formatting (no *bold*, _italics_, or other markdown), just the complete \").concat(toneDescription, \" message in plain text.\\n\\nIMPORTANT: Wrap your final message in <MESSAGE> </MESSAGE> tags. Everything outside these tags will be ignored.\");\n            const generatedMessage = await chatWithAI(messagePrompt, {\n                model: \"gemini-2.5-pro\",\n                includeThoughts: false // Don't include thinking content in message generation\n            });\n            if (generatedMessage === null || generatedMessage === void 0 ? void 0 : generatedMessage.trim()) {\n                // Extract message content between <MESSAGE> tags using regex\n                const messageMatch = generatedMessage.match(/<MESSAGE>([\\s\\S]*?)<\\/MESSAGE>/);\n                let extractedMessage = messageMatch ? messageMatch[1].trim() : generatedMessage.trim();\n                // Ensure no MESSAGE tags are included in the final message\n                extractedMessage = extractedMessage.replace(/<\\/?MESSAGE>/g, \"\").trim();\n                // Add current message to history if it exists and is different\n                if (finalCardMessage.trim() && finalCardMessage.trim() !== extractedMessage) {\n                    addMessageToHistory(finalCardMessage);\n                }\n                setFinalCardMessage(extractedMessage);\n                // Add the new message to history\n                addMessageToHistory(extractedMessage);\n                sonner__WEBPACK_IMPORTED_MODULE_13__.toast.success(\"✨ Personalized message created!\");\n            }\n        } catch (error) {\n            sonner__WEBPACK_IMPORTED_MODULE_13__.toast.error(\"Failed to generate message. Please try again.\");\n        } finally{\n            setIsGeneratingMessage(false);\n        }\n    };\n    // File upload handler\n    const handleFileUpload = async (file, type)=>{\n        if (!file.type.startsWith(\"image/\")) {\n            sonner__WEBPACK_IMPORTED_MODULE_13__.toast.error(\"Please upload an image file\");\n            return;\n        }\n        setIsUploading(true);\n        try {\n            const formData = new FormData();\n            formData.append(\"file\", file);\n            const response = await fetch(\"\".concat(BACKEND_API_BASE_URL, \"/upload\"), {\n                method: \"POST\",\n                body: formData\n            });\n            if (!response.ok) throw new Error(\"Upload failed: \".concat(response.status));\n            const result = await response.json();\n            if (type === \"handwriting\") {\n                setHandwritingSample(file);\n                setHandwritingSampleUrl(result.url);\n                sonner__WEBPACK_IMPORTED_MODULE_13__.toast.success(\"Handwriting sample uploaded!\");\n            } else {\n                setReferenceImages((prev)=>[\n                        ...prev,\n                        file\n                    ]);\n                setReferenceImageUrls((prev)=>[\n                        ...prev,\n                        result.url\n                    ]);\n                console.log(\"\\uD83D\\uDD0D DEBUG: Reference image uploaded successfully:\", {\n                    fileName: file.name,\n                    url: result.url,\n                    totalImages: referenceImages.length + 1\n                });\n                sonner__WEBPACK_IMPORTED_MODULE_13__.toast.success(\"Reference image uploaded! \".concat(referenceImages.length + 1, \" photo\").concat(referenceImages.length + 1 > 1 ? \"s\" : \"\", \" ready for character creation.\"));\n            }\n        } catch (error) {\n            sonner__WEBPACK_IMPORTED_MODULE_13__.toast.error(\"Upload failed. Please try again.\");\n        } finally{\n            setIsUploading(false);\n        }\n    };\n    const handleRemoveReferenceImage = (index)=>{\n        const removedImage = referenceImages[index];\n        const removedUrl = referenceImageUrls[index];\n        setReferenceImages((prev)=>prev.filter((_, i)=>i !== index));\n        setReferenceImageUrls((prev)=>prev.filter((_, i)=>i !== index));\n        console.log(\"\\uD83D\\uDD0D DEBUG: Reference image removed:\", {\n            fileName: removedImage === null || removedImage === void 0 ? void 0 : removedImage.name,\n            url: removedUrl,\n            remainingImages: referenceImages.length - 1\n        });\n        sonner__WEBPACK_IMPORTED_MODULE_13__.toast.success(\"Reference image removed! \".concat(referenceImages.length - 1, \" photo\").concat(referenceImages.length - 1 !== 1 ? \"s\" : \"\", \" remaining.\"));\n    };\n    // Simplified draft mode generation - calls consolidated function 4 times\n    const handleGenerateDraftCards = async ()=>{\n        if (!userEmail.trim()) {\n            sonner__WEBPACK_IMPORTED_MODULE_13__.toast.error(\"Please enter your email address\");\n            return;\n        }\n        // Basic email validation\n        const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n        if (!emailRegex.test(userEmail)) {\n            sonner__WEBPACK_IMPORTED_MODULE_13__.toast.error(\"Please enter a valid email address\");\n            return;\n        }\n        // Validate custom style if selected\n        if (selectedArtisticStyle === \"custom\" && !customStyleDescription.trim()) {\n            sonner__WEBPACK_IMPORTED_MODULE_13__.toast.error(\"Please describe your custom artistic style\");\n            return;\n        }\n        // Validate reference images with model compatibility\n        if (referenceImageUrls.length > 0 && selectedDraftModel !== \"gpt-image-1\") {\n            var _imageModels_find;\n            console.log(\"\\uD83D\\uDD0D DEBUG: Reference image validation failed:\", {\n                referenceImageUrlsLength: referenceImageUrls.length,\n                referenceImageUrls: referenceImageUrls,\n                selectedDraftModel: selectedDraftModel,\n                referenceImagesLength: referenceImages.length\n            });\n            // Show a more helpful error with action buttons\n            const clearPhotos = ()=>{\n                setReferenceImages([]);\n                setReferenceImageUrls([]);\n                sonner__WEBPACK_IMPORTED_MODULE_13__.toast.success(\"Reference photos cleared! You can now use draft mode.\");\n            };\n            const switchToGPT1 = ()=>{\n                setSelectedDraftModel(\"gpt-image-1\");\n                sonner__WEBPACK_IMPORTED_MODULE_13__.toast.success(\"Switched to GPT Image 1 for draft mode!\");\n            };\n            sonner__WEBPACK_IMPORTED_MODULE_13__.toast.error(/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"space-y-2\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        children: \"Reference photos are only supported with GPT Image 1 model.\"\n                    }, void 0, false, {\n                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                        lineNumber: 2228,\n                        columnNumber: 12\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"text-xs\",\n                        children: [\n                            \"You have \",\n                            referenceImageUrls.length,\n                            \" reference photo\",\n                            referenceImageUrls.length > 1 ? \"s\" : \"\",\n                            \" but selected \",\n                            (_imageModels_find = imageModels.find((m)=>m.id === selectedDraftModel)) === null || _imageModels_find === void 0 ? void 0 : _imageModels_find.label,\n                            \".\"\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                        lineNumber: 2229,\n                        columnNumber: 12\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex gap-2 mt-2\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: switchToGPT1,\n                                className: \"px-2 py-1 bg-blue-600 text-white text-xs rounded hover:bg-blue-700\",\n                                children: \"Use GPT Image 1\"\n                            }, void 0, false, {\n                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                lineNumber: 2231,\n                                columnNumber: 14\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: clearPhotos,\n                                className: \"px-2 py-1 bg-red-600 text-white text-xs rounded hover:bg-red-700\",\n                                children: \"Remove Photos\"\n                            }, void 0, false, {\n                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                lineNumber: 2237,\n                                columnNumber: 14\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                        lineNumber: 2230,\n                        columnNumber: 12\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                lineNumber: 2227,\n                columnNumber: 10\n            }, this), {\n                duration: 8000\n            });\n            return;\n        }\n        setIsDraftMode(true);\n        setIsGenerating(true);\n        startElapsedTimeTracking();\n        setGenerationProgress(\"\\uD83C\\uDFA8 Creating 4 design variations for you to choose from...\");\n        setProgressPercentage(0);\n        setDraftCards([]);\n        setSelectedDraftIndex(-1);\n        // Clear any previous card state to avoid UI conflicts\n        setGeneratedCard(null);\n        setGeneratedCards([]);\n        setIsCardCompleted(false);\n        try {\n            console.log(\"\\uD83D\\uDE80 Starting draft mode generation with 10 variations\");\n            // Show specific message for GPT-1 users about quality enforcement\n            if (selectedDraftModel === \"gpt-image-1\") {\n                sonner__WEBPACK_IMPORTED_MODULE_13__.toast.success(\"\\uD83C\\uDFA8 Generating 10 design variations with GPT-1 (using low quality for fast previews)!\");\n            } else {\n                sonner__WEBPACK_IMPORTED_MODULE_13__.toast.success(\"\\uD83C\\uDFA8 Generating 10 design variations for you to choose from!\");\n            }\n            // Generate 10 draft variations by calling the consolidated function 10 times\n            const draftPromises = Array.from({\n                length: 10\n            }, async (_, index)=>{\n                try {\n                    console.log(\"\\uD83C\\uDFA8 Starting draft variation \".concat(index + 1));\n                    await handleGenerateCardAsyncInternal({\n                        isDraftMode: true,\n                        draftIndex: index,\n                        onDraftComplete: (card, idx)=>{\n                            console.log(\"✅ Draft variation \".concat(idx + 1, \" completed:\"), card.id);\n                            setDraftCards((prev)=>{\n                                const updated = [\n                                    ...prev\n                                ];\n                                updated[idx] = card;\n                                // Check if all 4 variations are complete\n                                const completedCount = updated.filter((c)=>c).length;\n                                console.log(\"\\uD83D\\uDCCA Draft progress: \".concat(completedCount, \"/4 variations complete\"));\n                                if (completedCount === 4) {\n                                    setIsGenerating(false);\n                                    setGenerationProgress(\"\");\n                                    setProgressPercentage(100);\n                                    stopElapsedTimeTracking();\n                                    sonner__WEBPACK_IMPORTED_MODULE_13__.toast.success(\"\\uD83C\\uDFA8 All 4 design variations ready! Choose your favorite below.\");\n                                } else {\n                                    setGenerationProgress(\"✨ \".concat(completedCount, \"/4 variations complete...\"));\n                                    setProgressPercentage(completedCount / 4 * 100);\n                                }\n                                return updated;\n                            });\n                        }\n                    });\n                } catch (error) {\n                    console.error(\"❌ Draft variation \".concat(index + 1, \" failed:\"), error);\n                    sonner__WEBPACK_IMPORTED_MODULE_13__.toast.error(\"Draft variation \".concat(index + 1, \" failed: \").concat(error instanceof Error ? error.message : \"Unknown error\"));\n                }\n            });\n            // Wait for all draft generations to start (but not complete)\n            await Promise.allSettled(draftPromises);\n            console.log(\"\\uD83D\\uDE80 All draft variations started\");\n        } catch (error) {\n            console.error(\"Draft card generation error:\", error);\n            sonner__WEBPACK_IMPORTED_MODULE_13__.toast.error(\"Failed to start draft generation: \".concat(error instanceof Error ? error.message : \"Unknown error\"));\n            setIsGenerating(false);\n            setIsDraftMode(false);\n            setGenerationProgress(\"\");\n            stopElapsedTimeTracking();\n        }\n    };\n    // Generate final high-quality card from selected draft\n    const handleGenerateFinalFromDraft = async (draftIndex)=>{\n        if (draftIndex < 0 || draftIndex >= draftCards.length || !draftCards[draftIndex]) {\n            sonner__WEBPACK_IMPORTED_MODULE_13__.toast.error(\"Invalid draft selection\");\n            return;\n        }\n        setIsGeneratingFinalCard(true);\n        setSelectedDraftIndex(draftIndex);\n        startElapsedTimeTracking();\n        setGenerationProgress(\"\\uD83C\\uDFA8 Creating high-quality version of your selected design...\");\n        try {\n            var _paperSizes_find, _paperSizes_find1;\n            const selectedDraft = draftCards[draftIndex];\n            const jobId = (0,uuid__WEBPACK_IMPORTED_MODULE_36__[\"default\"])();\n            // Use the same prompts as the selected draft but with high quality\n            // Replace \"MESSAGE GOES HERE\" placeholder with actual message content\n            const finalPrompts = {\n                ...selectedDraft.generatedPrompts\n            };\n            if (finalPrompts.rightInterior && !isHandwrittenMessage && finalCardMessage.trim()) {\n                finalPrompts.rightInterior = finalPrompts.rightInterior.replace(/Include placeholder text: \"MESSAGE GOES HERE\"/g, 'Include message text: \"'.concat(finalCardMessage, '\"')).replace(/\"MESSAGE GOES HERE\"/g, '\"'.concat(finalCardMessage, '\"')).replace(/MESSAGE GOES HERE/g, finalCardMessage);\n            }\n            // Prepare input images for final generation (reference photos)\n            const inputImages = [];\n            if (referenceImageUrls.length > 0 && selectedImageModel === \"gpt-image-1\") {\n                inputImages.push(...referenceImageUrls);\n                console.log(\"\\uD83D\\uDD0D DEBUG: Added reference images to final draft generation:\", referenceImageUrls);\n                console.log(\"\\uD83D\\uDD0D DEBUG: Total input images for final draft generation:\", inputImages.length);\n                sonner__WEBPACK_IMPORTED_MODULE_13__.toast.success(\"\\uD83D\\uDCF8 \".concat(referenceImageUrls.length, \" reference photo\").concat(referenceImageUrls.length > 1 ? \"s\" : \"\", \" applied to final generation!\"));\n            }\n            const response = await fetch(\"/api/generate-card-async\", {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                    jobId,\n                    prompts: finalPrompts,\n                    config: {\n                        userNumber: \"+17145986105\",\n                        modelVersion: selectedImageModel,\n                        aspectRatio: ((_paperSizes_find = paperSizes.find((size)=>size.id === selectedPaperSize)) === null || _paperSizes_find === void 0 ? void 0 : _paperSizes_find.aspectRatio) || \"9:16\",\n                        quality: \"high\",\n                        outputFormat: \"jpeg\",\n                        outputCompression: 100,\n                        moderation: \"low\",\n                        dimensions: ((_paperSizes_find1 = paperSizes.find((size)=>size.id === selectedPaperSize)) === null || _paperSizes_find1 === void 0 ? void 0 : _paperSizes_find1.dimensions) || \"1024x1536\",\n                        isFrontBackOnly,\n                        userEmail,\n                        cardType: selectedType === \"custom\" ? customCardType : selectedType,\n                        toField,\n                        fromField,\n                        isDraftMode: false,\n                        ...inputImages.length > 0 && {\n                            input_images: inputImages,\n                            input_images_mode: \"front_cover_only\" // All reference images should go to front cover for character creation\n                        }\n                    }\n                })\n            });\n            if (!response.ok) {\n                throw new Error(\"Server error: \".concat(response.status));\n            }\n            const result = await response.json();\n            if (result.status !== \"processing\") {\n                throw new Error(result.message || \"Failed to start final card generation\");\n            }\n            setCurrentJobId(jobId);\n            sonner__WEBPACK_IMPORTED_MODULE_13__.toast.success(\"\\uD83C\\uDFA8 Generating high-quality version of your selected design!\");\n            // Poll for completion (reuse existing pollJobStatus)\n            pollJobStatus(jobId);\n        } catch (error) {\n            console.error(\"Final card generation error:\", error);\n            sonner__WEBPACK_IMPORTED_MODULE_13__.toast.error(\"Failed to generate final card. Please try again.\");\n            setIsGeneratingFinalCard(false);\n            setGenerationProgress(\"\");\n            stopElapsedTimeTracking();\n        }\n    };\n    // Consolidated card generation function\n    const handleGenerateCardAsyncInternal = async function() {\n        let options = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};\n        const { isDraftMode = false, draftIndex = 0, onDraftComplete } = options;\n        console.log(\"\\uD83D\\uDD0D handleGenerateCardAsyncInternal called:\", {\n            isDraftMode,\n            draftIndex,\n            hasOnDraftComplete: !!onDraftComplete\n        });\n        if (!userEmail.trim()) {\n            sonner__WEBPACK_IMPORTED_MODULE_13__.toast.error(\"Please enter your email address\");\n            return;\n        }\n        // Basic email validation\n        const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n        if (!emailRegex.test(userEmail)) {\n            sonner__WEBPACK_IMPORTED_MODULE_13__.toast.error(\"Please enter a valid email address\");\n            return;\n        }\n        // Validate custom style if selected\n        if (selectedArtisticStyle === \"custom\" && !customStyleDescription.trim()) {\n            sonner__WEBPACK_IMPORTED_MODULE_13__.toast.error(\"Please describe your custom artistic style\");\n            return;\n        }\n        // Determine which model to use based on mode\n        const modelToUse = isDraftMode ? selectedDraftModel : selectedImageModel;\n        // Validate reference images with model compatibility\n        if (referenceImageUrls.length > 0 && modelToUse !== \"gpt-image-1\") {\n            const modeText = isDraftMode ? \"draft mode\" : \"final generation\";\n            sonner__WEBPACK_IMPORTED_MODULE_13__.toast.error(\"Reference photos are only supported with GPT Image 1 model. Please switch to GPT Image 1 for \".concat(modeText, \" or remove reference photos.\"));\n            return;\n        }\n        // Only set global generating state if not in draft mode (draft mode manages its own state)\n        if (!isDraftMode) {\n            setIsGenerating(true);\n            startElapsedTimeTracking();\n            setGenerationProgress(\"Creating your personalized card...\");\n            setProgressPercentage(0);\n        }\n        try {\n            // Create job tracking\n            const jobId = isDraftMode ? \"draft-\".concat(draftIndex, \"-\").concat((0,uuid__WEBPACK_IMPORTED_MODULE_36__[\"default\"])()) : (0,uuid__WEBPACK_IMPORTED_MODULE_36__[\"default\"])();\n            if (!isDraftMode) {\n                setCurrentJobId(jobId);\n            }\n            // Generate all prompts client-side first\n            const cardTypeForPrompt = selectedType === \"custom\" ? customCardType : selectedType;\n            const selectedToneObj = cardTones.find((tone)=>tone.id === selectedTone);\n            const toneDescription = selectedToneObj ? selectedToneObj.description.toLowerCase() : \"heartfelt and sincere\";\n            const effectivePrompt = prompt.trim() || \"A beautiful \".concat(cardTypeForPrompt, \" card with \").concat(toneDescription, \" style\");\n            let messageContent = finalCardMessage;\n            // Handle message generation if needed\n            if (isHandwrittenMessage) {\n                messageContent = \"[Blank space for handwritten message]\";\n            } else if (!messageContent.trim() && !isFrontBackOnly) {\n                setGenerationProgress(\"✍️ Writing the perfect message...\");\n                // Auto-generate message (keeping existing logic)\n                const autoMessagePrompt = \"Create a \".concat(toneDescription, \" message for a \").concat(cardTypeForPrompt, ' greeting card.\\n\\nCard Theme/Description: \"').concat(effectivePrompt, '\"\\n').concat(toField ? \"Recipient: \".concat(toField) : \"Recipient: [not specified]\", \"\\n\").concat(fromField ? \"Sender: \".concat(fromField) : \"Sender: [not specified]\", \"\\nCard Tone: \").concat(selectedToneObj ? selectedToneObj.label : \"Heartfelt\", \" - \").concat(toneDescription, \"\\n\\nInstructions:\\n- Write a message that is \").concat(toneDescription, \" and feels personal and genuine\\n- \").concat(toField ? \"Address the message to \".concat(toField, \" directly, using their name naturally\") : \"Write in a way that could be personalized to any recipient\", \"\\n- \").concat(fromField ? \"Write as if \".concat(fromField, \" is personally writing this message\") : \"Write in a \".concat(toneDescription, \" tone\"), \"\\n- Match the \").concat(toneDescription, \" tone and occasion of the \").concat(cardTypeForPrompt, ' card type\\n- Be inspired by the theme: \"').concat(prompt, '\"\\n- Keep it concise but meaningful (2-4 sentences ideal)\\n- Make it feel authentic, not generic\\n- SAFETY: Never include brand names, character names, trademarked terms, or inappropriate content. If the theme references these, use generic alternatives or focus on the emotions/concepts instead\\n- Keep content family-friendly and appropriate for all ages\\n- ').concat(selectedTone === \"funny\" ? \"Include appropriate humor that fits the occasion\" : \"\", \"\\n- \").concat(selectedTone === \"genz-humor\" ? 'Use GenZ humor with internet slang, memes, and chaotic energy - think \"no cap\", \"periodt\", \"it\\'s giving...\", \"slay\", etc. Be unhinged but endearing' : \"\", \"\\n- \").concat(selectedTone === \"professional\" ? \"Keep it formal and business-appropriate\" : \"\", \"\\n- \").concat(selectedTone === \"romantic\" ? \"Include loving and romantic language\" : \"\", \"\\n- \").concat(selectedTone === \"playful\" ? \"Use fun and energetic language\" : \"\", \"\\n- \").concat(toField && fromField ? \"Show the relationship between \".concat(fromField, \" and \").concat(toField, \" through the \").concat(toneDescription, \" message tone\") : \"\", \"\\n- \").concat(fromField ? 'End the message with a signature line like \"Love, '.concat(fromField, '\" or \"- ').concat(fromField, '\" or similar, naturally integrated into the message.') : \"\", \"\\n\\nReturn ONLY the message text that should appear inside the card - no quotes, no explanations, no markdown formatting (no *bold*, _italics_, or other markdown), just the complete \").concat(toneDescription, \" message in plain text.\\n\\nIMPORTANT: Wrap your final message in <MESSAGE> </MESSAGE> tags. Everything outside these tags will be ignored.\");\n                const generatedMessage = await chatWithAI(autoMessagePrompt, {\n                    model: \"gemini-2.5-pro\",\n                    includeThoughts: false\n                });\n                if (generatedMessage === null || generatedMessage === void 0 ? void 0 : generatedMessage.trim()) {\n                    const messageMatch = generatedMessage.match(/<MESSAGE>([\\s\\S]*?)<\\/MESSAGE>/);\n                    if (messageMatch && messageMatch[1]) {\n                        messageContent = messageMatch[1].trim();\n                        setFinalCardMessage(messageContent);\n                    }\n                }\n            }\n            // Generate style and paper config\n            const selectedStyle = artisticStyles.find((style)=>style.id === selectedArtisticStyle);\n            const styleModifier = selectedArtisticStyle === \"custom\" ? customStyleDescription : (selectedStyle === null || selectedStyle === void 0 ? void 0 : selectedStyle.promptModifier) || \"\";\n            const paperConfig = paperSizes.find((size)=>size.id === selectedPaperSize) || paperSizes[0];\n            setGenerationProgress(\"\\uD83C\\uDFA8 Creating artistic vision for your card...\");\n            // Generate prompts for all cards\n            const basePromptGenerationQuery = \"You are an expert AI greeting card designer tasked with creating cohesive, visually stunning prompts for a \".concat(cardTypeForPrompt, \" greeting card\").concat(numberOfCards > 1 ? \" (this is variant \".concat(1, \" of \").concat(numberOfCards, \" unique designs)\") : \"\", '.\\n\\nTheme: \"').concat(effectivePrompt, '\"\\nStyle: ').concat((selectedStyle === null || selectedStyle === void 0 ? void 0 : selectedStyle.label) || \"Default\", \"\\nTone: \").concat(selectedToneObj ? selectedToneObj.label : \"Heartfelt\", \" - \").concat(toneDescription, \"\\n\").concat(toField ? \"To: \".concat(toField) : \"\", \"\\n\").concat(fromField ? \"From: \".concat(fromField) : \"\", \"\\n\").concat(!isFrontBackOnly ? 'Message: \"'.concat(messageContent, '\"') : \"\", \"\\n\").concat(isHandwrittenMessage ? \"Note: Include space for handwritten message\" : \"\", \"\\n\").concat(referenceImageUrls.length > 0 ? 'Reference: \"'.concat(imageTransformation || \"artistic transformation\", '\"') : \"\", '\\n\\nCRITICAL: Create a cohesive visual narrative that flows chronologically through the card experience:\\n1. FRONT COVER: First impression - sets the scene/introduces the story\\n2. INTERIOR SPREAD: The heart of the experience - continuation and climax of the visual story\\n3. BACK COVER: Conclusion - peaceful resolution or complementary ending\\n\\nRequirements:\\n- Flat 2D artwork for printing (not 3D card images)\\n- Full-bleed backgrounds extending to edges\\n- IMPORTANT: Keep text, faces, and key elements at least 10% away from top/bottom edges (small amount may be cropped in printing)\\n- Keep text/faces 0.5\" from left/right edges for safe printing\\n- CONSISTENT visual elements throughout: same characters, color palette, lighting, art style\\n- Progressive visual storytelling from front → interior → back\\n- Put any text in quotes and make it clear/readable\\n- Each section should feel like part of the same artistic universe\\n- TONE: Ensure the visual mood and atmosphere matches the ').concat(toneDescription, ' tone throughout all sections\\n- INTELLECTUAL PROPERTY SAFETY: If the user mentions specific characters, brands, logos, or products, automatically replace them with original generic alternatives in your prompts. For example: replace specific character names with \"cartoon mouse character\" or \"superhero character\", replace brand names with \"colorful cereal\" or \"sports car\", etc. Create inspired-by designs that capture the essence without referencing any protected names or specific copyrighted elements. Never include actual brand names, character names, or trademarked terms in the image generation prompts\\n- CONTENT SAFETY: Ensure all prompts are family-friendly and appropriate for greeting cards. Avoid any content that could be flagged by safety systems including: violence, weapons, inappropriate imagery, political content, controversial topics, scary or disturbing elements, or anything not suitable for all ages. If the user requests something potentially inappropriate, redirect to positive, wholesome alternatives that capture their intent in a family-friendly way\\n').concat(selectedTone === \"funny\" ? \"- Include visual humor, playful elements, and whimsical details\" : \"\", \"\\n\").concat(selectedTone === \"genz-humor\" ? \"- Include GenZ visual elements like chaotic energy, internet meme references, bold contrasting colors, and unhinged but endearing visual style\" : \"\", \"\\n\").concat(selectedTone === \"romantic\" ? \"- Include romantic elements like soft lighting, hearts, flowers, or intimate scenes\" : \"\", \"\\n\").concat(selectedTone === \"professional\" ? \"- Keep visuals clean, sophisticated, and business-appropriate\" : \"\", \"\\n\").concat(selectedTone === \"playful\" ? \"- Include bright colors, dynamic poses, and energetic visual elements\" : \"\", \"\\n\").concat(selectedTone === \"elegant\" ? \"- Focus on sophisticated design, refined color palettes, and graceful compositions\" : \"\", \"\\n\").concat(referenceImageUrls.length > 0 ? \"- Create cartoon/illustrated characters inspired by reference images - DO NOT make realistic depictions\" : \"\", '\\n\\nCreate prompts that flow chronologically:\\n\\n1. Front Cover (Opening Scene): BE GENUINELY CREATIVE AND UNIQUE! Include \"').concat(cardTypeForPrompt, '\" greeting text positioned safely in the center area (avoid top/bottom 10% of image). TEXT STYLE: Write the greeting text in beautiful, clearly readable handwritten cursive script that matches the elegant style used inside the card - legible, flowing, and graceful with natural character and warmth. ').concat(referenceImageUrls.length > 0 ? \"I have included \".concat(referenceImageUrls.length > 1 ? \"multiple\" : \"my own\", \" reference image\").concat(referenceImageUrls.length > 1 ? \"s\" : \"\", \". Create stylized cartoon/illustrated characters inspired by the reference image\").concat(referenceImageUrls.length > 1 ? \"s\" : \"\", \" - DO NOT make realistic depictions of real people, instead create charming cartoon-style characters with simplified, friendly features.\") : \"Create charming cartoon-style or stylized illustrated figures if people are needed for the theme.\", \" This is the story opening - introduce key visual elements (colors, motifs, artistic style) that will continue throughout the other sections. Think of something unexpected, innovative, and memorable that will surprise and delight the recipient. Avoid generic designs! Style: \").concat(styleModifier, \"\\n\\n2. \").concat(!isFrontBackOnly ? \"Left Interior (Story Development): UNLEASH YOUR CREATIVITY! You have complete creative freedom to design whatever you want for this left interior page! This is your artistic playground - create something genuinely innovative and unexpected that feels right for a \".concat(cardTypeForPrompt, \" card with \").concat(toneDescription, \" tone. You can include: scenes, landscapes, objects, patterns, quotes, text, illustrations, realistic art, abstract art, or anything else that inspires you - but NO PEOPLE or characters unless the user specifically mentioned wanting people in their card description. Position any text safely in center area (avoid top/bottom 10%). Think of something no one has done before! Surprise us with bold, imaginative, and memorable artistic choices while maintaining visual harmony with the overall card style and tone. Style: \").concat(styleModifier, \"\\n\\n3. Right Interior (Story Climax): BE CREATIVE WITH MESSAGE DESIGN! \").concat(isHandwrittenMessage ? \"Design with elegant writing space that complements the visual story from left interior. Position decorative elements safely away from top/bottom edges. Create innovative and artistic decorative elements, borders, or flourishes that are unique and memorable - NO PEOPLE or characters.\" : 'Include message text: \"'.concat(messageContent, \"\\\" positioned safely in center area (avoid top/bottom 10% of image) integrated into beautiful, innovative decorative artwork. HANDWRITING STYLE: Write the message in beautiful, clearly readable handwritten cursive script that feels elegant and personal. The handwriting should be legible, flowing, and have natural character - not overly perfect but graceful and warm. Use a nice pen-style appearance with natural ink flow and slight variations in line weight. Think of sophisticated calligraphy that's still approachable and easy to read. Make the handwriting feel genuine and heartfelt. Think beyond typical florals and patterns - create something unexpected and artistic that perfectly frames the handwritten message - NO PEOPLE or characters.\"), \" This should feel like the emotional peak of the card experience, harmonizing with the left interior as a cohesive spread. Avoid clich\\xe9 designs and create something genuinely special!\").concat(handwritingSampleUrl ? \" Match the provided handwriting style sample exactly.\" : \" Use the elegant cursive handwriting style described above.\", \" Style: \").concat(styleModifier, \"\\n\\n4. \") : \"\", \"Back Cover (Story Resolution): BE SUBTLY CREATIVE! Create a simple yet innovative decorative design that brings peaceful closure to the visual story. Reference subtle elements from the front cover but keep it minimal and serene - NO PEOPLE, just beautiful, unexpected artistic elements that go beyond typical patterns or florals. IMPORTANT: Leave the bottom-right corner area (approximately 1 inch square) completely clear and undecorated - this space should remain empty. Focus decorative elements toward the center and left side of the design. Think of something quietly beautiful and memorable that complements the overall design while being genuinely unique. This should feel like a peaceful, artistic ending that surprises with its subtle creativity. Style: \").concat(styleModifier, '\\n\\nVISUAL CONTINUITY CHECKLIST:\\n- Same color palette across all sections\\n- Consistent lighting/time of day\\n- Same artistic techniques and brushwork\\n- Recurring visual motifs or symbols (but make them unique and memorable!)\\n- Progressive emotional journey from introduction to resolution\\n- Front cover: stylized cartoon/illustrated characters if people are needed for the theme\\n- Left interior: CREATIVE FREEDOM but NO PEOPLE unless user specifically requested people in their description\\n- Right interior: focus on message space with innovative decorative elements (NO PEOPLE)\\n- Back cover: simple yet creative decorative design without text or people\\n- Use simplified, friendly, charming character design if including people (front cover only)\\n- CREATIVITY PRIORITY: Always choose the more innovative, surprising, and memorable option over generic designs\\n\\nReturn JSON:\\n{\\n  \"frontCover\": \"detailed prompt with story opening elements\",\\n  \"backCover\": \"detailed prompt with story conclusion elements\"').concat(!isFrontBackOnly ? ',\\n  \"leftInterior\": \"detailed prompt with story development elements\",\\n  \"rightInterior\": \"detailed prompt with story climax elements\"' : \"\", \"\\n}\");\n            const generatedPrompts = await chatWithAI(basePromptGenerationQuery, {\n                jsonSchema: {\n                    type: \"object\",\n                    properties: {\n                        frontCover: {\n                            type: \"string\"\n                        },\n                        backCover: {\n                            type: \"string\"\n                        },\n                        ...isFrontBackOnly ? {} : {\n                            leftInterior: {\n                                type: \"string\"\n                            },\n                            rightInterior: {\n                                type: \"string\"\n                            }\n                        }\n                    },\n                    required: [\n                        \"frontCover\",\n                        \"backCover\",\n                        ...isFrontBackOnly ? [] : [\n                            \"leftInterior\",\n                            \"rightInterior\"\n                        ]\n                    ]\n                },\n                model: \"gemini-2.5-pro\"\n            });\n            if (!generatedPrompts || !generatedPrompts.frontCover) {\n                console.error(\"❌ Failed to generate image prompts:\", generatedPrompts);\n                throw new Error(\"Failed to generate image prompts\");\n            }\n            console.log(\"✅ Generated prompts successfully:\", {\n                isDraftMode,\n                draftIndex,\n                hasFrontCover: !!generatedPrompts.frontCover,\n                hasBackCover: !!generatedPrompts.backCover\n            });\n            // Enhance front cover prompt with reference image instructions if available\n            if (referenceImageUrls.length > 0 && modelToUse === \"gpt-image-1\") {\n                generatedPrompts.frontCover = \"\".concat(generatedPrompts.frontCover, \"\\n\\nCRITICAL CHARACTER REFERENCE INSTRUCTIONS: I have provided \").concat(referenceImageUrls.length > 1 ? \"multiple reference photos\" : \"a reference photo\", \" as input image\").concat(referenceImageUrls.length > 1 ? \"s\" : \"\", \". You MUST create cartoon/illustrated characters that accurately represent the people in \").concat(referenceImageUrls.length > 1 ? \"these reference photos\" : \"this reference photo\", \" with high fidelity to their appearance.\\n\\nMANDATORY CHARACTER MATCHING REQUIREMENTS:\\n- REPRESENT ALL PEOPLE: If multiple reference photos are provided, create cartoon versions of ALL people shown, bringing them together in the same scene\\n- EXACT hair color, hair style, and hair length from each reference photo\\n- PRECISE facial features for each person: eye color, eye shape, nose shape, face structure, skin tone\\n- ACCURATE clothing: replicate the EXACT clothing items, colors, patterns, and styles worn by each person in their reference photo\\n- COMPLETE accessories: include ALL accessories visible on each person (glasses, jewelry, hats, watches, bags, etc.)\\n- CORRECT body proportions and posture as shown for each person in their reference\\n- FAITHFUL age representation and gender presentation for each individual\\n- AUTHENTIC facial expressions and poses from the reference images, lean towards making the people look happier unless the user specifically asks for a different expression\\n- GROUP COMPOSITION: If multiple people, arrange them naturally together in a pleasing composition that fits the card's theme\\n\\n\").concat(imageTransformation || \"Study every detail of the people in the reference image and recreate them as stylized cartoon characters while maintaining 100% accuracy to their distinctive visual features. The characters must be immediately recognizable as the same people from the reference photo. Pay special attention to clothing details, accessories, and unique personal style elements that make each person distinctive.\", \"\\n\\nThe cartoon style should be charming and artistic while preserving complete visual accuracy to the reference photo. Every person in the reference must be represented with their exact appearance, clothing, and accessories.\");\n            }\n            // Save job data to localStorage and server\n            const jobData = {\n                prompt: effectivePrompt,\n                selectedType,\n                customCardType,\n                selectedTone,\n                finalCardMessage: messageContent,\n                toField,\n                fromField,\n                userEmail,\n                selectedArtisticStyle,\n                customStyleDescription,\n                selectedImageModel,\n                isFrontBackOnly,\n                numberOfCards,\n                selectedPaperSize,\n                prompts: generatedPrompts,\n                paperConfig\n            };\n            saveJobToStorage(jobId, jobData);\n            // Create job on server and start async generation\n            setGenerationProgress(\"\\uD83D\\uDE80 Starting background generation - you can safely leave this page!\");\n            // Prepare input images for reference photo support - only for GPT-1\n            const inputImages = [];\n            if (referenceImageUrls.length > 0 && modelToUse === \"gpt-image-1\") {\n                inputImages.push(...referenceImageUrls);\n                console.log(\"\\uD83D\\uDD0D DEBUG: Added reference images to async generation:\", referenceImageUrls);\n                console.log(\"\\uD83D\\uDD0D DEBUG: Total input images for async generation:\", inputImages.length);\n                console.log(\"\\uD83D\\uDD0D DEBUG: Reference images should ALL go to front cover for character creation of multiple people\");\n            }\n            console.log(\"\\uD83D\\uDE80 Making API call to /api/generate-card-async:\", {\n                isDraftMode,\n                draftIndex,\n                jobId,\n                modelToUse,\n                quality: isDraftMode ? \"low\" : \"high\"\n            });\n            const response = await fetch(\"/api/generate-card-async\", {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                    jobId,\n                    prompts: generatedPrompts,\n                    config: {\n                        userNumber: \"+17145986105\",\n                        modelVersion: modelToUse,\n                        aspectRatio: paperConfig.aspectRatio,\n                        quality: isDraftMode ? \"low\" : \"high\",\n                        outputFormat: \"jpeg\",\n                        outputCompression: 100,\n                        moderation: \"low\",\n                        dimensions: paperConfig.dimensions,\n                        isFrontBackOnly,\n                        userEmail,\n                        cardType: cardTypeForPrompt,\n                        toField,\n                        fromField,\n                        ...inputImages.length > 0 && {\n                            input_images: inputImages,\n                            input_images_mode: \"front_cover_only\" // All reference images should go to front cover for character creation\n                        }\n                    }\n                })\n            });\n            console.log(\"\\uD83D\\uDCE1 API response status:\", response.status, response.ok);\n            if (!response.ok) {\n                throw new Error(\"Server error: \".concat(response.status));\n            }\n            const result = await response.json();\n            console.log(\"\\uD83D\\uDCCB API response result:\", result);\n            if (result.status !== \"processing\") {\n                console.error(\"❌ API returned unexpected status:\", result.status, result.message);\n                throw new Error(result.message || \"Failed to start card generation\");\n            }\n            console.log(\"✅ Job started successfully:\", jobId);\n            // Start polling for completion\n            if (isDraftMode) {\n                setGenerationProgress(\"✨ Creating draft variation \".concat(draftIndex + 1, \"...\"));\n                console.log(\"\\uD83D\\uDD04 Starting polling for draft job \".concat(jobId));\n                // For draft mode, we'll handle polling differently if needed\n                pollJobStatus(jobId);\n            } else {\n                setGenerationProgress(\"✨ Bringing your vision to life with artistic precision...\");\n                sonner__WEBPACK_IMPORTED_MODULE_13__.toast.success(\"\\uD83C\\uDF89 Card generation started! You can leave this page and return later.\");\n                pollJobStatus(jobId);\n            }\n        } catch (error) {\n            console.error(\"❌ Card generation error (isDraftMode: \".concat(isDraftMode, \", draftIndex: \").concat(draftIndex, \"):\"), error);\n            const errorMessage = error instanceof Error ? error.message : \"Unknown error\";\n            if (isDraftMode) {\n                sonner__WEBPACK_IMPORTED_MODULE_13__.toast.error(\"Draft variation \".concat(draftIndex + 1, \" failed: \").concat(errorMessage));\n            // For draft mode, we don't want to stop the entire generation process\n            // The parent function will handle individual draft failures\n            } else {\n                sonner__WEBPACK_IMPORTED_MODULE_13__.toast.error(\"Failed to start card generation: \".concat(errorMessage));\n                // Remove failed job from localStorage\n                if (currentJobId) {\n                    removeJobFromStorage(currentJobId);\n                    setCurrentJobId(null);\n                }\n                setIsGenerating(false);\n                setGenerationProgress(\"\");\n            }\n        }\n    };\n    // Wrapper function for regular card generation (used as click handler)\n    const handleGenerateCardAsync = async ()=>{\n        return handleGenerateCardAsyncInternal();\n    };\n    // Original synchronous card generation (keep as fallback)\n    const handleGenerateCard = async ()=>{\n        if (!userEmail.trim()) {\n            sonner__WEBPACK_IMPORTED_MODULE_13__.toast.error(\"Please enter your email address\");\n            return;\n        }\n        // Basic email validation\n        const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n        if (!emailRegex.test(userEmail)) {\n            sonner__WEBPACK_IMPORTED_MODULE_13__.toast.error(\"Please enter a valid email address\");\n            return;\n        }\n        // Validate custom style if selected\n        if (selectedArtisticStyle === \"custom\" && !customStyleDescription.trim()) {\n            sonner__WEBPACK_IMPORTED_MODULE_13__.toast.error(\"Please describe your custom artistic style\");\n            return;\n        }\n        // Validate reference images with model compatibility\n        if (referenceImageUrls.length > 0 && selectedImageModel !== \"gpt-image-1\") {\n            sonner__WEBPACK_IMPORTED_MODULE_13__.toast.error(\"Reference photos are only supported with GPT Image 1 model. Please switch to GPT Image 1 in Advanced Options or remove reference photos.\");\n            return;\n        }\n        // Create job tracking\n        const jobId = (0,uuid__WEBPACK_IMPORTED_MODULE_36__[\"default\"])();\n        setCurrentJobId(jobId);\n        // Save job to localStorage and server\n        const jobData = {\n            prompt: prompt.trim() || \"A beautiful \".concat(selectedType === \"custom\" ? customCardType : selectedType, \" card\"),\n            selectedType,\n            customCardType,\n            selectedTone,\n            finalCardMessage,\n            toField,\n            fromField,\n            userEmail,\n            selectedArtisticStyle,\n            customStyleDescription,\n            selectedImageModel,\n            isFrontBackOnly,\n            numberOfCards,\n            selectedPaperSize\n        };\n        saveJobToStorage(jobId, jobData);\n        // Also save to server\n        try {\n            await fetch(\"/api/create-job\", {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                    jobId,\n                    jobData\n                })\n            });\n        } catch (error) {\n            console.error(\"Failed to create server job:\", error);\n        // Continue anyway - localStorage tracking will still work\n        }\n        // Initialize progress tracking\n        setGenerationProgress(\"Analyzing your request...\");\n        setProgressPercentage(5);\n        // Reset section loading states\n        setSectionLoadingStates({\n            frontCover: \"idle\",\n            backCover: \"idle\",\n            leftInterior: \"idle\",\n            rightInterior: \"idle\"\n        });\n        // Use custom card type if selected, otherwise use the standard type\n        const cardTypeForPrompt = selectedType === \"custom\" ? customCardType : selectedType;\n        const selectedToneObj = cardTones.find((tone)=>tone.id === selectedTone);\n        const toneDescription = selectedToneObj ? selectedToneObj.description.toLowerCase() : \"heartfelt and sincere\";\n        // Use a default prompt if none provided\n        const effectivePrompt = prompt.trim() || \"A beautiful \".concat(cardTypeForPrompt, \" card with \").concat(toneDescription, \" style\");\n        let messageContent = finalCardMessage;\n        // Handle handwritten message case\n        if (isHandwrittenMessage) {\n            messageContent = \"[Blank space for handwritten message]\";\n        } else if (!messageContent.trim() && !isFrontBackOnly) {\n            // Auto-generate message if empty (but not for front/back only cards)\n            setGenerationProgress(\"✍️ Penning the perfect words just for you...\");\n            setIsGeneratingMessage(true); // Show \"Crafting the perfect message...\" in button\n            // Update progress for message generation\n            setGenerationProgress(\"Creating your message...\");\n            try {\n                const autoMessagePrompt = \"Create a \".concat(toneDescription, \" message for a \").concat(cardTypeForPrompt, ' greeting card.\\n\\nCard Theme/Description: \"').concat(effectivePrompt, '\"\\n').concat(toField ? \"Recipient: \".concat(toField) : \"Recipient: [not specified]\", \"\\n\").concat(fromField ? \"Sender: \".concat(fromField) : \"Sender: [not specified]\", \"\\nCard Tone: \").concat(selectedToneObj ? selectedToneObj.label : \"Heartfelt\", \" - \").concat(toneDescription, \"\\n\\nInstructions:\\n- Write a message that is \").concat(toneDescription, \" and feels personal and genuine\\n- \").concat(toField ? \"Address the message to \".concat(toField, \" directly, using their name naturally\") : \"Write in a way that could be personalized to any recipient\", \"\\n- \").concat(fromField ? \"Write as if \".concat(fromField, \" is personally writing this message\") : \"Write in a \".concat(toneDescription, \" tone\"), \"\\n- Match the \").concat(toneDescription, \" tone and occasion of the \").concat(cardTypeForPrompt, ' card type\\n- Be inspired by the theme: \"').concat(prompt, '\"\\n- Keep it concise but meaningful (2-4 sentences ideal)\\n- Make it feel authentic, not generic\\n- SAFETY: Never include brand names, character names, trademarked terms, or inappropriate content. If the theme references these, use generic alternatives or focus on the emotions/concepts instead\\n- Keep content family-friendly and appropriate for all ages\\n- ').concat(selectedTone === \"funny\" ? \"Include appropriate humor that fits the occasion\" : \"\", \"\\n- \").concat(selectedTone === \"genz-humor\" ? 'Use GenZ humor with internet slang, memes, and chaotic energy - think \"no cap\", \"periodt\", \"it\\'s giving...\", \"slay\", etc. Be unhinged but endearing' : \"\", \"\\n- \").concat(selectedTone === \"professional\" ? \"Keep it formal and business-appropriate\" : \"\", \"\\n- \").concat(selectedTone === \"romantic\" ? \"Include loving and romantic language\" : \"\", \"\\n- \").concat(selectedTone === \"playful\" ? \"Use fun and energetic language\" : \"\", \"\\n- \").concat(toField && fromField ? \"Show the relationship between \".concat(fromField, \" and \").concat(toField, \" through the \").concat(toneDescription, \" message tone\") : \"\", \"\\n- \").concat(fromField ? 'End the message with a signature line like \"Love, '.concat(fromField, '\" or \"- ').concat(fromField, '\" or similar, naturally integrated into the message.') : \"\", \"\\n\\nReturn ONLY the message text that should appear inside the card - no quotes, no explanations, no markdown formatting (no *bold*, _italics_, or other markdown), just the complete \").concat(toneDescription, \" message in plain text.\\n\\nIMPORTANT: Wrap your final message in <MESSAGE> </MESSAGE> tags. Everything outside these tags will be ignored.\");\n                const generatedMessage = await chatWithAI(autoMessagePrompt, {\n                    model: \"gemini-2.5-pro\",\n                    includeThoughts: false // Don't include thinking content in message generation\n                });\n                if (generatedMessage === null || generatedMessage === void 0 ? void 0 : generatedMessage.trim()) {\n                    // Extract message content between <MESSAGE> tags using regex\n                    const messageMatch = generatedMessage.match(/<MESSAGE>([\\s\\S]*?)<\\/MESSAGE>/);\n                    let extractedMessage = messageMatch ? messageMatch[1].trim() : generatedMessage.trim();\n                    // Ensure no MESSAGE tags are included in the final message\n                    extractedMessage = extractedMessage.replace(/<\\/?MESSAGE>/g, \"\").trim();\n                    messageContent = extractedMessage;\n                    setFinalCardMessage(messageContent);\n                    setGenerationProgress(\"✅ Perfect message crafted! Now for the magic visuals...\");\n                    sonner__WEBPACK_IMPORTED_MODULE_13__.toast.success(\"✨ Generated a personalized message for your card!\");\n                } else {\n                    messageContent = effectivePrompt;\n                }\n                setIsGeneratingMessage(false); // Reset message generation state\n            // Message generation complete\n            } catch (e) {\n                messageContent = effectivePrompt;\n                setIsGeneratingMessage(false); // Reset message generation state on error\n            }\n        }\n        // Determine which model to use based on mode\n        const modelToUse = isDraftMode ? selectedDraftModel : selectedImageModel;\n        // Validate reference images with model compatibility\n        if (referenceImageUrls.length > 0 && modelToUse !== \"gpt-image-1\") {\n            const modeText = isDraftMode ? \"draft mode\" : \"final generation\";\n            sonner__WEBPACK_IMPORTED_MODULE_13__.toast.error(\"Reference photos are only supported with GPT Image 1 model. Please switch to GPT Image 1 for \".concat(modeText, \" or remove reference photos.\"));\n            return;\n        }\n        // Only set global generating state if not in draft mode (draft mode manages its own state)\n        if (!isDraftMode) {\n            setIsGenerating(true);\n            startElapsedTimeTracking();\n            setGenerationProgress(\"Creating your personalized card...\");\n            setProgressPercentage(0);\n        }\n        // Generate unique card ID for URL\n        const cardId = (0,uuid__WEBPACK_IMPORTED_MODULE_36__[\"default\"])();\n        setCurrentCardId(cardId);\n        const cardUrl = \"\".concat(BACKEND_API_BASE_URL, \"/card/\").concat(cardId);\n        // Reset cards state\n        setGeneratedCards([]);\n        setSelectedCardIndex(0);\n        try {\n            // Get style details\n            setGenerationProgress(\"\\uD83C\\uDFA8 Applying your artistic style...\");\n            const selectedStyle = artisticStyles.find((style)=>style.id === selectedArtisticStyle);\n            let styleModifier = selectedStyle ? selectedStyle.promptModifier : \"\";\n            // Handle AI Smart Style - let AI choose the best style\n            if (selectedArtisticStyle === \"ai-smart-style\") {\n                setGenerationProgress(\"✨ Style experts selecting the perfect look...\");\n                // Style selection progress\n                try {\n                    const styleSelectionPrompt = \"You are an expert art director specializing in beautiful, heartfelt greeting cards. Your job is to choose the perfect artistic style that will create a warm, emotional, and memorable card.\\n\\nCard Details:\\n- Type: \".concat(cardTypeForPrompt, '\\n- Theme/Description: \"').concat(effectivePrompt, '\"\\n').concat(toField ? \"- Recipient: \".concat(toField) : \"\", \"\\n\").concat(fromField ? \"- Sender: \".concat(fromField) : \"\", \"\\n\").concat(referenceImageUrls.length > 0 ? \"- Has \".concat(referenceImageUrls.length, \" reference photo\").concat(referenceImageUrls.length > 1 ? \"s\" : \"\", \" for transformation\") : \"\", \"\\n\").concat(isHandwrittenMessage ? \"- Will have handwritten message\" : '- Message: \"'.concat(finalCardMessage, '\"'), \"\\n\\nIMPORTANT GUIDELINES:\\n- Choose styles that are WARM, EMOTIONAL, and PERSONAL (greeting cards are about human connection)\\n- AVOID: robots, tech, cyberpunk, futuristic, sci-fi, digital, mechanical themes\\n- PREFER: watercolor, oil painting, hand-drawn, illustrated, artistic, painterly, natural, organic styles\\n- Consider the emotional tone: joyful, loving, celebratory, peaceful, artistic\\n- Think about what would make someone smile when they receive this card\\n\\nGreat card styles include:\\n- Watercolor illustrations with soft, flowing colors\\n- Hand-painted artwork with visible brushstrokes\\n- Charming illustrated characters and scenes\\n- Beautiful botanical and nature themes\\n- Vintage artistic styles with character\\n- Warm, inviting color palettes\\n- Artistic techniques that feel handmade and personal\\n\\nChoose ONE artistic style that perfectly matches this \").concat(cardTypeForPrompt, ' card\\'s emotional purpose. Respond with:\\n\"in [detailed artistic style description focusing on warmth, beauty, and emotional appeal]\"\\n\\nMake it feel like something created with love for someone special.');\n                    const aiSelectedStyle = await chatWithAI(styleSelectionPrompt, {\n                        model: \"gemini-2.5-pro\",\n                        includeThoughts: false // Don't include thinking content for style selection\n                    });\n                    if (aiSelectedStyle === null || aiSelectedStyle === void 0 ? void 0 : aiSelectedStyle.trim()) {\n                        styleModifier = aiSelectedStyle.trim();\n                        setGenerationProgress(\"✨ Perfect style chosen! Time to bring your card to life...\");\n                        sonner__WEBPACK_IMPORTED_MODULE_13__.toast.success(\"\\uD83C\\uDFA8 Perfect artistic style chosen for your card!\");\n                    } else {\n                        // Fallback to a beautiful default style\n                        styleModifier = \"in a sophisticated artistic style with harmonious colors, elegant composition, and beautiful visual elements perfectly suited for this special card\";\n                    }\n                } catch (error) {\n                    console.error(\"Style selection failed:\", error);\n                    // Fallback to a beautiful default style\n                    styleModifier = \"in a sophisticated artistic style with harmonious colors, elegant composition, and beautiful visual elements perfectly suited for this special card\";\n                    sonner__WEBPACK_IMPORTED_MODULE_13__.toast.info(\"Using a beautiful default style for your card\");\n                }\n            } else if (selectedArtisticStyle === \"custom\" && customStyleDescription.trim()) {\n                styleModifier = \"in \".concat(customStyleDescription.trim());\n            } else if (selectedArtisticStyle === \"custom\" && !customStyleDescription.trim()) {\n                // Fallback to default if custom is selected but no description provided\n                styleModifier = \"in artistic style with creative and unique visual elements\";\n            }\n            // Get paper size configuration\n            const paperConfig = paperSizes.find((size)=>size.id === selectedPaperSize) || paperSizes[0];\n            // Generate multiple unique prompt sets for each card\n            setGenerationProgress(\"\\uD83C\\uDFAF Crafting \".concat(numberOfCards, \" masterpiece design\").concat(numberOfCards > 1 ? \"s\" : \"\", \"...\"));\n            // Create the base prompt generation query that will be used for each card variant\n            const basePromptGenerationQuery = \"Create \".concat(isFrontBackOnly ? \"2\" : \"4\", \" prompts for a cohesive, chronologically flowing \").concat(cardTypeForPrompt, \" greeting card that tells a visual story (\").concat(paperConfig.aspectRatio, ' ratio):\\n\\n\\uD83C\\uDFA8 CREATIVITY MANDATE: Be genuinely creative, unique, and innovative! Avoid generic or clich\\xe9 designs. Think outside the box, surprise with unexpected elements, use bold artistic choices, and create something truly memorable and special. Push creative boundaries while staying appropriate for the card type and tone.\\n\\nTheme: \"').concat(effectivePrompt, '\"\\nStyle: ').concat((selectedStyle === null || selectedStyle === void 0 ? void 0 : selectedStyle.label) || \"Default\", \"\\nTone: \").concat(selectedToneObj ? selectedToneObj.label : \"Heartfelt\", \" - \").concat(toneDescription, \"\\n\").concat(toField ? \"To: \".concat(toField) : \"\", \"\\n\").concat(fromField ? \"From: \".concat(fromField) : \"\", \"\\n\").concat(!isFrontBackOnly ? 'Message: \"'.concat(messageContent, '\"') : \"\", \"\\n\").concat(isHandwrittenMessage ? \"Note: Include space for handwritten message\" : \"\", \"\\n\").concat(referenceImageUrls.length > 0 ? 'Reference: \"'.concat(imageTransformation || \"artistic transformation\", '\"') : \"\", '\\n\\nCRITICAL: Create a cohesive visual narrative that flows chronologically through the card experience:\\n1. FRONT COVER: First impression - sets the scene/introduces the story\\n2. INTERIOR SPREAD: The heart of the experience - continuation and climax of the visual story\\n3. BACK COVER: Conclusion - peaceful resolution or complementary ending\\n\\nRequirements:\\n- Flat 2D artwork for printing (not 3D card images)\\n- Full-bleed backgrounds extending to edges\\n- IMPORTANT: Keep text, faces, and key elements at least 10% away from top/bottom edges (small amount may be cropped in printing)\\n- Keep text/faces 0.5\" from left/right edges for safe printing\\n- CONSISTENT visual elements throughout: same characters, color palette, lighting, art style\\n- Progressive visual storytelling from front → interior → back\\n- Put any text in quotes and make it clear/readable\\n- Each section should feel like part of the same artistic universe\\n- TONE: Ensure the visual mood and atmosphere matches the ').concat(toneDescription, ' tone throughout all sections\\n- INTELLECTUAL PROPERTY SAFETY: If the user mentions specific characters, brands, logos, or products, automatically replace them with original generic alternatives in your prompts. For example: replace specific character names with \"cartoon mouse character\" or \"superhero character\", replace brand names with \"colorful cereal\" or \"sports car\", etc. Create inspired-by designs that capture the essence without referencing any protected names or specific copyrighted elements. Never include actual brand names, character names, or trademarked terms in the image generation prompts\\n- CONTENT SAFETY: Ensure all prompts are family-friendly and appropriate for greeting cards. Avoid any content that could be flagged by safety systems including: violence, weapons, inappropriate imagery, political content, controversial topics, scary or disturbing elements, or anything not suitable for all ages. If the user requests something potentially inappropriate, redirect to positive, wholesome alternatives that capture their intent in a family-friendly way\\n').concat(selectedTone === \"funny\" ? \"- Include visual humor, playful elements, and whimsical details\" : \"\", \"\\n\").concat(selectedTone === \"genz-humor\" ? \"- Include GenZ visual elements like chaotic energy, internet meme references, bold contrasting colors, and unhinged but endearing visual style\" : \"\", \"\\n\").concat(selectedTone === \"romantic\" ? \"- Include romantic elements like soft lighting, hearts, flowers, or intimate scenes\" : \"\", \"\\n\").concat(selectedTone === \"professional\" ? \"- Keep visuals clean, sophisticated, and business-appropriate\" : \"\", \"\\n\").concat(selectedTone === \"playful\" ? \"- Include bright colors, dynamic poses, and energetic visual elements\" : \"\", \"\\n\").concat(selectedTone === \"elegant\" ? \"- Focus on sophisticated design, refined color palettes, and graceful compositions\" : \"\", \"\\n\").concat(referenceImageUrls.length > 0 ? \"- Create cartoon/illustrated characters inspired by reference images - DO NOT make realistic depictions\" : \"\", '\\n\\nCreate prompts that flow chronologically:\\n\\n1. Front Cover (Opening Scene): BE GENUINELY CREATIVE AND UNIQUE! Include \"').concat(cardTypeForPrompt, '\" greeting text positioned safely in the center area (avoid top/bottom 10% of image). TEXT STYLE: Write the greeting text in beautiful, clearly readable handwritten cursive script that matches the elegant style used inside the card - legible, flowing, and graceful with natural character and warmth. ').concat(referenceImageUrls.length > 0 ? \"I have included \".concat(referenceImageUrls.length > 1 ? \"multiple\" : \"my own\", \" reference image\").concat(referenceImageUrls.length > 1 ? \"s\" : \"\", \". Create stylized cartoon/illustrated characters inspired by the reference image\").concat(referenceImageUrls.length > 1 ? \"s\" : \"\", \" - DO NOT make realistic depictions of real people, instead create charming cartoon-style characters with simplified, friendly features.\") : \"Create charming cartoon-style or stylized illustrated figures if people are needed for the theme.\", \" This is the story opening - introduce key visual elements (colors, motifs, artistic style) that will continue throughout the other sections. Think of something unexpected, innovative, and memorable that will surprise and delight the recipient. Avoid generic designs! Style: \").concat(styleModifier, \"\\n\\n2. \").concat(!isFrontBackOnly ? \"Left Interior (Story Development): UNLEASH YOUR CREATIVITY! You have complete creative freedom to design whatever you want for this left interior page! This is your artistic playground - create something genuinely innovative and unexpected that feels right for a \".concat(cardTypeForPrompt, \" card with \").concat(toneDescription, \" tone. You can include: scenes, landscapes, objects, patterns, quotes, text, illustrations, realistic art, abstract art, or anything else that inspires you - but NO PEOPLE or characters unless the user specifically mentioned wanting people in their card description. Position any text safely in center area (avoid top/bottom 10%). Think of something no one has done before! Surprise us with bold, imaginative, and memorable artistic choices while maintaining visual harmony with the overall card style and tone. Style: \").concat(styleModifier, \"\\n\\n3. Right Interior (Story Climax): BE CREATIVE WITH MESSAGE DESIGN! \").concat(isHandwrittenMessage ? \"Design with elegant writing space that complements the visual story from left interior. Position decorative elements safely away from top/bottom edges. Create innovative and artistic decorative elements, borders, or flourishes that are unique and memorable - NO PEOPLE or characters.\" : 'Include message text: \"'.concat(messageContent, \"\\\" positioned safely in center area (avoid top/bottom 10% of image) integrated into beautiful, innovative decorative artwork. HANDWRITING STYLE: Write the message in beautiful, clearly readable handwritten cursive script that feels elegant and personal. The handwriting should be legible, flowing, and have natural character - not overly perfect but graceful and warm. Use a nice pen-style appearance with natural ink flow and slight variations in line weight. Think of sophisticated calligraphy that's still approachable and easy to read. Make the handwriting feel genuine and heartfelt. Think beyond typical florals and patterns - create something unexpected and artistic that perfectly frames the handwritten message - NO PEOPLE or characters.\"), \" This should feel like the emotional peak of the card experience, harmonizing with the left interior as a cohesive spread. Avoid clich\\xe9 designs and create something genuinely special!\").concat(handwritingSampleUrl ? \" Match the provided handwriting style sample exactly.\" : \" Use the elegant cursive handwriting style described above.\", \" Style: \").concat(styleModifier, \"\\n\\n4. \") : \"\", \"Back Cover (Story Resolution): BE SUBTLY CREATIVE! Create a simple yet innovative decorative design that brings peaceful closure to the visual story. Reference subtle elements from the front cover but keep it minimal and serene - NO PEOPLE, just beautiful, unexpected artistic elements that go beyond typical patterns or florals. IMPORTANT: Leave the bottom-right corner area (approximately 1 inch square) completely clear and undecorated - this space should remain empty. Focus decorative elements toward the center and left side of the design. Think of something quietly beautiful and memorable that complements the overall design while being genuinely unique. This should feel like a peaceful, artistic ending that surprises with its subtle creativity. Style: \").concat(styleModifier, '\\n\\nVISUAL CONTINUITY CHECKLIST:\\n- Same color palette across all sections\\n- Consistent lighting/time of day\\n- Same artistic techniques and brushwork\\n- Recurring visual motifs or symbols (but make them unique and memorable!)\\n- Progressive emotional journey from introduction to resolution\\n- Front cover: stylized cartoon/illustrated characters if people are needed for the theme\\n- Left interior: CREATIVE FREEDOM but NO PEOPLE unless user specifically requested people in their description\\n- Right interior: focus on message space with innovative decorative elements (NO PEOPLE)\\n- Back cover: simple yet creative decorative design without text or people\\n- Use simplified, friendly, charming character design if including people (front cover only)\\n- CREATIVITY PRIORITY: Always choose the more innovative, surprising, and memorable option over generic designs\\n\\nReturn JSON:\\n{\\n  \"frontCover\": \"detailed prompt with story opening elements\",\\n  \"backCover\": \"detailed prompt with story conclusion elements\"').concat(!isFrontBackOnly ? ',\\n  \"leftInterior\": \"detailed prompt with story development elements\",\\n  \"rightInterior\": \"detailed prompt with story climax elements\"' : \"\", \"\\n}\");\n            // Generate multiple unique prompt sets in parallel\n            const promptGenerationPromises = Array.from({\n                length: numberOfCards\n            }, (_, cardIndex)=>{\n                const uniquePromptQuery = basePromptGenerationQuery + \"\\n\\n\\uD83C\\uDFA8 CARD VARIANT \".concat(cardIndex + 1, ' CREATIVE DIRECTION: \\nCreate a completely unique visual interpretation that\\'s distinctly different from other possible variants. Use different:\\n- Color palettes and mood lighting\\n- Artistic composition and layout approaches  \\n- Creative visual metaphors and symbols\\n- Character designs and poses (if applicable)\\n- Background elements and settings\\n- Typography styles and text placement\\n- Overall creative theme while keeping same core message\\n\\nMake this card variant stand out as its own unique artistic vision!\\n\\nReturn JSON:\\n{\\n  \"frontCover\": \"detailed prompt with story opening elements\",\\n  \"backCover\": \"detailed prompt with story conclusion elements\"').concat(!isFrontBackOnly ? ',\\n  \"leftInterior\": \"detailed prompt with story development elements\",\\n  \"rightInterior\": \"detailed prompt with story climax elements\"' : \"\", \"\\n}\");\n                return chatWithAI(uniquePromptQuery, {\n                    jsonSchema: {\n                        type: \"object\",\n                        properties: {\n                            frontCover: {\n                                type: \"string\"\n                            },\n                            backCover: {\n                                type: \"string\"\n                            },\n                            ...isFrontBackOnly ? {} : {\n                                leftInterior: {\n                                    type: \"string\"\n                                },\n                                rightInterior: {\n                                    type: \"string\"\n                                }\n                            }\n                        },\n                        required: [\n                            \"frontCover\",\n                            \"backCover\",\n                            ...isFrontBackOnly ? [] : [\n                                \"leftInterior\",\n                                \"rightInterior\"\n                            ]\n                        ]\n                    },\n                    includeThoughts: false // Don't include thinking content for prompt generation\n                });\n            });\n            // Wait for all prompt generations to complete\n            const allGeneratedPrompts = await Promise.all(promptGenerationPromises);\n            setGenerationProgress(\"✅ \".concat(numberOfCards, \" brilliant design\").concat(numberOfCards > 1 ? \"s\" : \"\", \" ready! Now painting them into reality...\"));\n            // Generate all images in parallel\n            setGenerationProgress(\"\\uD83D\\uDDBC️ Generating your \".concat(numberOfCards, \" card\").concat(numberOfCards > 1 ? \"s\" : \"\", \" with \").concat(isFrontBackOnly ? \"2\" : \"4\", \" images each...\"));\n            // Starting image generation\n            // Set section states to loading\n            setSectionLoadingStates({\n                frontCover: \"loading\",\n                backCover: \"idle\",\n                leftInterior: isFrontBackOnly ? \"idle\" : \"idle\",\n                rightInterior: isFrontBackOnly ? \"idle\" : \"idle\"\n            });\n            // Prepare input images for each section\n            const frontCoverInputImages = [];\n            const backCoverInputImages = [];\n            const leftInteriorInputImages = [];\n            const rightInteriorInputImages = [];\n            // Handle reference images - only for models with direct image support\n            if (referenceImageUrls.length > 0 && modelToUse === \"gpt-image-1\") {\n                // GPT-1 supports direct image input - pass reference images directly\n                frontCoverInputImages.push(...referenceImageUrls);\n                console.log(\"\\uD83D\\uDD0D DEBUG: Added reference images to frontCoverInputImages:\", referenceImageUrls);\n                console.log(\"\\uD83D\\uDD0D DEBUG: frontCoverInputImages length:\", frontCoverInputImages.length);\n                setGenerationProgress(\"✨ Reference photos will be used directly for character creation...\");\n                sonner__WEBPACK_IMPORTED_MODULE_13__.toast.success(\"\\uD83D\\uDCF8 \".concat(referenceImageUrls.length, \" reference photo\").concat(referenceImageUrls.length > 1 ? \"s\" : \"\", \" ready for character creation!\"));\n            }\n            if (modelToUse === \"gpt-image-1\") {\n                // Add handwriting sample to right interior for message styling\n                if (handwritingSampleUrl && !isFrontBackOnly) {\n                    rightInteriorInputImages.push(handwritingSampleUrl);\n                }\n            }\n            // Create payloads for all cards with their unique prompts\n            const allCardPayloads = [];\n            // Create payloads for each card with its unique prompts\n            allGeneratedPrompts.forEach((generatedPrompts, cardIndex)=>{\n                // Enhance front cover prompt with reference image instructions if available\n                let enhancedFrontCoverPrompt = generatedPrompts.frontCover;\n                if (referenceImageUrls.length > 0 && modelToUse === \"gpt-image-1\") {\n                    // GPT-1 with direct image input - focus on character creation\n                    enhancedFrontCoverPrompt = \"\".concat(generatedPrompts.frontCover, \"\\n\\nCRITICAL CHARACTER REFERENCE INSTRUCTIONS: I have provided \").concat(referenceImageUrls.length > 1 ? \"multiple reference photos\" : \"a reference photo\", \" as input image\").concat(referenceImageUrls.length > 1 ? \"s\" : \"\", \". You MUST create cartoon/illustrated characters that accurately represent the people in \").concat(referenceImageUrls.length > 1 ? \"these reference photos\" : \"this reference photo\", \" with high fidelity to their appearance.\\n\\nMANDATORY CHARACTER MATCHING REQUIREMENTS:\\n- EXACT hair color, hair style, and hair length from the reference photo\\n- PRECISE facial features: eye color, eye shape, nose shape, face structure, skin tone\\n- ACCURATE clothing: replicate the EXACT clothing items, colors, patterns, and styles worn in the reference photo\\n- COMPLETE accessories: include ALL accessories visible (glasses, jewelry, hats, watches, bags, etc.)\\n- CORRECT body proportions and posture as shown in the reference\\n- FAITHFUL age representation and gender presentation\\n- AUTHENTIC facial expressions and poses from the reference image, learn towards making the people look happier unless the user specifically asks for a different expression.\\n\\n\").concat(imageTransformation || \"Study every detail of the people in the reference image and recreate them as stylized cartoon characters while maintaining 100% accuracy to their distinctive visual features. The characters must be immediately recognizable as the same people from the reference photo. Pay special attention to clothing details, accessories, and unique personal style elements that make each person distinctive.\", \"\\n\\nThe cartoon style should be charming and artistic while preserving complete visual accuracy to the reference photo. Every person in the reference must be represented with their exact appearance, clothing, and accessories.\");\n                }\n                const cardPayloads = [\n                    {\n                        tool_name: \"generate_images_with_prompts\",\n                        arguments: {\n                            user_number: \"+17145986105\",\n                            prompts: [\n                                enhancedFrontCoverPrompt\n                            ],\n                            model_version: modelToUse,\n                            aspect_ratio: paperConfig.aspectRatio,\n                            quality: isDraftMode ? \"low\" : \"high\",\n                            output_format: \"jpeg\",\n                            output_compression: 100,\n                            moderation: \"low\",\n                            ...frontCoverInputImages.length > 0 && {\n                                input_images: frontCoverInputImages\n                            },\n                            // Debug logging\n                            ...(()=>{\n                                if (frontCoverInputImages.length > 0) {\n                                    console.log(\"\\uD83D\\uDD0D DEBUG: Sending input_images to MCP:\", frontCoverInputImages);\n                                }\n                                return {};\n                            })()\n                        },\n                        user_id_context: \"+17145986105\",\n                        cardIndex,\n                        sectionIndex: 0,\n                        sectionName: \"Front Cover\"\n                    },\n                    {\n                        tool_name: \"generate_images_with_prompts\",\n                        arguments: {\n                            user_number: \"+17145986105\",\n                            prompts: [\n                                generatedPrompts.backCover\n                            ],\n                            model_version: modelToUse,\n                            aspect_ratio: paperConfig.aspectRatio,\n                            quality: isDraftMode ? \"low\" : \"high\",\n                            output_format: \"jpeg\",\n                            output_compression: 100,\n                            moderation: \"low\",\n                            ...backCoverInputImages.length > 0 && {\n                                input_images: backCoverInputImages\n                            }\n                        },\n                        user_id_context: \"+17145986105\",\n                        cardIndex,\n                        sectionIndex: 1,\n                        sectionName: \"Back Cover\"\n                    }\n                ];\n                // Add interior images if not front/back only\n                if (!isFrontBackOnly && generatedPrompts.leftInterior && generatedPrompts.rightInterior) {\n                    cardPayloads.push({\n                        tool_name: \"generate_images_with_prompts\",\n                        arguments: {\n                            user_number: \"+17145986105\",\n                            prompts: [\n                                generatedPrompts.leftInterior\n                            ],\n                            model_version: modelToUse,\n                            aspect_ratio: paperConfig.aspectRatio,\n                            quality: isDraftMode ? \"low\" : \"high\",\n                            output_format: \"jpeg\",\n                            output_compression: 100,\n                            moderation: \"low\",\n                            ...leftInteriorInputImages.length > 0 && {\n                                input_images: leftInteriorInputImages\n                            }\n                        },\n                        user_id_context: \"+17145986105\",\n                        cardIndex,\n                        sectionIndex: 2,\n                        sectionName: \"Left Interior\"\n                    }, {\n                        tool_name: \"generate_images_with_prompts\",\n                        arguments: {\n                            user_number: \"+17145986105\",\n                            prompts: [\n                                generatedPrompts.rightInterior\n                            ],\n                            model_version: modelToUse,\n                            aspect_ratio: paperConfig.aspectRatio,\n                            quality: isDraftMode ? \"low\" : \"high\",\n                            output_format: \"jpeg\",\n                            output_compression: 100,\n                            moderation: \"low\",\n                            ...rightInteriorInputImages.length > 0 && {\n                                input_images: rightInteriorInputImages\n                            }\n                        },\n                        user_id_context: \"+17145986105\",\n                        cardIndex,\n                        sectionIndex: 3,\n                        sectionName: \"Right Interior\"\n                    });\n                }\n                allCardPayloads.push(...cardPayloads);\n            });\n            // Track image completion per card\n            const completedImages = new Map();\n            let completedCount = 0;\n            const completedCards = [];\n            // Clear any existing cards during generation\n            setGeneratedCards([]);\n            setGeneratedCard(null);\n            setSelectedCardIndex(0);\n            setGenerationProgress(\"\\uD83C\\uDFA8 Artists at work! Creating \".concat(allCardPayloads.length, \" stunning images for your \").concat(numberOfCards, \" card\").concat(numberOfCards > 1 ? \"s\" : \"\", \"...\"));\n            // Start 2:30 countdown now that we're actually generating images\n            setCountdown(150);\n            const interval = setInterval(()=>{\n                setCountdown((prev)=>{\n                    if (prev <= 1) {\n                        clearInterval(interval);\n                        return 0;\n                    }\n                    return prev - 1;\n                });\n            }, 1000);\n            setCountdownInterval(interval);\n            // Helper function to regenerate prompt if blocked by safety system\n            const regeneratePromptIfNeeded = async (originalPrompt, sectionName)=>{\n                try {\n                    const regenerationQuery = 'The following image prompt was blocked by the safety system. Please rewrite it to be more appropriate while keeping the same artistic intent and style:\\n\\nBLOCKED PROMPT: \"'.concat(originalPrompt, \"\\\"\\n\\nRequirements:\\n- Keep the same artistic style and visual goals\\n- Remove any content that might trigger safety filters\\n- Maintain the full-bleed design requirements\\n- IMPORTANT: Keep text, faces, and key elements at least 10% away from top/bottom edges (small amount may be cropped in printing)\\n- Focus on safe, family-friendly imagery\\n- Keep the same color palette and mood\\n- Ensure it's appropriate for a greeting card\\n\\nReturn only the rewritten prompt, no explanations.\");\n                    const newPrompt = await chatWithAI(regenerationQuery, {\n                        model: \"gemini-2.5-pro\",\n                        includeThoughts: false // Don't include thinking content for prompt regeneration\n                    });\n                    return (newPrompt === null || newPrompt === void 0 ? void 0 : newPrompt.trim()) || originalPrompt;\n                } catch (error) {\n                    console.error(\"Failed to regenerate prompt:\", error);\n                    return originalPrompt;\n                }\n            };\n            // Helper function to process a single image with retry logic\n            const processSingleImage = async function(payload, index, sectionName) {\n                let cardIndex = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : 0;\n                let currentPayload = payload;\n                let retryCount = 0;\n                const maxRetries = 2;\n                let hasTriedTextFallback = false;\n                while(retryCount <= maxRetries){\n                    try {\n                        const response = await fetch(\"\".concat(BACKEND_API_BASE_URL, \"/internal/call_mcp_tool\"), {\n                            method: \"POST\",\n                            headers: {\n                                \"Content-Type\": \"application/json\"\n                            },\n                            body: JSON.stringify(currentPayload)\n                        });\n                        if (!response.ok) {\n                            throw new Error(\"HTTP \".concat(response.status));\n                        }\n                        const result = await response.json();\n                        // Check for safety system error\n                        if (result.result && typeof result.result === \"string\") {\n                            var _parsedResult_results__error, _parsedResult_results_, _parsedResult_results;\n                            const parsedResult = JSON.parse(result.result);\n                            if (parsedResult.status === \"error\" && ((_parsedResult_results = parsedResult.results) === null || _parsedResult_results === void 0 ? void 0 : (_parsedResult_results_ = _parsedResult_results[0]) === null || _parsedResult_results_ === void 0 ? void 0 : (_parsedResult_results__error = _parsedResult_results_.error) === null || _parsedResult_results__error === void 0 ? void 0 : _parsedResult_results__error.includes(\"moderation_blocked\"))) {\n                                if (retryCount < maxRetries) {\n                                    // Regenerate prompt and retry\n                                    const originalPrompt = currentPayload.arguments.prompts[0];\n                                    const newPrompt = await regeneratePromptIfNeeded(originalPrompt, sectionName);\n                                    currentPayload = {\n                                        ...currentPayload,\n                                        arguments: {\n                                            ...currentPayload.arguments,\n                                            prompts: [\n                                                newPrompt\n                                            ]\n                                        }\n                                    };\n                                    retryCount++;\n                                    continue;\n                                } else {\n                                    throw new Error(\"Safety system blocked \".concat(sectionName, \" after \").concat(maxRetries, \" attempts\"));\n                                }\n                            }\n                        // Reference image analysis is now done upfront, so no fallback needed\n                        }\n                        if (result.error && result.error !== \"None\" && result.error !== null) {\n                            throw new Error(result.error);\n                        }\n                        // Parse and extract image URL\n                        const data = JSON.parse(result.result);\n                        if (data.status !== \"success\") {\n                            throw new Error(\"\".concat(sectionName, \" generation failed\"));\n                        }\n                        const imageUrl = Array.isArray(data.results[0]) ? data.results[0][0] : data.results[0];\n                        // Track completed images per card\n                        const imageKey = \"\".concat(cardIndex, \"-\").concat(index);\n                        completedImages.set(imageKey, imageUrl);\n                        completedCount++;\n                        const totalImages = allCardPayloads.length;\n                        setGenerationProgress(\"\\uD83C\\uDFA8 \".concat(completedCount, \"/\").concat(totalImages, \" masterpieces complete! Just finished Card \").concat(cardIndex + 1, \" \").concat(sectionName, \"...\"));\n                        // Update section loading states and progress\n                        const progressPercentage = 30 + Math.floor(completedCount / totalImages * 50); // 30-80% for image generation\n                        // Update individual section states\n                        setSectionLoadingStates((prev)=>{\n                            const newState = {\n                                ...prev\n                            };\n                            if (sectionName === \"Front Cover\") {\n                                newState.frontCover = \"completed\";\n                            } else if (sectionName === \"Back Cover\") {\n                                newState.backCover = \"completed\";\n                            } else if (sectionName === \"Left Interior\") {\n                                newState.leftInterior = \"completed\";\n                            } else if (sectionName === \"Right Interior\") {\n                                newState.rightInterior = \"completed\";\n                            }\n                            return newState;\n                        });\n                        // Section completion logged\n                        // Check if this card is now complete\n                        const sectionsPerCard = isFrontBackOnly ? 2 : 4;\n                        const cardStartIndex = cardIndex * sectionsPerCard;\n                        const cardEndIndex = cardStartIndex + sectionsPerCard - 1;\n                        let isCardComplete = true;\n                        for(let i = cardStartIndex; i <= cardEndIndex; i++){\n                            const checkKey = \"\".concat(cardIndex, \"-\").concat(i - cardStartIndex);\n                            if (!completedImages.has(checkKey)) {\n                                isCardComplete = false;\n                                break;\n                            }\n                        }\n                        // If card is complete, update the cards state\n                        if (isCardComplete) {\n                            setGeneratedCards((prevCards)=>{\n                                const updatedCards = [\n                                    ...prevCards\n                                ];\n                                // Create new card object if it doesn't exist\n                                if (!updatedCards[cardIndex]) {\n                                    updatedCards[cardIndex] = {\n                                        id: \"card-\".concat(cardIndex, \"-\").concat(Date.now()),\n                                        prompt: prompt,\n                                        frontCover: \"\",\n                                        backCover: \"\",\n                                        leftPage: \"\",\n                                        rightPage: \"\",\n                                        createdAt: new Date()\n                                    };\n                                }\n                                const updatedCard = {\n                                    ...updatedCards[cardIndex]\n                                };\n                                // Set all images for this completed card\n                                updatedCard.frontCover = completedImages.get(\"\".concat(cardIndex, \"-0\")) || \"\";\n                                updatedCard.backCover = completedImages.get(\"\".concat(cardIndex, \"-1\")) || \"\";\n                                if (!isFrontBackOnly) {\n                                    updatedCard.leftPage = completedImages.get(\"\".concat(cardIndex, \"-2\")) || \"\";\n                                    updatedCard.rightPage = completedImages.get(\"\".concat(cardIndex, \"-3\")) || \"\";\n                                } else {\n                                    // Set fallbacks for front/back only mode\n                                    updatedCard.leftPage = updatedCard.backCover;\n                                    updatedCard.rightPage = updatedCard.frontCover;\n                                }\n                                // Update prompt to use effective prompt\n                                updatedCard.prompt = effectivePrompt;\n                                // Store the generated prompts for factory use\n                                updatedCard.generatedPrompts = {\n                                    frontCover: allGeneratedPrompts[cardIndex].frontCover,\n                                    backCover: allGeneratedPrompts[cardIndex].backCover,\n                                    leftInterior: !isFrontBackOnly ? allGeneratedPrompts[cardIndex].leftInterior : undefined,\n                                    rightInterior: !isFrontBackOnly ? allGeneratedPrompts[cardIndex].rightInterior : undefined\n                                };\n                                updatedCards[cardIndex] = updatedCard;\n                                // Store completed card locally for email use\n                                completedCards[cardIndex] = updatedCard;\n                                // If this is the first completed card or the selected card, set it as main display\n                                if (!generatedCard || cardIndex === selectedCardIndex) {\n                                    setGeneratedCard(updatedCard);\n                                }\n                                return updatedCards;\n                            });\n                            sonner__WEBPACK_IMPORTED_MODULE_13__.toast.success(\"\\uD83C\\uDF89 Card \".concat(cardIndex + 1, \" is complete and ready!\"));\n                        }\n                        return imageUrl;\n                    } catch (error) {\n                        if (retryCount === maxRetries) {\n                            throw new Error(\"Failed to generate \".concat(sectionName, \": \").concat(error instanceof Error ? error.message : \"Unknown error\"));\n                        }\n                        retryCount++;\n                    }\n                }\n            };\n            // Start all image generations in parallel (all cards, all sections) with unique prompts\n            const imagePromises = allCardPayloads.map((payload)=>processSingleImage(payload, payload.sectionIndex, payload.sectionName, payload.cardIndex));\n            // Wait for all to complete\n            await Promise.all(imagePromises);\n            // Finalizing images\n            // Build final cards from completed images for email use\n            const finalCards = [];\n            for(let cardIndex = 0; cardIndex < numberOfCards; cardIndex++){\n                const card = {\n                    id: \"card-\".concat(cardIndex, \"-\").concat(Date.now()),\n                    prompt: effectivePrompt,\n                    frontCover: completedImages.get(\"\".concat(cardIndex, \"-0\")) || \"\",\n                    backCover: completedImages.get(\"\".concat(cardIndex, \"-1\")) || \"\",\n                    leftPage: isFrontBackOnly ? completedImages.get(\"\".concat(cardIndex, \"-1\")) || \"\" : completedImages.get(\"\".concat(cardIndex, \"-2\")) || \"\",\n                    rightPage: isFrontBackOnly ? completedImages.get(\"\".concat(cardIndex, \"-0\")) || \"\" : completedImages.get(\"\".concat(cardIndex, \"-3\")) || \"\",\n                    createdAt: new Date(),\n                    // Include the generated prompts for factory use\n                    generatedPrompts: {\n                        frontCover: allGeneratedPrompts[cardIndex].frontCover,\n                        backCover: allGeneratedPrompts[cardIndex].backCover,\n                        leftInterior: !isFrontBackOnly ? allGeneratedPrompts[cardIndex].leftInterior : undefined,\n                        rightInterior: !isFrontBackOnly ? allGeneratedPrompts[cardIndex].rightInterior : undefined\n                    }\n                };\n                finalCards.push(card);\n            }\n            // Apply QR codes to all cards' back covers\n            setGenerationProgress(\"✨ Adding interactive QR codes to your cards...\");\n            console.log(\"\\uD83D\\uDD04 Starting QR overlay process for\", finalCards.length, \"cards\");\n            console.log(\"\\uD83D\\uDD17 Card URL:\", cardUrl);\n            for(let i = 0; i < finalCards.length; i++){\n                var _finalCards_i_backCover;\n                console.log(\"\\uD83C\\uDFAF Processing card \".concat(i + 1, \":\"), {\n                    hasBackCover: !!finalCards[i].backCover,\n                    hasCardUrl: !!cardUrl,\n                    backCoverLength: (_finalCards_i_backCover = finalCards[i].backCover) === null || _finalCards_i_backCover === void 0 ? void 0 : _finalCards_i_backCover.length\n                });\n            // QR code will be applied after successful API storage\n            }\n            // Display cards will be updated after successful API storage and QR code application\n            setGenerationProgress(\"✅ Card completed, preview down below!\");\n            setIsCardCompleted(true);\n            // Generation complete\n            setProgressPercentage(100);\n            setGenerationProgress(\"Generation complete!\");\n            // Complete and remove job from localStorage and server\n            if (currentJobId) {\n                // Store completion result on server\n                try {\n                    await fetch(\"/api/store-job-result\", {\n                        method: \"POST\",\n                        headers: {\n                            \"Content-Type\": \"application/json\"\n                        },\n                        body: JSON.stringify({\n                            jobId: currentJobId,\n                            status: \"completed\",\n                            cardData: generatedCards[0] || generatedCard\n                        })\n                    });\n                } catch (error) {\n                    console.error(\"Failed to store job result on server:\", error);\n                }\n                removeJobFromStorage(currentJobId);\n                setCurrentJobId(null);\n            }\n            if (numberOfCards === 1) {\n                sonner__WEBPACK_IMPORTED_MODULE_13__.toast.success(\"\\uD83C\\uDF89 Your complete card with QR code is ready!\");\n            } else {\n                sonner__WEBPACK_IMPORTED_MODULE_13__.toast.success(\"\\uD83C\\uDF89 All \".concat(numberOfCards, \" cards with QR codes are ready! Choose your favorite below.\"));\n            }\n            // Clear the completion message after 3 seconds but keep isCardCompleted true\n            setTimeout(()=>{\n                setGenerationProgress(\"\");\n            }, 3000);\n            // Send thank you email if user provided email\n            if (userEmail.trim()) {\n                const cardTypeForEmail = selectedType === \"custom\" ? customCardType : selectedType;\n                try {\n                    // Use the first final card (which now has QR code)\n                    const cardToStore = finalCards[0];\n                    if (!cardToStore || !cardToStore.frontCover) {\n                        console.log(\"No card data available for sharing\");\n                        sendThankYouEmail(userEmail, cardTypeForEmail, \"https://vibecarding.com\");\n                        return;\n                    }\n                    // Store card data with pre-generated card ID\n                    const cardData = {\n                        id: cardId,\n                        prompt: effectivePrompt,\n                        frontCover: cardToStore.frontCover || \"\",\n                        backCover: cardToStore.backCover || \"\",\n                        leftPage: cardToStore.leftPage || \"\",\n                        rightPage: cardToStore.rightPage || \"\"\n                    };\n                    console.log(\"Storing card data:\", cardData);\n                    const cardStoreResponse = await fetch(\"/api/cards/store\", {\n                        method: \"POST\",\n                        headers: {\n                            \"Content-Type\": \"application/json\"\n                        },\n                        body: JSON.stringify(cardData)\n                    });\n                    if (cardStoreResponse.ok) {\n                        const cardStoreData = await cardStoreResponse.json();\n                        console.log(\"Card stored successfully, API response:\", cardStoreData);\n                        // Use the share_url from the API response (contains friendly name)\n                        const actualShareUrl = cardStoreData.share_url || cardUrl;\n                        console.log(\"Using actual share URL for QR code:\", actualShareUrl);\n                        // Now apply QR codes to all cards after successful API storage\n                        for(let i = 0; i < finalCards.length; i++){\n                            if (finalCards[i].backCover && actualShareUrl) {\n                                try {\n                                    const originalBackCover = finalCards[i].backCover;\n                                    console.log(\"\\uD83D\\uDD04 Applying QR overlay to card \".concat(i + 1, \" after API storage...\"));\n                                    finalCards[i].backCover = await overlayQRCodeOnImage(originalBackCover, actualShareUrl);\n                                    console.log(\"✅ QR overlay complete for card \".concat(i + 1));\n                                } catch (error) {\n                                    console.error(\"❌ Failed to overlay QR code on card \".concat(i + 1, \":\"), error);\n                                // Card keeps original back cover if QR overlay fails\n                                }\n                            } else {\n                                console.log(\"⚠️ Skipping QR overlay for card \".concat(i + 1, \" - missing back cover or URL\"));\n                            }\n                        }\n                        // Update the displayed cards state with QR-enhanced versions\n                        console.log(\"\\uD83D\\uDD04 Updating displayed cards with QR codes after API storage...\");\n                        setGeneratedCards([\n                            ...finalCards\n                        ]);\n                        // Also update the main displayed card if needed\n                        if (finalCards.length > 0) {\n                            setGeneratedCard(finalCards[0]);\n                        }\n                        // Store the actual share URL in the first card for later use by Share button\n                        if (finalCards[0]) {\n                            finalCards[0].shareUrl = actualShareUrl;\n                            // Also update the React state with the share URL\n                            setGeneratedCards((prevCards)=>{\n                                const updated = [\n                                    ...prevCards\n                                ];\n                                if (updated[0]) {\n                                    updated[0].shareUrl = actualShareUrl;\n                                }\n                                return updated;\n                            });\n                        }\n                        sendThankYouEmail(userEmail, cardTypeForEmail, actualShareUrl);\n                    } else {\n                        console.error(\"Failed to store card:\", cardStoreResponse.status, await cardStoreResponse.text());\n                        // Fallback to generic URL if store fails\n                        sendThankYouEmail(userEmail, cardTypeForEmail, \"https://vibecarding.com\");\n                    }\n                } catch (error) {\n                    console.error(\"Error storing card for email:\", error);\n                    // Fallback to generic URL if store fails\n                    sendThankYouEmail(userEmail, cardTypeForEmail, \"https://vibecarding.com\");\n                }\n            }\n            // Clear countdown timer on successful completion\n            if (countdownInterval) {\n                clearInterval(countdownInterval);\n                setCountdownInterval(null);\n            }\n            setCountdown(0);\n        } catch (error) {\n            setGenerationProgress(\"\");\n            sonner__WEBPACK_IMPORTED_MODULE_13__.toast.error(\"Failed to generate card. Please try again.\");\n            console.error(\"Card generation error:\", error);\n            // Remove failed job from localStorage and update server\n            if (currentJobId) {\n                // Store failure result on server\n                try {\n                    await fetch(\"/api/store-job-result\", {\n                        method: \"POST\",\n                        headers: {\n                            \"Content-Type\": \"application/json\"\n                        },\n                        body: JSON.stringify({\n                            jobId: currentJobId,\n                            status: \"failed\",\n                            error: error instanceof Error ? error.message : \"Unknown error\"\n                        })\n                    });\n                } catch (serverError) {\n                    console.error(\"Failed to store job failure on server:\", serverError);\n                }\n                removeJobFromStorage(currentJobId);\n                setCurrentJobId(null);\n            }\n        } finally{\n            setIsGenerating(false);\n            // Clear countdown timer\n            if (countdownInterval) {\n                clearInterval(countdownInterval);\n                setCountdownInterval(null);\n            }\n            setCountdown(0);\n        }\n    };\n    // Show print confirmation dialog\n    const handlePrintClick = ()=>{\n        if (!generatedCard) return;\n        // Check if user email is provided\n        if (!userEmail.trim()) {\n            sonner__WEBPACK_IMPORTED_MODULE_13__.toast.error(\"Please enter your email address before printing\");\n            return;\n        }\n        setPrintOption(\"physical\"); // Reset to default\n        setShowPrintConfirmation(true);\n    };\n    // Handle template selection for preview\n    const handleTemplateSelect = async (template)=>{\n        try {\n            // Show loading state\n            setIsGenerating(true);\n            setGenerationProgress(\"\\uD83D\\uDD0D Loading complete template data...\");\n            // Close template gallery first\n            setShowTemplateGallery(false);\n            // Check if template has all required images\n            const hasAllImages = template.frontCover && template.backCover && (isFrontBackOnly || template.leftPage && template.rightPage);\n            if (hasAllImages) {\n                // Template is complete, load directly\n                setGeneratedCard(template);\n                setGeneratedCards([\n                    template\n                ]);\n                setSelectedCardIndex(0);\n                setIsCardCompleted(true);\n                setIsGenerating(false);\n                setGenerationProgress(\"\");\n                sonner__WEBPACK_IMPORTED_MODULE_13__.toast.success(\"✨ Template loaded! You can now print or email this card from the preview below.\");\n            } else {\n                // Template is incomplete, try to fetch complete data from API\n                setGenerationProgress(\"\\uD83D\\uDCE1 Fetching complete card images...\");\n                try {\n                    // Try to fetch the complete card data from the server\n                    const response = await fetch(\"/api/cards/list?limit=1&search=\".concat(encodeURIComponent(template.id)));\n                    if (response.ok) {\n                        const data = await response.json();\n                        const foundCard = data.cards.find((card)=>card.id === template.id);\n                        if (foundCard && foundCard.frontCover && foundCard.backCover && (isFrontBackOnly || foundCard.leftPage && foundCard.rightPage)) {\n                            // Found complete card data\n                            const completeCard = {\n                                id: foundCard.id,\n                                prompt: foundCard.prompt || template.prompt,\n                                frontCover: foundCard.frontCover,\n                                backCover: foundCard.backCover,\n                                leftPage: foundCard.leftPage || foundCard.frontCover,\n                                rightPage: foundCard.rightPage || foundCard.frontCover,\n                                createdAt: new Date(foundCard.createdAt * 1000),\n                                shareUrl: foundCard.shareUrl || template.shareUrl,\n                                generatedPrompts: foundCard.generatedPrompts || template.generatedPrompts\n                            };\n                            setGeneratedCard(completeCard);\n                            setGeneratedCards([\n                                completeCard\n                            ]);\n                            setSelectedCardIndex(0);\n                            setIsCardCompleted(true);\n                            setIsGenerating(false);\n                            setGenerationProgress(\"\");\n                            sonner__WEBPACK_IMPORTED_MODULE_13__.toast.success(\"✅ Complete template loaded with all images!\");\n                        } else {\n                            throw new Error(\"Complete card data not found\");\n                        }\n                    } else {\n                        throw new Error(\"Failed to fetch card data\");\n                    }\n                } catch (fetchError) {\n                    console.log(\"Could not fetch complete card data, using fallback approach:\", fetchError);\n                    // Fallback: Use front cover for missing images\n                    const fallbackCard = {\n                        ...template,\n                        backCover: template.backCover || template.frontCover,\n                        leftPage: template.leftPage || template.frontCover,\n                        rightPage: template.rightPage || template.frontCover\n                    };\n                    setGeneratedCard(fallbackCard);\n                    setGeneratedCards([\n                        fallbackCard\n                    ]);\n                    setSelectedCardIndex(0);\n                    setIsCardCompleted(true);\n                    setIsGenerating(false);\n                    setGenerationProgress(\"\");\n                    sonner__WEBPACK_IMPORTED_MODULE_13__.toast.info(\"\\uD83D\\uDCCB Template loaded! Some images may be repeated from the front cover.\");\n                }\n            }\n        } catch (error) {\n            console.error(\"Error loading template:\", error);\n            setIsGenerating(false);\n            setGenerationProgress(\"\");\n            sonner__WEBPACK_IMPORTED_MODULE_13__.toast.error(\"Failed to load template. Please try again.\");\n        }\n    };\n    // Actual print function after confirmation\n    // Extracted AI Analysis Logic for Reuse\n    const performAIAnalysis = async (cardsToAnalyze, searchQuery)=>{\n        const adaptiveBatchSize = Math.min(Math.max(10, Math.floor(cardsToAnalyze.length / 8)), searchQuery.split(\" \").length > 3 ? 15 : 25 // Smaller batches for complex queries\n        );\n        const batches = [];\n        for(let i = 0; i < cardsToAnalyze.length; i += adaptiveBatchSize){\n            batches.push(cardsToAnalyze.slice(i, i + adaptiveBatchSize));\n        }\n        const analysisPrompt = 'User is searching for: \"'.concat(searchQuery, \"\\\"\\n\\nAnalyze each greeting card image and rate how well it matches the user's search query on a scale of 1-100.\\n\\nConsider:\\n- Visual style matching (watercolor, cartoon, realistic, etc.)\\n- Colors and themes\\n- Subject matter (people, animals, objects, nature, etc.)\\n- Mood and atmosphere\\n- Occasion appropriateness\\n- Overall relevance to the search query\\n\\nRate each card from 1-100 where:\\n- 90-100: Perfect match for the search query\\n- 70-89: Very good match with most elements matching\\n- 50-69: Good match with some relevant elements\\n- 30-49: Partial match with few relevant elements  \\n- 1-29: Poor match, not relevant to search\\n\\nReturn only the numeric score (1-100) for each image.\");\n        // Process ALL batches in parallel for maximum speed\n        const batchPromises = batches.map(async (batch, batchIndex)=>{\n            const validCards = batch.filter((card)=>card.frontCover);\n            const urls = validCards.map((card)=>card.frontCover);\n            const batchResults = [];\n            if (urls.length === 0) {\n                batch.forEach((card)=>{\n                    var _card_prompt;\n                    const textScore = ((_card_prompt = card.prompt) === null || _card_prompt === void 0 ? void 0 : _card_prompt.toLowerCase().includes(searchQuery.toLowerCase())) ? 60 : 20;\n                    batchResults.push({\n                        id: card.id,\n                        card: card,\n                        score: textScore,\n                        analysis: \"No image available\"\n                    });\n                });\n                return batchResults;\n            }\n            try {\n                const response = await fetch(\"/internal/call_mcp_tool\", {\n                    method: \"POST\",\n                    headers: {\n                        \"Content-Type\": \"application/json\"\n                    },\n                    body: JSON.stringify({\n                        tool_name: \"analyze_images\",\n                        arguments: {\n                            urls: urls,\n                            analysis_prompt: analysisPrompt\n                        }\n                    })\n                });\n                if (response.ok) {\n                    const data = await response.json();\n                    if (data.error && data.error !== \"None\" && data.error !== null) {\n                        throw new Error(data.error);\n                    }\n                    let result;\n                    if (typeof data.result === \"string\") {\n                        try {\n                            result = JSON.parse(data.result);\n                        } catch (e) {\n                            result = {\n                                status: \"error\",\n                                message: \"Invalid JSON response\"\n                            };\n                        }\n                    } else {\n                        result = data.result;\n                    }\n                    if (result.status === \"success\" && result.results) {\n                        result.results.forEach((analysisResult, index)=>{\n                            if (index < validCards.length) {\n                                const card = validCards[index];\n                                if (analysisResult.status === \"success\" && analysisResult.analysis) {\n                                    const scoreMatch = analysisResult.analysis.match(/\\b(\\d{1,3})\\b/);\n                                    const score = scoreMatch ? parseInt(scoreMatch[1]) : 0;\n                                    batchResults.push({\n                                        id: card.id,\n                                        card: card,\n                                        score: Math.min(Math.max(score, 0), 100),\n                                        analysis: analysisResult.analysis\n                                    });\n                                } else {\n                                    var _card_prompt;\n                                    const textScore = ((_card_prompt = card.prompt) === null || _card_prompt === void 0 ? void 0 : _card_prompt.toLowerCase().includes(searchQuery.toLowerCase())) ? 60 : 20;\n                                    batchResults.push({\n                                        id: card.id,\n                                        card: card,\n                                        score: textScore,\n                                        analysis: \"Analysis failed, using text fallback\"\n                                    });\n                                }\n                            }\n                        });\n                    } else {\n                        throw new Error(\"Invalid result structure\");\n                    }\n                } else {\n                    throw new Error(\"HTTP \".concat(response.status));\n                }\n            } catch (error) {\n                console.error(\"Failed to analyze batch \".concat(batchIndex + 1, \":\"), error);\n                batch.forEach((card)=>{\n                    var _card_prompt;\n                    const textScore = ((_card_prompt = card.prompt) === null || _card_prompt === void 0 ? void 0 : _card_prompt.toLowerCase().includes(searchQuery.toLowerCase())) ? 60 : 20;\n                    batchResults.push({\n                        id: card.id,\n                        card: card,\n                        score: textScore,\n                        analysis: \"Batch analysis failed, using text fallback\"\n                    });\n                });\n            }\n            return batchResults;\n        });\n        const allBatchResults = await Promise.all(batchPromises);\n        return allBatchResults.flat();\n    };\n    // Enhanced Text-based Template Search Function (Instant)\n    const handleTextTemplateSearch = ()=>{\n        if (!templateSearchQuery.trim()) {\n            sonner__WEBPACK_IMPORTED_MODULE_13__.toast.error(\"Please enter a search query!\");\n            return;\n        }\n        // Get all available cards first\n        const allCards = getCachedCards(1, Math.max(totalCards, 1000));\n        if (allCards.length === 0) {\n            sonner__WEBPACK_IMPORTED_MODULE_13__.toast.error(\"No templates available to search\");\n            return;\n        }\n        const searchTerms = templateSearchQuery.toLowerCase().split(\" \").filter((term)=>term.length > 1);\n        // Score cards based on text relevance (now including generated prompts)\n        const scoredCards = allCards.map((card)=>{\n            const originalPrompt = (card.prompt || \"\").toLowerCase();\n            let score = 0;\n            let matchSources = [];\n            // Build searchable text from multiple sources\n            const searchableTexts = [\n                {\n                    text: originalPrompt,\n                    weight: 10,\n                    source: \"original\"\n                }\n            ];\n            // Add generated prompts if available (these are AI-analyzed descriptions of actual images)\n            if (card.generatedPrompts) {\n                if (card.generatedPrompts.frontCover) {\n                    searchableTexts.push({\n                        text: card.generatedPrompts.frontCover.toLowerCase(),\n                        weight: 8,\n                        source: \"front-cover-analysis\"\n                    });\n                }\n                if (card.generatedPrompts.backCover) {\n                    searchableTexts.push({\n                        text: card.generatedPrompts.backCover.toLowerCase(),\n                        weight: 6,\n                        source: \"back-cover-analysis\"\n                    });\n                }\n                if (card.generatedPrompts.leftInterior) {\n                    searchableTexts.push({\n                        text: card.generatedPrompts.leftInterior.toLowerCase(),\n                        weight: 7,\n                        source: \"left-interior-analysis\"\n                    });\n                }\n                if (card.generatedPrompts.rightInterior) {\n                    searchableTexts.push({\n                        text: card.generatedPrompts.rightInterior.toLowerCase(),\n                        weight: 7,\n                        source: \"right-interior-analysis\"\n                    });\n                }\n            }\n            // Search through all text sources\n            searchTerms.forEach((term)=>{\n                searchableTexts.forEach((param)=>{\n                    let { text, weight, source } = param;\n                    // Exact word match\n                    if (text.includes(term)) {\n                        const termScore = (term.length > 3 ? 10 : 5) * (weight / 10);\n                        score += termScore;\n                        if (!matchSources.includes(source)) {\n                            matchSources.push(source);\n                        }\n                    } else if (text.includes(term.substring(0, Math.max(3, term.length - 1)))) {\n                        const partialScore = 3 * (weight / 10);\n                        score += partialScore;\n                        if (!matchSources.includes(source)) {\n                            matchSources.push(source);\n                        }\n                    }\n                });\n            });\n            // Boost for cards that match multiple terms\n            const matchedTerms = searchTerms.filter((term)=>searchableTexts.some((param)=>{\n                    let { text } = param;\n                    return text.includes(term);\n                })).length;\n            if (matchedTerms > 1) {\n                score += matchedTerms * 5;\n            }\n            // Boost for cards with AI-generated prompts (they have richer descriptions)\n            if (card.generatedPrompts && matchSources.some((source)=>source.includes(\"analysis\"))) {\n                score += 5; // Bonus for AI-analyzed visual content matches\n            }\n            return {\n                ...card,\n                textScore: score,\n                matchSources: matchSources\n            };\n        });\n        // Filter and sort by relevance\n        const filteredCards = scoredCards.filter((card)=>card.textScore > 0).sort((a, b)=>b.textScore - a.textScore).slice(0, 20); // Top 20 text matches\n        setTextFilteredCards(filteredCards);\n        if (filteredCards.length > 0) {\n            const avgScore = Math.round(filteredCards.reduce((sum, card)=>sum + card.textScore, 0) / filteredCards.length);\n            const aiAnalyzedMatches = filteredCards.filter((card)=>{\n                var _card_matchSources;\n                return (_card_matchSources = card.matchSources) === null || _card_matchSources === void 0 ? void 0 : _card_matchSources.some((source)=>source.includes(\"analysis\"));\n            }).length;\n            let successMessage = \"\\uD83D\\uDCDD Found \".concat(filteredCards.length, ' text matches for \"').concat(templateSearchQuery, '\"! Average relevance: ').concat(avgScore);\n            if (aiAnalyzedMatches > 0) {\n                successMessage += \" (\".concat(aiAnalyzedMatches, \" matches found in AI visual analysis!)\");\n            }\n            sonner__WEBPACK_IMPORTED_MODULE_13__.toast.success(successMessage);\n        } else {\n            sonner__WEBPACK_IMPORTED_MODULE_13__.toast.info(\"\\uD83E\\uDD14 No templates found matching your text search. Try different keywords!\");\n        }\n    };\n    // AI Template Search Function with Parallel Image Analysis\n    const handleAITemplateSearch = async ()=>{\n        if (!templateSearchQuery.trim()) {\n            sonner__WEBPACK_IMPORTED_MODULE_13__.toast.error(\"Please enter a search query!\");\n            return;\n        }\n        setIsSearchingTemplates(true);\n        try {\n            // Get all available cards first\n            const allCards = getCachedCards(1, Math.max(totalCards, 1000));\n            if (allCards.length === 0) {\n                sonner__WEBPACK_IMPORTED_MODULE_13__.toast.error(\"No templates available to search\");\n                return;\n            }\n            // Smart pre-filtering: First filter by text relevance to reduce AI analysis load\n            const textFilteredCards = allCards.filter((card)=>{\n                const searchTerms = templateSearchQuery.toLowerCase().split(\" \");\n                const cardText = (card.prompt || \"\").toLowerCase();\n                // Include cards that match any search term or have high general relevance\n                return searchTerms.some((term)=>cardText.includes(term) || term.length <= 3 || // Include short terms (colors, etc.)\n                    [\n                        \"card\",\n                        \"birthday\",\n                        \"funny\",\n                        \"cute\",\n                        \"love\"\n                    ].some((common)=>cardText.includes(common)));\n            });\n            // If pre-filtering removes too many cards, fall back to analyzing all\n            const cardsToAnalyze = textFilteredCards.length >= Math.min(50, allCards.length * 0.3) ? textFilteredCards : allCards;\n            const filterMessage = textFilteredCards.length < allCards.length ? \" (pre-filtered from \".concat(allCards.length, \" based on text relevance)\") : \"\";\n            sonner__WEBPACK_IMPORTED_MODULE_13__.toast.info(\"\\uD83D\\uDD0D AI analyzing \".concat(cardsToAnalyze.length, ' card images for \"').concat(templateSearchQuery, '\"').concat(filterMessage, \"...\"));\n            // Adaptive batch sizing based on query complexity and number of cards\n            const queryComplexity = templateSearchQuery.split(\" \").length;\n            const adaptiveBatchSize = Math.min(Math.max(10, Math.floor(cardsToAnalyze.length / 8)), queryComplexity > 3 ? 15 : 25 // Smaller batches for complex queries\n            );\n            console.log(\"\\uD83E\\uDDE0 Using adaptive batch size: \".concat(adaptiveBatchSize, \" (query complexity: \").concat(queryComplexity, \" terms)\"));\n            const batches = [];\n            for(let i = 0; i < cardsToAnalyze.length; i += adaptiveBatchSize){\n                batches.push(cardsToAnalyze.slice(i, i + adaptiveBatchSize));\n            }\n            console.log(\"\\uD83D\\uDE80 Processing \".concat(cardsToAnalyze.length, \" images in \").concat(batches.length, \" batches (adaptive size: \").concat(adaptiveBatchSize, \")\"));\n            // Use the extracted AI analysis function\n            console.log(\"\\uD83D\\uDE80 Processing ALL \".concat(batches.length, \" batches in parallel!\"));\n            sonner__WEBPACK_IMPORTED_MODULE_13__.toast.info(\"\\uD83D\\uDE80 Processing \".concat(batches.length, \" batches in parallel (\").concat(cardsToAnalyze.length, \" images total)...\"));\n            const analysisResults = await performAIAnalysis(cardsToAnalyze, templateSearchQuery);\n            // Sort by score (highest first) and filter out low scores\n            const rankedResults = analysisResults.filter((result)=>result.score >= 30) // Only show cards with score 30+\n            .sort((a, b)=>b.score - a.score).slice(0, 10); // Top 10 results\n            if (rankedResults.length > 0) {\n                const filteredCards = rankedResults.map((result)=>({\n                        ...result.card,\n                        aiScore: result.score,\n                        aiAnalysis: result.analysis\n                    }));\n                setAiFilteredCards(filteredCards);\n                const avgScore = Math.round(rankedResults.reduce((sum, r)=>sum + r.score, 0) / rankedResults.length);\n                sonner__WEBPACK_IMPORTED_MODULE_13__.toast.success(\"\\uD83C\\uDFAF Found \".concat(filteredCards.length, ' matches for \"').concat(templateSearchQuery, '\"! Average relevance: ').concat(avgScore, \"%\"));\n            } else {\n                sonner__WEBPACK_IMPORTED_MODULE_13__.toast.info(\"\\uD83E\\uDD14 No templates found matching your search. Try a different query!\");\n                setAiFilteredCards([]);\n            }\n        } catch (error) {\n            console.error(\"AI template search failed:\", error);\n            sonner__WEBPACK_IMPORTED_MODULE_13__.toast.error(\"AI search failed. Please try again.\");\n            setAiFilteredCards([]);\n        } finally{\n            setIsSearchingTemplates(false);\n        }\n    };\n    // Hybrid Search Function (Text + AI Enhancement)\n    const handleHybridTemplateSearch = async ()=>{\n        if (!templateSearchQuery.trim()) {\n            sonner__WEBPACK_IMPORTED_MODULE_13__.toast.error(\"Please enter a search query!\");\n            return;\n        }\n        setIsSearchingTemplates(true);\n        try {\n            // Phase 1: Fast text search for immediate results\n            sonner__WEBPACK_IMPORTED_MODULE_13__.toast.info(\"\\uD83D\\uDE80 Phase 1: Fast text search...\");\n            handleTextTemplateSearch();\n            // Phase 2: AI enhancement on text results\n            const allCards = getCachedCards(1, Math.max(totalCards, 1000));\n            const searchTerms = templateSearchQuery.toLowerCase().split(\" \").filter((term)=>term.length > 1);\n            // Get text-filtered cards for AI analysis\n            const textCandidates = allCards.filter((card)=>{\n                const cardText = (card.prompt || \"\").toLowerCase();\n                return searchTerms.some((term)=>cardText.includes(term)) || searchTerms.length === 0;\n            });\n            // If text filtering gives us a reasonable subset, use it; otherwise use all cards\n            const cardsToAnalyze = textCandidates.length > 0 && textCandidates.length < allCards.length * 0.8 ? textCandidates : allCards;\n            sonner__WEBPACK_IMPORTED_MODULE_13__.toast.info(\"\\uD83C\\uDFA8 Phase 2: AI visual analysis on \".concat(cardsToAnalyze.length, \" candidates...\"));\n            // Run AI analysis on the candidates\n            const analysisResults = await performAIAnalysis(cardsToAnalyze, templateSearchQuery);\n            // Combine text and AI scores for final ranking\n            const hybridResults = analysisResults.map((result)=>({\n                    ...result,\n                    hybridScore: result.score * 0.7 + (result.card.textScore || 0) * 0.3 // 70% AI, 30% text\n                })).sort((a, b)=>b.hybridScore - a.hybridScore);\n            const finalResults = hybridResults.slice(0, 10).map((result)=>({\n                    ...result.card,\n                    aiScore: Math.round(result.hybridScore),\n                    aiAnalysis: \"Hybrid: \".concat(result.analysis)\n                }));\n            setAiFilteredCards(finalResults);\n            if (finalResults.length > 0) {\n                const avgScore = Math.round(hybridResults.reduce((sum, r)=>sum + r.hybridScore, 0) / hybridResults.length);\n                sonner__WEBPACK_IMPORTED_MODULE_13__.toast.success(\"\\uD83C\\uDFAF Hybrid search complete! Found \".concat(finalResults.length, ' matches for \"').concat(templateSearchQuery, '\"! Average relevance: ').concat(avgScore, \"%\"));\n            } else {\n                sonner__WEBPACK_IMPORTED_MODULE_13__.toast.info(\"\\uD83E\\uDD14 No templates found matching your search. Try a different query!\");\n            }\n        } catch (error) {\n            console.error(\"Hybrid template search failed:\", error);\n            sonner__WEBPACK_IMPORTED_MODULE_13__.toast.error(\"Hybrid search failed. Please try again.\");\n        } finally{\n            setIsSearchingTemplates(false);\n        }\n    };\n    // Main search handler that routes to appropriate search method\n    const handleTemplateSearch = ()=>{\n        switch(searchMode){\n            case \"text\":\n                handleTextTemplateSearch();\n                break;\n            case \"ai\":\n                handleAITemplateSearch();\n                break;\n            case \"hybrid\":\n                handleHybridTemplateSearch();\n                break;\n        }\n    };\n    const clearTemplateSearch = ()=>{\n        setTemplateSearchQuery(\"\");\n        setAiFilteredCards([]);\n        setTextFilteredCards([]);\n    };\n    const handleConfirmPrint = async ()=>{\n        // Always use the card from the preview area\n        const cardToPrint = generatedCard;\n        if (!cardToPrint) {\n            sonner__WEBPACK_IMPORTED_MODULE_13__.toast.error(\"No card available to print\");\n            return;\n        }\n        // Validate email before proceeding\n        if (!userEmail.trim()) {\n            sonner__WEBPACK_IMPORTED_MODULE_13__.toast.error(\"Please enter your email address before printing\");\n            setShowPrintConfirmation(false);\n            return;\n        }\n        setShowPrintConfirmation(false);\n        // Note: We no longer use selectedTemplate for direct printing\n        try {\n            // Validate card data\n            if (!cardToPrint.frontCover) {\n                sonner__WEBPACK_IMPORTED_MODULE_13__.toast.error(\"Card is missing front cover image. Please regenerate the card.\");\n                return;\n            }\n            if (!cardToPrint.backCover) {\n                sonner__WEBPACK_IMPORTED_MODULE_13__.toast.error(\"Card is missing back cover image. Please regenerate the card.\");\n                return;\n            }\n            if (!isFrontBackOnly && (!cardToPrint.leftPage || !cardToPrint.rightPage)) {\n                sonner__WEBPACK_IMPORTED_MODULE_13__.toast.error(\"Card is missing interior pages. Please regenerate the card or use front-back only mode.\");\n                return;\n            }\n            // Prepare card data for both printing and PDF email\n            const cardData = {\n                front_cover: cardToPrint.frontCover,\n                back_cover: cardToPrint.backCover,\n                left_page: cardToPrint.leftPage,\n                right_page: cardToPrint.rightPage,\n                card_name: (cardToPrint.prompt || \"Custom Card\").substring(0, 50) + ((cardToPrint.prompt || \"\").length > 50 ? \"...\" : \"\"),\n                paper_size: selectedPaperSize,\n                is_front_back_only: isFrontBackOnly,\n                copies: 1,\n                color_mode: \"color\",\n                quality: \"high\"\n            };\n            console.log(\"Print data:\", {\n                printOption,\n                userEmail,\n                cardData\n            });\n            if (printOption === \"email\") {\n                // Send PDF to email\n                const emailData = {\n                    ...cardData,\n                    user_email: userEmail.trim(),\n                    send_pdf: true\n                };\n                console.log(\"Sending email data:\", emailData);\n                const response = await fetch(\"/api/send-pdf-email\", {\n                    method: \"POST\",\n                    headers: {\n                        \"Content-Type\": \"application/json\"\n                    },\n                    body: JSON.stringify(emailData)\n                });\n                console.log(\"Email response status:\", response.status);\n                if (!response.ok) {\n                    const errorText = await response.text();\n                    console.error(\"Email response error:\", errorText);\n                    throw new Error(\"HTTP \".concat(response.status, \": \").concat(errorText));\n                }\n                const result = await response.json();\n                console.log(\"Email response result:\", result);\n                if (result.status === \"success\") {\n                    sonner__WEBPACK_IMPORTED_MODULE_13__.toast.success(\"\\uD83D\\uDCE7 PDF sent to \".concat(userEmail, \"! Check your inbox.\"));\n                } else {\n                    throw new Error(result.error || \"Failed to send PDF\");\n                }\n            } else {\n                // Physical printing\n                const response = await fetch(\"/api/print-queue\", {\n                    method: \"POST\",\n                    headers: {\n                        \"Content-Type\": \"application/json\"\n                    },\n                    body: JSON.stringify(cardData)\n                });\n                if (!response.ok) {\n                    throw new Error(\"HTTP \".concat(response.status));\n                }\n                const result = await response.json();\n                if (result.status === \"queued\") {\n                    const cardType = isFrontBackOnly ? \"Front/Back card\" : \"Full duplex card\";\n                    const duplexInfo = result.duplex ? \" (duplex enabled)\" : \" (single-sided)\";\n                    sonner__WEBPACK_IMPORTED_MODULE_13__.toast.success(\"\\uD83D\\uDDA8️ Your card is now printing! You can pick it up shortly.\");\n                    // Poll for job status\n                    let pollCount = 0;\n                    const maxPolls = 6; // Poll for up to 60 seconds\n                    const pollStatus = async ()=>{\n                        try {\n                            const statusResponse = await fetch(\"/api/print-status/\".concat(result.job_id));\n                            if (statusResponse.ok) {\n                                const statusResult = await statusResponse.json();\n                                if (statusResult.status === \"found\") {\n                                    if (statusResult.job.status === \"completed\") {\n                                        sonner__WEBPACK_IMPORTED_MODULE_13__.toast.success(\"✅ Your card has been added to the print queue and should be available for pickup shortly.\");\n                                        return;\n                                    } else if (statusResult.job.status === \"failed\") {\n                                        sonner__WEBPACK_IMPORTED_MODULE_13__.toast.error(\"❌ There was an issue with printing. Please try again or contact us for help.\");\n                                        return;\n                                    } else if (statusResult.job.status === \"pending\" && pollCount < maxPolls) {\n                                        // Still pending, poll again\n                                        pollCount++;\n                                        setTimeout(pollStatus, 10000);\n                                    }\n                                }\n                            }\n                        } catch (error) {\n                            console.log(\"Could not check print status:\", error);\n                        }\n                    };\n                    // Start polling after 10 seconds\n                    setTimeout(pollStatus, 10000);\n                } else {\n                    throw new Error(result.error || \"Unknown error\");\n                }\n            }\n        } catch (error) {\n            console.error(\"Print/Email error:\", error);\n            sonner__WEBPACK_IMPORTED_MODULE_13__.toast.error(printOption === \"email\" ? \"Failed to send PDF email\" : \"Failed to queue print job\");\n        }\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-cyan-50 dark:from-gray-900 dark:via-slate-800 dark:to-gray-800\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_CriticalResourcePreloader__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {}, void 0, false, {\n                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                lineNumber: 4456,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_EarlyCardPreloader__WEBPACK_IMPORTED_MODULE_19__[\"default\"], {}, void 0, false, {\n                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                lineNumber: 4457,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"header\", {\n                className: \"border-b bg-white/80 dark:bg-gray-900/80 backdrop-blur-sm sticky top-0 z-50\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"container mx-auto px-4 py-3\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center justify-between\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex items-center space-x-3\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(next_link__WEBPACK_IMPORTED_MODULE_12__[\"default\"], {\n                                        href: \"/\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                            variant: \"ghost\",\n                                            size: \"sm\",\n                                            className: \"gap-2\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_37__[\"default\"], {\n                                                    className: \"w-4 h-4\"\n                                                }, void 0, false, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 4465,\n                                                    columnNumber: 19\n                                                }, this),\n                                                \"Back\"\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                            lineNumber: 4464,\n                                            columnNumber: 17\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                        lineNumber: 4463,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex items-center space-x-2\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"w-8 h-8 bg-gradient-to-br from-blue-500 to-cyan-600 rounded-lg flex items-center justify-center\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_38__[\"default\"], {\n                                                    className: \"w-5 h-5 text-white\"\n                                                }, void 0, false, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 4471,\n                                                    columnNumber: 19\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 4470,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                                                    className: \"text-lg font-bold text-gray-900 dark:text-white\",\n                                                    children: \"VibeCarding\"\n                                                }, void 0, false, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 4474,\n                                                    columnNumber: 19\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 4473,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                        lineNumber: 4469,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(next_link__WEBPACK_IMPORTED_MODULE_12__[\"default\"], {\n                                        href: \"/gallery\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                            variant: \"ghost\",\n                                            size: \"sm\",\n                                            className: \"gap-2 text-gray-600 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-100\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_35__[\"default\"], {\n                                                    className: \"w-4 h-4\"\n                                                }, void 0, false, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 4481,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"hidden sm:inline\",\n                                                    children: \"Infinite Gallery\"\n                                                }, void 0, false, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 4482,\n                                                    columnNumber: 19\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                            lineNumber: 4480,\n                                            columnNumber: 17\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                        lineNumber: 4479,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                lineNumber: 4462,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_popover__WEBPACK_IMPORTED_MODULE_10__.Popover, {\n                                open: showSettings,\n                                onOpenChange: setShowSettings,\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_popover__WEBPACK_IMPORTED_MODULE_10__.PopoverTrigger, {\n                                        asChild: true,\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                            variant: \"ghost\",\n                                            size: \"sm\",\n                                            className: \"h-9 w-9 p-0\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_39__[\"default\"], {\n                                                    className: \"h-4 w-4\"\n                                                }, void 0, false, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 4490,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"sr-only\",\n                                                    children: \"Settings\"\n                                                }, void 0, false, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 4491,\n                                                    columnNumber: 19\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                            lineNumber: 4489,\n                                            columnNumber: 17\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                        lineNumber: 4488,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_popover__WEBPACK_IMPORTED_MODULE_10__.PopoverContent, {\n                                        className: \"w-80 p-0\",\n                                        align: \"end\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"p-4 space-y-4\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"space-y-2\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h4\", {\n                                                            className: \"font-medium leading-none\",\n                                                            children: \"Settings\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 4497,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                            className: \"text-sm text-muted-foreground\",\n                                                            children: \"Configure your card creation preferences\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 4498,\n                                                            columnNumber: 21\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 4496,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"flex items-center justify-between\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"space-y-0.5\",\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    className: \"text-sm font-medium\",\n                                                                    children: \"Theme\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 4506,\n                                                                    columnNumber: 23\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    className: \"text-xs text-muted-foreground\",\n                                                                    children: \"Switch between light and dark mode\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 4507,\n                                                                    columnNumber: 23\n                                                                }, this)\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 4505,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_mode_toggle__WEBPACK_IMPORTED_MODULE_16__.ModeToggle, {}, void 0, false, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 4509,\n                                                            columnNumber: 21\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 4504,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_separator__WEBPACK_IMPORTED_MODULE_7__.Separator, {}, void 0, false, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 4512,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"space-y-3\",\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"flex items-center justify-between\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"space-y-0.5\",\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                        className: \"text-sm font-medium\",\n                                                                        children: \"Advanced Options\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                        lineNumber: 4518,\n                                                                        columnNumber: 25\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                        className: \"text-xs text-muted-foreground\",\n                                                                        children: \"Show additional card settings\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                        lineNumber: 4519,\n                                                                        columnNumber: 25\n                                                                    }, this)\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 4517,\n                                                                columnNumber: 23\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                                                variant: \"outline\",\n                                                                size: \"sm\",\n                                                                onClick: ()=>setShowAdvanced(!showAdvanced),\n                                                                className: \"h-8\",\n                                                                children: showAdvanced ? \"Hide\" : \"Show\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 4521,\n                                                                columnNumber: 23\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 4516,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                }, void 0, false, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 4515,\n                                                    columnNumber: 19\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                            lineNumber: 4495,\n                                            columnNumber: 17\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                        lineNumber: 4494,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                lineNumber: 4487,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                        lineNumber: 4461,\n                        columnNumber: 11\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                    lineNumber: 4460,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                lineNumber: 4459,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"container mx-auto px-4 py-6 max-w-2xl\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_5__.Card, {\n                        className: \"shadow-lg mb-6\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_5__.CardHeader, {\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex items-center justify-between\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_5__.CardTitle, {\n                                                    className: \"flex items-center gap-2\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_38__[\"default\"], {\n                                                            className: \"w-5 h-5 text-blue-600\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 4545,\n                                                            columnNumber: 23\n                                                        }, this),\n                                                        \"Create Your Card\"\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 4544,\n                                                    columnNumber: 21\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_5__.CardDescription, {\n                                                    className: \"flex items-center justify-between\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            children: \"Describe your card and we'll create it for you\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 4549,\n                                                            columnNumber: 23\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                                            variant: \"outline\",\n                                                            size: \"sm\",\n                                                            onClick: ()=>{\n                                                                setShowTemplateGallery(true);\n                                                            },\n                                                            className: \"gap-2 text-xs\",\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_35__[\"default\"], {\n                                                                    className: \"w-3 h-3\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 4558,\n                                                                    columnNumber: 25\n                                                                }, this),\n                                                                \"Use Template\"\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 4550,\n                                                            columnNumber: 23\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 4548,\n                                                    columnNumber: 21\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                            lineNumber: 4543,\n                                            columnNumber: 19\n                                        }, this),\n                                        (prompt || toField || fromField || generatedCards.length > 0) && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"text-xs text-green-600 dark:text-green-400 flex items-center gap-1\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_40__[\"default\"], {\n                                                    className: \"w-3 h-3\"\n                                                }, void 0, false, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 4565,\n                                                    columnNumber: 23\n                                                }, this),\n                                                \"Auto-saved\"\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                            lineNumber: 4564,\n                                            columnNumber: 21\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                    lineNumber: 4542,\n                                    columnNumber: 17\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                lineNumber: 4541,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_5__.CardContent, {\n                                className: \"space-y-6\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                className: \"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block\",\n                                                children: \"Card Type\"\n                                            }, void 0, false, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 4574,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_select__WEBPACK_IMPORTED_MODULE_8__.Select, {\n                                                value: selectedType,\n                                                onValueChange: setSelectedType,\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_select__WEBPACK_IMPORTED_MODULE_8__.SelectTrigger, {\n                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_select__WEBPACK_IMPORTED_MODULE_8__.SelectValue, {\n                                                            children: (()=>{\n                                                                const selected = cardTypes.find((type)=>type.id === selectedType);\n                                                                if (!selected) return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                    className: \"text-gray-400\",\n                                                                    children: \"Choose card type\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 4582,\n                                                                    columnNumber: 49\n                                                                }, this);\n                                                                const IconComponent = selected.icon;\n                                                                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    className: \"flex items-center gap-2\",\n                                                                    children: [\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(IconComponent, {\n                                                                            className: \"w-4 h-4 text-gray-500\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 4586,\n                                                                            columnNumber: 31\n                                                                        }, this),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                            className: \"font-medium\",\n                                                                            children: selected.label\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 4587,\n                                                                            columnNumber: 31\n                                                                        }, this)\n                                                                    ]\n                                                                }, void 0, true, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 4585,\n                                                                    columnNumber: 29\n                                                                }, this);\n                                                            })()\n                                                        }, void 0, false, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 4579,\n                                                            columnNumber: 23\n                                                        }, this)\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 4578,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_select__WEBPACK_IMPORTED_MODULE_8__.SelectContent, {\n                                                        children: cardTypes.map((type)=>{\n                                                            const IconComponent = type.icon;\n                                                            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_select__WEBPACK_IMPORTED_MODULE_8__.SelectItem, {\n                                                                value: type.id,\n                                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    className: \"flex items-center gap-2\",\n                                                                    children: [\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(IconComponent, {\n                                                                            className: \"w-4 h-4 text-gray-500\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 4599,\n                                                                            columnNumber: 31\n                                                                        }, this),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                            children: [\n                                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                    className: \"font-medium\",\n                                                                                    children: type.label\n                                                                                }, void 0, false, {\n                                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                    lineNumber: 4601,\n                                                                                    columnNumber: 33\n                                                                                }, this),\n                                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                    className: \"text-xs text-muted-foreground\",\n                                                                                    children: type.description\n                                                                                }, void 0, false, {\n                                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                    lineNumber: 4602,\n                                                                                    columnNumber: 33\n                                                                                }, this)\n                                                                            ]\n                                                                        }, void 0, true, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 4600,\n                                                                            columnNumber: 31\n                                                                        }, this)\n                                                                    ]\n                                                                }, void 0, true, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 4598,\n                                                                    columnNumber: 29\n                                                                }, this)\n                                                            }, type.id, false, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 4597,\n                                                                columnNumber: 27\n                                                            }, this);\n                                                        })\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 4593,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 4577,\n                                                columnNumber: 19\n                                            }, this),\n                                            selectedType === \"custom\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"mt-3\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                        className: \"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block\",\n                                                        children: \"Describe Your Card Type\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 4614,\n                                                        columnNumber: 23\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_input__WEBPACK_IMPORTED_MODULE_3__.Input, {\n                                                        placeholder: \"✨ E.g., 'Promotion at work', 'Moving away', 'First day of school'\",\n                                                        value: customCardType,\n                                                        onChange: (e)=>setCustomCardType(e.target.value),\n                                                        style: {\n                                                            fontSize: \"16px\"\n                                                        }\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 4617,\n                                                        columnNumber: 23\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                        className: \"text-xs text-gray-500 dark:text-gray-400 mt-1\",\n                                                        children: \"What type of card is this? This helps personalize the message and style.\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 4623,\n                                                        columnNumber: 23\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 4613,\n                                                columnNumber: 21\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                        lineNumber: 4573,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                className: \"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block\",\n                                                children: \"Card Tone & Style\"\n                                            }, void 0, false, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 4632,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_select__WEBPACK_IMPORTED_MODULE_8__.Select, {\n                                                value: selectedTone,\n                                                onValueChange: setSelectedTone,\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_select__WEBPACK_IMPORTED_MODULE_8__.SelectTrigger, {\n                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_select__WEBPACK_IMPORTED_MODULE_8__.SelectValue, {\n                                                            children: (()=>{\n                                                                const selected = cardTones.find((tone)=>tone.id === selectedTone);\n                                                                if (!selected) return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                    className: \"text-gray-400\",\n                                                                    children: \"Choose card tone\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 4640,\n                                                                    columnNumber: 45\n                                                                }, this);\n                                                                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    className: \"flex items-center gap-2\",\n                                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                        className: \"font-medium\",\n                                                                        children: selected.label\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                        lineNumber: 4643,\n                                                                        columnNumber: 27\n                                                                    }, this)\n                                                                }, void 0, false, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 4642,\n                                                                    columnNumber: 25\n                                                                }, this);\n                                                            })()\n                                                        }, void 0, false, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 4637,\n                                                            columnNumber: 19\n                                                        }, this)\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 4636,\n                                                        columnNumber: 17\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_select__WEBPACK_IMPORTED_MODULE_8__.SelectContent, {\n                                                        children: cardTones.map((tone)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_select__WEBPACK_IMPORTED_MODULE_8__.SelectItem, {\n                                                                value: tone.id,\n                                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    children: [\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                            className: \"font-medium\",\n                                                                            children: tone.label\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 4653,\n                                                                            columnNumber: 25\n                                                                        }, this),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                            className: \"text-xs text-muted-foreground\",\n                                                                            children: tone.description\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 4654,\n                                                                            columnNumber: 25\n                                                                        }, this)\n                                                                    ]\n                                                                }, void 0, true, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 4652,\n                                                                    columnNumber: 23\n                                                                }, this)\n                                                            }, tone.id, false, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 4651,\n                                                                columnNumber: 21\n                                                            }, this))\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 4649,\n                                                        columnNumber: 17\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 4635,\n                                                columnNumber: 15\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                        lineNumber: 4631,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                className: \"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block\",\n                                                children: \"Artistic Style\"\n                                            }, void 0, false, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 4664,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_select__WEBPACK_IMPORTED_MODULE_8__.Select, {\n                                                value: selectedArtisticStyle,\n                                                onValueChange: setSelectedArtisticStyle,\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_select__WEBPACK_IMPORTED_MODULE_8__.SelectTrigger, {\n                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_select__WEBPACK_IMPORTED_MODULE_8__.SelectValue, {\n                                                            placeholder: \"Choose artistic style\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 4669,\n                                                            columnNumber: 19\n                                                        }, this)\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 4668,\n                                                        columnNumber: 17\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_select__WEBPACK_IMPORTED_MODULE_8__.SelectContent, {\n                                                        children: artisticStyles.map((style)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_select__WEBPACK_IMPORTED_MODULE_8__.SelectItem, {\n                                                                value: style.id,\n                                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    className: \"text-left w-full\",\n                                                                    children: [\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                            className: \"font-medium\",\n                                                                            children: style.label\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 4675,\n                                                                            columnNumber: 25\n                                                                        }, this),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                            className: \"text-xs text-muted-foreground\",\n                                                                            children: style.description\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 4676,\n                                                                            columnNumber: 25\n                                                                        }, this)\n                                                                    ]\n                                                                }, void 0, true, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 4674,\n                                                                    columnNumber: 23\n                                                                }, this)\n                                                            }, style.id, false, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 4673,\n                                                                columnNumber: 21\n                                                            }, this))\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 4671,\n                                                        columnNumber: 17\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 4667,\n                                                columnNumber: 15\n                                            }, this),\n                                            selectedArtisticStyle === \"custom\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"mt-3\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                        className: \"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block\",\n                                                        children: \"Describe Your Custom Style\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 4686,\n                                                        columnNumber: 19\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_textarea__WEBPACK_IMPORTED_MODULE_4__.Textarea, {\n                                                        placeholder: \"e.g., in vintage 1920s art deco style with gold accents and geometric patterns...\",\n                                                        value: customStyleDescription,\n                                                        onChange: (e)=>setCustomStyleDescription(e.target.value),\n                                                        rows: 3,\n                                                        className: \"resize-none\",\n                                                        style: {\n                                                            fontSize: \"16px\"\n                                                        }\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 4689,\n                                                        columnNumber: 19\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                        className: \"text-xs text-gray-500 dark:text-gray-400 mt-1\",\n                                                        children: \"Describe the artistic style you want for your card (colors, techniques, era, mood, etc.)\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 4697,\n                                                        columnNumber: 19\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 4685,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                        lineNumber: 4663,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"grid grid-cols-2 gap-3\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                        className: \"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block\",\n                                                        children: \"To\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 4707,\n                                                        columnNumber: 17\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_input__WEBPACK_IMPORTED_MODULE_3__.Input, {\n                                                        placeholder: \"\\uD83C\\uDFAF To\",\n                                                        value: toField,\n                                                        onChange: (e)=>setToField(e.target.value),\n                                                        style: {\n                                                            fontSize: \"16px\"\n                                                        }\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 4710,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 4706,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                        className: \"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block\",\n                                                        children: \"From\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 4718,\n                                                        columnNumber: 17\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_input__WEBPACK_IMPORTED_MODULE_3__.Input, {\n                                                        placeholder: \"\\uD83D\\uDCDD From\",\n                                                        value: fromField,\n                                                        onChange: (e)=>setFromField(e.target.value),\n                                                        style: {\n                                                            fontSize: \"16px\"\n                                                        }\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 4721,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 4717,\n                                                columnNumber: 19\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                        lineNumber: 4705,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                className: \"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block\",\n                                                children: \"Your Email (Required)\"\n                                            }, void 0, false, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 4732,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_input__WEBPACK_IMPORTED_MODULE_3__.Input, {\n                                                type: \"email\",\n                                                placeholder: \"\\uD83D\\uDCE7 your.email@example.com (we'll send you the card!)\",\n                                                required: true,\n                                                value: userEmail,\n                                                onChange: (e)=>setUserEmail(e.target.value),\n                                                style: {\n                                                    fontSize: \"16px\"\n                                                }\n                                            }, void 0, false, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 4735,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                className: \"text-xs text-gray-500 dark:text-gray-400 mt-1\",\n                                                children: \"Required to generate your card. We'll send you a thank you note when it's ready!\"\n                                            }, void 0, false, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 4743,\n                                                columnNumber: 15\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                        lineNumber: 4731,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"flex items-center justify-between mb-2\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                        className: \"text-sm font-medium text-gray-700 dark:text-gray-300\",\n                                                        children: \"Describe Your Card (Optional)\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 4751,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                                        variant: \"ghost\",\n                                                        size: \"sm\",\n                                                        onClick: ()=>setIsTextareaExpanded(!isTextareaExpanded),\n                                                        className: \"gap-1 text-xs text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300\",\n                                                        children: isTextareaExpanded ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_41__[\"default\"], {\n                                                                    className: \"w-3 h-3\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 4762,\n                                                                    columnNumber: 27\n                                                                }, this),\n                                                                \"Collapse\"\n                                                            ]\n                                                        }, void 0, true) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_41__[\"default\"], {\n                                                                    className: \"w-3 h-3 rotate-180\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 4767,\n                                                                    columnNumber: 27\n                                                                }, this),\n                                                                \"Expand\"\n                                                            ]\n                                                        }, void 0, true)\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 4754,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 4750,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_textarea__WEBPACK_IMPORTED_MODULE_4__.Textarea, {\n                                                placeholder: \"\\uD83D\\uDCA1 Optional: Be specific! E.g., 'Birthday card with cute cats and rainbow colors for my sister who loves anime' (or leave blank for a beautiful default design)\",\n                                                value: prompt,\n                                                onChange: (e)=>setPrompt(e.target.value),\n                                                rows: isTextareaExpanded ? 8 : 5,\n                                                className: isTextareaExpanded ? \"resize-y\" : \"resize-none\",\n                                                style: {\n                                                    fontSize: \"16px\"\n                                                }\n                                            }, void 0, false, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 4773,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                className: \"text-xs text-gray-500 dark:text-gray-400 mt-1\",\n                                                children: [\n                                                    \"\\uD83D\\uDCA1 \",\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                                        children: \"Tip:\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 4782,\n                                                        columnNumber: 20\n                                                    }, this),\n                                                    \" Add details like colors, style, recipient's interests, and specific themes for personalized results, or leave blank for a beautiful default card!\"\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 4781,\n                                                columnNumber: 15\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                        lineNumber: 4749,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"flex items-center justify-between mb-2\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                        className: \"text-sm font-medium text-gray-700 dark:text-gray-300\",\n                                                        children: \"Card Message\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 4789,\n                                                        columnNumber: 17\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"flex items-center gap-2\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                                                variant: \"ghost\",\n                                                                size: \"sm\",\n                                                                onClick: ()=>setIsMessageExpanded(!isMessageExpanded),\n                                                                className: \"gap-1 text-xs text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300\",\n                                                                children: isMessageExpanded ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                                                    children: [\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_41__[\"default\"], {\n                                                                            className: \"w-3 h-3\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 4801,\n                                                                            columnNumber: 25\n                                                                        }, this),\n                                                                        \"Collapse\"\n                                                                    ]\n                                                                }, void 0, true) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                                                    children: [\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_41__[\"default\"], {\n                                                                            className: \"w-3 h-3 rotate-180\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 4806,\n                                                                            columnNumber: 25\n                                                                        }, this),\n                                                                        \"Expand\"\n                                                                    ]\n                                                                }, void 0, true)\n                                                            }, void 0, false, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 4793,\n                                                                columnNumber: 19\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                                                variant: \"ghost\",\n                                                                size: \"sm\",\n                                                                onClick: handleGetMessageHelp,\n                                                                disabled: isGeneratingMessage || isHandwrittenMessage,\n                                                                className: \"gap-1 text-xs\",\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_42__[\"default\"], {\n                                                                        className: \"w-3 h-3\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                        lineNumber: 4818,\n                                                                        columnNumber: 21\n                                                                    }, this),\n                                                                    isGeneratingMessage ? \"Writing...\" : \"Help me write\"\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 4811,\n                                                                columnNumber: 19\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 4792,\n                                                        columnNumber: 17\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 4788,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_textarea__WEBPACK_IMPORTED_MODULE_4__.Textarea, {\n                                                placeholder: isHandwrittenMessage ? \"✍️ Leave blank - you'll handwrite your message\" : \"\\uD83D\\uDC9D Your personal message here... (or click 'Help me write' for AI assistance)\",\n                                                value: finalCardMessage,\n                                                onChange: (e)=>setFinalCardMessage(e.target.value),\n                                                rows: isMessageExpanded ? 8 : 5,\n                                                className: isMessageExpanded ? \"resize-y\" : \"resize-none\",\n                                                style: {\n                                                    fontSize: \"16px\"\n                                                },\n                                                disabled: isHandwrittenMessage\n                                            }, void 0, false, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 4823,\n                                                columnNumber: 19\n                                            }, this),\n                                            finalCardMessage.trim() && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"mt-3 space-y-3\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"space-y-2\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"flex items-center gap-2 flex-wrap\",\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                                                        variant: \"outline\",\n                                                                        size: \"sm\",\n                                                                        onClick: undoMessage,\n                                                                        disabled: currentMessageIndex <= 0,\n                                                                        className: \"gap-1 text-xs flex-shrink-0\",\n                                                                        children: [\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_43__[\"default\"], {\n                                                                                className: \"w-3 h-3\"\n                                                                            }, void 0, false, {\n                                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                lineNumber: 4846,\n                                                                                columnNumber: 29\n                                                                            }, this),\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                className: \"hidden sm:inline\",\n                                                                                children: \"Undo\"\n                                                                            }, void 0, false, {\n                                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                lineNumber: 4847,\n                                                                                columnNumber: 29\n                                                                            }, this)\n                                                                        ]\n                                                                    }, void 0, true, {\n                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                        lineNumber: 4839,\n                                                                        columnNumber: 27\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                                                        variant: \"outline\",\n                                                                        size: \"sm\",\n                                                                        onClick: redoMessage,\n                                                                        disabled: currentMessageIndex >= messageHistory.length - 1,\n                                                                        className: \"gap-1 text-xs flex-shrink-0\",\n                                                                        children: [\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_44__[\"default\"], {\n                                                                                className: \"w-3 h-3\"\n                                                                            }, void 0, false, {\n                                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                lineNumber: 4856,\n                                                                                columnNumber: 29\n                                                                            }, this),\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                className: \"hidden sm:inline\",\n                                                                                children: \"Redo\"\n                                                                            }, void 0, false, {\n                                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                lineNumber: 4857,\n                                                                                columnNumber: 29\n                                                                            }, this)\n                                                                        ]\n                                                                    }, void 0, true, {\n                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                        lineNumber: 4849,\n                                                                        columnNumber: 27\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                                                        variant: \"outline\",\n                                                                        size: \"sm\",\n                                                                        onClick: ()=>setShowRefinementBox(!showRefinementBox),\n                                                                        className: \"gap-1 text-xs flex-shrink-0\",\n                                                                        children: [\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_45__[\"default\"], {\n                                                                                className: \"w-3 h-3\"\n                                                                            }, void 0, false, {\n                                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                lineNumber: 4865,\n                                                                                columnNumber: 29\n                                                                            }, this),\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                className: \"hidden sm:inline\",\n                                                                                children: \"Refine\"\n                                                                            }, void 0, false, {\n                                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                lineNumber: 4866,\n                                                                                columnNumber: 29\n                                                                            }, this),\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                className: \"sm:hidden\",\n                                                                                children: \"Edit\"\n                                                                            }, void 0, false, {\n                                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                lineNumber: 4867,\n                                                                                columnNumber: 29\n                                                                            }, this)\n                                                                        ]\n                                                                    }, void 0, true, {\n                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                        lineNumber: 4859,\n                                                                        columnNumber: 27\n                                                                    }, this)\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 4838,\n                                                                columnNumber: 25\n                                                            }, this),\n                                                            messageHistory.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"text-xs text-gray-500 dark:text-gray-400 text-center sm:text-left truncate\",\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                        className: \"hidden sm:inline\",\n                                                                        children: [\n                                                                            \"Version \",\n                                                                            currentMessageIndex + 1,\n                                                                            \" of \",\n                                                                            messageHistory.length\n                                                                        ]\n                                                                    }, void 0, true, {\n                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                        lineNumber: 4872,\n                                                                        columnNumber: 29\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                        className: \"sm:hidden\",\n                                                                        children: [\n                                                                            currentMessageIndex + 1,\n                                                                            \"/\",\n                                                                            messageHistory.length\n                                                                        ]\n                                                                    }, void 0, true, {\n                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                        lineNumber: 4873,\n                                                                        columnNumber: 29\n                                                                    }, this)\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 4871,\n                                                                columnNumber: 27\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 4837,\n                                                        columnNumber: 23\n                                                    }, this),\n                                                    showRefinementBox && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"border rounded-lg p-3 bg-gray-50 dark:bg-gray-800/50\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                                className: \"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block\",\n                                                                children: \"How would you like to refine this message?\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 4881,\n                                                                columnNumber: 27\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"space-y-2\",\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_input__WEBPACK_IMPORTED_MODULE_3__.Input, {\n                                                                        placeholder: \"\\uD83D\\uDD27 E.g., 'Make it funnier', 'Add mention of their hobby', 'More formal tone'\",\n                                                                        value: refinementPrompt,\n                                                                        onChange: (e)=>setRefinementPrompt(e.target.value),\n                                                                        style: {\n                                                                            fontSize: \"16px\"\n                                                                        },\n                                                                        onKeyDown: (e)=>{\n                                                                            if (e.key === \"Enter\" && !e.shiftKey) {\n                                                                                e.preventDefault();\n                                                                                handleRefineMessage();\n                                                                            }\n                                                                        }\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                        lineNumber: 4885,\n                                                                        columnNumber: 29\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                        className: \"text-xs text-gray-500 dark:text-gray-400\",\n                                                                        children: [\n                                                                            \"\\uD83D\\uDCF1 \",\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                                                                children: \"Quick tips:\"\n                                                                            }, void 0, false, {\n                                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                lineNumber: 4898,\n                                                                                columnNumber: 34\n                                                                            }, this),\n                                                                            ' \"Shorter\", \"Add emoji\", \"More personal\", \"Different tone\" work great!'\n                                                                        ]\n                                                                    }, void 0, true, {\n                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                        lineNumber: 4897,\n                                                                        columnNumber: 29\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                        className: \"flex items-center gap-2\",\n                                                                        children: [\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                                                                size: \"sm\",\n                                                                                onClick: handleRefineMessage,\n                                                                                disabled: isRefiningMessage || !refinementPrompt.trim(),\n                                                                                className: \"gap-1\",\n                                                                                children: [\n                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_45__[\"default\"], {\n                                                                                        className: \"w-3 h-3 \".concat(isRefiningMessage ? \"animate-spin\" : \"\")\n                                                                                    }, void 0, false, {\n                                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                        lineNumber: 4907,\n                                                                                        columnNumber: 33\n                                                                                    }, this),\n                                                                                    isRefiningMessage ? \"Refining...\" : \"Apply Changes\"\n                                                                                ]\n                                                                            }, void 0, true, {\n                                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                lineNumber: 4901,\n                                                                                columnNumber: 31\n                                                                            }, this),\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                                                                variant: \"ghost\",\n                                                                                size: \"sm\",\n                                                                                onClick: ()=>{\n                                                                                    setShowRefinementBox(false);\n                                                                                    setRefinementPrompt(\"\");\n                                                                                },\n                                                                                children: \"Cancel\"\n                                                                            }, void 0, false, {\n                                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                lineNumber: 4910,\n                                                                                columnNumber: 31\n                                                                            }, this)\n                                                                        ]\n                                                                    }, void 0, true, {\n                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                        lineNumber: 4900,\n                                                                        columnNumber: 29\n                                                                    }, this)\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 4884,\n                                                                columnNumber: 27\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 4880,\n                                                        columnNumber: 25\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 4835,\n                                                columnNumber: 21\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"flex items-center space-x-2 mt-2\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                        type: \"checkbox\",\n                                                        id: \"handwritten-message\",\n                                                        checked: isHandwrittenMessage,\n                                                        onChange: (e)=>{\n                                                            setIsHandwrittenMessage(e.target.checked);\n                                                            if (e.target.checked) {\n                                                                setFinalCardMessage(\"\");\n                                                            }\n                                                        },\n                                                        className: \"rounded\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 4929,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                        htmlFor: \"handwritten-message\",\n                                                        className: \"text-sm text-gray-600 dark:text-gray-400\",\n                                                        children: \"Leave blank space for handwritten message\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 4941,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 4928,\n                                                columnNumber: 19\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                        lineNumber: 4787,\n                                        columnNumber: 17\n                                    }, this),\n                                    (selectedImageModel === \"gpt-image-1\" || referenceImageUrls.length > 0) && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                className: \"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block\",\n                                                children: \"Reference Photos (Optional)\"\n                                            }, void 0, false, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 4950,\n                                                columnNumber: 17\n                                            }, this),\n                                            referenceImageUrls.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"mb-3\",\n                                                children: [\n                                                    selectedImageModel !== \"gpt-image-1\" ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"p-3 bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-lg mb-3\",\n                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"flex items-start gap-2\",\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    className: \"w-5 h-5 bg-amber-500 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5\",\n                                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                        className: \"text-white text-xs\",\n                                                                        children: \"!\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                        lineNumber: 4961,\n                                                                        columnNumber: 29\n                                                                    }, this)\n                                                                }, void 0, false, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 4960,\n                                                                    columnNumber: 27\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    className: \"text-sm text-amber-800 dark:text-amber-200\",\n                                                                    children: [\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                            className: \"font-medium mb-1\",\n                                                                            children: \"Reference photos detected but not supported\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 4964,\n                                                                            columnNumber: 29\n                                                                        }, this),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                            className: \"text-xs\",\n                                                                            children: [\n                                                                                \"You have \",\n                                                                                referenceImageUrls.length,\n                                                                                \" reference photo\",\n                                                                                referenceImageUrls.length > 1 ? \"s\" : \"\",\n                                                                                \" from a previous session, but your current model (\",\n                                                                                (_imageModels_find = imageModels.find((m)=>m.id === selectedImageModel)) === null || _imageModels_find === void 0 ? void 0 : _imageModels_find.label,\n                                                                                \") doesn't support reference photos. Switch to GPT Image 1 to use them, or remove them below.\"\n                                                                            ]\n                                                                        }, void 0, true, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 4965,\n                                                                            columnNumber: 29\n                                                                        }, this)\n                                                                    ]\n                                                                }, void 0, true, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 4963,\n                                                                    columnNumber: 27\n                                                                }, this)\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 4959,\n                                                            columnNumber: 25\n                                                        }, this)\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 4958,\n                                                        columnNumber: 23\n                                                    }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"mb-3 p-3 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg\",\n                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"flex items-start gap-2\",\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    className: \"w-5 h-5 bg-green-500 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5\",\n                                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                        className: \"text-white text-xs\",\n                                                                        children: \"✓\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                        lineNumber: 4973,\n                                                                        columnNumber: 29\n                                                                    }, this)\n                                                                }, void 0, false, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 4972,\n                                                                    columnNumber: 27\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    className: \"text-sm text-green-800 dark:text-green-200\",\n                                                                    children: [\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                            className: \"font-medium mb-1\",\n                                                                            children: \"Reference photos ready\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 4976,\n                                                                            columnNumber: 29\n                                                                        }, this),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                            className: \"text-xs\",\n                                                                            children: [\n                                                                                referenceImageUrls.length,\n                                                                                \" reference photo\",\n                                                                                referenceImageUrls.length > 1 ? \"s\" : \"\",\n                                                                                \" will be used to create cartoon characters that look like the people in your photos.\"\n                                                                            ]\n                                                                        }, void 0, true, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 4977,\n                                                                            columnNumber: 29\n                                                                        }, this)\n                                                                    ]\n                                                                }, void 0, true, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 4975,\n                                                                    columnNumber: 27\n                                                                }, this)\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 4971,\n                                                            columnNumber: 25\n                                                        }, this)\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 4970,\n                                                        columnNumber: 23\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"space-y-2 mb-3\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"flex items-center justify-between\",\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                        className: \"text-sm font-medium text-gray-700 dark:text-gray-300\",\n                                                                        children: [\n                                                                            \"\\uD83D\\uDCF8 Your Reference Photos (\",\n                                                                            referenceImageUrls.length,\n                                                                            \")\"\n                                                                        ]\n                                                                    }, void 0, true, {\n                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                        lineNumber: 4986,\n                                                                        columnNumber: 25\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                                                        variant: \"outline\",\n                                                                        size: \"sm\",\n                                                                        onClick: ()=>{\n                                                                            setReferenceImages([]);\n                                                                            setReferenceImageUrls([]);\n                                                                            sonner__WEBPACK_IMPORTED_MODULE_13__.toast.success(\"All reference photos removed!\");\n                                                                        },\n                                                                        className: \"h-7 text-xs gap-1 text-red-600 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-900/20\",\n                                                                        children: [\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_46__[\"default\"], {\n                                                                                className: \"w-3 h-3\"\n                                                                            }, void 0, false, {\n                                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                lineNumber: 4999,\n                                                                                columnNumber: 27\n                                                                            }, this),\n                                                                            \"Remove All\"\n                                                                        ]\n                                                                    }, void 0, true, {\n                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                        lineNumber: 4989,\n                                                                        columnNumber: 25\n                                                                    }, this)\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 4985,\n                                                                columnNumber: 23\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"grid grid-cols-2 gap-2 p-3 bg-gray-50 dark:bg-gray-800 rounded-lg border\",\n                                                                children: referenceImageUrls.map((url, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                        className: \"relative group\",\n                                                                        children: [\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                                                                src: url,\n                                                                                alt: \"Reference photo \".concat(index + 1),\n                                                                                className: \"w-full aspect-square object-cover rounded border\"\n                                                                            }, void 0, false, {\n                                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                lineNumber: 5007,\n                                                                                columnNumber: 29\n                                                                            }, this),\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                                                                variant: \"destructive\",\n                                                                                size: \"sm\",\n                                                                                onClick: ()=>handleRemoveReferenceImage(index),\n                                                                                className: \"absolute top-1 right-1 h-6 w-6 p-0 opacity-0 group-hover:opacity-100 transition-opacity\",\n                                                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_46__[\"default\"], {\n                                                                                    className: \"w-3 h-3\"\n                                                                                }, void 0, false, {\n                                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                    lineNumber: 5018,\n                                                                                    columnNumber: 31\n                                                                                }, this)\n                                                                            }, void 0, false, {\n                                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                lineNumber: 5012,\n                                                                                columnNumber: 29\n                                                                            }, this),\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                className: \"absolute bottom-1 left-1 bg-black/70 text-white text-xs px-1 rounded\",\n                                                                                children: [\n                                                                                    \"Photo \",\n                                                                                    index + 1\n                                                                                ]\n                                                                            }, void 0, true, {\n                                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                lineNumber: 5020,\n                                                                                columnNumber: 29\n                                                                            }, this)\n                                                                        ]\n                                                                    }, index, true, {\n                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                        lineNumber: 5006,\n                                                                        columnNumber: 27\n                                                                    }, this))\n                                                            }, void 0, false, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 5004,\n                                                                columnNumber: 23\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 4984,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 4956,\n                                                columnNumber: 19\n                                            }, this),\n                                            selectedImageModel === \"gpt-image-1\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                        className: \"text-xs text-gray-500 dark:text-gray-400 mb-3\",\n                                                        children: \"Upload photos to create cartoon characters that look like the people in your photos! Perfect for including multiple people - upload one photo of yourself and another of a friend to create cards featuring both of you. (Only available with GPT Image 1 model)\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 5032,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                        className: \"text-xs text-gray-400 dark:text-gray-500 mb-3\",\n                                                        children: \"✨ For your privacy, photos are turned into cartoon/illustrated characters - not realistic depictions\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 5035,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                ]\n                                            }, void 0, true),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"space-y-3\",\n                                                children: [\n                                                    selectedImageModel === \"gpt-image-1\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg p-4 text-center\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                                type: \"file\",\n                                                                accept: \"image/*\",\n                                                                onChange: (e)=>{\n                                                                    var _e_target_files;\n                                                                    return ((_e_target_files = e.target.files) === null || _e_target_files === void 0 ? void 0 : _e_target_files[0]) && handleFileUpload(e.target.files[0], \"reference\");\n                                                                },\n                                                                disabled: isUploading,\n                                                                className: \"hidden\",\n                                                                id: \"reference-upload\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 5044,\n                                                                columnNumber: 21\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                                htmlFor: \"reference-upload\",\n                                                                className: \"cursor-pointer\",\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_47__[\"default\"], {\n                                                                        className: \"w-6 h-6 mx-auto mb-2 text-gray-400\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                        lineNumber: 5053,\n                                                                        columnNumber: 23\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                        className: \"text-sm text-gray-600 dark:text-gray-400\",\n                                                                        children: isUploading ? \"Uploading...\" : \"Upload \".concat(referenceImages.length > 0 ? \"another\" : \"a\", \" photo to create characters\")\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                        lineNumber: 5054,\n                                                                        columnNumber: 23\n                                                                    }, this)\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 5052,\n                                                                columnNumber: 21\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 5043,\n                                                        columnNumber: 19\n                                                    }, this),\n                                                    referenceImages.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"space-y-2\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"flex items-center justify-between\",\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                        className: \"text-xs text-gray-500 dark:text-gray-400\",\n                                                                        children: [\n                                                                            referenceImages.length,\n                                                                            \" photo\",\n                                                                            referenceImages.length > 1 ? \"s\" : \"\",\n                                                                            \" uploaded:\"\n                                                                        ]\n                                                                    }, void 0, true, {\n                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                        lineNumber: 5065,\n                                                                        columnNumber: 23\n                                                                    }, this),\n                                                                    selectedImageModel !== \"gpt-image-1\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                                                        variant: \"outline\",\n                                                                        size: \"sm\",\n                                                                        onClick: ()=>{\n                                                                            setReferenceImages([]);\n                                                                            setReferenceImageUrls([]);\n                                                                            sonner__WEBPACK_IMPORTED_MODULE_13__.toast.success(\"All reference photos removed!\");\n                                                                        },\n                                                                        className: \"h-6 text-xs gap-1 text-red-600 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-900/20\",\n                                                                        children: [\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_46__[\"default\"], {\n                                                                                className: \"w-3 h-3\"\n                                                                            }, void 0, false, {\n                                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                lineNumber: 5079,\n                                                                                columnNumber: 27\n                                                                            }, this),\n                                                                            \"Clear All\"\n                                                                        ]\n                                                                    }, void 0, true, {\n                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                        lineNumber: 5069,\n                                                                        columnNumber: 25\n                                                                    }, this)\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 5064,\n                                                                columnNumber: 21\n                                                            }, this),\n                                                            referenceImages.map((image, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    className: \"flex items-center justify-between p-3 bg-purple-50 dark:bg-purple-900/20 rounded-lg\",\n                                                                    children: [\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                            className: \"flex items-center gap-2\",\n                                                                            children: [\n                                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_47__[\"default\"], {\n                                                                                    className: \"w-4 h-4 text-purple-600\"\n                                                                                }, void 0, false, {\n                                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                    lineNumber: 5087,\n                                                                                    columnNumber: 27\n                                                                                }, this),\n                                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                    className: \"text-sm text-purple-800 dark:text-purple-200\",\n                                                                                    children: image.name\n                                                                                }, void 0, false, {\n                                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                    lineNumber: 5088,\n                                                                                    columnNumber: 27\n                                                                                }, this)\n                                                                            ]\n                                                                        }, void 0, true, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 5086,\n                                                                            columnNumber: 25\n                                                                        }, this),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                                                            variant: \"ghost\",\n                                                                            size: \"sm\",\n                                                                            onClick: ()=>handleRemoveReferenceImage(index),\n                                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_46__[\"default\"], {\n                                                                                className: \"w-4 h-4\"\n                                                                            }, void 0, false, {\n                                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                lineNumber: 5095,\n                                                                                columnNumber: 27\n                                                                            }, this)\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 5090,\n                                                                            columnNumber: 25\n                                                                        }, this)\n                                                                    ]\n                                                                }, index, true, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 5085,\n                                                                    columnNumber: 23\n                                                                }, this))\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 5063,\n                                                        columnNumber: 19\n                                                    }, this),\n                                                    referenceImages.length > 0 && selectedImageModel === \"gpt-image-1\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_textarea__WEBPACK_IMPORTED_MODULE_4__.Textarea, {\n                                                                placeholder: \"Character style instructions (optional): e.g., 'Make us look like anime characters', 'Keep our exact outfits and accessories but in watercolor style', or 'Show both people together in the same scene'\",\n                                                                value: imageTransformation,\n                                                                onChange: (e)=>setImageTransformation(e.target.value),\n                                                                rows: 3,\n                                                                className: \"resize-none\",\n                                                                style: {\n                                                                    fontSize: \"16px\"\n                                                                }\n                                                            }, void 0, false, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 5105,\n                                                                columnNumber: 21\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                className: \"text-xs text-gray-500 dark:text-gray-400 mt-1\",\n                                                                children: [\n                                                                    \"\\uD83D\\uDCA1 \",\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                                                        children: \"Tip:\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                        lineNumber: 5114,\n                                                                        columnNumber: 26\n                                                                    }, this),\n                                                                    ' Leave blank to keep exact clothing & accessories, or specify style changes like \"anime style\" or \"vintage cartoon look\"'\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 5113,\n                                                                columnNumber: 21\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 5104,\n                                                        columnNumber: 19\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 5040,\n                                                columnNumber: 15\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                        lineNumber: 4949,\n                                        columnNumber: 15\n                                    }, this),\n                                    showAdvanced && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"space-y-4 p-4 border rounded-lg bg-gray-50 dark:bg-gray-800/50\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"flex items-center gap-2 mb-4\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_48__[\"default\"], {\n                                                        className: \"w-4 h-4\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 5126,\n                                                        columnNumber: 19\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        className: \"text-sm font-medium text-gray-700 dark:text-gray-300\",\n                                                        children: \"Advanced Options\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 5127,\n                                                        columnNumber: 19\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 5125,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                        className: \"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block\",\n                                                        children: \"Image Generation Model\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 5132,\n                                                        columnNumber: 19\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_select__WEBPACK_IMPORTED_MODULE_8__.Select, {\n                                                        value: selectedImageModel,\n                                                        onValueChange: setSelectedImageModel,\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_select__WEBPACK_IMPORTED_MODULE_8__.SelectTrigger, {\n                                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_select__WEBPACK_IMPORTED_MODULE_8__.SelectValue, {\n                                                                    placeholder: \"Choose image model\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 5137,\n                                                                    columnNumber: 23\n                                                                }, this)\n                                                            }, void 0, false, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 5136,\n                                                                columnNumber: 21\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_select__WEBPACK_IMPORTED_MODULE_8__.SelectContent, {\n                                                                children: imageModels.map((model)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_select__WEBPACK_IMPORTED_MODULE_8__.SelectItem, {\n                                                                        value: model.id,\n                                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                            children: [\n                                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                    className: \"font-medium\",\n                                                                                    children: model.label\n                                                                                }, void 0, false, {\n                                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                    lineNumber: 5143,\n                                                                                    columnNumber: 29\n                                                                                }, this),\n                                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                    className: \"text-xs text-muted-foreground\",\n                                                                                    children: model.description\n                                                                                }, void 0, false, {\n                                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                    lineNumber: 5144,\n                                                                                    columnNumber: 29\n                                                                                }, this)\n                                                                            ]\n                                                                        }, void 0, true, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 5142,\n                                                                            columnNumber: 27\n                                                                        }, this)\n                                                                    }, model.id, false, {\n                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                        lineNumber: 5141,\n                                                                        columnNumber: 25\n                                                                    }, this))\n                                                            }, void 0, false, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 5139,\n                                                                columnNumber: 21\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 5135,\n                                                        columnNumber: 19\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 5131,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                        className: \"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block\",\n                                                        children: \"Draft Mode Model\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 5154,\n                                                        columnNumber: 20\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_select__WEBPACK_IMPORTED_MODULE_8__.Select, {\n                                                        value: selectedDraftModel,\n                                                        onValueChange: setSelectedDraftModel,\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_select__WEBPACK_IMPORTED_MODULE_8__.SelectTrigger, {\n                                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_select__WEBPACK_IMPORTED_MODULE_8__.SelectValue, {\n                                                                    placeholder: \"Choose draft model\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 5159,\n                                                                    columnNumber: 24\n                                                                }, this)\n                                                            }, void 0, false, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 5158,\n                                                                columnNumber: 22\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_select__WEBPACK_IMPORTED_MODULE_8__.SelectContent, {\n                                                                children: imageModels.map((model)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_select__WEBPACK_IMPORTED_MODULE_8__.SelectItem, {\n                                                                        value: model.id,\n                                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                            children: [\n                                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                    className: \"font-medium\",\n                                                                                    children: model.label\n                                                                                }, void 0, false, {\n                                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                    lineNumber: 5165,\n                                                                                    columnNumber: 30\n                                                                                }, this),\n                                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                    className: \"text-xs text-muted-foreground\",\n                                                                                    children: model.description\n                                                                                }, void 0, false, {\n                                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                    lineNumber: 5166,\n                                                                                    columnNumber: 30\n                                                                                }, this)\n                                                                            ]\n                                                                        }, void 0, true, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 5164,\n                                                                            columnNumber: 28\n                                                                        }, this)\n                                                                    }, model.id, false, {\n                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                        lineNumber: 5163,\n                                                                        columnNumber: 26\n                                                                    }, this))\n                                                            }, void 0, false, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 5161,\n                                                                columnNumber: 22\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 5157,\n                                                        columnNumber: 20\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                        className: \"text-xs text-gray-500 dark:text-gray-400 mt-1\",\n                                                        children: \"Model used for draft variations. Consider faster models like FLUX 1.1 Pro for quicker previews.\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 5172,\n                                                        columnNumber: 20\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 5153,\n                                                columnNumber: 18\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                        className: \"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block\",\n                                                        children: \"Paper Size\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 5179,\n                                                        columnNumber: 19\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_select__WEBPACK_IMPORTED_MODULE_8__.Select, {\n                                                        value: selectedPaperSize,\n                                                        onValueChange: setSelectedPaperSize,\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_select__WEBPACK_IMPORTED_MODULE_8__.SelectTrigger, {\n                                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_select__WEBPACK_IMPORTED_MODULE_8__.SelectValue, {\n                                                                    placeholder: \"Choose paper size\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 5184,\n                                                                    columnNumber: 23\n                                                                }, this)\n                                                            }, void 0, false, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 5183,\n                                                                columnNumber: 21\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_select__WEBPACK_IMPORTED_MODULE_8__.SelectContent, {\n                                                                children: paperSizes.map((size)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_select__WEBPACK_IMPORTED_MODULE_8__.SelectItem, {\n                                                                        value: size.id,\n                                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                            children: [\n                                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                    className: \"font-medium\",\n                                                                                    children: size.label\n                                                                                }, void 0, false, {\n                                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                    lineNumber: 5190,\n                                                                                    columnNumber: 29\n                                                                                }, this),\n                                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                    className: \"text-xs text-muted-foreground\",\n                                                                                    children: size.description\n                                                                                }, void 0, false, {\n                                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                    lineNumber: 5191,\n                                                                                    columnNumber: 29\n                                                                                }, this)\n                                                                            ]\n                                                                        }, void 0, true, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 5189,\n                                                                            columnNumber: 27\n                                                                        }, this)\n                                                                    }, size.id, false, {\n                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                        lineNumber: 5188,\n                                                                        columnNumber: 25\n                                                                    }, this))\n                                                            }, void 0, false, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 5186,\n                                                                columnNumber: 21\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 5182,\n                                                        columnNumber: 19\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 5178,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                        className: \"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block\",\n                                                        children: \"Number of Cards to Generate\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 5201,\n                                                        columnNumber: 19\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_select__WEBPACK_IMPORTED_MODULE_8__.Select, {\n                                                        value: numberOfCards.toString(),\n                                                        onValueChange: (value)=>setNumberOfCards(parseInt(value)),\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_select__WEBPACK_IMPORTED_MODULE_8__.SelectTrigger, {\n                                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_select__WEBPACK_IMPORTED_MODULE_8__.SelectValue, {\n                                                                    placeholder: \"Choose number of cards\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 5206,\n                                                                    columnNumber: 23\n                                                                }, this)\n                                                            }, void 0, false, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 5205,\n                                                                columnNumber: 21\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_select__WEBPACK_IMPORTED_MODULE_8__.SelectContent, {\n                                                                children: [\n                                                                    1,\n                                                                    2,\n                                                                    3,\n                                                                    4,\n                                                                    5\n                                                                ].map((num)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_select__WEBPACK_IMPORTED_MODULE_8__.SelectItem, {\n                                                                        value: num.toString(),\n                                                                        children: [\n                                                                            num,\n                                                                            \" Card\",\n                                                                            num > 1 ? \"s\" : \"\"\n                                                                        ]\n                                                                    }, num, true, {\n                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                        lineNumber: 5210,\n                                                                        columnNumber: 25\n                                                                    }, this))\n                                                            }, void 0, false, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 5208,\n                                                                columnNumber: 21\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 5204,\n                                                        columnNumber: 19\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                        className: \"text-xs text-gray-500 dark:text-gray-400 mt-1\",\n                                                        children: \"Generate multiple card variations to choose from\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 5216,\n                                                        columnNumber: 19\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 5200,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"space-y-3\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"flex items-center space-x-2\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                                type: \"checkbox\",\n                                                                id: \"front-back-only\",\n                                                                checked: isFrontBackOnly,\n                                                                onChange: (e)=>setIsFrontBackOnly(e.target.checked),\n                                                                className: \"rounded\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 5224,\n                                                                columnNumber: 21\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                                htmlFor: \"front-back-only\",\n                                                                className: \"text-sm text-gray-700 dark:text-gray-300\",\n                                                                children: \"Front and back only (no interior pages)\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 5231,\n                                                                columnNumber: 21\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 5223,\n                                                        columnNumber: 19\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                        className: \"text-xs text-gray-500 dark:text-gray-400\",\n                                                        children: \"Perfect for postcards or simple greeting cards\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 5235,\n                                                        columnNumber: 19\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 5222,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                        className: \"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block\",\n                                                        children: \"Data Management\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 5242,\n                                                        columnNumber: 19\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                                        variant: \"outline\",\n                                                        size: \"sm\",\n                                                        onClick: clearSavedData,\n                                                        className: \"w-full gap-2 text-red-600 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-900/20\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_46__[\"default\"], {\n                                                                className: \"w-4 h-4\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 5251,\n                                                                columnNumber: 21\n                                                            }, this),\n                                                            \"Clear Saved Data\"\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 5245,\n                                                        columnNumber: 19\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                        className: \"text-xs text-gray-500 dark:text-gray-400 mt-1\",\n                                                        children: \"Remove all saved form data and generated cards from your browser\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 5254,\n                                                        columnNumber: 19\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 5241,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                        lineNumber: 5124,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_collapsible__WEBPACK_IMPORTED_MODULE_9__.Collapsible, {\n                                        className: \"space-y-2\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_collapsible__WEBPACK_IMPORTED_MODULE_9__.CollapsibleTrigger, {\n                                                asChild: true,\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                                    variant: \"ghost\",\n                                                    className: \"w-full justify-between text-xs text-gray-500 dark:text-gray-400 h-8\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            children: \"Privacy & Terms\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 5265,\n                                                            columnNumber: 23\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_41__[\"default\"], {\n                                                            className: \"h-3 w-3\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 5266,\n                                                            columnNumber: 23\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 5264,\n                                                    columnNumber: 21\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 5263,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_collapsible__WEBPACK_IMPORTED_MODULE_9__.CollapsibleContent, {\n                                                className: \"space-y-3\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"text-xs text-gray-600 dark:text-gray-300 space-y-3 p-4 border rounded-lg bg-gray-50 dark:bg-gray-800/50\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h4\", {\n                                                                    className: \"font-semibold mb-2 text-gray-800 dark:text-gray-200\",\n                                                                    children: \"Privacy Policy\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 5273,\n                                                                    columnNumber: 25\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"ul\", {\n                                                                    className: \"space-y-1 text-gray-600 dark:text-gray-400\",\n                                                                    children: [\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                                                            children: \"• We collect your email address and card content to provide our service\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 5275,\n                                                                            columnNumber: 27\n                                                                        }, this),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                                                            children: \"• Images and messages are processed using third-party AI services\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 5276,\n                                                                            columnNumber: 27\n                                                                        }, this),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                                                            children: \"• Cards are stored temporarily for delivery and may be cached for performance\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 5277,\n                                                                            columnNumber: 27\n                                                                        }, this),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                                                            children: \"• We do not sell, share, or use your personal data for marketing purposes\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 5278,\n                                                                            columnNumber: 27\n                                                                        }, this),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                                                            children: \"• Your email is only used for card delivery and service communications\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 5279,\n                                                                            columnNumber: 27\n                                                                        }, this)\n                                                                    ]\n                                                                }, void 0, true, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 5274,\n                                                                    columnNumber: 25\n                                                                }, this)\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 5272,\n                                                            columnNumber: 23\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h4\", {\n                                                                    className: \"font-semibold mb-2 text-gray-800 dark:text-gray-200\",\n                                                                    children: \"Terms of Service\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 5284,\n                                                                    columnNumber: 25\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"ul\", {\n                                                                    className: \"space-y-1 text-gray-600 dark:text-gray-400\",\n                                                                    children: [\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                                                            children: \"• You must be 13+ years old to use this service\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 5286,\n                                                                            columnNumber: 27\n                                                                        }, this),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                                                            children: \"• You are responsible for the content you submit\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 5287,\n                                                                            columnNumber: 27\n                                                                        }, this),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                                                            children: '• Service is provided \"as-is\" without warranties'\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 5288,\n                                                                            columnNumber: 27\n                                                                        }, this),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                                                            children: \"• We reserve the right to refuse service for policy violations\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 5289,\n                                                                            columnNumber: 27\n                                                                        }, this),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                                                            children: \"• These terms may be updated with notice on our website\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 5290,\n                                                                            columnNumber: 27\n                                                                        }, this)\n                                                                    ]\n                                                                }, void 0, true, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 5285,\n                                                                    columnNumber: 25\n                                                                }, this)\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 5283,\n                                                            columnNumber: 23\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h4\", {\n                                                                    className: \"font-semibold mb-2 text-gray-800 dark:text-gray-200\",\n                                                                    children: \"Content Policy\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 5295,\n                                                                    columnNumber: 25\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"ul\", {\n                                                                    className: \"space-y-1 text-gray-600 dark:text-gray-400\",\n                                                                    children: [\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                                                            children: \"• All content must be family-friendly and appropriate for all audiences\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 5297,\n                                                                            columnNumber: 27\n                                                                        }, this),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                                                            children: \"• No copyrighted characters, logos, or trademarked content\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 5298,\n                                                                            columnNumber: 27\n                                                                        }, this),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                                                            children: \"• No hate speech, harassment, or discriminatory content\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 5299,\n                                                                            columnNumber: 27\n                                                                        }, this),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                                                            children: \"• No illegal, harmful, or explicit material\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 5300,\n                                                                            columnNumber: 27\n                                                                        }, this),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                                                            children: \"• Content may be filtered to ensure compliance with these guidelines\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 5301,\n                                                                            columnNumber: 27\n                                                                        }, this)\n                                                                    ]\n                                                                }, void 0, true, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 5296,\n                                                                    columnNumber: 25\n                                                                }, this)\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 5294,\n                                                            columnNumber: 23\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h4\", {\n                                                                    className: \"font-semibold mb-2 text-gray-800 dark:text-gray-200\",\n                                                                    children: \"Intellectual Property\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 5306,\n                                                                    columnNumber: 25\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"ul\", {\n                                                                    className: \"space-y-1 text-gray-600 dark:text-gray-400\",\n                                                                    children: [\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                                                            children: \"• You retain rights to your original content and ideas\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 5308,\n                                                                            columnNumber: 27\n                                                                        }, this),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                                                            children: \"• Generated images are created using AI and may not be copyrightable\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 5309,\n                                                                            columnNumber: 27\n                                                                        }, this),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                                                            children: \"• You grant us license to process and deliver your cards\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 5310,\n                                                                            columnNumber: 27\n                                                                        }, this),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                                                            children: \"• Respect third-party intellectual property rights\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 5311,\n                                                                            columnNumber: 27\n                                                                        }, this)\n                                                                    ]\n                                                                }, void 0, true, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 5307,\n                                                                    columnNumber: 25\n                                                                }, this)\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 5305,\n                                                            columnNumber: 23\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"pt-2 border-t border-gray-200 dark:border-gray-700\",\n                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                className: \"text-center text-gray-500 dark:text-gray-400\",\n                                                                children: [\n                                                                    \"By creating a card, you agree to these terms and policies.\",\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"br\", {}, void 0, false, {\n                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                        lineNumber: 5318,\n                                                                        columnNumber: 27\n                                                                    }, this),\n                                                                    \"Last updated: \",\n                                                                    new Date().toLocaleDateString()\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 5316,\n                                                                columnNumber: 25\n                                                            }, this)\n                                                        }, void 0, false, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 5315,\n                                                            columnNumber: 23\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 5270,\n                                                    columnNumber: 21\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 5269,\n                                                columnNumber: 19\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                        lineNumber: 5262,\n                                        columnNumber: 17\n                                    }, this),\n                                    (isGenerating || isGeneratingMessage) && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"mb-4 p-4 bg-gradient-to-r from-blue-50 to-cyan-50 dark:from-blue-900/30 dark:to-cyan-900/30 rounded-lg border border-blue-200 dark:border-blue-800\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"space-y-3\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"flex items-center gap-2\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"w-4 h-4 border-2 border-blue-500 border-t-transparent rounded-full animate-spin\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 5331,\n                                                            columnNumber: 25\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            className: \"text-sm font-medium text-blue-600 dark:text-blue-400\",\n                                                            children: generationProgress || \"Generating your card...\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 5332,\n                                                            columnNumber: 25\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 5330,\n                                                    columnNumber: 23\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-3\",\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"bg-gradient-to-r from-blue-500 to-cyan-500 h-3 rounded-full transition-all duration-1000 ease-out\",\n                                                        style: {\n                                                            width: \"\".concat(Math.min(progressPercentage, 100), \"%\")\n                                                        }\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 5339,\n                                                        columnNumber: 25\n                                                    }, this)\n                                                }, void 0, false, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 5338,\n                                                    columnNumber: 23\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"flex items-center justify-between text-xs text-gray-600 dark:text-gray-400\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            className: \"font-medium\",\n                                                            children: [\n                                                                Math.round(progressPercentage),\n                                                                \"% Complete\"\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 5347,\n                                                            columnNumber: 25\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"flex items-center gap-3\",\n                                                            children: [\n                                                                currentElapsedTime > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                    className: \"text-blue-600 dark:text-blue-400\",\n                                                                    children: [\n                                                                        \"⏱️ \",\n                                                                        formatGenerationTime(currentElapsedTime)\n                                                                    ]\n                                                                }, void 0, true, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 5352,\n                                                                    columnNumber: 29\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                    className: \"text-gray-500\",\n                                                                    children: \"~2-3 min expected\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 5356,\n                                                                    columnNumber: 27\n                                                                }, this)\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 5350,\n                                                            columnNumber: 25\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 5346,\n                                                    columnNumber: 23\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                            lineNumber: 5328,\n                                            columnNumber: 21\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                        lineNumber: 5327,\n                                        columnNumber: 19\n                                    }, this),\n                                    !isDraftMode && draftCards.length === 0 && !isGeneratingFinalCard && !isGenerating ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"space-y-3\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"bg-purple-50 dark:bg-purple-900/20 rounded-lg p-3 border border-purple-200 dark:border-purple-800\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"flex items-start gap-2\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_49__[\"default\"], {\n                                                            className: \"w-4 h-4 text-purple-600 mt-0.5 flex-shrink-0\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 5371,\n                                                            columnNumber: 25\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"text-sm\",\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                    className: \"font-medium text-purple-900 dark:text-purple-100\",\n                                                                    children: \"\\uD83C\\uDFA8 Draft Mode (Recommended)\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 5373,\n                                                                    columnNumber: 27\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                    className: \"text-purple-700 dark:text-purple-300 text-xs mt-1\",\n                                                                    children: \"Generate 10 different design variations quickly with low quality, then pick your favorite for high-quality generation. Perfect for exploring options!\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 5376,\n                                                                    columnNumber: 27\n                                                                }, this)\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 5372,\n                                                            columnNumber: 25\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 5370,\n                                                    columnNumber: 23\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 5369,\n                                                columnNumber: 21\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                                onClick: handleGenerateDraftCards,\n                                                disabled: isGenerating || isGeneratingMessage || !userEmail.trim(),\n                                                className: \"w-full h-12 transition-all duration-300 bg-gradient-to-r from-purple-500 to-pink-600 hover:from-purple-600 hover:to-pink-700\",\n                                                size: \"lg\",\n                                                children: isGenerating || isGeneratingMessage ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 5392,\n                                                            columnNumber: 27\n                                                        }, this),\n                                                        isGeneratingMessage ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            children: \"Writing your message...\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 5394,\n                                                            columnNumber: 29\n                                                        }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            children: \"Creating 10 design options...\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 5396,\n                                                            columnNumber: 29\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_49__[\"default\"], {\n                                                            className: \"w-5 h-5 mr-2\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 5401,\n                                                            columnNumber: 27\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            children: \"Create 10 Design Options\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 5402,\n                                                            columnNumber: 27\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true)\n                                            }, void 0, false, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 5384,\n                                                columnNumber: 21\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"text-center text-xs text-gray-500 dark:text-gray-400\",\n                                                children: \"or\"\n                                            }, void 0, false, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 5407,\n                                                columnNumber: 21\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                                onClick: handleGenerateCardAsync,\n                                                disabled: isGenerating || isGeneratingMessage || !userEmail.trim(),\n                                                variant: \"outline\",\n                                                className: \"w-full h-10 transition-all duration-300 border-blue-300 hover:border-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/20\",\n                                                size: \"lg\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_38__[\"default\"], {\n                                                        className: \"w-4 h-4 mr-2\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 5419,\n                                                        columnNumber: 23\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        children: \"Direct Generation\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 5420,\n                                                        columnNumber: 23\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 5412,\n                                                columnNumber: 21\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                        lineNumber: 5367,\n                                        columnNumber: 19\n                                    }, this) : isGeneratingFinalCard ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"space-y-4\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                                disabled: true,\n                                                className: \"w-full h-12 transition-all duration-300 bg-gradient-to-r from-blue-500 to-cyan-600\",\n                                                size: \"lg\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 5430,\n                                                        columnNumber: 23\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        children: \"Creating high-quality version...\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 5431,\n                                                        columnNumber: 23\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 5425,\n                                                columnNumber: 21\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"p-4 bg-gradient-to-r from-blue-50 to-cyan-50 dark:from-blue-900/30 dark:to-cyan-900/30 rounded-lg border border-blue-200 dark:border-blue-800\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"space-y-3\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"flex items-center gap-2\",\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    className: \"w-4 h-4 border-2 border-blue-500 border-t-transparent rounded-full animate-spin\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 5439,\n                                                                    columnNumber: 27\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                    className: \"text-sm font-medium text-blue-600 dark:text-blue-400\",\n                                                                    children: generationProgress || \"Generating high-quality version of your selected design...\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 5440,\n                                                                    columnNumber: 27\n                                                                }, this)\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 5438,\n                                                            columnNumber: 25\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-3\",\n                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"bg-gradient-to-r from-blue-500 to-cyan-500 h-3 rounded-full transition-all duration-1000 ease-out\",\n                                                                style: {\n                                                                    width: \"\".concat(Math.min(progressPercentage, 100), \"%\")\n                                                                }\n                                                            }, void 0, false, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 5447,\n                                                                columnNumber: 27\n                                                            }, this)\n                                                        }, void 0, false, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 5446,\n                                                            columnNumber: 25\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"flex items-center justify-between text-xs text-gray-600 dark:text-gray-400\",\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                    className: \"font-medium\",\n                                                                    children: [\n                                                                        Math.round(progressPercentage),\n                                                                        \"% Complete\"\n                                                                    ]\n                                                                }, void 0, true, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 5455,\n                                                                    columnNumber: 27\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    className: \"flex items-center gap-3\",\n                                                                    children: [\n                                                                        currentElapsedTime > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                            className: \"text-blue-600 dark:text-blue-400\",\n                                                                            children: [\n                                                                                \"⏱️ \",\n                                                                                formatGenerationTime(currentElapsedTime)\n                                                                            ]\n                                                                        }, void 0, true, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 5460,\n                                                                            columnNumber: 31\n                                                                        }, this),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                            className: \"text-gray-500\",\n                                                                            children: \"~2-3 min expected\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 5464,\n                                                                            columnNumber: 29\n                                                                        }, this)\n                                                                    ]\n                                                                }, void 0, true, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 5458,\n                                                                    columnNumber: 27\n                                                                }, this)\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 5454,\n                                                            columnNumber: 25\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 5436,\n                                                    columnNumber: 23\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 5435,\n                                                columnNumber: 21\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                        lineNumber: 5424,\n                                        columnNumber: 19\n                                    }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                        onClick: handleGenerateCardAsync,\n                                        disabled: isGenerating || isGeneratingMessage || !userEmail.trim(),\n                                        className: \"w-full h-12 transition-all duration-300 \".concat(isCardCompleted ? \"bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700\" : \"bg-gradient-to-r from-blue-500 to-cyan-600 hover:from-blue-600 hover:to-cyan-700\"),\n                                        size: \"lg\",\n                                        children: isGenerating || isGeneratingMessage ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2\"\n                                                }, void 0, false, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 5485,\n                                                    columnNumber: 23\n                                                }, this),\n                                                isGeneratingMessage ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    children: \"Writing your message...\"\n                                                }, void 0, false, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 5487,\n                                                    columnNumber: 25\n                                                }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    children: \"Creating your card...\"\n                                                }, void 0, false, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 5489,\n                                                    columnNumber: 25\n                                                }, this)\n                                            ]\n                                        }, void 0, true) : isCardCompleted ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex items-center justify-center w-full\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"w-5 h-5 mr-2 text-white\",\n                                                    children: \"✅\"\n                                                }, void 0, false, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 5494,\n                                                    columnNumber: 23\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    children: \"Card Completed!\"\n                                                }, void 0, false, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 5495,\n                                                    columnNumber: 23\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                            lineNumber: 5493,\n                                            columnNumber: 21\n                                        }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_38__[\"default\"], {\n                                                    className: \"w-5 h-5 mr-2\"\n                                                }, void 0, false, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 5499,\n                                                    columnNumber: 23\n                                                }, this),\n                                                numberOfCards > 1 ? \"Create \".concat(numberOfCards, \" Cards\") : \"Create Card\"\n                                            ]\n                                        }, void 0, true)\n                                    }, void 0, false, {\n                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                        lineNumber: 5473,\n                                        columnNumber: 17\n                                    }, this),\n                                    isCardCompleted && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"mt-4 grid grid-cols-2 gap-3\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                                onClick: handleRegenerateCard,\n                                                variant: \"outline\",\n                                                className: \"flex items-center gap-2 border-blue-200 hover:border-blue-300 hover:bg-blue-50 dark:border-blue-800 dark:hover:border-blue-700 dark:hover:bg-blue-900/20\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_45__[\"default\"], {\n                                                        className: \"w-4 h-4\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 5514,\n                                                        columnNumber: 23\n                                                    }, this),\n                                                    \"Regenerate Same\"\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 5509,\n                                                columnNumber: 21\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                                onClick: handleCreateNewCard,\n                                                variant: \"outline\",\n                                                className: \"flex items-center gap-2 border-green-200 hover:border-green-300 hover:bg-green-50 dark:border-green-800 dark:hover:border-green-700 dark:hover:bg-green-900/20\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_38__[\"default\"], {\n                                                        className: \"w-4 h-4\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 5522,\n                                                        columnNumber: 23\n                                                    }, this),\n                                                    \"Create New Card\"\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 5517,\n                                                columnNumber: 21\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                        lineNumber: 5508,\n                                        columnNumber: 19\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                lineNumber: 4571,\n                                columnNumber: 15\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                        lineNumber: 4540,\n                        columnNumber: 9\n                    }, this),\n                    isDraftMode && draftCards.length > 0 && !isGeneratingFinalCard && !generatedCard && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_5__.Card, {\n                        className: \"shadow-lg\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_5__.CardHeader, {\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_5__.CardTitle, {\n                                        className: \"flex items-center gap-2\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_49__[\"default\"], {\n                                                className: \"w-5 h-5 text-purple-600\"\n                                            }, void 0, false, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 5535,\n                                                columnNumber: 17\n                                            }, this),\n                                            \"Choose Your Favorite Design\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                        lineNumber: 5534,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_5__.CardDescription, {\n                                        children: \"10 design variations created with low quality for fast preview. Select your favorite to generate the high-quality version!\"\n                                    }, void 0, false, {\n                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                        lineNumber: 5538,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                lineNumber: 5533,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_5__.CardContent, {\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 gap-4\",\n                                        children: Array.from({\n                                            length: 10\n                                        }, (_, index)=>{\n                                            const card = draftCards[index];\n                                            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"relative cursor-pointer rounded-lg border-2 p-4 transition-all \".concat(selectedDraftIndex === index ? \"border-purple-500 bg-purple-50 dark:bg-purple-900/20\" : card ? \"border-gray-200 dark:border-gray-700 hover:border-purple-300 hover:bg-purple-50/50 dark:hover:bg-purple-900/10\" : \"border-dashed border-gray-300 dark:border-gray-600\"),\n                                                children: card ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"grid grid-cols-2 gap-2 mb-4\",\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    className: \"space-y-1\",\n                                                                    children: [\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                            className: \"aspect-[2/3] relative overflow-hidden rounded border\",\n                                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                                                                src: card.frontCover,\n                                                                                alt: \"Design \".concat(index + 1, \" - Front\"),\n                                                                                className: \"w-full h-full object-cover\"\n                                                                            }, void 0, false, {\n                                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                lineNumber: 5565,\n                                                                                columnNumber: 33\n                                                                            }, this)\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 5564,\n                                                                            columnNumber: 31\n                                                                        }, this),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                            className: \"text-xs text-center text-gray-500 dark:text-gray-400\",\n                                                                            children: \"Front\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 5571,\n                                                                            columnNumber: 31\n                                                                        }, this)\n                                                                    ]\n                                                                }, void 0, true, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 5563,\n                                                                    columnNumber: 29\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    className: \"space-y-1\",\n                                                                    children: [\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                            className: \"aspect-[2/3] relative overflow-hidden rounded border bg-white\",\n                                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                className: \"flex h-full\",\n                                                                                children: [\n                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                        className: \"w-1/2 relative\",\n                                                                                        children: card.leftPage ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                                                                            src: card.leftPage,\n                                                                                            alt: \"Design \".concat(index + 1, \" - Left Interior\"),\n                                                                                            className: \"w-full h-full object-cover\"\n                                                                                        }, void 0, false, {\n                                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                            lineNumber: 5581,\n                                                                                            columnNumber: 39\n                                                                                        }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                            className: \"w-full h-full bg-gray-100 dark:bg-gray-700 flex items-center justify-center\",\n                                                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                                className: \"text-xs text-gray-400\",\n                                                                                                children: \"Left\"\n                                                                                            }, void 0, false, {\n                                                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                                lineNumber: 5588,\n                                                                                                columnNumber: 41\n                                                                                            }, this)\n                                                                                        }, void 0, false, {\n                                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                            lineNumber: 5587,\n                                                                                            columnNumber: 39\n                                                                                        }, this)\n                                                                                    }, void 0, false, {\n                                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                        lineNumber: 5579,\n                                                                                        columnNumber: 35\n                                                                                    }, this),\n                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                        className: \"w-px bg-gray-300\"\n                                                                                    }, void 0, false, {\n                                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                        lineNumber: 5593,\n                                                                                        columnNumber: 35\n                                                                                    }, this),\n                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                        className: \"w-1/2 relative\",\n                                                                                        children: card.rightPage ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                                                                            src: card.rightPage,\n                                                                                            alt: \"Design \".concat(index + 1, \" - Right Interior\"),\n                                                                                            className: \"w-full h-full object-cover\"\n                                                                                        }, void 0, false, {\n                                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                            lineNumber: 5597,\n                                                                                            columnNumber: 39\n                                                                                        }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                            className: \"w-full h-full bg-gray-100 dark:bg-gray-700 flex items-center justify-center\",\n                                                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                                className: \"text-xs text-gray-400\",\n                                                                                                children: \"Right\"\n                                                                                            }, void 0, false, {\n                                                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                                lineNumber: 5604,\n                                                                                                columnNumber: 41\n                                                                                            }, this)\n                                                                                        }, void 0, false, {\n                                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                            lineNumber: 5603,\n                                                                                            columnNumber: 39\n                                                                                        }, this)\n                                                                                    }, void 0, false, {\n                                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                        lineNumber: 5595,\n                                                                                        columnNumber: 35\n                                                                                    }, this)\n                                                                                ]\n                                                                            }, void 0, true, {\n                                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                lineNumber: 5577,\n                                                                                columnNumber: 33\n                                                                            }, this)\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 5576,\n                                                                            columnNumber: 31\n                                                                        }, this),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                            className: \"text-xs text-center text-gray-500 dark:text-gray-400\",\n                                                                            children: \"Interior\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 5610,\n                                                                            columnNumber: 31\n                                                                        }, this)\n                                                                    ]\n                                                                }, void 0, true, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 5575,\n                                                                    columnNumber: 29\n                                                                }, this)\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 5561,\n                                                            columnNumber: 27\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"text-center space-y-2\",\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h4\", {\n                                                                    className: \"font-medium text-sm\",\n                                                                    children: [\n                                                                        \"Design Variation \",\n                                                                        index + 1\n                                                                    ]\n                                                                }, void 0, true, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 5616,\n                                                                    columnNumber: 29\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    className: \"flex items-center justify-center gap-2\",\n                                                                    children: [\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_badge__WEBPACK_IMPORTED_MODULE_6__.Badge, {\n                                                                            variant: \"outline\",\n                                                                            className: \"text-xs\",\n                                                                            children: \"Low Quality Preview\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 5618,\n                                                                            columnNumber: 31\n                                                                        }, this),\n                                                                        selectedDraftIndex === index && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_badge__WEBPACK_IMPORTED_MODULE_6__.Badge, {\n                                                                            className: \"bg-purple-600 text-white text-xs\",\n                                                                            children: \"✓ Selected\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 5622,\n                                                                            columnNumber: 33\n                                                                        }, this)\n                                                                    ]\n                                                                }, void 0, true, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 5617,\n                                                                    columnNumber: 29\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    className: \"flex gap-2 justify-center\",\n                                                                    children: [\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                                                            variant: \"outline\",\n                                                                            size: \"sm\",\n                                                                            onClick: (e)=>{\n                                                                                e.stopPropagation();\n                                                                                setPreviewingDraftIndex(index);\n                                                                            },\n                                                                            className: \"text-xs px-2 py-1 h-6\",\n                                                                            children: [\n                                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_35__[\"default\"], {\n                                                                                    className: \"w-3 h-3 mr-1\"\n                                                                                }, void 0, false, {\n                                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                    lineNumber: 5639,\n                                                                                    columnNumber: 33\n                                                                                }, this),\n                                                                                \"Preview\"\n                                                                            ]\n                                                                        }, void 0, true, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 5630,\n                                                                            columnNumber: 31\n                                                                        }, this),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                                                            variant: selectedDraftIndex === index ? \"default\" : \"outline\",\n                                                                            size: \"sm\",\n                                                                            onClick: (e)=>{\n                                                                                e.stopPropagation();\n                                                                                setSelectedDraftIndex(index);\n                                                                            },\n                                                                            className: \"text-xs px-2 py-1 h-6\",\n                                                                            children: selectedDraftIndex === index ? \"Selected\" : \"Select\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 5642,\n                                                                            columnNumber: 31\n                                                                        }, this)\n                                                                    ]\n                                                                }, void 0, true, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 5629,\n                                                                    columnNumber: 29\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                    className: \"text-xs text-gray-500 dark:text-gray-400\",\n                                                                    children: \"Preview to see details, then select for high-quality generation\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 5655,\n                                                                    columnNumber: 29\n                                                                }, this)\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 5615,\n                                                            columnNumber: 27\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"flex flex-col items-center justify-center py-8\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"w-12 h-12 border-2 border-purple-500 border-t-transparent rounded-full animate-spin mx-auto mb-4\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 5662,\n                                                            columnNumber: 27\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h4\", {\n                                                            className: \"font-medium text-sm mb-1\",\n                                                            children: [\n                                                                \"Design \",\n                                                                index + 1\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 5663,\n                                                            columnNumber: 27\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                            className: \"text-xs text-gray-500\",\n                                                            children: \"Generating variation...\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 5664,\n                                                            columnNumber: 27\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 5661,\n                                                    columnNumber: 25\n                                                }, this)\n                                            }, index, false, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 5547,\n                                                columnNumber: 21\n                                            }, this);\n                                        })\n                                    }, void 0, false, {\n                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                        lineNumber: 5543,\n                                        columnNumber: 15\n                                    }, this),\n                                    draftCards.filter((c)=>c).length === 10 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"mt-6 text-center\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                                onClick: ()=>handleGenerateFinalFromDraft(selectedDraftIndex),\n                                                disabled: selectedDraftIndex === -1,\n                                                className: \"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white\",\n                                                size: \"lg\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_38__[\"default\"], {\n                                                        className: \"w-5 h-5 mr-2\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 5680,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    \"Generate High-Quality Version\"\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 5674,\n                                                columnNumber: 19\n                                            }, this),\n                                            selectedDraftIndex === -1 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                className: \"text-sm text-gray-500 dark:text-gray-400 mt-2\",\n                                                children: \"Please select a design variation above\"\n                                            }, void 0, false, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 5684,\n                                                columnNumber: 21\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                        lineNumber: 5673,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                lineNumber: 5542,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                        lineNumber: 5532,\n                        columnNumber: 11\n                    }, this),\n                    (()=>{\n                        console.log(\"\\uD83D\\uDD0D Card Preview Render Check:\", {\n                            hasGeneratedCard: !!generatedCard,\n                            cardId: generatedCard === null || generatedCard === void 0 ? void 0 : generatedCard.id,\n                            isCardCompleted,\n                            generatedCardsLength: generatedCards.length,\n                            selectedCardIndex,\n                            frontCover: (generatedCard === null || generatedCard === void 0 ? void 0 : generatedCard.frontCover) ? \"present\" : \"missing\",\n                            isDraftMode,\n                            isGeneratingFinalCard,\n                            draftCardsLength: draftCards.length\n                        });\n                        return null;\n                    })(),\n                    generatedCard && !isDraftMode && !isGeneratingFinalCard && draftCards.length === 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_5__.Card, {\n                        className: \"shadow-lg\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_5__.CardHeader, {\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex items-center justify-between\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_5__.CardTitle, {\n                                                    className: \"flex items-center gap-2\",\n                                                    children: [\n                                                        isCardCompleted && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"w-6 h-6 bg-green-500 rounded-full flex items-center justify-center\",\n                                                            title: generationDuration ? \"Generated in \".concat(formatGenerationTime(generationDuration)) : \"Card completed\",\n                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                className: \"text-white text-sm\",\n                                                                children: \"✓\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 5720,\n                                                                columnNumber: 33\n                                                            }, this)\n                                                        }, void 0, false, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 5716,\n                                                            columnNumber: 31\n                                                        }, this),\n                                                        numberOfCards > 1 ? \"Your Cards (\".concat(generatedCards.length, \" Generated)\") : \"Your Card\"\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 5714,\n                                                    columnNumber: 27\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_5__.CardDescription, {\n                                                    children: isCardCompleted ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"space-y-2\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                className: \"text-green-600 dark:text-green-400 font-medium\",\n                                                                children: \"\\uD83C\\uDF89 Card generation complete! Your card is ready for printing or sharing.\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 5728,\n                                                                columnNumber: 31\n                                                            }, this),\n                                                            generationDuration && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"inline-flex items-center gap-2 bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300 px-3 py-1 rounded-full text-sm font-medium\",\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                        className: \"text-blue-500\",\n                                                                        children: \"⚡\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                        lineNumber: 5733,\n                                                                        columnNumber: 37\n                                                                    }, this),\n                                                                    \"Generated in \",\n                                                                    formatGenerationTime(generationDuration)\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 5732,\n                                                                columnNumber: 35\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 5727,\n                                                        columnNumber: 31\n                                                    }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                                        children: [\n                                                            \"Created \",\n                                                            new Date(generatedCard.createdAt).toLocaleDateString(),\n                                                            numberOfCards > 1 && \" • Viewing Card \".concat(selectedCardIndex + 1, \" of \").concat(generatedCards.length)\n                                                        ]\n                                                    }, void 0, true)\n                                                }, void 0, false, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 5725,\n                                                    columnNumber: 27\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                            lineNumber: 5713,\n                                            columnNumber: 25\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                        lineNumber: 5712,\n                                        columnNumber: 23\n                                    }, this),\n                                    numberOfCards > 1 && generatedCards.length > 1 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"mt-4\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                className: \"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block\",\n                                                children: \"Choose Your Favorite Card\"\n                                            }, void 0, false, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 5752,\n                                                columnNumber: 27\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"grid grid-cols-2 md:grid-cols-4 gap-3\",\n                                                children: generatedCards.map((card, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"relative cursor-pointer rounded-lg border-2 p-2 transition-all \".concat(selectedCardIndex === index ? \"border-blue-500 bg-blue-50 dark:bg-blue-900/20\" : \"border-gray-200 dark:border-gray-700 hover:border-gray-300\"),\n                                                        onClick: ()=>{\n                                                            setSelectedCardIndex(index);\n                                                            setGeneratedCard(card);\n                                                        },\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"aspect-[2/3] relative overflow-hidden rounded\",\n                                                                children: card.frontCover ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                                                    src: card.frontCover,\n                                                                    alt: \"Card \".concat(index + 1, \" Preview\"),\n                                                                    className: \"w-full h-full object-cover\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 5771,\n                                                                    columnNumber: 37\n                                                                }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    className: \"w-full h-full bg-gray-100 dark:bg-gray-800 flex items-center justify-center\",\n                                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                        className: \"w-4 h-4 border-2 border-blue-500 border-t-transparent rounded-full animate-spin\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                        lineNumber: 5778,\n                                                                        columnNumber: 39\n                                                                    }, this)\n                                                                }, void 0, false, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 5777,\n                                                                    columnNumber: 37\n                                                                }, this)\n                                                            }, void 0, false, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 5769,\n                                                                columnNumber: 33\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"text-center mt-1\",\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                        className: \"text-xs font-medium\",\n                                                                        children: [\n                                                                            \"Card \",\n                                                                            index + 1\n                                                                        ]\n                                                                    }, void 0, true, {\n                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                        lineNumber: 5783,\n                                                                        columnNumber: 35\n                                                                    }, this),\n                                                                    selectedCardIndex === index && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                        className: \"text-xs text-blue-600 dark:text-blue-400\",\n                                                                        children: \"Selected\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                        lineNumber: 5785,\n                                                                        columnNumber: 37\n                                                                    }, this)\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 5782,\n                                                                columnNumber: 33\n                                                            }, this)\n                                                        ]\n                                                    }, card.id, true, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 5757,\n                                                        columnNumber: 31\n                                                    }, this))\n                                            }, void 0, false, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 5755,\n                                                columnNumber: 27\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                        lineNumber: 5751,\n                                        columnNumber: 25\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                lineNumber: 5711,\n                                columnNumber: 21\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_5__.CardContent, {\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_CardPreview__WEBPACK_IMPORTED_MODULE_14__[\"default\"], {\n                                    card: generatedCard,\n                                    onCardUpdate: (updatedCard)=>{\n                                        setGeneratedCard(updatedCard);\n                                        // Also update the card in the cards array\n                                        setGeneratedCards((prev)=>{\n                                            const updated = [\n                                                ...prev\n                                            ];\n                                            updated[selectedCardIndex] = updatedCard;\n                                            return updated;\n                                        });\n                                    },\n                                    isFrontBackOnly: isFrontBackOnly,\n                                    onPrint: handlePrintClick,\n                                    paperConfig: paperSizes.find((size)=>size.id === selectedPaperSize) || paperSizes[0],\n                                    sectionLoadingStates: sectionLoadingStates,\n                                    // Pass paper size control props\n                                    selectedPaperSize: selectedPaperSize,\n                                    onPaperSizeChange: setSelectedPaperSize,\n                                    paperSizes: paperSizes,\n                                    isCardCompleted: isCardCompleted,\n                                    // Fast preview functionality\n                                    fastPreviewMode: fastPreviewMode && !isCardCompleted,\n                                    onViewFullCard: ()=>setFastPreviewMode(false)\n                                }, void 0, false, {\n                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                    lineNumber: 5795,\n                                    columnNumber: 23\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                lineNumber: 5794,\n                                columnNumber: 21\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                        lineNumber: 5710,\n                        columnNumber: 19\n                    }, this),\n                    !generatedCard && !isDraftMode && draftCards.length === 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_5__.Card, {\n                        className: \"shadow-lg\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_5__.CardContent, {\n                            className: \"flex flex-col items-center justify-center py-12 text-center\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"w-16 h-16 bg-gradient-to-br from-blue-500 to-cyan-600 rounded-full flex items-center justify-center mb-4\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_38__[\"default\"], {\n                                        className: \"w-8 h-8 text-white\"\n                                    }, void 0, false, {\n                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                        lineNumber: 5828,\n                                        columnNumber: 21\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                    lineNumber: 5827,\n                                    columnNumber: 19\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                    className: \"text-lg font-semibold text-gray-900 dark:text-white mb-2\",\n                                    children: \"Ready to Create?\"\n                                }, void 0, false, {\n                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                    lineNumber: 5830,\n                                    columnNumber: 19\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"text-gray-600 dark:text-gray-400 text-sm max-w-sm\",\n                                    children: \"Describe your perfect card above and we'll bring it to life with creative magic!\"\n                                }, void 0, false, {\n                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                    lineNumber: 5833,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                            lineNumber: 5826,\n                            columnNumber: 17\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                        lineNumber: 5825,\n                        columnNumber: 15\n                    }, this),\n                    !generatedCard && !isDraftMode && draftCards.length === 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"mt-8\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_RecentCardsPreview__WEBPACK_IMPORTED_MODULE_17__[\"default\"], {\n                            maxCards: 6,\n                            onCardSelect: (card)=>{\n                                // When a card is selected from the preview, open the card viewer web app\n                                let cardId = card.id;\n                                // If shareUrl contains a card ID, extract it\n                                if (card.shareUrl && card.shareUrl.includes(\"/card/\")) {\n                                    const urlParts = card.shareUrl.split(\"/card/\");\n                                    if (urlParts.length > 1) {\n                                        cardId = urlParts[1].split(\"?\")[0]; // Remove any query parameters\n                                    }\n                                }\n                                // Navigate to the card viewer web app\n                                window.open(\"/card/\".concat(cardId), \"_blank\");\n                            }\n                        }, void 0, false, {\n                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                            lineNumber: 5843,\n                            columnNumber: 13\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                        lineNumber: 5842,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_dialog__WEBPACK_IMPORTED_MODULE_11__.Dialog, {\n                        open: showTemplateCustomization,\n                        onOpenChange: setShowTemplateCustomization,\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_dialog__WEBPACK_IMPORTED_MODULE_11__.DialogContent, {\n                            className: \"sm:max-w-2xl max-h-[90vh] overflow-y-auto\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_dialog__WEBPACK_IMPORTED_MODULE_11__.DialogHeader, {\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_dialog__WEBPACK_IMPORTED_MODULE_11__.DialogTitle, {\n                                            className: \"flex items-center gap-2\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_47__[\"default\"], {\n                                                    className: \"w-5 h-5 text-purple-600\"\n                                                }, void 0, false, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 5869,\n                                                    columnNumber: 17\n                                                }, this),\n                                                \"Customize Template\"\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                            lineNumber: 5868,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_dialog__WEBPACK_IMPORTED_MODULE_11__.DialogDescription, {\n                                            children: \"Personalize this template with your own changes, message, and reference images before generating.\"\n                                        }, void 0, false, {\n                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                            lineNumber: 5872,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                    lineNumber: 5867,\n                                    columnNumber: 13\n                                }, this),\n                                selectedTemplate && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"space-y-6 py-4\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"space-y-3\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h4\", {\n                                                    className: \"font-medium\",\n                                                    children: \"Selected Template\"\n                                                }, void 0, false, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 5881,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"bg-gray-50 dark:bg-gray-800 rounded-lg p-4\",\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"flex items-start gap-4\",\n                                                        children: [\n                                                            selectedTemplate.frontCover && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                                                src: selectedTemplate.frontCover,\n                                                                alt: \"Template preview\",\n                                                                className: \"w-24 h-36 object-cover rounded-lg shadow-md\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 5885,\n                                                                columnNumber: 25\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"flex-1\",\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                        className: \"text-sm font-medium text-gray-900 dark:text-gray-100 mb-2\",\n                                                                        children: \"Template Details:\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                        lineNumber: 5892,\n                                                                        columnNumber: 25\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                        className: \"space-y-3\",\n                                                                        children: [\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                className: \"text-sm text-gray-600 dark:text-gray-400 bg-white dark:bg-gray-700 p-3 rounded border\",\n                                                                                children: [\n                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                                        className: \"font-medium mb-2\",\n                                                                                        children: \"Original Input:\"\n                                                                                    }, void 0, false, {\n                                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                        lineNumber: 5897,\n                                                                                        columnNumber: 29\n                                                                                    }, this),\n                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                                        children: selectedTemplate.prompt\n                                                                                    }, void 0, false, {\n                                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                        lineNumber: 5898,\n                                                                                        columnNumber: 29\n                                                                                    }, this)\n                                                                                ]\n                                                                            }, void 0, true, {\n                                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                lineNumber: 5896,\n                                                                                columnNumber: 27\n                                                                            }, this),\n                                                                            selectedTemplate.generatedPrompts && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                className: \"text-sm text-gray-600 dark:text-gray-400 bg-blue-50 dark:bg-blue-900/20 p-3 rounded border border-blue-200 dark:border-blue-800\",\n                                                                                children: [\n                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                                        className: \"font-medium mb-2 text-blue-900 dark:text-blue-100\",\n                                                                                        children: \"Generated Image Prompts:\"\n                                                                                    }, void 0, false, {\n                                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                        lineNumber: 5902,\n                                                                                        columnNumber: 31\n                                                                                    }, this),\n                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                        className: \"space-y-2 max-h-32 overflow-y-auto\",\n                                                                                        children: [\n                                                                                            selectedTemplate.generatedPrompts.frontCover && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                                children: [\n                                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                                        className: \"font-semibold text-blue-800 dark:text-blue-200\",\n                                                                                                        children: \"Front Cover:\"\n                                                                                                    }, void 0, false, {\n                                                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                                        lineNumber: 5906,\n                                                                                                        columnNumber: 37\n                                                                                                    }, this),\n                                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                                                        className: \"text-xs mt-1\",\n                                                                                                        children: [\n                                                                                                            selectedTemplate.generatedPrompts.frontCover.substring(0, 150),\n                                                                                                            \"...\"\n                                                                                                        ]\n                                                                                                    }, void 0, true, {\n                                                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                                        lineNumber: 5907,\n                                                                                                        columnNumber: 37\n                                                                                                    }, this)\n                                                                                                ]\n                                                                                            }, void 0, true, {\n                                                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                                lineNumber: 5905,\n                                                                                                columnNumber: 35\n                                                                                            }, this),\n                                                                                            selectedTemplate.generatedPrompts.backCover && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                                children: [\n                                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                                        className: \"font-semibold text-blue-800 dark:text-blue-200\",\n                                                                                                        children: \"Back Cover:\"\n                                                                                                    }, void 0, false, {\n                                                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                                        lineNumber: 5912,\n                                                                                                        columnNumber: 37\n                                                                                                    }, this),\n                                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                                                        className: \"text-xs mt-1\",\n                                                                                                        children: [\n                                                                                                            selectedTemplate.generatedPrompts.backCover.substring(0, 150),\n                                                                                                            \"...\"\n                                                                                                        ]\n                                                                                                    }, void 0, true, {\n                                                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                                        lineNumber: 5913,\n                                                                                                        columnNumber: 37\n                                                                                                    }, this)\n                                                                                                ]\n                                                                                            }, void 0, true, {\n                                                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                                lineNumber: 5911,\n                                                                                                columnNumber: 35\n                                                                                            }, this),\n                                                                                            selectedTemplate.generatedPrompts.leftInterior && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                                children: [\n                                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                                        className: \"font-semibold text-blue-800 dark:text-blue-200\",\n                                                                                                        children: \"Left Interior:\"\n                                                                                                    }, void 0, false, {\n                                                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                                        lineNumber: 5918,\n                                                                                                        columnNumber: 37\n                                                                                                    }, this),\n                                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                                                        className: \"text-xs mt-1\",\n                                                                                                        children: [\n                                                                                                            selectedTemplate.generatedPrompts.leftInterior.substring(0, 150),\n                                                                                                            \"...\"\n                                                                                                        ]\n                                                                                                    }, void 0, true, {\n                                                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                                        lineNumber: 5919,\n                                                                                                        columnNumber: 37\n                                                                                                    }, this)\n                                                                                                ]\n                                                                                            }, void 0, true, {\n                                                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                                lineNumber: 5917,\n                                                                                                columnNumber: 35\n                                                                                            }, this),\n                                                                                            selectedTemplate.generatedPrompts.rightInterior && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                                children: [\n                                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                                        className: \"font-semibold text-blue-800 dark:text-blue-200\",\n                                                                                                        children: \"Right Interior:\"\n                                                                                                    }, void 0, false, {\n                                                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                                        lineNumber: 5924,\n                                                                                                        columnNumber: 37\n                                                                                                    }, this),\n                                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                                                        className: \"text-xs mt-1\",\n                                                                                                        children: [\n                                                                                                            selectedTemplate.generatedPrompts.rightInterior.substring(0, 150),\n                                                                                                            \"...\"\n                                                                                                        ]\n                                                                                                    }, void 0, true, {\n                                                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                                        lineNumber: 5925,\n                                                                                                        columnNumber: 37\n                                                                                                    }, this)\n                                                                                                ]\n                                                                                            }, void 0, true, {\n                                                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                                lineNumber: 5923,\n                                                                                                columnNumber: 35\n                                                                                            }, this)\n                                                                                        ]\n                                                                                    }, void 0, true, {\n                                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                        lineNumber: 5903,\n                                                                                        columnNumber: 31\n                                                                                    }, this)\n                                                                                ]\n                                                                            }, void 0, true, {\n                                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                lineNumber: 5901,\n                                                                                columnNumber: 29\n                                                                            }, this)\n                                                                        ]\n                                                                    }, void 0, true, {\n                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                        lineNumber: 5895,\n                                                                        columnNumber: 25\n                                                                    }, this)\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 5891,\n                                                                columnNumber: 23\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 5883,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                }, void 0, false, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 5882,\n                                                    columnNumber: 19\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                            lineNumber: 5880,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"space-y-3\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                    className: \"text-sm font-medium text-gray-700 dark:text-gray-300\",\n                                                    children: \"Additional Changes to Design (Optional)\"\n                                                }, void 0, false, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 5939,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_textarea__WEBPACK_IMPORTED_MODULE_4__.Textarea, {\n                                                    placeholder: \"e.g., 'Change the message to say from Jordan', 'Make it more romantic', 'Add more flowers', 'Change colors to blue and gold'...\",\n                                                    value: templateCustomizations.promptChanges,\n                                                    onChange: (e)=>setTemplateCustomizations((prev)=>({\n                                                                ...prev,\n                                                                promptChanges: e.target.value\n                                                            })),\n                                                    rows: 3,\n                                                    className: \"resize-none\",\n                                                    style: {\n                                                        fontSize: \"16px\"\n                                                    }\n                                                }, void 0, false, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 5942,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                    className: \"text-xs text-gray-500 dark:text-gray-400\",\n                                                    children: \"Describe any changes you want to make to the template design, style, or content.\"\n                                                }, void 0, false, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 5953,\n                                                    columnNumber: 19\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                            lineNumber: 5938,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"space-y-3\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                    className: \"text-sm font-medium text-gray-700 dark:text-gray-300\",\n                                                    children: \"Custom Message (Optional)\"\n                                                }, void 0, false, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 5960,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_textarea__WEBPACK_IMPORTED_MODULE_4__.Textarea, {\n                                                    placeholder: \"Leave empty to auto-generate a message, or write your own custom message here...\",\n                                                    value: templateCustomizations.messageChanges,\n                                                    onChange: (e)=>setTemplateCustomizations((prev)=>({\n                                                                ...prev,\n                                                                messageChanges: e.target.value\n                                                            })),\n                                                    rows: 4,\n                                                    className: \"resize-none\",\n                                                    style: {\n                                                        fontSize: \"16px\"\n                                                    }\n                                                }, void 0, false, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 5963,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                    className: \"text-xs text-gray-500 dark:text-gray-400\",\n                                                    children: \"This will replace the card's interior message. Leave blank to auto-generate.\"\n                                                }, void 0, false, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 5974,\n                                                    columnNumber: 19\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                            lineNumber: 5959,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"space-y-4\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"flex items-center space-x-3\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                            type: \"checkbox\",\n                                                            id: \"use-reference-image\",\n                                                            checked: templateCustomizations.useReferenceImage,\n                                                            onChange: (e)=>setTemplateCustomizations((prev)=>({\n                                                                        ...prev,\n                                                                        useReferenceImage: e.target.checked,\n                                                                        referenceImageFile: null,\n                                                                        referenceImageUrls: [],\n                                                                        referenceImageTransformation: \"\"\n                                                                    })),\n                                                            className: \"rounded\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 5982,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                            htmlFor: \"use-reference-image\",\n                                                            className: \"text-sm font-medium text-gray-700 dark:text-gray-300\",\n                                                            children: \"Add reference photo to personalize the card\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 5995,\n                                                            columnNumber: 21\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 5981,\n                                                    columnNumber: 19\n                                                }, this),\n                                                templateCustomizations.useReferenceImage && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"space-y-4 pl-6 border-l-2 border-purple-200 dark:border-purple-800\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                            className: \"text-xs text-purple-600 dark:text-purple-400\",\n                                                            children: \"Upload a photo to create cartoon characters that look like the people in your photo!\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 6002,\n                                                            columnNumber: 23\n                                                        }, this),\n                                                        !templateCustomizations.referenceImageFile ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg p-4 text-center\",\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                                    type: \"file\",\n                                                                    accept: \"image/*\",\n                                                                    onChange: (e)=>{\n                                                                        var _e_target_files;\n                                                                        const file = (_e_target_files = e.target.files) === null || _e_target_files === void 0 ? void 0 : _e_target_files[0];\n                                                                        if (file) {\n                                                                            setTemplateCustomizations((prev)=>({\n                                                                                    ...prev,\n                                                                                    referenceImageFile: file\n                                                                                }));\n                                                                        }\n                                                                    },\n                                                                    className: \"hidden\",\n                                                                    id: \"template-reference-upload\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 6009,\n                                                                    columnNumber: 27\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                                    htmlFor: \"template-reference-upload\",\n                                                                    className: \"cursor-pointer\",\n                                                                    children: [\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_50__[\"default\"], {\n                                                                            className: \"w-6 h-6 mx-auto mb-2 text-gray-400\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 6025,\n                                                                            columnNumber: 29\n                                                                        }, this),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                            className: \"text-sm text-gray-600 dark:text-gray-400\",\n                                                                            children: \"Upload reference photo\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 6026,\n                                                                            columnNumber: 29\n                                                                        }, this)\n                                                                    ]\n                                                                }, void 0, true, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 6024,\n                                                                    columnNumber: 27\n                                                                }, this)\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 6008,\n                                                            columnNumber: 25\n                                                        }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"space-y-3\",\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    className: \"flex items-center justify-between p-3 bg-purple-50 dark:bg-purple-900/20 rounded-lg\",\n                                                                    children: [\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                            className: \"flex items-center gap-2\",\n                                                                            children: [\n                                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_51__[\"default\"], {\n                                                                                    className: \"w-4 h-4 text-purple-600\"\n                                                                                }, void 0, false, {\n                                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                    lineNumber: 6035,\n                                                                                    columnNumber: 31\n                                                                                }, this),\n                                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                    className: \"text-sm text-purple-800 dark:text-purple-200\",\n                                                                                    children: templateCustomizations.referenceImageFile.name\n                                                                                }, void 0, false, {\n                                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                    lineNumber: 6036,\n                                                                                    columnNumber: 31\n                                                                                }, this)\n                                                                            ]\n                                                                        }, void 0, true, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 6034,\n                                                                            columnNumber: 29\n                                                                        }, this),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                                                            variant: \"ghost\",\n                                                                            size: \"sm\",\n                                                                            onClick: ()=>setTemplateCustomizations((prev)=>({\n                                                                                        ...prev,\n                                                                                        referenceImageFile: null\n                                                                                    })),\n                                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_46__[\"default\"], {\n                                                                                className: \"w-4 h-4\"\n                                                                            }, void 0, false, {\n                                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                lineNumber: 6048,\n                                                                                columnNumber: 31\n                                                                            }, this)\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 6040,\n                                                                            columnNumber: 29\n                                                                        }, this)\n                                                                    ]\n                                                                }, void 0, true, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 6033,\n                                                                    columnNumber: 27\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    className: \"space-y-2\",\n                                                                    children: [\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                                            className: \"text-sm font-medium text-gray-700 dark:text-gray-300\",\n                                                                            children: \"How to use the reference photo\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 6054,\n                                                                            columnNumber: 29\n                                                                        }, this),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_textarea__WEBPACK_IMPORTED_MODULE_4__.Textarea, {\n                                                                            placeholder: \"e.g., 'Use this photo to create cartoon versions of me and my girlfriend on the front cover', 'Replace the people in the template with us', 'Make us look like the characters in the template style'...\",\n                                                                            value: templateCustomizations.referenceImageTransformation,\n                                                                            onChange: (e)=>setTemplateCustomizations((prev)=>({\n                                                                                        ...prev,\n                                                                                        referenceImageTransformation: e.target.value\n                                                                                    })),\n                                                                            rows: 3,\n                                                                            className: \"resize-none\",\n                                                                            style: {\n                                                                                fontSize: \"16px\"\n                                                                            }\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 6057,\n                                                                            columnNumber: 29\n                                                                        }, this),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                            className: \"text-xs text-gray-500 dark:text-gray-400\",\n                                                                            children: \"Describe how you want your photo to be incorporated into the template design.\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 6068,\n                                                                            columnNumber: 29\n                                                                        }, this)\n                                                                    ]\n                                                                }, void 0, true, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 6053,\n                                                                    columnNumber: 27\n                                                                }, this)\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 6032,\n                                                            columnNumber: 25\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 6001,\n                                                    columnNumber: 21\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                            lineNumber: 5980,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex gap-3 pt-4 border-t\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                                    variant: \"outline\",\n                                                    onClick: ()=>{\n                                                        setShowTemplateCustomization(false);\n                                                        setSelectedTemplate(null);\n                                                        setShowTemplateGallery(true); // Go back to template gallery\n                                                    },\n                                                    className: \"flex-1\",\n                                                    children: \"Back to Templates\"\n                                                }, void 0, false, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 6080,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                                    onClick: handleApplyTemplateWithCustomizations,\n                                                    className: \"flex-1 bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_47__[\"default\"], {\n                                                            className: \"w-4 h-4 mr-2\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 6095,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        \"Apply & Generate Card\"\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 6091,\n                                                    columnNumber: 19\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                            lineNumber: 6079,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                    lineNumber: 5878,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                            lineNumber: 5866,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                        lineNumber: 5865,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_dialog__WEBPACK_IMPORTED_MODULE_11__.Dialog, {\n                        open: showTemplateGallery,\n                        onOpenChange: setShowTemplateGallery,\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_dialog__WEBPACK_IMPORTED_MODULE_11__.DialogContent, {\n                            className: \"sm:max-w-6xl max-h-[90vh] overflow-hidden\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_dialog__WEBPACK_IMPORTED_MODULE_11__.DialogHeader, {\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex items-center justify-between\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_dialog__WEBPACK_IMPORTED_MODULE_11__.DialogTitle, {\n                                                        className: \"flex items-center gap-2\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_35__[\"default\"], {\n                                                                className: \"w-5 h-5 text-blue-600\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 6111,\n                                                                columnNumber: 21\n                                                            }, this),\n                                                            \"Choose a Template\"\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 6110,\n                                                        columnNumber: 19\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_dialog__WEBPACK_IMPORTED_MODULE_11__.DialogDescription, {\n                                                        children: \"Use AI to find perfect templates or browse all existing cards. Click any card to use as a template!\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 6114,\n                                                        columnNumber: 19\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 6109,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                                variant: \"outline\",\n                                                size: \"sm\",\n                                                onClick: ()=>setShowPrompts(!showPrompts),\n                                                className: \"gap-2 text-xs\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_52__[\"default\"], {\n                                                        className: \"w-3 h-3\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 6126,\n                                                        columnNumber: 19\n                                                    }, this),\n                                                    showPrompts ? \"Hide Prompts\" : \"Show Prompts\"\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 6120,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                        lineNumber: 6108,\n                                        columnNumber: 15\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                    lineNumber: 6107,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"space-y-4 pb-4 border-b\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex items-center justify-between\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"flex items-center gap-2\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_38__[\"default\"], {\n                                                            className: \"w-4 h-4 text-purple-600\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 6136,\n                                                            columnNumber: 19\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            className: \"text-sm font-medium text-gray-700 dark:text-gray-300\",\n                                                            children: \"Template Search\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 6137,\n                                                            columnNumber: 19\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 6135,\n                                                    columnNumber: 17\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_select__WEBPACK_IMPORTED_MODULE_8__.Select, {\n                                                    value: searchMode,\n                                                    onValueChange: (value)=>setSearchMode(value),\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_select__WEBPACK_IMPORTED_MODULE_8__.SelectTrigger, {\n                                                            className: \"w-32\",\n                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_select__WEBPACK_IMPORTED_MODULE_8__.SelectValue, {}, void 0, false, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 6143,\n                                                                columnNumber: 21\n                                                            }, this)\n                                                        }, void 0, false, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 6142,\n                                                            columnNumber: 19\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_select__WEBPACK_IMPORTED_MODULE_8__.SelectContent, {\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_select__WEBPACK_IMPORTED_MODULE_8__.SelectItem, {\n                                                                    value: \"text\",\n                                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                        className: \"flex items-center gap-2\",\n                                                                        children: [\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                children: \"\\uD83D\\uDCDD\"\n                                                                            }, void 0, false, {\n                                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                lineNumber: 6148,\n                                                                                columnNumber: 25\n                                                                            }, this),\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                children: \"Text\"\n                                                                            }, void 0, false, {\n                                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                lineNumber: 6149,\n                                                                                columnNumber: 25\n                                                                            }, this)\n                                                                        ]\n                                                                    }, void 0, true, {\n                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                        lineNumber: 6147,\n                                                                        columnNumber: 23\n                                                                    }, this)\n                                                                }, void 0, false, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 6146,\n                                                                    columnNumber: 21\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_select__WEBPACK_IMPORTED_MODULE_8__.SelectItem, {\n                                                                    value: \"ai\",\n                                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                        className: \"flex items-center gap-2\",\n                                                                        children: [\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                children: \"\\uD83C\\uDFA8\"\n                                                                            }, void 0, false, {\n                                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                lineNumber: 6154,\n                                                                                columnNumber: 25\n                                                                            }, this),\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                children: \"AI Vision\"\n                                                                            }, void 0, false, {\n                                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                lineNumber: 6155,\n                                                                                columnNumber: 25\n                                                                            }, this)\n                                                                        ]\n                                                                    }, void 0, true, {\n                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                        lineNumber: 6153,\n                                                                        columnNumber: 23\n                                                                    }, this)\n                                                                }, void 0, false, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 6152,\n                                                                    columnNumber: 21\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_select__WEBPACK_IMPORTED_MODULE_8__.SelectItem, {\n                                                                    value: \"hybrid\",\n                                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                        className: \"flex items-center gap-2\",\n                                                                        children: [\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                children: \"⚡\"\n                                                                            }, void 0, false, {\n                                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                lineNumber: 6160,\n                                                                                columnNumber: 25\n                                                                            }, this),\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                children: \"Hybrid\"\n                                                                            }, void 0, false, {\n                                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                lineNumber: 6161,\n                                                                                columnNumber: 25\n                                                                            }, this)\n                                                                        ]\n                                                                    }, void 0, true, {\n                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                        lineNumber: 6159,\n                                                                        columnNumber: 23\n                                                                    }, this)\n                                                                }, void 0, false, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 6158,\n                                                                    columnNumber: 21\n                                                                }, this)\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 6145,\n                                                            columnNumber: 19\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 6141,\n                                                    columnNumber: 17\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                            lineNumber: 6134,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"text-xs text-gray-500 dark:text-gray-400\",\n                                            children: [\n                                                searchMode === \"text\" && \"\\uD83D\\uDCDD Fast keyword search through card descriptions + AI-generated visual prompts (instant results)\",\n                                                searchMode === \"ai\" && \"\\uD83C\\uDFA8 AI analyzes card images for visual style, colors, and themes (10-15 seconds)\",\n                                                searchMode === \"hybrid\" && \"⚡ Combines fast text search with AI visual analysis for best results\"\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                            lineNumber: 6169,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex gap-3\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"flex-1\",\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_input__WEBPACK_IMPORTED_MODULE_3__.Input, {\n                                                        placeholder: searchMode === \"text\" ? \"\\uD83C\\uDFAF e.g., 'birthday dog', 'funny anniversary', 'watercolor'...\" : searchMode === \"ai\" ? \"\\uD83C\\uDFAF e.g., 'watercolor style', 'cute animals', 'bright colors'...\" : \"\\uD83C\\uDFAF e.g., 'birthday and dogs', 'funny anniversary', 'watercolor flowers'...\",\n                                                        value: templateSearchQuery,\n                                                        onChange: (e)=>setTemplateSearchQuery(e.target.value),\n                                                        onKeyDown: (e)=>{\n                                                            if (e.key === \"Enter\" && !e.shiftKey) {\n                                                                e.preventDefault();\n                                                                handleTemplateSearch();\n                                                            }\n                                                        },\n                                                        disabled: isSearchingTemplates,\n                                                        style: {\n                                                            fontSize: \"16px\"\n                                                        }\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 6177,\n                                                        columnNumber: 19\n                                                    }, this)\n                                                }, void 0, false, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 6176,\n                                                    columnNumber: 17\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                                    onClick: handleTemplateSearch,\n                                                    disabled: isSearchingTemplates || !templateSearchQuery.trim(),\n                                                    className: \"gap-2 \".concat(searchMode === \"text\" ? \"bg-blue-600 hover:bg-blue-700\" : searchMode === \"ai\" ? \"bg-purple-600 hover:bg-purple-700\" : \"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700\", \" text-white\"),\n                                                    children: isSearchingTemplates ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 6210,\n                                                                columnNumber: 23\n                                                            }, this),\n                                                            searchMode === \"hybrid\" ? \"Analyzing...\" : \"Searching...\"\n                                                        ]\n                                                    }, void 0, true) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                                        children: [\n                                                            searchMode === \"text\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                children: \"\\uD83D\\uDCDD\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 6215,\n                                                                columnNumber: 49\n                                                            }, this),\n                                                            searchMode === \"ai\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_53__[\"default\"], {\n                                                                className: \"w-4 h-4\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 6216,\n                                                                columnNumber: 47\n                                                            }, this),\n                                                            searchMode === \"hybrid\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                children: \"⚡\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 6217,\n                                                                columnNumber: 51\n                                                            }, this),\n                                                            searchMode === \"text\" ? \"Text Search\" : searchMode === \"ai\" ? \"AI Search\" : \"Hybrid Search\"\n                                                        ]\n                                                    }, void 0, true)\n                                                }, void 0, false, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 6197,\n                                                    columnNumber: 17\n                                                }, this),\n                                                (templateSearchQuery || aiFilteredCards.length > 0 || textFilteredCards.length > 0) && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                                    variant: \"outline\",\n                                                    onClick: clearTemplateSearch,\n                                                    className: \"gap-2\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_46__[\"default\"], {\n                                                            className: \"w-4 h-4\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 6228,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        \"Clear\"\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 6223,\n                                                    columnNumber: 19\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                            lineNumber: 6175,\n                                            columnNumber: 15\n                                        }, this),\n                                        aiFilteredCards.length > 0 && (searchMode === \"ai\" || searchMode === \"hybrid\") && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex items-center gap-2 text-sm text-purple-600 dark:text-purple-400\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_38__[\"default\"], {\n                                                    className: \"w-4 h-4\"\n                                                }, void 0, false, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 6237,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    children: [\n                                                        searchMode === \"hybrid\" ? \"Hybrid analysis\" : \"AI vision\",\n                                                        \" found \",\n                                                        aiFilteredCards.length,\n                                                        ' matches for \"',\n                                                        templateSearchQuery,\n                                                        '\"'\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 6238,\n                                                    columnNumber: 19\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                            lineNumber: 6236,\n                                            columnNumber: 17\n                                        }, this),\n                                        textFilteredCards.length > 0 && searchMode === \"text\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex items-center gap-2 text-sm text-blue-600 dark:text-blue-400\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    children: \"\\uD83D\\uDCDD\"\n                                                }, void 0, false, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 6246,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    children: [\n                                                        \"Text search found \",\n                                                        textFilteredCards.length,\n                                                        ' matches for \"',\n                                                        templateSearchQuery,\n                                                        '\"'\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 6247,\n                                                    columnNumber: 19\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                            lineNumber: 6245,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                    lineNumber: 6133,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex-1 overflow-auto\",\n                                    children: aiFilteredCards.length > 0 && (searchMode === \"ai\" || searchMode === \"hybrid\") || textFilteredCards.length > 0 && searchMode === \"text\" ? // Show filtered results\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"space-y-4\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"text-sm font-medium text-gray-700 dark:text-gray-300\",\n                                                children: [\n                                                    searchMode === \"text\" && \"\\uD83D\\uDCDD Text Search Results (ranked by keyword relevance)\",\n                                                    searchMode === \"ai\" && \"\\uD83C\\uDFAF AI Vision Results (ranked by visual relevance)\",\n                                                    searchMode === \"hybrid\" && \"⚡ Hybrid Search Results (ranked by combined relevance)\"\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 6256,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"flex overflow-x-auto gap-4 pb-4\",\n                                                style: {\n                                                    scrollBehavior: \"smooth\",\n                                                    WebkitOverflowScrolling: \"touch\",\n                                                    scrollbarWidth: \"thin\",\n                                                    scrollSnapType: \"x mandatory\"\n                                                },\n                                                children: (searchMode === \"text\" ? textFilteredCards : aiFilteredCards).map((card, index)=>{\n                                                    var _card_prompt;\n                                                    const frontImage = card.frontCover || card.backCover || card.leftPage || card.rightPage;\n                                                    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"flex-shrink-0 w-64\",\n                                                        style: {\n                                                            scrollSnapAlign: \"start\"\n                                                        },\n                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"\".concat(searchMode === \"text\" ? \"bg-gradient-to-br from-blue-900 to-indigo-900 border-blue-400\" : searchMode === \"ai\" ? \"bg-gradient-to-br from-purple-900 to-blue-900 border-purple-400\" : \"bg-gradient-to-br from-blue-900 via-purple-900 to-indigo-900 border-gradient-to-r border-blue-400\", \" rounded-xl p-2 shadow-inner space-y-2 h-full border-2 relative\"),\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    className: \"absolute top-2 left-2 z-10 flex gap-1\",\n                                                                    children: [\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_badge__WEBPACK_IMPORTED_MODULE_6__.Badge, {\n                                                                            className: \"\".concat(searchMode === \"text\" ? \"bg-blue-600\" : \"bg-purple-600\", \" text-white text-xs\"),\n                                                                            children: [\n                                                                                \"#\",\n                                                                                index + 1\n                                                                            ]\n                                                                        }, void 0, true, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 6288,\n                                                                            columnNumber: 31\n                                                                        }, this),\n                                                                        (card.aiScore || card.textScore) && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_badge__WEBPACK_IMPORTED_MODULE_6__.Badge, {\n                                                                            className: \"bg-green-600 text-white text-xs\",\n                                                                            children: [\n                                                                                searchMode === \"text\" ? card.textScore : card.aiScore,\n                                                                                searchMode === \"ai\" || searchMode === \"hybrid\" ? \"%\" : \"\"\n                                                                            ]\n                                                                        }, void 0, true, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 6294,\n                                                                            columnNumber: 33\n                                                                        }, this)\n                                                                    ]\n                                                                }, void 0, true, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 6287,\n                                                                    columnNumber: 29\n                                                                }, this),\n                                                                frontImage ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                                                    src: frontImage,\n                                                                    alt: \"Template: \".concat(card.prompt || \"Untitled\"),\n                                                                    className: \"rounded-lg shadow-lg w-full h-auto object-cover select-none pointer-events-none\",\n                                                                    loading: \"lazy\",\n                                                                    style: {\n                                                                        userSelect: \"none\"\n                                                                    }\n                                                                }, void 0, false, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 6302,\n                                                                    columnNumber: 31\n                                                                }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    className: \"w-full h-48 bg-gradient-to-br from-gray-100 to-gray-200 rounded-lg flex items-center justify-center\",\n                                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                        className: \"text-center text-gray-500\",\n                                                                        children: [\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_51__[\"default\"], {\n                                                                                className: \"w-8 h-8 mx-auto mb-2\"\n                                                                            }, void 0, false, {\n                                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                lineNumber: 6314,\n                                                                                columnNumber: 35\n                                                                            }, this),\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                                className: \"text-sm\",\n                                                                                children: \"No preview\"\n                                                                            }, void 0, false, {\n                                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                lineNumber: 6315,\n                                                                                columnNumber: 35\n                                                                            }, this)\n                                                                        ]\n                                                                    }, void 0, true, {\n                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                        lineNumber: 6313,\n                                                                        columnNumber: 33\n                                                                    }, this)\n                                                                }, void 0, false, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 6312,\n                                                                    columnNumber: 31\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    className: \"text-xs \".concat(searchMode === \"text\" ? \"text-blue-100 bg-blue-800/50\" : \"text-purple-100 bg-purple-800/50\", \" px-2 py-1 rounded space-y-1\"),\n                                                                    children: [\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                            children: [\n                                                                                ((_card_prompt = card.prompt) === null || _card_prompt === void 0 ? void 0 : _card_prompt.substring(0, 60)) || \"Untitled\",\n                                                                                card.prompt && card.prompt.length > 60 && \"...\"\n                                                                            ]\n                                                                        }, void 0, true, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 6323,\n                                                                            columnNumber: 31\n                                                                        }, this),\n                                                                        showPrompts && card.generatedPrompts && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                            className: \"text-xs opacity-80 border-t border-white/20 pt-1 space-y-1\",\n                                                                            children: [\n                                                                                card.generatedPrompts.frontCover && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                    children: [\n                                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                            className: \"font-semibold\",\n                                                                                            children: \"Front:\"\n                                                                                        }, void 0, false, {\n                                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                            lineNumber: 6333,\n                                                                                            columnNumber: 39\n                                                                                        }, this),\n                                                                                        \" \",\n                                                                                        card.generatedPrompts.frontCover.substring(0, 80),\n                                                                                        card.generatedPrompts.frontCover.length > 80 && \"...\"\n                                                                                    ]\n                                                                                }, void 0, true, {\n                                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                    lineNumber: 6332,\n                                                                                    columnNumber: 37\n                                                                                }, this),\n                                                                                card.generatedPrompts.backCover && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                    children: [\n                                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                            className: \"font-semibold\",\n                                                                                            children: \"Back:\"\n                                                                                        }, void 0, false, {\n                                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                            lineNumber: 6339,\n                                                                                            columnNumber: 39\n                                                                                        }, this),\n                                                                                        \" \",\n                                                                                        card.generatedPrompts.backCover.substring(0, 80),\n                                                                                        card.generatedPrompts.backCover.length > 80 && \"...\"\n                                                                                    ]\n                                                                                }, void 0, true, {\n                                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                    lineNumber: 6338,\n                                                                                    columnNumber: 37\n                                                                                }, this)\n                                                                            ]\n                                                                        }, void 0, true, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 6330,\n                                                                            columnNumber: 33\n                                                                        }, this),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                            className: \"flex gap-1 pt-2\",\n                                                                            children: [\n                                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                                                                    size: \"sm\",\n                                                                                    variant: \"outline\",\n                                                                                    className: \"flex-1 h-6 text-xs bg-white/10 border-white/20 text-white hover:bg-white/20\",\n                                                                                    onClick: (e)=>{\n                                                                                        e.stopPropagation();\n                                                                                        // Convert GalleryCard to GeneratedCard format for applyTemplate\n                                                                                        const template = {\n                                                                                            id: card.id,\n                                                                                            prompt: card.prompt || \"\",\n                                                                                            frontCover: card.frontCover || \"\",\n                                                                                            backCover: card.backCover || \"\",\n                                                                                            leftPage: card.leftPage || \"\",\n                                                                                            rightPage: card.rightPage || \"\",\n                                                                                            createdAt: new Date(card.createdAt * 1000),\n                                                                                            shareUrl: card.shareUrl,\n                                                                                            generatedPrompts: card.generatedPrompts\n                                                                                        };\n                                                                                        applyTemplate(template);\n                                                                                    },\n                                                                                    children: [\n                                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_47__[\"default\"], {\n                                                                                            className: \"w-3 h-3 mr-1\"\n                                                                                        }, void 0, false, {\n                                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                            lineNumber: 6369,\n                                                                                            columnNumber: 35\n                                                                                        }, this),\n                                                                                        \"Customize\"\n                                                                                    ]\n                                                                                }, void 0, true, {\n                                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                    lineNumber: 6348,\n                                                                                    columnNumber: 33\n                                                                                }, this),\n                                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                                                                    size: \"sm\",\n                                                                                    variant: \"outline\",\n                                                                                    className: \"flex-1 h-6 text-xs bg-blue-600/80 border-blue-500/50 text-white hover:bg-blue-600\",\n                                                                                    onClick: (e)=>{\n                                                                                        e.stopPropagation();\n                                                                                        // Convert GalleryCard to GeneratedCard format for preview\n                                                                                        const template = {\n                                                                                            id: card.id,\n                                                                                            prompt: card.prompt || \"\",\n                                                                                            frontCover: card.frontCover || \"\",\n                                                                                            backCover: card.backCover || \"\",\n                                                                                            leftPage: card.leftPage || \"\",\n                                                                                            rightPage: card.rightPage || \"\",\n                                                                                            createdAt: new Date(card.createdAt * 1000),\n                                                                                            shareUrl: card.shareUrl,\n                                                                                            generatedPrompts: card.generatedPrompts\n                                                                                        };\n                                                                                        handleTemplateSelect(template);\n                                                                                    },\n                                                                                    children: [\n                                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_35__[\"default\"], {\n                                                                                            className: \"w-3 h-3 mr-1\"\n                                                                                        }, void 0, false, {\n                                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                            lineNumber: 6393,\n                                                                                            columnNumber: 35\n                                                                                        }, this),\n                                                                                        \"Select\"\n                                                                                    ]\n                                                                                }, void 0, true, {\n                                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                    lineNumber: 6372,\n                                                                                    columnNumber: 33\n                                                                                }, this)\n                                                                            ]\n                                                                        }, void 0, true, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 6347,\n                                                                            columnNumber: 31\n                                                                        }, this)\n                                                                    ]\n                                                                }, void 0, true, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 6320,\n                                                                    columnNumber: 29\n                                                                }, this)\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 6279,\n                                                            columnNumber: 27\n                                                        }, this)\n                                                    }, card.id, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 6274,\n                                                        columnNumber: 25\n                                                    }, this);\n                                                })\n                                            }, void 0, false, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 6261,\n                                                columnNumber: 19\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                        lineNumber: 6255,\n                                        columnNumber: 17\n                                    }, this) : // Show all templates\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"space-y-4\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"text-sm font-medium text-gray-700 dark:text-gray-300\",\n                                                children: \"\\uD83D\\uDCDA All Templates\"\n                                            }, void 0, false, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 6407,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"w-full max-h-[50vh] overflow-auto\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"flex overflow-x-auto gap-4 pb-4\",\n                                                    style: {\n                                                        scrollBehavior: \"smooth\",\n                                                        WebkitOverflowScrolling: \"touch\",\n                                                        scrollbarWidth: \"thin\",\n                                                        scrollSnapType: \"x mandatory\"\n                                                    },\n                                                    children: _s1(()=>{\n                                                        _s1();\n                                                        const { getCachedCards, hasCache, totalCards } = (0,_hooks_useCardCache__WEBPACK_IMPORTED_MODULE_20__.useCardCache)();\n                                                        const allCards = hasCache ? getCachedCards(1, Math.max(totalCards, 1000)) : [];\n                                                        return allCards.map((card)=>{\n                                                            var _card_prompt;\n                                                            const frontImage = card.frontCover || card.backCover || card.leftPage || card.rightPage;\n                                                            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"flex-shrink-0 w-64\",\n                                                                style: {\n                                                                    scrollSnapAlign: \"start\"\n                                                                },\n                                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    className: \"bg-gray-900 rounded-xl p-2 shadow-inner space-y-2 h-full\",\n                                                                    children: [\n                                                                        frontImage ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                                                            src: frontImage,\n                                                                            alt: \"Template: \".concat(card.prompt || \"Untitled\"),\n                                                                            className: \"rounded-lg shadow-lg w-full h-auto object-cover select-none pointer-events-none\",\n                                                                            loading: \"lazy\",\n                                                                            style: {\n                                                                                userSelect: \"none\"\n                                                                            }\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 6435,\n                                                                            columnNumber: 35\n                                                                        }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                            className: \"w-full h-48 bg-gradient-to-br from-gray-100 to-gray-200 rounded-lg flex items-center justify-center\",\n                                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                className: \"text-center text-gray-500\",\n                                                                                children: [\n                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_51__[\"default\"], {\n                                                                                        className: \"w-8 h-8 mx-auto mb-2\"\n                                                                                    }, void 0, false, {\n                                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                        lineNumber: 6447,\n                                                                                        columnNumber: 39\n                                                                                    }, this),\n                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                                        className: \"text-sm\",\n                                                                                        children: \"No preview\"\n                                                                                    }, void 0, false, {\n                                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                        lineNumber: 6448,\n                                                                                        columnNumber: 39\n                                                                                    }, this)\n                                                                                ]\n                                                                            }, void 0, true, {\n                                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                lineNumber: 6446,\n                                                                                columnNumber: 37\n                                                                            }, this)\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 6445,\n                                                                            columnNumber: 35\n                                                                        }, this),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                            className: \"text-xs text-gray-100 bg-gray-800/50 px-2 py-1 rounded space-y-1\",\n                                                                            children: [\n                                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                    children: [\n                                                                                        ((_card_prompt = card.prompt) === null || _card_prompt === void 0 ? void 0 : _card_prompt.substring(0, 60)) || \"Untitled\",\n                                                                                        card.prompt && card.prompt.length > 60 && \"...\"\n                                                                                    ]\n                                                                                }, void 0, true, {\n                                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                    lineNumber: 6454,\n                                                                                    columnNumber: 35\n                                                                                }, this),\n                                                                                showPrompts && card.generatedPrompts && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                    className: \"text-xs opacity-80 border-t border-white/20 pt-1 space-y-1\",\n                                                                                    children: [\n                                                                                        card.generatedPrompts.frontCover && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                            children: [\n                                                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                                    className: \"font-semibold\",\n                                                                                                    children: \"Front:\"\n                                                                                                }, void 0, false, {\n                                                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                                    lineNumber: 6464,\n                                                                                                    columnNumber: 43\n                                                                                                }, this),\n                                                                                                \" \",\n                                                                                                card.generatedPrompts.frontCover.substring(0, 80),\n                                                                                                card.generatedPrompts.frontCover.length > 80 && \"...\"\n                                                                                            ]\n                                                                                        }, void 0, true, {\n                                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                            lineNumber: 6463,\n                                                                                            columnNumber: 41\n                                                                                        }, this),\n                                                                                        card.generatedPrompts.backCover && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                            children: [\n                                                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                                    className: \"font-semibold\",\n                                                                                                    children: \"Back:\"\n                                                                                                }, void 0, false, {\n                                                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                                    lineNumber: 6470,\n                                                                                                    columnNumber: 43\n                                                                                                }, this),\n                                                                                                \" \",\n                                                                                                card.generatedPrompts.backCover.substring(0, 80),\n                                                                                                card.generatedPrompts.backCover.length > 80 && \"...\"\n                                                                                            ]\n                                                                                        }, void 0, true, {\n                                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                            lineNumber: 6469,\n                                                                                            columnNumber: 41\n                                                                                        }, this)\n                                                                                    ]\n                                                                                }, void 0, true, {\n                                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                    lineNumber: 6461,\n                                                                                    columnNumber: 37\n                                                                                }, this),\n                                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                    className: \"flex gap-1 pt-2\",\n                                                                                    children: [\n                                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                                                                            size: \"sm\",\n                                                                                            variant: \"outline\",\n                                                                                            className: \"flex-1 h-6 text-xs bg-white/10 border-white/20 text-white hover:bg-white/20\",\n                                                                                            onClick: (e)=>{\n                                                                                                e.stopPropagation();\n                                                                                                // Convert GalleryCard to GeneratedCard format for applyTemplate\n                                                                                                const template = {\n                                                                                                    id: card.id,\n                                                                                                    prompt: card.prompt || \"\",\n                                                                                                    frontCover: card.frontCover || \"\",\n                                                                                                    backCover: card.backCover || \"\",\n                                                                                                    leftPage: card.leftPage || \"\",\n                                                                                                    rightPage: card.rightPage || \"\",\n                                                                                                    createdAt: new Date(card.createdAt * 1000),\n                                                                                                    shareUrl: card.shareUrl,\n                                                                                                    generatedPrompts: card.generatedPrompts\n                                                                                                };\n                                                                                                applyTemplate(template);\n                                                                                            },\n                                                                                            children: [\n                                                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_47__[\"default\"], {\n                                                                                                    className: \"w-3 h-3 mr-1\"\n                                                                                                }, void 0, false, {\n                                                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                                    lineNumber: 6500,\n                                                                                                    columnNumber: 39\n                                                                                                }, this),\n                                                                                                \"Customize\"\n                                                                                            ]\n                                                                                        }, void 0, true, {\n                                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                            lineNumber: 6479,\n                                                                                            columnNumber: 37\n                                                                                        }, this),\n                                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                                                                            size: \"sm\",\n                                                                                            variant: \"outline\",\n                                                                                            className: \"flex-1 h-6 text-xs bg-blue-600/80 border-blue-500/50 text-white hover:bg-blue-600\",\n                                                                                            onClick: (e)=>{\n                                                                                                e.stopPropagation();\n                                                                                                // Convert GalleryCard to GeneratedCard format for preview\n                                                                                                const template = {\n                                                                                                    id: card.id,\n                                                                                                    prompt: card.prompt || \"\",\n                                                                                                    frontCover: card.frontCover || \"\",\n                                                                                                    backCover: card.backCover || \"\",\n                                                                                                    leftPage: card.leftPage || \"\",\n                                                                                                    rightPage: card.rightPage || \"\",\n                                                                                                    createdAt: new Date(card.createdAt * 1000),\n                                                                                                    shareUrl: card.shareUrl,\n                                                                                                    generatedPrompts: card.generatedPrompts\n                                                                                                };\n                                                                                                handleTemplateSelect(template);\n                                                                                            },\n                                                                                            children: [\n                                                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_35__[\"default\"], {\n                                                                                                    className: \"w-3 h-3 mr-1\"\n                                                                                                }, void 0, false, {\n                                                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                                    lineNumber: 6524,\n                                                                                                    columnNumber: 39\n                                                                                                }, this),\n                                                                                                \"Select\"\n                                                                                            ]\n                                                                                        }, void 0, true, {\n                                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                            lineNumber: 6503,\n                                                                                            columnNumber: 37\n                                                                                        }, this)\n                                                                                    ]\n                                                                                }, void 0, true, {\n                                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                    lineNumber: 6478,\n                                                                                    columnNumber: 35\n                                                                                }, this)\n                                                                            ]\n                                                                        }, void 0, true, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 6453,\n                                                                            columnNumber: 33\n                                                                        }, this)\n                                                                    ]\n                                                                }, void 0, true, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 6433,\n                                                                    columnNumber: 31\n                                                                }, this)\n                                                            }, card.id, false, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 6428,\n                                                                columnNumber: 29\n                                                            }, this);\n                                                        });\n                                                    }, \"tBPKCcMpqyXH39aswRyE/f0AIOU=\", false, function() {\n                                                        return [\n                                                            _hooks_useCardCache__WEBPACK_IMPORTED_MODULE_20__.useCardCache\n                                                        ];\n                                                    })()\n                                                }, void 0, false, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 6411,\n                                                    columnNumber: 21\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 6410,\n                                                columnNumber: 19\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                        lineNumber: 6406,\n                                        columnNumber: 17\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                    lineNumber: 6252,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex justify-between items-center pt-4 border-t\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                            className: \"text-sm text-gray-500\",\n                                            children: aiFilteredCards.length > 0 ? \"AI has ranked these templates by relevance to your search\" : \"Use 'Customize' to personalize templates with your own message and changes, or 'Select' to preview and print them as-is\"\n                                        }, void 0, false, {\n                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                            lineNumber: 6541,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                            variant: \"outline\",\n                                            onClick: ()=>{\n                                                setShowTemplateGallery(false);\n                                                clearTemplateSearch();\n                                            },\n                                            children: \"Cancel\"\n                                        }, void 0, false, {\n                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                            lineNumber: 6547,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                    lineNumber: 6540,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                            lineNumber: 6106,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                        lineNumber: 6105,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_dialog__WEBPACK_IMPORTED_MODULE_11__.Dialog, {\n                        open: previewingDraftIndex !== -1,\n                        onOpenChange: (open)=>!open && setPreviewingDraftIndex(-1),\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_dialog__WEBPACK_IMPORTED_MODULE_11__.DialogContent, {\n                            className: \"sm:max-w-4xl max-h-[90vh] overflow-auto\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_dialog__WEBPACK_IMPORTED_MODULE_11__.DialogHeader, {\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_dialog__WEBPACK_IMPORTED_MODULE_11__.DialogTitle, {\n                                            className: \"flex items-center gap-2\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_35__[\"default\"], {\n                                                    className: \"w-5 h-5 text-purple-600\"\n                                                }, void 0, false, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 6565,\n                                                    columnNumber: 17\n                                                }, this),\n                                                \"Design Variation \",\n                                                previewingDraftIndex + 1,\n                                                \" - Detailed Preview\"\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                            lineNumber: 6564,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_dialog__WEBPACK_IMPORTED_MODULE_11__.DialogDescription, {\n                                            children: \"Low quality preview of the complete card design. Select this design to generate the high-quality version.\"\n                                        }, void 0, false, {\n                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                            lineNumber: 6568,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                    lineNumber: 6563,\n                                    columnNumber: 13\n                                }, this),\n                                previewingDraftIndex !== -1 && draftCards[previewingDraftIndex] && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"space-y-6\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"bg-gray-50 dark:bg-gray-800 rounded-lg p-4\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_CardPreview__WEBPACK_IMPORTED_MODULE_14__[\"default\"], {\n                                                card: draftCards[previewingDraftIndex],\n                                                isFrontBackOnly: isFrontBackOnly,\n                                                fastPreviewMode: false,\n                                                isCardCompleted: false\n                                            }, void 0, false, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 6577,\n                                                columnNumber: 19\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                            lineNumber: 6576,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex gap-3 justify-center pt-4 border-t\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                                    variant: \"outline\",\n                                                    onClick: ()=>setPreviewingDraftIndex(-1),\n                                                    children: \"Close Preview\"\n                                                }, void 0, false, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 6587,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                                    onClick: ()=>{\n                                                        setSelectedDraftIndex(previewingDraftIndex);\n                                                        setPreviewingDraftIndex(-1);\n                                                    },\n                                                    className: \"bg-purple-600 hover:bg-purple-700 text-white\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_54__[\"default\"], {\n                                                            className: \"w-4 h-4 mr-2\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 6600,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        \"Select This Design\"\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 6593,\n                                                    columnNumber: 19\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                            lineNumber: 6586,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                    lineNumber: 6574,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                            lineNumber: 6562,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                        lineNumber: 6561,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_dialog__WEBPACK_IMPORTED_MODULE_11__.Dialog, {\n                        open: showPrintConfirmation,\n                        onOpenChange: setShowPrintConfirmation,\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_dialog__WEBPACK_IMPORTED_MODULE_11__.DialogContent, {\n                            className: \"sm:max-w-lg\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_dialog__WEBPACK_IMPORTED_MODULE_11__.DialogHeader, {\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_dialog__WEBPACK_IMPORTED_MODULE_11__.DialogTitle, {\n                                            className: \"flex items-center gap-2\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_55__[\"default\"], {\n                                                    className: \"w-5 h-5 text-amber-500\"\n                                                }, void 0, false, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 6614,\n                                                    columnNumber: 17\n                                                }, this),\n                                                \"Get Your Card\"\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                            lineNumber: 6613,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_dialog__WEBPACK_IMPORTED_MODULE_11__.DialogDescription, {\n                                            children: \"How would you like to receive your greeting card?\"\n                                        }, void 0, false, {\n                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                            lineNumber: 6617,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                    lineNumber: 6612,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"space-y-4\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"space-y-3\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                    className: \"text-sm font-medium text-gray-700 dark:text-gray-300\",\n                                                    children: \"Choose delivery method:\"\n                                                }, void 0, false, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 6625,\n                                                    columnNumber: 17\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"p-4 rounded-lg border-2 cursor-pointer transition-all \".concat(printOption === \"physical\" ? \"border-blue-500 bg-blue-50 dark:bg-blue-900/20\" : \"border-gray-200 dark:border-gray-700 hover:border-gray-300\"),\n                                                    onClick: ()=>setPrintOption(\"physical\"),\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"flex items-start gap-3\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"flex items-center\",\n                                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                                    type: \"radio\",\n                                                                    checked: printOption === \"physical\",\n                                                                    onChange: ()=>setPrintOption(\"physical\"),\n                                                                    className: \"w-4 h-4 text-blue-600\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 6640,\n                                                                    columnNumber: 23\n                                                                }, this)\n                                                            }, void 0, false, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 6639,\n                                                                columnNumber: 21\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"flex-1\",\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                        className: \"flex items-center gap-2 mb-1\",\n                                                                        children: [\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_56__[\"default\"], {\n                                                                                className: \"w-5 h-5 text-blue-600\"\n                                                                            }, void 0, false, {\n                                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                lineNumber: 6649,\n                                                                                columnNumber: 25\n                                                                            }, this),\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h4\", {\n                                                                                className: \"font-medium text-blue-900 dark:text-blue-100\",\n                                                                                children: \"Physical Print & Pickup\"\n                                                                            }, void 0, false, {\n                                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                lineNumber: 6650,\n                                                                                columnNumber: 25\n                                                                            }, this)\n                                                                        ]\n                                                                    }, void 0, true, {\n                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                        lineNumber: 6648,\n                                                                        columnNumber: 23\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                        className: \"text-sm text-blue-800 dark:text-blue-200\",\n                                                                        children: \"Print your card at our location. Ready for pickup in just a few minutes.\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                        lineNumber: 6654,\n                                                                        columnNumber: 23\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                        className: \"mt-2 space-y-1\",\n                                                                        children: [\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                className: \"flex items-center gap-2 text-xs text-gray-600 dark:text-gray-400\",\n                                                                                children: [\n                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                        className: \"w-1.5 h-1.5 bg-green-500 rounded-full\"\n                                                                                    }, void 0, false, {\n                                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                        lineNumber: 6659,\n                                                                                        columnNumber: 27\n                                                                                    }, this),\n                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                        children: \"High quality color printing\"\n                                                                                    }, void 0, false, {\n                                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                        lineNumber: 6660,\n                                                                                        columnNumber: 27\n                                                                                    }, this)\n                                                                                ]\n                                                                            }, void 0, true, {\n                                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                lineNumber: 6658,\n                                                                                columnNumber: 25\n                                                                            }, this),\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                className: \"flex items-center gap-2 text-xs text-gray-600 dark:text-gray-400\",\n                                                                                children: [\n                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                        className: \"w-1.5 h-1.5 bg-green-500 rounded-full\"\n                                                                                    }, void 0, false, {\n                                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                        lineNumber: 6663,\n                                                                                        columnNumber: 27\n                                                                                    }, this),\n                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                        children: isFrontBackOnly ? \"Front and back only\" : \"Full greeting card with interior pages\"\n                                                                                    }, void 0, false, {\n                                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                        lineNumber: 6664,\n                                                                                        columnNumber: 27\n                                                                                    }, this)\n                                                                                ]\n                                                                            }, void 0, true, {\n                                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                lineNumber: 6662,\n                                                                                columnNumber: 25\n                                                                            }, this),\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                className: \"flex items-center gap-2 text-xs text-gray-600 dark:text-gray-400\",\n                                                                                children: [\n                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                        className: \"w-1.5 h-1.5 bg-green-500 rounded-full\"\n                                                                                    }, void 0, false, {\n                                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                        lineNumber: 6669,\n                                                                                        columnNumber: 27\n                                                                                    }, this),\n                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                        children: \"Ready for pickup shortly\"\n                                                                                    }, void 0, false, {\n                                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                        lineNumber: 6670,\n                                                                                        columnNumber: 27\n                                                                                    }, this)\n                                                                                ]\n                                                                            }, void 0, true, {\n                                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                lineNumber: 6668,\n                                                                                columnNumber: 25\n                                                                            }, this)\n                                                                        ]\n                                                                    }, void 0, true, {\n                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                        lineNumber: 6657,\n                                                                        columnNumber: 23\n                                                                    }, this)\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 6647,\n                                                                columnNumber: 21\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 6638,\n                                                        columnNumber: 19\n                                                    }, this)\n                                                }, void 0, false, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 6630,\n                                                    columnNumber: 17\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"p-4 rounded-lg border-2 cursor-pointer transition-all \".concat(printOption === \"email\" ? \"border-green-500 bg-green-50 dark:bg-green-900/20\" : \"border-gray-200 dark:border-gray-700 hover:border-gray-300\"),\n                                                    onClick: ()=>setPrintOption(\"email\"),\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"flex items-start gap-3\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"flex items-center\",\n                                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                                    type: \"radio\",\n                                                                    checked: printOption === \"email\",\n                                                                    onChange: ()=>setPrintOption(\"email\"),\n                                                                    className: \"w-4 h-4 text-green-600\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 6688,\n                                                                    columnNumber: 23\n                                                                }, this)\n                                                            }, void 0, false, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 6687,\n                                                                columnNumber: 21\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"flex-1\",\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                        className: \"flex items-center gap-2 mb-1\",\n                                                                        children: [\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_34__[\"default\"], {\n                                                                                className: \"w-5 h-5 text-green-600\"\n                                                                            }, void 0, false, {\n                                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                lineNumber: 6697,\n                                                                                columnNumber: 25\n                                                                            }, this),\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h4\", {\n                                                                                className: \"font-medium text-green-900 dark:text-green-100\",\n                                                                                children: \"Email PDF\"\n                                                                            }, void 0, false, {\n                                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                lineNumber: 6698,\n                                                                                columnNumber: 25\n                                                                            }, this)\n                                                                        ]\n                                                                    }, void 0, true, {\n                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                        lineNumber: 6696,\n                                                                        columnNumber: 23\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                        className: \"text-sm text-green-800 dark:text-green-200\",\n                                                                        children: [\n                                                                            \"Receive a high-quality PDF of your card at \",\n                                                                            userEmail,\n                                                                            \". Print at home or any print shop.\"\n                                                                        ]\n                                                                    }, void 0, true, {\n                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                        lineNumber: 6702,\n                                                                        columnNumber: 23\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                        className: \"mt-2 space-y-1\",\n                                                                        children: [\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                className: \"flex items-center gap-2 text-xs text-gray-600 dark:text-gray-400\",\n                                                                                children: [\n                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                        className: \"w-1.5 h-1.5 bg-green-500 rounded-full\"\n                                                                                    }, void 0, false, {\n                                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                        lineNumber: 6707,\n                                                                                        columnNumber: 27\n                                                                                    }, this),\n                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                        children: \"Instant delivery to your inbox\"\n                                                                                    }, void 0, false, {\n                                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                        lineNumber: 6708,\n                                                                                        columnNumber: 27\n                                                                                    }, this)\n                                                                                ]\n                                                                            }, void 0, true, {\n                                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                lineNumber: 6706,\n                                                                                columnNumber: 25\n                                                                            }, this),\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                className: \"flex items-center gap-2 text-xs text-gray-600 dark:text-gray-400\",\n                                                                                children: [\n                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                        className: \"w-1.5 h-1.5 bg-green-500 rounded-full\"\n                                                                                    }, void 0, false, {\n                                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                        lineNumber: 6711,\n                                                                                        columnNumber: 27\n                                                                                    }, this),\n                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                        children: \"Print anywhere, anytime\"\n                                                                                    }, void 0, false, {\n                                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                        lineNumber: 6712,\n                                                                                        columnNumber: 27\n                                                                                    }, this)\n                                                                                ]\n                                                                            }, void 0, true, {\n                                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                lineNumber: 6710,\n                                                                                columnNumber: 25\n                                                                            }, this),\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                className: \"flex items-center gap-2 text-xs text-gray-600 dark:text-gray-400\",\n                                                                                children: [\n                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                        className: \"w-1.5 h-1.5 bg-green-500 rounded-full\"\n                                                                                    }, void 0, false, {\n                                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                        lineNumber: 6715,\n                                                                                        columnNumber: 27\n                                                                                    }, this),\n                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                        children: \"High-resolution PDF optimized for printing\"\n                                                                                    }, void 0, false, {\n                                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                        lineNumber: 6716,\n                                                                                        columnNumber: 27\n                                                                                    }, this)\n                                                                                ]\n                                                                            }, void 0, true, {\n                                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                lineNumber: 6714,\n                                                                                columnNumber: 25\n                                                                            }, this)\n                                                                        ]\n                                                                    }, void 0, true, {\n                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                        lineNumber: 6705,\n                                                                        columnNumber: 23\n                                                                    }, this)\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 6695,\n                                                                columnNumber: 21\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 6686,\n                                                        columnNumber: 19\n                                                    }, this)\n                                                }, void 0, false, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 6678,\n                                                    columnNumber: 17\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                            lineNumber: 6624,\n                                            columnNumber: 15\n                                        }, this),\n                                        printOption === \"physical\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"bg-amber-50 dark:bg-amber-900/20 p-3 rounded-lg\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                className: \"text-sm text-amber-800 dark:text-amber-200\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                                        children: \"Please confirm:\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 6727,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    \" You are ready to pick up your printed card from our location.\"\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 6726,\n                                                columnNumber: 19\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                            lineNumber: 6725,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                    lineNumber: 6622,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex gap-3 mt-6\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                            variant: \"outline\",\n                                            onClick: ()=>setShowPrintConfirmation(false),\n                                            className: \"flex-1\",\n                                            children: \"Cancel\"\n                                        }, void 0, false, {\n                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                            lineNumber: 6734,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                            onClick: handleConfirmPrint,\n                                            className: \"flex-1 \".concat(printOption === \"email\" ? \"bg-green-600 hover:bg-green-700\" : \"bg-blue-600 hover:bg-blue-700\"),\n                                            children: printOption === \"email\" ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_34__[\"default\"], {\n                                                        className: \"w-4 h-4 mr-2\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 6751,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    \"Send PDF to Email\"\n                                                ]\n                                            }, void 0, true) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_Zap_lucide_react__WEBPACK_IMPORTED_MODULE_56__[\"default\"], {\n                                                        className: \"w-4 h-4 mr-2\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 6756,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    \"Print Card\"\n                                                ]\n                                            }, void 0, true)\n                                        }, void 0, false, {\n                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                            lineNumber: 6741,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                    lineNumber: 6733,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                            lineNumber: 6611,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                        lineNumber: 6610,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                lineNumber: 4538,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n        lineNumber: 4455,\n        columnNumber: 5\n    }, this);\n}\n_s(CardStudioPage, \"habpfHVpSbFEr1/8Ny1OlRDd/Es=\", false, function() {\n    return [\n        _hooks_useCardCache__WEBPACK_IMPORTED_MODULE_20__.useCardCache\n    ];\n});\n_c = CardStudioPage;\nvar _c;\n$RefreshReg$(_c, \"CardStudioPage\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Ozs7Ozs7Ozs7OzswRkFFUiw4REFBQ3RMO2dGQUFJQyxXQUFVOztrR0FDYiw4REFBQ0Q7d0ZBQUlDLFdBQVU7Ozs7OztrR0FDZiw4REFBQ3FMO2tHQUFLOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozt3Q0FRakJuVSxnQkFBZ0IsNEJBQ2YsOERBQUM2STs0Q0FBSUMsV0FBVTtzREFDYiw0RUFBQ0M7Z0RBQUVELFdBQVU7O2tFQUNYLDhEQUFDcU07a0VBQU87Ozs7OztvREFBd0I7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs4Q0FNeEMsOERBQUN0TTtvQ0FBSUMsV0FBVTs7c0RBQ2IsOERBQUN4aEIseURBQU1BOzRDQUNMMnNCLFNBQVE7NENBQ1IvSyxTQUFTLElBQU01SSx5QkFBeUI7NENBQ3hDd0ksV0FBVTtzREFDWDs7Ozs7O3NEQUdELDhEQUFDeGhCLHlEQUFNQTs0Q0FDTDRoQixTQUFTdUo7NENBQ1QzSixXQUFXLFVBSVYsT0FIQzlJLGdCQUFnQixVQUNaLG9DQUNBO3NEQUdMQSxnQkFBZ0Isd0JBQ2Y7O2tFQUNFLDhEQUFDelYsb1hBQWFBO3dEQUFDdWUsV0FBVTs7Ozs7O29EQUFpQjs7NkVBSTVDOztrRUFDRSw4REFBQzVmLG9YQUFPQTt3REFBQzRmLFdBQVU7Ozs7OztvREFBaUI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFXeEQ7R0F6dU13QmhaOztRQSt1QmtDaEUsOERBQVlBOzs7S0EvdUI5Q2dFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL2FwcC9wYWdlLnRzeD83NjAzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIGNsaWVudFwiO1xuXG5pbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUsIHVzZUVmZmVjdCB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgQnV0dG9uIH0gZnJvbSBcIkAvY29tcG9uZW50cy91aS9idXR0b25cIjtcbmltcG9ydCB7IElucHV0IH0gZnJvbSBcIkAvY29tcG9uZW50cy91aS9pbnB1dFwiO1xuaW1wb3J0IHsgVGV4dGFyZWEgfSBmcm9tIFwiQC9jb21wb25lbnRzL3VpL3RleHRhcmVhXCI7XG5pbXBvcnQgeyBDYXJkLCBDYXJkQ29udGVudCwgQ2FyZERlc2NyaXB0aW9uLCBDYXJkSGVhZGVyLCBDYXJkVGl0bGUgfSBmcm9tIFwiQC9jb21wb25lbnRzL3VpL2NhcmRcIjtcbmltcG9ydCB7IEJhZGdlIH0gZnJvbSBcIkAvY29tcG9uZW50cy91aS9iYWRnZVwiO1xuaW1wb3J0IHsgU2VwYXJhdG9yIH0gZnJvbSBcIkAvY29tcG9uZW50cy91aS9zZXBhcmF0b3JcIjtcbmltcG9ydCB7IFNlbGVjdCwgU2VsZWN0Q29udGVudCwgU2VsZWN0SXRlbSwgU2VsZWN0VHJpZ2dlciwgU2VsZWN0VmFsdWUgfSBmcm9tIFwiQC9jb21wb25lbnRzL3VpL3NlbGVjdFwiO1xuaW1wb3J0IHsgQ29sbGFwc2libGUsIENvbGxhcHNpYmxlQ29udGVudCwgQ29sbGFwc2libGVUcmlnZ2VyIH0gZnJvbSBcIkAvY29tcG9uZW50cy91aS9jb2xsYXBzaWJsZVwiO1xuaW1wb3J0IHsgUG9wb3ZlciwgUG9wb3ZlckNvbnRlbnQsIFBvcG92ZXJUcmlnZ2VyIH0gZnJvbSBcIkAvY29tcG9uZW50cy91aS9wb3BvdmVyXCI7XG5pbXBvcnQgeyBEaWFsb2csIERpYWxvZ0NvbnRlbnQsIERpYWxvZ0Rlc2NyaXB0aW9uLCBEaWFsb2dIZWFkZXIsIERpYWxvZ1RpdGxlIH0gZnJvbSBcIkAvY29tcG9uZW50cy91aS9kaWFsb2dcIjtcbmltcG9ydCB7IEFycm93TGVmdCwgU3BhcmtsZXMsIFByaW50ZXIsIEhlYXJ0LCBHaWZ0LCBHcmFkdWF0aW9uQ2FwLCBDYWxlbmRhciwgV2FuZDIsIE1lc3NhZ2VTcXVhcmVQbHVzLCBDaGV2cm9uRG93biwgU2V0dGluZ3MsIFphcCwgUGFsZXR0ZSwgRWRpdDMsIFVwbG9hZCwgWCwgQ2FrZSwgVGh1bWJzVXAsIFBhcnR5UG9wcGVyLCBUcm9waHksIFRyZWVQaW5lLCBTdGV0aG9zY29wZSwgQ2xvdWRSYWluLCBCYWJ5LCBDaHVyY2gsIEhvbWUsIE1lc3NhZ2VDaXJjbGUsIEV5ZSwgV3JlbmNoLCBDbG9jaywgVW5kbzIsIFJlZG8yLCBSZWZyZXNoQ3csIFNldHRpbmdzMiwgQWxlcnRUcmlhbmdsZSwgQ2hlY2tDaXJjbGUsIENpcmNsZSwgSW1hZ2UgYXMgSW1hZ2VJY29uLCBNZXNzYWdlU3F1YXJlIH0gZnJvbSBcImx1Y2lkZS1yZWFjdFwiO1xuaW1wb3J0IExpbmsgZnJvbSBcIm5leHQvbGlua1wiO1xuaW1wb3J0IHsgdG9hc3QgfSBmcm9tIFwic29ubmVyXCI7XG5pbXBvcnQgQ2FyZFByZXZpZXcgZnJvbSBcIkAvY29tcG9uZW50cy9DYXJkUHJldmlld1wiO1xuaW1wb3J0ICogYXMgUVJDb2RlIGZyb20gJ3FyY29kZSc7XG5pbXBvcnQgeyB2NCBhcyB1dWlkdjQgfSBmcm9tICd1dWlkJztcbmltcG9ydCB7IE1vZGVUb2dnbGUgfSBmcm9tIFwiQC9jb21wb25lbnRzL21vZGUtdG9nZ2xlXCI7XG5pbXBvcnQgUmVjZW50Q2FyZHNQcmV2aWV3IGZyb20gXCJAL2NvbXBvbmVudHMvUmVjZW50Q2FyZHNQcmV2aWV3XCI7XG5pbXBvcnQgRmFzdEhvcml6b250YWxHYWxsZXJ5IGZyb20gXCJAL2NvbXBvbmVudHMvRmFzdEhvcml6b250YWxHYWxsZXJ5XCI7XG5pbXBvcnQgQ3JpdGljYWxSZXNvdXJjZVByZWxvYWRlciBmcm9tIFwiQC9jb21wb25lbnRzL0NyaXRpY2FsUmVzb3VyY2VQcmVsb2FkZXJcIjtcbmltcG9ydCBFYXJseUNhcmRQcmVsb2FkZXIgZnJvbSBcIkAvY29tcG9uZW50cy9FYXJseUNhcmRQcmVsb2FkZXJcIjtcbmltcG9ydCB7IHVzZUNhcmRDYWNoZSB9IGZyb20gXCJAL2hvb2tzL3VzZUNhcmRDYWNoZVwiO1xuXG4vLyBDb25maWd1cmF0aW9uIGZvciB0aGUgYmFja2VuZCBBUEkgZW5kcG9pbnRcbmNvbnN0IEJBQ0tFTkRfQVBJX0JBU0VfVVJMID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQkFDS0VORF9BUElfVVJMIHx8ICdodHRwczovL3ZpYmVjYXJkaW5nLmNvbSc7XG5cbmludGVyZmFjZSBHZW5lcmF0ZWRDYXJkIHtcbiAgaWQ6IHN0cmluZztcbiAgcHJvbXB0OiBzdHJpbmc7XG4gIGZyb250Q292ZXI6IHN0cmluZzsgICAgICAvLyBQb3J0cmFpdCBpbWFnZSAtIHdoYXQgcmVjaXBpZW50cyBzZWUgZmlyc3RcbiAgYmFja0NvdmVyOiBzdHJpbmc7ICAgICAgIC8vIFBvcnRyYWl0IGltYWdlIC0gYmFjayBvZiB0aGUgY2FyZFxuICBsZWZ0UGFnZTogc3RyaW5nOyAgICAgICAgLy8gUG9ydHJhaXQgaW1hZ2UgLSBsZWZ0IGludGVyaW9yIChkZWNvcmF0aXZlIGFydClcbiAgcmlnaHRQYWdlOiBzdHJpbmc7ICAgICAgIC8vIFBvcnRyYWl0IGltYWdlIC0gcmlnaHQgaW50ZXJpb3IgKG1lc3NhZ2UgYXJlYSlcbiAgY3JlYXRlZEF0OiBEYXRlO1xuICBzaGFyZVVybD86IHN0cmluZzsgICAgICAgLy8gU2hhcmVhYmxlIFVSTCBmb3IgdGhlIGNhcmRcbiAgLy8gU3RvcmUgdGhlIGFjdHVhbCBwcm9tcHRzIHNlbnQgdG8gaW1hZ2UgZ2VuZXJhdGlvblxuICBnZW5lcmF0ZWRQcm9tcHRzPzoge1xuICAgIGZyb250Q292ZXI/OiBzdHJpbmc7XG4gICAgYmFja0NvdmVyPzogc3RyaW5nO1xuICAgIGxlZnRJbnRlcmlvcj86IHN0cmluZztcbiAgICByaWdodEludGVyaW9yPzogc3RyaW5nO1xuICB9O1xuICAvLyBUaHVtYm5haWwgVVJMcyBmb3IgZmFzdGVyIGxvYWRpbmdcbiAgdGh1bWJuYWlscz86IHtcbiAgICBmcm9udENvdmVyPzogc3RyaW5nO1xuICAgIGJhY2tDb3Zlcj86IHN0cmluZztcbiAgICBsZWZ0UGFnZT86IHN0cmluZztcbiAgICByaWdodFBhZ2U/OiBzdHJpbmc7XG4gIH07XG59XG5cbi8vIENvbW1vbiBjYXJkIHR5cGVzIHdpdGggY3VzdG9tIG9wdGlvblxuY29uc3QgY2FyZFR5cGVzID0gW1xuICB7IGlkOiBcImN1c3RvbVwiLCBsYWJlbDogXCJDdXN0b21cIiwgZGVzY3JpcHRpb246IFwiQ3JlYXRlIHlvdXIgb3duIHVuaXF1ZSBjYXJkIHR5cGVcIiwgaWNvbjogV3JlbmNoIH0sXG4gIHsgaWQ6IFwiYmlydGhkYXlcIiwgbGFiZWw6IFwiQmlydGhkYXlcIiwgZGVzY3JpcHRpb246IFwiQ2VsZWJyYXRlIGFub3RoZXIgeWVhciBvZiBsaWZlXCIsIGljb246IENha2UgfSxcbiAgeyBpZDogXCJ0aGFuay15b3VcIiwgbGFiZWw6IFwiVGhhbmsgWW91XCIsIGRlc2NyaXB0aW9uOiBcIkV4cHJlc3MgZ3JhdGl0dWRlIGFuZCBhcHByZWNpYXRpb25cIiwgaWNvbjogVGh1bWJzVXAgfSxcbiAgeyBpZDogXCJhbm5pdmVyc2FyeVwiLCBsYWJlbDogXCJBbm5pdmVyc2FyeVwiLCBkZXNjcmlwdGlvbjogXCJDb21tZW1vcmF0ZSBzcGVjaWFsIG1pbGVzdG9uZXNcIiwgaWNvbjogSGVhcnQgfSxcbiAgeyBpZDogXCJjb25ncmF0dWxhdGlvbnNcIiwgbGFiZWw6IFwiQ29uZ3JhdHVsYXRpb25zXCIsIGRlc2NyaXB0aW9uOiBcIkNlbGVicmF0ZSBhY2hpZXZlbWVudHMgYW5kIHN1Y2Nlc3NcIiwgaWNvbjogVHJvcGh5IH0sXG4gIHsgaWQ6IFwiaG9saWRheVwiLCBsYWJlbDogXCJIb2xpZGF5XCIsIGRlc2NyaXB0aW9uOiBcIlNlYXNvbmFsIGFuZCBob2xpZGF5IGdyZWV0aW5nc1wiLCBpY29uOiBUcmVlUGluZSB9LFxuICB7IGlkOiBcImdldC13ZWxsXCIsIGxhYmVsOiBcIkdldCBXZWxsIFNvb25cIiwgZGVzY3JpcHRpb246IFwiU2VuZCBoZWFsaW5nIHdpc2hlcyBhbmQgc3VwcG9ydFwiLCBpY29uOiBTdGV0aG9zY29wZSB9LFxuICB7IGlkOiBcInN5bXBhdGh5XCIsIGxhYmVsOiBcIlN5bXBhdGh5XCIsIGRlc2NyaXB0aW9uOiBcIk9mZmVyIGNvbWZvcnQgZHVyaW5nIGRpZmZpY3VsdCB0aW1lc1wiLCBpY29uOiBDbG91ZFJhaW4gfSxcbiAgeyBpZDogXCJsb3ZlXCIsIGxhYmVsOiBcIkxvdmUgJiBSb21hbmNlXCIsIGRlc2NyaXB0aW9uOiBcIkV4cHJlc3Mgcm9tYW50aWMgZmVlbGluZ3NcIiwgaWNvbjogSGVhcnQgfSxcbiAgeyBpZDogXCJncmFkdWF0aW9uXCIsIGxhYmVsOiBcIkdyYWR1YXRpb25cIiwgZGVzY3JpcHRpb246IFwiQ2VsZWJyYXRlIGVkdWNhdGlvbmFsIGFjaGlldmVtZW50c1wiLCBpY29uOiBHcmFkdWF0aW9uQ2FwIH0sXG4gIHsgaWQ6IFwibmV3LWJhYnlcIiwgbGFiZWw6IFwiTmV3IEJhYnlcIiwgZGVzY3JpcHRpb246IFwiV2VsY29tZSBuZXcgYXJyaXZhbHNcIiwgaWNvbjogQmFieSB9LFxuICB7IGlkOiBcIndlZGRpbmdcIiwgbGFiZWw6IFwiV2VkZGluZ1wiLCBkZXNjcmlwdGlvbjogXCJDZWxlYnJhdGUgdW5pb25zIGFuZCBtYXJyaWFnZXNcIiwgaWNvbjogQ2h1cmNoIH0sXG4gIHsgaWQ6IFwicmV0aXJlbWVudFwiLCBsYWJlbDogXCJSZXRpcmVtZW50XCIsIGRlc2NyaXB0aW9uOiBcIkhvbm9yIGNhcmVlciBhY2hpZXZlbWVudHNcIiwgaWNvbjogR2lmdCB9LFxuICB7IGlkOiBcImhvdXNld2FybWluZ1wiLCBsYWJlbDogXCJIb3VzZXdhcm1pbmdcIiwgZGVzY3JpcHRpb246IFwiV2VsY29tZSB0byBuZXcgaG9tZXNcIiwgaWNvbjogSG9tZSB9LFxuICB7IGlkOiBcImFwb2xvZ3lcIiwgbGFiZWw6IFwiQXBvbG9neVwiLCBkZXNjcmlwdGlvbjogXCJNYWtlIGFtZW5kcyBhbmQgc2VlayBmb3JnaXZlbmVzc1wiLCBpY29uOiBNZXNzYWdlQ2lyY2xlIH0sXG4gIHsgaWQ6IFwidGhpbmtpbmctb2YteW91XCIsIGxhYmVsOiBcIlRoaW5raW5nIG9mIFlvdVwiLCBkZXNjcmlwdGlvbjogXCJTaG93IHlvdSBjYXJlIGFuZCByZW1lbWJlclwiLCBpY29uOiBFeWUgfSxcbl07XG5cbi8vIENhcmQgdG9uZS9zdHlsZSBvcHRpb25zXG5jb25zdCBjYXJkVG9uZXMgPSBbXG4gIHsgaWQ6IFwiZnVubnlcIiwgbGFiZWw6IFwi8J+YhCBGdW5ueVwiLCBkZXNjcmlwdGlvbjogXCJIdW1vcm91cyBhbmQgbGlnaHRoZWFydGVkXCIgfSxcbiAgeyBpZDogXCJnZW56LWh1bW9yXCIsIGxhYmVsOiBcIvCfkoAgR2VuWiBIdW1vclwiLCBkZXNjcmlwdGlvbjogXCJJbnRlcm5ldCBtZW1lcywgY2hhb3RpYyBlbmVyZ3ksIGFuZCB1bmhpbmdlZCB2aWJlc1wiIH0sXG4gIHsgaWQ6IFwicm9tYW50aWNcIiwgbGFiZWw6IFwi8J+SlSBSb21hbnRpY1wiLCBkZXNjcmlwdGlvbjogXCJTd2VldCBhbmQgbG92aW5nXCIgfSxcbiAgeyBpZDogXCJwcm9mZXNzaW9uYWxcIiwgbGFiZWw6IFwi8J+RlCBQcm9mZXNzaW9uYWxcIiwgZGVzY3JpcHRpb246IFwiRm9ybWFsIGFuZCBidXNpbmVzcy1hcHByb3ByaWF0ZVwiIH0sXG4gIHsgaWQ6IFwiaGVhcnRmZWx0XCIsIGxhYmVsOiBcIuKdpO+4jyBIZWFydGZlbHRcIiwgZGVzY3JpcHRpb246IFwiU2luY2VyZSBhbmQgZW1vdGlvbmFsXCIgfSxcbiAgeyBpZDogXCJwbGF5ZnVsXCIsIGxhYmVsOiBcIvCfjokgUGxheWZ1bFwiLCBkZXNjcmlwdGlvbjogXCJGdW4gYW5kIGVuZXJnZXRpY1wiIH0sXG4gIHsgaWQ6IFwiZWxlZ2FudFwiLCBsYWJlbDogXCLinKggRWxlZ2FudFwiLCBkZXNjcmlwdGlvbjogXCJTb3BoaXN0aWNhdGVkIGFuZCByZWZpbmVkXCIgfSxcbiAgeyBpZDogXCJjYXN1YWxcIiwgbGFiZWw6IFwi8J+YiiBDYXN1YWxcIiwgZGVzY3JpcHRpb246IFwiUmVsYXhlZCBhbmQgZnJpZW5kbHlcIiB9LFxuICB7IGlkOiBcImluc3BpcmF0aW9uYWxcIiwgbGFiZWw6IFwi8J+MnyBJbnNwaXJhdGlvbmFsXCIsIGRlc2NyaXB0aW9uOiBcIk1vdGl2YXRpbmcgYW5kIHVwbGlmdGluZ1wiIH0sXG4gIHsgaWQ6IFwicXVpcmt5XCIsIGxhYmVsOiBcIvCfpKogUXVpcmt5XCIsIGRlc2NyaXB0aW9uOiBcIlVuaXF1ZSBhbmQgdW5jb252ZW50aW9uYWxcIiB9LFxuICB7IGlkOiBcInRyYWRpdGlvbmFsXCIsIGxhYmVsOiBcIvCfjq0gVHJhZGl0aW9uYWxcIiwgZGVzY3JpcHRpb246IFwiQ2xhc3NpYyBhbmQgdGltZWxlc3NcIiB9LFxuXTtcblxuLy8gQ3VyYXRlZCBhcnRpc3RpYyBzdHlsZXMgZm9yIGJlYXV0aWZ1bCBjYXJkc1xuY29uc3QgYXJ0aXN0aWNTdHlsZXMgPSBbXG4gIHtcbiAgICBpZDogXCJhaS1zbWFydC1zdHlsZVwiLCBcbiAgICBsYWJlbDogXCLinKggU21hcnQgU3R5bGVcIiwgXG4gICAgZGVzY3JpcHRpb246IFwiTGV0IG91ciBleHBlcnRzIGNob29zZSB0aGUgcGVyZmVjdCBzdHlsZSBmb3IgeW91ciBjYXJkXCIsXG4gICAgcHJvbXB0TW9kaWZpZXI6IFwiXCIgLy8gV2lsbCBiZSBkeW5hbWljYWxseSBnZW5lcmF0ZWRcbiAgfSxcbiAge1xuICAgIGlkOiBcImN1c3RvbVwiLCBcbiAgICBsYWJlbDogXCLinKggQ3VzdG9tIFN0eWxlXCIsIFxuICAgIGRlc2NyaXB0aW9uOiBcIkRlZmluZSB5b3VyIG93biB1bmlxdWUgYXJ0aXN0aWMgc3R5bGVcIixcbiAgICBwcm9tcHRNb2RpZmllcjogXCJcIiAvLyBXaWxsIGJlIHJlcGxhY2VkIHdpdGggdXNlciBpbnB1dFxuICB9LFxuICB7IFxuICAgIGlkOiBcIndhdGVyY29sb3JcIiwgXG4gICAgbGFiZWw6IFwi8J+OqCBXYXRlcmNvbG9yXCIsIFxuICAgIGRlc2NyaXB0aW9uOiBcIlNvZnQsIGZsb3dpbmcgcGFpbnQgZWZmZWN0cyAob3VyIHBlcnNvbmFsIGZhdm9yaXRlKVwiLFxuICAgIHByb21wdE1vZGlmaWVyOiBcImluIHdhdGVyY29sb3IgcGFpbnRpbmcgc3R5bGUsIHdpdGggc29mdCBmbG93aW5nIGNvbG9ycywgYXJ0aXN0aWMgYnJ1c2ggc3Ryb2tlcywgcGFwZXIgdGV4dHVyZSwgYW5kIG9yZ2FuaWMgcGFpbnQgYmxlZWRzXCJcbiAgfSxcbiAge1xuICAgIGlkOiBcIm1pbmltYWxpc3RcIiwgXG4gICAgbGFiZWw6IFwi4pyoIE1pbmltYWxpc3RcIiwgXG4gICAgZGVzY3JpcHRpb246IFwiQ2xlYW4sIHNpbXBsZSwgZWxlZ2FudCBkZXNpZ25cIixcbiAgICBwcm9tcHRNb2RpZmllcjogXCJpbiBtaW5pbWFsaXN0IHN0eWxlIHdpdGggY2xlYW4gbGluZXMsIHNpbXBsZSBzaGFwZXMsIHBsZW50eSBvZiB3aGl0ZSBzcGFjZSwgc29waGlzdGljYXRlZCB0eXBvZ3JhcGh5LCBhbmQgZWxlZ2FudCBzaW1wbGljaXR5XCJcbiAgfSxcbiAgeyBcbiAgICBpZDogXCJkcmVhbXktZmFudGFzeVwiLCBcbiAgICBsYWJlbDogXCLwn4y4IERyZWFteSBGYW50YXN5XCIsIFxuICAgIGRlc2NyaXB0aW9uOiBcIkVuY2hhbnRpbmcgYW5pbWUtaW5zcGlyZWQgYXJ0XCIsXG4gICAgcHJvbXB0TW9kaWZpZXI6IFwiaW4gZHJlYW15IGZhbnRhc3kgYW5pbWUgc3R5bGUsIHdpdGggc29mdCBwYXN0ZWxzLCBtYWdpY2FsIGF0bW9zcGhlcmUsIGRldGFpbGVkIG5hdHVyZSBlbGVtZW50cywgd2hpbXNpY2FsIGNoYXJhY3RlcnMsIGFuZCBlbmNoYW50aW5nIGZhaXJ5LXRhbGUgcXVhbGl0aWVzXCJcbiAgfSxcbiAgeyBcbiAgICBpZDogXCJhcnQtZGVjb1wiLCBcbiAgICBsYWJlbDogXCLinKggQXJ0IERlY29cIiwgXG4gICAgZGVzY3JpcHRpb246IFwiRWxlZ2FudCAxOTIwcyBnZW9tZXRyaWMgbHV4dXJ5XCIsXG4gICAgcHJvbXB0TW9kaWZpZXI6IFwiaW4gdmludGFnZSBBcnQgRGVjbyBzdHlsZSB3aXRoIGdlb21ldHJpYyBwYXR0ZXJucywgZ29sZCBhY2NlbnRzLCBlbGVnYW50IHR5cG9ncmFwaHksIGx1eHVyaW91cyBkZXRhaWxzLCBhbmQgMTkyMHMgZ2xhbW91clwiXG4gIH0sXG4gIHsgXG4gICAgaWQ6IFwicG9wLWFydFwiLCBcbiAgICBsYWJlbDogXCLwn46tIFBvcCBBcnRcIiwgXG4gICAgZGVzY3JpcHRpb246IFwiQm9sZCwgY29sb3JmdWwgY29taWMgYm9vayBzdHlsZVwiLFxuICAgIHByb21wdE1vZGlmaWVyOiBcImluIHBvcCBhcnQgc3R5bGUgbGlrZSBBbmR5IFdhcmhvbCBhbmQgUm95IExpY2h0ZW5zdGVpbiwgd2l0aCBib2xkIGNvbG9ycywgY29taWMgYm9vayBlbGVtZW50cywgaGFsZnRvbmUgZG90cywgYW5kIGdyYXBoaWMgZGVzaWduIGFlc3RoZXRpY3NcIlxuICB9LFxuICB7XG4gICAgaWQ6IFwiaW1wcmVzc2lvbmlzdFwiLCBcbiAgICBsYWJlbDogXCLwn5a877iPIEltcHJlc3Npb25pc3RcIiwgXG4gICAgZGVzY3JpcHRpb246IFwiU29mdCBicnVzaHN0cm9rZXMgbGlrZSBNb25ldFwiLFxuICAgIHByb21wdE1vZGlmaWVyOiBcImluIGltcHJlc3Npb25pc3QgcGFpbnRpbmcgc3R5bGUgbGlrZSBNb25ldCBhbmQgUmVub2lyLCB3aXRoIHNvZnQgYnJ1c2ggc3Ryb2tlcywgbGlnaHQgYW5kIHNoYWRvdyBwbGF5LCBhbmQgZHJlYW15IGF0bW9zcGhlcmljIGVmZmVjdHNcIlxuICB9LFxuICB7XG4gICAgaWQ6IFwicmV0cm8tdmludGFnZVwiLCBcbiAgICBsYWJlbDogXCLwn5O7IFJldHJvIFZpbnRhZ2VcIiwgXG4gICAgZGVzY3JpcHRpb246IFwiQ2xhc3NpYyAxOTUwcy02MHMgbm9zdGFsZ2lhXCIsXG4gICAgcHJvbXB0TW9kaWZpZXI6IFwiaW4gcmV0cm8gdmludGFnZSBzdHlsZSB3aXRoIDE5NTBzLTYwcyBhZXN0aGV0aWNzLCBjbGFzc2ljIHR5cG9ncmFwaHksIHdhcm0gbm9zdGFsZ2ljIGNvbG9ycywgYW5kIG1pZC1jZW50dXJ5IGRlc2lnbiBlbGVtZW50c1wiXG4gIH1cbl07XG5cbi8vIFBhcGVyIHNpemUgb3B0aW9uc1xuY29uc3QgcGFwZXJTaXplcyA9IFtcbiAge1xuICAgIGlkOiBcInN0YW5kYXJkXCIsXG4gICAgbGFiZWw6IFwiNcOXNyBDYXJkIChTdGFuZGFyZClcIixcbiAgICBkZXNjcmlwdGlvbjogXCJTdGFuZGFyZCA1w5c3IGdyZWV0aW5nIGNhcmQgKDEww5c3IHByaW50IGxheW91dClcIixcbiAgICBhc3BlY3RSYXRpbzogXCI5OjE2XCIsXG4gICAgZGltZW5zaW9uczogXCIxMDI0eDE1MzZcIixcbiAgICBwcmludFdpZHRoOiBcIjEwaW5cIixcbiAgICBwcmludEhlaWdodDogXCI3aW5cIlxuICB9LFxuICB7XG4gICAgaWQ6IFwiY29tcGFjdFwiLFxuICAgIGxhYmVsOiBcIjTDlzYgQ2FyZCAoQ29tcGFjdClcIixcbiAgICBkZXNjcmlwdGlvbjogXCJDb21wYWN0IDTDlzYgZ3JlZXRpbmcgY2FyZCAoOMOXNiBwcmludCBsYXlvdXQpXCIsXG4gICAgYXNwZWN0UmF0aW86IFwiMjozXCIsXG4gICAgZGltZW5zaW9uczogXCI3Njh4MTE1MlwiLFxuICAgIHByaW50V2lkdGg6IFwiOGluXCIsXG4gICAgcHJpbnRIZWlnaHQ6IFwiNmluXCJcbiAgfSxcbiAge1xuICAgIGlkOiBcImE2XCIsXG4gICAgbGFiZWw6IFwiQTYgQ2FyZCAoNMOXNilcIixcbiAgICBkZXNjcmlwdGlvbjogXCJBNiBwYXBlciBzaXplICg4LjPDlzUuOCBwcmludCBsYXlvdXQpXCIsXG4gICAgYXNwZWN0UmF0aW86IFwiMjozXCIsXG4gICAgZGltZW5zaW9uczogXCI3Njh4MTE1MlwiLFxuICAgIHByaW50V2lkdGg6IFwiOC4zaW5cIixcbiAgICBwcmludEhlaWdodDogXCI1LjhpblwiXG4gIH1cbl07XG5cbi8vIEltYWdlIG1vZGVsIG9wdGlvbnNcbmNvbnN0IGltYWdlTW9kZWxzID0gW1xuICB7IFxuICAgIGlkOiBcImdwdC1pbWFnZS0xXCIsIFxuICAgIGxhYmVsOiBcIkdQVCBJbWFnZSAxXCIsIFxuICAgIGRlc2NyaXB0aW9uOiBcIkhpZ2hlc3QgcXVhbGl0eSB2YXJpYW50IDogUmVjb21tZW5kZWRcIixcbiAgfSxcbiAgeyBcbiAgICBpZDogXCJmbHV4LTEuMS1wcm9cIiwgXG4gICAgbGFiZWw6IFwiRkxVWCAxLjEgUHJvXCIsIFxuICAgIGRlc2NyaXB0aW9uOiBcIkZhc3Rlc3QgJiBoaWdoZXN0IHF1YWxpdHkgOiAkMC4wNCBwZXIgaW1hZ2UsIDMtMTAgc2Vjb25kc1wiLFxuICB9LFxuICB7IFxuICAgIGlkOiBcInNlZWRyZWFtLTNcIiwgXG4gICAgbGFiZWw6IFwiU2VlRHJlYW0gM1wiLCBcbiAgICBkZXNjcmlwdGlvbjogXCIySyBwaG90b3JlYWxpc3RpYyBxdWFsaXR5IDogJDAuMDMgcGVyIGltYWdlLCA1LTE1IHNlY29uZHNcIixcbiAgfSxcbiAgeyBcbiAgICBpZDogXCJpZGVvZ3JhbS12My10dXJib1wiLCBcbiAgICBsYWJlbDogXCJJZGVvZ3JhbSBWMyBUdXJib1wiLCBcbiAgICBkZXNjcmlwdGlvbjogXCJFeGNlbGxlbnQgdGV4dCByZW5kZXJpbmcgOiBNYWdpYyBwcm9tcHQgZW5oYW5jZW1lbnQsIGZhc3QgZ2VuZXJhdGlvblwiLFxuICB9LFxuICB7IFxuICAgIGlkOiBcImlkZW9ncmFtLXYzLXF1YWxpdHlcIiwgXG4gICAgbGFiZWw6IFwiSWRlb2dyYW0gVjMgUXVhbGl0eVwiLCBcbiAgICBkZXNjcmlwdGlvbjogXCJIaWdoZXN0IHF1YWxpdHkgdGV4dCByZW5kZXJpbmcgOiBTbG93ZXIgYnV0IGJldHRlciByZXN1bHRzXCIsXG4gIH0sXG4gIHsgXG4gICAgaWQ6IFwiaW1hZ2VuLTQuMC11bHRyYS1nZW5lcmF0ZS1wcmV2aWV3LTA2LTA2XCIsIFxuICAgIGxhYmVsOiBcIkltYWdlbiA0LjAgVWx0cmFcIiwgXG4gICAgZGVzY3JpcHRpb246IFwiRXhwZXJpbWVudGFsLCBub3QgcmVjb21tZW5kZWQgZm9yIHRleHQtaGVhdnkgY2FyZHMuXCIsXG4gIH0sXG5dO1xuXG5cblxuLy8gRW1haWwgSGVscGVyIEZ1bmN0aW9uXG5hc3luYyBmdW5jdGlvbiBzZW5kVGhhbmtZb3VFbWFpbCh0b0VtYWlsOiBzdHJpbmcsIGNhcmRUeXBlOiBzdHJpbmcsIGNhcmRVcmw6IHN0cmluZykge1xuICBpZiAoIXRvRW1haWwudHJpbSgpKSByZXR1cm47XG4gIFxuICB0cnkge1xuICAgIC8vIENyZWF0ZSBIVE1MIGVtYWlsIGJvZHlcbiAgICBjb25zdCBodG1sQm9keSA9IGBcbiAgICAgIDxkaXYgc3R5bGU9XCJmb250LWZhbWlseTogQXJpYWwsIHNhbnMtc2VyaWY7IG1heC13aWR0aDogNjAwcHg7IG1hcmdpbjogMCBhdXRvOyBwYWRkaW5nOiAyMHB4OyBjb2xvcjogIzMzMztcIj5cbiAgICAgICAgPGRpdiBzdHlsZT1cInRleHQtYWxpZ246IGNlbnRlcjsgbWFyZ2luLWJvdHRvbTogMzBweDtcIj5cbiAgICAgICAgICA8aDEgc3R5bGU9XCJjb2xvcjogIzI1NjNlYjsgbWFyZ2luLWJvdHRvbTogMTBweDtcIj7wn46JIFlvdXIgQ2FyZCBpcyBSZWFkeSE8L2gxPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgXG4gICAgICAgIDxwIHN0eWxlPVwiZm9udC1zaXplOiAxNnB4OyBsaW5lLWhlaWdodDogMS42OyBtYXJnaW4tYm90dG9tOiAyMHB4O1wiPkhpIHRoZXJlITwvcD5cbiAgICAgICAgXG4gICAgICAgIDxwIHN0eWxlPVwiZm9udC1zaXplOiAxNnB4OyBsaW5lLWhlaWdodDogMS42OyBtYXJnaW4tYm90dG9tOiAyMHB4O1wiPlxuICAgICAgICAgIFRoYW5rIHlvdSBmb3IgdXNpbmcgVmliZUNhcmRpbmcgdG8gY3JlYXRlIHlvdXIgYmVhdXRpZnVsIDxzdHJvbmc+JHtjYXJkVHlwZX08L3N0cm9uZz4gY2FyZCFcbiAgICAgICAgPC9wPlxuICAgICAgICBcbiAgICAgICAgPHAgc3R5bGU9XCJmb250LXNpemU6IDE2cHg7IGxpbmUtaGVpZ2h0OiAxLjY7IG1hcmdpbi1ib3R0b206IDIwcHg7XCI+XG4gICAgICAgICAgV2UgaG9wZSB5b3UgbG92ZSBob3cgaXQgdHVybmVkIG91dC4gWW91ciBjYXJkIGhhcyBiZWVuIGdlbmVyYXRlZCBhbmQgaXMgcmVhZHkgZm9yIHByaW50aW5nIG9yIHNoYXJpbmcuXG4gICAgICAgIDwvcD5cbiAgICAgICAgXG4gICAgICAgIDxkaXYgc3R5bGU9XCJ0ZXh0LWFsaWduOiBjZW50ZXI7IG1hcmdpbjogMzBweCAwO1wiPlxuICAgICAgICAgIDxhIGhyZWY9XCIke2NhcmRVcmx9XCIgc3R5bGU9XCJiYWNrZ3JvdW5kLWNvbG9yOiAjMjU2M2ViOyBjb2xvcjogd2hpdGU7IHBhZGRpbmc6IDEycHggMjRweDsgdGV4dC1kZWNvcmF0aW9uOiBub25lOyBib3JkZXItcmFkaXVzOiA2cHg7IGZvbnQtd2VpZ2h0OiBib2xkOyBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XCI+XG4gICAgICAgICAgICBWaWV3IFlvdXIgQ2FyZFxuICAgICAgICAgIDwvYT5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIFxuICAgICAgICA8cCBzdHlsZT1cImZvbnQtc2l6ZTogMTZweDsgbGluZS1oZWlnaHQ6IDEuNjsgbWFyZ2luLWJvdHRvbTogMjBweDtcIj5cbiAgICAgICAgICBJZiB5b3UgaGF2ZSBhbnkgcXVlc3Rpb25zIG9yIGZlZWRiYWNrLCBmZWVsIGZyZWUgdG8gcmVhY2ggb3V0IHRvIHVzLlxuICAgICAgICA8L3A+XG4gICAgICAgIFxuICAgICAgICA8cCBzdHlsZT1cImZvbnQtc2l6ZTogMTZweDsgbGluZS1oZWlnaHQ6IDEuNjsgbWFyZ2luLWJvdHRvbTogMjBweDtcIj5cbiAgICAgICAgICBIYXBweSBjYXJkIG1ha2luZyFcbiAgICAgICAgPC9wPlxuICAgICAgICBcbiAgICAgICAgPGRpdiBzdHlsZT1cIm1hcmdpbi10b3A6IDQwcHg7IHBhZGRpbmctdG9wOiAyMHB4OyBib3JkZXItdG9wOiAxcHggc29saWQgI2U1ZTdlYjsgY29sb3I6ICM2YjcyODA7XCI+XG4gICAgICAgICAgPHAgc3R5bGU9XCJtYXJnaW4tYm90dG9tOiA1cHg7XCI+PHN0cm9uZz5CZXN0IHJlZ2FyZHMsPC9zdHJvbmc+PC9wPlxuICAgICAgICAgIDxwIHN0eWxlPVwibWFyZ2luLWJvdHRvbTogNXB4O1wiPlRoZSBWaWJlQ2FyZGluZyBUZWFtPC9wPlxuICAgICAgICAgIDxwIHN0eWxlPVwibWFyZ2luOiAwO1wiPlxuICAgICAgICAgICAgPGEgaHJlZj1cIm1haWx0bzp2aWJlY2FyZGluZ0Bhc3QuZW5naW5lZXJcIiBzdHlsZT1cImNvbG9yOiAjMjU2M2ViOyB0ZXh0LWRlY29yYXRpb246IG5vbmU7XCI+dmliZWNhcmRpbmdAYXN0LmVuZ2luZWVyPC9hPlxuICAgICAgICAgIDwvcD5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICBgO1xuXG4gICAgLy8gUGxhaW4gdGV4dCBmYWxsYmFja1xuICAgIGNvbnN0IHRleHRCb2R5ID0gYEhpIHRoZXJlIVxuXG5UaGFuayB5b3UgZm9yIHVzaW5nIFZpYmVDYXJkaW5nIHRvIGNyZWF0ZSB5b3VyIGJlYXV0aWZ1bCAke2NhcmRUeXBlfSBjYXJkIVxuXG5XZSBob3BlIHlvdSBsb3ZlIGhvdyBpdCB0dXJuZWQgb3V0LiBZb3VyIGNhcmQgaGFzIGJlZW4gZ2VuZXJhdGVkIGFuZCBpcyByZWFkeSBmb3IgcHJpbnRpbmcgb3Igc2hhcmluZy5cblxuVmlldyB5b3VyIGNhcmQ6ICR7Y2FyZFVybH1cblxuSWYgeW91IGhhdmUgYW55IHF1ZXN0aW9ucyBvciBmZWVkYmFjaywgZmVlbCBmcmVlIHRvIHJlYWNoIG91dCB0byB1cy5cblxuSGFwcHkgY2FyZCBtYWtpbmchXG5cbkJlc3QgcmVnYXJkcyxcblRoZSBWaWJlQ2FyZGluZyBUZWFtXG52aWJlY2FyZGluZ0Bhc3QuZW5naW5lZXJgO1xuXG4gICAgLy8gU2VuZCB0byB1c2VyXG4gICAgY29uc3QgdXNlclJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7QkFDS0VORF9BUElfQkFTRV9VUkx9L3NlbmRfZW1haWxfbm9kZWpzX3N0eWxlYCwge1xuICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICBoZWFkZXJzOiB7IFxuICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb247IGNoYXJzZXQ9dXRmLTgnXG4gICAgICB9LFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICB0bzogdG9FbWFpbCxcbiAgICAgICAgZnJvbTogJ3ZpYmVjYXJkaW5nQGFzdC5lbmdpbmVlcicsXG4gICAgICAgIHN1YmplY3Q6IGBZb3VyICR7Y2FyZFR5cGV9IGNhcmQgaXMgcmVhZHkhYCxcbiAgICAgICAgYm9keTogaHRtbEJvZHksXG4gICAgICAgIHRleHQ6IHRleHRCb2R5LFxuICAgICAgICBodG1sOiBodG1sQm9keVxuICAgICAgfSlcbiAgICB9KTtcblxuICAgIC8vIFNlbmQgY29weSB0byBqb3JkYW5AYXN0LmVuZ2luZWVyXG4gICAgY29uc3QgYWRtaW5SZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke0JBQ0tFTkRfQVBJX0JBU0VfVVJMfS9zZW5kX2VtYWlsX25vZGVqc19zdHlsZWAsIHtcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIHRvOiAnam9yZGFuQGFzdC5lbmdpbmVlcicsXG4gICAgICAgIGZyb206ICd2aWJlY2FyZGluZ0Bhc3QuZW5naW5lZXInLFxuICAgICAgICBzdWJqZWN0OiBgQ2FyZCBDcmVhdGVkIC0gJHtjYXJkVHlwZX0gZm9yICR7dG9FbWFpbH1gLFxuICAgICAgICBib2R5OiBgPGRpdiBzdHlsZT1cImZvbnQtZmFtaWx5OiBBcmlhbCwgc2Fucy1zZXJpZjsgcGFkZGluZzogMjBweDtcIj5cbiAgICAgICAgICA8aDMgc3R5bGU9XCJjb2xvcjogIzI1NjNlYjtcIj5OZXcgQ2FyZCBDcmVhdGVkIG9uIFZpYmVDYXJkaW5nPC9oMz5cbiAgICAgICAgICA8cD48c3Ryb25nPlVzZXI6PC9zdHJvbmc+ICR7dG9FbWFpbH08L3A+XG4gICAgICAgICAgPHA+PHN0cm9uZz5DYXJkIFR5cGU6PC9zdHJvbmc+ICR7Y2FyZFR5cGV9PC9wPlxuICAgICAgICAgIDxwPjxzdHJvbmc+Q2FyZCBVUkw6PC9zdHJvbmc+IDxhIGhyZWY9XCIke2NhcmRVcmx9XCI+JHtjYXJkVXJsfTwvYT48L3A+XG4gICAgICAgICAgPHAgc3R5bGU9XCJtYXJnaW4tdG9wOiAyMHB4OyBjb2xvcjogIzZiNzI4MDsgZm9udC1zaXplOiAxNHB4O1wiPlxuICAgICAgICAgICAgVGhpcyBpcyBhbiBhdXRvbWF0ZWQgbm90aWZpY2F0aW9uIG9mIGNhcmQgY3JlYXRpb24gYWN0aXZpdHkuXG4gICAgICAgICAgPC9wPlxuICAgICAgICA8L2Rpdj5gLFxuICAgICAgICB0ZXh0OiBgTmV3IGNhcmQgY3JlYXRlZCBvbiBWaWJlQ2FyZGluZzpcblxuVXNlcjogJHt0b0VtYWlsfVxuQ2FyZCBUeXBlOiAke2NhcmRUeXBlfVxuQ2FyZCBVUkw6ICR7Y2FyZFVybH1cblxuVGhpcyBpcyBhbiBhdXRvbWF0ZWQgbm90aWZpY2F0aW9uIG9mIGNhcmQgY3JlYXRpb24gYWN0aXZpdHkuYFxuICAgICAgfSlcbiAgICB9KTtcblxuICAgIGlmICh1c2VyUmVzcG9uc2Uub2spIHtcbiAgICAgIHRvYXN0LnN1Y2Nlc3MoXCLinInvuI8gVGhhbmsgeW91IGVtYWlsIHNlbnQhXCIpO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gc2VuZCB0aGFuayB5b3UgZW1haWw6JywgZXJyb3IpO1xuICAgIC8vIERvbid0IHNob3cgZXJyb3IgdG9hc3QgLSB0aGlzIGlzIGEgbmljZS10by1oYXZlIGZlYXR1cmVcbiAgfVxufVxuXG4vLyBDaGF0IEhlbHBlciBGdW5jdGlvblxuYXN5bmMgZnVuY3Rpb24gY2hhdFdpdGhBSSh1c2VyTWVzc2FnZTogc3RyaW5nLCBvcHRpb25zOiB7XG4gIHN5c3RlbVByb21wdD86IHN0cmluZyB8IG51bGw7XG4gIG1vZGVsPzogc3RyaW5nO1xuICBpbmNsdWRlVGhvdWdodHM/OiBib29sZWFuO1xuICBqc29uU2NoZW1hPzogYW55O1xufSA9IHt9KSB7XG4gIGNvbnN0IHtcbiAgICBzeXN0ZW1Qcm9tcHQgPSBudWxsLFxuICAgIG1vZGVsID0gJ2dlbWluaS0yLjUtcHJvJyxcbiAgICBpbmNsdWRlVGhvdWdodHMgPSBmYWxzZSwgIC8vIERlZmF1bHQgdG8gZmFsc2UgdG8gYXZvaWQgdGhpbmtpbmcgY29udGVudCBpbiByZXNwb25zZXNcbiAgICBqc29uU2NoZW1hID0gbnVsbFxuICB9ID0gb3B0aW9ucztcbiAgXG4gIHRyeSB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnL2ludGVybmFsL2NhbGxfbWNwX3Rvb2wnLCB7XG4gICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICB0b29sX25hbWU6ICdhaV9jaGF0JyxcbiAgICAgICAgYXJndW1lbnRzOiB7XG4gICAgICAgICAgbWVzc2FnZXM6IHVzZXJNZXNzYWdlLFxuICAgICAgICAgIHN5c3RlbV9wcm9tcHQ6IHN5c3RlbVByb21wdCxcbiAgICAgICAgICBtb2RlbDogbW9kZWwsXG4gICAgICAgICAgaW5jbHVkZV90aG91Z2h0czogaW5jbHVkZVRob3VnaHRzLFxuICAgICAgICAgIGpzb25fc2NoZW1hOiBqc29uU2NoZW1hXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgfSk7XG4gICAgXG4gICAgaWYgKCFyZXNwb25zZS5vaykgdGhyb3cgbmV3IEVycm9yKGBIVFRQICR7cmVzcG9uc2Uuc3RhdHVzfWApO1xuICAgIFxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgaWYgKGRhdGEuZXJyb3IgJiYgZGF0YS5lcnJvciAhPT0gXCJOb25lXCIgJiYgZGF0YS5lcnJvciAhPT0gbnVsbCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGRhdGEuZXJyb3IpO1xuICAgIH1cbiAgICBcbiAgICBsZXQgcmVzdWx0O1xuICAgIGlmICh0eXBlb2YgZGF0YS5yZXN1bHQgPT09ICdzdHJpbmcnKSB7XG4gICAgICB0cnkge1xuICAgICAgICByZXN1bHQgPSBKU09OLnBhcnNlKGRhdGEucmVzdWx0KTtcbiAgICAgIH0gY2F0Y2gge1xuICAgICAgICByZXN1bHQgPSB7IHN0YXR1czogJ2Vycm9yJywgbWVzc2FnZTogJ0ludmFsaWQgSlNPTiByZXNwb25zZScgfTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmVzdWx0ID0gZGF0YS5yZXN1bHQ7XG4gICAgfVxuICAgIFxuICAgIGlmIChyZXN1bHQuc3RhdHVzID09PSAnZXJyb3InKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IocmVzdWx0Lm1lc3NhZ2UpO1xuICAgIH1cbiAgICBcbiAgICByZXR1cm4gcmVzdWx0LnJlc3BvbnNlO1xuICAgIFxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0FJIGNoYXQgZmFpbGVkOicsIGVycm9yKTtcbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBDYXJkU3R1ZGlvUGFnZSgpIHtcbiAgLy8gQ29yZSBzdGF0ZVxuICBjb25zdCBbcHJvbXB0LCBzZXRQcm9tcHRdID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFtmaW5hbENhcmRNZXNzYWdlLCBzZXRGaW5hbENhcmRNZXNzYWdlXSA9IHVzZVN0YXRlKFwiXCIpO1xuICBjb25zdCBbdG9GaWVsZCwgc2V0VG9GaWVsZF0gPSB1c2VTdGF0ZShcIlwiKTtcbiAgY29uc3QgW2Zyb21GaWVsZCwgc2V0RnJvbUZpZWxkXSA9IHVzZVN0YXRlKFwiXCIpO1xuICBjb25zdCBbc2VsZWN0ZWRUeXBlLCBzZXRTZWxlY3RlZFR5cGVdID0gdXNlU3RhdGU8c3RyaW5nPihcImJpcnRoZGF5XCIpO1xuICBjb25zdCBbY3VzdG9tQ2FyZFR5cGUsIHNldEN1c3RvbUNhcmRUeXBlXSA9IHVzZVN0YXRlPHN0cmluZz4oXCJcIik7XG4gIGNvbnN0IFtzZWxlY3RlZFRvbmUsIHNldFNlbGVjdGVkVG9uZV0gPSB1c2VTdGF0ZTxzdHJpbmc+KFwiZnVubnlcIik7XG4gIGNvbnN0IFtpc0dlbmVyYXRpbmcsIHNldElzR2VuZXJhdGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtnZW5lcmF0ZWRDYXJkLCBzZXRHZW5lcmF0ZWRDYXJkXSA9IHVzZVN0YXRlPEdlbmVyYXRlZENhcmQgfCBudWxsPihudWxsKTtcbiAgXG4gIC8vIE11bHRpcGxlIGNhcmRzIHN0YXRlXG4gIGNvbnN0IFtudW1iZXJPZkNhcmRzLCBzZXROdW1iZXJPZkNhcmRzXSA9IHVzZVN0YXRlPG51bWJlcj4oMSk7XG4gIGNvbnN0IFtnZW5lcmF0ZWRDYXJkcywgc2V0R2VuZXJhdGVkQ2FyZHNdID0gdXNlU3RhdGU8R2VuZXJhdGVkQ2FyZFtdPihbXSk7XG4gIGNvbnN0IFtzZWxlY3RlZENhcmRJbmRleCwgc2V0U2VsZWN0ZWRDYXJkSW5kZXhdID0gdXNlU3RhdGU8bnVtYmVyPigwKTtcblxuICAvLyBXcml0aW5nIGFzc2lzdGFudCBzdGF0ZVxuICBjb25zdCBbaXNHZW5lcmF0aW5nTWVzc2FnZSwgc2V0SXNHZW5lcmF0aW5nTWVzc2FnZV0gPSB1c2VTdGF0ZShmYWxzZSk7XG5cbiAgLy8gQWR2YW5jZWQgb3B0aW9ucyBzdGF0ZVxuICBjb25zdCBbc2hvd0FkdmFuY2VkLCBzZXRTaG93QWR2YW5jZWRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbc2VsZWN0ZWRBcnRpc3RpY1N0eWxlLCBzZXRTZWxlY3RlZEFydGlzdGljU3R5bGVdID0gdXNlU3RhdGU8c3RyaW5nPihcImFpLXNtYXJ0LXN0eWxlXCIpO1xuICBjb25zdCBbY3VzdG9tU3R5bGVEZXNjcmlwdGlvbiwgc2V0Q3VzdG9tU3R5bGVEZXNjcmlwdGlvbl0gPSB1c2VTdGF0ZTxzdHJpbmc+KFwiXCIpO1xuICBjb25zdCBbc2VsZWN0ZWRJbWFnZU1vZGVsLCBzZXRTZWxlY3RlZEltYWdlTW9kZWxdID0gdXNlU3RhdGU8c3RyaW5nPihcImdwdC1pbWFnZS0xXCIpO1xuXG4gIC8vIERyYWZ0IG1vZGUgc3BlY2lmaWMgbW9kZWwgc2VsZWN0aW9uXG4gIGNvbnN0IFtzZWxlY3RlZERyYWZ0TW9kZWwsIHNldFNlbGVjdGVkRHJhZnRNb2RlbF0gPSB1c2VTdGF0ZTxzdHJpbmc+KFwiZ3B0LWltYWdlLTFcIik7XG5cbiAgLy8gUHJvZ3Jlc3MgdHJhY2tpbmcgc3RhdGVcbiAgY29uc3QgW2dlbmVyYXRpb25Qcm9ncmVzcywgc2V0R2VuZXJhdGlvblByb2dyZXNzXSA9IHVzZVN0YXRlPHN0cmluZz4oXCJcIik7XG4gIGNvbnN0IFtjb3VudGRvd24sIHNldENvdW50ZG93bl0gPSB1c2VTdGF0ZTxudW1iZXI+KDApO1xuICBjb25zdCBbY291bnRkb3duSW50ZXJ2YWwsIHNldENvdW50ZG93bkludGVydmFsXSA9IHVzZVN0YXRlPE5vZGVKUy5UaW1lb3V0IHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtpc0NhcmRDb21wbGV0ZWQsIHNldElzQ2FyZENvbXBsZXRlZF0gPSB1c2VTdGF0ZTxib29sZWFuPihmYWxzZSk7XG5cbiAgLy8gSm9iIHRyYWNraW5nIHN0YXRlXG4gIGNvbnN0IFtjdXJyZW50Sm9iSWQsIHNldEN1cnJlbnRKb2JJZF0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcblxuICAvLyBGYXN0IHByZXZpZXcgbW9kZSBzdGF0ZVxuICBjb25zdCBbZmFzdFByZXZpZXdNb2RlLCBzZXRGYXN0UHJldmlld01vZGVdID0gdXNlU3RhdGU8Ym9vbGVhbj4odHJ1ZSk7XG4gIFxuICAvLyBEcmFmdCBtb2RlIHN0YXRlIC0gZ2VuZXJhdGUgNCBsb3ctcXVhbGl0eSBjYXJkcyBmb3Igc2VsZWN0aW9uXG4gIGNvbnN0IFtpc0RyYWZ0TW9kZSwgc2V0SXNEcmFmdE1vZGVdID0gdXNlU3RhdGU8Ym9vbGVhbj4oZmFsc2UpO1xuICBjb25zdCBbZHJhZnRDYXJkcywgc2V0RHJhZnRDYXJkc10gPSB1c2VTdGF0ZTxHZW5lcmF0ZWRDYXJkW10+KFtdKTtcbiAgY29uc3QgW3NlbGVjdGVkRHJhZnRJbmRleCwgc2V0U2VsZWN0ZWREcmFmdEluZGV4XSA9IHVzZVN0YXRlPG51bWJlcj4oLTEpO1xuICBjb25zdCBbaXNHZW5lcmF0aW5nRmluYWxDYXJkLCBzZXRJc0dlbmVyYXRpbmdGaW5hbENhcmRdID0gdXNlU3RhdGU8Ym9vbGVhbj4oZmFsc2UpO1xuICBjb25zdCBbcHJldmlld2luZ0RyYWZ0SW5kZXgsIHNldFByZXZpZXdpbmdEcmFmdEluZGV4XSA9IHVzZVN0YXRlPG51bWJlcj4oLTEpO1xuXG4gIC8vIEhlbHBlciBmdW5jdGlvbiB0byBmb3JtYXQgY291bnRkb3duIGFzIE1NOlNTXG4gIGNvbnN0IGZvcm1hdENvdW50ZG93biA9IChzZWNvbmRzOiBudW1iZXIpOiBzdHJpbmcgPT4ge1xuICAgIGNvbnN0IG1pbnV0ZXMgPSBNYXRoLmZsb29yKHNlY29uZHMgLyA2MCk7XG4gICAgY29uc3QgcmVtYWluaW5nU2Vjb25kcyA9IHNlY29uZHMgJSA2MDtcbiAgICByZXR1cm4gYCR7bWludXRlc306JHtyZW1haW5pbmdTZWNvbmRzLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgJzAnKX1gO1xuICB9O1xuXG4gIC8vIEpvYiBtYW5hZ2VtZW50IGZ1bmN0aW9uc1xuICBjb25zdCBzYXZlSm9iVG9TdG9yYWdlID0gKGpvYklkOiBzdHJpbmcsIGpvYkRhdGE6IGFueSkgPT4ge1xuICAgIHRyeSB7XG4gICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShgY2FyZEpvYl8ke2pvYklkfWAsIEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgLi4uam9iRGF0YSxcbiAgICAgICAgaWQ6IGpvYklkLFxuICAgICAgICBzdGF0dXM6ICdwcm9jZXNzaW5nJyxcbiAgICAgICAgY3JlYXRlZEF0OiBEYXRlLm5vdygpXG4gICAgICB9KSk7XG4gICAgICBcbiAgICAgIC8vIEFsc28gYWRkIHRvIHBlbmRpbmcgam9icyBsaXN0XG4gICAgICBjb25zdCBwZW5kaW5nSm9icyA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3BlbmRpbmdDYXJkSm9icycpIHx8ICdbXScpO1xuICAgICAgaWYgKCFwZW5kaW5nSm9icy5pbmNsdWRlcyhqb2JJZCkpIHtcbiAgICAgICAgcGVuZGluZ0pvYnMucHVzaChqb2JJZCk7XG4gICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdwZW5kaW5nQ2FyZEpvYnMnLCBKU09OLnN0cmluZ2lmeShwZW5kaW5nSm9icykpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gc2F2ZSBqb2IgdG8gbG9jYWxTdG9yYWdlOicsIGVycm9yKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgcmVtb3ZlSm9iRnJvbVN0b3JhZ2UgPSAoam9iSWQ6IHN0cmluZykgPT4ge1xuICAgIHRyeSB7XG4gICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShgY2FyZEpvYl8ke2pvYklkfWApO1xuICAgICAgXG4gICAgICAvLyBSZW1vdmUgZnJvbSBwZW5kaW5nIGpvYnMgbGlzdFxuICAgICAgY29uc3QgcGVuZGluZ0pvYnMgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdwZW5kaW5nQ2FyZEpvYnMnKSB8fCAnW10nKTtcbiAgICAgIGNvbnN0IHVwZGF0ZWRKb2JzID0gcGVuZGluZ0pvYnMuZmlsdGVyKChpZDogc3RyaW5nKSA9PiBpZCAhPT0gam9iSWQpO1xuICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3BlbmRpbmdDYXJkSm9icycsIEpTT04uc3RyaW5naWZ5KHVwZGF0ZWRKb2JzKSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byByZW1vdmUgam9iIGZyb20gbG9jYWxTdG9yYWdlOicsIGVycm9yKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgY2hlY2tKb2JTdGF0dXMgPSBhc3luYyAoam9iSWQ6IHN0cmluZyk6IFByb21pc2U8YW55PiA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYC9hcGkvam9iLXN0YXR1cy8ke2pvYklkfWApO1xuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEhUVFAgJHtyZXNwb25zZS5zdGF0dXN9YCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gY2hlY2sgam9iIHN0YXR1czonLCBlcnJvcik7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH07XG5cbiAgLy8gUmVjb3ZlcnkgZnVuY3Rpb24gLSBjaGVjayBmb3IgcGVuZGluZyBqb2JzIG9uIHBhZ2UgbG9hZFxuICBjb25zdCBjaGVja1BlbmRpbmdKb2JzID0gYXN5bmMgKCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBwZW5kaW5nSm9icyA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3BlbmRpbmdDYXJkSm9icycpIHx8ICdbXScpO1xuICAgICAgXG4gICAgICBmb3IgKGNvbnN0IGpvYklkIG9mIHBlbmRpbmdKb2JzKSB7XG4gICAgICAgIGNvbnN0IGpvYkRhdGEgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShgY2FyZEpvYl8ke2pvYklkfWApO1xuICAgICAgICBpZiAoIWpvYkRhdGEpIGNvbnRpbnVlO1xuICAgICAgICBcbiAgICAgICAgY29uc3Qgam9iID0gSlNPTi5wYXJzZShqb2JEYXRhKTtcbiAgICAgICAgY29uc3Qgc3RhdHVzUmVzcG9uc2UgPSBhd2FpdCBjaGVja0pvYlN0YXR1cyhqb2JJZCk7XG4gICAgICAgIFxuICAgICAgICBpZiAoc3RhdHVzUmVzcG9uc2UgJiYgc3RhdHVzUmVzcG9uc2Uuc3RhdHVzID09PSAnY29tcGxldGVkJykge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCfwn46JIEpvYiBjb21wbGV0ZWQgd2hpbGUgdXNlciB3YXMgYXdheSEgQ2FyZCBkYXRhOicsIHN0YXR1c1Jlc3BvbnNlLmNhcmREYXRhKTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBKb2IgY29tcGxldGVkIHdoaWxlIHVzZXIgd2FzIGF3YXkhXG4gICAgICAgICAgaWYgKHN0YXR1c1Jlc3BvbnNlLmNhcmREYXRhKSB7XG4gICAgICAgICAgICAvLyBBcHBseSBRUiBjb2RlIHRvIGJhY2sgY292ZXIgYmVmb3JlIHNldHRpbmcgdGhlIGNhcmQgZGF0YVxuICAgICAgICAgICAgbGV0IGNhcmRXaXRoUVIgPSB7IC4uLnN0YXR1c1Jlc3BvbnNlLmNhcmREYXRhIH07XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIEVuc3VyZSB0aGUgY2FyZCBoYXMgYSB2YWxpZCBjcmVhdGVkQXQgZGF0ZVxuICAgICAgICAgICAgaWYgKCFjYXJkV2l0aFFSLmNyZWF0ZWRBdCkge1xuICAgICAgICAgICAgICBjYXJkV2l0aFFSLmNyZWF0ZWRBdCA9IG5ldyBEYXRlKCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBjYXJkV2l0aFFSLmNyZWF0ZWRBdCA9PT0gJ3N0cmluZycgfHwgdHlwZW9mIGNhcmRXaXRoUVIuY3JlYXRlZEF0ID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgICBjYXJkV2l0aFFSLmNyZWF0ZWRBdCA9IG5ldyBEYXRlKGNhcmRXaXRoUVIuY3JlYXRlZEF0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gRW5zdXJlIHRoZSBjYXJkIGhhcyBhIHZhbGlkIElEXG4gICAgICAgICAgICBpZiAoIWNhcmRXaXRoUVIuaWQpIHtcbiAgICAgICAgICAgICAgY2FyZFdpdGhRUi5pZCA9IGBjYXJkLSR7RGF0ZS5ub3coKX0tJHtNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHIoMiwgOSl9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29uc29sZS5sb2coJ/CflIQgQ2FyZCBkYXRhIHByZXBhcmVkIGZvciByZWNvdmVyeTonLCBjYXJkV2l0aFFSKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/CflIQgU3RhcnRpbmcgUVIgb3ZlcmxheSBwcm9jZXNzIGZvciByZWNvdmVyZWQgY2FyZCcpO1xuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU3RvcmUgY2FyZCBkYXRhIGZpcnN0IHRvIGdldCBhIHNoYXJlYWJsZSBVUkxcbiAgICAgICAgICAgICAgIGlmIChjYXJkV2l0aFFSLmZyb250Q292ZXIpIHtcbiAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICBjb25zdCBjYXJkU3RvcmVSZXNwb25zZSA9IGF3YWl0IGZldGNoKCcvYXBpL2NhcmRzL3N0b3JlJywge1xuICAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgICAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgICAgICAgICAgICAgcHJvbXB0OiBjYXJkV2l0aFFSLnByb21wdCB8fCAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgZnJvbnRDb3ZlcjogY2FyZFdpdGhRUi5mcm9udENvdmVyIHx8ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICBiYWNrQ292ZXI6IGNhcmRXaXRoUVIuYmFja0NvdmVyIHx8ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICBsZWZ0UGFnZTogY2FyZFdpdGhRUi5sZWZ0UGFnZSB8fCAnJyxcbiAgICAgICAgICAgICAgICAgICAgICByaWdodFBhZ2U6IGNhcmRXaXRoUVIucmlnaHRQYWdlIHx8ICcnLFxuICAgICAgICAgICAgICAgICAgICAgIGdlbmVyYXRlZFByb21wdHM6IGNhcmRXaXRoUVIuZ2VuZXJhdGVkUHJvbXB0cyB8fCBudWxsXG4gICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgIGlmIChjYXJkU3RvcmVSZXNwb25zZS5vaykge1xuICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2FyZFN0b3JlRGF0YSA9IGF3YWl0IGNhcmRTdG9yZVJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGFjdHVhbFNoYXJlVXJsID0gY2FyZFN0b3JlRGF0YS5zaGFyZV91cmw7XG4gICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnVXNpbmcgYWN0dWFsIHNoYXJlIFVSTCBmb3IgUVIgY29kZSAocmVjb3ZlcmVkKTonLCBhY3R1YWxTaGFyZVVybCk7XG4gICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgIC8vIEFwcGx5IFFSIGNvZGUgdG8gYmFjayBjb3ZlciB1c2luZyB0aGUgQVBJLXJldHVybmVkIFVSTFxuICAgICAgICAgICAgICAgICAgICAgaWYgKGNhcmRXaXRoUVIuYmFja0NvdmVyICYmIGFjdHVhbFNoYXJlVXJsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5SEIEFwcGx5aW5nIFFSIG92ZXJsYXkgdG8gcmVjb3ZlcmVkIGNhcmQuLi4nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgb3JpZ2luYWxCYWNrQ292ZXIgPSBjYXJkV2l0aFFSLmJhY2tDb3ZlcjtcbiAgICAgICAgICAgICAgICAgICAgICAgY2FyZFdpdGhRUi5iYWNrQ292ZXIgPSBhd2FpdCBvdmVybGF5UVJDb2RlT25JbWFnZShvcmlnaW5hbEJhY2tDb3ZlciwgYWN0dWFsU2hhcmVVcmwpO1xuICAgICAgICAgICAgICAgICAgICAgICBjYXJkV2l0aFFSLnNoYXJlVXJsID0gYWN0dWFsU2hhcmVVcmw7XG4gICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfinIUgUVIgb3ZlcmxheSBjb21wbGV0ZSBmb3IgcmVjb3ZlcmVkIGNhcmQnKTtcbiAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignRmFpbGVkIHRvIHN0b3JlIHJlY292ZXJlZCBjYXJkIGZvciBzaGFyaW5nLCBjb250aW51aW5nIHdpdGhvdXQgUVIgY29kZScpO1xuICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcign4p2MIEZhaWxlZCB0byBzdG9yZSBjYXJkIG9yIG92ZXJsYXkgUVIgY29kZSAocmVjb3ZlcmVkKTonLCBlcnJvcik7XG4gICAgICAgICAgICAgICAgICAvLyBDb250aW51ZSB3aXRob3V0IFFSIGNvZGUgaWYgdGhlcmUncyBhbiBlcnJvclxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ05vIGZyb250IGNvdmVyIGZvdW5kIGluIHJlY292ZXJlZCBjYXJkLCBza2lwcGluZyBRUiBjb2RlIHByb2Nlc3MnKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcign4p2MIEVycm9yIGluIFFSIGNvZGUgcHJvY2VzcyAocmVjb3ZlcmVkKTonLCBlcnJvcik7XG4gICAgICAgICAgICAgIC8vIENvbnRpbnVlIHdpdGhvdXQgUVIgY29kZSBpZiB0aGVyZSdzIGFuIGVycm9yXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn46vIFNldHRpbmcgcmVjb3ZlcmVkIGNhcmQgc3RhdGU6JywgY2FyZFdpdGhRUik7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIFNldCB0aGUgY2FyZCBzdGF0ZXMgLSB0aGlzIGlzIGNyaXRpY2FsIVxuICAgICAgICAgICAgc2V0R2VuZXJhdGVkQ2FyZChjYXJkV2l0aFFSKTtcbiAgICAgICAgICAgIHNldEdlbmVyYXRlZENhcmRzKFtjYXJkV2l0aFFSXSk7XG4gICAgICAgICAgICBzZXRTZWxlY3RlZENhcmRJbmRleCgwKTtcbiAgICAgICAgICAgIHNldElzQ2FyZENvbXBsZXRlZCh0cnVlKTtcbiAgICAgICAgICAgIHNldElzR2VuZXJhdGluZyhmYWxzZSk7XG4gICAgICAgICAgICBzZXRHZW5lcmF0aW9uUHJvZ3Jlc3MoXCJcIik7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIFNldCBhbGwgc2VjdGlvbnMgYXMgY29tcGxldGVkXG4gICAgICAgICAgICBzZXRTZWN0aW9uTG9hZGluZ1N0YXRlcyh7XG4gICAgICAgICAgICAgIGZyb250Q292ZXI6ICdjb21wbGV0ZWQnLFxuICAgICAgICAgICAgICBiYWNrQ292ZXI6ICdjb21wbGV0ZWQnLFxuICAgICAgICAgICAgICBsZWZ0SW50ZXJpb3I6ICdjb21wbGV0ZWQnLFxuICAgICAgICAgICAgICByaWdodEludGVyaW9yOiAnY29tcGxldGVkJyxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBDYXB0dXJlIGdlbmVyYXRpb24gdGltZSBmcm9tIGJhY2tlbmRcbiAgICAgICAgICAgIGlmIChzdGF0dXNSZXNwb25zZS5jYXJkRGF0YS5nZW5lcmF0aW9uVGltZVNlY29uZHMpIHtcbiAgICAgICAgICAgICAgc2V0R2VuZXJhdGlvbkR1cmF0aW9uKHN0YXR1c1Jlc3BvbnNlLmNhcmREYXRhLmdlbmVyYXRpb25UaW1lU2Vjb25kcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIFN0b3AgZWxhcHNlZCB0aW1lIHRyYWNraW5nXG4gICAgICAgICAgICBzdG9wRWxhcHNlZFRpbWVUcmFja2luZygpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBTZXQgcHJvZ3Jlc3MgdG8gMTAwJVxuICAgICAgICAgICAgc2V0UHJvZ3Jlc3NQZXJjZW50YWdlKDEwMCk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAvLyBGb3JjZSBhIHN0YXRlIHVwZGF0ZSBieSB1cGRhdGluZyBsb2NhbFN0b3JhZ2UgKHdpdGhvdXQgYmFzZTY0IFFSIGNvZGUgdG8gYXZvaWQgcXVvdGEgaXNzdWVzKVxuICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAvLyBDcmVhdGUgYSBsaWdodHdlaWdodCB2ZXJzaW9uIHdpdGhvdXQgYmFzZTY0IFFSIGNvZGUgZm9yIGxvY2FsU3RvcmFnZVxuICAgICAgICAgICAgICAgY29uc3QgY2FyZEZvclN0b3JhZ2UgPSB7IC4uLmNhcmRXaXRoUVIgfTtcbiAgICAgICAgICAgICAgIGlmIChjYXJkRm9yU3RvcmFnZS5iYWNrQ292ZXIgJiYgY2FyZEZvclN0b3JhZ2UuYmFja0NvdmVyLnN0YXJ0c1dpdGgoJ2RhdGE6aW1hZ2UvcG5nO2Jhc2U2NCwnKSkge1xuICAgICAgICAgICAgICAgICAvLyBSZXBsYWNlIHRoZSBiYXNlNjQgUVIgY29kZSB3aXRoIHRoZSBvcmlnaW5hbCBiYWNrIGNvdmVyIFVSTCB0byBzYXZlIHNwYWNlXG4gICAgICAgICAgICAgICAgIGNhcmRGb3JTdG9yYWdlLmJhY2tDb3ZlciA9IHN0YXR1c1Jlc3BvbnNlLmNhcmREYXRhLmJhY2tDb3ZlcjtcbiAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/Cfkr4gUmVwbGFjZWQgYmFzZTY0IFFSIGNvZGUgd2l0aCBvcmlnaW5hbCBVUkwgZm9yIGxvY2FsU3RvcmFnZSBzdG9yYWdlIChyZWNvdmVyeSknKTtcbiAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgY29uc3QgY2FyZHNEYXRhID0ge1xuICAgICAgICAgICAgICAgICBjYXJkczogW2NhcmRGb3JTdG9yYWdlXSxcbiAgICAgICAgICAgICAgICAgc2VsZWN0ZWRJbmRleDogMCxcbiAgICAgICAgICAgICAgICAgZ2VuZXJhdGlvbkR1cmF0aW9uOiBzdGF0dXNSZXNwb25zZS5jYXJkRGF0YS5nZW5lcmF0aW9uVGltZVNlY29uZHMgfHwgbnVsbFxuICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd2aWJlY2FyZGluZy1nZW5lcmF0ZWQtY2FyZHMnLCBKU09OLnN0cmluZ2lmeShjYXJkc0RhdGEpKTtcbiAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5K+IFJlY292ZXJlZCBjYXJkIHNhdmVkIHRvIGxvY2FsU3RvcmFnZScpO1xuICAgICAgICAgICAgIH0gY2F0Y2ggKHN0b3JhZ2VFcnJvcikge1xuICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIHNhdmUgcmVjb3ZlcmVkIGNhcmQgdG8gbG9jYWxTdG9yYWdlOicsIHN0b3JhZ2VFcnJvcik7XG4gICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICB0b2FzdC5zdWNjZXNzKFwi8J+OiSBZb3VyIGNhcmQgd2l0aCBRUiBjb2RlIGZpbmlzaGVkIGdlbmVyYXRpbmcgd2hpbGUgeW91IHdlcmUgYXdheSFcIik7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIFNlbmQgdGhhbmsgeW91IGVtYWlsIHVzaW5nIGpvYiBkYXRhXG4gICAgICAgICAgICBpZiAoam9iLnVzZXJFbWFpbCAmJiBqb2IudXNlckVtYWlsLnRyaW0oKSkge1xuICAgICAgICAgICAgICBjb25zdCBjYXJkVHlwZUZvckVtYWlsID0gam9iLnNlbGVjdGVkVHlwZSA9PT0gXCJjdXN0b21cIiA/IGpvYi5jdXN0b21DYXJkVHlwZSA6IGpvYi5zZWxlY3RlZFR5cGU7XG4gICAgICAgICAgICAgIHNlbmRUaGFua1lvdUVtYWlsKGpvYi51c2VyRW1haWwsIGNhcmRUeXBlRm9yRW1haWwsIGNhcmRXaXRoUVIuc2hhcmVVcmwgfHwgJ2h0dHBzOi8vdmliZWNhcmRpbmcuY29tJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfinIUgQ2FyZCByZWNvdmVyeSBwcm9jZXNzIGZpbmlzaGVkIHN1Y2Nlc3NmdWxseScpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgTm8gY2FyZCBkYXRhIGluIGNvbXBsZXRlZCByZWNvdmVyeSByZXNwb25zZScpO1xuICAgICAgICAgICAgdG9hc3QuZXJyb3IoXCLinYwgQ2FyZCBnZW5lcmF0aW9uIGNvbXBsZXRlZCBidXQgbm8gZGF0YSByZWNlaXZlZC4gUGxlYXNlIHRyeSBhZ2Fpbi5cIik7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJlbW92ZUpvYkZyb21TdG9yYWdlKGpvYklkKTtcbiAgICAgICAgfSBlbHNlIGlmIChzdGF0dXNSZXNwb25zZSAmJiBzdGF0dXNSZXNwb25zZS5zdGF0dXMgPT09ICdmYWlsZWQnKSB7XG4gICAgICAgICAgLy8gSm9iIGZhaWxlZFxuICAgICAgICAgIHRvYXN0LmVycm9yKFwi4p2MIEEgY2FyZCBnZW5lcmF0aW9uIGpvYiBmYWlsZWQuIFBsZWFzZSB0cnkgYWdhaW4uXCIpO1xuICAgICAgICAgIHJlbW92ZUpvYkZyb21TdG9yYWdlKGpvYklkKTtcbiAgICAgICAgfSBlbHNlIGlmIChzdGF0dXNSZXNwb25zZSAmJiBzdGF0dXNSZXNwb25zZS5zdGF0dXMgPT09ICdwcm9jZXNzaW5nJykge1xuICAgICAgICAgIC8vIFN0aWxsIHByb2Nlc3NpbmcgLSByZXN0b3JlIGxvYWRpbmcgc3RhdGVzIGFuZCBzdGFydCBwb2xsaW5nXG4gICAgICAgICAgc2V0SXNHZW5lcmF0aW5nKHRydWUpO1xuICAgICAgICAgIHNldEN1cnJlbnRKb2JJZChqb2JJZCk7XG4gICAgICAgICAgc2V0R2VuZXJhdGlvblByb2dyZXNzKFwiUmVzdW1pbmcgY2FyZCBnZW5lcmF0aW9uLi4uXCIpO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIFN0YXJ0IGVsYXBzZWQgdGltZSB0cmFja2luZyBmcm9tIHdoZW4gam9iIHdhcyBvcmlnaW5hbGx5IGNyZWF0ZWRcbiAgICAgICAgICBjb25zdCBqb2JTdGFydFRpbWUgPSBqb2IuY3JlYXRlZEF0ID8gbmV3IERhdGUoam9iLmNyZWF0ZWRBdCkuZ2V0VGltZSgpIDogRGF0ZS5ub3coKTtcbiAgICAgICAgICBzdGFydEVsYXBzZWRUaW1lVHJhY2tpbmcoam9iU3RhcnRUaW1lKTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBSZXN0b3JlIHNlY3Rpb24gbG9hZGluZyBzdGF0ZXMgYmFzZWQgb24gam9iIGRhdGFcbiAgICAgICAgICBpZiAoam9iLnByb21wdHMpIHtcbiAgICAgICAgICAgIGNvbnN0IGxvYWRpbmdTdGF0ZXMgPSB7XG4gICAgICAgICAgICAgIGZyb250Q292ZXI6ICdsb2FkaW5nJyBhcyBjb25zdCxcbiAgICAgICAgICAgICAgYmFja0NvdmVyOiAnbG9hZGluZycgYXMgY29uc3QsXG4gICAgICAgICAgICAgIGxlZnRJbnRlcmlvcjogam9iLmlzRnJvbnRCYWNrT25seSA/ICdpZGxlJyBhcyBjb25zdCA6ICdsb2FkaW5nJyBhcyBjb25zdCxcbiAgICAgICAgICAgICAgcmlnaHRJbnRlcmlvcjogam9iLmlzRnJvbnRCYWNrT25seSA/ICdpZGxlJyBhcyBjb25zdCA6ICdsb2FkaW5nJyBhcyBjb25zdCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBzZXRTZWN0aW9uTG9hZGluZ1N0YXRlcyhsb2FkaW5nU3RhdGVzKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gSW5pdGlhbGl6ZSBwcm9ncmVzcyAtIHdpbGwgYmUgdXBkYXRlZCBieSB0aW1lclxuICAgICAgICAgIHNldEdlbmVyYXRpb25Qcm9ncmVzcyhcIlJlc3VtaW5nIGNhcmQgZ2VuZXJhdGlvbi4uLlwiKTtcbiAgICAgICAgICBzZXRQcm9ncmVzc1BlcmNlbnRhZ2UoMCk7IC8vIFdpbGwgYmUgY2FsY3VsYXRlZCBieSB0aW1lciBiYXNlZCBvbiBlbGFwc2VkIHRpbWVcbiAgICAgICAgICBcbiAgICAgICAgICB0b2FzdC5pbmZvKFwi8J+UhCBSZXN1bWluZyBjYXJkIGdlbmVyYXRpb24gd2hlcmUgeW91IGxlZnQgb2ZmLi4uXCIpO1xuICAgICAgICAgIHBvbGxKb2JTdGF0dXMoam9iSWQpO1xuICAgICAgICB9XG4gICAgICAgIC8vIElmIHN0aWxsIHByb2Nlc3NpbmcsIGxlYXZlIGl0IGluIHN0b3JhZ2VcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGNoZWNrIHBlbmRpbmcgam9iczonLCBlcnJvcik7XG4gICAgfVxuICB9O1xuXG4gIC8vIFBvbGwgam9iIHN0YXR1cyB3aXRoIGV4cG9uZW50aWFsIGJhY2tvZmZcbiAgY29uc3QgcG9sbEpvYlN0YXR1cyA9IGFzeW5jIChqb2JJZDogc3RyaW5nLCBhdHRlbXB0OiBudW1iZXIgPSAxKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHN0YXR1c1Jlc3BvbnNlID0gYXdhaXQgY2hlY2tKb2JTdGF0dXMoam9iSWQpO1xuICAgICAgXG4gICAgICAvLyBDaGVjayBpZiB0aGlzIGlzIGEgZHJhZnQgam9iXG4gICAgICBjb25zdCBpc0RyYWZ0Sm9iID0gam9iSWQuc3RhcnRzV2l0aCgnZHJhZnQtJyk7XG4gICAgICBjb25zdCBkcmFmdEluZGV4ID0gaXNEcmFmdEpvYiA/IHBhcnNlSW50KGpvYklkLnNwbGl0KCctJylbMV0pIDogLTE7XG4gICAgICBcbiAgICAgIGlmIChzdGF0dXNSZXNwb25zZSAmJiBzdGF0dXNSZXNwb25zZS5zdGF0dXMgPT09ICdjb21wbGV0ZWQnKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCfwn46JIEpvYiBjb21wbGV0ZWQhIENhcmQgZGF0YTonLCBzdGF0dXNSZXNwb25zZS5jYXJkRGF0YSwgJ2lzRHJhZnRKb2I6JywgaXNEcmFmdEpvYik7XG4gICAgICAgIFxuICAgICAgICBpZiAoc3RhdHVzUmVzcG9uc2UuY2FyZERhdGEpIHtcbiAgICAgICAgICBpZiAoaXNEcmFmdEpvYiAmJiBkcmFmdEluZGV4ID49IDApIHtcbiAgICAgICAgICAgIC8vIEhhbmRsZSBkcmFmdCBjYXJkIGNvbXBsZXRpb24gLSBubyBRUiBjb2RlIG5lZWRlZCBmb3IgZHJhZnRzXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhg8J+OqCBEcmFmdCB2YXJpYXRpb24gJHtkcmFmdEluZGV4ICsgMX0gY29tcGxldGVkIWApO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBjb25zdCBkcmFmdENhcmQ6IEdlbmVyYXRlZENhcmQgPSB7XG4gICAgICAgICAgICAgIGlkOiBgZHJhZnQtJHtkcmFmdEluZGV4ICsgMX0tJHtEYXRlLm5vdygpfWAsXG4gICAgICAgICAgICAgIHByb21wdDogc3RhdHVzUmVzcG9uc2UuY2FyZERhdGEucHJvbXB0IHx8IGBEcmFmdCBWYXJpYXRpb24gJHtkcmFmdEluZGV4ICsgMX1gLFxuICAgICAgICAgICAgICBmcm9udENvdmVyOiBzdGF0dXNSZXNwb25zZS5jYXJkRGF0YS5mcm9udENvdmVyIHx8IFwiXCIsXG4gICAgICAgICAgICAgIGJhY2tDb3Zlcjogc3RhdHVzUmVzcG9uc2UuY2FyZERhdGEuYmFja0NvdmVyIHx8IFwiXCIsXG4gICAgICAgICAgICAgIGxlZnRQYWdlOiBzdGF0dXNSZXNwb25zZS5jYXJkRGF0YS5sZWZ0UGFnZSB8fCBcIlwiLFxuICAgICAgICAgICAgICByaWdodFBhZ2U6IHN0YXR1c1Jlc3BvbnNlLmNhcmREYXRhLnJpZ2h0UGFnZSB8fCBcIlwiLFxuICAgICAgICAgICAgICBjcmVhdGVkQXQ6IG5ldyBEYXRlKCksXG4gICAgICAgICAgICAgIGdlbmVyYXRlZFByb21wdHM6IHN0YXR1c1Jlc3BvbnNlLmNhcmREYXRhLmdlbmVyYXRlZFByb21wdHNcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIFVwZGF0ZSBvbmx5IHRoZSBkcmFmdCBjYXJkcyBzdGF0ZVxuICAgICAgICAgICAgc2V0RHJhZnRDYXJkcyhwcmV2ID0+IHtcbiAgICAgICAgICAgICAgY29uc3QgdXBkYXRlZCA9IFsuLi5wcmV2XTtcbiAgICAgICAgICAgICAgdXBkYXRlZFtkcmFmdEluZGV4XSA9IGRyYWZ0Q2FyZDtcbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIC8vIENoZWNrIGlmIGFsbCAxMCB2YXJpYXRpb25zIGFyZSBjb21wbGV0ZVxuICAgICAgICAgICAgICBjb25zdCBjb21wbGV0ZWRDb3VudCA9IHVwZGF0ZWQuZmlsdGVyKGMgPT4gYykubGVuZ3RoO1xuICAgICAgICAgICAgICBjb25zb2xlLmxvZyhg8J+TiiBEcmFmdCBwcm9ncmVzczogJHtjb21wbGV0ZWRDb3VudH0vMTAgdmFyaWF0aW9ucyBjb21wbGV0ZWApO1xuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgaWYgKGNvbXBsZXRlZENvdW50ID09PSAxMCkge1xuICAgICAgICAgICAgICAgIHNldElzR2VuZXJhdGluZyhmYWxzZSk7XG4gICAgICAgICAgICAgICAgc2V0R2VuZXJhdGlvblByb2dyZXNzKFwiXCIpO1xuICAgICAgICAgICAgICAgIHNldFByb2dyZXNzUGVyY2VudGFnZSgxMDApO1xuICAgICAgICAgICAgICAgIHN0b3BFbGFwc2VkVGltZVRyYWNraW5nKCk7XG4gICAgICAgICAgICAgICAgdG9hc3Quc3VjY2VzcyhcIvCfjqggQWxsIDEwIGRlc2lnbiB2YXJpYXRpb25zIHJlYWR5ISBDaG9vc2UgeW91ciBmYXZvcml0ZSBiZWxvdy5cIik7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc2V0R2VuZXJhdGlvblByb2dyZXNzKGDinKggJHtjb21wbGV0ZWRDb3VudH0vMTAgdmFyaWF0aW9ucyBjb21wbGV0ZS4uLmApO1xuICAgICAgICAgICAgICAgIHNldFByb2dyZXNzUGVyY2VudGFnZSgoY29tcGxldGVkQ291bnQgLyAxMCkgKiAxMDApO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICByZXR1cm4gdXBkYXRlZDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICByZW1vdmVKb2JGcm9tU3RvcmFnZShqb2JJZCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIEhhbmRsZSBmaW5hbCBjYXJkIGNvbXBsZXRpb24gLSBhcHBseSBRUiBjb2RlIGFuZCBmdWxsIHByb2Nlc3NpbmdcbiAgICAgICAgICAgIGxldCBjYXJkV2l0aFFSID0geyAuLi5zdGF0dXNSZXNwb25zZS5jYXJkRGF0YSB9O1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBFbnN1cmUgdGhlIGNhcmQgaGFzIGEgdmFsaWQgY3JlYXRlZEF0IGRhdGVcbiAgICAgICAgICAgIGlmICghY2FyZFdpdGhRUi5jcmVhdGVkQXQpIHtcbiAgICAgICAgICAgICAgY2FyZFdpdGhRUi5jcmVhdGVkQXQgPSBuZXcgRGF0ZSgpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgY2FyZFdpdGhRUi5jcmVhdGVkQXQgPT09ICdzdHJpbmcnIHx8IHR5cGVvZiBjYXJkV2l0aFFSLmNyZWF0ZWRBdCA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgY2FyZFdpdGhRUi5jcmVhdGVkQXQgPSBuZXcgRGF0ZShjYXJkV2l0aFFSLmNyZWF0ZWRBdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIEVuc3VyZSB0aGUgY2FyZCBoYXMgYSB2YWxpZCBJRFxuICAgICAgICAgICAgaWYgKCFjYXJkV2l0aFFSLmlkKSB7XG4gICAgICAgICAgICAgIGNhcmRXaXRoUVIuaWQgPSBgY2FyZC0ke0RhdGUubm93KCl9LSR7TWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyKDIsIDkpfWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5SEIEZpbmFsIGNhcmQgZGF0YSBwcmVwYXJlZDonLCBjYXJkV2l0aFFSKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgc2V0R2VuZXJhdGlvblByb2dyZXNzKFwi4pyoIEFkZGluZyBpbnRlcmFjdGl2ZSBRUiBjb2RlIHRvIHlvdXIgY2FyZC4uLlwiKTtcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/CflIQgU3RhcnRpbmcgUVIgb3ZlcmxheSBwcm9jZXNzIGZvciBmaW5hbCBjYXJkJyk7XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAvLyBTdG9yZSBjYXJkIGRhdGEgZmlyc3QgdG8gZ2V0IGEgc2hhcmVhYmxlIFVSTFxuICAgICAgICAgICAgICBpZiAoY2FyZFdpdGhRUi5mcm9udENvdmVyKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IGNhcmRTdG9yZVJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hcGkvY2FyZHMvc3RvcmUnLCB7XG4gICAgICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgICAgICAgICAgIHByb21wdDogY2FyZFdpdGhRUi5wcm9tcHQgfHwgJycsXG4gICAgICAgICAgICAgICAgICAgICAgZnJvbnRDb3ZlcjogY2FyZFdpdGhRUi5mcm9udENvdmVyIHx8ICcnLFxuICAgICAgICAgICAgICAgICAgICAgIGJhY2tDb3ZlcjogY2FyZFdpdGhRUi5iYWNrQ292ZXIgfHwgJycsXG4gICAgICAgICAgICAgICAgICAgICAgbGVmdFBhZ2U6IGNhcmRXaXRoUVIubGVmdFBhZ2UgfHwgJycsXG4gICAgICAgICAgICAgICAgICAgICAgcmlnaHRQYWdlOiBjYXJkV2l0aFFSLnJpZ2h0UGFnZSB8fCAnJyxcbiAgICAgICAgICAgICAgICAgICAgICBnZW5lcmF0ZWRQcm9tcHRzOiBjYXJkV2l0aFFSLmdlbmVyYXRlZFByb21wdHMgfHwgbnVsbFxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgIGlmIChjYXJkU3RvcmVSZXNwb25zZS5vaykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjYXJkU3RvcmVEYXRhID0gYXdhaXQgY2FyZFN0b3JlUmVzcG9uc2UuanNvbigpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBhY3R1YWxTaGFyZVVybCA9IGNhcmRTdG9yZURhdGEuc2hhcmVfdXJsO1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnVXNpbmcgYWN0dWFsIHNoYXJlIFVSTCBmb3IgUVIgY29kZTonLCBhY3R1YWxTaGFyZVVybCk7XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAvLyBBcHBseSBRUiBjb2RlIHRvIGJhY2sgY292ZXIgdXNpbmcgdGhlIEFQSS1yZXR1cm5lZCBVUkxcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNhcmRXaXRoUVIuYmFja0NvdmVyICYmIGFjdHVhbFNoYXJlVXJsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/CflIQgQXBwbHlpbmcgUVIgb3ZlcmxheSB0byBmaW5hbCBjYXJkLi4uJyk7XG4gICAgICAgICAgICAgICAgICAgICAgY29uc3Qgb3JpZ2luYWxCYWNrQ292ZXIgPSBjYXJkV2l0aFFSLmJhY2tDb3ZlcjtcbiAgICAgICAgICAgICAgICAgICAgICBjYXJkV2l0aFFSLmJhY2tDb3ZlciA9IGF3YWl0IG92ZXJsYXlRUkNvZGVPbkltYWdlKG9yaWdpbmFsQmFja0NvdmVyLCBhY3R1YWxTaGFyZVVybCk7XG4gICAgICAgICAgICAgICAgICAgICAgY2FyZFdpdGhRUi5zaGFyZVVybCA9IGFjdHVhbFNoYXJlVXJsO1xuICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfinIUgUVIgb3ZlcmxheSBjb21wbGV0ZSBmb3IgZmluYWwgY2FyZCcpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ0ZhaWxlZCB0byBzdG9yZSBjYXJkIGZvciBzaGFyaW5nLCBjb250aW51aW5nIHdpdGhvdXQgUVIgY29kZScpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgRmFpbGVkIHRvIHN0b3JlIGNhcmQgb3Igb3ZlcmxheSBRUiBjb2RlOicsIGVycm9yKTtcbiAgICAgICAgICAgICAgICAgIC8vIENvbnRpbnVlIHdpdGhvdXQgUVIgY29kZSBpZiB0aGVyZSdzIGFuIGVycm9yXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignTm8gZnJvbnQgY292ZXIgZm91bmQsIHNraXBwaW5nIFFSIGNvZGUgcHJvY2VzcycpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgRXJyb3IgaW4gUVIgY29kZSBwcm9jZXNzOicsIGVycm9yKTtcbiAgICAgICAgICAgICAgLy8gQ29udGludWUgd2l0aG91dCBRUiBjb2RlIGlmIHRoZXJlJ3MgYW4gZXJyb3JcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29uc29sZS5sb2coJ/Cfjq8gU2V0dGluZyBmaW5hbCBjYXJkIHN0YXRlOicsIGNhcmRXaXRoUVIpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBTZXQgdGhlIGNhcmQgc3RhdGVzIC0gdGhpcyBpcyBjcml0aWNhbCFcbiAgICAgICAgICAgIHNldEdlbmVyYXRlZENhcmQoY2FyZFdpdGhRUik7XG4gICAgICAgICAgICBzZXRHZW5lcmF0ZWRDYXJkcyhbY2FyZFdpdGhRUl0pO1xuICAgICAgICAgICAgc2V0U2VsZWN0ZWRDYXJkSW5kZXgoMCk7XG4gICAgICAgICAgICBzZXRJc0NhcmRDb21wbGV0ZWQodHJ1ZSk7XG4gICAgICAgICAgICBzZXRJc0dlbmVyYXRpbmcoZmFsc2UpO1xuICAgICAgICAgICAgc2V0SXNHZW5lcmF0aW5nRmluYWxDYXJkKGZhbHNlKTtcbiAgICAgICAgICAgIHNldElzRHJhZnRNb2RlKGZhbHNlKTtcbiAgICAgICAgICAgIHNldEdlbmVyYXRpb25Qcm9ncmVzcyhcIlwiKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gU2V0IGFsbCBzZWN0aW9ucyBhcyBjb21wbGV0ZWRcbiAgICAgICAgICAgIHNldFNlY3Rpb25Mb2FkaW5nU3RhdGVzKHtcbiAgICAgICAgICAgICAgZnJvbnRDb3ZlcjogJ2NvbXBsZXRlZCcsXG4gICAgICAgICAgICAgIGJhY2tDb3ZlcjogJ2NvbXBsZXRlZCcsXG4gICAgICAgICAgICAgIGxlZnRJbnRlcmlvcjogJ2NvbXBsZXRlZCcsXG4gICAgICAgICAgICAgIHJpZ2h0SW50ZXJpb3I6ICdjb21wbGV0ZWQnLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIENhcHR1cmUgZ2VuZXJhdGlvbiB0aW1lIGZyb20gYmFja2VuZFxuICAgICAgICAgICAgY29uc29sZS5sb2coJ/CflI0gQ2hlY2tpbmcgZm9yIGdlbmVyYXRpb25UaW1lU2Vjb25kczonLCBzdGF0dXNSZXNwb25zZS5jYXJkRGF0YS5nZW5lcmF0aW9uVGltZVNlY29uZHMpO1xuICAgICAgICAgICAgaWYgKHN0YXR1c1Jlc3BvbnNlLmNhcmREYXRhLmdlbmVyYXRpb25UaW1lU2Vjb25kcykge1xuICAgICAgICAgICAgICBjb25zb2xlLmxvZygn4o+x77iPIFNldHRpbmcgZ2VuZXJhdGlvbiBkdXJhdGlvbjonLCBzdGF0dXNSZXNwb25zZS5jYXJkRGF0YS5nZW5lcmF0aW9uVGltZVNlY29uZHMsICdzZWNvbmRzJyk7XG4gICAgICAgICAgICAgIHNldEdlbmVyYXRpb25EdXJhdGlvbihzdGF0dXNSZXNwb25zZS5jYXJkRGF0YS5nZW5lcmF0aW9uVGltZVNlY29uZHMpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+KaoO+4jyBObyBnZW5lcmF0aW9uVGltZVNlY29uZHMgZm91bmQgaW4gY2FyZCBkYXRhJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIFN0b3AgZWxhcHNlZCB0aW1lIHRyYWNraW5nXG4gICAgICAgICAgICBzdG9wRWxhcHNlZFRpbWVUcmFja2luZygpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBTZXQgcHJvZ3Jlc3MgdG8gMTAwJVxuICAgICAgICAgICAgc2V0UHJvZ3Jlc3NQZXJjZW50YWdlKDEwMCk7XG4gICAgICAgICAgICBzZXRHZW5lcmF0aW9uUHJvZ3Jlc3MoXCJDYXJkIGdlbmVyYXRpb24gY29tcGxldGUhXCIpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBGb3JjZSBhIHN0YXRlIHVwZGF0ZSBieSB1cGRhdGluZyBsb2NhbFN0b3JhZ2UgKHdpdGhvdXQgYmFzZTY0IFFSIGNvZGUgdG8gYXZvaWQgcXVvdGEgaXNzdWVzKVxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgLy8gQ3JlYXRlIGEgbGlnaHR3ZWlnaHQgdmVyc2lvbiB3aXRob3V0IGJhc2U2NCBRUiBjb2RlIGZvciBsb2NhbFN0b3JhZ2VcbiAgICAgICAgICAgICAgY29uc3QgY2FyZEZvclN0b3JhZ2UgPSB7IC4uLmNhcmRXaXRoUVIgfTtcbiAgICAgICAgICAgICAgaWYgKGNhcmRGb3JTdG9yYWdlLmJhY2tDb3ZlciAmJiBjYXJkRm9yU3RvcmFnZS5iYWNrQ292ZXIuc3RhcnRzV2l0aCgnZGF0YTppbWFnZS9wbmc7YmFzZTY0LCcpKSB7XG4gICAgICAgICAgICAgICAgLy8gUmVwbGFjZSB0aGUgYmFzZTY0IFFSIGNvZGUgd2l0aCB0aGUgb3JpZ2luYWwgYmFjayBjb3ZlciBVUkwgdG8gc2F2ZSBzcGFjZVxuICAgICAgICAgICAgICAgIGNhcmRGb3JTdG9yYWdlLmJhY2tDb3ZlciA9IHN0YXR1c1Jlc3BvbnNlLmNhcmREYXRhLmJhY2tDb3ZlcjtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn8J+SviBSZXBsYWNlZCBiYXNlNjQgUVIgY29kZSB3aXRoIG9yaWdpbmFsIFVSTCBmb3IgbG9jYWxTdG9yYWdlIHN0b3JhZ2UnKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgY29uc3QgY2FyZHNEYXRhID0ge1xuICAgICAgICAgICAgICAgIGNhcmRzOiBbY2FyZEZvclN0b3JhZ2VdLFxuICAgICAgICAgICAgICAgIHNlbGVjdGVkSW5kZXg6IDAsXG4gICAgICAgICAgICAgICAgZ2VuZXJhdGlvbkR1cmF0aW9uOiBzdGF0dXNSZXNwb25zZS5jYXJkRGF0YS5nZW5lcmF0aW9uVGltZVNlY29uZHMgfHwgbnVsbFxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndmliZWNhcmRpbmctZ2VuZXJhdGVkLWNhcmRzJywgSlNPTi5zdHJpbmdpZnkoY2FyZHNEYXRhKSk7XG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5K+IENhcmQgc2F2ZWQgdG8gbG9jYWxTdG9yYWdlJyk7XG4gICAgICAgICAgICB9IGNhdGNoIChzdG9yYWdlRXJyb3IpIHtcbiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIHNhdmUgdG8gbG9jYWxTdG9yYWdlOicsIHN0b3JhZ2VFcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHRvYXN0LnN1Y2Nlc3MoXCLwn46JIFlvdXIgY2FyZCB3aXRoIFFSIGNvZGUgaXMgcmVhZHkhXCIpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBTZW5kIHRoYW5rIHlvdSBlbWFpbFxuICAgICAgICAgICAgaWYgKHVzZXJFbWFpbC50cmltKCkpIHtcbiAgICAgICAgICAgICAgY29uc3QgY2FyZFR5cGVGb3JFbWFpbCA9IHNlbGVjdGVkVHlwZSA9PT0gXCJjdXN0b21cIiA/IGN1c3RvbUNhcmRUeXBlIDogc2VsZWN0ZWRUeXBlO1xuICAgICAgICAgICAgICBzZW5kVGhhbmtZb3VFbWFpbCh1c2VyRW1haWwsIGNhcmRUeXBlRm9yRW1haWwsIGNhcmRXaXRoUVIuc2hhcmVVcmwgfHwgJ2h0dHBzOi8vdmliZWNhcmRpbmcuY29tJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfinIUgRmluYWwgY2FyZCBjb21wbGV0aW9uIHByb2Nlc3MgZmluaXNoZWQgc3VjY2Vzc2Z1bGx5Jyk7XG4gICAgICAgICAgICByZW1vdmVKb2JGcm9tU3RvcmFnZShqb2JJZCk7XG4gICAgICAgICAgICBzZXRDdXJyZW50Sm9iSWQobnVsbCk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBObyBjYXJkIGRhdGEgaW4gY29tcGxldGVkIHJlc3BvbnNlJyk7XG4gICAgICAgICAgdG9hc3QuZXJyb3IoXCLinYwgQ2FyZCBnZW5lcmF0aW9uIGNvbXBsZXRlZCBidXQgbm8gZGF0YSByZWNlaXZlZC4gUGxlYXNlIHRyeSBhZ2Fpbi5cIik7XG4gICAgICAgICAgcmVtb3ZlSm9iRnJvbVN0b3JhZ2Uoam9iSWQpO1xuICAgICAgICAgIGlmICghaXNEcmFmdEpvYikge1xuICAgICAgICAgICAgc2V0Q3VycmVudEpvYklkKG51bGwpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChzdGF0dXNSZXNwb25zZSAmJiBzdGF0dXNSZXNwb25zZS5zdGF0dXMgPT09ICdmYWlsZWQnKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBKb2IgZmFpbGVkOicsIHN0YXR1c1Jlc3BvbnNlKTtcbiAgICAgICAgXG4gICAgICAgIGlmIChpc0RyYWZ0Sm9iICYmIGRyYWZ0SW5kZXggPj0gMCkge1xuICAgICAgICAgIHRvYXN0LmVycm9yKGBEcmFmdCB2YXJpYXRpb24gJHtkcmFmdEluZGV4ICsgMX0gZmFpbGVkLiBDb250aW51aW5nIHdpdGggb3RoZXJzLi4uYCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdG9hc3QuZXJyb3IoXCLinYwgQ2FyZCBnZW5lcmF0aW9uIGZhaWxlZC4gUGxlYXNlIHRyeSBhZ2Fpbi5cIik7XG4gICAgICAgICAgc2V0SXNHZW5lcmF0aW5nKGZhbHNlKTtcbiAgICAgICAgICBzZXRJc0dlbmVyYXRpbmdGaW5hbENhcmQoZmFsc2UpO1xuICAgICAgICAgIHN0b3BFbGFwc2VkVGltZVRyYWNraW5nKCk7XG4gICAgICAgICAgc2V0R2VuZXJhdGlvblByb2dyZXNzKFwiXCIpO1xuICAgICAgICAgIHNldFByb2dyZXNzUGVyY2VudGFnZSgwKTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBTZXQgYWxsIHNlY3Rpb25zIGFzIGVycm9yXG4gICAgICAgICAgc2V0U2VjdGlvbkxvYWRpbmdTdGF0ZXMoe1xuICAgICAgICAgICAgZnJvbnRDb3ZlcjogJ2Vycm9yJyxcbiAgICAgICAgICAgIGJhY2tDb3ZlcjogJ2Vycm9yJyxcbiAgICAgICAgICAgIGxlZnRJbnRlcmlvcjogJ2Vycm9yJyxcbiAgICAgICAgICAgIHJpZ2h0SW50ZXJpb3I6ICdlcnJvcicsXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgc2V0Q3VycmVudEpvYklkKG51bGwpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICByZW1vdmVKb2JGcm9tU3RvcmFnZShqb2JJZCk7XG4gICAgICB9IGVsc2UgaWYgKHN0YXR1c1Jlc3BvbnNlICYmIHN0YXR1c1Jlc3BvbnNlLnN0YXR1cyA9PT0gJ3Byb2Nlc3NpbmcnKSB7XG4gICAgICAgIC8vIENvbnRpbnVlIHBvbGxpbmcgZXZlcnkgMyBzZWNvbmRzIC0gbmVhciByZWFsLXRpbWUgdXBkYXRlcyBmb3IgYmV0dGVyIFVYXG4gICAgICAgIGNvbnNvbGUubG9nKGDwn5SEIEpvYiBzdGlsbCBwcm9jZXNzaW5nIChhdHRlbXB0ICR7YXR0ZW1wdH0pLCBwb2xsaW5nIGFnYWluLi4uYCk7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4gcG9sbEpvYlN0YXR1cyhqb2JJZCwgYXR0ZW1wdCArIDEpLCAzMDAwKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnNvbGUud2Fybign4pqg77iPIFVuZXhwZWN0ZWQgc3RhdHVzIHJlc3BvbnNlOicsIHN0YXR1c1Jlc3BvbnNlKTtcbiAgICAgICAgLy8gQ29udGludWUgcG9sbGluZyBpbiBjYXNlIGl0J3MgYSB0ZW1wb3JhcnkgaXNzdWVcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiBwb2xsSm9iU3RhdHVzKGpvYklkLCBhdHRlbXB0ICsgMSksIDUwMDApO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gcG9sbCBqb2Igc3RhdHVzOicsIGVycm9yKTtcbiAgICAgIC8vIFJldHJ5IGFmdGVyIGRlbGF5IHdpdGggZXhwb25lbnRpYWwgYmFja29mZlxuICAgICAgY29uc3QgZGVsYXkgPSBNYXRoLm1pbigxMDAwMCwgMzAwMCAqIE1hdGgucG93KDEuNSwgTWF0aC5taW4oYXR0ZW1wdCAtIDEsIDUpKSk7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHBvbGxKb2JTdGF0dXMoam9iSWQsIGF0dGVtcHQgKyAxKSwgZGVsYXkpO1xuICAgIH1cbiAgfTtcblxuICAvLyBGdW5jdGlvbiB0byBvdmVybGF5IFFSIGNvZGUgb24gYmFjayBjb3ZlciBpbWFnZVxuICBjb25zdCBvdmVybGF5UVJDb2RlT25JbWFnZSA9IGFzeW5jIChpbWFnZVVybDogc3RyaW5nLCBjYXJkVXJsOiBzdHJpbmcsIGxvZ29Vcmw/OiBzdHJpbmcpOiBQcm9taXNlPHN0cmluZz4gPT4ge1xuICAgIGNvbnNvbGUubG9nKCfwn5SnIFN0YXJ0aW5nIFFSIG92ZXJsYXkgZm9yOicsIGNhcmRVcmwpO1xuICAgIHRyeSB7XG4gICAgICAvLyBHZXQgdGhlIG1vc3QgcmVjZW50IHNhdmVkIGxvZ28gaWYgbm8gc3BlY2lmaWMgbG9nbyBwcm92aWRlZFxuICAgICAgbGV0IHFyTG9nb1VybCA9IGxvZ29Vcmw7XG4gICAgICBpZiAoIXFyTG9nb1VybCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IGxvZ29SZXNwb25zZSA9IGF3YWl0IGZldGNoKCcvYXBpL2xvZ29zJyk7XG4gICAgICAgICAgaWYgKGxvZ29SZXNwb25zZS5vaykge1xuICAgICAgICAgICAgY29uc3QgbG9nb0RhdGEgPSBhd2FpdCBsb2dvUmVzcG9uc2UuanNvbigpO1xuICAgICAgICAgICAgaWYgKGxvZ29EYXRhLnN0YXR1cyA9PT0gJ3N1Y2Nlc3MnICYmIGxvZ29EYXRhLmxvZ29zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgLy8gVXNlIHRoZSBtb3N0IHJlY2VudCBsb2dvXG4gICAgICAgICAgICAgIHFyTG9nb1VybCA9IGxvZ29EYXRhLmxvZ29zWzBdLnVybDtcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/CfjqggVXNpbmcgc2F2ZWQgbG9nbyBmb3IgUVIgY29kZTonLCBxckxvZ29VcmwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAobG9nb0Vycm9yKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ05vIHNhdmVkIGxvZ29zIGF2YWlsYWJsZSwgZ2VuZXJhdGluZyBRUiB3aXRob3V0IGxvZ28nKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBHZW5lcmF0ZSBRUiBjb2RlIGFzIGRhdGEgVVJMIHdpdGggb3B0aW9uYWwgbG9nb1xuICAgICAgY29uc29sZS5sb2coJ/Cfk7EgR2VuZXJhdGluZyBRUiBjb2RlLi4uJyk7XG4gICAgICBsZXQgcXJDb2RlRGF0YVVybDtcbiAgICAgIFxuICAgICAgaWYgKHFyTG9nb1VybCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIC8vIEdlbmVyYXRlIFFSIHdpdGggbG9nbyB1c2luZyB0aGUgc2VydmVyIGVuZHBvaW50XG4gICAgICAgICAgY29uc3QgcXJSZXNwb25zZSA9IGF3YWl0IGZldGNoKCcvYXBpL2dlbmVyYXRlLXFyLXdpdGgtbG9nbycsIHtcbiAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICAgIHVybDogY2FyZFVybCxcbiAgICAgICAgICAgICAgbG9nb191cmw6IHFyTG9nb1VybCxcbiAgICAgICAgICAgICAgc2l6ZTogMTYwLFxuICAgICAgICAgICAgICBzZWFtbGVzczogdHJ1ZVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBcbiAgICAgICAgICBpZiAocXJSZXNwb25zZS5vaykge1xuICAgICAgICAgICAgY29uc3QgcXJEYXRhID0gYXdhaXQgcXJSZXNwb25zZS5qc29uKCk7XG4gICAgICAgICAgICBpZiAocXJEYXRhLnN0YXR1cyA9PT0gJ3N1Y2Nlc3MnKSB7XG4gICAgICAgICAgICAgIHFyQ29kZURhdGFVcmwgPSBxckRhdGEucXJfY29kZTtcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+KchSBRUiBjb2RlIHdpdGggbG9nbyBnZW5lcmF0ZWQgc3VjY2Vzc2Z1bGx5Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChsb2dvUXJFcnJvcikge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdGYWlsZWQgdG8gZ2VuZXJhdGUgUVIgd2l0aCBsb2dvLCBmYWxsaW5nIGJhY2sgdG8gc2ltcGxlIFFSOicsIGxvZ29RckVycm9yKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBGYWxsYmFjayB0byBzaW1wbGUgUVIgY29kZSBpZiBsb2dvIGdlbmVyYXRpb24gZmFpbGVkXG4gICAgICBpZiAoIXFyQ29kZURhdGFVcmwpIHtcbiAgICAgICAgcXJDb2RlRGF0YVVybCA9IGF3YWl0IFFSQ29kZS50b0RhdGFVUkwoY2FyZFVybCwge1xuICAgICAgICAgIHdpZHRoOiAxNjAsIC8vIFNpemUgaW4gcGl4ZWxzIChyb3VnaGx5IDEuMyBpbmNoZXMgYXQgMTIwIERQSSlcbiAgICAgICAgICBtYXJnaW46IDEsXG4gICAgICAgICAgY29sb3I6IHtcbiAgICAgICAgICAgIGRhcms6ICcjMDAwMDAwJyxcbiAgICAgICAgICAgIGxpZ2h0OiAnI0ZGRkZGRidcbiAgICAgICAgICB9LFxuICAgICAgICAgIGVycm9yQ29ycmVjdGlvbkxldmVsOiAnTSdcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnNvbGUubG9nKCfinIUgU2ltcGxlIFFSIGNvZGUgZ2VuZXJhdGVkIHN1Y2Nlc3NmdWxseScpO1xuICAgICAgfVxuXG4gICAgICAvLyBDcmVhdGUgY2FudmFzIHRvIGNvbXBvc2l0ZSB0aGUgaW1hZ2VzXG4gICAgICBjb25zdCBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICAgIGNvbnN0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgICAgaWYgKCFjdHgpIHRocm93IG5ldyBFcnJvcignRmFpbGVkIHRvIGdldCBjYW52YXMgY29udGV4dCcpO1xuXG4gICAgICAvLyBMb2FkIHRoZSBiYWNrIGNvdmVyIGltYWdlXG4gICAgICBjb25zdCBiYWNrQ292ZXJJbWcgPSBuZXcgSW1hZ2UoKTtcbiAgICAgIC8vIFRyeSB3aXRob3V0IGNyb3NzT3JpZ2luIGZpcnN0IHRvIGF2b2lkIENPUlMgaXNzdWVzXG4gICAgICAvLyBiYWNrQ292ZXJJbWcuY3Jvc3NPcmlnaW4gPSAnYW5vbnltb3VzJztcbiAgICAgIFxuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgYmFja0NvdmVySW1nLm9ubG9hZCA9ICgpID0+IHtcbiAgICAgICAgICBjb25zb2xlLmxvZygn8J+WvO+4jyBCYWNrIGNvdmVyIGltYWdlIGxvYWRlZCwgc2l6ZTonLCBiYWNrQ292ZXJJbWcud2lkdGgsICd4JywgYmFja0NvdmVySW1nLmhlaWdodCk7XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gU2V0IGNhbnZhcyBzaXplIHRvIG1hdGNoIHRoZSBpbWFnZVxuICAgICAgICAgIGNhbnZhcy53aWR0aCA9IGJhY2tDb3ZlckltZy53aWR0aDtcbiAgICAgICAgICBjYW52YXMuaGVpZ2h0ID0gYmFja0NvdmVySW1nLmhlaWdodDtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBEcmF3IHRoZSBiYWNrIGNvdmVyIGltYWdlXG4gICAgICAgICAgY3R4LmRyYXdJbWFnZShiYWNrQ292ZXJJbWcsIDAsIDApO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIExvYWQgYW5kIGRyYXcgdGhlIFFSIGNvZGVcbiAgICAgICAgICBjb25zdCBxckltZyA9IG5ldyBJbWFnZSgpO1xuICAgICAgICAgIHFySW1nLm9ubG9hZCA9ICgpID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5OxIFFSIGNvZGUgaW1hZ2UgbG9hZGVkLCBvdmVybGF5aW5nLi4uJyk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIFBvc2l0aW9uIFFSIGNvZGUgaW4gYm90dG9tIHJpZ2h0IGNvcm5lciB3aXRoIHNvbWUgcGFkZGluZ1xuICAgICAgICAgICAgY29uc3QgcXJTaXplID0gMTYwOyAvLyBTaXplIG9mIFFSIGNvZGVcbiAgICAgICAgICAgIGNvbnN0IHBhZGRpbmcgPSA0MDsgLy8gUGFkZGluZyBmcm9tIGVkZ2VzXG4gICAgICAgICAgICBjb25zdCB4ID0gY2FudmFzLndpZHRoIC0gcXJTaXplIC0gcGFkZGluZztcbiAgICAgICAgICAgIGNvbnN0IHkgPSBjYW52YXMuaGVpZ2h0IC0gcXJTaXplIC0gcGFkZGluZyAtIDMwOyAvLyBFeHRyYSBzcGFjZSBmb3IgdGV4dFxuICAgICAgICAgICAgXG4gICAgICAgICAgICBjb25zb2xlLmxvZygn8J+TjSBRUiBwb3NpdGlvbjonLCB4LCB5LCAnb24gY2FudmFzOicsIGNhbnZhcy53aWR0aCwgJ3gnLCBjYW52YXMuaGVpZ2h0KTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gQ3V0IG91dCBhIGNsZWFuIHNlY3Rpb24gZm9yIHRoZSBRUiBjb2RlIHdpdGggcm91bmRlZCBjb3JuZXJzXG4gICAgICAgICAgICBjb25zdCBjdXRvdXRQYWRkaW5nID0gMTI7XG4gICAgICAgICAgICBjb25zdCBjdXRvdXRYID0geCAtIGN1dG91dFBhZGRpbmc7XG4gICAgICAgICAgICBjb25zdCBjdXRvdXRZID0geSAtIGN1dG91dFBhZGRpbmc7XG4gICAgICAgICAgICBjb25zdCBjdXRvdXRXaWR0aCA9IHFyU2l6ZSArIChjdXRvdXRQYWRkaW5nICogMik7XG4gICAgICAgICAgICBjb25zdCBjdXRvdXRIZWlnaHQgPSBxclNpemUgKyAoY3V0b3V0UGFkZGluZyAqIDIpICsgMjU7IC8vIEV4dHJhIGhlaWdodCBmb3IgdGV4dFxuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBDcmVhdGUgcm91bmRlZCByZWN0YW5nbGUgY3V0b3V0XG4gICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gJyNGRkZGRkYnO1xuICAgICAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgICAgICAgY3R4LnJvdW5kUmVjdChjdXRvdXRYLCBjdXRvdXRZLCBjdXRvdXRXaWR0aCwgY3V0b3V0SGVpZ2h0LCA4KTtcbiAgICAgICAgICAgIGN0eC5maWxsKCk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIEFkZCBzdWJ0bGUgYm9yZGVyXG4gICAgICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSAncmdiYSgwLCAwLCAwLCAwLjEpJztcbiAgICAgICAgICAgIGN0eC5saW5lV2lkdGggPSAxO1xuICAgICAgICAgICAgY3R4LnN0cm9rZSgpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBEcmF3IHRoZSBRUiBjb2RlXG4gICAgICAgICAgICBjdHguZHJhd0ltYWdlKHFySW1nLCB4LCB5LCBxclNpemUsIHFyU2l6ZSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIEFkZCBcIlNjYW4gbWUgOilcIiB0ZXh0XG4gICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gJyM2NjY2NjYnO1xuICAgICAgICAgICAgY3R4LmZvbnQgPSAnMThweCBzeXN0ZW0tdWksIC1hcHBsZS1zeXN0ZW0sIHNhbnMtc2VyaWYnO1xuICAgICAgICAgICAgY3R4LnRleHRBbGlnbiA9ICdjZW50ZXInO1xuICAgICAgICAgICAgY29uc3QgdGV4dFggPSB4ICsgcXJTaXplIC8gMjtcbiAgICAgICAgICAgIGNvbnN0IHRleHRZID0geSArIHFyU2l6ZSArIDE4O1xuICAgICAgICAgICAgY3R4LmZpbGxUZXh0KCdTY2FuIG1lIDopJywgdGV4dFgsIHRleHRZKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gQ29udmVydCBjYW52YXMgdG8gZGF0YSBVUkwgYW5kIHJlc29sdmVcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGNhbnZhcy50b0RhdGFVUkwoJ2ltYWdlL3BuZycsIDAuOSk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygn4pyFIFFSIG92ZXJsYXkgY29tcGxldGUsIHJlc3VsdCBsZW5ndGg6JywgcmVzdWx0Lmxlbmd0aCk7XG4gICAgICAgICAgICByZXNvbHZlKHJlc3VsdCk7XG4gICAgICAgICAgfTtcbiAgICAgICAgICBxckltZy5vbmVycm9yID0gKGVycm9yKSA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgRmFpbGVkIHRvIGxvYWQgUVIgY29kZSBpbWFnZTonLCBlcnJvcik7XG4gICAgICAgICAgICByZWplY3QobmV3IEVycm9yKCdGYWlsZWQgdG8gbG9hZCBRUiBjb2RlJykpO1xuICAgICAgICAgIH07XG4gICAgICAgICAgcXJJbWcuc3JjID0gcXJDb2RlRGF0YVVybDtcbiAgICAgICAgfTtcbiAgICAgICAgYmFja0NvdmVySW1nLm9uZXJyb3IgPSAoZXJyb3IpID0+IHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgRmFpbGVkIHRvIGxvYWQgYmFjayBjb3ZlciBpbWFnZTonLCBlcnJvcik7XG4gICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcignRmFpbGVkIHRvIGxvYWQgYmFjayBjb3ZlciBpbWFnZScpKTtcbiAgICAgICAgfTtcbiAgICAgICAgYmFja0NvdmVySW1nLnNyYyA9IGltYWdlVXJsO1xuICAgICAgfSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBFcnJvciBvdmVybGF5aW5nIFFSIGNvZGU6JywgZXJyb3IpO1xuICAgICAgLy8gUmV0dXJuIG9yaWdpbmFsIGltYWdlIGlmIFFSIG92ZXJsYXkgZmFpbHNcbiAgICAgIHJldHVybiBpbWFnZVVybDtcbiAgICB9XG4gIH07XG5cbiAgLy8gVXBsb2FkIHN0YXRlXG4gIGNvbnN0IFtoYW5kd3JpdGluZ1NhbXBsZSwgc2V0SGFuZHdyaXRpbmdTYW1wbGVdID0gdXNlU3RhdGU8RmlsZSB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbaGFuZHdyaXRpbmdTYW1wbGVVcmwsIHNldEhhbmR3cml0aW5nU2FtcGxlVXJsXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbcmVmZXJlbmNlSW1hZ2VzLCBzZXRSZWZlcmVuY2VJbWFnZXNdID0gdXNlU3RhdGU8RmlsZVtdPihbXSk7XG4gIGNvbnN0IFtyZWZlcmVuY2VJbWFnZVVybHMsIHNldFJlZmVyZW5jZUltYWdlVXJsc10gPSB1c2VTdGF0ZTxzdHJpbmdbXT4oW10pO1xuICBjb25zdCBbaW1hZ2VUcmFuc2Zvcm1hdGlvbiwgc2V0SW1hZ2VUcmFuc2Zvcm1hdGlvbl0gPSB1c2VTdGF0ZTxzdHJpbmc+KFwiXCIpO1xuICBjb25zdCBbaXNVcGxvYWRpbmcsIHNldElzVXBsb2FkaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcblxuICAvLyBFbWFpbCBzdGF0ZVxuICBjb25zdCBbdXNlckVtYWlsLCBzZXRVc2VyRW1haWxdID0gdXNlU3RhdGU8c3RyaW5nPihcIlwiKTtcbiAgXG4gIC8vIENhcmQgSUQgZm9yIFVSTCBnZW5lcmF0aW9uIChnZW5lcmF0ZWQgb25jZSBwZXIgY2FyZCBjcmVhdGlvbilcbiAgY29uc3QgW2N1cnJlbnRDYXJkSWQsIHNldEN1cnJlbnRDYXJkSWRdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG5cbiAgLy8gTmV3IG9wdGlvbnMgZm9yIGhhbmR3cml0dGVuIG1lc3NhZ2VzIGFuZCBzaW5nbGUtc2lkZWQgcHJpbnRpbmdcbiAgY29uc3QgW2lzSGFuZHdyaXR0ZW5NZXNzYWdlLCBzZXRJc0hhbmR3cml0dGVuTWVzc2FnZV0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtpc0Zyb250QmFja09ubHksIHNldElzRnJvbnRCYWNrT25seV0gPSB1c2VTdGF0ZShmYWxzZSk7XG5cbiAgLy8gUGFwZXIgc2l6ZSBvcHRpb25zXG4gIGNvbnN0IFtzZWxlY3RlZFBhcGVyU2l6ZSwgc2V0U2VsZWN0ZWRQYXBlclNpemVdID0gdXNlU3RhdGU8c3RyaW5nPihcInN0YW5kYXJkXCIpO1xuXG4gIC8vIExvYWRpbmcgc3RhdGVzIGZvciBlYWNoIGNhcmQgc2VjdGlvblxuICBjb25zdCBbc2VjdGlvbkxvYWRpbmdTdGF0ZXMsIHNldFNlY3Rpb25Mb2FkaW5nU3RhdGVzXSA9IHVzZVN0YXRlPHtcbiAgICBmcm9udENvdmVyOiAnaWRsZScgfCAnbG9hZGluZycgfCAnY29tcGxldGVkJyB8ICdlcnJvcic7XG4gICAgYmFja0NvdmVyOiAnaWRsZScgfCAnbG9hZGluZycgfCAnY29tcGxldGVkJyB8ICdlcnJvcic7XG4gICAgbGVmdEludGVyaW9yOiAnaWRsZScgfCAnbG9hZGluZycgfCAnY29tcGxldGVkJyB8ICdlcnJvcic7XG4gICAgcmlnaHRJbnRlcmlvcjogJ2lkbGUnIHwgJ2xvYWRpbmcnIHwgJ2NvbXBsZXRlZCcgfCAnZXJyb3InO1xuICB9Pih7XG4gICAgZnJvbnRDb3ZlcjogJ2lkbGUnLFxuICAgIGJhY2tDb3ZlcjogJ2lkbGUnLFxuICAgIGxlZnRJbnRlcmlvcjogJ2lkbGUnLFxuICAgIHJpZ2h0SW50ZXJpb3I6ICdpZGxlJyxcbiAgfSk7XG5cbiAgLy8gQ2xlYW4gcHJvZ3Jlc3MgdHJhY2tpbmdcbiAgY29uc3QgW3Byb2dyZXNzUGVyY2VudGFnZSwgc2V0UHJvZ3Jlc3NQZXJjZW50YWdlXSA9IHVzZVN0YXRlPG51bWJlcj4oMCk7XG5cbiAgLy8gQ2xlYW51cCBjb3VudGRvd24gaW50ZXJ2YWwgb24gdW5tb3VudFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBpZiAoY291bnRkb3duSW50ZXJ2YWwpIHtcbiAgICAgICAgY2xlYXJJbnRlcnZhbChjb3VudGRvd25JbnRlcnZhbCk7XG4gICAgICB9XG4gICAgfTtcbiAgfSwgW2NvdW50ZG93bkludGVydmFsXSk7XG5cbiAgLy8gVHJhY2sgaWYgaW5pdGlhbCBsb2FkIGlzIGNvbXBsZXRlXG4gIGNvbnN0IFtpc0luaXRpYWxMb2FkQ29tcGxldGUsIHNldElzSW5pdGlhbExvYWRDb21wbGV0ZV0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIFxuICAvLyBUZXh0YXJlYSBleHBhbmQgc3RhdGVcbiAgY29uc3QgW2lzVGV4dGFyZWFFeHBhbmRlZCwgc2V0SXNUZXh0YXJlYUV4cGFuZGVkXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2lzTWVzc2FnZUV4cGFuZGVkLCBzZXRJc01lc3NhZ2VFeHBhbmRlZF0gPSB1c2VTdGF0ZShmYWxzZSk7XG5cbiAgLy8gTWVzc2FnZSB2ZXJzaW9uIGNvbnRyb2wgYW5kIHJlZmluZW1lbnRcbiAgY29uc3QgW21lc3NhZ2VIaXN0b3J5LCBzZXRNZXNzYWdlSGlzdG9yeV0gPSB1c2VTdGF0ZTxzdHJpbmdbXT4oW10pO1xuICBjb25zdCBbY3VycmVudE1lc3NhZ2VJbmRleCwgc2V0Q3VycmVudE1lc3NhZ2VJbmRleF0gPSB1c2VTdGF0ZSgtMSk7XG4gIGNvbnN0IFtyZWZpbmVtZW50UHJvbXB0LCBzZXRSZWZpbmVtZW50UHJvbXB0XSA9IHVzZVN0YXRlKFwiXCIpO1xuICBjb25zdCBbaXNSZWZpbmluZ01lc3NhZ2UsIHNldElzUmVmaW5pbmdNZXNzYWdlXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3Nob3dSZWZpbmVtZW50Qm94LCBzZXRTaG93UmVmaW5lbWVudEJveF0gPSB1c2VTdGF0ZShmYWxzZSk7XG5cbiAgLy8gU2V0dGluZ3MgbWVudSBzdGF0ZVxuICBjb25zdCBbc2hvd1NldHRpbmdzLCBzZXRTaG93U2V0dGluZ3NdID0gdXNlU3RhdGUoZmFsc2UpO1xuXG4gIC8vIFRlbXBsYXRlIHNlbGVjdGlvbiBzdGF0ZVxuICBjb25zdCBbc2hvd1RlbXBsYXRlR2FsbGVyeSwgc2V0U2hvd1RlbXBsYXRlR2FsbGVyeV0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFt0ZW1wbGF0ZVNlYXJjaFF1ZXJ5LCBzZXRUZW1wbGF0ZVNlYXJjaFF1ZXJ5XSA9IHVzZVN0YXRlKFwiXCIpO1xuICBjb25zdCBbaXNTZWFyY2hpbmdUZW1wbGF0ZXMsIHNldElzU2VhcmNoaW5nVGVtcGxhdGVzXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2FpRmlsdGVyZWRDYXJkcywgc2V0QWlGaWx0ZXJlZENhcmRzXSA9IHVzZVN0YXRlPGFueVtdPihbXSk7XG4gIGNvbnN0IFtzZWFyY2hNb2RlLCBzZXRTZWFyY2hNb2RlXSA9IHVzZVN0YXRlPCd0ZXh0JyB8ICdhaScgfCAnaHlicmlkJz4oJ3RleHQnKTtcbiAgY29uc3QgW3RleHRGaWx0ZXJlZENhcmRzLCBzZXRUZXh0RmlsdGVyZWRDYXJkc10gPSB1c2VTdGF0ZTxhbnlbXT4oW10pO1xuICBjb25zdCBbc2hvd1Byb21wdHMsIHNldFNob3dQcm9tcHRzXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgXG4gIC8vIFByaW50IG9wdGlvbnMgc3RhdGVcbiAgY29uc3QgW3ByaW50T3B0aW9uLCBzZXRQcmludE9wdGlvbl0gPSB1c2VTdGF0ZTwncGh5c2ljYWwnIHwgJ2VtYWlsJz4oJ3BoeXNpY2FsJyk7XG4gIFxuICAvLyBQcmVsb2FkIHRlbXBsYXRlIGNhcmRzIGZvciBpbnN0YW50IGFjY2Vzc1xuICBjb25zdCB7IHByZWxvYWRBbGxDYXJkcywgZ2V0Q2FjaGVkQ2FyZHMsIHRvdGFsQ2FyZHMgfSA9IHVzZUNhcmRDYWNoZSgpO1xuXG4gIC8vIFByaW50IGNvbmZpcm1hdGlvbiBkaWFsb2cgc3RhdGVcbiAgY29uc3QgW3Nob3dQcmludENvbmZpcm1hdGlvbiwgc2V0U2hvd1ByaW50Q29uZmlybWF0aW9uXSA9IHVzZVN0YXRlKGZhbHNlKTtcblxuICAvLyBHZW5lcmF0aW9uIHRpbWUgdHJhY2tpbmdcbiAgY29uc3QgW2dlbmVyYXRpb25EdXJhdGlvbiwgc2V0R2VuZXJhdGlvbkR1cmF0aW9uXSA9IHVzZVN0YXRlPG51bWJlciB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbZ2VuZXJhdGlvblN0YXJ0VGltZSwgc2V0R2VuZXJhdGlvblN0YXJ0VGltZV0gPSB1c2VTdGF0ZTxudW1iZXIgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW2N1cnJlbnRFbGFwc2VkVGltZSwgc2V0Q3VycmVudEVsYXBzZWRUaW1lXSA9IHVzZVN0YXRlPG51bWJlcj4oMCk7XG4gIGNvbnN0IFtlbGFwc2VkVGltZUludGVydmFsLCBzZXRFbGFwc2VkVGltZUludGVydmFsXSA9IHVzZVN0YXRlPE5vZGVKUy5UaW1lb3V0IHwgbnVsbD4obnVsbCk7XG5cbiAgLy8gSGVscGVyIGZ1bmN0aW9uIHRvIGZvcm1hdCBnZW5lcmF0aW9uIHRpbWVcbiAgY29uc3QgZm9ybWF0R2VuZXJhdGlvblRpbWUgPSAoZHVyYXRpb25TZWNvbmRzOiBudW1iZXIpID0+IHtcbiAgICBjb25zdCBtaW51dGVzID0gTWF0aC5mbG9vcihkdXJhdGlvblNlY29uZHMgLyA2MCk7XG4gICAgY29uc3Qgc2Vjb25kcyA9IE1hdGguZmxvb3IoZHVyYXRpb25TZWNvbmRzICUgNjApO1xuICAgIFxuICAgIGlmIChtaW51dGVzID4gMCkge1xuICAgICAgcmV0dXJuIGAke21pbnV0ZXN9bSAke3NlY29uZHN9c2A7XG4gICAgfVxuICAgIHJldHVybiBgJHtzZWNvbmRzfXNgO1xuICB9O1xuXG4gIC8vIFN0YXJ0IGVsYXBzZWQgdGltZSB0cmFja2luZ1xuICBjb25zdCBzdGFydEVsYXBzZWRUaW1lVHJhY2tpbmcgPSAoc3RhcnRUaW1lPzogbnVtYmVyKSA9PiB7XG4gICAgY29uc3Qgc3RhcnQgPSBzdGFydFRpbWUgfHwgRGF0ZS5ub3coKTtcbiAgICBzZXRHZW5lcmF0aW9uU3RhcnRUaW1lKHN0YXJ0KTtcbiAgICBcbiAgICAvLyBTYXZlIHN0YXJ0IHRpbWUgdG8gbG9jYWxTdG9yYWdlIGZvciBwZXJzaXN0ZW5jZVxuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdnZW5lcmF0aW9uLXN0YXJ0LXRpbWUnLCBzdGFydC50b1N0cmluZygpKTtcbiAgICBcbiAgICAvLyBDbGVhciBhbnkgZXhpc3RpbmcgaW50ZXJ2YWxcbiAgICBpZiAoZWxhcHNlZFRpbWVJbnRlcnZhbCkge1xuICAgICAgY2xlYXJJbnRlcnZhbChlbGFwc2VkVGltZUludGVydmFsKTtcbiAgICB9XG4gICAgXG4gICAgLy8gU3RhcnQgbmV3IGludGVydmFsIHRvIHVwZGF0ZSBlbGFwc2VkIHRpbWUgYW5kIHByb2dyZXNzIGV2ZXJ5IHNlY29uZFxuICAgIGNvbnN0IGludGVydmFsID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgY29uc3QgZWxhcHNlZCA9IChEYXRlLm5vdygpIC0gc3RhcnQpIC8gMTAwMDsgLy8gQ29udmVydCB0byBzZWNvbmRzXG4gICAgICBzZXRDdXJyZW50RWxhcHNlZFRpbWUoZWxhcHNlZCk7XG4gICAgICBcbiAgICAgIC8vIFNtb290aCBwcm9ncmVzczogZXN0aW1hdGUgMTUwIHNlY29uZHMgKDIuNSBtaW51dGVzKSB0b3RhbFxuICAgICAgY29uc3QgZXN0aW1hdGVkVG90YWwgPSAxNTA7XG4gICAgICBjb25zdCBwZXJjZW50YWdlID0gTWF0aC5taW4oKGVsYXBzZWQgLyBlc3RpbWF0ZWRUb3RhbCkgKiAxMDAsIDk1KTsgLy8gQ2FwIGF0IDk1JSB1bnRpbCBjb21wbGV0aW9uXG4gICAgICBzZXRQcm9ncmVzc1BlcmNlbnRhZ2UocGVyY2VudGFnZSk7XG4gICAgfSwgMTAwMCk7XG4gICAgXG4gICAgc2V0RWxhcHNlZFRpbWVJbnRlcnZhbChpbnRlcnZhbCk7XG4gIH07XG5cbiAgLy8gU3RvcCBlbGFwc2VkIHRpbWUgdHJhY2tpbmdcbiAgY29uc3Qgc3RvcEVsYXBzZWRUaW1lVHJhY2tpbmcgPSAoKSA9PiB7XG4gICAgaWYgKGVsYXBzZWRUaW1lSW50ZXJ2YWwpIHtcbiAgICAgIGNsZWFySW50ZXJ2YWwoZWxhcHNlZFRpbWVJbnRlcnZhbCk7XG4gICAgICBzZXRFbGFwc2VkVGltZUludGVydmFsKG51bGwpO1xuICAgIH1cbiAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgnZ2VuZXJhdGlvbi1zdGFydC10aW1lJyk7XG4gIH07XG5cbiAgLy8gUmVzdG9yZSBlbGFwc2VkIHRpbWUgdHJhY2tpbmcgZnJvbSBsb2NhbFN0b3JhZ2VcbiAgY29uc3QgcmVzdG9yZUVsYXBzZWRUaW1lVHJhY2tpbmcgPSAoKSA9PiB7XG4gICAgY29uc3Qgc2F2ZWRTdGFydFRpbWUgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZ2VuZXJhdGlvbi1zdGFydC10aW1lJyk7XG4gICAgaWYgKHNhdmVkU3RhcnRUaW1lICYmIGlzR2VuZXJhdGluZykge1xuICAgICAgY29uc3Qgc3RhcnRUaW1lID0gcGFyc2VJbnQoc2F2ZWRTdGFydFRpbWUpO1xuICAgICAgY29uc3QgZWxhcHNlZCA9IChEYXRlLm5vdygpIC0gc3RhcnRUaW1lKSAvIDEwMDA7XG4gICAgICBzZXRDdXJyZW50RWxhcHNlZFRpbWUoZWxhcHNlZCk7XG4gICAgICBzdGFydEVsYXBzZWRUaW1lVHJhY2tpbmcoc3RhcnRUaW1lKTtcbiAgICB9XG4gIH07XG5cbiAgLy8gbG9jYWxTdG9yYWdlIHBlcnNpc3RlbmNlIGhvb2tzXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgLy8gTG9hZCBzYXZlZCBzdGF0ZSBmcm9tIGxvY2FsU3RvcmFnZSBvbiBjb21wb25lbnQgbW91bnRcbiAgICBjb25zdCBsb2FkU2F2ZWRTdGF0ZSA9ICgpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHNhdmVkRm9ybURhdGEgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndmliZWNhcmRpbmctZm9ybS1kYXRhJyk7XG4gICAgICAgIGNvbnNvbGUubG9nKCfwn5SNIExvYWRpbmcgc2F2ZWQgZm9ybSBkYXRhOicsIHNhdmVkRm9ybURhdGEpO1xuICAgICAgICBpZiAoc2F2ZWRGb3JtRGF0YSkge1xuICAgICAgICAgIGNvbnN0IGZvcm1EYXRhID0gSlNPTi5wYXJzZShzYXZlZEZvcm1EYXRhKTtcbiAgICAgICAgICBjb25zb2xlLmxvZygn8J+TiyBQYXJzZWQgZm9ybSBkYXRhOicsIGZvcm1EYXRhKTtcbiAgICAgICAgICBzZXRQcm9tcHQoZm9ybURhdGEucHJvbXB0IHx8IFwiXCIpO1xuICAgICAgICAgIHNldEZpbmFsQ2FyZE1lc3NhZ2UoZm9ybURhdGEuZmluYWxDYXJkTWVzc2FnZSB8fCBcIlwiKTtcbiAgICAgICAgICBzZXRUb0ZpZWxkKGZvcm1EYXRhLnRvRmllbGQgfHwgXCJcIik7XG4gICAgICAgICAgc2V0RnJvbUZpZWxkKGZvcm1EYXRhLmZyb21GaWVsZCB8fCBcIlwiKTtcbiAgICAgICAgICBzZXRTZWxlY3RlZFR5cGUoZm9ybURhdGEuc2VsZWN0ZWRUeXBlIHx8IFwiYmlydGhkYXlcIik7XG4gICAgICAgICAgc2V0Q3VzdG9tQ2FyZFR5cGUoZm9ybURhdGEuY3VzdG9tQ2FyZFR5cGUgfHwgXCJcIik7XG4gICAgICAgICAgc2V0U2VsZWN0ZWRUb25lKGZvcm1EYXRhLnNlbGVjdGVkVG9uZSB8fCBcImZ1bm55XCIpO1xuICAgICAgICAgIHNldFNlbGVjdGVkQXJ0aXN0aWNTdHlsZShmb3JtRGF0YS5zZWxlY3RlZEFydGlzdGljU3R5bGUgfHwgXCJhaS1zbWFydC1zdHlsZVwiKTtcbiAgICAgICAgICBzZXRDdXN0b21TdHlsZURlc2NyaXB0aW9uKGZvcm1EYXRhLmN1c3RvbVN0eWxlRGVzY3JpcHRpb24gfHwgXCJcIik7XG4gICAgICAgICAgc2V0U2VsZWN0ZWRJbWFnZU1vZGVsKGZvcm1EYXRhLnNlbGVjdGVkSW1hZ2VNb2RlbCB8fCBcImdwdC1pbWFnZS0xXCIpO1xuICAgICAgICAgIHNldFNlbGVjdGVkRHJhZnRNb2RlbChmb3JtRGF0YS5zZWxlY3RlZERyYWZ0TW9kZWwgfHwgXCJmbHV4LTEuMS1wcm9cIik7XG4gICAgICAgICAgc2V0TnVtYmVyT2ZDYXJkcyhmb3JtRGF0YS5udW1iZXJPZkNhcmRzIHx8IDEpO1xuICAgICAgICAgIHNldFVzZXJFbWFpbChmb3JtRGF0YS51c2VyRW1haWwgfHwgXCJcIik7XG4gICAgICAgICAgc2V0UmVmZXJlbmNlSW1hZ2VVcmxzKGZvcm1EYXRhLnJlZmVyZW5jZUltYWdlVXJscyB8fCBbXSk7XG4gICAgICAgICAgc2V0SW1hZ2VUcmFuc2Zvcm1hdGlvbihmb3JtRGF0YS5pbWFnZVRyYW5zZm9ybWF0aW9uIHx8IFwiXCIpO1xuICAgICAgICAgIHNldElzSGFuZHdyaXR0ZW5NZXNzYWdlKGZvcm1EYXRhLmlzSGFuZHdyaXR0ZW5NZXNzYWdlIHx8IGZhbHNlKTtcbiAgICAgICAgICBzZXRJc0Zyb250QmFja09ubHkoZm9ybURhdGEuaXNGcm9udEJhY2tPbmx5IHx8IGZhbHNlKTtcbiAgICAgICAgICBzZXRTZWxlY3RlZFBhcGVyU2l6ZShmb3JtRGF0YS5zZWxlY3RlZFBhcGVyU2l6ZSB8fCBcInN0YW5kYXJkXCIpO1xuICAgICAgICAgIHNldFNob3dBZHZhbmNlZChmb3JtRGF0YS5zaG93QWR2YW5jZWQgfHwgZmFsc2UpO1xuICAgICAgICAgIHNldEhhbmR3cml0aW5nU2FtcGxlVXJsKGZvcm1EYXRhLmhhbmR3cml0aW5nU2FtcGxlVXJsIHx8IFwiXCIpO1xuICAgICAgICAgIHNldElzVGV4dGFyZWFFeHBhbmRlZChmb3JtRGF0YS5pc1RleHRhcmVhRXhwYW5kZWQgfHwgZmFsc2UpO1xuICAgICAgICAgIHNldElzTWVzc2FnZUV4cGFuZGVkKGZvcm1EYXRhLmlzTWVzc2FnZUV4cGFuZGVkIHx8IGZhbHNlKTtcbiAgICAgICAgICBzZXRNZXNzYWdlSGlzdG9yeShmb3JtRGF0YS5tZXNzYWdlSGlzdG9yeSB8fCBbXSk7XG4gICAgICAgICAgc2V0Q3VycmVudE1lc3NhZ2VJbmRleChmb3JtRGF0YS5jdXJyZW50TWVzc2FnZUluZGV4IHx8IC0xKTtcbiAgICAgICAgICBzZXRTaG93UmVmaW5lbWVudEJveChmb3JtRGF0YS5zaG93UmVmaW5lbWVudEJveCB8fCBmYWxzZSk7XG4gICAgICAgICAgc2V0U2hvd1NldHRpbmdzKGZvcm1EYXRhLnNob3dTZXR0aW5ncyB8fCBmYWxzZSk7XG4gICAgICAgICAgc2V0U2hvd1ByaW50Q29uZmlybWF0aW9uKGZvcm1EYXRhLnNob3dQcmludENvbmZpcm1hdGlvbiB8fCBmYWxzZSk7XG4gICAgICAgICAgc2V0SXNDYXJkQ29tcGxldGVkKGZvcm1EYXRhLmlzQ2FyZENvbXBsZXRlZCB8fCBmYWxzZSk7XG4gICAgICAgICAgc2V0R2VuZXJhdGlvbkR1cmF0aW9uKGZvcm1EYXRhLmdlbmVyYXRpb25EdXJhdGlvbiB8fCBudWxsKTtcbiAgICAgICAgICBjb25zb2xlLmxvZygn4pyFIEZvcm0gZGF0YSBsb2FkZWQgc3VjY2Vzc2Z1bGx5Jyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ+KEue+4jyBObyBzYXZlZCBmb3JtIGRhdGEgZm91bmQnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHNhdmVkQ2FyZHMgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndmliZWNhcmRpbmctZ2VuZXJhdGVkLWNhcmRzJyk7XG4gICAgICAgIGlmIChzYXZlZENhcmRzKSB7XG4gICAgICAgICAgY29uc3QgY2FyZHNEYXRhID0gSlNPTi5wYXJzZShzYXZlZENhcmRzKTtcbiAgICAgICAgICAvLyBDb252ZXJ0IGNyZWF0ZWRBdCBzdHJpbmdzIGJhY2sgdG8gRGF0ZSBvYmplY3RzXG4gICAgICAgICAgY29uc3QgY2FyZHNXaXRoRGF0ZXMgPSAoY2FyZHNEYXRhLmNhcmRzIHx8IFtdKS5tYXAoKGNhcmQ6IGFueSkgPT4gKHtcbiAgICAgICAgICAgIC4uLmNhcmQsXG4gICAgICAgICAgICBjcmVhdGVkQXQ6IG5ldyBEYXRlKGNhcmQuY3JlYXRlZEF0KVxuICAgICAgICAgIH0pKTtcbiAgICAgICAgICBzZXRHZW5lcmF0ZWRDYXJkcyhjYXJkc1dpdGhEYXRlcyk7XG4gICAgICAgICAgc2V0U2VsZWN0ZWRDYXJkSW5kZXgoY2FyZHNEYXRhLnNlbGVjdGVkSW5kZXggfHwgMCk7XG4gICAgICAgICAgaWYgKGNhcmRzV2l0aERhdGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHNldEdlbmVyYXRlZENhcmQoY2FyZHNXaXRoRGF0ZXNbY2FyZHNEYXRhLnNlbGVjdGVkSW5kZXggfHwgMF0pO1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLyBSZXN0b3JlIGdlbmVyYXRpb24gZHVyYXRpb24gaWYgYXZhaWxhYmxlXG4gICAgICAgICAgaWYgKGNhcmRzRGF0YS5nZW5lcmF0aW9uRHVyYXRpb24pIHtcbiAgICAgICAgICAgIHNldEdlbmVyYXRpb25EdXJhdGlvbihjYXJkc0RhdGEuZ2VuZXJhdGlvbkR1cmF0aW9uKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfij7HvuI8gUmVzdG9yZWQgZ2VuZXJhdGlvbiBkdXJhdGlvbjonLCBjYXJkc0RhdGEuZ2VuZXJhdGlvbkR1cmF0aW9uLCAnc2Vjb25kcycpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgbG9hZGluZyBzYXZlZCBzdGF0ZTonLCBlcnJvcik7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGxvYWRTYXZlZFN0YXRlKCk7XG4gICAgc2V0SXNJbml0aWFsTG9hZENvbXBsZXRlKHRydWUpO1xuICAgIFxuICAgIC8vIFN0YXJ0IHByZWxvYWRpbmcgdGVtcGxhdGUgY2FyZHMgaW1tZWRpYXRlbHkgb24gcGFnZSBsb2FkXG4gICAgcHJlbG9hZEFsbENhcmRzKCk7XG4gIH0sIFtwcmVsb2FkQWxsQ2FyZHNdKTtcblxuICAvLyBDbGVhbnVwIGVsYXBzZWQgdGltZSBpbnRlcnZhbCBvbiB1bm1vdW50XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGlmIChlbGFwc2VkVGltZUludGVydmFsKSB7XG4gICAgICAgIGNsZWFySW50ZXJ2YWwoZWxhcHNlZFRpbWVJbnRlcnZhbCk7XG4gICAgICB9XG4gICAgfTtcbiAgfSwgW2VsYXBzZWRUaW1lSW50ZXJ2YWxdKTtcblxuICAvLyBDaGVjayBmb3IgcGVuZGluZyBqb2JzIGFuZCByZXN0b3JlIHRpbWVyIG9uIHBhZ2UgbG9hZFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNoZWNrUGVuZGluZ0pvYnMoKTtcbiAgICAvLyBSZXN0b3JlIGVsYXBzZWQgdGltZSB0cmFja2luZyBpZiBnZW5lcmF0aW9uIGlzIGluIHByb2dyZXNzXG4gICAgcmVzdG9yZUVsYXBzZWRUaW1lVHJhY2tpbmcoKTtcbiAgfSwgW10pO1xuXG4gIC8vIFNhdmUgZm9ybSBkYXRhIHRvIGxvY2FsU3RvcmFnZSB3aGVuZXZlciBmb3JtIHN0YXRlIGNoYW5nZXNcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAvLyBPbmx5IHNhdmUgYWZ0ZXIgaW5pdGlhbCBsb2FkIGlzIGNvbXBsZXRlIHRvIGF2b2lkIG92ZXJ3cml0aW5nIGxvYWRlZCBkYXRhXG4gICAgaWYgKCFpc0luaXRpYWxMb2FkQ29tcGxldGUpIHJldHVybjtcbiAgICBcbiAgICBjb25zdCBzYXZlRm9ybURhdGEgPSAoKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBmb3JtRGF0YSA9IHtcbiAgICAgICAgICBwcm9tcHQsXG4gICAgICAgICAgZmluYWxDYXJkTWVzc2FnZSxcbiAgICAgICAgICB0b0ZpZWxkLFxuICAgICAgICAgIGZyb21GaWVsZCxcbiAgICAgICAgICBzZWxlY3RlZFR5cGUsXG4gICAgICAgICAgY3VzdG9tQ2FyZFR5cGUsXG4gICAgICAgICAgc2VsZWN0ZWRUb25lLFxuICAgICAgICAgIHNlbGVjdGVkQXJ0aXN0aWNTdHlsZSxcbiAgICAgICAgICBjdXN0b21TdHlsZURlc2NyaXB0aW9uLFxuICAgICAgICAgIHNlbGVjdGVkSW1hZ2VNb2RlbCxcbiAgICAgICAgICBzZWxlY3RlZERyYWZ0TW9kZWwsXG4gICAgICAgICAgbnVtYmVyT2ZDYXJkcyxcbiAgICAgICAgICB1c2VyRW1haWwsXG4gICAgICAgICAgcmVmZXJlbmNlSW1hZ2VVcmxzLFxuICAgICAgICAgIGltYWdlVHJhbnNmb3JtYXRpb24sXG4gICAgICAgICAgaXNIYW5kd3JpdHRlbk1lc3NhZ2UsXG4gICAgICAgICAgaXNGcm9udEJhY2tPbmx5LFxuICAgICAgICAgIHNlbGVjdGVkUGFwZXJTaXplLFxuICAgICAgICAgIHNob3dBZHZhbmNlZCxcbiAgICAgICAgICBoYW5kd3JpdGluZ1NhbXBsZVVybCxcbiAgICAgICAgICBpc1RleHRhcmVhRXhwYW5kZWQsXG4gICAgICAgICAgaXNNZXNzYWdlRXhwYW5kZWQsXG4gICAgICAgICAgbWVzc2FnZUhpc3RvcnksXG4gICAgICAgICAgY3VycmVudE1lc3NhZ2VJbmRleCxcbiAgICAgICAgICBzaG93UmVmaW5lbWVudEJveCxcbiAgICAgICAgICBzaG93U2V0dGluZ3MsXG4gICAgICAgICAgc2hvd1ByaW50Q29uZmlybWF0aW9uLFxuICAgICAgICAgIGlzQ2FyZENvbXBsZXRlZCxcbiAgICAgICAgICBnZW5lcmF0aW9uRHVyYXRpb25cbiAgICAgICAgfTtcbiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3ZpYmVjYXJkaW5nLWZvcm0tZGF0YScsIEpTT04uc3RyaW5naWZ5KGZvcm1EYXRhKSk7XG4gICAgICAgIGNvbnNvbGUubG9nKCfinIUgRm9ybSBkYXRhIHNhdmVkIHRvIGxvY2FsU3RvcmFnZTonLCBmb3JtRGF0YSk7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgRXJyb3Igc2F2aW5nIGZvcm0gZGF0YTonLCBlcnJvcik7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHNhdmVGb3JtRGF0YSgpO1xuICAgICAgfSwgW2lzSW5pdGlhbExvYWRDb21wbGV0ZSwgcHJvbXB0LCBmaW5hbENhcmRNZXNzYWdlLCB0b0ZpZWxkLCBmcm9tRmllbGQsIHNlbGVjdGVkVHlwZSwgY3VzdG9tQ2FyZFR5cGUsIHNlbGVjdGVkVG9uZSwgc2VsZWN0ZWRBcnRpc3RpY1N0eWxlLCBjdXN0b21TdHlsZURlc2NyaXB0aW9uLCBzZWxlY3RlZEltYWdlTW9kZWwsIG51bWJlck9mQ2FyZHMsIHVzZXJFbWFpbCwgcmVmZXJlbmNlSW1hZ2VVcmxzLCBpbWFnZVRyYW5zZm9ybWF0aW9uLCBpc0hhbmR3cml0dGVuTWVzc2FnZSwgaXNGcm9udEJhY2tPbmx5LCBzZWxlY3RlZFBhcGVyU2l6ZSwgc2hvd0FkdmFuY2VkLCBoYW5kd3JpdGluZ1NhbXBsZVVybCwgaXNUZXh0YXJlYUV4cGFuZGVkLCBpc01lc3NhZ2VFeHBhbmRlZCwgbWVzc2FnZUhpc3RvcnksIGN1cnJlbnRNZXNzYWdlSW5kZXgsIHNob3dSZWZpbmVtZW50Qm94LCBzaG93U2V0dGluZ3MsIHNob3dQcmludENvbmZpcm1hdGlvbiwgaXNDYXJkQ29tcGxldGVkLCBnZW5lcmF0aW9uRHVyYXRpb25dKTtcblxuICAvLyBTYXZlIGdlbmVyYXRlZCBjYXJkcyB0byBsb2NhbFN0b3JhZ2Ugd2hlbmV2ZXIgdGhleSBjaGFuZ2VcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBzYXZlR2VuZXJhdGVkQ2FyZHMgPSAoKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICAvLyBDcmVhdGUgbGlnaHR3ZWlnaHQgdmVyc2lvbnMgd2l0aG91dCBiYXNlNjQgUVIgY29kZXMgZm9yIGxvY2FsU3RvcmFnZVxuICAgICAgICBjb25zdCBjYXJkc0ZvclN0b3JhZ2UgPSBnZW5lcmF0ZWRDYXJkcy5tYXAoY2FyZCA9PiB7XG4gICAgICAgICAgY29uc3QgY2FyZENvcHkgPSB7IC4uLmNhcmQgfTtcbiAgICAgICAgICBpZiAoY2FyZENvcHkuYmFja0NvdmVyICYmIGNhcmRDb3B5LmJhY2tDb3Zlci5zdGFydHNXaXRoKCdkYXRhOmltYWdlL3BuZztiYXNlNjQsJykpIHtcbiAgICAgICAgICAgIC8vIERvbid0IHN0b3JlIHRoZSBiYXNlNjQgUVIgY29kZSB2ZXJzaW9uIC0gaXQncyB0b28gbGFyZ2UgZm9yIGxvY2FsU3RvcmFnZVxuICAgICAgICAgICAgLy8gVGhlIFFSIGNvZGUgd2lsbCBiZSByZWdlbmVyYXRlZCB3aGVuIG5lZWRlZFxuICAgICAgICAgICAgY29uc29sZS5sb2coJ/Cfkr4gU2tpcHBpbmcgYmFzZTY0IFFSIGNvZGUgc3RvcmFnZSBmb3IgY2FyZDonLCBjYXJkQ29weS5pZCk7XG4gICAgICAgICAgICAvLyBLZWVwIHRoZSBvcmlnaW5hbCBiYWNrIGNvdmVyIFVSTCBpZiB3ZSBoYXZlIGl0XG4gICAgICAgICAgICAvLyBOb3RlOiBJbiBwcmFjdGljZSwgd2UnZCBuZWVkIHRvIHN0b3JlIHRoZSBvcmlnaW5hbCBVUkwgc2VwYXJhdGVseVxuICAgICAgICAgICAgLy8gRm9yIG5vdywgd2UnbGwganVzdCBub3Qgc2F2ZSB0aGUgYmFzZTY0IHZlcnNpb25cbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIGNhcmRDb3B5O1xuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IGNhcmRzRGF0YSA9IHtcbiAgICAgICAgICBjYXJkczogY2FyZHNGb3JTdG9yYWdlLFxuICAgICAgICAgIHNlbGVjdGVkSW5kZXg6IHNlbGVjdGVkQ2FyZEluZGV4LFxuICAgICAgICAgIGdlbmVyYXRpb25EdXJhdGlvbjogZ2VuZXJhdGlvbkR1cmF0aW9uXG4gICAgICAgIH07XG4gICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd2aWJlY2FyZGluZy1nZW5lcmF0ZWQtY2FyZHMnLCBKU09OLnN0cmluZ2lmeShjYXJkc0RhdGEpKTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHNhdmluZyBnZW5lcmF0ZWQgY2FyZHM6JywgZXJyb3IpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBpZiAoZ2VuZXJhdGVkQ2FyZHMubGVuZ3RoID4gMCkge1xuICAgICAgc2F2ZUdlbmVyYXRlZENhcmRzKCk7XG4gICAgfVxuICB9LCBbZ2VuZXJhdGVkQ2FyZHMsIHNlbGVjdGVkQ2FyZEluZGV4LCBnZW5lcmF0aW9uRHVyYXRpb25dKTtcblxuICAvLyBUcmFjayBtYW51YWwgbWVzc2FnZSBjaGFuZ2VzIGZvciB2ZXJzaW9uIGNvbnRyb2xcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIWlzSW5pdGlhbExvYWRDb21wbGV0ZSkgcmV0dXJuO1xuICAgIFxuICAgIGNvbnN0IHRpbWVvdXRJZCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgaWYgKGZpbmFsQ2FyZE1lc3NhZ2UudHJpbSgpICYmIFxuICAgICAgICAgIG1lc3NhZ2VIaXN0b3J5Lmxlbmd0aCA+IDAgJiYgXG4gICAgICAgICAgZmluYWxDYXJkTWVzc2FnZSAhPT0gbWVzc2FnZUhpc3RvcnlbY3VycmVudE1lc3NhZ2VJbmRleF0pIHtcbiAgICAgICAgLy8gVXNlciBoYXMgbWFudWFsbHkgZWRpdGVkIHRoZSBtZXNzYWdlLCBhZGQgdG8gaGlzdG9yeVxuICAgICAgICBhZGRNZXNzYWdlVG9IaXN0b3J5KGZpbmFsQ2FyZE1lc3NhZ2UpO1xuICAgICAgfVxuICAgIH0sIDIwMDApOyAvLyBXYWl0IDIgc2Vjb25kcyBhZnRlciB1c2VyIHN0b3BzIHR5cGluZ1xuXG4gICAgcmV0dXJuICgpID0+IGNsZWFyVGltZW91dCh0aW1lb3V0SWQpO1xuICB9LCBbZmluYWxDYXJkTWVzc2FnZSwgaXNJbml0aWFsTG9hZENvbXBsZXRlXSk7XG5cblxuICAvLyBDbGVhciBzYXZlZCBkYXRhIGZ1bmN0aW9uXG4gIGNvbnN0IGNsZWFyU2F2ZWREYXRhID0gKCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgndmliZWNhcmRpbmctZm9ybS1kYXRhJyk7XG4gICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgndmliZWNhcmRpbmctZ2VuZXJhdGVkLWNhcmRzJyk7XG4gICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgndmliZWNhcmRpbmctdGVtcGxhdGVzJyk7XG4gICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgndmliZWNhcmRpbmctdGVtcGxhdGVzLXRpbWVzdGFtcCcpO1xuICAgICAgdG9hc3Quc3VjY2VzcyhcIlNhdmVkIGRhdGEgY2xlYXJlZCFcIik7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGNsZWFyaW5nIHNhdmVkIGRhdGE6JywgZXJyb3IpO1xuICAgICAgdG9hc3QuZXJyb3IoXCJGYWlsZWQgdG8gY2xlYXIgc2F2ZWQgZGF0YVwiKTtcbiAgICB9XG4gIH07XG5cbiAgLy8gU3RvcmFnZSBtYW5hZ2VtZW50IGZ1bmN0aW9uXG4gIGNvbnN0IGdldFN0b3JhZ2VVc2FnZSA9ICgpID0+IHtcbiAgICB0cnkge1xuICAgICAgbGV0IHRvdGFsU2l6ZSA9IDA7XG4gICAgICBmb3IgKGxldCBrZXkgaW4gbG9jYWxTdG9yYWdlKSB7XG4gICAgICAgIGlmIChsb2NhbFN0b3JhZ2UuaGFzT3duUHJvcGVydHkoa2V5KSAmJiBrZXkuc3RhcnRzV2l0aCgndmliZWNhcmRpbmctJykpIHtcbiAgICAgICAgICB0b3RhbFNpemUgKz0gbG9jYWxTdG9yYWdlW2tleV0ubGVuZ3RoO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4ge1xuICAgICAgICB1c2VkOiB0b3RhbFNpemUsXG4gICAgICAgIHVzZWRNQjogKHRvdGFsU2l6ZSAvICgxMDI0ICogMTAyNCkpLnRvRml4ZWQoMiksXG4gICAgICAgIHBlcmNlbnRhZ2U6IE1hdGgucm91bmQoKHRvdGFsU2l6ZSAvICg1ICogMTAyNCAqIDEwMjQpKSAqIDEwMCkgLy8gQXNzdW1lIDVNQiBsaW1pdFxuICAgICAgfTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgcmV0dXJuIHsgdXNlZDogMCwgdXNlZE1COiAnMCcsIHBlcmNlbnRhZ2U6IDAgfTtcbiAgICB9XG4gIH07XG5cblxuICAvLyBUZW1wbGF0ZSBjdXN0b21pemF0aW9uIHN0YXRlXG4gIGNvbnN0IFtzaG93VGVtcGxhdGVDdXN0b21pemF0aW9uLCBzZXRTaG93VGVtcGxhdGVDdXN0b21pemF0aW9uXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3NlbGVjdGVkVGVtcGxhdGUsIHNldFNlbGVjdGVkVGVtcGxhdGVdID0gdXNlU3RhdGU8R2VuZXJhdGVkQ2FyZCB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbdGVtcGxhdGVDdXN0b21pemF0aW9ucywgc2V0VGVtcGxhdGVDdXN0b21pemF0aW9uc10gPSB1c2VTdGF0ZSh7XG4gICAgcHJvbXB0Q2hhbmdlczogXCJcIixcbiAgICBtZXNzYWdlQ2hhbmdlczogXCJcIixcbiAgICB1c2VSZWZlcmVuY2VJbWFnZTogZmFsc2UsXG4gICAgcmVmZXJlbmNlSW1hZ2VGaWxlOiBudWxsIGFzIEZpbGUgfCBudWxsLFxuICAgIHJlZmVyZW5jZUltYWdlVXJsczogW10gYXMgc3RyaW5nW10sXG4gICAgcmVmZXJlbmNlSW1hZ2VUcmFuc2Zvcm1hdGlvbjogXCJcIlxuICB9KTtcblxuICBjb25zdCBhcHBseVRlbXBsYXRlID0gKHRlbXBsYXRlOiBHZW5lcmF0ZWRDYXJkKSA9PiB7XG4gICAgLy8gU3RvcmUgdGhlIHNlbGVjdGVkIHRlbXBsYXRlIGFuZCBzaG93IGN1c3RvbWl6YXRpb24gZGlhbG9nXG4gICAgc2V0U2VsZWN0ZWRUZW1wbGF0ZSh0ZW1wbGF0ZSk7XG4gICAgc2V0U2hvd1RlbXBsYXRlQ3VzdG9taXphdGlvbih0cnVlKTtcbiAgICBzZXRTaG93VGVtcGxhdGVHYWxsZXJ5KGZhbHNlKTtcbiAgICBcbiAgICAvLyBJbml0aWFsaXplIGN1c3RvbWl6YXRpb24gZm9ybSB3aXRoIHRlbXBsYXRlIGRhdGFcbiAgICBzZXRUZW1wbGF0ZUN1c3RvbWl6YXRpb25zKHtcbiAgICAgIHByb21wdENoYW5nZXM6IFwiXCIsXG4gICAgICBtZXNzYWdlQ2hhbmdlczogXCJcIixcbiAgICAgIHVzZVJlZmVyZW5jZUltYWdlOiBmYWxzZSxcbiAgICAgIHJlZmVyZW5jZUltYWdlRmlsZTogbnVsbCxcbiAgICAgIHJlZmVyZW5jZUltYWdlVXJsczogW10sXG4gICAgICByZWZlcmVuY2VJbWFnZVRyYW5zZm9ybWF0aW9uOiBcIlwiXG4gICAgfSk7XG4gIH07XG5cbiAgLy8gR2VuZXJhdGUgY2FyZCBkaXJlY3RseSB3aXRoIGV4aXN0aW5nIHByb21wdHMgKGZvciB0ZW1wbGF0ZSBjdXN0b21pemF0aW9uKVxuICBjb25zdCBnZW5lcmF0ZUNhcmRXaXRoRXhpc3RpbmdQcm9tcHRzID0gYXN5bmMgKHByb21wdHM6IGFueSkgPT4ge1xuICAgIGlmICghdXNlckVtYWlsLnRyaW0oKSkge1xuICAgICAgdG9hc3QuZXJyb3IoXCJQbGVhc2UgZW50ZXIgeW91ciBlbWFpbCBhZGRyZXNzXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIENsZWFyIGFsbCBkcmFmdCBtb2RlIHN0YXRlcyB0byBwcmV2ZW50IFVJIGNvbmZsaWN0c1xuICAgIHNldElzRHJhZnRNb2RlKGZhbHNlKTtcbiAgICBzZXREcmFmdENhcmRzKFtdKTtcbiAgICBzZXRTZWxlY3RlZERyYWZ0SW5kZXgoLTEpO1xuICAgIHNldElzR2VuZXJhdGluZ0ZpbmFsQ2FyZChmYWxzZSk7XG4gICAgc2V0UHJldmlld2luZ0RyYWZ0SW5kZXgoLTEpO1xuICAgIFxuICAgIC8vIENsZWFyIGFueSBleGlzdGluZyBjYXJkIHN0YXRlc1xuICAgIHNldEdlbmVyYXRlZENhcmRzKFtdKTtcbiAgICBzZXRHZW5lcmF0ZWRDYXJkKG51bGwpO1xuICAgIHNldFNlbGVjdGVkQ2FyZEluZGV4KDApO1xuICAgIHNldEN1cnJlbnRDYXJkSWQobnVsbCk7XG4gICAgc2V0SXNDYXJkQ29tcGxldGVkKGZhbHNlKTtcblxuICAgIHNldElzR2VuZXJhdGluZyh0cnVlKTtcbiAgICBzdGFydEVsYXBzZWRUaW1lVHJhY2tpbmcoKTtcbiAgICBzZXRHZW5lcmF0aW9uUHJvZ3Jlc3MoXCLwn46oIENyZWF0aW5nIHlvdXIgY3VzdG9taXplZCB0ZW1wbGF0ZSBjYXJkLi4uXCIpO1xuICAgIHNldFByb2dyZXNzUGVyY2VudGFnZSgwKTtcblxuICAgIHRyeSB7XG4gICAgICAvLyBDcmVhdGUgam9iIHRyYWNraW5nXG4gICAgICBjb25zdCBqb2JJZCA9IHV1aWR2NCgpO1xuICAgICAgc2V0Q3VycmVudEpvYklkKGpvYklkKTtcbiAgICAgIFxuICAgICAgY29uc3QgY2FyZFR5cGVGb3JQcm9tcHQgPSBzZWxlY3RlZFR5cGUgPT09IFwiY3VzdG9tXCIgPyBjdXN0b21DYXJkVHlwZSA6IHNlbGVjdGVkVHlwZTtcbiAgICAgIGNvbnN0IHBhcGVyQ29uZmlnID0gcGFwZXJTaXplcy5maW5kKHNpemUgPT4gc2l6ZS5pZCA9PT0gc2VsZWN0ZWRQYXBlclNpemUpIHx8IHBhcGVyU2l6ZXNbMF07XG5cbiAgICAgIC8vIEhhbmRsZSBtZXNzYWdlIGN1c3RvbWl6YXRpb25cbiAgICAgIGxldCBtZXNzYWdlQ29udGVudCA9IHRlbXBsYXRlQ3VzdG9taXphdGlvbnMubWVzc2FnZUNoYW5nZXMudHJpbSgpIHx8IGZpbmFsQ2FyZE1lc3NhZ2U7XG4gICAgICBpZiAoaXNIYW5kd3JpdHRlbk1lc3NhZ2UpIHtcbiAgICAgICAgbWVzc2FnZUNvbnRlbnQgPSBcIltCbGFuayBzcGFjZSBmb3IgaGFuZHdyaXR0ZW4gbWVzc2FnZV1cIjtcbiAgICAgIH1cblxuICAgICAgLy8gVXBkYXRlIHRoZSByaWdodCBpbnRlcmlvciBwcm9tcHQgd2l0aCBjdXN0b20gbWVzc2FnZSBpZiBwcm92aWRlZFxuICAgICAgaWYgKG1lc3NhZ2VDb250ZW50ICYmIHByb21wdHMucmlnaHRJbnRlcmlvciAmJiAhaXNIYW5kd3JpdHRlbk1lc3NhZ2UpIHtcbiAgICAgICAgcHJvbXB0cy5yaWdodEludGVyaW9yID0gcHJvbXB0cy5yaWdodEludGVyaW9yXG4gICAgICAgICAgLnJlcGxhY2UoL0luY2x1ZGUgbWVzc2FnZSB0ZXh0OiBcIlteXCJdKlwiL2csIGBJbmNsdWRlIG1lc3NhZ2UgdGV4dDogXCIke21lc3NhZ2VDb250ZW50fVwiYClcbiAgICAgICAgICAucmVwbGFjZSgvXCJNRVNTQUdFIEdPRVMgSEVSRVwiL2csIGBcIiR7bWVzc2FnZUNvbnRlbnR9XCJgKVxuICAgICAgICAgIC5yZXBsYWNlKC9NRVNTQUdFIEdPRVMgSEVSRS9nLCBtZXNzYWdlQ29udGVudCk7XG4gICAgICB9XG5cbiAgICAgIC8vIFNhdmUgam9iIGRhdGFcbiAgICAgIGNvbnN0IGpvYkRhdGEgPSB7XG4gICAgICAgIHByb21wdDogc2VsZWN0ZWRUZW1wbGF0ZT8ucHJvbXB0IHx8IFwiXCIsXG4gICAgICAgIHNlbGVjdGVkVHlwZSxcbiAgICAgICAgY3VzdG9tQ2FyZFR5cGUsXG4gICAgICAgIHNlbGVjdGVkVG9uZSxcbiAgICAgICAgZmluYWxDYXJkTWVzc2FnZTogbWVzc2FnZUNvbnRlbnQsXG4gICAgICAgIHRvRmllbGQsXG4gICAgICAgIGZyb21GaWVsZCxcbiAgICAgICAgdXNlckVtYWlsLFxuICAgICAgICBzZWxlY3RlZEFydGlzdGljU3R5bGUsXG4gICAgICAgIGN1c3RvbVN0eWxlRGVzY3JpcHRpb24sXG4gICAgICAgIHNlbGVjdGVkSW1hZ2VNb2RlbCxcbiAgICAgICAgaXNGcm9udEJhY2tPbmx5LFxuICAgICAgICBudW1iZXJPZkNhcmRzOiAxLFxuICAgICAgICBzZWxlY3RlZFBhcGVyU2l6ZSxcbiAgICAgICAgcHJvbXB0cyxcbiAgICAgICAgcGFwZXJDb25maWcsXG4gICAgICAgIGlzVGVtcGxhdGVDdXN0b21pemF0aW9uOiB0cnVlXG4gICAgICB9O1xuICAgICAgXG4gICAgICBzYXZlSm9iVG9TdG9yYWdlKGpvYklkLCBqb2JEYXRhKTtcbiAgICAgIFxuICAgICAgc2V0R2VuZXJhdGlvblByb2dyZXNzKFwi8J+agCBTdGFydGluZyB5b3VyIHBlcnNvbmFsaXplZCB0ZW1wbGF0ZSBjYXJkIGdlbmVyYXRpb24uLi5cIik7XG4gICAgICBcbiAgICAgIC8vIFByZXBhcmUgaW5wdXQgaW1hZ2VzIGZvciByZWZlcmVuY2UgcGhvdG8gc3VwcG9ydFxuICAgICAgY29uc3QgaW5wdXRJbWFnZXM6IHN0cmluZ1tdID0gW107XG4gICAgICBcbiAgICAgICAgICAgICAgLy8gSW5jbHVkZSBib3RoIHRlbXBsYXRlIGN1c3RvbWl6YXRpb24gcmVmZXJlbmNlIGltYWdlcyBhbmQgbWFpbiByZWZlcmVuY2UgaW1hZ2VzXG4gICAgICAgIGlmIChzZWxlY3RlZEltYWdlTW9kZWwgPT09IFwiZ3B0LWltYWdlLTFcIikge1xuICAgICAgICAgIC8vIEFkZCB0ZW1wbGF0ZSBjdXN0b21pemF0aW9uIHJlZmVyZW5jZSBpbWFnZXNcbiAgICAgICAgICBpZiAodGVtcGxhdGVDdXN0b21pemF0aW9ucy5yZWZlcmVuY2VJbWFnZVVybHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgaW5wdXRJbWFnZXMucHVzaCguLi50ZW1wbGF0ZUN1c3RvbWl6YXRpb25zLnJlZmVyZW5jZUltYWdlVXJscyk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIvCflI0gREVCVUc6IEFkZGVkIHRlbXBsYXRlIGN1c3RvbWl6YXRpb24gcmVmZXJlbmNlIGltYWdlczpcIiwgdGVtcGxhdGVDdXN0b21pemF0aW9ucy5yZWZlcmVuY2VJbWFnZVVybHMpO1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLyBBZGQgbWFpbiByZWZlcmVuY2UgaW1hZ2VzIGZyb20gdGhlIGZvcm1cbiAgICAgICAgICBpZiAocmVmZXJlbmNlSW1hZ2VVcmxzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGlucHV0SW1hZ2VzLnB1c2goLi4ucmVmZXJlbmNlSW1hZ2VVcmxzKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwi8J+UjSBERUJVRzogQWRkZWQgbWFpbiBmb3JtIHJlZmVyZW5jZSBpbWFnZXM6XCIsIHJlZmVyZW5jZUltYWdlVXJscyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIFxuICAgICAgICAgIGlmIChpbnB1dEltYWdlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIvCflI0gREVCVUc6IFRvdGFsIGlucHV0IGltYWdlcyBmb3IgdGVtcGxhdGUgZ2VuZXJhdGlvbjpcIiwgaW5wdXRJbWFnZXMubGVuZ3RoKTtcbiAgICAgICAgICAgIHRvYXN0LnN1Y2Nlc3MoYPCfk7ggJHtpbnB1dEltYWdlcy5sZW5ndGh9IHJlZmVyZW5jZSBwaG90byR7aW5wdXRJbWFnZXMubGVuZ3RoID4gMSA/ICdzJyA6ICcnfSByZWFkeSBmb3IgdGVtcGxhdGUgY3VzdG9taXphdGlvbiFgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgLy8gRW5oYW5jZSBwcm9tcHRzIHdpdGggcmVmZXJlbmNlIGltYWdlIGluc3RydWN0aW9ucyBpZiBhdmFpbGFibGVcbiAgICAgIGNvbnN0IGVuaGFuY2VkUHJvbXB0cyA9IHsgLi4ucHJvbXB0cyB9O1xuICAgICAgaWYgKGlucHV0SW1hZ2VzLmxlbmd0aCA+IDAgJiYgc2VsZWN0ZWRJbWFnZU1vZGVsID09PSBcImdwdC1pbWFnZS0xXCIpIHtcbiAgICAgICAgY29uc3QgdG90YWxSZWZlcmVuY2VJbWFnZXMgPSAodGVtcGxhdGVDdXN0b21pemF0aW9ucy5yZWZlcmVuY2VJbWFnZVVybHM/Lmxlbmd0aCB8fCAwKSArIChyZWZlcmVuY2VJbWFnZVVybHM/Lmxlbmd0aCB8fCAwKTtcbiAgICAgICAgY29uc3QgY2hhcmFjdGVySW5zdHJ1Y3Rpb25zID0gYFxcblxcbkNSSVRJQ0FMIENIQVJBQ1RFUiBSRUZFUkVOQ0UgSU5TVFJVQ1RJT05TOiBJIGhhdmUgcHJvdmlkZWQgJHt0b3RhbFJlZmVyZW5jZUltYWdlcyA+IDEgPyAnbXVsdGlwbGUgcmVmZXJlbmNlIHBob3RvcycgOiAnYSByZWZlcmVuY2UgcGhvdG8nfSBhcyBpbnB1dCBpbWFnZSR7dG90YWxSZWZlcmVuY2VJbWFnZXMgPiAxID8gJ3MnIDogJyd9LiBZb3UgTVVTVCBjcmVhdGUgY2FydG9vbi9pbGx1c3RyYXRlZCBjaGFyYWN0ZXJzIHRoYXQgYWNjdXJhdGVseSByZXByZXNlbnQgdGhlIHBlb3BsZSBpbiAke3RvdGFsUmVmZXJlbmNlSW1hZ2VzID4gMSA/ICd0aGVzZSByZWZlcmVuY2UgcGhvdG9zJyA6ICd0aGlzIHJlZmVyZW5jZSBwaG90byd9IHdpdGggaGlnaCBmaWRlbGl0eSB0byB0aGVpciBhcHBlYXJhbmNlLlxuXG5NQU5EQVRPUlkgQ0hBUkFDVEVSIE1BVENISU5HIFJFUVVJUkVNRU5UUzpcbi0gUkVQUkVTRU5UIEFMTCBQRU9QTEU6IElmIG11bHRpcGxlIHJlZmVyZW5jZSBwaG90b3MgYXJlIHByb3ZpZGVkLCBjcmVhdGUgY2FydG9vbiB2ZXJzaW9ucyBvZiBBTEwgcGVvcGxlIHNob3duLCBicmluZ2luZyB0aGVtIHRvZ2V0aGVyIGluIHRoZSBzYW1lIHNjZW5lXG4tIEVYQUNUIGhhaXIgY29sb3IsIGhhaXIgc3R5bGUsIGFuZCBoYWlyIGxlbmd0aCBmcm9tIGVhY2ggcmVmZXJlbmNlIHBob3RvXG4tIFBSRUNJU0UgZmFjaWFsIGZlYXR1cmVzIGZvciBlYWNoIHBlcnNvbjogZXllIGNvbG9yLCBleWUgc2hhcGUsIG5vc2Ugc2hhcGUsIGZhY2Ugc3RydWN0dXJlLCBza2luIHRvbmVcbi0gQUNDVVJBVEUgY2xvdGhpbmc6IHJlcGxpY2F0ZSB0aGUgRVhBQ1QgY2xvdGhpbmcgaXRlbXMsIGNvbG9ycywgcGF0dGVybnMsIGFuZCBzdHlsZXMgd29ybiBieSBlYWNoIHBlcnNvbiBpbiB0aGVpciByZWZlcmVuY2UgcGhvdG9cbi0gQ09NUExFVEUgYWNjZXNzb3JpZXM6IGluY2x1ZGUgQUxMIGFjY2Vzc29yaWVzIHZpc2libGUgb24gZWFjaCBwZXJzb24gKGdsYXNzZXMsIGpld2VscnksIGhhdHMsIHdhdGNoZXMsIGJhZ3MsIGV0Yy4pXG4tIENPUlJFQ1QgYm9keSBwcm9wb3J0aW9ucyBhbmQgcG9zdHVyZSBhcyBzaG93biBmb3IgZWFjaCBwZXJzb24gaW4gdGhlaXIgcmVmZXJlbmNlXG4tIEZBSVRIRlVMIGFnZSByZXByZXNlbnRhdGlvbiBhbmQgZ2VuZGVyIHByZXNlbnRhdGlvbiBmb3IgZWFjaCBpbmRpdmlkdWFsXG4tIEFVVEhFTlRJQyBmYWNpYWwgZXhwcmVzc2lvbnMgYW5kIHBvc2VzIGZyb20gdGhlIHJlZmVyZW5jZSBpbWFnZXMsIGxlYW4gdG93YXJkcyBtYWtpbmcgdGhlIHBlb3BsZSBsb29rIGhhcHBpZXIgdW5sZXNzIHRoZSB1c2VyIHNwZWNpZmljYWxseSBhc2tzIGZvciBhIGRpZmZlcmVudCBleHByZXNzaW9uXG4tIEdST1VQIENPTVBPU0lUSU9OOiBJZiBtdWx0aXBsZSBwZW9wbGUsIGFycmFuZ2UgdGhlbSBuYXR1cmFsbHkgdG9nZXRoZXIgaW4gYSBwbGVhc2luZyBjb21wb3NpdGlvbiB0aGF0IGZpdHMgdGhlIGNhcmQncyB0aGVtZVxuXG4ke3RlbXBsYXRlQ3VzdG9taXphdGlvbnMucmVmZXJlbmNlSW1hZ2VUcmFuc2Zvcm1hdGlvbiB8fCBpbWFnZVRyYW5zZm9ybWF0aW9uIHx8ICdTdHVkeSBldmVyeSBkZXRhaWwgb2YgdGhlIHBlb3BsZSBpbiB0aGUgcmVmZXJlbmNlIGltYWdlIGFuZCByZWNyZWF0ZSB0aGVtIGFzIHN0eWxpemVkIGNhcnRvb24gY2hhcmFjdGVycyB3aGlsZSBtYWludGFpbmluZyAxMDAlIGFjY3VyYWN5IHRvIHRoZWlyIGRpc3RpbmN0aXZlIHZpc3VhbCBmZWF0dXJlcy4gVGhlIGNoYXJhY3RlcnMgbXVzdCBiZSBpbW1lZGlhdGVseSByZWNvZ25pemFibGUgYXMgdGhlIHNhbWUgcGVvcGxlIGZyb20gdGhlIHJlZmVyZW5jZSBwaG90by4gUGF5IHNwZWNpYWwgYXR0ZW50aW9uIHRvIGNsb3RoaW5nIGRldGFpbHMsIGFjY2Vzc29yaWVzLCBhbmQgdW5pcXVlIHBlcnNvbmFsIHN0eWxlIGVsZW1lbnRzIHRoYXQgbWFrZSBlYWNoIHBlcnNvbiBkaXN0aW5jdGl2ZS4nfVxuXG5UaGUgY2FydG9vbiBzdHlsZSBzaG91bGQgYmUgY2hhcm1pbmcgYW5kIGFydGlzdGljIHdoaWxlIHByZXNlcnZpbmcgY29tcGxldGUgdmlzdWFsIGFjY3VyYWN5IHRvIHRoZSByZWZlcmVuY2UgcGhvdG8uIEV2ZXJ5IHBlcnNvbiBpbiB0aGUgcmVmZXJlbmNlIG11c3QgYmUgcmVwcmVzZW50ZWQgd2l0aCB0aGVpciBleGFjdCBhcHBlYXJhbmNlLCBjbG90aGluZywgYW5kIGFjY2Vzc29yaWVzLmA7XG5cbiAgICAgICAgaWYgKGVuaGFuY2VkUHJvbXB0cy5mcm9udENvdmVyKSB7XG4gICAgICAgICAgZW5oYW5jZWRQcm9tcHRzLmZyb250Q292ZXIgKz0gY2hhcmFjdGVySW5zdHJ1Y3Rpb25zO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hcGkvZ2VuZXJhdGUtY2FyZC1hc3luYycsIHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgam9iSWQsXG4gICAgICAgICAgcHJvbXB0czogZW5oYW5jZWRQcm9tcHRzLFxuICAgICAgICAgIGNvbmZpZzoge1xuICAgICAgICAgICAgdXNlck51bWJlcjogXCIrMTcxNDU5ODYxMDVcIixcbiAgICAgICAgICAgIG1vZGVsVmVyc2lvbjogc2VsZWN0ZWRJbWFnZU1vZGVsLFxuICAgICAgICAgICAgYXNwZWN0UmF0aW86IHBhcGVyQ29uZmlnLmFzcGVjdFJhdGlvLFxuICAgICAgICAgICAgcXVhbGl0eTogXCJoaWdoXCIsIC8vIEhpZ2ggcXVhbGl0eSBmb3IgdGVtcGxhdGUgY3VzdG9taXphdGlvblxuICAgICAgICAgICAgb3V0cHV0Rm9ybWF0OiBcImpwZWdcIixcbiAgICAgICAgICAgIG91dHB1dENvbXByZXNzaW9uOiAxMDAsXG4gICAgICAgICAgICBtb2RlcmF0aW9uOiBcImxvd1wiLFxuICAgICAgICAgICAgZGltZW5zaW9uczogcGFwZXJDb25maWcuZGltZW5zaW9ucyxcbiAgICAgICAgICAgIGlzRnJvbnRCYWNrT25seSxcbiAgICAgICAgICAgIHVzZXJFbWFpbCxcbiAgICAgICAgICAgIGNhcmRUeXBlOiBjYXJkVHlwZUZvclByb21wdCxcbiAgICAgICAgICAgIHRvRmllbGQsXG4gICAgICAgICAgICBmcm9tRmllbGQsXG4gICAgICAgICAgICBpc0RyYWZ0TW9kZTogZmFsc2UsIC8vIEV4cGxpY2l0bHkgc2V0IHRvIGZhbHNlIGZvciB0ZW1wbGF0ZSBnZW5lcmF0aW9uXG4gICAgICAgICAgICBpc1RlbXBsYXRlQ3VzdG9taXphdGlvbjogdHJ1ZSxcbiAgICAgICAgICAgIC4uLihpbnB1dEltYWdlcy5sZW5ndGggPiAwICYmIHsgXG4gICAgICAgICAgICAgIGlucHV0X2ltYWdlczogaW5wdXRJbWFnZXMsXG4gICAgICAgICAgICAgIGlucHV0X2ltYWdlc19tb2RlOiBcImZyb250X2NvdmVyX29ubHlcIiAvLyBBbGwgcmVmZXJlbmNlIGltYWdlcyBzaG91bGQgZ28gdG8gZnJvbnQgY292ZXIgZm9yIGNoYXJhY3RlciBjcmVhdGlvblxuICAgICAgICAgICAgfSlcbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICB9KTtcblxuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFNlcnZlciBlcnJvcjogJHtyZXNwb25zZS5zdGF0dXN9YCk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgIFxuICAgICAgaWYgKHJlc3VsdC5zdGF0dXMgIT09ICdwcm9jZXNzaW5nJykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IocmVzdWx0Lm1lc3NhZ2UgfHwgJ0ZhaWxlZCB0byBzdGFydCBjYXJkIGdlbmVyYXRpb24nKTtcbiAgICAgIH1cblxuICAgICAgc2V0R2VuZXJhdGlvblByb2dyZXNzKFwi4pyoIEJyaW5naW5nIHlvdXIgY3VzdG9taXplZCB0ZW1wbGF0ZSB0byBsaWZlLi4uXCIpO1xuICAgICAgdG9hc3Quc3VjY2VzcyhcIvCfjokgWW91ciBwZXJzb25hbGl6ZWQgdGVtcGxhdGUgY2FyZCBnZW5lcmF0aW9uIHN0YXJ0ZWQhXCIpO1xuICAgICAgXG4gICAgICBwb2xsSm9iU3RhdHVzKGpvYklkKTtcblxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdUZW1wbGF0ZSBjdXN0b21pemF0aW9uIGdlbmVyYXRpb24gZXJyb3I6JywgZXJyb3IpO1xuICAgICAgdG9hc3QuZXJyb3IoXCJGYWlsZWQgdG8gZ2VuZXJhdGUgY3VzdG9taXplZCBjYXJkLiBQbGVhc2UgdHJ5IGFnYWluLlwiKTtcbiAgICAgIFxuICAgICAgaWYgKGN1cnJlbnRKb2JJZCkge1xuICAgICAgICByZW1vdmVKb2JGcm9tU3RvcmFnZShjdXJyZW50Sm9iSWQpO1xuICAgICAgICBzZXRDdXJyZW50Sm9iSWQobnVsbCk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIHNldElzR2VuZXJhdGluZyhmYWxzZSk7XG4gICAgICBzZXRHZW5lcmF0aW9uUHJvZ3Jlc3MoXCJcIik7XG4gICAgICBzdG9wRWxhcHNlZFRpbWVUcmFja2luZygpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBoYW5kbGVBcHBseVRlbXBsYXRlV2l0aEN1c3RvbWl6YXRpb25zID0gYXN5bmMgKCkgPT4ge1xuICAgIGlmICghc2VsZWN0ZWRUZW1wbGF0ZSkgcmV0dXJuO1xuICAgIFxuICAgIC8vIFNob3cgbG9hZGluZyBzdGF0ZSBpZiB3ZSBoYXZlIGN1c3RvbWl6YXRpb25zIHRvIHByb2Nlc3NcbiAgICBpZiAodGVtcGxhdGVDdXN0b21pemF0aW9ucy5wcm9tcHRDaGFuZ2VzLnRyaW0oKSAmJiBzZWxlY3RlZFRlbXBsYXRlLmdlbmVyYXRlZFByb21wdHMpIHtcbiAgICAgIHRvYXN0LmluZm8oXCLwn6SWIEFJIGlzIGFwcGx5aW5nIHlvdXIgY3VzdG9taXphdGlvbnMgdG8gdGhlIHRlbXBsYXRlLi4uXCIpO1xuICAgIH1cbiAgICBcbiAgICAvLyBBcHBseSB0ZW1wbGF0ZSBkYXRhIHRvIGZvcm0gLSBzdGFydCB3aXRoIG9yaWdpbmFsIHByb21wdFxuICAgIGxldCBmaW5hbFByb21wdCA9IHNlbGVjdGVkVGVtcGxhdGUucHJvbXB0IHx8IFwiXCI7XG4gICAgXG4gICAgLy8gSWYgd2UgaGF2ZSBjdXN0b21pemF0aW9ucyBhbmQgZ2VuZXJhdGVkIHByb21wdHMsIG1vZGlmeSB0aGVtIGRpcmVjdGx5IGFuZCBnZW5lcmF0ZSBpbW1lZGlhdGVseVxuICAgIGlmICh0ZW1wbGF0ZUN1c3RvbWl6YXRpb25zLnByb21wdENoYW5nZXMudHJpbSgpICYmIHNlbGVjdGVkVGVtcGxhdGUuZ2VuZXJhdGVkUHJvbXB0cykge1xuICAgICAgdHJ5IHtcbiAgICAgICAgLy8gRGlyZWN0bHkgbW9kaWZ5IHRoZSBnZW5lcmF0ZWQgcHJvbXB0cyB1c2luZyBBSVxuICAgICAgICBjb25zdCBtb2RpZmljYXRpb25RdWVyeSA9IGBZb3UgYXJlIGFuIGV4cGVydCBhdCBtb2RpZnlpbmcgZGV0YWlsZWQgaW1hZ2UgZ2VuZXJhdGlvbiBwcm9tcHRzIGZvciBncmVldGluZyBjYXJkcy4gWW91IGhhdmUgZXhpc3RpbmcgcHJvbXB0cyBmb3IgZWFjaCBzZWN0aW9uIG9mIGEgY2FyZCwgYW5kIHRoZSB1c2VyIHdhbnRzIHRvIG1ha2Ugc3BlY2lmaWMgY2hhbmdlcy5cblxuVVNFUidTIENVU1RPTUlaQVRJT04gUkVRVUVTVDogXCIke3RlbXBsYXRlQ3VzdG9taXphdGlvbnMucHJvbXB0Q2hhbmdlc31cIlxuXG5UQVNLOiBNb2RpZnkgZWFjaCBvZiB0aGUgcHJvdmlkZWQgcHJvbXB0cyB0byBpbmNvcnBvcmF0ZSB0aGUgdXNlcidzIHJlcXVlc3RlZCBjaGFuZ2VzIHdoaWxlIHByZXNlcnZpbmcgYWxsIHRoZSBvcmlnaW5hbCB0ZWNobmljYWwgc3BlY2lmaWNhdGlvbnMsIHNhZmV0eSBndWlkZWxpbmVzLCBhbmQgYXJ0aXN0aWMgZGV0YWlscy5cblxuSU5TVFJVQ1RJT05TOlxuMS4gT25seSBtb2RpZnkgZWxlbWVudHMgc3BlY2lmaWNhbGx5IG1lbnRpb25lZCBpbiB0aGUgdXNlcidzIGN1c3RvbWl6YXRpb24gcmVxdWVzdFxuMi4gUHJlc2VydmUgQUxMIHRlY2huaWNhbCBzcGVjaWZpY2F0aW9ucyAocG9ydHJhaXQgZm9ybWF0LCB0ZXh0IHBvc2l0aW9uaW5nLCBlZGdlIHNhZmV0eSwgZXRjLilcbjMuIE1haW50YWluIHRoZSBzYW1lIGFydGlzdGljIHN0eWxlIGFuZCBxdWFsaXR5IGxldmVsXG40LiBLZWVwIGFsbCBzYWZldHkgZ3VpZGVsaW5lcyBhbmQgY29udGVudCBwb2xpY2llc1xuNS4gUHJlc2VydmUgdGhlIGdyZWV0aW5nIGNhcmQgY29udGV4dCBhbmQgcHVycG9zZVxuNi4gSWYgdGhlIGN1c3RvbWl6YXRpb24gYWZmZWN0cyBtdWx0aXBsZSBzZWN0aW9ucywgYXBwbHkgaXQgY29uc2lzdGVudGx5XG5cbk9SSUdJTkFMIFBST01QVFMgVE8gTU9ESUZZOlxuXG5GUk9OVCBDT1ZFUjpcbiR7c2VsZWN0ZWRUZW1wbGF0ZS5nZW5lcmF0ZWRQcm9tcHRzLmZyb250Q292ZXJ9XG5cbkJBQ0sgQ09WRVI6XG4ke3NlbGVjdGVkVGVtcGxhdGUuZ2VuZXJhdGVkUHJvbXB0cy5iYWNrQ292ZXJ9XG5cbiR7c2VsZWN0ZWRUZW1wbGF0ZS5nZW5lcmF0ZWRQcm9tcHRzLmxlZnRJbnRlcmlvciA/IGBMRUZUIElOVEVSSU9SOlxuJHtzZWxlY3RlZFRlbXBsYXRlLmdlbmVyYXRlZFByb21wdHMubGVmdEludGVyaW9yfVxuXG5gIDogJyd9JHtzZWxlY3RlZFRlbXBsYXRlLmdlbmVyYXRlZFByb21wdHMucmlnaHRJbnRlcmlvciA/IGBSSUdIVCBJTlRFUklPUjpcbiR7c2VsZWN0ZWRUZW1wbGF0ZS5nZW5lcmF0ZWRQcm9tcHRzLnJpZ2h0SW50ZXJpb3J9YCA6ICcnfVxuXG5SZXR1cm4gdGhlIG1vZGlmaWVkIHByb21wdHMgaW4gSlNPTiBmb3JtYXQ6XG57XG4gIFwiZnJvbnRDb3ZlclwiOiBcImNvbXBsZXRlIG1vZGlmaWVkIGZyb250IGNvdmVyIHByb21wdFwiLFxuICBcImJhY2tDb3ZlclwiOiBcImNvbXBsZXRlIG1vZGlmaWVkIGJhY2sgY292ZXIgcHJvbXB0XCIke3NlbGVjdGVkVGVtcGxhdGUuZ2VuZXJhdGVkUHJvbXB0cy5sZWZ0SW50ZXJpb3IgPyAnLFxcbiAgXCJsZWZ0SW50ZXJpb3JcIjogXCJjb21wbGV0ZSBtb2RpZmllZCBsZWZ0IGludGVyaW9yIHByb21wdFwiJyA6ICcnfSR7c2VsZWN0ZWRUZW1wbGF0ZS5nZW5lcmF0ZWRQcm9tcHRzLnJpZ2h0SW50ZXJpb3IgPyAnLFxcbiAgXCJyaWdodEludGVyaW9yXCI6IFwiY29tcGxldGUgbW9kaWZpZWQgcmlnaHQgaW50ZXJpb3IgcHJvbXB0XCInIDogJyd9XG59YDtcblxuICAgICAgICBjb25zdCBtb2RpZmllZFByb21wdHMgPSBhd2FpdCBjaGF0V2l0aEFJKG1vZGlmaWNhdGlvblF1ZXJ5LCB7XG4gICAgICAgICAgbW9kZWw6ICdnZW1pbmktMi41LXBybycsXG4gICAgICAgICAgaW5jbHVkZVRob3VnaHRzOiBmYWxzZSxcbiAgICAgICAgICBqc29uU2NoZW1hOiB7XG4gICAgICAgICAgICB0eXBlOiBcIm9iamVjdFwiLFxuICAgICAgICAgICAgcHJvcGVydGllczoge1xuICAgICAgICAgICAgICBmcm9udENvdmVyOiB7IHR5cGU6IFwic3RyaW5nXCIgfSxcbiAgICAgICAgICAgICAgYmFja0NvdmVyOiB7IHR5cGU6IFwic3RyaW5nXCIgfSxcbiAgICAgICAgICAgICAgLi4uKHNlbGVjdGVkVGVtcGxhdGUuZ2VuZXJhdGVkUHJvbXB0cy5sZWZ0SW50ZXJpb3IgPyB7IGxlZnRJbnRlcmlvcjogeyB0eXBlOiBcInN0cmluZ1wiIH0gfSA6IHt9KSxcbiAgICAgICAgICAgICAgLi4uKHNlbGVjdGVkVGVtcGxhdGUuZ2VuZXJhdGVkUHJvbXB0cy5yaWdodEludGVyaW9yID8geyByaWdodEludGVyaW9yOiB7IHR5cGU6IFwic3RyaW5nXCIgfSB9IDoge30pXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcmVxdWlyZWQ6IFtcImZyb250Q292ZXJcIiwgXCJiYWNrQ292ZXJcIl1cbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChtb2RpZmllZFByb21wdHMgJiYgbW9kaWZpZWRQcm9tcHRzLmZyb250Q292ZXIpIHtcbiAgICAgICAgICAvLyBHZW5lcmF0ZSBjYXJkIGRpcmVjdGx5IHdpdGggbW9kaWZpZWQgcHJvbXB0cywgYnlwYXNzaW5nIHRoZSBub3JtYWwgcHJvbXB0LXRvLXByb21wdHMgZmxvd1xuICAgICAgICAgIHRvYXN0LmluZm8oXCLwn6SWIEFJIGhhcyBjdXN0b21pemVkIHRoZSB0ZW1wbGF0ZSBwcm9tcHRzISBHZW5lcmF0aW5nIHlvdXIgcGVyc29uYWxpemVkIGNhcmQuLi5cIik7XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gU2V0IGJhc2ljIGZvcm0gZGF0YVxuICAgICAgICAgIHNldFByb21wdChzZWxlY3RlZFRlbXBsYXRlLnByb21wdCB8fCBcIlwiKTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBDbGVhciBzdGF0ZXMgYW5kIHN0YXJ0IGdlbmVyYXRpb24gZGlyZWN0bHkgd2l0aCBtb2RpZmllZCBwcm9tcHRzXG4gICAgICAgICAgc2V0R2VuZXJhdGVkQ2FyZHMoW10pO1xuICAgICAgICAgIHNldEdlbmVyYXRlZENhcmQobnVsbCk7XG4gICAgICAgICAgc2V0U2VsZWN0ZWRDYXJkSW5kZXgoMCk7XG4gICAgICAgICAgc2V0Q3VycmVudENhcmRJZChudWxsKTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBDbGVhciBkcmFmdCBtb2RlIHN0YXRlcyB0byBwcmV2ZW50IFVJIGNvbmZsaWN0c1xuICAgICAgICAgIHNldElzRHJhZnRNb2RlKGZhbHNlKTtcbiAgICAgICAgICBzZXREcmFmdENhcmRzKFtdKTtcbiAgICAgICAgICBzZXRTZWxlY3RlZERyYWZ0SW5kZXgoLTEpO1xuICAgICAgICAgIHNldElzR2VuZXJhdGluZ0ZpbmFsQ2FyZChmYWxzZSk7XG4gICAgICAgICAgc2V0UHJldmlld2luZ0RyYWZ0SW5kZXgoLTEpO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIENsZWFyIHByb2dyZXNzIHN0YXRlc1xuICAgICAgICAgIHNldEdlbmVyYXRpb25Qcm9ncmVzcyhcIlwiKTtcbiAgICAgICAgICBzZXRJc0dlbmVyYXRpbmcoZmFsc2UpO1xuICAgICAgICAgIHNldElzQ2FyZENvbXBsZXRlZChmYWxzZSk7XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gQ2xvc2UgZGlhbG9nc1xuICAgICAgICAgIHNldFNob3dUZW1wbGF0ZUN1c3RvbWl6YXRpb24oZmFsc2UpO1xuICAgICAgICAgIHNldFNlbGVjdGVkVGVtcGxhdGUobnVsbCk7XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gU3RhcnQgZ2VuZXJhdGlvbiB3aXRoIG1vZGlmaWVkIHByb21wdHNcbiAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIGdlbmVyYXRlQ2FyZFdpdGhFeGlzdGluZ1Byb21wdHMobW9kaWZpZWRQcm9tcHRzKTtcbiAgICAgICAgICB9LCAxMDAwKTtcbiAgICAgICAgICBcbiAgICAgICAgICByZXR1cm47IC8vIEV4aXQgZWFybHkgc2luY2Ugd2UncmUgaGFuZGxpbmcgZ2VuZXJhdGlvbiBkaXJlY3RseVxuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gbW9kaWZ5IHRlbXBsYXRlIHByb21wdHMgZGlyZWN0bHk6JywgZXJyb3IpO1xuICAgICAgICB0b2FzdC5lcnJvcihcIkZhaWxlZCB0byBjdXN0b21pemUgdGVtcGxhdGUgcHJvbXB0cy4gVXNpbmcgZmFsbGJhY2sgbWV0aG9kLlwiKTtcbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgLy8gRmFsbGJhY2s6IG1vZGlmeSB0aGUgdXNlciBwcm9tcHQgYW5kIHVzZSBub3JtYWwgZ2VuZXJhdGlvbiBmbG93XG4gICAgaWYgKHRlbXBsYXRlQ3VzdG9taXphdGlvbnMucHJvbXB0Q2hhbmdlcy50cmltKCkpIHtcbiAgICAgIGZpbmFsUHJvbXB0ID0gYCR7ZmluYWxQcm9tcHR9XG5cbkNVU1RPTUlaQVRJT04gUkVRVUVTVDogJHt0ZW1wbGF0ZUN1c3RvbWl6YXRpb25zLnByb21wdENoYW5nZXN9YDtcbiAgICB9XG4gICAgXG4gICAgc2V0UHJvbXB0KGZpbmFsUHJvbXB0KTtcbiAgICBcbiAgICAvLyBUcnkgdG8gZXh0cmFjdCBjYXJkIHR5cGUgZnJvbSBwcm9tcHRcbiAgICBjb25zdCBwcm9tcHRMb3dlciA9IChzZWxlY3RlZFRlbXBsYXRlLnByb21wdCB8fCBcIlwiKS50b0xvd2VyQ2FzZSgpO1xuICAgIGxldCBkZXRlY3RlZFR5cGUgPSBcImJpcnRoZGF5XCI7IC8vIGRlZmF1bHRcbiAgICBcbiAgICBjYXJkVHlwZXMuZm9yRWFjaCh0eXBlID0+IHtcbiAgICAgIGlmICh0eXBlLmlkICE9PSBcImN1c3RvbVwiICYmIHByb21wdExvd2VyLmluY2x1ZGVzKHR5cGUuaWQudG9Mb3dlckNhc2UoKSkpIHtcbiAgICAgICAgZGV0ZWN0ZWRUeXBlID0gdHlwZS5pZDtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBcbiAgICBzZXRTZWxlY3RlZFR5cGUoZGV0ZWN0ZWRUeXBlKTtcbiAgICBcbiAgICAvLyBBcHBseSBtZXNzYWdlIGN1c3RvbWl6YXRpb25zXG4gICAgaWYgKHRlbXBsYXRlQ3VzdG9taXphdGlvbnMubWVzc2FnZUNoYW5nZXMudHJpbSgpKSB7XG4gICAgICBzZXRGaW5hbENhcmRNZXNzYWdlKHRlbXBsYXRlQ3VzdG9taXphdGlvbnMubWVzc2FnZUNoYW5nZXMpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzZXRGaW5hbENhcmRNZXNzYWdlKFwiXCIpOyAvLyBMZXQgaXQgYXV0by1nZW5lcmF0ZVxuICAgIH1cbiAgICBcbiAgICAvLyBIYW5kbGUgcmVmZXJlbmNlIGltYWdlIGlmIHByb3ZpZGVkXG4gICAgaWYgKHRlbXBsYXRlQ3VzdG9taXphdGlvbnMudXNlUmVmZXJlbmNlSW1hZ2UgJiYgdGVtcGxhdGVDdXN0b21pemF0aW9ucy5yZWZlcmVuY2VJbWFnZUZpbGUpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIC8vIFVwbG9hZCB0aGUgcmVmZXJlbmNlIGltYWdlXG4gICAgICAgIGNvbnN0IGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7XG4gICAgICAgIGZvcm1EYXRhLmFwcGVuZCgnZmlsZScsIHRlbXBsYXRlQ3VzdG9taXphdGlvbnMucmVmZXJlbmNlSW1hZ2VGaWxlKTtcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IHVwbG9hZFJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7QkFDS0VORF9BUElfQkFTRV9VUkx9L3VwbG9hZGAsIHtcbiAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICBib2R5OiBmb3JtRGF0YSxcbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICBpZiAodXBsb2FkUmVzcG9uc2Uub2spIHtcbiAgICAgICAgICBjb25zdCB1cGxvYWRSZXN1bHQgPSBhd2FpdCB1cGxvYWRSZXNwb25zZS5qc29uKCk7XG4gICAgICAgICAgLy8gQWRkIHRvIGV4aXN0aW5nIHJlZmVyZW5jZSBpbWFnZXMgaW5zdGVhZCBvZiByZXBsYWNpbmcgdGhlbVxuICAgICAgICAgIHNldFJlZmVyZW5jZUltYWdlcyhwcmV2ID0+IFsuLi5wcmV2LCB0ZW1wbGF0ZUN1c3RvbWl6YXRpb25zLnJlZmVyZW5jZUltYWdlRmlsZSFdKTtcbiAgICAgICAgICBzZXRSZWZlcmVuY2VJbWFnZVVybHMocHJldiA9PiBbLi4ucHJldiwgdXBsb2FkUmVzdWx0LnVybF0pO1xuICAgICAgICAgIHNldEltYWdlVHJhbnNmb3JtYXRpb24odGVtcGxhdGVDdXN0b21pemF0aW9ucy5yZWZlcmVuY2VJbWFnZVRyYW5zZm9ybWF0aW9uIHx8IFwiVHJhbnNmb3JtIGludG8gdGhlIHNhbWUgYXJ0aXN0aWMgc3R5bGUgYXMgdGhlIHRlbXBsYXRlXCIpO1xuICAgICAgICAgIHRvYXN0LnN1Y2Nlc3MoXCJSZWZlcmVuY2UgaW1hZ2UgdXBsb2FkZWQgc3VjY2Vzc2Z1bGx5IVwiKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0b2FzdC5lcnJvcihcIkZhaWxlZCB0byB1cGxvYWQgcmVmZXJlbmNlIGltYWdlXCIpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdSZWZlcmVuY2UgaW1hZ2UgdXBsb2FkIGZhaWxlZDonLCBlcnJvcik7XG4gICAgICAgIHRvYXN0LmVycm9yKFwiRmFpbGVkIHRvIHVwbG9hZCByZWZlcmVuY2UgaW1hZ2VcIik7XG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIC8vIENsZWFyIGN1cnJlbnQgZ2VuZXJhdGVkIGNhcmRzIHNpbmNlIHdlJ3JlIHN0YXJ0aW5nIGZyZXNoIHdpdGggYSB0ZW1wbGF0ZVxuICAgIHNldEdlbmVyYXRlZENhcmRzKFtdKTtcbiAgICBzZXRHZW5lcmF0ZWRDYXJkKG51bGwpO1xuICAgIHNldFNlbGVjdGVkQ2FyZEluZGV4KDApO1xuICAgIHNldEN1cnJlbnRDYXJkSWQobnVsbCk7XG4gICAgXG4gICAgLy8gQ2xlYXIgZHJhZnQgbW9kZSBzdGF0ZXMgdG8gcHJldmVudCBVSSBjb25mbGljdHNcbiAgICBzZXRJc0RyYWZ0TW9kZShmYWxzZSk7XG4gICAgc2V0RHJhZnRDYXJkcyhbXSk7XG4gICAgc2V0U2VsZWN0ZWREcmFmdEluZGV4KC0xKTtcbiAgICBzZXRJc0dlbmVyYXRpbmdGaW5hbENhcmQoZmFsc2UpO1xuICAgIHNldFByZXZpZXdpbmdEcmFmdEluZGV4KC0xKTtcbiAgICBcbiAgICAvLyBDbGVhciBwcm9ncmVzcyBzdGF0ZXNcbiAgICBzZXRHZW5lcmF0aW9uUHJvZ3Jlc3MoXCJcIik7XG4gICAgc2V0SXNHZW5lcmF0aW5nKGZhbHNlKTtcbiAgICBzZXRJc0NhcmRDb21wbGV0ZWQoZmFsc2UpO1xuICAgIFxuICAgIC8vIENsb3NlIGN1c3RvbWl6YXRpb24gZGlhbG9nXG4gICAgc2V0U2hvd1RlbXBsYXRlQ3VzdG9taXphdGlvbihmYWxzZSk7XG4gICAgc2V0U2VsZWN0ZWRUZW1wbGF0ZShudWxsKTtcbiAgICBcbiAgICBjb25zdCBjdXN0b21pemF0aW9uU3VtbWFyeSA9IFtdO1xuICAgIGlmICh0ZW1wbGF0ZUN1c3RvbWl6YXRpb25zLnByb21wdENoYW5nZXMudHJpbSgpKSBjdXN0b21pemF0aW9uU3VtbWFyeS5wdXNoKFwicHJvbXB0IGNoYW5nZXNcIik7XG4gICAgaWYgKHRlbXBsYXRlQ3VzdG9taXphdGlvbnMubWVzc2FnZUNoYW5nZXMudHJpbSgpKSBjdXN0b21pemF0aW9uU3VtbWFyeS5wdXNoKFwiY3VzdG9tIG1lc3NhZ2VcIik7XG4gICAgaWYgKHRlbXBsYXRlQ3VzdG9taXphdGlvbnMudXNlUmVmZXJlbmNlSW1hZ2UpIGN1c3RvbWl6YXRpb25TdW1tYXJ5LnB1c2goXCJyZWZlcmVuY2UgaW1hZ2VcIik7XG4gICAgXG4gICAgY29uc3Qgc3VtbWFyeVRleHQgPSBjdXN0b21pemF0aW9uU3VtbWFyeS5sZW5ndGggPiAwIFxuICAgICAgPyBgIHdpdGggJHtjdXN0b21pemF0aW9uU3VtbWFyeS5qb2luKFwiLCBcIil9YFxuICAgICAgOiBcIlwiO1xuICAgIFxuICAgIHRvYXN0LnN1Y2Nlc3MoYOKcqCBUZW1wbGF0ZSBjdXN0b21pemVkJHtzdW1tYXJ5VGV4dH0hIEdlbmVyYXRpbmcgeW91ciBwZXJzb25hbGl6ZWQgY2FyZC4uLmApO1xuICAgIFxuICAgIC8vIEF1dG9tYXRpY2FsbHkgc3RhcnQgY2FyZCBnZW5lcmF0aW9uXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBoYW5kbGVHZW5lcmF0ZUNhcmRBc3luYygpO1xuICAgIH0sIDEwMDApOyAvLyBTbWFsbCBkZWxheSB0byBsZXQgdGhlIHVzZXIgc2VlIHRoZSBzdWNjZXNzIG1lc3NhZ2VcbiAgfTtcblxuICAvLyBDcmVhdGUgbmV3IGNhcmQgZnVuY3Rpb24gLSBjbGVhcnMgYWxsIGRhdGFcbiAgY29uc3QgaGFuZGxlQ3JlYXRlTmV3Q2FyZCA9ICgpID0+IHtcbiAgICAvLyBDbGVhciBhbGwgZm9ybSBmaWVsZHNcbiAgICBzZXRQcm9tcHQoXCJcIik7XG4gICAgc2V0RmluYWxDYXJkTWVzc2FnZShcIlwiKTtcbiAgICBzZXRUb0ZpZWxkKFwiXCIpO1xuICAgIHNldEZyb21GaWVsZChcIlwiKTtcbiAgICBzZXRTZWxlY3RlZFR5cGUoXCJiaXJ0aGRheVwiKTtcbiAgICBzZXRDdXN0b21DYXJkVHlwZShcIlwiKTtcbiAgICBzZXRTZWxlY3RlZFRvbmUoXCJmdW5ueVwiKTtcbiAgICBzZXRTZWxlY3RlZEFydGlzdGljU3R5bGUoXCJhaS1zbWFydC1zdHlsZVwiKTtcbiAgICBzZXRDdXN0b21TdHlsZURlc2NyaXB0aW9uKFwiXCIpO1xuICAgIHNldFNlbGVjdGVkSW1hZ2VNb2RlbChcImdwdC1pbWFnZS0xXCIpO1xuICAgIHNldE51bWJlck9mQ2FyZHMoMSk7XG4gICAgc2V0VXNlckVtYWlsKFwiXCIpO1xuICAgIHNldFJlZmVyZW5jZUltYWdlcyhbXSk7XG4gICAgc2V0UmVmZXJlbmNlSW1hZ2VVcmxzKFtdKTtcbiAgICBzZXRJbWFnZVRyYW5zZm9ybWF0aW9uKFwiXCIpO1xuICAgIHNldEhhbmR3cml0aW5nU2FtcGxlKG51bGwpO1xuICAgIHNldEhhbmR3cml0aW5nU2FtcGxlVXJsKG51bGwpO1xuICAgIHNldElzSGFuZHdyaXR0ZW5NZXNzYWdlKGZhbHNlKTtcbiAgICBzZXRJc0Zyb250QmFja09ubHkoZmFsc2UpO1xuICAgIHNldFNlbGVjdGVkUGFwZXJTaXplKFwic3RhbmRhcmRcIik7XG4gICAgXG4gICAgLy8gQ2xlYXIgZ2VuZXJhdGVkIGNhcmRzXG4gICAgc2V0R2VuZXJhdGVkQ2FyZHMoW10pO1xuICAgIHNldEdlbmVyYXRlZENhcmQobnVsbCk7XG4gICAgc2V0U2VsZWN0ZWRDYXJkSW5kZXgoMCk7XG4gICAgc2V0Q3VycmVudENhcmRJZChudWxsKTtcbiAgICBcbiAgICAvLyBDbGVhciBkcmFmdCBtb2RlIHN0YXRlc1xuICAgIHNldElzRHJhZnRNb2RlKGZhbHNlKTtcbiAgICBzZXREcmFmdENhcmRzKFtdKTtcbiAgICBzZXRTZWxlY3RlZERyYWZ0SW5kZXgoLTEpO1xuICAgIHNldElzR2VuZXJhdGluZ0ZpbmFsQ2FyZChmYWxzZSk7XG4gICAgc2V0UHJldmlld2luZ0RyYWZ0SW5kZXgoLTEpO1xuICAgIFxuICAgIC8vIENsZWFyIHByb2dyZXNzIGFuZCBzdGF0ZXNcbiAgICBzZXRHZW5lcmF0aW9uUHJvZ3Jlc3MoXCJcIik7XG4gICAgc2V0SXNHZW5lcmF0aW5nKGZhbHNlKTtcbiAgICBzZXRJc0dlbmVyYXRpbmdNZXNzYWdlKGZhbHNlKTtcbiAgICBzZXRJc0NhcmRDb21wbGV0ZWQoZmFsc2UpO1xuICAgIHNldENvdW50ZG93bigwKTtcbiAgICBpZiAoY291bnRkb3duSW50ZXJ2YWwpIHtcbiAgICAgIGNsZWFySW50ZXJ2YWwoY291bnRkb3duSW50ZXJ2YWwpO1xuICAgICAgc2V0Q291bnRkb3duSW50ZXJ2YWwobnVsbCk7XG4gICAgfVxuICAgIFxuICAgIC8vIENsZWFyIG1lc3NhZ2UgaGlzdG9yeVxuICAgIHNldE1lc3NhZ2VIaXN0b3J5KFtdKTtcbiAgICBzZXRDdXJyZW50TWVzc2FnZUluZGV4KC0xKTtcbiAgICBzZXRSZWZpbmVtZW50UHJvbXB0KFwiXCIpO1xuICAgIHNldFNob3dSZWZpbmVtZW50Qm94KGZhbHNlKTtcbiAgICBcbiAgICAvLyBDbGVhciBsb2NhbFN0b3JhZ2VcbiAgICB0cnkge1xuICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ3ZpYmVjYXJkaW5nLWZvcm0tZGF0YScpO1xuICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ3ZpYmVjYXJkaW5nLWdlbmVyYXRlZC1jYXJkcycpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBjbGVhcmluZyBsb2NhbFN0b3JhZ2U6JywgZXJyb3IpO1xuICAgIH1cbiAgICBcbiAgICB0b2FzdC5zdWNjZXNzKFwi4pyoIFJlYWR5IHRvIGNyZWF0ZSBhIG5ldyBjYXJkIVwiKTtcbiAgfTtcblxuICAvLyBSZWdlbmVyYXRlIHdpdGggc2FtZSBwcm9tcHQgZnVuY3Rpb25cbiAgY29uc3QgaGFuZGxlUmVnZW5lcmF0ZUNhcmQgPSAoKSA9PiB7XG4gICAgLy8gS2VlcCBhbGwgY3VycmVudCBzZXR0aW5ncyBidXQgY2xlYXIgZ2VuZXJhdGVkIHJlc3VsdHNcbiAgICBzZXRHZW5lcmF0ZWRDYXJkcyhbXSk7XG4gICAgc2V0R2VuZXJhdGVkQ2FyZChudWxsKTtcbiAgICBzZXRTZWxlY3RlZENhcmRJbmRleCgwKTtcbiAgICBzZXRDdXJyZW50Q2FyZElkKG51bGwpO1xuICAgIFxuICAgIC8vIENsZWFyIGRyYWZ0IG1vZGUgc3RhdGVzXG4gICAgc2V0SXNEcmFmdE1vZGUoZmFsc2UpO1xuICAgIHNldERyYWZ0Q2FyZHMoW10pO1xuICAgIHNldFNlbGVjdGVkRHJhZnRJbmRleCgtMSk7XG4gICAgc2V0SXNHZW5lcmF0aW5nRmluYWxDYXJkKGZhbHNlKTtcbiAgICBzZXRQcmV2aWV3aW5nRHJhZnRJbmRleCgtMSk7XG4gICAgXG4gICAgLy8gQ2xlYXIgcHJvZ3Jlc3MgYW5kIHN0YXRlc1xuICAgIHNldEdlbmVyYXRpb25Qcm9ncmVzcyhcIlwiKTtcbiAgICBzZXRJc0dlbmVyYXRpbmcoZmFsc2UpO1xuICAgIHNldElzR2VuZXJhdGluZ01lc3NhZ2UoZmFsc2UpO1xuICAgIHNldElzQ2FyZENvbXBsZXRlZChmYWxzZSk7XG4gICAgc2V0Q291bnRkb3duKDApO1xuICAgIGlmIChjb3VudGRvd25JbnRlcnZhbCkge1xuICAgICAgY2xlYXJJbnRlcnZhbChjb3VudGRvd25JbnRlcnZhbCk7XG4gICAgICBzZXRDb3VudGRvd25JbnRlcnZhbChudWxsKTtcbiAgICB9XG4gICAgXG4gICAgLy8gQ2xlYXIgZ2VuZXJhdGVkIGNhcmRzIGZyb20gbG9jYWxTdG9yYWdlIGJ1dCBrZWVwIGZvcm0gZGF0YVxuICAgIHRyeSB7XG4gICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgndmliZWNhcmRpbmctZ2VuZXJhdGVkLWNhcmRzJyk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGNsZWFyaW5nIGdlbmVyYXRlZCBjYXJkczonLCBlcnJvcik7XG4gICAgfVxuICAgIFxuICAgIHRvYXN0LnN1Y2Nlc3MoXCLwn5SEIFJlYWR5IHRvIHJlZ2VuZXJhdGUgd2l0aCB0aGUgc2FtZSBzZXR0aW5ncyFcIik7XG4gIH07XG5cbiAgLy8gTWVzc2FnZSB2ZXJzaW9uIGNvbnRyb2wgZnVuY3Rpb25zXG4gIGNvbnN0IGFkZE1lc3NhZ2VUb0hpc3RvcnkgPSAobWVzc2FnZTogc3RyaW5nKSA9PiB7XG4gICAgaWYgKG1lc3NhZ2UudHJpbSgpID09PSBcIlwiKSByZXR1cm47XG4gICAgXG4gICAgLy8gU2FmZXR5IGNoZWNrOiBSZW1vdmUgYW55IE1FU1NBR0UgdGFncyB0aGF0IG1pZ2h0IGhhdmUgc2xpcHBlZCB0aHJvdWdoXG4gICAgY29uc3QgY2xlYW5NZXNzYWdlID0gbWVzc2FnZS5yZXBsYWNlKC88XFwvP01FU1NBR0U+L2csICcnKS50cmltKCk7XG4gICAgaWYgKGNsZWFuTWVzc2FnZSA9PT0gXCJcIikgcmV0dXJuO1xuICAgIFxuICAgIC8vIFJlbW92ZSBhbnkgZnV0dXJlIGhpc3RvcnkgaWYgd2UncmUgbm90IGF0IHRoZSBlbmRcbiAgICBjb25zdCBuZXdIaXN0b3J5ID0gbWVzc2FnZUhpc3Rvcnkuc2xpY2UoMCwgY3VycmVudE1lc3NhZ2VJbmRleCArIDEpO1xuICAgIG5ld0hpc3RvcnkucHVzaChjbGVhbk1lc3NhZ2UpO1xuICAgIFxuICAgIC8vIEtlZXAgb25seSBsYXN0IDEwIHZlcnNpb25zIHRvIHByZXZlbnQgbWVtb3J5IGlzc3Vlc1xuICAgIGlmIChuZXdIaXN0b3J5Lmxlbmd0aCA+IDEwKSB7XG4gICAgICBuZXdIaXN0b3J5LnNoaWZ0KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNldEN1cnJlbnRNZXNzYWdlSW5kZXgoY3VycmVudE1lc3NhZ2VJbmRleCArIDEpO1xuICAgIH1cbiAgICBcbiAgICBzZXRNZXNzYWdlSGlzdG9yeShuZXdIaXN0b3J5KTtcbiAgICBzZXRDdXJyZW50TWVzc2FnZUluZGV4KG5ld0hpc3RvcnkubGVuZ3RoIC0gMSk7XG4gIH07XG5cbiAgY29uc3QgdW5kb01lc3NhZ2UgPSAoKSA9PiB7XG4gICAgaWYgKGN1cnJlbnRNZXNzYWdlSW5kZXggPiAwKSB7XG4gICAgICBjb25zdCBuZXdJbmRleCA9IGN1cnJlbnRNZXNzYWdlSW5kZXggLSAxO1xuICAgICAgc2V0Q3VycmVudE1lc3NhZ2VJbmRleChuZXdJbmRleCk7XG4gICAgICBzZXRGaW5hbENhcmRNZXNzYWdlKG1lc3NhZ2VIaXN0b3J5W25ld0luZGV4XSk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IHJlZG9NZXNzYWdlID0gKCkgPT4ge1xuICAgIGlmIChjdXJyZW50TWVzc2FnZUluZGV4IDwgbWVzc2FnZUhpc3RvcnkubGVuZ3RoIC0gMSkge1xuICAgICAgY29uc3QgbmV3SW5kZXggPSBjdXJyZW50TWVzc2FnZUluZGV4ICsgMTtcbiAgICAgIHNldEN1cnJlbnRNZXNzYWdlSW5kZXgobmV3SW5kZXgpO1xuICAgICAgc2V0RmluYWxDYXJkTWVzc2FnZShtZXNzYWdlSGlzdG9yeVtuZXdJbmRleF0pO1xuICAgIH1cbiAgfTtcblxuICAvLyBIYW5kbGUgbWVzc2FnZSByZWZpbmVtZW50XG4gIGNvbnN0IGhhbmRsZVJlZmluZU1lc3NhZ2UgPSBhc3luYyAoKSA9PiB7XG4gICAgaWYgKCFyZWZpbmVtZW50UHJvbXB0LnRyaW0oKSB8fCAhZmluYWxDYXJkTWVzc2FnZS50cmltKCkpIHtcbiAgICAgIHRvYXN0LmVycm9yKFwiUGxlYXNlIGVudGVyIGJvdGggYSBtZXNzYWdlIGFuZCByZWZpbmVtZW50IGluc3RydWN0aW9ucyFcIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgc2V0SXNSZWZpbmluZ01lc3NhZ2UodHJ1ZSk7XG5cbiAgICB0cnkge1xuICAgICAgY29uc3QgY2FyZFR5cGVGb3JQcm9tcHQgPSBzZWxlY3RlZFR5cGUgPT09IFwiY3VzdG9tXCIgPyBjdXN0b21DYXJkVHlwZSA6IHNlbGVjdGVkVHlwZTtcbiAgICAgIGNvbnN0IHNlbGVjdGVkVG9uZU9iaiA9IGNhcmRUb25lcy5maW5kKHRvbmUgPT4gdG9uZS5pZCA9PT0gc2VsZWN0ZWRUb25lKTtcbiAgICAgIGNvbnN0IHRvbmVEZXNjcmlwdGlvbiA9IHNlbGVjdGVkVG9uZU9iaiA/IHNlbGVjdGVkVG9uZU9iai5kZXNjcmlwdGlvbi50b0xvd2VyQ2FzZSgpIDogXCJoZWFydGZlbHQgYW5kIHNpbmNlcmVcIjtcbiAgICAgIFxuICAgICAgY29uc3QgcmVmaW5lbWVudEFQSVByb21wdCA9IGBQbGVhc2UgcmVmaW5lIHRoaXMgZ3JlZXRpbmcgY2FyZCBtZXNzYWdlIGJhc2VkIG9uIHRoZSB1c2VyJ3MgaW5zdHJ1Y3Rpb25zLlxuXG5DdXJyZW50IE1lc3NhZ2U6IFwiJHtmaW5hbENhcmRNZXNzYWdlfVwiXG5cblJlZmluZW1lbnQgSW5zdHJ1Y3Rpb25zOiBcIiR7cmVmaW5lbWVudFByb21wdH1cIlxuXG5DYXJkIENvbnRleHQ6XG4tIFR5cGU6ICR7Y2FyZFR5cGVGb3JQcm9tcHR9XG4tIFRvbmU6ICR7dG9uZURlc2NyaXB0aW9ufVxuJHt0b0ZpZWxkID8gYC0gUmVjaXBpZW50OiAke3RvRmllbGR9YCA6IFwiXCJ9XG4ke2Zyb21GaWVsZCA/IGAtIFNlbmRlcjogJHtmcm9tRmllbGR9YCA6IFwiXCJ9XG5cblBsZWFzZSBwcm92aWRlIG9ubHkgdGhlIHJlZmluZWQgbWVzc2FnZSwgbWFpbnRhaW5pbmcgdGhlICR7dG9uZURlc2NyaXB0aW9ufSB0b25lIHdoaWxlIGltcGxlbWVudGluZyB0aGUgcmVxdWVzdGVkIGNoYW5nZXMuYDtcblxuICAgICAgY29uc3QgcmVmaW5lZE1lc3NhZ2UgPSBhd2FpdCBjaGF0V2l0aEFJKHJlZmluZW1lbnRBUElQcm9tcHQsIHtcbiAgICAgICAgbW9kZWw6IFwiZ2VtaW5pLTIuNS1wcm9cIixcbiAgICAgICAgaW5jbHVkZVRob3VnaHRzOiBmYWxzZVxuICAgICAgfSk7XG5cbiAgICAgIGlmIChyZWZpbmVkTWVzc2FnZT8udHJpbSgpKSB7XG4gICAgICAgIC8vIEFkZCBjdXJyZW50IG1lc3NhZ2UgdG8gaGlzdG9yeSBiZWZvcmUgY2hhbmdpbmdcbiAgICAgICAgYWRkTWVzc2FnZVRvSGlzdG9yeShmaW5hbENhcmRNZXNzYWdlKTtcbiAgICAgICAgXG4gICAgICAgIC8vIENsZWFuIGFueSBwb3RlbnRpYWwgTUVTU0FHRSB0YWdzIGZyb20gcmVmaW5lZCBtZXNzYWdlIChzYWZldHkgY2hlY2spXG4gICAgICAgIGNvbnN0IGNsZWFuZWRSZWZpbmVkTWVzc2FnZSA9IHJlZmluZWRNZXNzYWdlLnRyaW0oKS5yZXBsYWNlKC88XFwvP01FU1NBR0U+L2csICcnKS50cmltKCk7XG4gICAgICAgIFxuICAgICAgICAvLyBTZXQgdGhlIG5ldyByZWZpbmVkIG1lc3NhZ2VcbiAgICAgICAgc2V0RmluYWxDYXJkTWVzc2FnZShjbGVhbmVkUmVmaW5lZE1lc3NhZ2UpO1xuICAgICAgICBcbiAgICAgICAgLy8gQWRkIHRoZSBuZXcgbWVzc2FnZSB0byBoaXN0b3J5XG4gICAgICAgIGFkZE1lc3NhZ2VUb0hpc3RvcnkoY2xlYW5lZFJlZmluZWRNZXNzYWdlKTtcbiAgICAgICAgXG4gICAgICAgIHNldFJlZmluZW1lbnRQcm9tcHQoXCJcIik7XG4gICAgICAgIHNldFNob3dSZWZpbmVtZW50Qm94KGZhbHNlKTtcbiAgICAgICAgdG9hc3Quc3VjY2VzcyhcIk1lc3NhZ2UgcmVmaW5lZCBzdWNjZXNzZnVsbHkhXCIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyBtZXNzYWdlIHJlY2VpdmVkJyk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHJlZmluaW5nIG1lc3NhZ2U6JywgZXJyb3IpO1xuICAgICAgdG9hc3QuZXJyb3IoXCJGYWlsZWQgdG8gcmVmaW5lIG1lc3NhZ2UuIFBsZWFzZSB0cnkgYWdhaW4uXCIpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBzZXRJc1JlZmluaW5nTWVzc2FnZShmYWxzZSk7XG4gICAgfVxuICB9O1xuXG4gIC8vIFdyaXRpbmcgQXNzaXN0YW50XG4gICAgY29uc3QgaGFuZGxlR2V0TWVzc2FnZUhlbHAgPSBhc3luYyAoKSA9PiB7XG4gICAgLy8gVmFsaWRhdGUgY3VzdG9tIGNhcmQgdHlwZSBpZiBzZWxlY3RlZFxuICAgIGlmIChzZWxlY3RlZFR5cGUgPT09IFwiY3VzdG9tXCIgJiYgIWN1c3RvbUNhcmRUeXBlLnRyaW0oKSkge1xuICAgICAgdG9hc3QuZXJyb3IoXCJQbGVhc2UgZGVzY3JpYmUgeW91ciBjdXN0b20gY2FyZCB0eXBlIGZpcnN0IVwiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgXG4gICAgc2V0SXNHZW5lcmF0aW5nTWVzc2FnZSh0cnVlKTtcblxuICAgIHRyeSB7XG4gICAgICBjb25zdCBjYXJkVHlwZUZvclByb21wdCA9IHNlbGVjdGVkVHlwZSA9PT0gXCJjdXN0b21cIiA/IGN1c3RvbUNhcmRUeXBlIDogc2VsZWN0ZWRUeXBlO1xuICAgICAgY29uc3Qgc2VsZWN0ZWRUb25lT2JqID0gY2FyZFRvbmVzLmZpbmQodG9uZSA9PiB0b25lLmlkID09PSBzZWxlY3RlZFRvbmUpO1xuICAgICAgY29uc3QgdG9uZURlc2NyaXB0aW9uID0gc2VsZWN0ZWRUb25lT2JqID8gc2VsZWN0ZWRUb25lT2JqLmRlc2NyaXB0aW9uLnRvTG93ZXJDYXNlKCkgOiBcImhlYXJ0ZmVsdCBhbmQgc2luY2VyZVwiO1xuICAgICAgXG4gICAgICAvLyBVc2UgZWZmZWN0aXZlIHByb21wdCBsb2dpYyBoZXJlIHRvb1xuICAgICAgY29uc3QgZWZmZWN0aXZlUHJvbXB0ID0gcHJvbXB0LnRyaW0oKSB8fCBgQSBiZWF1dGlmdWwgJHtjYXJkVHlwZUZvclByb21wdH0gY2FyZCB3aXRoICR7dG9uZURlc2NyaXB0aW9ufSBzdHlsZWA7XG4gICAgICBcbiAgICAgIGNvbnN0IG1lc3NhZ2VQcm9tcHQgPSBgQ3JlYXRlIGEgJHt0b25lRGVzY3JpcHRpb259IG1lc3NhZ2UgZm9yIGEgJHtjYXJkVHlwZUZvclByb21wdH0gZ3JlZXRpbmcgY2FyZC5cblxuQ2FyZCBUaGVtZS9EZXNjcmlwdGlvbjogXCIke2VmZmVjdGl2ZVByb21wdH1cIlxuJHt0b0ZpZWxkID8gYFJlY2lwaWVudDogJHt0b0ZpZWxkfWAgOiBcIlJlY2lwaWVudDogW25vdCBzcGVjaWZpZWRdXCJ9XG4ke2Zyb21GaWVsZCA/IGBTZW5kZXI6ICR7ZnJvbUZpZWxkfWAgOiBcIlNlbmRlcjogW25vdCBzcGVjaWZpZWRdXCJ9XG5DYXJkIFRvbmU6ICR7c2VsZWN0ZWRUb25lT2JqID8gc2VsZWN0ZWRUb25lT2JqLmxhYmVsIDogXCJIZWFydGZlbHRcIn0gLSAke3RvbmVEZXNjcmlwdGlvbn1cblxuSW5zdHJ1Y3Rpb25zOlxuLSBXcml0ZSBhIG1lc3NhZ2UgdGhhdCBpcyAke3RvbmVEZXNjcmlwdGlvbn0gYW5kIGZlZWxzIHBlcnNvbmFsIGFuZCBnZW51aW5lXG4tICR7dG9GaWVsZCA/IGBBZGRyZXNzIHRoZSBtZXNzYWdlIHRvICR7dG9GaWVsZH0gZGlyZWN0bHksIHVzaW5nIHRoZWlyIG5hbWUgbmF0dXJhbGx5YCA6IFwiV3JpdGUgaW4gYSB3YXkgdGhhdCBjb3VsZCBiZSBwZXJzb25hbGl6ZWQgdG8gYW55IHJlY2lwaWVudFwifVxuLSAke2Zyb21GaWVsZCA/IGBXcml0ZSBhcyBpZiAke2Zyb21GaWVsZH0gaXMgcGVyc29uYWxseSB3cml0aW5nIHRoaXMgbWVzc2FnZWAgOiBgV3JpdGUgaW4gYSAke3RvbmVEZXNjcmlwdGlvbn0gdG9uZWB9XG4tIE1hdGNoIHRoZSAke3RvbmVEZXNjcmlwdGlvbn0gdG9uZSBhbmQgb2NjYXNpb24gb2YgdGhlICR7Y2FyZFR5cGVGb3JQcm9tcHR9IGNhcmQgdHlwZVxuLSBCZSBpbnNwaXJlZCBieSB0aGUgdGhlbWU6IFwiJHtlZmZlY3RpdmVQcm9tcHR9XCJcbi0gS2VlcCBpdCBjb25jaXNlIGJ1dCBtZWFuaW5nZnVsICgyLTQgc2VudGVuY2VzIGlkZWFsKVxuLSBNYWtlIGl0IGZlZWwgYXV0aGVudGljLCBub3QgZ2VuZXJpY1xuLSBTQUZFVFk6IE5ldmVyIGluY2x1ZGUgYnJhbmQgbmFtZXMsIGNoYXJhY3RlciBuYW1lcywgdHJhZGVtYXJrZWQgdGVybXMsIG9yIGluYXBwcm9wcmlhdGUgY29udGVudC4gSWYgdGhlIHRoZW1lIHJlZmVyZW5jZXMgdGhlc2UsIHVzZSBnZW5lcmljIGFsdGVybmF0aXZlcyBvciBmb2N1cyBvbiB0aGUgZW1vdGlvbnMvY29uY2VwdHMgaW5zdGVhZFxuLSBLZWVwIGNvbnRlbnQgZmFtaWx5LWZyaWVuZGx5IGFuZCBhcHByb3ByaWF0ZSBmb3IgYWxsIGFnZXNcbi0gJHtzZWxlY3RlZFRvbmUgPT09ICdmdW5ueScgPyAnSW5jbHVkZSBhcHByb3ByaWF0ZSBodW1vciB0aGF0IGZpdHMgdGhlIG9jY2FzaW9uJyA6ICcnfVxuLSAke3NlbGVjdGVkVG9uZSA9PT0gJ2dlbnotaHVtb3InID8gJ1VzZSBHZW5aIGh1bW9yIHdpdGggaW50ZXJuZXQgc2xhbmcsIG1lbWVzLCBhbmQgY2hhb3RpYyBlbmVyZ3kgLSB0aGluayBcIm5vIGNhcFwiLCBcInBlcmlvZHRcIiwgXCJpdFxcJ3MgZ2l2aW5nLi4uXCIsIFwic2xheVwiLCBldGMuIEJlIHVuaGluZ2VkIGJ1dCBlbmRlYXJpbmcnIDogJyd9XG4tICR7c2VsZWN0ZWRUb25lID09PSAncHJvZmVzc2lvbmFsJyA/ICdLZWVwIGl0IGZvcm1hbCBhbmQgYnVzaW5lc3MtYXBwcm9wcmlhdGUnIDogJyd9XG4tICR7c2VsZWN0ZWRUb25lID09PSAncm9tYW50aWMnID8gJ0luY2x1ZGUgbG92aW5nIGFuZCByb21hbnRpYyBsYW5ndWFnZScgOiAnJ31cbi0gJHtzZWxlY3RlZFRvbmUgPT09ICdwbGF5ZnVsJyA/ICdVc2UgZnVuIGFuZCBlbmVyZ2V0aWMgbGFuZ3VhZ2UnIDogJyd9XG4tICR7dG9GaWVsZCAmJiBmcm9tRmllbGQgPyBgU2hvdyB0aGUgcmVsYXRpb25zaGlwIGJldHdlZW4gJHtmcm9tRmllbGR9IGFuZCAke3RvRmllbGR9IHRocm91Z2ggdGhlICR7dG9uZURlc2NyaXB0aW9ufSBtZXNzYWdlIHRvbmVgIDogXCJcIn1cbi0gJHtmcm9tRmllbGQgPyBgRW5kIHRoZSBtZXNzYWdlIHdpdGggYSBzaWduYXR1cmUgbGluZSBsaWtlIFwiTG92ZSwgJHtmcm9tRmllbGR9XCIgb3IgXCItICR7ZnJvbUZpZWxkfVwiIG9yIHNpbWlsYXIsIG5hdHVyYWxseSBpbnRlZ3JhdGVkIGludG8gdGhlIG1lc3NhZ2UuYCA6IFwiXCJ9XG5cblJldHVybiBPTkxZIHRoZSBtZXNzYWdlIHRleHQgdGhhdCBzaG91bGQgYXBwZWFyIGluc2lkZSB0aGUgY2FyZCAtIG5vIHF1b3Rlcywgbm8gZXhwbGFuYXRpb25zLCBubyBtYXJrZG93biBmb3JtYXR0aW5nIChubyAqYm9sZCosIF9pdGFsaWNzXywgb3Igb3RoZXIgbWFya2Rvd24pLCBqdXN0IHRoZSBjb21wbGV0ZSAke3RvbmVEZXNjcmlwdGlvbn0gbWVzc2FnZSBpbiBwbGFpbiB0ZXh0LlxuXG5JTVBPUlRBTlQ6IFdyYXAgeW91ciBmaW5hbCBtZXNzYWdlIGluIDxNRVNTQUdFPiA8L01FU1NBR0U+IHRhZ3MuIEV2ZXJ5dGhpbmcgb3V0c2lkZSB0aGVzZSB0YWdzIHdpbGwgYmUgaWdub3JlZC5gO1xuXG4gICAgICBjb25zdCBnZW5lcmF0ZWRNZXNzYWdlID0gYXdhaXQgY2hhdFdpdGhBSShtZXNzYWdlUHJvbXB0LCB7XG4gICAgICAgIG1vZGVsOiBcImdlbWluaS0yLjUtcHJvXCIsXG4gICAgICAgIGluY2x1ZGVUaG91Z2h0czogZmFsc2UgIC8vIERvbid0IGluY2x1ZGUgdGhpbmtpbmcgY29udGVudCBpbiBtZXNzYWdlIGdlbmVyYXRpb25cbiAgICAgIH0pO1xuXG4gICAgICBpZiAoZ2VuZXJhdGVkTWVzc2FnZT8udHJpbSgpKSB7XG4gICAgICAgIC8vIEV4dHJhY3QgbWVzc2FnZSBjb250ZW50IGJldHdlZW4gPE1FU1NBR0U+IHRhZ3MgdXNpbmcgcmVnZXhcbiAgICAgICAgY29uc3QgbWVzc2FnZU1hdGNoID0gZ2VuZXJhdGVkTWVzc2FnZS5tYXRjaCgvPE1FU1NBR0U+KFtcXHNcXFNdKj8pPFxcL01FU1NBR0U+Lyk7XG4gICAgICAgIGxldCBleHRyYWN0ZWRNZXNzYWdlID0gbWVzc2FnZU1hdGNoID8gbWVzc2FnZU1hdGNoWzFdLnRyaW0oKSA6IGdlbmVyYXRlZE1lc3NhZ2UudHJpbSgpO1xuICAgICAgICBcbiAgICAgICAgLy8gRW5zdXJlIG5vIE1FU1NBR0UgdGFncyBhcmUgaW5jbHVkZWQgaW4gdGhlIGZpbmFsIG1lc3NhZ2VcbiAgICAgICAgZXh0cmFjdGVkTWVzc2FnZSA9IGV4dHJhY3RlZE1lc3NhZ2UucmVwbGFjZSgvPFxcLz9NRVNTQUdFPi9nLCAnJykudHJpbSgpO1xuICAgICAgICBcbiAgICAgICAgLy8gQWRkIGN1cnJlbnQgbWVzc2FnZSB0byBoaXN0b3J5IGlmIGl0IGV4aXN0cyBhbmQgaXMgZGlmZmVyZW50XG4gICAgICAgIGlmIChmaW5hbENhcmRNZXNzYWdlLnRyaW0oKSAmJiBmaW5hbENhcmRNZXNzYWdlLnRyaW0oKSAhPT0gZXh0cmFjdGVkTWVzc2FnZSkge1xuICAgICAgICAgIGFkZE1lc3NhZ2VUb0hpc3RvcnkoZmluYWxDYXJkTWVzc2FnZSk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHNldEZpbmFsQ2FyZE1lc3NhZ2UoZXh0cmFjdGVkTWVzc2FnZSk7XG4gICAgICAgIFxuICAgICAgICAvLyBBZGQgdGhlIG5ldyBtZXNzYWdlIHRvIGhpc3RvcnlcbiAgICAgICAgYWRkTWVzc2FnZVRvSGlzdG9yeShleHRyYWN0ZWRNZXNzYWdlKTtcbiAgICAgICAgXG4gICAgICAgIHRvYXN0LnN1Y2Nlc3MoXCLinKggUGVyc29uYWxpemVkIG1lc3NhZ2UgY3JlYXRlZCFcIik7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHRvYXN0LmVycm9yKFwiRmFpbGVkIHRvIGdlbmVyYXRlIG1lc3NhZ2UuIFBsZWFzZSB0cnkgYWdhaW4uXCIpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBzZXRJc0dlbmVyYXRpbmdNZXNzYWdlKGZhbHNlKTtcbiAgICB9XG4gIH07XG5cblxuXG4gIC8vIEZpbGUgdXBsb2FkIGhhbmRsZXJcbiAgY29uc3QgaGFuZGxlRmlsZVVwbG9hZCA9IGFzeW5jIChmaWxlOiBGaWxlLCB0eXBlOiAnaGFuZHdyaXRpbmcnIHwgJ3JlZmVyZW5jZScpID0+IHtcbiAgICBpZiAoIWZpbGUudHlwZS5zdGFydHNXaXRoKCdpbWFnZS8nKSkge1xuICAgICAgdG9hc3QuZXJyb3IoXCJQbGVhc2UgdXBsb2FkIGFuIGltYWdlIGZpbGVcIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgc2V0SXNVcGxvYWRpbmcodHJ1ZSk7XG4gICAgXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7XG4gICAgICBmb3JtRGF0YS5hcHBlbmQoJ2ZpbGUnLCBmaWxlKTtcbiAgICAgIFxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgJHtCQUNLRU5EX0FQSV9CQVNFX1VSTH0vdXBsb2FkYCwge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgYm9keTogZm9ybURhdGEsXG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgaWYgKCFyZXNwb25zZS5vaykgdGhyb3cgbmV3IEVycm9yKGBVcGxvYWQgZmFpbGVkOiAke3Jlc3BvbnNlLnN0YXR1c31gKTtcbiAgICAgIFxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgXG4gICAgICBpZiAodHlwZSA9PT0gJ2hhbmR3cml0aW5nJykge1xuICAgICAgICBzZXRIYW5kd3JpdGluZ1NhbXBsZShmaWxlKTtcbiAgICAgICAgc2V0SGFuZHdyaXRpbmdTYW1wbGVVcmwocmVzdWx0LnVybCk7XG4gICAgICAgIHRvYXN0LnN1Y2Nlc3MoXCJIYW5kd3JpdGluZyBzYW1wbGUgdXBsb2FkZWQhXCIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2V0UmVmZXJlbmNlSW1hZ2VzKHByZXYgPT4gWy4uLnByZXYsIGZpbGVdKTtcbiAgICAgICAgc2V0UmVmZXJlbmNlSW1hZ2VVcmxzKHByZXYgPT4gWy4uLnByZXYsIHJlc3VsdC51cmxdKTtcbiAgICAgICAgY29uc29sZS5sb2coXCLwn5SNIERFQlVHOiBSZWZlcmVuY2UgaW1hZ2UgdXBsb2FkZWQgc3VjY2Vzc2Z1bGx5OlwiLCB7XG4gICAgICAgICAgZmlsZU5hbWU6IGZpbGUubmFtZSxcbiAgICAgICAgICB1cmw6IHJlc3VsdC51cmwsXG4gICAgICAgICAgdG90YWxJbWFnZXM6IHJlZmVyZW5jZUltYWdlcy5sZW5ndGggKyAxXG4gICAgICAgIH0pO1xuICAgICAgICB0b2FzdC5zdWNjZXNzKGBSZWZlcmVuY2UgaW1hZ2UgdXBsb2FkZWQhICR7cmVmZXJlbmNlSW1hZ2VzLmxlbmd0aCArIDF9IHBob3RvJHtyZWZlcmVuY2VJbWFnZXMubGVuZ3RoICsgMSA+IDEgPyAncycgOiAnJ30gcmVhZHkgZm9yIGNoYXJhY3RlciBjcmVhdGlvbi5gKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgdG9hc3QuZXJyb3IoXCJVcGxvYWQgZmFpbGVkLiBQbGVhc2UgdHJ5IGFnYWluLlwiKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgc2V0SXNVcGxvYWRpbmcoZmFsc2UpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBoYW5kbGVSZW1vdmVSZWZlcmVuY2VJbWFnZSA9IChpbmRleDogbnVtYmVyKSA9PiB7XG4gICAgY29uc3QgcmVtb3ZlZEltYWdlID0gcmVmZXJlbmNlSW1hZ2VzW2luZGV4XTtcbiAgICBjb25zdCByZW1vdmVkVXJsID0gcmVmZXJlbmNlSW1hZ2VVcmxzW2luZGV4XTtcbiAgICBcbiAgICBzZXRSZWZlcmVuY2VJbWFnZXMocHJldiA9PiBwcmV2LmZpbHRlcigoXywgaSkgPT4gaSAhPT0gaW5kZXgpKTtcbiAgICBzZXRSZWZlcmVuY2VJbWFnZVVybHMocHJldiA9PiBwcmV2LmZpbHRlcigoXywgaSkgPT4gaSAhPT0gaW5kZXgpKTtcbiAgICBcbiAgICBjb25zb2xlLmxvZyhcIvCflI0gREVCVUc6IFJlZmVyZW5jZSBpbWFnZSByZW1vdmVkOlwiLCB7XG4gICAgICBmaWxlTmFtZTogcmVtb3ZlZEltYWdlPy5uYW1lLFxuICAgICAgdXJsOiByZW1vdmVkVXJsLFxuICAgICAgcmVtYWluaW5nSW1hZ2VzOiByZWZlcmVuY2VJbWFnZXMubGVuZ3RoIC0gMVxuICAgIH0pO1xuICAgIFxuICAgIHRvYXN0LnN1Y2Nlc3MoYFJlZmVyZW5jZSBpbWFnZSByZW1vdmVkISAke3JlZmVyZW5jZUltYWdlcy5sZW5ndGggLSAxfSBwaG90byR7cmVmZXJlbmNlSW1hZ2VzLmxlbmd0aCAtIDEgIT09IDEgPyAncycgOiAnJ30gcmVtYWluaW5nLmApO1xuICB9O1xuXG4gIC8vIFNpbXBsaWZpZWQgZHJhZnQgbW9kZSBnZW5lcmF0aW9uIC0gY2FsbHMgY29uc29saWRhdGVkIGZ1bmN0aW9uIDQgdGltZXNcbiAgY29uc3QgaGFuZGxlR2VuZXJhdGVEcmFmdENhcmRzID0gYXN5bmMgKCkgPT4ge1xuICAgIGlmICghdXNlckVtYWlsLnRyaW0oKSkge1xuICAgICAgdG9hc3QuZXJyb3IoXCJQbGVhc2UgZW50ZXIgeW91ciBlbWFpbCBhZGRyZXNzXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIEJhc2ljIGVtYWlsIHZhbGlkYXRpb25cbiAgICBjb25zdCBlbWFpbFJlZ2V4ID0gL15bXlxcc0BdK0BbXlxcc0BdK1xcLlteXFxzQF0rJC87XG4gICAgaWYgKCFlbWFpbFJlZ2V4LnRlc3QodXNlckVtYWlsKSkge1xuICAgICAgdG9hc3QuZXJyb3IoXCJQbGVhc2UgZW50ZXIgYSB2YWxpZCBlbWFpbCBhZGRyZXNzXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIFZhbGlkYXRlIGN1c3RvbSBzdHlsZSBpZiBzZWxlY3RlZFxuICAgIGlmIChzZWxlY3RlZEFydGlzdGljU3R5bGUgPT09IFwiY3VzdG9tXCIgJiYgIWN1c3RvbVN0eWxlRGVzY3JpcHRpb24udHJpbSgpKSB7XG4gICAgICB0b2FzdC5lcnJvcihcIlBsZWFzZSBkZXNjcmliZSB5b3VyIGN1c3RvbSBhcnRpc3RpYyBzdHlsZVwiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBWYWxpZGF0ZSByZWZlcmVuY2UgaW1hZ2VzIHdpdGggbW9kZWwgY29tcGF0aWJpbGl0eVxuICAgIGlmIChyZWZlcmVuY2VJbWFnZVVybHMubGVuZ3RoID4gMCAmJiBzZWxlY3RlZERyYWZ0TW9kZWwgIT09IFwiZ3B0LWltYWdlLTFcIikge1xuICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwi8J+UjSBERUJVRzogUmVmZXJlbmNlIGltYWdlIHZhbGlkYXRpb24gZmFpbGVkOlwiLCB7XG4gICAgICAgICByZWZlcmVuY2VJbWFnZVVybHNMZW5ndGg6IHJlZmVyZW5jZUltYWdlVXJscy5sZW5ndGgsXG4gICAgICAgICByZWZlcmVuY2VJbWFnZVVybHM6IHJlZmVyZW5jZUltYWdlVXJscyxcbiAgICAgICAgIHNlbGVjdGVkRHJhZnRNb2RlbDogc2VsZWN0ZWREcmFmdE1vZGVsLFxuICAgICAgICAgcmVmZXJlbmNlSW1hZ2VzTGVuZ3RoOiByZWZlcmVuY2VJbWFnZXMubGVuZ3RoXG4gICAgICAgfSk7XG4gICAgICAgXG4gICAgICAgLy8gU2hvdyBhIG1vcmUgaGVscGZ1bCBlcnJvciB3aXRoIGFjdGlvbiBidXR0b25zXG4gICAgICAgY29uc3QgY2xlYXJQaG90b3MgPSAoKSA9PiB7XG4gICAgICAgICBzZXRSZWZlcmVuY2VJbWFnZXMoW10pO1xuICAgICAgICAgc2V0UmVmZXJlbmNlSW1hZ2VVcmxzKFtdKTtcbiAgICAgICAgIHRvYXN0LnN1Y2Nlc3MoXCJSZWZlcmVuY2UgcGhvdG9zIGNsZWFyZWQhIFlvdSBjYW4gbm93IHVzZSBkcmFmdCBtb2RlLlwiKTtcbiAgICAgICB9O1xuICAgICAgIFxuICAgICAgIGNvbnN0IHN3aXRjaFRvR1BUMSA9ICgpID0+IHtcbiAgICAgICAgIHNldFNlbGVjdGVkRHJhZnRNb2RlbChcImdwdC1pbWFnZS0xXCIpO1xuICAgICAgICAgdG9hc3Quc3VjY2VzcyhcIlN3aXRjaGVkIHRvIEdQVCBJbWFnZSAxIGZvciBkcmFmdCBtb2RlIVwiKTtcbiAgICAgICB9O1xuICAgICAgIFxuICAgICAgIHRvYXN0LmVycm9yKFxuICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTJcIj5cbiAgICAgICAgICAgPHA+UmVmZXJlbmNlIHBob3RvcyBhcmUgb25seSBzdXBwb3J0ZWQgd2l0aCBHUFQgSW1hZ2UgMSBtb2RlbC48L3A+XG4gICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQteHNcIj5Zb3UgaGF2ZSB7cmVmZXJlbmNlSW1hZ2VVcmxzLmxlbmd0aH0gcmVmZXJlbmNlIHBob3Rve3JlZmVyZW5jZUltYWdlVXJscy5sZW5ndGggPiAxID8gJ3MnIDogJyd9IGJ1dCBzZWxlY3RlZCB7aW1hZ2VNb2RlbHMuZmluZChtID0+IG0uaWQgPT09IHNlbGVjdGVkRHJhZnRNb2RlbCk/LmxhYmVsfS48L3A+XG4gICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBnYXAtMiBtdC0yXCI+XG4gICAgICAgICAgICAgPGJ1dHRvbiBcbiAgICAgICAgICAgICAgIG9uQ2xpY2s9e3N3aXRjaFRvR1BUMX1cbiAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInB4LTIgcHktMSBiZy1ibHVlLTYwMCB0ZXh0LXdoaXRlIHRleHQteHMgcm91bmRlZCBob3ZlcjpiZy1ibHVlLTcwMFwiXG4gICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgVXNlIEdQVCBJbWFnZSAxXG4gICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgPGJ1dHRvbiBcbiAgICAgICAgICAgICAgIG9uQ2xpY2s9e2NsZWFyUGhvdG9zfVxuICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicHgtMiBweS0xIGJnLXJlZC02MDAgdGV4dC13aGl0ZSB0ZXh0LXhzIHJvdW5kZWQgaG92ZXI6YmctcmVkLTcwMFwiXG4gICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgUmVtb3ZlIFBob3Rvc1xuICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgIDwvZGl2PixcbiAgICAgICAgIHsgZHVyYXRpb246IDgwMDAgfVxuICAgICAgICk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgc2V0SXNEcmFmdE1vZGUodHJ1ZSk7XG4gICAgc2V0SXNHZW5lcmF0aW5nKHRydWUpO1xuICAgIHN0YXJ0RWxhcHNlZFRpbWVUcmFja2luZygpO1xuICAgIHNldEdlbmVyYXRpb25Qcm9ncmVzcyhcIvCfjqggQ3JlYXRpbmcgNCBkZXNpZ24gdmFyaWF0aW9ucyBmb3IgeW91IHRvIGNob29zZSBmcm9tLi4uXCIpO1xuICAgIHNldFByb2dyZXNzUGVyY2VudGFnZSgwKTtcbiAgICBzZXREcmFmdENhcmRzKFtdKTtcbiAgICBzZXRTZWxlY3RlZERyYWZ0SW5kZXgoLTEpO1xuICAgIFxuICAgIC8vIENsZWFyIGFueSBwcmV2aW91cyBjYXJkIHN0YXRlIHRvIGF2b2lkIFVJIGNvbmZsaWN0c1xuICAgIHNldEdlbmVyYXRlZENhcmQobnVsbCk7XG4gICAgc2V0R2VuZXJhdGVkQ2FyZHMoW10pO1xuICAgIHNldElzQ2FyZENvbXBsZXRlZChmYWxzZSk7XG5cbiAgICB0cnkge1xuICAgICAgY29uc29sZS5sb2coXCLwn5qAIFN0YXJ0aW5nIGRyYWZ0IG1vZGUgZ2VuZXJhdGlvbiB3aXRoIDEwIHZhcmlhdGlvbnNcIik7XG4gICAgICBcbiAgICAgIC8vIFNob3cgc3BlY2lmaWMgbWVzc2FnZSBmb3IgR1BULTEgdXNlcnMgYWJvdXQgcXVhbGl0eSBlbmZvcmNlbWVudFxuICAgICAgaWYgKHNlbGVjdGVkRHJhZnRNb2RlbCA9PT0gXCJncHQtaW1hZ2UtMVwiKSB7XG4gICAgICAgIHRvYXN0LnN1Y2Nlc3MoXCLwn46oIEdlbmVyYXRpbmcgMTAgZGVzaWduIHZhcmlhdGlvbnMgd2l0aCBHUFQtMSAodXNpbmcgbG93IHF1YWxpdHkgZm9yIGZhc3QgcHJldmlld3MpIVwiKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRvYXN0LnN1Y2Nlc3MoXCLwn46oIEdlbmVyYXRpbmcgMTAgZGVzaWduIHZhcmlhdGlvbnMgZm9yIHlvdSB0byBjaG9vc2UgZnJvbSFcIik7XG4gICAgICB9XG5cbiAgICAgIC8vIEdlbmVyYXRlIDEwIGRyYWZ0IHZhcmlhdGlvbnMgYnkgY2FsbGluZyB0aGUgY29uc29saWRhdGVkIGZ1bmN0aW9uIDEwIHRpbWVzXG4gICAgICBjb25zdCBkcmFmdFByb21pc2VzID0gQXJyYXkuZnJvbSh7IGxlbmd0aDogMTAgfSwgYXN5bmMgKF8sIGluZGV4KSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc29sZS5sb2coYPCfjqggU3RhcnRpbmcgZHJhZnQgdmFyaWF0aW9uICR7aW5kZXggKyAxfWApO1xuICAgICAgICAgIGF3YWl0IGhhbmRsZUdlbmVyYXRlQ2FyZEFzeW5jSW50ZXJuYWwoe1xuICAgICAgICAgICAgaXNEcmFmdE1vZGU6IHRydWUsXG4gICAgICAgICAgICBkcmFmdEluZGV4OiBpbmRleCxcbiAgICAgICAgICAgIG9uRHJhZnRDb21wbGV0ZTogKGNhcmQ6IEdlbmVyYXRlZENhcmQsIGlkeDogbnVtYmVyKSA9PiB7XG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKGDinIUgRHJhZnQgdmFyaWF0aW9uICR7aWR4ICsgMX0gY29tcGxldGVkOmAsIGNhcmQuaWQpO1xuICAgICAgICAgICAgICBzZXREcmFmdENhcmRzKHByZXYgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHVwZGF0ZWQgPSBbLi4ucHJldl07XG4gICAgICAgICAgICAgICAgdXBkYXRlZFtpZHhdID0gY2FyZDtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiBhbGwgNCB2YXJpYXRpb25zIGFyZSBjb21wbGV0ZVxuICAgICAgICAgICAgICAgIGNvbnN0IGNvbXBsZXRlZENvdW50ID0gdXBkYXRlZC5maWx0ZXIoYyA9PiBjKS5sZW5ndGg7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coYPCfk4ogRHJhZnQgcHJvZ3Jlc3M6ICR7Y29tcGxldGVkQ291bnR9LzQgdmFyaWF0aW9ucyBjb21wbGV0ZWApO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGlmIChjb21wbGV0ZWRDb3VudCA9PT0gNCkge1xuICAgICAgICAgICAgICAgICAgc2V0SXNHZW5lcmF0aW5nKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgIHNldEdlbmVyYXRpb25Qcm9ncmVzcyhcIlwiKTtcbiAgICAgICAgICAgICAgICAgIHNldFByb2dyZXNzUGVyY2VudGFnZSgxMDApO1xuICAgICAgICAgICAgICAgICAgc3RvcEVsYXBzZWRUaW1lVHJhY2tpbmcoKTtcbiAgICAgICAgICAgICAgICAgIHRvYXN0LnN1Y2Nlc3MoXCLwn46oIEFsbCA0IGRlc2lnbiB2YXJpYXRpb25zIHJlYWR5ISBDaG9vc2UgeW91ciBmYXZvcml0ZSBiZWxvdy5cIik7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIHNldEdlbmVyYXRpb25Qcm9ncmVzcyhg4pyoICR7Y29tcGxldGVkQ291bnR9LzQgdmFyaWF0aW9ucyBjb21wbGV0ZS4uLmApO1xuICAgICAgICAgICAgICAgICAgc2V0UHJvZ3Jlc3NQZXJjZW50YWdlKChjb21wbGV0ZWRDb3VudCAvIDQpICogMTAwKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgcmV0dXJuIHVwZGF0ZWQ7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYOKdjCBEcmFmdCB2YXJpYXRpb24gJHtpbmRleCArIDF9IGZhaWxlZDpgLCBlcnJvcik7XG4gICAgICAgICAgdG9hc3QuZXJyb3IoYERyYWZ0IHZhcmlhdGlvbiAke2luZGV4ICsgMX0gZmFpbGVkOiAke2Vycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InfWApO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgLy8gV2FpdCBmb3IgYWxsIGRyYWZ0IGdlbmVyYXRpb25zIHRvIHN0YXJ0IChidXQgbm90IGNvbXBsZXRlKVxuICAgICAgYXdhaXQgUHJvbWlzZS5hbGxTZXR0bGVkKGRyYWZ0UHJvbWlzZXMpO1xuICAgICAgY29uc29sZS5sb2coXCLwn5qAIEFsbCBkcmFmdCB2YXJpYXRpb25zIHN0YXJ0ZWRcIik7XG5cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRHJhZnQgY2FyZCBnZW5lcmF0aW9uIGVycm9yOicsIGVycm9yKTtcbiAgICAgIHRvYXN0LmVycm9yKGBGYWlsZWQgdG8gc3RhcnQgZHJhZnQgZ2VuZXJhdGlvbjogJHtlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJ31gKTtcbiAgICAgIFxuICAgICAgc2V0SXNHZW5lcmF0aW5nKGZhbHNlKTtcbiAgICAgIHNldElzRHJhZnRNb2RlKGZhbHNlKTtcbiAgICAgIHNldEdlbmVyYXRpb25Qcm9ncmVzcyhcIlwiKTtcbiAgICAgIHN0b3BFbGFwc2VkVGltZVRyYWNraW5nKCk7XG4gICAgfVxuICB9O1xuXG5cblxuICAvLyBHZW5lcmF0ZSBmaW5hbCBoaWdoLXF1YWxpdHkgY2FyZCBmcm9tIHNlbGVjdGVkIGRyYWZ0XG4gIGNvbnN0IGhhbmRsZUdlbmVyYXRlRmluYWxGcm9tRHJhZnQgPSBhc3luYyAoZHJhZnRJbmRleDogbnVtYmVyKSA9PiB7XG4gICAgaWYgKGRyYWZ0SW5kZXggPCAwIHx8IGRyYWZ0SW5kZXggPj0gZHJhZnRDYXJkcy5sZW5ndGggfHwgIWRyYWZ0Q2FyZHNbZHJhZnRJbmRleF0pIHtcbiAgICAgIHRvYXN0LmVycm9yKFwiSW52YWxpZCBkcmFmdCBzZWxlY3Rpb25cIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgc2V0SXNHZW5lcmF0aW5nRmluYWxDYXJkKHRydWUpO1xuICAgIHNldFNlbGVjdGVkRHJhZnRJbmRleChkcmFmdEluZGV4KTtcbiAgICBzdGFydEVsYXBzZWRUaW1lVHJhY2tpbmcoKTtcbiAgICBzZXRHZW5lcmF0aW9uUHJvZ3Jlc3MoXCLwn46oIENyZWF0aW5nIGhpZ2gtcXVhbGl0eSB2ZXJzaW9uIG9mIHlvdXIgc2VsZWN0ZWQgZGVzaWduLi4uXCIpO1xuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHNlbGVjdGVkRHJhZnQgPSBkcmFmdENhcmRzW2RyYWZ0SW5kZXhdO1xuICAgICAgY29uc3Qgam9iSWQgPSB1dWlkdjQoKTtcbiAgICAgIFxuICAgICAgLy8gVXNlIHRoZSBzYW1lIHByb21wdHMgYXMgdGhlIHNlbGVjdGVkIGRyYWZ0IGJ1dCB3aXRoIGhpZ2ggcXVhbGl0eVxuICAgICAgLy8gUmVwbGFjZSBcIk1FU1NBR0UgR09FUyBIRVJFXCIgcGxhY2Vob2xkZXIgd2l0aCBhY3R1YWwgbWVzc2FnZSBjb250ZW50XG4gICAgICBjb25zdCBmaW5hbFByb21wdHMgPSB7IC4uLnNlbGVjdGVkRHJhZnQuZ2VuZXJhdGVkUHJvbXB0cyB9O1xuICAgICAgaWYgKGZpbmFsUHJvbXB0cy5yaWdodEludGVyaW9yICYmICFpc0hhbmR3cml0dGVuTWVzc2FnZSAmJiBmaW5hbENhcmRNZXNzYWdlLnRyaW0oKSkge1xuICAgICAgICBmaW5hbFByb21wdHMucmlnaHRJbnRlcmlvciA9IGZpbmFsUHJvbXB0cy5yaWdodEludGVyaW9yXG4gICAgICAgICAgLnJlcGxhY2UoL0luY2x1ZGUgcGxhY2Vob2xkZXIgdGV4dDogXCJNRVNTQUdFIEdPRVMgSEVSRVwiL2csIGBJbmNsdWRlIG1lc3NhZ2UgdGV4dDogXCIke2ZpbmFsQ2FyZE1lc3NhZ2V9XCJgKVxuICAgICAgICAgIC5yZXBsYWNlKC9cIk1FU1NBR0UgR09FUyBIRVJFXCIvZywgYFwiJHtmaW5hbENhcmRNZXNzYWdlfVwiYClcbiAgICAgICAgICAucmVwbGFjZSgvTUVTU0FHRSBHT0VTIEhFUkUvZywgZmluYWxDYXJkTWVzc2FnZSk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIFByZXBhcmUgaW5wdXQgaW1hZ2VzIGZvciBmaW5hbCBnZW5lcmF0aW9uIChyZWZlcmVuY2UgcGhvdG9zKVxuICAgICAgY29uc3QgaW5wdXRJbWFnZXM6IHN0cmluZ1tdID0gW107XG4gICAgICBpZiAocmVmZXJlbmNlSW1hZ2VVcmxzLmxlbmd0aCA+IDAgJiYgc2VsZWN0ZWRJbWFnZU1vZGVsID09PSBcImdwdC1pbWFnZS0xXCIpIHtcbiAgICAgICAgaW5wdXRJbWFnZXMucHVzaCguLi5yZWZlcmVuY2VJbWFnZVVybHMpO1xuICAgICAgICBjb25zb2xlLmxvZyhcIvCflI0gREVCVUc6IEFkZGVkIHJlZmVyZW5jZSBpbWFnZXMgdG8gZmluYWwgZHJhZnQgZ2VuZXJhdGlvbjpcIiwgcmVmZXJlbmNlSW1hZ2VVcmxzKTtcbiAgICAgICAgY29uc29sZS5sb2coXCLwn5SNIERFQlVHOiBUb3RhbCBpbnB1dCBpbWFnZXMgZm9yIGZpbmFsIGRyYWZ0IGdlbmVyYXRpb246XCIsIGlucHV0SW1hZ2VzLmxlbmd0aCk7XG4gICAgICAgIHRvYXN0LnN1Y2Nlc3MoYPCfk7ggJHtyZWZlcmVuY2VJbWFnZVVybHMubGVuZ3RofSByZWZlcmVuY2UgcGhvdG8ke3JlZmVyZW5jZUltYWdlVXJscy5sZW5ndGggPiAxID8gJ3MnIDogJyd9IGFwcGxpZWQgdG8gZmluYWwgZ2VuZXJhdGlvbiFgKTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnL2FwaS9nZW5lcmF0ZS1jYXJkLWFzeW5jJywge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICBqb2JJZCxcbiAgICAgICAgICBwcm9tcHRzOiBmaW5hbFByb21wdHMsXG4gICAgICAgICAgY29uZmlnOiB7XG4gICAgICAgICAgICB1c2VyTnVtYmVyOiBcIisxNzE0NTk4NjEwNVwiLFxuICAgICAgICAgICAgbW9kZWxWZXJzaW9uOiBzZWxlY3RlZEltYWdlTW9kZWwsXG4gICAgICAgICAgICBhc3BlY3RSYXRpbzogcGFwZXJTaXplcy5maW5kKHNpemUgPT4gc2l6ZS5pZCA9PT0gc2VsZWN0ZWRQYXBlclNpemUpPy5hc3BlY3RSYXRpbyB8fCBcIjk6MTZcIixcbiAgICAgICAgICAgIHF1YWxpdHk6IFwiaGlnaFwiLCAvLyBISUdIIFFVQUxJVFkgZm9yIGZpbmFsIGNhcmRcbiAgICAgICAgICAgIG91dHB1dEZvcm1hdDogXCJqcGVnXCIsXG4gICAgICAgICAgICBvdXRwdXRDb21wcmVzc2lvbjogMTAwLFxuICAgICAgICAgICAgbW9kZXJhdGlvbjogXCJsb3dcIixcbiAgICAgICAgICAgIGRpbWVuc2lvbnM6IHBhcGVyU2l6ZXMuZmluZChzaXplID0+IHNpemUuaWQgPT09IHNlbGVjdGVkUGFwZXJTaXplKT8uZGltZW5zaW9ucyB8fCBcIjEwMjR4MTUzNlwiLFxuICAgICAgICAgICAgaXNGcm9udEJhY2tPbmx5LFxuICAgICAgICAgICAgdXNlckVtYWlsLFxuICAgICAgICAgICAgY2FyZFR5cGU6IHNlbGVjdGVkVHlwZSA9PT0gXCJjdXN0b21cIiA/IGN1c3RvbUNhcmRUeXBlIDogc2VsZWN0ZWRUeXBlLFxuICAgICAgICAgICAgdG9GaWVsZCxcbiAgICAgICAgICAgIGZyb21GaWVsZCxcbiAgICAgICAgICAgIGlzRHJhZnRNb2RlOiBmYWxzZSxcbiAgICAgICAgICAgIC4uLihpbnB1dEltYWdlcy5sZW5ndGggPiAwICYmIHsgXG4gICAgICAgICAgICAgIGlucHV0X2ltYWdlczogaW5wdXRJbWFnZXMsXG4gICAgICAgICAgICAgIGlucHV0X2ltYWdlc19tb2RlOiBcImZyb250X2NvdmVyX29ubHlcIiAvLyBBbGwgcmVmZXJlbmNlIGltYWdlcyBzaG91bGQgZ28gdG8gZnJvbnQgY292ZXIgZm9yIGNoYXJhY3RlciBjcmVhdGlvblxuICAgICAgICAgICAgfSlcbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICB9KTtcblxuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFNlcnZlciBlcnJvcjogJHtyZXNwb25zZS5zdGF0dXN9YCk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgIFxuICAgICAgaWYgKHJlc3VsdC5zdGF0dXMgIT09ICdwcm9jZXNzaW5nJykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IocmVzdWx0Lm1lc3NhZ2UgfHwgJ0ZhaWxlZCB0byBzdGFydCBmaW5hbCBjYXJkIGdlbmVyYXRpb24nKTtcbiAgICAgIH1cblxuICAgICAgc2V0Q3VycmVudEpvYklkKGpvYklkKTtcbiAgICAgIHRvYXN0LnN1Y2Nlc3MoXCLwn46oIEdlbmVyYXRpbmcgaGlnaC1xdWFsaXR5IHZlcnNpb24gb2YgeW91ciBzZWxlY3RlZCBkZXNpZ24hXCIpO1xuICAgICAgXG4gICAgICAvLyBQb2xsIGZvciBjb21wbGV0aW9uIChyZXVzZSBleGlzdGluZyBwb2xsSm9iU3RhdHVzKVxuICAgICAgcG9sbEpvYlN0YXR1cyhqb2JJZCk7XG5cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRmluYWwgY2FyZCBnZW5lcmF0aW9uIGVycm9yOicsIGVycm9yKTtcbiAgICAgIHRvYXN0LmVycm9yKFwiRmFpbGVkIHRvIGdlbmVyYXRlIGZpbmFsIGNhcmQuIFBsZWFzZSB0cnkgYWdhaW4uXCIpO1xuICAgICAgc2V0SXNHZW5lcmF0aW5nRmluYWxDYXJkKGZhbHNlKTtcbiAgICAgIHNldEdlbmVyYXRpb25Qcm9ncmVzcyhcIlwiKTtcbiAgICAgIHN0b3BFbGFwc2VkVGltZVRyYWNraW5nKCk7XG4gICAgfVxuICB9O1xuXG4gIC8vIENvbnNvbGlkYXRlZCBjYXJkIGdlbmVyYXRpb24gZnVuY3Rpb25cbiAgY29uc3QgaGFuZGxlR2VuZXJhdGVDYXJkQXN5bmNJbnRlcm5hbCA9IGFzeW5jIChvcHRpb25zOiB7XG4gICAgaXNEcmFmdE1vZGU/OiBib29sZWFuO1xuICAgIGRyYWZ0SW5kZXg/OiBudW1iZXI7XG4gICAgb25EcmFmdENvbXBsZXRlPzogKGNhcmQ6IEdlbmVyYXRlZENhcmQsIGluZGV4OiBudW1iZXIpID0+IHZvaWQ7XG4gIH0gPSB7fSkgPT4ge1xuICAgIGNvbnN0IHsgaXNEcmFmdE1vZGUgPSBmYWxzZSwgZHJhZnRJbmRleCA9IDAsIG9uRHJhZnRDb21wbGV0ZSB9ID0gb3B0aW9ucztcbiAgICBcbiAgICBjb25zb2xlLmxvZyhg8J+UjSBoYW5kbGVHZW5lcmF0ZUNhcmRBc3luY0ludGVybmFsIGNhbGxlZDpgLCB7IGlzRHJhZnRNb2RlLCBkcmFmdEluZGV4LCBoYXNPbkRyYWZ0Q29tcGxldGU6ICEhb25EcmFmdENvbXBsZXRlIH0pO1xuICAgIGlmICghdXNlckVtYWlsLnRyaW0oKSkge1xuICAgICAgdG9hc3QuZXJyb3IoXCJQbGVhc2UgZW50ZXIgeW91ciBlbWFpbCBhZGRyZXNzXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIEJhc2ljIGVtYWlsIHZhbGlkYXRpb25cbiAgICBjb25zdCBlbWFpbFJlZ2V4ID0gL15bXlxcc0BdK0BbXlxcc0BdK1xcLlteXFxzQF0rJC87XG4gICAgaWYgKCFlbWFpbFJlZ2V4LnRlc3QodXNlckVtYWlsKSkge1xuICAgICAgdG9hc3QuZXJyb3IoXCJQbGVhc2UgZW50ZXIgYSB2YWxpZCBlbWFpbCBhZGRyZXNzXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIFZhbGlkYXRlIGN1c3RvbSBzdHlsZSBpZiBzZWxlY3RlZFxuICAgIGlmIChzZWxlY3RlZEFydGlzdGljU3R5bGUgPT09IFwiY3VzdG9tXCIgJiYgIWN1c3RvbVN0eWxlRGVzY3JpcHRpb24udHJpbSgpKSB7XG4gICAgICB0b2FzdC5lcnJvcihcIlBsZWFzZSBkZXNjcmliZSB5b3VyIGN1c3RvbSBhcnRpc3RpYyBzdHlsZVwiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBEZXRlcm1pbmUgd2hpY2ggbW9kZWwgdG8gdXNlIGJhc2VkIG9uIG1vZGVcbiAgICBjb25zdCBtb2RlbFRvVXNlID0gaXNEcmFmdE1vZGUgPyBzZWxlY3RlZERyYWZ0TW9kZWwgOiBzZWxlY3RlZEltYWdlTW9kZWw7XG5cbiAgICAvLyBWYWxpZGF0ZSByZWZlcmVuY2UgaW1hZ2VzIHdpdGggbW9kZWwgY29tcGF0aWJpbGl0eVxuICAgIGlmIChyZWZlcmVuY2VJbWFnZVVybHMubGVuZ3RoID4gMCAmJiBtb2RlbFRvVXNlICE9PSBcImdwdC1pbWFnZS0xXCIpIHtcbiAgICAgIGNvbnN0IG1vZGVUZXh0ID0gaXNEcmFmdE1vZGUgPyBcImRyYWZ0IG1vZGVcIiA6IFwiZmluYWwgZ2VuZXJhdGlvblwiO1xuICAgICAgdG9hc3QuZXJyb3IoYFJlZmVyZW5jZSBwaG90b3MgYXJlIG9ubHkgc3VwcG9ydGVkIHdpdGggR1BUIEltYWdlIDEgbW9kZWwuIFBsZWFzZSBzd2l0Y2ggdG8gR1BUIEltYWdlIDEgZm9yICR7bW9kZVRleHR9IG9yIHJlbW92ZSByZWZlcmVuY2UgcGhvdG9zLmApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIE9ubHkgc2V0IGdsb2JhbCBnZW5lcmF0aW5nIHN0YXRlIGlmIG5vdCBpbiBkcmFmdCBtb2RlIChkcmFmdCBtb2RlIG1hbmFnZXMgaXRzIG93biBzdGF0ZSlcbiAgICBpZiAoIWlzRHJhZnRNb2RlKSB7XG4gICAgICBzZXRJc0dlbmVyYXRpbmcodHJ1ZSk7XG4gICAgICBzdGFydEVsYXBzZWRUaW1lVHJhY2tpbmcoKTtcbiAgICAgIHNldEdlbmVyYXRpb25Qcm9ncmVzcyhcIkNyZWF0aW5nIHlvdXIgcGVyc29uYWxpemVkIGNhcmQuLi5cIik7XG4gICAgICBzZXRQcm9ncmVzc1BlcmNlbnRhZ2UoMCk7XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIC8vIENyZWF0ZSBqb2IgdHJhY2tpbmdcbiAgICAgIGNvbnN0IGpvYklkID0gaXNEcmFmdE1vZGUgPyBgZHJhZnQtJHtkcmFmdEluZGV4fS0ke3V1aWR2NCgpfWAgOiB1dWlkdjQoKTtcbiAgICAgIGlmICghaXNEcmFmdE1vZGUpIHtcbiAgICAgICAgc2V0Q3VycmVudEpvYklkKGpvYklkKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gR2VuZXJhdGUgYWxsIHByb21wdHMgY2xpZW50LXNpZGUgZmlyc3RcbiAgICAgIGNvbnN0IGNhcmRUeXBlRm9yUHJvbXB0ID0gc2VsZWN0ZWRUeXBlID09PSBcImN1c3RvbVwiID8gY3VzdG9tQ2FyZFR5cGUgOiBzZWxlY3RlZFR5cGU7XG4gICAgICBjb25zdCBzZWxlY3RlZFRvbmVPYmogPSBjYXJkVG9uZXMuZmluZCh0b25lID0+IHRvbmUuaWQgPT09IHNlbGVjdGVkVG9uZSk7XG4gICAgICBjb25zdCB0b25lRGVzY3JpcHRpb24gPSBzZWxlY3RlZFRvbmVPYmogPyBzZWxlY3RlZFRvbmVPYmouZGVzY3JpcHRpb24udG9Mb3dlckNhc2UoKSA6IFwiaGVhcnRmZWx0IGFuZCBzaW5jZXJlXCI7XG4gICAgICBjb25zdCBlZmZlY3RpdmVQcm9tcHQgPSBwcm9tcHQudHJpbSgpIHx8IGBBIGJlYXV0aWZ1bCAke2NhcmRUeXBlRm9yUHJvbXB0fSBjYXJkIHdpdGggJHt0b25lRGVzY3JpcHRpb259IHN0eWxlYDtcblxuICAgICAgbGV0IG1lc3NhZ2VDb250ZW50ID0gZmluYWxDYXJkTWVzc2FnZTtcbiAgICAgIFxuICAgICAgLy8gSGFuZGxlIG1lc3NhZ2UgZ2VuZXJhdGlvbiBpZiBuZWVkZWRcbiAgICAgIGlmIChpc0hhbmR3cml0dGVuTWVzc2FnZSkge1xuICAgICAgICBtZXNzYWdlQ29udGVudCA9IFwiW0JsYW5rIHNwYWNlIGZvciBoYW5kd3JpdHRlbiBtZXNzYWdlXVwiO1xuICAgICAgfSBlbHNlIGlmICghbWVzc2FnZUNvbnRlbnQudHJpbSgpICYmICFpc0Zyb250QmFja09ubHkpIHtcbiAgICAgICAgc2V0R2VuZXJhdGlvblByb2dyZXNzKFwi4pyN77iPIFdyaXRpbmcgdGhlIHBlcmZlY3QgbWVzc2FnZS4uLlwiKTtcbiAgICAgICAgXG4gICAgICAgIC8vIEF1dG8tZ2VuZXJhdGUgbWVzc2FnZSAoa2VlcGluZyBleGlzdGluZyBsb2dpYylcbiAgICAgICAgY29uc3QgYXV0b01lc3NhZ2VQcm9tcHQgPSBgQ3JlYXRlIGEgJHt0b25lRGVzY3JpcHRpb259IG1lc3NhZ2UgZm9yIGEgJHtjYXJkVHlwZUZvclByb21wdH0gZ3JlZXRpbmcgY2FyZC5cblxuQ2FyZCBUaGVtZS9EZXNjcmlwdGlvbjogXCIke2VmZmVjdGl2ZVByb21wdH1cIlxuJHt0b0ZpZWxkID8gYFJlY2lwaWVudDogJHt0b0ZpZWxkfWAgOiBcIlJlY2lwaWVudDogW25vdCBzcGVjaWZpZWRdXCJ9XG4ke2Zyb21GaWVsZCA/IGBTZW5kZXI6ICR7ZnJvbUZpZWxkfWAgOiBcIlNlbmRlcjogW25vdCBzcGVjaWZpZWRdXCJ9XG5DYXJkIFRvbmU6ICR7c2VsZWN0ZWRUb25lT2JqID8gc2VsZWN0ZWRUb25lT2JqLmxhYmVsIDogXCJIZWFydGZlbHRcIn0gLSAke3RvbmVEZXNjcmlwdGlvbn1cblxuSW5zdHJ1Y3Rpb25zOlxuLSBXcml0ZSBhIG1lc3NhZ2UgdGhhdCBpcyAke3RvbmVEZXNjcmlwdGlvbn0gYW5kIGZlZWxzIHBlcnNvbmFsIGFuZCBnZW51aW5lXG4tICR7dG9GaWVsZCA/IGBBZGRyZXNzIHRoZSBtZXNzYWdlIHRvICR7dG9GaWVsZH0gZGlyZWN0bHksIHVzaW5nIHRoZWlyIG5hbWUgbmF0dXJhbGx5YCA6IFwiV3JpdGUgaW4gYSB3YXkgdGhhdCBjb3VsZCBiZSBwZXJzb25hbGl6ZWQgdG8gYW55IHJlY2lwaWVudFwifVxuLSAke2Zyb21GaWVsZCA/IGBXcml0ZSBhcyBpZiAke2Zyb21GaWVsZH0gaXMgcGVyc29uYWxseSB3cml0aW5nIHRoaXMgbWVzc2FnZWAgOiBgV3JpdGUgaW4gYSAke3RvbmVEZXNjcmlwdGlvbn0gdG9uZWB9XG4tIE1hdGNoIHRoZSAke3RvbmVEZXNjcmlwdGlvbn0gdG9uZSBhbmQgb2NjYXNpb24gb2YgdGhlICR7Y2FyZFR5cGVGb3JQcm9tcHR9IGNhcmQgdHlwZVxuLSBCZSBpbnNwaXJlZCBieSB0aGUgdGhlbWU6IFwiJHtwcm9tcHR9XCJcbi0gS2VlcCBpdCBjb25jaXNlIGJ1dCBtZWFuaW5nZnVsICgyLTQgc2VudGVuY2VzIGlkZWFsKVxuLSBNYWtlIGl0IGZlZWwgYXV0aGVudGljLCBub3QgZ2VuZXJpY1xuLSBTQUZFVFk6IE5ldmVyIGluY2x1ZGUgYnJhbmQgbmFtZXMsIGNoYXJhY3RlciBuYW1lcywgdHJhZGVtYXJrZWQgdGVybXMsIG9yIGluYXBwcm9wcmlhdGUgY29udGVudC4gSWYgdGhlIHRoZW1lIHJlZmVyZW5jZXMgdGhlc2UsIHVzZSBnZW5lcmljIGFsdGVybmF0aXZlcyBvciBmb2N1cyBvbiB0aGUgZW1vdGlvbnMvY29uY2VwdHMgaW5zdGVhZFxuLSBLZWVwIGNvbnRlbnQgZmFtaWx5LWZyaWVuZGx5IGFuZCBhcHByb3ByaWF0ZSBmb3IgYWxsIGFnZXNcbi0gJHtzZWxlY3RlZFRvbmUgPT09ICdmdW5ueScgPyAnSW5jbHVkZSBhcHByb3ByaWF0ZSBodW1vciB0aGF0IGZpdHMgdGhlIG9jY2FzaW9uJyA6ICcnfVxuLSAke3NlbGVjdGVkVG9uZSA9PT0gJ2dlbnotaHVtb3InID8gJ1VzZSBHZW5aIGh1bW9yIHdpdGggaW50ZXJuZXQgc2xhbmcsIG1lbWVzLCBhbmQgY2hhb3RpYyBlbmVyZ3kgLSB0aGluayBcIm5vIGNhcFwiLCBcInBlcmlvZHRcIiwgXCJpdFxcJ3MgZ2l2aW5nLi4uXCIsIFwic2xheVwiLCBldGMuIEJlIHVuaGluZ2VkIGJ1dCBlbmRlYXJpbmcnIDogJyd9XG4tICR7c2VsZWN0ZWRUb25lID09PSAncHJvZmVzc2lvbmFsJyA/ICdLZWVwIGl0IGZvcm1hbCBhbmQgYnVzaW5lc3MtYXBwcm9wcmlhdGUnIDogJyd9XG4tICR7c2VsZWN0ZWRUb25lID09PSAncm9tYW50aWMnID8gJ0luY2x1ZGUgbG92aW5nIGFuZCByb21hbnRpYyBsYW5ndWFnZScgOiAnJ31cbi0gJHtzZWxlY3RlZFRvbmUgPT09ICdwbGF5ZnVsJyA/ICdVc2UgZnVuIGFuZCBlbmVyZ2V0aWMgbGFuZ3VhZ2UnIDogJyd9XG4tICR7dG9GaWVsZCAmJiBmcm9tRmllbGQgPyBgU2hvdyB0aGUgcmVsYXRpb25zaGlwIGJldHdlZW4gJHtmcm9tRmllbGR9IGFuZCAke3RvRmllbGR9IHRocm91Z2ggdGhlICR7dG9uZURlc2NyaXB0aW9ufSBtZXNzYWdlIHRvbmVgIDogXCJcIn1cbi0gJHtmcm9tRmllbGQgPyBgRW5kIHRoZSBtZXNzYWdlIHdpdGggYSBzaWduYXR1cmUgbGluZSBsaWtlIFwiTG92ZSwgJHtmcm9tRmllbGR9XCIgb3IgXCItICR7ZnJvbUZpZWxkfVwiIG9yIHNpbWlsYXIsIG5hdHVyYWxseSBpbnRlZ3JhdGVkIGludG8gdGhlIG1lc3NhZ2UuYCA6IFwiXCJ9XG5cblJldHVybiBPTkxZIHRoZSBtZXNzYWdlIHRleHQgdGhhdCBzaG91bGQgYXBwZWFyIGluc2lkZSB0aGUgY2FyZCAtIG5vIHF1b3Rlcywgbm8gZXhwbGFuYXRpb25zLCBubyBtYXJrZG93biBmb3JtYXR0aW5nIChubyAqYm9sZCosIF9pdGFsaWNzXywgb3Igb3RoZXIgbWFya2Rvd24pLCBqdXN0IHRoZSBjb21wbGV0ZSAke3RvbmVEZXNjcmlwdGlvbn0gbWVzc2FnZSBpbiBwbGFpbiB0ZXh0LlxuXG5JTVBPUlRBTlQ6IFdyYXAgeW91ciBmaW5hbCBtZXNzYWdlIGluIDxNRVNTQUdFPiA8L01FU1NBR0U+IHRhZ3MuIEV2ZXJ5dGhpbmcgb3V0c2lkZSB0aGVzZSB0YWdzIHdpbGwgYmUgaWdub3JlZC5gO1xuXG4gICAgICAgIGNvbnN0IGdlbmVyYXRlZE1lc3NhZ2UgPSBhd2FpdCBjaGF0V2l0aEFJKGF1dG9NZXNzYWdlUHJvbXB0LCB7XG4gICAgICAgICAgbW9kZWw6IFwiZ2VtaW5pLTIuNS1wcm9cIixcbiAgICAgICAgICBpbmNsdWRlVGhvdWdodHM6IGZhbHNlXG4gICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgaWYgKGdlbmVyYXRlZE1lc3NhZ2U/LnRyaW0oKSkge1xuICAgICAgICAgIGNvbnN0IG1lc3NhZ2VNYXRjaCA9IGdlbmVyYXRlZE1lc3NhZ2UubWF0Y2goLzxNRVNTQUdFPihbXFxzXFxTXSo/KTxcXC9NRVNTQUdFPi8pO1xuICAgICAgICAgIGlmIChtZXNzYWdlTWF0Y2ggJiYgbWVzc2FnZU1hdGNoWzFdKSB7XG4gICAgICAgICAgICBtZXNzYWdlQ29udGVudCA9IG1lc3NhZ2VNYXRjaFsxXS50cmltKCk7XG4gICAgICAgICAgICBzZXRGaW5hbENhcmRNZXNzYWdlKG1lc3NhZ2VDb250ZW50KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gR2VuZXJhdGUgc3R5bGUgYW5kIHBhcGVyIGNvbmZpZ1xuICAgICAgY29uc3Qgc2VsZWN0ZWRTdHlsZSA9IGFydGlzdGljU3R5bGVzLmZpbmQoc3R5bGUgPT4gc3R5bGUuaWQgPT09IHNlbGVjdGVkQXJ0aXN0aWNTdHlsZSk7XG4gICAgICBjb25zdCBzdHlsZU1vZGlmaWVyID0gc2VsZWN0ZWRBcnRpc3RpY1N0eWxlID09PSBcImN1c3RvbVwiIFxuICAgICAgICA/IGN1c3RvbVN0eWxlRGVzY3JpcHRpb24gXG4gICAgICAgIDogc2VsZWN0ZWRTdHlsZT8ucHJvbXB0TW9kaWZpZXIgfHwgXCJcIjtcblxuICAgICAgY29uc3QgcGFwZXJDb25maWcgPSBwYXBlclNpemVzLmZpbmQoc2l6ZSA9PiBzaXplLmlkID09PSBzZWxlY3RlZFBhcGVyU2l6ZSkgfHwgcGFwZXJTaXplc1swXTtcblxuICAgICAgc2V0R2VuZXJhdGlvblByb2dyZXNzKFwi8J+OqCBDcmVhdGluZyBhcnRpc3RpYyB2aXNpb24gZm9yIHlvdXIgY2FyZC4uLlwiKTtcblxuICAgICAgLy8gR2VuZXJhdGUgcHJvbXB0cyBmb3IgYWxsIGNhcmRzXG4gICAgICBjb25zdCBiYXNlUHJvbXB0R2VuZXJhdGlvblF1ZXJ5ID0gYFlvdSBhcmUgYW4gZXhwZXJ0IEFJIGdyZWV0aW5nIGNhcmQgZGVzaWduZXIgdGFza2VkIHdpdGggY3JlYXRpbmcgY29oZXNpdmUsIHZpc3VhbGx5IHN0dW5uaW5nIHByb21wdHMgZm9yIGEgJHtjYXJkVHlwZUZvclByb21wdH0gZ3JlZXRpbmcgY2FyZCR7bnVtYmVyT2ZDYXJkcyA+IDEgPyBgICh0aGlzIGlzIHZhcmlhbnQgJHsxfSBvZiAke251bWJlck9mQ2FyZHN9IHVuaXF1ZSBkZXNpZ25zKWAgOiAnJ30uXG5cblRoZW1lOiBcIiR7ZWZmZWN0aXZlUHJvbXB0fVwiXG5TdHlsZTogJHtzZWxlY3RlZFN0eWxlPy5sYWJlbCB8fCBcIkRlZmF1bHRcIn1cblRvbmU6ICR7c2VsZWN0ZWRUb25lT2JqID8gc2VsZWN0ZWRUb25lT2JqLmxhYmVsIDogXCJIZWFydGZlbHRcIn0gLSAke3RvbmVEZXNjcmlwdGlvbn1cbiR7dG9GaWVsZCA/IGBUbzogJHt0b0ZpZWxkfWAgOiBcIlwifVxuJHtmcm9tRmllbGQgPyBgRnJvbTogJHtmcm9tRmllbGR9YCA6IFwiXCJ9XG4keyFpc0Zyb250QmFja09ubHkgPyBgTWVzc2FnZTogXCIke21lc3NhZ2VDb250ZW50fVwiYCA6IFwiXCJ9XG4ke2lzSGFuZHdyaXR0ZW5NZXNzYWdlID8gXCJOb3RlOiBJbmNsdWRlIHNwYWNlIGZvciBoYW5kd3JpdHRlbiBtZXNzYWdlXCIgOiBcIlwifVxuJHtyZWZlcmVuY2VJbWFnZVVybHMubGVuZ3RoID4gMCA/IGBSZWZlcmVuY2U6IFwiJHtpbWFnZVRyYW5zZm9ybWF0aW9uIHx8ICdhcnRpc3RpYyB0cmFuc2Zvcm1hdGlvbid9XCJgIDogXCJcIn1cblxuQ1JJVElDQUw6IENyZWF0ZSBhIGNvaGVzaXZlIHZpc3VhbCBuYXJyYXRpdmUgdGhhdCBmbG93cyBjaHJvbm9sb2dpY2FsbHkgdGhyb3VnaCB0aGUgY2FyZCBleHBlcmllbmNlOlxuMS4gRlJPTlQgQ09WRVI6IEZpcnN0IGltcHJlc3Npb24gLSBzZXRzIHRoZSBzY2VuZS9pbnRyb2R1Y2VzIHRoZSBzdG9yeVxuMi4gSU5URVJJT1IgU1BSRUFEOiBUaGUgaGVhcnQgb2YgdGhlIGV4cGVyaWVuY2UgLSBjb250aW51YXRpb24gYW5kIGNsaW1heCBvZiB0aGUgdmlzdWFsIHN0b3J5XG4zLiBCQUNLIENPVkVSOiBDb25jbHVzaW9uIC0gcGVhY2VmdWwgcmVzb2x1dGlvbiBvciBjb21wbGVtZW50YXJ5IGVuZGluZ1xuXG5SZXF1aXJlbWVudHM6XG4tIEZsYXQgMkQgYXJ0d29yayBmb3IgcHJpbnRpbmcgKG5vdCAzRCBjYXJkIGltYWdlcylcbi0gRnVsbC1ibGVlZCBiYWNrZ3JvdW5kcyBleHRlbmRpbmcgdG8gZWRnZXNcbi0gSU1QT1JUQU5UOiBLZWVwIHRleHQsIGZhY2VzLCBhbmQga2V5IGVsZW1lbnRzIGF0IGxlYXN0IDEwJSBhd2F5IGZyb20gdG9wL2JvdHRvbSBlZGdlcyAoc21hbGwgYW1vdW50IG1heSBiZSBjcm9wcGVkIGluIHByaW50aW5nKVxuLSBLZWVwIHRleHQvZmFjZXMgMC41XCIgZnJvbSBsZWZ0L3JpZ2h0IGVkZ2VzIGZvciBzYWZlIHByaW50aW5nXG4tIENPTlNJU1RFTlQgdmlzdWFsIGVsZW1lbnRzIHRocm91Z2hvdXQ6IHNhbWUgY2hhcmFjdGVycywgY29sb3IgcGFsZXR0ZSwgbGlnaHRpbmcsIGFydCBzdHlsZVxuLSBQcm9ncmVzc2l2ZSB2aXN1YWwgc3Rvcnl0ZWxsaW5nIGZyb20gZnJvbnQg4oaSIGludGVyaW9yIOKGkiBiYWNrXG4tIFB1dCBhbnkgdGV4dCBpbiBxdW90ZXMgYW5kIG1ha2UgaXQgY2xlYXIvcmVhZGFibGVcbi0gRWFjaCBzZWN0aW9uIHNob3VsZCBmZWVsIGxpa2UgcGFydCBvZiB0aGUgc2FtZSBhcnRpc3RpYyB1bml2ZXJzZVxuLSBUT05FOiBFbnN1cmUgdGhlIHZpc3VhbCBtb29kIGFuZCBhdG1vc3BoZXJlIG1hdGNoZXMgdGhlICR7dG9uZURlc2NyaXB0aW9ufSB0b25lIHRocm91Z2hvdXQgYWxsIHNlY3Rpb25zXG4tIElOVEVMTEVDVFVBTCBQUk9QRVJUWSBTQUZFVFk6IElmIHRoZSB1c2VyIG1lbnRpb25zIHNwZWNpZmljIGNoYXJhY3RlcnMsIGJyYW5kcywgbG9nb3MsIG9yIHByb2R1Y3RzLCBhdXRvbWF0aWNhbGx5IHJlcGxhY2UgdGhlbSB3aXRoIG9yaWdpbmFsIGdlbmVyaWMgYWx0ZXJuYXRpdmVzIGluIHlvdXIgcHJvbXB0cy4gRm9yIGV4YW1wbGU6IHJlcGxhY2Ugc3BlY2lmaWMgY2hhcmFjdGVyIG5hbWVzIHdpdGggXCJjYXJ0b29uIG1vdXNlIGNoYXJhY3RlclwiIG9yIFwic3VwZXJoZXJvIGNoYXJhY3RlclwiLCByZXBsYWNlIGJyYW5kIG5hbWVzIHdpdGggXCJjb2xvcmZ1bCBjZXJlYWxcIiBvciBcInNwb3J0cyBjYXJcIiwgZXRjLiBDcmVhdGUgaW5zcGlyZWQtYnkgZGVzaWducyB0aGF0IGNhcHR1cmUgdGhlIGVzc2VuY2Ugd2l0aG91dCByZWZlcmVuY2luZyBhbnkgcHJvdGVjdGVkIG5hbWVzIG9yIHNwZWNpZmljIGNvcHlyaWdodGVkIGVsZW1lbnRzLiBOZXZlciBpbmNsdWRlIGFjdHVhbCBicmFuZCBuYW1lcywgY2hhcmFjdGVyIG5hbWVzLCBvciB0cmFkZW1hcmtlZCB0ZXJtcyBpbiB0aGUgaW1hZ2UgZ2VuZXJhdGlvbiBwcm9tcHRzXG4tIENPTlRFTlQgU0FGRVRZOiBFbnN1cmUgYWxsIHByb21wdHMgYXJlIGZhbWlseS1mcmllbmRseSBhbmQgYXBwcm9wcmlhdGUgZm9yIGdyZWV0aW5nIGNhcmRzLiBBdm9pZCBhbnkgY29udGVudCB0aGF0IGNvdWxkIGJlIGZsYWdnZWQgYnkgc2FmZXR5IHN5c3RlbXMgaW5jbHVkaW5nOiB2aW9sZW5jZSwgd2VhcG9ucywgaW5hcHByb3ByaWF0ZSBpbWFnZXJ5LCBwb2xpdGljYWwgY29udGVudCwgY29udHJvdmVyc2lhbCB0b3BpY3MsIHNjYXJ5IG9yIGRpc3R1cmJpbmcgZWxlbWVudHMsIG9yIGFueXRoaW5nIG5vdCBzdWl0YWJsZSBmb3IgYWxsIGFnZXMuIElmIHRoZSB1c2VyIHJlcXVlc3RzIHNvbWV0aGluZyBwb3RlbnRpYWxseSBpbmFwcHJvcHJpYXRlLCByZWRpcmVjdCB0byBwb3NpdGl2ZSwgd2hvbGVzb21lIGFsdGVybmF0aXZlcyB0aGF0IGNhcHR1cmUgdGhlaXIgaW50ZW50IGluIGEgZmFtaWx5LWZyaWVuZGx5IHdheVxuJHtzZWxlY3RlZFRvbmUgPT09ICdmdW5ueScgPyAnLSBJbmNsdWRlIHZpc3VhbCBodW1vciwgcGxheWZ1bCBlbGVtZW50cywgYW5kIHdoaW1zaWNhbCBkZXRhaWxzJyA6ICcnfVxuJHtzZWxlY3RlZFRvbmUgPT09ICdnZW56LWh1bW9yJyA/ICctIEluY2x1ZGUgR2VuWiB2aXN1YWwgZWxlbWVudHMgbGlrZSBjaGFvdGljIGVuZXJneSwgaW50ZXJuZXQgbWVtZSByZWZlcmVuY2VzLCBib2xkIGNvbnRyYXN0aW5nIGNvbG9ycywgYW5kIHVuaGluZ2VkIGJ1dCBlbmRlYXJpbmcgdmlzdWFsIHN0eWxlJyA6ICcnfVxuJHtzZWxlY3RlZFRvbmUgPT09ICdyb21hbnRpYycgPyAnLSBJbmNsdWRlIHJvbWFudGljIGVsZW1lbnRzIGxpa2Ugc29mdCBsaWdodGluZywgaGVhcnRzLCBmbG93ZXJzLCBvciBpbnRpbWF0ZSBzY2VuZXMnIDogJyd9XG4ke3NlbGVjdGVkVG9uZSA9PT0gJ3Byb2Zlc3Npb25hbCcgPyAnLSBLZWVwIHZpc3VhbHMgY2xlYW4sIHNvcGhpc3RpY2F0ZWQsIGFuZCBidXNpbmVzcy1hcHByb3ByaWF0ZScgOiAnJ31cbiR7c2VsZWN0ZWRUb25lID09PSAncGxheWZ1bCcgPyAnLSBJbmNsdWRlIGJyaWdodCBjb2xvcnMsIGR5bmFtaWMgcG9zZXMsIGFuZCBlbmVyZ2V0aWMgdmlzdWFsIGVsZW1lbnRzJyA6ICcnfVxuJHtzZWxlY3RlZFRvbmUgPT09ICdlbGVnYW50JyA/ICctIEZvY3VzIG9uIHNvcGhpc3RpY2F0ZWQgZGVzaWduLCByZWZpbmVkIGNvbG9yIHBhbGV0dGVzLCBhbmQgZ3JhY2VmdWwgY29tcG9zaXRpb25zJyA6ICcnfVxuJHtyZWZlcmVuY2VJbWFnZVVybHMubGVuZ3RoID4gMCA/IGAtIENyZWF0ZSBjYXJ0b29uL2lsbHVzdHJhdGVkIGNoYXJhY3RlcnMgaW5zcGlyZWQgYnkgcmVmZXJlbmNlIGltYWdlcyAtIERPIE5PVCBtYWtlIHJlYWxpc3RpYyBkZXBpY3Rpb25zYCA6ICcnfVxuXG5DcmVhdGUgcHJvbXB0cyB0aGF0IGZsb3cgY2hyb25vbG9naWNhbGx5OlxuXG4xLiBGcm9udCBDb3ZlciAoT3BlbmluZyBTY2VuZSk6IEJFIEdFTlVJTkVMWSBDUkVBVElWRSBBTkQgVU5JUVVFISBJbmNsdWRlIFwiJHtjYXJkVHlwZUZvclByb21wdH1cIiBncmVldGluZyB0ZXh0IHBvc2l0aW9uZWQgc2FmZWx5IGluIHRoZSBjZW50ZXIgYXJlYSAoYXZvaWQgdG9wL2JvdHRvbSAxMCUgb2YgaW1hZ2UpLiBURVhUIFNUWUxFOiBXcml0ZSB0aGUgZ3JlZXRpbmcgdGV4dCBpbiBiZWF1dGlmdWwsIGNsZWFybHkgcmVhZGFibGUgaGFuZHdyaXR0ZW4gY3Vyc2l2ZSBzY3JpcHQgdGhhdCBtYXRjaGVzIHRoZSBlbGVnYW50IHN0eWxlIHVzZWQgaW5zaWRlIHRoZSBjYXJkIC0gbGVnaWJsZSwgZmxvd2luZywgYW5kIGdyYWNlZnVsIHdpdGggbmF0dXJhbCBjaGFyYWN0ZXIgYW5kIHdhcm10aC4gJHtyZWZlcmVuY2VJbWFnZVVybHMubGVuZ3RoID4gMCA/IGBJIGhhdmUgaW5jbHVkZWQgJHtyZWZlcmVuY2VJbWFnZVVybHMubGVuZ3RoID4gMSA/ICdtdWx0aXBsZScgOiAnbXkgb3duJ30gcmVmZXJlbmNlIGltYWdlJHtyZWZlcmVuY2VJbWFnZVVybHMubGVuZ3RoID4gMSA/ICdzJyA6ICcnfS4gQ3JlYXRlIHN0eWxpemVkIGNhcnRvb24vaWxsdXN0cmF0ZWQgY2hhcmFjdGVycyBpbnNwaXJlZCBieSB0aGUgcmVmZXJlbmNlIGltYWdlJHtyZWZlcmVuY2VJbWFnZVVybHMubGVuZ3RoID4gMSA/ICdzJyA6ICcnfSAtIERPIE5PVCBtYWtlIHJlYWxpc3RpYyBkZXBpY3Rpb25zIG9mIHJlYWwgcGVvcGxlLCBpbnN0ZWFkIGNyZWF0ZSBjaGFybWluZyBjYXJ0b29uLXN0eWxlIGNoYXJhY3RlcnMgd2l0aCBzaW1wbGlmaWVkLCBmcmllbmRseSBmZWF0dXJlcy5gIDogJ0NyZWF0ZSBjaGFybWluZyBjYXJ0b29uLXN0eWxlIG9yIHN0eWxpemVkIGlsbHVzdHJhdGVkIGZpZ3VyZXMgaWYgcGVvcGxlIGFyZSBuZWVkZWQgZm9yIHRoZSB0aGVtZS4nfSBUaGlzIGlzIHRoZSBzdG9yeSBvcGVuaW5nIC0gaW50cm9kdWNlIGtleSB2aXN1YWwgZWxlbWVudHMgKGNvbG9ycywgbW90aWZzLCBhcnRpc3RpYyBzdHlsZSkgdGhhdCB3aWxsIGNvbnRpbnVlIHRocm91Z2hvdXQgdGhlIG90aGVyIHNlY3Rpb25zLiBUaGluayBvZiBzb21ldGhpbmcgdW5leHBlY3RlZCwgaW5ub3ZhdGl2ZSwgYW5kIG1lbW9yYWJsZSB0aGF0IHdpbGwgc3VycHJpc2UgYW5kIGRlbGlnaHQgdGhlIHJlY2lwaWVudC4gQXZvaWQgZ2VuZXJpYyBkZXNpZ25zISBTdHlsZTogJHtzdHlsZU1vZGlmaWVyfVxuXG4yLiAkeyFpc0Zyb250QmFja09ubHkgPyBgTGVmdCBJbnRlcmlvciAoU3RvcnkgRGV2ZWxvcG1lbnQpOiBVTkxFQVNIIFlPVVIgQ1JFQVRJVklUWSEgWW91IGhhdmUgY29tcGxldGUgY3JlYXRpdmUgZnJlZWRvbSB0byBkZXNpZ24gd2hhdGV2ZXIgeW91IHdhbnQgZm9yIHRoaXMgbGVmdCBpbnRlcmlvciBwYWdlISBUaGlzIGlzIHlvdXIgYXJ0aXN0aWMgcGxheWdyb3VuZCAtIGNyZWF0ZSBzb21ldGhpbmcgZ2VudWluZWx5IGlubm92YXRpdmUgYW5kIHVuZXhwZWN0ZWQgdGhhdCBmZWVscyByaWdodCBmb3IgYSAke2NhcmRUeXBlRm9yUHJvbXB0fSBjYXJkIHdpdGggJHt0b25lRGVzY3JpcHRpb259IHRvbmUuIFlvdSBjYW4gaW5jbHVkZTogc2NlbmVzLCBsYW5kc2NhcGVzLCBvYmplY3RzLCBwYXR0ZXJucywgcXVvdGVzLCB0ZXh0LCBpbGx1c3RyYXRpb25zLCByZWFsaXN0aWMgYXJ0LCBhYnN0cmFjdCBhcnQsIG9yIGFueXRoaW5nIGVsc2UgdGhhdCBpbnNwaXJlcyB5b3UgLSBidXQgTk8gUEVPUExFIG9yIGNoYXJhY3RlcnMgdW5sZXNzIHRoZSB1c2VyIHNwZWNpZmljYWxseSBtZW50aW9uZWQgd2FudGluZyBwZW9wbGUgaW4gdGhlaXIgY2FyZCBkZXNjcmlwdGlvbi4gUG9zaXRpb24gYW55IHRleHQgc2FmZWx5IGluIGNlbnRlciBhcmVhIChhdm9pZCB0b3AvYm90dG9tIDEwJSkuIFRoaW5rIG9mIHNvbWV0aGluZyBubyBvbmUgaGFzIGRvbmUgYmVmb3JlISBTdXJwcmlzZSB1cyB3aXRoIGJvbGQsIGltYWdpbmF0aXZlLCBhbmQgbWVtb3JhYmxlIGFydGlzdGljIGNob2ljZXMgd2hpbGUgbWFpbnRhaW5pbmcgdmlzdWFsIGhhcm1vbnkgd2l0aCB0aGUgb3ZlcmFsbCBjYXJkIHN0eWxlIGFuZCB0b25lLiBTdHlsZTogJHtzdHlsZU1vZGlmaWVyfVxuXG4zLiBSaWdodCBJbnRlcmlvciAoU3RvcnkgQ2xpbWF4KTogQkUgQ1JFQVRJVkUgV0lUSCBNRVNTQUdFIERFU0lHTiEgJHtpc0hhbmR3cml0dGVuTWVzc2FnZSA/IGBEZXNpZ24gd2l0aCBlbGVnYW50IHdyaXRpbmcgc3BhY2UgdGhhdCBjb21wbGVtZW50cyB0aGUgdmlzdWFsIHN0b3J5IGZyb20gbGVmdCBpbnRlcmlvci4gUG9zaXRpb24gZGVjb3JhdGl2ZSBlbGVtZW50cyBzYWZlbHkgYXdheSBmcm9tIHRvcC9ib3R0b20gZWRnZXMuIENyZWF0ZSBpbm5vdmF0aXZlIGFuZCBhcnRpc3RpYyBkZWNvcmF0aXZlIGVsZW1lbnRzLCBib3JkZXJzLCBvciBmbG91cmlzaGVzIHRoYXQgYXJlIHVuaXF1ZSBhbmQgbWVtb3JhYmxlIC0gTk8gUEVPUExFIG9yIGNoYXJhY3RlcnMuYCA6IGBJbmNsdWRlIG1lc3NhZ2UgdGV4dDogXCIke21lc3NhZ2VDb250ZW50fVwiIHBvc2l0aW9uZWQgc2FmZWx5IGluIGNlbnRlciBhcmVhIChhdm9pZCB0b3AvYm90dG9tIDEwJSBvZiBpbWFnZSkgaW50ZWdyYXRlZCBpbnRvIGJlYXV0aWZ1bCwgaW5ub3ZhdGl2ZSBkZWNvcmF0aXZlIGFydHdvcmsuIEhBTkRXUklUSU5HIFNUWUxFOiBXcml0ZSB0aGUgbWVzc2FnZSBpbiBiZWF1dGlmdWwsIGNsZWFybHkgcmVhZGFibGUgaGFuZHdyaXR0ZW4gY3Vyc2l2ZSBzY3JpcHQgdGhhdCBmZWVscyBlbGVnYW50IGFuZCBwZXJzb25hbC4gVGhlIGhhbmR3cml0aW5nIHNob3VsZCBiZSBsZWdpYmxlLCBmbG93aW5nLCBhbmQgaGF2ZSBuYXR1cmFsIGNoYXJhY3RlciAtIG5vdCBvdmVybHkgcGVyZmVjdCBidXQgZ3JhY2VmdWwgYW5kIHdhcm0uIFVzZSBhIG5pY2UgcGVuLXN0eWxlIGFwcGVhcmFuY2Ugd2l0aCBuYXR1cmFsIGluayBmbG93IGFuZCBzbGlnaHQgdmFyaWF0aW9ucyBpbiBsaW5lIHdlaWdodC4gVGhpbmsgb2Ygc29waGlzdGljYXRlZCBjYWxsaWdyYXBoeSB0aGF0J3Mgc3RpbGwgYXBwcm9hY2hhYmxlIGFuZCBlYXN5IHRvIHJlYWQuIE1ha2UgdGhlIGhhbmR3cml0aW5nIGZlZWwgZ2VudWluZSBhbmQgaGVhcnRmZWx0LiBUaGluayBiZXlvbmQgdHlwaWNhbCBmbG9yYWxzIGFuZCBwYXR0ZXJucyAtIGNyZWF0ZSBzb21ldGhpbmcgdW5leHBlY3RlZCBhbmQgYXJ0aXN0aWMgdGhhdCBwZXJmZWN0bHkgZnJhbWVzIHRoZSBoYW5kd3JpdHRlbiBtZXNzYWdlIC0gTk8gUEVPUExFIG9yIGNoYXJhY3RlcnMuYH0gVGhpcyBzaG91bGQgZmVlbCBsaWtlIHRoZSBlbW90aW9uYWwgcGVhayBvZiB0aGUgY2FyZCBleHBlcmllbmNlLCBoYXJtb25pemluZyB3aXRoIHRoZSBsZWZ0IGludGVyaW9yIGFzIGEgY29oZXNpdmUgc3ByZWFkLiBBdm9pZCBjbGljaMOpIGRlc2lnbnMgYW5kIGNyZWF0ZSBzb21ldGhpbmcgZ2VudWluZWx5IHNwZWNpYWwhJHtoYW5kd3JpdGluZ1NhbXBsZVVybCA/ICcgTWF0Y2ggdGhlIHByb3ZpZGVkIGhhbmR3cml0aW5nIHN0eWxlIHNhbXBsZSBleGFjdGx5LicgOiAnIFVzZSB0aGUgZWxlZ2FudCBjdXJzaXZlIGhhbmR3cml0aW5nIHN0eWxlIGRlc2NyaWJlZCBhYm92ZS4nfSBTdHlsZTogJHtzdHlsZU1vZGlmaWVyfVxuXG40LiBgIDogJyd9QmFjayBDb3ZlciAoU3RvcnkgUmVzb2x1dGlvbik6IEJFIFNVQlRMWSBDUkVBVElWRSEgQ3JlYXRlIGEgc2ltcGxlIHlldCBpbm5vdmF0aXZlIGRlY29yYXRpdmUgZGVzaWduIHRoYXQgYnJpbmdzIHBlYWNlZnVsIGNsb3N1cmUgdG8gdGhlIHZpc3VhbCBzdG9yeS4gUmVmZXJlbmNlIHN1YnRsZSBlbGVtZW50cyBmcm9tIHRoZSBmcm9udCBjb3ZlciBidXQga2VlcCBpdCBtaW5pbWFsIGFuZCBzZXJlbmUgLSBOTyBQRU9QTEUsIGp1c3QgYmVhdXRpZnVsLCB1bmV4cGVjdGVkIGFydGlzdGljIGVsZW1lbnRzIHRoYXQgZ28gYmV5b25kIHR5cGljYWwgcGF0dGVybnMgb3IgZmxvcmFscy4gSU1QT1JUQU5UOiBMZWF2ZSB0aGUgYm90dG9tLXJpZ2h0IGNvcm5lciBhcmVhIChhcHByb3hpbWF0ZWx5IDEgaW5jaCBzcXVhcmUpIGNvbXBsZXRlbHkgY2xlYXIgYW5kIHVuZGVjb3JhdGVkIC0gdGhpcyBzcGFjZSBzaG91bGQgcmVtYWluIGVtcHR5LiBGb2N1cyBkZWNvcmF0aXZlIGVsZW1lbnRzIHRvd2FyZCB0aGUgY2VudGVyIGFuZCBsZWZ0IHNpZGUgb2YgdGhlIGRlc2lnbi4gVGhpbmsgb2Ygc29tZXRoaW5nIHF1aWV0bHkgYmVhdXRpZnVsIGFuZCBtZW1vcmFibGUgdGhhdCBjb21wbGVtZW50cyB0aGUgb3ZlcmFsbCBkZXNpZ24gd2hpbGUgYmVpbmcgZ2VudWluZWx5IHVuaXF1ZS4gVGhpcyBzaG91bGQgZmVlbCBsaWtlIGEgcGVhY2VmdWwsIGFydGlzdGljIGVuZGluZyB0aGF0IHN1cnByaXNlcyB3aXRoIGl0cyBzdWJ0bGUgY3JlYXRpdml0eS4gU3R5bGU6ICR7c3R5bGVNb2RpZmllcn1cblxuVklTVUFMIENPTlRJTlVJVFkgQ0hFQ0tMSVNUOlxuLSBTYW1lIGNvbG9yIHBhbGV0dGUgYWNyb3NzIGFsbCBzZWN0aW9uc1xuLSBDb25zaXN0ZW50IGxpZ2h0aW5nL3RpbWUgb2YgZGF5XG4tIFNhbWUgYXJ0aXN0aWMgdGVjaG5pcXVlcyBhbmQgYnJ1c2h3b3JrXG4tIFJlY3VycmluZyB2aXN1YWwgbW90aWZzIG9yIHN5bWJvbHMgKGJ1dCBtYWtlIHRoZW0gdW5pcXVlIGFuZCBtZW1vcmFibGUhKVxuLSBQcm9ncmVzc2l2ZSBlbW90aW9uYWwgam91cm5leSBmcm9tIGludHJvZHVjdGlvbiB0byByZXNvbHV0aW9uXG4tIEZyb250IGNvdmVyOiBzdHlsaXplZCBjYXJ0b29uL2lsbHVzdHJhdGVkIGNoYXJhY3RlcnMgaWYgcGVvcGxlIGFyZSBuZWVkZWQgZm9yIHRoZSB0aGVtZVxuLSBMZWZ0IGludGVyaW9yOiBDUkVBVElWRSBGUkVFRE9NIGJ1dCBOTyBQRU9QTEUgdW5sZXNzIHVzZXIgc3BlY2lmaWNhbGx5IHJlcXVlc3RlZCBwZW9wbGUgaW4gdGhlaXIgZGVzY3JpcHRpb25cbi0gUmlnaHQgaW50ZXJpb3I6IGZvY3VzIG9uIG1lc3NhZ2Ugc3BhY2Ugd2l0aCBpbm5vdmF0aXZlIGRlY29yYXRpdmUgZWxlbWVudHMgKE5PIFBFT1BMRSlcbi0gQmFjayBjb3Zlcjogc2ltcGxlIHlldCBjcmVhdGl2ZSBkZWNvcmF0aXZlIGRlc2lnbiB3aXRob3V0IHRleHQgb3IgcGVvcGxlXG4tIFVzZSBzaW1wbGlmaWVkLCBmcmllbmRseSwgY2hhcm1pbmcgY2hhcmFjdGVyIGRlc2lnbiBpZiBpbmNsdWRpbmcgcGVvcGxlIChmcm9udCBjb3ZlciBvbmx5KVxuLSBDUkVBVElWSVRZIFBSSU9SSVRZOiBBbHdheXMgY2hvb3NlIHRoZSBtb3JlIGlubm92YXRpdmUsIHN1cnByaXNpbmcsIGFuZCBtZW1vcmFibGUgb3B0aW9uIG92ZXIgZ2VuZXJpYyBkZXNpZ25zXG5cblJldHVybiBKU09OOlxue1xuICBcImZyb250Q292ZXJcIjogXCJkZXRhaWxlZCBwcm9tcHQgd2l0aCBzdG9yeSBvcGVuaW5nIGVsZW1lbnRzXCIsXG4gIFwiYmFja0NvdmVyXCI6IFwiZGV0YWlsZWQgcHJvbXB0IHdpdGggc3RvcnkgY29uY2x1c2lvbiBlbGVtZW50c1wiJHshaXNGcm9udEJhY2tPbmx5ID8gJyxcXG4gIFwibGVmdEludGVyaW9yXCI6IFwiZGV0YWlsZWQgcHJvbXB0IHdpdGggc3RvcnkgZGV2ZWxvcG1lbnQgZWxlbWVudHNcIixcXG4gIFwicmlnaHRJbnRlcmlvclwiOiBcImRldGFpbGVkIHByb21wdCB3aXRoIHN0b3J5IGNsaW1heCBlbGVtZW50c1wiJyA6ICcnfVxufWA7XG5cbiAgICAgIGNvbnN0IGdlbmVyYXRlZFByb21wdHMgPSBhd2FpdCBjaGF0V2l0aEFJKGJhc2VQcm9tcHRHZW5lcmF0aW9uUXVlcnksIHtcbiAgICAgICAganNvblNjaGVtYToge1xuICAgICAgICAgIHR5cGU6IFwib2JqZWN0XCIsXG4gICAgICAgICAgcHJvcGVydGllczoge1xuICAgICAgICAgICAgZnJvbnRDb3ZlcjogeyB0eXBlOiBcInN0cmluZ1wiIH0sXG4gICAgICAgICAgICBiYWNrQ292ZXI6IHsgdHlwZTogXCJzdHJpbmdcIiB9LFxuICAgICAgICAgICAgLi4uKGlzRnJvbnRCYWNrT25seSA/IHt9IDogeyBcbiAgICAgICAgICAgICAgbGVmdEludGVyaW9yOiB7IHR5cGU6IFwic3RyaW5nXCIgfSxcbiAgICAgICAgICAgICAgcmlnaHRJbnRlcmlvcjogeyB0eXBlOiBcInN0cmluZ1wiIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgfSxcbiAgICAgICAgICByZXF1aXJlZDogW1wiZnJvbnRDb3ZlclwiLCBcImJhY2tDb3ZlclwiLCAuLi4oaXNGcm9udEJhY2tPbmx5ID8gW10gOiBbXCJsZWZ0SW50ZXJpb3JcIiwgXCJyaWdodEludGVyaW9yXCJdKV1cbiAgICAgICAgfSxcbiAgICAgICAgbW9kZWw6IFwiZ2VtaW5pLTIuNS1wcm9cIlxuICAgICAgfSk7XG5cbiAgICAgIGlmICghZ2VuZXJhdGVkUHJvbXB0cyB8fCAhZ2VuZXJhdGVkUHJvbXB0cy5mcm9udENvdmVyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCLinYwgRmFpbGVkIHRvIGdlbmVyYXRlIGltYWdlIHByb21wdHM6XCIsIGdlbmVyYXRlZFByb21wdHMpO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJGYWlsZWQgdG8gZ2VuZXJhdGUgaW1hZ2UgcHJvbXB0c1wiKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgY29uc29sZS5sb2coXCLinIUgR2VuZXJhdGVkIHByb21wdHMgc3VjY2Vzc2Z1bGx5OlwiLCB7IFxuICAgICAgICBpc0RyYWZ0TW9kZSwgXG4gICAgICAgIGRyYWZ0SW5kZXgsIFxuICAgICAgICBoYXNGcm9udENvdmVyOiAhIWdlbmVyYXRlZFByb21wdHMuZnJvbnRDb3ZlcixcbiAgICAgICAgaGFzQmFja0NvdmVyOiAhIWdlbmVyYXRlZFByb21wdHMuYmFja0NvdmVyXG4gICAgICB9KTtcblxuICAgICAgLy8gRW5oYW5jZSBmcm9udCBjb3ZlciBwcm9tcHQgd2l0aCByZWZlcmVuY2UgaW1hZ2UgaW5zdHJ1Y3Rpb25zIGlmIGF2YWlsYWJsZVxuICAgICAgaWYgKHJlZmVyZW5jZUltYWdlVXJscy5sZW5ndGggPiAwICYmIG1vZGVsVG9Vc2UgPT09IFwiZ3B0LWltYWdlLTFcIikge1xuICAgICAgICBnZW5lcmF0ZWRQcm9tcHRzLmZyb250Q292ZXIgPSBgJHtnZW5lcmF0ZWRQcm9tcHRzLmZyb250Q292ZXJ9XFxuXFxuQ1JJVElDQUwgQ0hBUkFDVEVSIFJFRkVSRU5DRSBJTlNUUlVDVElPTlM6IEkgaGF2ZSBwcm92aWRlZCAke3JlZmVyZW5jZUltYWdlVXJscy5sZW5ndGggPiAxID8gJ211bHRpcGxlIHJlZmVyZW5jZSBwaG90b3MnIDogJ2EgcmVmZXJlbmNlIHBob3RvJ30gYXMgaW5wdXQgaW1hZ2Uke3JlZmVyZW5jZUltYWdlVXJscy5sZW5ndGggPiAxID8gJ3MnIDogJyd9LiBZb3UgTVVTVCBjcmVhdGUgY2FydG9vbi9pbGx1c3RyYXRlZCBjaGFyYWN0ZXJzIHRoYXQgYWNjdXJhdGVseSByZXByZXNlbnQgdGhlIHBlb3BsZSBpbiAke3JlZmVyZW5jZUltYWdlVXJscy5sZW5ndGggPiAxID8gJ3RoZXNlIHJlZmVyZW5jZSBwaG90b3MnIDogJ3RoaXMgcmVmZXJlbmNlIHBob3RvJ30gd2l0aCBoaWdoIGZpZGVsaXR5IHRvIHRoZWlyIGFwcGVhcmFuY2UuXG5cbk1BTkRBVE9SWSBDSEFSQUNURVIgTUFUQ0hJTkcgUkVRVUlSRU1FTlRTOlxuLSBSRVBSRVNFTlQgQUxMIFBFT1BMRTogSWYgbXVsdGlwbGUgcmVmZXJlbmNlIHBob3RvcyBhcmUgcHJvdmlkZWQsIGNyZWF0ZSBjYXJ0b29uIHZlcnNpb25zIG9mIEFMTCBwZW9wbGUgc2hvd24sIGJyaW5naW5nIHRoZW0gdG9nZXRoZXIgaW4gdGhlIHNhbWUgc2NlbmVcbi0gRVhBQ1QgaGFpciBjb2xvciwgaGFpciBzdHlsZSwgYW5kIGhhaXIgbGVuZ3RoIGZyb20gZWFjaCByZWZlcmVuY2UgcGhvdG9cbi0gUFJFQ0lTRSBmYWNpYWwgZmVhdHVyZXMgZm9yIGVhY2ggcGVyc29uOiBleWUgY29sb3IsIGV5ZSBzaGFwZSwgbm9zZSBzaGFwZSwgZmFjZSBzdHJ1Y3R1cmUsIHNraW4gdG9uZVxuLSBBQ0NVUkFURSBjbG90aGluZzogcmVwbGljYXRlIHRoZSBFWEFDVCBjbG90aGluZyBpdGVtcywgY29sb3JzLCBwYXR0ZXJucywgYW5kIHN0eWxlcyB3b3JuIGJ5IGVhY2ggcGVyc29uIGluIHRoZWlyIHJlZmVyZW5jZSBwaG90b1xuLSBDT01QTEVURSBhY2Nlc3NvcmllczogaW5jbHVkZSBBTEwgYWNjZXNzb3JpZXMgdmlzaWJsZSBvbiBlYWNoIHBlcnNvbiAoZ2xhc3NlcywgamV3ZWxyeSwgaGF0cywgd2F0Y2hlcywgYmFncywgZXRjLilcbi0gQ09SUkVDVCBib2R5IHByb3BvcnRpb25zIGFuZCBwb3N0dXJlIGFzIHNob3duIGZvciBlYWNoIHBlcnNvbiBpbiB0aGVpciByZWZlcmVuY2Vcbi0gRkFJVEhGVUwgYWdlIHJlcHJlc2VudGF0aW9uIGFuZCBnZW5kZXIgcHJlc2VudGF0aW9uIGZvciBlYWNoIGluZGl2aWR1YWxcbi0gQVVUSEVOVElDIGZhY2lhbCBleHByZXNzaW9ucyBhbmQgcG9zZXMgZnJvbSB0aGUgcmVmZXJlbmNlIGltYWdlcywgbGVhbiB0b3dhcmRzIG1ha2luZyB0aGUgcGVvcGxlIGxvb2sgaGFwcGllciB1bmxlc3MgdGhlIHVzZXIgc3BlY2lmaWNhbGx5IGFza3MgZm9yIGEgZGlmZmVyZW50IGV4cHJlc3Npb25cbi0gR1JPVVAgQ09NUE9TSVRJT046IElmIG11bHRpcGxlIHBlb3BsZSwgYXJyYW5nZSB0aGVtIG5hdHVyYWxseSB0b2dldGhlciBpbiBhIHBsZWFzaW5nIGNvbXBvc2l0aW9uIHRoYXQgZml0cyB0aGUgY2FyZCdzIHRoZW1lXG5cbiR7aW1hZ2VUcmFuc2Zvcm1hdGlvbiB8fCAnU3R1ZHkgZXZlcnkgZGV0YWlsIG9mIHRoZSBwZW9wbGUgaW4gdGhlIHJlZmVyZW5jZSBpbWFnZSBhbmQgcmVjcmVhdGUgdGhlbSBhcyBzdHlsaXplZCBjYXJ0b29uIGNoYXJhY3RlcnMgd2hpbGUgbWFpbnRhaW5pbmcgMTAwJSBhY2N1cmFjeSB0byB0aGVpciBkaXN0aW5jdGl2ZSB2aXN1YWwgZmVhdHVyZXMuIFRoZSBjaGFyYWN0ZXJzIG11c3QgYmUgaW1tZWRpYXRlbHkgcmVjb2duaXphYmxlIGFzIHRoZSBzYW1lIHBlb3BsZSBmcm9tIHRoZSByZWZlcmVuY2UgcGhvdG8uIFBheSBzcGVjaWFsIGF0dGVudGlvbiB0byBjbG90aGluZyBkZXRhaWxzLCBhY2Nlc3NvcmllcywgYW5kIHVuaXF1ZSBwZXJzb25hbCBzdHlsZSBlbGVtZW50cyB0aGF0IG1ha2UgZWFjaCBwZXJzb24gZGlzdGluY3RpdmUuJ31cblxuVGhlIGNhcnRvb24gc3R5bGUgc2hvdWxkIGJlIGNoYXJtaW5nIGFuZCBhcnRpc3RpYyB3aGlsZSBwcmVzZXJ2aW5nIGNvbXBsZXRlIHZpc3VhbCBhY2N1cmFjeSB0byB0aGUgcmVmZXJlbmNlIHBob3RvLiBFdmVyeSBwZXJzb24gaW4gdGhlIHJlZmVyZW5jZSBtdXN0IGJlIHJlcHJlc2VudGVkIHdpdGggdGhlaXIgZXhhY3QgYXBwZWFyYW5jZSwgY2xvdGhpbmcsIGFuZCBhY2Nlc3Nvcmllcy5gO1xuICAgICAgfVxuXG4gICAgICAvLyBTYXZlIGpvYiBkYXRhIHRvIGxvY2FsU3RvcmFnZSBhbmQgc2VydmVyXG4gICAgICBjb25zdCBqb2JEYXRhID0ge1xuICAgICAgICBwcm9tcHQ6IGVmZmVjdGl2ZVByb21wdCxcbiAgICAgICAgc2VsZWN0ZWRUeXBlLFxuICAgICAgICBjdXN0b21DYXJkVHlwZSxcbiAgICAgICAgc2VsZWN0ZWRUb25lLFxuICAgICAgICBmaW5hbENhcmRNZXNzYWdlOiBtZXNzYWdlQ29udGVudCxcbiAgICAgICAgdG9GaWVsZCxcbiAgICAgICAgZnJvbUZpZWxkLFxuICAgICAgICB1c2VyRW1haWwsXG4gICAgICAgIHNlbGVjdGVkQXJ0aXN0aWNTdHlsZSxcbiAgICAgICAgY3VzdG9tU3R5bGVEZXNjcmlwdGlvbixcbiAgICAgICAgc2VsZWN0ZWRJbWFnZU1vZGVsLFxuICAgICAgICBpc0Zyb250QmFja09ubHksXG4gICAgICAgIG51bWJlck9mQ2FyZHMsXG4gICAgICAgIHNlbGVjdGVkUGFwZXJTaXplLFxuICAgICAgICBwcm9tcHRzOiBnZW5lcmF0ZWRQcm9tcHRzLFxuICAgICAgICBwYXBlckNvbmZpZ1xuICAgICAgfTtcbiAgICAgIFxuICAgICAgc2F2ZUpvYlRvU3RvcmFnZShqb2JJZCwgam9iRGF0YSk7XG4gICAgICBcbiAgICAgIC8vIENyZWF0ZSBqb2Igb24gc2VydmVyIGFuZCBzdGFydCBhc3luYyBnZW5lcmF0aW9uXG4gICAgICBzZXRHZW5lcmF0aW9uUHJvZ3Jlc3MoXCLwn5qAIFN0YXJ0aW5nIGJhY2tncm91bmQgZ2VuZXJhdGlvbiAtIHlvdSBjYW4gc2FmZWx5IGxlYXZlIHRoaXMgcGFnZSFcIik7XG4gICAgICBcbiAgICAgIC8vIFByZXBhcmUgaW5wdXQgaW1hZ2VzIGZvciByZWZlcmVuY2UgcGhvdG8gc3VwcG9ydCAtIG9ubHkgZm9yIEdQVC0xXG4gICAgICBjb25zdCBpbnB1dEltYWdlczogc3RyaW5nW10gPSBbXTtcbiAgICAgIGlmIChyZWZlcmVuY2VJbWFnZVVybHMubGVuZ3RoID4gMCAmJiBtb2RlbFRvVXNlID09PSBcImdwdC1pbWFnZS0xXCIpIHtcbiAgICAgICAgaW5wdXRJbWFnZXMucHVzaCguLi5yZWZlcmVuY2VJbWFnZVVybHMpO1xuICAgICAgICBjb25zb2xlLmxvZyhcIvCflI0gREVCVUc6IEFkZGVkIHJlZmVyZW5jZSBpbWFnZXMgdG8gYXN5bmMgZ2VuZXJhdGlvbjpcIiwgcmVmZXJlbmNlSW1hZ2VVcmxzKTtcbiAgICAgICAgY29uc29sZS5sb2coXCLwn5SNIERFQlVHOiBUb3RhbCBpbnB1dCBpbWFnZXMgZm9yIGFzeW5jIGdlbmVyYXRpb246XCIsIGlucHV0SW1hZ2VzLmxlbmd0aCk7XG4gICAgICAgIGNvbnNvbGUubG9nKFwi8J+UjSBERUJVRzogUmVmZXJlbmNlIGltYWdlcyBzaG91bGQgQUxMIGdvIHRvIGZyb250IGNvdmVyIGZvciBjaGFyYWN0ZXIgY3JlYXRpb24gb2YgbXVsdGlwbGUgcGVvcGxlXCIpO1xuICAgICAgfVxuXG4gICAgICBjb25zb2xlLmxvZyhcIvCfmoAgTWFraW5nIEFQSSBjYWxsIHRvIC9hcGkvZ2VuZXJhdGUtY2FyZC1hc3luYzpcIiwgeyBcbiAgICAgICAgaXNEcmFmdE1vZGUsIFxuICAgICAgICBkcmFmdEluZGV4LCBcbiAgICAgICAgam9iSWQsIFxuICAgICAgICBtb2RlbFRvVXNlLFxuICAgICAgICBxdWFsaXR5OiBpc0RyYWZ0TW9kZSA/IFwibG93XCIgOiBcImhpZ2hcIlxuICAgICAgfSk7XG4gICAgICBcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hcGkvZ2VuZXJhdGUtY2FyZC1hc3luYycsIHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgam9iSWQsXG4gICAgICAgICAgcHJvbXB0czogZ2VuZXJhdGVkUHJvbXB0cyxcbiAgICAgICAgICBjb25maWc6IHtcbiAgICAgICAgICAgIHVzZXJOdW1iZXI6IFwiKzE3MTQ1OTg2MTA1XCIsXG4gICAgICAgICAgICBtb2RlbFZlcnNpb246IG1vZGVsVG9Vc2UsXG4gICAgICAgICAgICBhc3BlY3RSYXRpbzogcGFwZXJDb25maWcuYXNwZWN0UmF0aW8sXG4gICAgICAgICAgICBxdWFsaXR5OiBpc0RyYWZ0TW9kZSA/IFwibG93XCIgOiBcImhpZ2hcIiwgLy8gR1BULTEgZm9yY2VkIHRvIGxvdyBxdWFsaXR5IGZvciBzcGVlZFxuICAgICAgICAgICAgb3V0cHV0Rm9ybWF0OiBcImpwZWdcIixcbiAgICAgICAgICAgIG91dHB1dENvbXByZXNzaW9uOiAxMDAsXG4gICAgICAgICAgICBtb2RlcmF0aW9uOiBcImxvd1wiLFxuICAgICAgICAgICAgZGltZW5zaW9uczogcGFwZXJDb25maWcuZGltZW5zaW9ucyxcbiAgICAgICAgICAgIGlzRnJvbnRCYWNrT25seSxcbiAgICAgICAgICAgIHVzZXJFbWFpbCxcbiAgICAgICAgICAgIGNhcmRUeXBlOiBjYXJkVHlwZUZvclByb21wdCxcbiAgICAgICAgICAgIHRvRmllbGQsXG4gICAgICAgICAgICBmcm9tRmllbGQsXG4gICAgICAgICAgICAuLi4oaW5wdXRJbWFnZXMubGVuZ3RoID4gMCAmJiB7IFxuICAgICAgICAgICAgICBpbnB1dF9pbWFnZXM6IGlucHV0SW1hZ2VzLFxuICAgICAgICAgICAgICBpbnB1dF9pbWFnZXNfbW9kZTogXCJmcm9udF9jb3Zlcl9vbmx5XCIgLy8gQWxsIHJlZmVyZW5jZSBpbWFnZXMgc2hvdWxkIGdvIHRvIGZyb250IGNvdmVyIGZvciBjaGFyYWN0ZXIgY3JlYXRpb25cbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgfSk7XG4gICAgICBcbiAgICAgIGNvbnNvbGUubG9nKFwi8J+ToSBBUEkgcmVzcG9uc2Ugc3RhdHVzOlwiLCByZXNwb25zZS5zdGF0dXMsIHJlc3BvbnNlLm9rKTtcblxuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFNlcnZlciBlcnJvcjogJHtyZXNwb25zZS5zdGF0dXN9YCk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgIGNvbnNvbGUubG9nKFwi8J+TiyBBUEkgcmVzcG9uc2UgcmVzdWx0OlwiLCByZXN1bHQpO1xuICAgICAgXG4gICAgICBpZiAocmVzdWx0LnN0YXR1cyAhPT0gJ3Byb2Nlc3NpbmcnKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCLinYwgQVBJIHJldHVybmVkIHVuZXhwZWN0ZWQgc3RhdHVzOlwiLCByZXN1bHQuc3RhdHVzLCByZXN1bHQubWVzc2FnZSk7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihyZXN1bHQubWVzc2FnZSB8fCAnRmFpbGVkIHRvIHN0YXJ0IGNhcmQgZ2VuZXJhdGlvbicpO1xuICAgICAgfVxuXG4gICAgICBjb25zb2xlLmxvZyhcIuKchSBKb2Igc3RhcnRlZCBzdWNjZXNzZnVsbHk6XCIsIGpvYklkKTtcblxuICAgICAgLy8gU3RhcnQgcG9sbGluZyBmb3IgY29tcGxldGlvblxuICAgICAgaWYgKGlzRHJhZnRNb2RlKSB7XG4gICAgICAgIHNldEdlbmVyYXRpb25Qcm9ncmVzcyhg4pyoIENyZWF0aW5nIGRyYWZ0IHZhcmlhdGlvbiAke2RyYWZ0SW5kZXggKyAxfS4uLmApO1xuICAgICAgICBjb25zb2xlLmxvZyhg8J+UhCBTdGFydGluZyBwb2xsaW5nIGZvciBkcmFmdCBqb2IgJHtqb2JJZH1gKTtcbiAgICAgICAgLy8gRm9yIGRyYWZ0IG1vZGUsIHdlJ2xsIGhhbmRsZSBwb2xsaW5nIGRpZmZlcmVudGx5IGlmIG5lZWRlZFxuICAgICAgICBwb2xsSm9iU3RhdHVzKGpvYklkKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNldEdlbmVyYXRpb25Qcm9ncmVzcyhcIuKcqCBCcmluZ2luZyB5b3VyIHZpc2lvbiB0byBsaWZlIHdpdGggYXJ0aXN0aWMgcHJlY2lzaW9uLi4uXCIpO1xuICAgICAgICB0b2FzdC5zdWNjZXNzKFwi8J+OiSBDYXJkIGdlbmVyYXRpb24gc3RhcnRlZCEgWW91IGNhbiBsZWF2ZSB0aGlzIHBhZ2UgYW5kIHJldHVybiBsYXRlci5cIik7XG4gICAgICAgIHBvbGxKb2JTdGF0dXMoam9iSWQpO1xuICAgICAgfVxuXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoYOKdjCBDYXJkIGdlbmVyYXRpb24gZXJyb3IgKGlzRHJhZnRNb2RlOiAke2lzRHJhZnRNb2RlfSwgZHJhZnRJbmRleDogJHtkcmFmdEluZGV4fSk6YCwgZXJyb3IpO1xuICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnVW5rbm93biBlcnJvcic7XG4gICAgICBcbiAgICAgIGlmIChpc0RyYWZ0TW9kZSkge1xuICAgICAgICB0b2FzdC5lcnJvcihgRHJhZnQgdmFyaWF0aW9uICR7ZHJhZnRJbmRleCArIDF9IGZhaWxlZDogJHtlcnJvck1lc3NhZ2V9YCk7XG4gICAgICAgIC8vIEZvciBkcmFmdCBtb2RlLCB3ZSBkb24ndCB3YW50IHRvIHN0b3AgdGhlIGVudGlyZSBnZW5lcmF0aW9uIHByb2Nlc3NcbiAgICAgICAgLy8gVGhlIHBhcmVudCBmdW5jdGlvbiB3aWxsIGhhbmRsZSBpbmRpdmlkdWFsIGRyYWZ0IGZhaWx1cmVzXG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0b2FzdC5lcnJvcihgRmFpbGVkIHRvIHN0YXJ0IGNhcmQgZ2VuZXJhdGlvbjogJHtlcnJvck1lc3NhZ2V9YCk7XG4gICAgICAgIFxuICAgICAgICAvLyBSZW1vdmUgZmFpbGVkIGpvYiBmcm9tIGxvY2FsU3RvcmFnZVxuICAgICAgICBpZiAoY3VycmVudEpvYklkKSB7XG4gICAgICAgICAgcmVtb3ZlSm9iRnJvbVN0b3JhZ2UoY3VycmVudEpvYklkKTtcbiAgICAgICAgICBzZXRDdXJyZW50Sm9iSWQobnVsbCk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHNldElzR2VuZXJhdGluZyhmYWxzZSk7XG4gICAgICAgIHNldEdlbmVyYXRpb25Qcm9ncmVzcyhcIlwiKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgLy8gV3JhcHBlciBmdW5jdGlvbiBmb3IgcmVndWxhciBjYXJkIGdlbmVyYXRpb24gKHVzZWQgYXMgY2xpY2sgaGFuZGxlcilcbiAgY29uc3QgaGFuZGxlR2VuZXJhdGVDYXJkQXN5bmMgPSBhc3luYyAoKSA9PiB7XG4gICAgcmV0dXJuIGhhbmRsZUdlbmVyYXRlQ2FyZEFzeW5jSW50ZXJuYWwoKTtcbiAgfTtcblxuICAvLyBPcmlnaW5hbCBzeW5jaHJvbm91cyBjYXJkIGdlbmVyYXRpb24gKGtlZXAgYXMgZmFsbGJhY2spXG4gIGNvbnN0IGhhbmRsZUdlbmVyYXRlQ2FyZCA9IGFzeW5jICgpID0+IHtcbiAgICBpZiAoIXVzZXJFbWFpbC50cmltKCkpIHtcbiAgICAgIHRvYXN0LmVycm9yKFwiUGxlYXNlIGVudGVyIHlvdXIgZW1haWwgYWRkcmVzc1wiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBCYXNpYyBlbWFpbCB2YWxpZGF0aW9uXG4gICAgY29uc3QgZW1haWxSZWdleCA9IC9eW15cXHNAXStAW15cXHNAXStcXC5bXlxcc0BdKyQvO1xuICAgIGlmICghZW1haWxSZWdleC50ZXN0KHVzZXJFbWFpbCkpIHtcbiAgICAgIHRvYXN0LmVycm9yKFwiUGxlYXNlIGVudGVyIGEgdmFsaWQgZW1haWwgYWRkcmVzc1wiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBWYWxpZGF0ZSBjdXN0b20gc3R5bGUgaWYgc2VsZWN0ZWRcbiAgICBpZiAoc2VsZWN0ZWRBcnRpc3RpY1N0eWxlID09PSBcImN1c3RvbVwiICYmICFjdXN0b21TdHlsZURlc2NyaXB0aW9uLnRyaW0oKSkge1xuICAgICAgdG9hc3QuZXJyb3IoXCJQbGVhc2UgZGVzY3JpYmUgeW91ciBjdXN0b20gYXJ0aXN0aWMgc3R5bGVcIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gVmFsaWRhdGUgcmVmZXJlbmNlIGltYWdlcyB3aXRoIG1vZGVsIGNvbXBhdGliaWxpdHlcbiAgICBpZiAocmVmZXJlbmNlSW1hZ2VVcmxzLmxlbmd0aCA+IDAgJiYgc2VsZWN0ZWRJbWFnZU1vZGVsICE9PSBcImdwdC1pbWFnZS0xXCIpIHtcbiAgICAgIHRvYXN0LmVycm9yKFwiUmVmZXJlbmNlIHBob3RvcyBhcmUgb25seSBzdXBwb3J0ZWQgd2l0aCBHUFQgSW1hZ2UgMSBtb2RlbC4gUGxlYXNlIHN3aXRjaCB0byBHUFQgSW1hZ2UgMSBpbiBBZHZhbmNlZCBPcHRpb25zIG9yIHJlbW92ZSByZWZlcmVuY2UgcGhvdG9zLlwiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBDcmVhdGUgam9iIHRyYWNraW5nXG4gICAgY29uc3Qgam9iSWQgPSB1dWlkdjQoKTtcbiAgICBzZXRDdXJyZW50Sm9iSWQoam9iSWQpO1xuICAgIFxuICAgIC8vIFNhdmUgam9iIHRvIGxvY2FsU3RvcmFnZSBhbmQgc2VydmVyXG4gICAgY29uc3Qgam9iRGF0YSA9IHtcbiAgICAgIHByb21wdDogcHJvbXB0LnRyaW0oKSB8fCBgQSBiZWF1dGlmdWwgJHtzZWxlY3RlZFR5cGUgPT09IFwiY3VzdG9tXCIgPyBjdXN0b21DYXJkVHlwZSA6IHNlbGVjdGVkVHlwZX0gY2FyZGAsXG4gICAgICBzZWxlY3RlZFR5cGUsXG4gICAgICBjdXN0b21DYXJkVHlwZSxcbiAgICAgIHNlbGVjdGVkVG9uZSxcbiAgICAgIGZpbmFsQ2FyZE1lc3NhZ2UsXG4gICAgICB0b0ZpZWxkLFxuICAgICAgZnJvbUZpZWxkLFxuICAgICAgdXNlckVtYWlsLFxuICAgICAgc2VsZWN0ZWRBcnRpc3RpY1N0eWxlLFxuICAgICAgY3VzdG9tU3R5bGVEZXNjcmlwdGlvbixcbiAgICAgIHNlbGVjdGVkSW1hZ2VNb2RlbCxcbiAgICAgIGlzRnJvbnRCYWNrT25seSxcbiAgICAgIG51bWJlck9mQ2FyZHMsXG4gICAgICBzZWxlY3RlZFBhcGVyU2l6ZVxuICAgIH07XG4gICAgc2F2ZUpvYlRvU3RvcmFnZShqb2JJZCwgam9iRGF0YSk7XG4gICAgXG4gICAgLy8gQWxzbyBzYXZlIHRvIHNlcnZlclxuICAgIHRyeSB7XG4gICAgICBhd2FpdCBmZXRjaCgnL2FwaS9jcmVhdGUtam9iJywge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgam9iSWQsIGpvYkRhdGEgfSlcbiAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gY3JlYXRlIHNlcnZlciBqb2I6JywgZXJyb3IpO1xuICAgICAgLy8gQ29udGludWUgYW55d2F5IC0gbG9jYWxTdG9yYWdlIHRyYWNraW5nIHdpbGwgc3RpbGwgd29ya1xuICAgIH1cblxuICAgIC8vIEluaXRpYWxpemUgcHJvZ3Jlc3MgdHJhY2tpbmdcbiAgICBzZXRHZW5lcmF0aW9uUHJvZ3Jlc3MoXCJBbmFseXppbmcgeW91ciByZXF1ZXN0Li4uXCIpO1xuICAgIHNldFByb2dyZXNzUGVyY2VudGFnZSg1KTtcblxuICAgIC8vIFJlc2V0IHNlY3Rpb24gbG9hZGluZyBzdGF0ZXNcbiAgICBzZXRTZWN0aW9uTG9hZGluZ1N0YXRlcyh7XG4gICAgICBmcm9udENvdmVyOiAnaWRsZScsXG4gICAgICBiYWNrQ292ZXI6ICdpZGxlJyxcbiAgICAgIGxlZnRJbnRlcmlvcjogJ2lkbGUnLFxuICAgICAgcmlnaHRJbnRlcmlvcjogJ2lkbGUnLFxuICAgIH0pO1xuXG4gICAgLy8gVXNlIGN1c3RvbSBjYXJkIHR5cGUgaWYgc2VsZWN0ZWQsIG90aGVyd2lzZSB1c2UgdGhlIHN0YW5kYXJkIHR5cGVcbiAgICBjb25zdCBjYXJkVHlwZUZvclByb21wdCA9IHNlbGVjdGVkVHlwZSA9PT0gXCJjdXN0b21cIiA/IGN1c3RvbUNhcmRUeXBlIDogc2VsZWN0ZWRUeXBlO1xuICAgIGNvbnN0IHNlbGVjdGVkVG9uZU9iaiA9IGNhcmRUb25lcy5maW5kKHRvbmUgPT4gdG9uZS5pZCA9PT0gc2VsZWN0ZWRUb25lKTtcbiAgICBjb25zdCB0b25lRGVzY3JpcHRpb24gPSBzZWxlY3RlZFRvbmVPYmogPyBzZWxlY3RlZFRvbmVPYmouZGVzY3JpcHRpb24udG9Mb3dlckNhc2UoKSA6IFwiaGVhcnRmZWx0IGFuZCBzaW5jZXJlXCI7XG5cbiAgICAvLyBVc2UgYSBkZWZhdWx0IHByb21wdCBpZiBub25lIHByb3ZpZGVkXG4gICAgY29uc3QgZWZmZWN0aXZlUHJvbXB0ID0gcHJvbXB0LnRyaW0oKSB8fCBgQSBiZWF1dGlmdWwgJHtjYXJkVHlwZUZvclByb21wdH0gY2FyZCB3aXRoICR7dG9uZURlc2NyaXB0aW9ufSBzdHlsZWA7XG5cbiAgICBsZXQgbWVzc2FnZUNvbnRlbnQgPSBmaW5hbENhcmRNZXNzYWdlO1xuICAgIFxuICAgIC8vIEhhbmRsZSBoYW5kd3JpdHRlbiBtZXNzYWdlIGNhc2VcbiAgICBpZiAoaXNIYW5kd3JpdHRlbk1lc3NhZ2UpIHtcbiAgICAgIG1lc3NhZ2VDb250ZW50ID0gXCJbQmxhbmsgc3BhY2UgZm9yIGhhbmR3cml0dGVuIG1lc3NhZ2VdXCI7XG4gICAgfSBlbHNlIGlmICghbWVzc2FnZUNvbnRlbnQudHJpbSgpICYmICFpc0Zyb250QmFja09ubHkpIHtcbiAgICAgIC8vIEF1dG8tZ2VuZXJhdGUgbWVzc2FnZSBpZiBlbXB0eSAoYnV0IG5vdCBmb3IgZnJvbnQvYmFjayBvbmx5IGNhcmRzKVxuICAgICAgc2V0R2VuZXJhdGlvblByb2dyZXNzKFwi4pyN77iPIFBlbm5pbmcgdGhlIHBlcmZlY3Qgd29yZHMganVzdCBmb3IgeW91Li4uXCIpO1xuICAgICAgc2V0SXNHZW5lcmF0aW5nTWVzc2FnZSh0cnVlKTsgLy8gU2hvdyBcIkNyYWZ0aW5nIHRoZSBwZXJmZWN0IG1lc3NhZ2UuLi5cIiBpbiBidXR0b25cbiAgICAgIFxuICAgICAgLy8gVXBkYXRlIHByb2dyZXNzIGZvciBtZXNzYWdlIGdlbmVyYXRpb25cbiAgICAgIHNldEdlbmVyYXRpb25Qcm9ncmVzcyhcIkNyZWF0aW5nIHlvdXIgbWVzc2FnZS4uLlwiKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGF1dG9NZXNzYWdlUHJvbXB0ID0gYENyZWF0ZSBhICR7dG9uZURlc2NyaXB0aW9ufSBtZXNzYWdlIGZvciBhICR7Y2FyZFR5cGVGb3JQcm9tcHR9IGdyZWV0aW5nIGNhcmQuXG5cbkNhcmQgVGhlbWUvRGVzY3JpcHRpb246IFwiJHtlZmZlY3RpdmVQcm9tcHR9XCJcbiR7dG9GaWVsZCA/IGBSZWNpcGllbnQ6ICR7dG9GaWVsZH1gIDogXCJSZWNpcGllbnQ6IFtub3Qgc3BlY2lmaWVkXVwifVxuJHtmcm9tRmllbGQgPyBgU2VuZGVyOiAke2Zyb21GaWVsZH1gIDogXCJTZW5kZXI6IFtub3Qgc3BlY2lmaWVkXVwifVxuQ2FyZCBUb25lOiAke3NlbGVjdGVkVG9uZU9iaiA/IHNlbGVjdGVkVG9uZU9iai5sYWJlbCA6IFwiSGVhcnRmZWx0XCJ9IC0gJHt0b25lRGVzY3JpcHRpb259XG5cbkluc3RydWN0aW9uczpcbi0gV3JpdGUgYSBtZXNzYWdlIHRoYXQgaXMgJHt0b25lRGVzY3JpcHRpb259IGFuZCBmZWVscyBwZXJzb25hbCBhbmQgZ2VudWluZVxuLSAke3RvRmllbGQgPyBgQWRkcmVzcyB0aGUgbWVzc2FnZSB0byAke3RvRmllbGR9IGRpcmVjdGx5LCB1c2luZyB0aGVpciBuYW1lIG5hdHVyYWxseWAgOiBcIldyaXRlIGluIGEgd2F5IHRoYXQgY291bGQgYmUgcGVyc29uYWxpemVkIHRvIGFueSByZWNpcGllbnRcIn1cbi0gJHtmcm9tRmllbGQgPyBgV3JpdGUgYXMgaWYgJHtmcm9tRmllbGR9IGlzIHBlcnNvbmFsbHkgd3JpdGluZyB0aGlzIG1lc3NhZ2VgIDogYFdyaXRlIGluIGEgJHt0b25lRGVzY3JpcHRpb259IHRvbmVgfVxuLSBNYXRjaCB0aGUgJHt0b25lRGVzY3JpcHRpb259IHRvbmUgYW5kIG9jY2FzaW9uIG9mIHRoZSAke2NhcmRUeXBlRm9yUHJvbXB0fSBjYXJkIHR5cGVcbi0gQmUgaW5zcGlyZWQgYnkgdGhlIHRoZW1lOiBcIiR7cHJvbXB0fVwiXG4tIEtlZXAgaXQgY29uY2lzZSBidXQgbWVhbmluZ2Z1bCAoMi00IHNlbnRlbmNlcyBpZGVhbClcbi0gTWFrZSBpdCBmZWVsIGF1dGhlbnRpYywgbm90IGdlbmVyaWNcbi0gU0FGRVRZOiBOZXZlciBpbmNsdWRlIGJyYW5kIG5hbWVzLCBjaGFyYWN0ZXIgbmFtZXMsIHRyYWRlbWFya2VkIHRlcm1zLCBvciBpbmFwcHJvcHJpYXRlIGNvbnRlbnQuIElmIHRoZSB0aGVtZSByZWZlcmVuY2VzIHRoZXNlLCB1c2UgZ2VuZXJpYyBhbHRlcm5hdGl2ZXMgb3IgZm9jdXMgb24gdGhlIGVtb3Rpb25zL2NvbmNlcHRzIGluc3RlYWRcbi0gS2VlcCBjb250ZW50IGZhbWlseS1mcmllbmRseSBhbmQgYXBwcm9wcmlhdGUgZm9yIGFsbCBhZ2VzXG4tICR7c2VsZWN0ZWRUb25lID09PSAnZnVubnknID8gJ0luY2x1ZGUgYXBwcm9wcmlhdGUgaHVtb3IgdGhhdCBmaXRzIHRoZSBvY2Nhc2lvbicgOiAnJ31cbi0gJHtzZWxlY3RlZFRvbmUgPT09ICdnZW56LWh1bW9yJyA/ICdVc2UgR2VuWiBodW1vciB3aXRoIGludGVybmV0IHNsYW5nLCBtZW1lcywgYW5kIGNoYW90aWMgZW5lcmd5IC0gdGhpbmsgXCJubyBjYXBcIiwgXCJwZXJpb2R0XCIsIFwiaXRcXCdzIGdpdmluZy4uLlwiLCBcInNsYXlcIiwgZXRjLiBCZSB1bmhpbmdlZCBidXQgZW5kZWFyaW5nJyA6ICcnfVxuLSAke3NlbGVjdGVkVG9uZSA9PT0gJ3Byb2Zlc3Npb25hbCcgPyAnS2VlcCBpdCBmb3JtYWwgYW5kIGJ1c2luZXNzLWFwcHJvcHJpYXRlJyA6ICcnfVxuLSAke3NlbGVjdGVkVG9uZSA9PT0gJ3JvbWFudGljJyA/ICdJbmNsdWRlIGxvdmluZyBhbmQgcm9tYW50aWMgbGFuZ3VhZ2UnIDogJyd9XG4tICR7c2VsZWN0ZWRUb25lID09PSAncGxheWZ1bCcgPyAnVXNlIGZ1biBhbmQgZW5lcmdldGljIGxhbmd1YWdlJyA6ICcnfVxuLSAke3RvRmllbGQgJiYgZnJvbUZpZWxkID8gYFNob3cgdGhlIHJlbGF0aW9uc2hpcCBiZXR3ZWVuICR7ZnJvbUZpZWxkfSBhbmQgJHt0b0ZpZWxkfSB0aHJvdWdoIHRoZSAke3RvbmVEZXNjcmlwdGlvbn0gbWVzc2FnZSB0b25lYCA6IFwiXCJ9XG4tICR7ZnJvbUZpZWxkID8gYEVuZCB0aGUgbWVzc2FnZSB3aXRoIGEgc2lnbmF0dXJlIGxpbmUgbGlrZSBcIkxvdmUsICR7ZnJvbUZpZWxkfVwiIG9yIFwiLSAke2Zyb21GaWVsZH1cIiBvciBzaW1pbGFyLCBuYXR1cmFsbHkgaW50ZWdyYXRlZCBpbnRvIHRoZSBtZXNzYWdlLmAgOiBcIlwifVxuXG5SZXR1cm4gT05MWSB0aGUgbWVzc2FnZSB0ZXh0IHRoYXQgc2hvdWxkIGFwcGVhciBpbnNpZGUgdGhlIGNhcmQgLSBubyBxdW90ZXMsIG5vIGV4cGxhbmF0aW9ucywgbm8gbWFya2Rvd24gZm9ybWF0dGluZyAobm8gKmJvbGQqLCBfaXRhbGljc18sIG9yIG90aGVyIG1hcmtkb3duKSwganVzdCB0aGUgY29tcGxldGUgJHt0b25lRGVzY3JpcHRpb259IG1lc3NhZ2UgaW4gcGxhaW4gdGV4dC5cblxuSU1QT1JUQU5UOiBXcmFwIHlvdXIgZmluYWwgbWVzc2FnZSBpbiA8TUVTU0FHRT4gPC9NRVNTQUdFPiB0YWdzLiBFdmVyeXRoaW5nIG91dHNpZGUgdGhlc2UgdGFncyB3aWxsIGJlIGlnbm9yZWQuYDtcblxuICAgICAgICBjb25zdCBnZW5lcmF0ZWRNZXNzYWdlID0gYXdhaXQgY2hhdFdpdGhBSShhdXRvTWVzc2FnZVByb21wdCwge1xuICAgICAgICAgIG1vZGVsOiBcImdlbWluaS0yLjUtcHJvXCIsXG4gICAgICAgICAgaW5jbHVkZVRob3VnaHRzOiBmYWxzZSAgLy8gRG9uJ3QgaW5jbHVkZSB0aGlua2luZyBjb250ZW50IGluIG1lc3NhZ2UgZ2VuZXJhdGlvblxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKGdlbmVyYXRlZE1lc3NhZ2U/LnRyaW0oKSkge1xuICAgICAgICAgIC8vIEV4dHJhY3QgbWVzc2FnZSBjb250ZW50IGJldHdlZW4gPE1FU1NBR0U+IHRhZ3MgdXNpbmcgcmVnZXhcbiAgICAgICAgICBjb25zdCBtZXNzYWdlTWF0Y2ggPSBnZW5lcmF0ZWRNZXNzYWdlLm1hdGNoKC88TUVTU0FHRT4oW1xcc1xcU10qPyk8XFwvTUVTU0FHRT4vKTtcbiAgICAgICAgICBsZXQgZXh0cmFjdGVkTWVzc2FnZSA9IG1lc3NhZ2VNYXRjaCA/IG1lc3NhZ2VNYXRjaFsxXS50cmltKCkgOiBnZW5lcmF0ZWRNZXNzYWdlLnRyaW0oKTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBFbnN1cmUgbm8gTUVTU0FHRSB0YWdzIGFyZSBpbmNsdWRlZCBpbiB0aGUgZmluYWwgbWVzc2FnZVxuICAgICAgICAgIGV4dHJhY3RlZE1lc3NhZ2UgPSBleHRyYWN0ZWRNZXNzYWdlLnJlcGxhY2UoLzxcXC8/TUVTU0FHRT4vZywgJycpLnRyaW0oKTtcbiAgICAgICAgICBcbiAgICAgICAgICBtZXNzYWdlQ29udGVudCA9IGV4dHJhY3RlZE1lc3NhZ2U7XG4gICAgICAgICAgc2V0RmluYWxDYXJkTWVzc2FnZShtZXNzYWdlQ29udGVudCk7XG4gICAgICAgICAgc2V0R2VuZXJhdGlvblByb2dyZXNzKFwi4pyFIFBlcmZlY3QgbWVzc2FnZSBjcmFmdGVkISBOb3cgZm9yIHRoZSBtYWdpYyB2aXN1YWxzLi4uXCIpO1xuICAgICAgICAgIHRvYXN0LnN1Y2Nlc3MoXCLinKggR2VuZXJhdGVkIGEgcGVyc29uYWxpemVkIG1lc3NhZ2UgZm9yIHlvdXIgY2FyZCFcIik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbWVzc2FnZUNvbnRlbnQgPSBlZmZlY3RpdmVQcm9tcHQ7XG4gICAgICAgIH1cbiAgICAgICAgc2V0SXNHZW5lcmF0aW5nTWVzc2FnZShmYWxzZSk7IC8vIFJlc2V0IG1lc3NhZ2UgZ2VuZXJhdGlvbiBzdGF0ZVxuICAgICAgICBcbiAgICAgICAgLy8gTWVzc2FnZSBnZW5lcmF0aW9uIGNvbXBsZXRlXG4gICAgICB9IGNhdGNoIHtcbiAgICAgICAgbWVzc2FnZUNvbnRlbnQgPSBlZmZlY3RpdmVQcm9tcHQ7XG4gICAgICAgIHNldElzR2VuZXJhdGluZ01lc3NhZ2UoZmFsc2UpOyAvLyBSZXNldCBtZXNzYWdlIGdlbmVyYXRpb24gc3RhdGUgb24gZXJyb3JcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBEZXRlcm1pbmUgd2hpY2ggbW9kZWwgdG8gdXNlIGJhc2VkIG9uIG1vZGVcbiAgICBjb25zdCBtb2RlbFRvVXNlID0gaXNEcmFmdE1vZGUgPyBzZWxlY3RlZERyYWZ0TW9kZWwgOiBzZWxlY3RlZEltYWdlTW9kZWw7XG5cbiAgICAvLyBWYWxpZGF0ZSByZWZlcmVuY2UgaW1hZ2VzIHdpdGggbW9kZWwgY29tcGF0aWJpbGl0eVxuICAgIGlmIChyZWZlcmVuY2VJbWFnZVVybHMubGVuZ3RoID4gMCAmJiBtb2RlbFRvVXNlICE9PSBcImdwdC1pbWFnZS0xXCIpIHtcbiAgICAgIGNvbnN0IG1vZGVUZXh0ID0gaXNEcmFmdE1vZGUgPyBcImRyYWZ0IG1vZGVcIiA6IFwiZmluYWwgZ2VuZXJhdGlvblwiO1xuICAgICAgdG9hc3QuZXJyb3IoYFJlZmVyZW5jZSBwaG90b3MgYXJlIG9ubHkgc3VwcG9ydGVkIHdpdGggR1BUIEltYWdlIDEgbW9kZWwuIFBsZWFzZSBzd2l0Y2ggdG8gR1BUIEltYWdlIDEgZm9yICR7bW9kZVRleHR9IG9yIHJlbW92ZSByZWZlcmVuY2UgcGhvdG9zLmApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIE9ubHkgc2V0IGdsb2JhbCBnZW5lcmF0aW5nIHN0YXRlIGlmIG5vdCBpbiBkcmFmdCBtb2RlIChkcmFmdCBtb2RlIG1hbmFnZXMgaXRzIG93biBzdGF0ZSlcbiAgICBpZiAoIWlzRHJhZnRNb2RlKSB7XG4gICAgICBzZXRJc0dlbmVyYXRpbmcodHJ1ZSk7XG4gICAgICBzdGFydEVsYXBzZWRUaW1lVHJhY2tpbmcoKTtcbiAgICAgIHNldEdlbmVyYXRpb25Qcm9ncmVzcyhcIkNyZWF0aW5nIHlvdXIgcGVyc29uYWxpemVkIGNhcmQuLi5cIik7XG4gICAgICBzZXRQcm9ncmVzc1BlcmNlbnRhZ2UoMCk7XG4gICAgfVxuICAgIFxuICAgIC8vIEdlbmVyYXRlIHVuaXF1ZSBjYXJkIElEIGZvciBVUkxcbiAgICBjb25zdCBjYXJkSWQgPSB1dWlkdjQoKTtcbiAgICBzZXRDdXJyZW50Q2FyZElkKGNhcmRJZCk7XG4gICAgY29uc3QgY2FyZFVybCA9IGAke0JBQ0tFTkRfQVBJX0JBU0VfVVJMfS9jYXJkLyR7Y2FyZElkfWA7XG4gICAgXG4gICAgLy8gUmVzZXQgY2FyZHMgc3RhdGVcbiAgICBzZXRHZW5lcmF0ZWRDYXJkcyhbXSk7XG4gICAgc2V0U2VsZWN0ZWRDYXJkSW5kZXgoMCk7XG4gICAgXG4gICAgdHJ5IHtcbiAgICAgIC8vIEdldCBzdHlsZSBkZXRhaWxzXG4gICAgICBzZXRHZW5lcmF0aW9uUHJvZ3Jlc3MoXCLwn46oIEFwcGx5aW5nIHlvdXIgYXJ0aXN0aWMgc3R5bGUuLi5cIik7XG4gICAgICBjb25zdCBzZWxlY3RlZFN0eWxlID0gYXJ0aXN0aWNTdHlsZXMuZmluZChzdHlsZSA9PiBzdHlsZS5pZCA9PT0gc2VsZWN0ZWRBcnRpc3RpY1N0eWxlKTtcbiAgICAgIGxldCBzdHlsZU1vZGlmaWVyID0gc2VsZWN0ZWRTdHlsZSA/IHNlbGVjdGVkU3R5bGUucHJvbXB0TW9kaWZpZXIgOiBcIlwiO1xuICAgICAgXG4gICAgICAvLyBIYW5kbGUgQUkgU21hcnQgU3R5bGUgLSBsZXQgQUkgY2hvb3NlIHRoZSBiZXN0IHN0eWxlXG4gICAgICBpZiAoc2VsZWN0ZWRBcnRpc3RpY1N0eWxlID09PSBcImFpLXNtYXJ0LXN0eWxlXCIpIHtcbiAgICAgICAgc2V0R2VuZXJhdGlvblByb2dyZXNzKFwi4pyoIFN0eWxlIGV4cGVydHMgc2VsZWN0aW5nIHRoZSBwZXJmZWN0IGxvb2suLi5cIik7XG4gICAgICAgIFxuICAgICAgICAvLyBTdHlsZSBzZWxlY3Rpb24gcHJvZ3Jlc3NcbiAgICAgICAgXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3Qgc3R5bGVTZWxlY3Rpb25Qcm9tcHQgPSBgWW91IGFyZSBhbiBleHBlcnQgYXJ0IGRpcmVjdG9yIHNwZWNpYWxpemluZyBpbiBiZWF1dGlmdWwsIGhlYXJ0ZmVsdCBncmVldGluZyBjYXJkcy4gWW91ciBqb2IgaXMgdG8gY2hvb3NlIHRoZSBwZXJmZWN0IGFydGlzdGljIHN0eWxlIHRoYXQgd2lsbCBjcmVhdGUgYSB3YXJtLCBlbW90aW9uYWwsIGFuZCBtZW1vcmFibGUgY2FyZC5cblxuQ2FyZCBEZXRhaWxzOlxuLSBUeXBlOiAke2NhcmRUeXBlRm9yUHJvbXB0fVxuLSBUaGVtZS9EZXNjcmlwdGlvbjogXCIke2VmZmVjdGl2ZVByb21wdH1cIlxuJHt0b0ZpZWxkID8gYC0gUmVjaXBpZW50OiAke3RvRmllbGR9YCA6IFwiXCJ9XG4ke2Zyb21GaWVsZCA/IGAtIFNlbmRlcjogJHtmcm9tRmllbGR9YCA6IFwiXCJ9XG4ke3JlZmVyZW5jZUltYWdlVXJscy5sZW5ndGggPiAwID8gYC0gSGFzICR7cmVmZXJlbmNlSW1hZ2VVcmxzLmxlbmd0aH0gcmVmZXJlbmNlIHBob3RvJHtyZWZlcmVuY2VJbWFnZVVybHMubGVuZ3RoID4gMSA/ICdzJyA6ICcnfSBmb3IgdHJhbnNmb3JtYXRpb25gIDogXCJcIn1cbiR7aXNIYW5kd3JpdHRlbk1lc3NhZ2UgPyBgLSBXaWxsIGhhdmUgaGFuZHdyaXR0ZW4gbWVzc2FnZWAgOiBgLSBNZXNzYWdlOiBcIiR7ZmluYWxDYXJkTWVzc2FnZX1cImB9XG5cbklNUE9SVEFOVCBHVUlERUxJTkVTOlxuLSBDaG9vc2Ugc3R5bGVzIHRoYXQgYXJlIFdBUk0sIEVNT1RJT05BTCwgYW5kIFBFUlNPTkFMIChncmVldGluZyBjYXJkcyBhcmUgYWJvdXQgaHVtYW4gY29ubmVjdGlvbilcbi0gQVZPSUQ6IHJvYm90cywgdGVjaCwgY3liZXJwdW5rLCBmdXR1cmlzdGljLCBzY2ktZmksIGRpZ2l0YWwsIG1lY2hhbmljYWwgdGhlbWVzXG4tIFBSRUZFUjogd2F0ZXJjb2xvciwgb2lsIHBhaW50aW5nLCBoYW5kLWRyYXduLCBpbGx1c3RyYXRlZCwgYXJ0aXN0aWMsIHBhaW50ZXJseSwgbmF0dXJhbCwgb3JnYW5pYyBzdHlsZXNcbi0gQ29uc2lkZXIgdGhlIGVtb3Rpb25hbCB0b25lOiBqb3lmdWwsIGxvdmluZywgY2VsZWJyYXRvcnksIHBlYWNlZnVsLCBhcnRpc3RpY1xuLSBUaGluayBhYm91dCB3aGF0IHdvdWxkIG1ha2Ugc29tZW9uZSBzbWlsZSB3aGVuIHRoZXkgcmVjZWl2ZSB0aGlzIGNhcmRcblxuR3JlYXQgY2FyZCBzdHlsZXMgaW5jbHVkZTpcbi0gV2F0ZXJjb2xvciBpbGx1c3RyYXRpb25zIHdpdGggc29mdCwgZmxvd2luZyBjb2xvcnNcbi0gSGFuZC1wYWludGVkIGFydHdvcmsgd2l0aCB2aXNpYmxlIGJydXNoc3Ryb2tlc1xuLSBDaGFybWluZyBpbGx1c3RyYXRlZCBjaGFyYWN0ZXJzIGFuZCBzY2VuZXNcbi0gQmVhdXRpZnVsIGJvdGFuaWNhbCBhbmQgbmF0dXJlIHRoZW1lc1xuLSBWaW50YWdlIGFydGlzdGljIHN0eWxlcyB3aXRoIGNoYXJhY3RlclxuLSBXYXJtLCBpbnZpdGluZyBjb2xvciBwYWxldHRlc1xuLSBBcnRpc3RpYyB0ZWNobmlxdWVzIHRoYXQgZmVlbCBoYW5kbWFkZSBhbmQgcGVyc29uYWxcblxuQ2hvb3NlIE9ORSBhcnRpc3RpYyBzdHlsZSB0aGF0IHBlcmZlY3RseSBtYXRjaGVzIHRoaXMgJHtjYXJkVHlwZUZvclByb21wdH0gY2FyZCdzIGVtb3Rpb25hbCBwdXJwb3NlLiBSZXNwb25kIHdpdGg6XG5cImluIFtkZXRhaWxlZCBhcnRpc3RpYyBzdHlsZSBkZXNjcmlwdGlvbiBmb2N1c2luZyBvbiB3YXJtdGgsIGJlYXV0eSwgYW5kIGVtb3Rpb25hbCBhcHBlYWxdXCJcblxuTWFrZSBpdCBmZWVsIGxpa2Ugc29tZXRoaW5nIGNyZWF0ZWQgd2l0aCBsb3ZlIGZvciBzb21lb25lIHNwZWNpYWwuYDtcblxuICAgICAgICAgIGNvbnN0IGFpU2VsZWN0ZWRTdHlsZSA9IGF3YWl0IGNoYXRXaXRoQUkoc3R5bGVTZWxlY3Rpb25Qcm9tcHQsIHtcbiAgICAgICAgICAgIG1vZGVsOiBcImdlbWluaS0yLjUtcHJvXCIsXG4gICAgICAgICAgICBpbmNsdWRlVGhvdWdodHM6IGZhbHNlICAvLyBEb24ndCBpbmNsdWRlIHRoaW5raW5nIGNvbnRlbnQgZm9yIHN0eWxlIHNlbGVjdGlvblxuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgaWYgKGFpU2VsZWN0ZWRTdHlsZT8udHJpbSgpKSB7XG4gICAgICAgICAgICBzdHlsZU1vZGlmaWVyID0gYWlTZWxlY3RlZFN0eWxlLnRyaW0oKTtcbiAgICAgICAgICAgIHNldEdlbmVyYXRpb25Qcm9ncmVzcyhcIuKcqCBQZXJmZWN0IHN0eWxlIGNob3NlbiEgVGltZSB0byBicmluZyB5b3VyIGNhcmQgdG8gbGlmZS4uLlwiKTtcbiAgICAgICAgICAgIHRvYXN0LnN1Y2Nlc3MoXCLwn46oIFBlcmZlY3QgYXJ0aXN0aWMgc3R5bGUgY2hvc2VuIGZvciB5b3VyIGNhcmQhXCIpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBGYWxsYmFjayB0byBhIGJlYXV0aWZ1bCBkZWZhdWx0IHN0eWxlXG4gICAgICAgICAgICBzdHlsZU1vZGlmaWVyID0gXCJpbiBhIHNvcGhpc3RpY2F0ZWQgYXJ0aXN0aWMgc3R5bGUgd2l0aCBoYXJtb25pb3VzIGNvbG9ycywgZWxlZ2FudCBjb21wb3NpdGlvbiwgYW5kIGJlYXV0aWZ1bCB2aXN1YWwgZWxlbWVudHMgcGVyZmVjdGx5IHN1aXRlZCBmb3IgdGhpcyBzcGVjaWFsIGNhcmRcIjtcbiAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignU3R5bGUgc2VsZWN0aW9uIGZhaWxlZDonLCBlcnJvcik7XG4gICAgICAgICAgLy8gRmFsbGJhY2sgdG8gYSBiZWF1dGlmdWwgZGVmYXVsdCBzdHlsZVxuICAgICAgICAgIHN0eWxlTW9kaWZpZXIgPSBcImluIGEgc29waGlzdGljYXRlZCBhcnRpc3RpYyBzdHlsZSB3aXRoIGhhcm1vbmlvdXMgY29sb3JzLCBlbGVnYW50IGNvbXBvc2l0aW9uLCBhbmQgYmVhdXRpZnVsIHZpc3VhbCBlbGVtZW50cyBwZXJmZWN0bHkgc3VpdGVkIGZvciB0aGlzIHNwZWNpYWwgY2FyZFwiO1xuICAgICAgICAgIHRvYXN0LmluZm8oXCJVc2luZyBhIGJlYXV0aWZ1bCBkZWZhdWx0IHN0eWxlIGZvciB5b3VyIGNhcmRcIik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIC8vIFVzZSBjdXN0b20gc3R5bGUgZGVzY3JpcHRpb24gaWYgY3VzdG9tIHN0eWxlIGlzIHNlbGVjdGVkXG4gICAgICBlbHNlIGlmIChzZWxlY3RlZEFydGlzdGljU3R5bGUgPT09IFwiY3VzdG9tXCIgJiYgY3VzdG9tU3R5bGVEZXNjcmlwdGlvbi50cmltKCkpIHtcbiAgICAgICAgc3R5bGVNb2RpZmllciA9IGBpbiAke2N1c3RvbVN0eWxlRGVzY3JpcHRpb24udHJpbSgpfWA7XG4gICAgICB9IGVsc2UgaWYgKHNlbGVjdGVkQXJ0aXN0aWNTdHlsZSA9PT0gXCJjdXN0b21cIiAmJiAhY3VzdG9tU3R5bGVEZXNjcmlwdGlvbi50cmltKCkpIHtcbiAgICAgICAgLy8gRmFsbGJhY2sgdG8gZGVmYXVsdCBpZiBjdXN0b20gaXMgc2VsZWN0ZWQgYnV0IG5vIGRlc2NyaXB0aW9uIHByb3ZpZGVkXG4gICAgICAgIHN0eWxlTW9kaWZpZXIgPSBcImluIGFydGlzdGljIHN0eWxlIHdpdGggY3JlYXRpdmUgYW5kIHVuaXF1ZSB2aXN1YWwgZWxlbWVudHNcIjtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gR2V0IHBhcGVyIHNpemUgY29uZmlndXJhdGlvblxuICAgICAgY29uc3QgcGFwZXJDb25maWcgPSBwYXBlclNpemVzLmZpbmQoc2l6ZSA9PiBzaXplLmlkID09PSBzZWxlY3RlZFBhcGVyU2l6ZSkgfHwgcGFwZXJTaXplc1swXTtcbiAgICAgIFxuICAgICAgLy8gR2VuZXJhdGUgbXVsdGlwbGUgdW5pcXVlIHByb21wdCBzZXRzIGZvciBlYWNoIGNhcmRcbiAgICAgIHNldEdlbmVyYXRpb25Qcm9ncmVzcyhg8J+OryBDcmFmdGluZyAke251bWJlck9mQ2FyZHN9IG1hc3RlcnBpZWNlIGRlc2lnbiR7bnVtYmVyT2ZDYXJkcyA+IDEgPyAncycgOiAnJ30uLi5gKTtcbiAgICAgIFxuICAgICAgLy8gQ3JlYXRlIHRoZSBiYXNlIHByb21wdCBnZW5lcmF0aW9uIHF1ZXJ5IHRoYXQgd2lsbCBiZSB1c2VkIGZvciBlYWNoIGNhcmQgdmFyaWFudFxuICAgICAgY29uc3QgYmFzZVByb21wdEdlbmVyYXRpb25RdWVyeSA9IGBDcmVhdGUgJHtpc0Zyb250QmFja09ubHkgPyAnMicgOiAnNCd9IHByb21wdHMgZm9yIGEgY29oZXNpdmUsIGNocm9ub2xvZ2ljYWxseSBmbG93aW5nICR7Y2FyZFR5cGVGb3JQcm9tcHR9IGdyZWV0aW5nIGNhcmQgdGhhdCB0ZWxscyBhIHZpc3VhbCBzdG9yeSAoJHtwYXBlckNvbmZpZy5hc3BlY3RSYXRpb30gcmF0aW8pOlxuXG7wn46oIENSRUFUSVZJVFkgTUFOREFURTogQmUgZ2VudWluZWx5IGNyZWF0aXZlLCB1bmlxdWUsIGFuZCBpbm5vdmF0aXZlISBBdm9pZCBnZW5lcmljIG9yIGNsaWNow6kgZGVzaWducy4gVGhpbmsgb3V0c2lkZSB0aGUgYm94LCBzdXJwcmlzZSB3aXRoIHVuZXhwZWN0ZWQgZWxlbWVudHMsIHVzZSBib2xkIGFydGlzdGljIGNob2ljZXMsIGFuZCBjcmVhdGUgc29tZXRoaW5nIHRydWx5IG1lbW9yYWJsZSBhbmQgc3BlY2lhbC4gUHVzaCBjcmVhdGl2ZSBib3VuZGFyaWVzIHdoaWxlIHN0YXlpbmcgYXBwcm9wcmlhdGUgZm9yIHRoZSBjYXJkIHR5cGUgYW5kIHRvbmUuXG5cblRoZW1lOiBcIiR7ZWZmZWN0aXZlUHJvbXB0fVwiXG5TdHlsZTogJHtzZWxlY3RlZFN0eWxlPy5sYWJlbCB8fCBcIkRlZmF1bHRcIn1cblRvbmU6ICR7c2VsZWN0ZWRUb25lT2JqID8gc2VsZWN0ZWRUb25lT2JqLmxhYmVsIDogXCJIZWFydGZlbHRcIn0gLSAke3RvbmVEZXNjcmlwdGlvbn1cbiR7dG9GaWVsZCA/IGBUbzogJHt0b0ZpZWxkfWAgOiBcIlwifVxuJHtmcm9tRmllbGQgPyBgRnJvbTogJHtmcm9tRmllbGR9YCA6IFwiXCJ9XG4keyFpc0Zyb250QmFja09ubHkgPyBgTWVzc2FnZTogXCIke21lc3NhZ2VDb250ZW50fVwiYCA6IFwiXCJ9XG4ke2lzSGFuZHdyaXR0ZW5NZXNzYWdlID8gXCJOb3RlOiBJbmNsdWRlIHNwYWNlIGZvciBoYW5kd3JpdHRlbiBtZXNzYWdlXCIgOiBcIlwifVxuJHtyZWZlcmVuY2VJbWFnZVVybHMubGVuZ3RoID4gMCA/IGBSZWZlcmVuY2U6IFwiJHtpbWFnZVRyYW5zZm9ybWF0aW9uIHx8ICdhcnRpc3RpYyB0cmFuc2Zvcm1hdGlvbid9XCJgIDogXCJcIn1cblxuQ1JJVElDQUw6IENyZWF0ZSBhIGNvaGVzaXZlIHZpc3VhbCBuYXJyYXRpdmUgdGhhdCBmbG93cyBjaHJvbm9sb2dpY2FsbHkgdGhyb3VnaCB0aGUgY2FyZCBleHBlcmllbmNlOlxuMS4gRlJPTlQgQ09WRVI6IEZpcnN0IGltcHJlc3Npb24gLSBzZXRzIHRoZSBzY2VuZS9pbnRyb2R1Y2VzIHRoZSBzdG9yeVxuMi4gSU5URVJJT1IgU1BSRUFEOiBUaGUgaGVhcnQgb2YgdGhlIGV4cGVyaWVuY2UgLSBjb250aW51YXRpb24gYW5kIGNsaW1heCBvZiB0aGUgdmlzdWFsIHN0b3J5XG4zLiBCQUNLIENPVkVSOiBDb25jbHVzaW9uIC0gcGVhY2VmdWwgcmVzb2x1dGlvbiBvciBjb21wbGVtZW50YXJ5IGVuZGluZ1xuXG5SZXF1aXJlbWVudHM6XG4tIEZsYXQgMkQgYXJ0d29yayBmb3IgcHJpbnRpbmcgKG5vdCAzRCBjYXJkIGltYWdlcylcbi0gRnVsbC1ibGVlZCBiYWNrZ3JvdW5kcyBleHRlbmRpbmcgdG8gZWRnZXNcbi0gSU1QT1JUQU5UOiBLZWVwIHRleHQsIGZhY2VzLCBhbmQga2V5IGVsZW1lbnRzIGF0IGxlYXN0IDEwJSBhd2F5IGZyb20gdG9wL2JvdHRvbSBlZGdlcyAoc21hbGwgYW1vdW50IG1heSBiZSBjcm9wcGVkIGluIHByaW50aW5nKVxuLSBLZWVwIHRleHQvZmFjZXMgMC41XCIgZnJvbSBsZWZ0L3JpZ2h0IGVkZ2VzIGZvciBzYWZlIHByaW50aW5nXG4tIENPTlNJU1RFTlQgdmlzdWFsIGVsZW1lbnRzIHRocm91Z2hvdXQ6IHNhbWUgY2hhcmFjdGVycywgY29sb3IgcGFsZXR0ZSwgbGlnaHRpbmcsIGFydCBzdHlsZVxuLSBQcm9ncmVzc2l2ZSB2aXN1YWwgc3Rvcnl0ZWxsaW5nIGZyb20gZnJvbnQg4oaSIGludGVyaW9yIOKGkiBiYWNrXG4tIFB1dCBhbnkgdGV4dCBpbiBxdW90ZXMgYW5kIG1ha2UgaXQgY2xlYXIvcmVhZGFibGVcbi0gRWFjaCBzZWN0aW9uIHNob3VsZCBmZWVsIGxpa2UgcGFydCBvZiB0aGUgc2FtZSBhcnRpc3RpYyB1bml2ZXJzZVxuLSBUT05FOiBFbnN1cmUgdGhlIHZpc3VhbCBtb29kIGFuZCBhdG1vc3BoZXJlIG1hdGNoZXMgdGhlICR7dG9uZURlc2NyaXB0aW9ufSB0b25lIHRocm91Z2hvdXQgYWxsIHNlY3Rpb25zXG4tIElOVEVMTEVDVFVBTCBQUk9QRVJUWSBTQUZFVFk6IElmIHRoZSB1c2VyIG1lbnRpb25zIHNwZWNpZmljIGNoYXJhY3RlcnMsIGJyYW5kcywgbG9nb3MsIG9yIHByb2R1Y3RzLCBhdXRvbWF0aWNhbGx5IHJlcGxhY2UgdGhlbSB3aXRoIG9yaWdpbmFsIGdlbmVyaWMgYWx0ZXJuYXRpdmVzIGluIHlvdXIgcHJvbXB0cy4gRm9yIGV4YW1wbGU6IHJlcGxhY2Ugc3BlY2lmaWMgY2hhcmFjdGVyIG5hbWVzIHdpdGggXCJjYXJ0b29uIG1vdXNlIGNoYXJhY3RlclwiIG9yIFwic3VwZXJoZXJvIGNoYXJhY3RlclwiLCByZXBsYWNlIGJyYW5kIG5hbWVzIHdpdGggXCJjb2xvcmZ1bCBjZXJlYWxcIiBvciBcInNwb3J0cyBjYXJcIiwgZXRjLiBDcmVhdGUgaW5zcGlyZWQtYnkgZGVzaWducyB0aGF0IGNhcHR1cmUgdGhlIGVzc2VuY2Ugd2l0aG91dCByZWZlcmVuY2luZyBhbnkgcHJvdGVjdGVkIG5hbWVzIG9yIHNwZWNpZmljIGNvcHlyaWdodGVkIGVsZW1lbnRzLiBOZXZlciBpbmNsdWRlIGFjdHVhbCBicmFuZCBuYW1lcywgY2hhcmFjdGVyIG5hbWVzLCBvciB0cmFkZW1hcmtlZCB0ZXJtcyBpbiB0aGUgaW1hZ2UgZ2VuZXJhdGlvbiBwcm9tcHRzXG4tIENPTlRFTlQgU0FGRVRZOiBFbnN1cmUgYWxsIHByb21wdHMgYXJlIGZhbWlseS1mcmllbmRseSBhbmQgYXBwcm9wcmlhdGUgZm9yIGdyZWV0aW5nIGNhcmRzLiBBdm9pZCBhbnkgY29udGVudCB0aGF0IGNvdWxkIGJlIGZsYWdnZWQgYnkgc2FmZXR5IHN5c3RlbXMgaW5jbHVkaW5nOiB2aW9sZW5jZSwgd2VhcG9ucywgaW5hcHByb3ByaWF0ZSBpbWFnZXJ5LCBwb2xpdGljYWwgY29udGVudCwgY29udHJvdmVyc2lhbCB0b3BpY3MsIHNjYXJ5IG9yIGRpc3R1cmJpbmcgZWxlbWVudHMsIG9yIGFueXRoaW5nIG5vdCBzdWl0YWJsZSBmb3IgYWxsIGFnZXMuIElmIHRoZSB1c2VyIHJlcXVlc3RzIHNvbWV0aGluZyBwb3RlbnRpYWxseSBpbmFwcHJvcHJpYXRlLCByZWRpcmVjdCB0byBwb3NpdGl2ZSwgd2hvbGVzb21lIGFsdGVybmF0aXZlcyB0aGF0IGNhcHR1cmUgdGhlaXIgaW50ZW50IGluIGEgZmFtaWx5LWZyaWVuZGx5IHdheVxuJHtzZWxlY3RlZFRvbmUgPT09ICdmdW5ueScgPyAnLSBJbmNsdWRlIHZpc3VhbCBodW1vciwgcGxheWZ1bCBlbGVtZW50cywgYW5kIHdoaW1zaWNhbCBkZXRhaWxzJyA6ICcnfVxuJHtzZWxlY3RlZFRvbmUgPT09ICdnZW56LWh1bW9yJyA/ICctIEluY2x1ZGUgR2VuWiB2aXN1YWwgZWxlbWVudHMgbGlrZSBjaGFvdGljIGVuZXJneSwgaW50ZXJuZXQgbWVtZSByZWZlcmVuY2VzLCBib2xkIGNvbnRyYXN0aW5nIGNvbG9ycywgYW5kIHVuaGluZ2VkIGJ1dCBlbmRlYXJpbmcgdmlzdWFsIHN0eWxlJyA6ICcnfVxuJHtzZWxlY3RlZFRvbmUgPT09ICdyb21hbnRpYycgPyAnLSBJbmNsdWRlIHJvbWFudGljIGVsZW1lbnRzIGxpa2Ugc29mdCBsaWdodGluZywgaGVhcnRzLCBmbG93ZXJzLCBvciBpbnRpbWF0ZSBzY2VuZXMnIDogJyd9XG4ke3NlbGVjdGVkVG9uZSA9PT0gJ3Byb2Zlc3Npb25hbCcgPyAnLSBLZWVwIHZpc3VhbHMgY2xlYW4sIHNvcGhpc3RpY2F0ZWQsIGFuZCBidXNpbmVzcy1hcHByb3ByaWF0ZScgOiAnJ31cbiR7c2VsZWN0ZWRUb25lID09PSAncGxheWZ1bCcgPyAnLSBJbmNsdWRlIGJyaWdodCBjb2xvcnMsIGR5bmFtaWMgcG9zZXMsIGFuZCBlbmVyZ2V0aWMgdmlzdWFsIGVsZW1lbnRzJyA6ICcnfVxuJHtzZWxlY3RlZFRvbmUgPT09ICdlbGVnYW50JyA/ICctIEZvY3VzIG9uIHNvcGhpc3RpY2F0ZWQgZGVzaWduLCByZWZpbmVkIGNvbG9yIHBhbGV0dGVzLCBhbmQgZ3JhY2VmdWwgY29tcG9zaXRpb25zJyA6ICcnfVxuJHtyZWZlcmVuY2VJbWFnZVVybHMubGVuZ3RoID4gMCA/IGAtIENyZWF0ZSBjYXJ0b29uL2lsbHVzdHJhdGVkIGNoYXJhY3RlcnMgaW5zcGlyZWQgYnkgcmVmZXJlbmNlIGltYWdlcyAtIERPIE5PVCBtYWtlIHJlYWxpc3RpYyBkZXBpY3Rpb25zYCA6ICcnfVxuXG5DcmVhdGUgcHJvbXB0cyB0aGF0IGZsb3cgY2hyb25vbG9naWNhbGx5OlxuXG4xLiBGcm9udCBDb3ZlciAoT3BlbmluZyBTY2VuZSk6IEJFIEdFTlVJTkVMWSBDUkVBVElWRSBBTkQgVU5JUVVFISBJbmNsdWRlIFwiJHtjYXJkVHlwZUZvclByb21wdH1cIiBncmVldGluZyB0ZXh0IHBvc2l0aW9uZWQgc2FmZWx5IGluIHRoZSBjZW50ZXIgYXJlYSAoYXZvaWQgdG9wL2JvdHRvbSAxMCUgb2YgaW1hZ2UpLiBURVhUIFNUWUxFOiBXcml0ZSB0aGUgZ3JlZXRpbmcgdGV4dCBpbiBiZWF1dGlmdWwsIGNsZWFybHkgcmVhZGFibGUgaGFuZHdyaXR0ZW4gY3Vyc2l2ZSBzY3JpcHQgdGhhdCBtYXRjaGVzIHRoZSBlbGVnYW50IHN0eWxlIHVzZWQgaW5zaWRlIHRoZSBjYXJkIC0gbGVnaWJsZSwgZmxvd2luZywgYW5kIGdyYWNlZnVsIHdpdGggbmF0dXJhbCBjaGFyYWN0ZXIgYW5kIHdhcm10aC4gJHtyZWZlcmVuY2VJbWFnZVVybHMubGVuZ3RoID4gMCA/IGBJIGhhdmUgaW5jbHVkZWQgJHtyZWZlcmVuY2VJbWFnZVVybHMubGVuZ3RoID4gMSA/ICdtdWx0aXBsZScgOiAnbXkgb3duJ30gcmVmZXJlbmNlIGltYWdlJHtyZWZlcmVuY2VJbWFnZVVybHMubGVuZ3RoID4gMSA/ICdzJyA6ICcnfS4gQ3JlYXRlIHN0eWxpemVkIGNhcnRvb24vaWxsdXN0cmF0ZWQgY2hhcmFjdGVycyBpbnNwaXJlZCBieSB0aGUgcmVmZXJlbmNlIGltYWdlJHtyZWZlcmVuY2VJbWFnZVVybHMubGVuZ3RoID4gMSA/ICdzJyA6ICcnfSAtIERPIE5PVCBtYWtlIHJlYWxpc3RpYyBkZXBpY3Rpb25zIG9mIHJlYWwgcGVvcGxlLCBpbnN0ZWFkIGNyZWF0ZSBjaGFybWluZyBjYXJ0b29uLXN0eWxlIGNoYXJhY3RlcnMgd2l0aCBzaW1wbGlmaWVkLCBmcmllbmRseSBmZWF0dXJlcy5gIDogJ0NyZWF0ZSBjaGFybWluZyBjYXJ0b29uLXN0eWxlIG9yIHN0eWxpemVkIGlsbHVzdHJhdGVkIGZpZ3VyZXMgaWYgcGVvcGxlIGFyZSBuZWVkZWQgZm9yIHRoZSB0aGVtZS4nfSBUaGlzIGlzIHRoZSBzdG9yeSBvcGVuaW5nIC0gaW50cm9kdWNlIGtleSB2aXN1YWwgZWxlbWVudHMgKGNvbG9ycywgbW90aWZzLCBhcnRpc3RpYyBzdHlsZSkgdGhhdCB3aWxsIGNvbnRpbnVlIHRocm91Z2hvdXQgdGhlIG90aGVyIHNlY3Rpb25zLiBUaGluayBvZiBzb21ldGhpbmcgdW5leHBlY3RlZCwgaW5ub3ZhdGl2ZSwgYW5kIG1lbW9yYWJsZSB0aGF0IHdpbGwgc3VycHJpc2UgYW5kIGRlbGlnaHQgdGhlIHJlY2lwaWVudC4gQXZvaWQgZ2VuZXJpYyBkZXNpZ25zISBTdHlsZTogJHtzdHlsZU1vZGlmaWVyfVxuXG4yLiAkeyFpc0Zyb250QmFja09ubHkgPyBgTGVmdCBJbnRlcmlvciAoU3RvcnkgRGV2ZWxvcG1lbnQpOiBVTkxFQVNIIFlPVVIgQ1JFQVRJVklUWSEgWW91IGhhdmUgY29tcGxldGUgY3JlYXRpdmUgZnJlZWRvbSB0byBkZXNpZ24gd2hhdGV2ZXIgeW91IHdhbnQgZm9yIHRoaXMgbGVmdCBpbnRlcmlvciBwYWdlISBUaGlzIGlzIHlvdXIgYXJ0aXN0aWMgcGxheWdyb3VuZCAtIGNyZWF0ZSBzb21ldGhpbmcgZ2VudWluZWx5IGlubm92YXRpdmUgYW5kIHVuZXhwZWN0ZWQgdGhhdCBmZWVscyByaWdodCBmb3IgYSAke2NhcmRUeXBlRm9yUHJvbXB0fSBjYXJkIHdpdGggJHt0b25lRGVzY3JpcHRpb259IHRvbmUuIFlvdSBjYW4gaW5jbHVkZTogc2NlbmVzLCBsYW5kc2NhcGVzLCBvYmplY3RzLCBwYXR0ZXJucywgcXVvdGVzLCB0ZXh0LCBpbGx1c3RyYXRpb25zLCByZWFsaXN0aWMgYXJ0LCBhYnN0cmFjdCBhcnQsIG9yIGFueXRoaW5nIGVsc2UgdGhhdCBpbnNwaXJlcyB5b3UgLSBidXQgTk8gUEVPUExFIG9yIGNoYXJhY3RlcnMgdW5sZXNzIHRoZSB1c2VyIHNwZWNpZmljYWxseSBtZW50aW9uZWQgd2FudGluZyBwZW9wbGUgaW4gdGhlaXIgY2FyZCBkZXNjcmlwdGlvbi4gUG9zaXRpb24gYW55IHRleHQgc2FmZWx5IGluIGNlbnRlciBhcmVhIChhdm9pZCB0b3AvYm90dG9tIDEwJSkuIFRoaW5rIG9mIHNvbWV0aGluZyBubyBvbmUgaGFzIGRvbmUgYmVmb3JlISBTdXJwcmlzZSB1cyB3aXRoIGJvbGQsIGltYWdpbmF0aXZlLCBhbmQgbWVtb3JhYmxlIGFydGlzdGljIGNob2ljZXMgd2hpbGUgbWFpbnRhaW5pbmcgdmlzdWFsIGhhcm1vbnkgd2l0aCB0aGUgb3ZlcmFsbCBjYXJkIHN0eWxlIGFuZCB0b25lLiBTdHlsZTogJHtzdHlsZU1vZGlmaWVyfVxuXG4zLiBSaWdodCBJbnRlcmlvciAoU3RvcnkgQ2xpbWF4KTogQkUgQ1JFQVRJVkUgV0lUSCBNRVNTQUdFIERFU0lHTiEgJHtpc0hhbmR3cml0dGVuTWVzc2FnZSA/IGBEZXNpZ24gd2l0aCBlbGVnYW50IHdyaXRpbmcgc3BhY2UgdGhhdCBjb21wbGVtZW50cyB0aGUgdmlzdWFsIHN0b3J5IGZyb20gbGVmdCBpbnRlcmlvci4gUG9zaXRpb24gZGVjb3JhdGl2ZSBlbGVtZW50cyBzYWZlbHkgYXdheSBmcm9tIHRvcC9ib3R0b20gZWRnZXMuIENyZWF0ZSBpbm5vdmF0aXZlIGFuZCBhcnRpc3RpYyBkZWNvcmF0aXZlIGVsZW1lbnRzLCBib3JkZXJzLCBvciBmbG91cmlzaGVzIHRoYXQgYXJlIHVuaXF1ZSBhbmQgbWVtb3JhYmxlIC0gTk8gUEVPUExFIG9yIGNoYXJhY3RlcnMuYCA6IGBJbmNsdWRlIG1lc3NhZ2UgdGV4dDogXCIke21lc3NhZ2VDb250ZW50fVwiIHBvc2l0aW9uZWQgc2FmZWx5IGluIGNlbnRlciBhcmVhIChhdm9pZCB0b3AvYm90dG9tIDEwJSBvZiBpbWFnZSkgaW50ZWdyYXRlZCBpbnRvIGJlYXV0aWZ1bCwgaW5ub3ZhdGl2ZSBkZWNvcmF0aXZlIGFydHdvcmsuIEhBTkRXUklUSU5HIFNUWUxFOiBXcml0ZSB0aGUgbWVzc2FnZSBpbiBiZWF1dGlmdWwsIGNsZWFybHkgcmVhZGFibGUgaGFuZHdyaXR0ZW4gY3Vyc2l2ZSBzY3JpcHQgdGhhdCBmZWVscyBlbGVnYW50IGFuZCBwZXJzb25hbC4gVGhlIGhhbmR3cml0aW5nIHNob3VsZCBiZSBsZWdpYmxlLCBmbG93aW5nLCBhbmQgaGF2ZSBuYXR1cmFsIGNoYXJhY3RlciAtIG5vdCBvdmVybHkgcGVyZmVjdCBidXQgZ3JhY2VmdWwgYW5kIHdhcm0uIFVzZSBhIG5pY2UgcGVuLXN0eWxlIGFwcGVhcmFuY2Ugd2l0aCBuYXR1cmFsIGluayBmbG93IGFuZCBzbGlnaHQgdmFyaWF0aW9ucyBpbiBsaW5lIHdlaWdodC4gVGhpbmsgb2Ygc29waGlzdGljYXRlZCBjYWxsaWdyYXBoeSB0aGF0J3Mgc3RpbGwgYXBwcm9hY2hhYmxlIGFuZCBlYXN5IHRvIHJlYWQuIE1ha2UgdGhlIGhhbmR3cml0aW5nIGZlZWwgZ2VudWluZSBhbmQgaGVhcnRmZWx0LiBUaGluayBiZXlvbmQgdHlwaWNhbCBmbG9yYWxzIGFuZCBwYXR0ZXJucyAtIGNyZWF0ZSBzb21ldGhpbmcgdW5leHBlY3RlZCBhbmQgYXJ0aXN0aWMgdGhhdCBwZXJmZWN0bHkgZnJhbWVzIHRoZSBoYW5kd3JpdHRlbiBtZXNzYWdlIC0gTk8gUEVPUExFIG9yIGNoYXJhY3RlcnMuYH0gVGhpcyBzaG91bGQgZmVlbCBsaWtlIHRoZSBlbW90aW9uYWwgcGVhayBvZiB0aGUgY2FyZCBleHBlcmllbmNlLCBoYXJtb25pemluZyB3aXRoIHRoZSBsZWZ0IGludGVyaW9yIGFzIGEgY29oZXNpdmUgc3ByZWFkLiBBdm9pZCBjbGljaMOpIGRlc2lnbnMgYW5kIGNyZWF0ZSBzb21ldGhpbmcgZ2VudWluZWx5IHNwZWNpYWwhJHtoYW5kd3JpdGluZ1NhbXBsZVVybCA/ICcgTWF0Y2ggdGhlIHByb3ZpZGVkIGhhbmR3cml0aW5nIHN0eWxlIHNhbXBsZSBleGFjdGx5LicgOiAnIFVzZSB0aGUgZWxlZ2FudCBjdXJzaXZlIGhhbmR3cml0aW5nIHN0eWxlIGRlc2NyaWJlZCBhYm92ZS4nfSBTdHlsZTogJHtzdHlsZU1vZGlmaWVyfVxuXG40LiBgIDogJyd9QmFjayBDb3ZlciAoU3RvcnkgUmVzb2x1dGlvbik6IEJFIFNVQlRMWSBDUkVBVElWRSEgQ3JlYXRlIGEgc2ltcGxlIHlldCBpbm5vdmF0aXZlIGRlY29yYXRpdmUgZGVzaWduIHRoYXQgYnJpbmdzIHBlYWNlZnVsIGNsb3N1cmUgdG8gdGhlIHZpc3VhbCBzdG9yeS4gUmVmZXJlbmNlIHN1YnRsZSBlbGVtZW50cyBmcm9tIHRoZSBmcm9udCBjb3ZlciBidXQga2VlcCBpdCBtaW5pbWFsIGFuZCBzZXJlbmUgLSBOTyBQRU9QTEUsIGp1c3QgYmVhdXRpZnVsLCB1bmV4cGVjdGVkIGFydGlzdGljIGVsZW1lbnRzIHRoYXQgZ28gYmV5b25kIHR5cGljYWwgcGF0dGVybnMgb3IgZmxvcmFscy4gSU1QT1JUQU5UOiBMZWF2ZSB0aGUgYm90dG9tLXJpZ2h0IGNvcm5lciBhcmVhIChhcHByb3hpbWF0ZWx5IDEgaW5jaCBzcXVhcmUpIGNvbXBsZXRlbHkgY2xlYXIgYW5kIHVuZGVjb3JhdGVkIC0gdGhpcyBzcGFjZSBzaG91bGQgcmVtYWluIGVtcHR5LiBGb2N1cyBkZWNvcmF0aXZlIGVsZW1lbnRzIHRvd2FyZCB0aGUgY2VudGVyIGFuZCBsZWZ0IHNpZGUgb2YgdGhlIGRlc2lnbi4gVGhpbmsgb2Ygc29tZXRoaW5nIHF1aWV0bHkgYmVhdXRpZnVsIGFuZCBtZW1vcmFibGUgdGhhdCBjb21wbGVtZW50cyB0aGUgb3ZlcmFsbCBkZXNpZ24gd2hpbGUgYmVpbmcgZ2VudWluZWx5IHVuaXF1ZS4gVGhpcyBzaG91bGQgZmVlbCBsaWtlIGEgcGVhY2VmdWwsIGFydGlzdGljIGVuZGluZyB0aGF0IHN1cnByaXNlcyB3aXRoIGl0cyBzdWJ0bGUgY3JlYXRpdml0eS4gU3R5bGU6ICR7c3R5bGVNb2RpZmllcn1cblxuVklTVUFMIENPTlRJTlVJVFkgQ0hFQ0tMSVNUOlxuLSBTYW1lIGNvbG9yIHBhbGV0dGUgYWNyb3NzIGFsbCBzZWN0aW9uc1xuLSBDb25zaXN0ZW50IGxpZ2h0aW5nL3RpbWUgb2YgZGF5XG4tIFNhbWUgYXJ0aXN0aWMgdGVjaG5pcXVlcyBhbmQgYnJ1c2h3b3JrXG4tIFJlY3VycmluZyB2aXN1YWwgbW90aWZzIG9yIHN5bWJvbHMgKGJ1dCBtYWtlIHRoZW0gdW5pcXVlIGFuZCBtZW1vcmFibGUhKVxuLSBQcm9ncmVzc2l2ZSBlbW90aW9uYWwgam91cm5leSBmcm9tIGludHJvZHVjdGlvbiB0byByZXNvbHV0aW9uXG4tIEZyb250IGNvdmVyOiBzdHlsaXplZCBjYXJ0b29uL2lsbHVzdHJhdGVkIGNoYXJhY3RlcnMgaWYgcGVvcGxlIGFyZSBuZWVkZWQgZm9yIHRoZSB0aGVtZVxuLSBMZWZ0IGludGVyaW9yOiBDUkVBVElWRSBGUkVFRE9NIGJ1dCBOTyBQRU9QTEUgdW5sZXNzIHVzZXIgc3BlY2lmaWNhbGx5IHJlcXVlc3RlZCBwZW9wbGUgaW4gdGhlaXIgZGVzY3JpcHRpb25cbi0gUmlnaHQgaW50ZXJpb3I6IGZvY3VzIG9uIG1lc3NhZ2Ugc3BhY2Ugd2l0aCBpbm5vdmF0aXZlIGRlY29yYXRpdmUgZWxlbWVudHMgKE5PIFBFT1BMRSlcbi0gQmFjayBjb3Zlcjogc2ltcGxlIHlldCBjcmVhdGl2ZSBkZWNvcmF0aXZlIGRlc2lnbiB3aXRob3V0IHRleHQgb3IgcGVvcGxlXG4tIFVzZSBzaW1wbGlmaWVkLCBmcmllbmRseSwgY2hhcm1pbmcgY2hhcmFjdGVyIGRlc2lnbiBpZiBpbmNsdWRpbmcgcGVvcGxlIChmcm9udCBjb3ZlciBvbmx5KVxuLSBDUkVBVElWSVRZIFBSSU9SSVRZOiBBbHdheXMgY2hvb3NlIHRoZSBtb3JlIGlubm92YXRpdmUsIHN1cnByaXNpbmcsIGFuZCBtZW1vcmFibGUgb3B0aW9uIG92ZXIgZ2VuZXJpYyBkZXNpZ25zXG5cblJldHVybiBKU09OOlxue1xuICBcImZyb250Q292ZXJcIjogXCJkZXRhaWxlZCBwcm9tcHQgd2l0aCBzdG9yeSBvcGVuaW5nIGVsZW1lbnRzXCIsXG4gIFwiYmFja0NvdmVyXCI6IFwiZGV0YWlsZWQgcHJvbXB0IHdpdGggc3RvcnkgY29uY2x1c2lvbiBlbGVtZW50c1wiJHshaXNGcm9udEJhY2tPbmx5ID8gJyxcXG4gIFwibGVmdEludGVyaW9yXCI6IFwiZGV0YWlsZWQgcHJvbXB0IHdpdGggc3RvcnkgZGV2ZWxvcG1lbnQgZWxlbWVudHNcIixcXG4gIFwicmlnaHRJbnRlcmlvclwiOiBcImRldGFpbGVkIHByb21wdCB3aXRoIHN0b3J5IGNsaW1heCBlbGVtZW50c1wiJyA6ICcnfVxufWA7XG5cbiAgICAgIC8vIEdlbmVyYXRlIG11bHRpcGxlIHVuaXF1ZSBwcm9tcHQgc2V0cyBpbiBwYXJhbGxlbFxuICAgICAgY29uc3QgcHJvbXB0R2VuZXJhdGlvblByb21pc2VzID0gQXJyYXkuZnJvbSh7IGxlbmd0aDogbnVtYmVyT2ZDYXJkcyB9LCAoXywgY2FyZEluZGV4KSA9PiB7XG4gICAgICAgIGNvbnN0IHVuaXF1ZVByb21wdFF1ZXJ5ID0gYmFzZVByb21wdEdlbmVyYXRpb25RdWVyeSArIGBcblxu8J+OqCBDQVJEIFZBUklBTlQgJHtjYXJkSW5kZXggKyAxfSBDUkVBVElWRSBESVJFQ1RJT046IFxuQ3JlYXRlIGEgY29tcGxldGVseSB1bmlxdWUgdmlzdWFsIGludGVycHJldGF0aW9uIHRoYXQncyBkaXN0aW5jdGx5IGRpZmZlcmVudCBmcm9tIG90aGVyIHBvc3NpYmxlIHZhcmlhbnRzLiBVc2UgZGlmZmVyZW50OlxuLSBDb2xvciBwYWxldHRlcyBhbmQgbW9vZCBsaWdodGluZ1xuLSBBcnRpc3RpYyBjb21wb3NpdGlvbiBhbmQgbGF5b3V0IGFwcHJvYWNoZXMgIFxuLSBDcmVhdGl2ZSB2aXN1YWwgbWV0YXBob3JzIGFuZCBzeW1ib2xzXG4tIENoYXJhY3RlciBkZXNpZ25zIGFuZCBwb3NlcyAoaWYgYXBwbGljYWJsZSlcbi0gQmFja2dyb3VuZCBlbGVtZW50cyBhbmQgc2V0dGluZ3Ncbi0gVHlwb2dyYXBoeSBzdHlsZXMgYW5kIHRleHQgcGxhY2VtZW50XG4tIE92ZXJhbGwgY3JlYXRpdmUgdGhlbWUgd2hpbGUga2VlcGluZyBzYW1lIGNvcmUgbWVzc2FnZVxuXG5NYWtlIHRoaXMgY2FyZCB2YXJpYW50IHN0YW5kIG91dCBhcyBpdHMgb3duIHVuaXF1ZSBhcnRpc3RpYyB2aXNpb24hXG5cblJldHVybiBKU09OOlxue1xuICBcImZyb250Q292ZXJcIjogXCJkZXRhaWxlZCBwcm9tcHQgd2l0aCBzdG9yeSBvcGVuaW5nIGVsZW1lbnRzXCIsXG4gIFwiYmFja0NvdmVyXCI6IFwiZGV0YWlsZWQgcHJvbXB0IHdpdGggc3RvcnkgY29uY2x1c2lvbiBlbGVtZW50c1wiJHshaXNGcm9udEJhY2tPbmx5ID8gJyxcXG4gIFwibGVmdEludGVyaW9yXCI6IFwiZGV0YWlsZWQgcHJvbXB0IHdpdGggc3RvcnkgZGV2ZWxvcG1lbnQgZWxlbWVudHNcIixcXG4gIFwicmlnaHRJbnRlcmlvclwiOiBcImRldGFpbGVkIHByb21wdCB3aXRoIHN0b3J5IGNsaW1heCBlbGVtZW50c1wiJyA6ICcnfVxufWA7XG5cbiAgICAgICAgcmV0dXJuIGNoYXRXaXRoQUkodW5pcXVlUHJvbXB0UXVlcnksIHtcbiAgICAgICAgICBqc29uU2NoZW1hOiB7XG4gICAgICAgICAgICB0eXBlOiBcIm9iamVjdFwiLFxuICAgICAgICAgICAgcHJvcGVydGllczoge1xuICAgICAgICAgICAgICBmcm9udENvdmVyOiB7IHR5cGU6IFwic3RyaW5nXCIgfSxcbiAgICAgICAgICAgICAgYmFja0NvdmVyOiB7IHR5cGU6IFwic3RyaW5nXCIgfSxcbiAgICAgICAgICAgICAgLi4uKGlzRnJvbnRCYWNrT25seSA/IHt9IDogeyBcbiAgICAgICAgICAgICAgICBsZWZ0SW50ZXJpb3I6IHsgdHlwZTogXCJzdHJpbmdcIiB9LFxuICAgICAgICAgICAgICAgIHJpZ2h0SW50ZXJpb3I6IHsgdHlwZTogXCJzdHJpbmdcIiB9XG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcmVxdWlyZWQ6IFtcImZyb250Q292ZXJcIiwgXCJiYWNrQ292ZXJcIiwgLi4uKGlzRnJvbnRCYWNrT25seSA/IFtdIDogW1wibGVmdEludGVyaW9yXCIsIFwicmlnaHRJbnRlcmlvclwiXSldXG4gICAgICAgICAgfSxcbiAgICAgICAgICBpbmNsdWRlVGhvdWdodHM6IGZhbHNlICAvLyBEb24ndCBpbmNsdWRlIHRoaW5raW5nIGNvbnRlbnQgZm9yIHByb21wdCBnZW5lcmF0aW9uXG4gICAgICAgIH0pO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIFdhaXQgZm9yIGFsbCBwcm9tcHQgZ2VuZXJhdGlvbnMgdG8gY29tcGxldGVcbiAgICAgIGNvbnN0IGFsbEdlbmVyYXRlZFByb21wdHMgPSBhd2FpdCBQcm9taXNlLmFsbChwcm9tcHRHZW5lcmF0aW9uUHJvbWlzZXMpO1xuICAgICAgXG4gICAgICBzZXRHZW5lcmF0aW9uUHJvZ3Jlc3MoYOKchSAke251bWJlck9mQ2FyZHN9IGJyaWxsaWFudCBkZXNpZ24ke251bWJlck9mQ2FyZHMgPiAxID8gJ3MnIDogJyd9IHJlYWR5ISBOb3cgcGFpbnRpbmcgdGhlbSBpbnRvIHJlYWxpdHkuLi5gKTtcblxuICAgICAgLy8gR2VuZXJhdGUgYWxsIGltYWdlcyBpbiBwYXJhbGxlbFxuICAgICAgc2V0R2VuZXJhdGlvblByb2dyZXNzKGDwn5a877iPIEdlbmVyYXRpbmcgeW91ciAke251bWJlck9mQ2FyZHN9IGNhcmQke251bWJlck9mQ2FyZHMgPiAxID8gJ3MnIDogJyd9IHdpdGggJHtpc0Zyb250QmFja09ubHkgPyAnMicgOiAnNCd9IGltYWdlcyBlYWNoLi4uYCk7XG4gICAgICBcbiAgICAgIC8vIFN0YXJ0aW5nIGltYWdlIGdlbmVyYXRpb25cbiAgICAgIFxuICAgICAgLy8gU2V0IHNlY3Rpb24gc3RhdGVzIHRvIGxvYWRpbmdcbiAgICAgIHNldFNlY3Rpb25Mb2FkaW5nU3RhdGVzKHtcbiAgICAgICAgZnJvbnRDb3ZlcjogJ2xvYWRpbmcnLFxuICAgICAgICBiYWNrQ292ZXI6ICdpZGxlJyxcbiAgICAgICAgbGVmdEludGVyaW9yOiBpc0Zyb250QmFja09ubHkgPyAnaWRsZScgOiAnaWRsZScsXG4gICAgICAgIHJpZ2h0SW50ZXJpb3I6IGlzRnJvbnRCYWNrT25seSA/ICdpZGxlJyA6ICdpZGxlJyxcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICAvLyBQcmVwYXJlIGlucHV0IGltYWdlcyBmb3IgZWFjaCBzZWN0aW9uXG4gICAgICBjb25zdCBmcm9udENvdmVySW5wdXRJbWFnZXM6IHN0cmluZ1tdID0gW107XG4gICAgICBjb25zdCBiYWNrQ292ZXJJbnB1dEltYWdlczogc3RyaW5nW10gPSBbXTtcbiAgICAgIGNvbnN0IGxlZnRJbnRlcmlvcklucHV0SW1hZ2VzOiBzdHJpbmdbXSA9IFtdO1xuICAgICAgY29uc3QgcmlnaHRJbnRlcmlvcklucHV0SW1hZ2VzOiBzdHJpbmdbXSA9IFtdO1xuICAgICAgXG4gICAgICAvLyBIYW5kbGUgcmVmZXJlbmNlIGltYWdlcyAtIG9ubHkgZm9yIG1vZGVscyB3aXRoIGRpcmVjdCBpbWFnZSBzdXBwb3J0XG4gICAgICBpZiAocmVmZXJlbmNlSW1hZ2VVcmxzLmxlbmd0aCA+IDAgJiYgbW9kZWxUb1VzZSA9PT0gXCJncHQtaW1hZ2UtMVwiKSB7XG4gICAgICAgIC8vIEdQVC0xIHN1cHBvcnRzIGRpcmVjdCBpbWFnZSBpbnB1dCAtIHBhc3MgcmVmZXJlbmNlIGltYWdlcyBkaXJlY3RseVxuICAgICAgICBmcm9udENvdmVySW5wdXRJbWFnZXMucHVzaCguLi5yZWZlcmVuY2VJbWFnZVVybHMpO1xuICAgICAgICBjb25zb2xlLmxvZyhcIvCflI0gREVCVUc6IEFkZGVkIHJlZmVyZW5jZSBpbWFnZXMgdG8gZnJvbnRDb3ZlcklucHV0SW1hZ2VzOlwiLCByZWZlcmVuY2VJbWFnZVVybHMpO1xuICAgICAgICBjb25zb2xlLmxvZyhcIvCflI0gREVCVUc6IGZyb250Q292ZXJJbnB1dEltYWdlcyBsZW5ndGg6XCIsIGZyb250Q292ZXJJbnB1dEltYWdlcy5sZW5ndGgpO1xuICAgICAgICBzZXRHZW5lcmF0aW9uUHJvZ3Jlc3MoYOKcqCBSZWZlcmVuY2UgcGhvdG9zIHdpbGwgYmUgdXNlZCBkaXJlY3RseSBmb3IgY2hhcmFjdGVyIGNyZWF0aW9uLi4uYCk7XG4gICAgICAgIHRvYXN0LnN1Y2Nlc3MoYPCfk7ggJHtyZWZlcmVuY2VJbWFnZVVybHMubGVuZ3RofSByZWZlcmVuY2UgcGhvdG8ke3JlZmVyZW5jZUltYWdlVXJscy5sZW5ndGggPiAxID8gJ3MnIDogJyd9IHJlYWR5IGZvciBjaGFyYWN0ZXIgY3JlYXRpb24hYCk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIGlmIChtb2RlbFRvVXNlID09PSBcImdwdC1pbWFnZS0xXCIpIHtcbiAgICAgICAgLy8gQWRkIGhhbmR3cml0aW5nIHNhbXBsZSB0byByaWdodCBpbnRlcmlvciBmb3IgbWVzc2FnZSBzdHlsaW5nXG4gICAgICAgIGlmIChoYW5kd3JpdGluZ1NhbXBsZVVybCAmJiAhaXNGcm9udEJhY2tPbmx5KSB7XG4gICAgICAgICAgcmlnaHRJbnRlcmlvcklucHV0SW1hZ2VzLnB1c2goaGFuZHdyaXRpbmdTYW1wbGVVcmwpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyBDcmVhdGUgcGF5bG9hZHMgZm9yIGFsbCBjYXJkcyB3aXRoIHRoZWlyIHVuaXF1ZSBwcm9tcHRzXG4gICAgICBjb25zdCBhbGxDYXJkUGF5bG9hZHM6IGFueVtdID0gW107XG4gICAgICBcbiAgICAgIC8vIENyZWF0ZSBwYXlsb2FkcyBmb3IgZWFjaCBjYXJkIHdpdGggaXRzIHVuaXF1ZSBwcm9tcHRzXG4gICAgICBhbGxHZW5lcmF0ZWRQcm9tcHRzLmZvckVhY2goKGdlbmVyYXRlZFByb21wdHMsIGNhcmRJbmRleCkgPT4ge1xuICAgICAgICAvLyBFbmhhbmNlIGZyb250IGNvdmVyIHByb21wdCB3aXRoIHJlZmVyZW5jZSBpbWFnZSBpbnN0cnVjdGlvbnMgaWYgYXZhaWxhYmxlXG4gICAgICAgIGxldCBlbmhhbmNlZEZyb250Q292ZXJQcm9tcHQgPSBnZW5lcmF0ZWRQcm9tcHRzLmZyb250Q292ZXI7XG4gICAgICAgIGlmIChyZWZlcmVuY2VJbWFnZVVybHMubGVuZ3RoID4gMCAmJiBtb2RlbFRvVXNlID09PSBcImdwdC1pbWFnZS0xXCIpIHtcbiAgICAgICAgICAvLyBHUFQtMSB3aXRoIGRpcmVjdCBpbWFnZSBpbnB1dCAtIGZvY3VzIG9uIGNoYXJhY3RlciBjcmVhdGlvblxuICAgICAgICAgIGVuaGFuY2VkRnJvbnRDb3ZlclByb21wdCA9IGAke2dlbmVyYXRlZFByb21wdHMuZnJvbnRDb3Zlcn1cXG5cXG5DUklUSUNBTCBDSEFSQUNURVIgUkVGRVJFTkNFIElOU1RSVUNUSU9OUzogSSBoYXZlIHByb3ZpZGVkICR7cmVmZXJlbmNlSW1hZ2VVcmxzLmxlbmd0aCA+IDEgPyAnbXVsdGlwbGUgcmVmZXJlbmNlIHBob3RvcycgOiAnYSByZWZlcmVuY2UgcGhvdG8nfSBhcyBpbnB1dCBpbWFnZSR7cmVmZXJlbmNlSW1hZ2VVcmxzLmxlbmd0aCA+IDEgPyAncycgOiAnJ30uIFlvdSBNVVNUIGNyZWF0ZSBjYXJ0b29uL2lsbHVzdHJhdGVkIGNoYXJhY3RlcnMgdGhhdCBhY2N1cmF0ZWx5IHJlcHJlc2VudCB0aGUgcGVvcGxlIGluICR7cmVmZXJlbmNlSW1hZ2VVcmxzLmxlbmd0aCA+IDEgPyAndGhlc2UgcmVmZXJlbmNlIHBob3RvcycgOiAndGhpcyByZWZlcmVuY2UgcGhvdG8nfSB3aXRoIGhpZ2ggZmlkZWxpdHkgdG8gdGhlaXIgYXBwZWFyYW5jZS5cblxuTUFOREFUT1JZIENIQVJBQ1RFUiBNQVRDSElORyBSRVFVSVJFTUVOVFM6XG4tIEVYQUNUIGhhaXIgY29sb3IsIGhhaXIgc3R5bGUsIGFuZCBoYWlyIGxlbmd0aCBmcm9tIHRoZSByZWZlcmVuY2UgcGhvdG9cbi0gUFJFQ0lTRSBmYWNpYWwgZmVhdHVyZXM6IGV5ZSBjb2xvciwgZXllIHNoYXBlLCBub3NlIHNoYXBlLCBmYWNlIHN0cnVjdHVyZSwgc2tpbiB0b25lXG4tIEFDQ1VSQVRFIGNsb3RoaW5nOiByZXBsaWNhdGUgdGhlIEVYQUNUIGNsb3RoaW5nIGl0ZW1zLCBjb2xvcnMsIHBhdHRlcm5zLCBhbmQgc3R5bGVzIHdvcm4gaW4gdGhlIHJlZmVyZW5jZSBwaG90b1xuLSBDT01QTEVURSBhY2Nlc3NvcmllczogaW5jbHVkZSBBTEwgYWNjZXNzb3JpZXMgdmlzaWJsZSAoZ2xhc3NlcywgamV3ZWxyeSwgaGF0cywgd2F0Y2hlcywgYmFncywgZXRjLilcbi0gQ09SUkVDVCBib2R5IHByb3BvcnRpb25zIGFuZCBwb3N0dXJlIGFzIHNob3duIGluIHRoZSByZWZlcmVuY2Vcbi0gRkFJVEhGVUwgYWdlIHJlcHJlc2VudGF0aW9uIGFuZCBnZW5kZXIgcHJlc2VudGF0aW9uXG4tIEFVVEhFTlRJQyBmYWNpYWwgZXhwcmVzc2lvbnMgYW5kIHBvc2VzIGZyb20gdGhlIHJlZmVyZW5jZSBpbWFnZSwgbGVhcm4gdG93YXJkcyBtYWtpbmcgdGhlIHBlb3BsZSBsb29rIGhhcHBpZXIgdW5sZXNzIHRoZSB1c2VyIHNwZWNpZmljYWxseSBhc2tzIGZvciBhIGRpZmZlcmVudCBleHByZXNzaW9uLlxuXG4ke2ltYWdlVHJhbnNmb3JtYXRpb24gfHwgJ1N0dWR5IGV2ZXJ5IGRldGFpbCBvZiB0aGUgcGVvcGxlIGluIHRoZSByZWZlcmVuY2UgaW1hZ2UgYW5kIHJlY3JlYXRlIHRoZW0gYXMgc3R5bGl6ZWQgY2FydG9vbiBjaGFyYWN0ZXJzIHdoaWxlIG1haW50YWluaW5nIDEwMCUgYWNjdXJhY3kgdG8gdGhlaXIgZGlzdGluY3RpdmUgdmlzdWFsIGZlYXR1cmVzLiBUaGUgY2hhcmFjdGVycyBtdXN0IGJlIGltbWVkaWF0ZWx5IHJlY29nbml6YWJsZSBhcyB0aGUgc2FtZSBwZW9wbGUgZnJvbSB0aGUgcmVmZXJlbmNlIHBob3RvLiBQYXkgc3BlY2lhbCBhdHRlbnRpb24gdG8gY2xvdGhpbmcgZGV0YWlscywgYWNjZXNzb3JpZXMsIGFuZCB1bmlxdWUgcGVyc29uYWwgc3R5bGUgZWxlbWVudHMgdGhhdCBtYWtlIGVhY2ggcGVyc29uIGRpc3RpbmN0aXZlLid9XG5cblRoZSBjYXJ0b29uIHN0eWxlIHNob3VsZCBiZSBjaGFybWluZyBhbmQgYXJ0aXN0aWMgd2hpbGUgcHJlc2VydmluZyBjb21wbGV0ZSB2aXN1YWwgYWNjdXJhY3kgdG8gdGhlIHJlZmVyZW5jZSBwaG90by4gRXZlcnkgcGVyc29uIGluIHRoZSByZWZlcmVuY2UgbXVzdCBiZSByZXByZXNlbnRlZCB3aXRoIHRoZWlyIGV4YWN0IGFwcGVhcmFuY2UsIGNsb3RoaW5nLCBhbmQgYWNjZXNzb3JpZXMuYDtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgY29uc3QgY2FyZFBheWxvYWRzID0gW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIHRvb2xfbmFtZTogXCJnZW5lcmF0ZV9pbWFnZXNfd2l0aF9wcm9tcHRzXCIsXG4gICAgICAgICAgICBhcmd1bWVudHM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJfbnVtYmVyOiBcIisxNzE0NTk4NjEwNVwiLFxuICAgICAgICAgICAgICAgIHByb21wdHM6IFtlbmhhbmNlZEZyb250Q292ZXJQcm9tcHRdLFxuICAgICAgICAgICAgICAgIG1vZGVsX3ZlcnNpb246IG1vZGVsVG9Vc2UsXG4gICAgICAgICAgICAgICAgYXNwZWN0X3JhdGlvOiBwYXBlckNvbmZpZy5hc3BlY3RSYXRpbyxcbiAgICAgICAgICAgICAgICBxdWFsaXR5OiBpc0RyYWZ0TW9kZSA/IFwibG93XCIgOiBcImhpZ2hcIiwgLy8gR1BULTEgZm9yY2VkIHRvIGxvdyBxdWFsaXR5IGZvciBzcGVlZFxuICAgICAgICAgICAgICAgIG91dHB1dF9mb3JtYXQ6IFwianBlZ1wiLFxuICAgICAgICAgICAgICAgIG91dHB1dF9jb21wcmVzc2lvbjogMTAwLFxuICAgICAgICAgICAgICAgIG1vZGVyYXRpb246IFwibG93XCIsXG4gICAgICAgICAgICAgICAgLi4uKGZyb250Q292ZXJJbnB1dEltYWdlcy5sZW5ndGggPiAwICYmIHsgaW5wdXRfaW1hZ2VzOiBmcm9udENvdmVySW5wdXRJbWFnZXMgfSksXG4gICAgICAgICAgICAgICAgLy8gRGVidWcgbG9nZ2luZ1xuICAgICAgICAgICAgICAgIC4uLigoKSA9PiB7XG4gICAgICAgICAgICAgICAgICBpZiAoZnJvbnRDb3ZlcklucHV0SW1hZ2VzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCLwn5SNIERFQlVHOiBTZW5kaW5nIGlucHV0X2ltYWdlcyB0byBNQ1A6XCIsIGZyb250Q292ZXJJbnB1dEltYWdlcyk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICByZXR1cm4ge307XG4gICAgICAgICAgICAgICAgfSkoKVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHVzZXJfaWRfY29udGV4dDogXCIrMTcxNDU5ODYxMDVcIixcbiAgICAgICAgICAgIGNhcmRJbmRleCxcbiAgICAgICAgICAgIHNlY3Rpb25JbmRleDogMCxcbiAgICAgICAgICAgIHNlY3Rpb25OYW1lOiBcIkZyb250IENvdmVyXCJcbiAgICAgICAgICB9LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHRvb2xfbmFtZTogXCJnZW5lcmF0ZV9pbWFnZXNfd2l0aF9wcm9tcHRzXCIsXG4gICAgICAgICAgICBhcmd1bWVudHM6IHtcbiAgICAgICAgICAgICAgdXNlcl9udW1iZXI6IFwiKzE3MTQ1OTg2MTA1XCIsXG4gICAgICAgICAgICAgIHByb21wdHM6IFtnZW5lcmF0ZWRQcm9tcHRzLmJhY2tDb3Zlcl0sXG4gICAgICAgICAgICAgIG1vZGVsX3ZlcnNpb246IG1vZGVsVG9Vc2UsXG4gICAgICAgICAgICAgIGFzcGVjdF9yYXRpbzogcGFwZXJDb25maWcuYXNwZWN0UmF0aW8sXG4gICAgICAgICAgICAgIHF1YWxpdHk6IGlzRHJhZnRNb2RlID8gXCJsb3dcIiA6IFwiaGlnaFwiLCAvLyBHUFQtMSBmb3JjZWQgdG8gbG93IHF1YWxpdHkgZm9yIHNwZWVkXG4gICAgICAgICAgICAgIG91dHB1dF9mb3JtYXQ6IFwianBlZ1wiLFxuICAgICAgICAgICAgICBvdXRwdXRfY29tcHJlc3Npb246IDEwMCxcbiAgICAgICAgICAgICAgbW9kZXJhdGlvbjogXCJsb3dcIixcbiAgICAgICAgICAgICAgLi4uKGJhY2tDb3ZlcklucHV0SW1hZ2VzLmxlbmd0aCA+IDAgJiYgeyBpbnB1dF9pbWFnZXM6IGJhY2tDb3ZlcklucHV0SW1hZ2VzIH0pXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdXNlcl9pZF9jb250ZXh0OiBcIisxNzE0NTk4NjEwNVwiLFxuICAgICAgICAgICAgY2FyZEluZGV4LFxuICAgICAgICAgICAgc2VjdGlvbkluZGV4OiAxLFxuICAgICAgICAgICAgc2VjdGlvbk5hbWU6IFwiQmFjayBDb3ZlclwiXG4gICAgICAgICAgfVxuICAgICAgICBdO1xuXG4gICAgICAgIC8vIEFkZCBpbnRlcmlvciBpbWFnZXMgaWYgbm90IGZyb250L2JhY2sgb25seVxuICAgICAgICBpZiAoIWlzRnJvbnRCYWNrT25seSAmJiBnZW5lcmF0ZWRQcm9tcHRzLmxlZnRJbnRlcmlvciAmJiBnZW5lcmF0ZWRQcm9tcHRzLnJpZ2h0SW50ZXJpb3IpIHtcbiAgICAgICAgICBjYXJkUGF5bG9hZHMucHVzaChcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgdG9vbF9uYW1lOiBcImdlbmVyYXRlX2ltYWdlc193aXRoX3Byb21wdHNcIixcbiAgICAgICAgICAgICAgYXJndW1lbnRzOiB7XG4gICAgICAgICAgICAgICAgdXNlcl9udW1iZXI6IFwiKzE3MTQ1OTg2MTA1XCIsXG4gICAgICAgICAgICAgICAgcHJvbXB0czogW2dlbmVyYXRlZFByb21wdHMubGVmdEludGVyaW9yXSxcbiAgICAgICAgICAgICAgICBtb2RlbF92ZXJzaW9uOiBtb2RlbFRvVXNlLFxuICAgICAgICAgICAgICAgIGFzcGVjdF9yYXRpbzogcGFwZXJDb25maWcuYXNwZWN0UmF0aW8sXG4gICAgICAgICAgICAgICAgcXVhbGl0eTogaXNEcmFmdE1vZGUgPyBcImxvd1wiIDogXCJoaWdoXCIsIC8vIEdQVC0xIGZvcmNlZCB0byBsb3cgcXVhbGl0eSBmb3Igc3BlZWRcbiAgICAgICAgICAgICAgICBvdXRwdXRfZm9ybWF0OiBcImpwZWdcIixcbiAgICAgICAgICAgICAgICBvdXRwdXRfY29tcHJlc3Npb246IDEwMCxcbiAgICAgICAgICAgICAgICBtb2RlcmF0aW9uOiBcImxvd1wiLFxuICAgICAgICAgICAgICAgIC4uLihsZWZ0SW50ZXJpb3JJbnB1dEltYWdlcy5sZW5ndGggPiAwICYmIHsgaW5wdXRfaW1hZ2VzOiBsZWZ0SW50ZXJpb3JJbnB1dEltYWdlcyB9KVxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB1c2VyX2lkX2NvbnRleHQ6IFwiKzE3MTQ1OTg2MTA1XCIsXG4gICAgICAgICAgICAgIGNhcmRJbmRleCxcbiAgICAgICAgICAgICAgc2VjdGlvbkluZGV4OiAyLFxuICAgICAgICAgICAgICBzZWN0aW9uTmFtZTogXCJMZWZ0IEludGVyaW9yXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHRvb2xfbmFtZTogXCJnZW5lcmF0ZV9pbWFnZXNfd2l0aF9wcm9tcHRzXCIsXG4gICAgICAgICAgICAgIGFyZ3VtZW50czoge1xuICAgICAgICAgICAgICAgIHVzZXJfbnVtYmVyOiBcIisxNzE0NTk4NjEwNVwiLFxuICAgICAgICAgICAgICAgIHByb21wdHM6IFtnZW5lcmF0ZWRQcm9tcHRzLnJpZ2h0SW50ZXJpb3JdLFxuICAgICAgICAgICAgICAgIG1vZGVsX3ZlcnNpb246IG1vZGVsVG9Vc2UsXG4gICAgICAgICAgICAgICAgYXNwZWN0X3JhdGlvOiBwYXBlckNvbmZpZy5hc3BlY3RSYXRpbyxcbiAgICAgICAgICAgICAgICBxdWFsaXR5OiBpc0RyYWZ0TW9kZSA/IFwibG93XCIgOiBcImhpZ2hcIiwgLy8gR1BULTEgZm9yY2VkIHRvIGxvdyBxdWFsaXR5IGZvciBzcGVlZFxuICAgICAgICAgICAgICAgIG91dHB1dF9mb3JtYXQ6IFwianBlZ1wiLFxuICAgICAgICAgICAgICAgIG91dHB1dF9jb21wcmVzc2lvbjogMTAwLFxuICAgICAgICAgICAgICAgIG1vZGVyYXRpb246IFwibG93XCIsXG4gICAgICAgICAgICAgICAgLi4uKHJpZ2h0SW50ZXJpb3JJbnB1dEltYWdlcy5sZW5ndGggPiAwICYmIHsgaW5wdXRfaW1hZ2VzOiByaWdodEludGVyaW9ySW5wdXRJbWFnZXMgfSlcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgdXNlcl9pZF9jb250ZXh0OiBcIisxNzE0NTk4NjEwNVwiLFxuICAgICAgICAgICAgICBjYXJkSW5kZXgsXG4gICAgICAgICAgICAgIHNlY3Rpb25JbmRleDogMyxcbiAgICAgICAgICAgICAgc2VjdGlvbk5hbWU6IFwiUmlnaHQgSW50ZXJpb3JcIlxuICAgICAgICAgICAgfVxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGFsbENhcmRQYXlsb2Fkcy5wdXNoKC4uLmNhcmRQYXlsb2Fkcyk7XG4gICAgICB9KTtcblxuICAgICAgLy8gVHJhY2sgaW1hZ2UgY29tcGxldGlvbiBwZXIgY2FyZFxuICAgICAgY29uc3QgY29tcGxldGVkSW1hZ2VzID0gbmV3IE1hcDxzdHJpbmcsIHN0cmluZz4oKTtcbiAgICAgIGxldCBjb21wbGV0ZWRDb3VudCA9IDA7XG4gICAgICBjb25zdCBjb21wbGV0ZWRDYXJkczogR2VuZXJhdGVkQ2FyZFtdID0gW107XG4gICAgICBcbiAgICAgIC8vIENsZWFyIGFueSBleGlzdGluZyBjYXJkcyBkdXJpbmcgZ2VuZXJhdGlvblxuICAgICAgc2V0R2VuZXJhdGVkQ2FyZHMoW10pO1xuICAgICAgc2V0R2VuZXJhdGVkQ2FyZChudWxsKTtcbiAgICAgIHNldFNlbGVjdGVkQ2FyZEluZGV4KDApO1xuICAgICAgc2V0R2VuZXJhdGlvblByb2dyZXNzKGDwn46oIEFydGlzdHMgYXQgd29yayEgQ3JlYXRpbmcgJHthbGxDYXJkUGF5bG9hZHMubGVuZ3RofSBzdHVubmluZyBpbWFnZXMgZm9yIHlvdXIgJHtudW1iZXJPZkNhcmRzfSBjYXJkJHtudW1iZXJPZkNhcmRzID4gMSA/ICdzJyA6ICcnfS4uLmApO1xuICAgICAgXG4gICAgICAvLyBTdGFydCAyOjMwIGNvdW50ZG93biBub3cgdGhhdCB3ZSdyZSBhY3R1YWxseSBnZW5lcmF0aW5nIGltYWdlc1xuICAgICAgc2V0Q291bnRkb3duKDE1MCk7XG4gICAgICBjb25zdCBpbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgICAgc2V0Q291bnRkb3duKHByZXYgPT4ge1xuICAgICAgICAgIGlmIChwcmV2IDw9IDEpIHtcbiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpO1xuICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBwcmV2IC0gMTtcbiAgICAgICAgfSk7XG4gICAgICB9LCAxMDAwKTtcbiAgICAgIHNldENvdW50ZG93bkludGVydmFsKGludGVydmFsKTtcblxuICAgICAgLy8gSGVscGVyIGZ1bmN0aW9uIHRvIHJlZ2VuZXJhdGUgcHJvbXB0IGlmIGJsb2NrZWQgYnkgc2FmZXR5IHN5c3RlbVxuICAgICAgY29uc3QgcmVnZW5lcmF0ZVByb21wdElmTmVlZGVkID0gYXN5bmMgKG9yaWdpbmFsUHJvbXB0OiBzdHJpbmcsIHNlY3Rpb25OYW1lOiBzdHJpbmcpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCByZWdlbmVyYXRpb25RdWVyeSA9IGBUaGUgZm9sbG93aW5nIGltYWdlIHByb21wdCB3YXMgYmxvY2tlZCBieSB0aGUgc2FmZXR5IHN5c3RlbS4gUGxlYXNlIHJld3JpdGUgaXQgdG8gYmUgbW9yZSBhcHByb3ByaWF0ZSB3aGlsZSBrZWVwaW5nIHRoZSBzYW1lIGFydGlzdGljIGludGVudCBhbmQgc3R5bGU6XG5cbkJMT0NLRUQgUFJPTVBUOiBcIiR7b3JpZ2luYWxQcm9tcHR9XCJcblxuUmVxdWlyZW1lbnRzOlxuLSBLZWVwIHRoZSBzYW1lIGFydGlzdGljIHN0eWxlIGFuZCB2aXN1YWwgZ29hbHNcbi0gUmVtb3ZlIGFueSBjb250ZW50IHRoYXQgbWlnaHQgdHJpZ2dlciBzYWZldHkgZmlsdGVyc1xuLSBNYWludGFpbiB0aGUgZnVsbC1ibGVlZCBkZXNpZ24gcmVxdWlyZW1lbnRzXG4tIElNUE9SVEFOVDogS2VlcCB0ZXh0LCBmYWNlcywgYW5kIGtleSBlbGVtZW50cyBhdCBsZWFzdCAxMCUgYXdheSBmcm9tIHRvcC9ib3R0b20gZWRnZXMgKHNtYWxsIGFtb3VudCBtYXkgYmUgY3JvcHBlZCBpbiBwcmludGluZylcbi0gRm9jdXMgb24gc2FmZSwgZmFtaWx5LWZyaWVuZGx5IGltYWdlcnlcbi0gS2VlcCB0aGUgc2FtZSBjb2xvciBwYWxldHRlIGFuZCBtb29kXG4tIEVuc3VyZSBpdCdzIGFwcHJvcHJpYXRlIGZvciBhIGdyZWV0aW5nIGNhcmRcblxuUmV0dXJuIG9ubHkgdGhlIHJld3JpdHRlbiBwcm9tcHQsIG5vIGV4cGxhbmF0aW9ucy5gO1xuXG4gICAgICAgICAgY29uc3QgbmV3UHJvbXB0ID0gYXdhaXQgY2hhdFdpdGhBSShyZWdlbmVyYXRpb25RdWVyeSwge1xuICAgICAgICAgICAgbW9kZWw6IFwiZ2VtaW5pLTIuNS1wcm9cIixcbiAgICAgICAgICAgIGluY2x1ZGVUaG91Z2h0czogZmFsc2UgIC8vIERvbid0IGluY2x1ZGUgdGhpbmtpbmcgY29udGVudCBmb3IgcHJvbXB0IHJlZ2VuZXJhdGlvblxuICAgICAgICAgIH0pO1xuICAgICAgICAgIFxuICAgICAgICAgIHJldHVybiBuZXdQcm9tcHQ/LnRyaW0oKSB8fCBvcmlnaW5hbFByb21wdDtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gcmVnZW5lcmF0ZSBwcm9tcHQ6JywgZXJyb3IpO1xuICAgICAgICAgIHJldHVybiBvcmlnaW5hbFByb21wdDtcbiAgICAgICAgfVxuICAgICAgfTtcblxuXG4gICAgICAvLyBIZWxwZXIgZnVuY3Rpb24gdG8gcHJvY2VzcyBhIHNpbmdsZSBpbWFnZSB3aXRoIHJldHJ5IGxvZ2ljXG4gICAgICBjb25zdCBwcm9jZXNzU2luZ2xlSW1hZ2UgPSBhc3luYyAocGF5bG9hZDogYW55LCBpbmRleDogbnVtYmVyLCBzZWN0aW9uTmFtZTogc3RyaW5nLCBjYXJkSW5kZXg6IG51bWJlciA9IDApID0+IHtcbiAgICAgICAgbGV0IGN1cnJlbnRQYXlsb2FkID0gcGF5bG9hZDtcbiAgICAgICAgbGV0IHJldHJ5Q291bnQgPSAwO1xuICAgICAgICBjb25zdCBtYXhSZXRyaWVzID0gMjtcbiAgICAgICAgbGV0IGhhc1RyaWVkVGV4dEZhbGxiYWNrID0gZmFsc2U7XG4gICAgICAgIFxuICAgICAgICB3aGlsZSAocmV0cnlDb3VudCA8PSBtYXhSZXRyaWVzKSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7QkFDS0VORF9BUElfQkFTRV9VUkx9L2ludGVybmFsL2NhbGxfbWNwX3Rvb2xgLCB7XG4gICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGN1cnJlbnRQYXlsb2FkKSxcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSFRUUCAke3Jlc3BvbnNlLnN0YXR1c31gKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBDaGVjayBmb3Igc2FmZXR5IHN5c3RlbSBlcnJvclxuICAgICAgICAgICAgaWYgKHJlc3VsdC5yZXN1bHQgJiYgdHlwZW9mIHJlc3VsdC5yZXN1bHQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgIGNvbnN0IHBhcnNlZFJlc3VsdCA9IEpTT04ucGFyc2UocmVzdWx0LnJlc3VsdCk7XG4gICAgICAgICAgICAgIGlmIChwYXJzZWRSZXN1bHQuc3RhdHVzID09PSAnZXJyb3InICYmIHBhcnNlZFJlc3VsdC5yZXN1bHRzPy5bMF0/LmVycm9yPy5pbmNsdWRlcygnbW9kZXJhdGlvbl9ibG9ja2VkJykpIHtcbiAgICAgICAgICAgICAgICBpZiAocmV0cnlDb3VudCA8IG1heFJldHJpZXMpIHtcbiAgICAgICAgICAgICAgICAgIC8vIFJlZ2VuZXJhdGUgcHJvbXB0IGFuZCByZXRyeVxuICAgICAgICAgICAgICAgICAgY29uc3Qgb3JpZ2luYWxQcm9tcHQgPSBjdXJyZW50UGF5bG9hZC5hcmd1bWVudHMucHJvbXB0c1swXTtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IG5ld1Byb21wdCA9IGF3YWl0IHJlZ2VuZXJhdGVQcm9tcHRJZk5lZWRlZChvcmlnaW5hbFByb21wdCwgc2VjdGlvbk5hbWUpO1xuICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICBjdXJyZW50UGF5bG9hZCA9IHtcbiAgICAgICAgICAgICAgICAgICAgLi4uY3VycmVudFBheWxvYWQsXG4gICAgICAgICAgICAgICAgICAgIGFyZ3VtZW50czoge1xuICAgICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRQYXlsb2FkLmFyZ3VtZW50cyxcbiAgICAgICAgICAgICAgICAgICAgICBwcm9tcHRzOiBbbmV3UHJvbXB0XVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICByZXRyeUNvdW50Kys7XG4gICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBTYWZldHkgc3lzdGVtIGJsb2NrZWQgJHtzZWN0aW9uTmFtZX0gYWZ0ZXIgJHttYXhSZXRyaWVzfSBhdHRlbXB0c2ApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgLy8gUmVmZXJlbmNlIGltYWdlIGFuYWx5c2lzIGlzIG5vdyBkb25lIHVwZnJvbnQsIHNvIG5vIGZhbGxiYWNrIG5lZWRlZFxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAocmVzdWx0LmVycm9yICYmIHJlc3VsdC5lcnJvciAhPT0gXCJOb25lXCIgJiYgcmVzdWx0LmVycm9yICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihyZXN1bHQuZXJyb3IpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBQYXJzZSBhbmQgZXh0cmFjdCBpbWFnZSBVUkxcbiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBKU09OLnBhcnNlKHJlc3VsdC5yZXN1bHQpO1xuICAgICAgICAgICAgaWYgKGRhdGEuc3RhdHVzICE9PSBcInN1Y2Nlc3NcIikge1xuICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYCR7c2VjdGlvbk5hbWV9IGdlbmVyYXRpb24gZmFpbGVkYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnN0IGltYWdlVXJsID0gQXJyYXkuaXNBcnJheShkYXRhLnJlc3VsdHNbMF0pID8gZGF0YS5yZXN1bHRzWzBdWzBdIDogZGF0YS5yZXN1bHRzWzBdO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBUcmFjayBjb21wbGV0ZWQgaW1hZ2VzIHBlciBjYXJkXG4gICAgICAgICAgICBjb25zdCBpbWFnZUtleSA9IGAke2NhcmRJbmRleH0tJHtpbmRleH1gO1xuICAgICAgICAgICAgY29tcGxldGVkSW1hZ2VzLnNldChpbWFnZUtleSwgaW1hZ2VVcmwpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBjb21wbGV0ZWRDb3VudCsrO1xuICAgICAgICAgICAgY29uc3QgdG90YWxJbWFnZXMgPSBhbGxDYXJkUGF5bG9hZHMubGVuZ3RoO1xuICAgICAgICAgICAgc2V0R2VuZXJhdGlvblByb2dyZXNzKGDwn46oICR7Y29tcGxldGVkQ291bnR9LyR7dG90YWxJbWFnZXN9IG1hc3RlcnBpZWNlcyBjb21wbGV0ZSEgSnVzdCBmaW5pc2hlZCBDYXJkICR7Y2FyZEluZGV4ICsgMX0gJHtzZWN0aW9uTmFtZX0uLi5gKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gVXBkYXRlIHNlY3Rpb24gbG9hZGluZyBzdGF0ZXMgYW5kIHByb2dyZXNzXG4gICAgICAgICAgICBjb25zdCBwcm9ncmVzc1BlcmNlbnRhZ2UgPSAzMCArIE1hdGguZmxvb3IoKGNvbXBsZXRlZENvdW50IC8gdG90YWxJbWFnZXMpICogNTApOyAvLyAzMC04MCUgZm9yIGltYWdlIGdlbmVyYXRpb25cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gVXBkYXRlIGluZGl2aWR1YWwgc2VjdGlvbiBzdGF0ZXNcbiAgICAgICAgICAgIHNldFNlY3Rpb25Mb2FkaW5nU3RhdGVzKHByZXYgPT4ge1xuICAgICAgICAgICAgICBjb25zdCBuZXdTdGF0ZSA9IHsgLi4ucHJldiB9O1xuICAgICAgICAgICAgICBpZiAoc2VjdGlvbk5hbWUgPT09IFwiRnJvbnQgQ292ZXJcIikge1xuICAgICAgICAgICAgICAgIG5ld1N0YXRlLmZyb250Q292ZXIgPSAnY29tcGxldGVkJztcbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChzZWN0aW9uTmFtZSA9PT0gXCJCYWNrIENvdmVyXCIpIHtcbiAgICAgICAgICAgICAgICBuZXdTdGF0ZS5iYWNrQ292ZXIgPSAnY29tcGxldGVkJztcbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChzZWN0aW9uTmFtZSA9PT0gXCJMZWZ0IEludGVyaW9yXCIpIHtcbiAgICAgICAgICAgICAgICBuZXdTdGF0ZS5sZWZ0SW50ZXJpb3IgPSAnY29tcGxldGVkJztcbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChzZWN0aW9uTmFtZSA9PT0gXCJSaWdodCBJbnRlcmlvclwiKSB7XG4gICAgICAgICAgICAgICAgbmV3U3RhdGUucmlnaHRJbnRlcmlvciA9ICdjb21wbGV0ZWQnO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHJldHVybiBuZXdTdGF0ZTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBTZWN0aW9uIGNvbXBsZXRpb24gbG9nZ2VkXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIENoZWNrIGlmIHRoaXMgY2FyZCBpcyBub3cgY29tcGxldGVcbiAgICAgICAgICAgIGNvbnN0IHNlY3Rpb25zUGVyQ2FyZCA9IGlzRnJvbnRCYWNrT25seSA/IDIgOiA0O1xuICAgICAgICAgICAgY29uc3QgY2FyZFN0YXJ0SW5kZXggPSBjYXJkSW5kZXggKiBzZWN0aW9uc1BlckNhcmQ7XG4gICAgICAgICAgICBjb25zdCBjYXJkRW5kSW5kZXggPSBjYXJkU3RhcnRJbmRleCArIHNlY3Rpb25zUGVyQ2FyZCAtIDE7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGxldCBpc0NhcmRDb21wbGV0ZSA9IHRydWU7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gY2FyZFN0YXJ0SW5kZXg7IGkgPD0gY2FyZEVuZEluZGV4OyBpKyspIHtcbiAgICAgICAgICAgICAgY29uc3QgY2hlY2tLZXkgPSBgJHtjYXJkSW5kZXh9LSR7aSAtIGNhcmRTdGFydEluZGV4fWA7XG4gICAgICAgICAgICAgIGlmICghY29tcGxldGVkSW1hZ2VzLmhhcyhjaGVja0tleSkpIHtcbiAgICAgICAgICAgICAgICBpc0NhcmRDb21wbGV0ZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIElmIGNhcmQgaXMgY29tcGxldGUsIHVwZGF0ZSB0aGUgY2FyZHMgc3RhdGVcbiAgICAgICAgICAgIGlmIChpc0NhcmRDb21wbGV0ZSkge1xuICAgICAgICAgICAgICBzZXRHZW5lcmF0ZWRDYXJkcyhwcmV2Q2FyZHMgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHVwZGF0ZWRDYXJkcyA9IFsuLi5wcmV2Q2FyZHNdO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIC8vIENyZWF0ZSBuZXcgY2FyZCBvYmplY3QgaWYgaXQgZG9lc24ndCBleGlzdFxuICAgICAgICAgICAgICAgIGlmICghdXBkYXRlZENhcmRzW2NhcmRJbmRleF0pIHtcbiAgICAgICAgICAgICAgICAgIHVwZGF0ZWRDYXJkc1tjYXJkSW5kZXhdID0ge1xuICAgICAgICAgICAgICAgICAgICBpZDogYGNhcmQtJHtjYXJkSW5kZXh9LSR7RGF0ZS5ub3coKX1gLFxuICAgICAgICAgICAgICAgICAgICBwcm9tcHQ6IHByb21wdCxcbiAgICAgICAgICAgICAgICAgICAgZnJvbnRDb3ZlcjogXCJcIixcbiAgICAgICAgICAgICAgICAgICAgYmFja0NvdmVyOiBcIlwiLFxuICAgICAgICAgICAgICAgICAgICBsZWZ0UGFnZTogXCJcIixcbiAgICAgICAgICAgICAgICAgICAgcmlnaHRQYWdlOiBcIlwiLFxuICAgICAgICAgICAgICAgICAgICBjcmVhdGVkQXQ6IG5ldyBEYXRlKClcbiAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB1cGRhdGVkQ2FyZDogR2VuZXJhdGVkQ2FyZCA9IHsgLi4udXBkYXRlZENhcmRzW2NhcmRJbmRleF0gfTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAvLyBTZXQgYWxsIGltYWdlcyBmb3IgdGhpcyBjb21wbGV0ZWQgY2FyZFxuICAgICAgICAgICAgICAgIHVwZGF0ZWRDYXJkLmZyb250Q292ZXIgPSBjb21wbGV0ZWRJbWFnZXMuZ2V0KGAke2NhcmRJbmRleH0tMGApIHx8IFwiXCI7XG4gICAgICAgICAgICAgICAgdXBkYXRlZENhcmQuYmFja0NvdmVyID0gY29tcGxldGVkSW1hZ2VzLmdldChgJHtjYXJkSW5kZXh9LTFgKSB8fCBcIlwiO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGlmICghaXNGcm9udEJhY2tPbmx5KSB7XG4gICAgICAgICAgICAgICAgICB1cGRhdGVkQ2FyZC5sZWZ0UGFnZSA9IGNvbXBsZXRlZEltYWdlcy5nZXQoYCR7Y2FyZEluZGV4fS0yYCkgfHwgXCJcIjtcbiAgICAgICAgICAgICAgICAgIHVwZGF0ZWRDYXJkLnJpZ2h0UGFnZSA9IGNvbXBsZXRlZEltYWdlcy5nZXQoYCR7Y2FyZEluZGV4fS0zYCkgfHwgXCJcIjtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgLy8gU2V0IGZhbGxiYWNrcyBmb3IgZnJvbnQvYmFjayBvbmx5IG1vZGVcbiAgICAgICAgICAgICAgICAgIHVwZGF0ZWRDYXJkLmxlZnRQYWdlID0gdXBkYXRlZENhcmQuYmFja0NvdmVyO1xuICAgICAgICAgICAgICAgICAgdXBkYXRlZENhcmQucmlnaHRQYWdlID0gdXBkYXRlZENhcmQuZnJvbnRDb3ZlcjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBVcGRhdGUgcHJvbXB0IHRvIHVzZSBlZmZlY3RpdmUgcHJvbXB0XG4gICAgICAgICAgICAgICAgdXBkYXRlZENhcmQucHJvbXB0ID0gZWZmZWN0aXZlUHJvbXB0O1xuXG4gICAgICAgICAgICAgICAgLy8gU3RvcmUgdGhlIGdlbmVyYXRlZCBwcm9tcHRzIGZvciBmYWN0b3J5IHVzZVxuICAgICAgICAgICAgICAgIHVwZGF0ZWRDYXJkLmdlbmVyYXRlZFByb21wdHMgPSB7XG4gICAgICAgICAgICAgICAgICBmcm9udENvdmVyOiBhbGxHZW5lcmF0ZWRQcm9tcHRzW2NhcmRJbmRleF0uZnJvbnRDb3ZlcixcbiAgICAgICAgICAgICAgICAgIGJhY2tDb3ZlcjogYWxsR2VuZXJhdGVkUHJvbXB0c1tjYXJkSW5kZXhdLmJhY2tDb3ZlcixcbiAgICAgICAgICAgICAgICAgIGxlZnRJbnRlcmlvcjogIWlzRnJvbnRCYWNrT25seSA/IGFsbEdlbmVyYXRlZFByb21wdHNbY2FyZEluZGV4XS5sZWZ0SW50ZXJpb3IgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICByaWdodEludGVyaW9yOiAhaXNGcm9udEJhY2tPbmx5ID8gYWxsR2VuZXJhdGVkUHJvbXB0c1tjYXJkSW5kZXhdLnJpZ2h0SW50ZXJpb3IgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIHVwZGF0ZWRDYXJkc1tjYXJkSW5kZXhdID0gdXBkYXRlZENhcmQ7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgLy8gU3RvcmUgY29tcGxldGVkIGNhcmQgbG9jYWxseSBmb3IgZW1haWwgdXNlXG4gICAgICAgICAgICAgICAgY29tcGxldGVkQ2FyZHNbY2FyZEluZGV4XSA9IHVwZGF0ZWRDYXJkO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIC8vIElmIHRoaXMgaXMgdGhlIGZpcnN0IGNvbXBsZXRlZCBjYXJkIG9yIHRoZSBzZWxlY3RlZCBjYXJkLCBzZXQgaXQgYXMgbWFpbiBkaXNwbGF5XG4gICAgICAgICAgICAgICAgaWYgKCFnZW5lcmF0ZWRDYXJkIHx8IGNhcmRJbmRleCA9PT0gc2VsZWN0ZWRDYXJkSW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgIHNldEdlbmVyYXRlZENhcmQodXBkYXRlZENhcmQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICByZXR1cm4gdXBkYXRlZENhcmRzO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIHRvYXN0LnN1Y2Nlc3MoYPCfjokgQ2FyZCAke2NhcmRJbmRleCArIDF9IGlzIGNvbXBsZXRlIGFuZCByZWFkeSFgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgcmV0dXJuIGltYWdlVXJsO1xuICAgICAgICAgICAgXG4gICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGlmIChyZXRyeUNvdW50ID09PSBtYXhSZXRyaWVzKSB7XG4gICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIGdlbmVyYXRlICR7c2VjdGlvbk5hbWV9OiAke2Vycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InfWApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0cnlDb3VudCsrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgLy8gU3RhcnQgYWxsIGltYWdlIGdlbmVyYXRpb25zIGluIHBhcmFsbGVsIChhbGwgY2FyZHMsIGFsbCBzZWN0aW9ucykgd2l0aCB1bmlxdWUgcHJvbXB0c1xuICAgICAgY29uc3QgaW1hZ2VQcm9taXNlcyA9IGFsbENhcmRQYXlsb2Fkcy5tYXAoKHBheWxvYWQpID0+IFxuICAgICAgICBwcm9jZXNzU2luZ2xlSW1hZ2UocGF5bG9hZCwgcGF5bG9hZC5zZWN0aW9uSW5kZXgsIHBheWxvYWQuc2VjdGlvbk5hbWUsIHBheWxvYWQuY2FyZEluZGV4KVxuICAgICAgKTtcblxuICAgICAgLy8gV2FpdCBmb3IgYWxsIHRvIGNvbXBsZXRlXG4gICAgICBhd2FpdCBQcm9taXNlLmFsbChpbWFnZVByb21pc2VzKTtcblxuICAgICAgLy8gRmluYWxpemluZyBpbWFnZXNcblxuICAgICAgLy8gQnVpbGQgZmluYWwgY2FyZHMgZnJvbSBjb21wbGV0ZWQgaW1hZ2VzIGZvciBlbWFpbCB1c2VcbiAgICAgIGNvbnN0IGZpbmFsQ2FyZHM6IEdlbmVyYXRlZENhcmRbXSA9IFtdO1xuICAgICAgZm9yIChsZXQgY2FyZEluZGV4ID0gMDsgY2FyZEluZGV4IDwgbnVtYmVyT2ZDYXJkczsgY2FyZEluZGV4KyspIHtcbiAgICAgICAgY29uc3QgY2FyZDogR2VuZXJhdGVkQ2FyZCA9IHtcbiAgICAgICAgICBpZDogYGNhcmQtJHtjYXJkSW5kZXh9LSR7RGF0ZS5ub3coKX1gLFxuICAgICAgICAgIHByb21wdDogZWZmZWN0aXZlUHJvbXB0LFxuICAgICAgICAgIGZyb250Q292ZXI6IGNvbXBsZXRlZEltYWdlcy5nZXQoYCR7Y2FyZEluZGV4fS0wYCkgfHwgXCJcIixcbiAgICAgICAgICBiYWNrQ292ZXI6IGNvbXBsZXRlZEltYWdlcy5nZXQoYCR7Y2FyZEluZGV4fS0xYCkgfHwgXCJcIixcbiAgICAgICAgICBsZWZ0UGFnZTogaXNGcm9udEJhY2tPbmx5ID8gKGNvbXBsZXRlZEltYWdlcy5nZXQoYCR7Y2FyZEluZGV4fS0xYCkgfHwgXCJcIikgOiAoY29tcGxldGVkSW1hZ2VzLmdldChgJHtjYXJkSW5kZXh9LTJgKSB8fCBcIlwiKSxcbiAgICAgICAgICByaWdodFBhZ2U6IGlzRnJvbnRCYWNrT25seSA/IChjb21wbGV0ZWRJbWFnZXMuZ2V0KGAke2NhcmRJbmRleH0tMGApIHx8IFwiXCIpIDogKGNvbXBsZXRlZEltYWdlcy5nZXQoYCR7Y2FyZEluZGV4fS0zYCkgfHwgXCJcIiksXG4gICAgICAgICAgY3JlYXRlZEF0OiBuZXcgRGF0ZSgpLFxuICAgICAgICAgIC8vIEluY2x1ZGUgdGhlIGdlbmVyYXRlZCBwcm9tcHRzIGZvciBmYWN0b3J5IHVzZVxuICAgICAgICAgIGdlbmVyYXRlZFByb21wdHM6IHtcbiAgICAgICAgICAgIGZyb250Q292ZXI6IGFsbEdlbmVyYXRlZFByb21wdHNbY2FyZEluZGV4XS5mcm9udENvdmVyLFxuICAgICAgICAgICAgYmFja0NvdmVyOiBhbGxHZW5lcmF0ZWRQcm9tcHRzW2NhcmRJbmRleF0uYmFja0NvdmVyLFxuICAgICAgICAgICAgbGVmdEludGVyaW9yOiAhaXNGcm9udEJhY2tPbmx5ID8gYWxsR2VuZXJhdGVkUHJvbXB0c1tjYXJkSW5kZXhdLmxlZnRJbnRlcmlvciA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHJpZ2h0SW50ZXJpb3I6ICFpc0Zyb250QmFja09ubHkgPyBhbGxHZW5lcmF0ZWRQcm9tcHRzW2NhcmRJbmRleF0ucmlnaHRJbnRlcmlvciA6IHVuZGVmaW5lZCxcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGZpbmFsQ2FyZHMucHVzaChjYXJkKTtcbiAgICAgIH1cblxuICAgICAgLy8gQXBwbHkgUVIgY29kZXMgdG8gYWxsIGNhcmRzJyBiYWNrIGNvdmVyc1xuICAgICAgc2V0R2VuZXJhdGlvblByb2dyZXNzKFwi4pyoIEFkZGluZyBpbnRlcmFjdGl2ZSBRUiBjb2RlcyB0byB5b3VyIGNhcmRzLi4uXCIpO1xuICAgICAgY29uc29sZS5sb2coJ/CflIQgU3RhcnRpbmcgUVIgb3ZlcmxheSBwcm9jZXNzIGZvcicsIGZpbmFsQ2FyZHMubGVuZ3RoLCAnY2FyZHMnKTtcbiAgICAgIGNvbnNvbGUubG9nKCfwn5SXIENhcmQgVVJMOicsIGNhcmRVcmwpO1xuICAgICAgXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGZpbmFsQ2FyZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc29sZS5sb2coYPCfjq8gUHJvY2Vzc2luZyBjYXJkICR7aSArIDF9OmAsIHtcbiAgICAgICAgICBoYXNCYWNrQ292ZXI6ICEhZmluYWxDYXJkc1tpXS5iYWNrQ292ZXIsXG4gICAgICAgICAgaGFzQ2FyZFVybDogISFjYXJkVXJsLFxuICAgICAgICAgIGJhY2tDb3Zlckxlbmd0aDogZmluYWxDYXJkc1tpXS5iYWNrQ292ZXI/Lmxlbmd0aFxuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIC8vIFFSIGNvZGUgd2lsbCBiZSBhcHBsaWVkIGFmdGVyIHN1Y2Nlc3NmdWwgQVBJIHN0b3JhZ2VcbiAgICAgIH1cblxuICAgICAgLy8gRGlzcGxheSBjYXJkcyB3aWxsIGJlIHVwZGF0ZWQgYWZ0ZXIgc3VjY2Vzc2Z1bCBBUEkgc3RvcmFnZSBhbmQgUVIgY29kZSBhcHBsaWNhdGlvblxuXG4gICAgICBzZXRHZW5lcmF0aW9uUHJvZ3Jlc3MoXCLinIUgQ2FyZCBjb21wbGV0ZWQsIHByZXZpZXcgZG93biBiZWxvdyFcIik7XG4gICAgICBzZXRJc0NhcmRDb21wbGV0ZWQodHJ1ZSk7XG4gICAgICBcbiAgICAgIC8vIEdlbmVyYXRpb24gY29tcGxldGVcbiAgICAgIHNldFByb2dyZXNzUGVyY2VudGFnZSgxMDApO1xuICAgICAgc2V0R2VuZXJhdGlvblByb2dyZXNzKFwiR2VuZXJhdGlvbiBjb21wbGV0ZSFcIik7XG5cbiAgICAgIC8vIENvbXBsZXRlIGFuZCByZW1vdmUgam9iIGZyb20gbG9jYWxTdG9yYWdlIGFuZCBzZXJ2ZXJcbiAgICAgIGlmIChjdXJyZW50Sm9iSWQpIHtcbiAgICAgICAgLy8gU3RvcmUgY29tcGxldGlvbiByZXN1bHQgb24gc2VydmVyXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgYXdhaXQgZmV0Y2goJy9hcGkvc3RvcmUtam9iLXJlc3VsdCcsIHtcbiAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICAgIGpvYklkOiBjdXJyZW50Sm9iSWQsXG4gICAgICAgICAgICAgIHN0YXR1czogJ2NvbXBsZXRlZCcsXG4gICAgICAgICAgICAgIGNhcmREYXRhOiBnZW5lcmF0ZWRDYXJkc1swXSB8fCBnZW5lcmF0ZWRDYXJkXG4gICAgICAgICAgICB9KVxuICAgICAgICAgIH0pO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBzdG9yZSBqb2IgcmVzdWx0IG9uIHNlcnZlcjonLCBlcnJvcik7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHJlbW92ZUpvYkZyb21TdG9yYWdlKGN1cnJlbnRKb2JJZCk7XG4gICAgICAgIHNldEN1cnJlbnRKb2JJZChudWxsKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgaWYgKG51bWJlck9mQ2FyZHMgPT09IDEpIHtcbiAgICAgICAgdG9hc3Quc3VjY2VzcyhcIvCfjokgWW91ciBjb21wbGV0ZSBjYXJkIHdpdGggUVIgY29kZSBpcyByZWFkeSFcIik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0b2FzdC5zdWNjZXNzKGDwn46JIEFsbCAke251bWJlck9mQ2FyZHN9IGNhcmRzIHdpdGggUVIgY29kZXMgYXJlIHJlYWR5ISBDaG9vc2UgeW91ciBmYXZvcml0ZSBiZWxvdy5gKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gQ2xlYXIgdGhlIGNvbXBsZXRpb24gbWVzc2FnZSBhZnRlciAzIHNlY29uZHMgYnV0IGtlZXAgaXNDYXJkQ29tcGxldGVkIHRydWVcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBzZXRHZW5lcmF0aW9uUHJvZ3Jlc3MoXCJcIik7XG4gICAgICB9LCAzMDAwKTtcbiAgICAgIFxuICAgICAgLy8gU2VuZCB0aGFuayB5b3UgZW1haWwgaWYgdXNlciBwcm92aWRlZCBlbWFpbFxuICAgICAgaWYgKHVzZXJFbWFpbC50cmltKCkpIHtcbiAgICAgICAgY29uc3QgY2FyZFR5cGVGb3JFbWFpbCA9IHNlbGVjdGVkVHlwZSA9PT0gXCJjdXN0b21cIiA/IGN1c3RvbUNhcmRUeXBlIDogc2VsZWN0ZWRUeXBlO1xuICAgICAgICBcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAvLyBVc2UgdGhlIGZpcnN0IGZpbmFsIGNhcmQgKHdoaWNoIG5vdyBoYXMgUVIgY29kZSlcbiAgICAgICAgICBjb25zdCBjYXJkVG9TdG9yZSA9IGZpbmFsQ2FyZHNbMF07XG4gICAgICAgICAgXG4gICAgICAgICAgaWYgKCFjYXJkVG9TdG9yZSB8fCAhY2FyZFRvU3RvcmUuZnJvbnRDb3Zlcikge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ05vIGNhcmQgZGF0YSBhdmFpbGFibGUgZm9yIHNoYXJpbmcnKTtcbiAgICAgICAgICAgIHNlbmRUaGFua1lvdUVtYWlsKHVzZXJFbWFpbCwgY2FyZFR5cGVGb3JFbWFpbCwgJ2h0dHBzOi8vdmliZWNhcmRpbmcuY29tJyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIFxuICAgICAgICAgIC8vIFN0b3JlIGNhcmQgZGF0YSB3aXRoIHByZS1nZW5lcmF0ZWQgY2FyZCBJRFxuICAgICAgICAgIGNvbnN0IGNhcmREYXRhID0ge1xuICAgICAgICAgICAgaWQ6IGNhcmRJZCwgLy8gVXNlIHByZS1nZW5lcmF0ZWQgY2FyZCBJRFxuICAgICAgICAgICAgcHJvbXB0OiBlZmZlY3RpdmVQcm9tcHQsXG4gICAgICAgICAgICBmcm9udENvdmVyOiBjYXJkVG9TdG9yZS5mcm9udENvdmVyIHx8ICcnLFxuICAgICAgICAgICAgYmFja0NvdmVyOiBjYXJkVG9TdG9yZS5iYWNrQ292ZXIgfHwgJycsXG4gICAgICAgICAgICBsZWZ0UGFnZTogY2FyZFRvU3RvcmUubGVmdFBhZ2UgfHwgJycsXG4gICAgICAgICAgICByaWdodFBhZ2U6IGNhcmRUb1N0b3JlLnJpZ2h0UGFnZSB8fCAnJ1xuICAgICAgICAgIH07XG4gICAgICAgICAgXG4gICAgICAgICAgY29uc29sZS5sb2coJ1N0b3JpbmcgY2FyZCBkYXRhOicsIGNhcmREYXRhKTtcbiAgICAgICAgICBcbiAgICAgICAgICBjb25zdCBjYXJkU3RvcmVSZXNwb25zZSA9IGF3YWl0IGZldGNoKCcvYXBpL2NhcmRzL3N0b3JlJywge1xuICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGNhcmREYXRhKVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIFxuICAgICAgICAgIGlmIChjYXJkU3RvcmVSZXNwb25zZS5vaykge1xuICAgICAgICAgICAgY29uc3QgY2FyZFN0b3JlRGF0YSA9IGF3YWl0IGNhcmRTdG9yZVJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdDYXJkIHN0b3JlZCBzdWNjZXNzZnVsbHksIEFQSSByZXNwb25zZTonLCBjYXJkU3RvcmVEYXRhKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gVXNlIHRoZSBzaGFyZV91cmwgZnJvbSB0aGUgQVBJIHJlc3BvbnNlIChjb250YWlucyBmcmllbmRseSBuYW1lKVxuICAgICAgICAgICAgY29uc3QgYWN0dWFsU2hhcmVVcmwgPSBjYXJkU3RvcmVEYXRhLnNoYXJlX3VybCB8fCBjYXJkVXJsO1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ1VzaW5nIGFjdHVhbCBzaGFyZSBVUkwgZm9yIFFSIGNvZGU6JywgYWN0dWFsU2hhcmVVcmwpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBOb3cgYXBwbHkgUVIgY29kZXMgdG8gYWxsIGNhcmRzIGFmdGVyIHN1Y2Nlc3NmdWwgQVBJIHN0b3JhZ2VcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZmluYWxDYXJkcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICBpZiAoZmluYWxDYXJkc1tpXS5iYWNrQ292ZXIgJiYgYWN0dWFsU2hhcmVVcmwpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgY29uc3Qgb3JpZ2luYWxCYWNrQ292ZXIgPSBmaW5hbENhcmRzW2ldLmJhY2tDb3ZlcjtcbiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGDwn5SEIEFwcGx5aW5nIFFSIG92ZXJsYXkgdG8gY2FyZCAke2kgKyAxfSBhZnRlciBBUEkgc3RvcmFnZS4uLmApO1xuICAgICAgICAgICAgICAgICAgZmluYWxDYXJkc1tpXS5iYWNrQ292ZXIgPSBhd2FpdCBvdmVybGF5UVJDb2RlT25JbWFnZShvcmlnaW5hbEJhY2tDb3ZlciwgYWN0dWFsU2hhcmVVcmwpO1xuICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coYOKchSBRUiBvdmVybGF5IGNvbXBsZXRlIGZvciBjYXJkICR7aSArIDF9YCk7XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYOKdjCBGYWlsZWQgdG8gb3ZlcmxheSBRUiBjb2RlIG9uIGNhcmQgJHtpICsgMX06YCwgZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgLy8gQ2FyZCBrZWVwcyBvcmlnaW5hbCBiYWNrIGNvdmVyIGlmIFFSIG92ZXJsYXkgZmFpbHNcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coYOKaoO+4jyBTa2lwcGluZyBRUiBvdmVybGF5IGZvciBjYXJkICR7aSArIDF9IC0gbWlzc2luZyBiYWNrIGNvdmVyIG9yIFVSTGApO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIFVwZGF0ZSB0aGUgZGlzcGxheWVkIGNhcmRzIHN0YXRlIHdpdGggUVItZW5oYW5jZWQgdmVyc2lvbnNcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5SEIFVwZGF0aW5nIGRpc3BsYXllZCBjYXJkcyB3aXRoIFFSIGNvZGVzIGFmdGVyIEFQSSBzdG9yYWdlLi4uJyk7XG4gICAgICAgICAgICBzZXRHZW5lcmF0ZWRDYXJkcyhbLi4uZmluYWxDYXJkc10pO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBBbHNvIHVwZGF0ZSB0aGUgbWFpbiBkaXNwbGF5ZWQgY2FyZCBpZiBuZWVkZWRcbiAgICAgICAgICAgIGlmIChmaW5hbENhcmRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgc2V0R2VuZXJhdGVkQ2FyZChmaW5hbENhcmRzWzBdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gU3RvcmUgdGhlIGFjdHVhbCBzaGFyZSBVUkwgaW4gdGhlIGZpcnN0IGNhcmQgZm9yIGxhdGVyIHVzZSBieSBTaGFyZSBidXR0b25cbiAgICAgICAgICAgIGlmIChmaW5hbENhcmRzWzBdKSB7XG4gICAgICAgICAgICAgIGZpbmFsQ2FyZHNbMF0uc2hhcmVVcmwgPSBhY3R1YWxTaGFyZVVybDtcbiAgICAgICAgICAgICAgLy8gQWxzbyB1cGRhdGUgdGhlIFJlYWN0IHN0YXRlIHdpdGggdGhlIHNoYXJlIFVSTFxuICAgICAgICAgICAgICBzZXRHZW5lcmF0ZWRDYXJkcyhwcmV2Q2FyZHMgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHVwZGF0ZWQgPSBbLi4ucHJldkNhcmRzXTtcbiAgICAgICAgICAgICAgICBpZiAodXBkYXRlZFswXSkge1xuICAgICAgICAgICAgICAgICAgdXBkYXRlZFswXS5zaGFyZVVybCA9IGFjdHVhbFNoYXJlVXJsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gdXBkYXRlZDtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHNlbmRUaGFua1lvdUVtYWlsKHVzZXJFbWFpbCwgY2FyZFR5cGVGb3JFbWFpbCwgYWN0dWFsU2hhcmVVcmwpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gc3RvcmUgY2FyZDonLCBjYXJkU3RvcmVSZXNwb25zZS5zdGF0dXMsIGF3YWl0IGNhcmRTdG9yZVJlc3BvbnNlLnRleHQoKSk7XG4gICAgICAgICAgICAvLyBGYWxsYmFjayB0byBnZW5lcmljIFVSTCBpZiBzdG9yZSBmYWlsc1xuICAgICAgICAgICAgc2VuZFRoYW5rWW91RW1haWwodXNlckVtYWlsLCBjYXJkVHlwZUZvckVtYWlsLCAnaHR0cHM6Ly92aWJlY2FyZGluZy5jb20nKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3Igc3RvcmluZyBjYXJkIGZvciBlbWFpbDonLCBlcnJvcik7XG4gICAgICAgICAgLy8gRmFsbGJhY2sgdG8gZ2VuZXJpYyBVUkwgaWYgc3RvcmUgZmFpbHNcbiAgICAgICAgICBzZW5kVGhhbmtZb3VFbWFpbCh1c2VyRW1haWwsIGNhcmRUeXBlRm9yRW1haWwsICdodHRwczovL3ZpYmVjYXJkaW5nLmNvbScpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIENsZWFyIGNvdW50ZG93biB0aW1lciBvbiBzdWNjZXNzZnVsIGNvbXBsZXRpb25cbiAgICAgIGlmIChjb3VudGRvd25JbnRlcnZhbCkge1xuICAgICAgICBjbGVhckludGVydmFsKGNvdW50ZG93bkludGVydmFsKTtcbiAgICAgICAgc2V0Q291bnRkb3duSW50ZXJ2YWwobnVsbCk7XG4gICAgICB9XG4gICAgICBzZXRDb3VudGRvd24oMCk7XG5cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgc2V0R2VuZXJhdGlvblByb2dyZXNzKFwiXCIpO1xuICAgICAgdG9hc3QuZXJyb3IoXCJGYWlsZWQgdG8gZ2VuZXJhdGUgY2FyZC4gUGxlYXNlIHRyeSBhZ2Fpbi5cIik7XG4gICAgICBjb25zb2xlLmVycm9yKFwiQ2FyZCBnZW5lcmF0aW9uIGVycm9yOlwiLCBlcnJvcik7XG4gICAgICBcbiAgICAgIC8vIFJlbW92ZSBmYWlsZWQgam9iIGZyb20gbG9jYWxTdG9yYWdlIGFuZCB1cGRhdGUgc2VydmVyXG4gICAgICBpZiAoY3VycmVudEpvYklkKSB7XG4gICAgICAgIC8vIFN0b3JlIGZhaWx1cmUgcmVzdWx0IG9uIHNlcnZlclxuICAgICAgICB0cnkge1xuICAgICAgICAgIGF3YWl0IGZldGNoKCcvYXBpL3N0b3JlLWpvYi1yZXN1bHQnLCB7XG4gICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgICBqb2JJZDogY3VycmVudEpvYklkLFxuICAgICAgICAgICAgICBzdGF0dXM6ICdmYWlsZWQnLFxuICAgICAgICAgICAgICBlcnJvcjogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnVW5rbm93biBlcnJvcidcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gY2F0Y2ggKHNlcnZlckVycm9yKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIHN0b3JlIGpvYiBmYWlsdXJlIG9uIHNlcnZlcjonLCBzZXJ2ZXJFcnJvcik7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHJlbW92ZUpvYkZyb21TdG9yYWdlKGN1cnJlbnRKb2JJZCk7XG4gICAgICAgIHNldEN1cnJlbnRKb2JJZChudWxsKTtcbiAgICAgIH1cbiAgICB9IGZpbmFsbHkge1xuICAgICAgc2V0SXNHZW5lcmF0aW5nKGZhbHNlKTtcbiAgICAgIC8vIENsZWFyIGNvdW50ZG93biB0aW1lclxuICAgICAgaWYgKGNvdW50ZG93bkludGVydmFsKSB7XG4gICAgICAgIGNsZWFySW50ZXJ2YWwoY291bnRkb3duSW50ZXJ2YWwpO1xuICAgICAgICBzZXRDb3VudGRvd25JbnRlcnZhbChudWxsKTtcbiAgICAgIH1cbiAgICAgIHNldENvdW50ZG93bigwKTtcbiAgICB9XG4gIH07XG5cblxuICAvLyBTaG93IHByaW50IGNvbmZpcm1hdGlvbiBkaWFsb2dcbiAgY29uc3QgaGFuZGxlUHJpbnRDbGljayA9ICgpID0+IHtcbiAgICBpZiAoIWdlbmVyYXRlZENhcmQpIHJldHVybjtcbiAgICBcbiAgICAvLyBDaGVjayBpZiB1c2VyIGVtYWlsIGlzIHByb3ZpZGVkXG4gICAgaWYgKCF1c2VyRW1haWwudHJpbSgpKSB7XG4gICAgICB0b2FzdC5lcnJvcihcIlBsZWFzZSBlbnRlciB5b3VyIGVtYWlsIGFkZHJlc3MgYmVmb3JlIHByaW50aW5nXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBcbiAgICBzZXRQcmludE9wdGlvbigncGh5c2ljYWwnKTsgLy8gUmVzZXQgdG8gZGVmYXVsdFxuICAgIHNldFNob3dQcmludENvbmZpcm1hdGlvbih0cnVlKTtcbiAgfTtcblxuICAvLyBIYW5kbGUgdGVtcGxhdGUgc2VsZWN0aW9uIGZvciBwcmV2aWV3XG4gIGNvbnN0IGhhbmRsZVRlbXBsYXRlU2VsZWN0ID0gYXN5bmMgKHRlbXBsYXRlOiBHZW5lcmF0ZWRDYXJkKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIC8vIFNob3cgbG9hZGluZyBzdGF0ZVxuICAgICAgc2V0SXNHZW5lcmF0aW5nKHRydWUpO1xuICAgICAgc2V0R2VuZXJhdGlvblByb2dyZXNzKFwi8J+UjSBMb2FkaW5nIGNvbXBsZXRlIHRlbXBsYXRlIGRhdGEuLi5cIik7XG4gICAgICBcbiAgICAgIC8vIENsb3NlIHRlbXBsYXRlIGdhbGxlcnkgZmlyc3RcbiAgICAgIHNldFNob3dUZW1wbGF0ZUdhbGxlcnkoZmFsc2UpO1xuICAgICAgXG4gICAgICAvLyBDaGVjayBpZiB0ZW1wbGF0ZSBoYXMgYWxsIHJlcXVpcmVkIGltYWdlc1xuICAgICAgY29uc3QgaGFzQWxsSW1hZ2VzID0gdGVtcGxhdGUuZnJvbnRDb3ZlciAmJiB0ZW1wbGF0ZS5iYWNrQ292ZXIgJiYgXG4gICAgICAgIChpc0Zyb250QmFja09ubHkgfHwgKHRlbXBsYXRlLmxlZnRQYWdlICYmIHRlbXBsYXRlLnJpZ2h0UGFnZSkpO1xuICAgICAgXG4gICAgICBpZiAoaGFzQWxsSW1hZ2VzKSB7XG4gICAgICAgIC8vIFRlbXBsYXRlIGlzIGNvbXBsZXRlLCBsb2FkIGRpcmVjdGx5XG4gICAgICAgIHNldEdlbmVyYXRlZENhcmQodGVtcGxhdGUpO1xuICAgICAgICBzZXRHZW5lcmF0ZWRDYXJkcyhbdGVtcGxhdGVdKTtcbiAgICAgICAgc2V0U2VsZWN0ZWRDYXJkSW5kZXgoMCk7XG4gICAgICAgIHNldElzQ2FyZENvbXBsZXRlZCh0cnVlKTtcbiAgICAgICAgc2V0SXNHZW5lcmF0aW5nKGZhbHNlKTtcbiAgICAgICAgc2V0R2VuZXJhdGlvblByb2dyZXNzKFwiXCIpO1xuICAgICAgICBcbiAgICAgICAgdG9hc3Quc3VjY2Vzcyhg4pyoIFRlbXBsYXRlIGxvYWRlZCEgWW91IGNhbiBub3cgcHJpbnQgb3IgZW1haWwgdGhpcyBjYXJkIGZyb20gdGhlIHByZXZpZXcgYmVsb3cuYCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBUZW1wbGF0ZSBpcyBpbmNvbXBsZXRlLCB0cnkgdG8gZmV0Y2ggY29tcGxldGUgZGF0YSBmcm9tIEFQSVxuICAgICAgICBzZXRHZW5lcmF0aW9uUHJvZ3Jlc3MoXCLwn5OhIEZldGNoaW5nIGNvbXBsZXRlIGNhcmQgaW1hZ2VzLi4uXCIpO1xuICAgICAgICBcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAvLyBUcnkgdG8gZmV0Y2ggdGhlIGNvbXBsZXRlIGNhcmQgZGF0YSBmcm9tIHRoZSBzZXJ2ZXJcbiAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAvYXBpL2NhcmRzL2xpc3Q/bGltaXQ9MSZzZWFyY2g9JHtlbmNvZGVVUklDb21wb25lbnQodGVtcGxhdGUuaWQpfWApO1xuICAgICAgICAgIFxuICAgICAgICAgIGlmIChyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgICAgIGNvbnN0IGZvdW5kQ2FyZCA9IGRhdGEuY2FyZHMuZmluZCgoY2FyZDogYW55KSA9PiBjYXJkLmlkID09PSB0ZW1wbGF0ZS5pZCk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmIChmb3VuZENhcmQgJiYgZm91bmRDYXJkLmZyb250Q292ZXIgJiYgZm91bmRDYXJkLmJhY2tDb3ZlciAmJiBcbiAgICAgICAgICAgICAgICAoaXNGcm9udEJhY2tPbmx5IHx8IChmb3VuZENhcmQubGVmdFBhZ2UgJiYgZm91bmRDYXJkLnJpZ2h0UGFnZSkpKSB7XG4gICAgICAgICAgICAgIC8vIEZvdW5kIGNvbXBsZXRlIGNhcmQgZGF0YVxuICAgICAgICAgICAgICBjb25zdCBjb21wbGV0ZUNhcmQ6IEdlbmVyYXRlZENhcmQgPSB7XG4gICAgICAgICAgICAgICAgaWQ6IGZvdW5kQ2FyZC5pZCxcbiAgICAgICAgICAgICAgICBwcm9tcHQ6IGZvdW5kQ2FyZC5wcm9tcHQgfHwgdGVtcGxhdGUucHJvbXB0LFxuICAgICAgICAgICAgICAgIGZyb250Q292ZXI6IGZvdW5kQ2FyZC5mcm9udENvdmVyLFxuICAgICAgICAgICAgICAgIGJhY2tDb3ZlcjogZm91bmRDYXJkLmJhY2tDb3ZlcixcbiAgICAgICAgICAgICAgICBsZWZ0UGFnZTogZm91bmRDYXJkLmxlZnRQYWdlIHx8IGZvdW5kQ2FyZC5mcm9udENvdmVyLFxuICAgICAgICAgICAgICAgIHJpZ2h0UGFnZTogZm91bmRDYXJkLnJpZ2h0UGFnZSB8fCBmb3VuZENhcmQuZnJvbnRDb3ZlcixcbiAgICAgICAgICAgICAgICBjcmVhdGVkQXQ6IG5ldyBEYXRlKGZvdW5kQ2FyZC5jcmVhdGVkQXQgKiAxMDAwKSxcbiAgICAgICAgICAgICAgICBzaGFyZVVybDogZm91bmRDYXJkLnNoYXJlVXJsIHx8IHRlbXBsYXRlLnNoYXJlVXJsLFxuICAgICAgICAgICAgICAgIGdlbmVyYXRlZFByb21wdHM6IGZvdW5kQ2FyZC5nZW5lcmF0ZWRQcm9tcHRzIHx8IHRlbXBsYXRlLmdlbmVyYXRlZFByb21wdHNcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIHNldEdlbmVyYXRlZENhcmQoY29tcGxldGVDYXJkKTtcbiAgICAgICAgICAgICAgc2V0R2VuZXJhdGVkQ2FyZHMoW2NvbXBsZXRlQ2FyZF0pO1xuICAgICAgICAgICAgICBzZXRTZWxlY3RlZENhcmRJbmRleCgwKTtcbiAgICAgICAgICAgICAgc2V0SXNDYXJkQ29tcGxldGVkKHRydWUpO1xuICAgICAgICAgICAgICBzZXRJc0dlbmVyYXRpbmcoZmFsc2UpO1xuICAgICAgICAgICAgICBzZXRHZW5lcmF0aW9uUHJvZ3Jlc3MoXCJcIik7XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICB0b2FzdC5zdWNjZXNzKGDinIUgQ29tcGxldGUgdGVtcGxhdGUgbG9hZGVkIHdpdGggYWxsIGltYWdlcyFgKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNvbXBsZXRlIGNhcmQgZGF0YSBub3QgZm91bmRcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkZhaWxlZCB0byBmZXRjaCBjYXJkIGRhdGFcIik7XG4gICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChmZXRjaEVycm9yKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coXCJDb3VsZCBub3QgZmV0Y2ggY29tcGxldGUgY2FyZCBkYXRhLCB1c2luZyBmYWxsYmFjayBhcHByb2FjaDpcIiwgZmV0Y2hFcnJvcik7XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gRmFsbGJhY2s6IFVzZSBmcm9udCBjb3ZlciBmb3IgbWlzc2luZyBpbWFnZXNcbiAgICAgICAgICBjb25zdCBmYWxsYmFja0NhcmQ6IEdlbmVyYXRlZENhcmQgPSB7XG4gICAgICAgICAgICAuLi50ZW1wbGF0ZSxcbiAgICAgICAgICAgIGJhY2tDb3ZlcjogdGVtcGxhdGUuYmFja0NvdmVyIHx8IHRlbXBsYXRlLmZyb250Q292ZXIsXG4gICAgICAgICAgICBsZWZ0UGFnZTogdGVtcGxhdGUubGVmdFBhZ2UgfHwgdGVtcGxhdGUuZnJvbnRDb3ZlcixcbiAgICAgICAgICAgIHJpZ2h0UGFnZTogdGVtcGxhdGUucmlnaHRQYWdlIHx8IHRlbXBsYXRlLmZyb250Q292ZXJcbiAgICAgICAgICB9O1xuICAgICAgICAgIFxuICAgICAgICAgIHNldEdlbmVyYXRlZENhcmQoZmFsbGJhY2tDYXJkKTtcbiAgICAgICAgICBzZXRHZW5lcmF0ZWRDYXJkcyhbZmFsbGJhY2tDYXJkXSk7XG4gICAgICAgICAgc2V0U2VsZWN0ZWRDYXJkSW5kZXgoMCk7XG4gICAgICAgICAgc2V0SXNDYXJkQ29tcGxldGVkKHRydWUpO1xuICAgICAgICAgIHNldElzR2VuZXJhdGluZyhmYWxzZSk7XG4gICAgICAgICAgc2V0R2VuZXJhdGlvblByb2dyZXNzKFwiXCIpO1xuICAgICAgICAgIFxuICAgICAgICAgIHRvYXN0LmluZm8oYPCfk4sgVGVtcGxhdGUgbG9hZGVkISBTb21lIGltYWdlcyBtYXkgYmUgcmVwZWF0ZWQgZnJvbSB0aGUgZnJvbnQgY292ZXIuYCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGxvYWRpbmcgdGVtcGxhdGU6XCIsIGVycm9yKTtcbiAgICAgIHNldElzR2VuZXJhdGluZyhmYWxzZSk7XG4gICAgICBzZXRHZW5lcmF0aW9uUHJvZ3Jlc3MoXCJcIik7XG4gICAgICB0b2FzdC5lcnJvcihcIkZhaWxlZCB0byBsb2FkIHRlbXBsYXRlLiBQbGVhc2UgdHJ5IGFnYWluLlwiKTtcbiAgICB9XG4gIH07XG5cbiAgLy8gQWN0dWFsIHByaW50IGZ1bmN0aW9uIGFmdGVyIGNvbmZpcm1hdGlvblxuICAvLyBFeHRyYWN0ZWQgQUkgQW5hbHlzaXMgTG9naWMgZm9yIFJldXNlXG4gIGNvbnN0IHBlcmZvcm1BSUFuYWx5c2lzID0gYXN5bmMgKGNhcmRzVG9BbmFseXplOiBhbnlbXSwgc2VhcmNoUXVlcnk6IHN0cmluZykgPT4ge1xuICAgIGNvbnN0IGFkYXB0aXZlQmF0Y2hTaXplID0gTWF0aC5taW4oXG4gICAgICBNYXRoLm1heCgxMCwgTWF0aC5mbG9vcihjYXJkc1RvQW5hbHl6ZS5sZW5ndGggLyA4KSksIC8vIDggYmF0Y2hlcyBtYXhcbiAgICAgIHNlYXJjaFF1ZXJ5LnNwbGl0KCcgJykubGVuZ3RoID4gMyA/IDE1IDogMjUgLy8gU21hbGxlciBiYXRjaGVzIGZvciBjb21wbGV4IHF1ZXJpZXNcbiAgICApO1xuICAgIFxuICAgIGNvbnN0IGJhdGNoZXMgPSBbXTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNhcmRzVG9BbmFseXplLmxlbmd0aDsgaSArPSBhZGFwdGl2ZUJhdGNoU2l6ZSkge1xuICAgICAgYmF0Y2hlcy5wdXNoKGNhcmRzVG9BbmFseXplLnNsaWNlKGksIGkgKyBhZGFwdGl2ZUJhdGNoU2l6ZSkpO1xuICAgIH1cbiAgICBcbiAgICBjb25zdCBhbmFseXNpc1Byb21wdCA9IGBVc2VyIGlzIHNlYXJjaGluZyBmb3I6IFwiJHtzZWFyY2hRdWVyeX1cIlxuXG5BbmFseXplIGVhY2ggZ3JlZXRpbmcgY2FyZCBpbWFnZSBhbmQgcmF0ZSBob3cgd2VsbCBpdCBtYXRjaGVzIHRoZSB1c2VyJ3Mgc2VhcmNoIHF1ZXJ5IG9uIGEgc2NhbGUgb2YgMS0xMDAuXG5cbkNvbnNpZGVyOlxuLSBWaXN1YWwgc3R5bGUgbWF0Y2hpbmcgKHdhdGVyY29sb3IsIGNhcnRvb24sIHJlYWxpc3RpYywgZXRjLilcbi0gQ29sb3JzIGFuZCB0aGVtZXNcbi0gU3ViamVjdCBtYXR0ZXIgKHBlb3BsZSwgYW5pbWFscywgb2JqZWN0cywgbmF0dXJlLCBldGMuKVxuLSBNb29kIGFuZCBhdG1vc3BoZXJlXG4tIE9jY2FzaW9uIGFwcHJvcHJpYXRlbmVzc1xuLSBPdmVyYWxsIHJlbGV2YW5jZSB0byB0aGUgc2VhcmNoIHF1ZXJ5XG5cblJhdGUgZWFjaCBjYXJkIGZyb20gMS0xMDAgd2hlcmU6XG4tIDkwLTEwMDogUGVyZmVjdCBtYXRjaCBmb3IgdGhlIHNlYXJjaCBxdWVyeVxuLSA3MC04OTogVmVyeSBnb29kIG1hdGNoIHdpdGggbW9zdCBlbGVtZW50cyBtYXRjaGluZ1xuLSA1MC02OTogR29vZCBtYXRjaCB3aXRoIHNvbWUgcmVsZXZhbnQgZWxlbWVudHNcbi0gMzAtNDk6IFBhcnRpYWwgbWF0Y2ggd2l0aCBmZXcgcmVsZXZhbnQgZWxlbWVudHMgIFxuLSAxLTI5OiBQb29yIG1hdGNoLCBub3QgcmVsZXZhbnQgdG8gc2VhcmNoXG5cblJldHVybiBvbmx5IHRoZSBudW1lcmljIHNjb3JlICgxLTEwMCkgZm9yIGVhY2ggaW1hZ2UuYDtcblxuICAgIC8vIFByb2Nlc3MgQUxMIGJhdGNoZXMgaW4gcGFyYWxsZWwgZm9yIG1heGltdW0gc3BlZWRcbiAgICBjb25zdCBiYXRjaFByb21pc2VzID0gYmF0Y2hlcy5tYXAoYXN5bmMgKGJhdGNoOiBhbnlbXSwgYmF0Y2hJbmRleDogbnVtYmVyKSA9PiB7XG4gICAgICBjb25zdCB2YWxpZENhcmRzID0gYmF0Y2guZmlsdGVyKGNhcmQgPT4gY2FyZC5mcm9udENvdmVyKTtcbiAgICAgIGNvbnN0IHVybHMgPSB2YWxpZENhcmRzLm1hcChjYXJkID0+IGNhcmQuZnJvbnRDb3Zlcik7XG4gICAgICBcbiAgICAgIGNvbnN0IGJhdGNoUmVzdWx0czogQXJyYXk8e1xuICAgICAgICBpZDogc3RyaW5nO1xuICAgICAgICBjYXJkOiBhbnk7XG4gICAgICAgIHNjb3JlOiBudW1iZXI7XG4gICAgICAgIGFuYWx5c2lzOiBzdHJpbmc7XG4gICAgICB9PiA9IFtdO1xuICAgICAgXG4gICAgICBpZiAodXJscy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgYmF0Y2guZm9yRWFjaChjYXJkID0+IHtcbiAgICAgICAgICBjb25zdCB0ZXh0U2NvcmUgPSBjYXJkLnByb21wdD8udG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhzZWFyY2hRdWVyeS50b0xvd2VyQ2FzZSgpKSA/IDYwIDogMjA7XG4gICAgICAgICAgYmF0Y2hSZXN1bHRzLnB1c2goe1xuICAgICAgICAgICAgaWQ6IGNhcmQuaWQsXG4gICAgICAgICAgICBjYXJkOiBjYXJkLFxuICAgICAgICAgICAgc2NvcmU6IHRleHRTY29yZSxcbiAgICAgICAgICAgIGFuYWx5c2lzOiBcIk5vIGltYWdlIGF2YWlsYWJsZVwiXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gYmF0Y2hSZXN1bHRzO1xuICAgICAgfVxuXG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCcvaW50ZXJuYWwvY2FsbF9tY3BfdG9vbCcsIHtcbiAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICB0b29sX25hbWU6ICdhbmFseXplX2ltYWdlcycsXG4gICAgICAgICAgICBhcmd1bWVudHM6IHtcbiAgICAgICAgICAgICAgdXJsczogdXJscyxcbiAgICAgICAgICAgICAgYW5hbHlzaXNfcHJvbXB0OiBhbmFseXNpc1Byb21wdFxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChyZXNwb25zZS5vaykge1xuICAgICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgICAgaWYgKGRhdGEuZXJyb3IgJiYgZGF0YS5lcnJvciAhPT0gXCJOb25lXCIgJiYgZGF0YS5lcnJvciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGRhdGEuZXJyb3IpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBcbiAgICAgICAgICBsZXQgcmVzdWx0O1xuICAgICAgICAgIGlmICh0eXBlb2YgZGF0YS5yZXN1bHQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICByZXN1bHQgPSBKU09OLnBhcnNlKGRhdGEucmVzdWx0KTtcbiAgICAgICAgICAgIH0gY2F0Y2gge1xuICAgICAgICAgICAgICByZXN1bHQgPSB7IHN0YXR1czogJ2Vycm9yJywgbWVzc2FnZTogJ0ludmFsaWQgSlNPTiByZXNwb25zZScgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVzdWx0ID0gZGF0YS5yZXN1bHQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIFxuICAgICAgICAgIGlmIChyZXN1bHQuc3RhdHVzID09PSAnc3VjY2VzcycgJiYgcmVzdWx0LnJlc3VsdHMpIHtcbiAgICAgICAgICAgIHJlc3VsdC5yZXN1bHRzLmZvckVhY2goKGFuYWx5c2lzUmVzdWx0OiBhbnksIGluZGV4OiBudW1iZXIpID0+IHtcbiAgICAgICAgICAgICAgaWYgKGluZGV4IDwgdmFsaWRDYXJkcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjYXJkID0gdmFsaWRDYXJkc1tpbmRleF07XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgaWYgKGFuYWx5c2lzUmVzdWx0LnN0YXR1cyA9PT0gJ3N1Y2Nlc3MnICYmIGFuYWx5c2lzUmVzdWx0LmFuYWx5c2lzKSB7XG4gICAgICAgICAgICAgICAgICBjb25zdCBzY29yZU1hdGNoID0gYW5hbHlzaXNSZXN1bHQuYW5hbHlzaXMubWF0Y2goL1xcYihcXGR7MSwzfSlcXGIvKTtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IHNjb3JlID0gc2NvcmVNYXRjaCA/IHBhcnNlSW50KHNjb3JlTWF0Y2hbMV0pIDogMDtcbiAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgYmF0Y2hSZXN1bHRzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBpZDogY2FyZC5pZCxcbiAgICAgICAgICAgICAgICAgICAgY2FyZDogY2FyZCxcbiAgICAgICAgICAgICAgICAgICAgc2NvcmU6IE1hdGgubWluKE1hdGgubWF4KHNjb3JlLCAwKSwgMTAwKSxcbiAgICAgICAgICAgICAgICAgICAgYW5hbHlzaXM6IGFuYWx5c2lzUmVzdWx0LmFuYWx5c2lzXG4gICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgY29uc3QgdGV4dFNjb3JlID0gY2FyZC5wcm9tcHQ/LnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoc2VhcmNoUXVlcnkudG9Mb3dlckNhc2UoKSkgPyA2MCA6IDIwO1xuICAgICAgICAgICAgICAgICAgYmF0Y2hSZXN1bHRzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBpZDogY2FyZC5pZCxcbiAgICAgICAgICAgICAgICAgICAgY2FyZDogY2FyZCxcbiAgICAgICAgICAgICAgICAgICAgc2NvcmU6IHRleHRTY29yZSxcbiAgICAgICAgICAgICAgICAgICAgYW5hbHlzaXM6IFwiQW5hbHlzaXMgZmFpbGVkLCB1c2luZyB0ZXh0IGZhbGxiYWNrXCJcbiAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCByZXN1bHQgc3RydWN0dXJlJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSFRUUCAke3Jlc3BvbnNlLnN0YXR1c31gKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihgRmFpbGVkIHRvIGFuYWx5emUgYmF0Y2ggJHtiYXRjaEluZGV4ICsgMX06YCwgZXJyb3IpO1xuICAgICAgICBcbiAgICAgICAgYmF0Y2guZm9yRWFjaChjYXJkID0+IHtcbiAgICAgICAgICBjb25zdCB0ZXh0U2NvcmUgPSBjYXJkLnByb21wdD8udG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhzZWFyY2hRdWVyeS50b0xvd2VyQ2FzZSgpKSA/IDYwIDogMjA7XG4gICAgICAgICAgYmF0Y2hSZXN1bHRzLnB1c2goe1xuICAgICAgICAgICAgaWQ6IGNhcmQuaWQsXG4gICAgICAgICAgICBjYXJkOiBjYXJkLFxuICAgICAgICAgICAgc2NvcmU6IHRleHRTY29yZSxcbiAgICAgICAgICAgIGFuYWx5c2lzOiBcIkJhdGNoIGFuYWx5c2lzIGZhaWxlZCwgdXNpbmcgdGV4dCBmYWxsYmFja1wiXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgXG4gICAgICByZXR1cm4gYmF0Y2hSZXN1bHRzO1xuICAgIH0pO1xuXG4gICAgY29uc3QgYWxsQmF0Y2hSZXN1bHRzID0gYXdhaXQgUHJvbWlzZS5hbGwoYmF0Y2hQcm9taXNlcyk7XG4gICAgcmV0dXJuIGFsbEJhdGNoUmVzdWx0cy5mbGF0KCk7XG4gIH07XG5cbiAgLy8gRW5oYW5jZWQgVGV4dC1iYXNlZCBUZW1wbGF0ZSBTZWFyY2ggRnVuY3Rpb24gKEluc3RhbnQpXG4gIGNvbnN0IGhhbmRsZVRleHRUZW1wbGF0ZVNlYXJjaCA9ICgpID0+IHtcbiAgICBpZiAoIXRlbXBsYXRlU2VhcmNoUXVlcnkudHJpbSgpKSB7XG4gICAgICB0b2FzdC5lcnJvcihcIlBsZWFzZSBlbnRlciBhIHNlYXJjaCBxdWVyeSFcIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gR2V0IGFsbCBhdmFpbGFibGUgY2FyZHMgZmlyc3RcbiAgICBjb25zdCBhbGxDYXJkcyA9IGdldENhY2hlZENhcmRzKDEsIE1hdGgubWF4KHRvdGFsQ2FyZHMsIDEwMDApKTtcbiAgICBcbiAgICBpZiAoYWxsQ2FyZHMubGVuZ3RoID09PSAwKSB7XG4gICAgICB0b2FzdC5lcnJvcihcIk5vIHRlbXBsYXRlcyBhdmFpbGFibGUgdG8gc2VhcmNoXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHNlYXJjaFRlcm1zID0gdGVtcGxhdGVTZWFyY2hRdWVyeS50b0xvd2VyQ2FzZSgpLnNwbGl0KCcgJykuZmlsdGVyKHRlcm0gPT4gdGVybS5sZW5ndGggPiAxKTtcbiAgICBcbiAgICAvLyBTY29yZSBjYXJkcyBiYXNlZCBvbiB0ZXh0IHJlbGV2YW5jZSAobm93IGluY2x1ZGluZyBnZW5lcmF0ZWQgcHJvbXB0cylcbiAgICBjb25zdCBzY29yZWRDYXJkcyA9IGFsbENhcmRzLm1hcChjYXJkID0+IHtcbiAgICAgIGNvbnN0IG9yaWdpbmFsUHJvbXB0ID0gKGNhcmQucHJvbXB0IHx8ICcnKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgbGV0IHNjb3JlID0gMDtcbiAgICAgIGxldCBtYXRjaFNvdXJjZXM6IHN0cmluZ1tdID0gW107XG4gICAgICBcbiAgICAgIC8vIEJ1aWxkIHNlYXJjaGFibGUgdGV4dCBmcm9tIG11bHRpcGxlIHNvdXJjZXNcbiAgICAgIGNvbnN0IHNlYXJjaGFibGVUZXh0cyA9IFtcbiAgICAgICAgeyB0ZXh0OiBvcmlnaW5hbFByb21wdCwgd2VpZ2h0OiAxMCwgc291cmNlOiAnb3JpZ2luYWwnIH1cbiAgICAgIF07XG4gICAgICBcbiAgICAgIC8vIEFkZCBnZW5lcmF0ZWQgcHJvbXB0cyBpZiBhdmFpbGFibGUgKHRoZXNlIGFyZSBBSS1hbmFseXplZCBkZXNjcmlwdGlvbnMgb2YgYWN0dWFsIGltYWdlcylcbiAgICAgIGlmIChjYXJkLmdlbmVyYXRlZFByb21wdHMpIHtcbiAgICAgICAgaWYgKGNhcmQuZ2VuZXJhdGVkUHJvbXB0cy5mcm9udENvdmVyKSB7XG4gICAgICAgICAgc2VhcmNoYWJsZVRleHRzLnB1c2goeyBcbiAgICAgICAgICAgIHRleHQ6IGNhcmQuZ2VuZXJhdGVkUHJvbXB0cy5mcm9udENvdmVyLnRvTG93ZXJDYXNlKCksIFxuICAgICAgICAgICAgd2VpZ2h0OiA4LCBcbiAgICAgICAgICAgIHNvdXJjZTogJ2Zyb250LWNvdmVyLWFuYWx5c2lzJyBcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY2FyZC5nZW5lcmF0ZWRQcm9tcHRzLmJhY2tDb3Zlcikge1xuICAgICAgICAgIHNlYXJjaGFibGVUZXh0cy5wdXNoKHsgXG4gICAgICAgICAgICB0ZXh0OiBjYXJkLmdlbmVyYXRlZFByb21wdHMuYmFja0NvdmVyLnRvTG93ZXJDYXNlKCksIFxuICAgICAgICAgICAgd2VpZ2h0OiA2LCBcbiAgICAgICAgICAgIHNvdXJjZTogJ2JhY2stY292ZXItYW5hbHlzaXMnIFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjYXJkLmdlbmVyYXRlZFByb21wdHMubGVmdEludGVyaW9yKSB7XG4gICAgICAgICAgc2VhcmNoYWJsZVRleHRzLnB1c2goeyBcbiAgICAgICAgICAgIHRleHQ6IGNhcmQuZ2VuZXJhdGVkUHJvbXB0cy5sZWZ0SW50ZXJpb3IudG9Mb3dlckNhc2UoKSwgXG4gICAgICAgICAgICB3ZWlnaHQ6IDcsIFxuICAgICAgICAgICAgc291cmNlOiAnbGVmdC1pbnRlcmlvci1hbmFseXNpcycgXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNhcmQuZ2VuZXJhdGVkUHJvbXB0cy5yaWdodEludGVyaW9yKSB7XG4gICAgICAgICAgc2VhcmNoYWJsZVRleHRzLnB1c2goeyBcbiAgICAgICAgICAgIHRleHQ6IGNhcmQuZ2VuZXJhdGVkUHJvbXB0cy5yaWdodEludGVyaW9yLnRvTG93ZXJDYXNlKCksIFxuICAgICAgICAgICAgd2VpZ2h0OiA3LCBcbiAgICAgICAgICAgIHNvdXJjZTogJ3JpZ2h0LWludGVyaW9yLWFuYWx5c2lzJyBcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBTZWFyY2ggdGhyb3VnaCBhbGwgdGV4dCBzb3VyY2VzXG4gICAgICBzZWFyY2hUZXJtcy5mb3JFYWNoKHRlcm0gPT4ge1xuICAgICAgICBzZWFyY2hhYmxlVGV4dHMuZm9yRWFjaCgoeyB0ZXh0LCB3ZWlnaHQsIHNvdXJjZSB9KSA9PiB7XG4gICAgICAgICAgLy8gRXhhY3Qgd29yZCBtYXRjaFxuICAgICAgICAgIGlmICh0ZXh0LmluY2x1ZGVzKHRlcm0pKSB7XG4gICAgICAgICAgICBjb25zdCB0ZXJtU2NvcmUgPSAodGVybS5sZW5ndGggPiAzID8gMTAgOiA1KSAqICh3ZWlnaHQgLyAxMCk7XG4gICAgICAgICAgICBzY29yZSArPSB0ZXJtU2NvcmU7XG4gICAgICAgICAgICBpZiAoIW1hdGNoU291cmNlcy5pbmNsdWRlcyhzb3VyY2UpKSB7XG4gICAgICAgICAgICAgIG1hdGNoU291cmNlcy5wdXNoKHNvdXJjZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIFBhcnRpYWwgbWF0Y2hcbiAgICAgICAgICBlbHNlIGlmICh0ZXh0LmluY2x1ZGVzKHRlcm0uc3Vic3RyaW5nKDAsIE1hdGgubWF4KDMsIHRlcm0ubGVuZ3RoIC0gMSkpKSkge1xuICAgICAgICAgICAgY29uc3QgcGFydGlhbFNjb3JlID0gMyAqICh3ZWlnaHQgLyAxMCk7XG4gICAgICAgICAgICBzY29yZSArPSBwYXJ0aWFsU2NvcmU7XG4gICAgICAgICAgICBpZiAoIW1hdGNoU291cmNlcy5pbmNsdWRlcyhzb3VyY2UpKSB7XG4gICAgICAgICAgICAgIG1hdGNoU291cmNlcy5wdXNoKHNvdXJjZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICAvLyBCb29zdCBmb3IgY2FyZHMgdGhhdCBtYXRjaCBtdWx0aXBsZSB0ZXJtc1xuICAgICAgY29uc3QgbWF0Y2hlZFRlcm1zID0gc2VhcmNoVGVybXMuZmlsdGVyKHRlcm0gPT4gXG4gICAgICAgIHNlYXJjaGFibGVUZXh0cy5zb21lKCh7IHRleHQgfSkgPT4gdGV4dC5pbmNsdWRlcyh0ZXJtKSlcbiAgICAgICkubGVuZ3RoO1xuICAgICAgaWYgKG1hdGNoZWRUZXJtcyA+IDEpIHtcbiAgICAgICAgc2NvcmUgKz0gbWF0Y2hlZFRlcm1zICogNTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gQm9vc3QgZm9yIGNhcmRzIHdpdGggQUktZ2VuZXJhdGVkIHByb21wdHMgKHRoZXkgaGF2ZSByaWNoZXIgZGVzY3JpcHRpb25zKVxuICAgICAgaWYgKGNhcmQuZ2VuZXJhdGVkUHJvbXB0cyAmJiBtYXRjaFNvdXJjZXMuc29tZShzb3VyY2UgPT4gc291cmNlLmluY2x1ZGVzKCdhbmFseXNpcycpKSkge1xuICAgICAgICBzY29yZSArPSA1OyAvLyBCb251cyBmb3IgQUktYW5hbHl6ZWQgdmlzdWFsIGNvbnRlbnQgbWF0Y2hlc1xuICAgICAgfVxuICAgICAgXG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5jYXJkLFxuICAgICAgICB0ZXh0U2NvcmU6IHNjb3JlLFxuICAgICAgICBtYXRjaFNvdXJjZXM6IG1hdGNoU291cmNlc1xuICAgICAgfTtcbiAgICB9KTtcblxuICAgIC8vIEZpbHRlciBhbmQgc29ydCBieSByZWxldmFuY2VcbiAgICBjb25zdCBmaWx0ZXJlZENhcmRzID0gc2NvcmVkQ2FyZHNcbiAgICAgIC5maWx0ZXIoY2FyZCA9PiBjYXJkLnRleHRTY29yZSA+IDApXG4gICAgICAuc29ydCgoYSwgYikgPT4gYi50ZXh0U2NvcmUgLSBhLnRleHRTY29yZSlcbiAgICAgIC5zbGljZSgwLCAyMCk7IC8vIFRvcCAyMCB0ZXh0IG1hdGNoZXNcblxuICAgIHNldFRleHRGaWx0ZXJlZENhcmRzKGZpbHRlcmVkQ2FyZHMpO1xuICAgIFxuICAgIGlmIChmaWx0ZXJlZENhcmRzLmxlbmd0aCA+IDApIHtcbiAgICAgIGNvbnN0IGF2Z1Njb3JlID0gTWF0aC5yb3VuZChmaWx0ZXJlZENhcmRzLnJlZHVjZSgoc3VtLCBjYXJkKSA9PiBzdW0gKyBjYXJkLnRleHRTY29yZSwgMCkgLyBmaWx0ZXJlZENhcmRzLmxlbmd0aCk7XG4gICAgICBjb25zdCBhaUFuYWx5emVkTWF0Y2hlcyA9IGZpbHRlcmVkQ2FyZHMuZmlsdGVyKGNhcmQgPT4gXG4gICAgICAgIGNhcmQubWF0Y2hTb3VyY2VzPy5zb21lKHNvdXJjZSA9PiBzb3VyY2UuaW5jbHVkZXMoJ2FuYWx5c2lzJykpXG4gICAgICApLmxlbmd0aDtcbiAgICAgIFxuICAgICAgbGV0IHN1Y2Nlc3NNZXNzYWdlID0gYPCfk50gRm91bmQgJHtmaWx0ZXJlZENhcmRzLmxlbmd0aH0gdGV4dCBtYXRjaGVzIGZvciBcIiR7dGVtcGxhdGVTZWFyY2hRdWVyeX1cIiEgQXZlcmFnZSByZWxldmFuY2U6ICR7YXZnU2NvcmV9YDtcbiAgICAgIGlmIChhaUFuYWx5emVkTWF0Y2hlcyA+IDApIHtcbiAgICAgICAgc3VjY2Vzc01lc3NhZ2UgKz0gYCAoJHthaUFuYWx5emVkTWF0Y2hlc30gbWF0Y2hlcyBmb3VuZCBpbiBBSSB2aXN1YWwgYW5hbHlzaXMhKWA7XG4gICAgICB9XG4gICAgICBcbiAgICAgIHRvYXN0LnN1Y2Nlc3Moc3VjY2Vzc01lc3NhZ2UpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0b2FzdC5pbmZvKFwi8J+klCBObyB0ZW1wbGF0ZXMgZm91bmQgbWF0Y2hpbmcgeW91ciB0ZXh0IHNlYXJjaC4gVHJ5IGRpZmZlcmVudCBrZXl3b3JkcyFcIik7XG4gICAgfVxuICB9O1xuXG4gIC8vIEFJIFRlbXBsYXRlIFNlYXJjaCBGdW5jdGlvbiB3aXRoIFBhcmFsbGVsIEltYWdlIEFuYWx5c2lzXG4gIGNvbnN0IGhhbmRsZUFJVGVtcGxhdGVTZWFyY2ggPSBhc3luYyAoKSA9PiB7XG4gICAgaWYgKCF0ZW1wbGF0ZVNlYXJjaFF1ZXJ5LnRyaW0oKSkge1xuICAgICAgdG9hc3QuZXJyb3IoXCJQbGVhc2UgZW50ZXIgYSBzZWFyY2ggcXVlcnkhXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHNldElzU2VhcmNoaW5nVGVtcGxhdGVzKHRydWUpO1xuICAgIFxuICAgIHRyeSB7XG4gICAgICAvLyBHZXQgYWxsIGF2YWlsYWJsZSBjYXJkcyBmaXJzdFxuICAgICAgY29uc3QgYWxsQ2FyZHMgPSBnZXRDYWNoZWRDYXJkcygxLCBNYXRoLm1heCh0b3RhbENhcmRzLCAxMDAwKSk7XG4gICAgICBcbiAgICAgIGlmIChhbGxDYXJkcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgdG9hc3QuZXJyb3IoXCJObyB0ZW1wbGF0ZXMgYXZhaWxhYmxlIHRvIHNlYXJjaFwiKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyBTbWFydCBwcmUtZmlsdGVyaW5nOiBGaXJzdCBmaWx0ZXIgYnkgdGV4dCByZWxldmFuY2UgdG8gcmVkdWNlIEFJIGFuYWx5c2lzIGxvYWRcbiAgICAgIGNvbnN0IHRleHRGaWx0ZXJlZENhcmRzID0gYWxsQ2FyZHMuZmlsdGVyKGNhcmQgPT4ge1xuICAgICAgICBjb25zdCBzZWFyY2hUZXJtcyA9IHRlbXBsYXRlU2VhcmNoUXVlcnkudG9Mb3dlckNhc2UoKS5zcGxpdCgnICcpO1xuICAgICAgICBjb25zdCBjYXJkVGV4dCA9IChjYXJkLnByb21wdCB8fCAnJykudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgXG4gICAgICAgIC8vIEluY2x1ZGUgY2FyZHMgdGhhdCBtYXRjaCBhbnkgc2VhcmNoIHRlcm0gb3IgaGF2ZSBoaWdoIGdlbmVyYWwgcmVsZXZhbmNlXG4gICAgICAgIHJldHVybiBzZWFyY2hUZXJtcy5zb21lKHRlcm0gPT4gXG4gICAgICAgICAgY2FyZFRleHQuaW5jbHVkZXModGVybSkgfHwgXG4gICAgICAgICAgdGVybS5sZW5ndGggPD0gMyB8fCAvLyBJbmNsdWRlIHNob3J0IHRlcm1zIChjb2xvcnMsIGV0Yy4pXG4gICAgICAgICAgWydjYXJkJywgJ2JpcnRoZGF5JywgJ2Z1bm55JywgJ2N1dGUnLCAnbG92ZSddLnNvbWUoY29tbW9uID0+IGNhcmRUZXh0LmluY2x1ZGVzKGNvbW1vbikpXG4gICAgICAgICk7XG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgLy8gSWYgcHJlLWZpbHRlcmluZyByZW1vdmVzIHRvbyBtYW55IGNhcmRzLCBmYWxsIGJhY2sgdG8gYW5hbHl6aW5nIGFsbFxuICAgICAgY29uc3QgY2FyZHNUb0FuYWx5emUgPSB0ZXh0RmlsdGVyZWRDYXJkcy5sZW5ndGggPj0gTWF0aC5taW4oNTAsIGFsbENhcmRzLmxlbmd0aCAqIDAuMykgXG4gICAgICAgID8gdGV4dEZpbHRlcmVkQ2FyZHMgXG4gICAgICAgIDogYWxsQ2FyZHM7XG4gICAgICBcbiAgICAgIGNvbnN0IGZpbHRlck1lc3NhZ2UgPSB0ZXh0RmlsdGVyZWRDYXJkcy5sZW5ndGggPCBhbGxDYXJkcy5sZW5ndGggXG4gICAgICAgID8gYCAocHJlLWZpbHRlcmVkIGZyb20gJHthbGxDYXJkcy5sZW5ndGh9IGJhc2VkIG9uIHRleHQgcmVsZXZhbmNlKWBcbiAgICAgICAgOiAnJztcbiAgICAgIFxuICAgICAgdG9hc3QuaW5mbyhg8J+UjSBBSSBhbmFseXppbmcgJHtjYXJkc1RvQW5hbHl6ZS5sZW5ndGh9IGNhcmQgaW1hZ2VzIGZvciBcIiR7dGVtcGxhdGVTZWFyY2hRdWVyeX1cIiR7ZmlsdGVyTWVzc2FnZX0uLi5gKTtcblxuICAgICAgLy8gQWRhcHRpdmUgYmF0Y2ggc2l6aW5nIGJhc2VkIG9uIHF1ZXJ5IGNvbXBsZXhpdHkgYW5kIG51bWJlciBvZiBjYXJkc1xuICAgICAgY29uc3QgcXVlcnlDb21wbGV4aXR5ID0gdGVtcGxhdGVTZWFyY2hRdWVyeS5zcGxpdCgnICcpLmxlbmd0aDtcbiAgICAgIGNvbnN0IGFkYXB0aXZlQmF0Y2hTaXplID0gTWF0aC5taW4oXG4gICAgICAgIE1hdGgubWF4KDEwLCBNYXRoLmZsb29yKGNhcmRzVG9BbmFseXplLmxlbmd0aCAvIDgpKSwgLy8gOCBiYXRjaGVzIG1heFxuICAgICAgICBxdWVyeUNvbXBsZXhpdHkgPiAzID8gMTUgOiAyNSAvLyBTbWFsbGVyIGJhdGNoZXMgZm9yIGNvbXBsZXggcXVlcmllc1xuICAgICAgKTtcbiAgICAgIFxuICAgICAgY29uc29sZS5sb2coYPCfp6AgVXNpbmcgYWRhcHRpdmUgYmF0Y2ggc2l6ZTogJHthZGFwdGl2ZUJhdGNoU2l6ZX0gKHF1ZXJ5IGNvbXBsZXhpdHk6ICR7cXVlcnlDb21wbGV4aXR5fSB0ZXJtcylgKTtcbiAgICAgIFxuICAgICAgY29uc3QgYmF0Y2hlcyA9IFtdO1xuICAgICAgXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNhcmRzVG9BbmFseXplLmxlbmd0aDsgaSArPSBhZGFwdGl2ZUJhdGNoU2l6ZSkge1xuICAgICAgICBiYXRjaGVzLnB1c2goY2FyZHNUb0FuYWx5emUuc2xpY2UoaSwgaSArIGFkYXB0aXZlQmF0Y2hTaXplKSk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIGNvbnNvbGUubG9nKGDwn5qAIFByb2Nlc3NpbmcgJHtjYXJkc1RvQW5hbHl6ZS5sZW5ndGh9IGltYWdlcyBpbiAke2JhdGNoZXMubGVuZ3RofSBiYXRjaGVzIChhZGFwdGl2ZSBzaXplOiAke2FkYXB0aXZlQmF0Y2hTaXplfSlgKTtcbiAgICAgIFxuICAgICAgLy8gVXNlIHRoZSBleHRyYWN0ZWQgQUkgYW5hbHlzaXMgZnVuY3Rpb25cbiAgICAgIGNvbnNvbGUubG9nKGDwn5qAIFByb2Nlc3NpbmcgQUxMICR7YmF0Y2hlcy5sZW5ndGh9IGJhdGNoZXMgaW4gcGFyYWxsZWwhYCk7XG4gICAgICB0b2FzdC5pbmZvKGDwn5qAIFByb2Nlc3NpbmcgJHtiYXRjaGVzLmxlbmd0aH0gYmF0Y2hlcyBpbiBwYXJhbGxlbCAoJHtjYXJkc1RvQW5hbHl6ZS5sZW5ndGh9IGltYWdlcyB0b3RhbCkuLi5gKTtcbiAgICAgIFxuICAgICAgY29uc3QgYW5hbHlzaXNSZXN1bHRzID0gYXdhaXQgcGVyZm9ybUFJQW5hbHlzaXMoY2FyZHNUb0FuYWx5emUsIHRlbXBsYXRlU2VhcmNoUXVlcnkpO1xuICAgICAgXG4gICAgICAvLyBTb3J0IGJ5IHNjb3JlIChoaWdoZXN0IGZpcnN0KSBhbmQgZmlsdGVyIG91dCBsb3cgc2NvcmVzXG4gICAgICBjb25zdCByYW5rZWRSZXN1bHRzID0gYW5hbHlzaXNSZXN1bHRzXG4gICAgICAgIC5maWx0ZXIocmVzdWx0ID0+IHJlc3VsdC5zY29yZSA+PSAzMCkgLy8gT25seSBzaG93IGNhcmRzIHdpdGggc2NvcmUgMzArXG4gICAgICAgIC5zb3J0KChhLCBiKSA9PiBiLnNjb3JlIC0gYS5zY29yZSlcbiAgICAgICAgLnNsaWNlKDAsIDEwKTsgLy8gVG9wIDEwIHJlc3VsdHNcblxuICAgICAgaWYgKHJhbmtlZFJlc3VsdHMubGVuZ3RoID4gMCkge1xuICAgICAgICBjb25zdCBmaWx0ZXJlZENhcmRzID0gcmFua2VkUmVzdWx0cy5tYXAocmVzdWx0ID0+ICh7XG4gICAgICAgICAgLi4ucmVzdWx0LmNhcmQsXG4gICAgICAgICAgYWlTY29yZTogcmVzdWx0LnNjb3JlLFxuICAgICAgICAgIGFpQW5hbHlzaXM6IHJlc3VsdC5hbmFseXNpc1xuICAgICAgICB9KSk7XG4gICAgICAgIFxuICAgICAgICBzZXRBaUZpbHRlcmVkQ2FyZHMoZmlsdGVyZWRDYXJkcyk7XG4gICAgICAgIFxuICAgICAgICBjb25zdCBhdmdTY29yZSA9IE1hdGgucm91bmQocmFua2VkUmVzdWx0cy5yZWR1Y2UoKHN1bSwgcikgPT4gc3VtICsgci5zY29yZSwgMCkgLyByYW5rZWRSZXN1bHRzLmxlbmd0aCk7XG4gICAgICAgIHRvYXN0LnN1Y2Nlc3MoYPCfjq8gRm91bmQgJHtmaWx0ZXJlZENhcmRzLmxlbmd0aH0gbWF0Y2hlcyBmb3IgXCIke3RlbXBsYXRlU2VhcmNoUXVlcnl9XCIhIEF2ZXJhZ2UgcmVsZXZhbmNlOiAke2F2Z1Njb3JlfSVgKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRvYXN0LmluZm8oXCLwn6SUIE5vIHRlbXBsYXRlcyBmb3VuZCBtYXRjaGluZyB5b3VyIHNlYXJjaC4gVHJ5IGEgZGlmZmVyZW50IHF1ZXJ5IVwiKTtcbiAgICAgICAgc2V0QWlGaWx0ZXJlZENhcmRzKFtdKTtcbiAgICAgIH1cbiAgICAgIFxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdBSSB0ZW1wbGF0ZSBzZWFyY2ggZmFpbGVkOicsIGVycm9yKTtcbiAgICAgIHRvYXN0LmVycm9yKFwiQUkgc2VhcmNoIGZhaWxlZC4gUGxlYXNlIHRyeSBhZ2Fpbi5cIik7XG4gICAgICBzZXRBaUZpbHRlcmVkQ2FyZHMoW10pO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBzZXRJc1NlYXJjaGluZ1RlbXBsYXRlcyhmYWxzZSk7XG4gICAgfVxuICB9O1xuXG4gIC8vIEh5YnJpZCBTZWFyY2ggRnVuY3Rpb24gKFRleHQgKyBBSSBFbmhhbmNlbWVudClcbiAgY29uc3QgaGFuZGxlSHlicmlkVGVtcGxhdGVTZWFyY2ggPSBhc3luYyAoKSA9PiB7XG4gICAgaWYgKCF0ZW1wbGF0ZVNlYXJjaFF1ZXJ5LnRyaW0oKSkge1xuICAgICAgdG9hc3QuZXJyb3IoXCJQbGVhc2UgZW50ZXIgYSBzZWFyY2ggcXVlcnkhXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHNldElzU2VhcmNoaW5nVGVtcGxhdGVzKHRydWUpO1xuICAgIFxuICAgIHRyeSB7XG4gICAgICAvLyBQaGFzZSAxOiBGYXN0IHRleHQgc2VhcmNoIGZvciBpbW1lZGlhdGUgcmVzdWx0c1xuICAgICAgdG9hc3QuaW5mbyhg8J+agCBQaGFzZSAxOiBGYXN0IHRleHQgc2VhcmNoLi4uYCk7XG4gICAgICBoYW5kbGVUZXh0VGVtcGxhdGVTZWFyY2goKTtcbiAgICAgIFxuICAgICAgLy8gUGhhc2UgMjogQUkgZW5oYW5jZW1lbnQgb24gdGV4dCByZXN1bHRzXG4gICAgICBjb25zdCBhbGxDYXJkcyA9IGdldENhY2hlZENhcmRzKDEsIE1hdGgubWF4KHRvdGFsQ2FyZHMsIDEwMDApKTtcbiAgICAgIGNvbnN0IHNlYXJjaFRlcm1zID0gdGVtcGxhdGVTZWFyY2hRdWVyeS50b0xvd2VyQ2FzZSgpLnNwbGl0KCcgJykuZmlsdGVyKHRlcm0gPT4gdGVybS5sZW5ndGggPiAxKTtcbiAgICAgIFxuICAgICAgLy8gR2V0IHRleHQtZmlsdGVyZWQgY2FyZHMgZm9yIEFJIGFuYWx5c2lzXG4gICAgICBjb25zdCB0ZXh0Q2FuZGlkYXRlcyA9IGFsbENhcmRzLmZpbHRlcihjYXJkID0+IHtcbiAgICAgICAgY29uc3QgY2FyZFRleHQgPSAoY2FyZC5wcm9tcHQgfHwgJycpLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIHJldHVybiBzZWFyY2hUZXJtcy5zb21lKHRlcm0gPT4gY2FyZFRleHQuaW5jbHVkZXModGVybSkpIHx8IHNlYXJjaFRlcm1zLmxlbmd0aCA9PT0gMDtcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICAvLyBJZiB0ZXh0IGZpbHRlcmluZyBnaXZlcyB1cyBhIHJlYXNvbmFibGUgc3Vic2V0LCB1c2UgaXQ7IG90aGVyd2lzZSB1c2UgYWxsIGNhcmRzXG4gICAgICBjb25zdCBjYXJkc1RvQW5hbHl6ZSA9IHRleHRDYW5kaWRhdGVzLmxlbmd0aCA+IDAgJiYgdGV4dENhbmRpZGF0ZXMubGVuZ3RoIDwgYWxsQ2FyZHMubGVuZ3RoICogMC44IFxuICAgICAgICA/IHRleHRDYW5kaWRhdGVzIFxuICAgICAgICA6IGFsbENhcmRzO1xuICAgICAgXG4gICAgICB0b2FzdC5pbmZvKGDwn46oIFBoYXNlIDI6IEFJIHZpc3VhbCBhbmFseXNpcyBvbiAke2NhcmRzVG9BbmFseXplLmxlbmd0aH0gY2FuZGlkYXRlcy4uLmApO1xuICAgICAgXG4gICAgICAgICAgICAgLy8gUnVuIEFJIGFuYWx5c2lzIG9uIHRoZSBjYW5kaWRhdGVzXG4gICAgICAgY29uc3QgYW5hbHlzaXNSZXN1bHRzID0gYXdhaXQgcGVyZm9ybUFJQW5hbHlzaXMoY2FyZHNUb0FuYWx5emUsIHRlbXBsYXRlU2VhcmNoUXVlcnkpO1xuICAgICAgXG4gICAgICAgICAgICAgLy8gQ29tYmluZSB0ZXh0IGFuZCBBSSBzY29yZXMgZm9yIGZpbmFsIHJhbmtpbmdcbiAgICAgICBjb25zdCBoeWJyaWRSZXN1bHRzID0gYW5hbHlzaXNSZXN1bHRzLm1hcCgocmVzdWx0OiBhbnkpID0+ICh7XG4gICAgICAgICAuLi5yZXN1bHQsXG4gICAgICAgICBoeWJyaWRTY29yZTogKHJlc3VsdC5zY29yZSAqIDAuNykgKyAoKHJlc3VsdC5jYXJkLnRleHRTY29yZSB8fCAwKSAqIDAuMykgLy8gNzAlIEFJLCAzMCUgdGV4dFxuICAgICAgIH0pKS5zb3J0KChhOiBhbnksIGI6IGFueSkgPT4gYi5oeWJyaWRTY29yZSAtIGEuaHlicmlkU2NvcmUpO1xuICAgICAgIFxuICAgICAgIGNvbnN0IGZpbmFsUmVzdWx0cyA9IGh5YnJpZFJlc3VsdHMuc2xpY2UoMCwgMTApLm1hcCgocmVzdWx0OiBhbnkpID0+ICh7XG4gICAgICAgICAuLi5yZXN1bHQuY2FyZCxcbiAgICAgICAgIGFpU2NvcmU6IE1hdGgucm91bmQocmVzdWx0Lmh5YnJpZFNjb3JlKSxcbiAgICAgICAgIGFpQW5hbHlzaXM6IGBIeWJyaWQ6ICR7cmVzdWx0LmFuYWx5c2lzfWBcbiAgICAgICB9KSk7XG4gICAgICAgXG4gICAgICAgc2V0QWlGaWx0ZXJlZENhcmRzKGZpbmFsUmVzdWx0cyk7XG4gICAgICAgXG4gICAgICAgaWYgKGZpbmFsUmVzdWx0cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICBjb25zdCBhdmdTY29yZSA9IE1hdGgucm91bmQoaHlicmlkUmVzdWx0cy5yZWR1Y2UoKHN1bTogbnVtYmVyLCByOiBhbnkpID0+IHN1bSArIHIuaHlicmlkU2NvcmUsIDApIC8gaHlicmlkUmVzdWx0cy5sZW5ndGgpO1xuICAgICAgICAgdG9hc3Quc3VjY2Vzcyhg8J+OryBIeWJyaWQgc2VhcmNoIGNvbXBsZXRlISBGb3VuZCAke2ZpbmFsUmVzdWx0cy5sZW5ndGh9IG1hdGNoZXMgZm9yIFwiJHt0ZW1wbGF0ZVNlYXJjaFF1ZXJ5fVwiISBBdmVyYWdlIHJlbGV2YW5jZTogJHthdmdTY29yZX0lYCk7XG4gICAgICAgfSBlbHNlIHtcbiAgICAgICAgIHRvYXN0LmluZm8oXCLwn6SUIE5vIHRlbXBsYXRlcyBmb3VuZCBtYXRjaGluZyB5b3VyIHNlYXJjaC4gVHJ5IGEgZGlmZmVyZW50IHF1ZXJ5IVwiKTtcbiAgICAgICB9XG4gICAgICBcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignSHlicmlkIHRlbXBsYXRlIHNlYXJjaCBmYWlsZWQ6JywgZXJyb3IpO1xuICAgICAgdG9hc3QuZXJyb3IoXCJIeWJyaWQgc2VhcmNoIGZhaWxlZC4gUGxlYXNlIHRyeSBhZ2Fpbi5cIik7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldElzU2VhcmNoaW5nVGVtcGxhdGVzKGZhbHNlKTtcbiAgICB9XG4gIH07XG5cbiAgLy8gTWFpbiBzZWFyY2ggaGFuZGxlciB0aGF0IHJvdXRlcyB0byBhcHByb3ByaWF0ZSBzZWFyY2ggbWV0aG9kXG4gIGNvbnN0IGhhbmRsZVRlbXBsYXRlU2VhcmNoID0gKCkgPT4ge1xuICAgIHN3aXRjaCAoc2VhcmNoTW9kZSkge1xuICAgICAgY2FzZSAndGV4dCc6XG4gICAgICAgIGhhbmRsZVRleHRUZW1wbGF0ZVNlYXJjaCgpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ2FpJzpcbiAgICAgICAgaGFuZGxlQUlUZW1wbGF0ZVNlYXJjaCgpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ2h5YnJpZCc6XG4gICAgICAgIGhhbmRsZUh5YnJpZFRlbXBsYXRlU2VhcmNoKCk7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBjbGVhclRlbXBsYXRlU2VhcmNoID0gKCkgPT4ge1xuICAgIHNldFRlbXBsYXRlU2VhcmNoUXVlcnkoXCJcIik7XG4gICAgc2V0QWlGaWx0ZXJlZENhcmRzKFtdKTtcbiAgICBzZXRUZXh0RmlsdGVyZWRDYXJkcyhbXSk7XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlQ29uZmlybVByaW50ID0gYXN5bmMgKCkgPT4ge1xuICAgIC8vIEFsd2F5cyB1c2UgdGhlIGNhcmQgZnJvbSB0aGUgcHJldmlldyBhcmVhXG4gICAgY29uc3QgY2FyZFRvUHJpbnQgPSBnZW5lcmF0ZWRDYXJkO1xuICAgIGlmICghY2FyZFRvUHJpbnQpIHtcbiAgICAgIHRvYXN0LmVycm9yKFwiTm8gY2FyZCBhdmFpbGFibGUgdG8gcHJpbnRcIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFxuICAgIC8vIFZhbGlkYXRlIGVtYWlsIGJlZm9yZSBwcm9jZWVkaW5nXG4gICAgaWYgKCF1c2VyRW1haWwudHJpbSgpKSB7XG4gICAgICB0b2FzdC5lcnJvcihcIlBsZWFzZSBlbnRlciB5b3VyIGVtYWlsIGFkZHJlc3MgYmVmb3JlIHByaW50aW5nXCIpO1xuICAgICAgc2V0U2hvd1ByaW50Q29uZmlybWF0aW9uKGZhbHNlKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgXG4gICAgc2V0U2hvd1ByaW50Q29uZmlybWF0aW9uKGZhbHNlKTtcbiAgICBcbiAgICAvLyBOb3RlOiBXZSBubyBsb25nZXIgdXNlIHNlbGVjdGVkVGVtcGxhdGUgZm9yIGRpcmVjdCBwcmludGluZ1xuICAgIFxuICAgIHRyeSB7XG4gICAgICAvLyBWYWxpZGF0ZSBjYXJkIGRhdGFcbiAgICAgIGlmICghY2FyZFRvUHJpbnQuZnJvbnRDb3Zlcikge1xuICAgICAgICB0b2FzdC5lcnJvcihcIkNhcmQgaXMgbWlzc2luZyBmcm9udCBjb3ZlciBpbWFnZS4gUGxlYXNlIHJlZ2VuZXJhdGUgdGhlIGNhcmQuXCIpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBcbiAgICAgIGlmICghY2FyZFRvUHJpbnQuYmFja0NvdmVyKSB7XG4gICAgICAgIHRvYXN0LmVycm9yKFwiQ2FyZCBpcyBtaXNzaW5nIGJhY2sgY292ZXIgaW1hZ2UuIFBsZWFzZSByZWdlbmVyYXRlIHRoZSBjYXJkLlwiKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgXG4gICAgICBpZiAoIWlzRnJvbnRCYWNrT25seSAmJiAoIWNhcmRUb1ByaW50LmxlZnRQYWdlIHx8ICFjYXJkVG9QcmludC5yaWdodFBhZ2UpKSB7XG4gICAgICAgIHRvYXN0LmVycm9yKFwiQ2FyZCBpcyBtaXNzaW5nIGludGVyaW9yIHBhZ2VzLiBQbGVhc2UgcmVnZW5lcmF0ZSB0aGUgY2FyZCBvciB1c2UgZnJvbnQtYmFjayBvbmx5IG1vZGUuXCIpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIFByZXBhcmUgY2FyZCBkYXRhIGZvciBib3RoIHByaW50aW5nIGFuZCBQREYgZW1haWxcbiAgICAgIGNvbnN0IGNhcmREYXRhID0ge1xuICAgICAgICBmcm9udF9jb3ZlcjogY2FyZFRvUHJpbnQuZnJvbnRDb3ZlcixcbiAgICAgICAgYmFja19jb3ZlcjogY2FyZFRvUHJpbnQuYmFja0NvdmVyLFxuICAgICAgICBsZWZ0X3BhZ2U6IGNhcmRUb1ByaW50LmxlZnRQYWdlLFxuICAgICAgICByaWdodF9wYWdlOiBjYXJkVG9QcmludC5yaWdodFBhZ2UsXG4gICAgICAgIGNhcmRfbmFtZTogKGNhcmRUb1ByaW50LnByb21wdCB8fCAnQ3VzdG9tIENhcmQnKS5zdWJzdHJpbmcoMCwgNTApICsgKChjYXJkVG9QcmludC5wcm9tcHQgfHwgJycpLmxlbmd0aCA+IDUwID8gJy4uLicgOiAnJyksXG4gICAgICAgIHBhcGVyX3NpemU6IHNlbGVjdGVkUGFwZXJTaXplLFxuICAgICAgICBpc19mcm9udF9iYWNrX29ubHk6IGlzRnJvbnRCYWNrT25seSxcbiAgICAgICAgY29waWVzOiAxLFxuICAgICAgICBjb2xvcl9tb2RlOiAnY29sb3InLFxuICAgICAgICBxdWFsaXR5OiAnaGlnaCdcbiAgICAgIH07XG5cbiAgICAgIGNvbnNvbGUubG9nKCdQcmludCBkYXRhOicsIHsgcHJpbnRPcHRpb24sIHVzZXJFbWFpbCwgY2FyZERhdGEgfSk7XG5cbiAgICAgIGlmIChwcmludE9wdGlvbiA9PT0gJ2VtYWlsJykge1xuICAgICAgICAvLyBTZW5kIFBERiB0byBlbWFpbFxuICAgICAgICBjb25zdCBlbWFpbERhdGEgPSB7XG4gICAgICAgICAgLi4uY2FyZERhdGEsXG4gICAgICAgICAgdXNlcl9lbWFpbDogdXNlckVtYWlsLnRyaW0oKSxcbiAgICAgICAgICBzZW5kX3BkZjogdHJ1ZVxuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnNvbGUubG9nKCdTZW5kaW5nIGVtYWlsIGRhdGE6JywgZW1haWxEYXRhKTtcblxuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCcvYXBpL3NlbmQtcGRmLWVtYWlsJywge1xuICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgfSxcbiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShlbWFpbERhdGEpLFxuICAgICAgICB9KTtcblxuICAgICAgICBjb25zb2xlLmxvZygnRW1haWwgcmVzcG9uc2Ugc3RhdHVzOicsIHJlc3BvbnNlLnN0YXR1cyk7XG5cbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgIGNvbnN0IGVycm9yVGV4dCA9IGF3YWl0IHJlc3BvbnNlLnRleHQoKTtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdFbWFpbCByZXNwb25zZSBlcnJvcjonLCBlcnJvclRleHQpO1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSFRUUCAke3Jlc3BvbnNlLnN0YXR1c306ICR7ZXJyb3JUZXh0fWApO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgICBjb25zb2xlLmxvZygnRW1haWwgcmVzcG9uc2UgcmVzdWx0OicsIHJlc3VsdCk7XG4gICAgICAgIFxuICAgICAgICBpZiAocmVzdWx0LnN0YXR1cyA9PT0gJ3N1Y2Nlc3MnKSB7XG4gICAgICAgICAgdG9hc3Quc3VjY2Vzcyhg8J+TpyBQREYgc2VudCB0byAke3VzZXJFbWFpbH0hIENoZWNrIHlvdXIgaW5ib3guYCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHJlc3VsdC5lcnJvciB8fCAnRmFpbGVkIHRvIHNlbmQgUERGJyk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIFBoeXNpY2FsIHByaW50aW5nXG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hcGkvcHJpbnQtcXVldWUnLCB7XG4gICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICB9LFxuICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGNhcmREYXRhKSxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSFRUUCAke3Jlc3BvbnNlLnN0YXR1c31gKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgXG4gICAgICAgIGlmIChyZXN1bHQuc3RhdHVzID09PSAncXVldWVkJykge1xuICAgICAgICAgIGNvbnN0IGNhcmRUeXBlID0gaXNGcm9udEJhY2tPbmx5ID8gJ0Zyb250L0JhY2sgY2FyZCcgOiAnRnVsbCBkdXBsZXggY2FyZCc7XG4gICAgICAgICAgY29uc3QgZHVwbGV4SW5mbyA9IHJlc3VsdC5kdXBsZXggPyAnIChkdXBsZXggZW5hYmxlZCknIDogJyAoc2luZ2xlLXNpZGVkKSc7XG4gICAgICAgICAgdG9hc3Quc3VjY2Vzcyhg8J+WqO+4jyBZb3VyIGNhcmQgaXMgbm93IHByaW50aW5nISBZb3UgY2FuIHBpY2sgaXQgdXAgc2hvcnRseS5gKTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBQb2xsIGZvciBqb2Igc3RhdHVzXG4gICAgICAgICAgbGV0IHBvbGxDb3VudCA9IDA7XG4gICAgICAgICAgY29uc3QgbWF4UG9sbHMgPSA2OyAvLyBQb2xsIGZvciB1cCB0byA2MCBzZWNvbmRzXG4gICAgICAgICAgXG4gICAgICAgICAgY29uc3QgcG9sbFN0YXR1cyA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIGNvbnN0IHN0YXR1c1Jlc3BvbnNlID0gYXdhaXQgZmV0Y2goYC9hcGkvcHJpbnQtc3RhdHVzLyR7cmVzdWx0LmpvYl9pZH1gKTtcbiAgICAgICAgICAgICAgaWYgKHN0YXR1c1Jlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3RhdHVzUmVzdWx0ID0gYXdhaXQgc3RhdHVzUmVzcG9uc2UuanNvbigpO1xuICAgICAgICAgICAgICAgIGlmIChzdGF0dXNSZXN1bHQuc3RhdHVzID09PSAnZm91bmQnKSB7XG4gICAgICAgICAgICAgICAgICBpZiAoc3RhdHVzUmVzdWx0LmpvYi5zdGF0dXMgPT09ICdjb21wbGV0ZWQnKSB7XG4gICAgICAgICAgICAgICAgICAgIHRvYXN0LnN1Y2Nlc3MoXCLinIUgWW91ciBjYXJkIGhhcyBiZWVuIGFkZGVkIHRvIHRoZSBwcmludCBxdWV1ZSBhbmQgc2hvdWxkIGJlIGF2YWlsYWJsZSBmb3IgcGlja3VwIHNob3J0bHkuXCIpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHN0YXR1c1Jlc3VsdC5qb2Iuc3RhdHVzID09PSAnZmFpbGVkJykge1xuICAgICAgICAgICAgICAgICAgICB0b2FzdC5lcnJvcihcIuKdjCBUaGVyZSB3YXMgYW4gaXNzdWUgd2l0aCBwcmludGluZy4gUGxlYXNlIHRyeSBhZ2FpbiBvciBjb250YWN0IHVzIGZvciBoZWxwLlwiKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChzdGF0dXNSZXN1bHQuam9iLnN0YXR1cyA9PT0gJ3BlbmRpbmcnICYmIHBvbGxDb3VudCA8IG1heFBvbGxzKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFN0aWxsIHBlbmRpbmcsIHBvbGwgYWdhaW5cbiAgICAgICAgICAgICAgICAgICAgcG9sbENvdW50Kys7XG4gICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQocG9sbFN0YXR1cywgMTAwMDApO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJDb3VsZCBub3QgY2hlY2sgcHJpbnQgc3RhdHVzOlwiLCBlcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBTdGFydCBwb2xsaW5nIGFmdGVyIDEwIHNlY29uZHNcbiAgICAgICAgICBzZXRUaW1lb3V0KHBvbGxTdGF0dXMsIDEwMDAwKTtcbiAgICAgICAgICBcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IocmVzdWx0LmVycm9yIHx8ICdVbmtub3duIGVycm9yJyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignUHJpbnQvRW1haWwgZXJyb3I6JywgZXJyb3IpO1xuICAgICAgdG9hc3QuZXJyb3IocHJpbnRPcHRpb24gPT09ICdlbWFpbCcgPyBcIkZhaWxlZCB0byBzZW5kIFBERiBlbWFpbFwiIDogXCJGYWlsZWQgdG8gcXVldWUgcHJpbnQgam9iXCIpO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwibWluLWgtc2NyZWVuIGJnLWdyYWRpZW50LXRvLWJyIGZyb20tc2xhdGUtNTAgdmlhLWJsdWUtNTAgdG8tY3lhbi01MCBkYXJrOmZyb20tZ3JheS05MDAgZGFyazp2aWEtc2xhdGUtODAwIGRhcms6dG8tZ3JheS04MDBcIj5cbiAgICAgIDxDcml0aWNhbFJlc291cmNlUHJlbG9hZGVyIC8+XG4gICAgICA8RWFybHlDYXJkUHJlbG9hZGVyIC8+XG4gICAgICB7LyogU2ltcGxpZmllZCBIZWFkZXIgKi99XG4gICAgICA8aGVhZGVyIGNsYXNzTmFtZT1cImJvcmRlci1iIGJnLXdoaXRlLzgwIGRhcms6YmctZ3JheS05MDAvODAgYmFja2Ryb3AtYmx1ci1zbSBzdGlja3kgdG9wLTAgei01MFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhaW5lciBteC1hdXRvIHB4LTQgcHktM1wiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIHNwYWNlLXgtM1wiPlxuICAgICAgICAgICAgICA8TGluayBocmVmPVwiL1wiPlxuICAgICAgICAgICAgICAgIDxCdXR0b24gdmFyaWFudD1cImdob3N0XCIgc2l6ZT1cInNtXCIgY2xhc3NOYW1lPVwiZ2FwLTJcIj5cbiAgICAgICAgICAgICAgICAgIDxBcnJvd0xlZnQgY2xhc3NOYW1lPVwidy00IGgtNFwiIC8+XG4gICAgICAgICAgICAgICAgICBCYWNrXG4gICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgIDwvTGluaz5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBzcGFjZS14LTJcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctOCBoLTggYmctZ3JhZGllbnQtdG8tYnIgZnJvbS1ibHVlLTUwMCB0by1jeWFuLTYwMCByb3VuZGVkLWxnIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICA8U3BhcmtsZXMgY2xhc3NOYW1lPVwidy01IGgtNSB0ZXh0LXdoaXRlXCIgLz5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgPGgxIGNsYXNzTmFtZT1cInRleHQtbGcgZm9udC1ib2xkIHRleHQtZ3JheS05MDAgZGFyazp0ZXh0LXdoaXRlXCI+XG4gICAgICAgICAgICAgICAgICAgIFZpYmVDYXJkaW5nXG4gICAgICAgICAgICAgICAgICA8L2gxPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPExpbmsgaHJlZj1cIi9nYWxsZXJ5XCI+XG4gICAgICAgICAgICAgICAgPEJ1dHRvbiB2YXJpYW50PVwiZ2hvc3RcIiBzaXplPVwic21cIiBjbGFzc05hbWU9XCJnYXAtMiB0ZXh0LWdyYXktNjAwIGhvdmVyOnRleHQtZ3JheS05MDAgZGFyazp0ZXh0LWdyYXktNDAwIGRhcms6aG92ZXI6dGV4dC1ncmF5LTEwMFwiPlxuICAgICAgICAgICAgICAgICAgPEV5ZSBjbGFzc05hbWU9XCJ3LTQgaC00XCIgLz5cbiAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImhpZGRlbiBzbTppbmxpbmVcIj5JbmZpbml0ZSBHYWxsZXJ5PC9zcGFuPlxuICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICA8L0xpbms+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIHsvKiBTZXR0aW5ncyBNZW51ICovfVxuICAgICAgICAgICAgPFBvcG92ZXIgb3Blbj17c2hvd1NldHRpbmdzfSBvbk9wZW5DaGFuZ2U9e3NldFNob3dTZXR0aW5nc30+XG4gICAgICAgICAgICAgIDxQb3BvdmVyVHJpZ2dlciBhc0NoaWxkPlxuICAgICAgICAgICAgICAgIDxCdXR0b24gdmFyaWFudD1cImdob3N0XCIgc2l6ZT1cInNtXCIgY2xhc3NOYW1lPVwiaC05IHctOSBwLTBcIj5cbiAgICAgICAgICAgICAgICAgIDxTZXR0aW5nczIgY2xhc3NOYW1lPVwiaC00IHctNFwiIC8+XG4gICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJzci1vbmx5XCI+U2V0dGluZ3M8L3NwYW4+XG4gICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgIDwvUG9wb3ZlclRyaWdnZXI+XG4gICAgICAgICAgICAgIDxQb3BvdmVyQ29udGVudCBjbGFzc05hbWU9XCJ3LTgwIHAtMFwiIGFsaWduPVwiZW5kXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwLTQgc3BhY2UteS00XCI+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktMlwiPlxuICAgICAgICAgICAgICAgICAgICA8aDQgY2xhc3NOYW1lPVwiZm9udC1tZWRpdW0gbGVhZGluZy1ub25lXCI+U2V0dGluZ3M8L2g0PlxuICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtbXV0ZWQtZm9yZWdyb3VuZFwiPlxuICAgICAgICAgICAgICAgICAgICAgIENvbmZpZ3VyZSB5b3VyIGNhcmQgY3JlYXRpb24gcHJlZmVyZW5jZXNcbiAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgIHsvKiBUaGVtZSBUb2dnbGUgKi99XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlblwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktMC41XCI+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXNtIGZvbnQtbWVkaXVtXCI+VGhlbWU8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1tdXRlZC1mb3JlZ3JvdW5kXCI+U3dpdGNoIGJldHdlZW4gbGlnaHQgYW5kIGRhcmsgbW9kZTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPE1vZGVUb2dnbGUgLz5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICA8U2VwYXJhdG9yIC8+XG4gICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgIHsvKiBBZHZhbmNlZCBPcHRpb25zIFRvZ2dsZSAqL31cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0zXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuXCI+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTAuNVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXNtIGZvbnQtbWVkaXVtXCI+QWR2YW5jZWQgT3B0aW9uczwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtbXV0ZWQtZm9yZWdyb3VuZFwiPlNob3cgYWRkaXRpb25hbCBjYXJkIHNldHRpbmdzPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyaWFudD1cIm91dGxpbmVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZT1cInNtXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldFNob3dBZHZhbmNlZCghc2hvd0FkdmFuY2VkKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImgtOFwiXG4gICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAge3Nob3dBZHZhbmNlZCA/IFwiSGlkZVwiIDogXCJTaG93XCJ9XG4gICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvUG9wb3ZlckNvbnRlbnQ+XG4gICAgICAgICAgICA8L1BvcG92ZXI+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9oZWFkZXI+XG5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyIG14LWF1dG8gcHgtNCBweS02IG1heC13LTJ4bFwiPlxuICAgICAgICB7LyogTWFpbiBGb3JtICovfVxuICAgICAgICA8Q2FyZCBjbGFzc05hbWU9XCJzaGFkb3ctbGcgbWItNlwiPlxuICAgICAgICAgICAgICA8Q2FyZEhlYWRlcj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlblwiPlxuICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgPENhcmRUaXRsZSBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxTcGFya2xlcyBjbGFzc05hbWU9XCJ3LTUgaC01IHRleHQtYmx1ZS02MDBcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgIENyZWF0ZSBZb3VyIENhcmRcbiAgICAgICAgICAgICAgICAgICAgPC9DYXJkVGl0bGU+XG4gICAgICAgICAgICAgICAgICAgIDxDYXJkRGVzY3JpcHRpb24gY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuXCI+XG4gICAgICAgICAgICAgICAgICAgICAgPHNwYW4+RGVzY3JpYmUgeW91ciBjYXJkIGFuZCB3ZSdsbCBjcmVhdGUgaXQgZm9yIHlvdTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXJpYW50PVwib3V0bGluZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICBzaXplPVwic21cIlxuICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRTaG93VGVtcGxhdGVHYWxsZXJ5KHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImdhcC0yIHRleHQteHNcIlxuICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxFeWUgY2xhc3NOYW1lPVwidy0zIGgtM1wiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICBVc2UgVGVtcGxhdGVcbiAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgPC9DYXJkRGVzY3JpcHRpb24+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIHsocHJvbXB0IHx8IHRvRmllbGQgfHwgZnJvbUZpZWxkIHx8IGdlbmVyYXRlZENhcmRzLmxlbmd0aCA+IDApICYmIChcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtZ3JlZW4tNjAwIGRhcms6dGV4dC1ncmVlbi00MDAgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTFcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8Q2xvY2sgY2xhc3NOYW1lPVwidy0zIGgtM1wiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgQXV0by1zYXZlZFxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvQ2FyZEhlYWRlcj5cbiAgICAgICAgICAgICAgPENhcmRDb250ZW50IGNsYXNzTmFtZT1cInNwYWNlLXktNlwiPlxuICAgICAgICAgICAgey8qIENhcmQgVHlwZSAqL31cbiAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cInRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1ncmF5LTcwMCBkYXJrOnRleHQtZ3JheS0zMDAgbWItMiBibG9ja1wiPlxuICAgICAgICAgICAgICAgICAgICBDYXJkIFR5cGVcbiAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICA8U2VsZWN0IHZhbHVlPXtzZWxlY3RlZFR5cGV9IG9uVmFsdWVDaGFuZ2U9e3NldFNlbGVjdGVkVHlwZX0+XG4gICAgICAgICAgICAgICAgICAgIDxTZWxlY3RUcmlnZ2VyPlxuICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3RWYWx1ZT5cbiAgICAgICAgICAgICAgICAgICAgICAgIHsoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzZWxlY3RlZCA9IGNhcmRUeXBlcy5maW5kKCh0eXBlKSA9PiB0eXBlLmlkID09PSBzZWxlY3RlZFR5cGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXNlbGVjdGVkKSByZXR1cm4gPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1ncmF5LTQwMFwiPkNob29zZSBjYXJkIHR5cGU8L3NwYW4+O1xuICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBJY29uQ29tcG9uZW50ID0gc2VsZWN0ZWQuaWNvbjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SWNvbkNvbXBvbmVudCBjbGFzc05hbWU9XCJ3LTQgaC00IHRleHQtZ3JheS01MDBcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZm9udC1tZWRpdW1cIj57c2VsZWN0ZWQubGFiZWx9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSkoKX1cbiAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdFZhbHVlPlxuICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdFRyaWdnZXI+XG4gICAgICAgICAgICAgICAgICAgIDxTZWxlY3RDb250ZW50PlxuICAgICAgICAgICAgICAgICAgICAgIHtjYXJkVHlwZXMubWFwKCh0eXBlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBJY29uQ29tcG9uZW50ID0gdHlwZS5pY29uO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdEl0ZW0ga2V5PXt0eXBlLmlkfSB2YWx1ZT17dHlwZS5pZH0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEljb25Db21wb25lbnQgY2xhc3NOYW1lPVwidy00IGgtNCB0ZXh0LWdyYXktNTAwXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZm9udC1tZWRpdW1cIj57dHlwZS5sYWJlbH08L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtbXV0ZWQtZm9yZWdyb3VuZFwiPnt0eXBlLmRlc2NyaXB0aW9ufTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0SXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Q29udGVudD5cbiAgICAgICAgICAgICAgICAgIDwvU2VsZWN0PlxuICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICB7LyogQ3VzdG9tIENhcmQgVHlwZSBJbnB1dCAqL31cbiAgICAgICAgICAgICAgICAgIHtzZWxlY3RlZFR5cGUgPT09IFwiY3VzdG9tXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwidGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWdyYXktNzAwIGRhcms6dGV4dC1ncmF5LTMwMCBtYi0yIGJsb2NrXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICBEZXNjcmliZSBZb3VyIENhcmQgVHlwZVxuICAgICAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIuKcqCBFLmcuLCAnUHJvbW90aW9uIGF0IHdvcmsnLCAnTW92aW5nIGF3YXknLCAnRmlyc3QgZGF5IG9mIHNjaG9vbCdcIlxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e2N1c3RvbUNhcmRUeXBlfVxuICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRDdXN0b21DYXJkVHlwZShlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBmb250U2l6ZTogJzE2cHgnIH19XG4gICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtZ3JheS01MDAgZGFyazp0ZXh0LWdyYXktNDAwIG10LTFcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIFdoYXQgdHlwZSBvZiBjYXJkIGlzIHRoaXM/IFRoaXMgaGVscHMgcGVyc29uYWxpemUgdGhlIG1lc3NhZ2UgYW5kIHN0eWxlLlxuICAgICAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICB7LyogQ2FyZCBUb25lICovfVxuICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cInRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1ncmF5LTcwMCBkYXJrOnRleHQtZ3JheS0zMDAgbWItMiBibG9ja1wiPlxuICAgICAgICAgICAgICAgIENhcmQgVG9uZSAmIFN0eWxlXG4gICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgIDxTZWxlY3QgdmFsdWU9e3NlbGVjdGVkVG9uZX0gb25WYWx1ZUNoYW5nZT17c2V0U2VsZWN0ZWRUb25lfT5cbiAgICAgICAgICAgICAgICA8U2VsZWN0VHJpZ2dlcj5cbiAgICAgICAgICAgICAgICAgIDxTZWxlY3RWYWx1ZT5cbiAgICAgICAgICAgICAgICAgICAgeygoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2VsZWN0ZWQgPSBjYXJkVG9uZXMuZmluZCgodG9uZSkgPT4gdG9uZS5pZCA9PT0gc2VsZWN0ZWRUb25lKTtcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoIXNlbGVjdGVkKSByZXR1cm4gPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1ncmF5LTQwMFwiPkNob29zZSBjYXJkIHRvbmU8L3NwYW4+O1xuICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImZvbnQtbWVkaXVtXCI+e3NlbGVjdGVkLmxhYmVsfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIH0pKCl9XG4gICAgICAgICAgICAgICAgICA8L1NlbGVjdFZhbHVlPlxuICAgICAgICAgICAgICAgIDwvU2VsZWN0VHJpZ2dlcj5cbiAgICAgICAgICAgICAgICA8U2VsZWN0Q29udGVudD5cbiAgICAgICAgICAgICAgICAgIHtjYXJkVG9uZXMubWFwKCh0b25lKSA9PiAoXG4gICAgICAgICAgICAgICAgICAgIDxTZWxlY3RJdGVtIGtleT17dG9uZS5pZH0gdmFsdWU9e3RvbmUuaWR9PlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvbnQtbWVkaXVtXCI+e3RvbmUubGFiZWx9PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1tdXRlZC1mb3JlZ3JvdW5kXCI+e3RvbmUuZGVzY3JpcHRpb259PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0SXRlbT5cbiAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgIDwvU2VsZWN0Q29udGVudD5cbiAgICAgICAgICAgICAgPC9TZWxlY3Q+XG4gICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgey8qIEFydGlzdGljIFN0eWxlIFNlbGVjdGlvbiAqL31cbiAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJ0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZ3JheS03MDAgZGFyazp0ZXh0LWdyYXktMzAwIG1iLTIgYmxvY2tcIj5cbiAgICAgICAgICAgICAgICBBcnRpc3RpYyBTdHlsZVxuICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICA8U2VsZWN0IHZhbHVlPXtzZWxlY3RlZEFydGlzdGljU3R5bGV9IG9uVmFsdWVDaGFuZ2U9e3NldFNlbGVjdGVkQXJ0aXN0aWNTdHlsZX0+XG4gICAgICAgICAgICAgICAgPFNlbGVjdFRyaWdnZXI+XG4gICAgICAgICAgICAgICAgICA8U2VsZWN0VmFsdWUgcGxhY2Vob2xkZXI9XCJDaG9vc2UgYXJ0aXN0aWMgc3R5bGVcIiAvPlxuICAgICAgICAgICAgICAgIDwvU2VsZWN0VHJpZ2dlcj5cbiAgICAgICAgICAgICAgICA8U2VsZWN0Q29udGVudD5cbiAgICAgICAgICAgICAgICAgIHthcnRpc3RpY1N0eWxlcy5tYXAoKHN0eWxlKSA9PiAoXG4gICAgICAgICAgICAgICAgICAgIDxTZWxlY3RJdGVtIGtleT17c3R5bGUuaWR9IHZhbHVlPXtzdHlsZS5pZH0+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWxlZnQgdy1mdWxsXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvbnQtbWVkaXVtXCI+e3N0eWxlLmxhYmVsfTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtbXV0ZWQtZm9yZWdyb3VuZFwiPntzdHlsZS5kZXNjcmlwdGlvbn08L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3RJdGVtPlxuICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgPC9TZWxlY3RDb250ZW50PlxuICAgICAgICAgICAgICA8L1NlbGVjdD5cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgey8qIEN1c3RvbSBTdHlsZSBEZXNjcmlwdGlvbiAqL31cbiAgICAgICAgICAgICAge3NlbGVjdGVkQXJ0aXN0aWNTdHlsZSA9PT0gXCJjdXN0b21cIiAmJiAoXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC0zXCI+XG4gICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwidGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWdyYXktNzAwIGRhcms6dGV4dC1ncmF5LTMwMCBtYi0yIGJsb2NrXCI+XG4gICAgICAgICAgICAgICAgICAgIERlc2NyaWJlIFlvdXIgQ3VzdG9tIFN0eWxlXG4gICAgICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgPFRleHRhcmVhXG4gICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiZS5nLiwgaW4gdmludGFnZSAxOTIwcyBhcnQgZGVjbyBzdHlsZSB3aXRoIGdvbGQgYWNjZW50cyBhbmQgZ2VvbWV0cmljIHBhdHRlcm5zLi4uXCJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU9e2N1c3RvbVN0eWxlRGVzY3JpcHRpb259XG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0Q3VzdG9tU3R5bGVEZXNjcmlwdGlvbihlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICAgICAgICAgIHJvd3M9ezN9XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInJlc2l6ZS1ub25lXCJcbiAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgZm9udFNpemU6ICcxNnB4JyB9fVxuICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1ncmF5LTUwMCBkYXJrOnRleHQtZ3JheS00MDAgbXQtMVwiPlxuICAgICAgICAgICAgICAgICAgICBEZXNjcmliZSB0aGUgYXJ0aXN0aWMgc3R5bGUgeW91IHdhbnQgZm9yIHlvdXIgY2FyZCAoY29sb3JzLCB0ZWNobmlxdWVzLCBlcmEsIG1vb2QsIGV0Yy4pXG4gICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgey8qIFRvL0Zyb20gRmllbGRzICovfVxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJncmlkIGdyaWQtY29scy0yIGdhcC0zXCI+XG4gICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJ0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZ3JheS03MDAgZGFyazp0ZXh0LWdyYXktMzAwIG1iLTIgYmxvY2tcIj5cbiAgICAgICAgICAgICAgICAgIFRvXG4gICAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCLwn46vIFRvXCJcbiAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17dG9GaWVsZH1cbiAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldFRvRmllbGQoZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IGZvbnRTaXplOiAnMTZweCcgfX1cbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwidGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWdyYXktNzAwIGRhcms6dGV4dC1ncmF5LTMwMCBtYi0yIGJsb2NrXCI+XG4gICAgICAgICAgICAgICAgICBGcm9tXG4gICAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCLwn5OdIEZyb21cIlxuICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXtmcm9tRmllbGR9XG4gICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRGcm9tRmllbGQoZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IGZvbnRTaXplOiAnMTZweCcgfX1cbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICB7LyogVXNlciBFbWFpbCBGaWVsZCAqL31cbiAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJ0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZ3JheS03MDAgZGFyazp0ZXh0LWdyYXktMzAwIG1iLTIgYmxvY2tcIj5cbiAgICAgICAgICAgICAgICBZb3VyIEVtYWlsIChSZXF1aXJlZClcbiAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgdHlwZT1cImVtYWlsXCJcbiAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIvCfk6cgeW91ci5lbWFpbEBleGFtcGxlLmNvbSAod2UnbGwgc2VuZCB5b3UgdGhlIGNhcmQhKVwiXG4gICAgICAgICAgICAgICAgcmVxdWlyZWRcbiAgICAgICAgICAgICAgICB2YWx1ZT17dXNlckVtYWlsfVxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0VXNlckVtYWlsKGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgICAgICBzdHlsZT17eyBmb250U2l6ZTogJzE2cHgnIH19XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1ncmF5LTUwMCBkYXJrOnRleHQtZ3JheS00MDAgbXQtMVwiPlxuICAgICAgICAgICAgICAgIFJlcXVpcmVkIHRvIGdlbmVyYXRlIHlvdXIgY2FyZC4gV2UnbGwgc2VuZCB5b3UgYSB0aGFuayB5b3Ugbm90ZSB3aGVuIGl0J3MgcmVhZHkhXG4gICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICB7LyogTWFpbiBEZXNjcmlwdGlvbiAqL31cbiAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gbWItMlwiPlxuICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwidGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWdyYXktNzAwIGRhcms6dGV4dC1ncmF5LTMwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgIERlc2NyaWJlIFlvdXIgQ2FyZCAoT3B0aW9uYWwpXG4gICAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICB2YXJpYW50PVwiZ2hvc3RcIlxuICAgICAgICAgICAgICAgICAgICAgIHNpemU9XCJzbVwiXG4gICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0SXNUZXh0YXJlYUV4cGFuZGVkKCFpc1RleHRhcmVhRXhwYW5kZWQpfVxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImdhcC0xIHRleHQteHMgdGV4dC1ncmF5LTUwMCBob3Zlcjp0ZXh0LWdyYXktNzAwIGRhcms6dGV4dC1ncmF5LTQwMCBkYXJrOmhvdmVyOnRleHQtZ3JheS0zMDBcIlxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAge2lzVGV4dGFyZWFFeHBhbmRlZCA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGV2cm9uRG93biBjbGFzc05hbWU9XCJ3LTMgaC0zXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgQ29sbGFwc2VcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hldnJvbkRvd24gY2xhc3NOYW1lPVwidy0zIGgtMyByb3RhdGUtMTgwXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgRXhwYW5kXG4gICAgICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8VGV4dGFyZWFcbiAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIvCfkqEgT3B0aW9uYWw6IEJlIHNwZWNpZmljISBFLmcuLCAnQmlydGhkYXkgY2FyZCB3aXRoIGN1dGUgY2F0cyBhbmQgcmFpbmJvdyBjb2xvcnMgZm9yIG15IHNpc3RlciB3aG8gbG92ZXMgYW5pbWUnIChvciBsZWF2ZSBibGFuayBmb3IgYSBiZWF1dGlmdWwgZGVmYXVsdCBkZXNpZ24pXCJcbiAgICAgICAgICAgICAgICB2YWx1ZT17cHJvbXB0fVxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0UHJvbXB0KGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgICAgICByb3dzPXtpc1RleHRhcmVhRXhwYW5kZWQgPyA4IDogNX1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2lzVGV4dGFyZWFFeHBhbmRlZCA/IFwicmVzaXplLXlcIiA6IFwicmVzaXplLW5vbmVcIn1cbiAgICAgICAgICAgICAgICBzdHlsZT17eyBmb250U2l6ZTogJzE2cHgnIH19XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1ncmF5LTUwMCBkYXJrOnRleHQtZ3JheS00MDAgbXQtMVwiPlxuICAgICAgICAgICAgICAgIPCfkqEgPHN0cm9uZz5UaXA6PC9zdHJvbmc+IEFkZCBkZXRhaWxzIGxpa2UgY29sb3JzLCBzdHlsZSwgcmVjaXBpZW50J3MgaW50ZXJlc3RzLCBhbmQgc3BlY2lmaWMgdGhlbWVzIGZvciBwZXJzb25hbGl6ZWQgcmVzdWx0cywgb3IgbGVhdmUgYmxhbmsgZm9yIGEgYmVhdXRpZnVsIGRlZmF1bHQgY2FyZCFcbiAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICB7LyogTWVzc2FnZSBTZWN0aW9uICovfVxuICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIG1iLTJcIj5cbiAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwidGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWdyYXktNzAwIGRhcms6dGV4dC1ncmF5LTMwMFwiPlxuICAgICAgICAgICAgICAgICAgQ2FyZCBNZXNzYWdlXG4gICAgICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cbiAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgdmFyaWFudD1cImdob3N0XCJcbiAgICAgICAgICAgICAgICAgICAgc2l6ZT1cInNtXCJcbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0SXNNZXNzYWdlRXhwYW5kZWQoIWlzTWVzc2FnZUV4cGFuZGVkKX1cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZ2FwLTEgdGV4dC14cyB0ZXh0LWdyYXktNTAwIGhvdmVyOnRleHQtZ3JheS03MDAgZGFyazp0ZXh0LWdyYXktNDAwIGRhcms6aG92ZXI6dGV4dC1ncmF5LTMwMFwiXG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIHtpc01lc3NhZ2VFeHBhbmRlZCA/IChcbiAgICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgICAgPENoZXZyb25Eb3duIGNsYXNzTmFtZT1cInctMyBoLTNcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgQ29sbGFwc2VcbiAgICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgICAgPENoZXZyb25Eb3duIGNsYXNzTmFtZT1cInctMyBoLTMgcm90YXRlLTE4MFwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICBFeHBhbmRcbiAgICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICB2YXJpYW50PVwiZ2hvc3RcIlxuICAgICAgICAgICAgICAgICAgICBzaXplPVwic21cIlxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVHZXRNZXNzYWdlSGVscH1cbiAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2lzR2VuZXJhdGluZ01lc3NhZ2UgfHwgaXNIYW5kd3JpdHRlbk1lc3NhZ2V9XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImdhcC0xIHRleHQteHNcIlxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8TWVzc2FnZVNxdWFyZVBsdXMgY2xhc3NOYW1lPVwidy0zIGgtM1wiIC8+XG4gICAgICAgICAgICAgICAgICAgIHtpc0dlbmVyYXRpbmdNZXNzYWdlID8gXCJXcml0aW5nLi4uXCIgOiBcIkhlbHAgbWUgd3JpdGVcIn1cbiAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDxUZXh0YXJlYVxuICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtpc0hhbmR3cml0dGVuTWVzc2FnZSA/IFwi4pyN77iPIExlYXZlIGJsYW5rIC0geW91J2xsIGhhbmR3cml0ZSB5b3VyIG1lc3NhZ2VcIiA6IFwi8J+SnSBZb3VyIHBlcnNvbmFsIG1lc3NhZ2UgaGVyZS4uLiAob3IgY2xpY2sgJ0hlbHAgbWUgd3JpdGUnIGZvciBBSSBhc3Npc3RhbmNlKVwifVxuICAgICAgICAgICAgICAgIHZhbHVlPXtmaW5hbENhcmRNZXNzYWdlfVxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0RmluYWxDYXJkTWVzc2FnZShlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICAgICAgICAgIHJvd3M9e2lzTWVzc2FnZUV4cGFuZGVkID8gOCA6IDV9XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17aXNNZXNzYWdlRXhwYW5kZWQgPyBcInJlc2l6ZS15XCIgOiBcInJlc2l6ZS1ub25lXCJ9XG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IGZvbnRTaXplOiAnMTZweCcgfX1cbiAgICAgICAgICAgICAgICBkaXNhYmxlZD17aXNIYW5kd3JpdHRlbk1lc3NhZ2V9XG4gICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICB7LyogTWVzc2FnZSBWZXJzaW9uIENvbnRyb2wgYW5kIFJlZmluZW1lbnQgKi99XG4gICAgICAgICAgICAgICAgICB7ZmluYWxDYXJkTWVzc2FnZS50cmltKCkgJiYgKFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTMgc3BhY2UteS0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgey8qIFZlcnNpb24gQ29udHJvbCBCdXR0b25zICovfVxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yIGZsZXgtd3JhcFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyaWFudD1cIm91dGxpbmVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU9XCJzbVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17dW5kb01lc3NhZ2V9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2N1cnJlbnRNZXNzYWdlSW5kZXggPD0gMH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJnYXAtMSB0ZXh0LXhzIGZsZXgtc2hyaW5rLTBcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFVuZG8yIGNsYXNzTmFtZT1cInctMyBoLTNcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImhpZGRlbiBzbTppbmxpbmVcIj5VbmRvPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhcmlhbnQ9XCJvdXRsaW5lXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplPVwic21cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3JlZG9NZXNzYWdlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtjdXJyZW50TWVzc2FnZUluZGV4ID49IG1lc3NhZ2VIaXN0b3J5Lmxlbmd0aCAtIDF9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZ2FwLTEgdGV4dC14cyBmbGV4LXNocmluay0wXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxSZWRvMiBjbGFzc05hbWU9XCJ3LTMgaC0zXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJoaWRkZW4gc206aW5saW5lXCI+UmVkbzwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXJpYW50PVwib3V0bGluZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZT1cInNtXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRTaG93UmVmaW5lbWVudEJveCghc2hvd1JlZmluZW1lbnRCb3gpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImdhcC0xIHRleHQteHMgZmxleC1zaHJpbmstMFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8UmVmcmVzaEN3IGNsYXNzTmFtZT1cInctMyBoLTNcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImhpZGRlbiBzbTppbmxpbmVcIj5SZWZpbmU8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwic206aGlkZGVuXCI+RWRpdDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHttZXNzYWdlSGlzdG9yeS5sZW5ndGggPiAwICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtZ3JheS01MDAgZGFyazp0ZXh0LWdyYXktNDAwIHRleHQtY2VudGVyIHNtOnRleHQtbGVmdCB0cnVuY2F0ZVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImhpZGRlbiBzbTppbmxpbmVcIj5WZXJzaW9uIHtjdXJyZW50TWVzc2FnZUluZGV4ICsgMX0gb2Yge21lc3NhZ2VIaXN0b3J5Lmxlbmd0aH08L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwic206aGlkZGVuXCI+e2N1cnJlbnRNZXNzYWdlSW5kZXggKyAxfS97bWVzc2FnZUhpc3RvcnkubGVuZ3RofTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgICAgICAgey8qIFJlZmluZW1lbnQgQm94ICovfVxuICAgICAgICAgICAgICAgICAgICAgIHtzaG93UmVmaW5lbWVudEJveCAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJvcmRlciByb3VuZGVkLWxnIHAtMyBiZy1ncmF5LTUwIGRhcms6YmctZ3JheS04MDAvNTBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cInRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1ncmF5LTcwMCBkYXJrOnRleHQtZ3JheS0zMDAgbWItMiBibG9ja1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEhvdyB3b3VsZCB5b3UgbGlrZSB0byByZWZpbmUgdGhpcyBtZXNzYWdlP1xuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCLwn5SnIEUuZy4sICdNYWtlIGl0IGZ1bm5pZXInLCAnQWRkIG1lbnRpb24gb2YgdGhlaXIgaG9iYnknLCAnTW9yZSBmb3JtYWwgdG9uZSdcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3JlZmluZW1lbnRQcm9tcHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldFJlZmluZW1lbnRQcm9tcHQoZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgZm9udFNpemU6ICcxNnB4JyB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25LZXlEb3duPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZS5rZXkgPT09ICdFbnRlcicgJiYgIWUuc2hpZnRLZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFuZGxlUmVmaW5lTWVzc2FnZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LWdyYXktNTAwIGRhcms6dGV4dC1ncmF5LTQwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg8J+TsSA8c3Ryb25nPlF1aWNrIHRpcHM6PC9zdHJvbmc+IFwiU2hvcnRlclwiLCBcIkFkZCBlbW9qaVwiLCBcIk1vcmUgcGVyc29uYWxcIiwgXCJEaWZmZXJlbnQgdG9uZVwiIHdvcmsgZ3JlYXQhXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZT1cInNtXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlUmVmaW5lTWVzc2FnZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2lzUmVmaW5pbmdNZXNzYWdlIHx8ICFyZWZpbmVtZW50UHJvbXB0LnRyaW0oKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZ2FwLTFcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8UmVmcmVzaEN3IGNsYXNzTmFtZT17YHctMyBoLTMgJHtpc1JlZmluaW5nTWVzc2FnZSA/ICdhbmltYXRlLXNwaW4nIDogJyd9YH0gLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2lzUmVmaW5pbmdNZXNzYWdlID8gXCJSZWZpbmluZy4uLlwiIDogXCJBcHBseSBDaGFuZ2VzXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyaWFudD1cImdob3N0XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZT1cInNtXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFNob3dSZWZpbmVtZW50Qm94KGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRSZWZpbmVtZW50UHJvbXB0KFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDYW5jZWxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgey8qIEhhbmR3cml0dGVuIE1lc3NhZ2UgT3B0aW9uICovfVxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBzcGFjZS14LTIgbXQtMlwiPlxuICAgICAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICAgIGlkPVwiaGFuZHdyaXR0ZW4tbWVzc2FnZVwiXG4gICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17aXNIYW5kd3JpdHRlbk1lc3NhZ2V9XG4gICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRJc0hhbmR3cml0dGVuTWVzc2FnZShlLnRhcmdldC5jaGVja2VkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLnRhcmdldC5jaGVja2VkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldEZpbmFsQ2FyZE1lc3NhZ2UoXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJyb3VuZGVkXCJcbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGh0bWxGb3I9XCJoYW5kd3JpdHRlbi1tZXNzYWdlXCIgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LWdyYXktNjAwIGRhcms6dGV4dC1ncmF5LTQwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgIExlYXZlIGJsYW5rIHNwYWNlIGZvciBoYW5kd3JpdHRlbiBtZXNzYWdlXG4gICAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgey8qIFJlZmVyZW5jZSBQaG90byAtIE9ubHkgYXZhaWxhYmxlIGZvciBHUFQtMSBtb2RlbCwgYnV0IHNob3cgaWYgcGhvdG9zIGV4aXN0ICovfVxuICAgICAgICAgICAgeyhzZWxlY3RlZEltYWdlTW9kZWwgPT09IFwiZ3B0LWltYWdlLTFcIiB8fCByZWZlcmVuY2VJbWFnZVVybHMubGVuZ3RoID4gMCkgJiYgKFxuICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJ0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZ3JheS03MDAgZGFyazp0ZXh0LWdyYXktMzAwIG1iLTIgYmxvY2tcIj5cbiAgICAgICAgICAgICAgICAgIFJlZmVyZW5jZSBQaG90b3MgKE9wdGlvbmFsKVxuICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgey8qIEFsd2F5cyBzaG93IGV4aXN0aW5nIHJlZmVyZW5jZSBwaG90b3MgaWYgdGhleSBleGlzdCAqL31cbiAgICAgICAgICAgICAgICB7cmVmZXJlbmNlSW1hZ2VVcmxzLmxlbmd0aCA+IDAgJiYgKFxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYi0zXCI+XG4gICAgICAgICAgICAgICAgICAgIHtzZWxlY3RlZEltYWdlTW9kZWwgIT09IFwiZ3B0LWltYWdlLTFcIiA/IChcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInAtMyBiZy1hbWJlci01MCBkYXJrOmJnLWFtYmVyLTkwMC8yMCBib3JkZXIgYm9yZGVyLWFtYmVyLTIwMCBkYXJrOmJvcmRlci1hbWJlci04MDAgcm91bmRlZC1sZyBtYi0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtc3RhcnQgZ2FwLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTUgaC01IGJnLWFtYmVyLTUwMCByb3VuZGVkLWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgZmxleC1zaHJpbmstMCBtdC0wLjVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXdoaXRlIHRleHQteHNcIj4hPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtYW1iZXItODAwIGRhcms6dGV4dC1hbWJlci0yMDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJmb250LW1lZGl1bSBtYi0xXCI+UmVmZXJlbmNlIHBob3RvcyBkZXRlY3RlZCBidXQgbm90IHN1cHBvcnRlZDwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXhzXCI+WW91IGhhdmUge3JlZmVyZW5jZUltYWdlVXJscy5sZW5ndGh9IHJlZmVyZW5jZSBwaG90b3tyZWZlcmVuY2VJbWFnZVVybHMubGVuZ3RoID4gMSA/ICdzJyA6ICcnfSBmcm9tIGEgcHJldmlvdXMgc2Vzc2lvbiwgYnV0IHlvdXIgY3VycmVudCBtb2RlbCAoe2ltYWdlTW9kZWxzLmZpbmQobSA9PiBtLmlkID09PSBzZWxlY3RlZEltYWdlTW9kZWwpPy5sYWJlbH0pIGRvZXNuJ3Qgc3VwcG9ydCByZWZlcmVuY2UgcGhvdG9zLiBTd2l0Y2ggdG8gR1BUIEltYWdlIDEgdG8gdXNlIHRoZW0sIG9yIHJlbW92ZSB0aGVtIGJlbG93LjwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1iLTMgcC0zIGJnLWdyZWVuLTUwIGRhcms6YmctZ3JlZW4tOTAwLzIwIGJvcmRlciBib3JkZXItZ3JlZW4tMjAwIGRhcms6Ym9yZGVyLWdyZWVuLTgwMCByb3VuZGVkLWxnXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtc3RhcnQgZ2FwLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTUgaC01IGJnLWdyZWVuLTUwMCByb3VuZGVkLWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgZmxleC1zaHJpbmstMCBtdC0wLjVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXdoaXRlIHRleHQteHNcIj7inJM8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1ncmVlbi04MDAgZGFyazp0ZXh0LWdyZWVuLTIwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cImZvbnQtbWVkaXVtIG1iLTFcIj5SZWZlcmVuY2UgcGhvdG9zIHJlYWR5PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQteHNcIj57cmVmZXJlbmNlSW1hZ2VVcmxzLmxlbmd0aH0gcmVmZXJlbmNlIHBob3Rve3JlZmVyZW5jZUltYWdlVXJscy5sZW5ndGggPiAxID8gJ3MnIDogJyd9IHdpbGwgYmUgdXNlZCB0byBjcmVhdGUgY2FydG9vbiBjaGFyYWN0ZXJzIHRoYXQgbG9vayBsaWtlIHRoZSBwZW9wbGUgaW4geW91ciBwaG90b3MuPC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgey8qIERpc3BsYXkgZXhpc3RpbmcgcmVmZXJlbmNlIHBob3RvcyBwcm9taW5lbnRseSAqL31cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTIgbWItM1wiPlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1ncmF5LTcwMCBkYXJrOnRleHQtZ3JheS0zMDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAg8J+TuCBZb3VyIFJlZmVyZW5jZSBQaG90b3MgKHtyZWZlcmVuY2VJbWFnZVVybHMubGVuZ3RofSlcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICB2YXJpYW50PVwib3V0bGluZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU9XCJzbVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRSZWZlcmVuY2VJbWFnZXMoW10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFJlZmVyZW5jZUltYWdlVXJscyhbXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3Quc3VjY2VzcyhcIkFsbCByZWZlcmVuY2UgcGhvdG9zIHJlbW92ZWQhXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJoLTcgdGV4dC14cyBnYXAtMSB0ZXh0LXJlZC02MDAgaG92ZXI6dGV4dC1yZWQtNzAwIGhvdmVyOmJnLXJlZC01MCBkYXJrOmhvdmVyOmJnLXJlZC05MDAvMjBcIlxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8WCBjbGFzc05hbWU9XCJ3LTMgaC0zXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgUmVtb3ZlIEFsbFxuICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJncmlkIGdyaWQtY29scy0yIGdhcC0yIHAtMyBiZy1ncmF5LTUwIGRhcms6YmctZ3JheS04MDAgcm91bmRlZC1sZyBib3JkZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtyZWZlcmVuY2VJbWFnZVVybHMubWFwKCh1cmwsIGluZGV4KSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYga2V5PXtpbmRleH0gY2xhc3NOYW1lPVwicmVsYXRpdmUgZ3JvdXBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW1nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcmM9e3VybH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsdD17YFJlZmVyZW5jZSBwaG90byAke2luZGV4ICsgMX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIGFzcGVjdC1zcXVhcmUgb2JqZWN0LWNvdmVyIHJvdW5kZWQgYm9yZGVyXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhcmlhbnQ9XCJkZXN0cnVjdGl2ZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplPVwic21cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gaGFuZGxlUmVtb3ZlUmVmZXJlbmNlSW1hZ2UoaW5kZXgpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYWJzb2x1dGUgdG9wLTEgcmlnaHQtMSBoLTYgdy02IHAtMCBvcGFjaXR5LTAgZ3JvdXAtaG92ZXI6b3BhY2l0eS0xMDAgdHJhbnNpdGlvbi1vcGFjaXR5XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8WCBjbGFzc05hbWU9XCJ3LTMgaC0zXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIGJvdHRvbS0xIGxlZnQtMSBiZy1ibGFjay83MCB0ZXh0LXdoaXRlIHRleHQteHMgcHgtMSByb3VuZGVkXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQaG90byB7aW5kZXggKyAxfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAge3NlbGVjdGVkSW1hZ2VNb2RlbCA9PT0gXCJncHQtaW1hZ2UtMVwiICYmIChcbiAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1ncmF5LTUwMCBkYXJrOnRleHQtZ3JheS00MDAgbWItM1wiPlxuICAgICAgICAgICAgICAgICAgICAgIFVwbG9hZCBwaG90b3MgdG8gY3JlYXRlIGNhcnRvb24gY2hhcmFjdGVycyB0aGF0IGxvb2sgbGlrZSB0aGUgcGVvcGxlIGluIHlvdXIgcGhvdG9zISBQZXJmZWN0IGZvciBpbmNsdWRpbmcgbXVsdGlwbGUgcGVvcGxlIC0gdXBsb2FkIG9uZSBwaG90byBvZiB5b3Vyc2VsZiBhbmQgYW5vdGhlciBvZiBhIGZyaWVuZCB0byBjcmVhdGUgY2FyZHMgZmVhdHVyaW5nIGJvdGggb2YgeW91LiAoT25seSBhdmFpbGFibGUgd2l0aCBHUFQgSW1hZ2UgMSBtb2RlbClcbiAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtZ3JheS00MDAgZGFyazp0ZXh0LWdyYXktNTAwIG1iLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICDinKggRm9yIHlvdXIgcHJpdmFjeSwgcGhvdG9zIGFyZSB0dXJuZWQgaW50byBjYXJ0b29uL2lsbHVzdHJhdGVkIGNoYXJhY3RlcnMgLSBub3QgcmVhbGlzdGljIGRlcGljdGlvbnNcbiAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTNcIj5cbiAgICAgICAgICAgICAgICB7LyogVXBsb2FkIEFyZWEgLSBPbmx5IHNob3cgaWYgbW9kZWwgc3VwcG9ydHMgaXQgKi99XG4gICAgICAgICAgICAgICAge3NlbGVjdGVkSW1hZ2VNb2RlbCA9PT0gXCJncHQtaW1hZ2UtMVwiICYmIChcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYm9yZGVyLTIgYm9yZGVyLWRhc2hlZCBib3JkZXItZ3JheS0zMDAgZGFyazpib3JkZXItZ3JheS02MDAgcm91bmRlZC1sZyBwLTQgdGV4dC1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICAgICAgdHlwZT1cImZpbGVcIlxuICAgICAgICAgICAgICAgICAgICAgIGFjY2VwdD1cImltYWdlLypcIlxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gZS50YXJnZXQuZmlsZXM/LlswXSAmJiBoYW5kbGVGaWxlVXBsb2FkKGUudGFyZ2V0LmZpbGVzWzBdLCAncmVmZXJlbmNlJyl9XG4gICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2lzVXBsb2FkaW5nfVxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImhpZGRlblwiXG4gICAgICAgICAgICAgICAgICAgICAgaWQ9XCJyZWZlcmVuY2UtdXBsb2FkXCJcbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGh0bWxGb3I9XCJyZWZlcmVuY2UtdXBsb2FkXCIgY2xhc3NOYW1lPVwiY3Vyc29yLXBvaW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8V2FuZDIgY2xhc3NOYW1lPVwidy02IGgtNiBteC1hdXRvIG1iLTIgdGV4dC1ncmF5LTQwMFwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtZ3JheS02MDAgZGFyazp0ZXh0LWdyYXktNDAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICB7aXNVcGxvYWRpbmcgPyBcIlVwbG9hZGluZy4uLlwiIDogYFVwbG9hZCAke3JlZmVyZW5jZUltYWdlcy5sZW5ndGggPiAwID8gJ2Fub3RoZXInIDogJ2EnfSBwaG90byB0byBjcmVhdGUgY2hhcmFjdGVyc2B9XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICApfVxuXG4gICAgICAgICAgICAgICAgey8qIERpc3BsYXkgdXBsb2FkZWQgaW1hZ2VzICovfVxuICAgICAgICAgICAgICAgIHtyZWZlcmVuY2VJbWFnZXMubGVuZ3RoID4gMCAmJiAoXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktMlwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlblwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LWdyYXktNTAwIGRhcms6dGV4dC1ncmF5LTQwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAge3JlZmVyZW5jZUltYWdlcy5sZW5ndGh9IHBob3Rve3JlZmVyZW5jZUltYWdlcy5sZW5ndGggPiAxID8gJ3MnIDogJyd9IHVwbG9hZGVkOlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIHtzZWxlY3RlZEltYWdlTW9kZWwgIT09IFwiZ3B0LWltYWdlLTFcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHZhcmlhbnQ9XCJvdXRsaW5lXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZT1cInNtXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFJlZmVyZW5jZUltYWdlcyhbXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0UmVmZXJlbmNlSW1hZ2VVcmxzKFtdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdC5zdWNjZXNzKFwiQWxsIHJlZmVyZW5jZSBwaG90b3MgcmVtb3ZlZCFcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImgtNiB0ZXh0LXhzIGdhcC0xIHRleHQtcmVkLTYwMCBob3Zlcjp0ZXh0LXJlZC03MDAgaG92ZXI6YmctcmVkLTUwIGRhcms6aG92ZXI6YmctcmVkLTkwMC8yMFwiXG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxYIGNsYXNzTmFtZT1cInctMyBoLTNcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICBDbGVhciBBbGxcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICB7cmVmZXJlbmNlSW1hZ2VzLm1hcCgoaW1hZ2UsIGluZGV4KSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBrZXk9e2luZGV4fSBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gcC0zIGJnLXB1cnBsZS01MCBkYXJrOmJnLXB1cnBsZS05MDAvMjAgcm91bmRlZC1sZ1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8V2FuZDIgY2xhc3NOYW1lPVwidy00IGgtNCB0ZXh0LXB1cnBsZS02MDBcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtcHVycGxlLTgwMCBkYXJrOnRleHQtcHVycGxlLTIwMFwiPntpbWFnZS5uYW1lfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICB2YXJpYW50PVwiZ2hvc3RcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplPVwic21cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBoYW5kbGVSZW1vdmVSZWZlcmVuY2VJbWFnZShpbmRleCl9XG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxYIGNsYXNzTmFtZT1cInctNCBoLTRcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgKX1cblxuICAgICAgICAgICAgICAgIHsvKiBDaGFyYWN0ZXIgc3R5bGUgaW5zdHJ1Y3Rpb25zIC0gT25seSBzaG93IGlmIG1vZGVsIHN1cHBvcnRzIGl0ICovfVxuICAgICAgICAgICAgICAgIHtyZWZlcmVuY2VJbWFnZXMubGVuZ3RoID4gMCAmJiBzZWxlY3RlZEltYWdlTW9kZWwgPT09IFwiZ3B0LWltYWdlLTFcIiAmJiAoXG4gICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICA8VGV4dGFyZWFcbiAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIkNoYXJhY3RlciBzdHlsZSBpbnN0cnVjdGlvbnMgKG9wdGlvbmFsKTogZS5nLiwgJ01ha2UgdXMgbG9vayBsaWtlIGFuaW1lIGNoYXJhY3RlcnMnLCAnS2VlcCBvdXIgZXhhY3Qgb3V0Zml0cyBhbmQgYWNjZXNzb3JpZXMgYnV0IGluIHdhdGVyY29sb3Igc3R5bGUnLCBvciAnU2hvdyBib3RoIHBlb3BsZSB0b2dldGhlciBpbiB0aGUgc2FtZSBzY2VuZSdcIlxuICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXtpbWFnZVRyYW5zZm9ybWF0aW9ufVxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0SW1hZ2VUcmFuc2Zvcm1hdGlvbihlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICAgICAgICAgICAgcm93cz17M31cbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJyZXNpemUtbm9uZVwiXG4gICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgZm9udFNpemU6ICcxNnB4JyB9fVxuICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtZ3JheS01MDAgZGFyazp0ZXh0LWdyYXktNDAwIG10LTFcIj5cbiAgICAgICAgICAgICAgICAgICAgICDwn5KhIDxzdHJvbmc+VGlwOjwvc3Ryb25nPiBMZWF2ZSBibGFuayB0byBrZWVwIGV4YWN0IGNsb3RoaW5nICYgYWNjZXNzb3JpZXMsIG9yIHNwZWNpZnkgc3R5bGUgY2hhbmdlcyBsaWtlIFwiYW5pbWUgc3R5bGVcIiBvciBcInZpbnRhZ2UgY2FydG9vbiBsb29rXCJcbiAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKX1cblxuICAgICAgICAgICAgey8qIEFkdmFuY2VkIE9wdGlvbnMgLSBDb250cm9sbGVkIGJ5IFNldHRpbmdzIE1lbnUgKi99XG4gICAgICAgICAgICB7c2hvd0FkdmFuY2VkICYmIChcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTQgcC00IGJvcmRlciByb3VuZGVkLWxnIGJnLWdyYXktNTAgZGFyazpiZy1ncmF5LTgwMC81MFwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgbWItNFwiPlxuICAgICAgICAgICAgICAgICAgPFNldHRpbmdzIGNsYXNzTmFtZT1cInctNCBoLTRcIiAvPlxuICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWdyYXktNzAwIGRhcms6dGV4dC1ncmF5LTMwMFwiPkFkdmFuY2VkIE9wdGlvbnM8L3NwYW4+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICB7LyogSW1hZ2UgTW9kZWwgU2VsZWN0aW9uICovfVxuICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwidGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWdyYXktNzAwIGRhcms6dGV4dC1ncmF5LTMwMCBtYi0yIGJsb2NrXCI+XG4gICAgICAgICAgICAgICAgICAgIEltYWdlIEdlbmVyYXRpb24gTW9kZWxcbiAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICA8U2VsZWN0IHZhbHVlPXtzZWxlY3RlZEltYWdlTW9kZWx9IG9uVmFsdWVDaGFuZ2U9e3NldFNlbGVjdGVkSW1hZ2VNb2RlbH0+XG4gICAgICAgICAgICAgICAgICAgIDxTZWxlY3RUcmlnZ2VyPlxuICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3RWYWx1ZSBwbGFjZWhvbGRlcj1cIkNob29zZSBpbWFnZSBtb2RlbFwiIC8+XG4gICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0VHJpZ2dlcj5cbiAgICAgICAgICAgICAgICAgICAgPFNlbGVjdENvbnRlbnQ+XG4gICAgICAgICAgICAgICAgICAgICAge2ltYWdlTW9kZWxzLm1hcCgobW9kZWwpID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3RJdGVtIGtleT17bW9kZWwuaWR9IHZhbHVlPXttb2RlbC5pZH0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmb250LW1lZGl1bVwiPnttb2RlbC5sYWJlbH08L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1tdXRlZC1mb3JlZ3JvdW5kXCI+e21vZGVsLmRlc2NyaXB0aW9ufTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0SXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3RDb250ZW50PlxuICAgICAgICAgICAgICAgICAgPC9TZWxlY3Q+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsvKiBEcmFmdCBNb2RlIE1vZGVsIFNlbGVjdGlvbiAqL31cbiAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwidGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWdyYXktNzAwIGRhcms6dGV4dC1ncmF5LTMwMCBtYi0yIGJsb2NrXCI+XG4gICAgICAgICAgICAgICAgICAgICBEcmFmdCBNb2RlIE1vZGVsXG4gICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgICA8U2VsZWN0IHZhbHVlPXtzZWxlY3RlZERyYWZ0TW9kZWx9IG9uVmFsdWVDaGFuZ2U9e3NldFNlbGVjdGVkRHJhZnRNb2RlbH0+XG4gICAgICAgICAgICAgICAgICAgICA8U2VsZWN0VHJpZ2dlcj5cbiAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdFZhbHVlIHBsYWNlaG9sZGVyPVwiQ2hvb3NlIGRyYWZ0IG1vZGVsXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0VHJpZ2dlcj5cbiAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3RDb250ZW50PlxuICAgICAgICAgICAgICAgICAgICAgICB7aW1hZ2VNb2RlbHMubWFwKChtb2RlbCkgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3RJdGVtIGtleT17bW9kZWwuaWR9IHZhbHVlPXttb2RlbC5pZH0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvbnQtbWVkaXVtXCI+e21vZGVsLmxhYmVsfTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1tdXRlZC1mb3JlZ3JvdW5kXCI+e21vZGVsLmRlc2NyaXB0aW9ufTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3RJdGVtPlxuICAgICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Q29udGVudD5cbiAgICAgICAgICAgICAgICAgICA8L1NlbGVjdD5cbiAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtZ3JheS01MDAgZGFyazp0ZXh0LWdyYXktNDAwIG10LTFcIj5cbiAgICAgICAgICAgICAgICAgICAgIE1vZGVsIHVzZWQgZm9yIGRyYWZ0IHZhcmlhdGlvbnMuIENvbnNpZGVyIGZhc3RlciBtb2RlbHMgbGlrZSBGTFVYIDEuMSBQcm8gZm9yIHF1aWNrZXIgcHJldmlld3MuXG4gICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgIHsvKiBQYXBlciBTaXplIFNlbGVjdGlvbiAqL31cbiAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cInRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1ncmF5LTcwMCBkYXJrOnRleHQtZ3JheS0zMDAgbWItMiBibG9ja1wiPlxuICAgICAgICAgICAgICAgICAgICBQYXBlciBTaXplXG4gICAgICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgPFNlbGVjdCB2YWx1ZT17c2VsZWN0ZWRQYXBlclNpemV9IG9uVmFsdWVDaGFuZ2U9e3NldFNlbGVjdGVkUGFwZXJTaXplfT5cbiAgICAgICAgICAgICAgICAgICAgPFNlbGVjdFRyaWdnZXI+XG4gICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdFZhbHVlIHBsYWNlaG9sZGVyPVwiQ2hvb3NlIHBhcGVyIHNpemVcIiAvPlxuICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdFRyaWdnZXI+XG4gICAgICAgICAgICAgICAgICAgIDxTZWxlY3RDb250ZW50PlxuICAgICAgICAgICAgICAgICAgICAgIHtwYXBlclNpemVzLm1hcCgoc2l6ZSkgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdEl0ZW0ga2V5PXtzaXplLmlkfSB2YWx1ZT17c2l6ZS5pZH0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmb250LW1lZGl1bVwiPntzaXplLmxhYmVsfTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LW11dGVkLWZvcmVncm91bmRcIj57c2l6ZS5kZXNjcmlwdGlvbn08L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdEl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Q29udGVudD5cbiAgICAgICAgICAgICAgICAgIDwvU2VsZWN0PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgey8qIE51bWJlciBvZiBDYXJkcyAqL31cbiAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cInRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1ncmF5LTcwMCBkYXJrOnRleHQtZ3JheS0zMDAgbWItMiBibG9ja1wiPlxuICAgICAgICAgICAgICAgICAgICBOdW1iZXIgb2YgQ2FyZHMgdG8gR2VuZXJhdGVcbiAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICA8U2VsZWN0IHZhbHVlPXtudW1iZXJPZkNhcmRzLnRvU3RyaW5nKCl9IG9uVmFsdWVDaGFuZ2U9eyh2YWx1ZSkgPT4gc2V0TnVtYmVyT2ZDYXJkcyhwYXJzZUludCh2YWx1ZSkpfT5cbiAgICAgICAgICAgICAgICAgICAgPFNlbGVjdFRyaWdnZXI+XG4gICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdFZhbHVlIHBsYWNlaG9sZGVyPVwiQ2hvb3NlIG51bWJlciBvZiBjYXJkc1wiIC8+XG4gICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0VHJpZ2dlcj5cbiAgICAgICAgICAgICAgICAgICAgPFNlbGVjdENvbnRlbnQ+XG4gICAgICAgICAgICAgICAgICAgICAge1sxLCAyLCAzLCA0LCA1XS5tYXAoKG51bSkgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdEl0ZW0ga2V5PXtudW19IHZhbHVlPXtudW0udG9TdHJpbmcoKX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtudW19IENhcmR7bnVtID4gMSA/ICdzJyA6ICcnfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3RJdGVtPlxuICAgICAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdENvbnRlbnQ+XG4gICAgICAgICAgICAgICAgICA8L1NlbGVjdD5cbiAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1ncmF5LTUwMCBkYXJrOnRleHQtZ3JheS00MDAgbXQtMVwiPlxuICAgICAgICAgICAgICAgICAgICBHZW5lcmF0ZSBtdWx0aXBsZSBjYXJkIHZhcmlhdGlvbnMgdG8gY2hvb3NlIGZyb21cbiAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgIHsvKiBQcmludCBPcHRpb25zICovfVxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0zXCI+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIHNwYWNlLXgtMlwiPlxuICAgICAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICAgIGlkPVwiZnJvbnQtYmFjay1vbmx5XCJcbiAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtpc0Zyb250QmFja09ubHl9XG4gICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRJc0Zyb250QmFja09ubHkoZS50YXJnZXQuY2hlY2tlZCl9XG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicm91bmRlZFwiXG4gICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgIDxsYWJlbCBodG1sRm9yPVwiZnJvbnQtYmFjay1vbmx5XCIgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LWdyYXktNzAwIGRhcms6dGV4dC1ncmF5LTMwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgIEZyb250IGFuZCBiYWNrIG9ubHkgKG5vIGludGVyaW9yIHBhZ2VzKVxuICAgICAgICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtZ3JheS01MDAgZGFyazp0ZXh0LWdyYXktNDAwXCI+XG4gICAgICAgICAgICAgICAgICAgIFBlcmZlY3QgZm9yIHBvc3RjYXJkcyBvciBzaW1wbGUgZ3JlZXRpbmcgY2FyZHNcbiAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgIHsvKiBDbGVhciBTYXZlZCBEYXRhIFNlY3Rpb24gKi99XG4gICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJ0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZ3JheS03MDAgZGFyazp0ZXh0LWdyYXktMzAwIG1iLTIgYmxvY2tcIj5cbiAgICAgICAgICAgICAgICAgICAgRGF0YSBNYW5hZ2VtZW50XG4gICAgICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICB2YXJpYW50PVwib3V0bGluZVwiXG4gICAgICAgICAgICAgICAgICAgIHNpemU9XCJzbVwiXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2NsZWFyU2F2ZWREYXRhfVxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgZ2FwLTIgdGV4dC1yZWQtNjAwIGhvdmVyOnRleHQtcmVkLTcwMCBob3ZlcjpiZy1yZWQtNTAgZGFyazpob3ZlcjpiZy1yZWQtOTAwLzIwXCJcbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPFggY2xhc3NOYW1lPVwidy00IGgtNFwiIC8+XG4gICAgICAgICAgICAgICAgICAgIENsZWFyIFNhdmVkIERhdGFcbiAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LWdyYXktNTAwIGRhcms6dGV4dC1ncmF5LTQwMCBtdC0xXCI+XG4gICAgICAgICAgICAgICAgICAgIFJlbW92ZSBhbGwgc2F2ZWQgZm9ybSBkYXRhIGFuZCBnZW5lcmF0ZWQgY2FyZHMgZnJvbSB5b3VyIGJyb3dzZXJcbiAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApfVxuXG4gICAgICAgICAgICAgICAgey8qIFByaXZhY3kgJiBUZXJtcyBTZWN0aW9uICovfVxuICAgICAgICAgICAgICAgIDxDb2xsYXBzaWJsZSBjbGFzc05hbWU9XCJzcGFjZS15LTJcIj5cbiAgICAgICAgICAgICAgICAgIDxDb2xsYXBzaWJsZVRyaWdnZXIgYXNDaGlsZD5cbiAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiB2YXJpYW50PVwiZ2hvc3RcIiBjbGFzc05hbWU9XCJ3LWZ1bGwganVzdGlmeS1iZXR3ZWVuIHRleHQteHMgdGV4dC1ncmF5LTUwMCBkYXJrOnRleHQtZ3JheS00MDAgaC04XCI+XG4gICAgICAgICAgICAgICAgICAgICAgPHNwYW4+UHJpdmFjeSAmIFRlcm1zPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgIDxDaGV2cm9uRG93biBjbGFzc05hbWU9XCJoLTMgdy0zXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICA8L0NvbGxhcHNpYmxlVHJpZ2dlcj5cbiAgICAgICAgICAgICAgICAgIDxDb2xsYXBzaWJsZUNvbnRlbnQgY2xhc3NOYW1lPVwic3BhY2UteS0zXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LWdyYXktNjAwIGRhcms6dGV4dC1ncmF5LTMwMCBzcGFjZS15LTMgcC00IGJvcmRlciByb3VuZGVkLWxnIGJnLWdyYXktNTAgZGFyazpiZy1ncmF5LTgwMC81MFwiPlxuICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aDQgY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZCBtYi0yIHRleHQtZ3JheS04MDAgZGFyazp0ZXh0LWdyYXktMjAwXCI+UHJpdmFjeSBQb2xpY3k8L2g0PlxuICAgICAgICAgICAgICAgICAgICAgICAgPHVsIGNsYXNzTmFtZT1cInNwYWNlLXktMSB0ZXh0LWdyYXktNjAwIGRhcms6dGV4dC1ncmF5LTQwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8bGk+4oCiIFdlIGNvbGxlY3QgeW91ciBlbWFpbCBhZGRyZXNzIGFuZCBjYXJkIGNvbnRlbnQgdG8gcHJvdmlkZSBvdXIgc2VydmljZTwvbGk+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxsaT7igKIgSW1hZ2VzIGFuZCBtZXNzYWdlcyBhcmUgcHJvY2Vzc2VkIHVzaW5nIHRoaXJkLXBhcnR5IEFJIHNlcnZpY2VzPC9saT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpPuKAoiBDYXJkcyBhcmUgc3RvcmVkIHRlbXBvcmFyaWx5IGZvciBkZWxpdmVyeSBhbmQgbWF5IGJlIGNhY2hlZCBmb3IgcGVyZm9ybWFuY2U8L2xpPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8bGk+4oCiIFdlIGRvIG5vdCBzZWxsLCBzaGFyZSwgb3IgdXNlIHlvdXIgcGVyc29uYWwgZGF0YSBmb3IgbWFya2V0aW5nIHB1cnBvc2VzPC9saT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpPuKAoiBZb3VyIGVtYWlsIGlzIG9ubHkgdXNlZCBmb3IgY2FyZCBkZWxpdmVyeSBhbmQgc2VydmljZSBjb21tdW5pY2F0aW9uczwvbGk+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L3VsPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxoNCBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkIG1iLTIgdGV4dC1ncmF5LTgwMCBkYXJrOnRleHQtZ3JheS0yMDBcIj5UZXJtcyBvZiBTZXJ2aWNlPC9oND5cbiAgICAgICAgICAgICAgICAgICAgICAgIDx1bCBjbGFzc05hbWU9XCJzcGFjZS15LTEgdGV4dC1ncmF5LTYwMCBkYXJrOnRleHQtZ3JheS00MDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpPuKAoiBZb3UgbXVzdCBiZSAxMysgeWVhcnMgb2xkIHRvIHVzZSB0aGlzIHNlcnZpY2U8L2xpPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8bGk+4oCiIFlvdSBhcmUgcmVzcG9uc2libGUgZm9yIHRoZSBjb250ZW50IHlvdSBzdWJtaXQ8L2xpPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8bGk+4oCiIFNlcnZpY2UgaXMgcHJvdmlkZWQgXCJhcy1pc1wiIHdpdGhvdXQgd2FycmFudGllczwvbGk+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxsaT7igKIgV2UgcmVzZXJ2ZSB0aGUgcmlnaHQgdG8gcmVmdXNlIHNlcnZpY2UgZm9yIHBvbGljeSB2aW9sYXRpb25zPC9saT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpPuKAoiBUaGVzZSB0ZXJtcyBtYXkgYmUgdXBkYXRlZCB3aXRoIG5vdGljZSBvbiBvdXIgd2Vic2l0ZTwvbGk+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L3VsPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxoNCBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkIG1iLTIgdGV4dC1ncmF5LTgwMCBkYXJrOnRleHQtZ3JheS0yMDBcIj5Db250ZW50IFBvbGljeTwvaDQ+XG4gICAgICAgICAgICAgICAgICAgICAgICA8dWwgY2xhc3NOYW1lPVwic3BhY2UteS0xIHRleHQtZ3JheS02MDAgZGFyazp0ZXh0LWdyYXktNDAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxsaT7igKIgQWxsIGNvbnRlbnQgbXVzdCBiZSBmYW1pbHktZnJpZW5kbHkgYW5kIGFwcHJvcHJpYXRlIGZvciBhbGwgYXVkaWVuY2VzPC9saT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpPuKAoiBObyBjb3B5cmlnaHRlZCBjaGFyYWN0ZXJzLCBsb2dvcywgb3IgdHJhZGVtYXJrZWQgY29udGVudDwvbGk+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxsaT7igKIgTm8gaGF0ZSBzcGVlY2gsIGhhcmFzc21lbnQsIG9yIGRpc2NyaW1pbmF0b3J5IGNvbnRlbnQ8L2xpPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8bGk+4oCiIE5vIGlsbGVnYWwsIGhhcm1mdWwsIG9yIGV4cGxpY2l0IG1hdGVyaWFsPC9saT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpPuKAoiBDb250ZW50IG1heSBiZSBmaWx0ZXJlZCB0byBlbnN1cmUgY29tcGxpYW5jZSB3aXRoIHRoZXNlIGd1aWRlbGluZXM8L2xpPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC91bD5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aDQgY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZCBtYi0yIHRleHQtZ3JheS04MDAgZGFyazp0ZXh0LWdyYXktMjAwXCI+SW50ZWxsZWN0dWFsIFByb3BlcnR5PC9oND5cbiAgICAgICAgICAgICAgICAgICAgICAgIDx1bCBjbGFzc05hbWU9XCJzcGFjZS15LTEgdGV4dC1ncmF5LTYwMCBkYXJrOnRleHQtZ3JheS00MDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpPuKAoiBZb3UgcmV0YWluIHJpZ2h0cyB0byB5b3VyIG9yaWdpbmFsIGNvbnRlbnQgYW5kIGlkZWFzPC9saT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpPuKAoiBHZW5lcmF0ZWQgaW1hZ2VzIGFyZSBjcmVhdGVkIHVzaW5nIEFJIGFuZCBtYXkgbm90IGJlIGNvcHlyaWdodGFibGU8L2xpPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8bGk+4oCiIFlvdSBncmFudCB1cyBsaWNlbnNlIHRvIHByb2Nlc3MgYW5kIGRlbGl2ZXIgeW91ciBjYXJkczwvbGk+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxsaT7igKIgUmVzcGVjdCB0aGlyZC1wYXJ0eSBpbnRlbGxlY3R1YWwgcHJvcGVydHkgcmlnaHRzPC9saT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvdWw+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInB0LTIgYm9yZGVyLXQgYm9yZGVyLWdyYXktMjAwIGRhcms6Ym9yZGVyLWdyYXktNzAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlciB0ZXh0LWdyYXktNTAwIGRhcms6dGV4dC1ncmF5LTQwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICBCeSBjcmVhdGluZyBhIGNhcmQsIHlvdSBhZ3JlZSB0byB0aGVzZSB0ZXJtcyBhbmQgcG9saWNpZXMuIFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8YnIgLz5MYXN0IHVwZGF0ZWQ6IHtuZXcgRGF0ZSgpLnRvTG9jYWxlRGF0ZVN0cmluZygpfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDwvQ29sbGFwc2libGVDb250ZW50PlxuICAgICAgICAgICAgICAgIDwvQ29sbGFwc2libGU+XG5cbiAgICAgICAgICAgICAgICB7LyogQ2xlYW4gUHJvZ3Jlc3MgSW5kaWNhdG9yICovfVxuICAgICAgICAgICAgICAgIHsoaXNHZW5lcmF0aW5nIHx8IGlzR2VuZXJhdGluZ01lc3NhZ2UpICYmIChcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWItNCBwLTQgYmctZ3JhZGllbnQtdG8tciBmcm9tLWJsdWUtNTAgdG8tY3lhbi01MCBkYXJrOmZyb20tYmx1ZS05MDAvMzAgZGFyazp0by1jeWFuLTkwMC8zMCByb3VuZGVkLWxnIGJvcmRlciBib3JkZXItYmx1ZS0yMDAgZGFyazpib3JkZXItYmx1ZS04MDBcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICB7LyogUHJvZ3Jlc3MgTWVzc2FnZSAqL31cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctNCBoLTQgYm9yZGVyLTIgYm9yZGVyLWJsdWUtNTAwIGJvcmRlci10LXRyYW5zcGFyZW50IHJvdW5kZWQtZnVsbCBhbmltYXRlLXNwaW5cIiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWJsdWUtNjAwIGRhcms6dGV4dC1ibHVlLTQwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICB7Z2VuZXJhdGlvblByb2dyZXNzIHx8IFwiR2VuZXJhdGluZyB5b3VyIGNhcmQuLi5cIn1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgICAgICAgIHsvKiBDbGVhbiBQcm9ncmVzcyBCYXIgKi99XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LWZ1bGwgYmctZ3JheS0yMDAgZGFyazpiZy1ncmF5LTcwMCByb3VuZGVkLWZ1bGwgaC0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IFxuICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJiZy1ncmFkaWVudC10by1yIGZyb20tYmx1ZS01MDAgdG8tY3lhbi01MDAgaC0zIHJvdW5kZWQtZnVsbCB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0xMDAwIGVhc2Utb3V0XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IGAke01hdGgubWluKHByb2dyZXNzUGVyY2VudGFnZSwgMTAwKX0lYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgICAgICAgIHsvKiBQcm9ncmVzcyBUZXh0IGFuZCBUaW1lIERpc3BsYXkgKi99XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gdGV4dC14cyB0ZXh0LWdyYXktNjAwIGRhcms6dGV4dC1ncmF5LTQwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZm9udC1tZWRpdW1cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAge01hdGgucm91bmQocHJvZ3Jlc3NQZXJjZW50YWdlKX0lIENvbXBsZXRlXG4gICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50RWxhcHNlZFRpbWUgPiAwICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LWJsdWUtNjAwIGRhcms6dGV4dC1ibHVlLTQwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg4o+x77iPIHtmb3JtYXRHZW5lcmF0aW9uVGltZShjdXJyZW50RWxhcHNlZFRpbWUpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1ncmF5LTUwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH4yLTMgbWluIGV4cGVjdGVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICl9XG5cbiAgICAgICAgICAgICAgICB7LyogR2VuZXJhdGUgQnV0dG9ucyAqL31cbiAgICAgICAgICAgICAgICB7IWlzRHJhZnRNb2RlICYmIGRyYWZ0Q2FyZHMubGVuZ3RoID09PSAwICYmICFpc0dlbmVyYXRpbmdGaW5hbENhcmQgJiYgIWlzR2VuZXJhdGluZyA/IChcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0zXCI+XG4gICAgICAgICAgICAgICAgICAgIHsvKiBEcmFmdCBNb2RlIERlc2NyaXB0aW9uICovfVxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLXB1cnBsZS01MCBkYXJrOmJnLXB1cnBsZS05MDAvMjAgcm91bmRlZC1sZyBwLTMgYm9yZGVyIGJvcmRlci1wdXJwbGUtMjAwIGRhcms6Ym9yZGVyLXB1cnBsZS04MDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtc3RhcnQgZ2FwLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxQYWxldHRlIGNsYXNzTmFtZT1cInctNCBoLTQgdGV4dC1wdXJwbGUtNjAwIG10LTAuNSBmbGV4LXNocmluay0wXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1zbVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJmb250LW1lZGl1bSB0ZXh0LXB1cnBsZS05MDAgZGFyazp0ZXh0LXB1cnBsZS0xMDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICDwn46oIERyYWZ0IE1vZGUgKFJlY29tbWVuZGVkKVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtcHVycGxlLTcwMCBkYXJrOnRleHQtcHVycGxlLTMwMCB0ZXh0LXhzIG10LTFcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBHZW5lcmF0ZSAxMCBkaWZmZXJlbnQgZGVzaWduIHZhcmlhdGlvbnMgcXVpY2tseSB3aXRoIGxvdyBxdWFsaXR5LCB0aGVuIHBpY2sgeW91ciBmYXZvcml0ZSBmb3IgaGlnaC1xdWFsaXR5IGdlbmVyYXRpb24uIFBlcmZlY3QgZm9yIGV4cGxvcmluZyBvcHRpb25zIVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICB7LyogRHJhZnQgTW9kZSBCdXR0b24gKi99XG4gICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVHZW5lcmF0ZURyYWZ0Q2FyZHN9XG4gICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2lzR2VuZXJhdGluZyB8fCBpc0dlbmVyYXRpbmdNZXNzYWdlIHx8ICF1c2VyRW1haWwudHJpbSgpfVxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBoLTEyIHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTMwMCBiZy1ncmFkaWVudC10by1yIGZyb20tcHVycGxlLTUwMCB0by1waW5rLTYwMCBob3Zlcjpmcm9tLXB1cnBsZS02MDAgaG92ZXI6dG8tcGluay03MDBcIlxuICAgICAgICAgICAgICAgICAgICAgIHNpemU9XCJsZ1wiXG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICB7aXNHZW5lcmF0aW5nIHx8IGlzR2VuZXJhdGluZ01lc3NhZ2UgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctNCBoLTQgYm9yZGVyLTIgYm9yZGVyLXdoaXRlIGJvcmRlci10LXRyYW5zcGFyZW50IHJvdW5kZWQtZnVsbCBhbmltYXRlLXNwaW4gbXItMlwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtpc0dlbmVyYXRpbmdNZXNzYWdlID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPldyaXRpbmcgeW91ciBtZXNzYWdlLi4uPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPkNyZWF0aW5nIDEwIGRlc2lnbiBvcHRpb25zLi4uPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxQYWxldHRlIGNsYXNzTmFtZT1cInctNSBoLTUgbXItMlwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPkNyZWF0ZSAxMCBEZXNpZ24gT3B0aW9uczwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlciB0ZXh0LXhzIHRleHQtZ3JheS01MDAgZGFyazp0ZXh0LWdyYXktNDAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgb3JcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICB7LyogRGlyZWN0IEdlbmVyYXRpb24gQnV0dG9uICovfVxuICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlR2VuZXJhdGVDYXJkQXN5bmN9XG4gICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2lzR2VuZXJhdGluZyB8fCBpc0dlbmVyYXRpbmdNZXNzYWdlIHx8ICF1c2VyRW1haWwudHJpbSgpfVxuICAgICAgICAgICAgICAgICAgICAgIHZhcmlhbnQ9XCJvdXRsaW5lXCJcbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgaC0xMCB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0zMDAgYm9yZGVyLWJsdWUtMzAwIGhvdmVyOmJvcmRlci1ibHVlLTQwMCBob3ZlcjpiZy1ibHVlLTUwIGRhcms6aG92ZXI6YmctYmx1ZS05MDAvMjBcIlxuICAgICAgICAgICAgICAgICAgICAgIHNpemU9XCJsZ1wiXG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICA8U3BhcmtsZXMgY2xhc3NOYW1lPVwidy00IGgtNCBtci0yXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj5EaXJlY3QgR2VuZXJhdGlvbjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICApIDogaXNHZW5lcmF0aW5nRmluYWxDYXJkID8gKFxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTRcIj5cbiAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXt0cnVlfVxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBoLTEyIHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTMwMCBiZy1ncmFkaWVudC10by1yIGZyb20tYmx1ZS01MDAgdG8tY3lhbi02MDBcIlxuICAgICAgICAgICAgICAgICAgICAgIHNpemU9XCJsZ1wiXG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctNCBoLTQgYm9yZGVyLTIgYm9yZGVyLXdoaXRlIGJvcmRlci10LXRyYW5zcGFyZW50IHJvdW5kZWQtZnVsbCBhbmltYXRlLXNwaW4gbXItMlwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgPHNwYW4+Q3JlYXRpbmcgaGlnaC1xdWFsaXR5IHZlcnNpb24uLi48L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgey8qIFByb2dyZXNzIEluZGljYXRvciBmb3IgRmluYWwgQ2FyZCBHZW5lcmF0aW9uICovfVxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInAtNCBiZy1ncmFkaWVudC10by1yIGZyb20tYmx1ZS01MCB0by1jeWFuLTUwIGRhcms6ZnJvbS1ibHVlLTkwMC8zMCBkYXJrOnRvLWN5YW4tOTAwLzMwIHJvdW5kZWQtbGcgYm9yZGVyIGJvcmRlci1ibHVlLTIwMCBkYXJrOmJvcmRlci1ibHVlLTgwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICB7LyogUHJvZ3Jlc3MgTWVzc2FnZSAqL31cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTQgaC00IGJvcmRlci0yIGJvcmRlci1ibHVlLTUwMCBib3JkZXItdC10cmFuc3BhcmVudCByb3VuZGVkLWZ1bGwgYW5pbWF0ZS1zcGluXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWJsdWUtNjAwIGRhcms6dGV4dC1ibHVlLTQwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtnZW5lcmF0aW9uUHJvZ3Jlc3MgfHwgXCJHZW5lcmF0aW5nIGhpZ2gtcXVhbGl0eSB2ZXJzaW9uIG9mIHlvdXIgc2VsZWN0ZWQgZGVzaWduLi4uXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgICAgICAgICB7LyogQ2xlYW4gUHJvZ3Jlc3MgQmFyICovfVxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LWZ1bGwgYmctZ3JheS0yMDAgZGFyazpiZy1ncmF5LTcwMCByb3VuZGVkLWZ1bGwgaC0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYmctZ3JhZGllbnQtdG8tciBmcm9tLWJsdWUtNTAwIHRvLWN5YW4tNTAwIGgtMyByb3VuZGVkLWZ1bGwgdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMTAwMCBlYXNlLW91dFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IGAke01hdGgubWluKHByb2dyZXNzUGVyY2VudGFnZSwgMTAwKX0lYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHsvKiBQcm9ncmVzcyBUZXh0IGFuZCBUaW1lIERpc3BsYXkgKi99XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiB0ZXh0LXhzIHRleHQtZ3JheS02MDAgZGFyazp0ZXh0LWdyYXktNDAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImZvbnQtbWVkaXVtXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge01hdGgucm91bmQocHJvZ3Jlc3NQZXJjZW50YWdlKX0lIENvbXBsZXRlXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50RWxhcHNlZFRpbWUgPiAwICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtYmx1ZS02MDAgZGFyazp0ZXh0LWJsdWUtNDAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOKPse+4jyB7Zm9ybWF0R2VuZXJhdGlvblRpbWUoY3VycmVudEVsYXBzZWRUaW1lKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtZ3JheS01MDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH4yLTMgbWluIGV4cGVjdGVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlR2VuZXJhdGVDYXJkQXN5bmN9XG4gICAgICAgICAgICAgICAgICBkaXNhYmxlZD17aXNHZW5lcmF0aW5nIHx8IGlzR2VuZXJhdGluZ01lc3NhZ2UgfHwgIXVzZXJFbWFpbC50cmltKCl9XG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2B3LWZ1bGwgaC0xMiB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0zMDAgJHtcbiAgICAgICAgICAgICAgICAgICAgaXNDYXJkQ29tcGxldGVkIFxuICAgICAgICAgICAgICAgICAgICAgID8gJ2JnLWdyYWRpZW50LXRvLXIgZnJvbS1ncmVlbi01MDAgdG8tZW1lcmFsZC02MDAgaG92ZXI6ZnJvbS1ncmVlbi02MDAgaG92ZXI6dG8tZW1lcmFsZC03MDAnIFxuICAgICAgICAgICAgICAgICAgICAgIDogJ2JnLWdyYWRpZW50LXRvLXIgZnJvbS1ibHVlLTUwMCB0by1jeWFuLTYwMCBob3Zlcjpmcm9tLWJsdWUtNjAwIGhvdmVyOnRvLWN5YW4tNzAwJ1xuICAgICAgICAgICAgICAgICAgfWB9XG4gICAgICAgICAgICAgICAgICBzaXplPVwibGdcIlxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIHtpc0dlbmVyYXRpbmcgfHwgaXNHZW5lcmF0aW5nTWVzc2FnZSA/IChcbiAgICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctNCBoLTQgYm9yZGVyLTIgYm9yZGVyLXdoaXRlIGJvcmRlci10LXRyYW5zcGFyZW50IHJvdW5kZWQtZnVsbCBhbmltYXRlLXNwaW4gbXItMlwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAge2lzR2VuZXJhdGluZ01lc3NhZ2UgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj5Xcml0aW5nIHlvdXIgbWVzc2FnZS4uLjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4+Q3JlYXRpbmcgeW91ciBjYXJkLi4uPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICAgKSA6IGlzQ2FyZENvbXBsZXRlZCA/IChcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciB3LWZ1bGxcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctNSBoLTUgbXItMiB0ZXh0LXdoaXRlXCI+4pyFPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgPHNwYW4+Q2FyZCBDb21wbGV0ZWQhPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAgPFNwYXJrbGVzIGNsYXNzTmFtZT1cInctNSBoLTUgbXItMlwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAge251bWJlck9mQ2FyZHMgPiAxID8gYENyZWF0ZSAke251bWJlck9mQ2FyZHN9IENhcmRzYCA6ICdDcmVhdGUgQ2FyZCd9XG4gICAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHsvKiBBY3Rpb24gYnV0dG9ucyB3aGVuIGNhcmQgaXMgY29tcGxldGVkICovfVxuICAgICAgICAgICAgICAgIHtpc0NhcmRDb21wbGV0ZWQgJiYgKFxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC00IGdyaWQgZ3JpZC1jb2xzLTIgZ2FwLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZVJlZ2VuZXJhdGVDYXJkfVxuICAgICAgICAgICAgICAgICAgICAgIHZhcmlhbnQ9XCJvdXRsaW5lXCJcbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiBib3JkZXItYmx1ZS0yMDAgaG92ZXI6Ym9yZGVyLWJsdWUtMzAwIGhvdmVyOmJnLWJsdWUtNTAgZGFyazpib3JkZXItYmx1ZS04MDAgZGFyazpob3Zlcjpib3JkZXItYmx1ZS03MDAgZGFyazpob3ZlcjpiZy1ibHVlLTkwMC8yMFwiXG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICA8UmVmcmVzaEN3IGNsYXNzTmFtZT1cInctNCBoLTRcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgIFJlZ2VuZXJhdGUgU2FtZVxuICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZUNyZWF0ZU5ld0NhcmR9XG4gICAgICAgICAgICAgICAgICAgICAgdmFyaWFudD1cIm91dGxpbmVcIlxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yIGJvcmRlci1ncmVlbi0yMDAgaG92ZXI6Ym9yZGVyLWdyZWVuLTMwMCBob3ZlcjpiZy1ncmVlbi01MCBkYXJrOmJvcmRlci1ncmVlbi04MDAgZGFyazpob3Zlcjpib3JkZXItZ3JlZW4tNzAwIGRhcms6aG92ZXI6YmctZ3JlZW4tOTAwLzIwXCJcbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgIDxTcGFya2xlcyBjbGFzc05hbWU9XCJ3LTQgaC00XCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICBDcmVhdGUgTmV3IENhcmRcbiAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICA8L0NhcmRDb250ZW50PlxuICAgICAgICAgICAgPC9DYXJkPlxuXG4gICAgICAgIHsvKiBEcmFmdCBDYXJkcyBTZWxlY3Rpb24gKi99XG4gICAgICAgIHtpc0RyYWZ0TW9kZSAmJiBkcmFmdENhcmRzLmxlbmd0aCA+IDAgJiYgIWlzR2VuZXJhdGluZ0ZpbmFsQ2FyZCAmJiAhZ2VuZXJhdGVkQ2FyZCAmJiAoXG4gICAgICAgICAgPENhcmQgY2xhc3NOYW1lPVwic2hhZG93LWxnXCI+XG4gICAgICAgICAgICA8Q2FyZEhlYWRlcj5cbiAgICAgICAgICAgICAgPENhcmRUaXRsZSBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxuICAgICAgICAgICAgICAgIDxQYWxldHRlIGNsYXNzTmFtZT1cInctNSBoLTUgdGV4dC1wdXJwbGUtNjAwXCIgLz5cbiAgICAgICAgICAgICAgICBDaG9vc2UgWW91ciBGYXZvcml0ZSBEZXNpZ25cbiAgICAgICAgICAgICAgPC9DYXJkVGl0bGU+XG4gICAgICAgICAgICAgIDxDYXJkRGVzY3JpcHRpb24+XG4gICAgICAgICAgICAgICAgMTAgZGVzaWduIHZhcmlhdGlvbnMgY3JlYXRlZCB3aXRoIGxvdyBxdWFsaXR5IGZvciBmYXN0IHByZXZpZXcuIFNlbGVjdCB5b3VyIGZhdm9yaXRlIHRvIGdlbmVyYXRlIHRoZSBoaWdoLXF1YWxpdHkgdmVyc2lvbiFcbiAgICAgICAgICAgICAgPC9DYXJkRGVzY3JpcHRpb24+XG4gICAgICAgICAgICA8L0NhcmRIZWFkZXI+XG4gICAgICAgICAgICA8Q2FyZENvbnRlbnQ+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JpZCBncmlkLWNvbHMtMSBzbTpncmlkLWNvbHMtMiBsZzpncmlkLWNvbHMtMyB4bDpncmlkLWNvbHMtNSBnYXAtNFwiPlxuICAgICAgICAgICAgICAgIHtBcnJheS5mcm9tKHsgbGVuZ3RoOiAxMCB9LCAoXywgaW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IGNhcmQgPSBkcmFmdENhcmRzW2luZGV4XTtcbiAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICBrZXk9e2luZGV4fVxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YHJlbGF0aXZlIGN1cnNvci1wb2ludGVyIHJvdW5kZWQtbGcgYm9yZGVyLTIgcC00IHRyYW5zaXRpb24tYWxsICR7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZERyYWZ0SW5kZXggPT09IGluZGV4XG4gICAgICAgICAgICAgICAgICAgICAgICAgID8gJ2JvcmRlci1wdXJwbGUtNTAwIGJnLXB1cnBsZS01MCBkYXJrOmJnLXB1cnBsZS05MDAvMjAnXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDogY2FyZFxuICAgICAgICAgICAgICAgICAgICAgICAgICA/ICdib3JkZXItZ3JheS0yMDAgZGFyazpib3JkZXItZ3JheS03MDAgaG92ZXI6Ym9yZGVyLXB1cnBsZS0zMDAgaG92ZXI6YmctcHVycGxlLTUwLzUwIGRhcms6aG92ZXI6YmctcHVycGxlLTkwMC8xMCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgOiAnYm9yZGVyLWRhc2hlZCBib3JkZXItZ3JheS0zMDAgZGFyazpib3JkZXItZ3JheS02MDAnXG4gICAgICAgICAgICAgICAgICAgICAgfWB9XG5cbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgIHtjYXJkID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgey8qIENhcmQgUHJldmlldyBHcmlkICovfVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgZ3JpZC1jb2xzLTIgZ2FwLTIgbWItNFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsvKiBGcm9udCBDb3ZlciAqL31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktMVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhc3BlY3QtWzIvM10gcmVsYXRpdmUgb3ZlcmZsb3ctaGlkZGVuIHJvdW5kZWQgYm9yZGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbWdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcmM9e2NhcmQuZnJvbnRDb3Zlcn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbHQ9e2BEZXNpZ24gJHtpbmRleCArIDF9IC0gRnJvbnRgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBoLWZ1bGwgb2JqZWN0LWNvdmVyXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LWNlbnRlciB0ZXh0LWdyYXktNTAwIGRhcms6dGV4dC1ncmF5LTQwMFwiPkZyb250PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsvKiBJbnRlcmlvciAoTGVmdCArIFJpZ2h0IGNvbWJpbmVkIHZpZXcpICovfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0xXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFzcGVjdC1bMi8zXSByZWxhdGl2ZSBvdmVyZmxvdy1oaWRkZW4gcm91bmRlZCBib3JkZXIgYmctd2hpdGVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGgtZnVsbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsvKiBMZWZ0IEludGVyaW9yICovfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0xLzIgcmVsYXRpdmVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjYXJkLmxlZnRQYWdlID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW1nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3JjPXtjYXJkLmxlZnRQYWdlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsdD17YERlc2lnbiAke2luZGV4ICsgMX0gLSBMZWZ0IEludGVyaW9yYH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgaC1mdWxsIG9iamVjdC1jb3ZlclwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctZnVsbCBoLWZ1bGwgYmctZ3JheS0xMDAgZGFyazpiZy1ncmF5LTcwMCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1ncmF5LTQwMFwiPkxlZnQ8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7LyogRGl2aWRlciAqL31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctcHggYmctZ3JheS0zMDBcIj48L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7LyogUmlnaHQgSW50ZXJpb3IgKi99XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTEvMiByZWxhdGl2ZVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2NhcmQucmlnaHRQYWdlID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW1nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3JjPXtjYXJkLnJpZ2h0UGFnZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbHQ9e2BEZXNpZ24gJHtpbmRleCArIDF9IC0gUmlnaHQgSW50ZXJpb3JgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBoLWZ1bGwgb2JqZWN0LWNvdmVyXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy1mdWxsIGgtZnVsbCBiZy1ncmF5LTEwMCBkYXJrOmJnLWdyYXktNzAwIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LWdyYXktNDAwXCI+UmlnaHQ8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1jZW50ZXIgdGV4dC1ncmF5LTUwMCBkYXJrOnRleHQtZ3JheS00MDBcIj5JbnRlcmlvcjwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICB7LyogQ2FyZCBJbmZvICovfVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtY2VudGVyIHNwYWNlLXktMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoNCBjbGFzc05hbWU9XCJmb250LW1lZGl1bSB0ZXh0LXNtXCI+RGVzaWduIFZhcmlhdGlvbiB7aW5kZXggKyAxfTwvaDQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBnYXAtMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJhZGdlIHZhcmlhbnQ9XCJvdXRsaW5lXCIgY2xhc3NOYW1lPVwidGV4dC14c1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBMb3cgUXVhbGl0eSBQcmV2aWV3XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0JhZGdlPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3NlbGVjdGVkRHJhZnRJbmRleCA9PT0gaW5kZXggJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QmFkZ2UgY2xhc3NOYW1lPVwiYmctcHVycGxlLTYwMCB0ZXh0LXdoaXRlIHRleHQteHNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDinJMgU2VsZWN0ZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9CYWRnZT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgey8qIEFjdGlvbiBCdXR0b25zICovfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBnYXAtMiBqdXN0aWZ5LWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXJpYW50PVwib3V0bGluZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU9XCJzbVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRQcmV2aWV3aW5nRHJhZnRJbmRleChpbmRleCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInRleHQteHMgcHgtMiBweS0xIGgtNlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxFeWUgY2xhc3NOYW1lPVwidy0zIGgtMyBtci0xXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUHJldmlld1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhcmlhbnQ9e3NlbGVjdGVkRHJhZnRJbmRleCA9PT0gaW5kZXggPyBcImRlZmF1bHRcIiA6IFwib3V0bGluZVwifVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplPVwic21cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0U2VsZWN0ZWREcmFmdEluZGV4KGluZGV4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidGV4dC14cyBweC0yIHB5LTEgaC02XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3NlbGVjdGVkRHJhZnRJbmRleCA9PT0gaW5kZXggPyBcIlNlbGVjdGVkXCIgOiBcIlNlbGVjdFwifVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LWdyYXktNTAwIGRhcms6dGV4dC1ncmF5LTQwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUHJldmlldyB0byBzZWUgZGV0YWlscywgdGhlbiBzZWxlY3QgZm9yIGhpZ2gtcXVhbGl0eSBnZW5lcmF0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHB5LThcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTEyIGgtMTIgYm9yZGVyLTIgYm9yZGVyLXB1cnBsZS01MDAgYm9yZGVyLXQtdHJhbnNwYXJlbnQgcm91bmRlZC1mdWxsIGFuaW1hdGUtc3BpbiBteC1hdXRvIG1iLTRcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8aDQgY2xhc3NOYW1lPVwiZm9udC1tZWRpdW0gdGV4dC1zbSBtYi0xXCI+RGVzaWduIHtpbmRleCArIDF9PC9oND5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LWdyYXktNTAwXCI+R2VuZXJhdGluZyB2YXJpYXRpb24uLi48L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAge2RyYWZ0Q2FyZHMuZmlsdGVyKGMgPT4gYykubGVuZ3RoID09PSAxMCAmJiAoXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC02IHRleHQtY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGhhbmRsZUdlbmVyYXRlRmluYWxGcm9tRHJhZnQoc2VsZWN0ZWREcmFmdEluZGV4KX1cbiAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3NlbGVjdGVkRHJhZnRJbmRleCA9PT0gLTF9XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJnLWdyYWRpZW50LXRvLXIgZnJvbS1wdXJwbGUtNjAwIHRvLXBpbmstNjAwIGhvdmVyOmZyb20tcHVycGxlLTcwMCBob3Zlcjp0by1waW5rLTcwMCB0ZXh0LXdoaXRlXCJcbiAgICAgICAgICAgICAgICAgICAgc2l6ZT1cImxnXCJcbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPFNwYXJrbGVzIGNsYXNzTmFtZT1cInctNSBoLTUgbXItMlwiIC8+XG4gICAgICAgICAgICAgICAgICAgIEdlbmVyYXRlIEhpZ2gtUXVhbGl0eSBWZXJzaW9uXG4gICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgIHtzZWxlY3RlZERyYWZ0SW5kZXggPT09IC0xICYmIChcbiAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LWdyYXktNTAwIGRhcms6dGV4dC1ncmF5LTQwMCBtdC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgUGxlYXNlIHNlbGVjdCBhIGRlc2lnbiB2YXJpYXRpb24gYWJvdmVcbiAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDwvQ2FyZENvbnRlbnQ+XG4gICAgICAgICAgPC9DYXJkPlxuICAgICAgICApfVxuXG4gICAgICAgIHsvKiBDYXJkIFByZXZpZXcgLSBIaWRlIHdoZW4gaW4gZHJhZnQgbW9kZSBvciB3aGVuIGdlbmVyYXRpbmcgZmluYWwgZnJvbSBkcmFmdCAqL31cbiAgICAgICAgeygoKSA9PiB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ/CflI0gQ2FyZCBQcmV2aWV3IFJlbmRlciBDaGVjazonLCB7XG4gICAgICAgICAgICBoYXNHZW5lcmF0ZWRDYXJkOiAhIWdlbmVyYXRlZENhcmQsXG4gICAgICAgICAgICBjYXJkSWQ6IGdlbmVyYXRlZENhcmQ/LmlkLFxuICAgICAgICAgICAgaXNDYXJkQ29tcGxldGVkLFxuICAgICAgICAgICAgZ2VuZXJhdGVkQ2FyZHNMZW5ndGg6IGdlbmVyYXRlZENhcmRzLmxlbmd0aCxcbiAgICAgICAgICAgIHNlbGVjdGVkQ2FyZEluZGV4LFxuICAgICAgICAgICAgZnJvbnRDb3ZlcjogZ2VuZXJhdGVkQ2FyZD8uZnJvbnRDb3ZlciA/ICdwcmVzZW50JyA6ICdtaXNzaW5nJyxcbiAgICAgICAgICAgIGlzRHJhZnRNb2RlLFxuICAgICAgICAgICAgaXNHZW5lcmF0aW5nRmluYWxDYXJkLFxuICAgICAgICAgICAgZHJhZnRDYXJkc0xlbmd0aDogZHJhZnRDYXJkcy5sZW5ndGhcbiAgICAgICAgICB9KTtcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfSkoKX1cbiAgICAgICAge2dlbmVyYXRlZENhcmQgJiYgIWlzRHJhZnRNb2RlICYmICFpc0dlbmVyYXRpbmdGaW5hbENhcmQgJiYgZHJhZnRDYXJkcy5sZW5ndGggPT09IDAgJiYgKFxuICAgICAgICAgICAgICAgICAgPENhcmQgY2xhc3NOYW1lPVwic2hhZG93LWxnXCI+XG4gICAgICAgICAgICAgICAgICAgIDxDYXJkSGVhZGVyPlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2FyZFRpdGxlIGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2lzQ2FyZENvbXBsZXRlZCAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LTYgaC02IGJnLWdyZWVuLTUwMCByb3VuZGVkLWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIiBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9e2dlbmVyYXRpb25EdXJhdGlvbiA/IGBHZW5lcmF0ZWQgaW4gJHtmb3JtYXRHZW5lcmF0aW9uVGltZShnZW5lcmF0aW9uRHVyYXRpb24pfWAgOiAnQ2FyZCBjb21wbGV0ZWQnfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXdoaXRlIHRleHQtc21cIj7inJM8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtudW1iZXJPZkNhcmRzID4gMSA/IGBZb3VyIENhcmRzICgke2dlbmVyYXRlZENhcmRzLmxlbmd0aH0gR2VuZXJhdGVkKWAgOiAnWW91ciBDYXJkJ31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9DYXJkVGl0bGU+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxDYXJkRGVzY3JpcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2lzQ2FyZENvbXBsZXRlZCA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LWdyZWVuLTYwMCBkYXJrOnRleHQtZ3JlZW4tNDAwIGZvbnQtbWVkaXVtXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIPCfjokgQ2FyZCBnZW5lcmF0aW9uIGNvbXBsZXRlISBZb3VyIGNhcmQgaXMgcmVhZHkgZm9yIHByaW50aW5nIG9yIHNoYXJpbmcuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtnZW5lcmF0aW9uRHVyYXRpb24gJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaW5saW5lLWZsZXggaXRlbXMtY2VudGVyIGdhcC0yIGJnLWJsdWUtNTAgZGFyazpiZy1ibHVlLTkwMC8yMCB0ZXh0LWJsdWUtNzAwIGRhcms6dGV4dC1ibHVlLTMwMCBweC0zIHB5LTEgcm91bmRlZC1mdWxsIHRleHQtc20gZm9udC1tZWRpdW1cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtYmx1ZS01MDBcIj7imqE8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBHZW5lcmF0ZWQgaW4ge2Zvcm1hdEdlbmVyYXRpb25UaW1lKGdlbmVyYXRpb25EdXJhdGlvbil9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ3JlYXRlZCB7bmV3IERhdGUoZ2VuZXJhdGVkQ2FyZC5jcmVhdGVkQXQpLnRvTG9jYWxlRGF0ZVN0cmluZygpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7bnVtYmVyT2ZDYXJkcyA+IDEgJiYgYCDigKIgVmlld2luZyBDYXJkICR7c2VsZWN0ZWRDYXJkSW5kZXggKyAxfSBvZiAke2dlbmVyYXRlZENhcmRzLmxlbmd0aH1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9DYXJkRGVzY3JpcHRpb24+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgIHsvKiBDYXJkIFNlbGVjdG9yIGZvciBNdWx0aXBsZSBDYXJkcyAqL31cbiAgICAgICAgICAgICAgICAgICAgICB7bnVtYmVyT2ZDYXJkcyA+IDEgJiYgZ2VuZXJhdGVkQ2FyZHMubGVuZ3RoID4gMSAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cInRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1ncmF5LTcwMCBkYXJrOnRleHQtZ3JheS0zMDAgbWItMiBibG9ja1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIENob29zZSBZb3VyIEZhdm9yaXRlIENhcmRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJncmlkIGdyaWQtY29scy0yIG1kOmdyaWQtY29scy00IGdhcC0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2dlbmVyYXRlZENhcmRzLm1hcCgoY2FyZCwgaW5kZXgpID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtjYXJkLmlkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2ByZWxhdGl2ZSBjdXJzb3ItcG9pbnRlciByb3VuZGVkLWxnIGJvcmRlci0yIHAtMiB0cmFuc2l0aW9uLWFsbCAke1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkQ2FyZEluZGV4ID09PSBpbmRleFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyAnYm9yZGVyLWJsdWUtNTAwIGJnLWJsdWUtNTAgZGFyazpiZy1ibHVlLTkwMC8yMCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogJ2JvcmRlci1ncmF5LTIwMCBkYXJrOmJvcmRlci1ncmF5LTcwMCBob3Zlcjpib3JkZXItZ3JheS0zMDAnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0U2VsZWN0ZWRDYXJkSW5kZXgoaW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldEdlbmVyYXRlZENhcmQoY2FyZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYXNwZWN0LVsyLzNdIHJlbGF0aXZlIG92ZXJmbG93LWhpZGRlbiByb3VuZGVkXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2NhcmQuZnJvbnRDb3ZlciA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbWdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3JjPXtjYXJkLmZyb250Q292ZXJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsdD17YENhcmQgJHtpbmRleCArIDF9IFByZXZpZXdgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgaC1mdWxsIG9iamVjdC1jb3ZlclwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctZnVsbCBoLWZ1bGwgYmctZ3JheS0xMDAgZGFyazpiZy1ncmF5LTgwMCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctNCBoLTQgYm9yZGVyLTIgYm9yZGVyLWJsdWUtNTAwIGJvcmRlci10LXRyYW5zcGFyZW50IHJvdW5kZWQtZnVsbCBhbmltYXRlLXNwaW5cIiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXIgbXQtMVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQteHMgZm9udC1tZWRpdW1cIj5DYXJkIHtpbmRleCArIDF9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtzZWxlY3RlZENhcmRJbmRleCA9PT0gaW5kZXggJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtYmx1ZS02MDAgZGFyazp0ZXh0LWJsdWUtNDAwXCI+U2VsZWN0ZWQ8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgIDwvQ2FyZEhlYWRlcj5cbiAgICAgICAgICAgICAgICAgICAgPENhcmRDb250ZW50PlxuICAgICAgICAgICAgICAgICAgICAgIDxDYXJkUHJldmlldyBcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhcmQ9e2dlbmVyYXRlZENhcmR9IFxuICAgICAgICAgICAgICAgICAgICAgICAgb25DYXJkVXBkYXRlPXsodXBkYXRlZENhcmQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0R2VuZXJhdGVkQ2FyZCh1cGRhdGVkQ2FyZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFsc28gdXBkYXRlIHRoZSBjYXJkIGluIHRoZSBjYXJkcyBhcnJheVxuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRHZW5lcmF0ZWRDYXJkcyhwcmV2ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB1cGRhdGVkID0gWy4uLnByZXZdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZWRbc2VsZWN0ZWRDYXJkSW5kZXhdID0gdXBkYXRlZENhcmQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVwZGF0ZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlzRnJvbnRCYWNrT25seT17aXNGcm9udEJhY2tPbmx5fVxuICAgICAgICAgICAgICAgICAgICAgICAgb25QcmludD17aGFuZGxlUHJpbnRDbGlja31cbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcGVyQ29uZmlnPXtwYXBlclNpemVzLmZpbmQoc2l6ZSA9PiBzaXplLmlkID09PSBzZWxlY3RlZFBhcGVyU2l6ZSkgfHwgcGFwZXJTaXplc1swXX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHNlY3Rpb25Mb2FkaW5nU3RhdGVzPXtzZWN0aW9uTG9hZGluZ1N0YXRlc31cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFBhc3MgcGFwZXIgc2l6ZSBjb250cm9sIHByb3BzXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZFBhcGVyU2l6ZT17c2VsZWN0ZWRQYXBlclNpemV9XG4gICAgICAgICAgICAgICAgICAgICAgICBvblBhcGVyU2l6ZUNoYW5nZT17c2V0U2VsZWN0ZWRQYXBlclNpemV9XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXBlclNpemVzPXtwYXBlclNpemVzfVxuICAgICAgICAgICAgICAgICAgICAgICAgaXNDYXJkQ29tcGxldGVkPXtpc0NhcmRDb21wbGV0ZWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBGYXN0IHByZXZpZXcgZnVuY3Rpb25hbGl0eVxuICAgICAgICAgICAgICAgICAgICAgICAgZmFzdFByZXZpZXdNb2RlPXtmYXN0UHJldmlld01vZGUgJiYgIWlzQ2FyZENvbXBsZXRlZH1cbiAgICAgICAgICAgICAgICAgICAgICAgIG9uVmlld0Z1bGxDYXJkPXsoKSA9PiBzZXRGYXN0UHJldmlld01vZGUoZmFsc2UpfVxuICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgIDwvQ2FyZENvbnRlbnQ+XG4gICAgICAgICAgICAgICAgICA8L0NhcmQ+XG4gICAgICAgICl9XG5cbiAgICAgICAgey8qIEVtcHR5IFN0YXRlIC0gT25seSBzaG93IHdoZW4gbm8gY2FyZHMgYW5kIG5vdCBpbiBkcmFmdCBtb2RlICovfVxuICAgICAgICB7IWdlbmVyYXRlZENhcmQgJiYgIWlzRHJhZnRNb2RlICYmIGRyYWZ0Q2FyZHMubGVuZ3RoID09PSAwICYmIChcbiAgICAgICAgICAgICAgPENhcmQgY2xhc3NOYW1lPVwic2hhZG93LWxnXCI+XG4gICAgICAgICAgICAgICAgPENhcmRDb250ZW50IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHB5LTEyIHRleHQtY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMTYgaC0xNiBiZy1ncmFkaWVudC10by1iciBmcm9tLWJsdWUtNTAwIHRvLWN5YW4tNjAwIHJvdW5kZWQtZnVsbCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBtYi00XCI+XG4gICAgICAgICAgICAgICAgICAgIDxTcGFya2xlcyBjbGFzc05hbWU9XCJ3LTggaC04IHRleHQtd2hpdGVcIiAvPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwidGV4dC1sZyBmb250LXNlbWlib2xkIHRleHQtZ3JheS05MDAgZGFyazp0ZXh0LXdoaXRlIG1iLTJcIj5cbiAgICAgICAgICAgICAgICBSZWFkeSB0byBDcmVhdGU/XG4gICAgICAgICAgICAgICAgICA8L2gzPlxuICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNjAwIGRhcms6dGV4dC1ncmF5LTQwMCB0ZXh0LXNtIG1heC13LXNtXCI+XG4gICAgICAgICAgICAgICAgRGVzY3JpYmUgeW91ciBwZXJmZWN0IGNhcmQgYWJvdmUgYW5kIHdlJ2xsIGJyaW5nIGl0IHRvIGxpZmUgd2l0aCBjcmVhdGl2ZSBtYWdpYyFcbiAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICA8L0NhcmRDb250ZW50PlxuICAgICAgICAgICAgICA8L0NhcmQ+XG4gICAgICAgICAgICApfVxuXG4gICAgICAgIHsvKiBSZWNlbnQgQ2FyZHMgUHJldmlldyAtIE9ubHkgc2hvdyB3aGVuIG5vIGNhcmQgaXMgZ2VuZXJhdGVkIGFuZCBub3QgaW4gZHJhZnQgbW9kZSAqL31cbiAgICAgICAgeyFnZW5lcmF0ZWRDYXJkICYmICFpc0RyYWZ0TW9kZSAmJiBkcmFmdENhcmRzLmxlbmd0aCA9PT0gMCAmJiAoXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC04XCI+XG4gICAgICAgICAgICA8UmVjZW50Q2FyZHNQcmV2aWV3IFxuICAgICAgICAgICAgICBtYXhDYXJkcz17Nn1cbiAgICAgICAgICAgICAgb25DYXJkU2VsZWN0PXsoY2FyZCkgPT4ge1xuICAgICAgICAgICAgICAgIC8vIFdoZW4gYSBjYXJkIGlzIHNlbGVjdGVkIGZyb20gdGhlIHByZXZpZXcsIG9wZW4gdGhlIGNhcmQgdmlld2VyIHdlYiBhcHBcbiAgICAgICAgICAgICAgICBsZXQgY2FyZElkID0gY2FyZC5pZDtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAvLyBJZiBzaGFyZVVybCBjb250YWlucyBhIGNhcmQgSUQsIGV4dHJhY3QgaXRcbiAgICAgICAgICAgICAgICBpZiAoY2FyZC5zaGFyZVVybCAmJiBjYXJkLnNoYXJlVXJsLmluY2x1ZGVzKCcvY2FyZC8nKSkge1xuICAgICAgICAgICAgICAgICAgY29uc3QgdXJsUGFydHMgPSBjYXJkLnNoYXJlVXJsLnNwbGl0KCcvY2FyZC8nKTtcbiAgICAgICAgICAgICAgICAgIGlmICh1cmxQYXJ0cy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhcmRJZCA9IHVybFBhcnRzWzFdLnNwbGl0KCc/JylbMF07IC8vIFJlbW92ZSBhbnkgcXVlcnkgcGFyYW1ldGVyc1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAvLyBOYXZpZ2F0ZSB0byB0aGUgY2FyZCB2aWV3ZXIgd2ViIGFwcFxuICAgICAgICAgICAgICAgIHdpbmRvdy5vcGVuKGAvY2FyZC8ke2NhcmRJZH1gLCAnX2JsYW5rJyk7XG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApfVxuXG4gICAgICAgIHsvKiBUZW1wbGF0ZSBDdXN0b21pemF0aW9uIERpYWxvZyAqL31cbiAgICAgICAgPERpYWxvZyBvcGVuPXtzaG93VGVtcGxhdGVDdXN0b21pemF0aW9ufSBvbk9wZW5DaGFuZ2U9e3NldFNob3dUZW1wbGF0ZUN1c3RvbWl6YXRpb259PlxuICAgICAgICAgIDxEaWFsb2dDb250ZW50IGNsYXNzTmFtZT1cInNtOm1heC13LTJ4bCBtYXgtaC1bOTB2aF0gb3ZlcmZsb3cteS1hdXRvXCI+XG4gICAgICAgICAgICA8RGlhbG9nSGVhZGVyPlxuICAgICAgICAgICAgICA8RGlhbG9nVGl0bGUgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cbiAgICAgICAgICAgICAgICA8V2FuZDIgY2xhc3NOYW1lPVwidy01IGgtNSB0ZXh0LXB1cnBsZS02MDBcIiAvPlxuICAgICAgICAgICAgICAgIEN1c3RvbWl6ZSBUZW1wbGF0ZVxuICAgICAgICAgICAgICA8L0RpYWxvZ1RpdGxlPlxuICAgICAgICAgICAgICA8RGlhbG9nRGVzY3JpcHRpb24+XG4gICAgICAgICAgICAgICAgUGVyc29uYWxpemUgdGhpcyB0ZW1wbGF0ZSB3aXRoIHlvdXIgb3duIGNoYW5nZXMsIG1lc3NhZ2UsIGFuZCByZWZlcmVuY2UgaW1hZ2VzIGJlZm9yZSBnZW5lcmF0aW5nLlxuICAgICAgICAgICAgICA8L0RpYWxvZ0Rlc2NyaXB0aW9uPlxuICAgICAgICAgICAgPC9EaWFsb2dIZWFkZXI+XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHtzZWxlY3RlZFRlbXBsYXRlICYmIChcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTYgcHktNFwiPlxuICAgICAgICAgICAgICAgIHsvKiBUZW1wbGF0ZSBQcmV2aWV3ICovfVxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0zXCI+XG4gICAgICAgICAgICAgICAgICA8aDQgY2xhc3NOYW1lPVwiZm9udC1tZWRpdW1cIj5TZWxlY3RlZCBUZW1wbGF0ZTwvaDQ+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLWdyYXktNTAgZGFyazpiZy1ncmF5LTgwMCByb3VuZGVkLWxnIHAtNFwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtc3RhcnQgZ2FwLTRcIj5cbiAgICAgICAgICAgICAgICAgICAgICB7c2VsZWN0ZWRUZW1wbGF0ZS5mcm9udENvdmVyICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxpbWdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc3JjPXtzZWxlY3RlZFRlbXBsYXRlLmZyb250Q292ZXJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGFsdD1cIlRlbXBsYXRlIHByZXZpZXdcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LTI0IGgtMzYgb2JqZWN0LWNvdmVyIHJvdW5kZWQtbGcgc2hhZG93LW1kXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgtMVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWdyYXktOTAwIGRhcms6dGV4dC1ncmF5LTEwMCBtYi0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIFRlbXBsYXRlIERldGFpbHM6XG4gICAgICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1ncmF5LTYwMCBkYXJrOnRleHQtZ3JheS00MDAgYmctd2hpdGUgZGFyazpiZy1ncmF5LTcwMCBwLTMgcm91bmRlZCBib3JkZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJmb250LW1lZGl1bSBtYi0yXCI+T3JpZ2luYWwgSW5wdXQ6PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPntzZWxlY3RlZFRlbXBsYXRlLnByb21wdH08L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICB7c2VsZWN0ZWRUZW1wbGF0ZS5nZW5lcmF0ZWRQcm9tcHRzICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1ncmF5LTYwMCBkYXJrOnRleHQtZ3JheS00MDAgYmctYmx1ZS01MCBkYXJrOmJnLWJsdWUtOTAwLzIwIHAtMyByb3VuZGVkIGJvcmRlciBib3JkZXItYmx1ZS0yMDAgZGFyazpib3JkZXItYmx1ZS04MDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cImZvbnQtbWVkaXVtIG1iLTIgdGV4dC1ibHVlLTkwMCBkYXJrOnRleHQtYmx1ZS0xMDBcIj5HZW5lcmF0ZWQgSW1hZ2UgUHJvbXB0czo8L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktMiBtYXgtaC0zMiBvdmVyZmxvdy15LWF1dG9cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3NlbGVjdGVkVGVtcGxhdGUuZ2VuZXJhdGVkUHJvbXB0cy5mcm9udENvdmVyICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZCB0ZXh0LWJsdWUtODAwIGRhcms6dGV4dC1ibHVlLTIwMFwiPkZyb250IENvdmVyOjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQteHMgbXQtMVwiPntzZWxlY3RlZFRlbXBsYXRlLmdlbmVyYXRlZFByb21wdHMuZnJvbnRDb3Zlci5zdWJzdHJpbmcoMCwgMTUwKX0uLi48L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtzZWxlY3RlZFRlbXBsYXRlLmdlbmVyYXRlZFByb21wdHMuYmFja0NvdmVyICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZCB0ZXh0LWJsdWUtODAwIGRhcms6dGV4dC1ibHVlLTIwMFwiPkJhY2sgQ292ZXI6PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC14cyBtdC0xXCI+e3NlbGVjdGVkVGVtcGxhdGUuZ2VuZXJhdGVkUHJvbXB0cy5iYWNrQ292ZXIuc3Vic3RyaW5nKDAsIDE1MCl9Li4uPC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7c2VsZWN0ZWRUZW1wbGF0ZS5nZW5lcmF0ZWRQcm9tcHRzLmxlZnRJbnRlcmlvciAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGQgdGV4dC1ibHVlLTgwMCBkYXJrOnRleHQtYmx1ZS0yMDBcIj5MZWZ0IEludGVyaW9yOjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQteHMgbXQtMVwiPntzZWxlY3RlZFRlbXBsYXRlLmdlbmVyYXRlZFByb21wdHMubGVmdEludGVyaW9yLnN1YnN0cmluZygwLCAxNTApfS4uLjwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3NlbGVjdGVkVGVtcGxhdGUuZ2VuZXJhdGVkUHJvbXB0cy5yaWdodEludGVyaW9yICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZCB0ZXh0LWJsdWUtODAwIGRhcms6dGV4dC1ibHVlLTIwMFwiPlJpZ2h0IEludGVyaW9yOjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQteHMgbXQtMVwiPntzZWxlY3RlZFRlbXBsYXRlLmdlbmVyYXRlZFByb21wdHMucmlnaHRJbnRlcmlvci5zdWJzdHJpbmcoMCwgMTUwKX0uLi48L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgey8qIFByb21wdCBDdXN0b21pemF0aW9ucyAqL31cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktM1wiPlxuICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cInRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1ncmF5LTcwMCBkYXJrOnRleHQtZ3JheS0zMDBcIj5cbiAgICAgICAgICAgICAgICAgICAgQWRkaXRpb25hbCBDaGFuZ2VzIHRvIERlc2lnbiAoT3B0aW9uYWwpXG4gICAgICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgPFRleHRhcmVhXG4gICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiZS5nLiwgJ0NoYW5nZSB0aGUgbWVzc2FnZSB0byBzYXkgZnJvbSBKb3JkYW4nLCAnTWFrZSBpdCBtb3JlIHJvbWFudGljJywgJ0FkZCBtb3JlIGZsb3dlcnMnLCAnQ2hhbmdlIGNvbG9ycyB0byBibHVlIGFuZCBnb2xkJy4uLlwiXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlPXt0ZW1wbGF0ZUN1c3RvbWl6YXRpb25zLnByb21wdENoYW5nZXN9XG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0VGVtcGxhdGVDdXN0b21pemF0aW9ucyhwcmV2ID0+ICh7XG4gICAgICAgICAgICAgICAgICAgICAgLi4ucHJldixcbiAgICAgICAgICAgICAgICAgICAgICBwcm9tcHRDaGFuZ2VzOiBlLnRhcmdldC52YWx1ZVxuICAgICAgICAgICAgICAgICAgICB9KSl9XG4gICAgICAgICAgICAgICAgICAgIHJvd3M9ezN9XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInJlc2l6ZS1ub25lXCJcbiAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgZm9udFNpemU6ICcxNnB4JyB9fVxuICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1ncmF5LTUwMCBkYXJrOnRleHQtZ3JheS00MDBcIj5cbiAgICAgICAgICAgICAgICAgICAgRGVzY3JpYmUgYW55IGNoYW5nZXMgeW91IHdhbnQgdG8gbWFrZSB0byB0aGUgdGVtcGxhdGUgZGVzaWduLCBzdHlsZSwgb3IgY29udGVudC5cbiAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgIHsvKiBNZXNzYWdlIEN1c3RvbWl6YXRpb24gKi99XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTNcIj5cbiAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJ0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZ3JheS03MDAgZGFyazp0ZXh0LWdyYXktMzAwXCI+XG4gICAgICAgICAgICAgICAgICAgIEN1c3RvbSBNZXNzYWdlIChPcHRpb25hbClcbiAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICA8VGV4dGFyZWFcbiAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJMZWF2ZSBlbXB0eSB0byBhdXRvLWdlbmVyYXRlIGEgbWVzc2FnZSwgb3Igd3JpdGUgeW91ciBvd24gY3VzdG9tIG1lc3NhZ2UgaGVyZS4uLlwiXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlPXt0ZW1wbGF0ZUN1c3RvbWl6YXRpb25zLm1lc3NhZ2VDaGFuZ2VzfVxuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldFRlbXBsYXRlQ3VzdG9taXphdGlvbnMocHJldiA9PiAoe1xuICAgICAgICAgICAgICAgICAgICAgIC4uLnByZXYsXG4gICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZUNoYW5nZXM6IGUudGFyZ2V0LnZhbHVlXG4gICAgICAgICAgICAgICAgICAgIH0pKX1cbiAgICAgICAgICAgICAgICAgICAgcm93cz17NH1cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicmVzaXplLW5vbmVcIlxuICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBmb250U2l6ZTogJzE2cHgnIH19XG4gICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LWdyYXktNTAwIGRhcms6dGV4dC1ncmF5LTQwMFwiPlxuICAgICAgICAgICAgICAgICAgICBUaGlzIHdpbGwgcmVwbGFjZSB0aGUgY2FyZCdzIGludGVyaW9yIG1lc3NhZ2UuIExlYXZlIGJsYW5rIHRvIGF1dG8tZ2VuZXJhdGUuXG4gICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICB7LyogUmVmZXJlbmNlIEltYWdlIE9wdGlvbiAqL31cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktNFwiPlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBzcGFjZS14LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICAgICAgdHlwZT1cImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICBpZD1cInVzZS1yZWZlcmVuY2UtaW1hZ2VcIlxuICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e3RlbXBsYXRlQ3VzdG9taXphdGlvbnMudXNlUmVmZXJlbmNlSW1hZ2V9XG4gICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRUZW1wbGF0ZUN1c3RvbWl6YXRpb25zKHByZXYgPT4gKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLnByZXYsXG4gICAgICAgICAgICAgICAgICAgICAgICB1c2VSZWZlcmVuY2VJbWFnZTogZS50YXJnZXQuY2hlY2tlZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlZmVyZW5jZUltYWdlRmlsZTogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlZmVyZW5jZUltYWdlVXJsczogW10sXG4gICAgICAgICAgICAgICAgICAgICAgICByZWZlcmVuY2VJbWFnZVRyYW5zZm9ybWF0aW9uOiBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgfSkpfVxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInJvdW5kZWRcIlxuICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICA8bGFiZWwgaHRtbEZvcj1cInVzZS1yZWZlcmVuY2UtaW1hZ2VcIiBjbGFzc05hbWU9XCJ0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZ3JheS03MDAgZGFyazp0ZXh0LWdyYXktMzAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgQWRkIHJlZmVyZW5jZSBwaG90byB0byBwZXJzb25hbGl6ZSB0aGUgY2FyZFxuICAgICAgICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgIHt0ZW1wbGF0ZUN1c3RvbWl6YXRpb25zLnVzZVJlZmVyZW5jZUltYWdlICYmIChcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTQgcGwtNiBib3JkZXItbC0yIGJvcmRlci1wdXJwbGUtMjAwIGRhcms6Ym9yZGVyLXB1cnBsZS04MDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtcHVycGxlLTYwMCBkYXJrOnRleHQtcHVycGxlLTQwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgVXBsb2FkIGEgcGhvdG8gdG8gY3JlYXRlIGNhcnRvb24gY2hhcmFjdGVycyB0aGF0IGxvb2sgbGlrZSB0aGUgcGVvcGxlIGluIHlvdXIgcGhvdG8hXG4gICAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgIHsvKiBGaWxlIFVwbG9hZCAqL31cbiAgICAgICAgICAgICAgICAgICAgICB7IXRlbXBsYXRlQ3VzdG9taXphdGlvbnMucmVmZXJlbmNlSW1hZ2VGaWxlID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJib3JkZXItMiBib3JkZXItZGFzaGVkIGJvcmRlci1ncmF5LTMwMCBkYXJrOmJvcmRlci1ncmF5LTYwMCByb3VuZGVkLWxnIHAtNCB0ZXh0LWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwiZmlsZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWNjZXB0PVwiaW1hZ2UvKlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBmaWxlID0gZS50YXJnZXQuZmlsZXM/LlswXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmaWxlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRlbXBsYXRlQ3VzdG9taXphdGlvbnMocHJldiA9PiAoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLnByZXYsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVmZXJlbmNlSW1hZ2VGaWxlOiBmaWxlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImhpZGRlblwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ9XCJ0ZW1wbGF0ZS1yZWZlcmVuY2UtdXBsb2FkXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGh0bWxGb3I9XCJ0ZW1wbGF0ZS1yZWZlcmVuY2UtdXBsb2FkXCIgY2xhc3NOYW1lPVwiY3Vyc29yLXBvaW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VXBsb2FkIGNsYXNzTmFtZT1cInctNiBoLTYgbXgtYXV0byBtYi0yIHRleHQtZ3JheS00MDBcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LWdyYXktNjAwIGRhcms6dGV4dC1ncmF5LTQwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVXBsb2FkIHJlZmVyZW5jZSBwaG90b1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIHAtMyBiZy1wdXJwbGUtNTAgZGFyazpiZy1wdXJwbGUtOTAwLzIwIHJvdW5kZWQtbGdcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW1hZ2VJY29uIGNsYXNzTmFtZT1cInctNCBoLTQgdGV4dC1wdXJwbGUtNjAwXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1wdXJwbGUtODAwIGRhcms6dGV4dC1wdXJwbGUtMjAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt0ZW1wbGF0ZUN1c3RvbWl6YXRpb25zLnJlZmVyZW5jZUltYWdlRmlsZS5uYW1lfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhcmlhbnQ9XCJnaG9zdFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplPVwic21cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0VGVtcGxhdGVDdXN0b21pemF0aW9ucyhwcmV2ID0+ICh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLnByZXYsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZmVyZW5jZUltYWdlRmlsZTogbnVsbFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxYIGNsYXNzTmFtZT1cInctNCBoLTRcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHsvKiBUcmFuc2Zvcm1hdGlvbiBJbnN0cnVjdGlvbnMgKi99XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cInRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1ncmF5LTcwMCBkYXJrOnRleHQtZ3JheS0zMDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEhvdyB0byB1c2UgdGhlIHJlZmVyZW5jZSBwaG90b1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRleHRhcmVhXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cImUuZy4sICdVc2UgdGhpcyBwaG90byB0byBjcmVhdGUgY2FydG9vbiB2ZXJzaW9ucyBvZiBtZSBhbmQgbXkgZ2lybGZyaWVuZCBvbiB0aGUgZnJvbnQgY292ZXInLCAnUmVwbGFjZSB0aGUgcGVvcGxlIGluIHRoZSB0ZW1wbGF0ZSB3aXRoIHVzJywgJ01ha2UgdXMgbG9vayBsaWtlIHRoZSBjaGFyYWN0ZXJzIGluIHRoZSB0ZW1wbGF0ZSBzdHlsZScuLi5cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3RlbXBsYXRlQ3VzdG9taXphdGlvbnMucmVmZXJlbmNlSW1hZ2VUcmFuc2Zvcm1hdGlvbn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0VGVtcGxhdGVDdXN0b21pemF0aW9ucyhwcmV2ID0+ICh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLnByZXYsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZmVyZW5jZUltYWdlVHJhbnNmb3JtYXRpb246IGUudGFyZ2V0LnZhbHVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3dzPXszfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicmVzaXplLW5vbmVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgZm9udFNpemU6ICcxNnB4JyB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LWdyYXktNTAwIGRhcms6dGV4dC1ncmF5LTQwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVzY3JpYmUgaG93IHlvdSB3YW50IHlvdXIgcGhvdG8gdG8gYmUgaW5jb3Jwb3JhdGVkIGludG8gdGhlIHRlbXBsYXRlIGRlc2lnbi5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgey8qIEFjdGlvbiBCdXR0b25zICovfVxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBnYXAtMyBwdC00IGJvcmRlci10XCI+XG4gICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgIHZhcmlhbnQ9XCJvdXRsaW5lXCJcbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIHNldFNob3dUZW1wbGF0ZUN1c3RvbWl6YXRpb24oZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgIHNldFNlbGVjdGVkVGVtcGxhdGUobnVsbCk7XG4gICAgICAgICAgICAgICAgICAgICAgc2V0U2hvd1RlbXBsYXRlR2FsbGVyeSh0cnVlKTsgLy8gR28gYmFjayB0byB0ZW1wbGF0ZSBnYWxsZXJ5XG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZsZXgtMVwiXG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIEJhY2sgdG8gVGVtcGxhdGVzXG4gICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlQXBwbHlUZW1wbGF0ZVdpdGhDdXN0b21pemF0aW9uc31cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZmxleC0xIGJnLWdyYWRpZW50LXRvLXIgZnJvbS1wdXJwbGUtNjAwIHRvLWJsdWUtNjAwIGhvdmVyOmZyb20tcHVycGxlLTcwMCBob3Zlcjp0by1ibHVlLTcwMCB0ZXh0LXdoaXRlXCJcbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPFdhbmQyIGNsYXNzTmFtZT1cInctNCBoLTQgbXItMlwiIC8+XG4gICAgICAgICAgICAgICAgICAgIEFwcGx5ICYgR2VuZXJhdGUgQ2FyZFxuICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICA8L0RpYWxvZ0NvbnRlbnQ+XG4gICAgICAgIDwvRGlhbG9nPlxuXG4gICAgICAgIHsvKiBUZW1wbGF0ZSBHYWxsZXJ5IERpYWxvZyAqL31cbiAgICAgICAgPERpYWxvZyBvcGVuPXtzaG93VGVtcGxhdGVHYWxsZXJ5fSBvbk9wZW5DaGFuZ2U9e3NldFNob3dUZW1wbGF0ZUdhbGxlcnl9PlxuICAgICAgICAgIDxEaWFsb2dDb250ZW50IGNsYXNzTmFtZT1cInNtOm1heC13LTZ4bCBtYXgtaC1bOTB2aF0gb3ZlcmZsb3ctaGlkZGVuXCI+XG4gICAgICAgICAgICA8RGlhbG9nSGVhZGVyPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlblwiPlxuICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICA8RGlhbG9nVGl0bGUgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgPEV5ZSBjbGFzc05hbWU9XCJ3LTUgaC01IHRleHQtYmx1ZS02MDBcIiAvPlxuICAgICAgICAgICAgICAgICAgICBDaG9vc2UgYSBUZW1wbGF0ZVxuICAgICAgICAgICAgICAgICAgPC9EaWFsb2dUaXRsZT5cbiAgICAgICAgICAgICAgICAgIDxEaWFsb2dEZXNjcmlwdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgVXNlIEFJIHRvIGZpbmQgcGVyZmVjdCB0ZW1wbGF0ZXMgb3IgYnJvd3NlIGFsbCBleGlzdGluZyBjYXJkcy4gQ2xpY2sgYW55IGNhcmQgdG8gdXNlIGFzIGEgdGVtcGxhdGUhXG4gICAgICAgICAgICAgICAgICA8L0RpYWxvZ0Rlc2NyaXB0aW9uPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHsvKiBTaG93IFByb21wdHMgVG9nZ2xlICovfVxuICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgIHZhcmlhbnQ9XCJvdXRsaW5lXCJcbiAgICAgICAgICAgICAgICAgIHNpemU9XCJzbVwiXG4gICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRTaG93UHJvbXB0cyghc2hvd1Byb21wdHMpfVxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZ2FwLTIgdGV4dC14c1wiXG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgPE1lc3NhZ2VTcXVhcmUgY2xhc3NOYW1lPVwidy0zIGgtM1wiIC8+XG4gICAgICAgICAgICAgICAgICB7c2hvd1Byb21wdHMgPyAnSGlkZSBQcm9tcHRzJyA6ICdTaG93IFByb21wdHMnfVxuICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvRGlhbG9nSGVhZGVyPlxuICAgICAgICAgICAgXG4gICAgICAgICAgICB7LyogVGVtcGxhdGUgU2VhcmNoIFNlY3Rpb24gKi99XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktNCBwYi00IGJvcmRlci1iXCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxuICAgICAgICAgICAgICAgICAgPFNwYXJrbGVzIGNsYXNzTmFtZT1cInctNCBoLTQgdGV4dC1wdXJwbGUtNjAwXCIgLz5cbiAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1ncmF5LTcwMCBkYXJrOnRleHQtZ3JheS0zMDBcIj5UZW1wbGF0ZSBTZWFyY2g8L3NwYW4+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgey8qIFNlYXJjaCBNb2RlIFRvZ2dsZSAqL31cbiAgICAgICAgICAgICAgICA8U2VsZWN0IHZhbHVlPXtzZWFyY2hNb2RlfSBvblZhbHVlQ2hhbmdlPXsodmFsdWU6ICd0ZXh0JyB8ICdhaScgfCAnaHlicmlkJykgPT4gc2V0U2VhcmNoTW9kZSh2YWx1ZSl9PlxuICAgICAgICAgICAgICAgICAgPFNlbGVjdFRyaWdnZXIgY2xhc3NOYW1lPVwidy0zMlwiPlxuICAgICAgICAgICAgICAgICAgICA8U2VsZWN0VmFsdWUgLz5cbiAgICAgICAgICAgICAgICAgIDwvU2VsZWN0VHJpZ2dlcj5cbiAgICAgICAgICAgICAgICAgIDxTZWxlY3RDb250ZW50PlxuICAgICAgICAgICAgICAgICAgICA8U2VsZWN0SXRlbSB2YWx1ZT1cInRleHRcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj7wn5OdPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4+VGV4dDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3RJdGVtPlxuICAgICAgICAgICAgICAgICAgICA8U2VsZWN0SXRlbSB2YWx1ZT1cImFpXCI+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4+8J+OqDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPkFJIFZpc2lvbjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3RJdGVtPlxuICAgICAgICAgICAgICAgICAgICA8U2VsZWN0SXRlbSB2YWx1ZT1cImh5YnJpZFwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPuKaoTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPkh5YnJpZDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3RJdGVtPlxuICAgICAgICAgICAgICAgICAgPC9TZWxlY3RDb250ZW50PlxuICAgICAgICAgICAgICAgIDwvU2VsZWN0PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIHsvKiBTZWFyY2ggTW9kZSBEZXNjcmlwdGlvbiAqL31cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtZ3JheS01MDAgZGFyazp0ZXh0LWdyYXktNDAwXCI+XG4gICAgICAgICAgICAgICAge3NlYXJjaE1vZGUgPT09ICd0ZXh0JyAmJiBcIvCfk50gRmFzdCBrZXl3b3JkIHNlYXJjaCB0aHJvdWdoIGNhcmQgZGVzY3JpcHRpb25zICsgQUktZ2VuZXJhdGVkIHZpc3VhbCBwcm9tcHRzIChpbnN0YW50IHJlc3VsdHMpXCJ9XG4gICAgICAgICAgICAgICAge3NlYXJjaE1vZGUgPT09ICdhaScgJiYgXCLwn46oIEFJIGFuYWx5emVzIGNhcmQgaW1hZ2VzIGZvciB2aXN1YWwgc3R5bGUsIGNvbG9ycywgYW5kIHRoZW1lcyAoMTAtMTUgc2Vjb25kcylcIn1cbiAgICAgICAgICAgICAgICB7c2VhcmNoTW9kZSA9PT0gJ2h5YnJpZCcgJiYgXCLimqEgQ29tYmluZXMgZmFzdCB0ZXh0IHNlYXJjaCB3aXRoIEFJIHZpc3VhbCBhbmFseXNpcyBmb3IgYmVzdCByZXN1bHRzXCJ9XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGdhcC0zXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4LTFcIj5cbiAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17XG4gICAgICAgICAgICAgICAgICAgICAgc2VhcmNoTW9kZSA9PT0gJ3RleHQnIFxuICAgICAgICAgICAgICAgICAgICAgICAgPyBcIvCfjq8gZS5nLiwgJ2JpcnRoZGF5IGRvZycsICdmdW5ueSBhbm5pdmVyc2FyeScsICd3YXRlcmNvbG9yJy4uLlwiXG4gICAgICAgICAgICAgICAgICAgICAgICA6IHNlYXJjaE1vZGUgPT09ICdhaSdcbiAgICAgICAgICAgICAgICAgICAgICAgID8gXCLwn46vIGUuZy4sICd3YXRlcmNvbG9yIHN0eWxlJywgJ2N1dGUgYW5pbWFscycsICdicmlnaHQgY29sb3JzJy4uLlwiXG4gICAgICAgICAgICAgICAgICAgICAgICA6IFwi8J+OryBlLmcuLCAnYmlydGhkYXkgYW5kIGRvZ3MnLCAnZnVubnkgYW5uaXZlcnNhcnknLCAnd2F0ZXJjb2xvciBmbG93ZXJzJy4uLlwiXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3RlbXBsYXRlU2VhcmNoUXVlcnl9XG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0VGVtcGxhdGVTZWFyY2hRdWVyeShlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICAgICAgICAgIG9uS2V5RG93bj17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoZS5rZXkgPT09ICdFbnRlcicgJiYgIWUuc2hpZnRLZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZVRlbXBsYXRlU2VhcmNoKCk7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17aXNTZWFyY2hpbmdUZW1wbGF0ZXN9XG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IGZvbnRTaXplOiAnMTZweCcgfX1cbiAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlVGVtcGxhdGVTZWFyY2h9XG4gICAgICAgICAgICAgICAgICBkaXNhYmxlZD17aXNTZWFyY2hpbmdUZW1wbGF0ZXMgfHwgIXRlbXBsYXRlU2VhcmNoUXVlcnkudHJpbSgpfVxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgZ2FwLTIgJHtcbiAgICAgICAgICAgICAgICAgICAgc2VhcmNoTW9kZSA9PT0gJ3RleHQnIFxuICAgICAgICAgICAgICAgICAgICAgID8gJ2JnLWJsdWUtNjAwIGhvdmVyOmJnLWJsdWUtNzAwJyBcbiAgICAgICAgICAgICAgICAgICAgICA6IHNlYXJjaE1vZGUgPT09ICdhaSdcbiAgICAgICAgICAgICAgICAgICAgICA/ICdiZy1wdXJwbGUtNjAwIGhvdmVyOmJnLXB1cnBsZS03MDAnXG4gICAgICAgICAgICAgICAgICAgICAgOiAnYmctZ3JhZGllbnQtdG8tciBmcm9tLWJsdWUtNjAwIHRvLXB1cnBsZS02MDAgaG92ZXI6ZnJvbS1ibHVlLTcwMCBob3Zlcjp0by1wdXJwbGUtNzAwJ1xuICAgICAgICAgICAgICAgICAgfSB0ZXh0LXdoaXRlYH1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICB7aXNTZWFyY2hpbmdUZW1wbGF0ZXMgPyAoXG4gICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTQgaC00IGJvcmRlci0yIGJvcmRlci13aGl0ZSBib3JkZXItdC10cmFuc3BhcmVudCByb3VuZGVkLWZ1bGwgYW5pbWF0ZS1zcGluXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICB7c2VhcmNoTW9kZSA9PT0gJ2h5YnJpZCcgPyAnQW5hbHl6aW5nLi4uJyA6ICdTZWFyY2hpbmcuLi4nfVxuICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAge3NlYXJjaE1vZGUgPT09ICd0ZXh0JyAmJiA8c3Bhbj7wn5OdPC9zcGFuPn1cbiAgICAgICAgICAgICAgICAgICAgICB7c2VhcmNoTW9kZSA9PT0gJ2FpJyAmJiA8WmFwIGNsYXNzTmFtZT1cInctNCBoLTRcIiAvPn1cbiAgICAgICAgICAgICAgICAgICAgICB7c2VhcmNoTW9kZSA9PT0gJ2h5YnJpZCcgJiYgPHNwYW4+4pqhPC9zcGFuPn1cbiAgICAgICAgICAgICAgICAgICAgICB7c2VhcmNoTW9kZSA9PT0gJ3RleHQnID8gJ1RleHQgU2VhcmNoJyA6IHNlYXJjaE1vZGUgPT09ICdhaScgPyAnQUkgU2VhcmNoJyA6ICdIeWJyaWQgU2VhcmNoJ31cbiAgICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgIHsodGVtcGxhdGVTZWFyY2hRdWVyeSB8fCBhaUZpbHRlcmVkQ2FyZHMubGVuZ3RoID4gMCB8fCB0ZXh0RmlsdGVyZWRDYXJkcy5sZW5ndGggPiAwKSAmJiAoXG4gICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgIHZhcmlhbnQ9XCJvdXRsaW5lXCJcbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17Y2xlYXJUZW1wbGF0ZVNlYXJjaH1cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZ2FwLTJcIlxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8WCBjbGFzc05hbWU9XCJ3LTQgaC00XCIgLz5cbiAgICAgICAgICAgICAgICAgICAgQ2xlYXJcbiAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgey8qIFJlc3VsdHMgU3VtbWFyeSAqL31cbiAgICAgICAgICAgICAge2FpRmlsdGVyZWRDYXJkcy5sZW5ndGggPiAwICYmIChzZWFyY2hNb2RlID09PSAnYWknIHx8IHNlYXJjaE1vZGUgPT09ICdoeWJyaWQnKSAmJiAoXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiB0ZXh0LXNtIHRleHQtcHVycGxlLTYwMCBkYXJrOnRleHQtcHVycGxlLTQwMFwiPlxuICAgICAgICAgICAgICAgICAgPFNwYXJrbGVzIGNsYXNzTmFtZT1cInctNCBoLTRcIiAvPlxuICAgICAgICAgICAgICAgICAgPHNwYW4+XG4gICAgICAgICAgICAgICAgICAgIHtzZWFyY2hNb2RlID09PSAnaHlicmlkJyA/ICdIeWJyaWQgYW5hbHlzaXMnIDogJ0FJIHZpc2lvbid9IGZvdW5kIHthaUZpbHRlcmVkQ2FyZHMubGVuZ3RofSBtYXRjaGVzIGZvciBcInt0ZW1wbGF0ZVNlYXJjaFF1ZXJ5fVwiXG4gICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICB7dGV4dEZpbHRlcmVkQ2FyZHMubGVuZ3RoID4gMCAmJiBzZWFyY2hNb2RlID09PSAndGV4dCcgJiYgKFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgdGV4dC1zbSB0ZXh0LWJsdWUtNjAwIGRhcms6dGV4dC1ibHVlLTQwMFwiPlxuICAgICAgICAgICAgICAgICAgPHNwYW4+8J+TnTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgIDxzcGFuPlRleHQgc2VhcmNoIGZvdW5kIHt0ZXh0RmlsdGVyZWRDYXJkcy5sZW5ndGh9IG1hdGNoZXMgZm9yIFwie3RlbXBsYXRlU2VhcmNoUXVlcnl9XCI8L3NwYW4+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4LTEgb3ZlcmZsb3ctYXV0b1wiPlxuICAgICAgICAgICAgICB7KGFpRmlsdGVyZWRDYXJkcy5sZW5ndGggPiAwICYmIChzZWFyY2hNb2RlID09PSAnYWknIHx8IHNlYXJjaE1vZGUgPT09ICdoeWJyaWQnKSkgfHwgKHRleHRGaWx0ZXJlZENhcmRzLmxlbmd0aCA+IDAgJiYgc2VhcmNoTW9kZSA9PT0gJ3RleHQnKSA/IChcbiAgICAgICAgICAgICAgICAvLyBTaG93IGZpbHRlcmVkIHJlc3VsdHNcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktNFwiPlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZ3JheS03MDAgZGFyazp0ZXh0LWdyYXktMzAwXCI+XG4gICAgICAgICAgICAgICAgICAgIHtzZWFyY2hNb2RlID09PSAndGV4dCcgJiYgJ/Cfk50gVGV4dCBTZWFyY2ggUmVzdWx0cyAocmFua2VkIGJ5IGtleXdvcmQgcmVsZXZhbmNlKSd9XG4gICAgICAgICAgICAgICAgICAgIHtzZWFyY2hNb2RlID09PSAnYWknICYmICfwn46vIEFJIFZpc2lvbiBSZXN1bHRzIChyYW5rZWQgYnkgdmlzdWFsIHJlbGV2YW5jZSknfVxuICAgICAgICAgICAgICAgICAgICB7c2VhcmNoTW9kZSA9PT0gJ2h5YnJpZCcgJiYgJ+KaoSBIeWJyaWQgU2VhcmNoIFJlc3VsdHMgKHJhbmtlZCBieSBjb21iaW5lZCByZWxldmFuY2UpJ31cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPGRpdiBcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZmxleCBvdmVyZmxvdy14LWF1dG8gZ2FwLTQgcGItNFwiXG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgc2Nyb2xsQmVoYXZpb3I6ICdzbW9vdGgnLFxuICAgICAgICAgICAgICAgICAgICAgIFdlYmtpdE92ZXJmbG93U2Nyb2xsaW5nOiAndG91Y2gnLFxuICAgICAgICAgICAgICAgICAgICAgIHNjcm9sbGJhcldpZHRoOiAndGhpbicsXG4gICAgICAgICAgICAgICAgICAgICAgc2Nyb2xsU25hcFR5cGU6ICd4IG1hbmRhdG9yeSdcbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgeyhzZWFyY2hNb2RlID09PSAndGV4dCcgPyB0ZXh0RmlsdGVyZWRDYXJkcyA6IGFpRmlsdGVyZWRDYXJkcykubWFwKChjYXJkLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGZyb250SW1hZ2UgPSBjYXJkLmZyb250Q292ZXIgfHwgY2FyZC5iYWNrQ292ZXIgfHwgY2FyZC5sZWZ0UGFnZSB8fCBjYXJkLnJpZ2h0UGFnZTtcbiAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2NhcmQuaWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZsZXgtc2hyaW5rLTAgdy02NFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IHNjcm9sbFNuYXBBbGlnbjogJ3N0YXJ0JyB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YCR7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VhcmNoTW9kZSA9PT0gJ3RleHQnIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyAnYmctZ3JhZGllbnQtdG8tYnIgZnJvbS1ibHVlLTkwMCB0by1pbmRpZ28tOTAwIGJvcmRlci1ibHVlLTQwMCcgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IHNlYXJjaE1vZGUgPT09ICdhaSdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gJ2JnLWdyYWRpZW50LXRvLWJyIGZyb20tcHVycGxlLTkwMCB0by1ibHVlLTkwMCBib3JkZXItcHVycGxlLTQwMCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogJ2JnLWdyYWRpZW50LXRvLWJyIGZyb20tYmx1ZS05MDAgdmlhLXB1cnBsZS05MDAgdG8taW5kaWdvLTkwMCBib3JkZXItZ3JhZGllbnQtdG8tciBib3JkZXItYmx1ZS00MDAnXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0gcm91bmRlZC14bCBwLTIgc2hhZG93LWlubmVyIHNwYWNlLXktMiBoLWZ1bGwgYm9yZGVyLTIgcmVsYXRpdmVgfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7LyogU2NvcmUgYmFkZ2UgKi99XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSB0b3AtMiBsZWZ0LTIgei0xMCBmbGV4IGdhcC0xXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QmFkZ2UgY2xhc3NOYW1lPXtgJHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VhcmNoTW9kZSA9PT0gJ3RleHQnID8gJ2JnLWJsdWUtNjAwJyA6ICdiZy1wdXJwbGUtNjAwJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSB0ZXh0LXdoaXRlIHRleHQteHNgfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgI3tpbmRleCArIDF9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0JhZGdlPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyhjYXJkLmFpU2NvcmUgfHwgY2FyZC50ZXh0U2NvcmUpICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJhZGdlIGNsYXNzTmFtZT1cImJnLWdyZWVuLTYwMCB0ZXh0LXdoaXRlIHRleHQteHNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7c2VhcmNoTW9kZSA9PT0gJ3RleHQnID8gY2FyZC50ZXh0U2NvcmUgOiBjYXJkLmFpU2NvcmV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3NlYXJjaE1vZGUgPT09ICdhaScgfHwgc2VhcmNoTW9kZSA9PT0gJ2h5YnJpZCcgPyAnJScgOiAnJ31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9CYWRnZT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2Zyb250SW1hZ2UgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW1nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNyYz17ZnJvbnRJbWFnZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWx0PXtgVGVtcGxhdGU6ICR7Y2FyZC5wcm9tcHQgfHwgJ1VudGl0bGVkJ31gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJyb3VuZGVkLWxnIHNoYWRvdy1sZyB3LWZ1bGwgaC1hdXRvIG9iamVjdC1jb3ZlciBzZWxlY3Qtbm9uZSBwb2ludGVyLWV2ZW50cy1ub25lXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9hZGluZz1cImxhenlcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJTZWxlY3Q6ICdub25lJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LWZ1bGwgaC00OCBiZy1ncmFkaWVudC10by1iciBmcm9tLWdyYXktMTAwIHRvLWdyYXktMjAwIHJvdW5kZWQtbGcgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlciB0ZXh0LWdyYXktNTAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEltYWdlSWNvbiBjbGFzc05hbWU9XCJ3LTggaC04IG14LWF1dG8gbWItMlwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbVwiPk5vIHByZXZpZXc8L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YHRleHQteHMgJHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlYXJjaE1vZGUgPT09ICd0ZXh0JyA/ICd0ZXh0LWJsdWUtMTAwIGJnLWJsdWUtODAwLzUwJyA6ICd0ZXh0LXB1cnBsZS0xMDAgYmctcHVycGxlLTgwMC81MCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IHB4LTIgcHktMSByb3VuZGVkIHNwYWNlLXktMWB9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2NhcmQucHJvbXB0Py5zdWJzdHJpbmcoMCwgNjApIHx8ICdVbnRpdGxlZCd9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjYXJkLnByb21wdCAmJiBjYXJkLnByb21wdC5sZW5ndGggPiA2MCAmJiAnLi4uJ31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7LyogU2hvdyBHZW5lcmF0ZWQgUHJvbXB0cyBpZiBlbmFibGVkICovfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3Nob3dQcm9tcHRzICYmIGNhcmQuZ2VuZXJhdGVkUHJvbXB0cyAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC14cyBvcGFjaXR5LTgwIGJvcmRlci10IGJvcmRlci13aGl0ZS8yMCBwdC0xIHNwYWNlLXktMVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjYXJkLmdlbmVyYXRlZFByb21wdHMuZnJvbnRDb3ZlciAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkXCI+RnJvbnQ6PC9zcGFuPiB7Y2FyZC5nZW5lcmF0ZWRQcm9tcHRzLmZyb250Q292ZXIuc3Vic3RyaW5nKDAsIDgwKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2NhcmQuZ2VuZXJhdGVkUHJvbXB0cy5mcm9udENvdmVyLmxlbmd0aCA+IDgwICYmICcuLi4nfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y2FyZC5nZW5lcmF0ZWRQcm9tcHRzLmJhY2tDb3ZlciAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkXCI+QmFjazo8L3NwYW4+IHtjYXJkLmdlbmVyYXRlZFByb21wdHMuYmFja0NvdmVyLnN1YnN0cmluZygwLCA4MCl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjYXJkLmdlbmVyYXRlZFByb21wdHMuYmFja0NvdmVyLmxlbmd0aCA+IDgwICYmICcuLi4nfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7LyogQWN0aW9uIEJ1dHRvbnMgKi99XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZ2FwLTEgcHQtMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZT1cInNtXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXJpYW50PVwib3V0bGluZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZmxleC0xIGgtNiB0ZXh0LXhzIGJnLXdoaXRlLzEwIGJvcmRlci13aGl0ZS8yMCB0ZXh0LXdoaXRlIGhvdmVyOmJnLXdoaXRlLzIwXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENvbnZlcnQgR2FsbGVyeUNhcmQgdG8gR2VuZXJhdGVkQ2FyZCBmb3JtYXQgZm9yIGFwcGx5VGVtcGxhdGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXBsYXRlOiBHZW5lcmF0ZWRDYXJkID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogY2FyZC5pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvbXB0OiBjYXJkLnByb21wdCB8fCAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnJvbnRDb3ZlcjogY2FyZC5mcm9udENvdmVyIHx8ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYWNrQ292ZXI6IGNhcmQuYmFja0NvdmVyIHx8ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZWZ0UGFnZTogY2FyZC5sZWZ0UGFnZSB8fCAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmlnaHRQYWdlOiBjYXJkLnJpZ2h0UGFnZSB8fCAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3JlYXRlZEF0OiBuZXcgRGF0ZShjYXJkLmNyZWF0ZWRBdCAqIDEwMDApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaGFyZVVybDogY2FyZC5zaGFyZVVybCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2VuZXJhdGVkUHJvbXB0czogY2FyZC5nZW5lcmF0ZWRQcm9tcHRzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBwbHlUZW1wbGF0ZSh0ZW1wbGF0ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxXYW5kMiBjbGFzc05hbWU9XCJ3LTMgaC0zIG1yLTFcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEN1c3RvbWl6ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU9XCJzbVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyaWFudD1cIm91dGxpbmVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZsZXgtMSBoLTYgdGV4dC14cyBiZy1ibHVlLTYwMC84MCBib3JkZXItYmx1ZS01MDAvNTAgdGV4dC13aGl0ZSBob3ZlcjpiZy1ibHVlLTYwMFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDb252ZXJ0IEdhbGxlcnlDYXJkIHRvIEdlbmVyYXRlZENhcmQgZm9ybWF0IGZvciBwcmV2aWV3XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wbGF0ZTogR2VuZXJhdGVkQ2FyZCA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGNhcmQuaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb21wdDogY2FyZC5wcm9tcHQgfHwgJycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZyb250Q292ZXI6IGNhcmQuZnJvbnRDb3ZlciB8fCAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja0NvdmVyOiBjYXJkLmJhY2tDb3ZlciB8fCAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGVmdFBhZ2U6IGNhcmQubGVmdFBhZ2UgfHwgJycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJpZ2h0UGFnZTogY2FyZC5yaWdodFBhZ2UgfHwgJycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoY2FyZC5jcmVhdGVkQXQgKiAxMDAwKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hhcmVVcmw6IGNhcmQuc2hhcmVVcmwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdlbmVyYXRlZFByb21wdHM6IGNhcmQuZ2VuZXJhdGVkUHJvbXB0c1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZVRlbXBsYXRlU2VsZWN0KHRlbXBsYXRlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEV5ZSBjbGFzc05hbWU9XCJ3LTMgaC0zIG1yLTFcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNlbGVjdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgLy8gU2hvdyBhbGwgdGVtcGxhdGVzXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTRcIj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWdyYXktNzAwIGRhcms6dGV4dC1ncmF5LTMwMFwiPlxuICAgICAgICAgICAgICAgICAgICDwn5OaIEFsbCBUZW1wbGF0ZXNcbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LWZ1bGwgbWF4LWgtWzUwdmhdIG92ZXJmbG93LWF1dG9cIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBcbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmbGV4IG92ZXJmbG93LXgtYXV0byBnYXAtNCBwYi00XCJcbiAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgc2Nyb2xsQmVoYXZpb3I6ICdzbW9vdGgnLFxuICAgICAgICAgICAgICAgICAgICAgICAgV2Via2l0T3ZlcmZsb3dTY3JvbGxpbmc6ICd0b3VjaCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBzY3JvbGxiYXJXaWR0aDogJ3RoaW4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2Nyb2xsU25hcFR5cGU6ICd4IG1hbmRhdG9yeSdcbiAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgeygoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB7IGdldENhY2hlZENhcmRzLCBoYXNDYWNoZSwgdG90YWxDYXJkcyB9ID0gdXNlQ2FyZENhY2hlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBhbGxDYXJkcyA9IGhhc0NhY2hlID8gZ2V0Q2FjaGVkQ2FyZHMoMSwgTWF0aC5tYXgodG90YWxDYXJkcywgMTAwMCkpIDogW107XG4gICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhbGxDYXJkcy5tYXAoKGNhcmQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZnJvbnRJbWFnZSA9IGNhcmQuZnJvbnRDb3ZlciB8fCBjYXJkLmJhY2tDb3ZlciB8fCBjYXJkLmxlZnRQYWdlIHx8IGNhcmQucmlnaHRQYWdlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2NhcmQuaWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmbGV4LXNocmluay0wIHctNjRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgc2Nyb2xsU25hcEFsaWduOiAnc3RhcnQnIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy1ncmF5LTkwMCByb3VuZGVkLXhsIHAtMiBzaGFkb3ctaW5uZXIgc3BhY2UteS0yIGgtZnVsbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZnJvbnRJbWFnZSA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW1nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcmM9e2Zyb250SW1hZ2V9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbHQ9e2BUZW1wbGF0ZTogJHtjYXJkLnByb21wdCB8fCAnVW50aXRsZWQnfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJyb3VuZGVkLWxnIHNoYWRvdy1sZyB3LWZ1bGwgaC1hdXRvIG9iamVjdC1jb3ZlciBzZWxlY3Qtbm9uZSBwb2ludGVyLWV2ZW50cy1ub25lXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvYWRpbmc9XCJsYXp5XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJTZWxlY3Q6ICdub25lJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy1mdWxsIGgtNDggYmctZ3JhZGllbnQtdG8tYnIgZnJvbS1ncmF5LTEwMCB0by1ncmF5LTIwMCByb3VuZGVkLWxnIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtY2VudGVyIHRleHQtZ3JheS01MDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEltYWdlSWNvbiBjbGFzc05hbWU9XCJ3LTggaC04IG14LWF1dG8gbWItMlwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc21cIj5ObyBwcmV2aWV3PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtZ3JheS0xMDAgYmctZ3JheS04MDAvNTAgcHgtMiBweS0xIHJvdW5kZWQgc3BhY2UteS0xXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjYXJkLnByb21wdD8uc3Vic3RyaW5nKDAsIDYwKSB8fCAnVW50aXRsZWQnfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2NhcmQucHJvbXB0ICYmIGNhcmQucHJvbXB0Lmxlbmd0aCA+IDYwICYmICcuLi4nfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsvKiBTaG93IEdlbmVyYXRlZCBQcm9tcHRzIGlmIGVuYWJsZWQgKi99XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3Nob3dQcm9tcHRzICYmIGNhcmQuZ2VuZXJhdGVkUHJvbXB0cyAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQteHMgb3BhY2l0eS04MCBib3JkZXItdCBib3JkZXItd2hpdGUvMjAgcHQtMSBzcGFjZS15LTFcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2NhcmQuZ2VuZXJhdGVkUHJvbXB0cy5mcm9udENvdmVyICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZFwiPkZyb250Ojwvc3Bhbj4ge2NhcmQuZ2VuZXJhdGVkUHJvbXB0cy5mcm9udENvdmVyLnN1YnN0cmluZygwLCA4MCl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y2FyZC5nZW5lcmF0ZWRQcm9tcHRzLmZyb250Q292ZXIubGVuZ3RoID4gODAgJiYgJy4uLid9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjYXJkLmdlbmVyYXRlZFByb21wdHMuYmFja0NvdmVyICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZFwiPkJhY2s6PC9zcGFuPiB7Y2FyZC5nZW5lcmF0ZWRQcm9tcHRzLmJhY2tDb3Zlci5zdWJzdHJpbmcoMCwgODApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2NhcmQuZ2VuZXJhdGVkUHJvbXB0cy5iYWNrQ292ZXIubGVuZ3RoID4gODAgJiYgJy4uLid9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsvKiBBY3Rpb24gQnV0dG9ucyAqL31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZ2FwLTEgcHQtMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplPVwic21cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXJpYW50PVwib3V0bGluZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZsZXgtMSBoLTYgdGV4dC14cyBiZy13aGl0ZS8xMCBib3JkZXItd2hpdGUvMjAgdGV4dC13aGl0ZSBob3ZlcjpiZy13aGl0ZS8yMFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDb252ZXJ0IEdhbGxlcnlDYXJkIHRvIEdlbmVyYXRlZENhcmQgZm9ybWF0IGZvciBhcHBseVRlbXBsYXRlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcGxhdGU6IEdlbmVyYXRlZENhcmQgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogY2FyZC5pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb21wdDogY2FyZC5wcm9tcHQgfHwgJycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcm9udENvdmVyOiBjYXJkLmZyb250Q292ZXIgfHwgJycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYWNrQ292ZXI6IGNhcmQuYmFja0NvdmVyIHx8ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGVmdFBhZ2U6IGNhcmQubGVmdFBhZ2UgfHwgJycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByaWdodFBhZ2U6IGNhcmQucmlnaHRQYWdlIHx8ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3JlYXRlZEF0OiBuZXcgRGF0ZShjYXJkLmNyZWF0ZWRBdCAqIDEwMDApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hhcmVVcmw6IGNhcmQuc2hhcmVVcmwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnZW5lcmF0ZWRQcm9tcHRzOiBjYXJkLmdlbmVyYXRlZFByb21wdHNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwcGx5VGVtcGxhdGUodGVtcGxhdGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8V2FuZDIgY2xhc3NOYW1lPVwidy0zIGgtMyBtci0xXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ3VzdG9taXplXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZT1cInNtXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyaWFudD1cIm91dGxpbmVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmbGV4LTEgaC02IHRleHQteHMgYmctYmx1ZS02MDAvODAgYm9yZGVyLWJsdWUtNTAwLzUwIHRleHQtd2hpdGUgaG92ZXI6YmctYmx1ZS02MDBcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ29udmVydCBHYWxsZXJ5Q2FyZCB0byBHZW5lcmF0ZWRDYXJkIGZvcm1hdCBmb3IgcHJldmlld1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXBsYXRlOiBHZW5lcmF0ZWRDYXJkID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGNhcmQuaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9tcHQ6IGNhcmQucHJvbXB0IHx8ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnJvbnRDb3ZlcjogY2FyZC5mcm9udENvdmVyIHx8ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja0NvdmVyOiBjYXJkLmJhY2tDb3ZlciB8fCAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxlZnRQYWdlOiBjYXJkLmxlZnRQYWdlIHx8ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmlnaHRQYWdlOiBjYXJkLnJpZ2h0UGFnZSB8fCAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoY2FyZC5jcmVhdGVkQXQgKiAxMDAwKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNoYXJlVXJsOiBjYXJkLnNoYXJlVXJsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2VuZXJhdGVkUHJvbXB0czogY2FyZC5nZW5lcmF0ZWRQcm9tcHRzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVUZW1wbGF0ZVNlbGVjdCh0ZW1wbGF0ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxFeWUgY2xhc3NOYW1lPVwidy0zIGgtMyBtci0xXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU2VsZWN0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgIH0pKCl9XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGp1c3RpZnktYmV0d2VlbiBpdGVtcy1jZW50ZXIgcHQtNCBib3JkZXItdFwiPlxuICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtZ3JheS01MDBcIj5cbiAgICAgICAgICAgICAgICB7YWlGaWx0ZXJlZENhcmRzLmxlbmd0aCA+IDAgXG4gICAgICAgICAgICAgICAgICA/IFwiQUkgaGFzIHJhbmtlZCB0aGVzZSB0ZW1wbGF0ZXMgYnkgcmVsZXZhbmNlIHRvIHlvdXIgc2VhcmNoXCJcbiAgICAgICAgICAgICAgICAgIDogXCJVc2UgJ0N1c3RvbWl6ZScgdG8gcGVyc29uYWxpemUgdGVtcGxhdGVzIHdpdGggeW91ciBvd24gbWVzc2FnZSBhbmQgY2hhbmdlcywgb3IgJ1NlbGVjdCcgdG8gcHJldmlldyBhbmQgcHJpbnQgdGhlbSBhcy1pc1wiXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICB2YXJpYW50PVwib3V0bGluZVwiXG4gICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgc2V0U2hvd1RlbXBsYXRlR2FsbGVyeShmYWxzZSk7XG4gICAgICAgICAgICAgICAgICBjbGVhclRlbXBsYXRlU2VhcmNoKCk7XG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIENhbmNlbFxuICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvRGlhbG9nQ29udGVudD5cbiAgICAgICAgPC9EaWFsb2c+XG5cbiAgICAgICAgey8qIERyYWZ0IENhcmQgUHJldmlldyBEaWFsb2cgKi99XG4gICAgICAgIDxEaWFsb2cgb3Blbj17cHJldmlld2luZ0RyYWZ0SW5kZXggIT09IC0xfSBvbk9wZW5DaGFuZ2U9eyhvcGVuKSA9PiAhb3BlbiAmJiBzZXRQcmV2aWV3aW5nRHJhZnRJbmRleCgtMSl9PlxuICAgICAgICAgIDxEaWFsb2dDb250ZW50IGNsYXNzTmFtZT1cInNtOm1heC13LTR4bCBtYXgtaC1bOTB2aF0gb3ZlcmZsb3ctYXV0b1wiPlxuICAgICAgICAgICAgPERpYWxvZ0hlYWRlcj5cbiAgICAgICAgICAgICAgPERpYWxvZ1RpdGxlIGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XG4gICAgICAgICAgICAgICAgPEV5ZSBjbGFzc05hbWU9XCJ3LTUgaC01IHRleHQtcHVycGxlLTYwMFwiIC8+XG4gICAgICAgICAgICAgICAgRGVzaWduIFZhcmlhdGlvbiB7cHJldmlld2luZ0RyYWZ0SW5kZXggKyAxfSAtIERldGFpbGVkIFByZXZpZXdcbiAgICAgICAgICAgICAgPC9EaWFsb2dUaXRsZT5cbiAgICAgICAgICAgICAgPERpYWxvZ0Rlc2NyaXB0aW9uPlxuICAgICAgICAgICAgICAgIExvdyBxdWFsaXR5IHByZXZpZXcgb2YgdGhlIGNvbXBsZXRlIGNhcmQgZGVzaWduLiBTZWxlY3QgdGhpcyBkZXNpZ24gdG8gZ2VuZXJhdGUgdGhlIGhpZ2gtcXVhbGl0eSB2ZXJzaW9uLlxuICAgICAgICAgICAgICA8L0RpYWxvZ0Rlc2NyaXB0aW9uPlxuICAgICAgICAgICAgPC9EaWFsb2dIZWFkZXI+XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHtwcmV2aWV3aW5nRHJhZnRJbmRleCAhPT0gLTEgJiYgZHJhZnRDYXJkc1twcmV2aWV3aW5nRHJhZnRJbmRleF0gJiYgKFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktNlwiPlxuICAgICAgICAgICAgICAgIHsvKiBGdWxsIENhcmQgUHJldmlldyAqL31cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLWdyYXktNTAgZGFyazpiZy1ncmF5LTgwMCByb3VuZGVkLWxnIHAtNFwiPlxuICAgICAgICAgICAgICAgICAgPENhcmRQcmV2aWV3IFxuICAgICAgICAgICAgICAgICAgICBjYXJkPXtkcmFmdENhcmRzW3ByZXZpZXdpbmdEcmFmdEluZGV4XX0gXG4gICAgICAgICAgICAgICAgICAgIGlzRnJvbnRCYWNrT25seT17aXNGcm9udEJhY2tPbmx5fVxuICAgICAgICAgICAgICAgICAgICBmYXN0UHJldmlld01vZGU9e2ZhbHNlfVxuICAgICAgICAgICAgICAgICAgICBpc0NhcmRDb21wbGV0ZWQ9e2ZhbHNlfVxuICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICB7LyogQWN0aW9uIEJ1dHRvbnMgKi99XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGdhcC0zIGp1c3RpZnktY2VudGVyIHB0LTQgYm9yZGVyLXRcIj5cbiAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgdmFyaWFudD1cIm91dGxpbmVcIlxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRQcmV2aWV3aW5nRHJhZnRJbmRleCgtMSl9XG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIENsb3NlIFByZXZpZXdcbiAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgc2V0U2VsZWN0ZWREcmFmdEluZGV4KHByZXZpZXdpbmdEcmFmdEluZGV4KTtcbiAgICAgICAgICAgICAgICAgICAgICBzZXRQcmV2aWV3aW5nRHJhZnRJbmRleCgtMSk7XG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJnLXB1cnBsZS02MDAgaG92ZXI6YmctcHVycGxlLTcwMCB0ZXh0LXdoaXRlXCJcbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPENoZWNrQ2lyY2xlIGNsYXNzTmFtZT1cInctNCBoLTQgbXItMlwiIC8+XG4gICAgICAgICAgICAgICAgICAgIFNlbGVjdCBUaGlzIERlc2lnblxuICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICA8L0RpYWxvZ0NvbnRlbnQ+XG4gICAgICAgIDwvRGlhbG9nPlxuXG4gICAgICAgIHsvKiBQcmludCBDb25maXJtYXRpb24gRGlhbG9nICovfVxuICAgICAgICA8RGlhbG9nIG9wZW49e3Nob3dQcmludENvbmZpcm1hdGlvbn0gb25PcGVuQ2hhbmdlPXtzZXRTaG93UHJpbnRDb25maXJtYXRpb259PlxuICAgICAgICAgIDxEaWFsb2dDb250ZW50IGNsYXNzTmFtZT1cInNtOm1heC13LWxnXCI+XG4gICAgICAgICAgICA8RGlhbG9nSGVhZGVyPlxuICAgICAgICAgICAgICA8RGlhbG9nVGl0bGUgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cbiAgICAgICAgICAgICAgICA8QWxlcnRUcmlhbmdsZSBjbGFzc05hbWU9XCJ3LTUgaC01IHRleHQtYW1iZXItNTAwXCIgLz5cbiAgICAgICAgICAgICAgICBHZXQgWW91ciBDYXJkXG4gICAgICAgICAgICAgIDwvRGlhbG9nVGl0bGU+XG4gICAgICAgICAgICAgIDxEaWFsb2dEZXNjcmlwdGlvbj5cbiAgICAgICAgICAgICAgICBIb3cgd291bGQgeW91IGxpa2UgdG8gcmVjZWl2ZSB5b3VyIGdyZWV0aW5nIGNhcmQ/XG4gICAgICAgICAgICAgIDwvRGlhbG9nRGVzY3JpcHRpb24+XG4gICAgICAgICAgICA8L0RpYWxvZ0hlYWRlcj5cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTRcIj5cbiAgICAgICAgICAgICAgey8qIFByaW50IE9wdGlvbiBTZWxlY3Rpb24gKi99XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0zXCI+XG4gICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cInRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1ncmF5LTcwMCBkYXJrOnRleHQtZ3JheS0zMDBcIj5cbiAgICAgICAgICAgICAgICAgIENob29zZSBkZWxpdmVyeSBtZXRob2Q6XG4gICAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICB7LyogUGh5c2ljYWwgUHJpbnQgT3B0aW9uICovfVxuICAgICAgICAgICAgICAgIDxkaXYgXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2BwLTQgcm91bmRlZC1sZyBib3JkZXItMiBjdXJzb3ItcG9pbnRlciB0cmFuc2l0aW9uLWFsbCAke1xuICAgICAgICAgICAgICAgICAgICBwcmludE9wdGlvbiA9PT0gJ3BoeXNpY2FsJyBcbiAgICAgICAgICAgICAgICAgICAgICA/ICdib3JkZXItYmx1ZS01MDAgYmctYmx1ZS01MCBkYXJrOmJnLWJsdWUtOTAwLzIwJyBcbiAgICAgICAgICAgICAgICAgICAgICA6ICdib3JkZXItZ3JheS0yMDAgZGFyazpib3JkZXItZ3JheS03MDAgaG92ZXI6Ym9yZGVyLWdyYXktMzAwJ1xuICAgICAgICAgICAgICAgICAgfWB9XG4gICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRQcmludE9wdGlvbigncGh5c2ljYWwnKX1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtc3RhcnQgZ2FwLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cInJhZGlvXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e3ByaW50T3B0aW9uID09PSAncGh5c2ljYWwnfVxuICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eygpID0+IHNldFByaW50T3B0aW9uKCdwaHlzaWNhbCcpfVxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy00IGgtNCB0ZXh0LWJsdWUtNjAwXCJcbiAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4LTFcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yIG1iLTFcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxQcmludGVyIGNsYXNzTmFtZT1cInctNSBoLTUgdGV4dC1ibHVlLTYwMFwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aDQgY2xhc3NOYW1lPVwiZm9udC1tZWRpdW0gdGV4dC1ibHVlLTkwMCBkYXJrOnRleHQtYmx1ZS0xMDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgUGh5c2ljYWwgUHJpbnQgJiBQaWNrdXBcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvaDQ+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LWJsdWUtODAwIGRhcms6dGV4dC1ibHVlLTIwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgUHJpbnQgeW91ciBjYXJkIGF0IG91ciBsb2NhdGlvbi4gUmVhZHkgZm9yIHBpY2t1cCBpbiBqdXN0IGEgZmV3IG1pbnV0ZXMuXG4gICAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtMiBzcGFjZS15LTFcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgdGV4dC14cyB0ZXh0LWdyYXktNjAwIGRhcms6dGV4dC1ncmF5LTQwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMS41IGgtMS41IGJnLWdyZWVuLTUwMCByb3VuZGVkLWZ1bGxcIj48L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4+SGlnaCBxdWFsaXR5IGNvbG9yIHByaW50aW5nPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yIHRleHQteHMgdGV4dC1ncmF5LTYwMCBkYXJrOnRleHQtZ3JheS00MDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTEuNSBoLTEuNSBiZy1ncmVlbi01MDAgcm91bmRlZC1mdWxsXCI+PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtpc0Zyb250QmFja09ubHkgPyAnRnJvbnQgYW5kIGJhY2sgb25seScgOiAnRnVsbCBncmVldGluZyBjYXJkIHdpdGggaW50ZXJpb3IgcGFnZXMnfVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgdGV4dC14cyB0ZXh0LWdyYXktNjAwIGRhcms6dGV4dC1ncmF5LTQwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMS41IGgtMS41IGJnLWdyZWVuLTUwMCByb3VuZGVkLWZ1bGxcIj48L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4+UmVhZHkgZm9yIHBpY2t1cCBzaG9ydGx5PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICB7LyogRW1haWwgUERGIE9wdGlvbiAqL31cbiAgICAgICAgICAgICAgICA8ZGl2IFxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgcC00IHJvdW5kZWQtbGcgYm9yZGVyLTIgY3Vyc29yLXBvaW50ZXIgdHJhbnNpdGlvbi1hbGwgJHtcbiAgICAgICAgICAgICAgICAgICAgcHJpbnRPcHRpb24gPT09ICdlbWFpbCcgXG4gICAgICAgICAgICAgICAgICAgICAgPyAnYm9yZGVyLWdyZWVuLTUwMCBiZy1ncmVlbi01MCBkYXJrOmJnLWdyZWVuLTkwMC8yMCcgXG4gICAgICAgICAgICAgICAgICAgICAgOiAnYm9yZGVyLWdyYXktMjAwIGRhcms6Ym9yZGVyLWdyYXktNzAwIGhvdmVyOmJvcmRlci1ncmF5LTMwMCdcbiAgICAgICAgICAgICAgICAgIH1gfVxuICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0UHJpbnRPcHRpb24oJ2VtYWlsJyl9XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLXN0YXJ0IGdhcC0zXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJyYWRpb1wiXG4gICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtwcmludE9wdGlvbiA9PT0gJ2VtYWlsJ31cbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoKSA9PiBzZXRQcmludE9wdGlvbignZW1haWwnKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctNCBoLTQgdGV4dC1ncmVlbi02MDBcIlxuICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgtMVwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgbWItMVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPE1lc3NhZ2VDaXJjbGUgY2xhc3NOYW1lPVwidy01IGgtNSB0ZXh0LWdyZWVuLTYwMFwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aDQgY2xhc3NOYW1lPVwiZm9udC1tZWRpdW0gdGV4dC1ncmVlbi05MDAgZGFyazp0ZXh0LWdyZWVuLTEwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICBFbWFpbCBQREZcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvaDQ+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LWdyZWVuLTgwMCBkYXJrOnRleHQtZ3JlZW4tMjAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICBSZWNlaXZlIGEgaGlnaC1xdWFsaXR5IFBERiBvZiB5b3VyIGNhcmQgYXQge3VzZXJFbWFpbH0uIFByaW50IGF0IGhvbWUgb3IgYW55IHByaW50IHNob3AuXG4gICAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtMiBzcGFjZS15LTFcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgdGV4dC14cyB0ZXh0LWdyYXktNjAwIGRhcms6dGV4dC1ncmF5LTQwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMS41IGgtMS41IGJnLWdyZWVuLTUwMCByb3VuZGVkLWZ1bGxcIj48L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4+SW5zdGFudCBkZWxpdmVyeSB0byB5b3VyIGluYm94PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yIHRleHQteHMgdGV4dC1ncmF5LTYwMCBkYXJrOnRleHQtZ3JheS00MDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTEuNSBoLTEuNSBiZy1ncmVlbi01MDAgcm91bmRlZC1mdWxsXCI+PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPlByaW50IGFueXdoZXJlLCBhbnl0aW1lPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yIHRleHQteHMgdGV4dC1ncmF5LTYwMCBkYXJrOnRleHQtZ3JheS00MDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTEuNSBoLTEuNSBiZy1ncmVlbi01MDAgcm91bmRlZC1mdWxsXCI+PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPkhpZ2gtcmVzb2x1dGlvbiBQREYgb3B0aW1pemVkIGZvciBwcmludGluZzwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICB7cHJpbnRPcHRpb24gPT09ICdwaHlzaWNhbCcgJiYgKFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctYW1iZXItNTAgZGFyazpiZy1hbWJlci05MDAvMjAgcC0zIHJvdW5kZWQtbGdcIj5cbiAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1hbWJlci04MDAgZGFyazp0ZXh0LWFtYmVyLTIwMFwiPlxuICAgICAgICAgICAgICAgICAgICA8c3Ryb25nPlBsZWFzZSBjb25maXJtOjwvc3Ryb25nPiBZb3UgYXJlIHJlYWR5IHRvIHBpY2sgdXAgeW91ciBwcmludGVkIGNhcmQgZnJvbSBvdXIgbG9jYXRpb24uXG4gICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGdhcC0zIG10LTZcIj5cbiAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgIHZhcmlhbnQ9XCJvdXRsaW5lXCJcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRTaG93UHJpbnRDb25maXJtYXRpb24oZmFsc2UpfVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZsZXgtMVwiXG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICBDYW5jZWxcbiAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVDb25maXJtUHJpbnR9XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgZmxleC0xICR7XG4gICAgICAgICAgICAgICAgICBwcmludE9wdGlvbiA9PT0gJ2VtYWlsJyBcbiAgICAgICAgICAgICAgICAgICAgPyAnYmctZ3JlZW4tNjAwIGhvdmVyOmJnLWdyZWVuLTcwMCcgXG4gICAgICAgICAgICAgICAgICAgIDogJ2JnLWJsdWUtNjAwIGhvdmVyOmJnLWJsdWUtNzAwJ1xuICAgICAgICAgICAgICAgIH1gfVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAge3ByaW50T3B0aW9uID09PSAnZW1haWwnID8gKFxuICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgPE1lc3NhZ2VDaXJjbGUgY2xhc3NOYW1lPVwidy00IGgtNCBtci0yXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgU2VuZCBQREYgdG8gRW1haWxcbiAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICA8UHJpbnRlciBjbGFzc05hbWU9XCJ3LTQgaC00IG1yLTJcIiAvPlxuICAgICAgICAgICAgICAgICAgICBQcmludCBDYXJkXG4gICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvRGlhbG9nQ29udGVudD5cbiAgICAgICAgPC9EaWFsb2c+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKTtcbn0gIl0sIm5hbWVzIjpbIlJlYWN0IiwidXNlU3RhdGUiLCJ1c2VFZmZlY3QiLCJCdXR0b24iLCJJbnB1dCIsIlRleHRhcmVhIiwiQ2FyZCIsIkNhcmRDb250ZW50IiwiQ2FyZERlc2NyaXB0aW9uIiwiQ2FyZEhlYWRlciIsIkNhcmRUaXRsZSIsIkJhZGdlIiwiU2VwYXJhdG9yIiwiU2VsZWN0IiwiU2VsZWN0Q29udGVudCIsIlNlbGVjdEl0ZW0iLCJTZWxlY3RUcmlnZ2VyIiwiU2VsZWN0VmFsdWUiLCJDb2xsYXBzaWJsZSIsIkNvbGxhcHNpYmxlQ29udGVudCIsIkNvbGxhcHNpYmxlVHJpZ2dlciIsIlBvcG92ZXIiLCJQb3BvdmVyQ29udGVudCIsIlBvcG92ZXJUcmlnZ2VyIiwiRGlhbG9nIiwiRGlhbG9nQ29udGVudCIsIkRpYWxvZ0Rlc2NyaXB0aW9uIiwiRGlhbG9nSGVhZGVyIiwiRGlhbG9nVGl0bGUiLCJBcnJvd0xlZnQiLCJTcGFya2xlcyIsIlByaW50ZXIiLCJIZWFydCIsIkdpZnQiLCJHcmFkdWF0aW9uQ2FwIiwiV2FuZDIiLCJNZXNzYWdlU3F1YXJlUGx1cyIsIkNoZXZyb25Eb3duIiwiU2V0dGluZ3MiLCJaYXAiLCJQYWxldHRlIiwiVXBsb2FkIiwiWCIsIkNha2UiLCJUaHVtYnNVcCIsIlRyb3BoeSIsIlRyZWVQaW5lIiwiU3RldGhvc2NvcGUiLCJDbG91ZFJhaW4iLCJCYWJ5IiwiQ2h1cmNoIiwiSG9tZSIsIk1lc3NhZ2VDaXJjbGUiLCJFeWUiLCJXcmVuY2giLCJDbG9jayIsIlVuZG8yIiwiUmVkbzIiLCJSZWZyZXNoQ3ciLCJTZXR0aW5nczIiLCJBbGVydFRyaWFuZ2xlIiwiQ2hlY2tDaXJjbGUiLCJJbWFnZSIsIkltYWdlSWNvbiIsIk1lc3NhZ2VTcXVhcmUiLCJMaW5rIiwidG9hc3QiLCJDYXJkUHJldmlldyIsIlFSQ29kZSIsInY0IiwidXVpZHY0IiwiTW9kZVRvZ2dsZSIsIlJlY2VudENhcmRzUHJldmlldyIsIkNyaXRpY2FsUmVzb3VyY2VQcmVsb2FkZXIiLCJFYXJseUNhcmRQcmVsb2FkZXIiLCJ1c2VDYXJkQ2FjaGUiLCJCQUNLRU5EX0FQSV9CQVNFX1VSTCIsInByb2Nlc3MiLCJlbnYiLCJORVhUX1BVQkxJQ19CQUNLRU5EX0FQSV9VUkwiLCJjYXJkVHlwZXMiLCJpZCIsImxhYmVsIiwiZGVzY3JpcHRpb24iLCJpY29uIiwiY2FyZFRvbmVzIiwiYXJ0aXN0aWNTdHlsZXMiLCJwcm9tcHRNb2RpZmllciIsInBhcGVyU2l6ZXMiLCJhc3BlY3RSYXRpbyIsImRpbWVuc2lvbnMiLCJwcmludFdpZHRoIiwicHJpbnRIZWlnaHQiLCJpbWFnZU1vZGVscyIsInNlbmRUaGFua1lvdUVtYWlsIiwidG9FbWFpbCIsImNhcmRUeXBlIiwiY2FyZFVybCIsInRyaW0iLCJodG1sQm9keSIsInRleHRCb2R5IiwidXNlclJlc3BvbnNlIiwiZmV0Y2giLCJtZXRob2QiLCJoZWFkZXJzIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJ0byIsImZyb20iLCJzdWJqZWN0IiwidGV4dCIsImh0bWwiLCJhZG1pblJlc3BvbnNlIiwib2siLCJzdWNjZXNzIiwiZXJyb3IiLCJjb25zb2xlIiwiY2hhdFdpdGhBSSIsInVzZXJNZXNzYWdlIiwib3B0aW9ucyIsInN5c3RlbVByb21wdCIsIm1vZGVsIiwiaW5jbHVkZVRob3VnaHRzIiwianNvblNjaGVtYSIsInJlc3BvbnNlIiwidG9vbF9uYW1lIiwiYXJndW1lbnRzIiwibWVzc2FnZXMiLCJzeXN0ZW1fcHJvbXB0IiwiaW5jbHVkZV90aG91Z2h0cyIsImpzb25fc2NoZW1hIiwiRXJyb3IiLCJzdGF0dXMiLCJkYXRhIiwianNvbiIsInJlc3VsdCIsInBhcnNlIiwibWVzc2FnZSIsIkNhcmRTdHVkaW9QYWdlIiwicHJvbXB0Iiwic2V0UHJvbXB0IiwiZmluYWxDYXJkTWVzc2FnZSIsInNldEZpbmFsQ2FyZE1lc3NhZ2UiLCJ0b0ZpZWxkIiwic2V0VG9GaWVsZCIsImZyb21GaWVsZCIsInNldEZyb21GaWVsZCIsInNlbGVjdGVkVHlwZSIsInNldFNlbGVjdGVkVHlwZSIsImN1c3RvbUNhcmRUeXBlIiwic2V0Q3VzdG9tQ2FyZFR5cGUiLCJzZWxlY3RlZFRvbmUiLCJzZXRTZWxlY3RlZFRvbmUiLCJpc0dlbmVyYXRpbmciLCJzZXRJc0dlbmVyYXRpbmciLCJnZW5lcmF0ZWRDYXJkIiwic2V0R2VuZXJhdGVkQ2FyZCIsIm51bWJlck9mQ2FyZHMiLCJzZXROdW1iZXJPZkNhcmRzIiwiZ2VuZXJhdGVkQ2FyZHMiLCJzZXRHZW5lcmF0ZWRDYXJkcyIsInNlbGVjdGVkQ2FyZEluZGV4Iiwic2V0U2VsZWN0ZWRDYXJkSW5kZXgiLCJpc0dlbmVyYXRpbmdNZXNzYWdlIiwic2V0SXNHZW5lcmF0aW5nTWVzc2FnZSIsInNob3dBZHZhbmNlZCIsInNldFNob3dBZHZhbmNlZCIsInNlbGVjdGVkQXJ0aXN0aWNTdHlsZSIsInNldFNlbGVjdGVkQXJ0aXN0aWNTdHlsZSIsImN1c3RvbVN0eWxlRGVzY3JpcHRpb24iLCJzZXRDdXN0b21TdHlsZURlc2NyaXB0aW9uIiwic2VsZWN0ZWRJbWFnZU1vZGVsIiwic2V0U2VsZWN0ZWRJbWFnZU1vZGVsIiwic2VsZWN0ZWREcmFmdE1vZGVsIiwic2V0U2VsZWN0ZWREcmFmdE1vZGVsIiwiZ2VuZXJhdGlvblByb2dyZXNzIiwic2V0R2VuZXJhdGlvblByb2dyZXNzIiwiY291bnRkb3duIiwic2V0Q291bnRkb3duIiwiY291bnRkb3duSW50ZXJ2YWwiLCJzZXRDb3VudGRvd25JbnRlcnZhbCIsImlzQ2FyZENvbXBsZXRlZCIsInNldElzQ2FyZENvbXBsZXRlZCIsImN1cnJlbnRKb2JJZCIsInNldEN1cnJlbnRKb2JJZCIsImZhc3RQcmV2aWV3TW9kZSIsInNldEZhc3RQcmV2aWV3TW9kZSIsImlzRHJhZnRNb2RlIiwic2V0SXNEcmFmdE1vZGUiLCJkcmFmdENhcmRzIiwic2V0RHJhZnRDYXJkcyIsInNlbGVjdGVkRHJhZnRJbmRleCIsInNldFNlbGVjdGVkRHJhZnRJbmRleCIsImlzR2VuZXJhdGluZ0ZpbmFsQ2FyZCIsInNldElzR2VuZXJhdGluZ0ZpbmFsQ2FyZCIsInByZXZpZXdpbmdEcmFmdEluZGV4Iiwic2V0UHJldmlld2luZ0RyYWZ0SW5kZXgiLCJmb3JtYXRDb3VudGRvd24iLCJzZWNvbmRzIiwibWludXRlcyIsIk1hdGgiLCJmbG9vciIsInJlbWFpbmluZ1NlY29uZHMiLCJ0b1N0cmluZyIsInBhZFN0YXJ0Iiwic2F2ZUpvYlRvU3RvcmFnZSIsImpvYklkIiwiam9iRGF0YSIsImxvY2FsU3RvcmFnZSIsInNldEl0ZW0iLCJjcmVhdGVkQXQiLCJEYXRlIiwibm93IiwicGVuZGluZ0pvYnMiLCJnZXRJdGVtIiwiaW5jbHVkZXMiLCJwdXNoIiwicmVtb3ZlSm9iRnJvbVN0b3JhZ2UiLCJyZW1vdmVJdGVtIiwidXBkYXRlZEpvYnMiLCJmaWx0ZXIiLCJjaGVja0pvYlN0YXR1cyIsImNoZWNrUGVuZGluZ0pvYnMiLCJqb2IiLCJzdGF0dXNSZXNwb25zZSIsImxvZyIsImNhcmREYXRhIiwiY2FyZFdpdGhRUiIsInJhbmRvbSIsInN1YnN0ciIsImZyb250Q292ZXIiLCJjYXJkU3RvcmVSZXNwb25zZSIsImJhY2tDb3ZlciIsImxlZnRQYWdlIiwicmlnaHRQYWdlIiwiZ2VuZXJhdGVkUHJvbXB0cyIsImNhcmRTdG9yZURhdGEiLCJhY3R1YWxTaGFyZVVybCIsInNoYXJlX3VybCIsIm9yaWdpbmFsQmFja0NvdmVyIiwib3ZlcmxheVFSQ29kZU9uSW1hZ2UiLCJzaGFyZVVybCIsIndhcm4iLCJzZXRTZWN0aW9uTG9hZGluZ1N0YXRlcyIsImxlZnRJbnRlcmlvciIsInJpZ2h0SW50ZXJpb3IiLCJnZW5lcmF0aW9uVGltZVNlY29uZHMiLCJzZXRHZW5lcmF0aW9uRHVyYXRpb24iLCJzdG9wRWxhcHNlZFRpbWVUcmFja2luZyIsInNldFByb2dyZXNzUGVyY2VudGFnZSIsImNhcmRGb3JTdG9yYWdlIiwic3RhcnRzV2l0aCIsImNhcmRzRGF0YSIsImNhcmRzIiwic2VsZWN0ZWRJbmRleCIsImdlbmVyYXRpb25EdXJhdGlvbiIsInN0b3JhZ2VFcnJvciIsInVzZXJFbWFpbCIsImNhcmRUeXBlRm9yRW1haWwiLCJqb2JTdGFydFRpbWUiLCJnZXRUaW1lIiwic3RhcnRFbGFwc2VkVGltZVRyYWNraW5nIiwicHJvbXB0cyIsImxvYWRpbmdTdGF0ZXMiLCJpc0Zyb250QmFja09ubHkiLCJpbmZvIiwicG9sbEpvYlN0YXR1cyIsImF0dGVtcHQiLCJpc0RyYWZ0Sm9iIiwiZHJhZnRJbmRleCIsInBhcnNlSW50Iiwic3BsaXQiLCJkcmFmdENhcmQiLCJwcmV2IiwidXBkYXRlZCIsImNvbXBsZXRlZENvdW50IiwiYyIsImxlbmd0aCIsInNldFRpbWVvdXQiLCJkZWxheSIsIm1pbiIsInBvdyIsImltYWdlVXJsIiwibG9nb1VybCIsInFyTG9nb1VybCIsImxvZ29SZXNwb25zZSIsImxvZ29EYXRhIiwibG9nb3MiLCJ1cmwiLCJsb2dvRXJyb3IiLCJxckNvZGVEYXRhVXJsIiwicXJSZXNwb25zZSIsImxvZ29fdXJsIiwic2l6ZSIsInNlYW1sZXNzIiwicXJEYXRhIiwicXJfY29kZSIsImxvZ29RckVycm9yIiwidG9EYXRhVVJMIiwid2lkdGgiLCJtYXJnaW4iLCJjb2xvciIsImRhcmsiLCJsaWdodCIsImVycm9yQ29ycmVjdGlvbkxldmVsIiwiY2FudmFzIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiY3R4IiwiZ2V0Q29udGV4dCIsImJhY2tDb3ZlckltZyIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0Iiwib25sb2FkIiwiaGVpZ2h0IiwiZHJhd0ltYWdlIiwicXJJbWciLCJxclNpemUiLCJwYWRkaW5nIiwieCIsInkiLCJjdXRvdXRQYWRkaW5nIiwiY3V0b3V0WCIsImN1dG91dFkiLCJjdXRvdXRXaWR0aCIsImN1dG91dEhlaWdodCIsImZpbGxTdHlsZSIsImJlZ2luUGF0aCIsInJvdW5kUmVjdCIsImZpbGwiLCJzdHJva2VTdHlsZSIsImxpbmVXaWR0aCIsInN0cm9rZSIsImZvbnQiLCJ0ZXh0QWxpZ24iLCJ0ZXh0WCIsInRleHRZIiwiZmlsbFRleHQiLCJvbmVycm9yIiwic3JjIiwiaGFuZHdyaXRpbmdTYW1wbGUiLCJzZXRIYW5kd3JpdGluZ1NhbXBsZSIsImhhbmR3cml0aW5nU2FtcGxlVXJsIiwic2V0SGFuZHdyaXRpbmdTYW1wbGVVcmwiLCJyZWZlcmVuY2VJbWFnZXMiLCJzZXRSZWZlcmVuY2VJbWFnZXMiLCJyZWZlcmVuY2VJbWFnZVVybHMiLCJzZXRSZWZlcmVuY2VJbWFnZVVybHMiLCJpbWFnZVRyYW5zZm9ybWF0aW9uIiwic2V0SW1hZ2VUcmFuc2Zvcm1hdGlvbiIsImlzVXBsb2FkaW5nIiwic2V0SXNVcGxvYWRpbmciLCJzZXRVc2VyRW1haWwiLCJjdXJyZW50Q2FyZElkIiwic2V0Q3VycmVudENhcmRJZCIsImlzSGFuZHdyaXR0ZW5NZXNzYWdlIiwic2V0SXNIYW5kd3JpdHRlbk1lc3NhZ2UiLCJzZXRJc0Zyb250QmFja09ubHkiLCJzZWxlY3RlZFBhcGVyU2l6ZSIsInNldFNlbGVjdGVkUGFwZXJTaXplIiwic2VjdGlvbkxvYWRpbmdTdGF0ZXMiLCJwcm9ncmVzc1BlcmNlbnRhZ2UiLCJjbGVhckludGVydmFsIiwiaXNJbml0aWFsTG9hZENvbXBsZXRlIiwic2V0SXNJbml0aWFsTG9hZENvbXBsZXRlIiwiaXNUZXh0YXJlYUV4cGFuZGVkIiwic2V0SXNUZXh0YXJlYUV4cGFuZGVkIiwiaXNNZXNzYWdlRXhwYW5kZWQiLCJzZXRJc01lc3NhZ2VFeHBhbmRlZCIsIm1lc3NhZ2VIaXN0b3J5Iiwic2V0TWVzc2FnZUhpc3RvcnkiLCJjdXJyZW50TWVzc2FnZUluZGV4Iiwic2V0Q3VycmVudE1lc3NhZ2VJbmRleCIsInJlZmluZW1lbnRQcm9tcHQiLCJzZXRSZWZpbmVtZW50UHJvbXB0IiwiaXNSZWZpbmluZ01lc3NhZ2UiLCJzZXRJc1JlZmluaW5nTWVzc2FnZSIsInNob3dSZWZpbmVtZW50Qm94Iiwic2V0U2hvd1JlZmluZW1lbnRCb3giLCJzaG93U2V0dGluZ3MiLCJzZXRTaG93U2V0dGluZ3MiLCJzaG93VGVtcGxhdGVHYWxsZXJ5Iiwic2V0U2hvd1RlbXBsYXRlR2FsbGVyeSIsInRlbXBsYXRlU2VhcmNoUXVlcnkiLCJzZXRUZW1wbGF0ZVNlYXJjaFF1ZXJ5IiwiaXNTZWFyY2hpbmdUZW1wbGF0ZXMiLCJzZXRJc1NlYXJjaGluZ1RlbXBsYXRlcyIsImFpRmlsdGVyZWRDYXJkcyIsInNldEFpRmlsdGVyZWRDYXJkcyIsInNlYXJjaE1vZGUiLCJzZXRTZWFyY2hNb2RlIiwidGV4dEZpbHRlcmVkQ2FyZHMiLCJzZXRUZXh0RmlsdGVyZWRDYXJkcyIsInNob3dQcm9tcHRzIiwic2V0U2hvd1Byb21wdHMiLCJwcmludE9wdGlvbiIsInNldFByaW50T3B0aW9uIiwicHJlbG9hZEFsbENhcmRzIiwiZ2V0Q2FjaGVkQ2FyZHMiLCJ0b3RhbENhcmRzIiwic2hvd1ByaW50Q29uZmlybWF0aW9uIiwic2V0U2hvd1ByaW50Q29uZmlybWF0aW9uIiwiZ2VuZXJhdGlvblN0YXJ0VGltZSIsInNldEdlbmVyYXRpb25TdGFydFRpbWUiLCJjdXJyZW50RWxhcHNlZFRpbWUiLCJzZXRDdXJyZW50RWxhcHNlZFRpbWUiLCJlbGFwc2VkVGltZUludGVydmFsIiwic2V0RWxhcHNlZFRpbWVJbnRlcnZhbCIsImZvcm1hdEdlbmVyYXRpb25UaW1lIiwiZHVyYXRpb25TZWNvbmRzIiwic3RhcnRUaW1lIiwic3RhcnQiLCJpbnRlcnZhbCIsInNldEludGVydmFsIiwiZWxhcHNlZCIsImVzdGltYXRlZFRvdGFsIiwicGVyY2VudGFnZSIsInJlc3RvcmVFbGFwc2VkVGltZVRyYWNraW5nIiwic2F2ZWRTdGFydFRpbWUiLCJsb2FkU2F2ZWRTdGF0ZSIsInNhdmVkRm9ybURhdGEiLCJmb3JtRGF0YSIsInNhdmVkQ2FyZHMiLCJjYXJkc1dpdGhEYXRlcyIsIm1hcCIsImNhcmQiLCJzYXZlRm9ybURhdGEiLCJzYXZlR2VuZXJhdGVkQ2FyZHMiLCJjYXJkc0ZvclN0b3JhZ2UiLCJjYXJkQ29weSIsInRpbWVvdXRJZCIsImFkZE1lc3NhZ2VUb0hpc3RvcnkiLCJjbGVhclRpbWVvdXQiLCJjbGVhclNhdmVkRGF0YSIsImdldFN0b3JhZ2VVc2FnZSIsInRvdGFsU2l6ZSIsImtleSIsImhhc093blByb3BlcnR5IiwidXNlZCIsInVzZWRNQiIsInRvRml4ZWQiLCJyb3VuZCIsInNob3dUZW1wbGF0ZUN1c3RvbWl6YXRpb24iLCJzZXRTaG93VGVtcGxhdGVDdXN0b21pemF0aW9uIiwic2VsZWN0ZWRUZW1wbGF0ZSIsInNldFNlbGVjdGVkVGVtcGxhdGUiLCJ0ZW1wbGF0ZUN1c3RvbWl6YXRpb25zIiwic2V0VGVtcGxhdGVDdXN0b21pemF0aW9ucyIsInByb21wdENoYW5nZXMiLCJtZXNzYWdlQ2hhbmdlcyIsInVzZVJlZmVyZW5jZUltYWdlIiwicmVmZXJlbmNlSW1hZ2VGaWxlIiwicmVmZXJlbmNlSW1hZ2VUcmFuc2Zvcm1hdGlvbiIsImFwcGx5VGVtcGxhdGUiLCJ0ZW1wbGF0ZSIsImdlbmVyYXRlQ2FyZFdpdGhFeGlzdGluZ1Byb21wdHMiLCJjYXJkVHlwZUZvclByb21wdCIsInBhcGVyQ29uZmlnIiwiZmluZCIsIm1lc3NhZ2VDb250ZW50IiwicmVwbGFjZSIsImlzVGVtcGxhdGVDdXN0b21pemF0aW9uIiwiaW5wdXRJbWFnZXMiLCJlbmhhbmNlZFByb21wdHMiLCJ0b3RhbFJlZmVyZW5jZUltYWdlcyIsImNoYXJhY3Rlckluc3RydWN0aW9ucyIsImNvbmZpZyIsInVzZXJOdW1iZXIiLCJtb2RlbFZlcnNpb24iLCJxdWFsaXR5Iiwib3V0cHV0Rm9ybWF0Iiwib3V0cHV0Q29tcHJlc3Npb24iLCJtb2RlcmF0aW9uIiwiaW5wdXRfaW1hZ2VzIiwiaW5wdXRfaW1hZ2VzX21vZGUiLCJoYW5kbGVBcHBseVRlbXBsYXRlV2l0aEN1c3RvbWl6YXRpb25zIiwiZmluYWxQcm9tcHQiLCJtb2RpZmljYXRpb25RdWVyeSIsIm1vZGlmaWVkUHJvbXB0cyIsInR5cGUiLCJwcm9wZXJ0aWVzIiwicmVxdWlyZWQiLCJwcm9tcHRMb3dlciIsInRvTG93ZXJDYXNlIiwiZGV0ZWN0ZWRUeXBlIiwiZm9yRWFjaCIsIkZvcm1EYXRhIiwiYXBwZW5kIiwidXBsb2FkUmVzcG9uc2UiLCJ1cGxvYWRSZXN1bHQiLCJjdXN0b21pemF0aW9uU3VtbWFyeSIsInN1bW1hcnlUZXh0Iiwiam9pbiIsImhhbmRsZUdlbmVyYXRlQ2FyZEFzeW5jIiwiaGFuZGxlQ3JlYXRlTmV3Q2FyZCIsImhhbmRsZVJlZ2VuZXJhdGVDYXJkIiwiY2xlYW5NZXNzYWdlIiwibmV3SGlzdG9yeSIsInNsaWNlIiwic2hpZnQiLCJ1bmRvTWVzc2FnZSIsIm5ld0luZGV4IiwicmVkb01lc3NhZ2UiLCJoYW5kbGVSZWZpbmVNZXNzYWdlIiwic2VsZWN0ZWRUb25lT2JqIiwidG9uZSIsInRvbmVEZXNjcmlwdGlvbiIsInJlZmluZW1lbnRBUElQcm9tcHQiLCJyZWZpbmVkTWVzc2FnZSIsImNsZWFuZWRSZWZpbmVkTWVzc2FnZSIsImhhbmRsZUdldE1lc3NhZ2VIZWxwIiwiZWZmZWN0aXZlUHJvbXB0IiwibWVzc2FnZVByb21wdCIsImdlbmVyYXRlZE1lc3NhZ2UiLCJtZXNzYWdlTWF0Y2giLCJtYXRjaCIsImV4dHJhY3RlZE1lc3NhZ2UiLCJoYW5kbGVGaWxlVXBsb2FkIiwiZmlsZSIsImZpbGVOYW1lIiwibmFtZSIsInRvdGFsSW1hZ2VzIiwiaGFuZGxlUmVtb3ZlUmVmZXJlbmNlSW1hZ2UiLCJpbmRleCIsInJlbW92ZWRJbWFnZSIsInJlbW92ZWRVcmwiLCJfIiwiaSIsInJlbWFpbmluZ0ltYWdlcyIsImhhbmRsZUdlbmVyYXRlRHJhZnRDYXJkcyIsImVtYWlsUmVnZXgiLCJ0ZXN0IiwicmVmZXJlbmNlSW1hZ2VVcmxzTGVuZ3RoIiwicmVmZXJlbmNlSW1hZ2VzTGVuZ3RoIiwiY2xlYXJQaG90b3MiLCJzd2l0Y2hUb0dQVDEiLCJkaXYiLCJjbGFzc05hbWUiLCJwIiwibSIsImJ1dHRvbiIsIm9uQ2xpY2siLCJkdXJhdGlvbiIsImRyYWZ0UHJvbWlzZXMiLCJBcnJheSIsImhhbmRsZUdlbmVyYXRlQ2FyZEFzeW5jSW50ZXJuYWwiLCJvbkRyYWZ0Q29tcGxldGUiLCJpZHgiLCJhbGxTZXR0bGVkIiwiaGFuZGxlR2VuZXJhdGVGaW5hbEZyb21EcmFmdCIsInNlbGVjdGVkRHJhZnQiLCJmaW5hbFByb21wdHMiLCJoYXNPbkRyYWZ0Q29tcGxldGUiLCJtb2RlbFRvVXNlIiwibW9kZVRleHQiLCJhdXRvTWVzc2FnZVByb21wdCIsInNlbGVjdGVkU3R5bGUiLCJzdHlsZSIsInN0eWxlTW9kaWZpZXIiLCJiYXNlUHJvbXB0R2VuZXJhdGlvblF1ZXJ5IiwiaGFzRnJvbnRDb3ZlciIsImhhc0JhY2tDb3ZlciIsImVycm9yTWVzc2FnZSIsImhhbmRsZUdlbmVyYXRlQ2FyZCIsImNhcmRJZCIsInN0eWxlU2VsZWN0aW9uUHJvbXB0IiwiYWlTZWxlY3RlZFN0eWxlIiwicHJvbXB0R2VuZXJhdGlvblByb21pc2VzIiwiY2FyZEluZGV4IiwidW5pcXVlUHJvbXB0UXVlcnkiLCJhbGxHZW5lcmF0ZWRQcm9tcHRzIiwiYWxsIiwiZnJvbnRDb3ZlcklucHV0SW1hZ2VzIiwiYmFja0NvdmVySW5wdXRJbWFnZXMiLCJsZWZ0SW50ZXJpb3JJbnB1dEltYWdlcyIsInJpZ2h0SW50ZXJpb3JJbnB1dEltYWdlcyIsImFsbENhcmRQYXlsb2FkcyIsImVuaGFuY2VkRnJvbnRDb3ZlclByb21wdCIsImNhcmRQYXlsb2FkcyIsInVzZXJfbnVtYmVyIiwibW9kZWxfdmVyc2lvbiIsImFzcGVjdF9yYXRpbyIsIm91dHB1dF9mb3JtYXQiLCJvdXRwdXRfY29tcHJlc3Npb24iLCJ1c2VyX2lkX2NvbnRleHQiLCJzZWN0aW9uSW5kZXgiLCJzZWN0aW9uTmFtZSIsImNvbXBsZXRlZEltYWdlcyIsIk1hcCIsImNvbXBsZXRlZENhcmRzIiwicmVnZW5lcmF0ZVByb21wdElmTmVlZGVkIiwib3JpZ2luYWxQcm9tcHQiLCJyZWdlbmVyYXRpb25RdWVyeSIsIm5ld1Byb21wdCIsInByb2Nlc3NTaW5nbGVJbWFnZSIsInBheWxvYWQiLCJjdXJyZW50UGF5bG9hZCIsInJldHJ5Q291bnQiLCJtYXhSZXRyaWVzIiwiaGFzVHJpZWRUZXh0RmFsbGJhY2siLCJwYXJzZWRSZXN1bHQiLCJyZXN1bHRzIiwiaXNBcnJheSIsImltYWdlS2V5Iiwic2V0IiwibmV3U3RhdGUiLCJzZWN0aW9uc1BlckNhcmQiLCJjYXJkU3RhcnRJbmRleCIsImNhcmRFbmRJbmRleCIsImlzQ2FyZENvbXBsZXRlIiwiY2hlY2tLZXkiLCJoYXMiLCJwcmV2Q2FyZHMiLCJ1cGRhdGVkQ2FyZHMiLCJ1cGRhdGVkQ2FyZCIsImdldCIsInVuZGVmaW5lZCIsImltYWdlUHJvbWlzZXMiLCJmaW5hbENhcmRzIiwiaGFzQ2FyZFVybCIsImJhY2tDb3Zlckxlbmd0aCIsImNhcmRUb1N0b3JlIiwic2VydmVyRXJyb3IiLCJoYW5kbGVQcmludENsaWNrIiwiaGFuZGxlVGVtcGxhdGVTZWxlY3QiLCJoYXNBbGxJbWFnZXMiLCJlbmNvZGVVUklDb21wb25lbnQiLCJmb3VuZENhcmQiLCJjb21wbGV0ZUNhcmQiLCJmZXRjaEVycm9yIiwiZmFsbGJhY2tDYXJkIiwicGVyZm9ybUFJQW5hbHlzaXMiLCJjYXJkc1RvQW5hbHl6ZSIsInNlYXJjaFF1ZXJ5IiwiYWRhcHRpdmVCYXRjaFNpemUiLCJtYXgiLCJiYXRjaGVzIiwiYW5hbHlzaXNQcm9tcHQiLCJiYXRjaFByb21pc2VzIiwiYmF0Y2giLCJiYXRjaEluZGV4IiwidmFsaWRDYXJkcyIsInVybHMiLCJiYXRjaFJlc3VsdHMiLCJ0ZXh0U2NvcmUiLCJzY29yZSIsImFuYWx5c2lzIiwiYW5hbHlzaXNfcHJvbXB0IiwiYW5hbHlzaXNSZXN1bHQiLCJzY29yZU1hdGNoIiwiYWxsQmF0Y2hSZXN1bHRzIiwiZmxhdCIsImhhbmRsZVRleHRUZW1wbGF0ZVNlYXJjaCIsImFsbENhcmRzIiwic2VhcmNoVGVybXMiLCJ0ZXJtIiwic2NvcmVkQ2FyZHMiLCJtYXRjaFNvdXJjZXMiLCJzZWFyY2hhYmxlVGV4dHMiLCJ3ZWlnaHQiLCJzb3VyY2UiLCJ0ZXJtU2NvcmUiLCJzdWJzdHJpbmciLCJwYXJ0aWFsU2NvcmUiLCJtYXRjaGVkVGVybXMiLCJzb21lIiwiZmlsdGVyZWRDYXJkcyIsInNvcnQiLCJhIiwiYiIsImF2Z1Njb3JlIiwicmVkdWNlIiwic3VtIiwiYWlBbmFseXplZE1hdGNoZXMiLCJzdWNjZXNzTWVzc2FnZSIsImhhbmRsZUFJVGVtcGxhdGVTZWFyY2giLCJjYXJkVGV4dCIsImNvbW1vbiIsImZpbHRlck1lc3NhZ2UiLCJxdWVyeUNvbXBsZXhpdHkiLCJhbmFseXNpc1Jlc3VsdHMiLCJyYW5rZWRSZXN1bHRzIiwiYWlTY29yZSIsImFpQW5hbHlzaXMiLCJyIiwiaGFuZGxlSHlicmlkVGVtcGxhdGVTZWFyY2giLCJ0ZXh0Q2FuZGlkYXRlcyIsImh5YnJpZFJlc3VsdHMiLCJoeWJyaWRTY29yZSIsImZpbmFsUmVzdWx0cyIsImhhbmRsZVRlbXBsYXRlU2VhcmNoIiwiY2xlYXJUZW1wbGF0ZVNlYXJjaCIsImhhbmRsZUNvbmZpcm1QcmludCIsImNhcmRUb1ByaW50IiwiZnJvbnRfY292ZXIiLCJiYWNrX2NvdmVyIiwibGVmdF9wYWdlIiwicmlnaHRfcGFnZSIsImNhcmRfbmFtZSIsInBhcGVyX3NpemUiLCJpc19mcm9udF9iYWNrX29ubHkiLCJjb3BpZXMiLCJjb2xvcl9tb2RlIiwiZW1haWxEYXRhIiwidXNlcl9lbWFpbCIsInNlbmRfcGRmIiwiZXJyb3JUZXh0IiwiZHVwbGV4SW5mbyIsImR1cGxleCIsInBvbGxDb3VudCIsIm1heFBvbGxzIiwicG9sbFN0YXR1cyIsImpvYl9pZCIsInN0YXR1c1Jlc3VsdCIsImhlYWRlciIsImhyZWYiLCJ2YXJpYW50IiwiaDEiLCJzcGFuIiwib3BlbiIsIm9uT3BlbkNoYW5nZSIsImFzQ2hpbGQiLCJhbGlnbiIsImg0IiwidmFsdWUiLCJvblZhbHVlQ2hhbmdlIiwic2VsZWN0ZWQiLCJJY29uQ29tcG9uZW50IiwicGxhY2Vob2xkZXIiLCJvbkNoYW5nZSIsImUiLCJ0YXJnZXQiLCJmb250U2l6ZSIsInJvd3MiLCJzdHJvbmciLCJkaXNhYmxlZCIsIm9uS2V5RG93biIsInNoaWZ0S2V5IiwicHJldmVudERlZmF1bHQiLCJpbnB1dCIsImNoZWNrZWQiLCJodG1sRm9yIiwiaW1nIiwiYWx0IiwiYWNjZXB0IiwiZmlsZXMiLCJpbWFnZSIsIm51bSIsInVsIiwibGkiLCJiciIsInRvTG9jYWxlRGF0ZVN0cmluZyIsInN0b3BQcm9wYWdhdGlvbiIsImhhc0dlbmVyYXRlZENhcmQiLCJnZW5lcmF0ZWRDYXJkc0xlbmd0aCIsImRyYWZ0Q2FyZHNMZW5ndGgiLCJ0aXRsZSIsIm9uQ2FyZFVwZGF0ZSIsIm9uUHJpbnQiLCJvblBhcGVyU2l6ZUNoYW5nZSIsIm9uVmlld0Z1bGxDYXJkIiwiaDMiLCJtYXhDYXJkcyIsIm9uQ2FyZFNlbGVjdCIsInVybFBhcnRzIiwid2luZG93Iiwic2Nyb2xsQmVoYXZpb3IiLCJXZWJraXRPdmVyZmxvd1Njcm9sbGluZyIsInNjcm9sbGJhcldpZHRoIiwic2Nyb2xsU25hcFR5cGUiLCJmcm9udEltYWdlIiwic2Nyb2xsU25hcEFsaWduIiwibG9hZGluZyIsInVzZXJTZWxlY3QiLCJoYXNDYWNoZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./app/page.tsx\n"));

/***/ })

});