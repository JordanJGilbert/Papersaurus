"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/wizard/page",{

/***/ "(app-pages-browser)/./hooks/useCardStudioRefactored.ts":
/*!******************************************!*\
  !*** ./hooks/useCardStudioRefactored.ts ***!
  \******************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useCardStudio: function() { return /* binding */ useCardStudio; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var sonner__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! sonner */ \"(app-pages-browser)/./node_modules/sonner/dist/index.mjs\");\n/* harmony import */ var _cardStudio_useWebSocket__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./cardStudio/useWebSocket */ \"(app-pages-browser)/./hooks/cardStudio/useWebSocket.ts\");\n/* harmony import */ var _cardStudio_useJobManagementSimplified__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./cardStudio/useJobManagementSimplified */ \"(app-pages-browser)/./hooks/cardStudio/useJobManagementSimplified.ts\");\n/* harmony import */ var _cardStudio_useMessageGeneration__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./cardStudio/useMessageGeneration */ \"(app-pages-browser)/./hooks/cardStudio/useMessageGeneration.ts\");\n/* harmony import */ var _cardStudio_useFileHandling__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./cardStudio/useFileHandling */ \"(app-pages-browser)/./hooks/cardStudio/useFileHandling.ts\");\n/* harmony import */ var _cardStudio_useDraftGeneration__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./cardStudio/useDraftGeneration */ \"(app-pages-browser)/./hooks/cardStudio/useDraftGeneration.ts\");\n/* harmony import */ var _cardStudio_useCardGeneration__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./cardStudio/useCardGeneration */ \"(app-pages-browser)/./hooks/cardStudio/useCardGeneration.ts\");\n/* harmony import */ var _cardStudio_constants__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./cardStudio/constants */ \"(app-pages-browser)/./hooks/cardStudio/constants.ts\");\n/* harmony import */ var _cardStudio_utils__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./cardStudio/utils */ \"(app-pages-browser)/./hooks/cardStudio/utils.ts\");\n/* harmony import */ var _lib_storageManager__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @/lib/storageManager */ \"(app-pages-browser)/./lib/storageManager.ts\");\n/* __next_internal_client_entry_do_not_use__ useCardStudio auto */ \n\n// Import modular hooks\n\n\n\n\n\n\n// Import constants and utils\n\n\n\nfunction useCardStudio() {\n    // Core form state\n    const [prompt, setPrompt] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(\"\");\n    const [toField, setToField] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(\"\");\n    const [fromField, setFromField] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(\"\");\n    const [relationshipField, setRelationshipField] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(\"\");\n    const [personalTraits, setPersonalTraits] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(\"\");\n    const [selectedType, setSelectedType] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(\"birthday\");\n    const [customCardType, setCustomCardType] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(\"\");\n    const [selectedTone, setSelectedTone] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(\"funny\");\n    // Advanced options state\n    const [showAdvanced, setShowAdvanced] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [selectedArtisticStyle, setSelectedArtisticStyle] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(\"ai-smart-style\");\n    const [customStyleDescription, setCustomStyleDescription] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(\"\");\n    const [selectedImageModel, setSelectedImageModel] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(\"gpt-image-1\");\n    const [selectedDraftModel, setSelectedDraftModel] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(\"gpt-image-1\");\n    const [fastPreviewMode, setFastPreviewMode] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(true);\n    // Email state\n    const [userEmail, setUserEmail] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(\"\");\n    // Card options\n    const [numberOfCards, setNumberOfCards] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(1);\n    const [isHandwrittenMessage, setIsHandwrittenMessage] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [isFrontBackOnly, setIsFrontBackOnly] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [selectedPaperSize, setSelectedPaperSize] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(\"standard\");\n    // UI state\n    const [isTextareaExpanded, setIsTextareaExpanded] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [isMessageExpanded, setIsMessageExpanded] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [showSettings, setShowSettings] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [showTemplateGallery, setShowTemplateGallery] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [showPrintConfirmation, setShowPrintConfirmation] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [showTemplateCustomization, setShowTemplateCustomization] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    // Restoration state\n    const [isRestoringJobs, setIsRestoringJobs] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(true);\n    const [selectedTemplate, setSelectedTemplate] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [isInitialLoadComplete, setIsInitialLoadComplete] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    // Template state\n    const [templateSearchQuery, setTemplateSearchQuery] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(\"\");\n    const [isSearchingTemplates, setIsSearchingTemplates] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [aiFilteredCards, setAiFilteredCards] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]);\n    const [searchMode, setSearchMode] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(\"text\");\n    const [textFilteredCards, setTextFilteredCards] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]);\n    const [showPrompts, setShowPrompts] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [printOption, setPrintOption] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(\"physical\");\n    // Template customization state\n    const [templateCustomizations, setTemplateCustomizations] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({\n        promptChanges: \"\",\n        messageChanges: \"\",\n        useReferenceImage: false,\n        referenceImageFile: null,\n        referenceImageUrls: [],\n        referenceImageTransformation: \"\"\n    });\n    // Section loading states\n    const [sectionLoadingStates, setSectionLoadingStates] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({\n        frontCover: \"idle\",\n        backCover: \"idle\",\n        leftInterior: \"idle\",\n        rightInterior: \"idle\"\n    });\n    // Countdown state\n    const [countdown, setCountdown] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(0);\n    const [countdownInterval, setCountdownInterval] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    // Use modular hooks\n    const webSocket = (0,_cardStudio_useWebSocket__WEBPACK_IMPORTED_MODULE_2__.useWebSocket)();\n    const jobManagement = (0,_cardStudio_useJobManagementSimplified__WEBPACK_IMPORTED_MODULE_3__.useJobManagement)();\n    const fileHandling = (0,_cardStudio_useFileHandling__WEBPACK_IMPORTED_MODULE_5__.useFileHandling)();\n    const messageGeneration = (0,_cardStudio_useMessageGeneration__WEBPACK_IMPORTED_MODULE_4__.useMessageGeneration)(selectedType, customCardType, selectedTone, prompt, toField, fromField, relationshipField, fileHandling.photoReferences);\n    // Draft generation props\n    const draftGenerationProps = {\n        selectedType,\n        customCardType,\n        selectedTone,\n        selectedArtisticStyle,\n        customStyleDescription,\n        selectedDraftModel,\n        selectedImageModel,\n        selectedPaperSize,\n        prompt,\n        personalTraits,\n        toField,\n        fromField,\n        userEmail,\n        finalCardMessage: messageGeneration.finalCardMessage,\n        isHandwrittenMessage,\n        isFrontBackOnly,\n        referenceImageUrls: fileHandling.referenceImageUrls,\n        photoReferences: fileHandling.photoReferences,\n        relationshipField,\n        saveJobToStorage: jobManagement.saveJobToStorage,\n        subscribeToJob: webSocket.subscribeToJob,\n        unsubscribeFromAllJobs: webSocket.unsubscribeFromAllJobs,\n        startElapsedTimeTracking: jobManagement.startElapsedTimeTracking,\n        stopElapsedTimeTracking: jobManagement.stopElapsedTimeTracking,\n        setProgressPercentage: jobManagement.setProgressPercentage\n    };\n    const draftGeneration = (0,_cardStudio_useDraftGeneration__WEBPACK_IMPORTED_MODULE_6__.useDraftGeneration)(draftGenerationProps);\n    // Card generation props\n    const cardGenerationProps = {\n        selectedType,\n        customCardType,\n        selectedTone,\n        selectedArtisticStyle,\n        customStyleDescription,\n        selectedImageModel,\n        selectedPaperSize,\n        prompt,\n        personalTraits,\n        toField,\n        fromField,\n        userEmail,\n        finalCardMessage: messageGeneration.finalCardMessage,\n        isHandwrittenMessage,\n        isFrontBackOnly,\n        referenceImageUrls: fileHandling.referenceImageUrls,\n        photoReferences: fileHandling.photoReferences,\n        relationshipField,\n        numberOfCards,\n        saveJobToStorage: jobManagement.saveJobToStorage,\n        removeJobFromStorage: jobManagement.removeJobFromStorage,\n        subscribeToJob: webSocket.subscribeToJob,\n        startElapsedTimeTracking: jobManagement.startElapsedTimeTracking,\n        stopElapsedTimeTracking: jobManagement.stopElapsedTimeTracking,\n        setCurrentJobId: jobManagement.setCurrentJobId,\n        setIsDraftMode: draftGeneration.setIsDraftMode,\n        setDraftCards: draftGeneration.setDraftCards,\n        setSelectedDraftIndex: draftGeneration.setSelectedDraftIndex,\n        setIsGeneratingFinalCard: draftGeneration.setIsGeneratingFinalCard,\n        setPreviewingDraftIndex: draftGeneration.setPreviewingDraftIndex,\n        setDraftCompletionShown: draftGeneration.setDraftCompletionShown,\n        setDraftCompletionCount: draftGeneration.setDraftCompletionCount\n    };\n    const cardGeneration = (0,_cardStudio_useCardGeneration__WEBPACK_IMPORTED_MODULE_7__.useCardGeneration)(cardGenerationProps);\n    // Handle job updates from WebSocket\n    const handleJobUpdate = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((data)=>{\n        const { job_id, status, progress, cardData, error, completedAt } = data;\n        if (!job_id) return;\n        // Skip updates if we're still restoring jobs from localStorage\n        if (isRestoringJobs) {\n            console.log(\"⏳ Skipping job update during restoration:\", job_id);\n            return;\n        }\n        // Check if this is a draft job\n        const isDraftJob = job_id.startsWith(\"draft-\");\n        const draftIndex = isDraftJob ? parseInt(job_id.split(\"-\")[1]) : -1;\n        // Filter out updates from wrong job type\n        // If we're in draft mode, only process draft jobs\n        // If we're in final mode, only process non-draft jobs\n        const isInDraftMode = draftGeneration.isDraftMode;\n        if (isInDraftMode && !isDraftJob) {\n            console.log(\"\\uD83D\\uDEAB Ignoring non-draft job update in draft mode:\", job_id);\n            return;\n        }\n        if (!isInDraftMode && isDraftJob) {\n            console.log(\"\\uD83D\\uDEAB Ignoring draft job update in final mode:\", job_id);\n            return;\n        }\n        console.log(\"\\uD83D\\uDD04 Processing job update:\", {\n            job_id,\n            status,\n            isDraftJob,\n            draftIndex,\n            progress\n        });\n        // Handle status transitions\n        if (status === \"processing\" && !cardGeneration.isGenerating && !draftGeneration.isGenerating) {\n            console.log(\"\\uD83D\\uDD04 Job is processing, setting generation state\");\n            if (isDraftJob) {\n                draftGeneration.setIsGenerating(true);\n                draftGeneration.setIsDraftMode(true);\n                jobManagement.startElapsedTimeTracking(\"draft\");\n            } else {\n                cardGeneration.setIsGenerating(true);\n                jobManagement.startElapsedTimeTracking(\"final\");\n            }\n        }\n        // Update progress if provided\n        if (progress) {\n            // IMPORTANT: Don't show \"Generation complete!\" until we've actually processed the card\n            // This prevents the UI from showing completion before the card is ready\n            if (progress.includes(\"Generation complete!\") && status === \"completed\" && !isDraftJob) {\n                console.log('⏸️ Holding \"Generation complete!\" message until card is processed');\n            // Don't update the progress message yet - it will be set in handleFinalCardCompletion\n            } else {\n                cardGeneration.setGenerationProgress(progress);\n                draftGeneration.setGenerationProgress(progress);\n                console.log(\"\\uD83D\\uDCCA Progress message: \".concat(progress));\n            }\n        }\n        if (status === \"completed\" && cardData) {\n            console.log(\"\\uD83C\\uDF89 Job completed! Card data:\", cardData, \"isDraftJob:\", isDraftJob);\n            // Normalize field names to handle backend inconsistencies\n            const normalizedCardData = {\n                ...cardData,\n                leftInterior: cardData.leftInterior || cardData.leftPage || cardData.left_interior || cardData.left_page,\n                rightInterior: cardData.rightInterior || cardData.rightPage || cardData.right_interior || cardData.right_page,\n                frontCover: cardData.frontCover || cardData.front_cover || cardData.front,\n                backCover: cardData.backCover || cardData.back_cover || cardData.back,\n                // Keep original fields for backward compatibility\n                leftPage: cardData.leftPage || cardData.leftInterior || cardData.left_page || cardData.left_interior,\n                rightPage: cardData.rightPage || cardData.rightInterior || cardData.right_page || cardData.right_interior\n            };\n            // Validate that we have the minimum required fields for a complete card\n            const hasRequiredFields = normalizedCardData.frontCover && (isDraftJob || normalizedCardData.backCover && normalizedCardData.leftInterior && normalizedCardData.rightInterior);\n            if (!hasRequiredFields) {\n                console.warn(\"⚠️ Card data missing required fields:\", {\n                    frontCover: !!normalizedCardData.frontCover,\n                    backCover: !!normalizedCardData.backCover,\n                    leftInterior: !!normalizedCardData.leftInterior,\n                    rightInterior: !!normalizedCardData.rightInterior\n                });\n            }\n            // If this is the first update for a recovery job, ensure generation state is set properly\n            if (isDraftJob && !draftGeneration.isGenerating && draftGeneration.draftCards.filter(Boolean).length === 0) {\n                console.log(\"\\uD83D\\uDCE5 Recovered completed draft job - not setting as generating\");\n            // Don't set isGenerating for already completed jobs during recovery\n            }\n            if (isDraftJob && draftIndex >= 0) {\n                var _cardData_generatedPrompts, _cardData_generatedPrompts1, _cardData_generatedPrompts2, _cardData_generatedPrompts3;\n                // Handle draft card completion\n                console.log(\"\\uD83C\\uDFA8 Draft variation \".concat(draftIndex + 1, \" completed!\"));\n                // Get style info for smart style mode\n                let styleInfo = undefined;\n                if (selectedArtisticStyle === \"ai-smart-style\") {\n                    const predefinedStyles = [\n                        \"watercolor\",\n                        \"botanical\",\n                        \"comic-book\",\n                        \"dreamy-fantasy\",\n                        \"minimalist\"\n                    ];\n                    const styleLabels = [\n                        \"\\uD83C\\uDFA8 Watercolor\",\n                        \"\\uD83C\\uDF3F Botanical\",\n                        \"\\uD83D\\uDCA5 Comic Book\",\n                        \"\\uD83C\\uDF38 Dreamy Fantasy\",\n                        \"✨ Minimalist\"\n                    ];\n                    if (draftIndex >= 0 && draftIndex < predefinedStyles.length) {\n                        styleInfo = {\n                            styleName: predefinedStyles[draftIndex],\n                            styleLabel: styleLabels[draftIndex]\n                        };\n                    }\n                }\n                const draftCard = {\n                    id: \"draft-\".concat(draftIndex + 1, \"-\").concat(Date.now()),\n                    prompt: normalizedCardData.prompt || \"Draft Variation \".concat(draftIndex + 1),\n                    frontCover: normalizedCardData.frontCover || \"\",\n                    backCover: normalizedCardData.backCover || \"\",\n                    leftPage: normalizedCardData.leftInterior || \"\",\n                    rightPage: normalizedCardData.rightInterior || \"\",\n                    createdAt: new Date(),\n                    generatedPrompts: normalizedCardData.generatedPrompts || {\n                        frontCover: ((_cardData_generatedPrompts = cardData.generatedPrompts) === null || _cardData_generatedPrompts === void 0 ? void 0 : _cardData_generatedPrompts.frontCover) || \"\",\n                        backCover: ((_cardData_generatedPrompts1 = cardData.generatedPrompts) === null || _cardData_generatedPrompts1 === void 0 ? void 0 : _cardData_generatedPrompts1.backCover) || \"\",\n                        leftInterior: ((_cardData_generatedPrompts2 = cardData.generatedPrompts) === null || _cardData_generatedPrompts2 === void 0 ? void 0 : _cardData_generatedPrompts2.leftInterior) || \"\",\n                        rightInterior: ((_cardData_generatedPrompts3 = cardData.generatedPrompts) === null || _cardData_generatedPrompts3 === void 0 ? void 0 : _cardData_generatedPrompts3.rightInterior) || \"\"\n                    },\n                    styleInfo: styleInfo\n                };\n                // Simplified draft tracking - use fixed array positions\n                draftGeneration.setDraftCards((prev)=>{\n                    const updated = [\n                        ...prev\n                    ];\n                    // Ensure array has 5 slots\n                    while(updated.length < 5){\n                        updated.push(null);\n                    }\n                    // Place draft at its correct index\n                    updated[draftIndex] = draftCard;\n                    console.log(\"✅ Draft \".concat(draftIndex + 1, \" completed and stored at index \").concat(draftIndex));\n                    // No longer save individual drafts to localStorage\n                    return updated;\n                });\n                // Simplified completion tracking - count the updated array including the new draft\n                const updatedDrafts = [\n                    ...draftGeneration.draftCards\n                ];\n                updatedDrafts[draftIndex] = draftCard;\n                const completedCount = updatedDrafts.filter(Boolean).length;\n                console.log(\"\\uD83D\\uDCCA Draft progress: \".concat(completedCount, \"/5 variations complete\"));\n                // Update progress\n                const progressMsg = completedCount === 5 ? \"All 5 variations ready! Choose your favorite below.\" : \"\".concat(completedCount, \"/5 variations complete...\").concat(completedCount >= 2 ? \" You can select one now!\" : \"\");\n                draftGeneration.setGenerationProgress(progressMsg);\n                // Override time-based progress with real progress when drafts complete\n                // Don't override time-based progress\n                console.log(\"\\uD83C\\uDFA8 Draft \".concat(completedCount, \"/5 completed\"));\n                // Handle milestones\n                if (completedCount === 1) {\n                    (0,_cardStudio_utils__WEBPACK_IMPORTED_MODULE_9__.scrollToCardPreview)();\n                }\n                if (completedCount === 5 && !draftGeneration.isGeneratingFinalCard) {\n                    draftGeneration.setIsGenerating(false);\n                    jobManagement.stopElapsedTimeTracking();\n                    // Clear recovery data for completed draft jobs\n                    _lib_storageManager__WEBPACK_IMPORTED_MODULE_10__.storage.clearRecovery();\n                    console.log(\"\\uD83E\\uDDF9 Cleared recovery data for completed draft job\");\n                    sonner__WEBPACK_IMPORTED_MODULE_1__.toast.success(\"\\uD83C\\uDFA8 All 5 front cover variations ready! Choose your favorite below.\");\n                }\n                // Keep draft jobs in storage for later retrieval\n                // Only unsubscribe from WebSocket\n                webSocket.unsubscribeFromJob(job_id);\n                console.log(\"✅ Keeping draft job \".concat(job_id, \" in storage for future access\"));\n            } else {\n                // Handle final card completion\n                console.log(\"\\uD83D\\uDD0D Final card completion detected. Card data structure:\", {\n                    hasCardData: !!cardData,\n                    cardDataKeys: Object.keys(cardData || {}),\n                    frontCover: (cardData === null || cardData === void 0 ? void 0 : cardData.frontCover) ? \"Present\" : \"Missing\",\n                    backCover: (cardData === null || cardData === void 0 ? void 0 : cardData.backCover) ? \"Present\" : \"Missing\",\n                    leftInterior: (cardData === null || cardData === void 0 ? void 0 : cardData.leftInterior) ? \"Present\" : \"Missing\",\n                    rightInterior: (cardData === null || cardData === void 0 ? void 0 : cardData.rightInterior) ? \"Present\" : \"Missing\",\n                    leftPage: (cardData === null || cardData === void 0 ? void 0 : cardData.leftPage) ? \"Present\" : \"Missing\",\n                    rightPage: (cardData === null || cardData === void 0 ? void 0 : cardData.rightPage) ? \"Present\" : \"Missing\"\n                });\n                console.log(\"\\uD83D\\uDCDD Full card data:\", JSON.stringify(cardData, null, 2));\n                // Map backend field names to frontend field names\n                const mappedCardData = {\n                    ...cardData,\n                    leftInterior: cardData.leftInterior || cardData.leftPage,\n                    rightInterior: cardData.rightInterior || cardData.rightPage,\n                    // Keep original fields for backward compatibility\n                    leftPage: cardData.leftPage || cardData.leftInterior,\n                    rightPage: cardData.rightPage || cardData.rightInterior\n                };\n                console.log(\"\\uD83D\\uDD04 Mapped card data for frontend compatibility:\", {\n                    frontCover: mappedCardData.frontCover ? \"Present\" : \"Missing\",\n                    backCover: mappedCardData.backCover ? \"Present\" : \"Missing\",\n                    leftInterior: mappedCardData.leftInterior ? \"Present\" : \"Missing\",\n                    rightInterior: mappedCardData.rightInterior ? \"Present\" : \"Missing\"\n                });\n                // Call the completion handler\n                console.log(\"\\uD83D\\uDE80 Calling handleFinalCardCompletion...\");\n                cardGeneration.handleFinalCardCompletion(mappedCardData);\n                // Card is automatically added to recent cards by markJobComplete\n                // Only clear recovery if we're not in the middle of restoring\n                if (!isRestoringJobs) {\n                    jobManagement.removeJobFromStorage(job_id);\n                }\n                jobManagement.setCurrentJobId(null);\n                webSocket.unsubscribeFromJob(job_id);\n            }\n        } else if (status === \"failed\") {\n            console.error(\"❌ Job failed:\", error);\n            if (isDraftJob && draftIndex >= 0) {\n                sonner__WEBPACK_IMPORTED_MODULE_1__.toast.error(\"Draft variation \".concat(draftIndex + 1, \" failed. Continuing with others...\"));\n            } else {\n                sonner__WEBPACK_IMPORTED_MODULE_1__.toast.error(\"❌ Card generation failed. Please try again.\");\n                cardGeneration.setIsGenerating(false);\n                draftGeneration.setIsGeneratingFinalCard(false);\n                jobManagement.stopElapsedTimeTracking();\n                cardGeneration.setGenerationProgress(\"\");\n                // Don't reset progress - let time-based progress continue\n                // jobManagement.setProgressPercentage(0);\n                jobManagement.setCurrentJobId(null);\n                webSocket.unsubscribeFromJob(job_id);\n            }\n            // Only clear recovery if we're not in the middle of restoring\n            if (!isRestoringJobs) {\n                jobManagement.removeJobFromStorage(job_id);\n            }\n        } else if (status === \"not_found\") {\n            console.warn(\"⚠️ Job not found on server, cleaning up stale reference:\", job_id);\n            // Clean up stale job reference\n            if (webSocket.currentJobRef.current === job_id) {\n                webSocket.currentJobRef.current = null;\n            }\n            // Reset UI state if this was the current job\n            if (jobManagement.currentJobId === job_id) {\n                jobManagement.setCurrentJobId(null);\n                cardGeneration.setIsGenerating(false);\n                draftGeneration.setIsGeneratingFinalCard(false);\n                cardGeneration.setGenerationProgress(\"\");\n                // Don't reset progress - let time-based progress continue\n                // jobManagement.setProgressPercentage(0);\n                jobManagement.stopElapsedTimeTracking();\n            }\n            // Clean up storage\n            // Only clear recovery if we're not in the middle of restoring\n            if (!isRestoringJobs) {\n                jobManagement.removeJobFromStorage(job_id);\n            }\n            webSocket.unsubscribeFromJob(job_id);\n        }\n    }, [\n        selectedArtisticStyle,\n        draftGeneration,\n        cardGeneration,\n        jobManagement,\n        webSocket,\n        isRestoringJobs\n    ]);\n    // Set up WebSocket job update handler\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        webSocket.setJobUpdateHandler(handleJobUpdate);\n    }, [\n        webSocket,\n        handleJobUpdate\n    ]);\n    // Track if we've already logged the stale job message\n    const staleJobLoggedRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(false);\n    // Auto-reconnect WebSocket if disconnected during active generation\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        if (!webSocket.isSocketConnected && (cardGeneration.isGenerating || draftGeneration.isGeneratingFinalCard) && webSocket.currentJobRef.current) {\n            // Check if the generation has been running for more than 5 minutes\n            if (jobManagement.generationStartTime) {\n                const jobAge = Date.now() - jobManagement.generationStartTime;\n                if (jobAge > 5 * 60 * 1000) {\n                    if (!staleJobLoggedRef.current) {\n                        console.log(\"⏰ Job is older than 5 minutes, stopping reconnection attempts\");\n                        staleJobLoggedRef.current = true;\n                        // Clean up stale job\n                        const jobId = webSocket.currentJobRef.current;\n                        if (jobId) {\n                            console.log(\"\\uD83E\\uDDF9 Cleaning up stale job:\", jobId);\n                            // Remove from localStorage (only if not a draft job)\n                            if (!jobId.startsWith(\"draft-\")) {\n                                jobManagement.removeJobFromStorage(jobId);\n                            }\n                            // Reset generation states\n                            cardGeneration.setIsGenerating(false);\n                            draftGeneration.setIsGeneratingFinalCard(false);\n                            draftGeneration.setIsDraftMode(false);\n                            draftGeneration.setDraftCards([]);\n                            draftGeneration.setDraftCompletionCount(0);\n                            draftGeneration.setDraftCompletionShown(false);\n                            jobManagement.setCurrentJobId(null);\n                            jobManagement.setGenerationProgress(\"\");\n                            // Don't reset progress - let time-based progress continue\n                            // jobManagement.setProgressPercentage(0);\n                            jobManagement.stopElapsedTimeTracking();\n                            // Unsubscribe from job\n                            webSocket.unsubscribeFromJob(jobId);\n                            // Show error toast\n                            sonner__WEBPACK_IMPORTED_MODULE_1__.toast.error(\"Card generation timed out. Please try again.\");\n                        }\n                    }\n                    return;\n                }\n            }\n            console.log(\"\\uD83D\\uDD04 WebSocket disconnected during generation, attempting reconnect...\");\n            const reconnectTimer = setTimeout(()=>{\n                webSocket.connectWebSocket();\n                // Re-subscribe to current job after reconnection\n                const jobId = webSocket.currentJobRef.current;\n                if (jobId) {\n                    setTimeout(()=>{\n                        console.log(\"\\uD83D\\uDCE1 Re-subscribing to job after reconnect:\", jobId);\n                        webSocket.subscribeToJob(jobId);\n                    }, 1000);\n                }\n            }, 2000);\n            return ()=>clearTimeout(reconnectTimer);\n        }\n    }, [\n        webSocket,\n        cardGeneration.isGenerating,\n        draftGeneration.isGeneratingFinalCard,\n        jobManagement.generationStartTime\n    ]);\n    // Reset stale job flag when generation starts\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        if (cardGeneration.isGenerating || draftGeneration.isGeneratingFinalCard) {\n            staleJobLoggedRef.current = false;\n        }\n    }, [\n        cardGeneration.isGenerating,\n        draftGeneration.isGeneratingFinalCard\n    ]);\n    // Monitor for stale job updates\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        if ((cardGeneration.isGenerating || draftGeneration.isGeneratingFinalCard) && webSocket.currentJobRef.current) {\n            const checkInterval = setInterval(async ()=>{\n                const timeSinceLastUpdate = Date.now() - webSocket.lastJobUpdateRef.current;\n                const jobId = webSocket.currentJobRef.current;\n                // Very aggressive checking when at 95%+ progress\n                if (jobManagement.progressPercentage >= 95 && timeSinceLastUpdate > 5000) {\n                    console.warn(\"⚠️ No updates for \".concat(Math.round(timeSinceLastUpdate / 1000), \"s at \").concat(jobManagement.progressPercentage, \"% progress - checking job status...\"));\n                    if (jobId) {\n                        try {\n                            const response = await fetch(\"/api/job-status/\".concat(jobId));\n                            if (response.ok) {\n                                const jobStatus = await response.json();\n                                console.log(\"\\uD83D\\uDCCA Direct job status check:\", jobStatus);\n                                if (jobStatus.status === \"completed\" && jobStatus.cardData) {\n                                    console.log(\"✅ Job is actually completed! Processing result...\");\n                                    handleJobUpdate({\n                                        job_id: jobId,\n                                        status: \"completed\",\n                                        progress: \"Card generation complete!\",\n                                        cardData: jobStatus.cardData\n                                    });\n                                    return; // Exit early on completion\n                                }\n                            }\n                        } catch (error) {\n                            console.error(\"Failed to check job status:\", error);\n                        }\n                    }\n                } else if (jobManagement.progressPercentage >= 90 && timeSinceLastUpdate > 10000) {\n                    console.warn(\"⚠️ No updates for \".concat(Math.round(timeSinceLastUpdate / 1000), \"s at \").concat(jobManagement.progressPercentage, \"% progress\"));\n                    if (jobId) {\n                        try {\n                            const response = await fetch(\"/api/job-status/\".concat(jobId));\n                            if (response.ok) {\n                                const jobStatus = await response.json();\n                                console.log(\"\\uD83D\\uDCCA Direct job status check:\", jobStatus);\n                                if (jobStatus.status === \"completed\" && jobStatus.cardData) {\n                                    console.log(\"✅ Job is actually completed! Processing result...\");\n                                    handleJobUpdate({\n                                        job_id: jobId,\n                                        status: \"completed\",\n                                        progress: \"Card generation complete!\",\n                                        cardData: jobStatus.cardData\n                                    });\n                                    return; // Exit early on completion\n                                }\n                            }\n                        } catch (error) {\n                            console.error(\"Failed to check job status:\", error);\n                        }\n                    }\n                }\n                // Standard stale update check\n                if (timeSinceLastUpdate > 30000) {\n                    console.warn(\"⚠️ No job updates for 30 seconds, checking connection...\");\n                    if (!webSocket.isSocketConnected) {\n                        console.log(\"\\uD83D\\uDD04 WebSocket disconnected, reconnecting...\");\n                        webSocket.connectWebSocket();\n                    } else if (jobId) {\n                        console.log(\"\\uD83D\\uDCE1 Re-subscribing to job due to stale updates:\", jobId);\n                        webSocket.subscribeToJob(jobId);\n                    }\n                    // Reset the timer\n                    webSocket.lastJobUpdateRef.current = Date.now();\n                }\n            }, 3000); // Check every 3 seconds for faster detection at high progress\n            return ()=>clearInterval(checkInterval);\n        }\n    }, [\n        cardGeneration.isGenerating,\n        draftGeneration.isGeneratingFinalCard,\n        webSocket,\n        jobManagement.progressPercentage,\n        handleJobUpdate\n    ]);\n    // Simplified job restoration using new storage manager\n    const checkPendingJobs = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(async ()=>{\n        var _recovery_jobId;\n        console.log(\"\\uD83D\\uDD04 Checking for recovery data...\");\n        setIsRestoringJobs(true);\n        // Check for active recovery job\n        const recovery = _lib_storageManager__WEBPACK_IMPORTED_MODULE_10__.storage.getRecovery();\n        if (!recovery) {\n            console.log(\"✅ No active job to recover\");\n            setIsRestoringJobs(false);\n            return;\n        }\n        console.log(\"\\uD83D\\uDD04 Found recovery data:\", recovery);\n        // In our simplified system, we only track one active job at a time\n        // Recovery is meant for browser crashes during generation\n        const isRecoveryDraft = (_recovery_jobId = recovery.jobId) === null || _recovery_jobId === void 0 ? void 0 : _recovery_jobId.startsWith(\"draft-\");\n        if (isRecoveryDraft) {\n            console.log(\"\\uD83C\\uDFA8 Recovering from draft generation\");\n            // For draft recovery, we can't restore the exact state\n            // User will need to restart the draft generation\n            setIsRestoringJobs(false);\n            return;\n        }\n        // For final card recovery, we can try to restore the job\n        console.log(\"\\uD83C\\uDFAF Recovering from final card generation\");\n        // Restore generation state\n        jobManagement.setCurrentJobId(recovery.jobId);\n        cardGeneration.setIsGenerating(true);\n        cardGeneration.setGenerationProgress(\"\\uD83D\\uDD04 Resuming generation...\");\n        jobManagement.startElapsedTimeTracking(\"final\");\n        // Subscribe to the job to get updates\n        webSocket.subscribeToJob(recovery.jobId);\n        setIsRestoringJobs(false);\n    }, [\n        webSocket,\n        _lib_storageManager__WEBPACK_IMPORTED_MODULE_10__.storage\n    ]);\n    // Load recovery data on component mount\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        console.log(\"\\uD83D\\uDE80 useCardStudio mounted, checking for recovery...\");\n        // Check for active recovery job\n        const recovery = _lib_storageManager__WEBPACK_IMPORTED_MODULE_10__.storage.getRecovery();\n        console.log(\"\\uD83D\\uDCE6 Recovery data:\", recovery);\n        if (recovery) {\n            console.log(\"\\uD83D\\uDD04 Found active job to recover:\", recovery.jobId);\n            // For draft jobs, check if we already have completed drafts\n            const isDraft = recovery.jobId.startsWith(\"draft-\");\n            if (isDraft) {\n                // Check if we already have completed draft cards\n                const hasCompletedDrafts = draftGeneration.draftCards.filter((card)=>card !== null).length > 0;\n                if (hasCompletedDrafts) {\n                    console.log(\"✅ Draft job already completed, not setting as generating\");\n                    // Just restore the job ID for reference, but don't set as generating\n                    jobManagement.setCurrentJobId(recovery.jobId);\n                    draftGeneration.setIsDraftMode(true);\n                } else {\n                    console.log(\"\\uD83C\\uDFA8 Resuming incomplete draft generation\");\n                    // Subscribe to the job to check its status\n                    jobManagement.setCurrentJobId(recovery.jobId);\n                    webSocket.subscribeToJob(recovery.jobId);\n                    draftGeneration.setIsDraftMode(true);\n                    // Don't set as generating yet - wait for WebSocket to tell us the actual status\n                    // This prevents navigation to Step 5 for already completed jobs\n                    console.log(\"⏳ Waiting for job status update before setting generation state...\");\n                }\n            } else {\n                // For final card recovery, check if already completed\n                if (cardGeneration.generatedCard && cardGeneration.isCardCompleted) {\n                    console.log(\"✅ Final card already completed, not setting as generating\");\n                    jobManagement.setCurrentJobId(recovery.jobId);\n                } else {\n                    console.log(\"\\uD83C\\uDFAF Resuming incomplete final card generation\");\n                    jobManagement.setCurrentJobId(recovery.jobId);\n                    webSocket.subscribeToJob(recovery.jobId);\n                    cardGeneration.setIsGenerating(true);\n                    cardGeneration.setGenerationProgress(\"\\uD83C\\uDFA8 Resuming card generation...\");\n                    jobManagement.startElapsedTimeTracking(\"final\");\n                    // If this is a final card generation from a draft, set the appropriate state\n                    if (recovery.formData && recovery.formData.selectedDraftIndex !== undefined) {\n                        draftGeneration.setIsGeneratingFinalCard(true);\n                        draftGeneration.setSelectedDraftIndex(recovery.formData.selectedDraftIndex);\n                    }\n                }\n            }\n        }\n        // Always mark restoration as complete\n        setIsRestoringJobs(false);\n        // Mark restoration as complete after a small delay\n        setTimeout(()=>{\n            setIsRestoringJobs(false);\n        }, 100);\n    }, []);\n    // Return all the state and functions that the UI needs\n    return {\n        // Core state\n        prompt,\n        setPrompt,\n        finalCardMessage: messageGeneration.finalCardMessage,\n        setFinalCardMessage: messageGeneration.setFinalCardMessage,\n        toField,\n        setToField,\n        fromField,\n        setFromField,\n        relationshipField,\n        setRelationshipField,\n        personalTraits,\n        setPersonalTraits,\n        selectedType,\n        setSelectedType,\n        customCardType,\n        setCustomCardType,\n        selectedTone,\n        setSelectedTone,\n        isGenerating: cardGeneration.isGenerating || draftGeneration.isGenerating,\n        setIsGenerating: cardGeneration.setIsGenerating,\n        isGeneratingMessage: messageGeneration.isGeneratingMessage,\n        setIsGeneratingMessage: messageGeneration.setIsGeneratingMessage,\n        generatedCard: cardGeneration.generatedCard,\n        setGeneratedCard: cardGeneration.setGeneratedCard,\n        numberOfCards,\n        setNumberOfCards,\n        generatedCards: cardGeneration.generatedCards,\n        setGeneratedCards: cardGeneration.setGeneratedCards,\n        selectedCardIndex: cardGeneration.selectedCardIndex,\n        setSelectedCardIndex: cardGeneration.setSelectedCardIndex,\n        // Advanced options\n        showAdvanced,\n        setShowAdvanced,\n        selectedArtisticStyle,\n        setSelectedArtisticStyle,\n        customStyleDescription,\n        setCustomStyleDescription,\n        selectedImageModel,\n        setSelectedImageModel,\n        selectedDraftModel,\n        setSelectedDraftModel,\n        // Draft mode\n        isDraftMode: draftGeneration.isDraftMode,\n        setIsDraftMode: draftGeneration.setIsDraftMode,\n        draftCards: draftGeneration.draftCards,\n        setDraftCards: draftGeneration.setDraftCards,\n        selectedDraftIndex: draftGeneration.selectedDraftIndex,\n        setSelectedDraftIndex: draftGeneration.setSelectedDraftIndex,\n        isGeneratingFinalCard: draftGeneration.isGeneratingFinalCard,\n        setIsGeneratingFinalCard: draftGeneration.setIsGeneratingFinalCard,\n        previewingDraftIndex: draftGeneration.previewingDraftIndex,\n        setPreviewingDraftIndex: draftGeneration.setPreviewingDraftIndex,\n        draftCompletionShown: draftGeneration.draftCompletionShown,\n        setDraftCompletionShown: draftGeneration.setDraftCompletionShown,\n        draftCompletionCount: draftGeneration.draftCompletionCount,\n        setDraftCompletionCount: draftGeneration.setDraftCompletionCount,\n        // Progress tracking\n        generationProgress: draftGeneration.isGenerating ? draftGeneration.generationProgress : cardGeneration.generationProgress,\n        setGenerationProgress: cardGeneration.setGenerationProgress,\n        progressPercentage: jobManagement.progressPercentage,\n        setProgressPercentage: jobManagement.setProgressPercentage,\n        isCardCompleted: cardGeneration.isCardCompleted,\n        setIsCardCompleted: cardGeneration.setIsCardCompleted,\n        // Upload and personalization\n        referenceImages: fileHandling.referenceImages,\n        setReferenceImages: fileHandling.setReferenceImages,\n        referenceImageUrls: fileHandling.referenceImageUrls,\n        setReferenceImageUrls: fileHandling.setReferenceImageUrls,\n        isUploading: fileHandling.isUploading,\n        setIsUploading: fileHandling.setIsUploading,\n        // Email and settings\n        userEmail,\n        setUserEmail,\n        isHandwrittenMessage,\n        setIsHandwrittenMessage,\n        isFrontBackOnly,\n        setIsFrontBackOnly,\n        selectedPaperSize,\n        setSelectedPaperSize,\n        // UI state\n        isTextareaExpanded,\n        setIsTextareaExpanded,\n        isMessageExpanded,\n        setIsMessageExpanded,\n        showSettings,\n        setShowSettings,\n        showTemplateGallery,\n        setShowTemplateGallery,\n        showPrintConfirmation,\n        setShowPrintConfirmation,\n        // Generation time\n        generationDuration: cardGeneration.generationDuration,\n        setGenerationDuration: cardGeneration.setGenerationDuration,\n        currentElapsedTime: jobManagement.currentElapsedTime,\n        // Helper functions\n        formatGenerationTime: _cardStudio_constants__WEBPACK_IMPORTED_MODULE_8__.formatGenerationTime,\n        formatCountdown: _cardStudio_constants__WEBPACK_IMPORTED_MODULE_8__.formatCountdown,\n        sendThankYouEmail: _cardStudio_utils__WEBPACK_IMPORTED_MODULE_9__.sendThankYouEmail,\n        chatWithAI: _cardStudio_utils__WEBPACK_IMPORTED_MODULE_9__.chatWithAI,\n        scrollToCardPreview: _cardStudio_utils__WEBPACK_IMPORTED_MODULE_9__.scrollToCardPreview,\n        // Time tracking functions\n        startElapsedTimeTracking: jobManagement.startElapsedTimeTracking,\n        stopElapsedTimeTracking: jobManagement.stopElapsedTimeTracking,\n        // File handling functions\n        handleFileUpload: fileHandling.handleFileUpload,\n        handleRemoveReferenceImage: fileHandling.handleRemoveReferenceImage,\n        // Simplified photo references\n        photoReferences: fileHandling.photoReferences,\n        setPhotoReferences: fileHandling.setPhotoReferences,\n        updatePhotoDescription: fileHandling.updatePhotoDescription,\n        // Message functions\n        handleGetMessageHelp: messageGeneration.handleGetMessageHelp,\n        addMessageToHistory: messageGeneration.addMessageToHistory,\n        undoMessage: messageGeneration.undoMessage,\n        redoMessage: messageGeneration.redoMessage,\n        // Job management\n        saveJobToStorage: jobManagement.saveJobToStorage,\n        removeJobFromStorage: jobManagement.removeJobFromStorage,\n        checkPendingJobs,\n        isRestoringJobs,\n        // Main generation functions\n        handleGenerateDraftCards: draftGeneration.handleGenerateDraftCards,\n        handleGenerateFinalFromDraft: draftGeneration.handleGenerateFinalFromDraft,\n        // Additional state for message refinement\n        messageHistory: messageGeneration.messageHistory,\n        setMessageHistory: messageGeneration.setMessageHistory,\n        currentMessageIndex: messageGeneration.currentMessageIndex,\n        setCurrentMessageIndex: messageGeneration.setCurrentMessageIndex,\n        refinementPrompt: messageGeneration.refinementPrompt,\n        setRefinementPrompt: messageGeneration.setRefinementPrompt,\n        isRefiningMessage: messageGeneration.isRefiningMessage,\n        setIsRefiningMessage: messageGeneration.setIsRefiningMessage,\n        showRefinementBox: messageGeneration.showRefinementBox,\n        setShowRefinementBox: messageGeneration.setShowRefinementBox,\n        // Template state\n        showTemplateCustomization,\n        setShowTemplateCustomization,\n        selectedTemplate,\n        setSelectedTemplate,\n        templateCustomizations,\n        setTemplateCustomizations,\n        templateSearchQuery,\n        setTemplateSearchQuery,\n        isSearchingTemplates,\n        setIsSearchingTemplates,\n        aiFilteredCards,\n        setAiFilteredCards,\n        searchMode,\n        setSearchMode,\n        textFilteredCards,\n        setTextFilteredCards,\n        showPrompts,\n        setShowPrompts,\n        // Print state\n        printOption,\n        setPrintOption,\n        // Additional draft mode state\n        handwritingSample: fileHandling.handwritingSample,\n        setHandwritingSample: fileHandling.setHandwritingSample,\n        handwritingSampleUrl: fileHandling.handwritingSampleUrl,\n        setHandwritingSampleUrl: fileHandling.setHandwritingSampleUrl,\n        // Job tracking\n        currentJobId: jobManagement.currentJobId,\n        setCurrentJobId: jobManagement.setCurrentJobId,\n        countdown,\n        setCountdown,\n        countdownInterval,\n        setCountdownInterval,\n        // Section loading states\n        sectionLoadingStates,\n        setSectionLoadingStates,\n        // Fast preview mode\n        fastPreviewMode,\n        setFastPreviewMode,\n        // Additional tracking\n        currentCardId: cardGeneration.currentCardId,\n        setCurrentCardId: cardGeneration.setCurrentCardId,\n        isInitialLoadComplete,\n        setIsInitialLoadComplete,\n        // Elapsed time tracking\n        generationStartTime: jobManagement.generationStartTime,\n        // Constants for UI\n        cardTones: _cardStudio_constants__WEBPACK_IMPORTED_MODULE_8__.cardTones,\n        artisticStyles: _cardStudio_constants__WEBPACK_IMPORTED_MODULE_8__.artisticStyles,\n        paperSizes: _cardStudio_constants__WEBPACK_IMPORTED_MODULE_8__.paperSizes,\n        // WebSocket functions and state\n        isSocketConnected: webSocket.isSocketConnected,\n        connectWebSocket: webSocket.connectWebSocket,\n        disconnectWebSocket: webSocket.disconnectWebSocket,\n        subscribeToJob: webSocket.subscribeToJob,\n        unsubscribeFromJob: webSocket.unsubscribeFromJob,\n        unsubscribeFromAllJobs: webSocket.unsubscribeFromAllJobs,\n        handleJobUpdate,\n        handleFinalCardCompletion: cardGeneration.handleFinalCardCompletion\n    };\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2hvb2tzL3VzZUNhcmRTdHVkaW9SZWZhY3RvcmVkLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7bUVBRWlFO0FBQ2xDO0FBRy9CLHVCQUF1QjtBQUNrQztBQUNrQjtBQUNGO0FBQ1Y7QUFDTTtBQUNGO0FBRW5FLDZCQUE2QjtBQVFHO0FBQ3dEO0FBQ3pDO0FBRXhDLFNBQVNvQjtJQUNkLGtCQUFrQjtJQUNsQixNQUFNLENBQUNDLFFBQVFDLFVBQVUsR0FBR3RCLCtDQUFRQSxDQUFDO0lBQ3JDLE1BQU0sQ0FBQ3VCLFNBQVNDLFdBQVcsR0FBR3hCLCtDQUFRQSxDQUFDO0lBQ3ZDLE1BQU0sQ0FBQ3lCLFdBQVdDLGFBQWEsR0FBRzFCLCtDQUFRQSxDQUFDO0lBQzNDLE1BQU0sQ0FBQzJCLG1CQUFtQkMscUJBQXFCLEdBQUc1QiwrQ0FBUUEsQ0FBQztJQUMzRCxNQUFNLENBQUM2QixnQkFBZ0JDLGtCQUFrQixHQUFHOUIsK0NBQVFBLENBQUM7SUFDckQsTUFBTSxDQUFDK0IsY0FBY0MsZ0JBQWdCLEdBQUdoQywrQ0FBUUEsQ0FBUztJQUN6RCxNQUFNLENBQUNpQyxnQkFBZ0JDLGtCQUFrQixHQUFHbEMsK0NBQVFBLENBQVM7SUFDN0QsTUFBTSxDQUFDbUMsY0FBY0MsZ0JBQWdCLEdBQUdwQywrQ0FBUUEsQ0FBUztJQUV6RCx5QkFBeUI7SUFDekIsTUFBTSxDQUFDcUMsY0FBY0MsZ0JBQWdCLEdBQUd0QywrQ0FBUUEsQ0FBQztJQUNqRCxNQUFNLENBQUN1Qyx1QkFBdUJDLHlCQUF5QixHQUFHeEMsK0NBQVFBLENBQVM7SUFDM0UsTUFBTSxDQUFDeUMsd0JBQXdCQywwQkFBMEIsR0FBRzFDLCtDQUFRQSxDQUFTO0lBQzdFLE1BQU0sQ0FBQzJDLG9CQUFvQkMsc0JBQXNCLEdBQUc1QywrQ0FBUUEsQ0FBUztJQUNyRSxNQUFNLENBQUM2QyxvQkFBb0JDLHNCQUFzQixHQUFHOUMsK0NBQVFBLENBQVM7SUFDckUsTUFBTSxD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QXlCNUssYUFBYTRLLHVCQUF1QjtRQUU3RCxlQUFlO1FBQ2YvRSxjQUFjOUYsY0FBYzhGLFlBQVk7UUFDeEMvRSxpQkFBaUJmLGNBQWNlLGVBQWU7UUFDOUNwQjtRQUNBQztRQUNBQztRQUNBQztRQUVBLHlCQUF5QjtRQUN6QlQ7UUFDQUM7UUFFQSxvQkFBb0I7UUFDcEJyRDtRQUNBQztRQUVBLHNCQUFzQjtRQUN0QjRPLGVBQWV2SixlQUFldUosYUFBYTtRQUMzQ0Msa0JBQWtCeEosZUFBZXdKLGdCQUFnQjtRQUNqRGxOO1FBQ0FDO1FBRUEsd0JBQXdCO1FBQ3hCb0kscUJBQXFCbEcsY0FBY2tHLG1CQUFtQjtRQUV0RCxtQkFBbUI7UUFDbkJyTSxTQUFTQSw4REFBQUE7UUFDVEMsY0FBY0EsbUVBQUFBO1FBQ2RDLFVBQVVBLCtEQUFBQTtRQUVWLGdDQUFnQztRQUNoQ2tNLG1CQUFtQmxHLFVBQVVrRyxpQkFBaUI7UUFDOUNNLGtCQUFrQnhHLFVBQVV3RyxnQkFBZ0I7UUFDNUN5RSxxQkFBcUJqTCxVQUFVaUwsbUJBQW1CO1FBQ2xEekssZ0JBQWdCUixVQUFVUSxjQUFjO1FBQ3hDNEUsb0JBQW9CcEYsVUFBVW9GLGtCQUFrQjtRQUNoRDNFLHdCQUF3QlQsVUFBVVMsc0JBQXNCO1FBQ3hEZ0I7UUFDQW1FLDJCQUEyQnBFLGVBQWVvRSx5QkFBeUI7SUFDckU7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ob29rcy91c2VDYXJkU3R1ZGlvUmVmYWN0b3JlZC50cz85Y2M5Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIGNsaWVudFwiO1xuXG5pbXBvcnQgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0LCB1c2VDYWxsYmFjaywgdXNlUmVmIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyB0b2FzdCB9IGZyb20gXCJzb25uZXJcIjtcbmltcG9ydCB7IHY0IGFzIHV1aWR2NCB9IGZyb20gJ3V1aWQnO1xuXG4vLyBJbXBvcnQgbW9kdWxhciBob29rc1xuaW1wb3J0IHsgdXNlV2ViU29ja2V0IH0gZnJvbSAnLi9jYXJkU3R1ZGlvL3VzZVdlYlNvY2tldCc7XG5pbXBvcnQgeyB1c2VKb2JNYW5hZ2VtZW50IH0gZnJvbSAnLi9jYXJkU3R1ZGlvL3VzZUpvYk1hbmFnZW1lbnRTaW1wbGlmaWVkJztcbmltcG9ydCB7IHVzZU1lc3NhZ2VHZW5lcmF0aW9uIH0gZnJvbSAnLi9jYXJkU3R1ZGlvL3VzZU1lc3NhZ2VHZW5lcmF0aW9uJztcbmltcG9ydCB7IHVzZUZpbGVIYW5kbGluZyB9IGZyb20gJy4vY2FyZFN0dWRpby91c2VGaWxlSGFuZGxpbmcnO1xuaW1wb3J0IHsgdXNlRHJhZnRHZW5lcmF0aW9uIH0gZnJvbSAnLi9jYXJkU3R1ZGlvL3VzZURyYWZ0R2VuZXJhdGlvbic7XG5pbXBvcnQgeyB1c2VDYXJkR2VuZXJhdGlvbiB9IGZyb20gJy4vY2FyZFN0dWRpby91c2VDYXJkR2VuZXJhdGlvbic7XG5cbi8vIEltcG9ydCBjb25zdGFudHMgYW5kIHV0aWxzXG5pbXBvcnQgeyBcbiAgY2FyZFRvbmVzLCBcbiAgYXJ0aXN0aWNTdHlsZXMsIFxuICBwYXBlclNpemVzLCBcbiAgZm9ybWF0R2VuZXJhdGlvblRpbWUsIFxuICBmb3JtYXRDb3VudGRvd24sXG4gIEdlbmVyYXRlZENhcmQgXG59IGZyb20gJy4vY2FyZFN0dWRpby9jb25zdGFudHMnO1xuaW1wb3J0IHsgc2VuZFRoYW5rWW91RW1haWwsIGNoYXRXaXRoQUksIHNjcm9sbFRvQ2FyZFByZXZpZXcgfSBmcm9tICcuL2NhcmRTdHVkaW8vdXRpbHMnO1xuaW1wb3J0IHsgc3RvcmFnZSB9IGZyb20gJ0AvbGliL3N0b3JhZ2VNYW5hZ2VyJztcblxuZXhwb3J0IGZ1bmN0aW9uIHVzZUNhcmRTdHVkaW8oKSB7XG4gIC8vIENvcmUgZm9ybSBzdGF0ZVxuICBjb25zdCBbcHJvbXB0LCBzZXRQcm9tcHRdID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFt0b0ZpZWxkLCBzZXRUb0ZpZWxkXSA9IHVzZVN0YXRlKFwiXCIpO1xuICBjb25zdCBbZnJvbUZpZWxkLCBzZXRGcm9tRmllbGRdID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFtyZWxhdGlvbnNoaXBGaWVsZCwgc2V0UmVsYXRpb25zaGlwRmllbGRdID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFtwZXJzb25hbFRyYWl0cywgc2V0UGVyc29uYWxUcmFpdHNdID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFtzZWxlY3RlZFR5cGUsIHNldFNlbGVjdGVkVHlwZV0gPSB1c2VTdGF0ZTxzdHJpbmc+KFwiYmlydGhkYXlcIik7XG4gIGNvbnN0IFtjdXN0b21DYXJkVHlwZSwgc2V0Q3VzdG9tQ2FyZFR5cGVdID0gdXNlU3RhdGU8c3RyaW5nPihcIlwiKTtcbiAgY29uc3QgW3NlbGVjdGVkVG9uZSwgc2V0U2VsZWN0ZWRUb25lXSA9IHVzZVN0YXRlPHN0cmluZz4oXCJmdW5ueVwiKTtcbiAgXG4gIC8vIEFkdmFuY2VkIG9wdGlvbnMgc3RhdGVcbiAgY29uc3QgW3Nob3dBZHZhbmNlZCwgc2V0U2hvd0FkdmFuY2VkXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3NlbGVjdGVkQXJ0aXN0aWNTdHlsZSwgc2V0U2VsZWN0ZWRBcnRpc3RpY1N0eWxlXSA9IHVzZVN0YXRlPHN0cmluZz4oXCJhaS1zbWFydC1zdHlsZVwiKTtcbiAgY29uc3QgW2N1c3RvbVN0eWxlRGVzY3JpcHRpb24sIHNldEN1c3RvbVN0eWxlRGVzY3JpcHRpb25dID0gdXNlU3RhdGU8c3RyaW5nPihcIlwiKTtcbiAgY29uc3QgW3NlbGVjdGVkSW1hZ2VNb2RlbCwgc2V0U2VsZWN0ZWRJbWFnZU1vZGVsXSA9IHVzZVN0YXRlPHN0cmluZz4oXCJncHQtaW1hZ2UtMVwiKTtcbiAgY29uc3QgW3NlbGVjdGVkRHJhZnRNb2RlbCwgc2V0U2VsZWN0ZWREcmFmdE1vZGVsXSA9IHVzZVN0YXRlPHN0cmluZz4oXCJncHQtaW1hZ2UtMVwiKTtcbiAgY29uc3QgW2Zhc3RQcmV2aWV3TW9kZSwgc2V0RmFzdFByZXZpZXdNb2RlXSA9IHVzZVN0YXRlPGJvb2xlYW4+KHRydWUpO1xuICBcbiAgLy8gRW1haWwgc3RhdGVcbiAgY29uc3QgW3VzZXJFbWFpbCwgc2V0VXNlckVtYWlsXSA9IHVzZVN0YXRlPHN0cmluZz4oXCJcIik7XG4gIFxuICAvLyBDYXJkIG9wdGlvbnNcbiAgY29uc3QgW251bWJlck9mQ2FyZHMsIHNldE51bWJlck9mQ2FyZHNdID0gdXNlU3RhdGU8bnVtYmVyPigxKTtcbiAgY29uc3QgW2lzSGFuZHdyaXR0ZW5NZXNzYWdlLCBzZXRJc0hhbmR3cml0dGVuTWVzc2FnZV0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtpc0Zyb250QmFja09ubHksIHNldElzRnJvbnRCYWNrT25seV0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtzZWxlY3RlZFBhcGVyU2l6ZSwgc2V0U2VsZWN0ZWRQYXBlclNpemVdID0gdXNlU3RhdGU8c3RyaW5nPihcInN0YW5kYXJkXCIpO1xuICBcbiAgLy8gVUkgc3RhdGVcbiAgY29uc3QgW2lzVGV4dGFyZWFFeHBhbmRlZCwgc2V0SXNUZXh0YXJlYUV4cGFuZGVkXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2lzTWVzc2FnZUV4cGFuZGVkLCBzZXRJc01lc3NhZ2VFeHBhbmRlZF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtzaG93U2V0dGluZ3MsIHNldFNob3dTZXR0aW5nc10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtzaG93VGVtcGxhdGVHYWxsZXJ5LCBzZXRTaG93VGVtcGxhdGVHYWxsZXJ5XSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3Nob3dQcmludENvbmZpcm1hdGlvbiwgc2V0U2hvd1ByaW50Q29uZmlybWF0aW9uXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3Nob3dUZW1wbGF0ZUN1c3RvbWl6YXRpb24sIHNldFNob3dUZW1wbGF0ZUN1c3RvbWl6YXRpb25dID0gdXNlU3RhdGUoZmFsc2UpO1xuICBcbiAgLy8gUmVzdG9yYXRpb24gc3RhdGVcbiAgY29uc3QgW2lzUmVzdG9yaW5nSm9icywgc2V0SXNSZXN0b3JpbmdKb2JzXSA9IHVzZVN0YXRlKHRydWUpO1xuICBjb25zdCBbc2VsZWN0ZWRUZW1wbGF0ZSwgc2V0U2VsZWN0ZWRUZW1wbGF0ZV0gPSB1c2VTdGF0ZTxHZW5lcmF0ZWRDYXJkIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtpc0luaXRpYWxMb2FkQ29tcGxldGUsIHNldElzSW5pdGlhbExvYWRDb21wbGV0ZV0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIFxuICAvLyBUZW1wbGF0ZSBzdGF0ZVxuICBjb25zdCBbdGVtcGxhdGVTZWFyY2hRdWVyeSwgc2V0VGVtcGxhdGVTZWFyY2hRdWVyeV0gPSB1c2VTdGF0ZShcIlwiKTtcbiAgY29uc3QgW2lzU2VhcmNoaW5nVGVtcGxhdGVzLCBzZXRJc1NlYXJjaGluZ1RlbXBsYXRlc10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFthaUZpbHRlcmVkQ2FyZHMsIHNldEFpRmlsdGVyZWRDYXJkc10gPSB1c2VTdGF0ZTxhbnlbXT4oW10pO1xuICBjb25zdCBbc2VhcmNoTW9kZSwgc2V0U2VhcmNoTW9kZV0gPSB1c2VTdGF0ZTwndGV4dCcgfCAnYWknIHwgJ2h5YnJpZCc+KCd0ZXh0Jyk7XG4gIGNvbnN0IFt0ZXh0RmlsdGVyZWRDYXJkcywgc2V0VGV4dEZpbHRlcmVkQ2FyZHNdID0gdXNlU3RhdGU8YW55W10+KFtdKTtcbiAgY29uc3QgW3Nob3dQcm9tcHRzLCBzZXRTaG93UHJvbXB0c10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtwcmludE9wdGlvbiwgc2V0UHJpbnRPcHRpb25dID0gdXNlU3RhdGU8J3BoeXNpY2FsJyB8ICdlbWFpbCc+KCdwaHlzaWNhbCcpO1xuICBcbiAgLy8gVGVtcGxhdGUgY3VzdG9taXphdGlvbiBzdGF0ZVxuICBjb25zdCBbdGVtcGxhdGVDdXN0b21pemF0aW9ucywgc2V0VGVtcGxhdGVDdXN0b21pemF0aW9uc10gPSB1c2VTdGF0ZSh7XG4gICAgcHJvbXB0Q2hhbmdlczogXCJcIixcbiAgICBtZXNzYWdlQ2hhbmdlczogXCJcIixcbiAgICB1c2VSZWZlcmVuY2VJbWFnZTogZmFsc2UsXG4gICAgcmVmZXJlbmNlSW1hZ2VGaWxlOiBudWxsIGFzIEZpbGUgfCBudWxsLFxuICAgIHJlZmVyZW5jZUltYWdlVXJsczogW10gYXMgc3RyaW5nW10sXG4gICAgcmVmZXJlbmNlSW1hZ2VUcmFuc2Zvcm1hdGlvbjogXCJcIlxuICB9KTtcbiAgXG4gIC8vIFNlY3Rpb24gbG9hZGluZyBzdGF0ZXNcbiAgY29uc3QgW3NlY3Rpb25Mb2FkaW5nU3RhdGVzLCBzZXRTZWN0aW9uTG9hZGluZ1N0YXRlc10gPSB1c2VTdGF0ZTx7XG4gICAgZnJvbnRDb3ZlcjogJ2lkbGUnIHwgJ2xvYWRpbmcnIHwgJ2NvbXBsZXRlZCcgfCAnZXJyb3InO1xuICAgIGJhY2tDb3ZlcjogJ2lkbGUnIHwgJ2xvYWRpbmcnIHwgJ2NvbXBsZXRlZCcgfCAnZXJyb3InO1xuICAgIGxlZnRJbnRlcmlvcjogJ2lkbGUnIHwgJ2xvYWRpbmcnIHwgJ2NvbXBsZXRlZCcgfCAnZXJyb3InO1xuICAgIHJpZ2h0SW50ZXJpb3I6ICdpZGxlJyB8ICdsb2FkaW5nJyB8ICdjb21wbGV0ZWQnIHwgJ2Vycm9yJztcbiAgfT4oe1xuICAgIGZyb250Q292ZXI6ICdpZGxlJyxcbiAgICBiYWNrQ292ZXI6ICdpZGxlJyxcbiAgICBsZWZ0SW50ZXJpb3I6ICdpZGxlJyxcbiAgICByaWdodEludGVyaW9yOiAnaWRsZScsXG4gIH0pO1xuICBcbiAgLy8gQ291bnRkb3duIHN0YXRlXG4gIGNvbnN0IFtjb3VudGRvd24sIHNldENvdW50ZG93bl0gPSB1c2VTdGF0ZTxudW1iZXI+KDApO1xuICBjb25zdCBbY291bnRkb3duSW50ZXJ2YWwsIHNldENvdW50ZG93bkludGVydmFsXSA9IHVzZVN0YXRlPE5vZGVKUy5UaW1lb3V0IHwgbnVsbD4obnVsbCk7XG5cbiAgLy8gVXNlIG1vZHVsYXIgaG9va3NcbiAgY29uc3Qgd2ViU29ja2V0ID0gdXNlV2ViU29ja2V0KCk7XG4gIGNvbnN0IGpvYk1hbmFnZW1lbnQgPSB1c2VKb2JNYW5hZ2VtZW50KCk7XG4gIGNvbnN0IGZpbGVIYW5kbGluZyA9IHVzZUZpbGVIYW5kbGluZygpO1xuICBjb25zdCBtZXNzYWdlR2VuZXJhdGlvbiA9IHVzZU1lc3NhZ2VHZW5lcmF0aW9uKFxuICAgIHNlbGVjdGVkVHlwZSxcbiAgICBjdXN0b21DYXJkVHlwZSxcbiAgICBzZWxlY3RlZFRvbmUsXG4gICAgcHJvbXB0LFxuICAgIHRvRmllbGQsXG4gICAgZnJvbUZpZWxkLFxuICAgIHJlbGF0aW9uc2hpcEZpZWxkLFxuICAgIGZpbGVIYW5kbGluZy5waG90b1JlZmVyZW5jZXNcbiAgKTtcbiAgXG4gIC8vIERyYWZ0IGdlbmVyYXRpb24gcHJvcHNcbiAgY29uc3QgZHJhZnRHZW5lcmF0aW9uUHJvcHMgPSB7XG4gICAgc2VsZWN0ZWRUeXBlLFxuICAgIGN1c3RvbUNhcmRUeXBlLFxuICAgIHNlbGVjdGVkVG9uZSxcbiAgICBzZWxlY3RlZEFydGlzdGljU3R5bGUsXG4gICAgY3VzdG9tU3R5bGVEZXNjcmlwdGlvbixcbiAgICBzZWxlY3RlZERyYWZ0TW9kZWwsXG4gICAgc2VsZWN0ZWRJbWFnZU1vZGVsLFxuICAgIHNlbGVjdGVkUGFwZXJTaXplLFxuICAgIHByb21wdCxcbiAgICBwZXJzb25hbFRyYWl0cyxcbiAgICB0b0ZpZWxkLFxuICAgIGZyb21GaWVsZCxcbiAgICB1c2VyRW1haWwsXG4gICAgZmluYWxDYXJkTWVzc2FnZTogbWVzc2FnZUdlbmVyYXRpb24uZmluYWxDYXJkTWVzc2FnZSxcbiAgICBpc0hhbmR3cml0dGVuTWVzc2FnZSxcbiAgICBpc0Zyb250QmFja09ubHksXG4gICAgcmVmZXJlbmNlSW1hZ2VVcmxzOiBmaWxlSGFuZGxpbmcucmVmZXJlbmNlSW1hZ2VVcmxzLFxuICAgIHBob3RvUmVmZXJlbmNlczogZmlsZUhhbmRsaW5nLnBob3RvUmVmZXJlbmNlcyxcbiAgICByZWxhdGlvbnNoaXBGaWVsZCxcbiAgICBzYXZlSm9iVG9TdG9yYWdlOiBqb2JNYW5hZ2VtZW50LnNhdmVKb2JUb1N0b3JhZ2UsXG4gICAgc3Vic2NyaWJlVG9Kb2I6IHdlYlNvY2tldC5zdWJzY3JpYmVUb0pvYixcbiAgICB1bnN1YnNjcmliZUZyb21BbGxKb2JzOiB3ZWJTb2NrZXQudW5zdWJzY3JpYmVGcm9tQWxsSm9icyxcbiAgICBzdGFydEVsYXBzZWRUaW1lVHJhY2tpbmc6IGpvYk1hbmFnZW1lbnQuc3RhcnRFbGFwc2VkVGltZVRyYWNraW5nLFxuICAgIHN0b3BFbGFwc2VkVGltZVRyYWNraW5nOiBqb2JNYW5hZ2VtZW50LnN0b3BFbGFwc2VkVGltZVRyYWNraW5nLFxuICAgIHNldFByb2dyZXNzUGVyY2VudGFnZTogam9iTWFuYWdlbWVudC5zZXRQcm9ncmVzc1BlcmNlbnRhZ2UsXG4gIH07XG4gIFxuICBjb25zdCBkcmFmdEdlbmVyYXRpb24gPSB1c2VEcmFmdEdlbmVyYXRpb24oZHJhZnRHZW5lcmF0aW9uUHJvcHMpO1xuICBcbiAgLy8gQ2FyZCBnZW5lcmF0aW9uIHByb3BzXG4gIGNvbnN0IGNhcmRHZW5lcmF0aW9uUHJvcHMgPSB7XG4gICAgc2VsZWN0ZWRUeXBlLFxuICAgIGN1c3RvbUNhcmRUeXBlLFxuICAgIHNlbGVjdGVkVG9uZSxcbiAgICBzZWxlY3RlZEFydGlzdGljU3R5bGUsXG4gICAgY3VzdG9tU3R5bGVEZXNjcmlwdGlvbixcbiAgICBzZWxlY3RlZEltYWdlTW9kZWwsXG4gICAgc2VsZWN0ZWRQYXBlclNpemUsXG4gICAgcHJvbXB0LFxuICAgIHBlcnNvbmFsVHJhaXRzLFxuICAgIHRvRmllbGQsXG4gICAgZnJvbUZpZWxkLFxuICAgIHVzZXJFbWFpbCxcbiAgICBmaW5hbENhcmRNZXNzYWdlOiBtZXNzYWdlR2VuZXJhdGlvbi5maW5hbENhcmRNZXNzYWdlLFxuICAgIGlzSGFuZHdyaXR0ZW5NZXNzYWdlLFxuICAgIGlzRnJvbnRCYWNrT25seSxcbiAgICByZWZlcmVuY2VJbWFnZVVybHM6IGZpbGVIYW5kbGluZy5yZWZlcmVuY2VJbWFnZVVybHMsXG4gICAgcGhvdG9SZWZlcmVuY2VzOiBmaWxlSGFuZGxpbmcucGhvdG9SZWZlcmVuY2VzLFxuICAgIHJlbGF0aW9uc2hpcEZpZWxkLFxuICAgIG51bWJlck9mQ2FyZHMsXG4gICAgc2F2ZUpvYlRvU3RvcmFnZTogam9iTWFuYWdlbWVudC5zYXZlSm9iVG9TdG9yYWdlLFxuICAgIHJlbW92ZUpvYkZyb21TdG9yYWdlOiBqb2JNYW5hZ2VtZW50LnJlbW92ZUpvYkZyb21TdG9yYWdlLFxuICAgIHN1YnNjcmliZVRvSm9iOiB3ZWJTb2NrZXQuc3Vic2NyaWJlVG9Kb2IsXG4gICAgc3RhcnRFbGFwc2VkVGltZVRyYWNraW5nOiBqb2JNYW5hZ2VtZW50LnN0YXJ0RWxhcHNlZFRpbWVUcmFja2luZyxcbiAgICBzdG9wRWxhcHNlZFRpbWVUcmFja2luZzogam9iTWFuYWdlbWVudC5zdG9wRWxhcHNlZFRpbWVUcmFja2luZyxcbiAgICBzZXRDdXJyZW50Sm9iSWQ6IGpvYk1hbmFnZW1lbnQuc2V0Q3VycmVudEpvYklkLFxuICAgIHNldElzRHJhZnRNb2RlOiBkcmFmdEdlbmVyYXRpb24uc2V0SXNEcmFmdE1vZGUsXG4gICAgc2V0RHJhZnRDYXJkczogZHJhZnRHZW5lcmF0aW9uLnNldERyYWZ0Q2FyZHMsXG4gICAgc2V0U2VsZWN0ZWREcmFmdEluZGV4OiBkcmFmdEdlbmVyYXRpb24uc2V0U2VsZWN0ZWREcmFmdEluZGV4LFxuICAgIHNldElzR2VuZXJhdGluZ0ZpbmFsQ2FyZDogZHJhZnRHZW5lcmF0aW9uLnNldElzR2VuZXJhdGluZ0ZpbmFsQ2FyZCxcbiAgICBzZXRQcmV2aWV3aW5nRHJhZnRJbmRleDogZHJhZnRHZW5lcmF0aW9uLnNldFByZXZpZXdpbmdEcmFmdEluZGV4LFxuICAgIHNldERyYWZ0Q29tcGxldGlvblNob3duOiBkcmFmdEdlbmVyYXRpb24uc2V0RHJhZnRDb21wbGV0aW9uU2hvd24sXG4gICAgc2V0RHJhZnRDb21wbGV0aW9uQ291bnQ6IGRyYWZ0R2VuZXJhdGlvbi5zZXREcmFmdENvbXBsZXRpb25Db3VudCxcbiAgfTtcbiAgXG4gIGNvbnN0IGNhcmRHZW5lcmF0aW9uID0gdXNlQ2FyZEdlbmVyYXRpb24oY2FyZEdlbmVyYXRpb25Qcm9wcyk7XG5cbiAgLy8gSGFuZGxlIGpvYiB1cGRhdGVzIGZyb20gV2ViU29ja2V0XG4gIGNvbnN0IGhhbmRsZUpvYlVwZGF0ZSA9IHVzZUNhbGxiYWNrKChkYXRhOiBhbnkpID0+IHtcbiAgICBjb25zdCB7IGpvYl9pZCwgc3RhdHVzLCBwcm9ncmVzcywgY2FyZERhdGEsIGVycm9yLCBjb21wbGV0ZWRBdCB9ID0gZGF0YTtcbiAgICBcbiAgICBpZiAoIWpvYl9pZCkgcmV0dXJuO1xuICAgIFxuICAgIC8vIFNraXAgdXBkYXRlcyBpZiB3ZSdyZSBzdGlsbCByZXN0b3Jpbmcgam9icyBmcm9tIGxvY2FsU3RvcmFnZVxuICAgIGlmIChpc1Jlc3RvcmluZ0pvYnMpIHtcbiAgICAgIGNvbnNvbGUubG9nKCfij7MgU2tpcHBpbmcgam9iIHVwZGF0ZSBkdXJpbmcgcmVzdG9yYXRpb246Jywgam9iX2lkKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgXG4gICAgLy8gQ2hlY2sgaWYgdGhpcyBpcyBhIGRyYWZ0IGpvYlxuICAgIGNvbnN0IGlzRHJhZnRKb2IgPSBqb2JfaWQuc3RhcnRzV2l0aCgnZHJhZnQtJyk7XG4gICAgY29uc3QgZHJhZnRJbmRleCA9IGlzRHJhZnRKb2IgPyBwYXJzZUludChqb2JfaWQuc3BsaXQoJy0nKVsxXSkgOiAtMTtcbiAgICBcbiAgICAvLyBGaWx0ZXIgb3V0IHVwZGF0ZXMgZnJvbSB3cm9uZyBqb2IgdHlwZVxuICAgIC8vIElmIHdlJ3JlIGluIGRyYWZ0IG1vZGUsIG9ubHkgcHJvY2VzcyBkcmFmdCBqb2JzXG4gICAgLy8gSWYgd2UncmUgaW4gZmluYWwgbW9kZSwgb25seSBwcm9jZXNzIG5vbi1kcmFmdCBqb2JzXG4gICAgY29uc3QgaXNJbkRyYWZ0TW9kZSA9IGRyYWZ0R2VuZXJhdGlvbi5pc0RyYWZ0TW9kZTtcbiAgICBpZiAoaXNJbkRyYWZ0TW9kZSAmJiAhaXNEcmFmdEpvYikge1xuICAgICAgY29uc29sZS5sb2coJ/CfmqsgSWdub3Jpbmcgbm9uLWRyYWZ0IGpvYiB1cGRhdGUgaW4gZHJhZnQgbW9kZTonLCBqb2JfaWQpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoIWlzSW5EcmFmdE1vZGUgJiYgaXNEcmFmdEpvYikge1xuICAgICAgY29uc29sZS5sb2coJ/CfmqsgSWdub3JpbmcgZHJhZnQgam9iIHVwZGF0ZSBpbiBmaW5hbCBtb2RlOicsIGpvYl9pZCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFxuICAgIGNvbnNvbGUubG9nKCfwn5SEIFByb2Nlc3Npbmcgam9iIHVwZGF0ZTonLCB7IGpvYl9pZCwgc3RhdHVzLCBpc0RyYWZ0Sm9iLCBkcmFmdEluZGV4LCBwcm9ncmVzcyB9KTtcbiAgICBcbiAgICAvLyBIYW5kbGUgc3RhdHVzIHRyYW5zaXRpb25zXG4gICAgaWYgKHN0YXR1cyA9PT0gJ3Byb2Nlc3NpbmcnICYmICFjYXJkR2VuZXJhdGlvbi5pc0dlbmVyYXRpbmcgJiYgIWRyYWZ0R2VuZXJhdGlvbi5pc0dlbmVyYXRpbmcpIHtcbiAgICAgIGNvbnNvbGUubG9nKCfwn5SEIEpvYiBpcyBwcm9jZXNzaW5nLCBzZXR0aW5nIGdlbmVyYXRpb24gc3RhdGUnKTtcbiAgICAgIGlmIChpc0RyYWZ0Sm9iKSB7XG4gICAgICAgIGRyYWZ0R2VuZXJhdGlvbi5zZXRJc0dlbmVyYXRpbmcodHJ1ZSk7XG4gICAgICAgIGRyYWZ0R2VuZXJhdGlvbi5zZXRJc0RyYWZ0TW9kZSh0cnVlKTtcbiAgICAgICAgam9iTWFuYWdlbWVudC5zdGFydEVsYXBzZWRUaW1lVHJhY2tpbmcoJ2RyYWZ0Jyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjYXJkR2VuZXJhdGlvbi5zZXRJc0dlbmVyYXRpbmcodHJ1ZSk7XG4gICAgICAgIGpvYk1hbmFnZW1lbnQuc3RhcnRFbGFwc2VkVGltZVRyYWNraW5nKCdmaW5hbCcpO1xuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICAvLyBVcGRhdGUgcHJvZ3Jlc3MgaWYgcHJvdmlkZWRcbiAgICBpZiAocHJvZ3Jlc3MpIHtcbiAgICAgIC8vIElNUE9SVEFOVDogRG9uJ3Qgc2hvdyBcIkdlbmVyYXRpb24gY29tcGxldGUhXCIgdW50aWwgd2UndmUgYWN0dWFsbHkgcHJvY2Vzc2VkIHRoZSBjYXJkXG4gICAgICAvLyBUaGlzIHByZXZlbnRzIHRoZSBVSSBmcm9tIHNob3dpbmcgY29tcGxldGlvbiBiZWZvcmUgdGhlIGNhcmQgaXMgcmVhZHlcbiAgICAgIGlmIChwcm9ncmVzcy5pbmNsdWRlcygnR2VuZXJhdGlvbiBjb21wbGV0ZSEnKSAmJiBzdGF0dXMgPT09ICdjb21wbGV0ZWQnICYmICFpc0RyYWZ0Sm9iKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCfij7jvuI8gSG9sZGluZyBcIkdlbmVyYXRpb24gY29tcGxldGUhXCIgbWVzc2FnZSB1bnRpbCBjYXJkIGlzIHByb2Nlc3NlZCcpO1xuICAgICAgICAvLyBEb24ndCB1cGRhdGUgdGhlIHByb2dyZXNzIG1lc3NhZ2UgeWV0IC0gaXQgd2lsbCBiZSBzZXQgaW4gaGFuZGxlRmluYWxDYXJkQ29tcGxldGlvblxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2FyZEdlbmVyYXRpb24uc2V0R2VuZXJhdGlvblByb2dyZXNzKHByb2dyZXNzKTtcbiAgICAgICAgZHJhZnRHZW5lcmF0aW9uLnNldEdlbmVyYXRpb25Qcm9ncmVzcyhwcm9ncmVzcyk7XG4gICAgICAgIGNvbnNvbGUubG9nKGDwn5OKIFByb2dyZXNzIG1lc3NhZ2U6ICR7cHJvZ3Jlc3N9YCk7XG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIGlmIChzdGF0dXMgPT09ICdjb21wbGV0ZWQnICYmIGNhcmREYXRhKSB7XG4gICAgICBjb25zb2xlLmxvZygn8J+OiSBKb2IgY29tcGxldGVkISBDYXJkIGRhdGE6JywgY2FyZERhdGEsICdpc0RyYWZ0Sm9iOicsIGlzRHJhZnRKb2IpO1xuICAgICAgXG4gICAgICAvLyBOb3JtYWxpemUgZmllbGQgbmFtZXMgdG8gaGFuZGxlIGJhY2tlbmQgaW5jb25zaXN0ZW5jaWVzXG4gICAgICBjb25zdCBub3JtYWxpemVkQ2FyZERhdGEgPSB7XG4gICAgICAgIC4uLmNhcmREYXRhLFxuICAgICAgICBsZWZ0SW50ZXJpb3I6IGNhcmREYXRhLmxlZnRJbnRlcmlvciB8fCBjYXJkRGF0YS5sZWZ0UGFnZSB8fCBjYXJkRGF0YS5sZWZ0X2ludGVyaW9yIHx8IGNhcmREYXRhLmxlZnRfcGFnZSxcbiAgICAgICAgcmlnaHRJbnRlcmlvcjogY2FyZERhdGEucmlnaHRJbnRlcmlvciB8fCBjYXJkRGF0YS5yaWdodFBhZ2UgfHwgY2FyZERhdGEucmlnaHRfaW50ZXJpb3IgfHwgY2FyZERhdGEucmlnaHRfcGFnZSxcbiAgICAgICAgZnJvbnRDb3ZlcjogY2FyZERhdGEuZnJvbnRDb3ZlciB8fCBjYXJkRGF0YS5mcm9udF9jb3ZlciB8fCBjYXJkRGF0YS5mcm9udCxcbiAgICAgICAgYmFja0NvdmVyOiBjYXJkRGF0YS5iYWNrQ292ZXIgfHwgY2FyZERhdGEuYmFja19jb3ZlciB8fCBjYXJkRGF0YS5iYWNrLFxuICAgICAgICAvLyBLZWVwIG9yaWdpbmFsIGZpZWxkcyBmb3IgYmFja3dhcmQgY29tcGF0aWJpbGl0eVxuICAgICAgICBsZWZ0UGFnZTogY2FyZERhdGEubGVmdFBhZ2UgfHwgY2FyZERhdGEubGVmdEludGVyaW9yIHx8IGNhcmREYXRhLmxlZnRfcGFnZSB8fCBjYXJkRGF0YS5sZWZ0X2ludGVyaW9yLFxuICAgICAgICByaWdodFBhZ2U6IGNhcmREYXRhLnJpZ2h0UGFnZSB8fCBjYXJkRGF0YS5yaWdodEludGVyaW9yIHx8IGNhcmREYXRhLnJpZ2h0X3BhZ2UgfHwgY2FyZERhdGEucmlnaHRfaW50ZXJpb3JcbiAgICAgIH07XG4gICAgICBcbiAgICAgIC8vIFZhbGlkYXRlIHRoYXQgd2UgaGF2ZSB0aGUgbWluaW11bSByZXF1aXJlZCBmaWVsZHMgZm9yIGEgY29tcGxldGUgY2FyZFxuICAgICAgY29uc3QgaGFzUmVxdWlyZWRGaWVsZHMgPSBub3JtYWxpemVkQ2FyZERhdGEuZnJvbnRDb3ZlciAmJiBcbiAgICAgICAgKGlzRHJhZnRKb2IgfHwgKG5vcm1hbGl6ZWRDYXJkRGF0YS5iYWNrQ292ZXIgJiYgbm9ybWFsaXplZENhcmREYXRhLmxlZnRJbnRlcmlvciAmJiBub3JtYWxpemVkQ2FyZERhdGEucmlnaHRJbnRlcmlvcikpO1xuICAgICAgXG4gICAgICBpZiAoIWhhc1JlcXVpcmVkRmllbGRzKSB7XG4gICAgICAgIGNvbnNvbGUud2Fybign4pqg77iPIENhcmQgZGF0YSBtaXNzaW5nIHJlcXVpcmVkIGZpZWxkczonLCB7XG4gICAgICAgICAgZnJvbnRDb3ZlcjogISFub3JtYWxpemVkQ2FyZERhdGEuZnJvbnRDb3ZlcixcbiAgICAgICAgICBiYWNrQ292ZXI6ICEhbm9ybWFsaXplZENhcmREYXRhLmJhY2tDb3ZlcixcbiAgICAgICAgICBsZWZ0SW50ZXJpb3I6ICEhbm9ybWFsaXplZENhcmREYXRhLmxlZnRJbnRlcmlvcixcbiAgICAgICAgICByaWdodEludGVyaW9yOiAhIW5vcm1hbGl6ZWRDYXJkRGF0YS5yaWdodEludGVyaW9yXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBJZiB0aGlzIGlzIHRoZSBmaXJzdCB1cGRhdGUgZm9yIGEgcmVjb3Zlcnkgam9iLCBlbnN1cmUgZ2VuZXJhdGlvbiBzdGF0ZSBpcyBzZXQgcHJvcGVybHlcbiAgICAgIGlmIChpc0RyYWZ0Sm9iICYmICFkcmFmdEdlbmVyYXRpb24uaXNHZW5lcmF0aW5nICYmIGRyYWZ0R2VuZXJhdGlvbi5kcmFmdENhcmRzLmZpbHRlcihCb29sZWFuKS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgY29uc29sZS5sb2coJ/Cfk6UgUmVjb3ZlcmVkIGNvbXBsZXRlZCBkcmFmdCBqb2IgLSBub3Qgc2V0dGluZyBhcyBnZW5lcmF0aW5nJyk7XG4gICAgICAgIC8vIERvbid0IHNldCBpc0dlbmVyYXRpbmcgZm9yIGFscmVhZHkgY29tcGxldGVkIGpvYnMgZHVyaW5nIHJlY292ZXJ5XG4gICAgICB9XG4gICAgICBcbiAgICAgIGlmIChpc0RyYWZ0Sm9iICYmIGRyYWZ0SW5kZXggPj0gMCkge1xuICAgICAgICAvLyBIYW5kbGUgZHJhZnQgY2FyZCBjb21wbGV0aW9uXG4gICAgICAgIGNvbnNvbGUubG9nKGDwn46oIERyYWZ0IHZhcmlhdGlvbiAke2RyYWZ0SW5kZXggKyAxfSBjb21wbGV0ZWQhYCk7XG4gICAgICAgIFxuICAgICAgICAvLyBHZXQgc3R5bGUgaW5mbyBmb3Igc21hcnQgc3R5bGUgbW9kZVxuICAgICAgICBsZXQgc3R5bGVJbmZvOiB7IHN0eWxlTmFtZTogc3RyaW5nOyBzdHlsZUxhYmVsOiBzdHJpbmcgfSB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZDtcbiAgICAgICAgaWYgKHNlbGVjdGVkQXJ0aXN0aWNTdHlsZSA9PT0gXCJhaS1zbWFydC1zdHlsZVwiKSB7XG4gICAgICAgICAgY29uc3QgcHJlZGVmaW5lZFN0eWxlcyA9IFtcbiAgICAgICAgICAgIFwid2F0ZXJjb2xvclwiLCBcImJvdGFuaWNhbFwiLCBcImNvbWljLWJvb2tcIiwgXCJkcmVhbXktZmFudGFzeVwiLCBcIm1pbmltYWxpc3RcIlxuICAgICAgICAgIF07XG4gICAgICAgICAgY29uc3Qgc3R5bGVMYWJlbHMgPSBbXG4gICAgICAgICAgICBcIvCfjqggV2F0ZXJjb2xvclwiLCBcIvCfjL8gQm90YW5pY2FsXCIsIFwi8J+SpSBDb21pYyBCb29rXCIsIFwi8J+MuCBEcmVhbXkgRmFudGFzeVwiLCBcIuKcqCBNaW5pbWFsaXN0XCJcbiAgICAgICAgICBdO1xuICAgICAgICAgIGlmIChkcmFmdEluZGV4ID49IDAgJiYgZHJhZnRJbmRleCA8IHByZWRlZmluZWRTdHlsZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICBzdHlsZUluZm8gPSB7XG4gICAgICAgICAgICAgIHN0eWxlTmFtZTogcHJlZGVmaW5lZFN0eWxlc1tkcmFmdEluZGV4XSxcbiAgICAgICAgICAgICAgc3R5bGVMYWJlbDogc3R5bGVMYWJlbHNbZHJhZnRJbmRleF1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgZHJhZnRDYXJkOiBHZW5lcmF0ZWRDYXJkID0ge1xuICAgICAgICAgIGlkOiBgZHJhZnQtJHtkcmFmdEluZGV4ICsgMX0tJHtEYXRlLm5vdygpfWAsXG4gICAgICAgICAgcHJvbXB0OiBub3JtYWxpemVkQ2FyZERhdGEucHJvbXB0IHx8IGBEcmFmdCBWYXJpYXRpb24gJHtkcmFmdEluZGV4ICsgMX1gLFxuICAgICAgICAgIGZyb250Q292ZXI6IG5vcm1hbGl6ZWRDYXJkRGF0YS5mcm9udENvdmVyIHx8IFwiXCIsXG4gICAgICAgICAgYmFja0NvdmVyOiBub3JtYWxpemVkQ2FyZERhdGEuYmFja0NvdmVyIHx8IFwiXCIsXG4gICAgICAgICAgbGVmdFBhZ2U6IG5vcm1hbGl6ZWRDYXJkRGF0YS5sZWZ0SW50ZXJpb3IgfHwgXCJcIixcbiAgICAgICAgICByaWdodFBhZ2U6IG5vcm1hbGl6ZWRDYXJkRGF0YS5yaWdodEludGVyaW9yIHx8IFwiXCIsXG4gICAgICAgICAgY3JlYXRlZEF0OiBuZXcgRGF0ZSgpLFxuICAgICAgICAgIGdlbmVyYXRlZFByb21wdHM6IG5vcm1hbGl6ZWRDYXJkRGF0YS5nZW5lcmF0ZWRQcm9tcHRzIHx8IHtcbiAgICAgICAgICAgIGZyb250Q292ZXI6IGNhcmREYXRhLmdlbmVyYXRlZFByb21wdHM/LmZyb250Q292ZXIgfHwgXCJcIixcbiAgICAgICAgICAgIGJhY2tDb3ZlcjogY2FyZERhdGEuZ2VuZXJhdGVkUHJvbXB0cz8uYmFja0NvdmVyIHx8IFwiXCIsXG4gICAgICAgICAgICBsZWZ0SW50ZXJpb3I6IGNhcmREYXRhLmdlbmVyYXRlZFByb21wdHM/LmxlZnRJbnRlcmlvciB8fCBcIlwiLFxuICAgICAgICAgICAgcmlnaHRJbnRlcmlvcjogY2FyZERhdGEuZ2VuZXJhdGVkUHJvbXB0cz8ucmlnaHRJbnRlcmlvciB8fCBcIlwiXG4gICAgICAgICAgfSxcbiAgICAgICAgICBzdHlsZUluZm86IHN0eWxlSW5mb1xuICAgICAgICB9O1xuICAgICAgICBcbiAgICAgICAgLy8gU2ltcGxpZmllZCBkcmFmdCB0cmFja2luZyAtIHVzZSBmaXhlZCBhcnJheSBwb3NpdGlvbnNcbiAgICAgICAgZHJhZnRHZW5lcmF0aW9uLnNldERyYWZ0Q2FyZHMocHJldiA9PiB7XG4gICAgICAgICAgY29uc3QgdXBkYXRlZCA9IFsuLi5wcmV2XTtcbiAgICAgICAgICAvLyBFbnN1cmUgYXJyYXkgaGFzIDUgc2xvdHNcbiAgICAgICAgICB3aGlsZSAodXBkYXRlZC5sZW5ndGggPCA1KSB7XG4gICAgICAgICAgICB1cGRhdGVkLnB1c2gobnVsbCBhcyBhbnkpO1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLyBQbGFjZSBkcmFmdCBhdCBpdHMgY29ycmVjdCBpbmRleFxuICAgICAgICAgIHVwZGF0ZWRbZHJhZnRJbmRleF0gPSBkcmFmdENhcmQ7XG4gICAgICAgICAgY29uc29sZS5sb2coYOKchSBEcmFmdCAke2RyYWZ0SW5kZXggKyAxfSBjb21wbGV0ZWQgYW5kIHN0b3JlZCBhdCBpbmRleCAke2RyYWZ0SW5kZXh9YCk7XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gTm8gbG9uZ2VyIHNhdmUgaW5kaXZpZHVhbCBkcmFmdHMgdG8gbG9jYWxTdG9yYWdlXG4gICAgICAgICAgXG4gICAgICAgICAgcmV0dXJuIHVwZGF0ZWQ7XG4gICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgLy8gU2ltcGxpZmllZCBjb21wbGV0aW9uIHRyYWNraW5nIC0gY291bnQgdGhlIHVwZGF0ZWQgYXJyYXkgaW5jbHVkaW5nIHRoZSBuZXcgZHJhZnRcbiAgICAgICAgY29uc3QgdXBkYXRlZERyYWZ0cyA9IFsuLi5kcmFmdEdlbmVyYXRpb24uZHJhZnRDYXJkc107XG4gICAgICAgIHVwZGF0ZWREcmFmdHNbZHJhZnRJbmRleF0gPSBkcmFmdENhcmQ7XG4gICAgICAgIGNvbnN0IGNvbXBsZXRlZENvdW50ID0gdXBkYXRlZERyYWZ0cy5maWx0ZXIoQm9vbGVhbikubGVuZ3RoO1xuICAgICAgICBjb25zb2xlLmxvZyhg8J+TiiBEcmFmdCBwcm9ncmVzczogJHtjb21wbGV0ZWRDb3VudH0vNSB2YXJpYXRpb25zIGNvbXBsZXRlYCk7XG4gICAgICAgIFxuICAgICAgICAvLyBVcGRhdGUgcHJvZ3Jlc3NcbiAgICAgICAgY29uc3QgcHJvZ3Jlc3NNc2cgPSBjb21wbGV0ZWRDb3VudCA9PT0gNSBcbiAgICAgICAgICA/IFwiQWxsIDUgdmFyaWF0aW9ucyByZWFkeSEgQ2hvb3NlIHlvdXIgZmF2b3JpdGUgYmVsb3cuXCJcbiAgICAgICAgICA6IGAke2NvbXBsZXRlZENvdW50fS81IHZhcmlhdGlvbnMgY29tcGxldGUuLi4ke2NvbXBsZXRlZENvdW50ID49IDIgPyBcIiBZb3UgY2FuIHNlbGVjdCBvbmUgbm93IVwiIDogXCJcIn1gO1xuICAgICAgICBcbiAgICAgICAgZHJhZnRHZW5lcmF0aW9uLnNldEdlbmVyYXRpb25Qcm9ncmVzcyhwcm9ncmVzc01zZyk7XG4gICAgICAgIFxuICAgICAgICAvLyBPdmVycmlkZSB0aW1lLWJhc2VkIHByb2dyZXNzIHdpdGggcmVhbCBwcm9ncmVzcyB3aGVuIGRyYWZ0cyBjb21wbGV0ZVxuICAgICAgICAvLyBEb24ndCBvdmVycmlkZSB0aW1lLWJhc2VkIHByb2dyZXNzXG4gICAgICAgIGNvbnNvbGUubG9nKGDwn46oIERyYWZ0ICR7Y29tcGxldGVkQ291bnR9LzUgY29tcGxldGVkYCk7XG4gICAgICAgIFxuICAgICAgICAvLyBIYW5kbGUgbWlsZXN0b25lc1xuICAgICAgICBpZiAoY29tcGxldGVkQ291bnQgPT09IDEpIHtcbiAgICAgICAgICBzY3JvbGxUb0NhcmRQcmV2aWV3KCk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGlmIChjb21wbGV0ZWRDb3VudCA9PT0gNSAmJiAhZHJhZnRHZW5lcmF0aW9uLmlzR2VuZXJhdGluZ0ZpbmFsQ2FyZCkge1xuICAgICAgICAgIGRyYWZ0R2VuZXJhdGlvbi5zZXRJc0dlbmVyYXRpbmcoZmFsc2UpO1xuICAgICAgICAgIGpvYk1hbmFnZW1lbnQuc3RvcEVsYXBzZWRUaW1lVHJhY2tpbmcoKTtcbiAgICAgICAgICAvLyBDbGVhciByZWNvdmVyeSBkYXRhIGZvciBjb21wbGV0ZWQgZHJhZnQgam9ic1xuICAgICAgICAgIHN0b3JhZ2UuY2xlYXJSZWNvdmVyeSgpO1xuICAgICAgICAgIGNvbnNvbGUubG9nKCfwn6e5IENsZWFyZWQgcmVjb3ZlcnkgZGF0YSBmb3IgY29tcGxldGVkIGRyYWZ0IGpvYicpO1xuICAgICAgICAgIHRvYXN0LnN1Y2Nlc3MoXCLwn46oIEFsbCA1IGZyb250IGNvdmVyIHZhcmlhdGlvbnMgcmVhZHkhIENob29zZSB5b3VyIGZhdm9yaXRlIGJlbG93LlwiKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gS2VlcCBkcmFmdCBqb2JzIGluIHN0b3JhZ2UgZm9yIGxhdGVyIHJldHJpZXZhbFxuICAgICAgICAvLyBPbmx5IHVuc3Vic2NyaWJlIGZyb20gV2ViU29ja2V0XG4gICAgICAgIHdlYlNvY2tldC51bnN1YnNjcmliZUZyb21Kb2Ioam9iX2lkKTtcbiAgICAgICAgY29uc29sZS5sb2coYOKchSBLZWVwaW5nIGRyYWZ0IGpvYiAke2pvYl9pZH0gaW4gc3RvcmFnZSBmb3IgZnV0dXJlIGFjY2Vzc2ApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gSGFuZGxlIGZpbmFsIGNhcmQgY29tcGxldGlvblxuICAgICAgICBjb25zb2xlLmxvZygn8J+UjSBGaW5hbCBjYXJkIGNvbXBsZXRpb24gZGV0ZWN0ZWQuIENhcmQgZGF0YSBzdHJ1Y3R1cmU6Jywge1xuICAgICAgICAgIGhhc0NhcmREYXRhOiAhIWNhcmREYXRhLFxuICAgICAgICAgIGNhcmREYXRhS2V5czogT2JqZWN0LmtleXMoY2FyZERhdGEgfHwge30pLFxuICAgICAgICAgIGZyb250Q292ZXI6IGNhcmREYXRhPy5mcm9udENvdmVyID8gJ1ByZXNlbnQnIDogJ01pc3NpbmcnLFxuICAgICAgICAgIGJhY2tDb3ZlcjogY2FyZERhdGE/LmJhY2tDb3ZlciA/ICdQcmVzZW50JyA6ICdNaXNzaW5nJyxcbiAgICAgICAgICBsZWZ0SW50ZXJpb3I6IGNhcmREYXRhPy5sZWZ0SW50ZXJpb3IgPyAnUHJlc2VudCcgOiAnTWlzc2luZycsXG4gICAgICAgICAgcmlnaHRJbnRlcmlvcjogY2FyZERhdGE/LnJpZ2h0SW50ZXJpb3IgPyAnUHJlc2VudCcgOiAnTWlzc2luZycsXG4gICAgICAgICAgbGVmdFBhZ2U6IGNhcmREYXRhPy5sZWZ0UGFnZSA/ICdQcmVzZW50JyA6ICdNaXNzaW5nJyxcbiAgICAgICAgICByaWdodFBhZ2U6IGNhcmREYXRhPy5yaWdodFBhZ2UgPyAnUHJlc2VudCcgOiAnTWlzc2luZycsXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zb2xlLmxvZygn8J+TnSBGdWxsIGNhcmQgZGF0YTonLCBKU09OLnN0cmluZ2lmeShjYXJkRGF0YSwgbnVsbCwgMikpO1xuICAgICAgICBcbiAgICAgICAgLy8gTWFwIGJhY2tlbmQgZmllbGQgbmFtZXMgdG8gZnJvbnRlbmQgZmllbGQgbmFtZXNcbiAgICAgICAgY29uc3QgbWFwcGVkQ2FyZERhdGEgPSB7XG4gICAgICAgICAgLi4uY2FyZERhdGEsXG4gICAgICAgICAgbGVmdEludGVyaW9yOiBjYXJkRGF0YS5sZWZ0SW50ZXJpb3IgfHwgY2FyZERhdGEubGVmdFBhZ2UsXG4gICAgICAgICAgcmlnaHRJbnRlcmlvcjogY2FyZERhdGEucmlnaHRJbnRlcmlvciB8fCBjYXJkRGF0YS5yaWdodFBhZ2UsXG4gICAgICAgICAgLy8gS2VlcCBvcmlnaW5hbCBmaWVsZHMgZm9yIGJhY2t3YXJkIGNvbXBhdGliaWxpdHlcbiAgICAgICAgICBsZWZ0UGFnZTogY2FyZERhdGEubGVmdFBhZ2UgfHwgY2FyZERhdGEubGVmdEludGVyaW9yLFxuICAgICAgICAgIHJpZ2h0UGFnZTogY2FyZERhdGEucmlnaHRQYWdlIHx8IGNhcmREYXRhLnJpZ2h0SW50ZXJpb3IsXG4gICAgICAgIH07XG4gICAgICAgIFxuICAgICAgICBjb25zb2xlLmxvZygn8J+UhCBNYXBwZWQgY2FyZCBkYXRhIGZvciBmcm9udGVuZCBjb21wYXRpYmlsaXR5OicsIHtcbiAgICAgICAgICBmcm9udENvdmVyOiBtYXBwZWRDYXJkRGF0YS5mcm9udENvdmVyID8gJ1ByZXNlbnQnIDogJ01pc3NpbmcnLFxuICAgICAgICAgIGJhY2tDb3ZlcjogbWFwcGVkQ2FyZERhdGEuYmFja0NvdmVyID8gJ1ByZXNlbnQnIDogJ01pc3NpbmcnLFxuICAgICAgICAgIGxlZnRJbnRlcmlvcjogbWFwcGVkQ2FyZERhdGEubGVmdEludGVyaW9yID8gJ1ByZXNlbnQnIDogJ01pc3NpbmcnLFxuICAgICAgICAgIHJpZ2h0SW50ZXJpb3I6IG1hcHBlZENhcmREYXRhLnJpZ2h0SW50ZXJpb3IgPyAnUHJlc2VudCcgOiAnTWlzc2luZycsXG4gICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgLy8gQ2FsbCB0aGUgY29tcGxldGlvbiBoYW5kbGVyXG4gICAgICAgIGNvbnNvbGUubG9nKCfwn5qAIENhbGxpbmcgaGFuZGxlRmluYWxDYXJkQ29tcGxldGlvbi4uLicpO1xuICAgICAgICBjYXJkR2VuZXJhdGlvbi5oYW5kbGVGaW5hbENhcmRDb21wbGV0aW9uKG1hcHBlZENhcmREYXRhKTtcbiAgICAgICAgXG4gICAgICAgIC8vIENhcmQgaXMgYXV0b21hdGljYWxseSBhZGRlZCB0byByZWNlbnQgY2FyZHMgYnkgbWFya0pvYkNvbXBsZXRlXG4gICAgICAgIFxuICAgICAgICAvLyBPbmx5IGNsZWFyIHJlY292ZXJ5IGlmIHdlJ3JlIG5vdCBpbiB0aGUgbWlkZGxlIG9mIHJlc3RvcmluZ1xuICAgICAgICBpZiAoIWlzUmVzdG9yaW5nSm9icykge1xuICAgICAgICAgIGpvYk1hbmFnZW1lbnQucmVtb3ZlSm9iRnJvbVN0b3JhZ2Uoam9iX2lkKTtcbiAgICAgICAgfVxuICAgICAgICBqb2JNYW5hZ2VtZW50LnNldEN1cnJlbnRKb2JJZChudWxsKTtcbiAgICAgICAgd2ViU29ja2V0LnVuc3Vic2NyaWJlRnJvbUpvYihqb2JfaWQpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoc3RhdHVzID09PSAnZmFpbGVkJykge1xuICAgICAgY29uc29sZS5lcnJvcign4p2MIEpvYiBmYWlsZWQ6JywgZXJyb3IpO1xuICAgICAgXG4gICAgICBpZiAoaXNEcmFmdEpvYiAmJiBkcmFmdEluZGV4ID49IDApIHtcbiAgICAgICAgdG9hc3QuZXJyb3IoYERyYWZ0IHZhcmlhdGlvbiAke2RyYWZ0SW5kZXggKyAxfSBmYWlsZWQuIENvbnRpbnVpbmcgd2l0aCBvdGhlcnMuLi5gKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRvYXN0LmVycm9yKFwi4p2MIENhcmQgZ2VuZXJhdGlvbiBmYWlsZWQuIFBsZWFzZSB0cnkgYWdhaW4uXCIpO1xuICAgICAgICBjYXJkR2VuZXJhdGlvbi5zZXRJc0dlbmVyYXRpbmcoZmFsc2UpO1xuICAgICAgICBkcmFmdEdlbmVyYXRpb24uc2V0SXNHZW5lcmF0aW5nRmluYWxDYXJkKGZhbHNlKTtcbiAgICAgICAgam9iTWFuYWdlbWVudC5zdG9wRWxhcHNlZFRpbWVUcmFja2luZygpO1xuICAgICAgICBjYXJkR2VuZXJhdGlvbi5zZXRHZW5lcmF0aW9uUHJvZ3Jlc3MoXCJcIik7XG4gICAgICAgIC8vIERvbid0IHJlc2V0IHByb2dyZXNzIC0gbGV0IHRpbWUtYmFzZWQgcHJvZ3Jlc3MgY29udGludWVcbiAgICAgICAgLy8gam9iTWFuYWdlbWVudC5zZXRQcm9ncmVzc1BlcmNlbnRhZ2UoMCk7XG4gICAgICAgIGpvYk1hbmFnZW1lbnQuc2V0Q3VycmVudEpvYklkKG51bGwpO1xuICAgICAgICB3ZWJTb2NrZXQudW5zdWJzY3JpYmVGcm9tSm9iKGpvYl9pZCk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIE9ubHkgY2xlYXIgcmVjb3ZlcnkgaWYgd2UncmUgbm90IGluIHRoZSBtaWRkbGUgb2YgcmVzdG9yaW5nXG4gICAgICBpZiAoIWlzUmVzdG9yaW5nSm9icykge1xuICAgICAgICBqb2JNYW5hZ2VtZW50LnJlbW92ZUpvYkZyb21TdG9yYWdlKGpvYl9pZCk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChzdGF0dXMgPT09ICdub3RfZm91bmQnKSB7XG4gICAgICBjb25zb2xlLndhcm4oJ+KaoO+4jyBKb2Igbm90IGZvdW5kIG9uIHNlcnZlciwgY2xlYW5pbmcgdXAgc3RhbGUgcmVmZXJlbmNlOicsIGpvYl9pZCk7XG4gICAgICBcbiAgICAgIC8vIENsZWFuIHVwIHN0YWxlIGpvYiByZWZlcmVuY2VcbiAgICAgIGlmICh3ZWJTb2NrZXQuY3VycmVudEpvYlJlZi5jdXJyZW50ID09PSBqb2JfaWQpIHtcbiAgICAgICAgd2ViU29ja2V0LmN1cnJlbnRKb2JSZWYuY3VycmVudCA9IG51bGw7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIFJlc2V0IFVJIHN0YXRlIGlmIHRoaXMgd2FzIHRoZSBjdXJyZW50IGpvYlxuICAgICAgaWYgKGpvYk1hbmFnZW1lbnQuY3VycmVudEpvYklkID09PSBqb2JfaWQpIHtcbiAgICAgICAgam9iTWFuYWdlbWVudC5zZXRDdXJyZW50Sm9iSWQobnVsbCk7XG4gICAgICAgIGNhcmRHZW5lcmF0aW9uLnNldElzR2VuZXJhdGluZyhmYWxzZSk7XG4gICAgICAgIGRyYWZ0R2VuZXJhdGlvbi5zZXRJc0dlbmVyYXRpbmdGaW5hbENhcmQoZmFsc2UpO1xuICAgICAgICBjYXJkR2VuZXJhdGlvbi5zZXRHZW5lcmF0aW9uUHJvZ3Jlc3MoXCJcIik7XG4gICAgICAgIC8vIERvbid0IHJlc2V0IHByb2dyZXNzIC0gbGV0IHRpbWUtYmFzZWQgcHJvZ3Jlc3MgY29udGludWVcbiAgICAgICAgLy8gam9iTWFuYWdlbWVudC5zZXRQcm9ncmVzc1BlcmNlbnRhZ2UoMCk7XG4gICAgICAgIGpvYk1hbmFnZW1lbnQuc3RvcEVsYXBzZWRUaW1lVHJhY2tpbmcoKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gQ2xlYW4gdXAgc3RvcmFnZVxuICAgICAgLy8gT25seSBjbGVhciByZWNvdmVyeSBpZiB3ZSdyZSBub3QgaW4gdGhlIG1pZGRsZSBvZiByZXN0b3JpbmdcbiAgICAgIGlmICghaXNSZXN0b3JpbmdKb2JzKSB7XG4gICAgICAgIGpvYk1hbmFnZW1lbnQucmVtb3ZlSm9iRnJvbVN0b3JhZ2Uoam9iX2lkKTtcbiAgICAgIH1cbiAgICAgIHdlYlNvY2tldC51bnN1YnNjcmliZUZyb21Kb2Ioam9iX2lkKTtcbiAgICB9XG4gIH0sIFtzZWxlY3RlZEFydGlzdGljU3R5bGUsIGRyYWZ0R2VuZXJhdGlvbiwgY2FyZEdlbmVyYXRpb24sIGpvYk1hbmFnZW1lbnQsIHdlYlNvY2tldCwgaXNSZXN0b3JpbmdKb2JzXSk7XG5cbiAgLy8gU2V0IHVwIFdlYlNvY2tldCBqb2IgdXBkYXRlIGhhbmRsZXJcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICB3ZWJTb2NrZXQuc2V0Sm9iVXBkYXRlSGFuZGxlcihoYW5kbGVKb2JVcGRhdGUpO1xuICB9LCBbd2ViU29ja2V0LCBoYW5kbGVKb2JVcGRhdGVdKTtcblxuICAvLyBUcmFjayBpZiB3ZSd2ZSBhbHJlYWR5IGxvZ2dlZCB0aGUgc3RhbGUgam9iIG1lc3NhZ2VcbiAgY29uc3Qgc3RhbGVKb2JMb2dnZWRSZWYgPSB1c2VSZWYoZmFsc2UpO1xuXG4gIC8vIEF1dG8tcmVjb25uZWN0IFdlYlNvY2tldCBpZiBkaXNjb25uZWN0ZWQgZHVyaW5nIGFjdGl2ZSBnZW5lcmF0aW9uXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCF3ZWJTb2NrZXQuaXNTb2NrZXRDb25uZWN0ZWQgJiYgXG4gICAgICAgIChjYXJkR2VuZXJhdGlvbi5pc0dlbmVyYXRpbmcgfHwgZHJhZnRHZW5lcmF0aW9uLmlzR2VuZXJhdGluZ0ZpbmFsQ2FyZCkgJiYgXG4gICAgICAgIHdlYlNvY2tldC5jdXJyZW50Sm9iUmVmLmN1cnJlbnQpIHtcbiAgICAgIFxuICAgICAgLy8gQ2hlY2sgaWYgdGhlIGdlbmVyYXRpb24gaGFzIGJlZW4gcnVubmluZyBmb3IgbW9yZSB0aGFuIDUgbWludXRlc1xuICAgICAgaWYgKGpvYk1hbmFnZW1lbnQuZ2VuZXJhdGlvblN0YXJ0VGltZSkge1xuICAgICAgICBjb25zdCBqb2JBZ2UgPSBEYXRlLm5vdygpIC0gam9iTWFuYWdlbWVudC5nZW5lcmF0aW9uU3RhcnRUaW1lO1xuICAgICAgICBpZiAoam9iQWdlID4gNSAqIDYwICogMTAwMCkgeyAvLyA1IG1pbnV0ZXNcbiAgICAgICAgICBpZiAoIXN0YWxlSm9iTG9nZ2VkUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfij7AgSm9iIGlzIG9sZGVyIHRoYW4gNSBtaW51dGVzLCBzdG9wcGluZyByZWNvbm5lY3Rpb24gYXR0ZW1wdHMnKTtcbiAgICAgICAgICAgIHN0YWxlSm9iTG9nZ2VkUmVmLmN1cnJlbnQgPSB0cnVlO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBDbGVhbiB1cCBzdGFsZSBqb2JcbiAgICAgICAgICAgIGNvbnN0IGpvYklkID0gd2ViU29ja2V0LmN1cnJlbnRKb2JSZWYuY3VycmVudDtcbiAgICAgICAgICAgIGlmIChqb2JJZCkge1xuICAgICAgICAgICAgICBjb25zb2xlLmxvZygn8J+nuSBDbGVhbmluZyB1cCBzdGFsZSBqb2I6Jywgam9iSWQpO1xuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgLy8gUmVtb3ZlIGZyb20gbG9jYWxTdG9yYWdlIChvbmx5IGlmIG5vdCBhIGRyYWZ0IGpvYilcbiAgICAgICAgICAgICAgaWYgKCFqb2JJZC5zdGFydHNXaXRoKCdkcmFmdC0nKSkge1xuICAgICAgICAgICAgICAgIGpvYk1hbmFnZW1lbnQucmVtb3ZlSm9iRnJvbVN0b3JhZ2Uoam9iSWQpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAvLyBSZXNldCBnZW5lcmF0aW9uIHN0YXRlc1xuICAgICAgICAgICAgICBjYXJkR2VuZXJhdGlvbi5zZXRJc0dlbmVyYXRpbmcoZmFsc2UpO1xuICAgICAgICAgICAgICBkcmFmdEdlbmVyYXRpb24uc2V0SXNHZW5lcmF0aW5nRmluYWxDYXJkKGZhbHNlKTtcbiAgICAgICAgICAgICAgZHJhZnRHZW5lcmF0aW9uLnNldElzRHJhZnRNb2RlKGZhbHNlKTtcbiAgICAgICAgICAgICAgZHJhZnRHZW5lcmF0aW9uLnNldERyYWZ0Q2FyZHMoW10pO1xuICAgICAgICAgICAgICBkcmFmdEdlbmVyYXRpb24uc2V0RHJhZnRDb21wbGV0aW9uQ291bnQoMCk7XG4gICAgICAgICAgICAgIGRyYWZ0R2VuZXJhdGlvbi5zZXREcmFmdENvbXBsZXRpb25TaG93bihmYWxzZSk7XG4gICAgICAgICAgICAgIGpvYk1hbmFnZW1lbnQuc2V0Q3VycmVudEpvYklkKG51bGwpO1xuICAgICAgICAgICAgICBqb2JNYW5hZ2VtZW50LnNldEdlbmVyYXRpb25Qcm9ncmVzcygnJyk7XG4gICAgICAgICAgICAgIC8vIERvbid0IHJlc2V0IHByb2dyZXNzIC0gbGV0IHRpbWUtYmFzZWQgcHJvZ3Jlc3MgY29udGludWVcbiAgICAgICAgLy8gam9iTWFuYWdlbWVudC5zZXRQcm9ncmVzc1BlcmNlbnRhZ2UoMCk7XG4gICAgICAgICAgICAgIGpvYk1hbmFnZW1lbnQuc3RvcEVsYXBzZWRUaW1lVHJhY2tpbmcoKTtcbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIC8vIFVuc3Vic2NyaWJlIGZyb20gam9iXG4gICAgICAgICAgICAgIHdlYlNvY2tldC51bnN1YnNjcmliZUZyb21Kb2Ioam9iSWQpO1xuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgLy8gU2hvdyBlcnJvciB0b2FzdFxuICAgICAgICAgICAgICB0b2FzdC5lcnJvcignQ2FyZCBnZW5lcmF0aW9uIHRpbWVkIG91dC4gUGxlYXNlIHRyeSBhZ2Fpbi4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBcbiAgICAgIGNvbnNvbGUubG9nKCfwn5SEIFdlYlNvY2tldCBkaXNjb25uZWN0ZWQgZHVyaW5nIGdlbmVyYXRpb24sIGF0dGVtcHRpbmcgcmVjb25uZWN0Li4uJyk7XG4gICAgICBjb25zdCByZWNvbm5lY3RUaW1lciA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICB3ZWJTb2NrZXQuY29ubmVjdFdlYlNvY2tldCgpO1xuICAgICAgICBcbiAgICAgICAgLy8gUmUtc3Vic2NyaWJlIHRvIGN1cnJlbnQgam9iIGFmdGVyIHJlY29ubmVjdGlvblxuICAgICAgICBjb25zdCBqb2JJZCA9IHdlYlNvY2tldC5jdXJyZW50Sm9iUmVmLmN1cnJlbnQ7XG4gICAgICAgIGlmIChqb2JJZCkge1xuICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ/Cfk6EgUmUtc3Vic2NyaWJpbmcgdG8gam9iIGFmdGVyIHJlY29ubmVjdDonLCBqb2JJZCk7XG4gICAgICAgICAgICB3ZWJTb2NrZXQuc3Vic2NyaWJlVG9Kb2Ioam9iSWQpO1xuICAgICAgICAgIH0sIDEwMDApO1xuICAgICAgICB9XG4gICAgICB9LCAyMDAwKTtcbiAgICAgIFxuICAgICAgcmV0dXJuICgpID0+IGNsZWFyVGltZW91dChyZWNvbm5lY3RUaW1lcik7XG4gICAgfVxuICB9LCBbd2ViU29ja2V0LCBjYXJkR2VuZXJhdGlvbi5pc0dlbmVyYXRpbmcsIGRyYWZ0R2VuZXJhdGlvbi5pc0dlbmVyYXRpbmdGaW5hbENhcmQsIGpvYk1hbmFnZW1lbnQuZ2VuZXJhdGlvblN0YXJ0VGltZV0pO1xuXG4gIC8vIFJlc2V0IHN0YWxlIGpvYiBmbGFnIHdoZW4gZ2VuZXJhdGlvbiBzdGFydHNcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoY2FyZEdlbmVyYXRpb24uaXNHZW5lcmF0aW5nIHx8IGRyYWZ0R2VuZXJhdGlvbi5pc0dlbmVyYXRpbmdGaW5hbENhcmQpIHtcbiAgICAgIHN0YWxlSm9iTG9nZ2VkUmVmLmN1cnJlbnQgPSBmYWxzZTtcbiAgICB9XG4gIH0sIFtjYXJkR2VuZXJhdGlvbi5pc0dlbmVyYXRpbmcsIGRyYWZ0R2VuZXJhdGlvbi5pc0dlbmVyYXRpbmdGaW5hbENhcmRdKTtcblxuICAvLyBNb25pdG9yIGZvciBzdGFsZSBqb2IgdXBkYXRlc1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICgoY2FyZEdlbmVyYXRpb24uaXNHZW5lcmF0aW5nIHx8IGRyYWZ0R2VuZXJhdGlvbi5pc0dlbmVyYXRpbmdGaW5hbENhcmQpICYmIFxuICAgICAgICB3ZWJTb2NrZXQuY3VycmVudEpvYlJlZi5jdXJyZW50KSB7XG4gICAgICBjb25zdCBjaGVja0ludGVydmFsID0gc2V0SW50ZXJ2YWwoYXN5bmMgKCkgPT4ge1xuICAgICAgICBjb25zdCB0aW1lU2luY2VMYXN0VXBkYXRlID0gRGF0ZS5ub3coKSAtIHdlYlNvY2tldC5sYXN0Sm9iVXBkYXRlUmVmLmN1cnJlbnQ7XG4gICAgICAgIGNvbnN0IGpvYklkID0gd2ViU29ja2V0LmN1cnJlbnRKb2JSZWYuY3VycmVudDtcbiAgICAgICAgXG4gICAgICAgIC8vIFZlcnkgYWdncmVzc2l2ZSBjaGVja2luZyB3aGVuIGF0IDk1JSsgcHJvZ3Jlc3NcbiAgICAgICAgaWYgKGpvYk1hbmFnZW1lbnQucHJvZ3Jlc3NQZXJjZW50YWdlID49IDk1ICYmIHRpbWVTaW5jZUxhc3RVcGRhdGUgPiA1MDAwKSB7XG4gICAgICAgICAgY29uc29sZS53YXJuKGDimqDvuI8gTm8gdXBkYXRlcyBmb3IgJHtNYXRoLnJvdW5kKHRpbWVTaW5jZUxhc3RVcGRhdGUvMTAwMCl9cyBhdCAke2pvYk1hbmFnZW1lbnQucHJvZ3Jlc3NQZXJjZW50YWdlfSUgcHJvZ3Jlc3MgLSBjaGVja2luZyBqb2Igc3RhdHVzLi4uYCk7XG4gICAgICAgICAgXG4gICAgICAgICAgaWYgKGpvYklkKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAvYXBpL2pvYi1zdGF0dXMvJHtqb2JJZH1gKTtcbiAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgam9iU3RhdHVzID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5OKIERpcmVjdCBqb2Igc3RhdHVzIGNoZWNrOicsIGpvYlN0YXR1cyk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgaWYgKGpvYlN0YXR1cy5zdGF0dXMgPT09ICdjb21wbGV0ZWQnICYmIGpvYlN0YXR1cy5jYXJkRGF0YSkge1xuICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+KchSBKb2IgaXMgYWN0dWFsbHkgY29tcGxldGVkISBQcm9jZXNzaW5nIHJlc3VsdC4uLicpO1xuICAgICAgICAgICAgICAgICAgaGFuZGxlSm9iVXBkYXRlKHtcbiAgICAgICAgICAgICAgICAgICAgam9iX2lkOiBqb2JJZCxcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiAnY29tcGxldGVkJyxcbiAgICAgICAgICAgICAgICAgICAgcHJvZ3Jlc3M6ICdDYXJkIGdlbmVyYXRpb24gY29tcGxldGUhJyxcbiAgICAgICAgICAgICAgICAgICAgY2FyZERhdGE6IGpvYlN0YXR1cy5jYXJkRGF0YVxuICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICByZXR1cm47IC8vIEV4aXQgZWFybHkgb24gY29tcGxldGlvblxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGNoZWNrIGpvYiBzdGF0dXM6JywgZXJyb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBNb3JlIGFnZ3Jlc3NpdmUgY2hlY2tpbmcgd2hlbiBhdCBoaWdoIHByb2dyZXNzXG4gICAgICAgIGVsc2UgaWYgKGpvYk1hbmFnZW1lbnQucHJvZ3Jlc3NQZXJjZW50YWdlID49IDkwICYmIHRpbWVTaW5jZUxhc3RVcGRhdGUgPiAxMDAwMCkge1xuICAgICAgICAgIGNvbnNvbGUud2Fybihg4pqg77iPIE5vIHVwZGF0ZXMgZm9yICR7TWF0aC5yb3VuZCh0aW1lU2luY2VMYXN0VXBkYXRlLzEwMDApfXMgYXQgJHtqb2JNYW5hZ2VtZW50LnByb2dyZXNzUGVyY2VudGFnZX0lIHByb2dyZXNzYCk7XG4gICAgICAgICAgXG4gICAgICAgICAgaWYgKGpvYklkKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAvYXBpL2pvYi1zdGF0dXMvJHtqb2JJZH1gKTtcbiAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgam9iU3RhdHVzID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5OKIERpcmVjdCBqb2Igc3RhdHVzIGNoZWNrOicsIGpvYlN0YXR1cyk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgaWYgKGpvYlN0YXR1cy5zdGF0dXMgPT09ICdjb21wbGV0ZWQnICYmIGpvYlN0YXR1cy5jYXJkRGF0YSkge1xuICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+KchSBKb2IgaXMgYWN0dWFsbHkgY29tcGxldGVkISBQcm9jZXNzaW5nIHJlc3VsdC4uLicpO1xuICAgICAgICAgICAgICAgICAgaGFuZGxlSm9iVXBkYXRlKHtcbiAgICAgICAgICAgICAgICAgICAgam9iX2lkOiBqb2JJZCxcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiAnY29tcGxldGVkJyxcbiAgICAgICAgICAgICAgICAgICAgcHJvZ3Jlc3M6ICdDYXJkIGdlbmVyYXRpb24gY29tcGxldGUhJyxcbiAgICAgICAgICAgICAgICAgICAgY2FyZERhdGE6IGpvYlN0YXR1cy5jYXJkRGF0YVxuICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICByZXR1cm47IC8vIEV4aXQgZWFybHkgb24gY29tcGxldGlvblxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGNoZWNrIGpvYiBzdGF0dXM6JywgZXJyb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gU3RhbmRhcmQgc3RhbGUgdXBkYXRlIGNoZWNrXG4gICAgICAgIGlmICh0aW1lU2luY2VMYXN0VXBkYXRlID4gMzAwMDApIHsgLy8gMzAgc2Vjb25kcyB3aXRob3V0IHVwZGF0ZVxuICAgICAgICAgIGNvbnNvbGUud2Fybign4pqg77iPIE5vIGpvYiB1cGRhdGVzIGZvciAzMCBzZWNvbmRzLCBjaGVja2luZyBjb25uZWN0aW9uLi4uJyk7XG4gICAgICAgICAgXG4gICAgICAgICAgaWYgKCF3ZWJTb2NrZXQuaXNTb2NrZXRDb25uZWN0ZWQpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5SEIFdlYlNvY2tldCBkaXNjb25uZWN0ZWQsIHJlY29ubmVjdGluZy4uLicpO1xuICAgICAgICAgICAgd2ViU29ja2V0LmNvbm5lY3RXZWJTb2NrZXQoKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGpvYklkKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygn8J+ToSBSZS1zdWJzY3JpYmluZyB0byBqb2IgZHVlIHRvIHN0YWxlIHVwZGF0ZXM6Jywgam9iSWQpO1xuICAgICAgICAgICAgd2ViU29ja2V0LnN1YnNjcmliZVRvSm9iKGpvYklkKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gUmVzZXQgdGhlIHRpbWVyXG4gICAgICAgICAgd2ViU29ja2V0Lmxhc3RKb2JVcGRhdGVSZWYuY3VycmVudCA9IERhdGUubm93KCk7XG4gICAgICAgIH1cbiAgICAgIH0sIDMwMDApOyAvLyBDaGVjayBldmVyeSAzIHNlY29uZHMgZm9yIGZhc3RlciBkZXRlY3Rpb24gYXQgaGlnaCBwcm9ncmVzc1xuICAgICAgXG4gICAgICByZXR1cm4gKCkgPT4gY2xlYXJJbnRlcnZhbChjaGVja0ludGVydmFsKTtcbiAgICB9XG4gIH0sIFtjYXJkR2VuZXJhdGlvbi5pc0dlbmVyYXRpbmcsIGRyYWZ0R2VuZXJhdGlvbi5pc0dlbmVyYXRpbmdGaW5hbENhcmQsIFxuICAgICAgd2ViU29ja2V0LCBqb2JNYW5hZ2VtZW50LnByb2dyZXNzUGVyY2VudGFnZSwgaGFuZGxlSm9iVXBkYXRlXSk7XG5cbiAgLy8gU2ltcGxpZmllZCBqb2IgcmVzdG9yYXRpb24gdXNpbmcgbmV3IHN0b3JhZ2UgbWFuYWdlclxuICBjb25zdCBjaGVja1BlbmRpbmdKb2JzID0gdXNlQ2FsbGJhY2soYXN5bmMgKCkgPT4ge1xuICAgIGNvbnNvbGUubG9nKCfwn5SEIENoZWNraW5nIGZvciByZWNvdmVyeSBkYXRhLi4uJyk7XG4gICAgc2V0SXNSZXN0b3JpbmdKb2JzKHRydWUpO1xuICAgIFxuICAgIC8vIENoZWNrIGZvciBhY3RpdmUgcmVjb3Zlcnkgam9iXG4gICAgY29uc3QgcmVjb3ZlcnkgPSBzdG9yYWdlLmdldFJlY292ZXJ5KCk7XG4gICAgXG4gICAgaWYgKCFyZWNvdmVyeSkge1xuICAgICAgY29uc29sZS5sb2coJ+KchSBObyBhY3RpdmUgam9iIHRvIHJlY292ZXInKTtcbiAgICAgIHNldElzUmVzdG9yaW5nSm9icyhmYWxzZSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFxuICAgIGNvbnNvbGUubG9nKCfwn5SEIEZvdW5kIHJlY292ZXJ5IGRhdGE6JywgcmVjb3ZlcnkpO1xuICAgIFxuICAgIC8vIEluIG91ciBzaW1wbGlmaWVkIHN5c3RlbSwgd2Ugb25seSB0cmFjayBvbmUgYWN0aXZlIGpvYiBhdCBhIHRpbWVcbiAgICAvLyBSZWNvdmVyeSBpcyBtZWFudCBmb3IgYnJvd3NlciBjcmFzaGVzIGR1cmluZyBnZW5lcmF0aW9uXG4gICAgY29uc3QgaXNSZWNvdmVyeURyYWZ0ID0gcmVjb3Zlcnkuam9iSWQ/LnN0YXJ0c1dpdGgoJ2RyYWZ0LScpO1xuICAgIFxuICAgIGlmIChpc1JlY292ZXJ5RHJhZnQpIHtcbiAgICAgIGNvbnNvbGUubG9nKCfwn46oIFJlY292ZXJpbmcgZnJvbSBkcmFmdCBnZW5lcmF0aW9uJyk7XG4gICAgICAvLyBGb3IgZHJhZnQgcmVjb3ZlcnksIHdlIGNhbid0IHJlc3RvcmUgdGhlIGV4YWN0IHN0YXRlXG4gICAgICAvLyBVc2VyIHdpbGwgbmVlZCB0byByZXN0YXJ0IHRoZSBkcmFmdCBnZW5lcmF0aW9uXG4gICAgICBzZXRJc1Jlc3RvcmluZ0pvYnMoZmFsc2UpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBcbiAgICAvLyBGb3IgZmluYWwgY2FyZCByZWNvdmVyeSwgd2UgY2FuIHRyeSB0byByZXN0b3JlIHRoZSBqb2JcbiAgICBjb25zb2xlLmxvZygn8J+OryBSZWNvdmVyaW5nIGZyb20gZmluYWwgY2FyZCBnZW5lcmF0aW9uJyk7XG4gICAgXG4gICAgLy8gUmVzdG9yZSBnZW5lcmF0aW9uIHN0YXRlXG4gICAgam9iTWFuYWdlbWVudC5zZXRDdXJyZW50Sm9iSWQocmVjb3Zlcnkuam9iSWQpO1xuICAgIGNhcmRHZW5lcmF0aW9uLnNldElzR2VuZXJhdGluZyh0cnVlKTtcbiAgICBjYXJkR2VuZXJhdGlvbi5zZXRHZW5lcmF0aW9uUHJvZ3Jlc3MoXCLwn5SEIFJlc3VtaW5nIGdlbmVyYXRpb24uLi5cIik7XG4gICAgam9iTWFuYWdlbWVudC5zdGFydEVsYXBzZWRUaW1lVHJhY2tpbmcoJ2ZpbmFsJyk7XG4gICAgXG4gICAgLy8gU3Vic2NyaWJlIHRvIHRoZSBqb2IgdG8gZ2V0IHVwZGF0ZXNcbiAgICB3ZWJTb2NrZXQuc3Vic2NyaWJlVG9Kb2IocmVjb3Zlcnkuam9iSWQpO1xuICAgIHNldElzUmVzdG9yaW5nSm9icyhmYWxzZSk7XG4gIH0sIFt3ZWJTb2NrZXQsIHN0b3JhZ2VdKTtcblxuICAvLyBMb2FkIHJlY292ZXJ5IGRhdGEgb24gY29tcG9uZW50IG1vdW50XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc29sZS5sb2coJ/CfmoAgdXNlQ2FyZFN0dWRpbyBtb3VudGVkLCBjaGVja2luZyBmb3IgcmVjb3ZlcnkuLi4nKTtcbiAgICBcbiAgICAvLyBDaGVjayBmb3IgYWN0aXZlIHJlY292ZXJ5IGpvYlxuICAgIGNvbnN0IHJlY292ZXJ5ID0gc3RvcmFnZS5nZXRSZWNvdmVyeSgpO1xuICAgIGNvbnNvbGUubG9nKCfwn5OmIFJlY292ZXJ5IGRhdGE6JywgcmVjb3ZlcnkpO1xuICAgIFxuICAgIGlmIChyZWNvdmVyeSkge1xuICAgICAgY29uc29sZS5sb2coJ/CflIQgRm91bmQgYWN0aXZlIGpvYiB0byByZWNvdmVyOicsIHJlY292ZXJ5LmpvYklkKTtcbiAgICAgIFxuICAgICAgLy8gRm9yIGRyYWZ0IGpvYnMsIGNoZWNrIGlmIHdlIGFscmVhZHkgaGF2ZSBjb21wbGV0ZWQgZHJhZnRzXG4gICAgICBjb25zdCBpc0RyYWZ0ID0gcmVjb3Zlcnkuam9iSWQuc3RhcnRzV2l0aCgnZHJhZnQtJyk7XG4gICAgICBcbiAgICAgIGlmIChpc0RyYWZ0KSB7XG4gICAgICAgIC8vIENoZWNrIGlmIHdlIGFscmVhZHkgaGF2ZSBjb21wbGV0ZWQgZHJhZnQgY2FyZHNcbiAgICAgICAgY29uc3QgaGFzQ29tcGxldGVkRHJhZnRzID0gZHJhZnRHZW5lcmF0aW9uLmRyYWZ0Q2FyZHMuZmlsdGVyKGNhcmQgPT4gY2FyZCAhPT0gbnVsbCkubGVuZ3RoID4gMDtcbiAgICAgICAgXG4gICAgICAgIGlmIChoYXNDb21wbGV0ZWREcmFmdHMpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZygn4pyFIERyYWZ0IGpvYiBhbHJlYWR5IGNvbXBsZXRlZCwgbm90IHNldHRpbmcgYXMgZ2VuZXJhdGluZycpO1xuICAgICAgICAgIC8vIEp1c3QgcmVzdG9yZSB0aGUgam9iIElEIGZvciByZWZlcmVuY2UsIGJ1dCBkb24ndCBzZXQgYXMgZ2VuZXJhdGluZ1xuICAgICAgICAgIGpvYk1hbmFnZW1lbnQuc2V0Q3VycmVudEpvYklkKHJlY292ZXJ5LmpvYklkKTtcbiAgICAgICAgICBkcmFmdEdlbmVyYXRpb24uc2V0SXNEcmFmdE1vZGUodHJ1ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ/CfjqggUmVzdW1pbmcgaW5jb21wbGV0ZSBkcmFmdCBnZW5lcmF0aW9uJyk7XG4gICAgICAgICAgLy8gU3Vic2NyaWJlIHRvIHRoZSBqb2IgdG8gY2hlY2sgaXRzIHN0YXR1c1xuICAgICAgICAgIGpvYk1hbmFnZW1lbnQuc2V0Q3VycmVudEpvYklkKHJlY292ZXJ5LmpvYklkKTtcbiAgICAgICAgICB3ZWJTb2NrZXQuc3Vic2NyaWJlVG9Kb2IocmVjb3Zlcnkuam9iSWQpO1xuICAgICAgICAgIGRyYWZ0R2VuZXJhdGlvbi5zZXRJc0RyYWZ0TW9kZSh0cnVlKTtcbiAgICAgICAgICAvLyBEb24ndCBzZXQgYXMgZ2VuZXJhdGluZyB5ZXQgLSB3YWl0IGZvciBXZWJTb2NrZXQgdG8gdGVsbCB1cyB0aGUgYWN0dWFsIHN0YXR1c1xuICAgICAgICAgIC8vIFRoaXMgcHJldmVudHMgbmF2aWdhdGlvbiB0byBTdGVwIDUgZm9yIGFscmVhZHkgY29tcGxldGVkIGpvYnNcbiAgICAgICAgICBjb25zb2xlLmxvZygn4o+zIFdhaXRpbmcgZm9yIGpvYiBzdGF0dXMgdXBkYXRlIGJlZm9yZSBzZXR0aW5nIGdlbmVyYXRpb24gc3RhdGUuLi4nKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gRm9yIGZpbmFsIGNhcmQgcmVjb3ZlcnksIGNoZWNrIGlmIGFscmVhZHkgY29tcGxldGVkXG4gICAgICAgIGlmIChjYXJkR2VuZXJhdGlvbi5nZW5lcmF0ZWRDYXJkICYmIGNhcmRHZW5lcmF0aW9uLmlzQ2FyZENvbXBsZXRlZCkge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCfinIUgRmluYWwgY2FyZCBhbHJlYWR5IGNvbXBsZXRlZCwgbm90IHNldHRpbmcgYXMgZ2VuZXJhdGluZycpO1xuICAgICAgICAgIGpvYk1hbmFnZW1lbnQuc2V0Q3VycmVudEpvYklkKHJlY292ZXJ5LmpvYklkKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zb2xlLmxvZygn8J+OryBSZXN1bWluZyBpbmNvbXBsZXRlIGZpbmFsIGNhcmQgZ2VuZXJhdGlvbicpO1xuICAgICAgICAgIGpvYk1hbmFnZW1lbnQuc2V0Q3VycmVudEpvYklkKHJlY292ZXJ5LmpvYklkKTtcbiAgICAgICAgICB3ZWJTb2NrZXQuc3Vic2NyaWJlVG9Kb2IocmVjb3Zlcnkuam9iSWQpO1xuICAgICAgICAgIGNhcmRHZW5lcmF0aW9uLnNldElzR2VuZXJhdGluZyh0cnVlKTtcbiAgICAgICAgICBjYXJkR2VuZXJhdGlvbi5zZXRHZW5lcmF0aW9uUHJvZ3Jlc3MoJ/CfjqggUmVzdW1pbmcgY2FyZCBnZW5lcmF0aW9uLi4uJyk7XG4gICAgICAgICAgam9iTWFuYWdlbWVudC5zdGFydEVsYXBzZWRUaW1lVHJhY2tpbmcoJ2ZpbmFsJyk7XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gSWYgdGhpcyBpcyBhIGZpbmFsIGNhcmQgZ2VuZXJhdGlvbiBmcm9tIGEgZHJhZnQsIHNldCB0aGUgYXBwcm9wcmlhdGUgc3RhdGVcbiAgICAgICAgICBpZiAocmVjb3ZlcnkuZm9ybURhdGEgJiYgcmVjb3ZlcnkuZm9ybURhdGEuc2VsZWN0ZWREcmFmdEluZGV4ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGRyYWZ0R2VuZXJhdGlvbi5zZXRJc0dlbmVyYXRpbmdGaW5hbENhcmQodHJ1ZSk7XG4gICAgICAgICAgICBkcmFmdEdlbmVyYXRpb24uc2V0U2VsZWN0ZWREcmFmdEluZGV4KHJlY292ZXJ5LmZvcm1EYXRhLnNlbGVjdGVkRHJhZnRJbmRleCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIC8vIEFsd2F5cyBtYXJrIHJlc3RvcmF0aW9uIGFzIGNvbXBsZXRlXG4gICAgc2V0SXNSZXN0b3JpbmdKb2JzKGZhbHNlKTtcbiAgICBcbiAgICAvLyBNYXJrIHJlc3RvcmF0aW9uIGFzIGNvbXBsZXRlIGFmdGVyIGEgc21hbGwgZGVsYXlcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHNldElzUmVzdG9yaW5nSm9icyhmYWxzZSk7XG4gICAgfSwgMTAwKTtcbiAgfSwgW10pO1xuXG4gIC8vIFJldHVybiBhbGwgdGhlIHN0YXRlIGFuZCBmdW5jdGlvbnMgdGhhdCB0aGUgVUkgbmVlZHNcbiAgcmV0dXJuIHtcbiAgICAvLyBDb3JlIHN0YXRlXG4gICAgcHJvbXB0LFxuICAgIHNldFByb21wdCxcbiAgICBmaW5hbENhcmRNZXNzYWdlOiBtZXNzYWdlR2VuZXJhdGlvbi5maW5hbENhcmRNZXNzYWdlLFxuICAgIHNldEZpbmFsQ2FyZE1lc3NhZ2U6IG1lc3NhZ2VHZW5lcmF0aW9uLnNldEZpbmFsQ2FyZE1lc3NhZ2UsXG4gICAgdG9GaWVsZCxcbiAgICBzZXRUb0ZpZWxkLFxuICAgIGZyb21GaWVsZCxcbiAgICBzZXRGcm9tRmllbGQsXG4gICAgcmVsYXRpb25zaGlwRmllbGQsXG4gICAgc2V0UmVsYXRpb25zaGlwRmllbGQsXG4gICAgcGVyc29uYWxUcmFpdHMsXG4gICAgc2V0UGVyc29uYWxUcmFpdHMsXG4gICAgc2VsZWN0ZWRUeXBlLFxuICAgIHNldFNlbGVjdGVkVHlwZSxcbiAgICBjdXN0b21DYXJkVHlwZSxcbiAgICBzZXRDdXN0b21DYXJkVHlwZSxcbiAgICBzZWxlY3RlZFRvbmUsXG4gICAgc2V0U2VsZWN0ZWRUb25lLFxuICAgIGlzR2VuZXJhdGluZzogY2FyZEdlbmVyYXRpb24uaXNHZW5lcmF0aW5nIHx8IGRyYWZ0R2VuZXJhdGlvbi5pc0dlbmVyYXRpbmcsXG4gICAgc2V0SXNHZW5lcmF0aW5nOiBjYXJkR2VuZXJhdGlvbi5zZXRJc0dlbmVyYXRpbmcsXG4gICAgaXNHZW5lcmF0aW5nTWVzc2FnZTogbWVzc2FnZUdlbmVyYXRpb24uaXNHZW5lcmF0aW5nTWVzc2FnZSxcbiAgICBzZXRJc0dlbmVyYXRpbmdNZXNzYWdlOiBtZXNzYWdlR2VuZXJhdGlvbi5zZXRJc0dlbmVyYXRpbmdNZXNzYWdlLFxuICAgIGdlbmVyYXRlZENhcmQ6IGNhcmRHZW5lcmF0aW9uLmdlbmVyYXRlZENhcmQsXG4gICAgc2V0R2VuZXJhdGVkQ2FyZDogY2FyZEdlbmVyYXRpb24uc2V0R2VuZXJhdGVkQ2FyZCxcbiAgICBudW1iZXJPZkNhcmRzLFxuICAgIHNldE51bWJlck9mQ2FyZHMsXG4gICAgZ2VuZXJhdGVkQ2FyZHM6IGNhcmRHZW5lcmF0aW9uLmdlbmVyYXRlZENhcmRzLFxuICAgIHNldEdlbmVyYXRlZENhcmRzOiBjYXJkR2VuZXJhdGlvbi5zZXRHZW5lcmF0ZWRDYXJkcyxcbiAgICBzZWxlY3RlZENhcmRJbmRleDogY2FyZEdlbmVyYXRpb24uc2VsZWN0ZWRDYXJkSW5kZXgsXG4gICAgc2V0U2VsZWN0ZWRDYXJkSW5kZXg6IGNhcmRHZW5lcmF0aW9uLnNldFNlbGVjdGVkQ2FyZEluZGV4LFxuICAgIFxuICAgIC8vIEFkdmFuY2VkIG9wdGlvbnNcbiAgICBzaG93QWR2YW5jZWQsXG4gICAgc2V0U2hvd0FkdmFuY2VkLFxuICAgIHNlbGVjdGVkQXJ0aXN0aWNTdHlsZSxcbiAgICBzZXRTZWxlY3RlZEFydGlzdGljU3R5bGUsXG4gICAgY3VzdG9tU3R5bGVEZXNjcmlwdGlvbixcbiAgICBzZXRDdXN0b21TdHlsZURlc2NyaXB0aW9uLFxuICAgIHNlbGVjdGVkSW1hZ2VNb2RlbCxcbiAgICBzZXRTZWxlY3RlZEltYWdlTW9kZWwsXG4gICAgc2VsZWN0ZWREcmFmdE1vZGVsLFxuICAgIHNldFNlbGVjdGVkRHJhZnRNb2RlbCxcbiAgICBcbiAgICAvLyBEcmFmdCBtb2RlXG4gICAgaXNEcmFmdE1vZGU6IGRyYWZ0R2VuZXJhdGlvbi5pc0RyYWZ0TW9kZSxcbiAgICBzZXRJc0RyYWZ0TW9kZTogZHJhZnRHZW5lcmF0aW9uLnNldElzRHJhZnRNb2RlLFxuICAgIGRyYWZ0Q2FyZHM6IGRyYWZ0R2VuZXJhdGlvbi5kcmFmdENhcmRzLFxuICAgIHNldERyYWZ0Q2FyZHM6IGRyYWZ0R2VuZXJhdGlvbi5zZXREcmFmdENhcmRzLFxuICAgIHNlbGVjdGVkRHJhZnRJbmRleDogZHJhZnRHZW5lcmF0aW9uLnNlbGVjdGVkRHJhZnRJbmRleCxcbiAgICBzZXRTZWxlY3RlZERyYWZ0SW5kZXg6IGRyYWZ0R2VuZXJhdGlvbi5zZXRTZWxlY3RlZERyYWZ0SW5kZXgsXG4gICAgaXNHZW5lcmF0aW5nRmluYWxDYXJkOiBkcmFmdEdlbmVyYXRpb24uaXNHZW5lcmF0aW5nRmluYWxDYXJkLFxuICAgIHNldElzR2VuZXJhdGluZ0ZpbmFsQ2FyZDogZHJhZnRHZW5lcmF0aW9uLnNldElzR2VuZXJhdGluZ0ZpbmFsQ2FyZCxcbiAgICBwcmV2aWV3aW5nRHJhZnRJbmRleDogZHJhZnRHZW5lcmF0aW9uLnByZXZpZXdpbmdEcmFmdEluZGV4LFxuICAgIHNldFByZXZpZXdpbmdEcmFmdEluZGV4OiBkcmFmdEdlbmVyYXRpb24uc2V0UHJldmlld2luZ0RyYWZ0SW5kZXgsXG4gICAgZHJhZnRDb21wbGV0aW9uU2hvd246IGRyYWZ0R2VuZXJhdGlvbi5kcmFmdENvbXBsZXRpb25TaG93bixcbiAgICBzZXREcmFmdENvbXBsZXRpb25TaG93bjogZHJhZnRHZW5lcmF0aW9uLnNldERyYWZ0Q29tcGxldGlvblNob3duLFxuICAgIGRyYWZ0Q29tcGxldGlvbkNvdW50OiBkcmFmdEdlbmVyYXRpb24uZHJhZnRDb21wbGV0aW9uQ291bnQsXG4gICAgc2V0RHJhZnRDb21wbGV0aW9uQ291bnQ6IGRyYWZ0R2VuZXJhdGlvbi5zZXREcmFmdENvbXBsZXRpb25Db3VudCxcbiAgICBcbiAgICAvLyBQcm9ncmVzcyB0cmFja2luZ1xuICAgIGdlbmVyYXRpb25Qcm9ncmVzczogZHJhZnRHZW5lcmF0aW9uLmlzR2VuZXJhdGluZyA/IGRyYWZ0R2VuZXJhdGlvbi5nZW5lcmF0aW9uUHJvZ3Jlc3MgOiBjYXJkR2VuZXJhdGlvbi5nZW5lcmF0aW9uUHJvZ3Jlc3MsXG4gICAgc2V0R2VuZXJhdGlvblByb2dyZXNzOiBjYXJkR2VuZXJhdGlvbi5zZXRHZW5lcmF0aW9uUHJvZ3Jlc3MsXG4gICAgcHJvZ3Jlc3NQZXJjZW50YWdlOiBqb2JNYW5hZ2VtZW50LnByb2dyZXNzUGVyY2VudGFnZSxcbiAgICBzZXRQcm9ncmVzc1BlcmNlbnRhZ2U6IGpvYk1hbmFnZW1lbnQuc2V0UHJvZ3Jlc3NQZXJjZW50YWdlLFxuICAgIGlzQ2FyZENvbXBsZXRlZDogY2FyZEdlbmVyYXRpb24uaXNDYXJkQ29tcGxldGVkLFxuICAgIHNldElzQ2FyZENvbXBsZXRlZDogY2FyZEdlbmVyYXRpb24uc2V0SXNDYXJkQ29tcGxldGVkLFxuICAgIFxuICAgIC8vIFVwbG9hZCBhbmQgcGVyc29uYWxpemF0aW9uXG4gICAgcmVmZXJlbmNlSW1hZ2VzOiBmaWxlSGFuZGxpbmcucmVmZXJlbmNlSW1hZ2VzLFxuICAgIHNldFJlZmVyZW5jZUltYWdlczogZmlsZUhhbmRsaW5nLnNldFJlZmVyZW5jZUltYWdlcyxcbiAgICByZWZlcmVuY2VJbWFnZVVybHM6IGZpbGVIYW5kbGluZy5yZWZlcmVuY2VJbWFnZVVybHMsXG4gICAgc2V0UmVmZXJlbmNlSW1hZ2VVcmxzOiBmaWxlSGFuZGxpbmcuc2V0UmVmZXJlbmNlSW1hZ2VVcmxzLFxuICAgIGlzVXBsb2FkaW5nOiBmaWxlSGFuZGxpbmcuaXNVcGxvYWRpbmcsXG4gICAgc2V0SXNVcGxvYWRpbmc6IGZpbGVIYW5kbGluZy5zZXRJc1VwbG9hZGluZyxcbiAgICBcbiAgICAvLyBFbWFpbCBhbmQgc2V0dGluZ3NcbiAgICB1c2VyRW1haWwsXG4gICAgc2V0VXNlckVtYWlsLFxuICAgIGlzSGFuZHdyaXR0ZW5NZXNzYWdlLFxuICAgIHNldElzSGFuZHdyaXR0ZW5NZXNzYWdlLFxuICAgIGlzRnJvbnRCYWNrT25seSxcbiAgICBzZXRJc0Zyb250QmFja09ubHksXG4gICAgc2VsZWN0ZWRQYXBlclNpemUsXG4gICAgc2V0U2VsZWN0ZWRQYXBlclNpemUsXG4gICAgXG4gICAgLy8gVUkgc3RhdGVcbiAgICBpc1RleHRhcmVhRXhwYW5kZWQsXG4gICAgc2V0SXNUZXh0YXJlYUV4cGFuZGVkLFxuICAgIGlzTWVzc2FnZUV4cGFuZGVkLFxuICAgIHNldElzTWVzc2FnZUV4cGFuZGVkLFxuICAgIHNob3dTZXR0aW5ncyxcbiAgICBzZXRTaG93U2V0dGluZ3MsXG4gICAgc2hvd1RlbXBsYXRlR2FsbGVyeSxcbiAgICBzZXRTaG93VGVtcGxhdGVHYWxsZXJ5LFxuICAgIHNob3dQcmludENvbmZpcm1hdGlvbixcbiAgICBzZXRTaG93UHJpbnRDb25maXJtYXRpb24sXG4gICAgXG4gICAgLy8gR2VuZXJhdGlvbiB0aW1lXG4gICAgZ2VuZXJhdGlvbkR1cmF0aW9uOiBjYXJkR2VuZXJhdGlvbi5nZW5lcmF0aW9uRHVyYXRpb24sXG4gICAgc2V0R2VuZXJhdGlvbkR1cmF0aW9uOiBjYXJkR2VuZXJhdGlvbi5zZXRHZW5lcmF0aW9uRHVyYXRpb24sXG4gICAgY3VycmVudEVsYXBzZWRUaW1lOiBqb2JNYW5hZ2VtZW50LmN1cnJlbnRFbGFwc2VkVGltZSxcbiAgICBcbiAgICAvLyBIZWxwZXIgZnVuY3Rpb25zXG4gICAgZm9ybWF0R2VuZXJhdGlvblRpbWUsXG4gICAgZm9ybWF0Q291bnRkb3duLFxuICAgIHNlbmRUaGFua1lvdUVtYWlsLFxuICAgIGNoYXRXaXRoQUksXG4gICAgc2Nyb2xsVG9DYXJkUHJldmlldyxcbiAgICBcbiAgICAvLyBUaW1lIHRyYWNraW5nIGZ1bmN0aW9uc1xuICAgIHN0YXJ0RWxhcHNlZFRpbWVUcmFja2luZzogam9iTWFuYWdlbWVudC5zdGFydEVsYXBzZWRUaW1lVHJhY2tpbmcsXG4gICAgc3RvcEVsYXBzZWRUaW1lVHJhY2tpbmc6IGpvYk1hbmFnZW1lbnQuc3RvcEVsYXBzZWRUaW1lVHJhY2tpbmcsXG4gICAgXG4gICAgLy8gRmlsZSBoYW5kbGluZyBmdW5jdGlvbnNcbiAgICBoYW5kbGVGaWxlVXBsb2FkOiBmaWxlSGFuZGxpbmcuaGFuZGxlRmlsZVVwbG9hZCxcbiAgICBoYW5kbGVSZW1vdmVSZWZlcmVuY2VJbWFnZTogZmlsZUhhbmRsaW5nLmhhbmRsZVJlbW92ZVJlZmVyZW5jZUltYWdlLFxuICAgIFxuICAgIC8vIFNpbXBsaWZpZWQgcGhvdG8gcmVmZXJlbmNlc1xuICAgIHBob3RvUmVmZXJlbmNlczogZmlsZUhhbmRsaW5nLnBob3RvUmVmZXJlbmNlcyxcbiAgICBzZXRQaG90b1JlZmVyZW5jZXM6IGZpbGVIYW5kbGluZy5zZXRQaG90b1JlZmVyZW5jZXMsXG4gICAgdXBkYXRlUGhvdG9EZXNjcmlwdGlvbjogZmlsZUhhbmRsaW5nLnVwZGF0ZVBob3RvRGVzY3JpcHRpb24sXG4gICAgXG4gICAgLy8gTWVzc2FnZSBmdW5jdGlvbnNcbiAgICBoYW5kbGVHZXRNZXNzYWdlSGVscDogbWVzc2FnZUdlbmVyYXRpb24uaGFuZGxlR2V0TWVzc2FnZUhlbHAsXG4gICAgYWRkTWVzc2FnZVRvSGlzdG9yeTogbWVzc2FnZUdlbmVyYXRpb24uYWRkTWVzc2FnZVRvSGlzdG9yeSxcbiAgICB1bmRvTWVzc2FnZTogbWVzc2FnZUdlbmVyYXRpb24udW5kb01lc3NhZ2UsXG4gICAgcmVkb01lc3NhZ2U6IG1lc3NhZ2VHZW5lcmF0aW9uLnJlZG9NZXNzYWdlLFxuICAgIFxuICAgIC8vIEpvYiBtYW5hZ2VtZW50XG4gICAgc2F2ZUpvYlRvU3RvcmFnZTogam9iTWFuYWdlbWVudC5zYXZlSm9iVG9TdG9yYWdlLFxuICAgIHJlbW92ZUpvYkZyb21TdG9yYWdlOiBqb2JNYW5hZ2VtZW50LnJlbW92ZUpvYkZyb21TdG9yYWdlLFxuICAgIGNoZWNrUGVuZGluZ0pvYnMsXG4gICAgaXNSZXN0b3JpbmdKb2JzLFxuICAgIFxuICAgIC8vIE1haW4gZ2VuZXJhdGlvbiBmdW5jdGlvbnNcbiAgICBoYW5kbGVHZW5lcmF0ZURyYWZ0Q2FyZHM6IGRyYWZ0R2VuZXJhdGlvbi5oYW5kbGVHZW5lcmF0ZURyYWZ0Q2FyZHMsXG4gICAgaGFuZGxlR2VuZXJhdGVGaW5hbEZyb21EcmFmdDogZHJhZnRHZW5lcmF0aW9uLmhhbmRsZUdlbmVyYXRlRmluYWxGcm9tRHJhZnQsXG4gICAgXG4gICAgLy8gQWRkaXRpb25hbCBzdGF0ZSBmb3IgbWVzc2FnZSByZWZpbmVtZW50XG4gICAgbWVzc2FnZUhpc3Rvcnk6IG1lc3NhZ2VHZW5lcmF0aW9uLm1lc3NhZ2VIaXN0b3J5LFxuICAgIHNldE1lc3NhZ2VIaXN0b3J5OiBtZXNzYWdlR2VuZXJhdGlvbi5zZXRNZXNzYWdlSGlzdG9yeSxcbiAgICBjdXJyZW50TWVzc2FnZUluZGV4OiBtZXNzYWdlR2VuZXJhdGlvbi5jdXJyZW50TWVzc2FnZUluZGV4LFxuICAgIHNldEN1cnJlbnRNZXNzYWdlSW5kZXg6IG1lc3NhZ2VHZW5lcmF0aW9uLnNldEN1cnJlbnRNZXNzYWdlSW5kZXgsXG4gICAgcmVmaW5lbWVudFByb21wdDogbWVzc2FnZUdlbmVyYXRpb24ucmVmaW5lbWVudFByb21wdCxcbiAgICBzZXRSZWZpbmVtZW50UHJvbXB0OiBtZXNzYWdlR2VuZXJhdGlvbi5zZXRSZWZpbmVtZW50UHJvbXB0LFxuICAgIGlzUmVmaW5pbmdNZXNzYWdlOiBtZXNzYWdlR2VuZXJhdGlvbi5pc1JlZmluaW5nTWVzc2FnZSxcbiAgICBzZXRJc1JlZmluaW5nTWVzc2FnZTogbWVzc2FnZUdlbmVyYXRpb24uc2V0SXNSZWZpbmluZ01lc3NhZ2UsXG4gICAgc2hvd1JlZmluZW1lbnRCb3g6IG1lc3NhZ2VHZW5lcmF0aW9uLnNob3dSZWZpbmVtZW50Qm94LFxuICAgIHNldFNob3dSZWZpbmVtZW50Qm94OiBtZXNzYWdlR2VuZXJhdGlvbi5zZXRTaG93UmVmaW5lbWVudEJveCxcbiAgICBcbiAgICAvLyBUZW1wbGF0ZSBzdGF0ZVxuICAgIHNob3dUZW1wbGF0ZUN1c3RvbWl6YXRpb24sXG4gICAgc2V0U2hvd1RlbXBsYXRlQ3VzdG9taXphdGlvbixcbiAgICBzZWxlY3RlZFRlbXBsYXRlLFxuICAgIHNldFNlbGVjdGVkVGVtcGxhdGUsXG4gICAgdGVtcGxhdGVDdXN0b21pemF0aW9ucyxcbiAgICBzZXRUZW1wbGF0ZUN1c3RvbWl6YXRpb25zLFxuICAgIHRlbXBsYXRlU2VhcmNoUXVlcnksXG4gICAgc2V0VGVtcGxhdGVTZWFyY2hRdWVyeSxcbiAgICBpc1NlYXJjaGluZ1RlbXBsYXRlcyxcbiAgICBzZXRJc1NlYXJjaGluZ1RlbXBsYXRlcyxcbiAgICBhaUZpbHRlcmVkQ2FyZHMsXG4gICAgc2V0QWlGaWx0ZXJlZENhcmRzLFxuICAgIHNlYXJjaE1vZGUsXG4gICAgc2V0U2VhcmNoTW9kZSxcbiAgICB0ZXh0RmlsdGVyZWRDYXJkcyxcbiAgICBzZXRUZXh0RmlsdGVyZWRDYXJkcyxcbiAgICBzaG93UHJvbXB0cyxcbiAgICBzZXRTaG93UHJvbXB0cyxcbiAgICBcbiAgICAvLyBQcmludCBzdGF0ZVxuICAgIHByaW50T3B0aW9uLFxuICAgIHNldFByaW50T3B0aW9uLFxuICAgIFxuICAgIC8vIEFkZGl0aW9uYWwgZHJhZnQgbW9kZSBzdGF0ZVxuICAgIGhhbmR3cml0aW5nU2FtcGxlOiBmaWxlSGFuZGxpbmcuaGFuZHdyaXRpbmdTYW1wbGUsXG4gICAgc2V0SGFuZHdyaXRpbmdTYW1wbGU6IGZpbGVIYW5kbGluZy5zZXRIYW5kd3JpdGluZ1NhbXBsZSxcbiAgICBoYW5kd3JpdGluZ1NhbXBsZVVybDogZmlsZUhhbmRsaW5nLmhhbmR3cml0aW5nU2FtcGxlVXJsLFxuICAgIHNldEhhbmR3cml0aW5nU2FtcGxlVXJsOiBmaWxlSGFuZGxpbmcuc2V0SGFuZHdyaXRpbmdTYW1wbGVVcmwsXG4gICAgXG4gICAgLy8gSm9iIHRyYWNraW5nXG4gICAgY3VycmVudEpvYklkOiBqb2JNYW5hZ2VtZW50LmN1cnJlbnRKb2JJZCxcbiAgICBzZXRDdXJyZW50Sm9iSWQ6IGpvYk1hbmFnZW1lbnQuc2V0Q3VycmVudEpvYklkLFxuICAgIGNvdW50ZG93bixcbiAgICBzZXRDb3VudGRvd24sXG4gICAgY291bnRkb3duSW50ZXJ2YWwsXG4gICAgc2V0Q291bnRkb3duSW50ZXJ2YWwsXG4gICAgXG4gICAgLy8gU2VjdGlvbiBsb2FkaW5nIHN0YXRlc1xuICAgIHNlY3Rpb25Mb2FkaW5nU3RhdGVzLFxuICAgIHNldFNlY3Rpb25Mb2FkaW5nU3RhdGVzLFxuICAgIFxuICAgIC8vIEZhc3QgcHJldmlldyBtb2RlXG4gICAgZmFzdFByZXZpZXdNb2RlLFxuICAgIHNldEZhc3RQcmV2aWV3TW9kZSxcbiAgICBcbiAgICAvLyBBZGRpdGlvbmFsIHRyYWNraW5nXG4gICAgY3VycmVudENhcmRJZDogY2FyZEdlbmVyYXRpb24uY3VycmVudENhcmRJZCxcbiAgICBzZXRDdXJyZW50Q2FyZElkOiBjYXJkR2VuZXJhdGlvbi5zZXRDdXJyZW50Q2FyZElkLFxuICAgIGlzSW5pdGlhbExvYWRDb21wbGV0ZSxcbiAgICBzZXRJc0luaXRpYWxMb2FkQ29tcGxldGUsXG4gICAgXG4gICAgLy8gRWxhcHNlZCB0aW1lIHRyYWNraW5nXG4gICAgZ2VuZXJhdGlvblN0YXJ0VGltZTogam9iTWFuYWdlbWVudC5nZW5lcmF0aW9uU3RhcnRUaW1lLFxuICAgIFxuICAgIC8vIENvbnN0YW50cyBmb3IgVUlcbiAgICBjYXJkVG9uZXMsXG4gICAgYXJ0aXN0aWNTdHlsZXMsXG4gICAgcGFwZXJTaXplcyxcbiAgICBcbiAgICAvLyBXZWJTb2NrZXQgZnVuY3Rpb25zIGFuZCBzdGF0ZVxuICAgIGlzU29ja2V0Q29ubmVjdGVkOiB3ZWJTb2NrZXQuaXNTb2NrZXRDb25uZWN0ZWQsXG4gICAgY29ubmVjdFdlYlNvY2tldDogd2ViU29ja2V0LmNvbm5lY3RXZWJTb2NrZXQsXG4gICAgZGlzY29ubmVjdFdlYlNvY2tldDogd2ViU29ja2V0LmRpc2Nvbm5lY3RXZWJTb2NrZXQsXG4gICAgc3Vic2NyaWJlVG9Kb2I6IHdlYlNvY2tldC5zdWJzY3JpYmVUb0pvYixcbiAgICB1bnN1YnNjcmliZUZyb21Kb2I6IHdlYlNvY2tldC51bnN1YnNjcmliZUZyb21Kb2IsXG4gICAgdW5zdWJzY3JpYmVGcm9tQWxsSm9iczogd2ViU29ja2V0LnVuc3Vic2NyaWJlRnJvbUFsbEpvYnMsXG4gICAgaGFuZGxlSm9iVXBkYXRlLFxuICAgIGhhbmRsZUZpbmFsQ2FyZENvbXBsZXRpb246IGNhcmRHZW5lcmF0aW9uLmhhbmRsZUZpbmFsQ2FyZENvbXBsZXRpb24sXG4gIH07XG59XG4iXSwibmFtZXMiOlsidXNlU3RhdGUiLCJ1c2VFZmZlY3QiLCJ1c2VDYWxsYmFjayIsInVzZVJlZiIsInRvYXN0IiwidXNlV2ViU29ja2V0IiwidXNlSm9iTWFuYWdlbWVudCIsInVzZU1lc3NhZ2VHZW5lcmF0aW9uIiwidXNlRmlsZUhhbmRsaW5nIiwidXNlRHJhZnRHZW5lcmF0aW9uIiwidXNlQ2FyZEdlbmVyYXRpb24iLCJjYXJkVG9uZXMiLCJhcnRpc3RpY1N0eWxlcyIsInBhcGVyU2l6ZXMiLCJmb3JtYXRHZW5lcmF0aW9uVGltZSIsImZvcm1hdENvdW50ZG93biIsInNlbmRUaGFua1lvdUVtYWlsIiwiY2hhdFdpdGhBSSIsInNjcm9sbFRvQ2FyZFByZXZpZXciLCJzdG9yYWdlIiwidXNlQ2FyZFN0dWRpbyIsInByb21wdCIsInNldFByb21wdCIsInRvRmllbGQiLCJzZXRUb0ZpZWxkIiwiZnJvbUZpZWxkIiwic2V0RnJvbUZpZWxkIiwicmVsYXRpb25zaGlwRmllbGQiLCJzZXRSZWxhdGlvbnNoaXBGaWVsZCIsInBlcnNvbmFsVHJhaXRzIiwic2V0UGVyc29uYWxUcmFpdHMiLCJzZWxlY3RlZFR5cGUiLCJzZXRTZWxlY3RlZFR5cGUiLCJjdXN0b21DYXJkVHlwZSIsInNldEN1c3RvbUNhcmRUeXBlIiwic2VsZWN0ZWRUb25lIiwic2V0U2VsZWN0ZWRUb25lIiwic2hvd0FkdmFuY2VkIiwic2V0U2hvd0FkdmFuY2VkIiwic2VsZWN0ZWRBcnRpc3RpY1N0eWxlIiwic2V0U2VsZWN0ZWRBcnRpc3RpY1N0eWxlIiwiY3VzdG9tU3R5bGVEZXNjcmlwdGlvbiIsInNldEN1c3RvbVN0eWxlRGVzY3JpcHRpb24iLCJzZWxlY3RlZEltYWdlTW9kZWwiLCJzZXRTZWxlY3RlZEltYWdlTW9kZWwiLCJzZWxlY3RlZERyYWZ0TW9kZWwiLCJzZXRTZWxlY3RlZERyYWZ0TW9kZWwiLCJmYXN0UHJldmlld01vZGUiLCJzZXRGYXN0UHJldmlld01vZGUiLCJ1c2VyRW1haWwiLCJzZXRVc2VyRW1haWwiLCJudW1iZXJPZkNhcmRzIiwic2V0TnVtYmVyT2ZDYXJkcyIsImlzSGFuZHdyaXR0ZW5NZXNzYWdlIiwic2V0SXNIYW5kd3JpdHRlbk1lc3NhZ2UiLCJpc0Zyb250QmFja09ubHkiLCJzZXRJc0Zyb250QmFja09ubHkiLCJzZWxlY3RlZFBhcGVyU2l6ZSIsInNldFNlbGVjdGVkUGFwZXJTaXplIiwiaXNUZXh0YXJlYUV4cGFuZGVkIiwic2V0SXNUZXh0YXJlYUV4cGFuZGVkIiwiaXNNZXNzYWdlRXhwYW5kZWQiLCJzZXRJc01lc3NhZ2VFeHBhbmRlZCIsInNob3dTZXR0aW5ncyIsInNldFNob3dTZXR0aW5ncyIsInNob3dUZW1wbGF0ZUdhbGxlcnkiLCJzZXRTaG93VGVtcGxhdGVHYWxsZXJ5Iiwic2hvd1ByaW50Q29uZmlybWF0aW9uIiwic2V0U2hvd1ByaW50Q29uZmlybWF0aW9uIiwic2hvd1RlbXBsYXRlQ3VzdG9taXphdGlvbiIsInNldFNob3dUZW1wbGF0ZUN1c3RvbWl6YXRpb24iLCJpc1Jlc3RvcmluZ0pvYnMiLCJzZXRJc1Jlc3RvcmluZ0pvYnMiLCJzZWxlY3RlZFRlbXBsYXRlIiwic2V0U2VsZWN0ZWRUZW1wbGF0ZSIsImlzSW5pdGlhbExvYWRDb21wbGV0ZSIsInNldElzSW5pdGlhbExvYWRDb21wbGV0ZSIsInRlbXBsYXRlU2VhcmNoUXVlcnkiLCJzZXRUZW1wbGF0ZVNlYXJjaFF1ZXJ5IiwiaXNTZWFyY2hpbmdUZW1wbGF0ZXMiLCJzZXRJc1NlYXJjaGluZ1RlbXBsYXRlcyIsImFpRmlsdGVyZWRDYXJkcyIsInNldEFpRmlsdGVyZWRDYXJkcyIsInNlYXJjaE1vZGUiLCJzZXRTZWFyY2hNb2RlIiwidGV4dEZpbHRlcmVkQ2FyZHMiLCJzZXRUZXh0RmlsdGVyZWRDYXJkcyIsInNob3dQcm9tcHRzIiwic2V0U2hvd1Byb21wdHMiLCJwcmludE9wdGlvbiIsInNldFByaW50T3B0aW9uIiwidGVtcGxhdGVDdXN0b21pemF0aW9ucyIsInNldFRlbXBsYXRlQ3VzdG9taXphdGlvbnMiLCJwcm9tcHRDaGFuZ2VzIiwibWVzc2FnZUNoYW5nZXMiLCJ1c2VSZWZlcmVuY2VJbWFnZSIsInJlZmVyZW5jZUltYWdlRmlsZSIsInJlZmVyZW5jZUltYWdlVXJscyIsInJlZmVyZW5jZUltYWdlVHJhbnNmb3JtYXRpb24iLCJzZWN0aW9uTG9hZGluZ1N0YXRlcyIsInNldFNlY3Rpb25Mb2FkaW5nU3RhdGVzIiwiZnJvbnRDb3ZlciIsImJhY2tDb3ZlciIsImxlZnRJbnRlcmlvciIsInJpZ2h0SW50ZXJpb3IiLCJjb3VudGRvd24iLCJzZXRDb3VudGRvd24iLCJjb3VudGRvd25JbnRlcnZhbCIsInNldENvdW50ZG93bkludGVydmFsIiwid2ViU29ja2V0Iiwiam9iTWFuYWdlbWVudCIsImZpbGVIYW5kbGluZyIsIm1lc3NhZ2VHZW5lcmF0aW9uIiwicGhvdG9SZWZlcmVuY2VzIiwiZHJhZnRHZW5lcmF0aW9uUHJvcHMiLCJmaW5hbENhcmRNZXNzYWdlIiwic2F2ZUpvYlRvU3RvcmFnZSIsInN1YnNjcmliZVRvSm9iIiwidW5zdWJzY3JpYmVGcm9tQWxsSm9icyIsInN0YXJ0RWxhcHNlZFRpbWVUcmFja2luZyIsInN0b3BFbGFwc2VkVGltZVRyYWNraW5nIiwic2V0UHJvZ3Jlc3NQZXJjZW50YWdlIiwiZHJhZnRHZW5lcmF0aW9uIiwiY2FyZEdlbmVyYXRpb25Qcm9wcyIsInJlbW92ZUpvYkZyb21TdG9yYWdlIiwic2V0Q3VycmVudEpvYklkIiwic2V0SXNEcmFmdE1vZGUiLCJzZXREcmFmdENhcmRzIiwic2V0U2VsZWN0ZWREcmFmdEluZGV4Iiwic2V0SXNHZW5lcmF0aW5nRmluYWxDYXJkIiwic2V0UHJldmlld2luZ0RyYWZ0SW5kZXgiLCJzZXREcmFmdENvbXBsZXRpb25TaG93biIsInNldERyYWZ0Q29tcGxldGlvbkNvdW50IiwiY2FyZEdlbmVyYXRpb24iLCJoYW5kbGVKb2JVcGRhdGUiLCJkYXRhIiwiam9iX2lkIiwic3RhdHVzIiwicHJvZ3Jlc3MiLCJjYXJkRGF0YSIsImVycm9yIiwiY29tcGxldGVkQXQiLCJjb25zb2xlIiwibG9nIiwiaXNEcmFmdEpvYiIsInN0YXJ0c1dpdGgiLCJkcmFmdEluZGV4IiwicGFyc2VJbnQiLCJzcGxpdCIsImlzSW5EcmFmdE1vZGUiLCJpc0RyYWZ0TW9kZSIsImlzR2VuZXJhdGluZyIsInNldElzR2VuZXJhdGluZyIsImluY2x1ZGVzIiwic2V0R2VuZXJhdGlvblByb2dyZXNzIiwibm9ybWFsaXplZENhcmREYXRhIiwibGVmdFBhZ2UiLCJsZWZ0X2ludGVyaW9yIiwibGVmdF9wYWdlIiwicmlnaHRQYWdlIiwicmlnaHRfaW50ZXJpb3IiLCJyaWdodF9wYWdlIiwiZnJvbnRfY292ZXIiLCJmcm9udCIsImJhY2tfY292ZXIiLCJiYWNrIiwiaGFzUmVxdWlyZWRGaWVsZHMiLCJ3YXJuIiwiZHJhZnRDYXJkcyIsImZpbHRlciIsIkJvb2xlYW4iLCJsZW5ndGgiLCJzdHlsZUluZm8iLCJ1bmRlZmluZWQiLCJwcmVkZWZpbmVkU3R5bGVzIiwic3R5bGVMYWJlbHMiLCJzdHlsZU5hbWUiLCJzdHlsZUxhYmVsIiwiZHJhZnRDYXJkIiwiaWQiLCJEYXRlIiwibm93IiwiY3JlYXRlZEF0IiwiZ2VuZXJhdGVkUHJvbXB0cyIsInByZXYiLCJ1cGRhdGVkIiwicHVzaCIsInVwZGF0ZWREcmFmdHMiLCJjb21wbGV0ZWRDb3VudCIsInByb2dyZXNzTXNnIiwiaXNHZW5lcmF0aW5nRmluYWxDYXJkIiwiY2xlYXJSZWNvdmVyeSIsInN1Y2Nlc3MiLCJ1bnN1YnNjcmliZUZyb21Kb2IiLCJoYXNDYXJkRGF0YSIsImNhcmREYXRhS2V5cyIsIk9iamVjdCIsImtleXMiLCJKU09OIiwic3RyaW5naWZ5IiwibWFwcGVkQ2FyZERhdGEiLCJoYW5kbGVGaW5hbENhcmRDb21wbGV0aW9uIiwiY3VycmVudEpvYlJlZiIsImN1cnJlbnQiLCJjdXJyZW50Sm9iSWQiLCJzZXRKb2JVcGRhdGVIYW5kbGVyIiwic3RhbGVKb2JMb2dnZWRSZWYiLCJpc1NvY2tldENvbm5lY3RlZCIsImdlbmVyYXRpb25TdGFydFRpbWUiLCJqb2JBZ2UiLCJqb2JJZCIsInJlY29ubmVjdFRpbWVyIiwic2V0VGltZW91dCIsImNvbm5lY3RXZWJTb2NrZXQiLCJjbGVhclRpbWVvdXQiLCJjaGVja0ludGVydmFsIiwic2V0SW50ZXJ2YWwiLCJ0aW1lU2luY2VMYXN0VXBkYXRlIiwibGFzdEpvYlVwZGF0ZVJlZiIsInByb2dyZXNzUGVyY2VudGFnZSIsIk1hdGgiLCJyb3VuZCIsInJlc3BvbnNlIiwiZmV0Y2giLCJvayIsImpvYlN0YXR1cyIsImpzb24iLCJjbGVhckludGVydmFsIiwiY2hlY2tQZW5kaW5nSm9icyIsInJlY292ZXJ5IiwiZ2V0UmVjb3ZlcnkiLCJpc1JlY292ZXJ5RHJhZnQiLCJpc0RyYWZ0IiwiaGFzQ29tcGxldGVkRHJhZnRzIiwiY2FyZCIsImdlbmVyYXRlZENhcmQiLCJpc0NhcmRDb21wbGV0ZWQiLCJmb3JtRGF0YSIsInNlbGVjdGVkRHJhZnRJbmRleCIsInNldEZpbmFsQ2FyZE1lc3NhZ2UiLCJpc0dlbmVyYXRpbmdNZXNzYWdlIiwic2V0SXNHZW5lcmF0aW5nTWVzc2FnZSIsInNldEdlbmVyYXRlZENhcmQiLCJnZW5lcmF0ZWRDYXJkcyIsInNldEdlbmVyYXRlZENhcmRzIiwic2VsZWN0ZWRDYXJkSW5kZXgiLCJzZXRTZWxlY3RlZENhcmRJbmRleCIsInByZXZpZXdpbmdEcmFmdEluZGV4IiwiZHJhZnRDb21wbGV0aW9uU2hvd24iLCJkcmFmdENvbXBsZXRpb25Db3VudCIsImdlbmVyYXRpb25Qcm9ncmVzcyIsInNldElzQ2FyZENvbXBsZXRlZCIsInJlZmVyZW5jZUltYWdlcyIsInNldFJlZmVyZW5jZUltYWdlcyIsInNldFJlZmVyZW5jZUltYWdlVXJscyIsImlzVXBsb2FkaW5nIiwic2V0SXNVcGxvYWRpbmciLCJnZW5lcmF0aW9uRHVyYXRpb24iLCJzZXRHZW5lcmF0aW9uRHVyYXRpb24iLCJjdXJyZW50RWxhcHNlZFRpbWUiLCJoYW5kbGVGaWxlVXBsb2FkIiwiaGFuZGxlUmVtb3ZlUmVmZXJlbmNlSW1hZ2UiLCJzZXRQaG90b1JlZmVyZW5jZXMiLCJ1cGRhdGVQaG90b0Rlc2NyaXB0aW9uIiwiaGFuZGxlR2V0TWVzc2FnZUhlbHAiLCJhZGRNZXNzYWdlVG9IaXN0b3J5IiwidW5kb01lc3NhZ2UiLCJyZWRvTWVzc2FnZSIsImhhbmRsZUdlbmVyYXRlRHJhZnRDYXJkcyIsImhhbmRsZUdlbmVyYXRlRmluYWxGcm9tRHJhZnQiLCJtZXNzYWdlSGlzdG9yeSIsInNldE1lc3NhZ2VIaXN0b3J5IiwiY3VycmVudE1lc3NhZ2VJbmRleCIsInNldEN1cnJlbnRNZXNzYWdlSW5kZXgiLCJyZWZpbmVtZW50UHJvbXB0Iiwic2V0UmVmaW5lbWVudFByb21wdCIsImlzUmVmaW5pbmdNZXNzYWdlIiwic2V0SXNSZWZpbmluZ01lc3NhZ2UiLCJzaG93UmVmaW5lbWVudEJveCIsInNldFNob3dSZWZpbmVtZW50Qm94IiwiaGFuZHdyaXRpbmdTYW1wbGUiLCJzZXRIYW5kd3JpdGluZ1NhbXBsZSIsImhhbmR3cml0aW5nU2FtcGxlVXJsIiwic2V0SGFuZHdyaXRpbmdTYW1wbGVVcmwiLCJjdXJyZW50Q2FyZElkIiwic2V0Q3VycmVudENhcmRJZCIsImRpc2Nvbm5lY3RXZWJTb2NrZXQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./hooks/useCardStudioRefactored.ts\n"));

/***/ })

});