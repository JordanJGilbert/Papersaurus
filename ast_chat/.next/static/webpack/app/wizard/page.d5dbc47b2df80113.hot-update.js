"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/wizard/page",{

/***/ "(app-pages-browser)/./hooks/cardStudio/useDraftGeneration.ts":
/*!************************************************!*\
  !*** ./hooks/cardStudio/useDraftGeneration.ts ***!
  \************************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useDraftGeneration: function() { return /* binding */ useDraftGeneration; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var sonner__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! sonner */ \"(app-pages-browser)/./node_modules/sonner/dist/index.mjs\");\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! uuid */ \"(app-pages-browser)/./node_modules/uuid/dist/esm-browser/v4.js\");\n/* harmony import */ var _lib_promptGenerator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/promptGenerator */ \"(app-pages-browser)/./lib/promptGenerator.ts\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./constants */ \"(app-pages-browser)/./hooks/cardStudio/constants.ts\");\n/* __next_internal_client_entry_do_not_use__ useDraftGeneration auto */ \n\n\n\n\nfunction useDraftGeneration(props) {\n    // Draft mode state\n    const [isDraftMode, setIsDraftMode] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [draftCards, setDraftCards] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]);\n    const [selectedDraftIndex, setSelectedDraftIndex] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(-1);\n    const [isGeneratingFinalCard, setIsGeneratingFinalCard] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [previewingDraftIndex, setPreviewingDraftIndex] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(-1);\n    const [draftCompletionShown, setDraftCompletionShown] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [draftCompletionCount, setDraftCompletionCount] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(0);\n    const [isGenerating, setIsGenerating] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [generationProgress, setGenerationProgress] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(\"\");\n    const [generatedCard, setGeneratedCard] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [generatedCards, setGeneratedCards] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]);\n    const [isCardCompleted, setIsCardCompleted] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [currentJobId, setCurrentJobId] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    // Draft mode generation - creates 5 front cover variations\n    const handleGenerateDraftCards = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(async ()=>{\n        const { userEmail, selectedArtisticStyle, customStyleDescription, referenceImageUrls, selectedDraftModel, selectedType, customCardType, selectedTone, prompt, personalTraits, toField, fromField, selectedPaperSize, finalCardMessage, isHandwrittenMessage, isFrontBackOnly, saveJobToStorage, subscribeToJob, startElapsedTimeTracking } = props;\n        if (!userEmail.trim()) {\n            sonner__WEBPACK_IMPORTED_MODULE_1__.toast.error(\"Please enter your email address\");\n            return;\n        }\n        // Basic email validation\n        const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n        if (!emailRegex.test(userEmail)) {\n            sonner__WEBPACK_IMPORTED_MODULE_1__.toast.error(\"Please enter a valid email address\");\n            return;\n        }\n        // Validate custom style if selected\n        if (selectedArtisticStyle === \"custom\" && !customStyleDescription.trim()) {\n            sonner__WEBPACK_IMPORTED_MODULE_1__.toast.error(\"Please describe your custom artistic style\");\n            return;\n        }\n        // Validate reference images with model compatibility\n        if (referenceImageUrls.length > 0 && selectedDraftModel !== \"gpt-image-1\") {\n            sonner__WEBPACK_IMPORTED_MODULE_1__.toast.error(\"Reference photos are only supported with GPT Image 1 model. Please switch to GPT Image 1 for draft mode or remove reference photos.\");\n            return;\n        }\n        // Stop any existing timers first\n        props.stopElapsedTimeTracking();\n        // Clear ALL WebSocket subscriptions before starting\n        if (props.unsubscribeFromAllJobs) {\n            props.unsubscribeFromAllJobs();\n        }\n        // No longer need to clear old draft jobs - storage manager handles this automatically\n        setIsDraftMode(true);\n        setIsGenerating(true);\n        startElapsedTimeTracking(\"draft\");\n        setGenerationProgress(\"\\uD83C\\uDFA8 Creating 5 front cover variations for you to choose from...\");\n        setDraftCards([\n            null,\n            null,\n            null,\n            null,\n            null\n        ]); // Initialize with 5 empty slots\n        setSelectedDraftIndex(-1);\n        setDraftCompletionShown(false);\n        setDraftCompletionCount(0);\n        // Clear any previous card state\n        setGeneratedCard(null);\n        setGeneratedCards([]);\n        setIsCardCompleted(false);\n        // Clear saved final card from localStorage when starting new generation\n        localStorage.removeItem(\"vibe-final-card\");\n        console.log(\"\\uD83E\\uDDF9 Cleared saved final card\");\n        try {\n            console.log(\"\\uD83D\\uDE80 Starting draft mode generation with 5 variations\");\n            const cardTypeForPrompt = selectedType === \"custom\" ? customCardType : selectedType;\n            const selectedToneObj = _constants__WEBPACK_IMPORTED_MODULE_3__.cardTones.find((tone)=>tone.id === selectedTone);\n            const toneDescription = selectedToneObj ? selectedToneObj.description.toLowerCase() : \"heartfelt and sincere\";\n            // Use prompt if provided, otherwise create a simple default\n            let effectivePrompt = prompt.trim();\n            if (!effectivePrompt) {\n                effectivePrompt = \"A beautiful \".concat(cardTypeForPrompt, \" card with \").concat(toneDescription, \" style\");\n            }\n            // Generate 5 draft variations\n            const draftPromises = Array.from({\n                length: 5\n            }, async (_, index)=>{\n                try {\n                    var _paperSizes_find, _paperSizes_find1;\n                    console.log(\"\\uD83C\\uDFA8 Starting draft variation \".concat(index + 1));\n                    // Validate required props\n                    if (!selectedDraftModel) {\n                        throw new Error(\"selectedDraftModel is required but not provided\");\n                    }\n                    if (!selectedPaperSize) {\n                        throw new Error(\"selectedPaperSize is required but not provided\");\n                    }\n                    if (!userEmail) {\n                        throw new Error(\"userEmail is required but not provided\");\n                    }\n                    // For smart style, use predefined styles\n                    let styleOverride = undefined;\n                    let styleLabel = undefined;\n                    if (selectedArtisticStyle === \"ai-smart-style\") {\n                        const predefinedStyles = [\n                            \"watercolor\",\n                            \"botanical\",\n                            \"comic-book\",\n                            \"dreamy-fantasy\",\n                            \"minimalist\"\n                        ];\n                        const styleLabels = [\n                            \"\\uD83C\\uDFA8 Watercolor\",\n                            \"\\uD83C\\uDF3F Botanical\",\n                            \"\\uD83D\\uDCA5 Comic Book\",\n                            \"\\uD83C\\uDF38 Dreamy Fantasy\",\n                            \"✨ Minimalist\"\n                        ];\n                        styleOverride = predefinedStyles[index];\n                        styleLabel = styleLabels[index];\n                    }\n                    // Generate only front cover prompt for draft\n                    const selectedStyle = _constants__WEBPACK_IMPORTED_MODULE_3__.artisticStyles.find((style)=>style.id === (styleOverride || selectedArtisticStyle));\n                    // Use draft prompt generation config for front cover only\n                    const draftConfig = {\n                        cardType: selectedType,\n                        customCardType: customCardType,\n                        tone: selectedTone,\n                        toneLabel: selectedToneObj ? selectedToneObj.label : \"Heartfelt\",\n                        toneDescription: toneDescription,\n                        theme: effectivePrompt,\n                        toField: toField,\n                        fromField: fromField,\n                        relationshipField: props.relationshipField,\n                        personalTraits: props.personalTraits,\n                        artisticStyle: selectedStyle,\n                        referenceImageUrls: referenceImageUrls,\n                        photoReferences: props.photoReferences,\n                        isDraftVariation: selectedArtisticStyle === \"ai-smart-style\",\n                        variationIndex: index\n                    };\n                    // Generate creative front cover prompt using AI\n                    const frontCoverPrompt = await _lib_promptGenerator__WEBPACK_IMPORTED_MODULE_2__.PromptGenerator.generateCreativeDraftPrompt(draftConfig);\n                    if (!(frontCoverPrompt === null || frontCoverPrompt === void 0 ? void 0 : frontCoverPrompt.trim())) {\n                        throw new Error(\"Failed to generate front cover prompt\");\n                    }\n                    // Generate the images\n                    const jobId = \"draft-\".concat(index, \"-\").concat((0,uuid__WEBPACK_IMPORTED_MODULE_4__[\"default\"])());\n                    const inputImages = [];\n                    if (referenceImageUrls.length > 0 && selectedDraftModel === \"gpt-image-1\") {\n                        inputImages.push(...referenceImageUrls);\n                    }\n                    // Log the request payload for debugging\n                    const requestPayload = {\n                        jobId,\n                        prompts: {\n                            frontCover: frontCoverPrompt\n                        },\n                        config: {\n                            userNumber: \"+17145986105\",\n                            modelVersion: selectedDraftModel,\n                            aspectRatio: ((_paperSizes_find = _constants__WEBPACK_IMPORTED_MODULE_3__.paperSizes.find((size)=>size.id === selectedPaperSize)) === null || _paperSizes_find === void 0 ? void 0 : _paperSizes_find.aspectRatio) || \"9:16\",\n                            quality: \"medium\",\n                            outputFormat: \"jpeg\",\n                            outputCompression: 100,\n                            moderation: \"low\",\n                            dimensions: ((_paperSizes_find1 = _constants__WEBPACK_IMPORTED_MODULE_3__.paperSizes.find((size)=>size.id === selectedPaperSize)) === null || _paperSizes_find1 === void 0 ? void 0 : _paperSizes_find1.dimensions) || \"1024x1536\",\n                            isFrontBackOnly: true,\n                            userEmail,\n                            cardType: cardTypeForPrompt,\n                            toField,\n                            fromField,\n                            isDraftMode: true,\n                            ...inputImages.length > 0 && {\n                                input_images: inputImages,\n                                input_images_mode: \"front_cover_only\"\n                            }\n                        }\n                    };\n                    console.log(\"\\uD83D\\uDCE6 Draft \".concat(index + 1, \" request payload:\"), {\n                        jobId,\n                        promptsExist: !!frontCoverPrompt,\n                        promptKeys: [\n                            \"frontCover\"\n                        ],\n                        modelVersion: selectedDraftModel,\n                        paperSize: selectedPaperSize,\n                        email: userEmail\n                    });\n                    const response = await fetch(\"/api/generate-card-async\", {\n                        method: \"POST\",\n                        headers: {\n                            \"Content-Type\": \"application/json\"\n                        },\n                        body: JSON.stringify(requestPayload)\n                    });\n                    if (!response.ok) {\n                        const errorText = await response.text();\n                        console.error(\"Server error response for draft \".concat(index + 1, \":\"), errorText);\n                        throw new Error(\"Server error: \".concat(response.status, \" - \").concat(errorText));\n                    }\n                    const result = await response.json();\n                    if (result.status !== \"processing\") {\n                        throw new Error(result.message || \"Failed to start draft generation\");\n                    }\n                    console.log(\"✅ Draft variation \".concat(index + 1, \" job started:\"), jobId);\n                    // Save draft job to storage for recovery\n                    saveJobToStorage(jobId, {\n                        isDraft: true,\n                        draftIndex: index,\n                        styleInfo: styleOverride ? {\n                            styleName: styleOverride,\n                            styleLabel: styleLabel\n                        } : undefined,\n                        frontCoverPrompt: frontCoverPrompt,\n                        generatedPrompts: {\n                            frontCover: frontCoverPrompt\n                        },\n                        userEmail,\n                        selectedType,\n                        selectedTone,\n                        toField,\n                        fromField,\n                        draftCards: [] // Will be updated as drafts complete\n                    });\n                    // Subscribe to WebSocket updates\n                    subscribeToJob(jobId);\n                } catch (error) {\n                    console.error(\"❌ Draft variation \".concat(index + 1, \" failed:\"), error);\n                    console.error(\"Full error details:\", {\n                        message: error instanceof Error ? error.message : \"Unknown error\",\n                        stack: error instanceof Error ? error.stack : \"No stack trace\",\n                        error: error\n                    });\n                    sonner__WEBPACK_IMPORTED_MODULE_1__.toast.error(\"Draft variation \".concat(index + 1, \" failed: \").concat(error instanceof Error ? error.message : \"Unknown error\"));\n                }\n            });\n            // Wait for all draft generations to start\n            await Promise.allSettled(draftPromises);\n            console.log(\"\\uD83D\\uDE80 All draft variations started\");\n        } catch (error) {\n            console.error(\"Draft card generation error:\", error);\n            sonner__WEBPACK_IMPORTED_MODULE_1__.toast.error(\"Failed to start draft generation: \".concat(error instanceof Error ? error.message : \"Unknown error\"));\n            setIsGenerating(false);\n            setIsDraftMode(false);\n            setDraftCompletionShown(false);\n            setDraftCompletionCount(0);\n            setGenerationProgress(\"\");\n            props.stopElapsedTimeTracking();\n        }\n    }, [\n        props\n    ]);\n    // Generate final high-quality card from selected draft\n    const handleGenerateFinalFromDraft = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(async (displayIndex)=>{\n        // Prevent duplicate calls\n        if (isGeneratingFinalCard) {\n            console.log(\"⚠️ Final card generation already in progress, skipping duplicate call\");\n            return;\n        }\n        const selectedDraft = draftCards[displayIndex];\n        if (!selectedDraft) {\n            sonner__WEBPACK_IMPORTED_MODULE_1__.toast.error(\"Please wait for the draft to complete before selecting\");\n            return;\n        }\n        const { selectedType, customCardType, selectedTone, prompt, personalTraits, toField, fromField, finalCardMessage, isHandwrittenMessage, selectedArtisticStyle, customStyleDescription, isFrontBackOnly, selectedImageModel, selectedPaperSize, userEmail, referenceImageUrls, startElapsedTimeTracking, subscribeToJob } = props;\n        // Stop any existing timers first\n        props.stopElapsedTimeTracking();\n        setIsGeneratingFinalCard(true);\n        setIsDraftMode(false); // Switch out of draft mode for final generation\n        setSelectedDraftIndex(displayIndex);\n        // Reset progress percentage to 0 when starting final generation\n        if (props.setProgressPercentage) {\n            props.setProgressPercentage(0);\n        }\n        startElapsedTimeTracking(\"final\");\n        setGenerationProgress(\"\\uD83C\\uDFA8 Creating the complete card based on your selected front cover...\");\n        try {\n            var _selectedDraft_generatedPrompts, _paperSizes_find, _paperSizes_find1;\n            const jobId = (0,uuid__WEBPACK_IMPORTED_MODULE_4__[\"default\"])();\n            // Generate the missing prompts\n            const storedFrontCoverPrompt = (_selectedDraft_generatedPrompts = selectedDraft.generatedPrompts) === null || _selectedDraft_generatedPrompts === void 0 ? void 0 : _selectedDraft_generatedPrompts.frontCover;\n            if (!storedFrontCoverPrompt) {\n                throw new Error(\"Selected draft is missing frontCover prompt\");\n            }\n            const cardTypeForPrompt = selectedType === \"custom\" ? customCardType : selectedType;\n            const selectedToneObj = _constants__WEBPACK_IMPORTED_MODULE_3__.cardTones.find((tone)=>tone.id === selectedTone);\n            const toneDescription = selectedToneObj ? selectedToneObj.description.toLowerCase() : \"heartfelt and sincere\";\n            const effectivePrompt = prompt.trim() || \"A beautiful \".concat(cardTypeForPrompt, \" card with \").concat(toneDescription, \" style\");\n            let messageContent = finalCardMessage;\n            if (isHandwrittenMessage) {\n                messageContent = \"[Blank space for handwritten message]\";\n            }\n            // Get style from the selected draft\n            const draftStyleInfo = selectedDraft.styleInfo;\n            let selectedStyle;\n            if (draftStyleInfo && draftStyleInfo.styleName) {\n                selectedStyle = _constants__WEBPACK_IMPORTED_MODULE_3__.artisticStyles.find((style)=>style.id === draftStyleInfo.styleName);\n            } else {\n                selectedStyle = _constants__WEBPACK_IMPORTED_MODULE_3__.artisticStyles.find((style)=>style.id === selectedArtisticStyle);\n            }\n            // Use PromptGenerator for final card from draft\n            const finalFromDraftConfig = {\n                frontCoverPrompt: storedFrontCoverPrompt,\n                cardType: selectedType,\n                customCardType: customCardType,\n                theme: effectivePrompt,\n                tone: selectedTone,\n                toneDescription: toneDescription,\n                toField: toField,\n                fromField: fromField,\n                relationshipField: props.relationshipField,\n                personalTraits: props.personalTraits,\n                photoReferences: props.photoReferences,\n                message: messageContent,\n                isHandwrittenMessage: isHandwrittenMessage,\n                artisticStyle: selectedStyle,\n                isFrontBackOnly: isFrontBackOnly\n            };\n            const finalPrompts = await _lib_promptGenerator__WEBPACK_IMPORTED_MODULE_2__.PromptGenerator.generateFinalFromDraftPromptsCombined(finalFromDraftConfig);\n            if (!finalPrompts || !finalPrompts.frontCover || !finalPrompts.backCover) {\n                throw new Error(\"Failed to generate complete prompts for final card\");\n            }\n            // Prepare input images for final generation\n            const inputImages = [];\n            // Add the selected draft's front cover as a reference image for the final front cover\n            if (selectedDraft.frontCover) {\n                inputImages.push(selectedDraft.frontCover);\n                console.log(\"\\uD83D\\uDDBC️ Adding draft front cover as reference for final front cover generation\");\n            }\n            // Also include any user-uploaded reference images\n            if (referenceImageUrls.length > 0 && selectedImageModel === \"gpt-image-1\") {\n                inputImages.push(...referenceImageUrls);\n            }\n            const response = await fetch(\"/api/generate-card-async\", {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                    jobId,\n                    prompts: finalPrompts,\n                    config: {\n                        userNumber: \"+17145986105\",\n                        modelVersion: selectedImageModel,\n                        aspectRatio: ((_paperSizes_find = _constants__WEBPACK_IMPORTED_MODULE_3__.paperSizes.find((size)=>size.id === selectedPaperSize)) === null || _paperSizes_find === void 0 ? void 0 : _paperSizes_find.aspectRatio) || \"9:16\",\n                        quality: \"high\",\n                        outputFormat: \"jpeg\",\n                        outputCompression: 100,\n                        moderation: \"low\",\n                        dimensions: ((_paperSizes_find1 = _constants__WEBPACK_IMPORTED_MODULE_3__.paperSizes.find((size)=>size.id === selectedPaperSize)) === null || _paperSizes_find1 === void 0 ? void 0 : _paperSizes_find1.dimensions) || \"1024x1536\",\n                        isFrontBackOnly,\n                        userEmail,\n                        cardType: selectedType === \"custom\" ? customCardType : selectedType,\n                        toField,\n                        fromField,\n                        isDraftMode: false,\n                        ...inputImages.length > 0 && {\n                            input_images: inputImages,\n                            input_images_mode: \"front_cover_only\" // Use images as reference for front cover only\n                        }\n                    }\n                })\n            });\n            if (!response.ok) {\n                throw new Error(\"Server error: \".concat(response.status));\n            }\n            const result = await response.json();\n            if (result.status !== \"processing\") {\n                throw new Error(result.message || \"Failed to start final card generation\");\n            }\n            setCurrentJobId(jobId);\n            // Save job data for recovery\n            const jobData = {\n                jobId,\n                selectedDraftIndex: displayIndex,\n                cardType: selectedType,\n                customCardType,\n                tone: selectedTone,\n                prompt,\n                personalTraits,\n                toField,\n                fromField,\n                finalCardMessage,\n                isHandwrittenMessage,\n                selectedArtisticStyle,\n                isFrontBackOnly,\n                selectedPaperSize,\n                userEmail,\n                referenceImageUrls\n            };\n            props.saveJobToStorage(jobId, jobData);\n            sonner__WEBPACK_IMPORTED_MODULE_1__.toast.success(\"\\uD83C\\uDFA8 Generating high-quality version of your selected design!\");\n            // Subscribe to WebSocket updates\n            subscribeToJob(jobId);\n        } catch (error) {\n            console.error(\"Final card generation error:\", error);\n            sonner__WEBPACK_IMPORTED_MODULE_1__.toast.error(\"Failed to generate final card. Please try again.\");\n            setIsGeneratingFinalCard(false);\n            setGenerationProgress(\"\");\n            props.stopElapsedTimeTracking(); // Clear time-based progress on error\n        }\n    }, [\n        draftCards,\n        isGeneratingFinalCard,\n        props\n    ]);\n    return {\n        isDraftMode,\n        setIsDraftMode,\n        draftCards,\n        setDraftCards,\n        selectedDraftIndex,\n        setSelectedDraftIndex,\n        isGeneratingFinalCard,\n        setIsGeneratingFinalCard,\n        previewingDraftIndex,\n        setPreviewingDraftIndex,\n        draftCompletionShown,\n        setDraftCompletionShown,\n        draftCompletionCount,\n        setDraftCompletionCount,\n        handleGenerateDraftCards,\n        handleGenerateFinalFromDraft,\n        isGenerating,\n        setIsGenerating,\n        generationProgress,\n        setGenerationProgress,\n        generatedCard,\n        setGeneratedCard,\n        generatedCards,\n        setGeneratedCards,\n        isCardCompleted,\n        setIsCardCompleted,\n        currentJobId,\n        setCurrentJobId\n    };\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2hvb2tzL2NhcmRTdHVkaW8vdXNlRHJhZnRHZW5lcmF0aW9uLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7d0VBRThDO0FBQ2Y7QUFDSztBQUNtRTtBQUNKO0FBaUM1RixTQUFTUyxtQkFBbUJDLEtBQTJCO0lBQzVELG1CQUFtQjtJQUNuQixNQUFNLENBQUNDLGFBQWFDLGVBQWUsR0FBR1osK0NBQVFBLENBQVU7SUFDeEQsTUFBTSxDQUFDYSxZQUFZQyxjQUFjLEdBQUdkLCtDQUFRQSxDQUEyQixFQUFFO0lBQ3pFLE1BQU0sQ0FBQ2Usb0JBQW9CQyxzQkFBc0IsR0FBR2hCLCtDQUFRQSxDQUFTLENBQUM7SUFDdEUsTUFBTSxDQUFDaUIsdUJBQXVCQyx5QkFBeUIsR0FBR2xCLCtDQUFRQSxDQUFVO0lBQzVFLE1BQU0sQ0FBQ21CLHNCQUFzQkMsd0JBQXdCLEdBQUdwQiwrQ0FBUUEsQ0FBUyxDQUFDO0lBQzFFLE1BQU0sQ0FBQ3FCLHNCQUFzQkMsd0JBQXdCLEdBQUd0QiwrQ0FBUUEsQ0FBVTtJQUMxRSxNQUFNLENBQUN1QixzQkFBc0JDLHdCQUF3QixHQUFHeEIsK0NBQVFBLENBQVM7SUFDekUsTUFBTSxDQUFDeUIsY0FBY0MsZ0JBQWdCLEdBQUcxQiwrQ0FBUUEsQ0FBQztJQUNqRCxNQUFNLENBQUMyQixvQkFBb0JDLHNCQUFzQixHQUFHNUIsK0NBQVFBLENBQUM7SUFDN0QsTUFBTSxDQUFDNkIsZUFBZUMsaUJBQWlCLEdBQUc5QiwrQ0FBUUEsQ0FBdUI7SUFDekUsTUFBTSxDQUFDK0IsZ0JBQWdCQyxrQkFBa0IsR0FBR2hDLCtDQUFRQSxDQUFrQixFQUFFO0lBQ3hFLE1BQU0sQ0FBQ2lDLGlCQUFpQkMsbUJBQW1CLEdBQUdsQywrQ0FBUUEsQ0FBQztJQUN2RCxNQUFNLENBQUNtQyxjQUFjQyxnQkFBZ0IsR0FBR3BDLCtDQUFRQSxDQUFnQjtJQUVoRSwyREFBMkQ7SUFDM0QsTUFBTXFDLDJCQUEyQnBDLGtEQUFXQSxDQUFD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QztnQkFDQUU7Z0JBQ0FDO2dCQUNBYjtnQkFDQWM7Z0JBQ0FIO2dCQUNBWjtnQkFDQUc7WUFDRjtZQUNBL0IsTUFBTTRDLGdCQUFnQixDQUFDZ0QsT0FBT3dEO1lBRTlCNUoseUNBQUtBLENBQUM2SixPQUFPLENBQUM7WUFFZCxpQ0FBaUM7WUFDakN4RyxlQUFlK0M7UUFFakIsRUFBRSxPQUFPNUMsT0FBTztZQUNkUSxRQUFRUixLQUFLLENBQUMsZ0NBQWdDQTtZQUM5Q3hELHlDQUFLQSxDQUFDd0QsS0FBSyxDQUFDO1lBQ1p4Qyx5QkFBeUI7WUFDekJVLHNCQUFzQjtZQUN0QmxCLE1BQU1vRCx1QkFBdUIsSUFBSSxxQ0FBcUM7UUFDeEU7SUFDRixHQUFHO1FBQUNqRDtRQUFZSTtRQUF1QlA7S0FBTTtJQUU3QyxPQUFPO1FBQ0xDO1FBQ0FDO1FBQ0FDO1FBQ0FDO1FBQ0FDO1FBQ0FDO1FBQ0FDO1FBQ0FDO1FBQ0FDO1FBQ0FDO1FBQ0FDO1FBQ0FDO1FBQ0FDO1FBQ0FDO1FBQ0FhO1FBQ0E2RztRQUNBekg7UUFDQUM7UUFDQUM7UUFDQUM7UUFDQUM7UUFDQUM7UUFDQUM7UUFDQUM7UUFDQUM7UUFDQUM7UUFDQUM7UUFDQUM7SUFDRjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL2hvb2tzL2NhcmRTdHVkaW8vdXNlRHJhZnRHZW5lcmF0aW9uLnRzPzRjNDciXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2UgY2xpZW50XCI7XG5cbmltcG9ydCB7IHVzZVN0YXRlLCB1c2VDYWxsYmFjayB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgdG9hc3QgfSBmcm9tIFwic29ubmVyXCI7XG5pbXBvcnQgeyB2NCBhcyB1dWlkdjQgfSBmcm9tICd1dWlkJztcbmltcG9ydCB7IFByb21wdEdlbmVyYXRvciwgRHJhZnRDb25maWcsIEZpbmFsRnJvbURyYWZ0Q29uZmlnLCBDYXJkQ29uZmlnIH0gZnJvbSAnQC9saWIvcHJvbXB0R2VuZXJhdG9yJztcbmltcG9ydCB7IEdlbmVyYXRlZENhcmQsIGFydGlzdGljU3R5bGVzLCBwYXBlclNpemVzLCBjYXJkVG9uZXMsIFBob3RvUmVmZXJlbmNlIH0gZnJvbSAnLi9jb25zdGFudHMnO1xuaW1wb3J0IHsgY2hhdFdpdGhBSSB9IGZyb20gJy4vdXRpbHMnO1xuXG5pbnRlcmZhY2UgRHJhZnRHZW5lcmF0aW9uUHJvcHMge1xuICAvLyBGb3JtIGRhdGFcbiAgc2VsZWN0ZWRUeXBlOiBzdHJpbmc7XG4gIGN1c3RvbUNhcmRUeXBlOiBzdHJpbmc7XG4gIHNlbGVjdGVkVG9uZTogc3RyaW5nO1xuICBzZWxlY3RlZEFydGlzdGljU3R5bGU6IHN0cmluZztcbiAgY3VzdG9tU3R5bGVEZXNjcmlwdGlvbjogc3RyaW5nO1xuICBzZWxlY3RlZERyYWZ0TW9kZWw6IHN0cmluZztcbiAgc2VsZWN0ZWRJbWFnZU1vZGVsOiBzdHJpbmc7XG4gIHNlbGVjdGVkUGFwZXJTaXplOiBzdHJpbmc7XG4gIHByb21wdDogc3RyaW5nO1xuICBwZXJzb25hbFRyYWl0cz86IHN0cmluZztcbiAgdG9GaWVsZDogc3RyaW5nO1xuICBmcm9tRmllbGQ6IHN0cmluZztcbiAgcmVsYXRpb25zaGlwRmllbGQ6IHN0cmluZztcbiAgdXNlckVtYWlsOiBzdHJpbmc7XG4gIGZpbmFsQ2FyZE1lc3NhZ2U6IHN0cmluZztcbiAgaXNIYW5kd3JpdHRlbk1lc3NhZ2U6IGJvb2xlYW47XG4gIGlzRnJvbnRCYWNrT25seTogYm9vbGVhbjtcbiAgcmVmZXJlbmNlSW1hZ2VVcmxzOiBzdHJpbmdbXTtcbiAgcGhvdG9SZWZlcmVuY2VzPzogUGhvdG9SZWZlcmVuY2VbXTtcbiAgXG4gIC8vIEpvYiBtYW5hZ2VtZW50XG4gIHNhdmVKb2JUb1N0b3JhZ2U6IChqb2JJZDogc3RyaW5nLCBqb2JEYXRhOiBhbnkpID0+IHZvaWQ7XG4gIHN1YnNjcmliZVRvSm9iOiAoam9iSWQ6IHN0cmluZykgPT4gdm9pZDtcbiAgdW5zdWJzY3JpYmVGcm9tQWxsSm9icz86ICgpID0+IHZvaWQ7XG4gIHN0YXJ0RWxhcHNlZFRpbWVUcmFja2luZzogKGpvYlR5cGU/OiAnZHJhZnQnIHwgJ2ZpbmFsJykgPT4gdm9pZDtcbiAgc3RvcEVsYXBzZWRUaW1lVHJhY2tpbmc6ICgpID0+IHZvaWQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1c2VEcmFmdEdlbmVyYXRpb24ocHJvcHM6IERyYWZ0R2VuZXJhdGlvblByb3BzKSB7XG4gIC8vIERyYWZ0IG1vZGUgc3RhdGVcbiAgY29uc3QgW2lzRHJhZnRNb2RlLCBzZXRJc0RyYWZ0TW9kZV0gPSB1c2VTdGF0ZTxib29sZWFuPihmYWxzZSk7XG4gIGNvbnN0IFtkcmFmdENhcmRzLCBzZXREcmFmdENhcmRzXSA9IHVzZVN0YXRlPChHZW5lcmF0ZWRDYXJkIHwgbnVsbClbXT4oW10pO1xuICBjb25zdCBbc2VsZWN0ZWREcmFmdEluZGV4LCBzZXRTZWxlY3RlZERyYWZ0SW5kZXhdID0gdXNlU3RhdGU8bnVtYmVyPigtMSk7XG4gIGNvbnN0IFtpc0dlbmVyYXRpbmdGaW5hbENhcmQsIHNldElzR2VuZXJhdGluZ0ZpbmFsQ2FyZF0gPSB1c2VTdGF0ZTxib29sZWFuPihmYWxzZSk7XG4gIGNvbnN0IFtwcmV2aWV3aW5nRHJhZnRJbmRleCwgc2V0UHJldmlld2luZ0RyYWZ0SW5kZXhdID0gdXNlU3RhdGU8bnVtYmVyPigtMSk7XG4gIGNvbnN0IFtkcmFmdENvbXBsZXRpb25TaG93biwgc2V0RHJhZnRDb21wbGV0aW9uU2hvd25dID0gdXNlU3RhdGU8Ym9vbGVhbj4oZmFsc2UpO1xuICBjb25zdCBbZHJhZnRDb21wbGV0aW9uQ291bnQsIHNldERyYWZ0Q29tcGxldGlvbkNvdW50XSA9IHVzZVN0YXRlPG51bWJlcj4oMCk7XG4gIGNvbnN0IFtpc0dlbmVyYXRpbmcsIHNldElzR2VuZXJhdGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtnZW5lcmF0aW9uUHJvZ3Jlc3MsIHNldEdlbmVyYXRpb25Qcm9ncmVzc10gPSB1c2VTdGF0ZShcIlwiKTtcbiAgY29uc3QgW2dlbmVyYXRlZENhcmQsIHNldEdlbmVyYXRlZENhcmRdID0gdXNlU3RhdGU8R2VuZXJhdGVkQ2FyZCB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbZ2VuZXJhdGVkQ2FyZHMsIHNldEdlbmVyYXRlZENhcmRzXSA9IHVzZVN0YXRlPEdlbmVyYXRlZENhcmRbXT4oW10pO1xuICBjb25zdCBbaXNDYXJkQ29tcGxldGVkLCBzZXRJc0NhcmRDb21wbGV0ZWRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbY3VycmVudEpvYklkLCBzZXRDdXJyZW50Sm9iSWRdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG5cbiAgLy8gRHJhZnQgbW9kZSBnZW5lcmF0aW9uIC0gY3JlYXRlcyA1IGZyb250IGNvdmVyIHZhcmlhdGlvbnNcbiAgY29uc3QgaGFuZGxlR2VuZXJhdGVEcmFmdENhcmRzID0gdXNlQ2FsbGJhY2soYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IHtcbiAgICAgIHVzZXJFbWFpbCxcbiAgICAgIHNlbGVjdGVkQXJ0aXN0aWNTdHlsZSxcbiAgICAgIGN1c3RvbVN0eWxlRGVzY3JpcHRpb24sXG4gICAgICByZWZlcmVuY2VJbWFnZVVybHMsXG4gICAgICBzZWxlY3RlZERyYWZ0TW9kZWwsXG4gICAgICBzZWxlY3RlZFR5cGUsXG4gICAgICBjdXN0b21DYXJkVHlwZSxcbiAgICAgIHNlbGVjdGVkVG9uZSxcbiAgICAgIHByb21wdCxcbiAgICAgIHBlcnNvbmFsVHJhaXRzLFxuICAgICAgdG9GaWVsZCxcbiAgICAgIGZyb21GaWVsZCxcbiAgICAgIHNlbGVjdGVkUGFwZXJTaXplLFxuICAgICAgZmluYWxDYXJkTWVzc2FnZSxcbiAgICAgIGlzSGFuZHdyaXR0ZW5NZXNzYWdlLFxuICAgICAgaXNGcm9udEJhY2tPbmx5LFxuICAgICAgc2F2ZUpvYlRvU3RvcmFnZSxcbiAgICAgIHN1YnNjcmliZVRvSm9iLFxuICAgICAgc3RhcnRFbGFwc2VkVGltZVRyYWNraW5nXG4gICAgfSA9IHByb3BzO1xuXG4gICAgaWYgKCF1c2VyRW1haWwudHJpbSgpKSB7XG4gICAgICB0b2FzdC5lcnJvcihcIlBsZWFzZSBlbnRlciB5b3VyIGVtYWlsIGFkZHJlc3NcIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gQmFzaWMgZW1haWwgdmFsaWRhdGlvblxuICAgIGNvbnN0IGVtYWlsUmVnZXggPSAvXlteXFxzQF0rQFteXFxzQF0rXFwuW15cXHNAXSskLztcbiAgICBpZiAoIWVtYWlsUmVnZXgudGVzdCh1c2VyRW1haWwpKSB7XG4gICAgICB0b2FzdC5lcnJvcihcIlBsZWFzZSBlbnRlciBhIHZhbGlkIGVtYWlsIGFkZHJlc3NcIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gVmFsaWRhdGUgY3VzdG9tIHN0eWxlIGlmIHNlbGVjdGVkXG4gICAgaWYgKHNlbGVjdGVkQXJ0aXN0aWNTdHlsZSA9PT0gXCJjdXN0b21cIiAmJiAhY3VzdG9tU3R5bGVEZXNjcmlwdGlvbi50cmltKCkpIHtcbiAgICAgIHRvYXN0LmVycm9yKFwiUGxlYXNlIGRlc2NyaWJlIHlvdXIgY3VzdG9tIGFydGlzdGljIHN0eWxlXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIFZhbGlkYXRlIHJlZmVyZW5jZSBpbWFnZXMgd2l0aCBtb2RlbCBjb21wYXRpYmlsaXR5XG4gICAgaWYgKHJlZmVyZW5jZUltYWdlVXJscy5sZW5ndGggPiAwICYmIHNlbGVjdGVkRHJhZnRNb2RlbCAhPT0gXCJncHQtaW1hZ2UtMVwiKSB7XG4gICAgICB0b2FzdC5lcnJvcihcIlJlZmVyZW5jZSBwaG90b3MgYXJlIG9ubHkgc3VwcG9ydGVkIHdpdGggR1BUIEltYWdlIDEgbW9kZWwuIFBsZWFzZSBzd2l0Y2ggdG8gR1BUIEltYWdlIDEgZm9yIGRyYWZ0IG1vZGUgb3IgcmVtb3ZlIHJlZmVyZW5jZSBwaG90b3MuXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIFN0b3AgYW55IGV4aXN0aW5nIHRpbWVycyBmaXJzdFxuICAgIHByb3BzLnN0b3BFbGFwc2VkVGltZVRyYWNraW5nKCk7XG4gICAgXG4gICAgLy8gQ2xlYXIgQUxMIFdlYlNvY2tldCBzdWJzY3JpcHRpb25zIGJlZm9yZSBzdGFydGluZ1xuICAgIGlmIChwcm9wcy51bnN1YnNjcmliZUZyb21BbGxKb2JzKSB7XG4gICAgICBwcm9wcy51bnN1YnNjcmliZUZyb21BbGxKb2JzKCk7XG4gICAgfVxuICAgIFxuICAgIC8vIE5vIGxvbmdlciBuZWVkIHRvIGNsZWFyIG9sZCBkcmFmdCBqb2JzIC0gc3RvcmFnZSBtYW5hZ2VyIGhhbmRsZXMgdGhpcyBhdXRvbWF0aWNhbGx5XG4gICAgXG4gICAgc2V0SXNEcmFmdE1vZGUodHJ1ZSk7XG4gICAgc2V0SXNHZW5lcmF0aW5nKHRydWUpO1xuICAgIHN0YXJ0RWxhcHNlZFRpbWVUcmFja2luZygnZHJhZnQnKTtcbiAgICBzZXRHZW5lcmF0aW9uUHJvZ3Jlc3MoXCLwn46oIENyZWF0aW5nIDUgZnJvbnQgY292ZXIgdmFyaWF0aW9ucyBmb3IgeW91IHRvIGNob29zZSBmcm9tLi4uXCIpO1xuICAgIHNldERyYWZ0Q2FyZHMoW251bGwsIG51bGwsIG51bGwsIG51bGwsIG51bGxdKTsgLy8gSW5pdGlhbGl6ZSB3aXRoIDUgZW1wdHkgc2xvdHNcbiAgICBzZXRTZWxlY3RlZERyYWZ0SW5kZXgoLTEpO1xuICAgIHNldERyYWZ0Q29tcGxldGlvblNob3duKGZhbHNlKTtcbiAgICBzZXREcmFmdENvbXBsZXRpb25Db3VudCgwKTtcbiAgICBcbiAgICAvLyBDbGVhciBhbnkgcHJldmlvdXMgY2FyZCBzdGF0ZVxuICAgIHNldEdlbmVyYXRlZENhcmQobnVsbCk7XG4gICAgc2V0R2VuZXJhdGVkQ2FyZHMoW10pO1xuICAgIHNldElzQ2FyZENvbXBsZXRlZChmYWxzZSk7XG4gICAgXG4gICAgLy8gQ2xlYXIgc2F2ZWQgZmluYWwgY2FyZCBmcm9tIGxvY2FsU3RvcmFnZSB3aGVuIHN0YXJ0aW5nIG5ldyBnZW5lcmF0aW9uXG4gICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ3ZpYmUtZmluYWwtY2FyZCcpO1xuICAgIGNvbnNvbGUubG9nKCfwn6e5IENsZWFyZWQgc2F2ZWQgZmluYWwgY2FyZCcpO1xuICAgIFxuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnNvbGUubG9nKFwi8J+agCBTdGFydGluZyBkcmFmdCBtb2RlIGdlbmVyYXRpb24gd2l0aCA1IHZhcmlhdGlvbnNcIik7XG4gICAgICBcbiAgICAgIGNvbnN0IGNhcmRUeXBlRm9yUHJvbXB0ID0gc2VsZWN0ZWRUeXBlID09PSBcImN1c3RvbVwiID8gY3VzdG9tQ2FyZFR5cGUgOiBzZWxlY3RlZFR5cGU7XG4gICAgICBjb25zdCBzZWxlY3RlZFRvbmVPYmogPSBjYXJkVG9uZXMuZmluZCh0b25lID0+IHRvbmUuaWQgPT09IHNlbGVjdGVkVG9uZSk7XG4gICAgICBjb25zdCB0b25lRGVzY3JpcHRpb24gPSBzZWxlY3RlZFRvbmVPYmogPyBzZWxlY3RlZFRvbmVPYmouZGVzY3JpcHRpb24udG9Mb3dlckNhc2UoKSA6IFwiaGVhcnRmZWx0IGFuZCBzaW5jZXJlXCI7XG4gICAgICBcbiAgICAgIC8vIFVzZSBwcm9tcHQgaWYgcHJvdmlkZWQsIG90aGVyd2lzZSBjcmVhdGUgYSBzaW1wbGUgZGVmYXVsdFxuICAgICAgbGV0IGVmZmVjdGl2ZVByb21wdCA9IHByb21wdC50cmltKCk7XG4gICAgICBcbiAgICAgIGlmICghZWZmZWN0aXZlUHJvbXB0KSB7XG4gICAgICAgIGVmZmVjdGl2ZVByb21wdCA9IGBBIGJlYXV0aWZ1bCAke2NhcmRUeXBlRm9yUHJvbXB0fSBjYXJkIHdpdGggJHt0b25lRGVzY3JpcHRpb259IHN0eWxlYDtcbiAgICAgIH1cblxuICAgICAgLy8gR2VuZXJhdGUgNSBkcmFmdCB2YXJpYXRpb25zXG4gICAgICBjb25zdCBkcmFmdFByb21pc2VzID0gQXJyYXkuZnJvbSh7IGxlbmd0aDogNSB9LCBhc3luYyAoXywgaW5kZXgpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhg8J+OqCBTdGFydGluZyBkcmFmdCB2YXJpYXRpb24gJHtpbmRleCArIDF9YCk7XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gVmFsaWRhdGUgcmVxdWlyZWQgcHJvcHNcbiAgICAgICAgICBpZiAoIXNlbGVjdGVkRHJhZnRNb2RlbCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdzZWxlY3RlZERyYWZ0TW9kZWwgaXMgcmVxdWlyZWQgYnV0IG5vdCBwcm92aWRlZCcpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoIXNlbGVjdGVkUGFwZXJTaXplKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3NlbGVjdGVkUGFwZXJTaXplIGlzIHJlcXVpcmVkIGJ1dCBub3QgcHJvdmlkZWQnKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKCF1c2VyRW1haWwpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigndXNlckVtYWlsIGlzIHJlcXVpcmVkIGJ1dCBub3QgcHJvdmlkZWQnKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gRm9yIHNtYXJ0IHN0eWxlLCB1c2UgcHJlZGVmaW5lZCBzdHlsZXNcbiAgICAgICAgICBsZXQgc3R5bGVPdmVycmlkZTogc3RyaW5nIHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkO1xuICAgICAgICAgIGxldCBzdHlsZUxhYmVsOiBzdHJpbmcgfCB1bmRlZmluZWQgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgaWYgKHNlbGVjdGVkQXJ0aXN0aWNTdHlsZSA9PT0gXCJhaS1zbWFydC1zdHlsZVwiKSB7XG4gICAgICAgICAgICBjb25zdCBwcmVkZWZpbmVkU3R5bGVzID0gW1wid2F0ZXJjb2xvclwiLCBcImJvdGFuaWNhbFwiLCBcImNvbWljLWJvb2tcIiwgXCJkcmVhbXktZmFudGFzeVwiLCBcIm1pbmltYWxpc3RcIl07XG4gICAgICAgICAgICBjb25zdCBzdHlsZUxhYmVscyA9IFtcIvCfjqggV2F0ZXJjb2xvclwiLCBcIvCfjL8gQm90YW5pY2FsXCIsIFwi8J+SpSBDb21pYyBCb29rXCIsIFwi8J+MuCBEcmVhbXkgRmFudGFzeVwiLCBcIuKcqCBNaW5pbWFsaXN0XCJdO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBzdHlsZU92ZXJyaWRlID0gcHJlZGVmaW5lZFN0eWxlc1tpbmRleF07XG4gICAgICAgICAgICBzdHlsZUxhYmVsID0gc3R5bGVMYWJlbHNbaW5kZXhdO1xuICAgICAgICAgIH1cbiAgICAgICAgICBcbiAgICAgICAgICAvLyBHZW5lcmF0ZSBvbmx5IGZyb250IGNvdmVyIHByb21wdCBmb3IgZHJhZnRcbiAgICAgICAgICBjb25zdCBzZWxlY3RlZFN0eWxlID0gYXJ0aXN0aWNTdHlsZXMuZmluZChzdHlsZSA9PiBzdHlsZS5pZCA9PT0gKHN0eWxlT3ZlcnJpZGUgfHwgc2VsZWN0ZWRBcnRpc3RpY1N0eWxlKSk7XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gVXNlIGRyYWZ0IHByb21wdCBnZW5lcmF0aW9uIGNvbmZpZyBmb3IgZnJvbnQgY292ZXIgb25seVxuICAgICAgICAgIGNvbnN0IGRyYWZ0Q29uZmlnOiBEcmFmdENvbmZpZyA9IHtcbiAgICAgICAgICAgIGNhcmRUeXBlOiBzZWxlY3RlZFR5cGUsXG4gICAgICAgICAgICBjdXN0b21DYXJkVHlwZTogY3VzdG9tQ2FyZFR5cGUsXG4gICAgICAgICAgICB0b25lOiBzZWxlY3RlZFRvbmUsXG4gICAgICAgICAgICB0b25lTGFiZWw6IHNlbGVjdGVkVG9uZU9iaiA/IHNlbGVjdGVkVG9uZU9iai5sYWJlbCA6IFwiSGVhcnRmZWx0XCIsXG4gICAgICAgICAgICB0b25lRGVzY3JpcHRpb246IHRvbmVEZXNjcmlwdGlvbixcbiAgICAgICAgICAgIHRoZW1lOiBlZmZlY3RpdmVQcm9tcHQsXG4gICAgICAgICAgICB0b0ZpZWxkOiB0b0ZpZWxkLFxuICAgICAgICAgICAgZnJvbUZpZWxkOiBmcm9tRmllbGQsXG4gICAgICAgICAgICByZWxhdGlvbnNoaXBGaWVsZDogcHJvcHMucmVsYXRpb25zaGlwRmllbGQsXG4gICAgICAgICAgICBwZXJzb25hbFRyYWl0czogcHJvcHMucGVyc29uYWxUcmFpdHMsXG4gICAgICAgICAgICBhcnRpc3RpY1N0eWxlOiBzZWxlY3RlZFN0eWxlLFxuICAgICAgICAgICAgcmVmZXJlbmNlSW1hZ2VVcmxzOiByZWZlcmVuY2VJbWFnZVVybHMsXG4gICAgICAgICAgICBwaG90b1JlZmVyZW5jZXM6IHByb3BzLnBob3RvUmVmZXJlbmNlcyxcbiAgICAgICAgICAgIGlzRHJhZnRWYXJpYXRpb246IHNlbGVjdGVkQXJ0aXN0aWNTdHlsZSA9PT0gXCJhaS1zbWFydC1zdHlsZVwiLFxuICAgICAgICAgICAgdmFyaWF0aW9uSW5kZXg6IGluZGV4XG4gICAgICAgICAgfTtcblxuICAgICAgICAgIC8vIEdlbmVyYXRlIGNyZWF0aXZlIGZyb250IGNvdmVyIHByb21wdCB1c2luZyBBSVxuICAgICAgICAgIGNvbnN0IGZyb250Q292ZXJQcm9tcHQgPSBhd2FpdCBQcm9tcHRHZW5lcmF0b3IuZ2VuZXJhdGVDcmVhdGl2ZURyYWZ0UHJvbXB0KGRyYWZ0Q29uZmlnKTtcblxuICAgICAgICAgIGlmICghZnJvbnRDb3ZlclByb21wdD8udHJpbSgpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJGYWlsZWQgdG8gZ2VuZXJhdGUgZnJvbnQgY292ZXIgcHJvbXB0XCIpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIEdlbmVyYXRlIHRoZSBpbWFnZXNcbiAgICAgICAgICBjb25zdCBqb2JJZCA9IGBkcmFmdC0ke2luZGV4fS0ke3V1aWR2NCgpfWA7XG4gICAgICAgICAgY29uc3QgaW5wdXRJbWFnZXM6IHN0cmluZ1tdID0gW107XG4gICAgICAgICAgaWYgKHJlZmVyZW5jZUltYWdlVXJscy5sZW5ndGggPiAwICYmIHNlbGVjdGVkRHJhZnRNb2RlbCA9PT0gXCJncHQtaW1hZ2UtMVwiKSB7XG4gICAgICAgICAgICBpbnB1dEltYWdlcy5wdXNoKC4uLnJlZmVyZW5jZUltYWdlVXJscyk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gTG9nIHRoZSByZXF1ZXN0IHBheWxvYWQgZm9yIGRlYnVnZ2luZ1xuICAgICAgICAgIGNvbnN0IHJlcXVlc3RQYXlsb2FkID0ge1xuICAgICAgICAgICAgam9iSWQsXG4gICAgICAgICAgICBwcm9tcHRzOiB7XG4gICAgICAgICAgICAgIGZyb250Q292ZXI6IGZyb250Q292ZXJQcm9tcHRcbiAgICAgICAgICAgICAgLy8gT25seSBzZW5kIGZyb250IGNvdmVyIHByb21wdCBmb3IgZHJhZnRzXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY29uZmlnOiB7XG4gICAgICAgICAgICAgIHVzZXJOdW1iZXI6IFwiKzE3MTQ1OTg2MTA1XCIsXG4gICAgICAgICAgICAgIG1vZGVsVmVyc2lvbjogc2VsZWN0ZWREcmFmdE1vZGVsLFxuICAgICAgICAgICAgICBhc3BlY3RSYXRpbzogcGFwZXJTaXplcy5maW5kKHNpemUgPT4gc2l6ZS5pZCA9PT0gc2VsZWN0ZWRQYXBlclNpemUpPy5hc3BlY3RSYXRpbyB8fCBcIjk6MTZcIixcbiAgICAgICAgICAgICAgcXVhbGl0eTogXCJtZWRpdW1cIiwgLy8gVXNlIG1lZGl1bSBxdWFsaXR5IGZvciBkcmFmdHMgKGJldHRlciB0aGFuIGxvdywgZmFzdGVyIHRoYW4gaGlnaClcbiAgICAgICAgICAgICAgb3V0cHV0Rm9ybWF0OiBcImpwZWdcIixcbiAgICAgICAgICAgICAgb3V0cHV0Q29tcHJlc3Npb246IDEwMCwgLy8gTWF4aW11bSBxdWFsaXR5IGNvbXByZXNzaW9uXG4gICAgICAgICAgICAgIG1vZGVyYXRpb246IFwibG93XCIsXG4gICAgICAgICAgICAgIGRpbWVuc2lvbnM6IHBhcGVyU2l6ZXMuZmluZChzaXplID0+IHNpemUuaWQgPT09IHNlbGVjdGVkUGFwZXJTaXplKT8uZGltZW5zaW9ucyB8fCBcIjEwMjR4MTUzNlwiLFxuICAgICAgICAgICAgICBpc0Zyb250QmFja09ubHk6IHRydWUsIC8vIEZvcmNlIGZyb250LW9ubHkgZm9yIGRyYWZ0c1xuICAgICAgICAgICAgICB1c2VyRW1haWwsXG4gICAgICAgICAgICAgIGNhcmRUeXBlOiBjYXJkVHlwZUZvclByb21wdCxcbiAgICAgICAgICAgICAgdG9GaWVsZCxcbiAgICAgICAgICAgICAgZnJvbUZpZWxkLFxuICAgICAgICAgICAgICBpc0RyYWZ0TW9kZTogdHJ1ZSxcbiAgICAgICAgICAgICAgLi4uKGlucHV0SW1hZ2VzLmxlbmd0aCA+IDAgJiYgeyBcbiAgICAgICAgICAgICAgICBpbnB1dF9pbWFnZXM6IGlucHV0SW1hZ2VzLFxuICAgICAgICAgICAgICAgIGlucHV0X2ltYWdlc19tb2RlOiBcImZyb250X2NvdmVyX29ubHlcIlxuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH07XG5cbiAgICAgICAgICBjb25zb2xlLmxvZyhg8J+TpiBEcmFmdCAke2luZGV4ICsgMX0gcmVxdWVzdCBwYXlsb2FkOmAsIHtcbiAgICAgICAgICAgIGpvYklkLFxuICAgICAgICAgICAgcHJvbXB0c0V4aXN0OiAhIWZyb250Q292ZXJQcm9tcHQsXG4gICAgICAgICAgICBwcm9tcHRLZXlzOiBbJ2Zyb250Q292ZXInXSxcbiAgICAgICAgICAgIG1vZGVsVmVyc2lvbjogc2VsZWN0ZWREcmFmdE1vZGVsLFxuICAgICAgICAgICAgcGFwZXJTaXplOiBzZWxlY3RlZFBhcGVyU2l6ZSxcbiAgICAgICAgICAgIGVtYWlsOiB1c2VyRW1haWxcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hcGkvZ2VuZXJhdGUtY2FyZC1hc3luYycsIHtcbiAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShyZXF1ZXN0UGF5bG9hZClcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICAgIGNvbnN0IGVycm9yVGV4dCA9IGF3YWl0IHJlc3BvbnNlLnRleHQoKTtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYFNlcnZlciBlcnJvciByZXNwb25zZSBmb3IgZHJhZnQgJHtpbmRleCArIDF9OmAsIGVycm9yVGV4dCk7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFNlcnZlciBlcnJvcjogJHtyZXNwb25zZS5zdGF0dXN9IC0gJHtlcnJvclRleHR9YCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgICAgIFxuICAgICAgICAgIGlmIChyZXN1bHQuc3RhdHVzICE9PSAncHJvY2Vzc2luZycpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihyZXN1bHQubWVzc2FnZSB8fCAnRmFpbGVkIHRvIHN0YXJ0IGRyYWZ0IGdlbmVyYXRpb24nKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjb25zb2xlLmxvZyhg4pyFIERyYWZ0IHZhcmlhdGlvbiAke2luZGV4ICsgMX0gam9iIHN0YXJ0ZWQ6YCwgam9iSWQpO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIFNhdmUgZHJhZnQgam9iIHRvIHN0b3JhZ2UgZm9yIHJlY292ZXJ5XG4gICAgICAgICAgc2F2ZUpvYlRvU3RvcmFnZShqb2JJZCwge1xuICAgICAgICAgICAgaXNEcmFmdDogdHJ1ZSxcbiAgICAgICAgICAgIGRyYWZ0SW5kZXg6IGluZGV4LFxuICAgICAgICAgICAgc3R5bGVJbmZvOiBzdHlsZU92ZXJyaWRlID8geyBzdHlsZU5hbWU6IHN0eWxlT3ZlcnJpZGUsIHN0eWxlTGFiZWw6IHN0eWxlTGFiZWwgfSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGZyb250Q292ZXJQcm9tcHQ6IGZyb250Q292ZXJQcm9tcHQsXG4gICAgICAgICAgICBnZW5lcmF0ZWRQcm9tcHRzOiB7IGZyb250Q292ZXI6IGZyb250Q292ZXJQcm9tcHQgfSwgLy8gU3RvcmUgb25seSBmcm9udCBjb3ZlciBwcm9tcHRcbiAgICAgICAgICAgIHVzZXJFbWFpbCxcbiAgICAgICAgICAgIHNlbGVjdGVkVHlwZSxcbiAgICAgICAgICAgIHNlbGVjdGVkVG9uZSxcbiAgICAgICAgICAgIHRvRmllbGQsXG4gICAgICAgICAgICBmcm9tRmllbGQsXG4gICAgICAgICAgICBkcmFmdENhcmRzOiBbXSAgLy8gV2lsbCBiZSB1cGRhdGVkIGFzIGRyYWZ0cyBjb21wbGV0ZVxuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgLy8gU3Vic2NyaWJlIHRvIFdlYlNvY2tldCB1cGRhdGVzXG4gICAgICAgICAgc3Vic2NyaWJlVG9Kb2Ioam9iSWQpO1xuXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcihg4p2MIERyYWZ0IHZhcmlhdGlvbiAke2luZGV4ICsgMX0gZmFpbGVkOmAsIGVycm9yKTtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdGdWxsIGVycm9yIGRldGFpbHM6Jywge1xuICAgICAgICAgICAgbWVzc2FnZTogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnVW5rbm93biBlcnJvcicsXG4gICAgICAgICAgICBzdGFjazogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLnN0YWNrIDogJ05vIHN0YWNrIHRyYWNlJyxcbiAgICAgICAgICAgIGVycm9yOiBlcnJvclxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHRvYXN0LmVycm9yKGBEcmFmdCB2YXJpYXRpb24gJHtpbmRleCArIDF9IGZhaWxlZDogJHtlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJ31gKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIC8vIFdhaXQgZm9yIGFsbCBkcmFmdCBnZW5lcmF0aW9ucyB0byBzdGFydFxuICAgICAgYXdhaXQgUHJvbWlzZS5hbGxTZXR0bGVkKGRyYWZ0UHJvbWlzZXMpO1xuICAgICAgY29uc29sZS5sb2coXCLwn5qAIEFsbCBkcmFmdCB2YXJpYXRpb25zIHN0YXJ0ZWRcIik7XG5cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRHJhZnQgY2FyZCBnZW5lcmF0aW9uIGVycm9yOicsIGVycm9yKTtcbiAgICAgIHRvYXN0LmVycm9yKGBGYWlsZWQgdG8gc3RhcnQgZHJhZnQgZ2VuZXJhdGlvbjogJHtlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJ31gKTtcbiAgICAgIFxuICAgICAgc2V0SXNHZW5lcmF0aW5nKGZhbHNlKTtcbiAgICAgIHNldElzRHJhZnRNb2RlKGZhbHNlKTtcbiAgICAgIHNldERyYWZ0Q29tcGxldGlvblNob3duKGZhbHNlKTtcbiAgICAgIHNldERyYWZ0Q29tcGxldGlvbkNvdW50KDApO1xuICAgICAgc2V0R2VuZXJhdGlvblByb2dyZXNzKFwiXCIpO1xuICAgICAgcHJvcHMuc3RvcEVsYXBzZWRUaW1lVHJhY2tpbmcoKTtcbiAgICB9XG4gIH0sIFtwcm9wc10pO1xuXG4gIC8vIEdlbmVyYXRlIGZpbmFsIGhpZ2gtcXVhbGl0eSBjYXJkIGZyb20gc2VsZWN0ZWQgZHJhZnRcbiAgY29uc3QgaGFuZGxlR2VuZXJhdGVGaW5hbEZyb21EcmFmdCA9IHVzZUNhbGxiYWNrKGFzeW5jIChkaXNwbGF5SW5kZXg6IG51bWJlcikgPT4ge1xuICAgIC8vIFByZXZlbnQgZHVwbGljYXRlIGNhbGxzXG4gICAgaWYgKGlzR2VuZXJhdGluZ0ZpbmFsQ2FyZCkge1xuICAgICAgY29uc29sZS5sb2coJ+KaoO+4jyBGaW5hbCBjYXJkIGdlbmVyYXRpb24gYWxyZWFkeSBpbiBwcm9ncmVzcywgc2tpcHBpbmcgZHVwbGljYXRlIGNhbGwnKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgXG4gICAgY29uc3Qgc2VsZWN0ZWREcmFmdCA9IGRyYWZ0Q2FyZHNbZGlzcGxheUluZGV4XTtcbiAgICBpZiAoIXNlbGVjdGVkRHJhZnQpIHtcbiAgICAgIHRvYXN0LmVycm9yKFwiUGxlYXNlIHdhaXQgZm9yIHRoZSBkcmFmdCB0byBjb21wbGV0ZSBiZWZvcmUgc2VsZWN0aW5nXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHtcbiAgICAgIHNlbGVjdGVkVHlwZSxcbiAgICAgIGN1c3RvbUNhcmRUeXBlLFxuICAgICAgc2VsZWN0ZWRUb25lLFxuICAgICAgcHJvbXB0LFxuICAgICAgcGVyc29uYWxUcmFpdHMsXG4gICAgICB0b0ZpZWxkLFxuICAgICAgZnJvbUZpZWxkLFxuICAgICAgZmluYWxDYXJkTWVzc2FnZSxcbiAgICAgIGlzSGFuZHdyaXR0ZW5NZXNzYWdlLFxuICAgICAgc2VsZWN0ZWRBcnRpc3RpY1N0eWxlLFxuICAgICAgY3VzdG9tU3R5bGVEZXNjcmlwdGlvbixcbiAgICAgIGlzRnJvbnRCYWNrT25seSxcbiAgICAgIHNlbGVjdGVkSW1hZ2VNb2RlbCxcbiAgICAgIHNlbGVjdGVkUGFwZXJTaXplLFxuICAgICAgdXNlckVtYWlsLFxuICAgICAgcmVmZXJlbmNlSW1hZ2VVcmxzLFxuICAgICAgc3RhcnRFbGFwc2VkVGltZVRyYWNraW5nLFxuICAgICAgc3Vic2NyaWJlVG9Kb2JcbiAgICB9ID0gcHJvcHM7XG5cbiAgICAvLyBTdG9wIGFueSBleGlzdGluZyB0aW1lcnMgZmlyc3RcbiAgICBwcm9wcy5zdG9wRWxhcHNlZFRpbWVUcmFja2luZygpO1xuICAgIFxuICAgIHNldElzR2VuZXJhdGluZ0ZpbmFsQ2FyZCh0cnVlKTtcbiAgICBzZXRJc0RyYWZ0TW9kZShmYWxzZSk7IC8vIFN3aXRjaCBvdXQgb2YgZHJhZnQgbW9kZSBmb3IgZmluYWwgZ2VuZXJhdGlvblxuICAgIHNldFNlbGVjdGVkRHJhZnRJbmRleChkaXNwbGF5SW5kZXgpO1xuICAgIFxuICAgIC8vIFJlc2V0IHByb2dyZXNzIHBlcmNlbnRhZ2UgdG8gMCB3aGVuIHN0YXJ0aW5nIGZpbmFsIGdlbmVyYXRpb25cbiAgICBpZiAocHJvcHMuc2V0UHJvZ3Jlc3NQZXJjZW50YWdlKSB7XG4gICAgICBwcm9wcy5zZXRQcm9ncmVzc1BlcmNlbnRhZ2UoMCk7XG4gICAgfVxuICAgIFxuICAgIHN0YXJ0RWxhcHNlZFRpbWVUcmFja2luZygnZmluYWwnKTtcbiAgICBzZXRHZW5lcmF0aW9uUHJvZ3Jlc3MoXCLwn46oIENyZWF0aW5nIHRoZSBjb21wbGV0ZSBjYXJkIGJhc2VkIG9uIHlvdXIgc2VsZWN0ZWQgZnJvbnQgY292ZXIuLi5cIik7XG5cbiAgICB0cnkge1xuICAgICAgY29uc3Qgam9iSWQgPSB1dWlkdjQoKTtcbiAgICAgIFxuICAgICAgLy8gR2VuZXJhdGUgdGhlIG1pc3NpbmcgcHJvbXB0c1xuICAgICAgY29uc3Qgc3RvcmVkRnJvbnRDb3ZlclByb21wdCA9IHNlbGVjdGVkRHJhZnQuZ2VuZXJhdGVkUHJvbXB0cz8uZnJvbnRDb3ZlcjtcbiAgICAgIGlmICghc3RvcmVkRnJvbnRDb3ZlclByb21wdCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJTZWxlY3RlZCBkcmFmdCBpcyBtaXNzaW5nIGZyb250Q292ZXIgcHJvbXB0XCIpO1xuICAgICAgfVxuICAgICAgXG4gICAgICBjb25zdCBjYXJkVHlwZUZvclByb21wdCA9IHNlbGVjdGVkVHlwZSA9PT0gXCJjdXN0b21cIiA/IGN1c3RvbUNhcmRUeXBlIDogc2VsZWN0ZWRUeXBlO1xuICAgICAgY29uc3Qgc2VsZWN0ZWRUb25lT2JqID0gY2FyZFRvbmVzLmZpbmQodG9uZSA9PiB0b25lLmlkID09PSBzZWxlY3RlZFRvbmUpO1xuICAgICAgY29uc3QgdG9uZURlc2NyaXB0aW9uID0gc2VsZWN0ZWRUb25lT2JqID8gc2VsZWN0ZWRUb25lT2JqLmRlc2NyaXB0aW9uLnRvTG93ZXJDYXNlKCkgOiBcImhlYXJ0ZmVsdCBhbmQgc2luY2VyZVwiO1xuICAgICAgY29uc3QgZWZmZWN0aXZlUHJvbXB0ID0gcHJvbXB0LnRyaW0oKSB8fCBgQSBiZWF1dGlmdWwgJHtjYXJkVHlwZUZvclByb21wdH0gY2FyZCB3aXRoICR7dG9uZURlc2NyaXB0aW9ufSBzdHlsZWA7XG4gICAgICBcbiAgICAgIGxldCBtZXNzYWdlQ29udGVudCA9IGZpbmFsQ2FyZE1lc3NhZ2U7XG4gICAgICBpZiAoaXNIYW5kd3JpdHRlbk1lc3NhZ2UpIHtcbiAgICAgICAgbWVzc2FnZUNvbnRlbnQgPSBcIltCbGFuayBzcGFjZSBmb3IgaGFuZHdyaXR0ZW4gbWVzc2FnZV1cIjtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gR2V0IHN0eWxlIGZyb20gdGhlIHNlbGVjdGVkIGRyYWZ0XG4gICAgICBjb25zdCBkcmFmdFN0eWxlSW5mbyA9IHNlbGVjdGVkRHJhZnQuc3R5bGVJbmZvO1xuICAgICAgbGV0IHNlbGVjdGVkU3R5bGU7XG4gICAgICBpZiAoZHJhZnRTdHlsZUluZm8gJiYgZHJhZnRTdHlsZUluZm8uc3R5bGVOYW1lKSB7XG4gICAgICAgIHNlbGVjdGVkU3R5bGUgPSBhcnRpc3RpY1N0eWxlcy5maW5kKHN0eWxlID0+IHN0eWxlLmlkID09PSBkcmFmdFN0eWxlSW5mby5zdHlsZU5hbWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2VsZWN0ZWRTdHlsZSA9IGFydGlzdGljU3R5bGVzLmZpbmQoc3R5bGUgPT4gc3R5bGUuaWQgPT09IHNlbGVjdGVkQXJ0aXN0aWNTdHlsZSk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIFVzZSBQcm9tcHRHZW5lcmF0b3IgZm9yIGZpbmFsIGNhcmQgZnJvbSBkcmFmdFxuICAgICAgY29uc3QgZmluYWxGcm9tRHJhZnRDb25maWc6IEZpbmFsRnJvbURyYWZ0Q29uZmlnID0ge1xuICAgICAgICBmcm9udENvdmVyUHJvbXB0OiBzdG9yZWRGcm9udENvdmVyUHJvbXB0LFxuICAgICAgICBjYXJkVHlwZTogc2VsZWN0ZWRUeXBlLFxuICAgICAgICBjdXN0b21DYXJkVHlwZTogY3VzdG9tQ2FyZFR5cGUsXG4gICAgICAgIHRoZW1lOiBlZmZlY3RpdmVQcm9tcHQsXG4gICAgICAgIHRvbmU6IHNlbGVjdGVkVG9uZSxcbiAgICAgICAgdG9uZURlc2NyaXB0aW9uOiB0b25lRGVzY3JpcHRpb24sXG4gICAgICAgIHRvRmllbGQ6IHRvRmllbGQsXG4gICAgICAgIGZyb21GaWVsZDogZnJvbUZpZWxkLFxuICAgICAgICByZWxhdGlvbnNoaXBGaWVsZDogcHJvcHMucmVsYXRpb25zaGlwRmllbGQsXG4gICAgICAgIHBlcnNvbmFsVHJhaXRzOiBwcm9wcy5wZXJzb25hbFRyYWl0cyxcbiAgICAgICAgcGhvdG9SZWZlcmVuY2VzOiBwcm9wcy5waG90b1JlZmVyZW5jZXMsXG4gICAgICAgIG1lc3NhZ2U6IG1lc3NhZ2VDb250ZW50LFxuICAgICAgICBpc0hhbmR3cml0dGVuTWVzc2FnZTogaXNIYW5kd3JpdHRlbk1lc3NhZ2UsXG4gICAgICAgIGFydGlzdGljU3R5bGU6IHNlbGVjdGVkU3R5bGUsXG4gICAgICAgIGlzRnJvbnRCYWNrT25seTogaXNGcm9udEJhY2tPbmx5XG4gICAgICB9O1xuXG4gICAgICBjb25zdCBmaW5hbFByb21wdHMgPSBhd2FpdCBQcm9tcHRHZW5lcmF0b3IuZ2VuZXJhdGVGaW5hbEZyb21EcmFmdFByb21wdHNDb21iaW5lZChmaW5hbEZyb21EcmFmdENvbmZpZyk7XG5cbiAgICAgIGlmICghZmluYWxQcm9tcHRzIHx8ICFmaW5hbFByb21wdHMuZnJvbnRDb3ZlciB8fCAhZmluYWxQcm9tcHRzLmJhY2tDb3Zlcikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJGYWlsZWQgdG8gZ2VuZXJhdGUgY29tcGxldGUgcHJvbXB0cyBmb3IgZmluYWwgY2FyZFwiKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gUHJlcGFyZSBpbnB1dCBpbWFnZXMgZm9yIGZpbmFsIGdlbmVyYXRpb25cbiAgICAgIGNvbnN0IGlucHV0SW1hZ2VzOiBzdHJpbmdbXSA9IFtdO1xuICAgICAgXG4gICAgICAvLyBBZGQgdGhlIHNlbGVjdGVkIGRyYWZ0J3MgZnJvbnQgY292ZXIgYXMgYSByZWZlcmVuY2UgaW1hZ2UgZm9yIHRoZSBmaW5hbCBmcm9udCBjb3ZlclxuICAgICAgaWYgKHNlbGVjdGVkRHJhZnQuZnJvbnRDb3Zlcikge1xuICAgICAgICBpbnB1dEltYWdlcy5wdXNoKHNlbGVjdGVkRHJhZnQuZnJvbnRDb3Zlcik7XG4gICAgICAgIGNvbnNvbGUubG9nKCfwn5a877iPIEFkZGluZyBkcmFmdCBmcm9udCBjb3ZlciBhcyByZWZlcmVuY2UgZm9yIGZpbmFsIGZyb250IGNvdmVyIGdlbmVyYXRpb24nKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gQWxzbyBpbmNsdWRlIGFueSB1c2VyLXVwbG9hZGVkIHJlZmVyZW5jZSBpbWFnZXNcbiAgICAgIGlmIChyZWZlcmVuY2VJbWFnZVVybHMubGVuZ3RoID4gMCAmJiBzZWxlY3RlZEltYWdlTW9kZWwgPT09IFwiZ3B0LWltYWdlLTFcIikge1xuICAgICAgICBpbnB1dEltYWdlcy5wdXNoKC4uLnJlZmVyZW5jZUltYWdlVXJscyk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hcGkvZ2VuZXJhdGUtY2FyZC1hc3luYycsIHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgam9iSWQsXG4gICAgICAgICAgcHJvbXB0czogZmluYWxQcm9tcHRzLFxuICAgICAgICAgIGNvbmZpZzoge1xuICAgICAgICAgICAgdXNlck51bWJlcjogXCIrMTcxNDU5ODYxMDVcIixcbiAgICAgICAgICAgIG1vZGVsVmVyc2lvbjogc2VsZWN0ZWRJbWFnZU1vZGVsLFxuICAgICAgICAgICAgYXNwZWN0UmF0aW86IHBhcGVyU2l6ZXMuZmluZChzaXplID0+IHNpemUuaWQgPT09IHNlbGVjdGVkUGFwZXJTaXplKT8uYXNwZWN0UmF0aW8gfHwgXCI5OjE2XCIsXG4gICAgICAgICAgICBxdWFsaXR5OiBcImhpZ2hcIixcbiAgICAgICAgICAgIG91dHB1dEZvcm1hdDogXCJqcGVnXCIsXG4gICAgICAgICAgICBvdXRwdXRDb21wcmVzc2lvbjogMTAwLFxuICAgICAgICAgICAgbW9kZXJhdGlvbjogXCJsb3dcIixcbiAgICAgICAgICAgIGRpbWVuc2lvbnM6IHBhcGVyU2l6ZXMuZmluZChzaXplID0+IHNpemUuaWQgPT09IHNlbGVjdGVkUGFwZXJTaXplKT8uZGltZW5zaW9ucyB8fCBcIjEwMjR4MTUzNlwiLFxuICAgICAgICAgICAgaXNGcm9udEJhY2tPbmx5LFxuICAgICAgICAgICAgdXNlckVtYWlsLFxuICAgICAgICAgICAgY2FyZFR5cGU6IHNlbGVjdGVkVHlwZSA9PT0gXCJjdXN0b21cIiA/IGN1c3RvbUNhcmRUeXBlIDogc2VsZWN0ZWRUeXBlLFxuICAgICAgICAgICAgdG9GaWVsZCxcbiAgICAgICAgICAgIGZyb21GaWVsZCxcbiAgICAgICAgICAgIGlzRHJhZnRNb2RlOiBmYWxzZSxcbiAgICAgICAgICAgIC4uLihpbnB1dEltYWdlcy5sZW5ndGggPiAwICYmIHsgXG4gICAgICAgICAgICAgIGlucHV0X2ltYWdlczogaW5wdXRJbWFnZXMsXG4gICAgICAgICAgICAgIGlucHV0X2ltYWdlc19tb2RlOiBcImZyb250X2NvdmVyX29ubHlcIiAgLy8gVXNlIGltYWdlcyBhcyByZWZlcmVuY2UgZm9yIGZyb250IGNvdmVyIG9ubHlcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgfSk7XG5cbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBTZXJ2ZXIgZXJyb3I6ICR7cmVzcG9uc2Uuc3RhdHVzfWApO1xuICAgICAgfVxuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICBcbiAgICAgIGlmIChyZXN1bHQuc3RhdHVzICE9PSAncHJvY2Vzc2luZycpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKHJlc3VsdC5tZXNzYWdlIHx8ICdGYWlsZWQgdG8gc3RhcnQgZmluYWwgY2FyZCBnZW5lcmF0aW9uJyk7XG4gICAgICB9XG5cbiAgICAgIHNldEN1cnJlbnRKb2JJZChqb2JJZCk7XG4gICAgICBcbiAgICAgIC8vIFNhdmUgam9iIGRhdGEgZm9yIHJlY292ZXJ5XG4gICAgICBjb25zdCBqb2JEYXRhID0ge1xuICAgICAgICBqb2JJZCxcbiAgICAgICAgc2VsZWN0ZWREcmFmdEluZGV4OiBkaXNwbGF5SW5kZXgsXG4gICAgICAgIGNhcmRUeXBlOiBzZWxlY3RlZFR5cGUsXG4gICAgICAgIGN1c3RvbUNhcmRUeXBlLFxuICAgICAgICB0b25lOiBzZWxlY3RlZFRvbmUsXG4gICAgICAgIHByb21wdCxcbiAgICAgICAgcGVyc29uYWxUcmFpdHMsXG4gICAgICAgIHRvRmllbGQsXG4gICAgICAgIGZyb21GaWVsZCxcbiAgICAgICAgZmluYWxDYXJkTWVzc2FnZSxcbiAgICAgICAgaXNIYW5kd3JpdHRlbk1lc3NhZ2UsXG4gICAgICAgIHNlbGVjdGVkQXJ0aXN0aWNTdHlsZSxcbiAgICAgICAgaXNGcm9udEJhY2tPbmx5LFxuICAgICAgICBzZWxlY3RlZFBhcGVyU2l6ZSxcbiAgICAgICAgdXNlckVtYWlsLFxuICAgICAgICByZWZlcmVuY2VJbWFnZVVybHNcbiAgICAgIH07XG4gICAgICBwcm9wcy5zYXZlSm9iVG9TdG9yYWdlKGpvYklkLCBqb2JEYXRhKTtcbiAgICAgIFxuICAgICAgdG9hc3Quc3VjY2VzcyhcIvCfjqggR2VuZXJhdGluZyBoaWdoLXF1YWxpdHkgdmVyc2lvbiBvZiB5b3VyIHNlbGVjdGVkIGRlc2lnbiFcIik7XG4gICAgICBcbiAgICAgIC8vIFN1YnNjcmliZSB0byBXZWJTb2NrZXQgdXBkYXRlc1xuICAgICAgc3Vic2NyaWJlVG9Kb2Ioam9iSWQpO1xuXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZpbmFsIGNhcmQgZ2VuZXJhdGlvbiBlcnJvcjonLCBlcnJvcik7XG4gICAgICB0b2FzdC5lcnJvcihcIkZhaWxlZCB0byBnZW5lcmF0ZSBmaW5hbCBjYXJkLiBQbGVhc2UgdHJ5IGFnYWluLlwiKTtcbiAgICAgIHNldElzR2VuZXJhdGluZ0ZpbmFsQ2FyZChmYWxzZSk7XG4gICAgICBzZXRHZW5lcmF0aW9uUHJvZ3Jlc3MoXCJcIik7XG4gICAgICBwcm9wcy5zdG9wRWxhcHNlZFRpbWVUcmFja2luZygpOyAvLyBDbGVhciB0aW1lLWJhc2VkIHByb2dyZXNzIG9uIGVycm9yXG4gICAgfVxuICB9LCBbZHJhZnRDYXJkcywgaXNHZW5lcmF0aW5nRmluYWxDYXJkLCBwcm9wc10pO1xuXG4gIHJldHVybiB7XG4gICAgaXNEcmFmdE1vZGUsXG4gICAgc2V0SXNEcmFmdE1vZGUsXG4gICAgZHJhZnRDYXJkcyxcbiAgICBzZXREcmFmdENhcmRzLFxuICAgIHNlbGVjdGVkRHJhZnRJbmRleCxcbiAgICBzZXRTZWxlY3RlZERyYWZ0SW5kZXgsXG4gICAgaXNHZW5lcmF0aW5nRmluYWxDYXJkLFxuICAgIHNldElzR2VuZXJhdGluZ0ZpbmFsQ2FyZCxcbiAgICBwcmV2aWV3aW5nRHJhZnRJbmRleCxcbiAgICBzZXRQcmV2aWV3aW5nRHJhZnRJbmRleCxcbiAgICBkcmFmdENvbXBsZXRpb25TaG93bixcbiAgICBzZXREcmFmdENvbXBsZXRpb25TaG93bixcbiAgICBkcmFmdENvbXBsZXRpb25Db3VudCxcbiAgICBzZXREcmFmdENvbXBsZXRpb25Db3VudCxcbiAgICBoYW5kbGVHZW5lcmF0ZURyYWZ0Q2FyZHMsXG4gICAgaGFuZGxlR2VuZXJhdGVGaW5hbEZyb21EcmFmdCxcbiAgICBpc0dlbmVyYXRpbmcsXG4gICAgc2V0SXNHZW5lcmF0aW5nLFxuICAgIGdlbmVyYXRpb25Qcm9ncmVzcyxcbiAgICBzZXRHZW5lcmF0aW9uUHJvZ3Jlc3MsXG4gICAgZ2VuZXJhdGVkQ2FyZCxcbiAgICBzZXRHZW5lcmF0ZWRDYXJkLFxuICAgIGdlbmVyYXRlZENhcmRzLFxuICAgIHNldEdlbmVyYXRlZENhcmRzLFxuICAgIGlzQ2FyZENvbXBsZXRlZCxcbiAgICBzZXRJc0NhcmRDb21wbGV0ZWQsXG4gICAgY3VycmVudEpvYklkLFxuICAgIHNldEN1cnJlbnRKb2JJZFxuICB9O1xufSJdLCJuYW1lcyI6WyJ1c2VTdGF0ZSIsInVzZUNhbGxiYWNrIiwidG9hc3QiLCJ2NCIsInV1aWR2NCIsIlByb21wdEdlbmVyYXRvciIsImFydGlzdGljU3R5bGVzIiwicGFwZXJTaXplcyIsImNhcmRUb25lcyIsInVzZURyYWZ0R2VuZXJhdGlvbiIsInByb3BzIiwiaXNEcmFmdE1vZGUiLCJzZXRJc0RyYWZ0TW9kZSIsImRyYWZ0Q2FyZHMiLCJzZXREcmFmdENhcmRzIiwic2VsZWN0ZWREcmFmdEluZGV4Iiwic2V0U2VsZWN0ZWREcmFmdEluZGV4IiwiaXNHZW5lcmF0aW5nRmluYWxDYXJkIiwic2V0SXNHZW5lcmF0aW5nRmluYWxDYXJkIiwicHJldmlld2luZ0RyYWZ0SW5kZXgiLCJzZXRQcmV2aWV3aW5nRHJhZnRJbmRleCIsImRyYWZ0Q29tcGxldGlvblNob3duIiwic2V0RHJhZnRDb21wbGV0aW9uU2hvd24iLCJkcmFmdENvbXBsZXRpb25Db3VudCIsInNldERyYWZ0Q29tcGxldGlvbkNvdW50IiwiaXNHZW5lcmF0aW5nIiwic2V0SXNHZW5lcmF0aW5nIiwiZ2VuZXJhdGlvblByb2dyZXNzIiwic2V0R2VuZXJhdGlvblByb2dyZXNzIiwiZ2VuZXJhdGVkQ2FyZCIsInNldEdlbmVyYXRlZENhcmQiLCJnZW5lcmF0ZWRDYXJkcyIsInNldEdlbmVyYXRlZENhcmRzIiwiaXNDYXJkQ29tcGxldGVkIiwic2V0SXNDYXJkQ29tcGxldGVkIiwiY3VycmVudEpvYklkIiwic2V0Q3VycmVudEpvYklkIiwiaGFuZGxlR2VuZXJhdGVEcmFmdENhcmRzIiwidXNlckVtYWlsIiwic2VsZWN0ZWRBcnRpc3RpY1N0eWxlIiwiY3VzdG9tU3R5bGVEZXNjcmlwdGlvbiIsInJlZmVyZW5jZUltYWdlVXJscyIsInNlbGVjdGVkRHJhZnRNb2RlbCIsInNlbGVjdGVkVHlwZSIsImN1c3RvbUNhcmRUeXBlIiwic2VsZWN0ZWRUb25lIiwicHJvbXB0IiwicGVyc29uYWxUcmFpdHMiLCJ0b0ZpZWxkIiwiZnJvbUZpZWxkIiwic2VsZWN0ZWRQYXBlclNpemUiLCJmaW5hbENhcmRNZXNzYWdlIiwiaXNIYW5kd3JpdHRlbk1lc3NhZ2UiLCJpc0Zyb250QmFja09ubHkiLCJzYXZlSm9iVG9TdG9yYWdlIiwic3Vic2NyaWJlVG9Kb2IiLCJzdGFydEVsYXBzZWRUaW1lVHJhY2tpbmciLCJ0cmltIiwiZXJyb3IiLCJlbWFpbFJlZ2V4IiwidGVzdCIsImxlbmd0aCIsInN0b3BFbGFwc2VkVGltZVRyYWNraW5nIiwidW5zdWJzY3JpYmVGcm9tQWxsSm9icyIsImxvY2FsU3RvcmFnZSIsInJlbW92ZUl0ZW0iLCJjb25zb2xlIiwibG9nIiwiY2FyZFR5cGVGb3JQcm9tcHQiLCJzZWxlY3RlZFRvbmVPYmoiLCJmaW5kIiwidG9uZSIsImlkIiwidG9uZURlc2NyaXB0aW9uIiwiZGVzY3JpcHRpb24iLCJ0b0xvd2VyQ2FzZSIsImVmZmVjdGl2ZVByb21wdCIsImRyYWZ0UHJvbWlzZXMiLCJBcnJheSIsImZyb20iLCJfIiwiaW5kZXgiLCJFcnJvciIsInN0eWxlT3ZlcnJpZGUiLCJ1bmRlZmluZWQiLCJzdHlsZUxhYmVsIiwicHJlZGVmaW5lZFN0eWxlcyIsInN0eWxlTGFiZWxzIiwic2VsZWN0ZWRTdHlsZSIsInN0eWxlIiwiZHJhZnRDb25maWciLCJjYXJkVHlwZSIsInRvbmVMYWJlbCIsImxhYmVsIiwidGhlbWUiLCJyZWxhdGlvbnNoaXBGaWVsZCIsImFydGlzdGljU3R5bGUiLCJwaG90b1JlZmVyZW5jZXMiLCJpc0RyYWZ0VmFyaWF0aW9uIiwidmFyaWF0aW9uSW5kZXgiLCJmcm9udENvdmVyUHJvbXB0IiwiZ2VuZXJhdGVDcmVhdGl2ZURyYWZ0UHJvbXB0Iiwiam9iSWQiLCJpbnB1dEltYWdlcyIsInB1c2giLCJyZXF1ZXN0UGF5bG9hZCIsInByb21wdHMiLCJmcm9udENvdmVyIiwiY29uZmlnIiwidXNlck51bWJlciIsIm1vZGVsVmVyc2lvbiIsImFzcGVjdFJhdGlvIiwic2l6ZSIsInF1YWxpdHkiLCJvdXRwdXRGb3JtYXQiLCJvdXRwdXRDb21wcmVzc2lvbiIsIm1vZGVyYXRpb24iLCJkaW1lbnNpb25zIiwiaW5wdXRfaW1hZ2VzIiwiaW5wdXRfaW1hZ2VzX21vZGUiLCJwcm9tcHRzRXhpc3QiLCJwcm9tcHRLZXlzIiwicGFwZXJTaXplIiwiZW1haWwiLCJyZXNwb25zZSIsImZldGNoIiwibWV0aG9kIiwiaGVhZGVycyIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5Iiwib2siLCJlcnJvclRleHQiLCJ0ZXh0Iiwic3RhdHVzIiwicmVzdWx0IiwianNvbiIsIm1lc3NhZ2UiLCJpc0RyYWZ0IiwiZHJhZnRJbmRleCIsInN0eWxlSW5mbyIsInN0eWxlTmFtZSIsImdlbmVyYXRlZFByb21wdHMiLCJzdGFjayIsIlByb21pc2UiLCJhbGxTZXR0bGVkIiwiaGFuZGxlR2VuZXJhdGVGaW5hbEZyb21EcmFmdCIsImRpc3BsYXlJbmRleCIsInNlbGVjdGVkRHJhZnQiLCJzZWxlY3RlZEltYWdlTW9kZWwiLCJzZXRQcm9ncmVzc1BlcmNlbnRhZ2UiLCJzdG9yZWRGcm9udENvdmVyUHJvbXB0IiwibWVzc2FnZUNvbnRlbnQiLCJkcmFmdFN0eWxlSW5mbyIsImZpbmFsRnJvbURyYWZ0Q29uZmlnIiwiZmluYWxQcm9tcHRzIiwiZ2VuZXJhdGVGaW5hbEZyb21EcmFmdFByb21wdHNDb21iaW5lZCIsImJhY2tDb3ZlciIsImpvYkRhdGEiLCJzdWNjZXNzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./hooks/cardStudio/useDraftGeneration.ts\n"));

/***/ })

});