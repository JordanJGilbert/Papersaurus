"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/wizard/page",{

/***/ "(app-pages-browser)/./hooks/cardStudio/useMessageGeneration.ts":
/*!**************************************************!*\
  !*** ./hooks/cardStudio/useMessageGeneration.ts ***!
  \**************************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useMessageGeneration: function() { return /* binding */ useMessageGeneration; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var sonner__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! sonner */ \"(app-pages-browser)/./node_modules/sonner/dist/index.mjs\");\n/* harmony import */ var _lib_promptGenerator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/promptGenerator */ \"(app-pages-browser)/./lib/promptGenerator.ts\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./constants */ \"(app-pages-browser)/./hooks/cardStudio/constants.ts\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./utils */ \"(app-pages-browser)/./hooks/cardStudio/utils.ts\");\n/* __next_internal_client_entry_do_not_use__ useMessageGeneration auto */ \n\n\n\n\nfunction useMessageGeneration(selectedType, customCardType, selectedTone, prompt, toField, fromField, relationshipField, photoReferences) {\n    const [finalCardMessage, setFinalCardMessage] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(\"\");\n    const [isGeneratingMessage, setIsGeneratingMessage] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [messageHistory, setMessageHistory] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]);\n    const [currentMessageIndex, setCurrentMessageIndex] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(-1);\n    const [refinementPrompt, setRefinementPrompt] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(\"\");\n    const [isRefiningMessage, setIsRefiningMessage] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [showRefinementBox, setShowRefinementBox] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    // Message version control functions\n    const addMessageToHistory = (message)=>{\n        if (message.trim() === \"\") return;\n        const cleanMessage = message.replace(/<\\/?MESSAGE>/g, \"\").trim();\n        if (cleanMessage === \"\") return;\n        const newHistory = messageHistory.slice(0, currentMessageIndex + 1);\n        newHistory.push(cleanMessage);\n        if (newHistory.length > 10) {\n            newHistory.shift();\n        } else {\n            setCurrentMessageIndex(currentMessageIndex + 1);\n        }\n        setMessageHistory(newHistory);\n        setCurrentMessageIndex(newHistory.length - 1);\n    };\n    const undoMessage = ()=>{\n        if (currentMessageIndex > 0) {\n            const newIndex = currentMessageIndex - 1;\n            setCurrentMessageIndex(newIndex);\n            setFinalCardMessage(messageHistory[newIndex]);\n        }\n    };\n    const redoMessage = ()=>{\n        if (currentMessageIndex < messageHistory.length - 1) {\n            const newIndex = currentMessageIndex + 1;\n            setCurrentMessageIndex(newIndex);\n            setFinalCardMessage(messageHistory[newIndex]);\n        }\n    };\n    // Full message generation function\n    const handleGetMessageHelp = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(async (userInput)=>{\n        // Validate custom card type if selected\n        if (selectedType === \"custom\" && !customCardType.trim()) {\n            sonner__WEBPACK_IMPORTED_MODULE_1__.toast.error(\"Please describe your custom card type first!\");\n            return;\n        }\n        setIsGeneratingMessage(true);\n        try {\n            const cardTypeForPrompt = selectedType === \"custom\" ? customCardType : selectedType;\n            const selectedToneObj = _constants__WEBPACK_IMPORTED_MODULE_3__.cardTones.find((tone)=>tone.id === selectedTone);\n            const toneDescription = selectedToneObj ? selectedToneObj.description.toLowerCase() : \"heartfelt and sincere\";\n            // Use effective prompt logic here too\n            const effectivePrompt = prompt.trim() || \"A beautiful \".concat(cardTypeForPrompt, \" card with \").concat(toneDescription, \" style\");\n            // Use PromptGenerator for message generation\n            const messageConfig = {\n                cardType: selectedType,\n                customCardType: customCardType,\n                tone: selectedTone,\n                toneLabel: selectedToneObj ? selectedToneObj.label : \"Heartfelt\",\n                toneDescription: toneDescription,\n                theme: effectivePrompt,\n                toField: toField,\n                fromField: fromField,\n                relationshipField: relationshipField,\n                photoReferences: photoReferences\n            };\n            const messagePrompt = _lib_promptGenerator__WEBPACK_IMPORTED_MODULE_2__.PromptGenerator.generateMessagePrompt(messageConfig);\n            const generatedMessage = await (0,_utils__WEBPACK_IMPORTED_MODULE_4__.chatWithAI)(messagePrompt, {\n                model: \"gemini-2.5-pro\",\n                includeThoughts: false // Don't include thinking content in message generation\n            });\n            if (generatedMessage === null || generatedMessage === void 0 ? void 0 : generatedMessage.trim()) {\n                // Extract message content between <MESSAGE> tags using regex\n                const messageMatch = generatedMessage.match(/<MESSAGE>([\\s\\S]*?)<\\/MESSAGE>/);\n                let extractedMessage = messageMatch ? messageMatch[1].trim() : generatedMessage.trim();\n                // Ensure no MESSAGE tags are included in the final message\n                extractedMessage = extractedMessage.replace(/<\\/?MESSAGE>/g, \"\").trim();\n                // Add current message to history if it exists and is different\n                if (finalCardMessage.trim() && finalCardMessage.trim() !== extractedMessage) {\n                    addMessageToHistory(finalCardMessage);\n                }\n                setFinalCardMessage(extractedMessage);\n                // Add the new message to history\n                addMessageToHistory(extractedMessage);\n                sonner__WEBPACK_IMPORTED_MODULE_1__.toast.success(\"âœ¨ Personalized message created!\");\n                // Return the generated message so the caller can use it\n                return extractedMessage;\n            }\n        } catch (error) {\n            sonner__WEBPACK_IMPORTED_MODULE_1__.toast.error(\"Failed to generate message. Please try again.\");\n            return null;\n        } finally{\n            setIsGeneratingMessage(false);\n        }\n    }, [\n        selectedType,\n        customCardType,\n        selectedTone,\n        prompt,\n        toField,\n        fromField,\n        relationshipField,\n        finalCardMessage,\n        photoReferences\n    ]);\n    return {\n        finalCardMessage,\n        setFinalCardMessage,\n        isGeneratingMessage,\n        setIsGeneratingMessage,\n        messageHistory,\n        setMessageHistory,\n        currentMessageIndex,\n        setCurrentMessageIndex,\n        refinementPrompt,\n        setRefinementPrompt,\n        isRefiningMessage,\n        setIsRefiningMessage,\n        showRefinementBox,\n        setShowRefinementBox,\n        handleGetMessageHelp,\n        addMessageToHistory,\n        undoMessage,\n        redoMessage\n    };\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2hvb2tzL2NhcmRTdHVkaW8vdXNlTWVzc2FnZUdlbmVyYXRpb24udHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OzswRUFFOEM7QUFDZjtBQUN3QztBQUNmO0FBQ25CO0FBRTlCLFNBQVNNLHFCQUNkQyxZQUFvQixFQUNwQkMsY0FBc0IsRUFDdEJDLFlBQW9CLEVBQ3BCQyxNQUFjLEVBQ2RDLE9BQWUsRUFDZkMsU0FBaUIsRUFDakJDLGlCQUF5QixFQUN6QkMsZUFBa0M7SUFFbEMsTUFBTSxDQUFDQyxrQkFBa0JDLG9CQUFvQixHQUFHaEIsK0NBQVFBLENBQUM7SUFDekQsTUFBTSxDQUFDaUIscUJBQXFCQyx1QkFBdUIsR0FBR2xCLCtDQUFRQSxDQUFDO0lBQy9ELE1BQU0sQ0FBQ21CLGdCQUFnQkMsa0JBQWtCLEdBQUdwQiwrQ0FBUUEsQ0FBVyxFQUFFO0lBQ2pFLE1BQU0sQ0FBQ3FCLHFCQUFxQkMsdUJBQXVCLEdBQUd0QiwrQ0FBUUEsQ0FBQyxDQUFDO0lBQ2hFLE1BQU0sQ0FBQ3VCLGtCQUFrQkMsb0JBQW9CLEdBQUd4QiwrQ0FBUUEsQ0FBQztJQUN6RCxNQUFNLENBQUN5QixtQkFBbUJDLHFCQUFxQixHQUFHMUIsK0NBQVFBLENBQUM7SUFDM0QsTUFBTSxDQUFDMkIsbUJBQW1CQyxxQkFBcUIsR0FBRzVCLCtDQUFRQSxDQUFDO0lBRTNELG9DQUFvQztJQUNwQyxNQUFNNkIsc0JBQXNCLENBQUNDO1FBQzNCLElBQUlBLFFBQVFDLElBQUksT0FBTyxJQUFJO1FBRTNCLE1BQU1DLGVBQWVGLFFBQVFHLE9BQU8sQ0FBQyxpQkFBaUIsSUFBSUYsSUFBSTtRQUM5RCxJQUFJQyxpQkFBaUIsSUFBSTtRQUV6QixNQUFNRSxhQUFhZixlQUFlZ0IsS0FBSyxDQUFDLEdBQUdkLHNCQUFzQjtRQUNqRWEsV0FBV0UsSUFBSSxDQUFDSjtRQUVoQixJQUFJRSxXQUFXRyxNQUFNLEdBQUcsSUFBSTtZQUMxQkgsV0FBV0ksS0FBSztRQUNsQixP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QUM7UUFDQUM7UUFDQUM7UUFDQUM7UUFDQUM7UUFDQUM7UUFDQUM7UUFDQUM7UUFDQUM7UUFDQUM7UUFDQUM7UUFDQUM7UUFDQWM7UUFDQWI7UUFDQVU7UUFDQUU7SUFDRjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL2hvb2tzL2NhcmRTdHVkaW8vdXNlTWVzc2FnZUdlbmVyYXRpb24udHM/MjU4OCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIjtcblxuaW1wb3J0IHsgdXNlU3RhdGUsIHVzZUNhbGxiYWNrIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyB0b2FzdCB9IGZyb20gXCJzb25uZXJcIjtcbmltcG9ydCB7IFByb21wdEdlbmVyYXRvciwgTWVzc2FnZUNvbmZpZyB9IGZyb20gJ0AvbGliL3Byb21wdEdlbmVyYXRvcic7XG5pbXBvcnQgeyBjYXJkVG9uZXMsIFBob3RvUmVmZXJlbmNlIH0gZnJvbSAnLi9jb25zdGFudHMnO1xuaW1wb3J0IHsgY2hhdFdpdGhBSSB9IGZyb20gJy4vdXRpbHMnO1xuXG5leHBvcnQgZnVuY3Rpb24gdXNlTWVzc2FnZUdlbmVyYXRpb24oXG4gIHNlbGVjdGVkVHlwZTogc3RyaW5nLFxuICBjdXN0b21DYXJkVHlwZTogc3RyaW5nLFxuICBzZWxlY3RlZFRvbmU6IHN0cmluZyxcbiAgcHJvbXB0OiBzdHJpbmcsXG4gIHRvRmllbGQ6IHN0cmluZyxcbiAgZnJvbUZpZWxkOiBzdHJpbmcsXG4gIHJlbGF0aW9uc2hpcEZpZWxkOiBzdHJpbmcsXG4gIHBob3RvUmVmZXJlbmNlcz86IFBob3RvUmVmZXJlbmNlW11cbikge1xuICBjb25zdCBbZmluYWxDYXJkTWVzc2FnZSwgc2V0RmluYWxDYXJkTWVzc2FnZV0gPSB1c2VTdGF0ZShcIlwiKTtcbiAgY29uc3QgW2lzR2VuZXJhdGluZ01lc3NhZ2UsIHNldElzR2VuZXJhdGluZ01lc3NhZ2VdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbbWVzc2FnZUhpc3RvcnksIHNldE1lc3NhZ2VIaXN0b3J5XSA9IHVzZVN0YXRlPHN0cmluZ1tdPihbXSk7XG4gIGNvbnN0IFtjdXJyZW50TWVzc2FnZUluZGV4LCBzZXRDdXJyZW50TWVzc2FnZUluZGV4XSA9IHVzZVN0YXRlKC0xKTtcbiAgY29uc3QgW3JlZmluZW1lbnRQcm9tcHQsIHNldFJlZmluZW1lbnRQcm9tcHRdID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFtpc1JlZmluaW5nTWVzc2FnZSwgc2V0SXNSZWZpbmluZ01lc3NhZ2VdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbc2hvd1JlZmluZW1lbnRCb3gsIHNldFNob3dSZWZpbmVtZW50Qm94XSA9IHVzZVN0YXRlKGZhbHNlKTtcblxuICAvLyBNZXNzYWdlIHZlcnNpb24gY29udHJvbCBmdW5jdGlvbnNcbiAgY29uc3QgYWRkTWVzc2FnZVRvSGlzdG9yeSA9IChtZXNzYWdlOiBzdHJpbmcpID0+IHtcbiAgICBpZiAobWVzc2FnZS50cmltKCkgPT09IFwiXCIpIHJldHVybjtcbiAgICBcbiAgICBjb25zdCBjbGVhbk1lc3NhZ2UgPSBtZXNzYWdlLnJlcGxhY2UoLzxcXC8/TUVTU0FHRT4vZywgJycpLnRyaW0oKTtcbiAgICBpZiAoY2xlYW5NZXNzYWdlID09PSBcIlwiKSByZXR1cm47XG4gICAgXG4gICAgY29uc3QgbmV3SGlzdG9yeSA9IG1lc3NhZ2VIaXN0b3J5LnNsaWNlKDAsIGN1cnJlbnRNZXNzYWdlSW5kZXggKyAxKTtcbiAgICBuZXdIaXN0b3J5LnB1c2goY2xlYW5NZXNzYWdlKTtcbiAgICBcbiAgICBpZiAobmV3SGlzdG9yeS5sZW5ndGggPiAxMCkge1xuICAgICAgbmV3SGlzdG9yeS5zaGlmdCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzZXRDdXJyZW50TWVzc2FnZUluZGV4KGN1cnJlbnRNZXNzYWdlSW5kZXggKyAxKTtcbiAgICB9XG4gICAgXG4gICAgc2V0TWVzc2FnZUhpc3RvcnkobmV3SGlzdG9yeSk7XG4gICAgc2V0Q3VycmVudE1lc3NhZ2VJbmRleChuZXdIaXN0b3J5Lmxlbmd0aCAtIDEpO1xuICB9O1xuXG4gIGNvbnN0IHVuZG9NZXNzYWdlID0gKCkgPT4ge1xuICAgIGlmIChjdXJyZW50TWVzc2FnZUluZGV4ID4gMCkge1xuICAgICAgY29uc3QgbmV3SW5kZXggPSBjdXJyZW50TWVzc2FnZUluZGV4IC0gMTtcbiAgICAgIHNldEN1cnJlbnRNZXNzYWdlSW5kZXgobmV3SW5kZXgpO1xuICAgICAgc2V0RmluYWxDYXJkTWVzc2FnZShtZXNzYWdlSGlzdG9yeVtuZXdJbmRleF0pO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCByZWRvTWVzc2FnZSA9ICgpID0+IHtcbiAgICBpZiAoY3VycmVudE1lc3NhZ2VJbmRleCA8IG1lc3NhZ2VIaXN0b3J5Lmxlbmd0aCAtIDEpIHtcbiAgICAgIGNvbnN0IG5ld0luZGV4ID0gY3VycmVudE1lc3NhZ2VJbmRleCArIDE7XG4gICAgICBzZXRDdXJyZW50TWVzc2FnZUluZGV4KG5ld0luZGV4KTtcbiAgICAgIHNldEZpbmFsQ2FyZE1lc3NhZ2UobWVzc2FnZUhpc3RvcnlbbmV3SW5kZXhdKTtcbiAgICB9XG4gIH07XG5cbiAgLy8gRnVsbCBtZXNzYWdlIGdlbmVyYXRpb24gZnVuY3Rpb25cbiAgY29uc3QgaGFuZGxlR2V0TWVzc2FnZUhlbHAgPSB1c2VDYWxsYmFjayhhc3luYyAodXNlcklucHV0Pzogc3RyaW5nKSA9PiB7XG4gICAgLy8gVmFsaWRhdGUgY3VzdG9tIGNhcmQgdHlwZSBpZiBzZWxlY3RlZFxuICAgIGlmIChzZWxlY3RlZFR5cGUgPT09IFwiY3VzdG9tXCIgJiYgIWN1c3RvbUNhcmRUeXBlLnRyaW0oKSkge1xuICAgICAgdG9hc3QuZXJyb3IoXCJQbGVhc2UgZGVzY3JpYmUgeW91ciBjdXN0b20gY2FyZCB0eXBlIGZpcnN0IVwiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgXG4gICAgc2V0SXNHZW5lcmF0aW5nTWVzc2FnZSh0cnVlKTtcblxuICAgIHRyeSB7XG4gICAgICBjb25zdCBjYXJkVHlwZUZvclByb21wdCA9IHNlbGVjdGVkVHlwZSA9PT0gXCJjdXN0b21cIiA/IGN1c3RvbUNhcmRUeXBlIDogc2VsZWN0ZWRUeXBlO1xuICAgICAgY29uc3Qgc2VsZWN0ZWRUb25lT2JqID0gY2FyZFRvbmVzLmZpbmQodG9uZSA9PiB0b25lLmlkID09PSBzZWxlY3RlZFRvbmUpO1xuICAgICAgY29uc3QgdG9uZURlc2NyaXB0aW9uID0gc2VsZWN0ZWRUb25lT2JqID8gc2VsZWN0ZWRUb25lT2JqLmRlc2NyaXB0aW9uLnRvTG93ZXJDYXNlKCkgOiBcImhlYXJ0ZmVsdCBhbmQgc2luY2VyZVwiO1xuICAgICAgXG4gICAgICAvLyBVc2UgZWZmZWN0aXZlIHByb21wdCBsb2dpYyBoZXJlIHRvb1xuICAgICAgY29uc3QgZWZmZWN0aXZlUHJvbXB0ID0gcHJvbXB0LnRyaW0oKSB8fCBgQSBiZWF1dGlmdWwgJHtjYXJkVHlwZUZvclByb21wdH0gY2FyZCB3aXRoICR7dG9uZURlc2NyaXB0aW9ufSBzdHlsZWA7XG4gICAgICBcbiAgICAgIC8vIFVzZSBQcm9tcHRHZW5lcmF0b3IgZm9yIG1lc3NhZ2UgZ2VuZXJhdGlvblxuICAgICAgY29uc3QgbWVzc2FnZUNvbmZpZzogTWVzc2FnZUNvbmZpZyA9IHtcbiAgICAgICAgY2FyZFR5cGU6IHNlbGVjdGVkVHlwZSxcbiAgICAgICAgY3VzdG9tQ2FyZFR5cGU6IGN1c3RvbUNhcmRUeXBlLFxuICAgICAgICB0b25lOiBzZWxlY3RlZFRvbmUsXG4gICAgICAgIHRvbmVMYWJlbDogc2VsZWN0ZWRUb25lT2JqID8gc2VsZWN0ZWRUb25lT2JqLmxhYmVsIDogXCJIZWFydGZlbHRcIixcbiAgICAgICAgdG9uZURlc2NyaXB0aW9uOiB0b25lRGVzY3JpcHRpb24sXG4gICAgICAgIHRoZW1lOiBlZmZlY3RpdmVQcm9tcHQsXG4gICAgICAgIHRvRmllbGQ6IHRvRmllbGQsXG4gICAgICAgIGZyb21GaWVsZDogZnJvbUZpZWxkLFxuICAgICAgICByZWxhdGlvbnNoaXBGaWVsZDogcmVsYXRpb25zaGlwRmllbGQsXG4gICAgICAgIHBob3RvUmVmZXJlbmNlczogcGhvdG9SZWZlcmVuY2VzXG4gICAgICB9O1xuXG4gICAgICBjb25zdCBtZXNzYWdlUHJvbXB0ID0gUHJvbXB0R2VuZXJhdG9yLmdlbmVyYXRlTWVzc2FnZVByb21wdChtZXNzYWdlQ29uZmlnKTtcblxuICAgICAgY29uc3QgZ2VuZXJhdGVkTWVzc2FnZSA9IGF3YWl0IGNoYXRXaXRoQUkobWVzc2FnZVByb21wdCwge1xuICAgICAgICBtb2RlbDogXCJnZW1pbmktMi41LXByb1wiLFxuICAgICAgICBpbmNsdWRlVGhvdWdodHM6IGZhbHNlICAvLyBEb24ndCBpbmNsdWRlIHRoaW5raW5nIGNvbnRlbnQgaW4gbWVzc2FnZSBnZW5lcmF0aW9uXG4gICAgICB9KTtcblxuICAgICAgaWYgKGdlbmVyYXRlZE1lc3NhZ2U/LnRyaW0oKSkge1xuICAgICAgICAvLyBFeHRyYWN0IG1lc3NhZ2UgY29udGVudCBiZXR3ZWVuIDxNRVNTQUdFPiB0YWdzIHVzaW5nIHJlZ2V4XG4gICAgICAgIGNvbnN0IG1lc3NhZ2VNYXRjaCA9IGdlbmVyYXRlZE1lc3NhZ2UubWF0Y2goLzxNRVNTQUdFPihbXFxzXFxTXSo/KTxcXC9NRVNTQUdFPi8pO1xuICAgICAgICBsZXQgZXh0cmFjdGVkTWVzc2FnZSA9IG1lc3NhZ2VNYXRjaCA/IG1lc3NhZ2VNYXRjaFsxXS50cmltKCkgOiBnZW5lcmF0ZWRNZXNzYWdlLnRyaW0oKTtcbiAgICAgICAgXG4gICAgICAgIC8vIEVuc3VyZSBubyBNRVNTQUdFIHRhZ3MgYXJlIGluY2x1ZGVkIGluIHRoZSBmaW5hbCBtZXNzYWdlXG4gICAgICAgIGV4dHJhY3RlZE1lc3NhZ2UgPSBleHRyYWN0ZWRNZXNzYWdlLnJlcGxhY2UoLzxcXC8/TUVTU0FHRT4vZywgJycpLnRyaW0oKTtcbiAgICAgICAgXG4gICAgICAgIC8vIEFkZCBjdXJyZW50IG1lc3NhZ2UgdG8gaGlzdG9yeSBpZiBpdCBleGlzdHMgYW5kIGlzIGRpZmZlcmVudFxuICAgICAgICBpZiAoZmluYWxDYXJkTWVzc2FnZS50cmltKCkgJiYgZmluYWxDYXJkTWVzc2FnZS50cmltKCkgIT09IGV4dHJhY3RlZE1lc3NhZ2UpIHtcbiAgICAgICAgICBhZGRNZXNzYWdlVG9IaXN0b3J5KGZpbmFsQ2FyZE1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBzZXRGaW5hbENhcmRNZXNzYWdlKGV4dHJhY3RlZE1lc3NhZ2UpO1xuICAgICAgICBcbiAgICAgICAgLy8gQWRkIHRoZSBuZXcgbWVzc2FnZSB0byBoaXN0b3J5XG4gICAgICAgIGFkZE1lc3NhZ2VUb0hpc3RvcnkoZXh0cmFjdGVkTWVzc2FnZSk7XG4gICAgICAgIFxuICAgICAgICB0b2FzdC5zdWNjZXNzKFwi4pyoIFBlcnNvbmFsaXplZCBtZXNzYWdlIGNyZWF0ZWQhXCIpO1xuICAgICAgICBcbiAgICAgICAgLy8gUmV0dXJuIHRoZSBnZW5lcmF0ZWQgbWVzc2FnZSBzbyB0aGUgY2FsbGVyIGNhbiB1c2UgaXRcbiAgICAgICAgcmV0dXJuIGV4dHJhY3RlZE1lc3NhZ2U7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHRvYXN0LmVycm9yKFwiRmFpbGVkIHRvIGdlbmVyYXRlIG1lc3NhZ2UuIFBsZWFzZSB0cnkgYWdhaW4uXCIpO1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldElzR2VuZXJhdGluZ01lc3NhZ2UoZmFsc2UpO1xuICAgIH1cbiAgfSwgW3NlbGVjdGVkVHlwZSwgY3VzdG9tQ2FyZFR5cGUsIHNlbGVjdGVkVG9uZSwgcHJvbXB0LCB0b0ZpZWxkLCBmcm9tRmllbGQsIHJlbGF0aW9uc2hpcEZpZWxkLCBmaW5hbENhcmRNZXNzYWdlLCBwaG90b1JlZmVyZW5jZXNdKTtcblxuICByZXR1cm4ge1xuICAgIGZpbmFsQ2FyZE1lc3NhZ2UsXG4gICAgc2V0RmluYWxDYXJkTWVzc2FnZSxcbiAgICBpc0dlbmVyYXRpbmdNZXNzYWdlLFxuICAgIHNldElzR2VuZXJhdGluZ01lc3NhZ2UsXG4gICAgbWVzc2FnZUhpc3RvcnksXG4gICAgc2V0TWVzc2FnZUhpc3RvcnksXG4gICAgY3VycmVudE1lc3NhZ2VJbmRleCxcbiAgICBzZXRDdXJyZW50TWVzc2FnZUluZGV4LFxuICAgIHJlZmluZW1lbnRQcm9tcHQsXG4gICAgc2V0UmVmaW5lbWVudFByb21wdCxcbiAgICBpc1JlZmluaW5nTWVzc2FnZSxcbiAgICBzZXRJc1JlZmluaW5nTWVzc2FnZSxcbiAgICBzaG93UmVmaW5lbWVudEJveCxcbiAgICBzZXRTaG93UmVmaW5lbWVudEJveCxcbiAgICBoYW5kbGVHZXRNZXNzYWdlSGVscCxcbiAgICBhZGRNZXNzYWdlVG9IaXN0b3J5LFxuICAgIHVuZG9NZXNzYWdlLFxuICAgIHJlZG9NZXNzYWdlXG4gIH07XG59Il0sIm5hbWVzIjpbInVzZVN0YXRlIiwidXNlQ2FsbGJhY2siLCJ0b2FzdCIsIlByb21wdEdlbmVyYXRvciIsImNhcmRUb25lcyIsImNoYXRXaXRoQUkiLCJ1c2VNZXNzYWdlR2VuZXJhdGlvbiIsInNlbGVjdGVkVHlwZSIsImN1c3RvbUNhcmRUeXBlIiwic2VsZWN0ZWRUb25lIiwicHJvbXB0IiwidG9GaWVsZCIsImZyb21GaWVsZCIsInJlbGF0aW9uc2hpcEZpZWxkIiwicGhvdG9SZWZlcmVuY2VzIiwiZmluYWxDYXJkTWVzc2FnZSIsInNldEZpbmFsQ2FyZE1lc3NhZ2UiLCJpc0dlbmVyYXRpbmdNZXNzYWdlIiwic2V0SXNHZW5lcmF0aW5nTWVzc2FnZSIsIm1lc3NhZ2VIaXN0b3J5Iiwic2V0TWVzc2FnZUhpc3RvcnkiLCJjdXJyZW50TWVzc2FnZUluZGV4Iiwic2V0Q3VycmVudE1lc3NhZ2VJbmRleCIsInJlZmluZW1lbnRQcm9tcHQiLCJzZXRSZWZpbmVtZW50UHJvbXB0IiwiaXNSZWZpbmluZ01lc3NhZ2UiLCJzZXRJc1JlZmluaW5nTWVzc2FnZSIsInNob3dSZWZpbmVtZW50Qm94Iiwic2V0U2hvd1JlZmluZW1lbnRCb3giLCJhZGRNZXNzYWdlVG9IaXN0b3J5IiwibWVzc2FnZSIsInRyaW0iLCJjbGVhbk1lc3NhZ2UiLCJyZXBsYWNlIiwibmV3SGlzdG9yeSIsInNsaWNlIiwicHVzaCIsImxlbmd0aCIsInNoaWZ0IiwidW5kb01lc3NhZ2UiLCJuZXdJbmRleCIsInJlZG9NZXNzYWdlIiwiaGFuZGxlR2V0TWVzc2FnZUhlbHAiLCJ1c2VySW5wdXQiLCJlcnJvciIsImNhcmRUeXBlRm9yUHJvbXB0Iiwic2VsZWN0ZWRUb25lT2JqIiwiZmluZCIsInRvbmUiLCJpZCIsInRvbmVEZXNjcmlwdGlvbiIsImRlc2NyaXB0aW9uIiwidG9Mb3dlckNhc2UiLCJlZmZlY3RpdmVQcm9tcHQiLCJtZXNzYWdlQ29uZmlnIiwiY2FyZFR5cGUiLCJ0b25lTGFiZWwiLCJsYWJlbCIsInRoZW1lIiwibWVzc2FnZVByb21wdCIsImdlbmVyYXRlTWVzc2FnZVByb21wdCIsImdlbmVyYXRlZE1lc3NhZ2UiLCJtb2RlbCIsImluY2x1ZGVUaG91Z2h0cyIsIm1lc3NhZ2VNYXRjaCIsIm1hdGNoIiwiZXh0cmFjdGVkTWVzc2FnZSIsInN1Y2Nlc3MiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./hooks/cardStudio/useMessageGeneration.ts\n"));

/***/ })

});