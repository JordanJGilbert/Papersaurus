"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/wizard/page",{

/***/ "(app-pages-browser)/./hooks/useCardStudioRefactored.ts":
/*!******************************************!*\
  !*** ./hooks/useCardStudioRefactored.ts ***!
  \******************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useCardStudio: function() { return /* binding */ useCardStudio; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var sonner__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! sonner */ \"(app-pages-browser)/./node_modules/sonner/dist/index.mjs\");\n/* harmony import */ var _cardStudio_useWebSocket__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./cardStudio/useWebSocket */ \"(app-pages-browser)/./hooks/cardStudio/useWebSocket.ts\");\n/* harmony import */ var _cardStudio_useJobManagementSimplified__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./cardStudio/useJobManagementSimplified */ \"(app-pages-browser)/./hooks/cardStudio/useJobManagementSimplified.ts\");\n/* harmony import */ var _cardStudio_useMessageGeneration__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./cardStudio/useMessageGeneration */ \"(app-pages-browser)/./hooks/cardStudio/useMessageGeneration.ts\");\n/* harmony import */ var _cardStudio_useFileHandling__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./cardStudio/useFileHandling */ \"(app-pages-browser)/./hooks/cardStudio/useFileHandling.ts\");\n/* harmony import */ var _cardStudio_useDraftGeneration__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./cardStudio/useDraftGeneration */ \"(app-pages-browser)/./hooks/cardStudio/useDraftGeneration.ts\");\n/* harmony import */ var _cardStudio_useCardGeneration__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./cardStudio/useCardGeneration */ \"(app-pages-browser)/./hooks/cardStudio/useCardGeneration.ts\");\n/* harmony import */ var _cardStudio_constants__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./cardStudio/constants */ \"(app-pages-browser)/./hooks/cardStudio/constants.ts\");\n/* harmony import */ var _cardStudio_utils__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./cardStudio/utils */ \"(app-pages-browser)/./hooks/cardStudio/utils.ts\");\n/* harmony import */ var _lib_storageManager__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @/lib/storageManager */ \"(app-pages-browser)/./lib/storageManager.ts\");\n/* __next_internal_client_entry_do_not_use__ useCardStudio auto */ \n\n// Import modular hooks\n\n\n\n\n\n\n// Import constants and utils\n\n\n\nfunction useCardStudio() {\n    // Core form state\n    const [prompt, setPrompt] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(\"\");\n    const [toField, setToField] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(\"\");\n    const [fromField, setFromField] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(\"\");\n    const [relationshipField, setRelationshipField] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(\"\");\n    const [personalTraits, setPersonalTraits] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(\"\");\n    const [selectedType, setSelectedType] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(\"birthday\");\n    const [customCardType, setCustomCardType] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(\"\");\n    const [selectedTone, setSelectedTone] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(\"funny\");\n    // Advanced options state\n    const [showAdvanced, setShowAdvanced] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [selectedArtisticStyle, setSelectedArtisticStyle] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(\"ai-smart-style\");\n    const [customStyleDescription, setCustomStyleDescription] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(\"\");\n    const [selectedImageModel, setSelectedImageModel] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(\"gpt-image-1\");\n    const [selectedDraftModel, setSelectedDraftModel] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(\"gpt-image-1\");\n    const [fastPreviewMode, setFastPreviewMode] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(true);\n    // Email state\n    const [userEmail, setUserEmail] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(\"\");\n    // Card options\n    const [numberOfCards, setNumberOfCards] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(1);\n    const [isHandwrittenMessage, setIsHandwrittenMessage] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [isFrontBackOnly, setIsFrontBackOnly] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [selectedPaperSize, setSelectedPaperSize] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(\"standard\");\n    // UI state\n    const [isTextareaExpanded, setIsTextareaExpanded] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [isMessageExpanded, setIsMessageExpanded] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [showSettings, setShowSettings] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [showTemplateGallery, setShowTemplateGallery] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [showPrintConfirmation, setShowPrintConfirmation] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [showTemplateCustomization, setShowTemplateCustomization] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    // Restoration state\n    const [isRestoringJobs, setIsRestoringJobs] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(true);\n    const [selectedTemplate, setSelectedTemplate] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [isInitialLoadComplete, setIsInitialLoadComplete] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    // Template state\n    const [templateSearchQuery, setTemplateSearchQuery] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(\"\");\n    const [isSearchingTemplates, setIsSearchingTemplates] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [aiFilteredCards, setAiFilteredCards] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]);\n    const [searchMode, setSearchMode] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(\"text\");\n    const [textFilteredCards, setTextFilteredCards] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]);\n    const [showPrompts, setShowPrompts] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [printOption, setPrintOption] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(\"physical\");\n    // Template customization state\n    const [templateCustomizations, setTemplateCustomizations] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({\n        promptChanges: \"\",\n        messageChanges: \"\",\n        useReferenceImage: false,\n        referenceImageFile: null,\n        referenceImageUrls: [],\n        referenceImageTransformation: \"\"\n    });\n    // Section loading states\n    const [sectionLoadingStates, setSectionLoadingStates] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({\n        frontCover: \"idle\",\n        backCover: \"idle\",\n        leftInterior: \"idle\",\n        rightInterior: \"idle\"\n    });\n    // Countdown state\n    const [countdown, setCountdown] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(0);\n    const [countdownInterval, setCountdownInterval] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    // Use modular hooks\n    const webSocket = (0,_cardStudio_useWebSocket__WEBPACK_IMPORTED_MODULE_2__.useWebSocket)();\n    const jobManagement = (0,_cardStudio_useJobManagementSimplified__WEBPACK_IMPORTED_MODULE_3__.useJobManagement)();\n    const fileHandling = (0,_cardStudio_useFileHandling__WEBPACK_IMPORTED_MODULE_5__.useFileHandling)();\n    const messageGeneration = (0,_cardStudio_useMessageGeneration__WEBPACK_IMPORTED_MODULE_4__.useMessageGeneration)(selectedType, customCardType, selectedTone, prompt, toField, fromField, relationshipField, fileHandling.photoReferences);\n    // Draft generation props\n    const draftGenerationProps = {\n        selectedType,\n        customCardType,\n        selectedTone,\n        selectedArtisticStyle,\n        customStyleDescription,\n        selectedDraftModel,\n        selectedImageModel,\n        selectedPaperSize,\n        prompt,\n        personalTraits,\n        toField,\n        fromField,\n        userEmail,\n        finalCardMessage: messageGeneration.finalCardMessage,\n        isHandwrittenMessage,\n        isFrontBackOnly,\n        referenceImageUrls: fileHandling.referenceImageUrls,\n        photoReferences: fileHandling.photoReferences,\n        relationshipField,\n        saveJobToStorage: jobManagement.saveJobToStorage,\n        subscribeToJob: webSocket.subscribeToJob,\n        unsubscribeFromAllJobs: webSocket.unsubscribeFromAllJobs,\n        startElapsedTimeTracking: jobManagement.startElapsedTimeTracking,\n        stopElapsedTimeTracking: jobManagement.stopElapsedTimeTracking,\n        setProgressPercentage: jobManagement.setProgressPercentage\n    };\n    const draftGeneration = (0,_cardStudio_useDraftGeneration__WEBPACK_IMPORTED_MODULE_6__.useDraftGeneration)(draftGenerationProps);\n    // Card generation props\n    const cardGenerationProps = {\n        selectedType,\n        customCardType,\n        selectedTone,\n        selectedArtisticStyle,\n        customStyleDescription,\n        selectedImageModel,\n        selectedPaperSize,\n        prompt,\n        personalTraits,\n        toField,\n        fromField,\n        userEmail,\n        finalCardMessage: messageGeneration.finalCardMessage,\n        isHandwrittenMessage,\n        isFrontBackOnly,\n        referenceImageUrls: fileHandling.referenceImageUrls,\n        photoReferences: fileHandling.photoReferences,\n        relationshipField,\n        numberOfCards,\n        saveJobToStorage: jobManagement.saveJobToStorage,\n        removeJobFromStorage: jobManagement.removeJobFromStorage,\n        subscribeToJob: webSocket.subscribeToJob,\n        startElapsedTimeTracking: jobManagement.startElapsedTimeTracking,\n        stopElapsedTimeTracking: jobManagement.stopElapsedTimeTracking,\n        setCurrentJobId: jobManagement.setCurrentJobId,\n        setIsDraftMode: draftGeneration.setIsDraftMode,\n        setDraftCards: draftGeneration.setDraftCards,\n        setSelectedDraftIndex: draftGeneration.setSelectedDraftIndex,\n        setIsGeneratingFinalCard: draftGeneration.setIsGeneratingFinalCard,\n        setPreviewingDraftIndex: draftGeneration.setPreviewingDraftIndex,\n        setDraftCompletionShown: draftGeneration.setDraftCompletionShown,\n        setDraftCompletionCount: draftGeneration.setDraftCompletionCount\n    };\n    const cardGeneration = (0,_cardStudio_useCardGeneration__WEBPACK_IMPORTED_MODULE_7__.useCardGeneration)(cardGenerationProps);\n    // Handle job updates from WebSocket\n    const handleJobUpdate = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((data)=>{\n        const { job_id, status, progress, cardData, error, completedAt } = data;\n        if (!job_id) return;\n        // Skip updates if we're still restoring jobs from localStorage\n        if (isRestoringJobs) {\n            console.log(\"⏳ Skipping job update during restoration:\", job_id);\n            return;\n        }\n        // Check if this is a draft job\n        const isDraftJob = job_id.startsWith(\"draft-\");\n        const draftIndex = isDraftJob ? parseInt(job_id.split(\"-\")[1]) : -1;\n        // Filter out updates from wrong job type\n        // If we're in draft mode, only process draft jobs\n        // If we're in final mode, only process non-draft jobs\n        const isInDraftMode = draftGeneration.isDraftMode;\n        if (isInDraftMode && !isDraftJob) {\n            console.log(\"\\uD83D\\uDEAB Ignoring non-draft job update in draft mode:\", job_id);\n            return;\n        }\n        if (!isInDraftMode && isDraftJob) {\n            console.log(\"\\uD83D\\uDEAB Ignoring draft job update in final mode:\", job_id);\n            return;\n        }\n        console.log(\"\\uD83D\\uDD04 Processing job update:\", {\n            job_id,\n            status,\n            isDraftJob,\n            draftIndex,\n            progress\n        });\n        // Handle status transitions\n        if (status === \"processing\" && !cardGeneration.isGenerating && !draftGeneration.isGenerating) {\n            console.log(\"\\uD83D\\uDD04 Job is processing, setting generation state\");\n            if (isDraftJob) {\n                draftGeneration.setIsGenerating(true);\n                draftGeneration.setIsDraftMode(true);\n                jobManagement.startElapsedTimeTracking(\"draft\");\n            } else {\n                cardGeneration.setIsGenerating(true);\n                jobManagement.startElapsedTimeTracking(\"final\");\n            }\n        }\n        // Update progress if provided\n        if (progress) {\n            // IMPORTANT: Don't show \"Generation complete!\" until we've actually processed the card\n            // This prevents the UI from showing completion before the card is ready\n            if (progress.includes(\"Generation complete!\") && status === \"completed\" && !isDraftJob) {\n                console.log('⏸️ Holding \"Generation complete!\" message until card is processed');\n            // Don't update the progress message yet - it will be set in handleFinalCardCompletion\n            } else {\n                cardGeneration.setGenerationProgress(progress);\n                draftGeneration.setGenerationProgress(progress);\n                console.log(\"\\uD83D\\uDCCA Progress message: \".concat(progress));\n            }\n        }\n        if (status === \"completed\" && cardData) {\n            console.log(\"\\uD83C\\uDF89 Job completed! Card data:\", cardData, \"isDraftJob:\", isDraftJob);\n            // If this is the first update for a recovery job, ensure generation state is set properly\n            if (isDraftJob && !draftGeneration.isGenerating && draftGeneration.draftCards.filter(Boolean).length === 0) {\n                console.log(\"\\uD83D\\uDCE5 Recovered completed draft job - not setting as generating\");\n            // Don't set isGenerating for already completed jobs during recovery\n            }\n            if (isDraftJob && draftIndex >= 0) {\n                var _cardData_generatedPrompts, _cardData_generatedPrompts1, _cardData_generatedPrompts2, _cardData_generatedPrompts3;\n                // Handle draft card completion\n                console.log(\"\\uD83C\\uDFA8 Draft variation \".concat(draftIndex + 1, \" completed!\"));\n                // Get style info for smart style mode\n                let styleInfo = undefined;\n                if (selectedArtisticStyle === \"ai-smart-style\") {\n                    const predefinedStyles = [\n                        \"watercolor\",\n                        \"botanical\",\n                        \"comic-book\",\n                        \"dreamy-fantasy\",\n                        \"minimalist\"\n                    ];\n                    const styleLabels = [\n                        \"\\uD83C\\uDFA8 Watercolor\",\n                        \"\\uD83C\\uDF3F Botanical\",\n                        \"\\uD83D\\uDCA5 Comic Book\",\n                        \"\\uD83C\\uDF38 Dreamy Fantasy\",\n                        \"✨ Minimalist\"\n                    ];\n                    if (draftIndex >= 0 && draftIndex < predefinedStyles.length) {\n                        styleInfo = {\n                            styleName: predefinedStyles[draftIndex],\n                            styleLabel: styleLabels[draftIndex]\n                        };\n                    }\n                }\n                const draftCard = {\n                    id: \"draft-\".concat(draftIndex + 1, \"-\").concat(Date.now()),\n                    prompt: cardData.prompt || \"Draft Variation \".concat(draftIndex + 1),\n                    frontCover: cardData.frontCover || \"\",\n                    backCover: cardData.backCover || \"\",\n                    leftPage: cardData.leftInterior || cardData.leftPage || \"\",\n                    rightPage: cardData.rightInterior || cardData.rightPage || \"\",\n                    createdAt: new Date(),\n                    generatedPrompts: cardData.generatedPrompts || {\n                        frontCover: ((_cardData_generatedPrompts = cardData.generatedPrompts) === null || _cardData_generatedPrompts === void 0 ? void 0 : _cardData_generatedPrompts.frontCover) || \"\",\n                        backCover: ((_cardData_generatedPrompts1 = cardData.generatedPrompts) === null || _cardData_generatedPrompts1 === void 0 ? void 0 : _cardData_generatedPrompts1.backCover) || \"\",\n                        leftInterior: ((_cardData_generatedPrompts2 = cardData.generatedPrompts) === null || _cardData_generatedPrompts2 === void 0 ? void 0 : _cardData_generatedPrompts2.leftInterior) || \"\",\n                        rightInterior: ((_cardData_generatedPrompts3 = cardData.generatedPrompts) === null || _cardData_generatedPrompts3 === void 0 ? void 0 : _cardData_generatedPrompts3.rightInterior) || \"\"\n                    },\n                    styleInfo: styleInfo\n                };\n                // Simplified draft tracking - use fixed array positions\n                draftGeneration.setDraftCards((prev)=>{\n                    const updated = [\n                        ...prev\n                    ];\n                    // Ensure array has 5 slots\n                    while(updated.length < 5){\n                        updated.push(null);\n                    }\n                    // Place draft at its correct index\n                    updated[draftIndex] = draftCard;\n                    console.log(\"✅ Draft \".concat(draftIndex + 1, \" completed and stored at index \").concat(draftIndex));\n                    // No longer save individual drafts to localStorage\n                    return updated;\n                });\n                // Simplified completion tracking - count the updated array including the new draft\n                const updatedDrafts = [\n                    ...draftGeneration.draftCards\n                ];\n                updatedDrafts[draftIndex] = draftCard;\n                const completedCount = updatedDrafts.filter(Boolean).length;\n                console.log(\"\\uD83D\\uDCCA Draft progress: \".concat(completedCount, \"/5 variations complete\"));\n                // Update progress\n                const progressMsg = completedCount === 5 ? \"All 5 variations ready! Choose your favorite below.\" : \"\".concat(completedCount, \"/5 variations complete...\").concat(completedCount >= 2 ? \" You can select one now!\" : \"\");\n                draftGeneration.setGenerationProgress(progressMsg);\n                // Override time-based progress with real progress when drafts complete\n                // Don't override time-based progress\n                console.log(\"\\uD83C\\uDFA8 Draft \".concat(completedCount, \"/5 completed\"));\n                // Handle milestones\n                if (completedCount === 1) {\n                    (0,_cardStudio_utils__WEBPACK_IMPORTED_MODULE_9__.scrollToCardPreview)();\n                }\n                if (completedCount === 5 && !draftGeneration.isGeneratingFinalCard) {\n                    draftGeneration.setIsGenerating(false);\n                    jobManagement.stopElapsedTimeTracking();\n                    // Clear recovery data for completed draft jobs\n                    _lib_storageManager__WEBPACK_IMPORTED_MODULE_10__.storage.clearRecovery();\n                    console.log(\"\\uD83E\\uDDF9 Cleared recovery data for completed draft job\");\n                    sonner__WEBPACK_IMPORTED_MODULE_1__.toast.success(\"\\uD83C\\uDFA8 All 5 front cover variations ready! Choose your favorite below.\");\n                }\n                // Keep draft jobs in storage for later retrieval\n                // Only unsubscribe from WebSocket\n                webSocket.unsubscribeFromJob(job_id);\n                console.log(\"✅ Keeping draft job \".concat(job_id, \" in storage for future access\"));\n            } else {\n                // Handle final card completion\n                console.log(\"\\uD83D\\uDD0D Final card completion detected. Card data structure:\", {\n                    hasCardData: !!cardData,\n                    cardDataKeys: Object.keys(cardData || {}),\n                    frontCover: (cardData === null || cardData === void 0 ? void 0 : cardData.frontCover) ? \"Present\" : \"Missing\",\n                    backCover: (cardData === null || cardData === void 0 ? void 0 : cardData.backCover) ? \"Present\" : \"Missing\",\n                    leftInterior: (cardData === null || cardData === void 0 ? void 0 : cardData.leftInterior) ? \"Present\" : \"Missing\",\n                    rightInterior: (cardData === null || cardData === void 0 ? void 0 : cardData.rightInterior) ? \"Present\" : \"Missing\",\n                    leftPage: (cardData === null || cardData === void 0 ? void 0 : cardData.leftPage) ? \"Present\" : \"Missing\",\n                    rightPage: (cardData === null || cardData === void 0 ? void 0 : cardData.rightPage) ? \"Present\" : \"Missing\"\n                });\n                console.log(\"\\uD83D\\uDCDD Full card data:\", JSON.stringify(cardData, null, 2));\n                // Map backend field names to frontend field names\n                const mappedCardData = {\n                    ...cardData,\n                    leftInterior: cardData.leftInterior || cardData.leftPage,\n                    rightInterior: cardData.rightInterior || cardData.rightPage,\n                    // Keep original fields for backward compatibility\n                    leftPage: cardData.leftPage || cardData.leftInterior,\n                    rightPage: cardData.rightPage || cardData.rightInterior\n                };\n                console.log(\"\\uD83D\\uDD04 Mapped card data for frontend compatibility:\", {\n                    frontCover: mappedCardData.frontCover ? \"Present\" : \"Missing\",\n                    backCover: mappedCardData.backCover ? \"Present\" : \"Missing\",\n                    leftInterior: mappedCardData.leftInterior ? \"Present\" : \"Missing\",\n                    rightInterior: mappedCardData.rightInterior ? \"Present\" : \"Missing\"\n                });\n                // Call the completion handler\n                console.log(\"\\uD83D\\uDE80 Calling handleFinalCardCompletion...\");\n                cardGeneration.handleFinalCardCompletion(mappedCardData);\n                // Card is automatically added to recent cards by markJobComplete\n                // Only clear recovery if we're not in the middle of restoring\n                if (!isRestoringJobs) {\n                    jobManagement.removeJobFromStorage(job_id);\n                }\n                jobManagement.setCurrentJobId(null);\n                webSocket.unsubscribeFromJob(job_id);\n            }\n        } else if (status === \"failed\") {\n            console.error(\"❌ Job failed:\", error);\n            if (isDraftJob && draftIndex >= 0) {\n                sonner__WEBPACK_IMPORTED_MODULE_1__.toast.error(\"Draft variation \".concat(draftIndex + 1, \" failed. Continuing with others...\"));\n            } else {\n                sonner__WEBPACK_IMPORTED_MODULE_1__.toast.error(\"❌ Card generation failed. Please try again.\");\n                cardGeneration.setIsGenerating(false);\n                draftGeneration.setIsGeneratingFinalCard(false);\n                jobManagement.stopElapsedTimeTracking();\n                cardGeneration.setGenerationProgress(\"\");\n                // Don't reset progress - let time-based progress continue\n                // jobManagement.setProgressPercentage(0);\n                jobManagement.setCurrentJobId(null);\n                webSocket.unsubscribeFromJob(job_id);\n            }\n            // Only clear recovery if we're not in the middle of restoring\n            if (!isRestoringJobs) {\n                jobManagement.removeJobFromStorage(job_id);\n            }\n        } else if (status === \"not_found\") {\n            console.warn(\"⚠️ Job not found on server, cleaning up stale reference:\", job_id);\n            // Clean up stale job reference\n            if (webSocket.currentJobRef.current === job_id) {\n                webSocket.currentJobRef.current = null;\n            }\n            // Reset UI state if this was the current job\n            if (jobManagement.currentJobId === job_id) {\n                jobManagement.setCurrentJobId(null);\n                cardGeneration.setIsGenerating(false);\n                draftGeneration.setIsGeneratingFinalCard(false);\n                cardGeneration.setGenerationProgress(\"\");\n                // Don't reset progress - let time-based progress continue\n                // jobManagement.setProgressPercentage(0);\n                jobManagement.stopElapsedTimeTracking();\n            }\n            // Clean up storage\n            // Only clear recovery if we're not in the middle of restoring\n            if (!isRestoringJobs) {\n                jobManagement.removeJobFromStorage(job_id);\n            }\n            webSocket.unsubscribeFromJob(job_id);\n        }\n    }, [\n        selectedArtisticStyle,\n        draftGeneration,\n        cardGeneration,\n        jobManagement,\n        webSocket,\n        isRestoringJobs\n    ]);\n    // Set up WebSocket job update handler\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        webSocket.setJobUpdateHandler(handleJobUpdate);\n    }, [\n        webSocket,\n        handleJobUpdate\n    ]);\n    // Track if we've already logged the stale job message\n    const staleJobLoggedRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(false);\n    // Auto-reconnect WebSocket if disconnected during active generation\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        if (!webSocket.isSocketConnected && (cardGeneration.isGenerating || draftGeneration.isGeneratingFinalCard) && webSocket.currentJobRef.current) {\n            // Check if the generation has been running for more than 5 minutes\n            if (jobManagement.generationStartTime) {\n                const jobAge = Date.now() - jobManagement.generationStartTime;\n                if (jobAge > 5 * 60 * 1000) {\n                    if (!staleJobLoggedRef.current) {\n                        console.log(\"⏰ Job is older than 5 minutes, stopping reconnection attempts\");\n                        staleJobLoggedRef.current = true;\n                        // Clean up stale job\n                        const jobId = webSocket.currentJobRef.current;\n                        if (jobId) {\n                            console.log(\"\\uD83E\\uDDF9 Cleaning up stale job:\", jobId);\n                            // Remove from localStorage (only if not a draft job)\n                            if (!jobId.startsWith(\"draft-\")) {\n                                jobManagement.removeJobFromStorage(jobId);\n                            }\n                            // Reset generation states\n                            cardGeneration.setIsGenerating(false);\n                            draftGeneration.setIsGeneratingFinalCard(false);\n                            draftGeneration.setIsDraftMode(false);\n                            draftGeneration.setDraftCards([]);\n                            draftGeneration.setDraftCompletionCount(0);\n                            draftGeneration.setDraftCompletionShown(false);\n                            jobManagement.setCurrentJobId(null);\n                            jobManagement.setGenerationProgress(\"\");\n                            // Don't reset progress - let time-based progress continue\n                            // jobManagement.setProgressPercentage(0);\n                            jobManagement.stopElapsedTimeTracking();\n                            // Unsubscribe from job\n                            webSocket.unsubscribeFromJob(jobId);\n                            // Show error toast\n                            sonner__WEBPACK_IMPORTED_MODULE_1__.toast.error(\"Card generation timed out. Please try again.\");\n                        }\n                    }\n                    return;\n                }\n            }\n            console.log(\"\\uD83D\\uDD04 WebSocket disconnected during generation, attempting reconnect...\");\n            const reconnectTimer = setTimeout(()=>{\n                webSocket.connectWebSocket();\n                // Re-subscribe to current job after reconnection\n                const jobId = webSocket.currentJobRef.current;\n                if (jobId) {\n                    setTimeout(()=>{\n                        console.log(\"\\uD83D\\uDCE1 Re-subscribing to job after reconnect:\", jobId);\n                        webSocket.subscribeToJob(jobId);\n                    }, 1000);\n                }\n            }, 2000);\n            return ()=>clearTimeout(reconnectTimer);\n        }\n    }, [\n        webSocket,\n        cardGeneration.isGenerating,\n        draftGeneration.isGeneratingFinalCard,\n        jobManagement.generationStartTime\n    ]);\n    // Reset stale job flag when generation starts\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        if (cardGeneration.isGenerating || draftGeneration.isGeneratingFinalCard) {\n            staleJobLoggedRef.current = false;\n        }\n    }, [\n        cardGeneration.isGenerating,\n        draftGeneration.isGeneratingFinalCard\n    ]);\n    // Monitor for stale job updates\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        if ((cardGeneration.isGenerating || draftGeneration.isGeneratingFinalCard) && webSocket.currentJobRef.current) {\n            const checkInterval = setInterval(async ()=>{\n                const timeSinceLastUpdate = Date.now() - webSocket.lastJobUpdateRef.current;\n                const jobId = webSocket.currentJobRef.current;\n                // Very aggressive checking when at 95%+ progress\n                if (jobManagement.progressPercentage >= 95 && timeSinceLastUpdate > 5000) {\n                    console.warn(\"⚠️ No updates for \".concat(Math.round(timeSinceLastUpdate / 1000), \"s at \").concat(jobManagement.progressPercentage, \"% progress - checking job status...\"));\n                    if (jobId) {\n                        try {\n                            const response = await fetch(\"/api/job-status/\".concat(jobId));\n                            if (response.ok) {\n                                const jobStatus = await response.json();\n                                console.log(\"\\uD83D\\uDCCA Direct job status check:\", jobStatus);\n                                if (jobStatus.status === \"completed\" && jobStatus.cardData) {\n                                    console.log(\"✅ Job is actually completed! Processing result...\");\n                                    handleJobUpdate({\n                                        job_id: jobId,\n                                        status: \"completed\",\n                                        progress: \"Card generation complete!\",\n                                        cardData: jobStatus.cardData\n                                    });\n                                    return; // Exit early on completion\n                                }\n                            }\n                        } catch (error) {\n                            console.error(\"Failed to check job status:\", error);\n                        }\n                    }\n                } else if (jobManagement.progressPercentage >= 90 && timeSinceLastUpdate > 10000) {\n                    console.warn(\"⚠️ No updates for \".concat(Math.round(timeSinceLastUpdate / 1000), \"s at \").concat(jobManagement.progressPercentage, \"% progress\"));\n                    if (jobId) {\n                        try {\n                            const response = await fetch(\"/api/job-status/\".concat(jobId));\n                            if (response.ok) {\n                                const jobStatus = await response.json();\n                                console.log(\"\\uD83D\\uDCCA Direct job status check:\", jobStatus);\n                                if (jobStatus.status === \"completed\" && jobStatus.cardData) {\n                                    console.log(\"✅ Job is actually completed! Processing result...\");\n                                    handleJobUpdate({\n                                        job_id: jobId,\n                                        status: \"completed\",\n                                        progress: \"Card generation complete!\",\n                                        cardData: jobStatus.cardData\n                                    });\n                                    return; // Exit early on completion\n                                }\n                            }\n                        } catch (error) {\n                            console.error(\"Failed to check job status:\", error);\n                        }\n                    }\n                }\n                // Standard stale update check\n                if (timeSinceLastUpdate > 30000) {\n                    console.warn(\"⚠️ No job updates for 30 seconds, checking connection...\");\n                    if (!webSocket.isSocketConnected) {\n                        console.log(\"\\uD83D\\uDD04 WebSocket disconnected, reconnecting...\");\n                        webSocket.connectWebSocket();\n                    } else if (jobId) {\n                        console.log(\"\\uD83D\\uDCE1 Re-subscribing to job due to stale updates:\", jobId);\n                        webSocket.subscribeToJob(jobId);\n                    }\n                    // Reset the timer\n                    webSocket.lastJobUpdateRef.current = Date.now();\n                }\n            }, 3000); // Check every 3 seconds for faster detection at high progress\n            return ()=>clearInterval(checkInterval);\n        }\n    }, [\n        cardGeneration.isGenerating,\n        draftGeneration.isGeneratingFinalCard,\n        webSocket,\n        jobManagement.progressPercentage,\n        handleJobUpdate\n    ]);\n    // Simplified job restoration using new storage manager\n    const checkPendingJobs = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(async ()=>{\n        var _recovery_jobId;\n        console.log(\"\\uD83D\\uDD04 Checking for recovery data...\");\n        setIsRestoringJobs(true);\n        // Check for active recovery job\n        const recovery = _lib_storageManager__WEBPACK_IMPORTED_MODULE_10__.storage.getRecovery();\n        if (!recovery) {\n            console.log(\"✅ No active job to recover\");\n            setIsRestoringJobs(false);\n            return;\n        }\n        console.log(\"\\uD83D\\uDD04 Found recovery data:\", recovery);\n        // In our simplified system, we only track one active job at a time\n        // Recovery is meant for browser crashes during generation\n        const isRecoveryDraft = (_recovery_jobId = recovery.jobId) === null || _recovery_jobId === void 0 ? void 0 : _recovery_jobId.startsWith(\"draft-\");\n        if (isRecoveryDraft) {\n            console.log(\"\\uD83C\\uDFA8 Recovering from draft generation\");\n            // For draft recovery, we can't restore the exact state\n            // User will need to restart the draft generation\n            setIsRestoringJobs(false);\n            return;\n        }\n        // For final card recovery, we can try to restore the job\n        console.log(\"\\uD83C\\uDFAF Recovering from final card generation\");\n        // Restore generation state\n        jobManagement.setCurrentJobId(recovery.jobId);\n        cardGeneration.setIsGenerating(true);\n        cardGeneration.setGenerationProgress(\"\\uD83D\\uDD04 Resuming generation...\");\n        jobManagement.startElapsedTimeTracking(\"final\");\n        // Subscribe to the job to get updates\n        webSocket.subscribeToJob(recovery.jobId);\n        setIsRestoringJobs(false);\n    }, [\n        webSocket,\n        _lib_storageManager__WEBPACK_IMPORTED_MODULE_10__.storage\n    ]);\n    // Load recovery data on component mount\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        console.log(\"\\uD83D\\uDE80 useCardStudio mounted, checking for recovery...\");\n        // Check for active recovery job\n        const recovery = _lib_storageManager__WEBPACK_IMPORTED_MODULE_10__.storage.getRecovery();\n        console.log(\"\\uD83D\\uDCE6 Recovery data:\", recovery);\n        if (recovery) {\n            console.log(\"\\uD83D\\uDD04 Found active job to recover:\", recovery.jobId);\n            // For draft jobs, check if we already have completed drafts\n            const isDraft = recovery.jobId.startsWith(\"draft-\");\n            if (isDraft) {\n                // Check if we already have completed draft cards\n                const hasCompletedDrafts = draftGeneration.draftCards.filter((card)=>card !== null).length > 0;\n                if (hasCompletedDrafts) {\n                    console.log(\"✅ Draft job already completed, not setting as generating\");\n                    // Just restore the job ID for reference, but don't set as generating\n                    jobManagement.setCurrentJobId(recovery.jobId);\n                    draftGeneration.setIsDraftMode(true);\n                } else {\n                    console.log(\"\\uD83C\\uDFA8 Resuming incomplete draft generation\");\n                    // Subscribe to the job to check its status\n                    jobManagement.setCurrentJobId(recovery.jobId);\n                    webSocket.subscribeToJob(recovery.jobId);\n                    draftGeneration.setIsDraftMode(true);\n                    // Don't set as generating yet - wait for WebSocket to tell us the actual status\n                    // This prevents navigation to Step 5 for already completed jobs\n                    console.log(\"⏳ Waiting for job status update before setting generation state...\");\n                }\n            } else {\n                // For final card recovery, check if already completed\n                if (cardGeneration.generatedCard && cardGeneration.isCardCompleted) {\n                    console.log(\"✅ Final card already completed, not setting as generating\");\n                    jobManagement.setCurrentJobId(recovery.jobId);\n                } else {\n                    console.log(\"\\uD83C\\uDFAF Resuming incomplete final card generation\");\n                    jobManagement.setCurrentJobId(recovery.jobId);\n                    webSocket.subscribeToJob(recovery.jobId);\n                    cardGeneration.setIsGenerating(true);\n                    cardGeneration.setGenerationProgress(\"\\uD83C\\uDFA8 Resuming card generation...\");\n                    jobManagement.startElapsedTimeTracking(\"final\");\n                    // If this is a final card generation from a draft, set the appropriate state\n                    if (recovery.formData && recovery.formData.selectedDraftIndex !== undefined) {\n                        draftGeneration.setIsGeneratingFinalCard(true);\n                        draftGeneration.setSelectedDraftIndex(recovery.formData.selectedDraftIndex);\n                    }\n                }\n            }\n        }\n        // Always mark restoration as complete\n        setIsRestoringJobs(false);\n        // Mark restoration as complete after a small delay\n        setTimeout(()=>{\n            setIsRestoringJobs(false);\n        }, 100);\n    }, []);\n    // Return all the state and functions that the UI needs\n    return {\n        // Core state\n        prompt,\n        setPrompt,\n        finalCardMessage: messageGeneration.finalCardMessage,\n        setFinalCardMessage: messageGeneration.setFinalCardMessage,\n        toField,\n        setToField,\n        fromField,\n        setFromField,\n        relationshipField,\n        setRelationshipField,\n        personalTraits,\n        setPersonalTraits,\n        selectedType,\n        setSelectedType,\n        customCardType,\n        setCustomCardType,\n        selectedTone,\n        setSelectedTone,\n        isGenerating: cardGeneration.isGenerating || draftGeneration.isGenerating,\n        setIsGenerating: cardGeneration.setIsGenerating,\n        isGeneratingMessage: messageGeneration.isGeneratingMessage,\n        setIsGeneratingMessage: messageGeneration.setIsGeneratingMessage,\n        generatedCard: cardGeneration.generatedCard,\n        setGeneratedCard: cardGeneration.setGeneratedCard,\n        numberOfCards,\n        setNumberOfCards,\n        generatedCards: cardGeneration.generatedCards,\n        setGeneratedCards: cardGeneration.setGeneratedCards,\n        selectedCardIndex: cardGeneration.selectedCardIndex,\n        setSelectedCardIndex: cardGeneration.setSelectedCardIndex,\n        // Advanced options\n        showAdvanced,\n        setShowAdvanced,\n        selectedArtisticStyle,\n        setSelectedArtisticStyle,\n        customStyleDescription,\n        setCustomStyleDescription,\n        selectedImageModel,\n        setSelectedImageModel,\n        selectedDraftModel,\n        setSelectedDraftModel,\n        // Draft mode\n        isDraftMode: draftGeneration.isDraftMode,\n        setIsDraftMode: draftGeneration.setIsDraftMode,\n        draftCards: draftGeneration.draftCards,\n        setDraftCards: draftGeneration.setDraftCards,\n        selectedDraftIndex: draftGeneration.selectedDraftIndex,\n        setSelectedDraftIndex: draftGeneration.setSelectedDraftIndex,\n        isGeneratingFinalCard: draftGeneration.isGeneratingFinalCard,\n        setIsGeneratingFinalCard: draftGeneration.setIsGeneratingFinalCard,\n        previewingDraftIndex: draftGeneration.previewingDraftIndex,\n        setPreviewingDraftIndex: draftGeneration.setPreviewingDraftIndex,\n        draftCompletionShown: draftGeneration.draftCompletionShown,\n        setDraftCompletionShown: draftGeneration.setDraftCompletionShown,\n        draftCompletionCount: draftGeneration.draftCompletionCount,\n        setDraftCompletionCount: draftGeneration.setDraftCompletionCount,\n        // Progress tracking\n        generationProgress: draftGeneration.isGenerating ? draftGeneration.generationProgress : cardGeneration.generationProgress,\n        setGenerationProgress: cardGeneration.setGenerationProgress,\n        progressPercentage: jobManagement.progressPercentage,\n        setProgressPercentage: jobManagement.setProgressPercentage,\n        isCardCompleted: cardGeneration.isCardCompleted,\n        setIsCardCompleted: cardGeneration.setIsCardCompleted,\n        // Upload and personalization\n        referenceImages: fileHandling.referenceImages,\n        setReferenceImages: fileHandling.setReferenceImages,\n        referenceImageUrls: fileHandling.referenceImageUrls,\n        setReferenceImageUrls: fileHandling.setReferenceImageUrls,\n        isUploading: fileHandling.isUploading,\n        setIsUploading: fileHandling.setIsUploading,\n        // Email and settings\n        userEmail,\n        setUserEmail,\n        isHandwrittenMessage,\n        setIsHandwrittenMessage,\n        isFrontBackOnly,\n        setIsFrontBackOnly,\n        selectedPaperSize,\n        setSelectedPaperSize,\n        // UI state\n        isTextareaExpanded,\n        setIsTextareaExpanded,\n        isMessageExpanded,\n        setIsMessageExpanded,\n        showSettings,\n        setShowSettings,\n        showTemplateGallery,\n        setShowTemplateGallery,\n        showPrintConfirmation,\n        setShowPrintConfirmation,\n        // Generation time\n        generationDuration: cardGeneration.generationDuration,\n        setGenerationDuration: cardGeneration.setGenerationDuration,\n        currentElapsedTime: jobManagement.currentElapsedTime,\n        // Helper functions\n        formatGenerationTime: _cardStudio_constants__WEBPACK_IMPORTED_MODULE_8__.formatGenerationTime,\n        formatCountdown: _cardStudio_constants__WEBPACK_IMPORTED_MODULE_8__.formatCountdown,\n        sendThankYouEmail: _cardStudio_utils__WEBPACK_IMPORTED_MODULE_9__.sendThankYouEmail,\n        chatWithAI: _cardStudio_utils__WEBPACK_IMPORTED_MODULE_9__.chatWithAI,\n        scrollToCardPreview: _cardStudio_utils__WEBPACK_IMPORTED_MODULE_9__.scrollToCardPreview,\n        // Time tracking functions\n        startElapsedTimeTracking: jobManagement.startElapsedTimeTracking,\n        stopElapsedTimeTracking: jobManagement.stopElapsedTimeTracking,\n        // File handling functions\n        handleFileUpload: fileHandling.handleFileUpload,\n        handleRemoveReferenceImage: fileHandling.handleRemoveReferenceImage,\n        // Simplified photo references\n        photoReferences: fileHandling.photoReferences,\n        setPhotoReferences: fileHandling.setPhotoReferences,\n        updatePhotoDescription: fileHandling.updatePhotoDescription,\n        // Message functions\n        handleGetMessageHelp: messageGeneration.handleGetMessageHelp,\n        addMessageToHistory: messageGeneration.addMessageToHistory,\n        undoMessage: messageGeneration.undoMessage,\n        redoMessage: messageGeneration.redoMessage,\n        // Job management\n        saveJobToStorage: jobManagement.saveJobToStorage,\n        removeJobFromStorage: jobManagement.removeJobFromStorage,\n        checkPendingJobs,\n        isRestoringJobs,\n        // Main generation functions\n        handleGenerateDraftCards: draftGeneration.handleGenerateDraftCards,\n        handleGenerateFinalFromDraft: draftGeneration.handleGenerateFinalFromDraft,\n        // Additional state for message refinement\n        messageHistory: messageGeneration.messageHistory,\n        setMessageHistory: messageGeneration.setMessageHistory,\n        currentMessageIndex: messageGeneration.currentMessageIndex,\n        setCurrentMessageIndex: messageGeneration.setCurrentMessageIndex,\n        refinementPrompt: messageGeneration.refinementPrompt,\n        setRefinementPrompt: messageGeneration.setRefinementPrompt,\n        isRefiningMessage: messageGeneration.isRefiningMessage,\n        setIsRefiningMessage: messageGeneration.setIsRefiningMessage,\n        showRefinementBox: messageGeneration.showRefinementBox,\n        setShowRefinementBox: messageGeneration.setShowRefinementBox,\n        // Template state\n        showTemplateCustomization,\n        setShowTemplateCustomization,\n        selectedTemplate,\n        setSelectedTemplate,\n        templateCustomizations,\n        setTemplateCustomizations,\n        templateSearchQuery,\n        setTemplateSearchQuery,\n        isSearchingTemplates,\n        setIsSearchingTemplates,\n        aiFilteredCards,\n        setAiFilteredCards,\n        searchMode,\n        setSearchMode,\n        textFilteredCards,\n        setTextFilteredCards,\n        showPrompts,\n        setShowPrompts,\n        // Print state\n        printOption,\n        setPrintOption,\n        // Additional draft mode state\n        handwritingSample: fileHandling.handwritingSample,\n        setHandwritingSample: fileHandling.setHandwritingSample,\n        handwritingSampleUrl: fileHandling.handwritingSampleUrl,\n        setHandwritingSampleUrl: fileHandling.setHandwritingSampleUrl,\n        // Job tracking\n        currentJobId: jobManagement.currentJobId,\n        setCurrentJobId: jobManagement.setCurrentJobId,\n        countdown,\n        setCountdown,\n        countdownInterval,\n        setCountdownInterval,\n        // Section loading states\n        sectionLoadingStates,\n        setSectionLoadingStates,\n        // Fast preview mode\n        fastPreviewMode,\n        setFastPreviewMode,\n        // Additional tracking\n        currentCardId: cardGeneration.currentCardId,\n        setCurrentCardId: cardGeneration.setCurrentCardId,\n        isInitialLoadComplete,\n        setIsInitialLoadComplete,\n        // Elapsed time tracking\n        generationStartTime: jobManagement.generationStartTime,\n        // Constants for UI\n        cardTones: _cardStudio_constants__WEBPACK_IMPORTED_MODULE_8__.cardTones,\n        artisticStyles: _cardStudio_constants__WEBPACK_IMPORTED_MODULE_8__.artisticStyles,\n        paperSizes: _cardStudio_constants__WEBPACK_IMPORTED_MODULE_8__.paperSizes,\n        // WebSocket functions and state\n        isSocketConnected: webSocket.isSocketConnected,\n        connectWebSocket: webSocket.connectWebSocket,\n        disconnectWebSocket: webSocket.disconnectWebSocket,\n        subscribeToJob: webSocket.subscribeToJob,\n        unsubscribeFromJob: webSocket.unsubscribeFromJob,\n        unsubscribeFromAllJobs: webSocket.unsubscribeFromAllJobs,\n        handleJobUpdate,\n        handleFinalCardCompletion: cardGeneration.handleFinalCardCompletion\n    };\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2hvb2tzL3VzZUNhcmRTdHVkaW9SZWZhY3RvcmVkLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7bUVBRWlFO0FBQ2xDO0FBRy9CLHVCQUF1QjtBQUNrQztBQUNrQjtBQUNGO0FBQ1Y7QUFDTTtBQUNGO0FBRW5FLDZCQUE2QjtBQVFHO0FBQ3dEO0FBQ3pDO0FBRXhDLFNBQVNvQjtJQUNkLGtCQUFrQjtJQUNsQixNQUFNLENBQUNDLFFBQVFDLFVBQVUsR0FBR3RCLCtDQUFRQSxDQUFDO0lBQ3JDLE1BQU0sQ0FBQ3VCLFNBQVNDLFdBQVcsR0FBR3hCLCtDQUFRQSxDQUFDO0lBQ3ZDLE1BQU0sQ0FBQ3lCLFdBQVdDLGFBQWEsR0FBRzFCLCtDQUFRQSxDQUFDO0lBQzNDLE1BQU0sQ0FBQzJCLG1CQUFtQkMscUJBQXFCLEdBQUc1QiwrQ0FBUUEsQ0FBQztJQUMzRCxNQUFNLENBQUM2QixnQkFBZ0JDLGtCQUFrQixHQUFHOUIsK0NBQVFBLENBQUM7SUFDckQsTUFBTSxDQUFDK0IsY0FBY0MsZ0JBQWdCLEdBQUdoQywrQ0FBUUEsQ0FBUztJQUN6RCxNQUFNLENBQUNpQyxnQkFBZ0JDLGtCQUFrQixHQUFHbEMsK0NBQVFBLENBQVM7SUFDN0QsTUFBTSxDQUFDbUMsY0FBY0MsZ0JBQWdCLEdBQUdwQywrQ0FBUUEsQ0FBUztJQUV6RCx5QkFBeUI7SUFDekIsTUFBTSxDQUFDcUMsY0FBY0MsZ0JBQWdCLEdBQUd0QywrQ0FBUUEsQ0FBQztJQUNqRCxNQUFNLENBQUN1Qyx1QkFBdUJDLHlCQUF5QixHQUFHeEMsK0NBQVFBLENBQVM7SUFDM0UsTUFBTSxDQUFDeUMsd0JBQXdCQywwQkFBMEIsR0FBRzFDLCtDQUFRQSxDQUFTO0lBQzdFLE1BQU0sQ0FBQzJDLG9CQUFvQkMsc0JBQXNCLEdBQUc1QywrQ0FBUUEsQ0FBUztJQUNyRSxNQUFNLENBQUM2QyxvQkFBb0JDLHNCQUFzQixHQUFHOUMsK0NBQVFBLENBQVM7SUFDckUsTUFBTSxD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REMsc0JBQXNCakssYUFBYWlLLG9CQUFvQjtRQUN2REMseUJBQXlCbEssYUFBYWtLLHVCQUF1QjtRQUU3RCxlQUFlO1FBQ2YvRSxjQUFjcEYsY0FBY29GLFlBQVk7UUFDeENyRSxpQkFBaUJmLGNBQWNlLGVBQWU7UUFDOUNwQjtRQUNBQztRQUNBQztRQUNBQztRQUVBLHlCQUF5QjtRQUN6QlQ7UUFDQUM7UUFFQSxvQkFBb0I7UUFDcEJyRDtRQUNBQztRQUVBLHNCQUFzQjtRQUN0QmtPLGVBQWU3SSxlQUFlNkksYUFBYTtRQUMzQ0Msa0JBQWtCOUksZUFBZThJLGdCQUFnQjtRQUNqRHhNO1FBQ0FDO1FBRUEsd0JBQXdCO1FBQ3hCMEgscUJBQXFCeEYsY0FBY3dGLG1CQUFtQjtRQUV0RCxtQkFBbUI7UUFDbkIzTCxTQUFTQSw4REFBQUE7UUFDVEMsY0FBY0EsbUVBQUFBO1FBQ2RDLFVBQVVBLCtEQUFBQTtRQUVWLGdDQUFnQztRQUNoQ3dMLG1CQUFtQnhGLFVBQVV3RixpQkFBaUI7UUFDOUNNLGtCQUFrQjlGLFVBQVU4RixnQkFBZ0I7UUFDNUN5RSxxQkFBcUJ2SyxVQUFVdUssbUJBQW1CO1FBQ2xEL0osZ0JBQWdCUixVQUFVUSxjQUFjO1FBQ3hDaUUsb0JBQW9CekUsVUFBVXlFLGtCQUFrQjtRQUNoRGhFLHdCQUF3QlQsVUFBVVMsc0JBQXNCO1FBQ3hEZ0I7UUFDQXdELDJCQUEyQnpELGVBQWV5RCx5QkFBeUI7SUFDckU7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ob29rcy91c2VDYXJkU3R1ZGlvUmVmYWN0b3JlZC50cz85Y2M5Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIGNsaWVudFwiO1xuXG5pbXBvcnQgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0LCB1c2VDYWxsYmFjaywgdXNlUmVmIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyB0b2FzdCB9IGZyb20gXCJzb25uZXJcIjtcbmltcG9ydCB7IHY0IGFzIHV1aWR2NCB9IGZyb20gJ3V1aWQnO1xuXG4vLyBJbXBvcnQgbW9kdWxhciBob29rc1xuaW1wb3J0IHsgdXNlV2ViU29ja2V0IH0gZnJvbSAnLi9jYXJkU3R1ZGlvL3VzZVdlYlNvY2tldCc7XG5pbXBvcnQgeyB1c2VKb2JNYW5hZ2VtZW50IH0gZnJvbSAnLi9jYXJkU3R1ZGlvL3VzZUpvYk1hbmFnZW1lbnRTaW1wbGlmaWVkJztcbmltcG9ydCB7IHVzZU1lc3NhZ2VHZW5lcmF0aW9uIH0gZnJvbSAnLi9jYXJkU3R1ZGlvL3VzZU1lc3NhZ2VHZW5lcmF0aW9uJztcbmltcG9ydCB7IHVzZUZpbGVIYW5kbGluZyB9IGZyb20gJy4vY2FyZFN0dWRpby91c2VGaWxlSGFuZGxpbmcnO1xuaW1wb3J0IHsgdXNlRHJhZnRHZW5lcmF0aW9uIH0gZnJvbSAnLi9jYXJkU3R1ZGlvL3VzZURyYWZ0R2VuZXJhdGlvbic7XG5pbXBvcnQgeyB1c2VDYXJkR2VuZXJhdGlvbiB9IGZyb20gJy4vY2FyZFN0dWRpby91c2VDYXJkR2VuZXJhdGlvbic7XG5cbi8vIEltcG9ydCBjb25zdGFudHMgYW5kIHV0aWxzXG5pbXBvcnQgeyBcbiAgY2FyZFRvbmVzLCBcbiAgYXJ0aXN0aWNTdHlsZXMsIFxuICBwYXBlclNpemVzLCBcbiAgZm9ybWF0R2VuZXJhdGlvblRpbWUsIFxuICBmb3JtYXRDb3VudGRvd24sXG4gIEdlbmVyYXRlZENhcmQgXG59IGZyb20gJy4vY2FyZFN0dWRpby9jb25zdGFudHMnO1xuaW1wb3J0IHsgc2VuZFRoYW5rWW91RW1haWwsIGNoYXRXaXRoQUksIHNjcm9sbFRvQ2FyZFByZXZpZXcgfSBmcm9tICcuL2NhcmRTdHVkaW8vdXRpbHMnO1xuaW1wb3J0IHsgc3RvcmFnZSB9IGZyb20gJ0AvbGliL3N0b3JhZ2VNYW5hZ2VyJztcblxuZXhwb3J0IGZ1bmN0aW9uIHVzZUNhcmRTdHVkaW8oKSB7XG4gIC8vIENvcmUgZm9ybSBzdGF0ZVxuICBjb25zdCBbcHJvbXB0LCBzZXRQcm9tcHRdID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFt0b0ZpZWxkLCBzZXRUb0ZpZWxkXSA9IHVzZVN0YXRlKFwiXCIpO1xuICBjb25zdCBbZnJvbUZpZWxkLCBzZXRGcm9tRmllbGRdID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFtyZWxhdGlvbnNoaXBGaWVsZCwgc2V0UmVsYXRpb25zaGlwRmllbGRdID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFtwZXJzb25hbFRyYWl0cywgc2V0UGVyc29uYWxUcmFpdHNdID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFtzZWxlY3RlZFR5cGUsIHNldFNlbGVjdGVkVHlwZV0gPSB1c2VTdGF0ZTxzdHJpbmc+KFwiYmlydGhkYXlcIik7XG4gIGNvbnN0IFtjdXN0b21DYXJkVHlwZSwgc2V0Q3VzdG9tQ2FyZFR5cGVdID0gdXNlU3RhdGU8c3RyaW5nPihcIlwiKTtcbiAgY29uc3QgW3NlbGVjdGVkVG9uZSwgc2V0U2VsZWN0ZWRUb25lXSA9IHVzZVN0YXRlPHN0cmluZz4oXCJmdW5ueVwiKTtcbiAgXG4gIC8vIEFkdmFuY2VkIG9wdGlvbnMgc3RhdGVcbiAgY29uc3QgW3Nob3dBZHZhbmNlZCwgc2V0U2hvd0FkdmFuY2VkXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3NlbGVjdGVkQXJ0aXN0aWNTdHlsZSwgc2V0U2VsZWN0ZWRBcnRpc3RpY1N0eWxlXSA9IHVzZVN0YXRlPHN0cmluZz4oXCJhaS1zbWFydC1zdHlsZVwiKTtcbiAgY29uc3QgW2N1c3RvbVN0eWxlRGVzY3JpcHRpb24sIHNldEN1c3RvbVN0eWxlRGVzY3JpcHRpb25dID0gdXNlU3RhdGU8c3RyaW5nPihcIlwiKTtcbiAgY29uc3QgW3NlbGVjdGVkSW1hZ2VNb2RlbCwgc2V0U2VsZWN0ZWRJbWFnZU1vZGVsXSA9IHVzZVN0YXRlPHN0cmluZz4oXCJncHQtaW1hZ2UtMVwiKTtcbiAgY29uc3QgW3NlbGVjdGVkRHJhZnRNb2RlbCwgc2V0U2VsZWN0ZWREcmFmdE1vZGVsXSA9IHVzZVN0YXRlPHN0cmluZz4oXCJncHQtaW1hZ2UtMVwiKTtcbiAgY29uc3QgW2Zhc3RQcmV2aWV3TW9kZSwgc2V0RmFzdFByZXZpZXdNb2RlXSA9IHVzZVN0YXRlPGJvb2xlYW4+KHRydWUpO1xuICBcbiAgLy8gRW1haWwgc3RhdGVcbiAgY29uc3QgW3VzZXJFbWFpbCwgc2V0VXNlckVtYWlsXSA9IHVzZVN0YXRlPHN0cmluZz4oXCJcIik7XG4gIFxuICAvLyBDYXJkIG9wdGlvbnNcbiAgY29uc3QgW251bWJlck9mQ2FyZHMsIHNldE51bWJlck9mQ2FyZHNdID0gdXNlU3RhdGU8bnVtYmVyPigxKTtcbiAgY29uc3QgW2lzSGFuZHdyaXR0ZW5NZXNzYWdlLCBzZXRJc0hhbmR3cml0dGVuTWVzc2FnZV0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtpc0Zyb250QmFja09ubHksIHNldElzRnJvbnRCYWNrT25seV0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtzZWxlY3RlZFBhcGVyU2l6ZSwgc2V0U2VsZWN0ZWRQYXBlclNpemVdID0gdXNlU3RhdGU8c3RyaW5nPihcInN0YW5kYXJkXCIpO1xuICBcbiAgLy8gVUkgc3RhdGVcbiAgY29uc3QgW2lzVGV4dGFyZWFFeHBhbmRlZCwgc2V0SXNUZXh0YXJlYUV4cGFuZGVkXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2lzTWVzc2FnZUV4cGFuZGVkLCBzZXRJc01lc3NhZ2VFeHBhbmRlZF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtzaG93U2V0dGluZ3MsIHNldFNob3dTZXR0aW5nc10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtzaG93VGVtcGxhdGVHYWxsZXJ5LCBzZXRTaG93VGVtcGxhdGVHYWxsZXJ5XSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3Nob3dQcmludENvbmZpcm1hdGlvbiwgc2V0U2hvd1ByaW50Q29uZmlybWF0aW9uXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3Nob3dUZW1wbGF0ZUN1c3RvbWl6YXRpb24sIHNldFNob3dUZW1wbGF0ZUN1c3RvbWl6YXRpb25dID0gdXNlU3RhdGUoZmFsc2UpO1xuICBcbiAgLy8gUmVzdG9yYXRpb24gc3RhdGVcbiAgY29uc3QgW2lzUmVzdG9yaW5nSm9icywgc2V0SXNSZXN0b3JpbmdKb2JzXSA9IHVzZVN0YXRlKHRydWUpO1xuICBjb25zdCBbc2VsZWN0ZWRUZW1wbGF0ZSwgc2V0U2VsZWN0ZWRUZW1wbGF0ZV0gPSB1c2VTdGF0ZTxHZW5lcmF0ZWRDYXJkIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtpc0luaXRpYWxMb2FkQ29tcGxldGUsIHNldElzSW5pdGlhbExvYWRDb21wbGV0ZV0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIFxuICAvLyBUZW1wbGF0ZSBzdGF0ZVxuICBjb25zdCBbdGVtcGxhdGVTZWFyY2hRdWVyeSwgc2V0VGVtcGxhdGVTZWFyY2hRdWVyeV0gPSB1c2VTdGF0ZShcIlwiKTtcbiAgY29uc3QgW2lzU2VhcmNoaW5nVGVtcGxhdGVzLCBzZXRJc1NlYXJjaGluZ1RlbXBsYXRlc10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFthaUZpbHRlcmVkQ2FyZHMsIHNldEFpRmlsdGVyZWRDYXJkc10gPSB1c2VTdGF0ZTxhbnlbXT4oW10pO1xuICBjb25zdCBbc2VhcmNoTW9kZSwgc2V0U2VhcmNoTW9kZV0gPSB1c2VTdGF0ZTwndGV4dCcgfCAnYWknIHwgJ2h5YnJpZCc+KCd0ZXh0Jyk7XG4gIGNvbnN0IFt0ZXh0RmlsdGVyZWRDYXJkcywgc2V0VGV4dEZpbHRlcmVkQ2FyZHNdID0gdXNlU3RhdGU8YW55W10+KFtdKTtcbiAgY29uc3QgW3Nob3dQcm9tcHRzLCBzZXRTaG93UHJvbXB0c10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtwcmludE9wdGlvbiwgc2V0UHJpbnRPcHRpb25dID0gdXNlU3RhdGU8J3BoeXNpY2FsJyB8ICdlbWFpbCc+KCdwaHlzaWNhbCcpO1xuICBcbiAgLy8gVGVtcGxhdGUgY3VzdG9taXphdGlvbiBzdGF0ZVxuICBjb25zdCBbdGVtcGxhdGVDdXN0b21pemF0aW9ucywgc2V0VGVtcGxhdGVDdXN0b21pemF0aW9uc10gPSB1c2VTdGF0ZSh7XG4gICAgcHJvbXB0Q2hhbmdlczogXCJcIixcbiAgICBtZXNzYWdlQ2hhbmdlczogXCJcIixcbiAgICB1c2VSZWZlcmVuY2VJbWFnZTogZmFsc2UsXG4gICAgcmVmZXJlbmNlSW1hZ2VGaWxlOiBudWxsIGFzIEZpbGUgfCBudWxsLFxuICAgIHJlZmVyZW5jZUltYWdlVXJsczogW10gYXMgc3RyaW5nW10sXG4gICAgcmVmZXJlbmNlSW1hZ2VUcmFuc2Zvcm1hdGlvbjogXCJcIlxuICB9KTtcbiAgXG4gIC8vIFNlY3Rpb24gbG9hZGluZyBzdGF0ZXNcbiAgY29uc3QgW3NlY3Rpb25Mb2FkaW5nU3RhdGVzLCBzZXRTZWN0aW9uTG9hZGluZ1N0YXRlc10gPSB1c2VTdGF0ZTx7XG4gICAgZnJvbnRDb3ZlcjogJ2lkbGUnIHwgJ2xvYWRpbmcnIHwgJ2NvbXBsZXRlZCcgfCAnZXJyb3InO1xuICAgIGJhY2tDb3ZlcjogJ2lkbGUnIHwgJ2xvYWRpbmcnIHwgJ2NvbXBsZXRlZCcgfCAnZXJyb3InO1xuICAgIGxlZnRJbnRlcmlvcjogJ2lkbGUnIHwgJ2xvYWRpbmcnIHwgJ2NvbXBsZXRlZCcgfCAnZXJyb3InO1xuICAgIHJpZ2h0SW50ZXJpb3I6ICdpZGxlJyB8ICdsb2FkaW5nJyB8ICdjb21wbGV0ZWQnIHwgJ2Vycm9yJztcbiAgfT4oe1xuICAgIGZyb250Q292ZXI6ICdpZGxlJyxcbiAgICBiYWNrQ292ZXI6ICdpZGxlJyxcbiAgICBsZWZ0SW50ZXJpb3I6ICdpZGxlJyxcbiAgICByaWdodEludGVyaW9yOiAnaWRsZScsXG4gIH0pO1xuICBcbiAgLy8gQ291bnRkb3duIHN0YXRlXG4gIGNvbnN0IFtjb3VudGRvd24sIHNldENvdW50ZG93bl0gPSB1c2VTdGF0ZTxudW1iZXI+KDApO1xuICBjb25zdCBbY291bnRkb3duSW50ZXJ2YWwsIHNldENvdW50ZG93bkludGVydmFsXSA9IHVzZVN0YXRlPE5vZGVKUy5UaW1lb3V0IHwgbnVsbD4obnVsbCk7XG5cbiAgLy8gVXNlIG1vZHVsYXIgaG9va3NcbiAgY29uc3Qgd2ViU29ja2V0ID0gdXNlV2ViU29ja2V0KCk7XG4gIGNvbnN0IGpvYk1hbmFnZW1lbnQgPSB1c2VKb2JNYW5hZ2VtZW50KCk7XG4gIGNvbnN0IGZpbGVIYW5kbGluZyA9IHVzZUZpbGVIYW5kbGluZygpO1xuICBjb25zdCBtZXNzYWdlR2VuZXJhdGlvbiA9IHVzZU1lc3NhZ2VHZW5lcmF0aW9uKFxuICAgIHNlbGVjdGVkVHlwZSxcbiAgICBjdXN0b21DYXJkVHlwZSxcbiAgICBzZWxlY3RlZFRvbmUsXG4gICAgcHJvbXB0LFxuICAgIHRvRmllbGQsXG4gICAgZnJvbUZpZWxkLFxuICAgIHJlbGF0aW9uc2hpcEZpZWxkLFxuICAgIGZpbGVIYW5kbGluZy5waG90b1JlZmVyZW5jZXNcbiAgKTtcbiAgXG4gIC8vIERyYWZ0IGdlbmVyYXRpb24gcHJvcHNcbiAgY29uc3QgZHJhZnRHZW5lcmF0aW9uUHJvcHMgPSB7XG4gICAgc2VsZWN0ZWRUeXBlLFxuICAgIGN1c3RvbUNhcmRUeXBlLFxuICAgIHNlbGVjdGVkVG9uZSxcbiAgICBzZWxlY3RlZEFydGlzdGljU3R5bGUsXG4gICAgY3VzdG9tU3R5bGVEZXNjcmlwdGlvbixcbiAgICBzZWxlY3RlZERyYWZ0TW9kZWwsXG4gICAgc2VsZWN0ZWRJbWFnZU1vZGVsLFxuICAgIHNlbGVjdGVkUGFwZXJTaXplLFxuICAgIHByb21wdCxcbiAgICBwZXJzb25hbFRyYWl0cyxcbiAgICB0b0ZpZWxkLFxuICAgIGZyb21GaWVsZCxcbiAgICB1c2VyRW1haWwsXG4gICAgZmluYWxDYXJkTWVzc2FnZTogbWVzc2FnZUdlbmVyYXRpb24uZmluYWxDYXJkTWVzc2FnZSxcbiAgICBpc0hhbmR3cml0dGVuTWVzc2FnZSxcbiAgICBpc0Zyb250QmFja09ubHksXG4gICAgcmVmZXJlbmNlSW1hZ2VVcmxzOiBmaWxlSGFuZGxpbmcucmVmZXJlbmNlSW1hZ2VVcmxzLFxuICAgIHBob3RvUmVmZXJlbmNlczogZmlsZUhhbmRsaW5nLnBob3RvUmVmZXJlbmNlcyxcbiAgICByZWxhdGlvbnNoaXBGaWVsZCxcbiAgICBzYXZlSm9iVG9TdG9yYWdlOiBqb2JNYW5hZ2VtZW50LnNhdmVKb2JUb1N0b3JhZ2UsXG4gICAgc3Vic2NyaWJlVG9Kb2I6IHdlYlNvY2tldC5zdWJzY3JpYmVUb0pvYixcbiAgICB1bnN1YnNjcmliZUZyb21BbGxKb2JzOiB3ZWJTb2NrZXQudW5zdWJzY3JpYmVGcm9tQWxsSm9icyxcbiAgICBzdGFydEVsYXBzZWRUaW1lVHJhY2tpbmc6IGpvYk1hbmFnZW1lbnQuc3RhcnRFbGFwc2VkVGltZVRyYWNraW5nLFxuICAgIHN0b3BFbGFwc2VkVGltZVRyYWNraW5nOiBqb2JNYW5hZ2VtZW50LnN0b3BFbGFwc2VkVGltZVRyYWNraW5nLFxuICAgIHNldFByb2dyZXNzUGVyY2VudGFnZTogam9iTWFuYWdlbWVudC5zZXRQcm9ncmVzc1BlcmNlbnRhZ2UsXG4gIH07XG4gIFxuICBjb25zdCBkcmFmdEdlbmVyYXRpb24gPSB1c2VEcmFmdEdlbmVyYXRpb24oZHJhZnRHZW5lcmF0aW9uUHJvcHMpO1xuICBcbiAgLy8gQ2FyZCBnZW5lcmF0aW9uIHByb3BzXG4gIGNvbnN0IGNhcmRHZW5lcmF0aW9uUHJvcHMgPSB7XG4gICAgc2VsZWN0ZWRUeXBlLFxuICAgIGN1c3RvbUNhcmRUeXBlLFxuICAgIHNlbGVjdGVkVG9uZSxcbiAgICBzZWxlY3RlZEFydGlzdGljU3R5bGUsXG4gICAgY3VzdG9tU3R5bGVEZXNjcmlwdGlvbixcbiAgICBzZWxlY3RlZEltYWdlTW9kZWwsXG4gICAgc2VsZWN0ZWRQYXBlclNpemUsXG4gICAgcHJvbXB0LFxuICAgIHBlcnNvbmFsVHJhaXRzLFxuICAgIHRvRmllbGQsXG4gICAgZnJvbUZpZWxkLFxuICAgIHVzZXJFbWFpbCxcbiAgICBmaW5hbENhcmRNZXNzYWdlOiBtZXNzYWdlR2VuZXJhdGlvbi5maW5hbENhcmRNZXNzYWdlLFxuICAgIGlzSGFuZHdyaXR0ZW5NZXNzYWdlLFxuICAgIGlzRnJvbnRCYWNrT25seSxcbiAgICByZWZlcmVuY2VJbWFnZVVybHM6IGZpbGVIYW5kbGluZy5yZWZlcmVuY2VJbWFnZVVybHMsXG4gICAgcGhvdG9SZWZlcmVuY2VzOiBmaWxlSGFuZGxpbmcucGhvdG9SZWZlcmVuY2VzLFxuICAgIHJlbGF0aW9uc2hpcEZpZWxkLFxuICAgIG51bWJlck9mQ2FyZHMsXG4gICAgc2F2ZUpvYlRvU3RvcmFnZTogam9iTWFuYWdlbWVudC5zYXZlSm9iVG9TdG9yYWdlLFxuICAgIHJlbW92ZUpvYkZyb21TdG9yYWdlOiBqb2JNYW5hZ2VtZW50LnJlbW92ZUpvYkZyb21TdG9yYWdlLFxuICAgIHN1YnNjcmliZVRvSm9iOiB3ZWJTb2NrZXQuc3Vic2NyaWJlVG9Kb2IsXG4gICAgc3RhcnRFbGFwc2VkVGltZVRyYWNraW5nOiBqb2JNYW5hZ2VtZW50LnN0YXJ0RWxhcHNlZFRpbWVUcmFja2luZyxcbiAgICBzdG9wRWxhcHNlZFRpbWVUcmFja2luZzogam9iTWFuYWdlbWVudC5zdG9wRWxhcHNlZFRpbWVUcmFja2luZyxcbiAgICBzZXRDdXJyZW50Sm9iSWQ6IGpvYk1hbmFnZW1lbnQuc2V0Q3VycmVudEpvYklkLFxuICAgIHNldElzRHJhZnRNb2RlOiBkcmFmdEdlbmVyYXRpb24uc2V0SXNEcmFmdE1vZGUsXG4gICAgc2V0RHJhZnRDYXJkczogZHJhZnRHZW5lcmF0aW9uLnNldERyYWZ0Q2FyZHMsXG4gICAgc2V0U2VsZWN0ZWREcmFmdEluZGV4OiBkcmFmdEdlbmVyYXRpb24uc2V0U2VsZWN0ZWREcmFmdEluZGV4LFxuICAgIHNldElzR2VuZXJhdGluZ0ZpbmFsQ2FyZDogZHJhZnRHZW5lcmF0aW9uLnNldElzR2VuZXJhdGluZ0ZpbmFsQ2FyZCxcbiAgICBzZXRQcmV2aWV3aW5nRHJhZnRJbmRleDogZHJhZnRHZW5lcmF0aW9uLnNldFByZXZpZXdpbmdEcmFmdEluZGV4LFxuICAgIHNldERyYWZ0Q29tcGxldGlvblNob3duOiBkcmFmdEdlbmVyYXRpb24uc2V0RHJhZnRDb21wbGV0aW9uU2hvd24sXG4gICAgc2V0RHJhZnRDb21wbGV0aW9uQ291bnQ6IGRyYWZ0R2VuZXJhdGlvbi5zZXREcmFmdENvbXBsZXRpb25Db3VudCxcbiAgfTtcbiAgXG4gIGNvbnN0IGNhcmRHZW5lcmF0aW9uID0gdXNlQ2FyZEdlbmVyYXRpb24oY2FyZEdlbmVyYXRpb25Qcm9wcyk7XG5cbiAgLy8gSGFuZGxlIGpvYiB1cGRhdGVzIGZyb20gV2ViU29ja2V0XG4gIGNvbnN0IGhhbmRsZUpvYlVwZGF0ZSA9IHVzZUNhbGxiYWNrKChkYXRhOiBhbnkpID0+IHtcbiAgICBjb25zdCB7IGpvYl9pZCwgc3RhdHVzLCBwcm9ncmVzcywgY2FyZERhdGEsIGVycm9yLCBjb21wbGV0ZWRBdCB9ID0gZGF0YTtcbiAgICBcbiAgICBpZiAoIWpvYl9pZCkgcmV0dXJuO1xuICAgIFxuICAgIC8vIFNraXAgdXBkYXRlcyBpZiB3ZSdyZSBzdGlsbCByZXN0b3Jpbmcgam9icyBmcm9tIGxvY2FsU3RvcmFnZVxuICAgIGlmIChpc1Jlc3RvcmluZ0pvYnMpIHtcbiAgICAgIGNvbnNvbGUubG9nKCfij7MgU2tpcHBpbmcgam9iIHVwZGF0ZSBkdXJpbmcgcmVzdG9yYXRpb246Jywgam9iX2lkKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgXG4gICAgLy8gQ2hlY2sgaWYgdGhpcyBpcyBhIGRyYWZ0IGpvYlxuICAgIGNvbnN0IGlzRHJhZnRKb2IgPSBqb2JfaWQuc3RhcnRzV2l0aCgnZHJhZnQtJyk7XG4gICAgY29uc3QgZHJhZnRJbmRleCA9IGlzRHJhZnRKb2IgPyBwYXJzZUludChqb2JfaWQuc3BsaXQoJy0nKVsxXSkgOiAtMTtcbiAgICBcbiAgICAvLyBGaWx0ZXIgb3V0IHVwZGF0ZXMgZnJvbSB3cm9uZyBqb2IgdHlwZVxuICAgIC8vIElmIHdlJ3JlIGluIGRyYWZ0IG1vZGUsIG9ubHkgcHJvY2VzcyBkcmFmdCBqb2JzXG4gICAgLy8gSWYgd2UncmUgaW4gZmluYWwgbW9kZSwgb25seSBwcm9jZXNzIG5vbi1kcmFmdCBqb2JzXG4gICAgY29uc3QgaXNJbkRyYWZ0TW9kZSA9IGRyYWZ0R2VuZXJhdGlvbi5pc0RyYWZ0TW9kZTtcbiAgICBpZiAoaXNJbkRyYWZ0TW9kZSAmJiAhaXNEcmFmdEpvYikge1xuICAgICAgY29uc29sZS5sb2coJ/CfmqsgSWdub3Jpbmcgbm9uLWRyYWZ0IGpvYiB1cGRhdGUgaW4gZHJhZnQgbW9kZTonLCBqb2JfaWQpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoIWlzSW5EcmFmdE1vZGUgJiYgaXNEcmFmdEpvYikge1xuICAgICAgY29uc29sZS5sb2coJ/CfmqsgSWdub3JpbmcgZHJhZnQgam9iIHVwZGF0ZSBpbiBmaW5hbCBtb2RlOicsIGpvYl9pZCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFxuICAgIGNvbnNvbGUubG9nKCfwn5SEIFByb2Nlc3Npbmcgam9iIHVwZGF0ZTonLCB7IGpvYl9pZCwgc3RhdHVzLCBpc0RyYWZ0Sm9iLCBkcmFmdEluZGV4LCBwcm9ncmVzcyB9KTtcbiAgICBcbiAgICAvLyBIYW5kbGUgc3RhdHVzIHRyYW5zaXRpb25zXG4gICAgaWYgKHN0YXR1cyA9PT0gJ3Byb2Nlc3NpbmcnICYmICFjYXJkR2VuZXJhdGlvbi5pc0dlbmVyYXRpbmcgJiYgIWRyYWZ0R2VuZXJhdGlvbi5pc0dlbmVyYXRpbmcpIHtcbiAgICAgIGNvbnNvbGUubG9nKCfwn5SEIEpvYiBpcyBwcm9jZXNzaW5nLCBzZXR0aW5nIGdlbmVyYXRpb24gc3RhdGUnKTtcbiAgICAgIGlmIChpc0RyYWZ0Sm9iKSB7XG4gICAgICAgIGRyYWZ0R2VuZXJhdGlvbi5zZXRJc0dlbmVyYXRpbmcodHJ1ZSk7XG4gICAgICAgIGRyYWZ0R2VuZXJhdGlvbi5zZXRJc0RyYWZ0TW9kZSh0cnVlKTtcbiAgICAgICAgam9iTWFuYWdlbWVudC5zdGFydEVsYXBzZWRUaW1lVHJhY2tpbmcoJ2RyYWZ0Jyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjYXJkR2VuZXJhdGlvbi5zZXRJc0dlbmVyYXRpbmcodHJ1ZSk7XG4gICAgICAgIGpvYk1hbmFnZW1lbnQuc3RhcnRFbGFwc2VkVGltZVRyYWNraW5nKCdmaW5hbCcpO1xuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICAvLyBVcGRhdGUgcHJvZ3Jlc3MgaWYgcHJvdmlkZWRcbiAgICBpZiAocHJvZ3Jlc3MpIHtcbiAgICAgIC8vIElNUE9SVEFOVDogRG9uJ3Qgc2hvdyBcIkdlbmVyYXRpb24gY29tcGxldGUhXCIgdW50aWwgd2UndmUgYWN0dWFsbHkgcHJvY2Vzc2VkIHRoZSBjYXJkXG4gICAgICAvLyBUaGlzIHByZXZlbnRzIHRoZSBVSSBmcm9tIHNob3dpbmcgY29tcGxldGlvbiBiZWZvcmUgdGhlIGNhcmQgaXMgcmVhZHlcbiAgICAgIGlmIChwcm9ncmVzcy5pbmNsdWRlcygnR2VuZXJhdGlvbiBjb21wbGV0ZSEnKSAmJiBzdGF0dXMgPT09ICdjb21wbGV0ZWQnICYmICFpc0RyYWZ0Sm9iKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCfij7jvuI8gSG9sZGluZyBcIkdlbmVyYXRpb24gY29tcGxldGUhXCIgbWVzc2FnZSB1bnRpbCBjYXJkIGlzIHByb2Nlc3NlZCcpO1xuICAgICAgICAvLyBEb24ndCB1cGRhdGUgdGhlIHByb2dyZXNzIG1lc3NhZ2UgeWV0IC0gaXQgd2lsbCBiZSBzZXQgaW4gaGFuZGxlRmluYWxDYXJkQ29tcGxldGlvblxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2FyZEdlbmVyYXRpb24uc2V0R2VuZXJhdGlvblByb2dyZXNzKHByb2dyZXNzKTtcbiAgICAgICAgZHJhZnRHZW5lcmF0aW9uLnNldEdlbmVyYXRpb25Qcm9ncmVzcyhwcm9ncmVzcyk7XG4gICAgICAgIGNvbnNvbGUubG9nKGDwn5OKIFByb2dyZXNzIG1lc3NhZ2U6ICR7cHJvZ3Jlc3N9YCk7XG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIGlmIChzdGF0dXMgPT09ICdjb21wbGV0ZWQnICYmIGNhcmREYXRhKSB7XG4gICAgICBjb25zb2xlLmxvZygn8J+OiSBKb2IgY29tcGxldGVkISBDYXJkIGRhdGE6JywgY2FyZERhdGEsICdpc0RyYWZ0Sm9iOicsIGlzRHJhZnRKb2IpO1xuICAgICAgXG4gICAgICAvLyBJZiB0aGlzIGlzIHRoZSBmaXJzdCB1cGRhdGUgZm9yIGEgcmVjb3Zlcnkgam9iLCBlbnN1cmUgZ2VuZXJhdGlvbiBzdGF0ZSBpcyBzZXQgcHJvcGVybHlcbiAgICAgIGlmIChpc0RyYWZ0Sm9iICYmICFkcmFmdEdlbmVyYXRpb24uaXNHZW5lcmF0aW5nICYmIGRyYWZ0R2VuZXJhdGlvbi5kcmFmdENhcmRzLmZpbHRlcihCb29sZWFuKS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgY29uc29sZS5sb2coJ/Cfk6UgUmVjb3ZlcmVkIGNvbXBsZXRlZCBkcmFmdCBqb2IgLSBub3Qgc2V0dGluZyBhcyBnZW5lcmF0aW5nJyk7XG4gICAgICAgIC8vIERvbid0IHNldCBpc0dlbmVyYXRpbmcgZm9yIGFscmVhZHkgY29tcGxldGVkIGpvYnMgZHVyaW5nIHJlY292ZXJ5XG4gICAgICB9XG4gICAgICBcbiAgICAgIGlmIChpc0RyYWZ0Sm9iICYmIGRyYWZ0SW5kZXggPj0gMCkge1xuICAgICAgICAvLyBIYW5kbGUgZHJhZnQgY2FyZCBjb21wbGV0aW9uXG4gICAgICAgIGNvbnNvbGUubG9nKGDwn46oIERyYWZ0IHZhcmlhdGlvbiAke2RyYWZ0SW5kZXggKyAxfSBjb21wbGV0ZWQhYCk7XG4gICAgICAgIFxuICAgICAgICAvLyBHZXQgc3R5bGUgaW5mbyBmb3Igc21hcnQgc3R5bGUgbW9kZVxuICAgICAgICBsZXQgc3R5bGVJbmZvOiB7IHN0eWxlTmFtZTogc3RyaW5nOyBzdHlsZUxhYmVsOiBzdHJpbmcgfSB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZDtcbiAgICAgICAgaWYgKHNlbGVjdGVkQXJ0aXN0aWNTdHlsZSA9PT0gXCJhaS1zbWFydC1zdHlsZVwiKSB7XG4gICAgICAgICAgY29uc3QgcHJlZGVmaW5lZFN0eWxlcyA9IFtcbiAgICAgICAgICAgIFwid2F0ZXJjb2xvclwiLCBcImJvdGFuaWNhbFwiLCBcImNvbWljLWJvb2tcIiwgXCJkcmVhbXktZmFudGFzeVwiLCBcIm1pbmltYWxpc3RcIlxuICAgICAgICAgIF07XG4gICAgICAgICAgY29uc3Qgc3R5bGVMYWJlbHMgPSBbXG4gICAgICAgICAgICBcIvCfjqggV2F0ZXJjb2xvclwiLCBcIvCfjL8gQm90YW5pY2FsXCIsIFwi8J+SpSBDb21pYyBCb29rXCIsIFwi8J+MuCBEcmVhbXkgRmFudGFzeVwiLCBcIuKcqCBNaW5pbWFsaXN0XCJcbiAgICAgICAgICBdO1xuICAgICAgICAgIGlmIChkcmFmdEluZGV4ID49IDAgJiYgZHJhZnRJbmRleCA8IHByZWRlZmluZWRTdHlsZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICBzdHlsZUluZm8gPSB7XG4gICAgICAgICAgICAgIHN0eWxlTmFtZTogcHJlZGVmaW5lZFN0eWxlc1tkcmFmdEluZGV4XSxcbiAgICAgICAgICAgICAgc3R5bGVMYWJlbDogc3R5bGVMYWJlbHNbZHJhZnRJbmRleF1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgZHJhZnRDYXJkOiBHZW5lcmF0ZWRDYXJkID0ge1xuICAgICAgICAgIGlkOiBgZHJhZnQtJHtkcmFmdEluZGV4ICsgMX0tJHtEYXRlLm5vdygpfWAsXG4gICAgICAgICAgcHJvbXB0OiBjYXJkRGF0YS5wcm9tcHQgfHwgYERyYWZ0IFZhcmlhdGlvbiAke2RyYWZ0SW5kZXggKyAxfWAsXG4gICAgICAgICAgZnJvbnRDb3ZlcjogY2FyZERhdGEuZnJvbnRDb3ZlciB8fCBcIlwiLFxuICAgICAgICAgIGJhY2tDb3ZlcjogY2FyZERhdGEuYmFja0NvdmVyIHx8IFwiXCIsXG4gICAgICAgICAgbGVmdFBhZ2U6IGNhcmREYXRhLmxlZnRJbnRlcmlvciB8fCBjYXJkRGF0YS5sZWZ0UGFnZSB8fCBcIlwiLFxuICAgICAgICAgIHJpZ2h0UGFnZTogY2FyZERhdGEucmlnaHRJbnRlcmlvciB8fCBjYXJkRGF0YS5yaWdodFBhZ2UgfHwgXCJcIixcbiAgICAgICAgICBjcmVhdGVkQXQ6IG5ldyBEYXRlKCksXG4gICAgICAgICAgZ2VuZXJhdGVkUHJvbXB0czogY2FyZERhdGEuZ2VuZXJhdGVkUHJvbXB0cyB8fCB7XG4gICAgICAgICAgICBmcm9udENvdmVyOiBjYXJkRGF0YS5nZW5lcmF0ZWRQcm9tcHRzPy5mcm9udENvdmVyIHx8IFwiXCIsXG4gICAgICAgICAgICBiYWNrQ292ZXI6IGNhcmREYXRhLmdlbmVyYXRlZFByb21wdHM/LmJhY2tDb3ZlciB8fCBcIlwiLFxuICAgICAgICAgICAgbGVmdEludGVyaW9yOiBjYXJkRGF0YS5nZW5lcmF0ZWRQcm9tcHRzPy5sZWZ0SW50ZXJpb3IgfHwgXCJcIixcbiAgICAgICAgICAgIHJpZ2h0SW50ZXJpb3I6IGNhcmREYXRhLmdlbmVyYXRlZFByb21wdHM/LnJpZ2h0SW50ZXJpb3IgfHwgXCJcIlxuICAgICAgICAgIH0sXG4gICAgICAgICAgc3R5bGVJbmZvOiBzdHlsZUluZm9cbiAgICAgICAgfTtcbiAgICAgICAgXG4gICAgICAgIC8vIFNpbXBsaWZpZWQgZHJhZnQgdHJhY2tpbmcgLSB1c2UgZml4ZWQgYXJyYXkgcG9zaXRpb25zXG4gICAgICAgIGRyYWZ0R2VuZXJhdGlvbi5zZXREcmFmdENhcmRzKHByZXYgPT4ge1xuICAgICAgICAgIGNvbnN0IHVwZGF0ZWQgPSBbLi4ucHJldl07XG4gICAgICAgICAgLy8gRW5zdXJlIGFycmF5IGhhcyA1IHNsb3RzXG4gICAgICAgICAgd2hpbGUgKHVwZGF0ZWQubGVuZ3RoIDwgNSkge1xuICAgICAgICAgICAgdXBkYXRlZC5wdXNoKG51bGwgYXMgYW55KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gUGxhY2UgZHJhZnQgYXQgaXRzIGNvcnJlY3QgaW5kZXhcbiAgICAgICAgICB1cGRhdGVkW2RyYWZ0SW5kZXhdID0gZHJhZnRDYXJkO1xuICAgICAgICAgIGNvbnNvbGUubG9nKGDinIUgRHJhZnQgJHtkcmFmdEluZGV4ICsgMX0gY29tcGxldGVkIGFuZCBzdG9yZWQgYXQgaW5kZXggJHtkcmFmdEluZGV4fWApO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIE5vIGxvbmdlciBzYXZlIGluZGl2aWR1YWwgZHJhZnRzIHRvIGxvY2FsU3RvcmFnZVxuICAgICAgICAgIFxuICAgICAgICAgIHJldHVybiB1cGRhdGVkO1xuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIC8vIFNpbXBsaWZpZWQgY29tcGxldGlvbiB0cmFja2luZyAtIGNvdW50IHRoZSB1cGRhdGVkIGFycmF5IGluY2x1ZGluZyB0aGUgbmV3IGRyYWZ0XG4gICAgICAgIGNvbnN0IHVwZGF0ZWREcmFmdHMgPSBbLi4uZHJhZnRHZW5lcmF0aW9uLmRyYWZ0Q2FyZHNdO1xuICAgICAgICB1cGRhdGVkRHJhZnRzW2RyYWZ0SW5kZXhdID0gZHJhZnRDYXJkO1xuICAgICAgICBjb25zdCBjb21wbGV0ZWRDb3VudCA9IHVwZGF0ZWREcmFmdHMuZmlsdGVyKEJvb2xlYW4pLmxlbmd0aDtcbiAgICAgICAgY29uc29sZS5sb2coYPCfk4ogRHJhZnQgcHJvZ3Jlc3M6ICR7Y29tcGxldGVkQ291bnR9LzUgdmFyaWF0aW9ucyBjb21wbGV0ZWApO1xuICAgICAgICBcbiAgICAgICAgLy8gVXBkYXRlIHByb2dyZXNzXG4gICAgICAgIGNvbnN0IHByb2dyZXNzTXNnID0gY29tcGxldGVkQ291bnQgPT09IDUgXG4gICAgICAgICAgPyBcIkFsbCA1IHZhcmlhdGlvbnMgcmVhZHkhIENob29zZSB5b3VyIGZhdm9yaXRlIGJlbG93LlwiXG4gICAgICAgICAgOiBgJHtjb21wbGV0ZWRDb3VudH0vNSB2YXJpYXRpb25zIGNvbXBsZXRlLi4uJHtjb21wbGV0ZWRDb3VudCA+PSAyID8gXCIgWW91IGNhbiBzZWxlY3Qgb25lIG5vdyFcIiA6IFwiXCJ9YDtcbiAgICAgICAgXG4gICAgICAgIGRyYWZ0R2VuZXJhdGlvbi5zZXRHZW5lcmF0aW9uUHJvZ3Jlc3MocHJvZ3Jlc3NNc2cpO1xuICAgICAgICBcbiAgICAgICAgLy8gT3ZlcnJpZGUgdGltZS1iYXNlZCBwcm9ncmVzcyB3aXRoIHJlYWwgcHJvZ3Jlc3Mgd2hlbiBkcmFmdHMgY29tcGxldGVcbiAgICAgICAgLy8gRG9uJ3Qgb3ZlcnJpZGUgdGltZS1iYXNlZCBwcm9ncmVzc1xuICAgICAgICBjb25zb2xlLmxvZyhg8J+OqCBEcmFmdCAke2NvbXBsZXRlZENvdW50fS81IGNvbXBsZXRlZGApO1xuICAgICAgICBcbiAgICAgICAgLy8gSGFuZGxlIG1pbGVzdG9uZXNcbiAgICAgICAgaWYgKGNvbXBsZXRlZENvdW50ID09PSAxKSB7XG4gICAgICAgICAgc2Nyb2xsVG9DYXJkUHJldmlldygpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBpZiAoY29tcGxldGVkQ291bnQgPT09IDUgJiYgIWRyYWZ0R2VuZXJhdGlvbi5pc0dlbmVyYXRpbmdGaW5hbENhcmQpIHtcbiAgICAgICAgICBkcmFmdEdlbmVyYXRpb24uc2V0SXNHZW5lcmF0aW5nKGZhbHNlKTtcbiAgICAgICAgICBqb2JNYW5hZ2VtZW50LnN0b3BFbGFwc2VkVGltZVRyYWNraW5nKCk7XG4gICAgICAgICAgLy8gQ2xlYXIgcmVjb3ZlcnkgZGF0YSBmb3IgY29tcGxldGVkIGRyYWZ0IGpvYnNcbiAgICAgICAgICBzdG9yYWdlLmNsZWFyUmVjb3ZlcnkoKTtcbiAgICAgICAgICBjb25zb2xlLmxvZygn8J+nuSBDbGVhcmVkIHJlY292ZXJ5IGRhdGEgZm9yIGNvbXBsZXRlZCBkcmFmdCBqb2InKTtcbiAgICAgICAgICB0b2FzdC5zdWNjZXNzKFwi8J+OqCBBbGwgNSBmcm9udCBjb3ZlciB2YXJpYXRpb25zIHJlYWR5ISBDaG9vc2UgeW91ciBmYXZvcml0ZSBiZWxvdy5cIik7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIEtlZXAgZHJhZnQgam9icyBpbiBzdG9yYWdlIGZvciBsYXRlciByZXRyaWV2YWxcbiAgICAgICAgLy8gT25seSB1bnN1YnNjcmliZSBmcm9tIFdlYlNvY2tldFxuICAgICAgICB3ZWJTb2NrZXQudW5zdWJzY3JpYmVGcm9tSm9iKGpvYl9pZCk7XG4gICAgICAgIGNvbnNvbGUubG9nKGDinIUgS2VlcGluZyBkcmFmdCBqb2IgJHtqb2JfaWR9IGluIHN0b3JhZ2UgZm9yIGZ1dHVyZSBhY2Nlc3NgKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIEhhbmRsZSBmaW5hbCBjYXJkIGNvbXBsZXRpb25cbiAgICAgICAgY29uc29sZS5sb2coJ/CflI0gRmluYWwgY2FyZCBjb21wbGV0aW9uIGRldGVjdGVkLiBDYXJkIGRhdGEgc3RydWN0dXJlOicsIHtcbiAgICAgICAgICBoYXNDYXJkRGF0YTogISFjYXJkRGF0YSxcbiAgICAgICAgICBjYXJkRGF0YUtleXM6IE9iamVjdC5rZXlzKGNhcmREYXRhIHx8IHt9KSxcbiAgICAgICAgICBmcm9udENvdmVyOiBjYXJkRGF0YT8uZnJvbnRDb3ZlciA/ICdQcmVzZW50JyA6ICdNaXNzaW5nJyxcbiAgICAgICAgICBiYWNrQ292ZXI6IGNhcmREYXRhPy5iYWNrQ292ZXIgPyAnUHJlc2VudCcgOiAnTWlzc2luZycsXG4gICAgICAgICAgbGVmdEludGVyaW9yOiBjYXJkRGF0YT8ubGVmdEludGVyaW9yID8gJ1ByZXNlbnQnIDogJ01pc3NpbmcnLFxuICAgICAgICAgIHJpZ2h0SW50ZXJpb3I6IGNhcmREYXRhPy5yaWdodEludGVyaW9yID8gJ1ByZXNlbnQnIDogJ01pc3NpbmcnLFxuICAgICAgICAgIGxlZnRQYWdlOiBjYXJkRGF0YT8ubGVmdFBhZ2UgPyAnUHJlc2VudCcgOiAnTWlzc2luZycsXG4gICAgICAgICAgcmlnaHRQYWdlOiBjYXJkRGF0YT8ucmlnaHRQYWdlID8gJ1ByZXNlbnQnIDogJ01pc3NpbmcnLFxuICAgICAgICB9KTtcbiAgICAgICAgY29uc29sZS5sb2coJ/Cfk50gRnVsbCBjYXJkIGRhdGE6JywgSlNPTi5zdHJpbmdpZnkoY2FyZERhdGEsIG51bGwsIDIpKTtcbiAgICAgICAgXG4gICAgICAgIC8vIE1hcCBiYWNrZW5kIGZpZWxkIG5hbWVzIHRvIGZyb250ZW5kIGZpZWxkIG5hbWVzXG4gICAgICAgIGNvbnN0IG1hcHBlZENhcmREYXRhID0ge1xuICAgICAgICAgIC4uLmNhcmREYXRhLFxuICAgICAgICAgIGxlZnRJbnRlcmlvcjogY2FyZERhdGEubGVmdEludGVyaW9yIHx8IGNhcmREYXRhLmxlZnRQYWdlLFxuICAgICAgICAgIHJpZ2h0SW50ZXJpb3I6IGNhcmREYXRhLnJpZ2h0SW50ZXJpb3IgfHwgY2FyZERhdGEucmlnaHRQYWdlLFxuICAgICAgICAgIC8vIEtlZXAgb3JpZ2luYWwgZmllbGRzIGZvciBiYWNrd2FyZCBjb21wYXRpYmlsaXR5XG4gICAgICAgICAgbGVmdFBhZ2U6IGNhcmREYXRhLmxlZnRQYWdlIHx8IGNhcmREYXRhLmxlZnRJbnRlcmlvcixcbiAgICAgICAgICByaWdodFBhZ2U6IGNhcmREYXRhLnJpZ2h0UGFnZSB8fCBjYXJkRGF0YS5yaWdodEludGVyaW9yLFxuICAgICAgICB9O1xuICAgICAgICBcbiAgICAgICAgY29uc29sZS5sb2coJ/CflIQgTWFwcGVkIGNhcmQgZGF0YSBmb3IgZnJvbnRlbmQgY29tcGF0aWJpbGl0eTonLCB7XG4gICAgICAgICAgZnJvbnRDb3ZlcjogbWFwcGVkQ2FyZERhdGEuZnJvbnRDb3ZlciA/ICdQcmVzZW50JyA6ICdNaXNzaW5nJyxcbiAgICAgICAgICBiYWNrQ292ZXI6IG1hcHBlZENhcmREYXRhLmJhY2tDb3ZlciA/ICdQcmVzZW50JyA6ICdNaXNzaW5nJyxcbiAgICAgICAgICBsZWZ0SW50ZXJpb3I6IG1hcHBlZENhcmREYXRhLmxlZnRJbnRlcmlvciA/ICdQcmVzZW50JyA6ICdNaXNzaW5nJyxcbiAgICAgICAgICByaWdodEludGVyaW9yOiBtYXBwZWRDYXJkRGF0YS5yaWdodEludGVyaW9yID8gJ1ByZXNlbnQnIDogJ01pc3NpbmcnLFxuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIC8vIENhbGwgdGhlIGNvbXBsZXRpb24gaGFuZGxlclxuICAgICAgICBjb25zb2xlLmxvZygn8J+agCBDYWxsaW5nIGhhbmRsZUZpbmFsQ2FyZENvbXBsZXRpb24uLi4nKTtcbiAgICAgICAgY2FyZEdlbmVyYXRpb24uaGFuZGxlRmluYWxDYXJkQ29tcGxldGlvbihtYXBwZWRDYXJkRGF0YSk7XG4gICAgICAgIFxuICAgICAgICAvLyBDYXJkIGlzIGF1dG9tYXRpY2FsbHkgYWRkZWQgdG8gcmVjZW50IGNhcmRzIGJ5IG1hcmtKb2JDb21wbGV0ZVxuICAgICAgICBcbiAgICAgICAgLy8gT25seSBjbGVhciByZWNvdmVyeSBpZiB3ZSdyZSBub3QgaW4gdGhlIG1pZGRsZSBvZiByZXN0b3JpbmdcbiAgICAgICAgaWYgKCFpc1Jlc3RvcmluZ0pvYnMpIHtcbiAgICAgICAgICBqb2JNYW5hZ2VtZW50LnJlbW92ZUpvYkZyb21TdG9yYWdlKGpvYl9pZCk7XG4gICAgICAgIH1cbiAgICAgICAgam9iTWFuYWdlbWVudC5zZXRDdXJyZW50Sm9iSWQobnVsbCk7XG4gICAgICAgIHdlYlNvY2tldC51bnN1YnNjcmliZUZyb21Kb2Ioam9iX2lkKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHN0YXR1cyA9PT0gJ2ZhaWxlZCcpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBKb2IgZmFpbGVkOicsIGVycm9yKTtcbiAgICAgIFxuICAgICAgaWYgKGlzRHJhZnRKb2IgJiYgZHJhZnRJbmRleCA+PSAwKSB7XG4gICAgICAgIHRvYXN0LmVycm9yKGBEcmFmdCB2YXJpYXRpb24gJHtkcmFmdEluZGV4ICsgMX0gZmFpbGVkLiBDb250aW51aW5nIHdpdGggb3RoZXJzLi4uYCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0b2FzdC5lcnJvcihcIuKdjCBDYXJkIGdlbmVyYXRpb24gZmFpbGVkLiBQbGVhc2UgdHJ5IGFnYWluLlwiKTtcbiAgICAgICAgY2FyZEdlbmVyYXRpb24uc2V0SXNHZW5lcmF0aW5nKGZhbHNlKTtcbiAgICAgICAgZHJhZnRHZW5lcmF0aW9uLnNldElzR2VuZXJhdGluZ0ZpbmFsQ2FyZChmYWxzZSk7XG4gICAgICAgIGpvYk1hbmFnZW1lbnQuc3RvcEVsYXBzZWRUaW1lVHJhY2tpbmcoKTtcbiAgICAgICAgY2FyZEdlbmVyYXRpb24uc2V0R2VuZXJhdGlvblByb2dyZXNzKFwiXCIpO1xuICAgICAgICAvLyBEb24ndCByZXNldCBwcm9ncmVzcyAtIGxldCB0aW1lLWJhc2VkIHByb2dyZXNzIGNvbnRpbnVlXG4gICAgICAgIC8vIGpvYk1hbmFnZW1lbnQuc2V0UHJvZ3Jlc3NQZXJjZW50YWdlKDApO1xuICAgICAgICBqb2JNYW5hZ2VtZW50LnNldEN1cnJlbnRKb2JJZChudWxsKTtcbiAgICAgICAgd2ViU29ja2V0LnVuc3Vic2NyaWJlRnJvbUpvYihqb2JfaWQpO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBPbmx5IGNsZWFyIHJlY292ZXJ5IGlmIHdlJ3JlIG5vdCBpbiB0aGUgbWlkZGxlIG9mIHJlc3RvcmluZ1xuICAgICAgaWYgKCFpc1Jlc3RvcmluZ0pvYnMpIHtcbiAgICAgICAgam9iTWFuYWdlbWVudC5yZW1vdmVKb2JGcm9tU3RvcmFnZShqb2JfaWQpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoc3RhdHVzID09PSAnbm90X2ZvdW5kJykge1xuICAgICAgY29uc29sZS53YXJuKCfimqDvuI8gSm9iIG5vdCBmb3VuZCBvbiBzZXJ2ZXIsIGNsZWFuaW5nIHVwIHN0YWxlIHJlZmVyZW5jZTonLCBqb2JfaWQpO1xuICAgICAgXG4gICAgICAvLyBDbGVhbiB1cCBzdGFsZSBqb2IgcmVmZXJlbmNlXG4gICAgICBpZiAod2ViU29ja2V0LmN1cnJlbnRKb2JSZWYuY3VycmVudCA9PT0gam9iX2lkKSB7XG4gICAgICAgIHdlYlNvY2tldC5jdXJyZW50Sm9iUmVmLmN1cnJlbnQgPSBudWxsO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBSZXNldCBVSSBzdGF0ZSBpZiB0aGlzIHdhcyB0aGUgY3VycmVudCBqb2JcbiAgICAgIGlmIChqb2JNYW5hZ2VtZW50LmN1cnJlbnRKb2JJZCA9PT0gam9iX2lkKSB7XG4gICAgICAgIGpvYk1hbmFnZW1lbnQuc2V0Q3VycmVudEpvYklkKG51bGwpO1xuICAgICAgICBjYXJkR2VuZXJhdGlvbi5zZXRJc0dlbmVyYXRpbmcoZmFsc2UpO1xuICAgICAgICBkcmFmdEdlbmVyYXRpb24uc2V0SXNHZW5lcmF0aW5nRmluYWxDYXJkKGZhbHNlKTtcbiAgICAgICAgY2FyZEdlbmVyYXRpb24uc2V0R2VuZXJhdGlvblByb2dyZXNzKFwiXCIpO1xuICAgICAgICAvLyBEb24ndCByZXNldCBwcm9ncmVzcyAtIGxldCB0aW1lLWJhc2VkIHByb2dyZXNzIGNvbnRpbnVlXG4gICAgICAgIC8vIGpvYk1hbmFnZW1lbnQuc2V0UHJvZ3Jlc3NQZXJjZW50YWdlKDApO1xuICAgICAgICBqb2JNYW5hZ2VtZW50LnN0b3BFbGFwc2VkVGltZVRyYWNraW5nKCk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIENsZWFuIHVwIHN0b3JhZ2VcbiAgICAgIC8vIE9ubHkgY2xlYXIgcmVjb3ZlcnkgaWYgd2UncmUgbm90IGluIHRoZSBtaWRkbGUgb2YgcmVzdG9yaW5nXG4gICAgICBpZiAoIWlzUmVzdG9yaW5nSm9icykge1xuICAgICAgICBqb2JNYW5hZ2VtZW50LnJlbW92ZUpvYkZyb21TdG9yYWdlKGpvYl9pZCk7XG4gICAgICB9XG4gICAgICB3ZWJTb2NrZXQudW5zdWJzY3JpYmVGcm9tSm9iKGpvYl9pZCk7XG4gICAgfVxuICB9LCBbc2VsZWN0ZWRBcnRpc3RpY1N0eWxlLCBkcmFmdEdlbmVyYXRpb24sIGNhcmRHZW5lcmF0aW9uLCBqb2JNYW5hZ2VtZW50LCB3ZWJTb2NrZXQsIGlzUmVzdG9yaW5nSm9ic10pO1xuXG4gIC8vIFNldCB1cCBXZWJTb2NrZXQgam9iIHVwZGF0ZSBoYW5kbGVyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgd2ViU29ja2V0LnNldEpvYlVwZGF0ZUhhbmRsZXIoaGFuZGxlSm9iVXBkYXRlKTtcbiAgfSwgW3dlYlNvY2tldCwgaGFuZGxlSm9iVXBkYXRlXSk7XG5cbiAgLy8gVHJhY2sgaWYgd2UndmUgYWxyZWFkeSBsb2dnZWQgdGhlIHN0YWxlIGpvYiBtZXNzYWdlXG4gIGNvbnN0IHN0YWxlSm9iTG9nZ2VkUmVmID0gdXNlUmVmKGZhbHNlKTtcblxuICAvLyBBdXRvLXJlY29ubmVjdCBXZWJTb2NrZXQgaWYgZGlzY29ubmVjdGVkIGR1cmluZyBhY3RpdmUgZ2VuZXJhdGlvblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghd2ViU29ja2V0LmlzU29ja2V0Q29ubmVjdGVkICYmIFxuICAgICAgICAoY2FyZEdlbmVyYXRpb24uaXNHZW5lcmF0aW5nIHx8IGRyYWZ0R2VuZXJhdGlvbi5pc0dlbmVyYXRpbmdGaW5hbENhcmQpICYmIFxuICAgICAgICB3ZWJTb2NrZXQuY3VycmVudEpvYlJlZi5jdXJyZW50KSB7XG4gICAgICBcbiAgICAgIC8vIENoZWNrIGlmIHRoZSBnZW5lcmF0aW9uIGhhcyBiZWVuIHJ1bm5pbmcgZm9yIG1vcmUgdGhhbiA1IG1pbnV0ZXNcbiAgICAgIGlmIChqb2JNYW5hZ2VtZW50LmdlbmVyYXRpb25TdGFydFRpbWUpIHtcbiAgICAgICAgY29uc3Qgam9iQWdlID0gRGF0ZS5ub3coKSAtIGpvYk1hbmFnZW1lbnQuZ2VuZXJhdGlvblN0YXJ0VGltZTtcbiAgICAgICAgaWYgKGpvYkFnZSA+IDUgKiA2MCAqIDEwMDApIHsgLy8gNSBtaW51dGVzXG4gICAgICAgICAgaWYgKCFzdGFsZUpvYkxvZ2dlZFJlZi5jdXJyZW50KSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygn4o+wIEpvYiBpcyBvbGRlciB0aGFuIDUgbWludXRlcywgc3RvcHBpbmcgcmVjb25uZWN0aW9uIGF0dGVtcHRzJyk7XG4gICAgICAgICAgICBzdGFsZUpvYkxvZ2dlZFJlZi5jdXJyZW50ID0gdHJ1ZTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gQ2xlYW4gdXAgc3RhbGUgam9iXG4gICAgICAgICAgICBjb25zdCBqb2JJZCA9IHdlYlNvY2tldC5jdXJyZW50Sm9iUmVmLmN1cnJlbnQ7XG4gICAgICAgICAgICBpZiAoam9iSWQpIHtcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/Cfp7kgQ2xlYW5pbmcgdXAgc3RhbGUgam9iOicsIGpvYklkKTtcbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIC8vIFJlbW92ZSBmcm9tIGxvY2FsU3RvcmFnZSAob25seSBpZiBub3QgYSBkcmFmdCBqb2IpXG4gICAgICAgICAgICAgIGlmICgham9iSWQuc3RhcnRzV2l0aCgnZHJhZnQtJykpIHtcbiAgICAgICAgICAgICAgICBqb2JNYW5hZ2VtZW50LnJlbW92ZUpvYkZyb21TdG9yYWdlKGpvYklkKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgLy8gUmVzZXQgZ2VuZXJhdGlvbiBzdGF0ZXNcbiAgICAgICAgICAgICAgY2FyZEdlbmVyYXRpb24uc2V0SXNHZW5lcmF0aW5nKGZhbHNlKTtcbiAgICAgICAgICAgICAgZHJhZnRHZW5lcmF0aW9uLnNldElzR2VuZXJhdGluZ0ZpbmFsQ2FyZChmYWxzZSk7XG4gICAgICAgICAgICAgIGRyYWZ0R2VuZXJhdGlvbi5zZXRJc0RyYWZ0TW9kZShmYWxzZSk7XG4gICAgICAgICAgICAgIGRyYWZ0R2VuZXJhdGlvbi5zZXREcmFmdENhcmRzKFtdKTtcbiAgICAgICAgICAgICAgZHJhZnRHZW5lcmF0aW9uLnNldERyYWZ0Q29tcGxldGlvbkNvdW50KDApO1xuICAgICAgICAgICAgICBkcmFmdEdlbmVyYXRpb24uc2V0RHJhZnRDb21wbGV0aW9uU2hvd24oZmFsc2UpO1xuICAgICAgICAgICAgICBqb2JNYW5hZ2VtZW50LnNldEN1cnJlbnRKb2JJZChudWxsKTtcbiAgICAgICAgICAgICAgam9iTWFuYWdlbWVudC5zZXRHZW5lcmF0aW9uUHJvZ3Jlc3MoJycpO1xuICAgICAgICAgICAgICAvLyBEb24ndCByZXNldCBwcm9ncmVzcyAtIGxldCB0aW1lLWJhc2VkIHByb2dyZXNzIGNvbnRpbnVlXG4gICAgICAgIC8vIGpvYk1hbmFnZW1lbnQuc2V0UHJvZ3Jlc3NQZXJjZW50YWdlKDApO1xuICAgICAgICAgICAgICBqb2JNYW5hZ2VtZW50LnN0b3BFbGFwc2VkVGltZVRyYWNraW5nKCk7XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAvLyBVbnN1YnNjcmliZSBmcm9tIGpvYlxuICAgICAgICAgICAgICB3ZWJTb2NrZXQudW5zdWJzY3JpYmVGcm9tSm9iKGpvYklkKTtcbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIC8vIFNob3cgZXJyb3IgdG9hc3RcbiAgICAgICAgICAgICAgdG9hc3QuZXJyb3IoJ0NhcmQgZ2VuZXJhdGlvbiB0aW1lZCBvdXQuIFBsZWFzZSB0cnkgYWdhaW4uJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgXG4gICAgICBjb25zb2xlLmxvZygn8J+UhCBXZWJTb2NrZXQgZGlzY29ubmVjdGVkIGR1cmluZyBnZW5lcmF0aW9uLCBhdHRlbXB0aW5nIHJlY29ubmVjdC4uLicpO1xuICAgICAgY29uc3QgcmVjb25uZWN0VGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgd2ViU29ja2V0LmNvbm5lY3RXZWJTb2NrZXQoKTtcbiAgICAgICAgXG4gICAgICAgIC8vIFJlLXN1YnNjcmliZSB0byBjdXJyZW50IGpvYiBhZnRlciByZWNvbm5lY3Rpb25cbiAgICAgICAgY29uc3Qgam9iSWQgPSB3ZWJTb2NrZXQuY3VycmVudEpvYlJlZi5jdXJyZW50O1xuICAgICAgICBpZiAoam9iSWQpIHtcbiAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5OhIFJlLXN1YnNjcmliaW5nIHRvIGpvYiBhZnRlciByZWNvbm5lY3Q6Jywgam9iSWQpO1xuICAgICAgICAgICAgd2ViU29ja2V0LnN1YnNjcmliZVRvSm9iKGpvYklkKTtcbiAgICAgICAgICB9LCAxMDAwKTtcbiAgICAgICAgfVxuICAgICAgfSwgMjAwMCk7XG4gICAgICBcbiAgICAgIHJldHVybiAoKSA9PiBjbGVhclRpbWVvdXQocmVjb25uZWN0VGltZXIpO1xuICAgIH1cbiAgfSwgW3dlYlNvY2tldCwgY2FyZEdlbmVyYXRpb24uaXNHZW5lcmF0aW5nLCBkcmFmdEdlbmVyYXRpb24uaXNHZW5lcmF0aW5nRmluYWxDYXJkLCBqb2JNYW5hZ2VtZW50LmdlbmVyYXRpb25TdGFydFRpbWVdKTtcblxuICAvLyBSZXNldCBzdGFsZSBqb2IgZmxhZyB3aGVuIGdlbmVyYXRpb24gc3RhcnRzXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGNhcmRHZW5lcmF0aW9uLmlzR2VuZXJhdGluZyB8fCBkcmFmdEdlbmVyYXRpb24uaXNHZW5lcmF0aW5nRmluYWxDYXJkKSB7XG4gICAgICBzdGFsZUpvYkxvZ2dlZFJlZi5jdXJyZW50ID0gZmFsc2U7XG4gICAgfVxuICB9LCBbY2FyZEdlbmVyYXRpb24uaXNHZW5lcmF0aW5nLCBkcmFmdEdlbmVyYXRpb24uaXNHZW5lcmF0aW5nRmluYWxDYXJkXSk7XG5cbiAgLy8gTW9uaXRvciBmb3Igc3RhbGUgam9iIHVwZGF0ZXNcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoKGNhcmRHZW5lcmF0aW9uLmlzR2VuZXJhdGluZyB8fCBkcmFmdEdlbmVyYXRpb24uaXNHZW5lcmF0aW5nRmluYWxDYXJkKSAmJiBcbiAgICAgICAgd2ViU29ja2V0LmN1cnJlbnRKb2JSZWYuY3VycmVudCkge1xuICAgICAgY29uc3QgY2hlY2tJbnRlcnZhbCA9IHNldEludGVydmFsKGFzeW5jICgpID0+IHtcbiAgICAgICAgY29uc3QgdGltZVNpbmNlTGFzdFVwZGF0ZSA9IERhdGUubm93KCkgLSB3ZWJTb2NrZXQubGFzdEpvYlVwZGF0ZVJlZi5jdXJyZW50O1xuICAgICAgICBjb25zdCBqb2JJZCA9IHdlYlNvY2tldC5jdXJyZW50Sm9iUmVmLmN1cnJlbnQ7XG4gICAgICAgIFxuICAgICAgICAvLyBWZXJ5IGFnZ3Jlc3NpdmUgY2hlY2tpbmcgd2hlbiBhdCA5NSUrIHByb2dyZXNzXG4gICAgICAgIGlmIChqb2JNYW5hZ2VtZW50LnByb2dyZXNzUGVyY2VudGFnZSA+PSA5NSAmJiB0aW1lU2luY2VMYXN0VXBkYXRlID4gNTAwMCkge1xuICAgICAgICAgIGNvbnNvbGUud2Fybihg4pqg77iPIE5vIHVwZGF0ZXMgZm9yICR7TWF0aC5yb3VuZCh0aW1lU2luY2VMYXN0VXBkYXRlLzEwMDApfXMgYXQgJHtqb2JNYW5hZ2VtZW50LnByb2dyZXNzUGVyY2VudGFnZX0lIHByb2dyZXNzIC0gY2hlY2tpbmcgam9iIHN0YXR1cy4uLmApO1xuICAgICAgICAgIFxuICAgICAgICAgIGlmIChqb2JJZCkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgL2FwaS9qb2Itc3RhdHVzLyR7am9iSWR9YCk7XG4gICAgICAgICAgICAgIGlmIChyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGpvYlN0YXR1cyA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn8J+TiiBEaXJlY3Qgam9iIHN0YXR1cyBjaGVjazonLCBqb2JTdGF0dXMpO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGlmIChqb2JTdGF0dXMuc3RhdHVzID09PSAnY29tcGxldGVkJyAmJiBqb2JTdGF0dXMuY2FyZERhdGEpIHtcbiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfinIUgSm9iIGlzIGFjdHVhbGx5IGNvbXBsZXRlZCEgUHJvY2Vzc2luZyByZXN1bHQuLi4nKTtcbiAgICAgICAgICAgICAgICAgIGhhbmRsZUpvYlVwZGF0ZSh7XG4gICAgICAgICAgICAgICAgICAgIGpvYl9pZDogam9iSWQsXG4gICAgICAgICAgICAgICAgICAgIHN0YXR1czogJ2NvbXBsZXRlZCcsXG4gICAgICAgICAgICAgICAgICAgIHByb2dyZXNzOiAnQ2FyZCBnZW5lcmF0aW9uIGNvbXBsZXRlIScsXG4gICAgICAgICAgICAgICAgICAgIGNhcmREYXRhOiBqb2JTdGF0dXMuY2FyZERhdGFcbiAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgcmV0dXJuOyAvLyBFeGl0IGVhcmx5IG9uIGNvbXBsZXRpb25cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBjaGVjayBqb2Igc3RhdHVzOicsIGVycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gTW9yZSBhZ2dyZXNzaXZlIGNoZWNraW5nIHdoZW4gYXQgaGlnaCBwcm9ncmVzc1xuICAgICAgICBlbHNlIGlmIChqb2JNYW5hZ2VtZW50LnByb2dyZXNzUGVyY2VudGFnZSA+PSA5MCAmJiB0aW1lU2luY2VMYXN0VXBkYXRlID4gMTAwMDApIHtcbiAgICAgICAgICBjb25zb2xlLndhcm4oYOKaoO+4jyBObyB1cGRhdGVzIGZvciAke01hdGgucm91bmQodGltZVNpbmNlTGFzdFVwZGF0ZS8xMDAwKX1zIGF0ICR7am9iTWFuYWdlbWVudC5wcm9ncmVzc1BlcmNlbnRhZ2V9JSBwcm9ncmVzc2ApO1xuICAgICAgICAgIFxuICAgICAgICAgIGlmIChqb2JJZCkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgL2FwaS9qb2Itc3RhdHVzLyR7am9iSWR9YCk7XG4gICAgICAgICAgICAgIGlmIChyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGpvYlN0YXR1cyA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn8J+TiiBEaXJlY3Qgam9iIHN0YXR1cyBjaGVjazonLCBqb2JTdGF0dXMpO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGlmIChqb2JTdGF0dXMuc3RhdHVzID09PSAnY29tcGxldGVkJyAmJiBqb2JTdGF0dXMuY2FyZERhdGEpIHtcbiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfinIUgSm9iIGlzIGFjdHVhbGx5IGNvbXBsZXRlZCEgUHJvY2Vzc2luZyByZXN1bHQuLi4nKTtcbiAgICAgICAgICAgICAgICAgIGhhbmRsZUpvYlVwZGF0ZSh7XG4gICAgICAgICAgICAgICAgICAgIGpvYl9pZDogam9iSWQsXG4gICAgICAgICAgICAgICAgICAgIHN0YXR1czogJ2NvbXBsZXRlZCcsXG4gICAgICAgICAgICAgICAgICAgIHByb2dyZXNzOiAnQ2FyZCBnZW5lcmF0aW9uIGNvbXBsZXRlIScsXG4gICAgICAgICAgICAgICAgICAgIGNhcmREYXRhOiBqb2JTdGF0dXMuY2FyZERhdGFcbiAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgcmV0dXJuOyAvLyBFeGl0IGVhcmx5IG9uIGNvbXBsZXRpb25cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBjaGVjayBqb2Igc3RhdHVzOicsIGVycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIFN0YW5kYXJkIHN0YWxlIHVwZGF0ZSBjaGVja1xuICAgICAgICBpZiAodGltZVNpbmNlTGFzdFVwZGF0ZSA+IDMwMDAwKSB7IC8vIDMwIHNlY29uZHMgd2l0aG91dCB1cGRhdGVcbiAgICAgICAgICBjb25zb2xlLndhcm4oJ+KaoO+4jyBObyBqb2IgdXBkYXRlcyBmb3IgMzAgc2Vjb25kcywgY2hlY2tpbmcgY29ubmVjdGlvbi4uLicpO1xuICAgICAgICAgIFxuICAgICAgICAgIGlmICghd2ViU29ja2V0LmlzU29ja2V0Q29ubmVjdGVkKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygn8J+UhCBXZWJTb2NrZXQgZGlzY29ubmVjdGVkLCByZWNvbm5lY3RpbmcuLi4nKTtcbiAgICAgICAgICAgIHdlYlNvY2tldC5jb25uZWN0V2ViU29ja2V0KCk7XG4gICAgICAgICAgfSBlbHNlIGlmIChqb2JJZCkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ/Cfk6EgUmUtc3Vic2NyaWJpbmcgdG8gam9iIGR1ZSB0byBzdGFsZSB1cGRhdGVzOicsIGpvYklkKTtcbiAgICAgICAgICAgIHdlYlNvY2tldC5zdWJzY3JpYmVUb0pvYihqb2JJZCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIFxuICAgICAgICAgIC8vIFJlc2V0IHRoZSB0aW1lclxuICAgICAgICAgIHdlYlNvY2tldC5sYXN0Sm9iVXBkYXRlUmVmLmN1cnJlbnQgPSBEYXRlLm5vdygpO1xuICAgICAgICB9XG4gICAgICB9LCAzMDAwKTsgLy8gQ2hlY2sgZXZlcnkgMyBzZWNvbmRzIGZvciBmYXN0ZXIgZGV0ZWN0aW9uIGF0IGhpZ2ggcHJvZ3Jlc3NcbiAgICAgIFxuICAgICAgcmV0dXJuICgpID0+IGNsZWFySW50ZXJ2YWwoY2hlY2tJbnRlcnZhbCk7XG4gICAgfVxuICB9LCBbY2FyZEdlbmVyYXRpb24uaXNHZW5lcmF0aW5nLCBkcmFmdEdlbmVyYXRpb24uaXNHZW5lcmF0aW5nRmluYWxDYXJkLCBcbiAgICAgIHdlYlNvY2tldCwgam9iTWFuYWdlbWVudC5wcm9ncmVzc1BlcmNlbnRhZ2UsIGhhbmRsZUpvYlVwZGF0ZV0pO1xuXG4gIC8vIFNpbXBsaWZpZWQgam9iIHJlc3RvcmF0aW9uIHVzaW5nIG5ldyBzdG9yYWdlIG1hbmFnZXJcbiAgY29uc3QgY2hlY2tQZW5kaW5nSm9icyA9IHVzZUNhbGxiYWNrKGFzeW5jICgpID0+IHtcbiAgICBjb25zb2xlLmxvZygn8J+UhCBDaGVja2luZyBmb3IgcmVjb3ZlcnkgZGF0YS4uLicpO1xuICAgIHNldElzUmVzdG9yaW5nSm9icyh0cnVlKTtcbiAgICBcbiAgICAvLyBDaGVjayBmb3IgYWN0aXZlIHJlY292ZXJ5IGpvYlxuICAgIGNvbnN0IHJlY292ZXJ5ID0gc3RvcmFnZS5nZXRSZWNvdmVyeSgpO1xuICAgIFxuICAgIGlmICghcmVjb3ZlcnkpIHtcbiAgICAgIGNvbnNvbGUubG9nKCfinIUgTm8gYWN0aXZlIGpvYiB0byByZWNvdmVyJyk7XG4gICAgICBzZXRJc1Jlc3RvcmluZ0pvYnMoZmFsc2UpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBcbiAgICBjb25zb2xlLmxvZygn8J+UhCBGb3VuZCByZWNvdmVyeSBkYXRhOicsIHJlY292ZXJ5KTtcbiAgICBcbiAgICAvLyBJbiBvdXIgc2ltcGxpZmllZCBzeXN0ZW0sIHdlIG9ubHkgdHJhY2sgb25lIGFjdGl2ZSBqb2IgYXQgYSB0aW1lXG4gICAgLy8gUmVjb3ZlcnkgaXMgbWVhbnQgZm9yIGJyb3dzZXIgY3Jhc2hlcyBkdXJpbmcgZ2VuZXJhdGlvblxuICAgIGNvbnN0IGlzUmVjb3ZlcnlEcmFmdCA9IHJlY292ZXJ5LmpvYklkPy5zdGFydHNXaXRoKCdkcmFmdC0nKTtcbiAgICBcbiAgICBpZiAoaXNSZWNvdmVyeURyYWZ0KSB7XG4gICAgICBjb25zb2xlLmxvZygn8J+OqCBSZWNvdmVyaW5nIGZyb20gZHJhZnQgZ2VuZXJhdGlvbicpO1xuICAgICAgLy8gRm9yIGRyYWZ0IHJlY292ZXJ5LCB3ZSBjYW4ndCByZXN0b3JlIHRoZSBleGFjdCBzdGF0ZVxuICAgICAgLy8gVXNlciB3aWxsIG5lZWQgdG8gcmVzdGFydCB0aGUgZHJhZnQgZ2VuZXJhdGlvblxuICAgICAgc2V0SXNSZXN0b3JpbmdKb2JzKGZhbHNlKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgXG4gICAgLy8gRm9yIGZpbmFsIGNhcmQgcmVjb3ZlcnksIHdlIGNhbiB0cnkgdG8gcmVzdG9yZSB0aGUgam9iXG4gICAgY29uc29sZS5sb2coJ/Cfjq8gUmVjb3ZlcmluZyBmcm9tIGZpbmFsIGNhcmQgZ2VuZXJhdGlvbicpO1xuICAgIFxuICAgIC8vIFJlc3RvcmUgZ2VuZXJhdGlvbiBzdGF0ZVxuICAgIGpvYk1hbmFnZW1lbnQuc2V0Q3VycmVudEpvYklkKHJlY292ZXJ5LmpvYklkKTtcbiAgICBjYXJkR2VuZXJhdGlvbi5zZXRJc0dlbmVyYXRpbmcodHJ1ZSk7XG4gICAgY2FyZEdlbmVyYXRpb24uc2V0R2VuZXJhdGlvblByb2dyZXNzKFwi8J+UhCBSZXN1bWluZyBnZW5lcmF0aW9uLi4uXCIpO1xuICAgIGpvYk1hbmFnZW1lbnQuc3RhcnRFbGFwc2VkVGltZVRyYWNraW5nKCdmaW5hbCcpO1xuICAgIFxuICAgIC8vIFN1YnNjcmliZSB0byB0aGUgam9iIHRvIGdldCB1cGRhdGVzXG4gICAgd2ViU29ja2V0LnN1YnNjcmliZVRvSm9iKHJlY292ZXJ5LmpvYklkKTtcbiAgICBzZXRJc1Jlc3RvcmluZ0pvYnMoZmFsc2UpO1xuICB9LCBbd2ViU29ja2V0LCBzdG9yYWdlXSk7XG5cbiAgLy8gTG9hZCByZWNvdmVyeSBkYXRhIG9uIGNvbXBvbmVudCBtb3VudFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnNvbGUubG9nKCfwn5qAIHVzZUNhcmRTdHVkaW8gbW91bnRlZCwgY2hlY2tpbmcgZm9yIHJlY292ZXJ5Li4uJyk7XG4gICAgXG4gICAgLy8gQ2hlY2sgZm9yIGFjdGl2ZSByZWNvdmVyeSBqb2JcbiAgICBjb25zdCByZWNvdmVyeSA9IHN0b3JhZ2UuZ2V0UmVjb3ZlcnkoKTtcbiAgICBjb25zb2xlLmxvZygn8J+TpiBSZWNvdmVyeSBkYXRhOicsIHJlY292ZXJ5KTtcbiAgICBcbiAgICBpZiAocmVjb3ZlcnkpIHtcbiAgICAgIGNvbnNvbGUubG9nKCfwn5SEIEZvdW5kIGFjdGl2ZSBqb2IgdG8gcmVjb3ZlcjonLCByZWNvdmVyeS5qb2JJZCk7XG4gICAgICBcbiAgICAgIC8vIEZvciBkcmFmdCBqb2JzLCBjaGVjayBpZiB3ZSBhbHJlYWR5IGhhdmUgY29tcGxldGVkIGRyYWZ0c1xuICAgICAgY29uc3QgaXNEcmFmdCA9IHJlY292ZXJ5LmpvYklkLnN0YXJ0c1dpdGgoJ2RyYWZ0LScpO1xuICAgICAgXG4gICAgICBpZiAoaXNEcmFmdCkge1xuICAgICAgICAvLyBDaGVjayBpZiB3ZSBhbHJlYWR5IGhhdmUgY29tcGxldGVkIGRyYWZ0IGNhcmRzXG4gICAgICAgIGNvbnN0IGhhc0NvbXBsZXRlZERyYWZ0cyA9IGRyYWZ0R2VuZXJhdGlvbi5kcmFmdENhcmRzLmZpbHRlcihjYXJkID0+IGNhcmQgIT09IG51bGwpLmxlbmd0aCA+IDA7XG4gICAgICAgIFxuICAgICAgICBpZiAoaGFzQ29tcGxldGVkRHJhZnRzKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ+KchSBEcmFmdCBqb2IgYWxyZWFkeSBjb21wbGV0ZWQsIG5vdCBzZXR0aW5nIGFzIGdlbmVyYXRpbmcnKTtcbiAgICAgICAgICAvLyBKdXN0IHJlc3RvcmUgdGhlIGpvYiBJRCBmb3IgcmVmZXJlbmNlLCBidXQgZG9uJ3Qgc2V0IGFzIGdlbmVyYXRpbmdcbiAgICAgICAgICBqb2JNYW5hZ2VtZW50LnNldEN1cnJlbnRKb2JJZChyZWNvdmVyeS5qb2JJZCk7XG4gICAgICAgICAgZHJhZnRHZW5lcmF0aW9uLnNldElzRHJhZnRNb2RlKHRydWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCfwn46oIFJlc3VtaW5nIGluY29tcGxldGUgZHJhZnQgZ2VuZXJhdGlvbicpO1xuICAgICAgICAgIC8vIFN1YnNjcmliZSB0byB0aGUgam9iIHRvIGNoZWNrIGl0cyBzdGF0dXNcbiAgICAgICAgICBqb2JNYW5hZ2VtZW50LnNldEN1cnJlbnRKb2JJZChyZWNvdmVyeS5qb2JJZCk7XG4gICAgICAgICAgd2ViU29ja2V0LnN1YnNjcmliZVRvSm9iKHJlY292ZXJ5LmpvYklkKTtcbiAgICAgICAgICBkcmFmdEdlbmVyYXRpb24uc2V0SXNEcmFmdE1vZGUodHJ1ZSk7XG4gICAgICAgICAgLy8gRG9uJ3Qgc2V0IGFzIGdlbmVyYXRpbmcgeWV0IC0gd2FpdCBmb3IgV2ViU29ja2V0IHRvIHRlbGwgdXMgdGhlIGFjdHVhbCBzdGF0dXNcbiAgICAgICAgICAvLyBUaGlzIHByZXZlbnRzIG5hdmlnYXRpb24gdG8gU3RlcCA1IGZvciBhbHJlYWR5IGNvbXBsZXRlZCBqb2JzXG4gICAgICAgICAgY29uc29sZS5sb2coJ+KPsyBXYWl0aW5nIGZvciBqb2Igc3RhdHVzIHVwZGF0ZSBiZWZvcmUgc2V0dGluZyBnZW5lcmF0aW9uIHN0YXRlLi4uJyk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIEZvciBmaW5hbCBjYXJkIHJlY292ZXJ5LCBjaGVjayBpZiBhbHJlYWR5IGNvbXBsZXRlZFxuICAgICAgICBpZiAoY2FyZEdlbmVyYXRpb24uZ2VuZXJhdGVkQ2FyZCAmJiBjYXJkR2VuZXJhdGlvbi5pc0NhcmRDb21wbGV0ZWQpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZygn4pyFIEZpbmFsIGNhcmQgYWxyZWFkeSBjb21wbGV0ZWQsIG5vdCBzZXR0aW5nIGFzIGdlbmVyYXRpbmcnKTtcbiAgICAgICAgICBqb2JNYW5hZ2VtZW50LnNldEN1cnJlbnRKb2JJZChyZWNvdmVyeS5qb2JJZCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ/Cfjq8gUmVzdW1pbmcgaW5jb21wbGV0ZSBmaW5hbCBjYXJkIGdlbmVyYXRpb24nKTtcbiAgICAgICAgICBqb2JNYW5hZ2VtZW50LnNldEN1cnJlbnRKb2JJZChyZWNvdmVyeS5qb2JJZCk7XG4gICAgICAgICAgd2ViU29ja2V0LnN1YnNjcmliZVRvSm9iKHJlY292ZXJ5LmpvYklkKTtcbiAgICAgICAgICBjYXJkR2VuZXJhdGlvbi5zZXRJc0dlbmVyYXRpbmcodHJ1ZSk7XG4gICAgICAgICAgY2FyZEdlbmVyYXRpb24uc2V0R2VuZXJhdGlvblByb2dyZXNzKCfwn46oIFJlc3VtaW5nIGNhcmQgZ2VuZXJhdGlvbi4uLicpO1xuICAgICAgICAgIGpvYk1hbmFnZW1lbnQuc3RhcnRFbGFwc2VkVGltZVRyYWNraW5nKCdmaW5hbCcpO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIElmIHRoaXMgaXMgYSBmaW5hbCBjYXJkIGdlbmVyYXRpb24gZnJvbSBhIGRyYWZ0LCBzZXQgdGhlIGFwcHJvcHJpYXRlIHN0YXRlXG4gICAgICAgICAgaWYgKHJlY292ZXJ5LmZvcm1EYXRhICYmIHJlY292ZXJ5LmZvcm1EYXRhLnNlbGVjdGVkRHJhZnRJbmRleCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBkcmFmdEdlbmVyYXRpb24uc2V0SXNHZW5lcmF0aW5nRmluYWxDYXJkKHRydWUpO1xuICAgICAgICAgICAgZHJhZnRHZW5lcmF0aW9uLnNldFNlbGVjdGVkRHJhZnRJbmRleChyZWNvdmVyeS5mb3JtRGF0YS5zZWxlY3RlZERyYWZ0SW5kZXgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICAvLyBBbHdheXMgbWFyayByZXN0b3JhdGlvbiBhcyBjb21wbGV0ZVxuICAgIHNldElzUmVzdG9yaW5nSm9icyhmYWxzZSk7XG4gICAgXG4gICAgLy8gTWFyayByZXN0b3JhdGlvbiBhcyBjb21wbGV0ZSBhZnRlciBhIHNtYWxsIGRlbGF5XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBzZXRJc1Jlc3RvcmluZ0pvYnMoZmFsc2UpO1xuICAgIH0sIDEwMCk7XG4gIH0sIFtdKTtcblxuICAvLyBSZXR1cm4gYWxsIHRoZSBzdGF0ZSBhbmQgZnVuY3Rpb25zIHRoYXQgdGhlIFVJIG5lZWRzXG4gIHJldHVybiB7XG4gICAgLy8gQ29yZSBzdGF0ZVxuICAgIHByb21wdCxcbiAgICBzZXRQcm9tcHQsXG4gICAgZmluYWxDYXJkTWVzc2FnZTogbWVzc2FnZUdlbmVyYXRpb24uZmluYWxDYXJkTWVzc2FnZSxcbiAgICBzZXRGaW5hbENhcmRNZXNzYWdlOiBtZXNzYWdlR2VuZXJhdGlvbi5zZXRGaW5hbENhcmRNZXNzYWdlLFxuICAgIHRvRmllbGQsXG4gICAgc2V0VG9GaWVsZCxcbiAgICBmcm9tRmllbGQsXG4gICAgc2V0RnJvbUZpZWxkLFxuICAgIHJlbGF0aW9uc2hpcEZpZWxkLFxuICAgIHNldFJlbGF0aW9uc2hpcEZpZWxkLFxuICAgIHBlcnNvbmFsVHJhaXRzLFxuICAgIHNldFBlcnNvbmFsVHJhaXRzLFxuICAgIHNlbGVjdGVkVHlwZSxcbiAgICBzZXRTZWxlY3RlZFR5cGUsXG4gICAgY3VzdG9tQ2FyZFR5cGUsXG4gICAgc2V0Q3VzdG9tQ2FyZFR5cGUsXG4gICAgc2VsZWN0ZWRUb25lLFxuICAgIHNldFNlbGVjdGVkVG9uZSxcbiAgICBpc0dlbmVyYXRpbmc6IGNhcmRHZW5lcmF0aW9uLmlzR2VuZXJhdGluZyB8fCBkcmFmdEdlbmVyYXRpb24uaXNHZW5lcmF0aW5nLFxuICAgIHNldElzR2VuZXJhdGluZzogY2FyZEdlbmVyYXRpb24uc2V0SXNHZW5lcmF0aW5nLFxuICAgIGlzR2VuZXJhdGluZ01lc3NhZ2U6IG1lc3NhZ2VHZW5lcmF0aW9uLmlzR2VuZXJhdGluZ01lc3NhZ2UsXG4gICAgc2V0SXNHZW5lcmF0aW5nTWVzc2FnZTogbWVzc2FnZUdlbmVyYXRpb24uc2V0SXNHZW5lcmF0aW5nTWVzc2FnZSxcbiAgICBnZW5lcmF0ZWRDYXJkOiBjYXJkR2VuZXJhdGlvbi5nZW5lcmF0ZWRDYXJkLFxuICAgIHNldEdlbmVyYXRlZENhcmQ6IGNhcmRHZW5lcmF0aW9uLnNldEdlbmVyYXRlZENhcmQsXG4gICAgbnVtYmVyT2ZDYXJkcyxcbiAgICBzZXROdW1iZXJPZkNhcmRzLFxuICAgIGdlbmVyYXRlZENhcmRzOiBjYXJkR2VuZXJhdGlvbi5nZW5lcmF0ZWRDYXJkcyxcbiAgICBzZXRHZW5lcmF0ZWRDYXJkczogY2FyZEdlbmVyYXRpb24uc2V0R2VuZXJhdGVkQ2FyZHMsXG4gICAgc2VsZWN0ZWRDYXJkSW5kZXg6IGNhcmRHZW5lcmF0aW9uLnNlbGVjdGVkQ2FyZEluZGV4LFxuICAgIHNldFNlbGVjdGVkQ2FyZEluZGV4OiBjYXJkR2VuZXJhdGlvbi5zZXRTZWxlY3RlZENhcmRJbmRleCxcbiAgICBcbiAgICAvLyBBZHZhbmNlZCBvcHRpb25zXG4gICAgc2hvd0FkdmFuY2VkLFxuICAgIHNldFNob3dBZHZhbmNlZCxcbiAgICBzZWxlY3RlZEFydGlzdGljU3R5bGUsXG4gICAgc2V0U2VsZWN0ZWRBcnRpc3RpY1N0eWxlLFxuICAgIGN1c3RvbVN0eWxlRGVzY3JpcHRpb24sXG4gICAgc2V0Q3VzdG9tU3R5bGVEZXNjcmlwdGlvbixcbiAgICBzZWxlY3RlZEltYWdlTW9kZWwsXG4gICAgc2V0U2VsZWN0ZWRJbWFnZU1vZGVsLFxuICAgIHNlbGVjdGVkRHJhZnRNb2RlbCxcbiAgICBzZXRTZWxlY3RlZERyYWZ0TW9kZWwsXG4gICAgXG4gICAgLy8gRHJhZnQgbW9kZVxuICAgIGlzRHJhZnRNb2RlOiBkcmFmdEdlbmVyYXRpb24uaXNEcmFmdE1vZGUsXG4gICAgc2V0SXNEcmFmdE1vZGU6IGRyYWZ0R2VuZXJhdGlvbi5zZXRJc0RyYWZ0TW9kZSxcbiAgICBkcmFmdENhcmRzOiBkcmFmdEdlbmVyYXRpb24uZHJhZnRDYXJkcyxcbiAgICBzZXREcmFmdENhcmRzOiBkcmFmdEdlbmVyYXRpb24uc2V0RHJhZnRDYXJkcyxcbiAgICBzZWxlY3RlZERyYWZ0SW5kZXg6IGRyYWZ0R2VuZXJhdGlvbi5zZWxlY3RlZERyYWZ0SW5kZXgsXG4gICAgc2V0U2VsZWN0ZWREcmFmdEluZGV4OiBkcmFmdEdlbmVyYXRpb24uc2V0U2VsZWN0ZWREcmFmdEluZGV4LFxuICAgIGlzR2VuZXJhdGluZ0ZpbmFsQ2FyZDogZHJhZnRHZW5lcmF0aW9uLmlzR2VuZXJhdGluZ0ZpbmFsQ2FyZCxcbiAgICBzZXRJc0dlbmVyYXRpbmdGaW5hbENhcmQ6IGRyYWZ0R2VuZXJhdGlvbi5zZXRJc0dlbmVyYXRpbmdGaW5hbENhcmQsXG4gICAgcHJldmlld2luZ0RyYWZ0SW5kZXg6IGRyYWZ0R2VuZXJhdGlvbi5wcmV2aWV3aW5nRHJhZnRJbmRleCxcbiAgICBzZXRQcmV2aWV3aW5nRHJhZnRJbmRleDogZHJhZnRHZW5lcmF0aW9uLnNldFByZXZpZXdpbmdEcmFmdEluZGV4LFxuICAgIGRyYWZ0Q29tcGxldGlvblNob3duOiBkcmFmdEdlbmVyYXRpb24uZHJhZnRDb21wbGV0aW9uU2hvd24sXG4gICAgc2V0RHJhZnRDb21wbGV0aW9uU2hvd246IGRyYWZ0R2VuZXJhdGlvbi5zZXREcmFmdENvbXBsZXRpb25TaG93bixcbiAgICBkcmFmdENvbXBsZXRpb25Db3VudDogZHJhZnRHZW5lcmF0aW9uLmRyYWZ0Q29tcGxldGlvbkNvdW50LFxuICAgIHNldERyYWZ0Q29tcGxldGlvbkNvdW50OiBkcmFmdEdlbmVyYXRpb24uc2V0RHJhZnRDb21wbGV0aW9uQ291bnQsXG4gICAgXG4gICAgLy8gUHJvZ3Jlc3MgdHJhY2tpbmdcbiAgICBnZW5lcmF0aW9uUHJvZ3Jlc3M6IGRyYWZ0R2VuZXJhdGlvbi5pc0dlbmVyYXRpbmcgPyBkcmFmdEdlbmVyYXRpb24uZ2VuZXJhdGlvblByb2dyZXNzIDogY2FyZEdlbmVyYXRpb24uZ2VuZXJhdGlvblByb2dyZXNzLFxuICAgIHNldEdlbmVyYXRpb25Qcm9ncmVzczogY2FyZEdlbmVyYXRpb24uc2V0R2VuZXJhdGlvblByb2dyZXNzLFxuICAgIHByb2dyZXNzUGVyY2VudGFnZTogam9iTWFuYWdlbWVudC5wcm9ncmVzc1BlcmNlbnRhZ2UsXG4gICAgc2V0UHJvZ3Jlc3NQZXJjZW50YWdlOiBqb2JNYW5hZ2VtZW50LnNldFByb2dyZXNzUGVyY2VudGFnZSxcbiAgICBpc0NhcmRDb21wbGV0ZWQ6IGNhcmRHZW5lcmF0aW9uLmlzQ2FyZENvbXBsZXRlZCxcbiAgICBzZXRJc0NhcmRDb21wbGV0ZWQ6IGNhcmRHZW5lcmF0aW9uLnNldElzQ2FyZENvbXBsZXRlZCxcbiAgICBcbiAgICAvLyBVcGxvYWQgYW5kIHBlcnNvbmFsaXphdGlvblxuICAgIHJlZmVyZW5jZUltYWdlczogZmlsZUhhbmRsaW5nLnJlZmVyZW5jZUltYWdlcyxcbiAgICBzZXRSZWZlcmVuY2VJbWFnZXM6IGZpbGVIYW5kbGluZy5zZXRSZWZlcmVuY2VJbWFnZXMsXG4gICAgcmVmZXJlbmNlSW1hZ2VVcmxzOiBmaWxlSGFuZGxpbmcucmVmZXJlbmNlSW1hZ2VVcmxzLFxuICAgIHNldFJlZmVyZW5jZUltYWdlVXJsczogZmlsZUhhbmRsaW5nLnNldFJlZmVyZW5jZUltYWdlVXJscyxcbiAgICBpc1VwbG9hZGluZzogZmlsZUhhbmRsaW5nLmlzVXBsb2FkaW5nLFxuICAgIHNldElzVXBsb2FkaW5nOiBmaWxlSGFuZGxpbmcuc2V0SXNVcGxvYWRpbmcsXG4gICAgXG4gICAgLy8gRW1haWwgYW5kIHNldHRpbmdzXG4gICAgdXNlckVtYWlsLFxuICAgIHNldFVzZXJFbWFpbCxcbiAgICBpc0hhbmR3cml0dGVuTWVzc2FnZSxcbiAgICBzZXRJc0hhbmR3cml0dGVuTWVzc2FnZSxcbiAgICBpc0Zyb250QmFja09ubHksXG4gICAgc2V0SXNGcm9udEJhY2tPbmx5LFxuICAgIHNlbGVjdGVkUGFwZXJTaXplLFxuICAgIHNldFNlbGVjdGVkUGFwZXJTaXplLFxuICAgIFxuICAgIC8vIFVJIHN0YXRlXG4gICAgaXNUZXh0YXJlYUV4cGFuZGVkLFxuICAgIHNldElzVGV4dGFyZWFFeHBhbmRlZCxcbiAgICBpc01lc3NhZ2VFeHBhbmRlZCxcbiAgICBzZXRJc01lc3NhZ2VFeHBhbmRlZCxcbiAgICBzaG93U2V0dGluZ3MsXG4gICAgc2V0U2hvd1NldHRpbmdzLFxuICAgIHNob3dUZW1wbGF0ZUdhbGxlcnksXG4gICAgc2V0U2hvd1RlbXBsYXRlR2FsbGVyeSxcbiAgICBzaG93UHJpbnRDb25maXJtYXRpb24sXG4gICAgc2V0U2hvd1ByaW50Q29uZmlybWF0aW9uLFxuICAgIFxuICAgIC8vIEdlbmVyYXRpb24gdGltZVxuICAgIGdlbmVyYXRpb25EdXJhdGlvbjogY2FyZEdlbmVyYXRpb24uZ2VuZXJhdGlvbkR1cmF0aW9uLFxuICAgIHNldEdlbmVyYXRpb25EdXJhdGlvbjogY2FyZEdlbmVyYXRpb24uc2V0R2VuZXJhdGlvbkR1cmF0aW9uLFxuICAgIGN1cnJlbnRFbGFwc2VkVGltZTogam9iTWFuYWdlbWVudC5jdXJyZW50RWxhcHNlZFRpbWUsXG4gICAgXG4gICAgLy8gSGVscGVyIGZ1bmN0aW9uc1xuICAgIGZvcm1hdEdlbmVyYXRpb25UaW1lLFxuICAgIGZvcm1hdENvdW50ZG93bixcbiAgICBzZW5kVGhhbmtZb3VFbWFpbCxcbiAgICBjaGF0V2l0aEFJLFxuICAgIHNjcm9sbFRvQ2FyZFByZXZpZXcsXG4gICAgXG4gICAgLy8gVGltZSB0cmFja2luZyBmdW5jdGlvbnNcbiAgICBzdGFydEVsYXBzZWRUaW1lVHJhY2tpbmc6IGpvYk1hbmFnZW1lbnQuc3RhcnRFbGFwc2VkVGltZVRyYWNraW5nLFxuICAgIHN0b3BFbGFwc2VkVGltZVRyYWNraW5nOiBqb2JNYW5hZ2VtZW50LnN0b3BFbGFwc2VkVGltZVRyYWNraW5nLFxuICAgIFxuICAgIC8vIEZpbGUgaGFuZGxpbmcgZnVuY3Rpb25zXG4gICAgaGFuZGxlRmlsZVVwbG9hZDogZmlsZUhhbmRsaW5nLmhhbmRsZUZpbGVVcGxvYWQsXG4gICAgaGFuZGxlUmVtb3ZlUmVmZXJlbmNlSW1hZ2U6IGZpbGVIYW5kbGluZy5oYW5kbGVSZW1vdmVSZWZlcmVuY2VJbWFnZSxcbiAgICBcbiAgICAvLyBTaW1wbGlmaWVkIHBob3RvIHJlZmVyZW5jZXNcbiAgICBwaG90b1JlZmVyZW5jZXM6IGZpbGVIYW5kbGluZy5waG90b1JlZmVyZW5jZXMsXG4gICAgc2V0UGhvdG9SZWZlcmVuY2VzOiBmaWxlSGFuZGxpbmcuc2V0UGhvdG9SZWZlcmVuY2VzLFxuICAgIHVwZGF0ZVBob3RvRGVzY3JpcHRpb246IGZpbGVIYW5kbGluZy51cGRhdGVQaG90b0Rlc2NyaXB0aW9uLFxuICAgIFxuICAgIC8vIE1lc3NhZ2UgZnVuY3Rpb25zXG4gICAgaGFuZGxlR2V0TWVzc2FnZUhlbHA6IG1lc3NhZ2VHZW5lcmF0aW9uLmhhbmRsZUdldE1lc3NhZ2VIZWxwLFxuICAgIGFkZE1lc3NhZ2VUb0hpc3Rvcnk6IG1lc3NhZ2VHZW5lcmF0aW9uLmFkZE1lc3NhZ2VUb0hpc3RvcnksXG4gICAgdW5kb01lc3NhZ2U6IG1lc3NhZ2VHZW5lcmF0aW9uLnVuZG9NZXNzYWdlLFxuICAgIHJlZG9NZXNzYWdlOiBtZXNzYWdlR2VuZXJhdGlvbi5yZWRvTWVzc2FnZSxcbiAgICBcbiAgICAvLyBKb2IgbWFuYWdlbWVudFxuICAgIHNhdmVKb2JUb1N0b3JhZ2U6IGpvYk1hbmFnZW1lbnQuc2F2ZUpvYlRvU3RvcmFnZSxcbiAgICByZW1vdmVKb2JGcm9tU3RvcmFnZTogam9iTWFuYWdlbWVudC5yZW1vdmVKb2JGcm9tU3RvcmFnZSxcbiAgICBjaGVja1BlbmRpbmdKb2JzLFxuICAgIGlzUmVzdG9yaW5nSm9icyxcbiAgICBcbiAgICAvLyBNYWluIGdlbmVyYXRpb24gZnVuY3Rpb25zXG4gICAgaGFuZGxlR2VuZXJhdGVEcmFmdENhcmRzOiBkcmFmdEdlbmVyYXRpb24uaGFuZGxlR2VuZXJhdGVEcmFmdENhcmRzLFxuICAgIGhhbmRsZUdlbmVyYXRlRmluYWxGcm9tRHJhZnQ6IGRyYWZ0R2VuZXJhdGlvbi5oYW5kbGVHZW5lcmF0ZUZpbmFsRnJvbURyYWZ0LFxuICAgIFxuICAgIC8vIEFkZGl0aW9uYWwgc3RhdGUgZm9yIG1lc3NhZ2UgcmVmaW5lbWVudFxuICAgIG1lc3NhZ2VIaXN0b3J5OiBtZXNzYWdlR2VuZXJhdGlvbi5tZXNzYWdlSGlzdG9yeSxcbiAgICBzZXRNZXNzYWdlSGlzdG9yeTogbWVzc2FnZUdlbmVyYXRpb24uc2V0TWVzc2FnZUhpc3RvcnksXG4gICAgY3VycmVudE1lc3NhZ2VJbmRleDogbWVzc2FnZUdlbmVyYXRpb24uY3VycmVudE1lc3NhZ2VJbmRleCxcbiAgICBzZXRDdXJyZW50TWVzc2FnZUluZGV4OiBtZXNzYWdlR2VuZXJhdGlvbi5zZXRDdXJyZW50TWVzc2FnZUluZGV4LFxuICAgIHJlZmluZW1lbnRQcm9tcHQ6IG1lc3NhZ2VHZW5lcmF0aW9uLnJlZmluZW1lbnRQcm9tcHQsXG4gICAgc2V0UmVmaW5lbWVudFByb21wdDogbWVzc2FnZUdlbmVyYXRpb24uc2V0UmVmaW5lbWVudFByb21wdCxcbiAgICBpc1JlZmluaW5nTWVzc2FnZTogbWVzc2FnZUdlbmVyYXRpb24uaXNSZWZpbmluZ01lc3NhZ2UsXG4gICAgc2V0SXNSZWZpbmluZ01lc3NhZ2U6IG1lc3NhZ2VHZW5lcmF0aW9uLnNldElzUmVmaW5pbmdNZXNzYWdlLFxuICAgIHNob3dSZWZpbmVtZW50Qm94OiBtZXNzYWdlR2VuZXJhdGlvbi5zaG93UmVmaW5lbWVudEJveCxcbiAgICBzZXRTaG93UmVmaW5lbWVudEJveDogbWVzc2FnZUdlbmVyYXRpb24uc2V0U2hvd1JlZmluZW1lbnRCb3gsXG4gICAgXG4gICAgLy8gVGVtcGxhdGUgc3RhdGVcbiAgICBzaG93VGVtcGxhdGVDdXN0b21pemF0aW9uLFxuICAgIHNldFNob3dUZW1wbGF0ZUN1c3RvbWl6YXRpb24sXG4gICAgc2VsZWN0ZWRUZW1wbGF0ZSxcbiAgICBzZXRTZWxlY3RlZFRlbXBsYXRlLFxuICAgIHRlbXBsYXRlQ3VzdG9taXphdGlvbnMsXG4gICAgc2V0VGVtcGxhdGVDdXN0b21pemF0aW9ucyxcbiAgICB0ZW1wbGF0ZVNlYXJjaFF1ZXJ5LFxuICAgIHNldFRlbXBsYXRlU2VhcmNoUXVlcnksXG4gICAgaXNTZWFyY2hpbmdUZW1wbGF0ZXMsXG4gICAgc2V0SXNTZWFyY2hpbmdUZW1wbGF0ZXMsXG4gICAgYWlGaWx0ZXJlZENhcmRzLFxuICAgIHNldEFpRmlsdGVyZWRDYXJkcyxcbiAgICBzZWFyY2hNb2RlLFxuICAgIHNldFNlYXJjaE1vZGUsXG4gICAgdGV4dEZpbHRlcmVkQ2FyZHMsXG4gICAgc2V0VGV4dEZpbHRlcmVkQ2FyZHMsXG4gICAgc2hvd1Byb21wdHMsXG4gICAgc2V0U2hvd1Byb21wdHMsXG4gICAgXG4gICAgLy8gUHJpbnQgc3RhdGVcbiAgICBwcmludE9wdGlvbixcbiAgICBzZXRQcmludE9wdGlvbixcbiAgICBcbiAgICAvLyBBZGRpdGlvbmFsIGRyYWZ0IG1vZGUgc3RhdGVcbiAgICBoYW5kd3JpdGluZ1NhbXBsZTogZmlsZUhhbmRsaW5nLmhhbmR3cml0aW5nU2FtcGxlLFxuICAgIHNldEhhbmR3cml0aW5nU2FtcGxlOiBmaWxlSGFuZGxpbmcuc2V0SGFuZHdyaXRpbmdTYW1wbGUsXG4gICAgaGFuZHdyaXRpbmdTYW1wbGVVcmw6IGZpbGVIYW5kbGluZy5oYW5kd3JpdGluZ1NhbXBsZVVybCxcbiAgICBzZXRIYW5kd3JpdGluZ1NhbXBsZVVybDogZmlsZUhhbmRsaW5nLnNldEhhbmR3cml0aW5nU2FtcGxlVXJsLFxuICAgIFxuICAgIC8vIEpvYiB0cmFja2luZ1xuICAgIGN1cnJlbnRKb2JJZDogam9iTWFuYWdlbWVudC5jdXJyZW50Sm9iSWQsXG4gICAgc2V0Q3VycmVudEpvYklkOiBqb2JNYW5hZ2VtZW50LnNldEN1cnJlbnRKb2JJZCxcbiAgICBjb3VudGRvd24sXG4gICAgc2V0Q291bnRkb3duLFxuICAgIGNvdW50ZG93bkludGVydmFsLFxuICAgIHNldENvdW50ZG93bkludGVydmFsLFxuICAgIFxuICAgIC8vIFNlY3Rpb24gbG9hZGluZyBzdGF0ZXNcbiAgICBzZWN0aW9uTG9hZGluZ1N0YXRlcyxcbiAgICBzZXRTZWN0aW9uTG9hZGluZ1N0YXRlcyxcbiAgICBcbiAgICAvLyBGYXN0IHByZXZpZXcgbW9kZVxuICAgIGZhc3RQcmV2aWV3TW9kZSxcbiAgICBzZXRGYXN0UHJldmlld01vZGUsXG4gICAgXG4gICAgLy8gQWRkaXRpb25hbCB0cmFja2luZ1xuICAgIGN1cnJlbnRDYXJkSWQ6IGNhcmRHZW5lcmF0aW9uLmN1cnJlbnRDYXJkSWQsXG4gICAgc2V0Q3VycmVudENhcmRJZDogY2FyZEdlbmVyYXRpb24uc2V0Q3VycmVudENhcmRJZCxcbiAgICBpc0luaXRpYWxMb2FkQ29tcGxldGUsXG4gICAgc2V0SXNJbml0aWFsTG9hZENvbXBsZXRlLFxuICAgIFxuICAgIC8vIEVsYXBzZWQgdGltZSB0cmFja2luZ1xuICAgIGdlbmVyYXRpb25TdGFydFRpbWU6IGpvYk1hbmFnZW1lbnQuZ2VuZXJhdGlvblN0YXJ0VGltZSxcbiAgICBcbiAgICAvLyBDb25zdGFudHMgZm9yIFVJXG4gICAgY2FyZFRvbmVzLFxuICAgIGFydGlzdGljU3R5bGVzLFxuICAgIHBhcGVyU2l6ZXMsXG4gICAgXG4gICAgLy8gV2ViU29ja2V0IGZ1bmN0aW9ucyBhbmQgc3RhdGVcbiAgICBpc1NvY2tldENvbm5lY3RlZDogd2ViU29ja2V0LmlzU29ja2V0Q29ubmVjdGVkLFxuICAgIGNvbm5lY3RXZWJTb2NrZXQ6IHdlYlNvY2tldC5jb25uZWN0V2ViU29ja2V0LFxuICAgIGRpc2Nvbm5lY3RXZWJTb2NrZXQ6IHdlYlNvY2tldC5kaXNjb25uZWN0V2ViU29ja2V0LFxuICAgIHN1YnNjcmliZVRvSm9iOiB3ZWJTb2NrZXQuc3Vic2NyaWJlVG9Kb2IsXG4gICAgdW5zdWJzY3JpYmVGcm9tSm9iOiB3ZWJTb2NrZXQudW5zdWJzY3JpYmVGcm9tSm9iLFxuICAgIHVuc3Vic2NyaWJlRnJvbUFsbEpvYnM6IHdlYlNvY2tldC51bnN1YnNjcmliZUZyb21BbGxKb2JzLFxuICAgIGhhbmRsZUpvYlVwZGF0ZSxcbiAgICBoYW5kbGVGaW5hbENhcmRDb21wbGV0aW9uOiBjYXJkR2VuZXJhdGlvbi5oYW5kbGVGaW5hbENhcmRDb21wbGV0aW9uLFxuICB9O1xufVxuIl0sIm5hbWVzIjpbInVzZVN0YXRlIiwidXNlRWZmZWN0IiwidXNlQ2FsbGJhY2siLCJ1c2VSZWYiLCJ0b2FzdCIsInVzZVdlYlNvY2tldCIsInVzZUpvYk1hbmFnZW1lbnQiLCJ1c2VNZXNzYWdlR2VuZXJhdGlvbiIsInVzZUZpbGVIYW5kbGluZyIsInVzZURyYWZ0R2VuZXJhdGlvbiIsInVzZUNhcmRHZW5lcmF0aW9uIiwiY2FyZFRvbmVzIiwiYXJ0aXN0aWNTdHlsZXMiLCJwYXBlclNpemVzIiwiZm9ybWF0R2VuZXJhdGlvblRpbWUiLCJmb3JtYXRDb3VudGRvd24iLCJzZW5kVGhhbmtZb3VFbWFpbCIsImNoYXRXaXRoQUkiLCJzY3JvbGxUb0NhcmRQcmV2aWV3Iiwic3RvcmFnZSIsInVzZUNhcmRTdHVkaW8iLCJwcm9tcHQiLCJzZXRQcm9tcHQiLCJ0b0ZpZWxkIiwic2V0VG9GaWVsZCIsImZyb21GaWVsZCIsInNldEZyb21GaWVsZCIsInJlbGF0aW9uc2hpcEZpZWxkIiwic2V0UmVsYXRpb25zaGlwRmllbGQiLCJwZXJzb25hbFRyYWl0cyIsInNldFBlcnNvbmFsVHJhaXRzIiwic2VsZWN0ZWRUeXBlIiwic2V0U2VsZWN0ZWRUeXBlIiwiY3VzdG9tQ2FyZFR5cGUiLCJzZXRDdXN0b21DYXJkVHlwZSIsInNlbGVjdGVkVG9uZSIsInNldFNlbGVjdGVkVG9uZSIsInNob3dBZHZhbmNlZCIsInNldFNob3dBZHZhbmNlZCIsInNlbGVjdGVkQXJ0aXN0aWNTdHlsZSIsInNldFNlbGVjdGVkQXJ0aXN0aWNTdHlsZSIsImN1c3RvbVN0eWxlRGVzY3JpcHRpb24iLCJzZXRDdXN0b21TdHlsZURlc2NyaXB0aW9uIiwic2VsZWN0ZWRJbWFnZU1vZGVsIiwic2V0U2VsZWN0ZWRJbWFnZU1vZGVsIiwic2VsZWN0ZWREcmFmdE1vZGVsIiwic2V0U2VsZWN0ZWREcmFmdE1vZGVsIiwiZmFzdFByZXZpZXdNb2RlIiwic2V0RmFzdFByZXZpZXdNb2RlIiwidXNlckVtYWlsIiwic2V0VXNlckVtYWlsIiwibnVtYmVyT2ZDYXJkcyIsInNldE51bWJlck9mQ2FyZHMiLCJpc0hhbmR3cml0dGVuTWVzc2FnZSIsInNldElzSGFuZHdyaXR0ZW5NZXNzYWdlIiwiaXNGcm9udEJhY2tPbmx5Iiwic2V0SXNGcm9udEJhY2tPbmx5Iiwic2VsZWN0ZWRQYXBlclNpemUiLCJzZXRTZWxlY3RlZFBhcGVyU2l6ZSIsImlzVGV4dGFyZWFFeHBhbmRlZCIsInNldElzVGV4dGFyZWFFeHBhbmRlZCIsImlzTWVzc2FnZUV4cGFuZGVkIiwic2V0SXNNZXNzYWdlRXhwYW5kZWQiLCJzaG93U2V0dGluZ3MiLCJzZXRTaG93U2V0dGluZ3MiLCJzaG93VGVtcGxhdGVHYWxsZXJ5Iiwic2V0U2hvd1RlbXBsYXRlR2FsbGVyeSIsInNob3dQcmludENvbmZpcm1hdGlvbiIsInNldFNob3dQcmludENvbmZpcm1hdGlvbiIsInNob3dUZW1wbGF0ZUN1c3RvbWl6YXRpb24iLCJzZXRTaG93VGVtcGxhdGVDdXN0b21pemF0aW9uIiwiaXNSZXN0b3JpbmdKb2JzIiwic2V0SXNSZXN0b3JpbmdKb2JzIiwic2VsZWN0ZWRUZW1wbGF0ZSIsInNldFNlbGVjdGVkVGVtcGxhdGUiLCJpc0luaXRpYWxMb2FkQ29tcGxldGUiLCJzZXRJc0luaXRpYWxMb2FkQ29tcGxldGUiLCJ0ZW1wbGF0ZVNlYXJjaFF1ZXJ5Iiwic2V0VGVtcGxhdGVTZWFyY2hRdWVyeSIsImlzU2VhcmNoaW5nVGVtcGxhdGVzIiwic2V0SXNTZWFyY2hpbmdUZW1wbGF0ZXMiLCJhaUZpbHRlcmVkQ2FyZHMiLCJzZXRBaUZpbHRlcmVkQ2FyZHMiLCJzZWFyY2hNb2RlIiwic2V0U2VhcmNoTW9kZSIsInRleHRGaWx0ZXJlZENhcmRzIiwic2V0VGV4dEZpbHRlcmVkQ2FyZHMiLCJzaG93UHJvbXB0cyIsInNldFNob3dQcm9tcHRzIiwicHJpbnRPcHRpb24iLCJzZXRQcmludE9wdGlvbiIsInRlbXBsYXRlQ3VzdG9taXphdGlvbnMiLCJzZXRUZW1wbGF0ZUN1c3RvbWl6YXRpb25zIiwicHJvbXB0Q2hhbmdlcyIsIm1lc3NhZ2VDaGFuZ2VzIiwidXNlUmVmZXJlbmNlSW1hZ2UiLCJyZWZlcmVuY2VJbWFnZUZpbGUiLCJyZWZlcmVuY2VJbWFnZVVybHMiLCJyZWZlcmVuY2VJbWFnZVRyYW5zZm9ybWF0aW9uIiwic2VjdGlvbkxvYWRpbmdTdGF0ZXMiLCJzZXRTZWN0aW9uTG9hZGluZ1N0YXRlcyIsImZyb250Q292ZXIiLCJiYWNrQ292ZXIiLCJsZWZ0SW50ZXJpb3IiLCJyaWdodEludGVyaW9yIiwiY291bnRkb3duIiwic2V0Q291bnRkb3duIiwiY291bnRkb3duSW50ZXJ2YWwiLCJzZXRDb3VudGRvd25JbnRlcnZhbCIsIndlYlNvY2tldCIsImpvYk1hbmFnZW1lbnQiLCJmaWxlSGFuZGxpbmciLCJtZXNzYWdlR2VuZXJhdGlvbiIsInBob3RvUmVmZXJlbmNlcyIsImRyYWZ0R2VuZXJhdGlvblByb3BzIiwiZmluYWxDYXJkTWVzc2FnZSIsInNhdmVKb2JUb1N0b3JhZ2UiLCJzdWJzY3JpYmVUb0pvYiIsInVuc3Vic2NyaWJlRnJvbUFsbEpvYnMiLCJzdGFydEVsYXBzZWRUaW1lVHJhY2tpbmciLCJzdG9wRWxhcHNlZFRpbWVUcmFja2luZyIsInNldFByb2dyZXNzUGVyY2VudGFnZSIsImRyYWZ0R2VuZXJhdGlvbiIsImNhcmRHZW5lcmF0aW9uUHJvcHMiLCJyZW1vdmVKb2JGcm9tU3RvcmFnZSIsInNldEN1cnJlbnRKb2JJZCIsInNldElzRHJhZnRNb2RlIiwic2V0RHJhZnRDYXJkcyIsInNldFNlbGVjdGVkRHJhZnRJbmRleCIsInNldElzR2VuZXJhdGluZ0ZpbmFsQ2FyZCIsInNldFByZXZpZXdpbmdEcmFmdEluZGV4Iiwic2V0RHJhZnRDb21wbGV0aW9uU2hvd24iLCJzZXREcmFmdENvbXBsZXRpb25Db3VudCIsImNhcmRHZW5lcmF0aW9uIiwiaGFuZGxlSm9iVXBkYXRlIiwiZGF0YSIsImpvYl9pZCIsInN0YXR1cyIsInByb2dyZXNzIiwiY2FyZERhdGEiLCJlcnJvciIsImNvbXBsZXRlZEF0IiwiY29uc29sZSIsImxvZyIsImlzRHJhZnRKb2IiLCJzdGFydHNXaXRoIiwiZHJhZnRJbmRleCIsInBhcnNlSW50Iiwic3BsaXQiLCJpc0luRHJhZnRNb2RlIiwiaXNEcmFmdE1vZGUiLCJpc0dlbmVyYXRpbmciLCJzZXRJc0dlbmVyYXRpbmciLCJpbmNsdWRlcyIsInNldEdlbmVyYXRpb25Qcm9ncmVzcyIsImRyYWZ0Q2FyZHMiLCJmaWx0ZXIiLCJCb29sZWFuIiwibGVuZ3RoIiwic3R5bGVJbmZvIiwidW5kZWZpbmVkIiwicHJlZGVmaW5lZFN0eWxlcyIsInN0eWxlTGFiZWxzIiwic3R5bGVOYW1lIiwic3R5bGVMYWJlbCIsImRyYWZ0Q2FyZCIsImlkIiwiRGF0ZSIsIm5vdyIsImxlZnRQYWdlIiwicmlnaHRQYWdlIiwiY3JlYXRlZEF0IiwiZ2VuZXJhdGVkUHJvbXB0cyIsInByZXYiLCJ1cGRhdGVkIiwicHVzaCIsInVwZGF0ZWREcmFmdHMiLCJjb21wbGV0ZWRDb3VudCIsInByb2dyZXNzTXNnIiwiaXNHZW5lcmF0aW5nRmluYWxDYXJkIiwiY2xlYXJSZWNvdmVyeSIsInN1Y2Nlc3MiLCJ1bnN1YnNjcmliZUZyb21Kb2IiLCJoYXNDYXJkRGF0YSIsImNhcmREYXRhS2V5cyIsIk9iamVjdCIsImtleXMiLCJKU09OIiwic3RyaW5naWZ5IiwibWFwcGVkQ2FyZERhdGEiLCJoYW5kbGVGaW5hbENhcmRDb21wbGV0aW9uIiwid2FybiIsImN1cnJlbnRKb2JSZWYiLCJjdXJyZW50IiwiY3VycmVudEpvYklkIiwic2V0Sm9iVXBkYXRlSGFuZGxlciIsInN0YWxlSm9iTG9nZ2VkUmVmIiwiaXNTb2NrZXRDb25uZWN0ZWQiLCJnZW5lcmF0aW9uU3RhcnRUaW1lIiwiam9iQWdlIiwiam9iSWQiLCJyZWNvbm5lY3RUaW1lciIsInNldFRpbWVvdXQiLCJjb25uZWN0V2ViU29ja2V0IiwiY2xlYXJUaW1lb3V0IiwiY2hlY2tJbnRlcnZhbCIsInNldEludGVydmFsIiwidGltZVNpbmNlTGFzdFVwZGF0ZSIsImxhc3RKb2JVcGRhdGVSZWYiLCJwcm9ncmVzc1BlcmNlbnRhZ2UiLCJNYXRoIiwicm91bmQiLCJyZXNwb25zZSIsImZldGNoIiwib2siLCJqb2JTdGF0dXMiLCJqc29uIiwiY2xlYXJJbnRlcnZhbCIsImNoZWNrUGVuZGluZ0pvYnMiLCJyZWNvdmVyeSIsImdldFJlY292ZXJ5IiwiaXNSZWNvdmVyeURyYWZ0IiwiaXNEcmFmdCIsImhhc0NvbXBsZXRlZERyYWZ0cyIsImNhcmQiLCJnZW5lcmF0ZWRDYXJkIiwiaXNDYXJkQ29tcGxldGVkIiwiZm9ybURhdGEiLCJzZWxlY3RlZERyYWZ0SW5kZXgiLCJzZXRGaW5hbENhcmRNZXNzYWdlIiwiaXNHZW5lcmF0aW5nTWVzc2FnZSIsInNldElzR2VuZXJhdGluZ01lc3NhZ2UiLCJzZXRHZW5lcmF0ZWRDYXJkIiwiZ2VuZXJhdGVkQ2FyZHMiLCJzZXRHZW5lcmF0ZWRDYXJkcyIsInNlbGVjdGVkQ2FyZEluZGV4Iiwic2V0U2VsZWN0ZWRDYXJkSW5kZXgiLCJwcmV2aWV3aW5nRHJhZnRJbmRleCIsImRyYWZ0Q29tcGxldGlvblNob3duIiwiZHJhZnRDb21wbGV0aW9uQ291bnQiLCJnZW5lcmF0aW9uUHJvZ3Jlc3MiLCJzZXRJc0NhcmRDb21wbGV0ZWQiLCJyZWZlcmVuY2VJbWFnZXMiLCJzZXRSZWZlcmVuY2VJbWFnZXMiLCJzZXRSZWZlcmVuY2VJbWFnZVVybHMiLCJpc1VwbG9hZGluZyIsInNldElzVXBsb2FkaW5nIiwiZ2VuZXJhdGlvbkR1cmF0aW9uIiwic2V0R2VuZXJhdGlvbkR1cmF0aW9uIiwiY3VycmVudEVsYXBzZWRUaW1lIiwiaGFuZGxlRmlsZVVwbG9hZCIsImhhbmRsZVJlbW92ZVJlZmVyZW5jZUltYWdlIiwic2V0UGhvdG9SZWZlcmVuY2VzIiwidXBkYXRlUGhvdG9EZXNjcmlwdGlvbiIsImhhbmRsZUdldE1lc3NhZ2VIZWxwIiwiYWRkTWVzc2FnZVRvSGlzdG9yeSIsInVuZG9NZXNzYWdlIiwicmVkb01lc3NhZ2UiLCJoYW5kbGVHZW5lcmF0ZURyYWZ0Q2FyZHMiLCJoYW5kbGVHZW5lcmF0ZUZpbmFsRnJvbURyYWZ0IiwibWVzc2FnZUhpc3RvcnkiLCJzZXRNZXNzYWdlSGlzdG9yeSIsImN1cnJlbnRNZXNzYWdlSW5kZXgiLCJzZXRDdXJyZW50TWVzc2FnZUluZGV4IiwicmVmaW5lbWVudFByb21wdCIsInNldFJlZmluZW1lbnRQcm9tcHQiLCJpc1JlZmluaW5nTWVzc2FnZSIsInNldElzUmVmaW5pbmdNZXNzYWdlIiwic2hvd1JlZmluZW1lbnRCb3giLCJzZXRTaG93UmVmaW5lbWVudEJveCIsImhhbmR3cml0aW5nU2FtcGxlIiwic2V0SGFuZHdyaXRpbmdTYW1wbGUiLCJoYW5kd3JpdGluZ1NhbXBsZVVybCIsInNldEhhbmR3cml0aW5nU2FtcGxlVXJsIiwiY3VycmVudENhcmRJZCIsInNldEN1cnJlbnRDYXJkSWQiLCJkaXNjb25uZWN0V2ViU29ja2V0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./hooks/useCardStudioRefactored.ts\n"));

/***/ })

});