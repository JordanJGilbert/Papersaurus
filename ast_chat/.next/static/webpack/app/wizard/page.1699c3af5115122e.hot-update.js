"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/wizard/page",{

/***/ "(app-pages-browser)/./hooks/useCardStudioRefactored.ts":
/*!******************************************!*\
  !*** ./hooks/useCardStudioRefactored.ts ***!
  \******************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useCardStudio: function() { return /* binding */ useCardStudio; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var sonner__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! sonner */ \"(app-pages-browser)/./node_modules/sonner/dist/index.mjs\");\n/* harmony import */ var _cardStudio_useWebSocket__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./cardStudio/useWebSocket */ \"(app-pages-browser)/./hooks/cardStudio/useWebSocket.ts\");\n/* harmony import */ var _cardStudio_useJobManagementSimplified__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./cardStudio/useJobManagementSimplified */ \"(app-pages-browser)/./hooks/cardStudio/useJobManagementSimplified.ts\");\n/* harmony import */ var _cardStudio_useMessageGeneration__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./cardStudio/useMessageGeneration */ \"(app-pages-browser)/./hooks/cardStudio/useMessageGeneration.ts\");\n/* harmony import */ var _cardStudio_useFileHandling__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./cardStudio/useFileHandling */ \"(app-pages-browser)/./hooks/cardStudio/useFileHandling.ts\");\n/* harmony import */ var _cardStudio_useDraftGeneration__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./cardStudio/useDraftGeneration */ \"(app-pages-browser)/./hooks/cardStudio/useDraftGeneration.ts\");\n/* harmony import */ var _cardStudio_useCardGeneration__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./cardStudio/useCardGeneration */ \"(app-pages-browser)/./hooks/cardStudio/useCardGeneration.ts\");\n/* harmony import */ var _cardStudio_constants__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./cardStudio/constants */ \"(app-pages-browser)/./hooks/cardStudio/constants.ts\");\n/* harmony import */ var _cardStudio_utils__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./cardStudio/utils */ \"(app-pages-browser)/./hooks/cardStudio/utils.ts\");\n/* harmony import */ var _lib_storageManager__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @/lib/storageManager */ \"(app-pages-browser)/./lib/storageManager.ts\");\n/* __next_internal_client_entry_do_not_use__ useCardStudio auto */ \n\n// Import modular hooks\n\n\n\n\n\n\n// Import constants and utils\n\n\n\nfunction useCardStudio() {\n    // Core form state\n    const [prompt, setPrompt] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(\"\");\n    const [toField, setToField] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(\"\");\n    const [fromField, setFromField] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(\"\");\n    const [relationshipField, setRelationshipField] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(\"\");\n    const [personalTraits, setPersonalTraits] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(\"\");\n    const [selectedType, setSelectedType] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(\"birthday\");\n    const [customCardType, setCustomCardType] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(\"\");\n    const [selectedTone, setSelectedTone] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(\"funny\");\n    // Advanced options state\n    const [showAdvanced, setShowAdvanced] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [selectedArtisticStyle, setSelectedArtisticStyle] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(\"ai-smart-style\");\n    const [customStyleDescription, setCustomStyleDescription] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(\"\");\n    const [selectedImageModel, setSelectedImageModel] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(\"gpt-image-1\");\n    const [selectedDraftModel, setSelectedDraftModel] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(\"gpt-image-1\");\n    const [fastPreviewMode, setFastPreviewMode] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(true);\n    // Email state\n    const [userEmail, setUserEmail] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(\"\");\n    // Card options\n    const [numberOfCards, setNumberOfCards] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(1);\n    const [isHandwrittenMessage, setIsHandwrittenMessage] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [isFrontBackOnly, setIsFrontBackOnly] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [selectedPaperSize, setSelectedPaperSize] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(\"standard\");\n    // UI state\n    const [isTextareaExpanded, setIsTextareaExpanded] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [isMessageExpanded, setIsMessageExpanded] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [showSettings, setShowSettings] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [showTemplateGallery, setShowTemplateGallery] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [showPrintConfirmation, setShowPrintConfirmation] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [showTemplateCustomization, setShowTemplateCustomization] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    // Restoration state\n    const [isRestoringJobs, setIsRestoringJobs] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(true);\n    const [selectedTemplate, setSelectedTemplate] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [isInitialLoadComplete, setIsInitialLoadComplete] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    // Template state\n    const [templateSearchQuery, setTemplateSearchQuery] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(\"\");\n    const [isSearchingTemplates, setIsSearchingTemplates] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [aiFilteredCards, setAiFilteredCards] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]);\n    const [searchMode, setSearchMode] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(\"text\");\n    const [textFilteredCards, setTextFilteredCards] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]);\n    const [showPrompts, setShowPrompts] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [printOption, setPrintOption] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(\"physical\");\n    // Template customization state\n    const [templateCustomizations, setTemplateCustomizations] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({\n        promptChanges: \"\",\n        messageChanges: \"\",\n        useReferenceImage: false,\n        referenceImageFile: null,\n        referenceImageUrls: [],\n        referenceImageTransformation: \"\"\n    });\n    // Section loading states\n    const [sectionLoadingStates, setSectionLoadingStates] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({\n        frontCover: \"idle\",\n        backCover: \"idle\",\n        leftInterior: \"idle\",\n        rightInterior: \"idle\"\n    });\n    // Countdown state\n    const [countdown, setCountdown] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(0);\n    const [countdownInterval, setCountdownInterval] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    // Use modular hooks\n    const webSocket = (0,_cardStudio_useWebSocket__WEBPACK_IMPORTED_MODULE_2__.useWebSocket)();\n    const jobManagement = (0,_cardStudio_useJobManagementSimplified__WEBPACK_IMPORTED_MODULE_3__.useJobManagement)();\n    const fileHandling = (0,_cardStudio_useFileHandling__WEBPACK_IMPORTED_MODULE_5__.useFileHandling)();\n    const messageGeneration = (0,_cardStudio_useMessageGeneration__WEBPACK_IMPORTED_MODULE_4__.useMessageGeneration)(selectedType, customCardType, selectedTone, prompt, toField, fromField, relationshipField, fileHandling.photoReferences);\n    // Draft generation props\n    const draftGenerationProps = {\n        selectedType,\n        customCardType,\n        selectedTone,\n        selectedArtisticStyle,\n        customStyleDescription,\n        selectedDraftModel,\n        selectedImageModel,\n        selectedPaperSize,\n        prompt,\n        personalTraits,\n        toField,\n        fromField,\n        userEmail,\n        finalCardMessage: messageGeneration.finalCardMessage,\n        isHandwrittenMessage,\n        isFrontBackOnly,\n        referenceImageUrls: fileHandling.referenceImageUrls,\n        photoReferences: fileHandling.photoReferences,\n        relationshipField,\n        saveJobToStorage: jobManagement.saveJobToStorage,\n        subscribeToJob: webSocket.subscribeToJob,\n        unsubscribeFromAllJobs: webSocket.unsubscribeFromAllJobs,\n        startElapsedTimeTracking: jobManagement.startElapsedTimeTracking,\n        stopElapsedTimeTracking: jobManagement.stopElapsedTimeTracking,\n        setProgressPercentage: jobManagement.setProgressPercentage\n    };\n    const draftGeneration = (0,_cardStudio_useDraftGeneration__WEBPACK_IMPORTED_MODULE_6__.useDraftGeneration)(draftGenerationProps);\n    // Card generation props\n    const cardGenerationProps = {\n        selectedType,\n        customCardType,\n        selectedTone,\n        selectedArtisticStyle,\n        customStyleDescription,\n        selectedImageModel,\n        selectedPaperSize,\n        prompt,\n        personalTraits,\n        toField,\n        fromField,\n        userEmail,\n        finalCardMessage: messageGeneration.finalCardMessage,\n        isHandwrittenMessage,\n        isFrontBackOnly,\n        referenceImageUrls: fileHandling.referenceImageUrls,\n        photoReferences: fileHandling.photoReferences,\n        relationshipField,\n        numberOfCards,\n        saveJobToStorage: jobManagement.saveJobToStorage,\n        removeJobFromStorage: jobManagement.removeJobFromStorage,\n        subscribeToJob: webSocket.subscribeToJob,\n        startElapsedTimeTracking: jobManagement.startElapsedTimeTracking,\n        stopElapsedTimeTracking: jobManagement.stopElapsedTimeTracking,\n        setCurrentJobId: jobManagement.setCurrentJobId,\n        setIsDraftMode: draftGeneration.setIsDraftMode,\n        setDraftCards: draftGeneration.setDraftCards,\n        setSelectedDraftIndex: draftGeneration.setSelectedDraftIndex,\n        setIsGeneratingFinalCard: draftGeneration.setIsGeneratingFinalCard,\n        setPreviewingDraftIndex: draftGeneration.setPreviewingDraftIndex,\n        setDraftCompletionShown: draftGeneration.setDraftCompletionShown,\n        setDraftCompletionCount: draftGeneration.setDraftCompletionCount\n    };\n    const cardGeneration = (0,_cardStudio_useCardGeneration__WEBPACK_IMPORTED_MODULE_7__.useCardGeneration)(cardGenerationProps);\n    // Handle job updates from WebSocket\n    const handleJobUpdate = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((data)=>{\n        const { job_id, status, progress, cardData, error, completedAt } = data;\n        if (!job_id) return;\n        // Skip updates if we're still restoring jobs from localStorage\n        if (isRestoringJobs) {\n            console.log(\"⏳ Skipping job update during restoration:\", job_id);\n            return;\n        }\n        // Check if this is a draft job\n        const isDraftJob = job_id.startsWith(\"draft-\");\n        const draftIndex = isDraftJob ? parseInt(job_id.split(\"-\")[1]) : -1;\n        // Filter out updates from wrong job type\n        // If we're in draft mode, only process draft jobs\n        // If we're in final mode, only process non-draft jobs\n        const isInDraftMode = draftGeneration.isDraftMode;\n        if (isInDraftMode && !isDraftJob) {\n            console.log(\"\\uD83D\\uDEAB Ignoring non-draft job update in draft mode:\", job_id);\n            return;\n        }\n        if (!isInDraftMode && isDraftJob) {\n            console.log(\"\\uD83D\\uDEAB Ignoring draft job update in final mode:\", job_id);\n            return;\n        }\n        console.log(\"\\uD83D\\uDD04 Processing job update:\", {\n            job_id,\n            status,\n            isDraftJob,\n            draftIndex,\n            progress\n        });\n        // Handle status transitions\n        if (status === \"processing\" && !cardGeneration.isGenerating && !draftGeneration.isGenerating) {\n            console.log(\"\\uD83D\\uDD04 Job is processing, setting generation state\");\n            if (isDraftJob) {\n                draftGeneration.setIsGenerating(true);\n                draftGeneration.setIsDraftMode(true);\n                jobManagement.startElapsedTimeTracking(\"draft\");\n            } else {\n                cardGeneration.setIsGenerating(true);\n                jobManagement.startElapsedTimeTracking(\"final\");\n            }\n        }\n        // Update progress if provided\n        if (progress) {\n            // IMPORTANT: Don't show \"Generation complete!\" until we've actually processed the card\n            // This prevents the UI from showing completion before the card is ready\n            if (progress.includes(\"Generation complete!\") && status === \"completed\" && !isDraftJob) {\n                console.log('⏸️ Holding \"Generation complete!\" message until card is processed');\n            // Don't update the progress message yet - it will be set in handleFinalCardCompletion\n            } else {\n                cardGeneration.setGenerationProgress(progress);\n                draftGeneration.setGenerationProgress(progress);\n                console.log(\"\\uD83D\\uDCCA Progress message: \".concat(progress));\n            }\n        }\n        if (status === \"completed\" && cardData) {\n            console.log(\"\\uD83C\\uDF89 Job completed! Card data:\", cardData, \"isDraftJob:\", isDraftJob);\n            // Normalize field names to handle backend inconsistencies\n            const normalizedCardData = {\n                ...cardData,\n                leftInterior: cardData.leftInterior || cardData.leftPage || cardData.left_interior || cardData.left_page,\n                rightInterior: cardData.rightInterior || cardData.rightPage || cardData.right_interior || cardData.right_page,\n                frontCover: cardData.frontCover || cardData.front_cover || cardData.front,\n                backCover: cardData.backCover || cardData.back_cover || cardData.back,\n                // Keep original fields for backward compatibility\n                leftPage: cardData.leftPage || cardData.leftInterior || cardData.left_page || cardData.left_interior,\n                rightPage: cardData.rightPage || cardData.rightInterior || cardData.right_page || cardData.right_interior\n            };\n            // Validate that we have the minimum required fields for a complete card\n            const hasRequiredFields = normalizedCardData.frontCover && (isDraftJob || normalizedCardData.backCover && normalizedCardData.leftInterior && normalizedCardData.rightInterior);\n            if (!hasRequiredFields) {\n                console.warn(\"⚠️ Card data missing required fields:\", {\n                    frontCover: !!normalizedCardData.frontCover,\n                    backCover: !!normalizedCardData.backCover,\n                    leftInterior: !!normalizedCardData.leftInterior,\n                    rightInterior: !!normalizedCardData.rightInterior\n                });\n            }\n            // If this is the first update for a recovery job, ensure generation state is set properly\n            if (isDraftJob && !draftGeneration.isGenerating && draftGeneration.draftCards.filter(Boolean).length === 0) {\n                console.log(\"\\uD83D\\uDCE5 Recovered completed draft job - not setting as generating\");\n            // Don't set isGenerating for already completed jobs during recovery\n            }\n            if (isDraftJob && draftIndex >= 0) {\n                var _cardData_generatedPrompts, _cardData_generatedPrompts1, _cardData_generatedPrompts2, _cardData_generatedPrompts3;\n                // Handle draft card completion\n                console.log(\"\\uD83C\\uDFA8 Draft variation \".concat(draftIndex + 1, \" completed!\"));\n                // Get style info for smart style mode\n                let styleInfo = undefined;\n                if (selectedArtisticStyle === \"ai-smart-style\") {\n                    const predefinedStyles = [\n                        \"watercolor\",\n                        \"botanical\",\n                        \"comic-book\",\n                        \"dreamy-fantasy\",\n                        \"minimalist\"\n                    ];\n                    const styleLabels = [\n                        \"\\uD83C\\uDFA8 Watercolor\",\n                        \"\\uD83C\\uDF3F Botanical\",\n                        \"\\uD83D\\uDCA5 Comic Book\",\n                        \"\\uD83C\\uDF38 Dreamy Fantasy\",\n                        \"✨ Minimalist\"\n                    ];\n                    if (draftIndex >= 0 && draftIndex < predefinedStyles.length) {\n                        styleInfo = {\n                            styleName: predefinedStyles[draftIndex],\n                            styleLabel: styleLabels[draftIndex]\n                        };\n                    }\n                }\n                const draftCard = {\n                    id: \"draft-\".concat(draftIndex + 1, \"-\").concat(Date.now()),\n                    prompt: normalizedCardData.prompt || \"Draft Variation \".concat(draftIndex + 1),\n                    frontCover: normalizedCardData.frontCover || \"\",\n                    backCover: normalizedCardData.backCover || \"\",\n                    leftPage: normalizedCardData.leftInterior || \"\",\n                    rightPage: normalizedCardData.rightInterior || \"\",\n                    createdAt: new Date(),\n                    generatedPrompts: normalizedCardData.generatedPrompts || {\n                        frontCover: ((_cardData_generatedPrompts = cardData.generatedPrompts) === null || _cardData_generatedPrompts === void 0 ? void 0 : _cardData_generatedPrompts.frontCover) || \"\",\n                        backCover: ((_cardData_generatedPrompts1 = cardData.generatedPrompts) === null || _cardData_generatedPrompts1 === void 0 ? void 0 : _cardData_generatedPrompts1.backCover) || \"\",\n                        leftInterior: ((_cardData_generatedPrompts2 = cardData.generatedPrompts) === null || _cardData_generatedPrompts2 === void 0 ? void 0 : _cardData_generatedPrompts2.leftInterior) || \"\",\n                        rightInterior: ((_cardData_generatedPrompts3 = cardData.generatedPrompts) === null || _cardData_generatedPrompts3 === void 0 ? void 0 : _cardData_generatedPrompts3.rightInterior) || \"\"\n                    },\n                    styleInfo: styleInfo\n                };\n                // Simplified draft tracking - use fixed array positions\n                draftGeneration.setDraftCards((prev)=>{\n                    const updated = [\n                        ...prev\n                    ];\n                    // Ensure array has 5 slots\n                    while(updated.length < 5){\n                        updated.push(null);\n                    }\n                    // Place draft at its correct index\n                    updated[draftIndex] = draftCard;\n                    console.log(\"✅ Draft \".concat(draftIndex + 1, \" completed and stored at index \").concat(draftIndex));\n                    // No longer save individual drafts to localStorage\n                    return updated;\n                });\n                // Simplified completion tracking - count the updated array including the new draft\n                const updatedDrafts = [\n                    ...draftGeneration.draftCards\n                ];\n                updatedDrafts[draftIndex] = draftCard;\n                const completedCount = updatedDrafts.filter(Boolean).length;\n                console.log(\"\\uD83D\\uDCCA Draft progress: \".concat(completedCount, \"/5 variations complete\"));\n                // Update progress\n                const progressMsg = completedCount === 5 ? \"All 5 variations ready! Choose your favorite below.\" : \"\".concat(completedCount, \"/5 variations complete...\").concat(completedCount >= 2 ? \" You can select one now!\" : \"\");\n                draftGeneration.setGenerationProgress(progressMsg);\n                // Override time-based progress with real progress when drafts complete\n                // Don't override time-based progress\n                console.log(\"\\uD83C\\uDFA8 Draft \".concat(completedCount, \"/5 completed\"));\n                // Handle milestones\n                if (completedCount === 1) {\n                    (0,_cardStudio_utils__WEBPACK_IMPORTED_MODULE_9__.scrollToCardPreview)();\n                }\n                if (completedCount === 5 && !draftGeneration.isGeneratingFinalCard) {\n                    draftGeneration.setIsGenerating(false);\n                    jobManagement.stopElapsedTimeTracking();\n                    // Clear recovery data for completed draft jobs\n                    _lib_storageManager__WEBPACK_IMPORTED_MODULE_10__.storage.clearRecovery();\n                    console.log(\"\\uD83E\\uDDF9 Cleared recovery data for completed draft job\");\n                    sonner__WEBPACK_IMPORTED_MODULE_1__.toast.success(\"\\uD83C\\uDFA8 All 5 front cover variations ready! Choose your favorite below.\");\n                }\n                // Keep draft jobs in storage for later retrieval\n                // Only unsubscribe from WebSocket\n                webSocket.unsubscribeFromJob(job_id);\n                console.log(\"✅ Keeping draft job \".concat(job_id, \" in storage for future access\"));\n            } else {\n                // Handle final card completion\n                console.log(\"\\uD83D\\uDD0D Final card completion detected. Card data structure:\", {\n                    hasCardData: !!cardData,\n                    cardDataKeys: Object.keys(cardData || {}),\n                    frontCover: (cardData === null || cardData === void 0 ? void 0 : cardData.frontCover) ? \"Present\" : \"Missing\",\n                    backCover: (cardData === null || cardData === void 0 ? void 0 : cardData.backCover) ? \"Present\" : \"Missing\",\n                    leftInterior: (cardData === null || cardData === void 0 ? void 0 : cardData.leftInterior) ? \"Present\" : \"Missing\",\n                    rightInterior: (cardData === null || cardData === void 0 ? void 0 : cardData.rightInterior) ? \"Present\" : \"Missing\",\n                    leftPage: (cardData === null || cardData === void 0 ? void 0 : cardData.leftPage) ? \"Present\" : \"Missing\",\n                    rightPage: (cardData === null || cardData === void 0 ? void 0 : cardData.rightPage) ? \"Present\" : \"Missing\"\n                });\n                console.log(\"\\uD83D\\uDCDD Full card data:\", JSON.stringify(normalizedCardData, null, 2));\n                // Use the already normalized card data\n                const mappedCardData = normalizedCardData;\n                console.log(\"\\uD83D\\uDD04 Normalized card data for frontend:\", {\n                    frontCover: mappedCardData.frontCover ? \"Present\" : \"Missing\",\n                    backCover: mappedCardData.backCover ? \"Present\" : \"Missing\",\n                    leftInterior: mappedCardData.leftInterior ? \"Present\" : \"Missing\",\n                    rightInterior: mappedCardData.rightInterior ? \"Present\" : \"Missing\",\n                    hasAllRequiredFields: hasRequiredFields\n                });\n                // Only process completion if we have all required fields\n                if (hasRequiredFields) {\n                    // Call the completion handler\n                    console.log(\"\\uD83D\\uDE80 Calling handleFinalCardCompletion...\");\n                    cardGeneration.handleFinalCardCompletion(mappedCardData);\n                } else {\n                    console.error(\"❌ Cannot complete card - missing required fields\");\n                    sonner__WEBPACK_IMPORTED_MODULE_1__.toast.error(\"Card generation incomplete - missing some panels. Please try again.\");\n                    // Force clear the loading state\n                    cardGeneration.setIsGenerating(false);\n                    draftGeneration.setIsGeneratingFinalCard(false);\n                    jobManagement.stopElapsedTimeTracking();\n                    jobManagement.setGenerationProgress(\"\");\n                }\n                // Card is automatically added to recent cards by markJobComplete\n                // Only clear recovery if we're not in the middle of restoring\n                if (!isRestoringJobs) {\n                    jobManagement.removeJobFromStorage(job_id);\n                }\n                jobManagement.setCurrentJobId(null);\n                webSocket.unsubscribeFromJob(job_id);\n            }\n        } else if (status === \"failed\") {\n            console.error(\"❌ Job failed:\", error);\n            if (isDraftJob && draftIndex >= 0) {\n                sonner__WEBPACK_IMPORTED_MODULE_1__.toast.error(\"Draft variation \".concat(draftIndex + 1, \" failed. Continuing with others...\"));\n            } else {\n                sonner__WEBPACK_IMPORTED_MODULE_1__.toast.error(\"❌ Card generation failed. Please try again.\");\n                cardGeneration.setIsGenerating(false);\n                draftGeneration.setIsGeneratingFinalCard(false);\n                jobManagement.stopElapsedTimeTracking();\n                cardGeneration.setGenerationProgress(\"\");\n                // Don't reset progress - let time-based progress continue\n                // jobManagement.setProgressPercentage(0);\n                jobManagement.setCurrentJobId(null);\n                webSocket.unsubscribeFromJob(job_id);\n            }\n            // Only clear recovery if we're not in the middle of restoring\n            if (!isRestoringJobs) {\n                jobManagement.removeJobFromStorage(job_id);\n            }\n        } else if (status === \"not_found\") {\n            console.warn(\"⚠️ Job not found on server, cleaning up stale reference:\", job_id);\n            // Clean up stale job reference\n            if (webSocket.currentJobRef.current === job_id) {\n                webSocket.currentJobRef.current = null;\n            }\n            // Reset UI state if this was the current job\n            if (jobManagement.currentJobId === job_id) {\n                jobManagement.setCurrentJobId(null);\n                cardGeneration.setIsGenerating(false);\n                draftGeneration.setIsGeneratingFinalCard(false);\n                cardGeneration.setGenerationProgress(\"\");\n                // Don't reset progress - let time-based progress continue\n                // jobManagement.setProgressPercentage(0);\n                jobManagement.stopElapsedTimeTracking();\n            }\n            // Clean up storage\n            // Only clear recovery if we're not in the middle of restoring\n            if (!isRestoringJobs) {\n                jobManagement.removeJobFromStorage(job_id);\n            }\n            webSocket.unsubscribeFromJob(job_id);\n        }\n    }, [\n        selectedArtisticStyle,\n        draftGeneration,\n        cardGeneration,\n        jobManagement,\n        webSocket,\n        isRestoringJobs\n    ]);\n    // Set up WebSocket job update handler\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        webSocket.setJobUpdateHandler(handleJobUpdate);\n    }, [\n        webSocket,\n        handleJobUpdate\n    ]);\n    // Track if we've already logged the stale job message\n    const staleJobLoggedRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(false);\n    // Auto-reconnect WebSocket if disconnected during active generation\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        if (!webSocket.isSocketConnected && (cardGeneration.isGenerating || draftGeneration.isGeneratingFinalCard) && webSocket.currentJobRef.current) {\n            // Check if the generation has been running for more than 5 minutes\n            if (jobManagement.generationStartTime) {\n                const jobAge = Date.now() - jobManagement.generationStartTime;\n                if (jobAge > 5 * 60 * 1000) {\n                    if (!staleJobLoggedRef.current) {\n                        console.log(\"⏰ Job is older than 5 minutes, stopping reconnection attempts\");\n                        staleJobLoggedRef.current = true;\n                        // Clean up stale job\n                        const jobId = webSocket.currentJobRef.current;\n                        if (jobId) {\n                            console.log(\"\\uD83E\\uDDF9 Cleaning up stale job:\", jobId);\n                            // Remove from localStorage (only if not a draft job)\n                            if (!jobId.startsWith(\"draft-\")) {\n                                jobManagement.removeJobFromStorage(jobId);\n                            }\n                            // Reset generation states\n                            cardGeneration.setIsGenerating(false);\n                            draftGeneration.setIsGeneratingFinalCard(false);\n                            draftGeneration.setIsDraftMode(false);\n                            draftGeneration.setDraftCards([]);\n                            draftGeneration.setDraftCompletionCount(0);\n                            draftGeneration.setDraftCompletionShown(false);\n                            jobManagement.setCurrentJobId(null);\n                            jobManagement.setGenerationProgress(\"\");\n                            // Don't reset progress - let time-based progress continue\n                            // jobManagement.setProgressPercentage(0);\n                            jobManagement.stopElapsedTimeTracking();\n                            // Unsubscribe from job\n                            webSocket.unsubscribeFromJob(jobId);\n                            // Show error toast\n                            sonner__WEBPACK_IMPORTED_MODULE_1__.toast.error(\"Card generation timed out. Please try again.\");\n                        }\n                    }\n                    return;\n                }\n            }\n            console.log(\"\\uD83D\\uDD04 WebSocket disconnected during generation, attempting reconnect...\");\n            const reconnectTimer = setTimeout(()=>{\n                webSocket.connectWebSocket();\n                // Re-subscribe to current job after reconnection\n                const jobId = webSocket.currentJobRef.current;\n                if (jobId) {\n                    setTimeout(()=>{\n                        console.log(\"\\uD83D\\uDCE1 Re-subscribing to job after reconnect:\", jobId);\n                        webSocket.subscribeToJob(jobId);\n                    }, 1000);\n                }\n            }, 2000);\n            return ()=>clearTimeout(reconnectTimer);\n        }\n    }, [\n        webSocket,\n        cardGeneration.isGenerating,\n        draftGeneration.isGeneratingFinalCard,\n        jobManagement.generationStartTime\n    ]);\n    // Reset stale job flag when generation starts\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        if (cardGeneration.isGenerating || draftGeneration.isGeneratingFinalCard) {\n            staleJobLoggedRef.current = false;\n        }\n    }, [\n        cardGeneration.isGenerating,\n        draftGeneration.isGeneratingFinalCard\n    ]);\n    // Monitor for stale job updates\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        if ((cardGeneration.isGenerating || draftGeneration.isGeneratingFinalCard) && webSocket.currentJobRef.current) {\n            const checkInterval = setInterval(async ()=>{\n                const timeSinceLastUpdate = Date.now() - webSocket.lastJobUpdateRef.current;\n                const jobId = webSocket.currentJobRef.current;\n                // Very aggressive checking when at 95%+ progress\n                if (jobManagement.progressPercentage >= 95 && timeSinceLastUpdate > 5000) {\n                    console.warn(\"⚠️ No updates for \".concat(Math.round(timeSinceLastUpdate / 1000), \"s at \").concat(jobManagement.progressPercentage, \"% progress - checking job status...\"));\n                    if (jobId) {\n                        try {\n                            const response = await fetch(\"/api/job-status/\".concat(jobId));\n                            if (response.ok) {\n                                const jobStatus = await response.json();\n                                console.log(\"\\uD83D\\uDCCA Direct job status check:\", jobStatus);\n                                if (jobStatus.status === \"completed\" && jobStatus.cardData) {\n                                    console.log(\"✅ Job is actually completed! Processing result...\");\n                                    handleJobUpdate({\n                                        job_id: jobId,\n                                        status: \"completed\",\n                                        progress: \"Card generation complete!\",\n                                        cardData: jobStatus.cardData\n                                    });\n                                    return; // Exit early on completion\n                                }\n                            }\n                        } catch (error) {\n                            console.error(\"Failed to check job status:\", error);\n                        }\n                    }\n                } else if (jobManagement.progressPercentage >= 90 && timeSinceLastUpdate > 10000) {\n                    console.warn(\"⚠️ No updates for \".concat(Math.round(timeSinceLastUpdate / 1000), \"s at \").concat(jobManagement.progressPercentage, \"% progress\"));\n                    if (jobId) {\n                        try {\n                            const response = await fetch(\"/api/job-status/\".concat(jobId));\n                            if (response.ok) {\n                                const jobStatus = await response.json();\n                                console.log(\"\\uD83D\\uDCCA Direct job status check:\", jobStatus);\n                                if (jobStatus.status === \"completed\" && jobStatus.cardData) {\n                                    console.log(\"✅ Job is actually completed! Processing result...\");\n                                    handleJobUpdate({\n                                        job_id: jobId,\n                                        status: \"completed\",\n                                        progress: \"Card generation complete!\",\n                                        cardData: jobStatus.cardData\n                                    });\n                                    return; // Exit early on completion\n                                }\n                            }\n                        } catch (error) {\n                            console.error(\"Failed to check job status:\", error);\n                        }\n                    }\n                }\n                // Standard stale update check\n                if (timeSinceLastUpdate > 30000) {\n                    console.warn(\"⚠️ No job updates for 30 seconds, checking connection...\");\n                    if (!webSocket.isSocketConnected) {\n                        console.log(\"\\uD83D\\uDD04 WebSocket disconnected, reconnecting...\");\n                        webSocket.connectWebSocket();\n                    } else if (jobId) {\n                        console.log(\"\\uD83D\\uDCE1 Re-subscribing to job due to stale updates:\", jobId);\n                        webSocket.subscribeToJob(jobId);\n                    }\n                    // Reset the timer\n                    webSocket.lastJobUpdateRef.current = Date.now();\n                }\n            }, 3000); // Check every 3 seconds for faster detection at high progress\n            return ()=>clearInterval(checkInterval);\n        }\n    }, [\n        cardGeneration.isGenerating,\n        draftGeneration.isGeneratingFinalCard,\n        webSocket,\n        jobManagement.progressPercentage,\n        handleJobUpdate\n    ]);\n    // Simplified job restoration using new storage manager\n    const checkPendingJobs = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(async ()=>{\n        var _recovery_jobId;\n        console.log(\"\\uD83D\\uDD04 Checking for recovery data...\");\n        setIsRestoringJobs(true);\n        // Check for active recovery job\n        const recovery = _lib_storageManager__WEBPACK_IMPORTED_MODULE_10__.storage.getRecovery();\n        if (!recovery) {\n            console.log(\"✅ No active job to recover\");\n            setIsRestoringJobs(false);\n            return;\n        }\n        console.log(\"\\uD83D\\uDD04 Found recovery data:\", recovery);\n        // In our simplified system, we only track one active job at a time\n        // Recovery is meant for browser crashes during generation\n        const isRecoveryDraft = (_recovery_jobId = recovery.jobId) === null || _recovery_jobId === void 0 ? void 0 : _recovery_jobId.startsWith(\"draft-\");\n        if (isRecoveryDraft) {\n            console.log(\"\\uD83C\\uDFA8 Recovering from draft generation\");\n            // For draft recovery, we can't restore the exact state\n            // User will need to restart the draft generation\n            setIsRestoringJobs(false);\n            return;\n        }\n        // For final card recovery, we can try to restore the job\n        console.log(\"\\uD83C\\uDFAF Recovering from final card generation\");\n        // Restore generation state\n        jobManagement.setCurrentJobId(recovery.jobId);\n        cardGeneration.setIsGenerating(true);\n        cardGeneration.setGenerationProgress(\"\\uD83D\\uDD04 Resuming generation...\");\n        jobManagement.startElapsedTimeTracking(\"final\");\n        // Subscribe to the job to get updates\n        webSocket.subscribeToJob(recovery.jobId);\n        setIsRestoringJobs(false);\n    }, [\n        webSocket,\n        _lib_storageManager__WEBPACK_IMPORTED_MODULE_10__.storage\n    ]);\n    // Load recovery data on component mount\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        console.log(\"\\uD83D\\uDE80 useCardStudio mounted, checking for recovery...\");\n        // Check for active recovery job\n        const recovery = _lib_storageManager__WEBPACK_IMPORTED_MODULE_10__.storage.getRecovery();\n        console.log(\"\\uD83D\\uDCE6 Recovery data:\", recovery);\n        if (recovery) {\n            console.log(\"\\uD83D\\uDD04 Found active job to recover:\", recovery.jobId);\n            // For draft jobs, check if we already have completed drafts\n            const isDraft = recovery.jobId.startsWith(\"draft-\");\n            if (isDraft) {\n                // Check if we already have completed draft cards\n                const hasCompletedDrafts = draftGeneration.draftCards.filter((card)=>card !== null).length > 0;\n                if (hasCompletedDrafts) {\n                    console.log(\"✅ Draft job already completed, not setting as generating\");\n                    // Just restore the job ID for reference, but don't set as generating\n                    jobManagement.setCurrentJobId(recovery.jobId);\n                    draftGeneration.setIsDraftMode(true);\n                } else {\n                    console.log(\"\\uD83C\\uDFA8 Resuming incomplete draft generation\");\n                    // Subscribe to the job to check its status\n                    jobManagement.setCurrentJobId(recovery.jobId);\n                    webSocket.subscribeToJob(recovery.jobId);\n                    draftGeneration.setIsDraftMode(true);\n                    // Don't set as generating yet - wait for WebSocket to tell us the actual status\n                    // This prevents navigation to Step 5 for already completed jobs\n                    console.log(\"⏳ Waiting for job status update before setting generation state...\");\n                }\n            } else {\n                // For final card recovery, check if already completed\n                if (cardGeneration.generatedCard && cardGeneration.isCardCompleted) {\n                    console.log(\"✅ Final card already completed, not setting as generating\");\n                    jobManagement.setCurrentJobId(recovery.jobId);\n                } else {\n                    console.log(\"\\uD83C\\uDFAF Resuming incomplete final card generation\");\n                    jobManagement.setCurrentJobId(recovery.jobId);\n                    webSocket.subscribeToJob(recovery.jobId);\n                    cardGeneration.setIsGenerating(true);\n                    cardGeneration.setGenerationProgress(\"\\uD83C\\uDFA8 Resuming card generation...\");\n                    jobManagement.startElapsedTimeTracking(\"final\");\n                    // If this is a final card generation from a draft, set the appropriate state\n                    if (recovery.formData && recovery.formData.selectedDraftIndex !== undefined) {\n                        draftGeneration.setIsGeneratingFinalCard(true);\n                        draftGeneration.setSelectedDraftIndex(recovery.formData.selectedDraftIndex);\n                    }\n                }\n            }\n        }\n        // Always mark restoration as complete\n        setIsRestoringJobs(false);\n        // Mark restoration as complete after a small delay\n        setTimeout(()=>{\n            setIsRestoringJobs(false);\n        }, 100);\n    }, []);\n    // Return all the state and functions that the UI needs\n    return {\n        // Core state\n        prompt,\n        setPrompt,\n        finalCardMessage: messageGeneration.finalCardMessage,\n        setFinalCardMessage: messageGeneration.setFinalCardMessage,\n        toField,\n        setToField,\n        fromField,\n        setFromField,\n        relationshipField,\n        setRelationshipField,\n        personalTraits,\n        setPersonalTraits,\n        selectedType,\n        setSelectedType,\n        customCardType,\n        setCustomCardType,\n        selectedTone,\n        setSelectedTone,\n        isGenerating: cardGeneration.isGenerating || draftGeneration.isGenerating,\n        setIsGenerating: cardGeneration.setIsGenerating,\n        isGeneratingMessage: messageGeneration.isGeneratingMessage,\n        setIsGeneratingMessage: messageGeneration.setIsGeneratingMessage,\n        generatedCard: cardGeneration.generatedCard,\n        setGeneratedCard: cardGeneration.setGeneratedCard,\n        numberOfCards,\n        setNumberOfCards,\n        generatedCards: cardGeneration.generatedCards,\n        setGeneratedCards: cardGeneration.setGeneratedCards,\n        selectedCardIndex: cardGeneration.selectedCardIndex,\n        setSelectedCardIndex: cardGeneration.setSelectedCardIndex,\n        // Advanced options\n        showAdvanced,\n        setShowAdvanced,\n        selectedArtisticStyle,\n        setSelectedArtisticStyle,\n        customStyleDescription,\n        setCustomStyleDescription,\n        selectedImageModel,\n        setSelectedImageModel,\n        selectedDraftModel,\n        setSelectedDraftModel,\n        // Draft mode\n        isDraftMode: draftGeneration.isDraftMode,\n        setIsDraftMode: draftGeneration.setIsDraftMode,\n        draftCards: draftGeneration.draftCards,\n        setDraftCards: draftGeneration.setDraftCards,\n        selectedDraftIndex: draftGeneration.selectedDraftIndex,\n        setSelectedDraftIndex: draftGeneration.setSelectedDraftIndex,\n        isGeneratingFinalCard: draftGeneration.isGeneratingFinalCard,\n        setIsGeneratingFinalCard: draftGeneration.setIsGeneratingFinalCard,\n        previewingDraftIndex: draftGeneration.previewingDraftIndex,\n        setPreviewingDraftIndex: draftGeneration.setPreviewingDraftIndex,\n        draftCompletionShown: draftGeneration.draftCompletionShown,\n        setDraftCompletionShown: draftGeneration.setDraftCompletionShown,\n        draftCompletionCount: draftGeneration.draftCompletionCount,\n        setDraftCompletionCount: draftGeneration.setDraftCompletionCount,\n        // Progress tracking\n        generationProgress: draftGeneration.isGenerating ? draftGeneration.generationProgress : cardGeneration.generationProgress,\n        setGenerationProgress: cardGeneration.setGenerationProgress,\n        progressPercentage: jobManagement.progressPercentage,\n        setProgressPercentage: jobManagement.setProgressPercentage,\n        isCardCompleted: cardGeneration.isCardCompleted,\n        setIsCardCompleted: cardGeneration.setIsCardCompleted,\n        // Upload and personalization\n        referenceImages: fileHandling.referenceImages,\n        setReferenceImages: fileHandling.setReferenceImages,\n        referenceImageUrls: fileHandling.referenceImageUrls,\n        setReferenceImageUrls: fileHandling.setReferenceImageUrls,\n        isUploading: fileHandling.isUploading,\n        setIsUploading: fileHandling.setIsUploading,\n        // Email and settings\n        userEmail,\n        setUserEmail,\n        isHandwrittenMessage,\n        setIsHandwrittenMessage,\n        isFrontBackOnly,\n        setIsFrontBackOnly,\n        selectedPaperSize,\n        setSelectedPaperSize,\n        // UI state\n        isTextareaExpanded,\n        setIsTextareaExpanded,\n        isMessageExpanded,\n        setIsMessageExpanded,\n        showSettings,\n        setShowSettings,\n        showTemplateGallery,\n        setShowTemplateGallery,\n        showPrintConfirmation,\n        setShowPrintConfirmation,\n        // Generation time\n        generationDuration: cardGeneration.generationDuration,\n        setGenerationDuration: cardGeneration.setGenerationDuration,\n        currentElapsedTime: jobManagement.currentElapsedTime,\n        // Helper functions\n        formatGenerationTime: _cardStudio_constants__WEBPACK_IMPORTED_MODULE_8__.formatGenerationTime,\n        formatCountdown: _cardStudio_constants__WEBPACK_IMPORTED_MODULE_8__.formatCountdown,\n        sendThankYouEmail: _cardStudio_utils__WEBPACK_IMPORTED_MODULE_9__.sendThankYouEmail,\n        chatWithAI: _cardStudio_utils__WEBPACK_IMPORTED_MODULE_9__.chatWithAI,\n        scrollToCardPreview: _cardStudio_utils__WEBPACK_IMPORTED_MODULE_9__.scrollToCardPreview,\n        // Time tracking functions\n        startElapsedTimeTracking: jobManagement.startElapsedTimeTracking,\n        stopElapsedTimeTracking: jobManagement.stopElapsedTimeTracking,\n        // File handling functions\n        handleFileUpload: fileHandling.handleFileUpload,\n        handleRemoveReferenceImage: fileHandling.handleRemoveReferenceImage,\n        // Simplified photo references\n        photoReferences: fileHandling.photoReferences,\n        setPhotoReferences: fileHandling.setPhotoReferences,\n        updatePhotoDescription: fileHandling.updatePhotoDescription,\n        // Message functions\n        handleGetMessageHelp: messageGeneration.handleGetMessageHelp,\n        addMessageToHistory: messageGeneration.addMessageToHistory,\n        undoMessage: messageGeneration.undoMessage,\n        redoMessage: messageGeneration.redoMessage,\n        // Job management\n        saveJobToStorage: jobManagement.saveJobToStorage,\n        removeJobFromStorage: jobManagement.removeJobFromStorage,\n        checkPendingJobs,\n        isRestoringJobs,\n        // Main generation functions\n        handleGenerateDraftCards: draftGeneration.handleGenerateDraftCards,\n        handleGenerateFinalFromDraft: draftGeneration.handleGenerateFinalFromDraft,\n        // Additional state for message refinement\n        messageHistory: messageGeneration.messageHistory,\n        setMessageHistory: messageGeneration.setMessageHistory,\n        currentMessageIndex: messageGeneration.currentMessageIndex,\n        setCurrentMessageIndex: messageGeneration.setCurrentMessageIndex,\n        refinementPrompt: messageGeneration.refinementPrompt,\n        setRefinementPrompt: messageGeneration.setRefinementPrompt,\n        isRefiningMessage: messageGeneration.isRefiningMessage,\n        setIsRefiningMessage: messageGeneration.setIsRefiningMessage,\n        showRefinementBox: messageGeneration.showRefinementBox,\n        setShowRefinementBox: messageGeneration.setShowRefinementBox,\n        // Template state\n        showTemplateCustomization,\n        setShowTemplateCustomization,\n        selectedTemplate,\n        setSelectedTemplate,\n        templateCustomizations,\n        setTemplateCustomizations,\n        templateSearchQuery,\n        setTemplateSearchQuery,\n        isSearchingTemplates,\n        setIsSearchingTemplates,\n        aiFilteredCards,\n        setAiFilteredCards,\n        searchMode,\n        setSearchMode,\n        textFilteredCards,\n        setTextFilteredCards,\n        showPrompts,\n        setShowPrompts,\n        // Print state\n        printOption,\n        setPrintOption,\n        // Additional draft mode state\n        handwritingSample: fileHandling.handwritingSample,\n        setHandwritingSample: fileHandling.setHandwritingSample,\n        handwritingSampleUrl: fileHandling.handwritingSampleUrl,\n        setHandwritingSampleUrl: fileHandling.setHandwritingSampleUrl,\n        // Job tracking\n        currentJobId: jobManagement.currentJobId,\n        setCurrentJobId: jobManagement.setCurrentJobId,\n        countdown,\n        setCountdown,\n        countdownInterval,\n        setCountdownInterval,\n        // Section loading states\n        sectionLoadingStates,\n        setSectionLoadingStates,\n        // Fast preview mode\n        fastPreviewMode,\n        setFastPreviewMode,\n        // Additional tracking\n        currentCardId: cardGeneration.currentCardId,\n        setCurrentCardId: cardGeneration.setCurrentCardId,\n        isInitialLoadComplete,\n        setIsInitialLoadComplete,\n        // Elapsed time tracking\n        generationStartTime: jobManagement.generationStartTime,\n        // Constants for UI\n        cardTones: _cardStudio_constants__WEBPACK_IMPORTED_MODULE_8__.cardTones,\n        artisticStyles: _cardStudio_constants__WEBPACK_IMPORTED_MODULE_8__.artisticStyles,\n        paperSizes: _cardStudio_constants__WEBPACK_IMPORTED_MODULE_8__.paperSizes,\n        // WebSocket functions and state\n        isSocketConnected: webSocket.isSocketConnected,\n        connectWebSocket: webSocket.connectWebSocket,\n        disconnectWebSocket: webSocket.disconnectWebSocket,\n        subscribeToJob: webSocket.subscribeToJob,\n        unsubscribeFromJob: webSocket.unsubscribeFromJob,\n        unsubscribeFromAllJobs: webSocket.unsubscribeFromAllJobs,\n        handleJobUpdate,\n        handleFinalCardCompletion: cardGeneration.handleFinalCardCompletion\n    };\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2hvb2tzL3VzZUNhcmRTdHVkaW9SZWZhY3RvcmVkLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7bUVBRWlFO0FBQ2xDO0FBRy9CLHVCQUF1QjtBQUNrQztBQUNrQjtBQUNGO0FBQ1Y7QUFDTTtBQUNGO0FBRW5FLDZCQUE2QjtBQVFHO0FBQ3dEO0FBQ3pDO0FBRXhDLFNBQVNvQjtJQUNkLGtCQUFrQjtJQUNsQixNQUFNLENBQUNDLFFBQVFDLFVBQVUsR0FBR3RCLCtDQUFRQSxDQUFDO0lBQ3JDLE1BQU0sQ0FBQ3VCLFNBQVNDLFdBQVcsR0FBR3hCLCtDQUFRQSxDQUFDO0lBQ3ZDLE1BQU0sQ0FBQ3lCLFdBQVdDLGFBQWEsR0FBRzFCLCtDQUFRQSxDQUFDO0lBQzNDLE1BQU0sQ0FBQzJCLG1CQUFtQkMscUJBQXFCLEdBQUc1QiwrQ0FBUUEsQ0FBQztJQUMzRCxNQUFNLENBQUM2QixnQkFBZ0JDLGtCQUFrQixHQUFHOUIsK0NBQVFBLENBQUM7SUFDckQsTUFBTSxDQUFDK0IsY0FBY0MsZ0JBQWdCLEdBQUdoQywrQ0FBUUEsQ0FBUztJQUN6RCxNQUFNLENBQUNpQyxnQkFBZ0JDLGtCQUFrQixHQUFHbEMsK0NBQVFBLENBQVM7SUFDN0QsTUFBTSxDQUFDbUMsY0FBY0MsZ0JBQWdCLEdBQUdwQywrQ0FBUUEsQ0FBUztJQUV6RCx5QkFBeUI7SUFDekIsTUFBTSxDQUFDcUMsY0FBY0MsZ0JBQWdCLEdBQUd0QywrQ0FBUUEsQ0FBQztJQUNqRCxNQUFNLENBQUN1Qyx1QkFBdUJDLHlCQUF5QixHQUFHeEMsK0NBQVFBLENBQVM7SUFDM0UsTUFBTSxDQUFDeUMsd0JBQXdCQywwQkFBMEIsR0FBRzFDLCtDQUFRQSxDQUFTO0lBQzdFLE1BQU0sQ0FBQzJDLG9CQUFvQkMsc0JBQXNCLEdBQUc1QywrQ0FBUUEsQ0FBUztJQUNyRSxNQUFNLENBQUM2QyxvQkFBb0JDLHNCQUFzQixHQUFHOUMsK0NBQVFBLENBQVM7SUFDckUsTUFBTSxDQUFDK0MsaUJBQWlCQyxtQkFBbUIsR0FBR2hELCtDQUFRQSxDQUFVO0lBRWhFLGNBQWM7SUFDZCxNQUFNLENBQUNpRCxXQUFXQyxhQUFhLEdBQUdsRCwrQ0FBUUEsQ0FBUztJQUVuRCxlQUFlO0lBQ2YsTUFBTSxDQUFDbUQsZUFBZUMsaUJBQWlCLEdBQUdwRCwrQ0FBUUEsQ0FBUztJQUMzRCxNQUFNLENBQUNxRCxzQkFBc0JDLHdCQUF3QixHQUFHdEQsK0NBQVFBLENBQUM7SUFDakUsTUFBTSxDQUFDdUQsaUJBQWlCQyxtQkFBbUIsR0FBR3hELCtDQUFRQSxDQUFDO0lBQ3ZELE1BQU0sQ0FBQ3lELG1CQUFtQkMscUJBQXFCLEdBQUcxRCwrQ0FBUUEsQ0FBUztJQUVuRSxXQUFXO0lBQ1gsTUFBTSxDQUFDMkQsb0JBQW9CQyxzQkFBc0IsR0FBRzVELCtDQUFRQSxDQUFDO0lBQzdELE1BQU0sQ0FBQzZELG1CQUFtQkMscUJBQXFCLEdBQUc5RCwrQ0FBUUEsQ0FBQztJQUMzRCxNQUFNLENBQUMrRCxjQUFjQyxnQkFBZ0IsR0FBR2hFLCtDQUFRQSxDQUFDO0lBQ2pELE1BQU0sQ0FBQ2lFLHFCQUFxQkMsdUJBQXVCLEdBQUdsRSwrQ0FBUUEsQ0FBQztJQUMvRCxNQUFNLENBQUNtRSx1QkFBdUJDLHlCQUF5QixHQUFHcEUsK0NBQVFBLENBQUM7SUFDbkUsTUFBTSxDQUFDcUUsMkJBQTJCQyw2QkFBNkIsR0FBR3RFLCtDQUFRQSxDQUFDO0lBRTNFLG9CQUFvQjtJQUNwQixNQUFNLENBQUN1RSxpQkFBaUJDLG1CQUFtQixHQUFHeEUsK0NBQVFBLENBQUM7SUFDdkQsTUFBTSxDQUFDeUUsa0JBQWtCQyxvQkFBb0IsR0FBRzFFLCtDQUFRQSxDQUF1QjtJQUMvRSxNQUFNLENBQUMyRSx1QkFBdUJDLHlCQUF5QixHQUFHNUUsK0NBQVFBLENBQUM7SUFFbkUsaUJBQWlCO0lBQ2pCLE1BQU0sQ0FBQzZFLHFCQUFxQkMsdUJBQXVCLEdBQUc5RSwrQ0FBUUEsQ0FBQztJQUMvRCxNQUFNLENBQUMrRSxzQkFBc0JDLHdCQUF3QixHQUFHaEYsK0NBQVFBLENBQUM7SUFDakUsTUFBTSxDQUFDaUYsaUJBQWlCQyxtQkFBbUIsR0FBR2xGLCtDQUFRQSxDQUFRLEVBQUU7SUFDaEUsTUFBTSxDQUFDbUYsWUFBWUMsY0FBYyxHQUFHcEYsK0NBQVFBLENBQTJCO0lBQ3ZFLE1BQU0sQ0FBQ3FGLG1CQUFtQkMscUJBQXFCLEdBQUd0RiwrQ0FBUUEsQ0FBUSxFQUFFO0lBQ3BFLE1BQU0sQ0FBQ3VGLGFBQWFDLGVBQWUsR0FBR3hGLCtDQUFRQSxDQUFDO0lBQy9DLE1BQU0sQ0FBQ3lGLGFBQWFDLGVBQWUsR0FBRzFGLCtDQUFRQSxDQUF1QjtJQUVyRSwrQkFBK0I7SUFDL0IsTUFBTSxDQUFDMkYsd0JBQXdCQywwQkFBMEIsR0FBRzVGLCtDQUFRQSxDQUFDO1FBQ25FNkYsZUFBZTtRQUNmQyxnQkFBZ0I7UUFDaEJDLG1CQUFtQjtRQUNuQkMsb0JBQW9CO1FBQ3BCQyxvQkFBb0IsRUFBRTtRQUN0QkMsOEJBQThCO0lBQ2hDO0lBRUEseUJBQXlCO0lBQ3pCLE1BQU0sQ0FBQ0Msc0JBQXNCQyx3QkFBd0IsR0FBR3BHLCtDQUFRQSxDQUs3RDtRQUNEcUcsWUFBWTtRQUNaQyxXQUFXO1FBQ1hDLGNBQWM7UUFDZEMsZUFBZTtJQUNqQjtJQUVBLGtCQUFrQjtJQUNsQixNQUFNLENBQUNDLFdBQVdDLGFBQWEsR0FBRzFHLCtDQUFRQSxDQUFTO0lBQ25ELE1BQU0sQ0FBQzJHLG1CQUFtQkMscUJBQXFCLEdBQUc1RywrQ0FBUUEsQ0FBd0I7SUFFbEYsb0JBQW9CO0lBQ3BCLE1BQU02RyxZQUFZeEcsc0VBQVlBO0lBQzlCLE1BQU15RyxnQkFBZ0J4Ryx3RkFBZ0JBO0lBQ3RDLE1BQU15RyxlQUFldkcsNEVBQWVBO0lBQ3BDLE1BQU13RyxvQkFBb0J6RyxzRkFBb0JBLENBQzVDd0IsY0FDQUUsZ0JBQ0FFLGNBQ0FkLFFBQ0FFLFNBQ0FFLFdBQ0FFLG1CQUNBb0YsYUFBYUUsZUFBZTtJQUc5Qix5QkFBeUI7SUFDekIsTUFBTUMsdUJBQXVCO1FBQzNCbkY7UUFDQUU7UUFDQUU7UUFDQUk7UUFDQUU7UUFDQUk7UUFDQUY7UUFDQWM7UUFDQXBDO1FBQ0FRO1FBQ0FOO1FBQ0FFO1FBQ0F3QjtRQUNBa0Usa0JBQWtCSCxrQkFBa0JHLGdCQUFnQjtRQUNwRDlEO1FBQ0FFO1FBQ0EwQyxvQkFBb0JjLGFBQWFkLGtCQUFrQjtRQUNuRGdCLGlCQUFpQkYsYUFBYUUsZUFBZTtRQUM3Q3RGO1FBQ0F5RixrQkFBa0JOLGNBQWNNLGdCQUFnQjtRQUNoREMsZ0JBQWdCUixVQUFVUSxjQUFjO1FBQ3hDQyx3QkFBd0JULFVBQVVTLHNCQUFzQjtRQUN4REMsMEJBQTBCVCxjQUFjUyx3QkFBd0I7UUFDaEVDLHlCQUF5QlYsY0FBY1UsdUJBQXVCO1FBQzlEQyx1QkFBdUJYLGNBQWNXLHFCQUFxQjtJQUM1RDtJQUVBLE1BQU1DLGtCQUFrQmpILGtGQUFrQkEsQ0FBQ3lHO0lBRTNDLHdCQUF3QjtJQUN4QixNQUFNUyxzQkFBc0I7UUFDMUI1RjtRQUNBRTtRQUNBRTtRQUNBSTtRQUNBRTtRQUNBRTtRQUNBYztRQUNBcEM7UUFDQVE7UUFDQU47UUFDQUU7UUFDQXdCO1FBQ0FrRSxrQkFBa0JILGtCQUFrQkcsZ0JBQWdCO1FBQ3BEOUQ7UUFDQUU7UUFDQTBDLG9CQUFvQmMsYUFBYWQsa0JBQWtCO1FBQ25EZ0IsaUJBQWlCRixhQUFhRSxlQUFlO1FBQzdDdEY7UUFDQXdCO1FBQ0FpRSxrQkFBa0JOLGNBQWNNLGdCQUFnQjtRQUNoRFEsc0JBQXNCZCxjQUFjYyxvQkFBb0I7UUFDeERQLGdCQUFnQlIsVUFBVVEsY0FBYztRQUN4Q0UsMEJBQTBCVCxjQUFjUyx3QkFBd0I7UUFDaEVDLHlCQUF5QlYsY0FBY1UsdUJBQXVCO1FBQzlESyxpQkFBaUJmLGNBQWNlLGVBQWU7UUFDOUNDLGdCQUFnQkosZ0JBQWdCSSxjQUFjO1FBQzlDQyxlQUFlTCxnQkFBZ0JLLGFBQWE7UUFDNUNDLHVCQUF1Qk4sZ0JBQWdCTSxxQkFBcUI7UUFDNURDLDBCQUEwQlAsZ0JBQWdCTyx3QkFBd0I7UUFDbEVDLHlCQUF5QlIsZ0JBQWdCUSx1QkFBdUI7UUFDaEVDLHlCQUF5QlQsZ0JBQWdCUyx1QkFBdUI7UUFDaEVDLHlCQUF5QlYsZ0JBQWdCVSx1QkFBdUI7SUFDbEU7SUFFQSxNQUFNQyxpQkFBaUIzSCxnRkFBaUJBLENBQUNpSDtJQUV6QyxvQ0FBb0M7SUFDcEMsTUFBTVcsa0JBQWtCcEksa0RBQVdBLENBQUMsQ0FBQ3FJO1FBQ25DLE1BQU0sRUFBRUMsTUFBTSxFQUFFQyxNQUFNLEVBQUVDLFFBQVEsRUFBRUMsUUFBUSxFQUFFQyxLQUFLLEVBQUVDLFdBQVcsRUFBRSxHQUFHTjtRQUVuRSxJQUFJLENBQUNDLFFBQVE7UUFFYiwrREFBK0Q7UUFDL0QsSUFBSWpFLGlCQUFpQjtZQUNuQnVFLFFBQVFDLEdBQUcsQ0FBQyw2Q0FBNkNQO1lBQ3pEO1FBQ0Y7UUFFQSwrQkFBK0I7UUFDL0IsTUFBTVEsYUFBYVIsT0FBT1MsVUFBVSxDQUFDO1FBQ3JDLE1BQU1DLGFBQWFGLGFBQWFHLFNBQVNYLE9BQU9ZLEtBQUssQ0FBQyxJQUFJLENBQUMsRUFBRSxJQUFJLENBQUM7UUFFbEUseUNBQXlDO1FBQ3pDLGtEQUFrRDtRQUNsRCxzREFBc0Q7UUFDdEQsTUFBTUMsZ0JBQWdCM0IsZ0JBQWdCNEIsV0FBVztRQUNqRCxJQUFJRCxpQkFBaUIsQ0FBQ0wsWUFBWTtZQUNoQ0YsUUFBUUMsR0FBRyxDQUFDLDZEQUFtRFA7WUFDL0Q7UUFDRjtRQUNBLElBQUksQ0FBQ2EsaUJBQWlCTCxZQUFZO1lBQ2hDRixRQUFRQyxHQUFHLENBQUMseURBQStDUDtZQUMzRDtRQUNGO1FBRUFNLFFBQVFDLEdBQUcsQ0FBQyx1Q0FBNkI7WUFBRVA7WUFBUUM7WUFBUU87WUFBWUU7WUFBWVI7UUFBUztRQUU1Riw0QkFBNEI7UUFDNUIsSUFBSUQsV0FBVyxnQkFBZ0IsQ0FBQ0osZUFBZWtCLFlBQVksSUFBSSxDQUFDN0IsZ0JBQWdCNkIsWUFBWSxFQUFFO1lBQzVGVCxRQUFRQyxHQUFHLENBQUM7WUFDWixJQUFJQyxZQUFZO2dCQUNkdEIsZ0JBQWdCOEIsZUFBZSxDQUFDO2dCQUNoQzlCLGdCQUFnQkksY0FBYyxDQUFDO2dCQUMvQmhCLGNBQWNTLHdCQUF3QixDQUFDO1lBQ3pDLE9BQU87Z0JBQ0xjLGVBQWVtQixlQUFlLENBQUM7Z0JBQy9CMUMsY0FBY1Msd0JBQXdCLENBQUM7WUFDekM7UUFDRjtRQUVBLDhCQUE4QjtRQUM5QixJQUFJbUIsVUFBVTtZQUNaLHVGQUF1RjtZQUN2Rix3RUFBd0U7WUFDeEUsSUFBSUEsU0FBU2UsUUFBUSxDQUFDLDJCQUEyQmhCLFdBQVcsZUFBZSxDQUFDTyxZQUFZO2dCQUN0RkYsUUFBUUMsR0FBRyxDQUFDO1lBQ1osc0ZBQXNGO1lBQ3hGLE9BQU87Z0JBQ0xWLGVBQWVxQixxQkFBcUIsQ0FBQ2hCO2dCQUNyQ2hCLGdCQUFnQmdDLHFCQUFxQixDQUFDaEI7Z0JBQ3RDSSxRQUFRQyxHQUFHLENBQUMsa0NBQWlDLE9BQVRMO1lBQ3RDO1FBQ0Y7UUFFQSxJQUFJRCxXQUFXLGVBQWVFLFVBQVU7WUFDdENHLFFBQVFDLEdBQUcsQ0FBQywwQ0FBZ0NKLFVBQVUsZUFBZUs7WUFFckUsMERBQTBEO1lBQzFELE1BQU1XLHFCQUFxQjtnQkFDekIsR0FBR2hCLFFBQVE7Z0JBQ1hwQyxjQUFjb0MsU0FBU3BDLFlBQVksSUFBSW9DLFNBQVNpQixRQUFRLElBQUlqQixTQUFTa0IsYUFBYSxJQUFJbEIsU0FBU21CLFNBQVM7Z0JBQ3hHdEQsZUFBZW1DLFNBQVNuQyxhQUFhLElBQUltQyxTQUFTb0IsU0FBUyxJQUFJcEIsU0FBU3FCLGNBQWMsSUFBSXJCLFNBQVNzQixVQUFVO2dCQUM3RzVELFlBQVlzQyxTQUFTdEMsVUFBVSxJQUFJc0MsU0FBU3VCLFdBQVcsSUFBSXZCLFNBQVN3QixLQUFLO2dCQUN6RTdELFdBQVdxQyxTQUFTckMsU0FBUyxJQUFJcUMsU0FBU3lCLFVBQVUsSUFBSXpCLFNBQVMwQixJQUFJO2dCQUNyRSxrREFBa0Q7Z0JBQ2xEVCxVQUFVakIsU0FBU2lCLFFBQVEsSUFBSWpCLFNBQVNwQyxZQUFZLElBQUlvQyxTQUFTbUIsU0FBUyxJQUFJbkIsU0FBU2tCLGFBQWE7Z0JBQ3BHRSxXQUFXcEIsU0FBU29CLFNBQVMsSUFBSXBCLFNBQVNuQyxhQUFhLElBQUltQyxTQUFTc0IsVUFBVSxJQUFJdEIsU0FBU3FCLGNBQWM7WUFDM0c7WUFFQSx3RUFBd0U7WUFDeEUsTUFBTU0sb0JBQW9CWCxtQkFBbUJ0RCxVQUFVLElBQ3BEMkMsQ0FBQUEsY0FBZVcsbUJBQW1CckQsU0FBUyxJQUFJcUQsbUJBQW1CcEQsWUFBWSxJQUFJb0QsbUJBQW1CbkQsYUFBYTtZQUVySCxJQUFJLENBQUM4RCxtQkFBbUI7Z0JBQ3RCeEIsUUFBUXlCLElBQUksQ0FBQyx5Q0FBeUM7b0JBQ3BEbEUsWUFBWSxDQUFDLENBQUNzRCxtQkFBbUJ0RCxVQUFVO29CQUMzQ0MsV0FBVyxDQUFDLENBQUNxRCxtQkFBbUJyRCxTQUFTO29CQUN6Q0MsY0FBYyxDQUFDLENBQUNvRCxtQkFBbUJwRCxZQUFZO29CQUMvQ0MsZUFBZSxDQUFDLENBQUNtRCxtQkFBbUJuRCxhQUFhO2dCQUNuRDtZQUNGO1lBRUEsMEZBQTBGO1lBQzFGLElBQUl3QyxjQUFjLENBQUN0QixnQkFBZ0I2QixZQUFZLElBQUk3QixnQkFBZ0I4QyxVQUFVLENBQUNDLE1BQU0sQ0FBQ0MsU0FBU0MsTUFBTSxLQUFLLEdBQUc7Z0JBQzFHN0IsUUFBUUMsR0FBRyxDQUFDO1lBQ1osb0VBQW9FO1lBQ3RFO1lBRUEsSUFBSUMsY0FBY0UsY0FBYyxHQUFHO29CQThCakJQLDRCQUNEQSw2QkFDR0EsNkJBQ0NBO2dCQWhDbkIsK0JBQStCO2dCQUMvQkcsUUFBUUMsR0FBRyxDQUFDLGdDQUFxQyxPQUFmRyxhQUFhLEdBQUU7Z0JBRWpELHNDQUFzQztnQkFDdEMsSUFBSTBCLFlBQW1FQztnQkFDdkUsSUFBSXRJLDBCQUEwQixrQkFBa0I7b0JBQzlDLE1BQU11SSxtQkFBbUI7d0JBQ3ZCO3dCQUFjO3dCQUFhO3dCQUFjO3dCQUFrQjtxQkFDNUQ7b0JBQ0QsTUFBTUMsY0FBYzt3QkFDbEI7d0JBQWlCO3dCQUFnQjt3QkFBaUI7d0JBQXFCO3FCQUN4RTtvQkFDRCxJQUFJN0IsY0FBYyxLQUFLQSxhQUFhNEIsaUJBQWlCSCxNQUFNLEVBQUU7d0JBQzNEQyxZQUFZOzRCQUNWSSxXQUFXRixnQkFBZ0IsQ0FBQzVCLFdBQVc7NEJBQ3ZDK0IsWUFBWUYsV0FBVyxDQUFDN0IsV0FBVzt3QkFDckM7b0JBQ0Y7Z0JBQ0Y7Z0JBRUEsTUFBTWdDLFlBQTJCO29CQUMvQkMsSUFBSSxTQUEyQkMsT0FBbEJsQyxhQUFhLEdBQUUsS0FBYyxPQUFYa0MsS0FBS0MsR0FBRztvQkFDdkNoSyxRQUFRc0ksbUJBQW1CdEksTUFBTSxJQUFJLG1CQUFrQyxPQUFmNkgsYUFBYTtvQkFDckU3QyxZQUFZc0QsbUJBQW1CdEQsVUFBVSxJQUFJO29CQUM3Q0MsV0FBV3FELG1CQUFtQnJELFNBQVMsSUFBSTtvQkFDM0NzRCxVQUFVRCxtQkFBbUJwRCxZQUFZLElBQUk7b0JBQzdDd0QsV0FBV0osbUJBQW1CbkQsYUFBYSxJQUFJO29CQUMvQzhFLFdBQVcsSUFBSUY7b0JBQ2ZHLGtCQUFrQjVCLG1CQUFtQjRCLGdCQUFnQixJQUFJO3dCQUN2RGxGLFlBQVlzQyxFQUFBQSw2QkFBQUEsU0FBUzRDLGdCQUFnQixjQUF6QjVDLGlEQUFBQSwyQkFBMkJ0QyxVQUFVLEtBQUk7d0JBQ3JEQyxXQUFXcUMsRUFBQUEsOEJBQUFBLFNBQVM0QyxnQkFBZ0IsY0FBekI1QyxrREFBQUEsNEJBQTJCckMsU0FBUyxLQUFJO3dCQUNuREMsY0FBY29DLEVBQUFBLDhCQUFBQSxTQUFTNEMsZ0JBQWdCLGNBQXpCNUMsa0RBQUFBLDRCQUEyQnBDLFlBQVksS0FBSTt3QkFDekRDLGVBQWVtQyxFQUFBQSw4QkFBQUEsU0FBUzRDLGdCQUFnQixjQUF6QjVDLGtEQUFBQSw0QkFBMkJuQyxhQUFhLEtBQUk7b0JBQzdEO29CQUNBb0UsV0FBV0E7Z0JBQ2I7Z0JBRUEsd0RBQXdEO2dCQUN4RGxELGdCQUFnQkssYUFBYSxDQUFDeUQsQ0FBQUE7b0JBQzVCLE1BQU1DLFVBQVU7MkJBQUlEO3FCQUFLO29CQUN6QiwyQkFBMkI7b0JBQzNCLE1BQU9DLFFBQVFkLE1BQU0sR0FBRyxFQUFHO3dCQUN6QmMsUUFBUUMsSUFBSSxDQUFDO29CQUNmO29CQUNBLG1DQUFtQztvQkFDbkNELE9BQU8sQ0FBQ3ZDLFdBQVcsR0FBR2dDO29CQUN0QnBDLFFBQVFDLEdBQUcsQ0FBQyxXQUEyREcsT0FBaERBLGFBQWEsR0FBRSxtQ0FBNEMsT0FBWEE7b0JBRXZFLG1EQUFtRDtvQkFFbkQsT0FBT3VDO2dCQUNUO2dCQUVBLG1GQUFtRjtnQkFDbkYsTUFBTUUsZ0JBQWdCO3VCQUFJakUsZ0JBQWdCOEMsVUFBVTtpQkFBQztnQkFDckRtQixhQUFhLENBQUN6QyxXQUFXLEdBQUdnQztnQkFDNUIsTUFBTVUsaUJBQWlCRCxjQUFjbEIsTUFBTSxDQUFDQyxTQUFTQyxNQUFNO2dCQUMzRDdCLFFBQVFDLEdBQUcsQ0FBQyxnQ0FBcUMsT0FBZjZDLGdCQUFlO2dCQUVqRCxrQkFBa0I7Z0JBQ2xCLE1BQU1DLGNBQWNELG1CQUFtQixJQUNuQyx3REFDQSxHQUE2Q0EsT0FBMUNBLGdCQUFlLDZCQUFpRixPQUF0REEsa0JBQWtCLElBQUksNkJBQTZCO2dCQUVwR2xFLGdCQUFnQmdDLHFCQUFxQixDQUFDbUM7Z0JBRXRDLHVFQUF1RTtnQkFDdkUscUNBQXFDO2dCQUNyQy9DLFFBQVFDLEdBQUcsQ0FBQyxzQkFBMkIsT0FBZjZDLGdCQUFlO2dCQUV2QyxvQkFBb0I7Z0JBQ3BCLElBQUlBLG1CQUFtQixHQUFHO29CQUN4QjFLLHNFQUFtQkE7Z0JBQ3JCO2dCQUVBLElBQUkwSyxtQkFBbUIsS0FBSyxDQUFDbEUsZ0JBQWdCb0UscUJBQXFCLEVBQUU7b0JBQ2xFcEUsZ0JBQWdCOEIsZUFBZSxDQUFDO29CQUNoQzFDLGNBQWNVLHVCQUF1QjtvQkFDckMsK0NBQStDO29CQUMvQ3JHLHlEQUFPQSxDQUFDNEssYUFBYTtvQkFDckJqRCxRQUFRQyxHQUFHLENBQUM7b0JBQ1ozSSx5Q0FBS0EsQ0FBQzRMLE9BQU8sQ0FBQztnQkFDaEI7Z0JBRUEsaURBQWlEO2dCQUNqRCxrQ0FBa0M7Z0JBQ2xDbkYsVUFBVW9GLGtCQUFrQixDQUFDekQ7Z0JBQzdCTSxRQUFRQyxHQUFHLENBQUMsdUJBQThCLE9BQVBQLFFBQU87WUFDNUMsT0FBTztnQkFDTCwrQkFBK0I7Z0JBQy9CTSxRQUFRQyxHQUFHLENBQUMscUVBQTJEO29CQUNyRW1ELGFBQWEsQ0FBQyxDQUFDdkQ7b0JBQ2Z3RCxjQUFjQyxPQUFPQyxJQUFJLENBQUMxRCxZQUFZLENBQUM7b0JBQ3ZDdEMsWUFBWXNDLENBQUFBLHFCQUFBQSwrQkFBQUEsU0FBVXRDLFVBQVUsSUFBRyxZQUFZO29CQUMvQ0MsV0FBV3FDLENBQUFBLHFCQUFBQSwrQkFBQUEsU0FBVXJDLFNBQVMsSUFBRyxZQUFZO29CQUM3Q0MsY0FBY29DLENBQUFBLHFCQUFBQSwrQkFBQUEsU0FBVXBDLFlBQVksSUFBRyxZQUFZO29CQUNuREMsZUFBZW1DLENBQUFBLHFCQUFBQSwrQkFBQUEsU0FBVW5DLGFBQWEsSUFBRyxZQUFZO29CQUNyRG9ELFVBQVVqQixDQUFBQSxxQkFBQUEsK0JBQUFBLFNBQVVpQixRQUFRLElBQUcsWUFBWTtvQkFDM0NHLFdBQVdwQixDQUFBQSxxQkFBQUEsK0JBQUFBLFNBQVVvQixTQUFTLElBQUcsWUFBWTtnQkFDL0M7Z0JBQ0FqQixRQUFRQyxHQUFHLENBQUMsZ0NBQXNCdUQsS0FBS0MsU0FBUyxDQUFDNUMsb0JBQW9CLE1BQU07Z0JBRTNFLHVDQUF1QztnQkFDdkMsTUFBTTZDLGlCQUFpQjdDO2dCQUV2QmIsUUFBUUMsR0FBRyxDQUFDLG1EQUF5QztvQkFDbkQxQyxZQUFZbUcsZUFBZW5HLFVBQVUsR0FBRyxZQUFZO29CQUNwREMsV0FBV2tHLGVBQWVsRyxTQUFTLEdBQUcsWUFBWTtvQkFDbERDLGNBQWNpRyxlQUFlakcsWUFBWSxHQUFHLFlBQVk7b0JBQ3hEQyxlQUFlZ0csZUFBZWhHLGFBQWEsR0FBRyxZQUFZO29CQUMxRGlHLHNCQUFzQm5DO2dCQUN4QjtnQkFFQSx5REFBeUQ7Z0JBQ3pELElBQUlBLG1CQUFtQjtvQkFDckIsOEJBQThCO29CQUM5QnhCLFFBQVFDLEdBQUcsQ0FBQztvQkFDWlYsZUFBZXFFLHlCQUF5QixDQUFDRjtnQkFDM0MsT0FBTztvQkFDTDFELFFBQVFGLEtBQUssQ0FBQztvQkFDZHhJLHlDQUFLQSxDQUFDd0ksS0FBSyxDQUFDO29CQUNaLGdDQUFnQztvQkFDaENQLGVBQWVtQixlQUFlLENBQUM7b0JBQy9COUIsZ0JBQWdCTyx3QkFBd0IsQ0FBQztvQkFDekNuQixjQUFjVSx1QkFBdUI7b0JBQ3JDVixjQUFjNEMscUJBQXFCLENBQUM7Z0JBQ3RDO2dCQUVBLGlFQUFpRTtnQkFFakUsOERBQThEO2dCQUM5RCxJQUFJLENBQUNuRixpQkFBaUI7b0JBQ3BCdUMsY0FBY2Msb0JBQW9CLENBQUNZO2dCQUNyQztnQkFDQTFCLGNBQWNlLGVBQWUsQ0FBQztnQkFDOUJoQixVQUFVb0Ysa0JBQWtCLENBQUN6RDtZQUMvQjtRQUNGLE9BQU8sSUFBSUMsV0FBVyxVQUFVO1lBQzlCSyxRQUFRRixLQUFLLENBQUMsaUJBQWlCQTtZQUUvQixJQUFJSSxjQUFjRSxjQUFjLEdBQUc7Z0JBQ2pDOUkseUNBQUtBLENBQUN3SSxLQUFLLENBQUMsbUJBQWtDLE9BQWZNLGFBQWEsR0FBRTtZQUNoRCxPQUFPO2dCQUNMOUkseUNBQUtBLENBQUN3SSxLQUFLLENBQUM7Z0JBQ1pQLGVBQWVtQixlQUFlLENBQUM7Z0JBQy9COUIsZ0JBQWdCTyx3QkFBd0IsQ0FBQztnQkFDekNuQixjQUFjVSx1QkFBdUI7Z0JBQ3JDYSxlQUFlcUIscUJBQXFCLENBQUM7Z0JBQ3JDLDBEQUEwRDtnQkFDMUQsMENBQTBDO2dCQUMxQzVDLGNBQWNlLGVBQWUsQ0FBQztnQkFDOUJoQixVQUFVb0Ysa0JBQWtCLENBQUN6RDtZQUMvQjtZQUVBLDhEQUE4RDtZQUM5RCxJQUFJLENBQUNqRSxpQkFBaUI7Z0JBQ3BCdUMsY0FBY2Msb0JBQW9CLENBQUNZO1lBQ3JDO1FBQ0YsT0FBTyxJQUFJQyxXQUFXLGFBQWE7WUFDakNLLFFBQVF5QixJQUFJLENBQUMsNERBQTREL0I7WUFFekUsK0JBQStCO1lBQy9CLElBQUkzQixVQUFVOEYsYUFBYSxDQUFDQyxPQUFPLEtBQUtwRSxRQUFRO2dCQUM5QzNCLFVBQVU4RixhQUFhLENBQUNDLE9BQU8sR0FBRztZQUNwQztZQUVBLDZDQUE2QztZQUM3QyxJQUFJOUYsY0FBYytGLFlBQVksS0FBS3JFLFFBQVE7Z0JBQ3pDMUIsY0FBY2UsZUFBZSxDQUFDO2dCQUM5QlEsZUFBZW1CLGVBQWUsQ0FBQztnQkFDL0I5QixnQkFBZ0JPLHdCQUF3QixDQUFDO2dCQUN6Q0ksZUFBZXFCLHFCQUFxQixDQUFDO2dCQUNyQywwREFBMEQ7Z0JBQzFELDBDQUEwQztnQkFDMUM1QyxjQUFjVSx1QkFBdUI7WUFDdkM7WUFFQSxtQkFBbUI7WUFDbkIsOERBQThEO1lBQzlELElBQUksQ0FBQ2pELGlCQUFpQjtnQkFDcEJ1QyxjQUFjYyxvQkFBb0IsQ0FBQ1k7WUFDckM7WUFDQTNCLFVBQVVvRixrQkFBa0IsQ0FBQ3pEO1FBQy9CO0lBQ0YsR0FBRztRQUFDakc7UUFBdUJtRjtRQUFpQlc7UUFBZ0J2QjtRQUFlRDtRQUFXdEM7S0FBZ0I7SUFFdEcsc0NBQXNDO0lBQ3RDdEUsZ0RBQVNBLENBQUM7UUFDUjRHLFVBQVVpRyxtQkFBbUIsQ0FBQ3hFO0lBQ2hDLEdBQUc7UUFBQ3pCO1FBQVd5QjtLQUFnQjtJQUUvQixzREFBc0Q7SUFDdEQsTUFBTXlFLG9CQUFvQjVNLDZDQUFNQSxDQUFDO0lBRWpDLG9FQUFvRTtJQUNwRUYsZ0RBQVNBLENBQUM7UUFDUixJQUFJLENBQUM0RyxVQUFVbUcsaUJBQWlCLElBQzNCM0UsQ0FBQUEsZUFBZWtCLFlBQVksSUFBSTdCLGdCQUFnQm9FLHFCQUFxQixLQUNyRWpGLFVBQVU4RixhQUFhLENBQUNDLE9BQU8sRUFBRTtZQUVuQyxtRUFBbUU7WUFDbkUsSUFBSTlGLGNBQWNtRyxtQkFBbUIsRUFBRTtnQkFDckMsTUFBTUMsU0FBUzlCLEtBQUtDLEdBQUcsS0FBS3ZFLGNBQWNtRyxtQkFBbUI7Z0JBQzdELElBQUlDLFNBQVMsSUFBSSxLQUFLLE1BQU07b0JBQzFCLElBQUksQ0FBQ0gsa0JBQWtCSCxPQUFPLEVBQUU7d0JBQzlCOUQsUUFBUUMsR0FBRyxDQUFDO3dCQUNaZ0Usa0JBQWtCSCxPQUFPLEdBQUc7d0JBRTVCLHFCQUFxQjt3QkFDckIsTUFBTU8sUUFBUXRHLFVBQVU4RixhQUFhLENBQUNDLE9BQU87d0JBQzdDLElBQUlPLE9BQU87NEJBQ1RyRSxRQUFRQyxHQUFHLENBQUMsdUNBQTZCb0U7NEJBRXpDLHFEQUFxRDs0QkFDckQsSUFBSSxDQUFDQSxNQUFNbEUsVUFBVSxDQUFDLFdBQVc7Z0NBQy9CbkMsY0FBY2Msb0JBQW9CLENBQUN1Rjs0QkFDckM7NEJBRUEsMEJBQTBCOzRCQUMxQjlFLGVBQWVtQixlQUFlLENBQUM7NEJBQy9COUIsZ0JBQWdCTyx3QkFBd0IsQ0FBQzs0QkFDekNQLGdCQUFnQkksY0FBYyxDQUFDOzRCQUMvQkosZ0JBQWdCSyxhQUFhLENBQUMsRUFBRTs0QkFDaENMLGdCQUFnQlUsdUJBQXVCLENBQUM7NEJBQ3hDVixnQkFBZ0JTLHVCQUF1QixDQUFDOzRCQUN4Q3JCLGNBQWNlLGVBQWUsQ0FBQzs0QkFDOUJmLGNBQWM0QyxxQkFBcUIsQ0FBQzs0QkFDcEMsMERBQTBEOzRCQUNoRSwwQ0FBMEM7NEJBQ3BDNUMsY0FBY1UsdUJBQXVCOzRCQUVyQyx1QkFBdUI7NEJBQ3ZCWCxVQUFVb0Ysa0JBQWtCLENBQUNrQjs0QkFFN0IsbUJBQW1COzRCQUNuQi9NLHlDQUFLQSxDQUFDd0ksS0FBSyxDQUFDO3dCQUNkO29CQUNGO29CQUNBO2dCQUNGO1lBQ0Y7WUFFQUUsUUFBUUMsR0FBRyxDQUFDO1lBQ1osTUFBTXFFLGlCQUFpQkMsV0FBVztnQkFDaEN4RyxVQUFVeUcsZ0JBQWdCO2dCQUUxQixpREFBaUQ7Z0JBQ2pELE1BQU1ILFFBQVF0RyxVQUFVOEYsYUFBYSxDQUFDQyxPQUFPO2dCQUM3QyxJQUFJTyxPQUFPO29CQUNURSxXQUFXO3dCQUNUdkUsUUFBUUMsR0FBRyxDQUFDLHVEQUE2Q29FO3dCQUN6RHRHLFVBQVVRLGNBQWMsQ0FBQzhGO29CQUMzQixHQUFHO2dCQUNMO1lBQ0YsR0FBRztZQUVILE9BQU8sSUFBTUksYUFBYUg7UUFDNUI7SUFDRixHQUFHO1FBQUN2RztRQUFXd0IsZUFBZWtCLFlBQVk7UUFBRTdCLGdCQUFnQm9FLHFCQUFxQjtRQUFFaEYsY0FBY21HLG1CQUFtQjtLQUFDO0lBRXJILDhDQUE4QztJQUM5Q2hOLGdEQUFTQSxDQUFDO1FBQ1IsSUFBSW9JLGVBQWVrQixZQUFZLElBQUk3QixnQkFBZ0JvRSxxQkFBcUIsRUFBRTtZQUN4RWlCLGtCQUFrQkgsT0FBTyxHQUFHO1FBQzlCO0lBQ0YsR0FBRztRQUFDdkUsZUFBZWtCLFlBQVk7UUFBRTdCLGdCQUFnQm9FLHFCQUFxQjtLQUFDO0lBRXZFLGdDQUFnQztJQUNoQzdMLGdEQUFTQSxDQUFDO1FBQ1IsSUFBSSxDQUFDb0ksZUFBZWtCLFlBQVksSUFBSTdCLGdCQUFnQm9FLHFCQUFxQixLQUNyRWpGLFVBQVU4RixhQUFhLENBQUNDLE9BQU8sRUFBRTtZQUNuQyxNQUFNWSxnQkFBZ0JDLFlBQVk7Z0JBQ2hDLE1BQU1DLHNCQUFzQnRDLEtBQUtDLEdBQUcsS0FBS3hFLFVBQVU4RyxnQkFBZ0IsQ0FBQ2YsT0FBTztnQkFDM0UsTUFBTU8sUUFBUXRHLFVBQVU4RixhQUFhLENBQUNDLE9BQU87Z0JBRTdDLGlEQUFpRDtnQkFDakQsSUFBSTlGLGNBQWM4RyxrQkFBa0IsSUFBSSxNQUFNRixzQkFBc0IsTUFBTTtvQkFDeEU1RSxRQUFReUIsSUFBSSxDQUFDLHFCQUFpRXpELE9BQTVDK0csS0FBS0MsS0FBSyxDQUFDSixzQkFBb0IsT0FBTSxTQUF3QyxPQUFqQzVHLGNBQWM4RyxrQkFBa0IsRUFBQztvQkFFL0csSUFBSVQsT0FBTzt3QkFDVCxJQUFJOzRCQUNGLE1BQU1ZLFdBQVcsTUFBTUMsTUFBTSxtQkFBeUIsT0FBTmI7NEJBQ2hELElBQUlZLFNBQVNFLEVBQUUsRUFBRTtnQ0FDZixNQUFNQyxZQUFZLE1BQU1ILFNBQVNJLElBQUk7Z0NBQ3JDckYsUUFBUUMsR0FBRyxDQUFDLHlDQUErQm1GO2dDQUUzQyxJQUFJQSxVQUFVekYsTUFBTSxLQUFLLGVBQWV5RixVQUFVdkYsUUFBUSxFQUFFO29DQUMxREcsUUFBUUMsR0FBRyxDQUFDO29DQUNaVCxnQkFBZ0I7d0NBQ2RFLFFBQVEyRTt3Q0FDUjFFLFFBQVE7d0NBQ1JDLFVBQVU7d0NBQ1ZDLFVBQVV1RixVQUFVdkYsUUFBUTtvQ0FDOUI7b0NBQ0EsUUFBUSwyQkFBMkI7Z0NBQ3JDOzRCQUNGO3dCQUNGLEVBQUUsT0FBT0MsT0FBTzs0QkFDZEUsUUFBUUYsS0FBSyxDQUFDLCtCQUErQkE7d0JBQy9DO29CQUNGO2dCQUNGLE9BRUssSUFBSTlCLGNBQWM4RyxrQkFBa0IsSUFBSSxNQUFNRixzQkFBc0IsT0FBTztvQkFDOUU1RSxRQUFReUIsSUFBSSxDQUFDLHFCQUFpRXpELE9BQTVDK0csS0FBS0MsS0FBSyxDQUFDSixzQkFBb0IsT0FBTSxTQUF3QyxPQUFqQzVHLGNBQWM4RyxrQkFBa0IsRUFBQztvQkFFL0csSUFBSVQsT0FBTzt3QkFDVCxJQUFJOzRCQUNGLE1BQU1ZLFdBQVcsTUFBTUMsTUFBTSxtQkFBeUIsT0FBTmI7NEJBQ2hELElBQUlZLFNBQVNFLEVBQUUsRUFBRTtnQ0FDZixNQUFNQyxZQUFZLE1BQU1ILFNBQVNJLElBQUk7Z0NBQ3JDckYsUUFBUUMsR0FBRyxDQUFDLHlDQUErQm1GO2dDQUUzQyxJQUFJQSxVQUFVekYsTUFBTSxLQUFLLGVBQWV5RixVQUFVdkYsUUFBUSxFQUFFO29DQUMxREcsUUFBUUMsR0FBRyxDQUFDO29DQUNaVCxnQkFBZ0I7d0NBQ2RFLFFBQVEyRTt3Q0FDUjFFLFFBQVE7d0NBQ1JDLFVBQVU7d0NBQ1ZDLFVBQVV1RixVQUFVdkYsUUFBUTtvQ0FDOUI7b0NBQ0EsUUFBUSwyQkFBMkI7Z0NBQ3JDOzRCQUNGO3dCQUNGLEVBQUUsT0FBT0MsT0FBTzs0QkFDZEUsUUFBUUYsS0FBSyxDQUFDLCtCQUErQkE7d0JBQy9DO29CQUNGO2dCQUNGO2dCQUVBLDhCQUE4QjtnQkFDOUIsSUFBSThFLHNCQUFzQixPQUFPO29CQUMvQjVFLFFBQVF5QixJQUFJLENBQUM7b0JBRWIsSUFBSSxDQUFDMUQsVUFBVW1HLGlCQUFpQixFQUFFO3dCQUNoQ2xFLFFBQVFDLEdBQUcsQ0FBQzt3QkFDWmxDLFVBQVV5RyxnQkFBZ0I7b0JBQzVCLE9BQU8sSUFBSUgsT0FBTzt3QkFDaEJyRSxRQUFRQyxHQUFHLENBQUMsNERBQWtEb0U7d0JBQzlEdEcsVUFBVVEsY0FBYyxDQUFDOEY7b0JBQzNCO29CQUVBLGtCQUFrQjtvQkFDbEJ0RyxVQUFVOEcsZ0JBQWdCLENBQUNmLE9BQU8sR0FBR3hCLEtBQUtDLEdBQUc7Z0JBQy9DO1lBQ0YsR0FBRyxPQUFPLDhEQUE4RDtZQUV4RSxPQUFPLElBQU0rQyxjQUFjWjtRQUM3QjtJQUNGLEdBQUc7UUFBQ25GLGVBQWVrQixZQUFZO1FBQUU3QixnQkFBZ0JvRSxxQkFBcUI7UUFDbEVqRjtRQUFXQyxjQUFjOEcsa0JBQWtCO1FBQUV0RjtLQUFnQjtJQUVqRSx1REFBdUQ7SUFDdkQsTUFBTStGLG1CQUFtQm5PLGtEQUFXQSxDQUFDO1lBaUJYb087UUFoQnhCeEYsUUFBUUMsR0FBRyxDQUFDO1FBQ1p2RSxtQkFBbUI7UUFFbkIsZ0NBQWdDO1FBQ2hDLE1BQU04SixXQUFXbk4seURBQU9BLENBQUNvTixXQUFXO1FBRXBDLElBQUksQ0FBQ0QsVUFBVTtZQUNieEYsUUFBUUMsR0FBRyxDQUFDO1lBQ1p2RSxtQkFBbUI7WUFDbkI7UUFDRjtRQUVBc0UsUUFBUUMsR0FBRyxDQUFDLHFDQUEyQnVGO1FBRXZDLG1FQUFtRTtRQUNuRSwwREFBMEQ7UUFDMUQsTUFBTUUsbUJBQWtCRixrQkFBQUEsU0FBU25CLEtBQUssY0FBZG1CLHNDQUFBQSxnQkFBZ0JyRixVQUFVLENBQUM7UUFFbkQsSUFBSXVGLGlCQUFpQjtZQUNuQjFGLFFBQVFDLEdBQUcsQ0FBQztZQUNaLHVEQUF1RDtZQUN2RCxpREFBaUQ7WUFDakR2RSxtQkFBbUI7WUFDbkI7UUFDRjtRQUVBLHlEQUF5RDtRQUN6RHNFLFFBQVFDLEdBQUcsQ0FBQztRQUVaLDJCQUEyQjtRQUMzQmpDLGNBQWNlLGVBQWUsQ0FBQ3lHLFNBQVNuQixLQUFLO1FBQzVDOUUsZUFBZW1CLGVBQWUsQ0FBQztRQUMvQm5CLGVBQWVxQixxQkFBcUIsQ0FBQztRQUNyQzVDLGNBQWNTLHdCQUF3QixDQUFDO1FBRXZDLHNDQUFzQztRQUN0Q1YsVUFBVVEsY0FBYyxDQUFDaUgsU0FBU25CLEtBQUs7UUFDdkMzSSxtQkFBbUI7SUFDckIsR0FBRztRQUFDcUM7UUFBVzFGLHlEQUFPQTtLQUFDO0lBRXZCLHdDQUF3QztJQUN4Q2xCLGdEQUFTQSxDQUFDO1FBQ1I2SSxRQUFRQyxHQUFHLENBQUM7UUFFWixnQ0FBZ0M7UUFDaEMsTUFBTXVGLFdBQVduTix5REFBT0EsQ0FBQ29OLFdBQVc7UUFDcEN6RixRQUFRQyxHQUFHLENBQUMsK0JBQXFCdUY7UUFFakMsSUFBSUEsVUFBVTtZQUNaeEYsUUFBUUMsR0FBRyxDQUFDLDZDQUFtQ3VGLFNBQVNuQixLQUFLO1lBRTdELDREQUE0RDtZQUM1RCxNQUFNc0IsVUFBVUgsU0FBU25CLEtBQUssQ0FBQ2xFLFVBQVUsQ0FBQztZQUUxQyxJQUFJd0YsU0FBUztnQkFDWCxpREFBaUQ7Z0JBQ2pELE1BQU1DLHFCQUFxQmhILGdCQUFnQjhDLFVBQVUsQ0FBQ0MsTUFBTSxDQUFDa0UsQ0FBQUEsT0FBUUEsU0FBUyxNQUFNaEUsTUFBTSxHQUFHO2dCQUU3RixJQUFJK0Qsb0JBQW9CO29CQUN0QjVGLFFBQVFDLEdBQUcsQ0FBQztvQkFDWixxRUFBcUU7b0JBQ3JFakMsY0FBY2UsZUFBZSxDQUFDeUcsU0FBU25CLEtBQUs7b0JBQzVDekYsZ0JBQWdCSSxjQUFjLENBQUM7Z0JBQ2pDLE9BQU87b0JBQ0xnQixRQUFRQyxHQUFHLENBQUM7b0JBQ1osMkNBQTJDO29CQUMzQ2pDLGNBQWNlLGVBQWUsQ0FBQ3lHLFNBQVNuQixLQUFLO29CQUM1Q3RHLFVBQVVRLGNBQWMsQ0FBQ2lILFNBQVNuQixLQUFLO29CQUN2Q3pGLGdCQUFnQkksY0FBYyxDQUFDO29CQUMvQixnRkFBZ0Y7b0JBQ2hGLGdFQUFnRTtvQkFDaEVnQixRQUFRQyxHQUFHLENBQUM7Z0JBQ2Q7WUFDRixPQUFPO2dCQUNMLHNEQUFzRDtnQkFDdEQsSUFBSVYsZUFBZXVHLGFBQWEsSUFBSXZHLGVBQWV3RyxlQUFlLEVBQUU7b0JBQ2xFL0YsUUFBUUMsR0FBRyxDQUFDO29CQUNaakMsY0FBY2UsZUFBZSxDQUFDeUcsU0FBU25CLEtBQUs7Z0JBQzlDLE9BQU87b0JBQ0xyRSxRQUFRQyxHQUFHLENBQUM7b0JBQ1pqQyxjQUFjZSxlQUFlLENBQUN5RyxTQUFTbkIsS0FBSztvQkFDNUN0RyxVQUFVUSxjQUFjLENBQUNpSCxTQUFTbkIsS0FBSztvQkFDdkM5RSxlQUFlbUIsZUFBZSxDQUFDO29CQUMvQm5CLGVBQWVxQixxQkFBcUIsQ0FBQztvQkFDckM1QyxjQUFjUyx3QkFBd0IsQ0FBQztvQkFFdkMsNkVBQTZFO29CQUM3RSxJQUFJK0csU0FBU1EsUUFBUSxJQUFJUixTQUFTUSxRQUFRLENBQUNDLGtCQUFrQixLQUFLbEUsV0FBVzt3QkFDM0VuRCxnQkFBZ0JPLHdCQUF3QixDQUFDO3dCQUN6Q1AsZ0JBQWdCTSxxQkFBcUIsQ0FBQ3NHLFNBQVNRLFFBQVEsQ0FBQ0Msa0JBQWtCO29CQUM1RTtnQkFDRjtZQUNGO1FBQ0Y7UUFFQSxzQ0FBc0M7UUFDdEN2SyxtQkFBbUI7UUFFbkIsbURBQW1EO1FBQ25ENkksV0FBVztZQUNUN0ksbUJBQW1CO1FBQ3JCLEdBQUc7SUFDTCxHQUFHLEVBQUU7SUFFTCx1REFBdUQ7SUFDdkQsT0FBTztRQUNMLGFBQWE7UUFDYm5EO1FBQ0FDO1FBQ0E2RixrQkFBa0JILGtCQUFrQkcsZ0JBQWdCO1FBQ3BENkgscUJBQXFCaEksa0JBQWtCZ0ksbUJBQW1CO1FBQzFEek47UUFDQUM7UUFDQUM7UUFDQUM7UUFDQUM7UUFDQUM7UUFDQUM7UUFDQUM7UUFDQUM7UUFDQUM7UUFDQUM7UUFDQUM7UUFDQUM7UUFDQUM7UUFDQW1ILGNBQWNsQixlQUFla0IsWUFBWSxJQUFJN0IsZ0JBQWdCNkIsWUFBWTtRQUN6RUMsaUJBQWlCbkIsZUFBZW1CLGVBQWU7UUFDL0N5RixxQkFBcUJqSSxrQkFBa0JpSSxtQkFBbUI7UUFDMURDLHdCQUF3QmxJLGtCQUFrQmtJLHNCQUFzQjtRQUNoRU4sZUFBZXZHLGVBQWV1RyxhQUFhO1FBQzNDTyxrQkFBa0I5RyxlQUFlOEcsZ0JBQWdCO1FBQ2pEaE07UUFDQUM7UUFDQWdNLGdCQUFnQi9HLGVBQWUrRyxjQUFjO1FBQzdDQyxtQkFBbUJoSCxlQUFlZ0gsaUJBQWlCO1FBQ25EQyxtQkFBbUJqSCxlQUFlaUgsaUJBQWlCO1FBQ25EQyxzQkFBc0JsSCxlQUFla0gsb0JBQW9CO1FBRXpELG1CQUFtQjtRQUNuQmxOO1FBQ0FDO1FBQ0FDO1FBQ0FDO1FBQ0FDO1FBQ0FDO1FBQ0FDO1FBQ0FDO1FBQ0FDO1FBQ0FDO1FBRUEsYUFBYTtRQUNid0csYUFBYTVCLGdCQUFnQjRCLFdBQVc7UUFDeEN4QixnQkFBZ0JKLGdCQUFnQkksY0FBYztRQUM5QzBDLFlBQVk5QyxnQkFBZ0I4QyxVQUFVO1FBQ3RDekMsZUFBZUwsZ0JBQWdCSyxhQUFhO1FBQzVDZ0gsb0JBQW9CckgsZ0JBQWdCcUgsa0JBQWtCO1FBQ3REL0csdUJBQXVCTixnQkFBZ0JNLHFCQUFxQjtRQUM1RDhELHVCQUF1QnBFLGdCQUFnQm9FLHFCQUFxQjtRQUM1RDdELDBCQUEwQlAsZ0JBQWdCTyx3QkFBd0I7UUFDbEV1SCxzQkFBc0I5SCxnQkFBZ0I4SCxvQkFBb0I7UUFDMUR0SCx5QkFBeUJSLGdCQUFnQlEsdUJBQXVCO1FBQ2hFdUgsc0JBQXNCL0gsZ0JBQWdCK0gsb0JBQW9CO1FBQzFEdEgseUJBQXlCVCxnQkFBZ0JTLHVCQUF1QjtRQUNoRXVILHNCQUFzQmhJLGdCQUFnQmdJLG9CQUFvQjtRQUMxRHRILHlCQUF5QlYsZ0JBQWdCVSx1QkFBdUI7UUFFaEUsb0JBQW9CO1FBQ3BCdUgsb0JBQW9CakksZ0JBQWdCNkIsWUFBWSxHQUFHN0IsZ0JBQWdCaUksa0JBQWtCLEdBQUd0SCxlQUFlc0gsa0JBQWtCO1FBQ3pIakcsdUJBQXVCckIsZUFBZXFCLHFCQUFxQjtRQUMzRGtFLG9CQUFvQjlHLGNBQWM4RyxrQkFBa0I7UUFDcERuRyx1QkFBdUJYLGNBQWNXLHFCQUFxQjtRQUMxRG9ILGlCQUFpQnhHLGVBQWV3RyxlQUFlO1FBQy9DZSxvQkFBb0J2SCxlQUFldUgsa0JBQWtCO1FBRXJELDZCQUE2QjtRQUM3QkMsaUJBQWlCOUksYUFBYThJLGVBQWU7UUFDN0NDLG9CQUFvQi9JLGFBQWErSSxrQkFBa0I7UUFDbkQ3SixvQkFBb0JjLGFBQWFkLGtCQUFrQjtRQUNuRDhKLHVCQUF1QmhKLGFBQWFnSixxQkFBcUI7UUFDekRDLGFBQWFqSixhQUFhaUosV0FBVztRQUNyQ0MsZ0JBQWdCbEosYUFBYWtKLGNBQWM7UUFFM0MscUJBQXFCO1FBQ3JCaE47UUFDQUM7UUFDQUc7UUFDQUM7UUFDQUM7UUFDQUM7UUFDQUM7UUFDQUM7UUFFQSxXQUFXO1FBQ1hDO1FBQ0FDO1FBQ0FDO1FBQ0FDO1FBQ0FDO1FBQ0FDO1FBQ0FDO1FBQ0FDO1FBQ0FDO1FBQ0FDO1FBRUEsa0JBQWtCO1FBQ2xCOEwsb0JBQW9CN0gsZUFBZTZILGtCQUFrQjtRQUNyREMsdUJBQXVCOUgsZUFBZThILHFCQUFxQjtRQUMzREMsb0JBQW9CdEosY0FBY3NKLGtCQUFrQjtRQUVwRCxtQkFBbUI7UUFDbkJ0UCxvQkFBb0JBLHlFQUFBQTtRQUNwQkMsZUFBZUEsb0VBQUFBO1FBQ2ZDLGlCQUFpQkEsa0VBQUFBO1FBQ2pCQyxVQUFVQSwyREFBQUE7UUFDVkMsbUJBQW1CQSxvRUFBQUE7UUFFbkIsMEJBQTBCO1FBQzFCcUcsMEJBQTBCVCxjQUFjUyx3QkFBd0I7UUFDaEVDLHlCQUF5QlYsY0FBY1UsdUJBQXVCO1FBRTlELDBCQUEwQjtRQUMxQjZJLGtCQUFrQnRKLGFBQWFzSixnQkFBZ0I7UUFDL0NDLDRCQUE0QnZKLGFBQWF1SiwwQkFBMEI7UUFFbkUsOEJBQThCO1FBQzlCckosaUJBQWlCRixhQUFhRSxlQUFlO1FBQzdDc0osb0JBQW9CeEosYUFBYXdKLGtCQUFrQjtRQUNuREMsd0JBQXdCekosYUFBYXlKLHNCQUFzQjtRQUUzRCxvQkFBb0I7UUFDcEJDLHNCQUFzQnpKLGtCQUFrQnlKLG9CQUFvQjtRQUM1REMscUJBQXFCMUosa0JBQWtCMEosbUJBQW1CO1FBQzFEQyxhQUFhM0osa0JBQWtCMkosV0FBVztRQUMxQ0MsYUFBYTVKLGtCQUFrQjRKLFdBQVc7UUFFMUMsaUJBQWlCO1FBQ2pCeEosa0JBQWtCTixjQUFjTSxnQkFBZ0I7UUFDaERRLHNCQUFzQmQsY0FBY2Msb0JBQW9CO1FBQ3hEeUc7UUFDQTlKO1FBRUEsNEJBQTRCO1FBQzVCc00sMEJBQTBCbkosZ0JBQWdCbUosd0JBQXdCO1FBQ2xFQyw4QkFBOEJwSixnQkFBZ0JvSiw0QkFBNEI7UUFFMUUsMENBQTBDO1FBQzFDQyxnQkFBZ0IvSixrQkFBa0IrSixjQUFjO1FBQ2hEQyxtQkFBbUJoSyxrQkFBa0JnSyxpQkFBaUI7UUFDdERDLHFCQUFxQmpLLGtCQUFrQmlLLG1CQUFtQjtRQUMxREMsd0JBQXdCbEssa0JBQWtCa0ssc0JBQXNCO1FBQ2hFQyxrQkFBa0JuSyxrQkFBa0JtSyxnQkFBZ0I7UUFDcERDLHFCQUFxQnBLLGtCQUFrQm9LLG1CQUFtQjtRQUMxREMsbUJBQW1Cckssa0JBQWtCcUssaUJBQWlCO1FBQ3REQyxzQkFBc0J0SyxrQkFBa0JzSyxvQkFBb0I7UUFDNURDLG1CQUFtQnZLLGtCQUFrQnVLLGlCQUFpQjtRQUN0REMsc0JBQXNCeEssa0JBQWtCd0ssb0JBQW9CO1FBRTVELGlCQUFpQjtRQUNqQm5OO1FBQ0FDO1FBQ0FHO1FBQ0FDO1FBQ0FpQjtRQUNBQztRQUNBZjtRQUNBQztRQUNBQztRQUNBQztRQUNBQztRQUNBQztRQUNBQztRQUNBQztRQUNBQztRQUNBQztRQUNBQztRQUNBQztRQUVBLGNBQWM7UUFDZEM7UUFDQUM7UUFFQSw4QkFBOEI7UUFDOUIrTCxtQkFBbUIxSyxhQUFhMEssaUJBQWlCO1FBQ2pEQyxzQkFBc0IzSyxhQUFhMkssb0JBQW9CO1FBQ3ZEQyxzQkFBc0I1SyxhQUFhNEssb0JBQW9CO1FBQ3ZEQyx5QkFBeUI3SyxhQUFhNkssdUJBQXVCO1FBRTdELGVBQWU7UUFDZi9FLGNBQWMvRixjQUFjK0YsWUFBWTtRQUN4Q2hGLGlCQUFpQmYsY0FBY2UsZUFBZTtRQUM5Q3BCO1FBQ0FDO1FBQ0FDO1FBQ0FDO1FBRUEseUJBQXlCO1FBQ3pCVDtRQUNBQztRQUVBLG9CQUFvQjtRQUNwQnJEO1FBQ0FDO1FBRUEsc0JBQXNCO1FBQ3RCNk8sZUFBZXhKLGVBQWV3SixhQUFhO1FBQzNDQyxrQkFBa0J6SixlQUFleUosZ0JBQWdCO1FBQ2pEbk47UUFDQUM7UUFFQSx3QkFBd0I7UUFDeEJxSSxxQkFBcUJuRyxjQUFjbUcsbUJBQW1CO1FBRXRELG1CQUFtQjtRQUNuQnRNLFNBQVNBLDhEQUFBQTtRQUNUQyxjQUFjQSxtRUFBQUE7UUFDZEMsVUFBVUEsK0RBQUFBO1FBRVYsZ0NBQWdDO1FBQ2hDbU0sbUJBQW1CbkcsVUFBVW1HLGlCQUFpQjtRQUM5Q00sa0JBQWtCekcsVUFBVXlHLGdCQUFnQjtRQUM1Q3lFLHFCQUFxQmxMLFVBQVVrTCxtQkFBbUI7UUFDbEQxSyxnQkFBZ0JSLFVBQVVRLGNBQWM7UUFDeEM0RSxvQkFBb0JwRixVQUFVb0Ysa0JBQWtCO1FBQ2hEM0Usd0JBQXdCVCxVQUFVUyxzQkFBc0I7UUFDeERnQjtRQUNBb0UsMkJBQTJCckUsZUFBZXFFLHlCQUF5QjtJQUNyRTtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL2hvb2tzL3VzZUNhcmRTdHVkaW9SZWZhY3RvcmVkLnRzPzljYzkiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2UgY2xpZW50XCI7XG5cbmltcG9ydCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QsIHVzZUNhbGxiYWNrLCB1c2VSZWYgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IHRvYXN0IH0gZnJvbSBcInNvbm5lclwiO1xuaW1wb3J0IHsgdjQgYXMgdXVpZHY0IH0gZnJvbSAndXVpZCc7XG5cbi8vIEltcG9ydCBtb2R1bGFyIGhvb2tzXG5pbXBvcnQgeyB1c2VXZWJTb2NrZXQgfSBmcm9tICcuL2NhcmRTdHVkaW8vdXNlV2ViU29ja2V0JztcbmltcG9ydCB7IHVzZUpvYk1hbmFnZW1lbnQgfSBmcm9tICcuL2NhcmRTdHVkaW8vdXNlSm9iTWFuYWdlbWVudFNpbXBsaWZpZWQnO1xuaW1wb3J0IHsgdXNlTWVzc2FnZUdlbmVyYXRpb24gfSBmcm9tICcuL2NhcmRTdHVkaW8vdXNlTWVzc2FnZUdlbmVyYXRpb24nO1xuaW1wb3J0IHsgdXNlRmlsZUhhbmRsaW5nIH0gZnJvbSAnLi9jYXJkU3R1ZGlvL3VzZUZpbGVIYW5kbGluZyc7XG5pbXBvcnQgeyB1c2VEcmFmdEdlbmVyYXRpb24gfSBmcm9tICcuL2NhcmRTdHVkaW8vdXNlRHJhZnRHZW5lcmF0aW9uJztcbmltcG9ydCB7IHVzZUNhcmRHZW5lcmF0aW9uIH0gZnJvbSAnLi9jYXJkU3R1ZGlvL3VzZUNhcmRHZW5lcmF0aW9uJztcblxuLy8gSW1wb3J0IGNvbnN0YW50cyBhbmQgdXRpbHNcbmltcG9ydCB7IFxuICBjYXJkVG9uZXMsIFxuICBhcnRpc3RpY1N0eWxlcywgXG4gIHBhcGVyU2l6ZXMsIFxuICBmb3JtYXRHZW5lcmF0aW9uVGltZSwgXG4gIGZvcm1hdENvdW50ZG93bixcbiAgR2VuZXJhdGVkQ2FyZCBcbn0gZnJvbSAnLi9jYXJkU3R1ZGlvL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBzZW5kVGhhbmtZb3VFbWFpbCwgY2hhdFdpdGhBSSwgc2Nyb2xsVG9DYXJkUHJldmlldyB9IGZyb20gJy4vY2FyZFN0dWRpby91dGlscyc7XG5pbXBvcnQgeyBzdG9yYWdlIH0gZnJvbSAnQC9saWIvc3RvcmFnZU1hbmFnZXInO1xuXG5leHBvcnQgZnVuY3Rpb24gdXNlQ2FyZFN0dWRpbygpIHtcbiAgLy8gQ29yZSBmb3JtIHN0YXRlXG4gIGNvbnN0IFtwcm9tcHQsIHNldFByb21wdF0gPSB1c2VTdGF0ZShcIlwiKTtcbiAgY29uc3QgW3RvRmllbGQsIHNldFRvRmllbGRdID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFtmcm9tRmllbGQsIHNldEZyb21GaWVsZF0gPSB1c2VTdGF0ZShcIlwiKTtcbiAgY29uc3QgW3JlbGF0aW9uc2hpcEZpZWxkLCBzZXRSZWxhdGlvbnNoaXBGaWVsZF0gPSB1c2VTdGF0ZShcIlwiKTtcbiAgY29uc3QgW3BlcnNvbmFsVHJhaXRzLCBzZXRQZXJzb25hbFRyYWl0c10gPSB1c2VTdGF0ZShcIlwiKTtcbiAgY29uc3QgW3NlbGVjdGVkVHlwZSwgc2V0U2VsZWN0ZWRUeXBlXSA9IHVzZVN0YXRlPHN0cmluZz4oXCJiaXJ0aGRheVwiKTtcbiAgY29uc3QgW2N1c3RvbUNhcmRUeXBlLCBzZXRDdXN0b21DYXJkVHlwZV0gPSB1c2VTdGF0ZTxzdHJpbmc+KFwiXCIpO1xuICBjb25zdCBbc2VsZWN0ZWRUb25lLCBzZXRTZWxlY3RlZFRvbmVdID0gdXNlU3RhdGU8c3RyaW5nPihcImZ1bm55XCIpO1xuICBcbiAgLy8gQWR2YW5jZWQgb3B0aW9ucyBzdGF0ZVxuICBjb25zdCBbc2hvd0FkdmFuY2VkLCBzZXRTaG93QWR2YW5jZWRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbc2VsZWN0ZWRBcnRpc3RpY1N0eWxlLCBzZXRTZWxlY3RlZEFydGlzdGljU3R5bGVdID0gdXNlU3RhdGU8c3RyaW5nPihcImFpLXNtYXJ0LXN0eWxlXCIpO1xuICBjb25zdCBbY3VzdG9tU3R5bGVEZXNjcmlwdGlvbiwgc2V0Q3VzdG9tU3R5bGVEZXNjcmlwdGlvbl0gPSB1c2VTdGF0ZTxzdHJpbmc+KFwiXCIpO1xuICBjb25zdCBbc2VsZWN0ZWRJbWFnZU1vZGVsLCBzZXRTZWxlY3RlZEltYWdlTW9kZWxdID0gdXNlU3RhdGU8c3RyaW5nPihcImdwdC1pbWFnZS0xXCIpO1xuICBjb25zdCBbc2VsZWN0ZWREcmFmdE1vZGVsLCBzZXRTZWxlY3RlZERyYWZ0TW9kZWxdID0gdXNlU3RhdGU8c3RyaW5nPihcImdwdC1pbWFnZS0xXCIpO1xuICBjb25zdCBbZmFzdFByZXZpZXdNb2RlLCBzZXRGYXN0UHJldmlld01vZGVdID0gdXNlU3RhdGU8Ym9vbGVhbj4odHJ1ZSk7XG4gIFxuICAvLyBFbWFpbCBzdGF0ZVxuICBjb25zdCBbdXNlckVtYWlsLCBzZXRVc2VyRW1haWxdID0gdXNlU3RhdGU8c3RyaW5nPihcIlwiKTtcbiAgXG4gIC8vIENhcmQgb3B0aW9uc1xuICBjb25zdCBbbnVtYmVyT2ZDYXJkcywgc2V0TnVtYmVyT2ZDYXJkc10gPSB1c2VTdGF0ZTxudW1iZXI+KDEpO1xuICBjb25zdCBbaXNIYW5kd3JpdHRlbk1lc3NhZ2UsIHNldElzSGFuZHdyaXR0ZW5NZXNzYWdlXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2lzRnJvbnRCYWNrT25seSwgc2V0SXNGcm9udEJhY2tPbmx5XSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3NlbGVjdGVkUGFwZXJTaXplLCBzZXRTZWxlY3RlZFBhcGVyU2l6ZV0gPSB1c2VTdGF0ZTxzdHJpbmc+KFwic3RhbmRhcmRcIik7XG4gIFxuICAvLyBVSSBzdGF0ZVxuICBjb25zdCBbaXNUZXh0YXJlYUV4cGFuZGVkLCBzZXRJc1RleHRhcmVhRXhwYW5kZWRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbaXNNZXNzYWdlRXhwYW5kZWQsIHNldElzTWVzc2FnZUV4cGFuZGVkXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3Nob3dTZXR0aW5ncywgc2V0U2hvd1NldHRpbmdzXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3Nob3dUZW1wbGF0ZUdhbGxlcnksIHNldFNob3dUZW1wbGF0ZUdhbGxlcnldID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbc2hvd1ByaW50Q29uZmlybWF0aW9uLCBzZXRTaG93UHJpbnRDb25maXJtYXRpb25dID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbc2hvd1RlbXBsYXRlQ3VzdG9taXphdGlvbiwgc2V0U2hvd1RlbXBsYXRlQ3VzdG9taXphdGlvbl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIFxuICAvLyBSZXN0b3JhdGlvbiBzdGF0ZVxuICBjb25zdCBbaXNSZXN0b3JpbmdKb2JzLCBzZXRJc1Jlc3RvcmluZ0pvYnNdID0gdXNlU3RhdGUodHJ1ZSk7XG4gIGNvbnN0IFtzZWxlY3RlZFRlbXBsYXRlLCBzZXRTZWxlY3RlZFRlbXBsYXRlXSA9IHVzZVN0YXRlPEdlbmVyYXRlZENhcmQgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW2lzSW5pdGlhbExvYWRDb21wbGV0ZSwgc2V0SXNJbml0aWFsTG9hZENvbXBsZXRlXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgXG4gIC8vIFRlbXBsYXRlIHN0YXRlXG4gIGNvbnN0IFt0ZW1wbGF0ZVNlYXJjaFF1ZXJ5LCBzZXRUZW1wbGF0ZVNlYXJjaFF1ZXJ5XSA9IHVzZVN0YXRlKFwiXCIpO1xuICBjb25zdCBbaXNTZWFyY2hpbmdUZW1wbGF0ZXMsIHNldElzU2VhcmNoaW5nVGVtcGxhdGVzXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2FpRmlsdGVyZWRDYXJkcywgc2V0QWlGaWx0ZXJlZENhcmRzXSA9IHVzZVN0YXRlPGFueVtdPihbXSk7XG4gIGNvbnN0IFtzZWFyY2hNb2RlLCBzZXRTZWFyY2hNb2RlXSA9IHVzZVN0YXRlPCd0ZXh0JyB8ICdhaScgfCAnaHlicmlkJz4oJ3RleHQnKTtcbiAgY29uc3QgW3RleHRGaWx0ZXJlZENhcmRzLCBzZXRUZXh0RmlsdGVyZWRDYXJkc10gPSB1c2VTdGF0ZTxhbnlbXT4oW10pO1xuICBjb25zdCBbc2hvd1Byb21wdHMsIHNldFNob3dQcm9tcHRzXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3ByaW50T3B0aW9uLCBzZXRQcmludE9wdGlvbl0gPSB1c2VTdGF0ZTwncGh5c2ljYWwnIHwgJ2VtYWlsJz4oJ3BoeXNpY2FsJyk7XG4gIFxuICAvLyBUZW1wbGF0ZSBjdXN0b21pemF0aW9uIHN0YXRlXG4gIGNvbnN0IFt0ZW1wbGF0ZUN1c3RvbWl6YXRpb25zLCBzZXRUZW1wbGF0ZUN1c3RvbWl6YXRpb25zXSA9IHVzZVN0YXRlKHtcbiAgICBwcm9tcHRDaGFuZ2VzOiBcIlwiLFxuICAgIG1lc3NhZ2VDaGFuZ2VzOiBcIlwiLFxuICAgIHVzZVJlZmVyZW5jZUltYWdlOiBmYWxzZSxcbiAgICByZWZlcmVuY2VJbWFnZUZpbGU6IG51bGwgYXMgRmlsZSB8IG51bGwsXG4gICAgcmVmZXJlbmNlSW1hZ2VVcmxzOiBbXSBhcyBzdHJpbmdbXSxcbiAgICByZWZlcmVuY2VJbWFnZVRyYW5zZm9ybWF0aW9uOiBcIlwiXG4gIH0pO1xuICBcbiAgLy8gU2VjdGlvbiBsb2FkaW5nIHN0YXRlc1xuICBjb25zdCBbc2VjdGlvbkxvYWRpbmdTdGF0ZXMsIHNldFNlY3Rpb25Mb2FkaW5nU3RhdGVzXSA9IHVzZVN0YXRlPHtcbiAgICBmcm9udENvdmVyOiAnaWRsZScgfCAnbG9hZGluZycgfCAnY29tcGxldGVkJyB8ICdlcnJvcic7XG4gICAgYmFja0NvdmVyOiAnaWRsZScgfCAnbG9hZGluZycgfCAnY29tcGxldGVkJyB8ICdlcnJvcic7XG4gICAgbGVmdEludGVyaW9yOiAnaWRsZScgfCAnbG9hZGluZycgfCAnY29tcGxldGVkJyB8ICdlcnJvcic7XG4gICAgcmlnaHRJbnRlcmlvcjogJ2lkbGUnIHwgJ2xvYWRpbmcnIHwgJ2NvbXBsZXRlZCcgfCAnZXJyb3InO1xuICB9Pih7XG4gICAgZnJvbnRDb3ZlcjogJ2lkbGUnLFxuICAgIGJhY2tDb3ZlcjogJ2lkbGUnLFxuICAgIGxlZnRJbnRlcmlvcjogJ2lkbGUnLFxuICAgIHJpZ2h0SW50ZXJpb3I6ICdpZGxlJyxcbiAgfSk7XG4gIFxuICAvLyBDb3VudGRvd24gc3RhdGVcbiAgY29uc3QgW2NvdW50ZG93biwgc2V0Q291bnRkb3duXSA9IHVzZVN0YXRlPG51bWJlcj4oMCk7XG4gIGNvbnN0IFtjb3VudGRvd25JbnRlcnZhbCwgc2V0Q291bnRkb3duSW50ZXJ2YWxdID0gdXNlU3RhdGU8Tm9kZUpTLlRpbWVvdXQgfCBudWxsPihudWxsKTtcblxuICAvLyBVc2UgbW9kdWxhciBob29rc1xuICBjb25zdCB3ZWJTb2NrZXQgPSB1c2VXZWJTb2NrZXQoKTtcbiAgY29uc3Qgam9iTWFuYWdlbWVudCA9IHVzZUpvYk1hbmFnZW1lbnQoKTtcbiAgY29uc3QgZmlsZUhhbmRsaW5nID0gdXNlRmlsZUhhbmRsaW5nKCk7XG4gIGNvbnN0IG1lc3NhZ2VHZW5lcmF0aW9uID0gdXNlTWVzc2FnZUdlbmVyYXRpb24oXG4gICAgc2VsZWN0ZWRUeXBlLFxuICAgIGN1c3RvbUNhcmRUeXBlLFxuICAgIHNlbGVjdGVkVG9uZSxcbiAgICBwcm9tcHQsXG4gICAgdG9GaWVsZCxcbiAgICBmcm9tRmllbGQsXG4gICAgcmVsYXRpb25zaGlwRmllbGQsXG4gICAgZmlsZUhhbmRsaW5nLnBob3RvUmVmZXJlbmNlc1xuICApO1xuICBcbiAgLy8gRHJhZnQgZ2VuZXJhdGlvbiBwcm9wc1xuICBjb25zdCBkcmFmdEdlbmVyYXRpb25Qcm9wcyA9IHtcbiAgICBzZWxlY3RlZFR5cGUsXG4gICAgY3VzdG9tQ2FyZFR5cGUsXG4gICAgc2VsZWN0ZWRUb25lLFxuICAgIHNlbGVjdGVkQXJ0aXN0aWNTdHlsZSxcbiAgICBjdXN0b21TdHlsZURlc2NyaXB0aW9uLFxuICAgIHNlbGVjdGVkRHJhZnRNb2RlbCxcbiAgICBzZWxlY3RlZEltYWdlTW9kZWwsXG4gICAgc2VsZWN0ZWRQYXBlclNpemUsXG4gICAgcHJvbXB0LFxuICAgIHBlcnNvbmFsVHJhaXRzLFxuICAgIHRvRmllbGQsXG4gICAgZnJvbUZpZWxkLFxuICAgIHVzZXJFbWFpbCxcbiAgICBmaW5hbENhcmRNZXNzYWdlOiBtZXNzYWdlR2VuZXJhdGlvbi5maW5hbENhcmRNZXNzYWdlLFxuICAgIGlzSGFuZHdyaXR0ZW5NZXNzYWdlLFxuICAgIGlzRnJvbnRCYWNrT25seSxcbiAgICByZWZlcmVuY2VJbWFnZVVybHM6IGZpbGVIYW5kbGluZy5yZWZlcmVuY2VJbWFnZVVybHMsXG4gICAgcGhvdG9SZWZlcmVuY2VzOiBmaWxlSGFuZGxpbmcucGhvdG9SZWZlcmVuY2VzLFxuICAgIHJlbGF0aW9uc2hpcEZpZWxkLFxuICAgIHNhdmVKb2JUb1N0b3JhZ2U6IGpvYk1hbmFnZW1lbnQuc2F2ZUpvYlRvU3RvcmFnZSxcbiAgICBzdWJzY3JpYmVUb0pvYjogd2ViU29ja2V0LnN1YnNjcmliZVRvSm9iLFxuICAgIHVuc3Vic2NyaWJlRnJvbUFsbEpvYnM6IHdlYlNvY2tldC51bnN1YnNjcmliZUZyb21BbGxKb2JzLFxuICAgIHN0YXJ0RWxhcHNlZFRpbWVUcmFja2luZzogam9iTWFuYWdlbWVudC5zdGFydEVsYXBzZWRUaW1lVHJhY2tpbmcsXG4gICAgc3RvcEVsYXBzZWRUaW1lVHJhY2tpbmc6IGpvYk1hbmFnZW1lbnQuc3RvcEVsYXBzZWRUaW1lVHJhY2tpbmcsXG4gICAgc2V0UHJvZ3Jlc3NQZXJjZW50YWdlOiBqb2JNYW5hZ2VtZW50LnNldFByb2dyZXNzUGVyY2VudGFnZSxcbiAgfTtcbiAgXG4gIGNvbnN0IGRyYWZ0R2VuZXJhdGlvbiA9IHVzZURyYWZ0R2VuZXJhdGlvbihkcmFmdEdlbmVyYXRpb25Qcm9wcyk7XG4gIFxuICAvLyBDYXJkIGdlbmVyYXRpb24gcHJvcHNcbiAgY29uc3QgY2FyZEdlbmVyYXRpb25Qcm9wcyA9IHtcbiAgICBzZWxlY3RlZFR5cGUsXG4gICAgY3VzdG9tQ2FyZFR5cGUsXG4gICAgc2VsZWN0ZWRUb25lLFxuICAgIHNlbGVjdGVkQXJ0aXN0aWNTdHlsZSxcbiAgICBjdXN0b21TdHlsZURlc2NyaXB0aW9uLFxuICAgIHNlbGVjdGVkSW1hZ2VNb2RlbCxcbiAgICBzZWxlY3RlZFBhcGVyU2l6ZSxcbiAgICBwcm9tcHQsXG4gICAgcGVyc29uYWxUcmFpdHMsXG4gICAgdG9GaWVsZCxcbiAgICBmcm9tRmllbGQsXG4gICAgdXNlckVtYWlsLFxuICAgIGZpbmFsQ2FyZE1lc3NhZ2U6IG1lc3NhZ2VHZW5lcmF0aW9uLmZpbmFsQ2FyZE1lc3NhZ2UsXG4gICAgaXNIYW5kd3JpdHRlbk1lc3NhZ2UsXG4gICAgaXNGcm9udEJhY2tPbmx5LFxuICAgIHJlZmVyZW5jZUltYWdlVXJsczogZmlsZUhhbmRsaW5nLnJlZmVyZW5jZUltYWdlVXJscyxcbiAgICBwaG90b1JlZmVyZW5jZXM6IGZpbGVIYW5kbGluZy5waG90b1JlZmVyZW5jZXMsXG4gICAgcmVsYXRpb25zaGlwRmllbGQsXG4gICAgbnVtYmVyT2ZDYXJkcyxcbiAgICBzYXZlSm9iVG9TdG9yYWdlOiBqb2JNYW5hZ2VtZW50LnNhdmVKb2JUb1N0b3JhZ2UsXG4gICAgcmVtb3ZlSm9iRnJvbVN0b3JhZ2U6IGpvYk1hbmFnZW1lbnQucmVtb3ZlSm9iRnJvbVN0b3JhZ2UsXG4gICAgc3Vic2NyaWJlVG9Kb2I6IHdlYlNvY2tldC5zdWJzY3JpYmVUb0pvYixcbiAgICBzdGFydEVsYXBzZWRUaW1lVHJhY2tpbmc6IGpvYk1hbmFnZW1lbnQuc3RhcnRFbGFwc2VkVGltZVRyYWNraW5nLFxuICAgIHN0b3BFbGFwc2VkVGltZVRyYWNraW5nOiBqb2JNYW5hZ2VtZW50LnN0b3BFbGFwc2VkVGltZVRyYWNraW5nLFxuICAgIHNldEN1cnJlbnRKb2JJZDogam9iTWFuYWdlbWVudC5zZXRDdXJyZW50Sm9iSWQsXG4gICAgc2V0SXNEcmFmdE1vZGU6IGRyYWZ0R2VuZXJhdGlvbi5zZXRJc0RyYWZ0TW9kZSxcbiAgICBzZXREcmFmdENhcmRzOiBkcmFmdEdlbmVyYXRpb24uc2V0RHJhZnRDYXJkcyxcbiAgICBzZXRTZWxlY3RlZERyYWZ0SW5kZXg6IGRyYWZ0R2VuZXJhdGlvbi5zZXRTZWxlY3RlZERyYWZ0SW5kZXgsXG4gICAgc2V0SXNHZW5lcmF0aW5nRmluYWxDYXJkOiBkcmFmdEdlbmVyYXRpb24uc2V0SXNHZW5lcmF0aW5nRmluYWxDYXJkLFxuICAgIHNldFByZXZpZXdpbmdEcmFmdEluZGV4OiBkcmFmdEdlbmVyYXRpb24uc2V0UHJldmlld2luZ0RyYWZ0SW5kZXgsXG4gICAgc2V0RHJhZnRDb21wbGV0aW9uU2hvd246IGRyYWZ0R2VuZXJhdGlvbi5zZXREcmFmdENvbXBsZXRpb25TaG93bixcbiAgICBzZXREcmFmdENvbXBsZXRpb25Db3VudDogZHJhZnRHZW5lcmF0aW9uLnNldERyYWZ0Q29tcGxldGlvbkNvdW50LFxuICB9O1xuICBcbiAgY29uc3QgY2FyZEdlbmVyYXRpb24gPSB1c2VDYXJkR2VuZXJhdGlvbihjYXJkR2VuZXJhdGlvblByb3BzKTtcblxuICAvLyBIYW5kbGUgam9iIHVwZGF0ZXMgZnJvbSBXZWJTb2NrZXRcbiAgY29uc3QgaGFuZGxlSm9iVXBkYXRlID0gdXNlQ2FsbGJhY2soKGRhdGE6IGFueSkgPT4ge1xuICAgIGNvbnN0IHsgam9iX2lkLCBzdGF0dXMsIHByb2dyZXNzLCBjYXJkRGF0YSwgZXJyb3IsIGNvbXBsZXRlZEF0IH0gPSBkYXRhO1xuICAgIFxuICAgIGlmICgham9iX2lkKSByZXR1cm47XG4gICAgXG4gICAgLy8gU2tpcCB1cGRhdGVzIGlmIHdlJ3JlIHN0aWxsIHJlc3RvcmluZyBqb2JzIGZyb20gbG9jYWxTdG9yYWdlXG4gICAgaWYgKGlzUmVzdG9yaW5nSm9icykge1xuICAgICAgY29uc29sZS5sb2coJ+KPsyBTa2lwcGluZyBqb2IgdXBkYXRlIGR1cmluZyByZXN0b3JhdGlvbjonLCBqb2JfaWQpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBcbiAgICAvLyBDaGVjayBpZiB0aGlzIGlzIGEgZHJhZnQgam9iXG4gICAgY29uc3QgaXNEcmFmdEpvYiA9IGpvYl9pZC5zdGFydHNXaXRoKCdkcmFmdC0nKTtcbiAgICBjb25zdCBkcmFmdEluZGV4ID0gaXNEcmFmdEpvYiA/IHBhcnNlSW50KGpvYl9pZC5zcGxpdCgnLScpWzFdKSA6IC0xO1xuICAgIFxuICAgIC8vIEZpbHRlciBvdXQgdXBkYXRlcyBmcm9tIHdyb25nIGpvYiB0eXBlXG4gICAgLy8gSWYgd2UncmUgaW4gZHJhZnQgbW9kZSwgb25seSBwcm9jZXNzIGRyYWZ0IGpvYnNcbiAgICAvLyBJZiB3ZSdyZSBpbiBmaW5hbCBtb2RlLCBvbmx5IHByb2Nlc3Mgbm9uLWRyYWZ0IGpvYnNcbiAgICBjb25zdCBpc0luRHJhZnRNb2RlID0gZHJhZnRHZW5lcmF0aW9uLmlzRHJhZnRNb2RlO1xuICAgIGlmIChpc0luRHJhZnRNb2RlICYmICFpc0RyYWZ0Sm9iKSB7XG4gICAgICBjb25zb2xlLmxvZygn8J+aqyBJZ25vcmluZyBub24tZHJhZnQgam9iIHVwZGF0ZSBpbiBkcmFmdCBtb2RlOicsIGpvYl9pZCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICghaXNJbkRyYWZ0TW9kZSAmJiBpc0RyYWZ0Sm9iKSB7XG4gICAgICBjb25zb2xlLmxvZygn8J+aqyBJZ25vcmluZyBkcmFmdCBqb2IgdXBkYXRlIGluIGZpbmFsIG1vZGU6Jywgam9iX2lkKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgXG4gICAgY29uc29sZS5sb2coJ/CflIQgUHJvY2Vzc2luZyBqb2IgdXBkYXRlOicsIHsgam9iX2lkLCBzdGF0dXMsIGlzRHJhZnRKb2IsIGRyYWZ0SW5kZXgsIHByb2dyZXNzIH0pO1xuICAgIFxuICAgIC8vIEhhbmRsZSBzdGF0dXMgdHJhbnNpdGlvbnNcbiAgICBpZiAoc3RhdHVzID09PSAncHJvY2Vzc2luZycgJiYgIWNhcmRHZW5lcmF0aW9uLmlzR2VuZXJhdGluZyAmJiAhZHJhZnRHZW5lcmF0aW9uLmlzR2VuZXJhdGluZykge1xuICAgICAgY29uc29sZS5sb2coJ/CflIQgSm9iIGlzIHByb2Nlc3NpbmcsIHNldHRpbmcgZ2VuZXJhdGlvbiBzdGF0ZScpO1xuICAgICAgaWYgKGlzRHJhZnRKb2IpIHtcbiAgICAgICAgZHJhZnRHZW5lcmF0aW9uLnNldElzR2VuZXJhdGluZyh0cnVlKTtcbiAgICAgICAgZHJhZnRHZW5lcmF0aW9uLnNldElzRHJhZnRNb2RlKHRydWUpO1xuICAgICAgICBqb2JNYW5hZ2VtZW50LnN0YXJ0RWxhcHNlZFRpbWVUcmFja2luZygnZHJhZnQnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNhcmRHZW5lcmF0aW9uLnNldElzR2VuZXJhdGluZyh0cnVlKTtcbiAgICAgICAgam9iTWFuYWdlbWVudC5zdGFydEVsYXBzZWRUaW1lVHJhY2tpbmcoJ2ZpbmFsJyk7XG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIC8vIFVwZGF0ZSBwcm9ncmVzcyBpZiBwcm92aWRlZFxuICAgIGlmIChwcm9ncmVzcykge1xuICAgICAgLy8gSU1QT1JUQU5UOiBEb24ndCBzaG93IFwiR2VuZXJhdGlvbiBjb21wbGV0ZSFcIiB1bnRpbCB3ZSd2ZSBhY3R1YWxseSBwcm9jZXNzZWQgdGhlIGNhcmRcbiAgICAgIC8vIFRoaXMgcHJldmVudHMgdGhlIFVJIGZyb20gc2hvd2luZyBjb21wbGV0aW9uIGJlZm9yZSB0aGUgY2FyZCBpcyByZWFkeVxuICAgICAgaWYgKHByb2dyZXNzLmluY2x1ZGVzKCdHZW5lcmF0aW9uIGNvbXBsZXRlIScpICYmIHN0YXR1cyA9PT0gJ2NvbXBsZXRlZCcgJiYgIWlzRHJhZnRKb2IpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ+KPuO+4jyBIb2xkaW5nIFwiR2VuZXJhdGlvbiBjb21wbGV0ZSFcIiBtZXNzYWdlIHVudGlsIGNhcmQgaXMgcHJvY2Vzc2VkJyk7XG4gICAgICAgIC8vIERvbid0IHVwZGF0ZSB0aGUgcHJvZ3Jlc3MgbWVzc2FnZSB5ZXQgLSBpdCB3aWxsIGJlIHNldCBpbiBoYW5kbGVGaW5hbENhcmRDb21wbGV0aW9uXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjYXJkR2VuZXJhdGlvbi5zZXRHZW5lcmF0aW9uUHJvZ3Jlc3MocHJvZ3Jlc3MpO1xuICAgICAgICBkcmFmdEdlbmVyYXRpb24uc2V0R2VuZXJhdGlvblByb2dyZXNzKHByb2dyZXNzKTtcbiAgICAgICAgY29uc29sZS5sb2coYPCfk4ogUHJvZ3Jlc3MgbWVzc2FnZTogJHtwcm9ncmVzc31gKTtcbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgaWYgKHN0YXR1cyA9PT0gJ2NvbXBsZXRlZCcgJiYgY2FyZERhdGEpIHtcbiAgICAgIGNvbnNvbGUubG9nKCfwn46JIEpvYiBjb21wbGV0ZWQhIENhcmQgZGF0YTonLCBjYXJkRGF0YSwgJ2lzRHJhZnRKb2I6JywgaXNEcmFmdEpvYik7XG4gICAgICBcbiAgICAgIC8vIE5vcm1hbGl6ZSBmaWVsZCBuYW1lcyB0byBoYW5kbGUgYmFja2VuZCBpbmNvbnNpc3RlbmNpZXNcbiAgICAgIGNvbnN0IG5vcm1hbGl6ZWRDYXJkRGF0YSA9IHtcbiAgICAgICAgLi4uY2FyZERhdGEsXG4gICAgICAgIGxlZnRJbnRlcmlvcjogY2FyZERhdGEubGVmdEludGVyaW9yIHx8IGNhcmREYXRhLmxlZnRQYWdlIHx8IGNhcmREYXRhLmxlZnRfaW50ZXJpb3IgfHwgY2FyZERhdGEubGVmdF9wYWdlLFxuICAgICAgICByaWdodEludGVyaW9yOiBjYXJkRGF0YS5yaWdodEludGVyaW9yIHx8IGNhcmREYXRhLnJpZ2h0UGFnZSB8fCBjYXJkRGF0YS5yaWdodF9pbnRlcmlvciB8fCBjYXJkRGF0YS5yaWdodF9wYWdlLFxuICAgICAgICBmcm9udENvdmVyOiBjYXJkRGF0YS5mcm9udENvdmVyIHx8IGNhcmREYXRhLmZyb250X2NvdmVyIHx8IGNhcmREYXRhLmZyb250LFxuICAgICAgICBiYWNrQ292ZXI6IGNhcmREYXRhLmJhY2tDb3ZlciB8fCBjYXJkRGF0YS5iYWNrX2NvdmVyIHx8IGNhcmREYXRhLmJhY2ssXG4gICAgICAgIC8vIEtlZXAgb3JpZ2luYWwgZmllbGRzIGZvciBiYWNrd2FyZCBjb21wYXRpYmlsaXR5XG4gICAgICAgIGxlZnRQYWdlOiBjYXJkRGF0YS5sZWZ0UGFnZSB8fCBjYXJkRGF0YS5sZWZ0SW50ZXJpb3IgfHwgY2FyZERhdGEubGVmdF9wYWdlIHx8IGNhcmREYXRhLmxlZnRfaW50ZXJpb3IsXG4gICAgICAgIHJpZ2h0UGFnZTogY2FyZERhdGEucmlnaHRQYWdlIHx8IGNhcmREYXRhLnJpZ2h0SW50ZXJpb3IgfHwgY2FyZERhdGEucmlnaHRfcGFnZSB8fCBjYXJkRGF0YS5yaWdodF9pbnRlcmlvclxuICAgICAgfTtcbiAgICAgIFxuICAgICAgLy8gVmFsaWRhdGUgdGhhdCB3ZSBoYXZlIHRoZSBtaW5pbXVtIHJlcXVpcmVkIGZpZWxkcyBmb3IgYSBjb21wbGV0ZSBjYXJkXG4gICAgICBjb25zdCBoYXNSZXF1aXJlZEZpZWxkcyA9IG5vcm1hbGl6ZWRDYXJkRGF0YS5mcm9udENvdmVyICYmIFxuICAgICAgICAoaXNEcmFmdEpvYiB8fCAobm9ybWFsaXplZENhcmREYXRhLmJhY2tDb3ZlciAmJiBub3JtYWxpemVkQ2FyZERhdGEubGVmdEludGVyaW9yICYmIG5vcm1hbGl6ZWRDYXJkRGF0YS5yaWdodEludGVyaW9yKSk7XG4gICAgICBcbiAgICAgIGlmICghaGFzUmVxdWlyZWRGaWVsZHMpIHtcbiAgICAgICAgY29uc29sZS53YXJuKCfimqDvuI8gQ2FyZCBkYXRhIG1pc3NpbmcgcmVxdWlyZWQgZmllbGRzOicsIHtcbiAgICAgICAgICBmcm9udENvdmVyOiAhIW5vcm1hbGl6ZWRDYXJkRGF0YS5mcm9udENvdmVyLFxuICAgICAgICAgIGJhY2tDb3ZlcjogISFub3JtYWxpemVkQ2FyZERhdGEuYmFja0NvdmVyLFxuICAgICAgICAgIGxlZnRJbnRlcmlvcjogISFub3JtYWxpemVkQ2FyZERhdGEubGVmdEludGVyaW9yLFxuICAgICAgICAgIHJpZ2h0SW50ZXJpb3I6ICEhbm9ybWFsaXplZENhcmREYXRhLnJpZ2h0SW50ZXJpb3JcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIElmIHRoaXMgaXMgdGhlIGZpcnN0IHVwZGF0ZSBmb3IgYSByZWNvdmVyeSBqb2IsIGVuc3VyZSBnZW5lcmF0aW9uIHN0YXRlIGlzIHNldCBwcm9wZXJseVxuICAgICAgaWYgKGlzRHJhZnRKb2IgJiYgIWRyYWZ0R2VuZXJhdGlvbi5pc0dlbmVyYXRpbmcgJiYgZHJhZnRHZW5lcmF0aW9uLmRyYWZ0Q2FyZHMuZmlsdGVyKEJvb2xlYW4pLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBjb25zb2xlLmxvZygn8J+TpSBSZWNvdmVyZWQgY29tcGxldGVkIGRyYWZ0IGpvYiAtIG5vdCBzZXR0aW5nIGFzIGdlbmVyYXRpbmcnKTtcbiAgICAgICAgLy8gRG9uJ3Qgc2V0IGlzR2VuZXJhdGluZyBmb3IgYWxyZWFkeSBjb21wbGV0ZWQgam9icyBkdXJpbmcgcmVjb3ZlcnlcbiAgICAgIH1cbiAgICAgIFxuICAgICAgaWYgKGlzRHJhZnRKb2IgJiYgZHJhZnRJbmRleCA+PSAwKSB7XG4gICAgICAgIC8vIEhhbmRsZSBkcmFmdCBjYXJkIGNvbXBsZXRpb25cbiAgICAgICAgY29uc29sZS5sb2coYPCfjqggRHJhZnQgdmFyaWF0aW9uICR7ZHJhZnRJbmRleCArIDF9IGNvbXBsZXRlZCFgKTtcbiAgICAgICAgXG4gICAgICAgIC8vIEdldCBzdHlsZSBpbmZvIGZvciBzbWFydCBzdHlsZSBtb2RlXG4gICAgICAgIGxldCBzdHlsZUluZm86IHsgc3R5bGVOYW1lOiBzdHJpbmc7IHN0eWxlTGFiZWw6IHN0cmluZyB9IHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkO1xuICAgICAgICBpZiAoc2VsZWN0ZWRBcnRpc3RpY1N0eWxlID09PSBcImFpLXNtYXJ0LXN0eWxlXCIpIHtcbiAgICAgICAgICBjb25zdCBwcmVkZWZpbmVkU3R5bGVzID0gW1xuICAgICAgICAgICAgXCJ3YXRlcmNvbG9yXCIsIFwiYm90YW5pY2FsXCIsIFwiY29taWMtYm9va1wiLCBcImRyZWFteS1mYW50YXN5XCIsIFwibWluaW1hbGlzdFwiXG4gICAgICAgICAgXTtcbiAgICAgICAgICBjb25zdCBzdHlsZUxhYmVscyA9IFtcbiAgICAgICAgICAgIFwi8J+OqCBXYXRlcmNvbG9yXCIsIFwi8J+MvyBCb3RhbmljYWxcIiwgXCLwn5KlIENvbWljIEJvb2tcIiwgXCLwn4y4IERyZWFteSBGYW50YXN5XCIsIFwi4pyoIE1pbmltYWxpc3RcIlxuICAgICAgICAgIF07XG4gICAgICAgICAgaWYgKGRyYWZ0SW5kZXggPj0gMCAmJiBkcmFmdEluZGV4IDwgcHJlZGVmaW5lZFN0eWxlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHN0eWxlSW5mbyA9IHtcbiAgICAgICAgICAgICAgc3R5bGVOYW1lOiBwcmVkZWZpbmVkU3R5bGVzW2RyYWZ0SW5kZXhdLFxuICAgICAgICAgICAgICBzdHlsZUxhYmVsOiBzdHlsZUxhYmVsc1tkcmFmdEluZGV4XVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBkcmFmdENhcmQ6IEdlbmVyYXRlZENhcmQgPSB7XG4gICAgICAgICAgaWQ6IGBkcmFmdC0ke2RyYWZ0SW5kZXggKyAxfS0ke0RhdGUubm93KCl9YCxcbiAgICAgICAgICBwcm9tcHQ6IG5vcm1hbGl6ZWRDYXJkRGF0YS5wcm9tcHQgfHwgYERyYWZ0IFZhcmlhdGlvbiAke2RyYWZ0SW5kZXggKyAxfWAsXG4gICAgICAgICAgZnJvbnRDb3Zlcjogbm9ybWFsaXplZENhcmREYXRhLmZyb250Q292ZXIgfHwgXCJcIixcbiAgICAgICAgICBiYWNrQ292ZXI6IG5vcm1hbGl6ZWRDYXJkRGF0YS5iYWNrQ292ZXIgfHwgXCJcIixcbiAgICAgICAgICBsZWZ0UGFnZTogbm9ybWFsaXplZENhcmREYXRhLmxlZnRJbnRlcmlvciB8fCBcIlwiLFxuICAgICAgICAgIHJpZ2h0UGFnZTogbm9ybWFsaXplZENhcmREYXRhLnJpZ2h0SW50ZXJpb3IgfHwgXCJcIixcbiAgICAgICAgICBjcmVhdGVkQXQ6IG5ldyBEYXRlKCksXG4gICAgICAgICAgZ2VuZXJhdGVkUHJvbXB0czogbm9ybWFsaXplZENhcmREYXRhLmdlbmVyYXRlZFByb21wdHMgfHwge1xuICAgICAgICAgICAgZnJvbnRDb3ZlcjogY2FyZERhdGEuZ2VuZXJhdGVkUHJvbXB0cz8uZnJvbnRDb3ZlciB8fCBcIlwiLFxuICAgICAgICAgICAgYmFja0NvdmVyOiBjYXJkRGF0YS5nZW5lcmF0ZWRQcm9tcHRzPy5iYWNrQ292ZXIgfHwgXCJcIixcbiAgICAgICAgICAgIGxlZnRJbnRlcmlvcjogY2FyZERhdGEuZ2VuZXJhdGVkUHJvbXB0cz8ubGVmdEludGVyaW9yIHx8IFwiXCIsXG4gICAgICAgICAgICByaWdodEludGVyaW9yOiBjYXJkRGF0YS5nZW5lcmF0ZWRQcm9tcHRzPy5yaWdodEludGVyaW9yIHx8IFwiXCJcbiAgICAgICAgICB9LFxuICAgICAgICAgIHN0eWxlSW5mbzogc3R5bGVJbmZvXG4gICAgICAgIH07XG4gICAgICAgIFxuICAgICAgICAvLyBTaW1wbGlmaWVkIGRyYWZ0IHRyYWNraW5nIC0gdXNlIGZpeGVkIGFycmF5IHBvc2l0aW9uc1xuICAgICAgICBkcmFmdEdlbmVyYXRpb24uc2V0RHJhZnRDYXJkcyhwcmV2ID0+IHtcbiAgICAgICAgICBjb25zdCB1cGRhdGVkID0gWy4uLnByZXZdO1xuICAgICAgICAgIC8vIEVuc3VyZSBhcnJheSBoYXMgNSBzbG90c1xuICAgICAgICAgIHdoaWxlICh1cGRhdGVkLmxlbmd0aCA8IDUpIHtcbiAgICAgICAgICAgIHVwZGF0ZWQucHVzaChudWxsIGFzIGFueSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIFBsYWNlIGRyYWZ0IGF0IGl0cyBjb3JyZWN0IGluZGV4XG4gICAgICAgICAgdXBkYXRlZFtkcmFmdEluZGV4XSA9IGRyYWZ0Q2FyZDtcbiAgICAgICAgICBjb25zb2xlLmxvZyhg4pyFIERyYWZ0ICR7ZHJhZnRJbmRleCArIDF9IGNvbXBsZXRlZCBhbmQgc3RvcmVkIGF0IGluZGV4ICR7ZHJhZnRJbmRleH1gKTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBObyBsb25nZXIgc2F2ZSBpbmRpdmlkdWFsIGRyYWZ0cyB0byBsb2NhbFN0b3JhZ2VcbiAgICAgICAgICBcbiAgICAgICAgICByZXR1cm4gdXBkYXRlZDtcbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICAvLyBTaW1wbGlmaWVkIGNvbXBsZXRpb24gdHJhY2tpbmcgLSBjb3VudCB0aGUgdXBkYXRlZCBhcnJheSBpbmNsdWRpbmcgdGhlIG5ldyBkcmFmdFxuICAgICAgICBjb25zdCB1cGRhdGVkRHJhZnRzID0gWy4uLmRyYWZ0R2VuZXJhdGlvbi5kcmFmdENhcmRzXTtcbiAgICAgICAgdXBkYXRlZERyYWZ0c1tkcmFmdEluZGV4XSA9IGRyYWZ0Q2FyZDtcbiAgICAgICAgY29uc3QgY29tcGxldGVkQ291bnQgPSB1cGRhdGVkRHJhZnRzLmZpbHRlcihCb29sZWFuKS5sZW5ndGg7XG4gICAgICAgIGNvbnNvbGUubG9nKGDwn5OKIERyYWZ0IHByb2dyZXNzOiAke2NvbXBsZXRlZENvdW50fS81IHZhcmlhdGlvbnMgY29tcGxldGVgKTtcbiAgICAgICAgXG4gICAgICAgIC8vIFVwZGF0ZSBwcm9ncmVzc1xuICAgICAgICBjb25zdCBwcm9ncmVzc01zZyA9IGNvbXBsZXRlZENvdW50ID09PSA1IFxuICAgICAgICAgID8gXCJBbGwgNSB2YXJpYXRpb25zIHJlYWR5ISBDaG9vc2UgeW91ciBmYXZvcml0ZSBiZWxvdy5cIlxuICAgICAgICAgIDogYCR7Y29tcGxldGVkQ291bnR9LzUgdmFyaWF0aW9ucyBjb21wbGV0ZS4uLiR7Y29tcGxldGVkQ291bnQgPj0gMiA/IFwiIFlvdSBjYW4gc2VsZWN0IG9uZSBub3chXCIgOiBcIlwifWA7XG4gICAgICAgIFxuICAgICAgICBkcmFmdEdlbmVyYXRpb24uc2V0R2VuZXJhdGlvblByb2dyZXNzKHByb2dyZXNzTXNnKTtcbiAgICAgICAgXG4gICAgICAgIC8vIE92ZXJyaWRlIHRpbWUtYmFzZWQgcHJvZ3Jlc3Mgd2l0aCByZWFsIHByb2dyZXNzIHdoZW4gZHJhZnRzIGNvbXBsZXRlXG4gICAgICAgIC8vIERvbid0IG92ZXJyaWRlIHRpbWUtYmFzZWQgcHJvZ3Jlc3NcbiAgICAgICAgY29uc29sZS5sb2coYPCfjqggRHJhZnQgJHtjb21wbGV0ZWRDb3VudH0vNSBjb21wbGV0ZWRgKTtcbiAgICAgICAgXG4gICAgICAgIC8vIEhhbmRsZSBtaWxlc3RvbmVzXG4gICAgICAgIGlmIChjb21wbGV0ZWRDb3VudCA9PT0gMSkge1xuICAgICAgICAgIHNjcm9sbFRvQ2FyZFByZXZpZXcoKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgaWYgKGNvbXBsZXRlZENvdW50ID09PSA1ICYmICFkcmFmdEdlbmVyYXRpb24uaXNHZW5lcmF0aW5nRmluYWxDYXJkKSB7XG4gICAgICAgICAgZHJhZnRHZW5lcmF0aW9uLnNldElzR2VuZXJhdGluZyhmYWxzZSk7XG4gICAgICAgICAgam9iTWFuYWdlbWVudC5zdG9wRWxhcHNlZFRpbWVUcmFja2luZygpO1xuICAgICAgICAgIC8vIENsZWFyIHJlY292ZXJ5IGRhdGEgZm9yIGNvbXBsZXRlZCBkcmFmdCBqb2JzXG4gICAgICAgICAgc3RvcmFnZS5jbGVhclJlY292ZXJ5KCk7XG4gICAgICAgICAgY29uc29sZS5sb2coJ/Cfp7kgQ2xlYXJlZCByZWNvdmVyeSBkYXRhIGZvciBjb21wbGV0ZWQgZHJhZnQgam9iJyk7XG4gICAgICAgICAgdG9hc3Quc3VjY2VzcyhcIvCfjqggQWxsIDUgZnJvbnQgY292ZXIgdmFyaWF0aW9ucyByZWFkeSEgQ2hvb3NlIHlvdXIgZmF2b3JpdGUgYmVsb3cuXCIpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyBLZWVwIGRyYWZ0IGpvYnMgaW4gc3RvcmFnZSBmb3IgbGF0ZXIgcmV0cmlldmFsXG4gICAgICAgIC8vIE9ubHkgdW5zdWJzY3JpYmUgZnJvbSBXZWJTb2NrZXRcbiAgICAgICAgd2ViU29ja2V0LnVuc3Vic2NyaWJlRnJvbUpvYihqb2JfaWQpO1xuICAgICAgICBjb25zb2xlLmxvZyhg4pyFIEtlZXBpbmcgZHJhZnQgam9iICR7am9iX2lkfSBpbiBzdG9yYWdlIGZvciBmdXR1cmUgYWNjZXNzYCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBIYW5kbGUgZmluYWwgY2FyZCBjb21wbGV0aW9uXG4gICAgICAgIGNvbnNvbGUubG9nKCfwn5SNIEZpbmFsIGNhcmQgY29tcGxldGlvbiBkZXRlY3RlZC4gQ2FyZCBkYXRhIHN0cnVjdHVyZTonLCB7XG4gICAgICAgICAgaGFzQ2FyZERhdGE6ICEhY2FyZERhdGEsXG4gICAgICAgICAgY2FyZERhdGFLZXlzOiBPYmplY3Qua2V5cyhjYXJkRGF0YSB8fCB7fSksXG4gICAgICAgICAgZnJvbnRDb3ZlcjogY2FyZERhdGE/LmZyb250Q292ZXIgPyAnUHJlc2VudCcgOiAnTWlzc2luZycsXG4gICAgICAgICAgYmFja0NvdmVyOiBjYXJkRGF0YT8uYmFja0NvdmVyID8gJ1ByZXNlbnQnIDogJ01pc3NpbmcnLFxuICAgICAgICAgIGxlZnRJbnRlcmlvcjogY2FyZERhdGE/LmxlZnRJbnRlcmlvciA/ICdQcmVzZW50JyA6ICdNaXNzaW5nJyxcbiAgICAgICAgICByaWdodEludGVyaW9yOiBjYXJkRGF0YT8ucmlnaHRJbnRlcmlvciA/ICdQcmVzZW50JyA6ICdNaXNzaW5nJyxcbiAgICAgICAgICBsZWZ0UGFnZTogY2FyZERhdGE/LmxlZnRQYWdlID8gJ1ByZXNlbnQnIDogJ01pc3NpbmcnLFxuICAgICAgICAgIHJpZ2h0UGFnZTogY2FyZERhdGE/LnJpZ2h0UGFnZSA/ICdQcmVzZW50JyA6ICdNaXNzaW5nJyxcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnNvbGUubG9nKCfwn5OdIEZ1bGwgY2FyZCBkYXRhOicsIEpTT04uc3RyaW5naWZ5KG5vcm1hbGl6ZWRDYXJkRGF0YSwgbnVsbCwgMikpO1xuICAgICAgICBcbiAgICAgICAgLy8gVXNlIHRoZSBhbHJlYWR5IG5vcm1hbGl6ZWQgY2FyZCBkYXRhXG4gICAgICAgIGNvbnN0IG1hcHBlZENhcmREYXRhID0gbm9ybWFsaXplZENhcmREYXRhO1xuICAgICAgICBcbiAgICAgICAgY29uc29sZS5sb2coJ/CflIQgTm9ybWFsaXplZCBjYXJkIGRhdGEgZm9yIGZyb250ZW5kOicsIHtcbiAgICAgICAgICBmcm9udENvdmVyOiBtYXBwZWRDYXJkRGF0YS5mcm9udENvdmVyID8gJ1ByZXNlbnQnIDogJ01pc3NpbmcnLFxuICAgICAgICAgIGJhY2tDb3ZlcjogbWFwcGVkQ2FyZERhdGEuYmFja0NvdmVyID8gJ1ByZXNlbnQnIDogJ01pc3NpbmcnLFxuICAgICAgICAgIGxlZnRJbnRlcmlvcjogbWFwcGVkQ2FyZERhdGEubGVmdEludGVyaW9yID8gJ1ByZXNlbnQnIDogJ01pc3NpbmcnLFxuICAgICAgICAgIHJpZ2h0SW50ZXJpb3I6IG1hcHBlZENhcmREYXRhLnJpZ2h0SW50ZXJpb3IgPyAnUHJlc2VudCcgOiAnTWlzc2luZycsXG4gICAgICAgICAgaGFzQWxsUmVxdWlyZWRGaWVsZHM6IGhhc1JlcXVpcmVkRmllbGRzXG4gICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgLy8gT25seSBwcm9jZXNzIGNvbXBsZXRpb24gaWYgd2UgaGF2ZSBhbGwgcmVxdWlyZWQgZmllbGRzXG4gICAgICAgIGlmIChoYXNSZXF1aXJlZEZpZWxkcykge1xuICAgICAgICAgIC8vIENhbGwgdGhlIGNvbXBsZXRpb24gaGFuZGxlclxuICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5qAIENhbGxpbmcgaGFuZGxlRmluYWxDYXJkQ29tcGxldGlvbi4uLicpO1xuICAgICAgICAgIGNhcmRHZW5lcmF0aW9uLmhhbmRsZUZpbmFsQ2FyZENvbXBsZXRpb24obWFwcGVkQ2FyZERhdGEpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBDYW5ub3QgY29tcGxldGUgY2FyZCAtIG1pc3NpbmcgcmVxdWlyZWQgZmllbGRzJyk7XG4gICAgICAgICAgdG9hc3QuZXJyb3IoXCJDYXJkIGdlbmVyYXRpb24gaW5jb21wbGV0ZSAtIG1pc3Npbmcgc29tZSBwYW5lbHMuIFBsZWFzZSB0cnkgYWdhaW4uXCIpO1xuICAgICAgICAgIC8vIEZvcmNlIGNsZWFyIHRoZSBsb2FkaW5nIHN0YXRlXG4gICAgICAgICAgY2FyZEdlbmVyYXRpb24uc2V0SXNHZW5lcmF0aW5nKGZhbHNlKTtcbiAgICAgICAgICBkcmFmdEdlbmVyYXRpb24uc2V0SXNHZW5lcmF0aW5nRmluYWxDYXJkKGZhbHNlKTtcbiAgICAgICAgICBqb2JNYW5hZ2VtZW50LnN0b3BFbGFwc2VkVGltZVRyYWNraW5nKCk7XG4gICAgICAgICAgam9iTWFuYWdlbWVudC5zZXRHZW5lcmF0aW9uUHJvZ3Jlc3MoXCJcIik7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIENhcmQgaXMgYXV0b21hdGljYWxseSBhZGRlZCB0byByZWNlbnQgY2FyZHMgYnkgbWFya0pvYkNvbXBsZXRlXG4gICAgICAgIFxuICAgICAgICAvLyBPbmx5IGNsZWFyIHJlY292ZXJ5IGlmIHdlJ3JlIG5vdCBpbiB0aGUgbWlkZGxlIG9mIHJlc3RvcmluZ1xuICAgICAgICBpZiAoIWlzUmVzdG9yaW5nSm9icykge1xuICAgICAgICAgIGpvYk1hbmFnZW1lbnQucmVtb3ZlSm9iRnJvbVN0b3JhZ2Uoam9iX2lkKTtcbiAgICAgICAgfVxuICAgICAgICBqb2JNYW5hZ2VtZW50LnNldEN1cnJlbnRKb2JJZChudWxsKTtcbiAgICAgICAgd2ViU29ja2V0LnVuc3Vic2NyaWJlRnJvbUpvYihqb2JfaWQpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoc3RhdHVzID09PSAnZmFpbGVkJykge1xuICAgICAgY29uc29sZS5lcnJvcign4p2MIEpvYiBmYWlsZWQ6JywgZXJyb3IpO1xuICAgICAgXG4gICAgICBpZiAoaXNEcmFmdEpvYiAmJiBkcmFmdEluZGV4ID49IDApIHtcbiAgICAgICAgdG9hc3QuZXJyb3IoYERyYWZ0IHZhcmlhdGlvbiAke2RyYWZ0SW5kZXggKyAxfSBmYWlsZWQuIENvbnRpbnVpbmcgd2l0aCBvdGhlcnMuLi5gKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRvYXN0LmVycm9yKFwi4p2MIENhcmQgZ2VuZXJhdGlvbiBmYWlsZWQuIFBsZWFzZSB0cnkgYWdhaW4uXCIpO1xuICAgICAgICBjYXJkR2VuZXJhdGlvbi5zZXRJc0dlbmVyYXRpbmcoZmFsc2UpO1xuICAgICAgICBkcmFmdEdlbmVyYXRpb24uc2V0SXNHZW5lcmF0aW5nRmluYWxDYXJkKGZhbHNlKTtcbiAgICAgICAgam9iTWFuYWdlbWVudC5zdG9wRWxhcHNlZFRpbWVUcmFja2luZygpO1xuICAgICAgICBjYXJkR2VuZXJhdGlvbi5zZXRHZW5lcmF0aW9uUHJvZ3Jlc3MoXCJcIik7XG4gICAgICAgIC8vIERvbid0IHJlc2V0IHByb2dyZXNzIC0gbGV0IHRpbWUtYmFzZWQgcHJvZ3Jlc3MgY29udGludWVcbiAgICAgICAgLy8gam9iTWFuYWdlbWVudC5zZXRQcm9ncmVzc1BlcmNlbnRhZ2UoMCk7XG4gICAgICAgIGpvYk1hbmFnZW1lbnQuc2V0Q3VycmVudEpvYklkKG51bGwpO1xuICAgICAgICB3ZWJTb2NrZXQudW5zdWJzY3JpYmVGcm9tSm9iKGpvYl9pZCk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIE9ubHkgY2xlYXIgcmVjb3ZlcnkgaWYgd2UncmUgbm90IGluIHRoZSBtaWRkbGUgb2YgcmVzdG9yaW5nXG4gICAgICBpZiAoIWlzUmVzdG9yaW5nSm9icykge1xuICAgICAgICBqb2JNYW5hZ2VtZW50LnJlbW92ZUpvYkZyb21TdG9yYWdlKGpvYl9pZCk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChzdGF0dXMgPT09ICdub3RfZm91bmQnKSB7XG4gICAgICBjb25zb2xlLndhcm4oJ+KaoO+4jyBKb2Igbm90IGZvdW5kIG9uIHNlcnZlciwgY2xlYW5pbmcgdXAgc3RhbGUgcmVmZXJlbmNlOicsIGpvYl9pZCk7XG4gICAgICBcbiAgICAgIC8vIENsZWFuIHVwIHN0YWxlIGpvYiByZWZlcmVuY2VcbiAgICAgIGlmICh3ZWJTb2NrZXQuY3VycmVudEpvYlJlZi5jdXJyZW50ID09PSBqb2JfaWQpIHtcbiAgICAgICAgd2ViU29ja2V0LmN1cnJlbnRKb2JSZWYuY3VycmVudCA9IG51bGw7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIFJlc2V0IFVJIHN0YXRlIGlmIHRoaXMgd2FzIHRoZSBjdXJyZW50IGpvYlxuICAgICAgaWYgKGpvYk1hbmFnZW1lbnQuY3VycmVudEpvYklkID09PSBqb2JfaWQpIHtcbiAgICAgICAgam9iTWFuYWdlbWVudC5zZXRDdXJyZW50Sm9iSWQobnVsbCk7XG4gICAgICAgIGNhcmRHZW5lcmF0aW9uLnNldElzR2VuZXJhdGluZyhmYWxzZSk7XG4gICAgICAgIGRyYWZ0R2VuZXJhdGlvbi5zZXRJc0dlbmVyYXRpbmdGaW5hbENhcmQoZmFsc2UpO1xuICAgICAgICBjYXJkR2VuZXJhdGlvbi5zZXRHZW5lcmF0aW9uUHJvZ3Jlc3MoXCJcIik7XG4gICAgICAgIC8vIERvbid0IHJlc2V0IHByb2dyZXNzIC0gbGV0IHRpbWUtYmFzZWQgcHJvZ3Jlc3MgY29udGludWVcbiAgICAgICAgLy8gam9iTWFuYWdlbWVudC5zZXRQcm9ncmVzc1BlcmNlbnRhZ2UoMCk7XG4gICAgICAgIGpvYk1hbmFnZW1lbnQuc3RvcEVsYXBzZWRUaW1lVHJhY2tpbmcoKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gQ2xlYW4gdXAgc3RvcmFnZVxuICAgICAgLy8gT25seSBjbGVhciByZWNvdmVyeSBpZiB3ZSdyZSBub3QgaW4gdGhlIG1pZGRsZSBvZiByZXN0b3JpbmdcbiAgICAgIGlmICghaXNSZXN0b3JpbmdKb2JzKSB7XG4gICAgICAgIGpvYk1hbmFnZW1lbnQucmVtb3ZlSm9iRnJvbVN0b3JhZ2Uoam9iX2lkKTtcbiAgICAgIH1cbiAgICAgIHdlYlNvY2tldC51bnN1YnNjcmliZUZyb21Kb2Ioam9iX2lkKTtcbiAgICB9XG4gIH0sIFtzZWxlY3RlZEFydGlzdGljU3R5bGUsIGRyYWZ0R2VuZXJhdGlvbiwgY2FyZEdlbmVyYXRpb24sIGpvYk1hbmFnZW1lbnQsIHdlYlNvY2tldCwgaXNSZXN0b3JpbmdKb2JzXSk7XG5cbiAgLy8gU2V0IHVwIFdlYlNvY2tldCBqb2IgdXBkYXRlIGhhbmRsZXJcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICB3ZWJTb2NrZXQuc2V0Sm9iVXBkYXRlSGFuZGxlcihoYW5kbGVKb2JVcGRhdGUpO1xuICB9LCBbd2ViU29ja2V0LCBoYW5kbGVKb2JVcGRhdGVdKTtcblxuICAvLyBUcmFjayBpZiB3ZSd2ZSBhbHJlYWR5IGxvZ2dlZCB0aGUgc3RhbGUgam9iIG1lc3NhZ2VcbiAgY29uc3Qgc3RhbGVKb2JMb2dnZWRSZWYgPSB1c2VSZWYoZmFsc2UpO1xuXG4gIC8vIEF1dG8tcmVjb25uZWN0IFdlYlNvY2tldCBpZiBkaXNjb25uZWN0ZWQgZHVyaW5nIGFjdGl2ZSBnZW5lcmF0aW9uXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCF3ZWJTb2NrZXQuaXNTb2NrZXRDb25uZWN0ZWQgJiYgXG4gICAgICAgIChjYXJkR2VuZXJhdGlvbi5pc0dlbmVyYXRpbmcgfHwgZHJhZnRHZW5lcmF0aW9uLmlzR2VuZXJhdGluZ0ZpbmFsQ2FyZCkgJiYgXG4gICAgICAgIHdlYlNvY2tldC5jdXJyZW50Sm9iUmVmLmN1cnJlbnQpIHtcbiAgICAgIFxuICAgICAgLy8gQ2hlY2sgaWYgdGhlIGdlbmVyYXRpb24gaGFzIGJlZW4gcnVubmluZyBmb3IgbW9yZSB0aGFuIDUgbWludXRlc1xuICAgICAgaWYgKGpvYk1hbmFnZW1lbnQuZ2VuZXJhdGlvblN0YXJ0VGltZSkge1xuICAgICAgICBjb25zdCBqb2JBZ2UgPSBEYXRlLm5vdygpIC0gam9iTWFuYWdlbWVudC5nZW5lcmF0aW9uU3RhcnRUaW1lO1xuICAgICAgICBpZiAoam9iQWdlID4gNSAqIDYwICogMTAwMCkgeyAvLyA1IG1pbnV0ZXNcbiAgICAgICAgICBpZiAoIXN0YWxlSm9iTG9nZ2VkUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfij7AgSm9iIGlzIG9sZGVyIHRoYW4gNSBtaW51dGVzLCBzdG9wcGluZyByZWNvbm5lY3Rpb24gYXR0ZW1wdHMnKTtcbiAgICAgICAgICAgIHN0YWxlSm9iTG9nZ2VkUmVmLmN1cnJlbnQgPSB0cnVlO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBDbGVhbiB1cCBzdGFsZSBqb2JcbiAgICAgICAgICAgIGNvbnN0IGpvYklkID0gd2ViU29ja2V0LmN1cnJlbnRKb2JSZWYuY3VycmVudDtcbiAgICAgICAgICAgIGlmIChqb2JJZCkge1xuICAgICAgICAgICAgICBjb25zb2xlLmxvZygn8J+nuSBDbGVhbmluZyB1cCBzdGFsZSBqb2I6Jywgam9iSWQpO1xuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgLy8gUmVtb3ZlIGZyb20gbG9jYWxTdG9yYWdlIChvbmx5IGlmIG5vdCBhIGRyYWZ0IGpvYilcbiAgICAgICAgICAgICAgaWYgKCFqb2JJZC5zdGFydHNXaXRoKCdkcmFmdC0nKSkge1xuICAgICAgICAgICAgICAgIGpvYk1hbmFnZW1lbnQucmVtb3ZlSm9iRnJvbVN0b3JhZ2Uoam9iSWQpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAvLyBSZXNldCBnZW5lcmF0aW9uIHN0YXRlc1xuICAgICAgICAgICAgICBjYXJkR2VuZXJhdGlvbi5zZXRJc0dlbmVyYXRpbmcoZmFsc2UpO1xuICAgICAgICAgICAgICBkcmFmdEdlbmVyYXRpb24uc2V0SXNHZW5lcmF0aW5nRmluYWxDYXJkKGZhbHNlKTtcbiAgICAgICAgICAgICAgZHJhZnRHZW5lcmF0aW9uLnNldElzRHJhZnRNb2RlKGZhbHNlKTtcbiAgICAgICAgICAgICAgZHJhZnRHZW5lcmF0aW9uLnNldERyYWZ0Q2FyZHMoW10pO1xuICAgICAgICAgICAgICBkcmFmdEdlbmVyYXRpb24uc2V0RHJhZnRDb21wbGV0aW9uQ291bnQoMCk7XG4gICAgICAgICAgICAgIGRyYWZ0R2VuZXJhdGlvbi5zZXREcmFmdENvbXBsZXRpb25TaG93bihmYWxzZSk7XG4gICAgICAgICAgICAgIGpvYk1hbmFnZW1lbnQuc2V0Q3VycmVudEpvYklkKG51bGwpO1xuICAgICAgICAgICAgICBqb2JNYW5hZ2VtZW50LnNldEdlbmVyYXRpb25Qcm9ncmVzcygnJyk7XG4gICAgICAgICAgICAgIC8vIERvbid0IHJlc2V0IHByb2dyZXNzIC0gbGV0IHRpbWUtYmFzZWQgcHJvZ3Jlc3MgY29udGludWVcbiAgICAgICAgLy8gam9iTWFuYWdlbWVudC5zZXRQcm9ncmVzc1BlcmNlbnRhZ2UoMCk7XG4gICAgICAgICAgICAgIGpvYk1hbmFnZW1lbnQuc3RvcEVsYXBzZWRUaW1lVHJhY2tpbmcoKTtcbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIC8vIFVuc3Vic2NyaWJlIGZyb20gam9iXG4gICAgICAgICAgICAgIHdlYlNvY2tldC51bnN1YnNjcmliZUZyb21Kb2Ioam9iSWQpO1xuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgLy8gU2hvdyBlcnJvciB0b2FzdFxuICAgICAgICAgICAgICB0b2FzdC5lcnJvcignQ2FyZCBnZW5lcmF0aW9uIHRpbWVkIG91dC4gUGxlYXNlIHRyeSBhZ2Fpbi4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBcbiAgICAgIGNvbnNvbGUubG9nKCfwn5SEIFdlYlNvY2tldCBkaXNjb25uZWN0ZWQgZHVyaW5nIGdlbmVyYXRpb24sIGF0dGVtcHRpbmcgcmVjb25uZWN0Li4uJyk7XG4gICAgICBjb25zdCByZWNvbm5lY3RUaW1lciA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICB3ZWJTb2NrZXQuY29ubmVjdFdlYlNvY2tldCgpO1xuICAgICAgICBcbiAgICAgICAgLy8gUmUtc3Vic2NyaWJlIHRvIGN1cnJlbnQgam9iIGFmdGVyIHJlY29ubmVjdGlvblxuICAgICAgICBjb25zdCBqb2JJZCA9IHdlYlNvY2tldC5jdXJyZW50Sm9iUmVmLmN1cnJlbnQ7XG4gICAgICAgIGlmIChqb2JJZCkge1xuICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ/Cfk6EgUmUtc3Vic2NyaWJpbmcgdG8gam9iIGFmdGVyIHJlY29ubmVjdDonLCBqb2JJZCk7XG4gICAgICAgICAgICB3ZWJTb2NrZXQuc3Vic2NyaWJlVG9Kb2Ioam9iSWQpO1xuICAgICAgICAgIH0sIDEwMDApO1xuICAgICAgICB9XG4gICAgICB9LCAyMDAwKTtcbiAgICAgIFxuICAgICAgcmV0dXJuICgpID0+IGNsZWFyVGltZW91dChyZWNvbm5lY3RUaW1lcik7XG4gICAgfVxuICB9LCBbd2ViU29ja2V0LCBjYXJkR2VuZXJhdGlvbi5pc0dlbmVyYXRpbmcsIGRyYWZ0R2VuZXJhdGlvbi5pc0dlbmVyYXRpbmdGaW5hbENhcmQsIGpvYk1hbmFnZW1lbnQuZ2VuZXJhdGlvblN0YXJ0VGltZV0pO1xuXG4gIC8vIFJlc2V0IHN0YWxlIGpvYiBmbGFnIHdoZW4gZ2VuZXJhdGlvbiBzdGFydHNcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoY2FyZEdlbmVyYXRpb24uaXNHZW5lcmF0aW5nIHx8IGRyYWZ0R2VuZXJhdGlvbi5pc0dlbmVyYXRpbmdGaW5hbENhcmQpIHtcbiAgICAgIHN0YWxlSm9iTG9nZ2VkUmVmLmN1cnJlbnQgPSBmYWxzZTtcbiAgICB9XG4gIH0sIFtjYXJkR2VuZXJhdGlvbi5pc0dlbmVyYXRpbmcsIGRyYWZ0R2VuZXJhdGlvbi5pc0dlbmVyYXRpbmdGaW5hbENhcmRdKTtcblxuICAvLyBNb25pdG9yIGZvciBzdGFsZSBqb2IgdXBkYXRlc1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICgoY2FyZEdlbmVyYXRpb24uaXNHZW5lcmF0aW5nIHx8IGRyYWZ0R2VuZXJhdGlvbi5pc0dlbmVyYXRpbmdGaW5hbENhcmQpICYmIFxuICAgICAgICB3ZWJTb2NrZXQuY3VycmVudEpvYlJlZi5jdXJyZW50KSB7XG4gICAgICBjb25zdCBjaGVja0ludGVydmFsID0gc2V0SW50ZXJ2YWwoYXN5bmMgKCkgPT4ge1xuICAgICAgICBjb25zdCB0aW1lU2luY2VMYXN0VXBkYXRlID0gRGF0ZS5ub3coKSAtIHdlYlNvY2tldC5sYXN0Sm9iVXBkYXRlUmVmLmN1cnJlbnQ7XG4gICAgICAgIGNvbnN0IGpvYklkID0gd2ViU29ja2V0LmN1cnJlbnRKb2JSZWYuY3VycmVudDtcbiAgICAgICAgXG4gICAgICAgIC8vIFZlcnkgYWdncmVzc2l2ZSBjaGVja2luZyB3aGVuIGF0IDk1JSsgcHJvZ3Jlc3NcbiAgICAgICAgaWYgKGpvYk1hbmFnZW1lbnQucHJvZ3Jlc3NQZXJjZW50YWdlID49IDk1ICYmIHRpbWVTaW5jZUxhc3RVcGRhdGUgPiA1MDAwKSB7XG4gICAgICAgICAgY29uc29sZS53YXJuKGDimqDvuI8gTm8gdXBkYXRlcyBmb3IgJHtNYXRoLnJvdW5kKHRpbWVTaW5jZUxhc3RVcGRhdGUvMTAwMCl9cyBhdCAke2pvYk1hbmFnZW1lbnQucHJvZ3Jlc3NQZXJjZW50YWdlfSUgcHJvZ3Jlc3MgLSBjaGVja2luZyBqb2Igc3RhdHVzLi4uYCk7XG4gICAgICAgICAgXG4gICAgICAgICAgaWYgKGpvYklkKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAvYXBpL2pvYi1zdGF0dXMvJHtqb2JJZH1gKTtcbiAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgam9iU3RhdHVzID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5OKIERpcmVjdCBqb2Igc3RhdHVzIGNoZWNrOicsIGpvYlN0YXR1cyk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgaWYgKGpvYlN0YXR1cy5zdGF0dXMgPT09ICdjb21wbGV0ZWQnICYmIGpvYlN0YXR1cy5jYXJkRGF0YSkge1xuICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+KchSBKb2IgaXMgYWN0dWFsbHkgY29tcGxldGVkISBQcm9jZXNzaW5nIHJlc3VsdC4uLicpO1xuICAgICAgICAgICAgICAgICAgaGFuZGxlSm9iVXBkYXRlKHtcbiAgICAgICAgICAgICAgICAgICAgam9iX2lkOiBqb2JJZCxcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiAnY29tcGxldGVkJyxcbiAgICAgICAgICAgICAgICAgICAgcHJvZ3Jlc3M6ICdDYXJkIGdlbmVyYXRpb24gY29tcGxldGUhJyxcbiAgICAgICAgICAgICAgICAgICAgY2FyZERhdGE6IGpvYlN0YXR1cy5jYXJkRGF0YVxuICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICByZXR1cm47IC8vIEV4aXQgZWFybHkgb24gY29tcGxldGlvblxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGNoZWNrIGpvYiBzdGF0dXM6JywgZXJyb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBNb3JlIGFnZ3Jlc3NpdmUgY2hlY2tpbmcgd2hlbiBhdCBoaWdoIHByb2dyZXNzXG4gICAgICAgIGVsc2UgaWYgKGpvYk1hbmFnZW1lbnQucHJvZ3Jlc3NQZXJjZW50YWdlID49IDkwICYmIHRpbWVTaW5jZUxhc3RVcGRhdGUgPiAxMDAwMCkge1xuICAgICAgICAgIGNvbnNvbGUud2Fybihg4pqg77iPIE5vIHVwZGF0ZXMgZm9yICR7TWF0aC5yb3VuZCh0aW1lU2luY2VMYXN0VXBkYXRlLzEwMDApfXMgYXQgJHtqb2JNYW5hZ2VtZW50LnByb2dyZXNzUGVyY2VudGFnZX0lIHByb2dyZXNzYCk7XG4gICAgICAgICAgXG4gICAgICAgICAgaWYgKGpvYklkKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAvYXBpL2pvYi1zdGF0dXMvJHtqb2JJZH1gKTtcbiAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgam9iU3RhdHVzID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5OKIERpcmVjdCBqb2Igc3RhdHVzIGNoZWNrOicsIGpvYlN0YXR1cyk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgaWYgKGpvYlN0YXR1cy5zdGF0dXMgPT09ICdjb21wbGV0ZWQnICYmIGpvYlN0YXR1cy5jYXJkRGF0YSkge1xuICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+KchSBKb2IgaXMgYWN0dWFsbHkgY29tcGxldGVkISBQcm9jZXNzaW5nIHJlc3VsdC4uLicpO1xuICAgICAgICAgICAgICAgICAgaGFuZGxlSm9iVXBkYXRlKHtcbiAgICAgICAgICAgICAgICAgICAgam9iX2lkOiBqb2JJZCxcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiAnY29tcGxldGVkJyxcbiAgICAgICAgICAgICAgICAgICAgcHJvZ3Jlc3M6ICdDYXJkIGdlbmVyYXRpb24gY29tcGxldGUhJyxcbiAgICAgICAgICAgICAgICAgICAgY2FyZERhdGE6IGpvYlN0YXR1cy5jYXJkRGF0YVxuICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICByZXR1cm47IC8vIEV4aXQgZWFybHkgb24gY29tcGxldGlvblxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGNoZWNrIGpvYiBzdGF0dXM6JywgZXJyb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gU3RhbmRhcmQgc3RhbGUgdXBkYXRlIGNoZWNrXG4gICAgICAgIGlmICh0aW1lU2luY2VMYXN0VXBkYXRlID4gMzAwMDApIHsgLy8gMzAgc2Vjb25kcyB3aXRob3V0IHVwZGF0ZVxuICAgICAgICAgIGNvbnNvbGUud2Fybign4pqg77iPIE5vIGpvYiB1cGRhdGVzIGZvciAzMCBzZWNvbmRzLCBjaGVja2luZyBjb25uZWN0aW9uLi4uJyk7XG4gICAgICAgICAgXG4gICAgICAgICAgaWYgKCF3ZWJTb2NrZXQuaXNTb2NrZXRDb25uZWN0ZWQpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5SEIFdlYlNvY2tldCBkaXNjb25uZWN0ZWQsIHJlY29ubmVjdGluZy4uLicpO1xuICAgICAgICAgICAgd2ViU29ja2V0LmNvbm5lY3RXZWJTb2NrZXQoKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGpvYklkKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygn8J+ToSBSZS1zdWJzY3JpYmluZyB0byBqb2IgZHVlIHRvIHN0YWxlIHVwZGF0ZXM6Jywgam9iSWQpO1xuICAgICAgICAgICAgd2ViU29ja2V0LnN1YnNjcmliZVRvSm9iKGpvYklkKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gUmVzZXQgdGhlIHRpbWVyXG4gICAgICAgICAgd2ViU29ja2V0Lmxhc3RKb2JVcGRhdGVSZWYuY3VycmVudCA9IERhdGUubm93KCk7XG4gICAgICAgIH1cbiAgICAgIH0sIDMwMDApOyAvLyBDaGVjayBldmVyeSAzIHNlY29uZHMgZm9yIGZhc3RlciBkZXRlY3Rpb24gYXQgaGlnaCBwcm9ncmVzc1xuICAgICAgXG4gICAgICByZXR1cm4gKCkgPT4gY2xlYXJJbnRlcnZhbChjaGVja0ludGVydmFsKTtcbiAgICB9XG4gIH0sIFtjYXJkR2VuZXJhdGlvbi5pc0dlbmVyYXRpbmcsIGRyYWZ0R2VuZXJhdGlvbi5pc0dlbmVyYXRpbmdGaW5hbENhcmQsIFxuICAgICAgd2ViU29ja2V0LCBqb2JNYW5hZ2VtZW50LnByb2dyZXNzUGVyY2VudGFnZSwgaGFuZGxlSm9iVXBkYXRlXSk7XG5cbiAgLy8gU2ltcGxpZmllZCBqb2IgcmVzdG9yYXRpb24gdXNpbmcgbmV3IHN0b3JhZ2UgbWFuYWdlclxuICBjb25zdCBjaGVja1BlbmRpbmdKb2JzID0gdXNlQ2FsbGJhY2soYXN5bmMgKCkgPT4ge1xuICAgIGNvbnNvbGUubG9nKCfwn5SEIENoZWNraW5nIGZvciByZWNvdmVyeSBkYXRhLi4uJyk7XG4gICAgc2V0SXNSZXN0b3JpbmdKb2JzKHRydWUpO1xuICAgIFxuICAgIC8vIENoZWNrIGZvciBhY3RpdmUgcmVjb3Zlcnkgam9iXG4gICAgY29uc3QgcmVjb3ZlcnkgPSBzdG9yYWdlLmdldFJlY292ZXJ5KCk7XG4gICAgXG4gICAgaWYgKCFyZWNvdmVyeSkge1xuICAgICAgY29uc29sZS5sb2coJ+KchSBObyBhY3RpdmUgam9iIHRvIHJlY292ZXInKTtcbiAgICAgIHNldElzUmVzdG9yaW5nSm9icyhmYWxzZSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFxuICAgIGNvbnNvbGUubG9nKCfwn5SEIEZvdW5kIHJlY292ZXJ5IGRhdGE6JywgcmVjb3ZlcnkpO1xuICAgIFxuICAgIC8vIEluIG91ciBzaW1wbGlmaWVkIHN5c3RlbSwgd2Ugb25seSB0cmFjayBvbmUgYWN0aXZlIGpvYiBhdCBhIHRpbWVcbiAgICAvLyBSZWNvdmVyeSBpcyBtZWFudCBmb3IgYnJvd3NlciBjcmFzaGVzIGR1cmluZyBnZW5lcmF0aW9uXG4gICAgY29uc3QgaXNSZWNvdmVyeURyYWZ0ID0gcmVjb3Zlcnkuam9iSWQ/LnN0YXJ0c1dpdGgoJ2RyYWZ0LScpO1xuICAgIFxuICAgIGlmIChpc1JlY292ZXJ5RHJhZnQpIHtcbiAgICAgIGNvbnNvbGUubG9nKCfwn46oIFJlY292ZXJpbmcgZnJvbSBkcmFmdCBnZW5lcmF0aW9uJyk7XG4gICAgICAvLyBGb3IgZHJhZnQgcmVjb3ZlcnksIHdlIGNhbid0IHJlc3RvcmUgdGhlIGV4YWN0IHN0YXRlXG4gICAgICAvLyBVc2VyIHdpbGwgbmVlZCB0byByZXN0YXJ0IHRoZSBkcmFmdCBnZW5lcmF0aW9uXG4gICAgICBzZXRJc1Jlc3RvcmluZ0pvYnMoZmFsc2UpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBcbiAgICAvLyBGb3IgZmluYWwgY2FyZCByZWNvdmVyeSwgd2UgY2FuIHRyeSB0byByZXN0b3JlIHRoZSBqb2JcbiAgICBjb25zb2xlLmxvZygn8J+OryBSZWNvdmVyaW5nIGZyb20gZmluYWwgY2FyZCBnZW5lcmF0aW9uJyk7XG4gICAgXG4gICAgLy8gUmVzdG9yZSBnZW5lcmF0aW9uIHN0YXRlXG4gICAgam9iTWFuYWdlbWVudC5zZXRDdXJyZW50Sm9iSWQocmVjb3Zlcnkuam9iSWQpO1xuICAgIGNhcmRHZW5lcmF0aW9uLnNldElzR2VuZXJhdGluZyh0cnVlKTtcbiAgICBjYXJkR2VuZXJhdGlvbi5zZXRHZW5lcmF0aW9uUHJvZ3Jlc3MoXCLwn5SEIFJlc3VtaW5nIGdlbmVyYXRpb24uLi5cIik7XG4gICAgam9iTWFuYWdlbWVudC5zdGFydEVsYXBzZWRUaW1lVHJhY2tpbmcoJ2ZpbmFsJyk7XG4gICAgXG4gICAgLy8gU3Vic2NyaWJlIHRvIHRoZSBqb2IgdG8gZ2V0IHVwZGF0ZXNcbiAgICB3ZWJTb2NrZXQuc3Vic2NyaWJlVG9Kb2IocmVjb3Zlcnkuam9iSWQpO1xuICAgIHNldElzUmVzdG9yaW5nSm9icyhmYWxzZSk7XG4gIH0sIFt3ZWJTb2NrZXQsIHN0b3JhZ2VdKTtcblxuICAvLyBMb2FkIHJlY292ZXJ5IGRhdGEgb24gY29tcG9uZW50IG1vdW50XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc29sZS5sb2coJ/CfmoAgdXNlQ2FyZFN0dWRpbyBtb3VudGVkLCBjaGVja2luZyBmb3IgcmVjb3ZlcnkuLi4nKTtcbiAgICBcbiAgICAvLyBDaGVjayBmb3IgYWN0aXZlIHJlY292ZXJ5IGpvYlxuICAgIGNvbnN0IHJlY292ZXJ5ID0gc3RvcmFnZS5nZXRSZWNvdmVyeSgpO1xuICAgIGNvbnNvbGUubG9nKCfwn5OmIFJlY292ZXJ5IGRhdGE6JywgcmVjb3ZlcnkpO1xuICAgIFxuICAgIGlmIChyZWNvdmVyeSkge1xuICAgICAgY29uc29sZS5sb2coJ/CflIQgRm91bmQgYWN0aXZlIGpvYiB0byByZWNvdmVyOicsIHJlY292ZXJ5LmpvYklkKTtcbiAgICAgIFxuICAgICAgLy8gRm9yIGRyYWZ0IGpvYnMsIGNoZWNrIGlmIHdlIGFscmVhZHkgaGF2ZSBjb21wbGV0ZWQgZHJhZnRzXG4gICAgICBjb25zdCBpc0RyYWZ0ID0gcmVjb3Zlcnkuam9iSWQuc3RhcnRzV2l0aCgnZHJhZnQtJyk7XG4gICAgICBcbiAgICAgIGlmIChpc0RyYWZ0KSB7XG4gICAgICAgIC8vIENoZWNrIGlmIHdlIGFscmVhZHkgaGF2ZSBjb21wbGV0ZWQgZHJhZnQgY2FyZHNcbiAgICAgICAgY29uc3QgaGFzQ29tcGxldGVkRHJhZnRzID0gZHJhZnRHZW5lcmF0aW9uLmRyYWZ0Q2FyZHMuZmlsdGVyKGNhcmQgPT4gY2FyZCAhPT0gbnVsbCkubGVuZ3RoID4gMDtcbiAgICAgICAgXG4gICAgICAgIGlmIChoYXNDb21wbGV0ZWREcmFmdHMpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZygn4pyFIERyYWZ0IGpvYiBhbHJlYWR5IGNvbXBsZXRlZCwgbm90IHNldHRpbmcgYXMgZ2VuZXJhdGluZycpO1xuICAgICAgICAgIC8vIEp1c3QgcmVzdG9yZSB0aGUgam9iIElEIGZvciByZWZlcmVuY2UsIGJ1dCBkb24ndCBzZXQgYXMgZ2VuZXJhdGluZ1xuICAgICAgICAgIGpvYk1hbmFnZW1lbnQuc2V0Q3VycmVudEpvYklkKHJlY292ZXJ5LmpvYklkKTtcbiAgICAgICAgICBkcmFmdEdlbmVyYXRpb24uc2V0SXNEcmFmdE1vZGUodHJ1ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ/CfjqggUmVzdW1pbmcgaW5jb21wbGV0ZSBkcmFmdCBnZW5lcmF0aW9uJyk7XG4gICAgICAgICAgLy8gU3Vic2NyaWJlIHRvIHRoZSBqb2IgdG8gY2hlY2sgaXRzIHN0YXR1c1xuICAgICAgICAgIGpvYk1hbmFnZW1lbnQuc2V0Q3VycmVudEpvYklkKHJlY292ZXJ5LmpvYklkKTtcbiAgICAgICAgICB3ZWJTb2NrZXQuc3Vic2NyaWJlVG9Kb2IocmVjb3Zlcnkuam9iSWQpO1xuICAgICAgICAgIGRyYWZ0R2VuZXJhdGlvbi5zZXRJc0RyYWZ0TW9kZSh0cnVlKTtcbiAgICAgICAgICAvLyBEb24ndCBzZXQgYXMgZ2VuZXJhdGluZyB5ZXQgLSB3YWl0IGZvciBXZWJTb2NrZXQgdG8gdGVsbCB1cyB0aGUgYWN0dWFsIHN0YXR1c1xuICAgICAgICAgIC8vIFRoaXMgcHJldmVudHMgbmF2aWdhdGlvbiB0byBTdGVwIDUgZm9yIGFscmVhZHkgY29tcGxldGVkIGpvYnNcbiAgICAgICAgICBjb25zb2xlLmxvZygn4o+zIFdhaXRpbmcgZm9yIGpvYiBzdGF0dXMgdXBkYXRlIGJlZm9yZSBzZXR0aW5nIGdlbmVyYXRpb24gc3RhdGUuLi4nKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gRm9yIGZpbmFsIGNhcmQgcmVjb3ZlcnksIGNoZWNrIGlmIGFscmVhZHkgY29tcGxldGVkXG4gICAgICAgIGlmIChjYXJkR2VuZXJhdGlvbi5nZW5lcmF0ZWRDYXJkICYmIGNhcmRHZW5lcmF0aW9uLmlzQ2FyZENvbXBsZXRlZCkge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCfinIUgRmluYWwgY2FyZCBhbHJlYWR5IGNvbXBsZXRlZCwgbm90IHNldHRpbmcgYXMgZ2VuZXJhdGluZycpO1xuICAgICAgICAgIGpvYk1hbmFnZW1lbnQuc2V0Q3VycmVudEpvYklkKHJlY292ZXJ5LmpvYklkKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zb2xlLmxvZygn8J+OryBSZXN1bWluZyBpbmNvbXBsZXRlIGZpbmFsIGNhcmQgZ2VuZXJhdGlvbicpO1xuICAgICAgICAgIGpvYk1hbmFnZW1lbnQuc2V0Q3VycmVudEpvYklkKHJlY292ZXJ5LmpvYklkKTtcbiAgICAgICAgICB3ZWJTb2NrZXQuc3Vic2NyaWJlVG9Kb2IocmVjb3Zlcnkuam9iSWQpO1xuICAgICAgICAgIGNhcmRHZW5lcmF0aW9uLnNldElzR2VuZXJhdGluZyh0cnVlKTtcbiAgICAgICAgICBjYXJkR2VuZXJhdGlvbi5zZXRHZW5lcmF0aW9uUHJvZ3Jlc3MoJ/CfjqggUmVzdW1pbmcgY2FyZCBnZW5lcmF0aW9uLi4uJyk7XG4gICAgICAgICAgam9iTWFuYWdlbWVudC5zdGFydEVsYXBzZWRUaW1lVHJhY2tpbmcoJ2ZpbmFsJyk7XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gSWYgdGhpcyBpcyBhIGZpbmFsIGNhcmQgZ2VuZXJhdGlvbiBmcm9tIGEgZHJhZnQsIHNldCB0aGUgYXBwcm9wcmlhdGUgc3RhdGVcbiAgICAgICAgICBpZiAocmVjb3ZlcnkuZm9ybURhdGEgJiYgcmVjb3ZlcnkuZm9ybURhdGEuc2VsZWN0ZWREcmFmdEluZGV4ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGRyYWZ0R2VuZXJhdGlvbi5zZXRJc0dlbmVyYXRpbmdGaW5hbENhcmQodHJ1ZSk7XG4gICAgICAgICAgICBkcmFmdEdlbmVyYXRpb24uc2V0U2VsZWN0ZWREcmFmdEluZGV4KHJlY292ZXJ5LmZvcm1EYXRhLnNlbGVjdGVkRHJhZnRJbmRleCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIC8vIEFsd2F5cyBtYXJrIHJlc3RvcmF0aW9uIGFzIGNvbXBsZXRlXG4gICAgc2V0SXNSZXN0b3JpbmdKb2JzKGZhbHNlKTtcbiAgICBcbiAgICAvLyBNYXJrIHJlc3RvcmF0aW9uIGFzIGNvbXBsZXRlIGFmdGVyIGEgc21hbGwgZGVsYXlcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHNldElzUmVzdG9yaW5nSm9icyhmYWxzZSk7XG4gICAgfSwgMTAwKTtcbiAgfSwgW10pO1xuXG4gIC8vIFJldHVybiBhbGwgdGhlIHN0YXRlIGFuZCBmdW5jdGlvbnMgdGhhdCB0aGUgVUkgbmVlZHNcbiAgcmV0dXJuIHtcbiAgICAvLyBDb3JlIHN0YXRlXG4gICAgcHJvbXB0LFxuICAgIHNldFByb21wdCxcbiAgICBmaW5hbENhcmRNZXNzYWdlOiBtZXNzYWdlR2VuZXJhdGlvbi5maW5hbENhcmRNZXNzYWdlLFxuICAgIHNldEZpbmFsQ2FyZE1lc3NhZ2U6IG1lc3NhZ2VHZW5lcmF0aW9uLnNldEZpbmFsQ2FyZE1lc3NhZ2UsXG4gICAgdG9GaWVsZCxcbiAgICBzZXRUb0ZpZWxkLFxuICAgIGZyb21GaWVsZCxcbiAgICBzZXRGcm9tRmllbGQsXG4gICAgcmVsYXRpb25zaGlwRmllbGQsXG4gICAgc2V0UmVsYXRpb25zaGlwRmllbGQsXG4gICAgcGVyc29uYWxUcmFpdHMsXG4gICAgc2V0UGVyc29uYWxUcmFpdHMsXG4gICAgc2VsZWN0ZWRUeXBlLFxuICAgIHNldFNlbGVjdGVkVHlwZSxcbiAgICBjdXN0b21DYXJkVHlwZSxcbiAgICBzZXRDdXN0b21DYXJkVHlwZSxcbiAgICBzZWxlY3RlZFRvbmUsXG4gICAgc2V0U2VsZWN0ZWRUb25lLFxuICAgIGlzR2VuZXJhdGluZzogY2FyZEdlbmVyYXRpb24uaXNHZW5lcmF0aW5nIHx8IGRyYWZ0R2VuZXJhdGlvbi5pc0dlbmVyYXRpbmcsXG4gICAgc2V0SXNHZW5lcmF0aW5nOiBjYXJkR2VuZXJhdGlvbi5zZXRJc0dlbmVyYXRpbmcsXG4gICAgaXNHZW5lcmF0aW5nTWVzc2FnZTogbWVzc2FnZUdlbmVyYXRpb24uaXNHZW5lcmF0aW5nTWVzc2FnZSxcbiAgICBzZXRJc0dlbmVyYXRpbmdNZXNzYWdlOiBtZXNzYWdlR2VuZXJhdGlvbi5zZXRJc0dlbmVyYXRpbmdNZXNzYWdlLFxuICAgIGdlbmVyYXRlZENhcmQ6IGNhcmRHZW5lcmF0aW9uLmdlbmVyYXRlZENhcmQsXG4gICAgc2V0R2VuZXJhdGVkQ2FyZDogY2FyZEdlbmVyYXRpb24uc2V0R2VuZXJhdGVkQ2FyZCxcbiAgICBudW1iZXJPZkNhcmRzLFxuICAgIHNldE51bWJlck9mQ2FyZHMsXG4gICAgZ2VuZXJhdGVkQ2FyZHM6IGNhcmRHZW5lcmF0aW9uLmdlbmVyYXRlZENhcmRzLFxuICAgIHNldEdlbmVyYXRlZENhcmRzOiBjYXJkR2VuZXJhdGlvbi5zZXRHZW5lcmF0ZWRDYXJkcyxcbiAgICBzZWxlY3RlZENhcmRJbmRleDogY2FyZEdlbmVyYXRpb24uc2VsZWN0ZWRDYXJkSW5kZXgsXG4gICAgc2V0U2VsZWN0ZWRDYXJkSW5kZXg6IGNhcmRHZW5lcmF0aW9uLnNldFNlbGVjdGVkQ2FyZEluZGV4LFxuICAgIFxuICAgIC8vIEFkdmFuY2VkIG9wdGlvbnNcbiAgICBzaG93QWR2YW5jZWQsXG4gICAgc2V0U2hvd0FkdmFuY2VkLFxuICAgIHNlbGVjdGVkQXJ0aXN0aWNTdHlsZSxcbiAgICBzZXRTZWxlY3RlZEFydGlzdGljU3R5bGUsXG4gICAgY3VzdG9tU3R5bGVEZXNjcmlwdGlvbixcbiAgICBzZXRDdXN0b21TdHlsZURlc2NyaXB0aW9uLFxuICAgIHNlbGVjdGVkSW1hZ2VNb2RlbCxcbiAgICBzZXRTZWxlY3RlZEltYWdlTW9kZWwsXG4gICAgc2VsZWN0ZWREcmFmdE1vZGVsLFxuICAgIHNldFNlbGVjdGVkRHJhZnRNb2RlbCxcbiAgICBcbiAgICAvLyBEcmFmdCBtb2RlXG4gICAgaXNEcmFmdE1vZGU6IGRyYWZ0R2VuZXJhdGlvbi5pc0RyYWZ0TW9kZSxcbiAgICBzZXRJc0RyYWZ0TW9kZTogZHJhZnRHZW5lcmF0aW9uLnNldElzRHJhZnRNb2RlLFxuICAgIGRyYWZ0Q2FyZHM6IGRyYWZ0R2VuZXJhdGlvbi5kcmFmdENhcmRzLFxuICAgIHNldERyYWZ0Q2FyZHM6IGRyYWZ0R2VuZXJhdGlvbi5zZXREcmFmdENhcmRzLFxuICAgIHNlbGVjdGVkRHJhZnRJbmRleDogZHJhZnRHZW5lcmF0aW9uLnNlbGVjdGVkRHJhZnRJbmRleCxcbiAgICBzZXRTZWxlY3RlZERyYWZ0SW5kZXg6IGRyYWZ0R2VuZXJhdGlvbi5zZXRTZWxlY3RlZERyYWZ0SW5kZXgsXG4gICAgaXNHZW5lcmF0aW5nRmluYWxDYXJkOiBkcmFmdEdlbmVyYXRpb24uaXNHZW5lcmF0aW5nRmluYWxDYXJkLFxuICAgIHNldElzR2VuZXJhdGluZ0ZpbmFsQ2FyZDogZHJhZnRHZW5lcmF0aW9uLnNldElzR2VuZXJhdGluZ0ZpbmFsQ2FyZCxcbiAgICBwcmV2aWV3aW5nRHJhZnRJbmRleDogZHJhZnRHZW5lcmF0aW9uLnByZXZpZXdpbmdEcmFmdEluZGV4LFxuICAgIHNldFByZXZpZXdpbmdEcmFmdEluZGV4OiBkcmFmdEdlbmVyYXRpb24uc2V0UHJldmlld2luZ0RyYWZ0SW5kZXgsXG4gICAgZHJhZnRDb21wbGV0aW9uU2hvd246IGRyYWZ0R2VuZXJhdGlvbi5kcmFmdENvbXBsZXRpb25TaG93bixcbiAgICBzZXREcmFmdENvbXBsZXRpb25TaG93bjogZHJhZnRHZW5lcmF0aW9uLnNldERyYWZ0Q29tcGxldGlvblNob3duLFxuICAgIGRyYWZ0Q29tcGxldGlvbkNvdW50OiBkcmFmdEdlbmVyYXRpb24uZHJhZnRDb21wbGV0aW9uQ291bnQsXG4gICAgc2V0RHJhZnRDb21wbGV0aW9uQ291bnQ6IGRyYWZ0R2VuZXJhdGlvbi5zZXREcmFmdENvbXBsZXRpb25Db3VudCxcbiAgICBcbiAgICAvLyBQcm9ncmVzcyB0cmFja2luZ1xuICAgIGdlbmVyYXRpb25Qcm9ncmVzczogZHJhZnRHZW5lcmF0aW9uLmlzR2VuZXJhdGluZyA/IGRyYWZ0R2VuZXJhdGlvbi5nZW5lcmF0aW9uUHJvZ3Jlc3MgOiBjYXJkR2VuZXJhdGlvbi5nZW5lcmF0aW9uUHJvZ3Jlc3MsXG4gICAgc2V0R2VuZXJhdGlvblByb2dyZXNzOiBjYXJkR2VuZXJhdGlvbi5zZXRHZW5lcmF0aW9uUHJvZ3Jlc3MsXG4gICAgcHJvZ3Jlc3NQZXJjZW50YWdlOiBqb2JNYW5hZ2VtZW50LnByb2dyZXNzUGVyY2VudGFnZSxcbiAgICBzZXRQcm9ncmVzc1BlcmNlbnRhZ2U6IGpvYk1hbmFnZW1lbnQuc2V0UHJvZ3Jlc3NQZXJjZW50YWdlLFxuICAgIGlzQ2FyZENvbXBsZXRlZDogY2FyZEdlbmVyYXRpb24uaXNDYXJkQ29tcGxldGVkLFxuICAgIHNldElzQ2FyZENvbXBsZXRlZDogY2FyZEdlbmVyYXRpb24uc2V0SXNDYXJkQ29tcGxldGVkLFxuICAgIFxuICAgIC8vIFVwbG9hZCBhbmQgcGVyc29uYWxpemF0aW9uXG4gICAgcmVmZXJlbmNlSW1hZ2VzOiBmaWxlSGFuZGxpbmcucmVmZXJlbmNlSW1hZ2VzLFxuICAgIHNldFJlZmVyZW5jZUltYWdlczogZmlsZUhhbmRsaW5nLnNldFJlZmVyZW5jZUltYWdlcyxcbiAgICByZWZlcmVuY2VJbWFnZVVybHM6IGZpbGVIYW5kbGluZy5yZWZlcmVuY2VJbWFnZVVybHMsXG4gICAgc2V0UmVmZXJlbmNlSW1hZ2VVcmxzOiBmaWxlSGFuZGxpbmcuc2V0UmVmZXJlbmNlSW1hZ2VVcmxzLFxuICAgIGlzVXBsb2FkaW5nOiBmaWxlSGFuZGxpbmcuaXNVcGxvYWRpbmcsXG4gICAgc2V0SXNVcGxvYWRpbmc6IGZpbGVIYW5kbGluZy5zZXRJc1VwbG9hZGluZyxcbiAgICBcbiAgICAvLyBFbWFpbCBhbmQgc2V0dGluZ3NcbiAgICB1c2VyRW1haWwsXG4gICAgc2V0VXNlckVtYWlsLFxuICAgIGlzSGFuZHdyaXR0ZW5NZXNzYWdlLFxuICAgIHNldElzSGFuZHdyaXR0ZW5NZXNzYWdlLFxuICAgIGlzRnJvbnRCYWNrT25seSxcbiAgICBzZXRJc0Zyb250QmFja09ubHksXG4gICAgc2VsZWN0ZWRQYXBlclNpemUsXG4gICAgc2V0U2VsZWN0ZWRQYXBlclNpemUsXG4gICAgXG4gICAgLy8gVUkgc3RhdGVcbiAgICBpc1RleHRhcmVhRXhwYW5kZWQsXG4gICAgc2V0SXNUZXh0YXJlYUV4cGFuZGVkLFxuICAgIGlzTWVzc2FnZUV4cGFuZGVkLFxuICAgIHNldElzTWVzc2FnZUV4cGFuZGVkLFxuICAgIHNob3dTZXR0aW5ncyxcbiAgICBzZXRTaG93U2V0dGluZ3MsXG4gICAgc2hvd1RlbXBsYXRlR2FsbGVyeSxcbiAgICBzZXRTaG93VGVtcGxhdGVHYWxsZXJ5LFxuICAgIHNob3dQcmludENvbmZpcm1hdGlvbixcbiAgICBzZXRTaG93UHJpbnRDb25maXJtYXRpb24sXG4gICAgXG4gICAgLy8gR2VuZXJhdGlvbiB0aW1lXG4gICAgZ2VuZXJhdGlvbkR1cmF0aW9uOiBjYXJkR2VuZXJhdGlvbi5nZW5lcmF0aW9uRHVyYXRpb24sXG4gICAgc2V0R2VuZXJhdGlvbkR1cmF0aW9uOiBjYXJkR2VuZXJhdGlvbi5zZXRHZW5lcmF0aW9uRHVyYXRpb24sXG4gICAgY3VycmVudEVsYXBzZWRUaW1lOiBqb2JNYW5hZ2VtZW50LmN1cnJlbnRFbGFwc2VkVGltZSxcbiAgICBcbiAgICAvLyBIZWxwZXIgZnVuY3Rpb25zXG4gICAgZm9ybWF0R2VuZXJhdGlvblRpbWUsXG4gICAgZm9ybWF0Q291bnRkb3duLFxuICAgIHNlbmRUaGFua1lvdUVtYWlsLFxuICAgIGNoYXRXaXRoQUksXG4gICAgc2Nyb2xsVG9DYXJkUHJldmlldyxcbiAgICBcbiAgICAvLyBUaW1lIHRyYWNraW5nIGZ1bmN0aW9uc1xuICAgIHN0YXJ0RWxhcHNlZFRpbWVUcmFja2luZzogam9iTWFuYWdlbWVudC5zdGFydEVsYXBzZWRUaW1lVHJhY2tpbmcsXG4gICAgc3RvcEVsYXBzZWRUaW1lVHJhY2tpbmc6IGpvYk1hbmFnZW1lbnQuc3RvcEVsYXBzZWRUaW1lVHJhY2tpbmcsXG4gICAgXG4gICAgLy8gRmlsZSBoYW5kbGluZyBmdW5jdGlvbnNcbiAgICBoYW5kbGVGaWxlVXBsb2FkOiBmaWxlSGFuZGxpbmcuaGFuZGxlRmlsZVVwbG9hZCxcbiAgICBoYW5kbGVSZW1vdmVSZWZlcmVuY2VJbWFnZTogZmlsZUhhbmRsaW5nLmhhbmRsZVJlbW92ZVJlZmVyZW5jZUltYWdlLFxuICAgIFxuICAgIC8vIFNpbXBsaWZpZWQgcGhvdG8gcmVmZXJlbmNlc1xuICAgIHBob3RvUmVmZXJlbmNlczogZmlsZUhhbmRsaW5nLnBob3RvUmVmZXJlbmNlcyxcbiAgICBzZXRQaG90b1JlZmVyZW5jZXM6IGZpbGVIYW5kbGluZy5zZXRQaG90b1JlZmVyZW5jZXMsXG4gICAgdXBkYXRlUGhvdG9EZXNjcmlwdGlvbjogZmlsZUhhbmRsaW5nLnVwZGF0ZVBob3RvRGVzY3JpcHRpb24sXG4gICAgXG4gICAgLy8gTWVzc2FnZSBmdW5jdGlvbnNcbiAgICBoYW5kbGVHZXRNZXNzYWdlSGVscDogbWVzc2FnZUdlbmVyYXRpb24uaGFuZGxlR2V0TWVzc2FnZUhlbHAsXG4gICAgYWRkTWVzc2FnZVRvSGlzdG9yeTogbWVzc2FnZUdlbmVyYXRpb24uYWRkTWVzc2FnZVRvSGlzdG9yeSxcbiAgICB1bmRvTWVzc2FnZTogbWVzc2FnZUdlbmVyYXRpb24udW5kb01lc3NhZ2UsXG4gICAgcmVkb01lc3NhZ2U6IG1lc3NhZ2VHZW5lcmF0aW9uLnJlZG9NZXNzYWdlLFxuICAgIFxuICAgIC8vIEpvYiBtYW5hZ2VtZW50XG4gICAgc2F2ZUpvYlRvU3RvcmFnZTogam9iTWFuYWdlbWVudC5zYXZlSm9iVG9TdG9yYWdlLFxuICAgIHJlbW92ZUpvYkZyb21TdG9yYWdlOiBqb2JNYW5hZ2VtZW50LnJlbW92ZUpvYkZyb21TdG9yYWdlLFxuICAgIGNoZWNrUGVuZGluZ0pvYnMsXG4gICAgaXNSZXN0b3JpbmdKb2JzLFxuICAgIFxuICAgIC8vIE1haW4gZ2VuZXJhdGlvbiBmdW5jdGlvbnNcbiAgICBoYW5kbGVHZW5lcmF0ZURyYWZ0Q2FyZHM6IGRyYWZ0R2VuZXJhdGlvbi5oYW5kbGVHZW5lcmF0ZURyYWZ0Q2FyZHMsXG4gICAgaGFuZGxlR2VuZXJhdGVGaW5hbEZyb21EcmFmdDogZHJhZnRHZW5lcmF0aW9uLmhhbmRsZUdlbmVyYXRlRmluYWxGcm9tRHJhZnQsXG4gICAgXG4gICAgLy8gQWRkaXRpb25hbCBzdGF0ZSBmb3IgbWVzc2FnZSByZWZpbmVtZW50XG4gICAgbWVzc2FnZUhpc3Rvcnk6IG1lc3NhZ2VHZW5lcmF0aW9uLm1lc3NhZ2VIaXN0b3J5LFxuICAgIHNldE1lc3NhZ2VIaXN0b3J5OiBtZXNzYWdlR2VuZXJhdGlvbi5zZXRNZXNzYWdlSGlzdG9yeSxcbiAgICBjdXJyZW50TWVzc2FnZUluZGV4OiBtZXNzYWdlR2VuZXJhdGlvbi5jdXJyZW50TWVzc2FnZUluZGV4LFxuICAgIHNldEN1cnJlbnRNZXNzYWdlSW5kZXg6IG1lc3NhZ2VHZW5lcmF0aW9uLnNldEN1cnJlbnRNZXNzYWdlSW5kZXgsXG4gICAgcmVmaW5lbWVudFByb21wdDogbWVzc2FnZUdlbmVyYXRpb24ucmVmaW5lbWVudFByb21wdCxcbiAgICBzZXRSZWZpbmVtZW50UHJvbXB0OiBtZXNzYWdlR2VuZXJhdGlvbi5zZXRSZWZpbmVtZW50UHJvbXB0LFxuICAgIGlzUmVmaW5pbmdNZXNzYWdlOiBtZXNzYWdlR2VuZXJhdGlvbi5pc1JlZmluaW5nTWVzc2FnZSxcbiAgICBzZXRJc1JlZmluaW5nTWVzc2FnZTogbWVzc2FnZUdlbmVyYXRpb24uc2V0SXNSZWZpbmluZ01lc3NhZ2UsXG4gICAgc2hvd1JlZmluZW1lbnRCb3g6IG1lc3NhZ2VHZW5lcmF0aW9uLnNob3dSZWZpbmVtZW50Qm94LFxuICAgIHNldFNob3dSZWZpbmVtZW50Qm94OiBtZXNzYWdlR2VuZXJhdGlvbi5zZXRTaG93UmVmaW5lbWVudEJveCxcbiAgICBcbiAgICAvLyBUZW1wbGF0ZSBzdGF0ZVxuICAgIHNob3dUZW1wbGF0ZUN1c3RvbWl6YXRpb24sXG4gICAgc2V0U2hvd1RlbXBsYXRlQ3VzdG9taXphdGlvbixcbiAgICBzZWxlY3RlZFRlbXBsYXRlLFxuICAgIHNldFNlbGVjdGVkVGVtcGxhdGUsXG4gICAgdGVtcGxhdGVDdXN0b21pemF0aW9ucyxcbiAgICBzZXRUZW1wbGF0ZUN1c3RvbWl6YXRpb25zLFxuICAgIHRlbXBsYXRlU2VhcmNoUXVlcnksXG4gICAgc2V0VGVtcGxhdGVTZWFyY2hRdWVyeSxcbiAgICBpc1NlYXJjaGluZ1RlbXBsYXRlcyxcbiAgICBzZXRJc1NlYXJjaGluZ1RlbXBsYXRlcyxcbiAgICBhaUZpbHRlcmVkQ2FyZHMsXG4gICAgc2V0QWlGaWx0ZXJlZENhcmRzLFxuICAgIHNlYXJjaE1vZGUsXG4gICAgc2V0U2VhcmNoTW9kZSxcbiAgICB0ZXh0RmlsdGVyZWRDYXJkcyxcbiAgICBzZXRUZXh0RmlsdGVyZWRDYXJkcyxcbiAgICBzaG93UHJvbXB0cyxcbiAgICBzZXRTaG93UHJvbXB0cyxcbiAgICBcbiAgICAvLyBQcmludCBzdGF0ZVxuICAgIHByaW50T3B0aW9uLFxuICAgIHNldFByaW50T3B0aW9uLFxuICAgIFxuICAgIC8vIEFkZGl0aW9uYWwgZHJhZnQgbW9kZSBzdGF0ZVxuICAgIGhhbmR3cml0aW5nU2FtcGxlOiBmaWxlSGFuZGxpbmcuaGFuZHdyaXRpbmdTYW1wbGUsXG4gICAgc2V0SGFuZHdyaXRpbmdTYW1wbGU6IGZpbGVIYW5kbGluZy5zZXRIYW5kd3JpdGluZ1NhbXBsZSxcbiAgICBoYW5kd3JpdGluZ1NhbXBsZVVybDogZmlsZUhhbmRsaW5nLmhhbmR3cml0aW5nU2FtcGxlVXJsLFxuICAgIHNldEhhbmR3cml0aW5nU2FtcGxlVXJsOiBmaWxlSGFuZGxpbmcuc2V0SGFuZHdyaXRpbmdTYW1wbGVVcmwsXG4gICAgXG4gICAgLy8gSm9iIHRyYWNraW5nXG4gICAgY3VycmVudEpvYklkOiBqb2JNYW5hZ2VtZW50LmN1cnJlbnRKb2JJZCxcbiAgICBzZXRDdXJyZW50Sm9iSWQ6IGpvYk1hbmFnZW1lbnQuc2V0Q3VycmVudEpvYklkLFxuICAgIGNvdW50ZG93bixcbiAgICBzZXRDb3VudGRvd24sXG4gICAgY291bnRkb3duSW50ZXJ2YWwsXG4gICAgc2V0Q291bnRkb3duSW50ZXJ2YWwsXG4gICAgXG4gICAgLy8gU2VjdGlvbiBsb2FkaW5nIHN0YXRlc1xuICAgIHNlY3Rpb25Mb2FkaW5nU3RhdGVzLFxuICAgIHNldFNlY3Rpb25Mb2FkaW5nU3RhdGVzLFxuICAgIFxuICAgIC8vIEZhc3QgcHJldmlldyBtb2RlXG4gICAgZmFzdFByZXZpZXdNb2RlLFxuICAgIHNldEZhc3RQcmV2aWV3TW9kZSxcbiAgICBcbiAgICAvLyBBZGRpdGlvbmFsIHRyYWNraW5nXG4gICAgY3VycmVudENhcmRJZDogY2FyZEdlbmVyYXRpb24uY3VycmVudENhcmRJZCxcbiAgICBzZXRDdXJyZW50Q2FyZElkOiBjYXJkR2VuZXJhdGlvbi5zZXRDdXJyZW50Q2FyZElkLFxuICAgIGlzSW5pdGlhbExvYWRDb21wbGV0ZSxcbiAgICBzZXRJc0luaXRpYWxMb2FkQ29tcGxldGUsXG4gICAgXG4gICAgLy8gRWxhcHNlZCB0aW1lIHRyYWNraW5nXG4gICAgZ2VuZXJhdGlvblN0YXJ0VGltZTogam9iTWFuYWdlbWVudC5nZW5lcmF0aW9uU3RhcnRUaW1lLFxuICAgIFxuICAgIC8vIENvbnN0YW50cyBmb3IgVUlcbiAgICBjYXJkVG9uZXMsXG4gICAgYXJ0aXN0aWNTdHlsZXMsXG4gICAgcGFwZXJTaXplcyxcbiAgICBcbiAgICAvLyBXZWJTb2NrZXQgZnVuY3Rpb25zIGFuZCBzdGF0ZVxuICAgIGlzU29ja2V0Q29ubmVjdGVkOiB3ZWJTb2NrZXQuaXNTb2NrZXRDb25uZWN0ZWQsXG4gICAgY29ubmVjdFdlYlNvY2tldDogd2ViU29ja2V0LmNvbm5lY3RXZWJTb2NrZXQsXG4gICAgZGlzY29ubmVjdFdlYlNvY2tldDogd2ViU29ja2V0LmRpc2Nvbm5lY3RXZWJTb2NrZXQsXG4gICAgc3Vic2NyaWJlVG9Kb2I6IHdlYlNvY2tldC5zdWJzY3JpYmVUb0pvYixcbiAgICB1bnN1YnNjcmliZUZyb21Kb2I6IHdlYlNvY2tldC51bnN1YnNjcmliZUZyb21Kb2IsXG4gICAgdW5zdWJzY3JpYmVGcm9tQWxsSm9iczogd2ViU29ja2V0LnVuc3Vic2NyaWJlRnJvbUFsbEpvYnMsXG4gICAgaGFuZGxlSm9iVXBkYXRlLFxuICAgIGhhbmRsZUZpbmFsQ2FyZENvbXBsZXRpb246IGNhcmRHZW5lcmF0aW9uLmhhbmRsZUZpbmFsQ2FyZENvbXBsZXRpb24sXG4gIH07XG59XG4iXSwibmFtZXMiOlsidXNlU3RhdGUiLCJ1c2VFZmZlY3QiLCJ1c2VDYWxsYmFjayIsInVzZVJlZiIsInRvYXN0IiwidXNlV2ViU29ja2V0IiwidXNlSm9iTWFuYWdlbWVudCIsInVzZU1lc3NhZ2VHZW5lcmF0aW9uIiwidXNlRmlsZUhhbmRsaW5nIiwidXNlRHJhZnRHZW5lcmF0aW9uIiwidXNlQ2FyZEdlbmVyYXRpb24iLCJjYXJkVG9uZXMiLCJhcnRpc3RpY1N0eWxlcyIsInBhcGVyU2l6ZXMiLCJmb3JtYXRHZW5lcmF0aW9uVGltZSIsImZvcm1hdENvdW50ZG93biIsInNlbmRUaGFua1lvdUVtYWlsIiwiY2hhdFdpdGhBSSIsInNjcm9sbFRvQ2FyZFByZXZpZXciLCJzdG9yYWdlIiwidXNlQ2FyZFN0dWRpbyIsInByb21wdCIsInNldFByb21wdCIsInRvRmllbGQiLCJzZXRUb0ZpZWxkIiwiZnJvbUZpZWxkIiwic2V0RnJvbUZpZWxkIiwicmVsYXRpb25zaGlwRmllbGQiLCJzZXRSZWxhdGlvbnNoaXBGaWVsZCIsInBlcnNvbmFsVHJhaXRzIiwic2V0UGVyc29uYWxUcmFpdHMiLCJzZWxlY3RlZFR5cGUiLCJzZXRTZWxlY3RlZFR5cGUiLCJjdXN0b21DYXJkVHlwZSIsInNldEN1c3RvbUNhcmRUeXBlIiwic2VsZWN0ZWRUb25lIiwic2V0U2VsZWN0ZWRUb25lIiwic2hvd0FkdmFuY2VkIiwic2V0U2hvd0FkdmFuY2VkIiwic2VsZWN0ZWRBcnRpc3RpY1N0eWxlIiwic2V0U2VsZWN0ZWRBcnRpc3RpY1N0eWxlIiwiY3VzdG9tU3R5bGVEZXNjcmlwdGlvbiIsInNldEN1c3RvbVN0eWxlRGVzY3JpcHRpb24iLCJzZWxlY3RlZEltYWdlTW9kZWwiLCJzZXRTZWxlY3RlZEltYWdlTW9kZWwiLCJzZWxlY3RlZERyYWZ0TW9kZWwiLCJzZXRTZWxlY3RlZERyYWZ0TW9kZWwiLCJmYXN0UHJldmlld01vZGUiLCJzZXRGYXN0UHJldmlld01vZGUiLCJ1c2VyRW1haWwiLCJzZXRVc2VyRW1haWwiLCJudW1iZXJPZkNhcmRzIiwic2V0TnVtYmVyT2ZDYXJkcyIsImlzSGFuZHdyaXR0ZW5NZXNzYWdlIiwic2V0SXNIYW5kd3JpdHRlbk1lc3NhZ2UiLCJpc0Zyb250QmFja09ubHkiLCJzZXRJc0Zyb250QmFja09ubHkiLCJzZWxlY3RlZFBhcGVyU2l6ZSIsInNldFNlbGVjdGVkUGFwZXJTaXplIiwiaXNUZXh0YXJlYUV4cGFuZGVkIiwic2V0SXNUZXh0YXJlYUV4cGFuZGVkIiwiaXNNZXNzYWdlRXhwYW5kZWQiLCJzZXRJc01lc3NhZ2VFeHBhbmRlZCIsInNob3dTZXR0aW5ncyIsInNldFNob3dTZXR0aW5ncyIsInNob3dUZW1wbGF0ZUdhbGxlcnkiLCJzZXRTaG93VGVtcGxhdGVHYWxsZXJ5Iiwic2hvd1ByaW50Q29uZmlybWF0aW9uIiwic2V0U2hvd1ByaW50Q29uZmlybWF0aW9uIiwic2hvd1RlbXBsYXRlQ3VzdG9taXphdGlvbiIsInNldFNob3dUZW1wbGF0ZUN1c3RvbWl6YXRpb24iLCJpc1Jlc3RvcmluZ0pvYnMiLCJzZXRJc1Jlc3RvcmluZ0pvYnMiLCJzZWxlY3RlZFRlbXBsYXRlIiwic2V0U2VsZWN0ZWRUZW1wbGF0ZSIsImlzSW5pdGlhbExvYWRDb21wbGV0ZSIsInNldElzSW5pdGlhbExvYWRDb21wbGV0ZSIsInRlbXBsYXRlU2VhcmNoUXVlcnkiLCJzZXRUZW1wbGF0ZVNlYXJjaFF1ZXJ5IiwiaXNTZWFyY2hpbmdUZW1wbGF0ZXMiLCJzZXRJc1NlYXJjaGluZ1RlbXBsYXRlcyIsImFpRmlsdGVyZWRDYXJkcyIsInNldEFpRmlsdGVyZWRDYXJkcyIsInNlYXJjaE1vZGUiLCJzZXRTZWFyY2hNb2RlIiwidGV4dEZpbHRlcmVkQ2FyZHMiLCJzZXRUZXh0RmlsdGVyZWRDYXJkcyIsInNob3dQcm9tcHRzIiwic2V0U2hvd1Byb21wdHMiLCJwcmludE9wdGlvbiIsInNldFByaW50T3B0aW9uIiwidGVtcGxhdGVDdXN0b21pemF0aW9ucyIsInNldFRlbXBsYXRlQ3VzdG9taXphdGlvbnMiLCJwcm9tcHRDaGFuZ2VzIiwibWVzc2FnZUNoYW5nZXMiLCJ1c2VSZWZlcmVuY2VJbWFnZSIsInJlZmVyZW5jZUltYWdlRmlsZSIsInJlZmVyZW5jZUltYWdlVXJscyIsInJlZmVyZW5jZUltYWdlVHJhbnNmb3JtYXRpb24iLCJzZWN0aW9uTG9hZGluZ1N0YXRlcyIsInNldFNlY3Rpb25Mb2FkaW5nU3RhdGVzIiwiZnJvbnRDb3ZlciIsImJhY2tDb3ZlciIsImxlZnRJbnRlcmlvciIsInJpZ2h0SW50ZXJpb3IiLCJjb3VudGRvd24iLCJzZXRDb3VudGRvd24iLCJjb3VudGRvd25JbnRlcnZhbCIsInNldENvdW50ZG93bkludGVydmFsIiwid2ViU29ja2V0Iiwiam9iTWFuYWdlbWVudCIsImZpbGVIYW5kbGluZyIsIm1lc3NhZ2VHZW5lcmF0aW9uIiwicGhvdG9SZWZlcmVuY2VzIiwiZHJhZnRHZW5lcmF0aW9uUHJvcHMiLCJmaW5hbENhcmRNZXNzYWdlIiwic2F2ZUpvYlRvU3RvcmFnZSIsInN1YnNjcmliZVRvSm9iIiwidW5zdWJzY3JpYmVGcm9tQWxsSm9icyIsInN0YXJ0RWxhcHNlZFRpbWVUcmFja2luZyIsInN0b3BFbGFwc2VkVGltZVRyYWNraW5nIiwic2V0UHJvZ3Jlc3NQZXJjZW50YWdlIiwiZHJhZnRHZW5lcmF0aW9uIiwiY2FyZEdlbmVyYXRpb25Qcm9wcyIsInJlbW92ZUpvYkZyb21TdG9yYWdlIiwic2V0Q3VycmVudEpvYklkIiwic2V0SXNEcmFmdE1vZGUiLCJzZXREcmFmdENhcmRzIiwic2V0U2VsZWN0ZWREcmFmdEluZGV4Iiwic2V0SXNHZW5lcmF0aW5nRmluYWxDYXJkIiwic2V0UHJldmlld2luZ0RyYWZ0SW5kZXgiLCJzZXREcmFmdENvbXBsZXRpb25TaG93biIsInNldERyYWZ0Q29tcGxldGlvbkNvdW50IiwiY2FyZEdlbmVyYXRpb24iLCJoYW5kbGVKb2JVcGRhdGUiLCJkYXRhIiwiam9iX2lkIiwic3RhdHVzIiwicHJvZ3Jlc3MiLCJjYXJkRGF0YSIsImVycm9yIiwiY29tcGxldGVkQXQiLCJjb25zb2xlIiwibG9nIiwiaXNEcmFmdEpvYiIsInN0YXJ0c1dpdGgiLCJkcmFmdEluZGV4IiwicGFyc2VJbnQiLCJzcGxpdCIsImlzSW5EcmFmdE1vZGUiLCJpc0RyYWZ0TW9kZSIsImlzR2VuZXJhdGluZyIsInNldElzR2VuZXJhdGluZyIsImluY2x1ZGVzIiwic2V0R2VuZXJhdGlvblByb2dyZXNzIiwibm9ybWFsaXplZENhcmREYXRhIiwibGVmdFBhZ2UiLCJsZWZ0X2ludGVyaW9yIiwibGVmdF9wYWdlIiwicmlnaHRQYWdlIiwicmlnaHRfaW50ZXJpb3IiLCJyaWdodF9wYWdlIiwiZnJvbnRfY292ZXIiLCJmcm9udCIsImJhY2tfY292ZXIiLCJiYWNrIiwiaGFzUmVxdWlyZWRGaWVsZHMiLCJ3YXJuIiwiZHJhZnRDYXJkcyIsImZpbHRlciIsIkJvb2xlYW4iLCJsZW5ndGgiLCJzdHlsZUluZm8iLCJ1bmRlZmluZWQiLCJwcmVkZWZpbmVkU3R5bGVzIiwic3R5bGVMYWJlbHMiLCJzdHlsZU5hbWUiLCJzdHlsZUxhYmVsIiwiZHJhZnRDYXJkIiwiaWQiLCJEYXRlIiwibm93IiwiY3JlYXRlZEF0IiwiZ2VuZXJhdGVkUHJvbXB0cyIsInByZXYiLCJ1cGRhdGVkIiwicHVzaCIsInVwZGF0ZWREcmFmdHMiLCJjb21wbGV0ZWRDb3VudCIsInByb2dyZXNzTXNnIiwiaXNHZW5lcmF0aW5nRmluYWxDYXJkIiwiY2xlYXJSZWNvdmVyeSIsInN1Y2Nlc3MiLCJ1bnN1YnNjcmliZUZyb21Kb2IiLCJoYXNDYXJkRGF0YSIsImNhcmREYXRhS2V5cyIsIk9iamVjdCIsImtleXMiLCJKU09OIiwic3RyaW5naWZ5IiwibWFwcGVkQ2FyZERhdGEiLCJoYXNBbGxSZXF1aXJlZEZpZWxkcyIsImhhbmRsZUZpbmFsQ2FyZENvbXBsZXRpb24iLCJjdXJyZW50Sm9iUmVmIiwiY3VycmVudCIsImN1cnJlbnRKb2JJZCIsInNldEpvYlVwZGF0ZUhhbmRsZXIiLCJzdGFsZUpvYkxvZ2dlZFJlZiIsImlzU29ja2V0Q29ubmVjdGVkIiwiZ2VuZXJhdGlvblN0YXJ0VGltZSIsImpvYkFnZSIsImpvYklkIiwicmVjb25uZWN0VGltZXIiLCJzZXRUaW1lb3V0IiwiY29ubmVjdFdlYlNvY2tldCIsImNsZWFyVGltZW91dCIsImNoZWNrSW50ZXJ2YWwiLCJzZXRJbnRlcnZhbCIsInRpbWVTaW5jZUxhc3RVcGRhdGUiLCJsYXN0Sm9iVXBkYXRlUmVmIiwicHJvZ3Jlc3NQZXJjZW50YWdlIiwiTWF0aCIsInJvdW5kIiwicmVzcG9uc2UiLCJmZXRjaCIsIm9rIiwiam9iU3RhdHVzIiwianNvbiIsImNsZWFySW50ZXJ2YWwiLCJjaGVja1BlbmRpbmdKb2JzIiwicmVjb3ZlcnkiLCJnZXRSZWNvdmVyeSIsImlzUmVjb3ZlcnlEcmFmdCIsImlzRHJhZnQiLCJoYXNDb21wbGV0ZWREcmFmdHMiLCJjYXJkIiwiZ2VuZXJhdGVkQ2FyZCIsImlzQ2FyZENvbXBsZXRlZCIsImZvcm1EYXRhIiwic2VsZWN0ZWREcmFmdEluZGV4Iiwic2V0RmluYWxDYXJkTWVzc2FnZSIsImlzR2VuZXJhdGluZ01lc3NhZ2UiLCJzZXRJc0dlbmVyYXRpbmdNZXNzYWdlIiwic2V0R2VuZXJhdGVkQ2FyZCIsImdlbmVyYXRlZENhcmRzIiwic2V0R2VuZXJhdGVkQ2FyZHMiLCJzZWxlY3RlZENhcmRJbmRleCIsInNldFNlbGVjdGVkQ2FyZEluZGV4IiwicHJldmlld2luZ0RyYWZ0SW5kZXgiLCJkcmFmdENvbXBsZXRpb25TaG93biIsImRyYWZ0Q29tcGxldGlvbkNvdW50IiwiZ2VuZXJhdGlvblByb2dyZXNzIiwic2V0SXNDYXJkQ29tcGxldGVkIiwicmVmZXJlbmNlSW1hZ2VzIiwic2V0UmVmZXJlbmNlSW1hZ2VzIiwic2V0UmVmZXJlbmNlSW1hZ2VVcmxzIiwiaXNVcGxvYWRpbmciLCJzZXRJc1VwbG9hZGluZyIsImdlbmVyYXRpb25EdXJhdGlvbiIsInNldEdlbmVyYXRpb25EdXJhdGlvbiIsImN1cnJlbnRFbGFwc2VkVGltZSIsImhhbmRsZUZpbGVVcGxvYWQiLCJoYW5kbGVSZW1vdmVSZWZlcmVuY2VJbWFnZSIsInNldFBob3RvUmVmZXJlbmNlcyIsInVwZGF0ZVBob3RvRGVzY3JpcHRpb24iLCJoYW5kbGVHZXRNZXNzYWdlSGVscCIsImFkZE1lc3NhZ2VUb0hpc3RvcnkiLCJ1bmRvTWVzc2FnZSIsInJlZG9NZXNzYWdlIiwiaGFuZGxlR2VuZXJhdGVEcmFmdENhcmRzIiwiaGFuZGxlR2VuZXJhdGVGaW5hbEZyb21EcmFmdCIsIm1lc3NhZ2VIaXN0b3J5Iiwic2V0TWVzc2FnZUhpc3RvcnkiLCJjdXJyZW50TWVzc2FnZUluZGV4Iiwic2V0Q3VycmVudE1lc3NhZ2VJbmRleCIsInJlZmluZW1lbnRQcm9tcHQiLCJzZXRSZWZpbmVtZW50UHJvbXB0IiwiaXNSZWZpbmluZ01lc3NhZ2UiLCJzZXRJc1JlZmluaW5nTWVzc2FnZSIsInNob3dSZWZpbmVtZW50Qm94Iiwic2V0U2hvd1JlZmluZW1lbnRCb3giLCJoYW5kd3JpdGluZ1NhbXBsZSIsInNldEhhbmR3cml0aW5nU2FtcGxlIiwiaGFuZHdyaXRpbmdTYW1wbGVVcmwiLCJzZXRIYW5kd3JpdGluZ1NhbXBsZVVybCIsImN1cnJlbnRDYXJkSWQiLCJzZXRDdXJyZW50Q2FyZElkIiwiZGlzY29ubmVjdFdlYlNvY2tldCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./hooks/useCardStudioRefactored.ts\n"));

/***/ })

});