"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/page",{

/***/ "(app-pages-browser)/./hooks/cardStudio/useDraftGeneration.ts":
/*!************************************************!*\
  !*** ./hooks/cardStudio/useDraftGeneration.ts ***!
  \************************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useDraftGeneration: function() { return /* binding */ useDraftGeneration; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var sonner__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! sonner */ \"(app-pages-browser)/./node_modules/sonner/dist/index.mjs\");\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! uuid */ \"(app-pages-browser)/./node_modules/uuid/dist/esm-browser/v4.js\");\n/* harmony import */ var _lib_promptGenerator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/promptGenerator */ \"(app-pages-browser)/./lib/promptGenerator.ts\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./constants */ \"(app-pages-browser)/./hooks/cardStudio/constants.ts\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./utils */ \"(app-pages-browser)/./hooks/cardStudio/utils.ts\");\n/* __next_internal_client_entry_do_not_use__ useDraftGeneration auto */ \n\n\n\n\n\nfunction useDraftGeneration(props) {\n    // Draft mode state\n    const [isDraftMode, setIsDraftMode] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [draftCards, setDraftCards] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]);\n    const [selectedDraftIndex, setSelectedDraftIndex] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(-1);\n    const [isGeneratingFinalCard, setIsGeneratingFinalCard] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [previewingDraftIndex, setPreviewingDraftIndex] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(-1);\n    const [draftCompletionShown, setDraftCompletionShown] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [draftCompletionCount, setDraftCompletionCount] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(0);\n    const [isGenerating, setIsGenerating] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [generationProgress, setGenerationProgress] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(\"\");\n    const [generatedCard, setGeneratedCard] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [generatedCards, setGeneratedCards] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]);\n    const [isCardCompleted, setIsCardCompleted] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [currentJobId, setCurrentJobId] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    // Draft mode generation - creates 5 front cover variations\n    const handleGenerateDraftCards = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(async ()=>{\n        const { userEmail, selectedArtisticStyle, customStyleDescription, referenceImageUrls, selectedDraftModel, selectedType, customCardType, selectedTone, prompt, toField, fromField, selectedPaperSize, saveJobToStorage, subscribeToJob, startElapsedTimeTracking } = props;\n        if (!userEmail.trim()) {\n            sonner__WEBPACK_IMPORTED_MODULE_1__.toast.error(\"Please enter your email address\");\n            return;\n        }\n        // Basic email validation\n        const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n        if (!emailRegex.test(userEmail)) {\n            sonner__WEBPACK_IMPORTED_MODULE_1__.toast.error(\"Please enter a valid email address\");\n            return;\n        }\n        // Validate custom style if selected\n        if (selectedArtisticStyle === \"custom\" && !customStyleDescription.trim()) {\n            sonner__WEBPACK_IMPORTED_MODULE_1__.toast.error(\"Please describe your custom artistic style\");\n            return;\n        }\n        // Validate reference images with model compatibility\n        if (referenceImageUrls.length > 0 && selectedDraftModel !== \"gpt-image-1\") {\n            sonner__WEBPACK_IMPORTED_MODULE_1__.toast.error(\"Reference photos are only supported with GPT Image 1 model. Please switch to GPT Image 1 for draft mode or remove reference photos.\");\n            return;\n        }\n        // Stop any existing timers first\n        props.stopElapsedTimeTracking();\n        // Clear any existing progress interval\n        if (progressInterval) {\n            clearInterval(progressInterval);\n            setProgressInterval(null);\n        }\n        // Clear ALL WebSocket subscriptions before starting\n        if (props.unsubscribeFromAllJobs) {\n            props.unsubscribeFromAllJobs();\n        }\n        // Clear all old draft jobs from localStorage before starting new generation\n        if (true) {\n            console.log(\"\\uD83E\\uDDF9 Clearing old draft jobs before starting new generation\");\n            const keys = Object.keys(localStorage);\n            keys.forEach((key)=>{\n                if (key.startsWith(\"cardJob_draft-\")) {\n                    localStorage.removeItem(key);\n                }\n            });\n            // Also clear from pending jobs list\n            const pendingJobs = JSON.parse(localStorage.getItem(\"pendingCardJobs\") || \"[]\");\n            const filteredJobs = pendingJobs.filter((id)=>!id.startsWith(\"draft-\"));\n            localStorage.setItem(\"pendingCardJobs\", JSON.stringify(filteredJobs));\n        }\n        setIsDraftMode(true);\n        setIsGenerating(true);\n        startElapsedTimeTracking(\"draft\");\n        setGenerationProgress(\"\\uD83C\\uDFA8 Creating 5 front cover variations for you to choose from...\");\n        setDraftCards([\n            null,\n            null,\n            null,\n            null,\n            null\n        ]); // Initialize with 5 empty slots\n        setSelectedDraftIndex(-1);\n        setDraftCompletionShown(false);\n        setDraftCompletionCount(0);\n        // Clear any previous card state\n        setGeneratedCard(null);\n        setGeneratedCards([]);\n        setIsCardCompleted(false);\n        try {\n            console.log(\"\\uD83D\\uDE80 Starting draft mode generation with 5 variations\");\n            const cardTypeForPrompt = selectedType === \"custom\" ? customCardType : selectedType;\n            const selectedToneObj = _constants__WEBPACK_IMPORTED_MODULE_3__.cardTones.find((tone)=>tone.id === selectedTone);\n            const toneDescription = selectedToneObj ? selectedToneObj.description.toLowerCase() : \"heartfelt and sincere\";\n            const effectivePrompt = prompt.trim() || \"A beautiful \".concat(cardTypeForPrompt, \" card with \").concat(toneDescription, \" style\");\n            // Generate 5 draft variations\n            const draftPromises = Array.from({\n                length: 5\n            }, async (_, index)=>{\n                try {\n                    var _paperSizes_find, _paperSizes_find1;\n                    console.log(\"\\uD83C\\uDFA8 Starting draft variation \".concat(index + 1));\n                    // For smart style, use predefined styles\n                    let styleOverride = undefined;\n                    let styleLabel = undefined;\n                    if (selectedArtisticStyle === \"ai-smart-style\") {\n                        const predefinedStyles = [\n                            \"watercolor\",\n                            \"botanical\",\n                            \"comic-book\",\n                            \"dreamy-fantasy\",\n                            \"minimalist\"\n                        ];\n                        const styleLabels = [\n                            \"\\uD83C\\uDFA8 Watercolor\",\n                            \"\\uD83C\\uDF3F Botanical\",\n                            \"\\uD83D\\uDCA5 Comic Book\",\n                            \"\\uD83C\\uDF38 Dreamy Fantasy\",\n                            \"✨ Minimalist\"\n                        ];\n                        styleOverride = predefinedStyles[index];\n                        styleLabel = styleLabels[index];\n                    }\n                    // Generate front cover prompt\n                    const selectedStyle = _constants__WEBPACK_IMPORTED_MODULE_3__.artisticStyles.find((style)=>style.id === (styleOverride || selectedArtisticStyle));\n                    const draftConfig = {\n                        cardType: selectedType,\n                        customCardType: customCardType,\n                        tone: selectedTone,\n                        toneLabel: selectedToneObj ? selectedToneObj.label : \"Heartfelt\",\n                        toneDescription: toneDescription,\n                        theme: effectivePrompt,\n                        toField: toField,\n                        fromField: fromField,\n                        artisticStyle: selectedStyle,\n                        referenceImageUrls: referenceImageUrls,\n                        photoAnalyses: props.photoAnalyses,\n                        isDraftVariation: selectedArtisticStyle === \"smart\",\n                        variationIndex: index\n                    };\n                    const { prompt: frontCoverPromptQuery, images } = _lib_promptGenerator__WEBPACK_IMPORTED_MODULE_2__.PromptGenerator.generateDraftPromptWithImages(draftConfig);\n                    const frontCoverPrompt = await (0,_utils__WEBPACK_IMPORTED_MODULE_4__.chatWithAI)(frontCoverPromptQuery, {\n                        model: \"gemini-2.5-pro\",\n                        attachments: images\n                    });\n                    if (!(frontCoverPrompt === null || frontCoverPrompt === void 0 ? void 0 : frontCoverPrompt.trim())) {\n                        throw new Error(\"Failed to generate front cover prompt\");\n                    }\n                    // Enhance with reference image instructions\n                    let enhancedFrontCoverPrompt = frontCoverPrompt.trim();\n                    enhancedFrontCoverPrompt = _lib_promptGenerator__WEBPACK_IMPORTED_MODULE_2__.PromptGenerator.enhancePromptWithReferencePhotos(enhancedFrontCoverPrompt, referenceImageUrls.length > 0, selectedDraftModel);\n                    // Generate the image\n                    const jobId = \"draft-\".concat(index, \"-\").concat((0,uuid__WEBPACK_IMPORTED_MODULE_5__[\"default\"])());\n                    const inputImages = [];\n                    if (referenceImageUrls.length > 0 && selectedDraftModel === \"gpt-image-1\") {\n                        inputImages.push(...referenceImageUrls);\n                    }\n                    const response = await fetch(\"/api/generate-card-async\", {\n                        method: \"POST\",\n                        headers: {\n                            \"Content-Type\": \"application/json\"\n                        },\n                        body: JSON.stringify({\n                            jobId,\n                            prompts: {\n                                frontCover: enhancedFrontCoverPrompt\n                            },\n                            config: {\n                                userNumber: \"+17145986105\",\n                                modelVersion: selectedDraftModel,\n                                aspectRatio: ((_paperSizes_find = _constants__WEBPACK_IMPORTED_MODULE_3__.paperSizes.find((size)=>size.id === selectedPaperSize)) === null || _paperSizes_find === void 0 ? void 0 : _paperSizes_find.aspectRatio) || \"9:16\",\n                                quality: \"low\",\n                                outputFormat: \"jpeg\",\n                                outputCompression: 100,\n                                moderation: \"low\",\n                                dimensions: ((_paperSizes_find1 = _constants__WEBPACK_IMPORTED_MODULE_3__.paperSizes.find((size)=>size.id === selectedPaperSize)) === null || _paperSizes_find1 === void 0 ? void 0 : _paperSizes_find1.dimensions) || \"1024x1536\",\n                                isFrontBackOnly: true,\n                                userEmail,\n                                cardType: cardTypeForPrompt,\n                                toField,\n                                fromField,\n                                isDraftMode: true,\n                                ...inputImages.length > 0 && {\n                                    input_images: inputImages,\n                                    input_images_mode: \"front_cover_only\"\n                                }\n                            }\n                        })\n                    });\n                    if (!response.ok) {\n                        throw new Error(\"Server error: \".concat(response.status));\n                    }\n                    const result = await response.json();\n                    if (result.status !== \"processing\") {\n                        throw new Error(result.message || \"Failed to start draft generation\");\n                    }\n                    console.log(\"✅ Draft variation \".concat(index + 1, \" job started:\"), jobId);\n                    // Save draft job to storage for recovery\n                    saveJobToStorage(jobId, {\n                        isDraft: true,\n                        draftIndex: index,\n                        styleInfo: styleOverride ? {\n                            styleName: styleOverride,\n                            styleLabel: styleLabel\n                        } : undefined,\n                        frontCoverPrompt: enhancedFrontCoverPrompt,\n                        userEmail,\n                        selectedType,\n                        selectedTone,\n                        toField,\n                        fromField,\n                        draftCards: [] // Will be updated as drafts complete\n                    });\n                    // Subscribe to WebSocket updates\n                    subscribeToJob(jobId);\n                } catch (error) {\n                    console.error(\"❌ Draft variation \".concat(index + 1, \" failed:\"), error);\n                    sonner__WEBPACK_IMPORTED_MODULE_1__.toast.error(\"Draft variation \".concat(index + 1, \" failed: \").concat(error instanceof Error ? error.message : \"Unknown error\"));\n                }\n            });\n            // Wait for all draft generations to start\n            await Promise.allSettled(draftPromises);\n            console.log(\"\\uD83D\\uDE80 All draft variations started\");\n        } catch (error) {\n            console.error(\"Draft card generation error:\", error);\n            sonner__WEBPACK_IMPORTED_MODULE_1__.toast.error(\"Failed to start draft generation: \".concat(error instanceof Error ? error.message : \"Unknown error\"));\n            setIsGenerating(false);\n            setIsDraftMode(false);\n            setDraftCompletionShown(false);\n            setDraftCompletionCount(0);\n            setGenerationProgress(\"\");\n            props.stopElapsedTimeTracking();\n            // Clear progress interval on error\n            if (progressInterval) {\n                clearInterval(progressInterval);\n                setProgressInterval(null);\n            }\n        }\n    }, [\n        props,\n        progressInterval\n    ]);\n    // Generate final high-quality card from selected draft\n    const handleGenerateFinalFromDraft = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(async (displayIndex)=>{\n        // Prevent duplicate calls\n        if (isGeneratingFinalCard) {\n            console.log(\"⚠️ Final card generation already in progress, skipping duplicate call\");\n            return;\n        }\n        const selectedDraft = draftCards[displayIndex];\n        if (!selectedDraft) {\n            sonner__WEBPACK_IMPORTED_MODULE_1__.toast.error(\"Please wait for the draft to complete before selecting\");\n            return;\n        }\n        const { selectedType, customCardType, selectedTone, prompt, toField, fromField, finalCardMessage, isHandwrittenMessage, selectedArtisticStyle, customStyleDescription, isFrontBackOnly, selectedImageModel, selectedPaperSize, userEmail, referenceImageUrls, startElapsedTimeTracking, subscribeToJob } = props;\n        // Stop any existing timers first\n        props.stopElapsedTimeTracking();\n        setIsGeneratingFinalCard(true);\n        setIsDraftMode(false); // Switch out of draft mode for final generation\n        setSelectedDraftIndex(displayIndex);\n        startElapsedTimeTracking(\"final\");\n        setGenerationProgress(\"\\uD83C\\uDFA8 Creating high-quality version of your selected design...\");\n        try {\n            var _selectedDraft_generatedPrompts, _paperSizes_find, _paperSizes_find1;\n            const jobId = (0,uuid__WEBPACK_IMPORTED_MODULE_5__[\"default\"])();\n            // Generate the missing prompts\n            const storedFrontCoverPrompt = (_selectedDraft_generatedPrompts = selectedDraft.generatedPrompts) === null || _selectedDraft_generatedPrompts === void 0 ? void 0 : _selectedDraft_generatedPrompts.frontCover;\n            if (!storedFrontCoverPrompt) {\n                throw new Error(\"Selected draft is missing frontCover prompt\");\n            }\n            const cardTypeForPrompt = selectedType === \"custom\" ? customCardType : selectedType;\n            const selectedToneObj = _constants__WEBPACK_IMPORTED_MODULE_3__.cardTones.find((tone)=>tone.id === selectedTone);\n            const toneDescription = selectedToneObj ? selectedToneObj.description.toLowerCase() : \"heartfelt and sincere\";\n            const effectivePrompt = prompt.trim() || \"A beautiful \".concat(cardTypeForPrompt, \" card with \").concat(toneDescription, \" style\");\n            let messageContent = finalCardMessage;\n            if (isHandwrittenMessage) {\n                messageContent = \"[Blank space for handwritten message]\";\n            }\n            // Get style from the selected draft\n            const draftStyleInfo = selectedDraft.styleInfo;\n            let selectedStyle;\n            if (draftStyleInfo && draftStyleInfo.styleName) {\n                selectedStyle = _constants__WEBPACK_IMPORTED_MODULE_3__.artisticStyles.find((style)=>style.id === draftStyleInfo.styleName);\n            } else {\n                selectedStyle = _constants__WEBPACK_IMPORTED_MODULE_3__.artisticStyles.find((style)=>style.id === selectedArtisticStyle);\n            }\n            // Use PromptGenerator for final card from draft\n            const finalFromDraftConfig = {\n                frontCoverPrompt: storedFrontCoverPrompt,\n                cardType: selectedType,\n                customCardType: customCardType,\n                theme: effectivePrompt,\n                tone: selectedTone,\n                toneDescription: toneDescription,\n                toField: toField,\n                fromField: fromField,\n                message: messageContent,\n                isHandwrittenMessage: isHandwrittenMessage,\n                artisticStyle: selectedStyle,\n                isFrontBackOnly: isFrontBackOnly\n            };\n            const finalPrompts = await _lib_promptGenerator__WEBPACK_IMPORTED_MODULE_2__.PromptGenerator.generateFinalFromDraftPromptsCombined(finalFromDraftConfig);\n            if (!finalPrompts || !finalPrompts.frontCover || !finalPrompts.backCover) {\n                throw new Error(\"Failed to generate complete prompts for final card\");\n            }\n            // Prepare input images for final generation\n            const inputImages = [];\n            if (referenceImageUrls.length > 0 && selectedImageModel === \"gpt-image-1\") {\n                inputImages.push(...referenceImageUrls);\n            }\n            const response = await fetch(\"/api/generate-card-async\", {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                    jobId,\n                    prompts: finalPrompts,\n                    config: {\n                        userNumber: \"+17145986105\",\n                        modelVersion: selectedImageModel,\n                        aspectRatio: ((_paperSizes_find = _constants__WEBPACK_IMPORTED_MODULE_3__.paperSizes.find((size)=>size.id === selectedPaperSize)) === null || _paperSizes_find === void 0 ? void 0 : _paperSizes_find.aspectRatio) || \"9:16\",\n                        quality: \"high\",\n                        outputFormat: \"jpeg\",\n                        outputCompression: 100,\n                        moderation: \"low\",\n                        dimensions: ((_paperSizes_find1 = _constants__WEBPACK_IMPORTED_MODULE_3__.paperSizes.find((size)=>size.id === selectedPaperSize)) === null || _paperSizes_find1 === void 0 ? void 0 : _paperSizes_find1.dimensions) || \"1024x1536\",\n                        isFrontBackOnly,\n                        userEmail,\n                        cardType: selectedType === \"custom\" ? customCardType : selectedType,\n                        toField,\n                        fromField,\n                        isDraftMode: false,\n                        ...inputImages.length > 0 && {\n                            input_images: inputImages,\n                            input_images_mode: \"front_cover_only\"\n                        }\n                    }\n                })\n            });\n            if (!response.ok) {\n                throw new Error(\"Server error: \".concat(response.status));\n            }\n            const result = await response.json();\n            if (result.status !== \"processing\") {\n                throw new Error(result.message || \"Failed to start final card generation\");\n            }\n            setCurrentJobId(jobId);\n            sonner__WEBPACK_IMPORTED_MODULE_1__.toast.success(\"\\uD83C\\uDFA8 Generating high-quality version of your selected design!\");\n            // Subscribe to WebSocket updates\n            subscribeToJob(jobId);\n        } catch (error) {\n            console.error(\"Final card generation error:\", error);\n            sonner__WEBPACK_IMPORTED_MODULE_1__.toast.error(\"Failed to generate final card. Please try again.\");\n            setIsGeneratingFinalCard(false);\n            setGenerationProgress(\"\");\n            props.stopElapsedTimeTracking(); // Clear time-based progress on error\n        }\n    }, [\n        draftCards,\n        isGeneratingFinalCard,\n        props\n    ]);\n    return {\n        isDraftMode,\n        setIsDraftMode,\n        draftCards,\n        setDraftCards,\n        selectedDraftIndex,\n        setSelectedDraftIndex,\n        isGeneratingFinalCard,\n        setIsGeneratingFinalCard,\n        previewingDraftIndex,\n        setPreviewingDraftIndex,\n        draftCompletionShown,\n        setDraftCompletionShown,\n        draftCompletionCount,\n        setDraftCompletionCount,\n        handleGenerateDraftCards,\n        handleGenerateFinalFromDraft,\n        isGenerating,\n        setIsGenerating,\n        generationProgress,\n        setGenerationProgress,\n        progressPercentage,\n        setProgressPercentage,\n        generatedCard,\n        setGeneratedCard,\n        generatedCards,\n        setGeneratedCards,\n        isCardCompleted,\n        setIsCardCompleted,\n        currentJobId,\n        setCurrentJobId,\n        clearProgressInterval\n    };\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2hvb2tzL2NhcmRTdHVkaW8vdXNlRHJhZnRHZW5lcmF0aW9uLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O3dFQUU4QztBQUNmO0FBQ0s7QUFDdUQ7QUFDTztBQUM3RDtBQThCOUIsU0FBU1UsbUJBQW1CQyxLQUEyQjtJQUM1RCxtQkFBbUI7SUFDbkIsTUFBTSxDQUFDQyxhQUFhQyxlQUFlLEdBQUdiLCtDQUFRQSxDQUFVO0lBQ3hELE1BQU0sQ0FBQ2MsWUFBWUMsY0FBYyxHQUFHZiwrQ0FBUUEsQ0FBMkIsRUFBRTtJQUN6RSxNQUFNLENBQUNnQixvQkFBb0JDLHNCQUFzQixHQUFHakIsK0NBQVFBLENBQVMsQ0FBQztJQUN0RSxNQUFNLENBQUNrQix1QkFBdUJDLHlCQUF5QixHQUFHbkIsK0NBQVFBLENBQVU7SUFDNUUsTUFBTSxDQUFDb0Isc0JBQXNCQyx3QkFBd0IsR0FBR3JCLCtDQUFRQSxDQUFTLENBQUM7SUFDMUUsTUFBTSxDQUFDc0Isc0JBQXNCQyx3QkFBd0IsR0FBR3ZCLCtDQUFRQSxDQUFVO0lBQzFFLE1BQU0sQ0FBQ3dCLHNCQUFzQkMsd0JBQXdCLEdBQUd6QiwrQ0FBUUEsQ0FBUztJQUN6RSxNQUFNLENBQUMwQixjQUFjQyxnQkFBZ0IsR0FBRzNCLCtDQUFRQSxDQUFDO0lBQ2pELE1BQU0sQ0FBQzRCLG9CQUFvQkMsc0JBQXNCLEdBQUc3QiwrQ0FBUUEsQ0FBQztJQUM3RCxNQUFNLENBQUM4QixlQUFlQyxpQkFBaUIsR0FBRy9CLCtDQUFRQSxDQUF1QjtJQUN6RSxNQUFNLENBQUNnQyxnQkFBZ0JDLGtCQUFrQixHQUFHakMsK0NBQVFBLENBQWtCLEVBQUU7SUFDeEUsTUFBTSxDQUFDa0MsaUJBQWlCQyxtQkFBbUIsR0FBR25DLCtDQUFRQSxDQUFDO0lBQ3ZELE1BQU0sQ0FBQ29DLGNBQWNDLGdCQUFnQixHQUFHckMsK0NBQVFBLENBQWdCO0lBRWhFLDJEQUEyRDtJQUMzRCxNQUFNc0MsMkJBQTJCckMsa0RB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QVkvRCxNQUFNLEdBQUcsS0FBSzs0QkFDNUJtRixjQUFjcEI7NEJBQ2RxQixtQkFBbUI7d0JBQ3JCLENBQUM7b0JBQ0g7Z0JBQ0Y7WUFDRjtZQUVBLElBQUksQ0FBQ25CLFNBQVNvQixFQUFFLEVBQUU7Z0JBQ2hCLE1BQU0sSUFBSTFCLE1BQU0saUJBQWlDLE9BQWhCTSxTQUFTcUIsTUFBTTtZQUNsRDtZQUVBLE1BQU1DLFNBQVMsTUFBTXRCLFNBQVN1QixJQUFJO1lBRWxDLElBQUlELE9BQU9ELE1BQU0sS0FBSyxjQUFjO2dCQUNsQyxNQUFNLElBQUkzQixNQUFNNEIsT0FBT0UsT0FBTyxJQUFJO1lBQ3BDO1lBRUE5RyxnQkFBZ0JtRjtZQUNoQnRILHlDQUFLQSxDQUFDc0ssT0FBTyxDQUFDO1lBRWQsaUNBQWlDO1lBQ2pDcEgsZUFBZW9FO1FBRWpCLEVBQUUsT0FBT2pFLE9BQU87WUFDZFMsUUFBUVQsS0FBSyxDQUFDLGdDQUFnQ0E7WUFDOUNyRCx5Q0FBS0EsQ0FBQ3FELEtBQUssQ0FBQztZQUNacEMseUJBQXlCO1lBQ3pCVSxzQkFBc0I7WUFDdEJsQixNQUFNZ0QsdUJBQXVCLElBQUkscUNBQXFDO1FBQ3hFO0lBQ0YsR0FBRztRQUFDN0M7UUFBWUk7UUFBdUJQO0tBQU07SUFFN0MsT0FBTztRQUNMQztRQUNBQztRQUNBQztRQUNBQztRQUNBQztRQUNBQztRQUNBQztRQUNBQztRQUNBQztRQUNBQztRQUNBQztRQUNBQztRQUNBQztRQUNBQztRQUNBYTtRQUNBb0g7UUFDQWhJO1FBQ0FDO1FBQ0FDO1FBQ0FDO1FBQ0E0STtRQUNBQztRQUNBNUk7UUFDQUM7UUFDQUM7UUFDQUM7UUFDQUM7UUFDQUM7UUFDQUM7UUFDQUM7UUFDQXNJO0lBQ0Y7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ob29rcy9jYXJkU3R1ZGlvL3VzZURyYWZ0R2VuZXJhdGlvbi50cz80YzQ3Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIGNsaWVudFwiO1xuXG5pbXBvcnQgeyB1c2VTdGF0ZSwgdXNlQ2FsbGJhY2sgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IHRvYXN0IH0gZnJvbSBcInNvbm5lclwiO1xuaW1wb3J0IHsgdjQgYXMgdXVpZHY0IH0gZnJvbSAndXVpZCc7XG5pbXBvcnQgeyBQcm9tcHRHZW5lcmF0b3IsIERyYWZ0Q29uZmlnLCBGaW5hbEZyb21EcmFmdENvbmZpZyB9IGZyb20gJ0AvbGliL3Byb21wdEdlbmVyYXRvcic7XG5pbXBvcnQgeyBHZW5lcmF0ZWRDYXJkLCBhcnRpc3RpY1N0eWxlcywgcGFwZXJTaXplcywgY2FyZFRvbmVzLCBQaG90b0FuYWx5c2lzIH0gZnJvbSAnLi9jb25zdGFudHMnO1xuaW1wb3J0IHsgY2hhdFdpdGhBSSB9IGZyb20gJy4vdXRpbHMnO1xuXG5pbnRlcmZhY2UgRHJhZnRHZW5lcmF0aW9uUHJvcHMge1xuICAvLyBGb3JtIGRhdGFcbiAgc2VsZWN0ZWRUeXBlOiBzdHJpbmc7XG4gIGN1c3RvbUNhcmRUeXBlOiBzdHJpbmc7XG4gIHNlbGVjdGVkVG9uZTogc3RyaW5nO1xuICBzZWxlY3RlZEFydGlzdGljU3R5bGU6IHN0cmluZztcbiAgY3VzdG9tU3R5bGVEZXNjcmlwdGlvbjogc3RyaW5nO1xuICBzZWxlY3RlZERyYWZ0TW9kZWw6IHN0cmluZztcbiAgc2VsZWN0ZWRJbWFnZU1vZGVsOiBzdHJpbmc7XG4gIHNlbGVjdGVkUGFwZXJTaXplOiBzdHJpbmc7XG4gIHByb21wdDogc3RyaW5nO1xuICB0b0ZpZWxkOiBzdHJpbmc7XG4gIGZyb21GaWVsZDogc3RyaW5nO1xuICB1c2VyRW1haWw6IHN0cmluZztcbiAgZmluYWxDYXJkTWVzc2FnZTogc3RyaW5nO1xuICBpc0hhbmR3cml0dGVuTWVzc2FnZTogYm9vbGVhbjtcbiAgaXNGcm9udEJhY2tPbmx5OiBib29sZWFuO1xuICByZWZlcmVuY2VJbWFnZVVybHM6IHN0cmluZ1tdO1xuICBwaG90b0FuYWx5c2VzPzogUGhvdG9BbmFseXNpc1tdO1xuICBcbiAgLy8gSm9iIG1hbmFnZW1lbnRcbiAgc2F2ZUpvYlRvU3RvcmFnZTogKGpvYklkOiBzdHJpbmcsIGpvYkRhdGE6IGFueSkgPT4gdm9pZDtcbiAgc3Vic2NyaWJlVG9Kb2I6IChqb2JJZDogc3RyaW5nKSA9PiB2b2lkO1xuICB1bnN1YnNjcmliZUZyb21BbGxKb2JzPzogKCkgPT4gdm9pZDtcbiAgc3RhcnRFbGFwc2VkVGltZVRyYWNraW5nOiAoam9iVHlwZT86ICdkcmFmdCcgfCAnZmluYWwnKSA9PiB2b2lkO1xuICBzdG9wRWxhcHNlZFRpbWVUcmFja2luZzogKCkgPT4gdm9pZDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVzZURyYWZ0R2VuZXJhdGlvbihwcm9wczogRHJhZnRHZW5lcmF0aW9uUHJvcHMpIHtcbiAgLy8gRHJhZnQgbW9kZSBzdGF0ZVxuICBjb25zdCBbaXNEcmFmdE1vZGUsIHNldElzRHJhZnRNb2RlXSA9IHVzZVN0YXRlPGJvb2xlYW4+KGZhbHNlKTtcbiAgY29uc3QgW2RyYWZ0Q2FyZHMsIHNldERyYWZ0Q2FyZHNdID0gdXNlU3RhdGU8KEdlbmVyYXRlZENhcmQgfCBudWxsKVtdPihbXSk7XG4gIGNvbnN0IFtzZWxlY3RlZERyYWZ0SW5kZXgsIHNldFNlbGVjdGVkRHJhZnRJbmRleF0gPSB1c2VTdGF0ZTxudW1iZXI+KC0xKTtcbiAgY29uc3QgW2lzR2VuZXJhdGluZ0ZpbmFsQ2FyZCwgc2V0SXNHZW5lcmF0aW5nRmluYWxDYXJkXSA9IHVzZVN0YXRlPGJvb2xlYW4+KGZhbHNlKTtcbiAgY29uc3QgW3ByZXZpZXdpbmdEcmFmdEluZGV4LCBzZXRQcmV2aWV3aW5nRHJhZnRJbmRleF0gPSB1c2VTdGF0ZTxudW1iZXI+KC0xKTtcbiAgY29uc3QgW2RyYWZ0Q29tcGxldGlvblNob3duLCBzZXREcmFmdENvbXBsZXRpb25TaG93bl0gPSB1c2VTdGF0ZTxib29sZWFuPihmYWxzZSk7XG4gIGNvbnN0IFtkcmFmdENvbXBsZXRpb25Db3VudCwgc2V0RHJhZnRDb21wbGV0aW9uQ291bnRdID0gdXNlU3RhdGU8bnVtYmVyPigwKTtcbiAgY29uc3QgW2lzR2VuZXJhdGluZywgc2V0SXNHZW5lcmF0aW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2dlbmVyYXRpb25Qcm9ncmVzcywgc2V0R2VuZXJhdGlvblByb2dyZXNzXSA9IHVzZVN0YXRlKFwiXCIpO1xuICBjb25zdCBbZ2VuZXJhdGVkQ2FyZCwgc2V0R2VuZXJhdGVkQ2FyZF0gPSB1c2VTdGF0ZTxHZW5lcmF0ZWRDYXJkIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtnZW5lcmF0ZWRDYXJkcywgc2V0R2VuZXJhdGVkQ2FyZHNdID0gdXNlU3RhdGU8R2VuZXJhdGVkQ2FyZFtdPihbXSk7XG4gIGNvbnN0IFtpc0NhcmRDb21wbGV0ZWQsIHNldElzQ2FyZENvbXBsZXRlZF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtjdXJyZW50Sm9iSWQsIHNldEN1cnJlbnRKb2JJZF0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcblxuICAvLyBEcmFmdCBtb2RlIGdlbmVyYXRpb24gLSBjcmVhdGVzIDUgZnJvbnQgY292ZXIgdmFyaWF0aW9uc1xuICBjb25zdCBoYW5kbGVHZW5lcmF0ZURyYWZ0Q2FyZHMgPSB1c2VDYWxsYmFjayhhc3luYyAoKSA9PiB7XG4gICAgY29uc3Qge1xuICAgICAgdXNlckVtYWlsLFxuICAgICAgc2VsZWN0ZWRBcnRpc3RpY1N0eWxlLFxuICAgICAgY3VzdG9tU3R5bGVEZXNjcmlwdGlvbixcbiAgICAgIHJlZmVyZW5jZUltYWdlVXJscyxcbiAgICAgIHNlbGVjdGVkRHJhZnRNb2RlbCxcbiAgICAgIHNlbGVjdGVkVHlwZSxcbiAgICAgIGN1c3RvbUNhcmRUeXBlLFxuICAgICAgc2VsZWN0ZWRUb25lLFxuICAgICAgcHJvbXB0LFxuICAgICAgdG9GaWVsZCxcbiAgICAgIGZyb21GaWVsZCxcbiAgICAgIHNlbGVjdGVkUGFwZXJTaXplLFxuICAgICAgc2F2ZUpvYlRvU3RvcmFnZSxcbiAgICAgIHN1YnNjcmliZVRvSm9iLFxuICAgICAgc3RhcnRFbGFwc2VkVGltZVRyYWNraW5nXG4gICAgfSA9IHByb3BzO1xuXG4gICAgaWYgKCF1c2VyRW1haWwudHJpbSgpKSB7XG4gICAgICB0b2FzdC5lcnJvcihcIlBsZWFzZSBlbnRlciB5b3VyIGVtYWlsIGFkZHJlc3NcIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gQmFzaWMgZW1haWwgdmFsaWRhdGlvblxuICAgIGNvbnN0IGVtYWlsUmVnZXggPSAvXlteXFxzQF0rQFteXFxzQF0rXFwuW15cXHNAXSskLztcbiAgICBpZiAoIWVtYWlsUmVnZXgudGVzdCh1c2VyRW1haWwpKSB7XG4gICAgICB0b2FzdC5lcnJvcihcIlBsZWFzZSBlbnRlciBhIHZhbGlkIGVtYWlsIGFkZHJlc3NcIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gVmFsaWRhdGUgY3VzdG9tIHN0eWxlIGlmIHNlbGVjdGVkXG4gICAgaWYgKHNlbGVjdGVkQXJ0aXN0aWNTdHlsZSA9PT0gXCJjdXN0b21cIiAmJiAhY3VzdG9tU3R5bGVEZXNjcmlwdGlvbi50cmltKCkpIHtcbiAgICAgIHRvYXN0LmVycm9yKFwiUGxlYXNlIGRlc2NyaWJlIHlvdXIgY3VzdG9tIGFydGlzdGljIHN0eWxlXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIFZhbGlkYXRlIHJlZmVyZW5jZSBpbWFnZXMgd2l0aCBtb2RlbCBjb21wYXRpYmlsaXR5XG4gICAgaWYgKHJlZmVyZW5jZUltYWdlVXJscy5sZW5ndGggPiAwICYmIHNlbGVjdGVkRHJhZnRNb2RlbCAhPT0gXCJncHQtaW1hZ2UtMVwiKSB7XG4gICAgICB0b2FzdC5lcnJvcihcIlJlZmVyZW5jZSBwaG90b3MgYXJlIG9ubHkgc3VwcG9ydGVkIHdpdGggR1BUIEltYWdlIDEgbW9kZWwuIFBsZWFzZSBzd2l0Y2ggdG8gR1BUIEltYWdlIDEgZm9yIGRyYWZ0IG1vZGUgb3IgcmVtb3ZlIHJlZmVyZW5jZSBwaG90b3MuXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIFN0b3AgYW55IGV4aXN0aW5nIHRpbWVycyBmaXJzdFxuICAgIHByb3BzLnN0b3BFbGFwc2VkVGltZVRyYWNraW5nKCk7XG4gICAgXG4gICAgLy8gQ2xlYXIgYW55IGV4aXN0aW5nIHByb2dyZXNzIGludGVydmFsXG4gICAgaWYgKHByb2dyZXNzSW50ZXJ2YWwpIHtcbiAgICAgIGNsZWFySW50ZXJ2YWwocHJvZ3Jlc3NJbnRlcnZhbCk7XG4gICAgICBzZXRQcm9ncmVzc0ludGVydmFsKG51bGwpO1xuICAgIH1cbiAgICBcbiAgICAvLyBDbGVhciBBTEwgV2ViU29ja2V0IHN1YnNjcmlwdGlvbnMgYmVmb3JlIHN0YXJ0aW5nXG4gICAgaWYgKHByb3BzLnVuc3Vic2NyaWJlRnJvbUFsbEpvYnMpIHtcbiAgICAgIHByb3BzLnVuc3Vic2NyaWJlRnJvbUFsbEpvYnMoKTtcbiAgICB9XG4gICAgXG4gICAgLy8gQ2xlYXIgYWxsIG9sZCBkcmFmdCBqb2JzIGZyb20gbG9jYWxTdG9yYWdlIGJlZm9yZSBzdGFydGluZyBuZXcgZ2VuZXJhdGlvblxuICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgY29uc29sZS5sb2coJ/Cfp7kgQ2xlYXJpbmcgb2xkIGRyYWZ0IGpvYnMgYmVmb3JlIHN0YXJ0aW5nIG5ldyBnZW5lcmF0aW9uJyk7XG4gICAgICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMobG9jYWxTdG9yYWdlKTtcbiAgICAgIGtleXMuZm9yRWFjaChrZXkgPT4ge1xuICAgICAgICBpZiAoa2V5LnN0YXJ0c1dpdGgoJ2NhcmRKb2JfZHJhZnQtJykpIHtcbiAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShrZXkpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIC8vIEFsc28gY2xlYXIgZnJvbSBwZW5kaW5nIGpvYnMgbGlzdFxuICAgICAgY29uc3QgcGVuZGluZ0pvYnMgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdwZW5kaW5nQ2FyZEpvYnMnKSB8fCAnW10nKTtcbiAgICAgIGNvbnN0IGZpbHRlcmVkSm9icyA9IHBlbmRpbmdKb2JzLmZpbHRlcigoaWQ6IHN0cmluZykgPT4gIWlkLnN0YXJ0c1dpdGgoJ2RyYWZ0LScpKTtcbiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdwZW5kaW5nQ2FyZEpvYnMnLCBKU09OLnN0cmluZ2lmeShmaWx0ZXJlZEpvYnMpKTtcbiAgICB9XG4gICAgXG4gICAgc2V0SXNEcmFmdE1vZGUodHJ1ZSk7XG4gICAgc2V0SXNHZW5lcmF0aW5nKHRydWUpO1xuICAgIHN0YXJ0RWxhcHNlZFRpbWVUcmFja2luZygnZHJhZnQnKTtcbiAgICBzZXRHZW5lcmF0aW9uUHJvZ3Jlc3MoXCLwn46oIENyZWF0aW5nIDUgZnJvbnQgY292ZXIgdmFyaWF0aW9ucyBmb3IgeW91IHRvIGNob29zZSBmcm9tLi4uXCIpO1xuICAgIHNldERyYWZ0Q2FyZHMoW251bGwsIG51bGwsIG51bGwsIG51bGwsIG51bGxdKTsgLy8gSW5pdGlhbGl6ZSB3aXRoIDUgZW1wdHkgc2xvdHNcbiAgICBzZXRTZWxlY3RlZERyYWZ0SW5kZXgoLTEpO1xuICAgIHNldERyYWZ0Q29tcGxldGlvblNob3duKGZhbHNlKTtcbiAgICBzZXREcmFmdENvbXBsZXRpb25Db3VudCgwKTtcbiAgICBcbiAgICAvLyBDbGVhciBhbnkgcHJldmlvdXMgY2FyZCBzdGF0ZVxuICAgIHNldEdlbmVyYXRlZENhcmQobnVsbCk7XG4gICAgc2V0R2VuZXJhdGVkQ2FyZHMoW10pO1xuICAgIHNldElzQ2FyZENvbXBsZXRlZChmYWxzZSk7XG4gICAgXG5cbiAgICB0cnkge1xuICAgICAgY29uc29sZS5sb2coXCLwn5qAIFN0YXJ0aW5nIGRyYWZ0IG1vZGUgZ2VuZXJhdGlvbiB3aXRoIDUgdmFyaWF0aW9uc1wiKTtcbiAgICAgIFxuICAgICAgY29uc3QgY2FyZFR5cGVGb3JQcm9tcHQgPSBzZWxlY3RlZFR5cGUgPT09IFwiY3VzdG9tXCIgPyBjdXN0b21DYXJkVHlwZSA6IHNlbGVjdGVkVHlwZTtcbiAgICAgIGNvbnN0IHNlbGVjdGVkVG9uZU9iaiA9IGNhcmRUb25lcy5maW5kKHRvbmUgPT4gdG9uZS5pZCA9PT0gc2VsZWN0ZWRUb25lKTtcbiAgICAgIGNvbnN0IHRvbmVEZXNjcmlwdGlvbiA9IHNlbGVjdGVkVG9uZU9iaiA/IHNlbGVjdGVkVG9uZU9iai5kZXNjcmlwdGlvbi50b0xvd2VyQ2FzZSgpIDogXCJoZWFydGZlbHQgYW5kIHNpbmNlcmVcIjtcbiAgICAgIGNvbnN0IGVmZmVjdGl2ZVByb21wdCA9IHByb21wdC50cmltKCkgfHwgYEEgYmVhdXRpZnVsICR7Y2FyZFR5cGVGb3JQcm9tcHR9IGNhcmQgd2l0aCAke3RvbmVEZXNjcmlwdGlvbn0gc3R5bGVgO1xuXG4gICAgICAvLyBHZW5lcmF0ZSA1IGRyYWZ0IHZhcmlhdGlvbnNcbiAgICAgIGNvbnN0IGRyYWZ0UHJvbWlzZXMgPSBBcnJheS5mcm9tKHsgbGVuZ3RoOiA1IH0sIGFzeW5jIChfLCBpbmRleCkgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnNvbGUubG9nKGDwn46oIFN0YXJ0aW5nIGRyYWZ0IHZhcmlhdGlvbiAke2luZGV4ICsgMX1gKTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBGb3Igc21hcnQgc3R5bGUsIHVzZSBwcmVkZWZpbmVkIHN0eWxlc1xuICAgICAgICAgIGxldCBzdHlsZU92ZXJyaWRlOiBzdHJpbmcgfCB1bmRlZmluZWQgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgbGV0IHN0eWxlTGFiZWw6IHN0cmluZyB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICBpZiAoc2VsZWN0ZWRBcnRpc3RpY1N0eWxlID09PSBcImFpLXNtYXJ0LXN0eWxlXCIpIHtcbiAgICAgICAgICAgIGNvbnN0IHByZWRlZmluZWRTdHlsZXMgPSBbXCJ3YXRlcmNvbG9yXCIsIFwiYm90YW5pY2FsXCIsIFwiY29taWMtYm9va1wiLCBcImRyZWFteS1mYW50YXN5XCIsIFwibWluaW1hbGlzdFwiXTtcbiAgICAgICAgICAgIGNvbnN0IHN0eWxlTGFiZWxzID0gW1wi8J+OqCBXYXRlcmNvbG9yXCIsIFwi8J+MvyBCb3RhbmljYWxcIiwgXCLwn5KlIENvbWljIEJvb2tcIiwgXCLwn4y4IERyZWFteSBGYW50YXN5XCIsIFwi4pyoIE1pbmltYWxpc3RcIl07XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHN0eWxlT3ZlcnJpZGUgPSBwcmVkZWZpbmVkU3R5bGVzW2luZGV4XTtcbiAgICAgICAgICAgIHN0eWxlTGFiZWwgPSBzdHlsZUxhYmVsc1tpbmRleF07XG4gICAgICAgICAgfVxuICAgICAgICAgIFxuICAgICAgICAgIC8vIEdlbmVyYXRlIGZyb250IGNvdmVyIHByb21wdFxuICAgICAgICAgIGNvbnN0IHNlbGVjdGVkU3R5bGUgPSBhcnRpc3RpY1N0eWxlcy5maW5kKHN0eWxlID0+IHN0eWxlLmlkID09PSAoc3R5bGVPdmVycmlkZSB8fCBzZWxlY3RlZEFydGlzdGljU3R5bGUpKTtcbiAgICAgICAgICBcbiAgICAgICAgICBjb25zdCBkcmFmdENvbmZpZzogRHJhZnRDb25maWcgPSB7XG4gICAgICAgICAgICBjYXJkVHlwZTogc2VsZWN0ZWRUeXBlLFxuICAgICAgICAgICAgY3VzdG9tQ2FyZFR5cGU6IGN1c3RvbUNhcmRUeXBlLFxuICAgICAgICAgICAgdG9uZTogc2VsZWN0ZWRUb25lLFxuICAgICAgICAgICAgdG9uZUxhYmVsOiBzZWxlY3RlZFRvbmVPYmogPyBzZWxlY3RlZFRvbmVPYmoubGFiZWwgOiBcIkhlYXJ0ZmVsdFwiLFxuICAgICAgICAgICAgdG9uZURlc2NyaXB0aW9uOiB0b25lRGVzY3JpcHRpb24sXG4gICAgICAgICAgICB0aGVtZTogZWZmZWN0aXZlUHJvbXB0LFxuICAgICAgICAgICAgdG9GaWVsZDogdG9GaWVsZCxcbiAgICAgICAgICAgIGZyb21GaWVsZDogZnJvbUZpZWxkLFxuICAgICAgICAgICAgYXJ0aXN0aWNTdHlsZTogc2VsZWN0ZWRTdHlsZSxcbiAgICAgICAgICAgIHJlZmVyZW5jZUltYWdlVXJsczogcmVmZXJlbmNlSW1hZ2VVcmxzLFxuICAgICAgICAgICAgcGhvdG9BbmFseXNlczogcHJvcHMucGhvdG9BbmFseXNlcyxcbiAgICAgICAgICAgIGlzRHJhZnRWYXJpYXRpb246IHNlbGVjdGVkQXJ0aXN0aWNTdHlsZSA9PT0gXCJzbWFydFwiLFxuICAgICAgICAgICAgdmFyaWF0aW9uSW5kZXg6IGluZGV4XG4gICAgICAgICAgfTtcblxuICAgICAgICAgIGNvbnN0IHsgcHJvbXB0OiBmcm9udENvdmVyUHJvbXB0UXVlcnksIGltYWdlcyB9ID0gUHJvbXB0R2VuZXJhdG9yLmdlbmVyYXRlRHJhZnRQcm9tcHRXaXRoSW1hZ2VzKGRyYWZ0Q29uZmlnKTtcbiAgICAgICAgICBcbiAgICAgICAgICBcbiAgICAgICAgICBjb25zdCBmcm9udENvdmVyUHJvbXB0ID0gYXdhaXQgY2hhdFdpdGhBSShmcm9udENvdmVyUHJvbXB0UXVlcnksIHtcbiAgICAgICAgICAgIG1vZGVsOiBcImdlbWluaS0yLjUtcHJvXCIsXG4gICAgICAgICAgICBhdHRhY2htZW50czogaW1hZ2VzXG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBpZiAoIWZyb250Q292ZXJQcm9tcHQ/LnRyaW0oKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRmFpbGVkIHRvIGdlbmVyYXRlIGZyb250IGNvdmVyIHByb21wdFwiKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBFbmhhbmNlIHdpdGggcmVmZXJlbmNlIGltYWdlIGluc3RydWN0aW9uc1xuICAgICAgICAgIGxldCBlbmhhbmNlZEZyb250Q292ZXJQcm9tcHQgPSBmcm9udENvdmVyUHJvbXB0LnRyaW0oKTtcbiAgICAgICAgICBlbmhhbmNlZEZyb250Q292ZXJQcm9tcHQgPSBQcm9tcHRHZW5lcmF0b3IuZW5oYW5jZVByb21wdFdpdGhSZWZlcmVuY2VQaG90b3MoXG4gICAgICAgICAgICBlbmhhbmNlZEZyb250Q292ZXJQcm9tcHQsXG4gICAgICAgICAgICByZWZlcmVuY2VJbWFnZVVybHMubGVuZ3RoID4gMCxcbiAgICAgICAgICAgIHNlbGVjdGVkRHJhZnRNb2RlbFxuICAgICAgICAgICk7XG5cbiAgICAgICAgICAvLyBHZW5lcmF0ZSB0aGUgaW1hZ2VcbiAgICAgICAgICBjb25zdCBqb2JJZCA9IGBkcmFmdC0ke2luZGV4fS0ke3V1aWR2NCgpfWA7XG4gICAgICAgICAgY29uc3QgaW5wdXRJbWFnZXM6IHN0cmluZ1tdID0gW107XG4gICAgICAgICAgaWYgKHJlZmVyZW5jZUltYWdlVXJscy5sZW5ndGggPiAwICYmIHNlbGVjdGVkRHJhZnRNb2RlbCA9PT0gXCJncHQtaW1hZ2UtMVwiKSB7XG4gICAgICAgICAgICBpbnB1dEltYWdlcy5wdXNoKC4uLnJlZmVyZW5jZUltYWdlVXJscyk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnL2FwaS9nZW5lcmF0ZS1jYXJkLWFzeW5jJywge1xuICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgICAgam9iSWQsXG4gICAgICAgICAgICAgIHByb21wdHM6IHsgZnJvbnRDb3ZlcjogZW5oYW5jZWRGcm9udENvdmVyUHJvbXB0IH0sXG4gICAgICAgICAgICAgIGNvbmZpZzoge1xuICAgICAgICAgICAgICAgIHVzZXJOdW1iZXI6IFwiKzE3MTQ1OTg2MTA1XCIsXG4gICAgICAgICAgICAgICAgbW9kZWxWZXJzaW9uOiBzZWxlY3RlZERyYWZ0TW9kZWwsXG4gICAgICAgICAgICAgICAgYXNwZWN0UmF0aW86IHBhcGVyU2l6ZXMuZmluZChzaXplID0+IHNpemUuaWQgPT09IHNlbGVjdGVkUGFwZXJTaXplKT8uYXNwZWN0UmF0aW8gfHwgXCI5OjE2XCIsXG4gICAgICAgICAgICAgICAgcXVhbGl0eTogXCJsb3dcIixcbiAgICAgICAgICAgICAgICBvdXRwdXRGb3JtYXQ6IFwianBlZ1wiLFxuICAgICAgICAgICAgICAgIG91dHB1dENvbXByZXNzaW9uOiAxMDAsXG4gICAgICAgICAgICAgICAgbW9kZXJhdGlvbjogXCJsb3dcIixcbiAgICAgICAgICAgICAgICBkaW1lbnNpb25zOiBwYXBlclNpemVzLmZpbmQoc2l6ZSA9PiBzaXplLmlkID09PSBzZWxlY3RlZFBhcGVyU2l6ZSk/LmRpbWVuc2lvbnMgfHwgXCIxMDI0eDE1MzZcIixcbiAgICAgICAgICAgICAgICBpc0Zyb250QmFja09ubHk6IHRydWUsXG4gICAgICAgICAgICAgICAgdXNlckVtYWlsLFxuICAgICAgICAgICAgICAgIGNhcmRUeXBlOiBjYXJkVHlwZUZvclByb21wdCxcbiAgICAgICAgICAgICAgICB0b0ZpZWxkLFxuICAgICAgICAgICAgICAgIGZyb21GaWVsZCxcbiAgICAgICAgICAgICAgICBpc0RyYWZ0TW9kZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAuLi4oaW5wdXRJbWFnZXMubGVuZ3RoID4gMCAmJiB7IFxuICAgICAgICAgICAgICAgICAgaW5wdXRfaW1hZ2VzOiBpbnB1dEltYWdlcyxcbiAgICAgICAgICAgICAgICAgIGlucHV0X2ltYWdlc19tb2RlOiBcImZyb250X2NvdmVyX29ubHlcIlxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFNlcnZlciBlcnJvcjogJHtyZXNwb25zZS5zdGF0dXN9YCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgICAgIFxuICAgICAgICAgIGlmIChyZXN1bHQuc3RhdHVzICE9PSAncHJvY2Vzc2luZycpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihyZXN1bHQubWVzc2FnZSB8fCAnRmFpbGVkIHRvIHN0YXJ0IGRyYWZ0IGdlbmVyYXRpb24nKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjb25zb2xlLmxvZyhg4pyFIERyYWZ0IHZhcmlhdGlvbiAke2luZGV4ICsgMX0gam9iIHN0YXJ0ZWQ6YCwgam9iSWQpO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIFNhdmUgZHJhZnQgam9iIHRvIHN0b3JhZ2UgZm9yIHJlY292ZXJ5XG4gICAgICAgICAgc2F2ZUpvYlRvU3RvcmFnZShqb2JJZCwge1xuICAgICAgICAgICAgaXNEcmFmdDogdHJ1ZSxcbiAgICAgICAgICAgIGRyYWZ0SW5kZXg6IGluZGV4LFxuICAgICAgICAgICAgc3R5bGVJbmZvOiBzdHlsZU92ZXJyaWRlID8geyBzdHlsZU5hbWU6IHN0eWxlT3ZlcnJpZGUsIHN0eWxlTGFiZWw6IHN0eWxlTGFiZWwgfSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGZyb250Q292ZXJQcm9tcHQ6IGVuaGFuY2VkRnJvbnRDb3ZlclByb21wdCxcbiAgICAgICAgICAgIHVzZXJFbWFpbCxcbiAgICAgICAgICAgIHNlbGVjdGVkVHlwZSxcbiAgICAgICAgICAgIHNlbGVjdGVkVG9uZSxcbiAgICAgICAgICAgIHRvRmllbGQsXG4gICAgICAgICAgICBmcm9tRmllbGQsXG4gICAgICAgICAgICBkcmFmdENhcmRzOiBbXSAgLy8gV2lsbCBiZSB1cGRhdGVkIGFzIGRyYWZ0cyBjb21wbGV0ZVxuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgLy8gU3Vic2NyaWJlIHRvIFdlYlNvY2tldCB1cGRhdGVzXG4gICAgICAgICAgc3Vic2NyaWJlVG9Kb2Ioam9iSWQpO1xuXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcihg4p2MIERyYWZ0IHZhcmlhdGlvbiAke2luZGV4ICsgMX0gZmFpbGVkOmAsIGVycm9yKTtcbiAgICAgICAgICB0b2FzdC5lcnJvcihgRHJhZnQgdmFyaWF0aW9uICR7aW5kZXggKyAxfSBmYWlsZWQ6ICR7ZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnVW5rbm93biBlcnJvcid9YCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICAvLyBXYWl0IGZvciBhbGwgZHJhZnQgZ2VuZXJhdGlvbnMgdG8gc3RhcnRcbiAgICAgIGF3YWl0IFByb21pc2UuYWxsU2V0dGxlZChkcmFmdFByb21pc2VzKTtcbiAgICAgIGNvbnNvbGUubG9nKFwi8J+agCBBbGwgZHJhZnQgdmFyaWF0aW9ucyBzdGFydGVkXCIpO1xuXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0RyYWZ0IGNhcmQgZ2VuZXJhdGlvbiBlcnJvcjonLCBlcnJvcik7XG4gICAgICB0b2FzdC5lcnJvcihgRmFpbGVkIHRvIHN0YXJ0IGRyYWZ0IGdlbmVyYXRpb246ICR7ZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnVW5rbm93biBlcnJvcid9YCk7XG4gICAgICBcbiAgICAgIHNldElzR2VuZXJhdGluZyhmYWxzZSk7XG4gICAgICBzZXRJc0RyYWZ0TW9kZShmYWxzZSk7XG4gICAgICBzZXREcmFmdENvbXBsZXRpb25TaG93bihmYWxzZSk7XG4gICAgICBzZXREcmFmdENvbXBsZXRpb25Db3VudCgwKTtcbiAgICAgIHNldEdlbmVyYXRpb25Qcm9ncmVzcyhcIlwiKTtcbiAgICAgIHByb3BzLnN0b3BFbGFwc2VkVGltZVRyYWNraW5nKCk7XG4gICAgICBcbiAgICAgIC8vIENsZWFyIHByb2dyZXNzIGludGVydmFsIG9uIGVycm9yXG4gICAgICBpZiAocHJvZ3Jlc3NJbnRlcnZhbCkge1xuICAgICAgICBjbGVhckludGVydmFsKHByb2dyZXNzSW50ZXJ2YWwpO1xuICAgICAgICBzZXRQcm9ncmVzc0ludGVydmFsKG51bGwpO1xuICAgICAgfVxuICAgIH1cbiAgfSwgW3Byb3BzLCBwcm9ncmVzc0ludGVydmFsXSk7XG5cbiAgLy8gR2VuZXJhdGUgZmluYWwgaGlnaC1xdWFsaXR5IGNhcmQgZnJvbSBzZWxlY3RlZCBkcmFmdFxuICBjb25zdCBoYW5kbGVHZW5lcmF0ZUZpbmFsRnJvbURyYWZ0ID0gdXNlQ2FsbGJhY2soYXN5bmMgKGRpc3BsYXlJbmRleDogbnVtYmVyKSA9PiB7XG4gICAgLy8gUHJldmVudCBkdXBsaWNhdGUgY2FsbHNcbiAgICBpZiAoaXNHZW5lcmF0aW5nRmluYWxDYXJkKSB7XG4gICAgICBjb25zb2xlLmxvZygn4pqg77iPIEZpbmFsIGNhcmQgZ2VuZXJhdGlvbiBhbHJlYWR5IGluIHByb2dyZXNzLCBza2lwcGluZyBkdXBsaWNhdGUgY2FsbCcpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBcbiAgICBjb25zdCBzZWxlY3RlZERyYWZ0ID0gZHJhZnRDYXJkc1tkaXNwbGF5SW5kZXhdO1xuICAgIGlmICghc2VsZWN0ZWREcmFmdCkge1xuICAgICAgdG9hc3QuZXJyb3IoXCJQbGVhc2Ugd2FpdCBmb3IgdGhlIGRyYWZ0IHRvIGNvbXBsZXRlIGJlZm9yZSBzZWxlY3RpbmdcIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3Qge1xuICAgICAgc2VsZWN0ZWRUeXBlLFxuICAgICAgY3VzdG9tQ2FyZFR5cGUsXG4gICAgICBzZWxlY3RlZFRvbmUsXG4gICAgICBwcm9tcHQsXG4gICAgICB0b0ZpZWxkLFxuICAgICAgZnJvbUZpZWxkLFxuICAgICAgZmluYWxDYXJkTWVzc2FnZSxcbiAgICAgIGlzSGFuZHdyaXR0ZW5NZXNzYWdlLFxuICAgICAgc2VsZWN0ZWRBcnRpc3RpY1N0eWxlLFxuICAgICAgY3VzdG9tU3R5bGVEZXNjcmlwdGlvbixcbiAgICAgIGlzRnJvbnRCYWNrT25seSxcbiAgICAgIHNlbGVjdGVkSW1hZ2VNb2RlbCxcbiAgICAgIHNlbGVjdGVkUGFwZXJTaXplLFxuICAgICAgdXNlckVtYWlsLFxuICAgICAgcmVmZXJlbmNlSW1hZ2VVcmxzLFxuICAgICAgc3RhcnRFbGFwc2VkVGltZVRyYWNraW5nLFxuICAgICAgc3Vic2NyaWJlVG9Kb2JcbiAgICB9ID0gcHJvcHM7XG5cbiAgICAvLyBTdG9wIGFueSBleGlzdGluZyB0aW1lcnMgZmlyc3RcbiAgICBwcm9wcy5zdG9wRWxhcHNlZFRpbWVUcmFja2luZygpO1xuICAgIFxuICAgIHNldElzR2VuZXJhdGluZ0ZpbmFsQ2FyZCh0cnVlKTtcbiAgICBzZXRJc0RyYWZ0TW9kZShmYWxzZSk7IC8vIFN3aXRjaCBvdXQgb2YgZHJhZnQgbW9kZSBmb3IgZmluYWwgZ2VuZXJhdGlvblxuICAgIHNldFNlbGVjdGVkRHJhZnRJbmRleChkaXNwbGF5SW5kZXgpO1xuICAgIHN0YXJ0RWxhcHNlZFRpbWVUcmFja2luZygnZmluYWwnKTtcbiAgICBzZXRHZW5lcmF0aW9uUHJvZ3Jlc3MoXCLwn46oIENyZWF0aW5nIGhpZ2gtcXVhbGl0eSB2ZXJzaW9uIG9mIHlvdXIgc2VsZWN0ZWQgZGVzaWduLi4uXCIpO1xuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGpvYklkID0gdXVpZHY0KCk7XG4gICAgICBcbiAgICAgIC8vIEdlbmVyYXRlIHRoZSBtaXNzaW5nIHByb21wdHNcbiAgICAgIGNvbnN0IHN0b3JlZEZyb250Q292ZXJQcm9tcHQgPSBzZWxlY3RlZERyYWZ0LmdlbmVyYXRlZFByb21wdHM/LmZyb250Q292ZXI7XG4gICAgICBpZiAoIXN0b3JlZEZyb250Q292ZXJQcm9tcHQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiU2VsZWN0ZWQgZHJhZnQgaXMgbWlzc2luZyBmcm9udENvdmVyIHByb21wdFwiKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgY29uc3QgY2FyZFR5cGVGb3JQcm9tcHQgPSBzZWxlY3RlZFR5cGUgPT09IFwiY3VzdG9tXCIgPyBjdXN0b21DYXJkVHlwZSA6IHNlbGVjdGVkVHlwZTtcbiAgICAgIGNvbnN0IHNlbGVjdGVkVG9uZU9iaiA9IGNhcmRUb25lcy5maW5kKHRvbmUgPT4gdG9uZS5pZCA9PT0gc2VsZWN0ZWRUb25lKTtcbiAgICAgIGNvbnN0IHRvbmVEZXNjcmlwdGlvbiA9IHNlbGVjdGVkVG9uZU9iaiA/IHNlbGVjdGVkVG9uZU9iai5kZXNjcmlwdGlvbi50b0xvd2VyQ2FzZSgpIDogXCJoZWFydGZlbHQgYW5kIHNpbmNlcmVcIjtcbiAgICAgIGNvbnN0IGVmZmVjdGl2ZVByb21wdCA9IHByb21wdC50cmltKCkgfHwgYEEgYmVhdXRpZnVsICR7Y2FyZFR5cGVGb3JQcm9tcHR9IGNhcmQgd2l0aCAke3RvbmVEZXNjcmlwdGlvbn0gc3R5bGVgO1xuICAgICAgXG4gICAgICBsZXQgbWVzc2FnZUNvbnRlbnQgPSBmaW5hbENhcmRNZXNzYWdlO1xuICAgICAgaWYgKGlzSGFuZHdyaXR0ZW5NZXNzYWdlKSB7XG4gICAgICAgIG1lc3NhZ2VDb250ZW50ID0gXCJbQmxhbmsgc3BhY2UgZm9yIGhhbmR3cml0dGVuIG1lc3NhZ2VdXCI7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIEdldCBzdHlsZSBmcm9tIHRoZSBzZWxlY3RlZCBkcmFmdFxuICAgICAgY29uc3QgZHJhZnRTdHlsZUluZm8gPSBzZWxlY3RlZERyYWZ0LnN0eWxlSW5mbztcbiAgICAgIGxldCBzZWxlY3RlZFN0eWxlO1xuICAgICAgaWYgKGRyYWZ0U3R5bGVJbmZvICYmIGRyYWZ0U3R5bGVJbmZvLnN0eWxlTmFtZSkge1xuICAgICAgICBzZWxlY3RlZFN0eWxlID0gYXJ0aXN0aWNTdHlsZXMuZmluZChzdHlsZSA9PiBzdHlsZS5pZCA9PT0gZHJhZnRTdHlsZUluZm8uc3R5bGVOYW1lKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNlbGVjdGVkU3R5bGUgPSBhcnRpc3RpY1N0eWxlcy5maW5kKHN0eWxlID0+IHN0eWxlLmlkID09PSBzZWxlY3RlZEFydGlzdGljU3R5bGUpO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBVc2UgUHJvbXB0R2VuZXJhdG9yIGZvciBmaW5hbCBjYXJkIGZyb20gZHJhZnRcbiAgICAgIGNvbnN0IGZpbmFsRnJvbURyYWZ0Q29uZmlnOiBGaW5hbEZyb21EcmFmdENvbmZpZyA9IHtcbiAgICAgICAgZnJvbnRDb3ZlclByb21wdDogc3RvcmVkRnJvbnRDb3ZlclByb21wdCxcbiAgICAgICAgY2FyZFR5cGU6IHNlbGVjdGVkVHlwZSxcbiAgICAgICAgY3VzdG9tQ2FyZFR5cGU6IGN1c3RvbUNhcmRUeXBlLFxuICAgICAgICB0aGVtZTogZWZmZWN0aXZlUHJvbXB0LFxuICAgICAgICB0b25lOiBzZWxlY3RlZFRvbmUsXG4gICAgICAgIHRvbmVEZXNjcmlwdGlvbjogdG9uZURlc2NyaXB0aW9uLFxuICAgICAgICB0b0ZpZWxkOiB0b0ZpZWxkLFxuICAgICAgICBmcm9tRmllbGQ6IGZyb21GaWVsZCxcbiAgICAgICAgbWVzc2FnZTogbWVzc2FnZUNvbnRlbnQsXG4gICAgICAgIGlzSGFuZHdyaXR0ZW5NZXNzYWdlOiBpc0hhbmR3cml0dGVuTWVzc2FnZSxcbiAgICAgICAgYXJ0aXN0aWNTdHlsZTogc2VsZWN0ZWRTdHlsZSxcbiAgICAgICAgaXNGcm9udEJhY2tPbmx5OiBpc0Zyb250QmFja09ubHlcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IGZpbmFsUHJvbXB0cyA9IGF3YWl0IFByb21wdEdlbmVyYXRvci5nZW5lcmF0ZUZpbmFsRnJvbURyYWZ0UHJvbXB0c0NvbWJpbmVkKGZpbmFsRnJvbURyYWZ0Q29uZmlnKTtcblxuICAgICAgaWYgKCFmaW5hbFByb21wdHMgfHwgIWZpbmFsUHJvbXB0cy5mcm9udENvdmVyIHx8ICFmaW5hbFByb21wdHMuYmFja0NvdmVyKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkZhaWxlZCB0byBnZW5lcmF0ZSBjb21wbGV0ZSBwcm9tcHRzIGZvciBmaW5hbCBjYXJkXCIpO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBQcmVwYXJlIGlucHV0IGltYWdlcyBmb3IgZmluYWwgZ2VuZXJhdGlvblxuICAgICAgY29uc3QgaW5wdXRJbWFnZXM6IHN0cmluZ1tdID0gW107XG4gICAgICBpZiAocmVmZXJlbmNlSW1hZ2VVcmxzLmxlbmd0aCA+IDAgJiYgc2VsZWN0ZWRJbWFnZU1vZGVsID09PSBcImdwdC1pbWFnZS0xXCIpIHtcbiAgICAgICAgaW5wdXRJbWFnZXMucHVzaCguLi5yZWZlcmVuY2VJbWFnZVVybHMpO1xuICAgICAgfVxuXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCcvYXBpL2dlbmVyYXRlLWNhcmQtYXN5bmMnLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgIGpvYklkLFxuICAgICAgICAgIHByb21wdHM6IGZpbmFsUHJvbXB0cyxcbiAgICAgICAgICBjb25maWc6IHtcbiAgICAgICAgICAgIHVzZXJOdW1iZXI6IFwiKzE3MTQ1OTg2MTA1XCIsXG4gICAgICAgICAgICBtb2RlbFZlcnNpb246IHNlbGVjdGVkSW1hZ2VNb2RlbCxcbiAgICAgICAgICAgIGFzcGVjdFJhdGlvOiBwYXBlclNpemVzLmZpbmQoc2l6ZSA9PiBzaXplLmlkID09PSBzZWxlY3RlZFBhcGVyU2l6ZSk/LmFzcGVjdFJhdGlvIHx8IFwiOToxNlwiLFxuICAgICAgICAgICAgcXVhbGl0eTogXCJoaWdoXCIsXG4gICAgICAgICAgICBvdXRwdXRGb3JtYXQ6IFwianBlZ1wiLFxuICAgICAgICAgICAgb3V0cHV0Q29tcHJlc3Npb246IDEwMCxcbiAgICAgICAgICAgIG1vZGVyYXRpb246IFwibG93XCIsXG4gICAgICAgICAgICBkaW1lbnNpb25zOiBwYXBlclNpemVzLmZpbmQoc2l6ZSA9PiBzaXplLmlkID09PSBzZWxlY3RlZFBhcGVyU2l6ZSk/LmRpbWVuc2lvbnMgfHwgXCIxMDI0eDE1MzZcIixcbiAgICAgICAgICAgIGlzRnJvbnRCYWNrT25seSxcbiAgICAgICAgICAgIHVzZXJFbWFpbCxcbiAgICAgICAgICAgIGNhcmRUeXBlOiBzZWxlY3RlZFR5cGUgPT09IFwiY3VzdG9tXCIgPyBjdXN0b21DYXJkVHlwZSA6IHNlbGVjdGVkVHlwZSxcbiAgICAgICAgICAgIHRvRmllbGQsXG4gICAgICAgICAgICBmcm9tRmllbGQsXG4gICAgICAgICAgICBpc0RyYWZ0TW9kZTogZmFsc2UsXG4gICAgICAgICAgICAuLi4oaW5wdXRJbWFnZXMubGVuZ3RoID4gMCAmJiB7IFxuICAgICAgICAgICAgICBpbnB1dF9pbWFnZXM6IGlucHV0SW1hZ2VzLFxuICAgICAgICAgICAgICBpbnB1dF9pbWFnZXNfbW9kZTogXCJmcm9udF9jb3Zlcl9vbmx5XCJcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgfSk7XG5cbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBTZXJ2ZXIgZXJyb3I6ICR7cmVzcG9uc2Uuc3RhdHVzfWApO1xuICAgICAgfVxuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICBcbiAgICAgIGlmIChyZXN1bHQuc3RhdHVzICE9PSAncHJvY2Vzc2luZycpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKHJlc3VsdC5tZXNzYWdlIHx8ICdGYWlsZWQgdG8gc3RhcnQgZmluYWwgY2FyZCBnZW5lcmF0aW9uJyk7XG4gICAgICB9XG5cbiAgICAgIHNldEN1cnJlbnRKb2JJZChqb2JJZCk7XG4gICAgICB0b2FzdC5zdWNjZXNzKFwi8J+OqCBHZW5lcmF0aW5nIGhpZ2gtcXVhbGl0eSB2ZXJzaW9uIG9mIHlvdXIgc2VsZWN0ZWQgZGVzaWduIVwiKTtcbiAgICAgIFxuICAgICAgLy8gU3Vic2NyaWJlIHRvIFdlYlNvY2tldCB1cGRhdGVzXG4gICAgICBzdWJzY3JpYmVUb0pvYihqb2JJZCk7XG5cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRmluYWwgY2FyZCBnZW5lcmF0aW9uIGVycm9yOicsIGVycm9yKTtcbiAgICAgIHRvYXN0LmVycm9yKFwiRmFpbGVkIHRvIGdlbmVyYXRlIGZpbmFsIGNhcmQuIFBsZWFzZSB0cnkgYWdhaW4uXCIpO1xuICAgICAgc2V0SXNHZW5lcmF0aW5nRmluYWxDYXJkKGZhbHNlKTtcbiAgICAgIHNldEdlbmVyYXRpb25Qcm9ncmVzcyhcIlwiKTtcbiAgICAgIHByb3BzLnN0b3BFbGFwc2VkVGltZVRyYWNraW5nKCk7IC8vIENsZWFyIHRpbWUtYmFzZWQgcHJvZ3Jlc3Mgb24gZXJyb3JcbiAgICB9XG4gIH0sIFtkcmFmdENhcmRzLCBpc0dlbmVyYXRpbmdGaW5hbENhcmQsIHByb3BzXSk7XG5cbiAgcmV0dXJuIHtcbiAgICBpc0RyYWZ0TW9kZSxcbiAgICBzZXRJc0RyYWZ0TW9kZSxcbiAgICBkcmFmdENhcmRzLFxuICAgIHNldERyYWZ0Q2FyZHMsXG4gICAgc2VsZWN0ZWREcmFmdEluZGV4LFxuICAgIHNldFNlbGVjdGVkRHJhZnRJbmRleCxcbiAgICBpc0dlbmVyYXRpbmdGaW5hbENhcmQsXG4gICAgc2V0SXNHZW5lcmF0aW5nRmluYWxDYXJkLFxuICAgIHByZXZpZXdpbmdEcmFmdEluZGV4LFxuICAgIHNldFByZXZpZXdpbmdEcmFmdEluZGV4LFxuICAgIGRyYWZ0Q29tcGxldGlvblNob3duLFxuICAgIHNldERyYWZ0Q29tcGxldGlvblNob3duLFxuICAgIGRyYWZ0Q29tcGxldGlvbkNvdW50LFxuICAgIHNldERyYWZ0Q29tcGxldGlvbkNvdW50LFxuICAgIGhhbmRsZUdlbmVyYXRlRHJhZnRDYXJkcyxcbiAgICBoYW5kbGVHZW5lcmF0ZUZpbmFsRnJvbURyYWZ0LFxuICAgIGlzR2VuZXJhdGluZyxcbiAgICBzZXRJc0dlbmVyYXRpbmcsXG4gICAgZ2VuZXJhdGlvblByb2dyZXNzLFxuICAgIHNldEdlbmVyYXRpb25Qcm9ncmVzcyxcbiAgICBwcm9ncmVzc1BlcmNlbnRhZ2UsXG4gICAgc2V0UHJvZ3Jlc3NQZXJjZW50YWdlLFxuICAgIGdlbmVyYXRlZENhcmQsXG4gICAgc2V0R2VuZXJhdGVkQ2FyZCxcbiAgICBnZW5lcmF0ZWRDYXJkcyxcbiAgICBzZXRHZW5lcmF0ZWRDYXJkcyxcbiAgICBpc0NhcmRDb21wbGV0ZWQsXG4gICAgc2V0SXNDYXJkQ29tcGxldGVkLFxuICAgIGN1cnJlbnRKb2JJZCxcbiAgICBzZXRDdXJyZW50Sm9iSWQsXG4gICAgY2xlYXJQcm9ncmVzc0ludGVydmFsXG4gIH07XG59Il0sIm5hbWVzIjpbInVzZVN0YXRlIiwidXNlQ2FsbGJhY2siLCJ0b2FzdCIsInY0IiwidXVpZHY0IiwiUHJvbXB0R2VuZXJhdG9yIiwiYXJ0aXN0aWNTdHlsZXMiLCJwYXBlclNpemVzIiwiY2FyZFRvbmVzIiwiY2hhdFdpdGhBSSIsInVzZURyYWZ0R2VuZXJhdGlvbiIsInByb3BzIiwiaXNEcmFmdE1vZGUiLCJzZXRJc0RyYWZ0TW9kZSIsImRyYWZ0Q2FyZHMiLCJzZXREcmFmdENhcmRzIiwic2VsZWN0ZWREcmFmdEluZGV4Iiwic2V0U2VsZWN0ZWREcmFmdEluZGV4IiwiaXNHZW5lcmF0aW5nRmluYWxDYXJkIiwic2V0SXNHZW5lcmF0aW5nRmluYWxDYXJkIiwicHJldmlld2luZ0RyYWZ0SW5kZXgiLCJzZXRQcmV2aWV3aW5nRHJhZnRJbmRleCIsImRyYWZ0Q29tcGxldGlvblNob3duIiwic2V0RHJhZnRDb21wbGV0aW9uU2hvd24iLCJkcmFmdENvbXBsZXRpb25Db3VudCIsInNldERyYWZ0Q29tcGxldGlvbkNvdW50IiwiaXNHZW5lcmF0aW5nIiwic2V0SXNHZW5lcmF0aW5nIiwiZ2VuZXJhdGlvblByb2dyZXNzIiwic2V0R2VuZXJhdGlvblByb2dyZXNzIiwiZ2VuZXJhdGVkQ2FyZCIsInNldEdlbmVyYXRlZENhcmQiLCJnZW5lcmF0ZWRDYXJkcyIsInNldEdlbmVyYXRlZENhcmRzIiwiaXNDYXJkQ29tcGxldGVkIiwic2V0SXNDYXJkQ29tcGxldGVkIiwiY3VycmVudEpvYklkIiwic2V0Q3VycmVudEpvYklkIiwiaGFuZGxlR2VuZXJhdGVEcmFmdENhcmRzIiwidXNlckVtYWlsIiwic2VsZWN0ZWRBcnRpc3RpY1N0eWxlIiwiY3VzdG9tU3R5bGVEZXNjcmlwdGlvbiIsInJlZmVyZW5jZUltYWdlVXJscyIsInNlbGVjdGVkRHJhZnRNb2RlbCIsInNlbGVjdGVkVHlwZSIsImN1c3RvbUNhcmRUeXBlIiwic2VsZWN0ZWRUb25lIiwicHJvbXB0IiwidG9GaWVsZCIsImZyb21GaWVsZCIsInNlbGVjdGVkUGFwZXJTaXplIiwic2F2ZUpvYlRvU3RvcmFnZSIsInN1YnNjcmliZVRvSm9iIiwic3RhcnRFbGFwc2VkVGltZVRyYWNraW5nIiwidHJpbSIsImVycm9yIiwiZW1haWxSZWdleCIsInRlc3QiLCJsZW5ndGgiLCJzdG9wRWxhcHNlZFRpbWVUcmFja2luZyIsInByb2dyZXNzSW50ZXJ2YWwiLCJjbGVhckludGVydmFsIiwic2V0UHJvZ3Jlc3NJbnRlcnZhbCIsInVuc3Vic2NyaWJlRnJvbUFsbEpvYnMiLCJjb25zb2xlIiwibG9nIiwia2V5cyIsIk9iamVjdCIsImxvY2FsU3RvcmFnZSIsImZvckVhY2giLCJrZXkiLCJzdGFydHNXaXRoIiwicmVtb3ZlSXRlbSIsInBlbmRpbmdKb2JzIiwiSlNPTiIsInBhcnNlIiwiZ2V0SXRlbSIsImZpbHRlcmVkSm9icyIsImZpbHRlciIsImlkIiwic2V0SXRlbSIsInN0cmluZ2lmeSIsImNhcmRUeXBlRm9yUHJvbXB0Iiwic2VsZWN0ZWRUb25lT2JqIiwiZmluZCIsInRvbmUiLCJ0b25lRGVzY3JpcHRpb24iLCJkZXNjcmlwdGlvbiIsInRvTG93ZXJDYXNlIiwiZWZmZWN0aXZlUHJvbXB0IiwiZHJhZnRQcm9taXNlcyIsIkFycmF5IiwiZnJvbSIsIl8iLCJpbmRleCIsInN0eWxlT3ZlcnJpZGUiLCJ1bmRlZmluZWQiLCJzdHlsZUxhYmVsIiwicHJlZGVmaW5lZFN0eWxlcyIsInN0eWxlTGFiZWxzIiwic2VsZWN0ZWRTdHlsZSIsInN0eWxlIiwiZHJhZnRDb25maWciLCJjYXJkVHlwZSIsInRvbmVMYWJlbCIsImxhYmVsIiwidGhlbWUiLCJhcnRpc3RpY1N0eWxlIiwicGhvdG9BbmFseXNlcyIsImlzRHJhZnRWYXJpYXRpb24iLCJ2YXJpYXRpb25JbmRleCIsImZyb250Q292ZXJQcm9tcHRRdWVyeSIsImltYWdlcyIsImdlbmVyYXRlRHJhZnRQcm9tcHRXaXRoSW1hZ2VzIiwiZnJvbnRDb3ZlclByb21wdCIsIm1vZGVsIiwiYXR0YWNobWVudHMiLCJFcnJvciIsImVuaGFuY2VkRnJvbnRDb3ZlclByb21wdCIsImVuaGFuY2VQcm9tcHRXaXRoUmVmZXJlbmNlUGhvdG9zIiwiam9iSWQiLCJpbnB1dEltYWdlcyIsInB1c2giLCJyZXNwb25zZSIsImZldGNoIiwibWV0aG9kIiwiaGVhZGVycyIsImJvZHkiLCJwcm9tcHRzIiwiZnJvbnRDb3ZlciIsImNvbmZpZyIsInVzZXJOdW1iZXIiLCJtb2RlbFZlcnNpb24iLCJhc3BlY3RSYXRpbyIsInNpemUiLCJxdWFsaXR5Iiwib3V0cHV0Rm9ybWF0Iiwib3V0cHV0Q29tcHJlc3Npb24iLCJtb2RlcmF0aW9uIiwiZGltZW5zaW9ucyIsImlzRnJvbnRCYWNrT25seSIsImlucHV0X2ltYWdlcyIsImlucHV0X2ltYWdlc19tb2RlIiwib2siLCJzdGF0dXMiLCJyZXN1bHQiLCJqc29uIiwibWVzc2FnZSIsImlzRHJhZnQiLCJkcmFmdEluZGV4Iiwic3R5bGVJbmZvIiwic3R5bGVOYW1lIiwiUHJvbWlzZSIsImFsbFNldHRsZWQiLCJoYW5kbGVHZW5lcmF0ZUZpbmFsRnJvbURyYWZ0IiwiZGlzcGxheUluZGV4Iiwic2VsZWN0ZWREcmFmdCIsImZpbmFsQ2FyZE1lc3NhZ2UiLCJpc0hhbmR3cml0dGVuTWVzc2FnZSIsInNlbGVjdGVkSW1hZ2VNb2RlbCIsInN0b3JlZEZyb250Q292ZXJQcm9tcHQiLCJnZW5lcmF0ZWRQcm9tcHRzIiwibWVzc2FnZUNvbnRlbnQiLCJkcmFmdFN0eWxlSW5mbyIsImZpbmFsRnJvbURyYWZ0Q29uZmlnIiwiZmluYWxQcm9tcHRzIiwiZ2VuZXJhdGVGaW5hbEZyb21EcmFmdFByb21wdHNDb21iaW5lZCIsImJhY2tDb3ZlciIsInN1Y2Nlc3MiLCJwcm9ncmVzc1BlcmNlbnRhZ2UiLCJzZXRQcm9ncmVzc1BlcmNlbnRhZ2UiLCJjbGVhclByb2dyZXNzSW50ZXJ2YWwiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./hooks/cardStudio/useDraftGeneration.ts\n"));

/***/ })

});