"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/page",{

/***/ "(app-pages-browser)/./hooks/useCardStudioRefactored.ts":
/*!******************************************!*\
  !*** ./hooks/useCardStudioRefactored.ts ***!
  \******************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useCardStudio: function() { return /* binding */ useCardStudio; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var sonner__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! sonner */ \"(app-pages-browser)/./node_modules/sonner/dist/index.mjs\");\n/* harmony import */ var _cardStudio_useWebSocket__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./cardStudio/useWebSocket */ \"(app-pages-browser)/./hooks/cardStudio/useWebSocket.ts\");\n/* harmony import */ var _cardStudio_useJobManagement__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./cardStudio/useJobManagement */ \"(app-pages-browser)/./hooks/cardStudio/useJobManagement.ts\");\n/* harmony import */ var _cardStudio_useMessageGeneration__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./cardStudio/useMessageGeneration */ \"(app-pages-browser)/./hooks/cardStudio/useMessageGeneration.ts\");\n/* harmony import */ var _cardStudio_useFileHandling__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./cardStudio/useFileHandling */ \"(app-pages-browser)/./hooks/cardStudio/useFileHandling.ts\");\n/* harmony import */ var _cardStudio_useDraftGeneration__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./cardStudio/useDraftGeneration */ \"(app-pages-browser)/./hooks/cardStudio/useDraftGeneration.ts\");\n/* harmony import */ var _cardStudio_useCardGeneration__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./cardStudio/useCardGeneration */ \"(app-pages-browser)/./hooks/cardStudio/useCardGeneration.ts\");\n/* harmony import */ var _cardStudio_constants__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./cardStudio/constants */ \"(app-pages-browser)/./hooks/cardStudio/constants.ts\");\n/* harmony import */ var _cardStudio_utils__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./cardStudio/utils */ \"(app-pages-browser)/./hooks/cardStudio/utils.ts\");\n/* __next_internal_client_entry_do_not_use__ useCardStudio auto */ \n\n// Import modular hooks\n\n\n\n\n\n\n// Import constants and utils\n\n\nfunction useCardStudio() {\n    // Core form state\n    const [prompt, setPrompt] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(\"\");\n    const [toField, setToField] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(\"\");\n    const [fromField, setFromField] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(\"\");\n    const [relationshipField, setRelationshipField] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(\"\");\n    const [selectedType, setSelectedType] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(\"birthday\");\n    const [customCardType, setCustomCardType] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(\"\");\n    const [selectedTone, setSelectedTone] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(\"funny\");\n    // Advanced options state\n    const [showAdvanced, setShowAdvanced] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [selectedArtisticStyle, setSelectedArtisticStyle] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(\"watercolor\");\n    const [customStyleDescription, setCustomStyleDescription] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(\"\");\n    const [selectedImageModel, setSelectedImageModel] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(\"gpt-image-1\");\n    const [selectedDraftModel, setSelectedDraftModel] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(\"gpt-image-1\");\n    const [fastPreviewMode, setFastPreviewMode] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(true);\n    // Email state\n    const [userEmail, setUserEmail] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(\"\");\n    // Card options\n    const [numberOfCards, setNumberOfCards] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(1);\n    const [isHandwrittenMessage, setIsHandwrittenMessage] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [isFrontBackOnly, setIsFrontBackOnly] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [selectedPaperSize, setSelectedPaperSize] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(\"standard\");\n    // UI state\n    const [isTextareaExpanded, setIsTextareaExpanded] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [isMessageExpanded, setIsMessageExpanded] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [showSettings, setShowSettings] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [showTemplateGallery, setShowTemplateGallery] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [showPrintConfirmation, setShowPrintConfirmation] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [showTemplateCustomization, setShowTemplateCustomization] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    // Restoration state\n    const [isRestoringJobs, setIsRestoringJobs] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(true);\n    const [selectedTemplate, setSelectedTemplate] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [isInitialLoadComplete, setIsInitialLoadComplete] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    // Template state\n    const [templateSearchQuery, setTemplateSearchQuery] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(\"\");\n    const [isSearchingTemplates, setIsSearchingTemplates] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [aiFilteredCards, setAiFilteredCards] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]);\n    const [searchMode, setSearchMode] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(\"text\");\n    const [textFilteredCards, setTextFilteredCards] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]);\n    const [showPrompts, setShowPrompts] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [printOption, setPrintOption] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(\"physical\");\n    // Template customization state\n    const [templateCustomizations, setTemplateCustomizations] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({\n        promptChanges: \"\",\n        messageChanges: \"\",\n        useReferenceImage: false,\n        referenceImageFile: null,\n        referenceImageUrls: [],\n        referenceImageTransformation: \"\"\n    });\n    // Section loading states\n    const [sectionLoadingStates, setSectionLoadingStates] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({\n        frontCover: \"idle\",\n        backCover: \"idle\",\n        leftInterior: \"idle\",\n        rightInterior: \"idle\"\n    });\n    // Countdown state\n    const [countdown, setCountdown] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(0);\n    const [countdownInterval, setCountdownInterval] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    // Use modular hooks\n    const webSocket = (0,_cardStudio_useWebSocket__WEBPACK_IMPORTED_MODULE_2__.useWebSocket)();\n    const jobManagement = (0,_cardStudio_useJobManagement__WEBPACK_IMPORTED_MODULE_3__.useJobManagement)();\n    const fileHandling = (0,_cardStudio_useFileHandling__WEBPACK_IMPORTED_MODULE_5__.useFileHandling)();\n    const messageGeneration = (0,_cardStudio_useMessageGeneration__WEBPACK_IMPORTED_MODULE_4__.useMessageGeneration)(selectedType, customCardType, selectedTone, prompt, toField, fromField, relationshipField, fileHandling.photoAnalyses);\n    // Draft generation props\n    const draftGenerationProps = {\n        selectedType,\n        customCardType,\n        selectedTone,\n        selectedArtisticStyle,\n        customStyleDescription,\n        selectedDraftModel,\n        selectedImageModel,\n        selectedPaperSize,\n        prompt,\n        toField,\n        fromField,\n        userEmail,\n        finalCardMessage: messageGeneration.finalCardMessage,\n        isHandwrittenMessage,\n        isFrontBackOnly,\n        referenceImageUrls: fileHandling.referenceImageUrls,\n        photoAnalyses: fileHandling.photoAnalyses,\n        saveJobToStorage: jobManagement.saveJobToStorage,\n        subscribeToJob: webSocket.subscribeToJob,\n        unsubscribeFromAllJobs: webSocket.unsubscribeFromAllJobs,\n        startElapsedTimeTracking: jobManagement.startElapsedTimeTracking,\n        stopElapsedTimeTracking: jobManagement.stopElapsedTimeTracking\n    };\n    const draftGeneration = (0,_cardStudio_useDraftGeneration__WEBPACK_IMPORTED_MODULE_6__.useDraftGeneration)(draftGenerationProps);\n    // Card generation props\n    const cardGenerationProps = {\n        selectedType,\n        customCardType,\n        selectedTone,\n        selectedArtisticStyle,\n        customStyleDescription,\n        selectedImageModel,\n        selectedPaperSize,\n        prompt,\n        toField,\n        fromField,\n        userEmail,\n        finalCardMessage: messageGeneration.finalCardMessage,\n        isHandwrittenMessage,\n        isFrontBackOnly,\n        referenceImageUrls: fileHandling.referenceImageUrls,\n        photoAnalyses: fileHandling.photoAnalyses,\n        numberOfCards,\n        saveJobToStorage: jobManagement.saveJobToStorage,\n        removeJobFromStorage: jobManagement.removeJobFromStorage,\n        subscribeToJob: webSocket.subscribeToJob,\n        startElapsedTimeTracking: jobManagement.startElapsedTimeTracking,\n        stopElapsedTimeTracking: jobManagement.stopElapsedTimeTracking,\n        setCurrentJobId: jobManagement.setCurrentJobId,\n        setIsDraftMode: draftGeneration.setIsDraftMode,\n        setDraftCards: draftGeneration.setDraftCards,\n        setSelectedDraftIndex: draftGeneration.setSelectedDraftIndex,\n        setIsGeneratingFinalCard: draftGeneration.setIsGeneratingFinalCard,\n        setPreviewingDraftIndex: draftGeneration.setPreviewingDraftIndex,\n        setDraftCompletionShown: draftGeneration.setDraftCompletionShown,\n        setDraftCompletionCount: draftGeneration.setDraftCompletionCount\n    };\n    const cardGeneration = (0,_cardStudio_useCardGeneration__WEBPACK_IMPORTED_MODULE_7__.useCardGeneration)(cardGenerationProps);\n    // Handle job updates from WebSocket\n    const handleJobUpdate = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((data)=>{\n        const { job_id, status, progress, cardData, error, completedAt } = data;\n        if (!job_id) return;\n        // Skip updates if we're still restoring jobs from localStorage\n        if (isRestoringJobs) {\n            console.log(\"⏳ Skipping job update during restoration:\", job_id);\n            return;\n        }\n        // Check if this is a draft job\n        const isDraftJob1 = job_id.startsWith(\"draft-\");\n        const draftIndex = isDraftJob1 ? parseInt(job_id.split(\"-\")[1]) : -1;\n        // Filter out updates from wrong job type\n        // If we're in draft mode, only process draft jobs\n        // If we're in final mode, only process non-draft jobs\n        const isInDraftMode = draftGeneration.isDraftMode;\n        if (isInDraftMode && !isDraftJob1) {\n            console.log(\"\\uD83D\\uDEAB Ignoring non-draft job update in draft mode:\", job_id);\n            return;\n        }\n        if (!isInDraftMode && isDraftJob1) {\n            console.log(\"\\uD83D\\uDEAB Ignoring draft job update in final mode:\", job_id);\n            return;\n        }\n        console.log(\"\\uD83D\\uDD04 Processing job update:\", {\n            job_id,\n            status,\n            isDraftJob: isDraftJob1,\n            draftIndex,\n            progress\n        });\n        // Update progress if provided\n        if (progress) {\n            // IMPORTANT: Don't show \"Generation complete!\" until we've actually processed the card\n            // This prevents the UI from showing completion before the card is ready\n            if (progress.includes(\"Generation complete!\") && status === \"completed\" && !isDraftJob1) {\n                console.log('⏸️ Holding \"Generation complete!\" message until card is processed');\n            // Don't update the progress message yet - it will be set in handleFinalCardCompletion\n            } else {\n                cardGeneration.setGenerationProgress(progress);\n                draftGeneration.setGenerationProgress(progress);\n                console.log(\"\\uD83D\\uDCCA Progress message: \".concat(progress));\n            }\n        }\n        if (status === \"completed\" && cardData) {\n            console.log(\"\\uD83C\\uDF89 Job completed! Card data:\", cardData, \"isDraftJob:\", isDraftJob1);\n            if (isDraftJob1 && draftIndex >= 0) {\n                var _cardData_generatedPrompts;\n                // Handle draft card completion\n                console.log(\"\\uD83C\\uDFA8 Draft variation \".concat(draftIndex + 1, \" completed!\"));\n                // Get style info for smart style mode\n                let styleInfo = undefined;\n                if (selectedArtisticStyle === \"ai-smart-style\") {\n                    const predefinedStyles = [\n                        \"watercolor\",\n                        \"botanical\",\n                        \"comic-book\",\n                        \"dreamy-fantasy\",\n                        \"minimalist\"\n                    ];\n                    const styleLabels = [\n                        \"\\uD83C\\uDFA8 Watercolor\",\n                        \"\\uD83C\\uDF3F Botanical\",\n                        \"\\uD83D\\uDCA5 Comic Book\",\n                        \"\\uD83C\\uDF38 Dreamy Fantasy\",\n                        \"✨ Minimalist\"\n                    ];\n                    if (draftIndex >= 0 && draftIndex < predefinedStyles.length) {\n                        styleInfo = {\n                            styleName: predefinedStyles[draftIndex],\n                            styleLabel: styleLabels[draftIndex]\n                        };\n                    }\n                }\n                const draftCard = {\n                    id: \"draft-\".concat(draftIndex + 1, \"-\").concat(Date.now()),\n                    prompt: cardData.prompt || \"Draft Variation \".concat(draftIndex + 1),\n                    frontCover: cardData.frontCover || \"\",\n                    backCover: \"\",\n                    leftPage: \"\",\n                    rightPage: \"\",\n                    createdAt: new Date(),\n                    generatedPrompts: {\n                        frontCover: ((_cardData_generatedPrompts = cardData.generatedPrompts) === null || _cardData_generatedPrompts === void 0 ? void 0 : _cardData_generatedPrompts.frontCover) || \"\"\n                    },\n                    styleInfo: styleInfo\n                };\n                // Simplified draft tracking - use fixed array positions\n                draftGeneration.setDraftCards((prev)=>{\n                    const updated = [\n                        ...prev\n                    ];\n                    // Ensure array has 5 slots\n                    while(updated.length < 5){\n                        updated.push(null);\n                    }\n                    // Place draft at its correct index\n                    updated[draftIndex] = draftCard;\n                    console.log(\"✅ Draft \".concat(draftIndex + 1, \" completed and stored at index \").concat(draftIndex));\n                    // Save draft to localStorage with expiration\n                    if (true) {\n                        try {\n                            const jobData = localStorage.getItem(\"cardJob_\".concat(job_id));\n                            if (jobData) {\n                                const job = JSON.parse(jobData);\n                                job.draftCards = [\n                                    draftCard\n                                ];\n                                job.draftIndex = draftIndex;\n                                job.lastUpdate = Date.now();\n                                job.expiresAt = Date.now() + 30 * 24 * 60 * 60 * 1000; // 30 days\n                                localStorage.setItem(\"cardJob_\".concat(job_id), JSON.stringify(job));\n                            }\n                        } catch (error) {\n                            console.error(\"Failed to save draft:\", error);\n                        }\n                    }\n                    return updated;\n                });\n                // Simplified completion tracking - count the updated array including the new draft\n                const updatedDrafts = [\n                    ...draftGeneration.draftCards\n                ];\n                updatedDrafts[draftIndex] = draftCard;\n                const completedCount = updatedDrafts.filter(Boolean).length;\n                console.log(\"\\uD83D\\uDCCA Draft progress: \".concat(completedCount, \"/5 variations complete\"));\n                // Update progress\n                const progressMsg = completedCount === 5 ? \"All 5 variations ready! Choose your favorite below.\" : \"\".concat(completedCount, \"/5 variations complete...\").concat(completedCount >= 2 ? \" You can select one now!\" : \"\");\n                draftGeneration.setGenerationProgress(progressMsg);\n                // Override time-based progress with real progress when drafts complete\n                // Don't override time-based progress\n                console.log(\"\\uD83C\\uDFA8 Draft \".concat(completedCount, \"/5 completed\"));\n                // Handle milestones\n                if (completedCount === 1) {\n                    (0,_cardStudio_utils__WEBPACK_IMPORTED_MODULE_9__.scrollToCardPreview)();\n                }\n                if (completedCount === 5 && !draftGeneration.isGeneratingFinalCard) {\n                    draftGeneration.setIsGenerating(false);\n                    jobManagement.stopElapsedTimeTracking();\n                    sonner__WEBPACK_IMPORTED_MODULE_1__.toast.success(\"\\uD83C\\uDFA8 All 5 front cover variations ready! Choose your favorite below.\");\n                }\n                // Keep draft jobs in storage for later retrieval\n                // Only unsubscribe from WebSocket\n                webSocket.unsubscribeFromJob(job_id);\n                console.log(\"✅ Keeping draft job \".concat(job_id, \" in storage for future access\"));\n            } else {\n                // Handle final card completion\n                console.log(\"\\uD83D\\uDD0D Final card completion detected. Card data structure:\", {\n                    hasCardData: !!cardData,\n                    cardDataKeys: Object.keys(cardData || {}),\n                    frontCover: (cardData === null || cardData === void 0 ? void 0 : cardData.frontCover) ? \"Present\" : \"Missing\",\n                    backCover: (cardData === null || cardData === void 0 ? void 0 : cardData.backCover) ? \"Present\" : \"Missing\",\n                    leftInterior: (cardData === null || cardData === void 0 ? void 0 : cardData.leftInterior) ? \"Present\" : \"Missing\",\n                    rightInterior: (cardData === null || cardData === void 0 ? void 0 : cardData.rightInterior) ? \"Present\" : \"Missing\",\n                    leftPage: (cardData === null || cardData === void 0 ? void 0 : cardData.leftPage) ? \"Present\" : \"Missing\",\n                    rightPage: (cardData === null || cardData === void 0 ? void 0 : cardData.rightPage) ? \"Present\" : \"Missing\"\n                });\n                console.log(\"\\uD83D\\uDCDD Full card data:\", JSON.stringify(cardData, null, 2));\n                // Map backend field names to frontend field names\n                const mappedCardData = {\n                    ...cardData,\n                    leftInterior: cardData.leftInterior || cardData.leftPage,\n                    rightInterior: cardData.rightInterior || cardData.rightPage,\n                    // Keep original fields for backward compatibility\n                    leftPage: cardData.leftPage || cardData.leftInterior,\n                    rightPage: cardData.rightPage || cardData.rightInterior\n                };\n                console.log(\"\\uD83D\\uDD04 Mapped card data for frontend compatibility:\", {\n                    frontCover: mappedCardData.frontCover ? \"Present\" : \"Missing\",\n                    backCover: mappedCardData.backCover ? \"Present\" : \"Missing\",\n                    leftInterior: mappedCardData.leftInterior ? \"Present\" : \"Missing\",\n                    rightInterior: mappedCardData.rightInterior ? \"Present\" : \"Missing\"\n                });\n                // Call the completion handler\n                console.log(\"\\uD83D\\uDE80 Calling handleFinalCardCompletion...\");\n                cardGeneration.handleFinalCardCompletion(mappedCardData);\n                // Save final card to localStorage for recovery\n                try {\n                    const finalCardData = {\n                        ...cardData,\n                        jobId: job_id,\n                        completedAt: Date.now(),\n                        isFinalCard: true\n                    };\n                    localStorage.setItem(\"lastCompletedCard\", JSON.stringify(finalCardData));\n                    console.log(\"\\uD83D\\uDCBE Saved final card to localStorage for recovery\");\n                } catch (error) {\n                    console.error(\"Failed to save final card:\", error);\n                }\n                jobManagement.removeJobFromStorage(job_id);\n                jobManagement.setCurrentJobId(null);\n                webSocket.unsubscribeFromJob(job_id);\n            }\n        } else if (status === \"failed\") {\n            console.error(\"❌ Job failed:\", error);\n            if (isDraftJob1 && draftIndex >= 0) {\n                sonner__WEBPACK_IMPORTED_MODULE_1__.toast.error(\"Draft variation \".concat(draftIndex + 1, \" failed. Continuing with others...\"));\n            } else {\n                sonner__WEBPACK_IMPORTED_MODULE_1__.toast.error(\"❌ Card generation failed. Please try again.\");\n                cardGeneration.setIsGenerating(false);\n                draftGeneration.setIsGeneratingFinalCard(false);\n                jobManagement.stopElapsedTimeTracking();\n                cardGeneration.setGenerationProgress(\"\");\n                // Don't reset progress - let time-based progress continue\n                // jobManagement.setProgressPercentage(0);\n                jobManagement.setCurrentJobId(null);\n                webSocket.unsubscribeFromJob(job_id);\n            }\n            jobManagement.removeJobFromStorage(job_id);\n        } else if (status === \"not_found\") {\n            console.warn(\"⚠️ Job not found on server, cleaning up stale reference:\", job_id);\n            // Clean up stale job reference\n            if (webSocket.currentJobRef.current === job_id) {\n                webSocket.currentJobRef.current = null;\n            }\n            // Reset UI state if this was the current job\n            if (jobManagement.currentJobId === job_id) {\n                jobManagement.setCurrentJobId(null);\n                cardGeneration.setIsGenerating(false);\n                draftGeneration.setIsGeneratingFinalCard(false);\n                cardGeneration.setGenerationProgress(\"\");\n                // Don't reset progress - let time-based progress continue\n                // jobManagement.setProgressPercentage(0);\n                jobManagement.stopElapsedTimeTracking();\n            }\n            // Clean up storage\n            jobManagement.removeJobFromStorage(job_id);\n            webSocket.unsubscribeFromJob(job_id);\n        }\n    }, [\n        selectedArtisticStyle,\n        draftGeneration,\n        cardGeneration,\n        jobManagement,\n        webSocket,\n        isRestoringJobs\n    ]);\n    // Set up WebSocket job update handler\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        webSocket.setJobUpdateHandler(handleJobUpdate);\n    }, [\n        webSocket,\n        handleJobUpdate\n    ]);\n    // Track if we've already logged the stale job message\n    const staleJobLoggedRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(false);\n    // Auto-reconnect WebSocket if disconnected during active generation\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        if (!webSocket.isSocketConnected && (cardGeneration.isGenerating || draftGeneration.isGeneratingFinalCard) && webSocket.currentJobRef.current) {\n            // Check if the generation has been running for more than 5 minutes\n            if (jobManagement.generationStartTime) {\n                const jobAge = Date.now() - jobManagement.generationStartTime;\n                if (jobAge > 5 * 60 * 1000) {\n                    if (!staleJobLoggedRef.current) {\n                        console.log(\"⏰ Job is older than 5 minutes, stopping reconnection attempts\");\n                        staleJobLoggedRef.current = true;\n                        // Clean up stale job\n                        const jobId = webSocket.currentJobRef.current;\n                        if (jobId) {\n                            console.log(\"\\uD83E\\uDDF9 Cleaning up stale job:\", jobId);\n                            // Remove from localStorage (only if not a draft job)\n                            if (!jobId.startsWith(\"draft-\")) {\n                                jobManagement.removeJobFromStorage(jobId);\n                            }\n                            // Reset generation states\n                            cardGeneration.setIsGenerating(false);\n                            draftGeneration.setIsGeneratingFinalCard(false);\n                            draftGeneration.setIsDraftMode(false);\n                            draftGeneration.setDraftCards([]);\n                            draftGeneration.setDraftCompletionCount(0);\n                            draftGeneration.setDraftCompletionShown(false);\n                            jobManagement.setCurrentJobId(null);\n                            jobManagement.setGenerationProgress(\"\");\n                            // Don't reset progress - let time-based progress continue\n                            // jobManagement.setProgressPercentage(0);\n                            jobManagement.stopElapsedTimeTracking();\n                            // Unsubscribe from job\n                            webSocket.unsubscribeFromJob(jobId);\n                            // Show error toast\n                            sonner__WEBPACK_IMPORTED_MODULE_1__.toast.error(\"Card generation timed out. Please try again.\");\n                        }\n                    }\n                    return;\n                }\n            }\n            console.log(\"\\uD83D\\uDD04 WebSocket disconnected during generation, attempting reconnect...\");\n            const reconnectTimer = setTimeout(()=>{\n                webSocket.connectWebSocket();\n                // Re-subscribe to current job after reconnection\n                const jobId = webSocket.currentJobRef.current;\n                if (jobId) {\n                    setTimeout(()=>{\n                        console.log(\"\\uD83D\\uDCE1 Re-subscribing to job after reconnect:\", jobId);\n                        webSocket.subscribeToJob(jobId);\n                    }, 1000);\n                }\n            }, 2000);\n            return ()=>clearTimeout(reconnectTimer);\n        }\n    }, [\n        webSocket,\n        cardGeneration.isGenerating,\n        draftGeneration.isGeneratingFinalCard,\n        jobManagement.generationStartTime\n    ]);\n    // Reset stale job flag when generation starts\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        if (cardGeneration.isGenerating || draftGeneration.isGeneratingFinalCard) {\n            staleJobLoggedRef.current = false;\n        }\n    }, [\n        cardGeneration.isGenerating,\n        draftGeneration.isGeneratingFinalCard\n    ]);\n    // Monitor for stale job updates\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        if ((cardGeneration.isGenerating || draftGeneration.isGeneratingFinalCard) && webSocket.currentJobRef.current) {\n            const checkInterval = setInterval(async ()=>{\n                const timeSinceLastUpdate = Date.now() - webSocket.lastJobUpdateRef.current;\n                const jobId = webSocket.currentJobRef.current;\n                // Very aggressive checking when at 95%+ progress\n                if (jobManagement.progressPercentage >= 95 && timeSinceLastUpdate > 5000) {\n                    console.warn(\"⚠️ No updates for \".concat(Math.round(timeSinceLastUpdate / 1000), \"s at \").concat(jobManagement.progressPercentage, \"% progress - checking job status...\"));\n                    if (jobId) {\n                        try {\n                            const response = await fetch(\"/api/job-status/\".concat(jobId));\n                            if (response.ok) {\n                                const jobStatus = await response.json();\n                                console.log(\"\\uD83D\\uDCCA Direct job status check:\", jobStatus);\n                                if (jobStatus.status === \"completed\" && jobStatus.cardData) {\n                                    console.log(\"✅ Job is actually completed! Processing result...\");\n                                    handleJobUpdate({\n                                        job_id: jobId,\n                                        status: \"completed\",\n                                        progress: \"Card generation complete!\",\n                                        cardData: jobStatus.cardData\n                                    });\n                                    return; // Exit early on completion\n                                }\n                            }\n                        } catch (error) {\n                            console.error(\"Failed to check job status:\", error);\n                        }\n                    }\n                } else if (jobManagement.progressPercentage >= 90 && timeSinceLastUpdate > 10000) {\n                    console.warn(\"⚠️ No updates for \".concat(Math.round(timeSinceLastUpdate / 1000), \"s at \").concat(jobManagement.progressPercentage, \"% progress\"));\n                    if (jobId) {\n                        try {\n                            const response = await fetch(\"/api/job-status/\".concat(jobId));\n                            if (response.ok) {\n                                const jobStatus = await response.json();\n                                console.log(\"\\uD83D\\uDCCA Direct job status check:\", jobStatus);\n                                if (jobStatus.status === \"completed\" && jobStatus.cardData) {\n                                    console.log(\"✅ Job is actually completed! Processing result...\");\n                                    handleJobUpdate({\n                                        job_id: jobId,\n                                        status: \"completed\",\n                                        progress: \"Card generation complete!\",\n                                        cardData: jobStatus.cardData\n                                    });\n                                    return; // Exit early on completion\n                                }\n                            }\n                        } catch (error) {\n                            console.error(\"Failed to check job status:\", error);\n                        }\n                    }\n                }\n                // Standard stale update check\n                if (timeSinceLastUpdate > 30000) {\n                    console.warn(\"⚠️ No job updates for 30 seconds, checking connection...\");\n                    if (!webSocket.isSocketConnected) {\n                        console.log(\"\\uD83D\\uDD04 WebSocket disconnected, reconnecting...\");\n                        webSocket.connectWebSocket();\n                    } else if (jobId) {\n                        console.log(\"\\uD83D\\uDCE1 Re-subscribing to job due to stale updates:\", jobId);\n                        webSocket.subscribeToJob(jobId);\n                    }\n                    // Reset the timer\n                    webSocket.lastJobUpdateRef.current = Date.now();\n                }\n            }, 3000); // Check every 3 seconds for faster detection at high progress\n            return ()=>clearInterval(checkInterval);\n        }\n    }, [\n        cardGeneration.isGenerating,\n        draftGeneration.isGeneratingFinalCard,\n        webSocket,\n        jobManagement.progressPercentage,\n        handleJobUpdate\n    ]);\n    // OLD: Complex job restoration - keeping for reference but not using\n    const checkPendingJobs = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(async ()=>{\n        console.log(\"\\uD83D\\uDD04 Starting job restoration...\");\n        setIsRestoringJobs(true);\n        const pendingJobs = await jobManagement.checkPendingJobs();\n        if (pendingJobs.length === 0) {\n            console.log(\"✅ No pending jobs to restore\");\n            setIsRestoringJobs(false);\n            return;\n        }\n        console.log(\"\\uD83D\\uDD04 Found pending jobs to restore:\", pendingJobs);\n        // Separate draft jobs from final jobs\n        const draftJobs = pendingJobs.filter((param)=>{\n            let { jobId } = param;\n            return jobId.startsWith(\"draft-\");\n        });\n        const finalJobs = pendingJobs.filter((param)=>{\n            let { jobId } = param;\n            return !jobId.startsWith(\"draft-\");\n        });\n        // Process draft jobs first to restore draft state\n        if (draftJobs.length > 0) {\n            console.log(\"\\uD83C\\uDFA8 Found \".concat(draftJobs.length, \" draft jobs to restore\"));\n            // Collect all draft cards from all draft jobs\n            const draftsByIndex = new Array(5).fill(null);\n            for (const { job } of draftJobs){\n                if (job.draftCards && Array.isArray(job.draftCards) && job.draftCards.length > 0) {\n                    const draftCard = job.draftCards[0]; // Each job stores one draft\n                    const draftIndex = job.draftIndex;\n                    if (draftIndex >= 0 && draftIndex < 5) {\n                        draftsByIndex[draftIndex] = draftCard;\n                    }\n                }\n            }\n            // Get non-null drafts for counting\n            const allDraftCards = draftsByIndex.filter(Boolean);\n            // Restore all draft cards at once\n            if (allDraftCards.length > 0) {\n                console.log(\"\\uD83D\\uDD04 Restoring \".concat(allDraftCards.length, \" draft cards from \").concat(draftJobs.length, \" jobs\"));\n                // Only set draft mode when we have actual cards\n                console.log(\"\\uD83C\\uDFAF Setting isDraftMode to true - draft cards found\");\n                draftGeneration.setIsDraftMode(true);\n                // Use the draftsByIndex which already has drafts at correct positions\n                draftGeneration.setDraftCards(draftsByIndex);\n                draftGeneration.setDraftCompletionCount(allDraftCards.length);\n                // Set appropriate progress state\n                if (allDraftCards.length === 5) {\n                    draftGeneration.setDraftCompletionShown(true);\n                    draftGeneration.setIsGenerating(false);\n                    cardGeneration.setIsGenerating(false);\n                    draftGeneration.setGenerationProgress(\"\");\n                    cardGeneration.setGenerationProgress(\"\");\n                // Time-based progress will be cleared above\n                } else {\n                    draftGeneration.setIsGenerating(true);\n                    cardGeneration.setIsGenerating(true);\n                    const progressMsg = \"✨ \".concat(allDraftCards.length, \"/5 front cover variations complete... \").concat(allDraftCards.length >= 2 ? \"You can select one now to proceed!\" : \"\");\n                    draftGeneration.setGenerationProgress(progressMsg);\n                    cardGeneration.setGenerationProgress(progressMsg);\n                // Don't override time-based progress\n                }\n            }\n            // If no draft cards were found but we have draft jobs, set appropriate state\n            if (allDraftCards.length === 0 && draftJobs.length > 0) {\n                console.log(\"\\uD83D\\uDD04 Draft jobs found but no cards yet - setting generation state\");\n                // Set draft mode and initialize empty array for draft jobs in progress\n                draftGeneration.setIsDraftMode(true);\n                draftGeneration.setDraftCards([\n                    null,\n                    null,\n                    null,\n                    null,\n                    null\n                ]);\n                draftGeneration.setIsGenerating(true);\n                cardGeneration.setIsGenerating(true);\n                draftGeneration.setGenerationProgress(\"\\uD83C\\uDFA8 Creating 5 front cover variations for you to choose from...\");\n                cardGeneration.setGenerationProgress(\"\\uD83C\\uDFA8 Creating 5 front cover variations for you to choose from...\");\n            // Don't reset progress - let time-based progress continue\n            // jobManagement.setProgressPercentage(0);\n            }\n            // Subscribe to all non-stale draft jobs\n            for (const { jobId, job } of draftJobs){\n                const jobAge = Date.now() - (job.createdAt || Date.now());\n                const isStale = jobAge > 5 * 60 * 1000;\n                if (!isStale) {\n                    var _job_draftCards;\n                    console.log(\"\\uD83D\\uDCE1 Subscribing to draft job: \".concat(jobId, \" (has \").concat(((_job_draftCards = job.draftCards) === null || _job_draftCards === void 0 ? void 0 : _job_draftCards.length) || 0, \" cards)\"));\n                    webSocket.subscribeToJob(jobId);\n                }\n            }\n        }\n        // Process remaining jobs (final card generation)\n        for (const { jobId, job } of finalJobs){\n            console.log(\"\\uD83D\\uDCCB Processing job \".concat(jobId, \":\"), {\n                isDraft: jobId.startsWith(\"draft-\"),\n                status: job.status,\n                hasProgress: !!job.lastProgress,\n                createdAt: job.createdAt\n            });\n            // Check if job is stale (older than 5 minutes without completion)\n            const jobAge = Date.now() - (job.createdAt || Date.now());\n            const isStale = jobAge > 5 * 60 * 1000 && job.status !== \"completed\";\n            if (isStale) {\n                console.log(\"\\uD83E\\uDDF9 Cleaning up stale job: \".concat(jobId, \" (age: \").concat(Math.round(jobAge / 1000), \"s)\"));\n                jobManagement.removeJobFromStorage(jobId);\n                continue;\n            }\n            // Restore progress and state\n            // Don't restore progress - let time-based progress handle it\n            // if (job.lastProgress !== undefined) {\n            //   jobManagement.setProgressPercentage(job.lastProgress);\n            //   cardGeneration.setProgressPercentage(job.lastProgress);\n            //   draftGeneration.setProgressPercentage(job.lastProgress);\n            // }\n            if (job.lastProgressText) {\n                jobManagement.setGenerationProgress(job.lastProgressText);\n                cardGeneration.setGenerationProgress(job.lastProgressText);\n                draftGeneration.setGenerationProgress(job.lastProgressText);\n            }\n            // Restore final card generation state\n            cardGeneration.setIsGenerating(true);\n            draftGeneration.setIsGeneratingFinalCard(true);\n            // If we have a selected draft, restore it\n            if (job.selectedDraftIndex !== undefined) {\n                draftGeneration.setSelectedDraftIndex(job.selectedDraftIndex);\n            }\n            jobManagement.setCurrentJobId(jobId);\n            // Calculate elapsed time since job started\n            const jobStartTime = job.createdAt || Date.now();\n            const elapsedSinceStart = (Date.now() - jobStartTime) / 1000;\n            // Start elapsed time tracking\n            jobManagement.startElapsedTimeTracking();\n            // Subscribe to the job updates\n            webSocket.subscribeToJob(jobId);\n            // Verify job exists on backend\n            try {\n                const response = await fetch(\"\".concat(BACKEND_API_BASE_URL, \"/api/job-status/\").concat(jobId));\n                const result = await response.json();\n                console.log(\"\\uD83D\\uDCE1 Job status check for \".concat(jobId, \":\"), {\n                    ok: response.ok,\n                    status: response.status,\n                    resultStatus: result.status,\n                    url: \"\".concat(BACKEND_API_BASE_URL, \"/api/job-status/\").concat(jobId)\n                });\n                if (result.status === \"not_found\") {\n                    // Job doesn't exist on backend, clean up and notify user\n                    console.log(\"⚠️ Job \".concat(jobId, \" not found on backend, cleaning up...\"));\n                    jobManagement.removeJobFromStorage(jobId);\n                    // Reset generation state\n                    if (isDraftJob) {\n                        draftGeneration.setIsGenerating(false);\n                    } else {\n                        cardGeneration.setIsGenerating(false);\n                        draftGeneration.setIsGeneratingFinalCard(false);\n                    }\n                    // Show helpful message to user\n                    sonner__WEBPACK_IMPORTED_MODULE_1__.toast.error(\"Previous \".concat(isDraftJob ? \"draft\" : \"card\", \" generation expired. Please start a new one.\"), {\n                        duration: 5000\n                    });\n                    continue;\n                } else {\n                    // Job exists, show resuming message\n                    sonner__WEBPACK_IMPORTED_MODULE_1__.toast.info(\"Resuming \".concat(isDraftJob ? \"draft\" : \"card\", \" generation...\"));\n                }\n            } catch (error) {\n                console.error(\"Failed to verify job status:\", error);\n                // Continue anyway, WebSocket will handle it\n                sonner__WEBPACK_IMPORTED_MODULE_1__.toast.info(\"Attempting to resume \".concat(isDraftJob ? \"draft\" : \"card\", \" generation...\"));\n            }\n        }\n        // Restoration complete - allow WebSocket updates to be processed\n        // Add a small delay to ensure state updates have propagated\n        setTimeout(()=>{\n            console.log(\"✅ Job restoration complete, allowing WebSocket updates\");\n            setIsRestoringJobs(false);\n        }, 100);\n    }, [\n        jobManagement,\n        cardGeneration,\n        draftGeneration,\n        webSocket\n    ]);\n    // Load most recent draft batch and final card on component mount\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        console.log(\"\\uD83D\\uDE80 useCardStudio mounted, loading recent cards...\");\n        // Check for completed final card first\n        try {\n            const savedFinalCard = localStorage.getItem(\"lastCompletedCard\");\n            if (savedFinalCard) {\n                const finalCard = JSON.parse(savedFinalCard);\n                console.log(\"\\uD83D\\uDCBE Found saved final card:\", finalCard);\n                // Restore final card state\n                cardGeneration.setGeneratedCard(finalCard);\n                cardGeneration.setGeneratedCards([\n                    finalCard\n                ]);\n                cardGeneration.setIsCardCompleted(true);\n                cardGeneration.setProgressPercentage(100);\n                draftGeneration.setIsDraftMode(false);\n                // Clear the saved card after restoring\n                localStorage.removeItem(\"lastCompletedCard\");\n                console.log(\"✅ Restored final card from localStorage\");\n                return; // Don't load drafts if we have a final card\n            }\n        } catch (error) {\n            console.error(\"Failed to restore final card:\", error);\n        }\n        // If no final card, check for drafts\n        // First, clear any existing draft state to avoid duplicates\n        draftGeneration.setDraftCards([]);\n        draftGeneration.setDraftCompletionCount(0);\n        const recentDrafts = jobManagement.loadMostRecentDraftBatch();\n        console.log(\"\\uD83D\\uDCCA Draft batch result:\", recentDrafts);\n        if (recentDrafts && recentDrafts.cards.length > 0) {\n            console.log(\"\\uD83D\\uDCCB Found recent draft batch with \".concat(recentDrafts.count, \" cards from \").concat(new Date(recentDrafts.createdAt).toLocaleString()));\n            // Set the draft cards and enable draft mode\n            draftGeneration.setDraftCards(recentDrafts.cards);\n            draftGeneration.setIsDraftMode(true);\n            draftGeneration.setDraftCompletionCount(recentDrafts.count);\n            // If we have all 5 cards, mark as complete\n            if (recentDrafts.count === 5) {\n                draftGeneration.setDraftCompletionShown(true);\n                draftGeneration.setIsGenerating(false);\n                cardGeneration.setIsGenerating(false);\n            } else {\n                // Still generating - set generation state and start timer\n                draftGeneration.setIsGenerating(true);\n                cardGeneration.setIsGenerating(true);\n                // Calculate how long generation has been running\n                const elapsedSeconds = Math.floor((Date.now() - recentDrafts.createdAt) / 1000);\n                jobManagement.setCurrentElapsedTime(elapsedSeconds);\n                jobManagement.startElapsedTimeTracking();\n                // Set progress\n                const progressMsg = \"✨ \".concat(recentDrafts.count, \"/5 front cover variations complete...\");\n                draftGeneration.setGenerationProgress(progressMsg);\n                cardGeneration.setGenerationProgress(progressMsg);\n                // Don't override time-based progress\n                // Check for pending jobs to subscribe to\n                const pendingJobs = JSON.parse(localStorage.getItem(\"pendingCardJobs\") || \"[]\");\n                const activeDraftJobs = pendingJobs.filter((id)=>id.startsWith(\"draft-\"));\n                // Subscribe to active draft jobs for real-time updates\n                activeDraftJobs.forEach((jobId)=>{\n                    console.log(\"\\uD83D\\uDCE1 Subscribing to active draft job: \".concat(jobId));\n                    webSocket.subscribeToJob(jobId);\n                });\n            }\n        }\n        // Mark restoration as complete after a small delay\n        setTimeout(()=>{\n            setIsRestoringJobs(false);\n        }, 100);\n    }, []);\n    // Return all the state and functions that the UI needs\n    return {\n        // Core state\n        prompt,\n        setPrompt,\n        finalCardMessage: messageGeneration.finalCardMessage,\n        setFinalCardMessage: messageGeneration.setFinalCardMessage,\n        toField,\n        setToField,\n        fromField,\n        setFromField,\n        relationshipField,\n        setRelationshipField,\n        selectedType,\n        setSelectedType,\n        customCardType,\n        setCustomCardType,\n        selectedTone,\n        setSelectedTone,\n        isGenerating: cardGeneration.isGenerating || draftGeneration.isGenerating,\n        setIsGenerating: cardGeneration.setIsGenerating,\n        isGeneratingMessage: messageGeneration.isGeneratingMessage,\n        setIsGeneratingMessage: messageGeneration.setIsGeneratingMessage,\n        generatedCard: cardGeneration.generatedCard,\n        setGeneratedCard: cardGeneration.setGeneratedCard,\n        numberOfCards,\n        setNumberOfCards,\n        generatedCards: cardGeneration.generatedCards,\n        setGeneratedCards: cardGeneration.setGeneratedCards,\n        selectedCardIndex: cardGeneration.selectedCardIndex,\n        setSelectedCardIndex: cardGeneration.setSelectedCardIndex,\n        // Advanced options\n        showAdvanced,\n        setShowAdvanced,\n        selectedArtisticStyle,\n        setSelectedArtisticStyle,\n        customStyleDescription,\n        setCustomStyleDescription,\n        selectedImageModel,\n        setSelectedImageModel,\n        selectedDraftModel,\n        setSelectedDraftModel,\n        // Draft mode\n        isDraftMode: draftGeneration.isDraftMode,\n        setIsDraftMode: draftGeneration.setIsDraftMode,\n        draftCards: draftGeneration.draftCards,\n        setDraftCards: draftGeneration.setDraftCards,\n        selectedDraftIndex: draftGeneration.selectedDraftIndex,\n        setSelectedDraftIndex: draftGeneration.setSelectedDraftIndex,\n        isGeneratingFinalCard: draftGeneration.isGeneratingFinalCard,\n        setIsGeneratingFinalCard: draftGeneration.setIsGeneratingFinalCard,\n        previewingDraftIndex: draftGeneration.previewingDraftIndex,\n        setPreviewingDraftIndex: draftGeneration.setPreviewingDraftIndex,\n        draftCompletionShown: draftGeneration.draftCompletionShown,\n        setDraftCompletionShown: draftGeneration.setDraftCompletionShown,\n        draftCompletionCount: draftGeneration.draftCompletionCount,\n        setDraftCompletionCount: draftGeneration.setDraftCompletionCount,\n        // Progress tracking\n        generationProgress: draftGeneration.isGenerating ? draftGeneration.generationProgress : cardGeneration.generationProgress,\n        setGenerationProgress: cardGeneration.setGenerationProgress,\n        progressPercentage: jobManagement.progressPercentage,\n        isCardCompleted: cardGeneration.isCardCompleted,\n        setIsCardCompleted: cardGeneration.setIsCardCompleted,\n        // Upload and personalization\n        referenceImages: fileHandling.referenceImages,\n        setReferenceImages: fileHandling.setReferenceImages,\n        referenceImageUrls: fileHandling.referenceImageUrls,\n        setReferenceImageUrls: fileHandling.setReferenceImageUrls,\n        imageTransformation: fileHandling.imageTransformation,\n        setImageTransformation: fileHandling.setImageTransformation,\n        isUploading: fileHandling.isUploading,\n        setIsUploading: fileHandling.setIsUploading,\n        // Email and settings\n        userEmail,\n        setUserEmail,\n        isHandwrittenMessage,\n        setIsHandwrittenMessage,\n        isFrontBackOnly,\n        setIsFrontBackOnly,\n        selectedPaperSize,\n        setSelectedPaperSize,\n        // UI state\n        isTextareaExpanded,\n        setIsTextareaExpanded,\n        isMessageExpanded,\n        setIsMessageExpanded,\n        showSettings,\n        setShowSettings,\n        showTemplateGallery,\n        setShowTemplateGallery,\n        showPrintConfirmation,\n        setShowPrintConfirmation,\n        // Generation time\n        generationDuration: cardGeneration.generationDuration,\n        setGenerationDuration: cardGeneration.setGenerationDuration,\n        currentElapsedTime: jobManagement.currentElapsedTime,\n        setCurrentElapsedTime: jobManagement.setCurrentElapsedTime,\n        // Helper functions\n        formatGenerationTime: _cardStudio_constants__WEBPACK_IMPORTED_MODULE_8__.formatGenerationTime,\n        formatCountdown: _cardStudio_constants__WEBPACK_IMPORTED_MODULE_8__.formatCountdown,\n        sendThankYouEmail: _cardStudio_utils__WEBPACK_IMPORTED_MODULE_9__.sendThankYouEmail,\n        chatWithAI: _cardStudio_utils__WEBPACK_IMPORTED_MODULE_9__.chatWithAI,\n        scrollToCardPreview: _cardStudio_utils__WEBPACK_IMPORTED_MODULE_9__.scrollToCardPreview,\n        // Time tracking functions\n        startElapsedTimeTracking: jobManagement.startElapsedTimeTracking,\n        stopElapsedTimeTracking: jobManagement.stopElapsedTimeTracking,\n        // File handling functions\n        handleFileUpload: fileHandling.handleFileUpload,\n        handleRemoveReferenceImage: fileHandling.handleRemoveReferenceImage,\n        // Photo analysis\n        photoAnalyses: fileHandling.photoAnalyses,\n        setPhotoAnalyses: fileHandling.setPhotoAnalyses,\n        isAnalyzing: fileHandling.isAnalyzing,\n        showAnalysisModal: fileHandling.showAnalysisModal,\n        setShowAnalysisModal: fileHandling.setShowAnalysisModal,\n        pendingAnalysisIndex: fileHandling.pendingAnalysisIndex,\n        setPendingAnalysisIndex: fileHandling.setPendingAnalysisIndex,\n        analyzePhoto: fileHandling.analyzePhoto,\n        savePhotoAnalysis: fileHandling.savePhotoAnalysis,\n        skipPhotoAnalysis: fileHandling.skipPhotoAnalysis,\n        getCombinedPhotoAnalysis: fileHandling.getCombinedPhotoAnalysis,\n        // Message functions\n        handleGetMessageHelp: messageGeneration.handleGetMessageHelp,\n        addMessageToHistory: messageGeneration.addMessageToHistory,\n        undoMessage: messageGeneration.undoMessage,\n        redoMessage: messageGeneration.redoMessage,\n        // Job management\n        saveJobToStorage: jobManagement.saveJobToStorage,\n        removeJobFromStorage: jobManagement.removeJobFromStorage,\n        checkPendingJobs,\n        // Main generation functions\n        handleGenerateCardAsync: cardGeneration.handleGenerateCardAsync,\n        handleGenerateDraftCards: draftGeneration.handleGenerateDraftCards,\n        handleGenerateFinalFromDraft: draftGeneration.handleGenerateFinalFromDraft,\n        // Additional state for message refinement\n        messageHistory: messageGeneration.messageHistory,\n        setMessageHistory: messageGeneration.setMessageHistory,\n        currentMessageIndex: messageGeneration.currentMessageIndex,\n        setCurrentMessageIndex: messageGeneration.setCurrentMessageIndex,\n        refinementPrompt: messageGeneration.refinementPrompt,\n        setRefinementPrompt: messageGeneration.setRefinementPrompt,\n        isRefiningMessage: messageGeneration.isRefiningMessage,\n        setIsRefiningMessage: messageGeneration.setIsRefiningMessage,\n        showRefinementBox: messageGeneration.showRefinementBox,\n        setShowRefinementBox: messageGeneration.setShowRefinementBox,\n        // Template state\n        showTemplateCustomization,\n        setShowTemplateCustomization,\n        selectedTemplate,\n        setSelectedTemplate,\n        templateCustomizations,\n        setTemplateCustomizations,\n        templateSearchQuery,\n        setTemplateSearchQuery,\n        isSearchingTemplates,\n        setIsSearchingTemplates,\n        aiFilteredCards,\n        setAiFilteredCards,\n        searchMode,\n        setSearchMode,\n        textFilteredCards,\n        setTextFilteredCards,\n        showPrompts,\n        setShowPrompts,\n        // Print state\n        printOption,\n        setPrintOption,\n        // Additional draft mode state\n        handwritingSample: fileHandling.handwritingSample,\n        setHandwritingSample: fileHandling.setHandwritingSample,\n        handwritingSampleUrl: fileHandling.handwritingSampleUrl,\n        setHandwritingSampleUrl: fileHandling.setHandwritingSampleUrl,\n        // Job tracking\n        currentJobId: jobManagement.currentJobId,\n        setCurrentJobId: jobManagement.setCurrentJobId,\n        countdown,\n        setCountdown,\n        countdownInterval,\n        setCountdownInterval,\n        // Section loading states\n        sectionLoadingStates,\n        setSectionLoadingStates,\n        // Fast preview mode\n        fastPreviewMode,\n        setFastPreviewMode,\n        // Additional tracking\n        currentCardId: cardGeneration.currentCardId,\n        setCurrentCardId: cardGeneration.setCurrentCardId,\n        isInitialLoadComplete,\n        setIsInitialLoadComplete,\n        // Elapsed time tracking\n        generationStartTime: jobManagement.generationStartTime,\n        setGenerationStartTime: jobManagement.setGenerationStartTime,\n        elapsedTimeInterval: jobManagement.elapsedTimeInterval,\n        setElapsedTimeInterval: jobManagement.setElapsedTimeInterval,\n        // Constants for UI\n        cardTones: _cardStudio_constants__WEBPACK_IMPORTED_MODULE_8__.cardTones,\n        artisticStyles: _cardStudio_constants__WEBPACK_IMPORTED_MODULE_8__.artisticStyles,\n        paperSizes: _cardStudio_constants__WEBPACK_IMPORTED_MODULE_8__.paperSizes,\n        // WebSocket functions and state\n        isSocketConnected: webSocket.isSocketConnected,\n        connectWebSocket: webSocket.connectWebSocket,\n        disconnectWebSocket: webSocket.disconnectWebSocket,\n        subscribeToJob: webSocket.subscribeToJob,\n        unsubscribeFromJob: webSocket.unsubscribeFromJob,\n        handleJobUpdate,\n        handleFinalCardCompletion: cardGeneration.handleFinalCardCompletion\n    };\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2hvb2tzL3VzZUNhcmRTdHVkaW9SZWZhY3RvcmVkLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OzttRUFFaUU7QUFDbEM7QUFHL0IsdUJBQXVCO0FBQ2tDO0FBQ1E7QUFDUTtBQUNWO0FBQ007QUFDRjtBQUVuRSw2QkFBNkI7QUFRRztBQUN3RDtBQUVqRixTQUFTbUI7SUFDZCxrQkFBa0I7SUFDbEIsTUFBTSxDQUFDQyxRQUFRQyxVQUFVLEdBQUdyQiwrQ0FBUUEsQ0FBQztJQUNyQyxNQUFNLENBQUNzQixTQUFTQyxXQUFXLEdBQUd2QiwrQ0FBUUEsQ0FBQztJQUN2QyxNQUFNLENBQUN3QixXQUFXQyxhQUFhLEdBQUd6QiwrQ0FBUUEsQ0FBQztJQUMzQyxNQUFNLENBQUMwQixtQkFBbUJDLHFCQUFxQixHQUFHM0IsK0NBQVFBLENBQUM7SUFDM0QsTUFBTSxDQUFDNEIsY0FBY0MsZ0JBQWdCLEdBQUc3QiwrQ0FBUUEsQ0FBUztJQUN6RCxNQUFNLENBQUM4QixnQkFBZ0JDLGtCQUFrQixHQUFHL0IsK0NBQVFBLENBQVM7SUFDN0QsTUFBTSxDQUFDZ0MsY0FBY0MsZ0JBQWdCLEdBQUdqQywrQ0FBUUEsQ0FBUztJQUV6RCx5QkFBeUI7SUFDekIsTUFBTSxDQUFDa0MsY0FBY0MsZ0JBQWdCLEdBQUduQywrQ0FBUUEsQ0FBQztJQUNqRCxNQUFNLENBQUNvQyx1QkFBdUJDLHlCQUF5QixHQUFHckMsK0NBQVFBLENBQVM7SUFDM0UsTUFBTSxDQUFDc0Msd0JBQXdCQywwQkFBMEIsR0FBR3ZDLCtDQUFRQSxDQUFTO0lBQzdFLE1BQU0sQ0FBQ3dDLG9CQUFvQkMsc0JBQXNCLEdBQUd6QywrQ0FBUUEsQ0FBUztJQUNyRSxNQUFNLENBQUMwQyxvQkFBb0JDLHNCQUFzQixHQUFHM0MsK0NBQVFBLENBQVM7SUFDckUsTUFBTSxDQUFDNEMsaUJBQWlCQyxtQkFBbUIsR0FBRzdDLCtDQUFRQSxDQUFVO0lBRWhFLGNBQWM7SUFDZCxNQUFN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QUFnQjtRQUNqRHZQO1FBQ0FDO1FBRUEsd0JBQXdCO1FBQ3hCbUkscUJBQXFCakcsY0FBY2lHLG1CQUFtQjtRQUN0RG9ILHdCQUF3QnJOLGNBQWNxTixzQkFBc0I7UUFDNURDLHFCQUFxQnROLGNBQWNzTixtQkFBbUI7UUFDdERDLHdCQUF3QnZOLGNBQWN1TixzQkFBc0I7UUFFNUQsbUJBQW1CO1FBQ25CdlQsU0FBU0EsOERBQUFBO1FBQ1RDLGNBQWNBLG1FQUFBQTtRQUNkQyxVQUFVQSwrREFBQUE7UUFFVixnQ0FBZ0M7UUFDaEM2TCxtQkFBbUJoRyxVQUFVZ0csaUJBQWlCO1FBQzlDTSxrQkFBa0J0RyxVQUFVc0csZ0JBQWdCO1FBQzVDbUgscUJBQXFCek4sVUFBVXlOLG1CQUFtQjtRQUNsRGpOLGdCQUFnQlIsVUFBVVEsY0FBYztRQUN4Q3dFLG9CQUFvQmhGLFVBQVVnRixrQkFBa0I7UUFDaER4RDtRQUNBOEQsMkJBQTJCL0QsZUFBZStELHlCQUF5QjtJQUNyRTtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL2hvb2tzL3VzZUNhcmRTdHVkaW9SZWZhY3RvcmVkLnRzPzljYzkiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2UgY2xpZW50XCI7XG5cbmltcG9ydCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QsIHVzZUNhbGxiYWNrLCB1c2VSZWYgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IHRvYXN0IH0gZnJvbSBcInNvbm5lclwiO1xuaW1wb3J0IHsgdjQgYXMgdXVpZHY0IH0gZnJvbSAndXVpZCc7XG5cbi8vIEltcG9ydCBtb2R1bGFyIGhvb2tzXG5pbXBvcnQgeyB1c2VXZWJTb2NrZXQgfSBmcm9tICcuL2NhcmRTdHVkaW8vdXNlV2ViU29ja2V0JztcbmltcG9ydCB7IHVzZUpvYk1hbmFnZW1lbnQgfSBmcm9tICcuL2NhcmRTdHVkaW8vdXNlSm9iTWFuYWdlbWVudCc7XG5pbXBvcnQgeyB1c2VNZXNzYWdlR2VuZXJhdGlvbiB9IGZyb20gJy4vY2FyZFN0dWRpby91c2VNZXNzYWdlR2VuZXJhdGlvbic7XG5pbXBvcnQgeyB1c2VGaWxlSGFuZGxpbmcgfSBmcm9tICcuL2NhcmRTdHVkaW8vdXNlRmlsZUhhbmRsaW5nJztcbmltcG9ydCB7IHVzZURyYWZ0R2VuZXJhdGlvbiB9IGZyb20gJy4vY2FyZFN0dWRpby91c2VEcmFmdEdlbmVyYXRpb24nO1xuaW1wb3J0IHsgdXNlQ2FyZEdlbmVyYXRpb24gfSBmcm9tICcuL2NhcmRTdHVkaW8vdXNlQ2FyZEdlbmVyYXRpb24nO1xuXG4vLyBJbXBvcnQgY29uc3RhbnRzIGFuZCB1dGlsc1xuaW1wb3J0IHsgXG4gIGNhcmRUb25lcywgXG4gIGFydGlzdGljU3R5bGVzLCBcbiAgcGFwZXJTaXplcywgXG4gIGZvcm1hdEdlbmVyYXRpb25UaW1lLCBcbiAgZm9ybWF0Q291bnRkb3duLFxuICBHZW5lcmF0ZWRDYXJkIFxufSBmcm9tICcuL2NhcmRTdHVkaW8vY29uc3RhbnRzJztcbmltcG9ydCB7IHNlbmRUaGFua1lvdUVtYWlsLCBjaGF0V2l0aEFJLCBzY3JvbGxUb0NhcmRQcmV2aWV3IH0gZnJvbSAnLi9jYXJkU3R1ZGlvL3V0aWxzJztcblxuZXhwb3J0IGZ1bmN0aW9uIHVzZUNhcmRTdHVkaW8oKSB7XG4gIC8vIENvcmUgZm9ybSBzdGF0ZVxuICBjb25zdCBbcHJvbXB0LCBzZXRQcm9tcHRdID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFt0b0ZpZWxkLCBzZXRUb0ZpZWxkXSA9IHVzZVN0YXRlKFwiXCIpO1xuICBjb25zdCBbZnJvbUZpZWxkLCBzZXRGcm9tRmllbGRdID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFtyZWxhdGlvbnNoaXBGaWVsZCwgc2V0UmVsYXRpb25zaGlwRmllbGRdID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFtzZWxlY3RlZFR5cGUsIHNldFNlbGVjdGVkVHlwZV0gPSB1c2VTdGF0ZTxzdHJpbmc+KFwiYmlydGhkYXlcIik7XG4gIGNvbnN0IFtjdXN0b21DYXJkVHlwZSwgc2V0Q3VzdG9tQ2FyZFR5cGVdID0gdXNlU3RhdGU8c3RyaW5nPihcIlwiKTtcbiAgY29uc3QgW3NlbGVjdGVkVG9uZSwgc2V0U2VsZWN0ZWRUb25lXSA9IHVzZVN0YXRlPHN0cmluZz4oXCJmdW5ueVwiKTtcbiAgXG4gIC8vIEFkdmFuY2VkIG9wdGlvbnMgc3RhdGVcbiAgY29uc3QgW3Nob3dBZHZhbmNlZCwgc2V0U2hvd0FkdmFuY2VkXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3NlbGVjdGVkQXJ0aXN0aWNTdHlsZSwgc2V0U2VsZWN0ZWRBcnRpc3RpY1N0eWxlXSA9IHVzZVN0YXRlPHN0cmluZz4oXCJ3YXRlcmNvbG9yXCIpO1xuICBjb25zdCBbY3VzdG9tU3R5bGVEZXNjcmlwdGlvbiwgc2V0Q3VzdG9tU3R5bGVEZXNjcmlwdGlvbl0gPSB1c2VTdGF0ZTxzdHJpbmc+KFwiXCIpO1xuICBjb25zdCBbc2VsZWN0ZWRJbWFnZU1vZGVsLCBzZXRTZWxlY3RlZEltYWdlTW9kZWxdID0gdXNlU3RhdGU8c3RyaW5nPihcImdwdC1pbWFnZS0xXCIpO1xuICBjb25zdCBbc2VsZWN0ZWREcmFmdE1vZGVsLCBzZXRTZWxlY3RlZERyYWZ0TW9kZWxdID0gdXNlU3RhdGU8c3RyaW5nPihcImdwdC1pbWFnZS0xXCIpO1xuICBjb25zdCBbZmFzdFByZXZpZXdNb2RlLCBzZXRGYXN0UHJldmlld01vZGVdID0gdXNlU3RhdGU8Ym9vbGVhbj4odHJ1ZSk7XG4gIFxuICAvLyBFbWFpbCBzdGF0ZVxuICBjb25zdCBbdXNlckVtYWlsLCBzZXRVc2VyRW1haWxdID0gdXNlU3RhdGU8c3RyaW5nPihcIlwiKTtcbiAgXG4gIC8vIENhcmQgb3B0aW9uc1xuICBjb25zdCBbbnVtYmVyT2ZDYXJkcywgc2V0TnVtYmVyT2ZDYXJkc10gPSB1c2VTdGF0ZTxudW1iZXI+KDEpO1xuICBjb25zdCBbaXNIYW5kd3JpdHRlbk1lc3NhZ2UsIHNldElzSGFuZHdyaXR0ZW5NZXNzYWdlXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2lzRnJvbnRCYWNrT25seSwgc2V0SXNGcm9udEJhY2tPbmx5XSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3NlbGVjdGVkUGFwZXJTaXplLCBzZXRTZWxlY3RlZFBhcGVyU2l6ZV0gPSB1c2VTdGF0ZTxzdHJpbmc+KFwic3RhbmRhcmRcIik7XG4gIFxuICAvLyBVSSBzdGF0ZVxuICBjb25zdCBbaXNUZXh0YXJlYUV4cGFuZGVkLCBzZXRJc1RleHRhcmVhRXhwYW5kZWRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbaXNNZXNzYWdlRXhwYW5kZWQsIHNldElzTWVzc2FnZUV4cGFuZGVkXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3Nob3dTZXR0aW5ncywgc2V0U2hvd1NldHRpbmdzXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3Nob3dUZW1wbGF0ZUdhbGxlcnksIHNldFNob3dUZW1wbGF0ZUdhbGxlcnldID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbc2hvd1ByaW50Q29uZmlybWF0aW9uLCBzZXRTaG93UHJpbnRDb25maXJtYXRpb25dID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbc2hvd1RlbXBsYXRlQ3VzdG9taXphdGlvbiwgc2V0U2hvd1RlbXBsYXRlQ3VzdG9taXphdGlvbl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIFxuICAvLyBSZXN0b3JhdGlvbiBzdGF0ZVxuICBjb25zdCBbaXNSZXN0b3JpbmdKb2JzLCBzZXRJc1Jlc3RvcmluZ0pvYnNdID0gdXNlU3RhdGUodHJ1ZSk7XG4gIGNvbnN0IFtzZWxlY3RlZFRlbXBsYXRlLCBzZXRTZWxlY3RlZFRlbXBsYXRlXSA9IHVzZVN0YXRlPEdlbmVyYXRlZENhcmQgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW2lzSW5pdGlhbExvYWRDb21wbGV0ZSwgc2V0SXNJbml0aWFsTG9hZENvbXBsZXRlXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgXG4gIC8vIFRlbXBsYXRlIHN0YXRlXG4gIGNvbnN0IFt0ZW1wbGF0ZVNlYXJjaFF1ZXJ5LCBzZXRUZW1wbGF0ZVNlYXJjaFF1ZXJ5XSA9IHVzZVN0YXRlKFwiXCIpO1xuICBjb25zdCBbaXNTZWFyY2hpbmdUZW1wbGF0ZXMsIHNldElzU2VhcmNoaW5nVGVtcGxhdGVzXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2FpRmlsdGVyZWRDYXJkcywgc2V0QWlGaWx0ZXJlZENhcmRzXSA9IHVzZVN0YXRlPGFueVtdPihbXSk7XG4gIGNvbnN0IFtzZWFyY2hNb2RlLCBzZXRTZWFyY2hNb2RlXSA9IHVzZVN0YXRlPCd0ZXh0JyB8ICdhaScgfCAnaHlicmlkJz4oJ3RleHQnKTtcbiAgY29uc3QgW3RleHRGaWx0ZXJlZENhcmRzLCBzZXRUZXh0RmlsdGVyZWRDYXJkc10gPSB1c2VTdGF0ZTxhbnlbXT4oW10pO1xuICBjb25zdCBbc2hvd1Byb21wdHMsIHNldFNob3dQcm9tcHRzXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3ByaW50T3B0aW9uLCBzZXRQcmludE9wdGlvbl0gPSB1c2VTdGF0ZTwncGh5c2ljYWwnIHwgJ2VtYWlsJz4oJ3BoeXNpY2FsJyk7XG4gIFxuICAvLyBUZW1wbGF0ZSBjdXN0b21pemF0aW9uIHN0YXRlXG4gIGNvbnN0IFt0ZW1wbGF0ZUN1c3RvbWl6YXRpb25zLCBzZXRUZW1wbGF0ZUN1c3RvbWl6YXRpb25zXSA9IHVzZVN0YXRlKHtcbiAgICBwcm9tcHRDaGFuZ2VzOiBcIlwiLFxuICAgIG1lc3NhZ2VDaGFuZ2VzOiBcIlwiLFxuICAgIHVzZVJlZmVyZW5jZUltYWdlOiBmYWxzZSxcbiAgICByZWZlcmVuY2VJbWFnZUZpbGU6IG51bGwgYXMgRmlsZSB8IG51bGwsXG4gICAgcmVmZXJlbmNlSW1hZ2VVcmxzOiBbXSBhcyBzdHJpbmdbXSxcbiAgICByZWZlcmVuY2VJbWFnZVRyYW5zZm9ybWF0aW9uOiBcIlwiXG4gIH0pO1xuICBcbiAgLy8gU2VjdGlvbiBsb2FkaW5nIHN0YXRlc1xuICBjb25zdCBbc2VjdGlvbkxvYWRpbmdTdGF0ZXMsIHNldFNlY3Rpb25Mb2FkaW5nU3RhdGVzXSA9IHVzZVN0YXRlPHtcbiAgICBmcm9udENvdmVyOiAnaWRsZScgfCAnbG9hZGluZycgfCAnY29tcGxldGVkJyB8ICdlcnJvcic7XG4gICAgYmFja0NvdmVyOiAnaWRsZScgfCAnbG9hZGluZycgfCAnY29tcGxldGVkJyB8ICdlcnJvcic7XG4gICAgbGVmdEludGVyaW9yOiAnaWRsZScgfCAnbG9hZGluZycgfCAnY29tcGxldGVkJyB8ICdlcnJvcic7XG4gICAgcmlnaHRJbnRlcmlvcjogJ2lkbGUnIHwgJ2xvYWRpbmcnIHwgJ2NvbXBsZXRlZCcgfCAnZXJyb3InO1xuICB9Pih7XG4gICAgZnJvbnRDb3ZlcjogJ2lkbGUnLFxuICAgIGJhY2tDb3ZlcjogJ2lkbGUnLFxuICAgIGxlZnRJbnRlcmlvcjogJ2lkbGUnLFxuICAgIHJpZ2h0SW50ZXJpb3I6ICdpZGxlJyxcbiAgfSk7XG4gIFxuICAvLyBDb3VudGRvd24gc3RhdGVcbiAgY29uc3QgW2NvdW50ZG93biwgc2V0Q291bnRkb3duXSA9IHVzZVN0YXRlPG51bWJlcj4oMCk7XG4gIGNvbnN0IFtjb3VudGRvd25JbnRlcnZhbCwgc2V0Q291bnRkb3duSW50ZXJ2YWxdID0gdXNlU3RhdGU8Tm9kZUpTLlRpbWVvdXQgfCBudWxsPihudWxsKTtcblxuICAvLyBVc2UgbW9kdWxhciBob29rc1xuICBjb25zdCB3ZWJTb2NrZXQgPSB1c2VXZWJTb2NrZXQoKTtcbiAgY29uc3Qgam9iTWFuYWdlbWVudCA9IHVzZUpvYk1hbmFnZW1lbnQoKTtcbiAgY29uc3QgZmlsZUhhbmRsaW5nID0gdXNlRmlsZUhhbmRsaW5nKCk7XG4gIGNvbnN0IG1lc3NhZ2VHZW5lcmF0aW9uID0gdXNlTWVzc2FnZUdlbmVyYXRpb24oXG4gICAgc2VsZWN0ZWRUeXBlLFxuICAgIGN1c3RvbUNhcmRUeXBlLFxuICAgIHNlbGVjdGVkVG9uZSxcbiAgICBwcm9tcHQsXG4gICAgdG9GaWVsZCxcbiAgICBmcm9tRmllbGQsXG4gICAgcmVsYXRpb25zaGlwRmllbGQsXG4gICAgZmlsZUhhbmRsaW5nLnBob3RvQW5hbHlzZXNcbiAgKTtcbiAgXG4gIC8vIERyYWZ0IGdlbmVyYXRpb24gcHJvcHNcbiAgY29uc3QgZHJhZnRHZW5lcmF0aW9uUHJvcHMgPSB7XG4gICAgc2VsZWN0ZWRUeXBlLFxuICAgIGN1c3RvbUNhcmRUeXBlLFxuICAgIHNlbGVjdGVkVG9uZSxcbiAgICBzZWxlY3RlZEFydGlzdGljU3R5bGUsXG4gICAgY3VzdG9tU3R5bGVEZXNjcmlwdGlvbixcbiAgICBzZWxlY3RlZERyYWZ0TW9kZWwsXG4gICAgc2VsZWN0ZWRJbWFnZU1vZGVsLFxuICAgIHNlbGVjdGVkUGFwZXJTaXplLFxuICAgIHByb21wdCxcbiAgICB0b0ZpZWxkLFxuICAgIGZyb21GaWVsZCxcbiAgICB1c2VyRW1haWwsXG4gICAgZmluYWxDYXJkTWVzc2FnZTogbWVzc2FnZUdlbmVyYXRpb24uZmluYWxDYXJkTWVzc2FnZSxcbiAgICBpc0hhbmR3cml0dGVuTWVzc2FnZSxcbiAgICBpc0Zyb250QmFja09ubHksXG4gICAgcmVmZXJlbmNlSW1hZ2VVcmxzOiBmaWxlSGFuZGxpbmcucmVmZXJlbmNlSW1hZ2VVcmxzLFxuICAgIHBob3RvQW5hbHlzZXM6IGZpbGVIYW5kbGluZy5waG90b0FuYWx5c2VzLFxuICAgIHNhdmVKb2JUb1N0b3JhZ2U6IGpvYk1hbmFnZW1lbnQuc2F2ZUpvYlRvU3RvcmFnZSxcbiAgICBzdWJzY3JpYmVUb0pvYjogd2ViU29ja2V0LnN1YnNjcmliZVRvSm9iLFxuICAgIHVuc3Vic2NyaWJlRnJvbUFsbEpvYnM6IHdlYlNvY2tldC51bnN1YnNjcmliZUZyb21BbGxKb2JzLFxuICAgIHN0YXJ0RWxhcHNlZFRpbWVUcmFja2luZzogam9iTWFuYWdlbWVudC5zdGFydEVsYXBzZWRUaW1lVHJhY2tpbmcsXG4gICAgc3RvcEVsYXBzZWRUaW1lVHJhY2tpbmc6IGpvYk1hbmFnZW1lbnQuc3RvcEVsYXBzZWRUaW1lVHJhY2tpbmcsXG4gIH07XG4gIFxuICBjb25zdCBkcmFmdEdlbmVyYXRpb24gPSB1c2VEcmFmdEdlbmVyYXRpb24oZHJhZnRHZW5lcmF0aW9uUHJvcHMpO1xuICBcbiAgLy8gQ2FyZCBnZW5lcmF0aW9uIHByb3BzXG4gIGNvbnN0IGNhcmRHZW5lcmF0aW9uUHJvcHMgPSB7XG4gICAgc2VsZWN0ZWRUeXBlLFxuICAgIGN1c3RvbUNhcmRUeXBlLFxuICAgIHNlbGVjdGVkVG9uZSxcbiAgICBzZWxlY3RlZEFydGlzdGljU3R5bGUsXG4gICAgY3VzdG9tU3R5bGVEZXNjcmlwdGlvbixcbiAgICBzZWxlY3RlZEltYWdlTW9kZWwsXG4gICAgc2VsZWN0ZWRQYXBlclNpemUsXG4gICAgcHJvbXB0LFxuICAgIHRvRmllbGQsXG4gICAgZnJvbUZpZWxkLFxuICAgIHVzZXJFbWFpbCxcbiAgICBmaW5hbENhcmRNZXNzYWdlOiBtZXNzYWdlR2VuZXJhdGlvbi5maW5hbENhcmRNZXNzYWdlLFxuICAgIGlzSGFuZHdyaXR0ZW5NZXNzYWdlLFxuICAgIGlzRnJvbnRCYWNrT25seSxcbiAgICByZWZlcmVuY2VJbWFnZVVybHM6IGZpbGVIYW5kbGluZy5yZWZlcmVuY2VJbWFnZVVybHMsXG4gICAgcGhvdG9BbmFseXNlczogZmlsZUhhbmRsaW5nLnBob3RvQW5hbHlzZXMsXG4gICAgbnVtYmVyT2ZDYXJkcyxcbiAgICBzYXZlSm9iVG9TdG9yYWdlOiBqb2JNYW5hZ2VtZW50LnNhdmVKb2JUb1N0b3JhZ2UsXG4gICAgcmVtb3ZlSm9iRnJvbVN0b3JhZ2U6IGpvYk1hbmFnZW1lbnQucmVtb3ZlSm9iRnJvbVN0b3JhZ2UsXG4gICAgc3Vic2NyaWJlVG9Kb2I6IHdlYlNvY2tldC5zdWJzY3JpYmVUb0pvYixcbiAgICBzdGFydEVsYXBzZWRUaW1lVHJhY2tpbmc6IGpvYk1hbmFnZW1lbnQuc3RhcnRFbGFwc2VkVGltZVRyYWNraW5nLFxuICAgIHN0b3BFbGFwc2VkVGltZVRyYWNraW5nOiBqb2JNYW5hZ2VtZW50LnN0b3BFbGFwc2VkVGltZVRyYWNraW5nLFxuICAgIHNldEN1cnJlbnRKb2JJZDogam9iTWFuYWdlbWVudC5zZXRDdXJyZW50Sm9iSWQsXG4gICAgc2V0SXNEcmFmdE1vZGU6IGRyYWZ0R2VuZXJhdGlvbi5zZXRJc0RyYWZ0TW9kZSxcbiAgICBzZXREcmFmdENhcmRzOiBkcmFmdEdlbmVyYXRpb24uc2V0RHJhZnRDYXJkcyxcbiAgICBzZXRTZWxlY3RlZERyYWZ0SW5kZXg6IGRyYWZ0R2VuZXJhdGlvbi5zZXRTZWxlY3RlZERyYWZ0SW5kZXgsXG4gICAgc2V0SXNHZW5lcmF0aW5nRmluYWxDYXJkOiBkcmFmdEdlbmVyYXRpb24uc2V0SXNHZW5lcmF0aW5nRmluYWxDYXJkLFxuICAgIHNldFByZXZpZXdpbmdEcmFmdEluZGV4OiBkcmFmdEdlbmVyYXRpb24uc2V0UHJldmlld2luZ0RyYWZ0SW5kZXgsXG4gICAgc2V0RHJhZnRDb21wbGV0aW9uU2hvd246IGRyYWZ0R2VuZXJhdGlvbi5zZXREcmFmdENvbXBsZXRpb25TaG93bixcbiAgICBzZXREcmFmdENvbXBsZXRpb25Db3VudDogZHJhZnRHZW5lcmF0aW9uLnNldERyYWZ0Q29tcGxldGlvbkNvdW50LFxuICB9O1xuICBcbiAgY29uc3QgY2FyZEdlbmVyYXRpb24gPSB1c2VDYXJkR2VuZXJhdGlvbihjYXJkR2VuZXJhdGlvblByb3BzKTtcblxuICAvLyBIYW5kbGUgam9iIHVwZGF0ZXMgZnJvbSBXZWJTb2NrZXRcbiAgY29uc3QgaGFuZGxlSm9iVXBkYXRlID0gdXNlQ2FsbGJhY2soKGRhdGE6IGFueSkgPT4ge1xuICAgIGNvbnN0IHsgam9iX2lkLCBzdGF0dXMsIHByb2dyZXNzLCBjYXJkRGF0YSwgZXJyb3IsIGNvbXBsZXRlZEF0IH0gPSBkYXRhO1xuICAgIFxuICAgIGlmICgham9iX2lkKSByZXR1cm47XG4gICAgXG4gICAgLy8gU2tpcCB1cGRhdGVzIGlmIHdlJ3JlIHN0aWxsIHJlc3RvcmluZyBqb2JzIGZyb20gbG9jYWxTdG9yYWdlXG4gICAgaWYgKGlzUmVzdG9yaW5nSm9icykge1xuICAgICAgY29uc29sZS5sb2coJ+KPsyBTa2lwcGluZyBqb2IgdXBkYXRlIGR1cmluZyByZXN0b3JhdGlvbjonLCBqb2JfaWQpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBcbiAgICAvLyBDaGVjayBpZiB0aGlzIGlzIGEgZHJhZnQgam9iXG4gICAgY29uc3QgaXNEcmFmdEpvYiA9IGpvYl9pZC5zdGFydHNXaXRoKCdkcmFmdC0nKTtcbiAgICBjb25zdCBkcmFmdEluZGV4ID0gaXNEcmFmdEpvYiA/IHBhcnNlSW50KGpvYl9pZC5zcGxpdCgnLScpWzFdKSA6IC0xO1xuICAgIFxuICAgIC8vIEZpbHRlciBvdXQgdXBkYXRlcyBmcm9tIHdyb25nIGpvYiB0eXBlXG4gICAgLy8gSWYgd2UncmUgaW4gZHJhZnQgbW9kZSwgb25seSBwcm9jZXNzIGRyYWZ0IGpvYnNcbiAgICAvLyBJZiB3ZSdyZSBpbiBmaW5hbCBtb2RlLCBvbmx5IHByb2Nlc3Mgbm9uLWRyYWZ0IGpvYnNcbiAgICBjb25zdCBpc0luRHJhZnRNb2RlID0gZHJhZnRHZW5lcmF0aW9uLmlzRHJhZnRNb2RlO1xuICAgIGlmIChpc0luRHJhZnRNb2RlICYmICFpc0RyYWZ0Sm9iKSB7XG4gICAgICBjb25zb2xlLmxvZygn8J+aqyBJZ25vcmluZyBub24tZHJhZnQgam9iIHVwZGF0ZSBpbiBkcmFmdCBtb2RlOicsIGpvYl9pZCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICghaXNJbkRyYWZ0TW9kZSAmJiBpc0RyYWZ0Sm9iKSB7XG4gICAgICBjb25zb2xlLmxvZygn8J+aqyBJZ25vcmluZyBkcmFmdCBqb2IgdXBkYXRlIGluIGZpbmFsIG1vZGU6Jywgam9iX2lkKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgXG4gICAgY29uc29sZS5sb2coJ/CflIQgUHJvY2Vzc2luZyBqb2IgdXBkYXRlOicsIHsgam9iX2lkLCBzdGF0dXMsIGlzRHJhZnRKb2IsIGRyYWZ0SW5kZXgsIHByb2dyZXNzIH0pO1xuICAgIFxuICAgIC8vIFVwZGF0ZSBwcm9ncmVzcyBpZiBwcm92aWRlZFxuICAgIGlmIChwcm9ncmVzcykge1xuICAgICAgLy8gSU1QT1JUQU5UOiBEb24ndCBzaG93IFwiR2VuZXJhdGlvbiBjb21wbGV0ZSFcIiB1bnRpbCB3ZSd2ZSBhY3R1YWxseSBwcm9jZXNzZWQgdGhlIGNhcmRcbiAgICAgIC8vIFRoaXMgcHJldmVudHMgdGhlIFVJIGZyb20gc2hvd2luZyBjb21wbGV0aW9uIGJlZm9yZSB0aGUgY2FyZCBpcyByZWFkeVxuICAgICAgaWYgKHByb2dyZXNzLmluY2x1ZGVzKCdHZW5lcmF0aW9uIGNvbXBsZXRlIScpICYmIHN0YXR1cyA9PT0gJ2NvbXBsZXRlZCcgJiYgIWlzRHJhZnRKb2IpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ+KPuO+4jyBIb2xkaW5nIFwiR2VuZXJhdGlvbiBjb21wbGV0ZSFcIiBtZXNzYWdlIHVudGlsIGNhcmQgaXMgcHJvY2Vzc2VkJyk7XG4gICAgICAgIC8vIERvbid0IHVwZGF0ZSB0aGUgcHJvZ3Jlc3MgbWVzc2FnZSB5ZXQgLSBpdCB3aWxsIGJlIHNldCBpbiBoYW5kbGVGaW5hbENhcmRDb21wbGV0aW9uXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjYXJkR2VuZXJhdGlvbi5zZXRHZW5lcmF0aW9uUHJvZ3Jlc3MocHJvZ3Jlc3MpO1xuICAgICAgICBkcmFmdEdlbmVyYXRpb24uc2V0R2VuZXJhdGlvblByb2dyZXNzKHByb2dyZXNzKTtcbiAgICAgICAgY29uc29sZS5sb2coYPCfk4ogUHJvZ3Jlc3MgbWVzc2FnZTogJHtwcm9ncmVzc31gKTtcbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgaWYgKHN0YXR1cyA9PT0gJ2NvbXBsZXRlZCcgJiYgY2FyZERhdGEpIHtcbiAgICAgIGNvbnNvbGUubG9nKCfwn46JIEpvYiBjb21wbGV0ZWQhIENhcmQgZGF0YTonLCBjYXJkRGF0YSwgJ2lzRHJhZnRKb2I6JywgaXNEcmFmdEpvYik7XG4gICAgICBcbiAgICAgIGlmIChpc0RyYWZ0Sm9iICYmIGRyYWZ0SW5kZXggPj0gMCkge1xuICAgICAgICAvLyBIYW5kbGUgZHJhZnQgY2FyZCBjb21wbGV0aW9uXG4gICAgICAgIGNvbnNvbGUubG9nKGDwn46oIERyYWZ0IHZhcmlhdGlvbiAke2RyYWZ0SW5kZXggKyAxfSBjb21wbGV0ZWQhYCk7XG4gICAgICAgIFxuICAgICAgICAvLyBHZXQgc3R5bGUgaW5mbyBmb3Igc21hcnQgc3R5bGUgbW9kZVxuICAgICAgICBsZXQgc3R5bGVJbmZvOiB7IHN0eWxlTmFtZTogc3RyaW5nOyBzdHlsZUxhYmVsOiBzdHJpbmcgfSB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZDtcbiAgICAgICAgaWYgKHNlbGVjdGVkQXJ0aXN0aWNTdHlsZSA9PT0gXCJhaS1zbWFydC1zdHlsZVwiKSB7XG4gICAgICAgICAgY29uc3QgcHJlZGVmaW5lZFN0eWxlcyA9IFtcbiAgICAgICAgICAgIFwid2F0ZXJjb2xvclwiLCBcImJvdGFuaWNhbFwiLCBcImNvbWljLWJvb2tcIiwgXCJkcmVhbXktZmFudGFzeVwiLCBcIm1pbmltYWxpc3RcIlxuICAgICAgICAgIF07XG4gICAgICAgICAgY29uc3Qgc3R5bGVMYWJlbHMgPSBbXG4gICAgICAgICAgICBcIvCfjqggV2F0ZXJjb2xvclwiLCBcIvCfjL8gQm90YW5pY2FsXCIsIFwi8J+SpSBDb21pYyBCb29rXCIsIFwi8J+MuCBEcmVhbXkgRmFudGFzeVwiLCBcIuKcqCBNaW5pbWFsaXN0XCJcbiAgICAgICAgICBdO1xuICAgICAgICAgIGlmIChkcmFmdEluZGV4ID49IDAgJiYgZHJhZnRJbmRleCA8IHByZWRlZmluZWRTdHlsZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICBzdHlsZUluZm8gPSB7XG4gICAgICAgICAgICAgIHN0eWxlTmFtZTogcHJlZGVmaW5lZFN0eWxlc1tkcmFmdEluZGV4XSxcbiAgICAgICAgICAgICAgc3R5bGVMYWJlbDogc3R5bGVMYWJlbHNbZHJhZnRJbmRleF1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgZHJhZnRDYXJkOiBHZW5lcmF0ZWRDYXJkID0ge1xuICAgICAgICAgIGlkOiBgZHJhZnQtJHtkcmFmdEluZGV4ICsgMX0tJHtEYXRlLm5vdygpfWAsXG4gICAgICAgICAgcHJvbXB0OiBjYXJkRGF0YS5wcm9tcHQgfHwgYERyYWZ0IFZhcmlhdGlvbiAke2RyYWZ0SW5kZXggKyAxfWAsXG4gICAgICAgICAgZnJvbnRDb3ZlcjogY2FyZERhdGEuZnJvbnRDb3ZlciB8fCBcIlwiLFxuICAgICAgICAgIGJhY2tDb3ZlcjogXCJcIixcbiAgICAgICAgICBsZWZ0UGFnZTogXCJcIixcbiAgICAgICAgICByaWdodFBhZ2U6IFwiXCIsXG4gICAgICAgICAgY3JlYXRlZEF0OiBuZXcgRGF0ZSgpLFxuICAgICAgICAgIGdlbmVyYXRlZFByb21wdHM6IHtcbiAgICAgICAgICAgIGZyb250Q292ZXI6IGNhcmREYXRhLmdlbmVyYXRlZFByb21wdHM/LmZyb250Q292ZXIgfHwgXCJcIlxuICAgICAgICAgIH0sXG4gICAgICAgICAgc3R5bGVJbmZvOiBzdHlsZUluZm9cbiAgICAgICAgfTtcbiAgICAgICAgXG4gICAgICAgIC8vIFNpbXBsaWZpZWQgZHJhZnQgdHJhY2tpbmcgLSB1c2UgZml4ZWQgYXJyYXkgcG9zaXRpb25zXG4gICAgICAgIGRyYWZ0R2VuZXJhdGlvbi5zZXREcmFmdENhcmRzKHByZXYgPT4ge1xuICAgICAgICAgIGNvbnN0IHVwZGF0ZWQgPSBbLi4ucHJldl07XG4gICAgICAgICAgLy8gRW5zdXJlIGFycmF5IGhhcyA1IHNsb3RzXG4gICAgICAgICAgd2hpbGUgKHVwZGF0ZWQubGVuZ3RoIDwgNSkge1xuICAgICAgICAgICAgdXBkYXRlZC5wdXNoKG51bGwgYXMgYW55KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gUGxhY2UgZHJhZnQgYXQgaXRzIGNvcnJlY3QgaW5kZXhcbiAgICAgICAgICB1cGRhdGVkW2RyYWZ0SW5kZXhdID0gZHJhZnRDYXJkO1xuICAgICAgICAgIGNvbnNvbGUubG9nKGDinIUgRHJhZnQgJHtkcmFmdEluZGV4ICsgMX0gY29tcGxldGVkIGFuZCBzdG9yZWQgYXQgaW5kZXggJHtkcmFmdEluZGV4fWApO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIFNhdmUgZHJhZnQgdG8gbG9jYWxTdG9yYWdlIHdpdGggZXhwaXJhdGlvblxuICAgICAgICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgY29uc3Qgam9iRGF0YSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKGBjYXJkSm9iXyR7am9iX2lkfWApO1xuICAgICAgICAgICAgICBpZiAoam9iRGF0YSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGpvYiA9IEpTT04ucGFyc2Uoam9iRGF0YSk7XG4gICAgICAgICAgICAgICAgam9iLmRyYWZ0Q2FyZHMgPSBbZHJhZnRDYXJkXTtcbiAgICAgICAgICAgICAgICBqb2IuZHJhZnRJbmRleCA9IGRyYWZ0SW5kZXg7XG4gICAgICAgICAgICAgICAgam9iLmxhc3RVcGRhdGUgPSBEYXRlLm5vdygpO1xuICAgICAgICAgICAgICAgIGpvYi5leHBpcmVzQXQgPSBEYXRlLm5vdygpICsgKDMwICogMjQgKiA2MCAqIDYwICogMTAwMCk7IC8vIDMwIGRheXNcbiAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShgY2FyZEpvYl8ke2pvYl9pZH1gLCBKU09OLnN0cmluZ2lmeShqb2IpKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIHNhdmUgZHJhZnQ6JywgZXJyb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBcbiAgICAgICAgICByZXR1cm4gdXBkYXRlZDtcbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICAvLyBTaW1wbGlmaWVkIGNvbXBsZXRpb24gdHJhY2tpbmcgLSBjb3VudCB0aGUgdXBkYXRlZCBhcnJheSBpbmNsdWRpbmcgdGhlIG5ldyBkcmFmdFxuICAgICAgICBjb25zdCB1cGRhdGVkRHJhZnRzID0gWy4uLmRyYWZ0R2VuZXJhdGlvbi5kcmFmdENhcmRzXTtcbiAgICAgICAgdXBkYXRlZERyYWZ0c1tkcmFmdEluZGV4XSA9IGRyYWZ0Q2FyZDtcbiAgICAgICAgY29uc3QgY29tcGxldGVkQ291bnQgPSB1cGRhdGVkRHJhZnRzLmZpbHRlcihCb29sZWFuKS5sZW5ndGg7XG4gICAgICAgIGNvbnNvbGUubG9nKGDwn5OKIERyYWZ0IHByb2dyZXNzOiAke2NvbXBsZXRlZENvdW50fS81IHZhcmlhdGlvbnMgY29tcGxldGVgKTtcbiAgICAgICAgXG4gICAgICAgIC8vIFVwZGF0ZSBwcm9ncmVzc1xuICAgICAgICBjb25zdCBwcm9ncmVzc01zZyA9IGNvbXBsZXRlZENvdW50ID09PSA1IFxuICAgICAgICAgID8gXCJBbGwgNSB2YXJpYXRpb25zIHJlYWR5ISBDaG9vc2UgeW91ciBmYXZvcml0ZSBiZWxvdy5cIlxuICAgICAgICAgIDogYCR7Y29tcGxldGVkQ291bnR9LzUgdmFyaWF0aW9ucyBjb21wbGV0ZS4uLiR7Y29tcGxldGVkQ291bnQgPj0gMiA/IFwiIFlvdSBjYW4gc2VsZWN0IG9uZSBub3chXCIgOiBcIlwifWA7XG4gICAgICAgIFxuICAgICAgICBkcmFmdEdlbmVyYXRpb24uc2V0R2VuZXJhdGlvblByb2dyZXNzKHByb2dyZXNzTXNnKTtcbiAgICAgICAgXG4gICAgICAgIC8vIE92ZXJyaWRlIHRpbWUtYmFzZWQgcHJvZ3Jlc3Mgd2l0aCByZWFsIHByb2dyZXNzIHdoZW4gZHJhZnRzIGNvbXBsZXRlXG4gICAgICAgIC8vIERvbid0IG92ZXJyaWRlIHRpbWUtYmFzZWQgcHJvZ3Jlc3NcbiAgICAgICAgY29uc29sZS5sb2coYPCfjqggRHJhZnQgJHtjb21wbGV0ZWRDb3VudH0vNSBjb21wbGV0ZWRgKTtcbiAgICAgICAgXG4gICAgICAgIC8vIEhhbmRsZSBtaWxlc3RvbmVzXG4gICAgICAgIGlmIChjb21wbGV0ZWRDb3VudCA9PT0gMSkge1xuICAgICAgICAgIHNjcm9sbFRvQ2FyZFByZXZpZXcoKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgaWYgKGNvbXBsZXRlZENvdW50ID09PSA1ICYmICFkcmFmdEdlbmVyYXRpb24uaXNHZW5lcmF0aW5nRmluYWxDYXJkKSB7XG4gICAgICAgICAgZHJhZnRHZW5lcmF0aW9uLnNldElzR2VuZXJhdGluZyhmYWxzZSk7XG4gICAgICAgICAgam9iTWFuYWdlbWVudC5zdG9wRWxhcHNlZFRpbWVUcmFja2luZygpO1xuICAgICAgICAgIHRvYXN0LnN1Y2Nlc3MoXCLwn46oIEFsbCA1IGZyb250IGNvdmVyIHZhcmlhdGlvbnMgcmVhZHkhIENob29zZSB5b3VyIGZhdm9yaXRlIGJlbG93LlwiKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gS2VlcCBkcmFmdCBqb2JzIGluIHN0b3JhZ2UgZm9yIGxhdGVyIHJldHJpZXZhbFxuICAgICAgICAvLyBPbmx5IHVuc3Vic2NyaWJlIGZyb20gV2ViU29ja2V0XG4gICAgICAgIHdlYlNvY2tldC51bnN1YnNjcmliZUZyb21Kb2Ioam9iX2lkKTtcbiAgICAgICAgY29uc29sZS5sb2coYOKchSBLZWVwaW5nIGRyYWZ0IGpvYiAke2pvYl9pZH0gaW4gc3RvcmFnZSBmb3IgZnV0dXJlIGFjY2Vzc2ApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gSGFuZGxlIGZpbmFsIGNhcmQgY29tcGxldGlvblxuICAgICAgICBjb25zb2xlLmxvZygn8J+UjSBGaW5hbCBjYXJkIGNvbXBsZXRpb24gZGV0ZWN0ZWQuIENhcmQgZGF0YSBzdHJ1Y3R1cmU6Jywge1xuICAgICAgICAgIGhhc0NhcmREYXRhOiAhIWNhcmREYXRhLFxuICAgICAgICAgIGNhcmREYXRhS2V5czogT2JqZWN0LmtleXMoY2FyZERhdGEgfHwge30pLFxuICAgICAgICAgIGZyb250Q292ZXI6IGNhcmREYXRhPy5mcm9udENvdmVyID8gJ1ByZXNlbnQnIDogJ01pc3NpbmcnLFxuICAgICAgICAgIGJhY2tDb3ZlcjogY2FyZERhdGE/LmJhY2tDb3ZlciA/ICdQcmVzZW50JyA6ICdNaXNzaW5nJyxcbiAgICAgICAgICBsZWZ0SW50ZXJpb3I6IGNhcmREYXRhPy5sZWZ0SW50ZXJpb3IgPyAnUHJlc2VudCcgOiAnTWlzc2luZycsXG4gICAgICAgICAgcmlnaHRJbnRlcmlvcjogY2FyZERhdGE/LnJpZ2h0SW50ZXJpb3IgPyAnUHJlc2VudCcgOiAnTWlzc2luZycsXG4gICAgICAgICAgbGVmdFBhZ2U6IGNhcmREYXRhPy5sZWZ0UGFnZSA/ICdQcmVzZW50JyA6ICdNaXNzaW5nJyxcbiAgICAgICAgICByaWdodFBhZ2U6IGNhcmREYXRhPy5yaWdodFBhZ2UgPyAnUHJlc2VudCcgOiAnTWlzc2luZycsXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zb2xlLmxvZygn8J+TnSBGdWxsIGNhcmQgZGF0YTonLCBKU09OLnN0cmluZ2lmeShjYXJkRGF0YSwgbnVsbCwgMikpO1xuICAgICAgICBcbiAgICAgICAgLy8gTWFwIGJhY2tlbmQgZmllbGQgbmFtZXMgdG8gZnJvbnRlbmQgZmllbGQgbmFtZXNcbiAgICAgICAgY29uc3QgbWFwcGVkQ2FyZERhdGEgPSB7XG4gICAgICAgICAgLi4uY2FyZERhdGEsXG4gICAgICAgICAgbGVmdEludGVyaW9yOiBjYXJkRGF0YS5sZWZ0SW50ZXJpb3IgfHwgY2FyZERhdGEubGVmdFBhZ2UsXG4gICAgICAgICAgcmlnaHRJbnRlcmlvcjogY2FyZERhdGEucmlnaHRJbnRlcmlvciB8fCBjYXJkRGF0YS5yaWdodFBhZ2UsXG4gICAgICAgICAgLy8gS2VlcCBvcmlnaW5hbCBmaWVsZHMgZm9yIGJhY2t3YXJkIGNvbXBhdGliaWxpdHlcbiAgICAgICAgICBsZWZ0UGFnZTogY2FyZERhdGEubGVmdFBhZ2UgfHwgY2FyZERhdGEubGVmdEludGVyaW9yLFxuICAgICAgICAgIHJpZ2h0UGFnZTogY2FyZERhdGEucmlnaHRQYWdlIHx8IGNhcmREYXRhLnJpZ2h0SW50ZXJpb3IsXG4gICAgICAgIH07XG4gICAgICAgIFxuICAgICAgICBjb25zb2xlLmxvZygn8J+UhCBNYXBwZWQgY2FyZCBkYXRhIGZvciBmcm9udGVuZCBjb21wYXRpYmlsaXR5OicsIHtcbiAgICAgICAgICBmcm9udENvdmVyOiBtYXBwZWRDYXJkRGF0YS5mcm9udENvdmVyID8gJ1ByZXNlbnQnIDogJ01pc3NpbmcnLFxuICAgICAgICAgIGJhY2tDb3ZlcjogbWFwcGVkQ2FyZERhdGEuYmFja0NvdmVyID8gJ1ByZXNlbnQnIDogJ01pc3NpbmcnLFxuICAgICAgICAgIGxlZnRJbnRlcmlvcjogbWFwcGVkQ2FyZERhdGEubGVmdEludGVyaW9yID8gJ1ByZXNlbnQnIDogJ01pc3NpbmcnLFxuICAgICAgICAgIHJpZ2h0SW50ZXJpb3I6IG1hcHBlZENhcmREYXRhLnJpZ2h0SW50ZXJpb3IgPyAnUHJlc2VudCcgOiAnTWlzc2luZycsXG4gICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgLy8gQ2FsbCB0aGUgY29tcGxldGlvbiBoYW5kbGVyXG4gICAgICAgIGNvbnNvbGUubG9nKCfwn5qAIENhbGxpbmcgaGFuZGxlRmluYWxDYXJkQ29tcGxldGlvbi4uLicpO1xuICAgICAgICBjYXJkR2VuZXJhdGlvbi5oYW5kbGVGaW5hbENhcmRDb21wbGV0aW9uKG1hcHBlZENhcmREYXRhKTtcbiAgICAgICAgXG4gICAgICAgIC8vIFNhdmUgZmluYWwgY2FyZCB0byBsb2NhbFN0b3JhZ2UgZm9yIHJlY292ZXJ5XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgZmluYWxDYXJkRGF0YSA9IHtcbiAgICAgICAgICAgIC4uLmNhcmREYXRhLFxuICAgICAgICAgICAgam9iSWQ6IGpvYl9pZCxcbiAgICAgICAgICAgIGNvbXBsZXRlZEF0OiBEYXRlLm5vdygpLFxuICAgICAgICAgICAgaXNGaW5hbENhcmQ6IHRydWVcbiAgICAgICAgICB9O1xuICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdsYXN0Q29tcGxldGVkQ2FyZCcsIEpTT04uc3RyaW5naWZ5KGZpbmFsQ2FyZERhdGEpKTtcbiAgICAgICAgICBjb25zb2xlLmxvZygn8J+SviBTYXZlZCBmaW5hbCBjYXJkIHRvIGxvY2FsU3RvcmFnZSBmb3IgcmVjb3ZlcnknKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gc2F2ZSBmaW5hbCBjYXJkOicsIGVycm9yKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgam9iTWFuYWdlbWVudC5yZW1vdmVKb2JGcm9tU3RvcmFnZShqb2JfaWQpO1xuICAgICAgICBqb2JNYW5hZ2VtZW50LnNldEN1cnJlbnRKb2JJZChudWxsKTtcbiAgICAgICAgd2ViU29ja2V0LnVuc3Vic2NyaWJlRnJvbUpvYihqb2JfaWQpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoc3RhdHVzID09PSAnZmFpbGVkJykge1xuICAgICAgY29uc29sZS5lcnJvcign4p2MIEpvYiBmYWlsZWQ6JywgZXJyb3IpO1xuICAgICAgXG4gICAgICBpZiAoaXNEcmFmdEpvYiAmJiBkcmFmdEluZGV4ID49IDApIHtcbiAgICAgICAgdG9hc3QuZXJyb3IoYERyYWZ0IHZhcmlhdGlvbiAke2RyYWZ0SW5kZXggKyAxfSBmYWlsZWQuIENvbnRpbnVpbmcgd2l0aCBvdGhlcnMuLi5gKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRvYXN0LmVycm9yKFwi4p2MIENhcmQgZ2VuZXJhdGlvbiBmYWlsZWQuIFBsZWFzZSB0cnkgYWdhaW4uXCIpO1xuICAgICAgICBjYXJkR2VuZXJhdGlvbi5zZXRJc0dlbmVyYXRpbmcoZmFsc2UpO1xuICAgICAgICBkcmFmdEdlbmVyYXRpb24uc2V0SXNHZW5lcmF0aW5nRmluYWxDYXJkKGZhbHNlKTtcbiAgICAgICAgam9iTWFuYWdlbWVudC5zdG9wRWxhcHNlZFRpbWVUcmFja2luZygpO1xuICAgICAgICBjYXJkR2VuZXJhdGlvbi5zZXRHZW5lcmF0aW9uUHJvZ3Jlc3MoXCJcIik7XG4gICAgICAgIC8vIERvbid0IHJlc2V0IHByb2dyZXNzIC0gbGV0IHRpbWUtYmFzZWQgcHJvZ3Jlc3MgY29udGludWVcbiAgICAgICAgLy8gam9iTWFuYWdlbWVudC5zZXRQcm9ncmVzc1BlcmNlbnRhZ2UoMCk7XG4gICAgICAgIGpvYk1hbmFnZW1lbnQuc2V0Q3VycmVudEpvYklkKG51bGwpO1xuICAgICAgICB3ZWJTb2NrZXQudW5zdWJzY3JpYmVGcm9tSm9iKGpvYl9pZCk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIGpvYk1hbmFnZW1lbnQucmVtb3ZlSm9iRnJvbVN0b3JhZ2Uoam9iX2lkKTtcbiAgICB9IGVsc2UgaWYgKHN0YXR1cyA9PT0gJ25vdF9mb3VuZCcpIHtcbiAgICAgIGNvbnNvbGUud2Fybign4pqg77iPIEpvYiBub3QgZm91bmQgb24gc2VydmVyLCBjbGVhbmluZyB1cCBzdGFsZSByZWZlcmVuY2U6Jywgam9iX2lkKTtcbiAgICAgIFxuICAgICAgLy8gQ2xlYW4gdXAgc3RhbGUgam9iIHJlZmVyZW5jZVxuICAgICAgaWYgKHdlYlNvY2tldC5jdXJyZW50Sm9iUmVmLmN1cnJlbnQgPT09IGpvYl9pZCkge1xuICAgICAgICB3ZWJTb2NrZXQuY3VycmVudEpvYlJlZi5jdXJyZW50ID0gbnVsbDtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gUmVzZXQgVUkgc3RhdGUgaWYgdGhpcyB3YXMgdGhlIGN1cnJlbnQgam9iXG4gICAgICBpZiAoam9iTWFuYWdlbWVudC5jdXJyZW50Sm9iSWQgPT09IGpvYl9pZCkge1xuICAgICAgICBqb2JNYW5hZ2VtZW50LnNldEN1cnJlbnRKb2JJZChudWxsKTtcbiAgICAgICAgY2FyZEdlbmVyYXRpb24uc2V0SXNHZW5lcmF0aW5nKGZhbHNlKTtcbiAgICAgICAgZHJhZnRHZW5lcmF0aW9uLnNldElzR2VuZXJhdGluZ0ZpbmFsQ2FyZChmYWxzZSk7XG4gICAgICAgIGNhcmRHZW5lcmF0aW9uLnNldEdlbmVyYXRpb25Qcm9ncmVzcyhcIlwiKTtcbiAgICAgICAgLy8gRG9uJ3QgcmVzZXQgcHJvZ3Jlc3MgLSBsZXQgdGltZS1iYXNlZCBwcm9ncmVzcyBjb250aW51ZVxuICAgICAgICAvLyBqb2JNYW5hZ2VtZW50LnNldFByb2dyZXNzUGVyY2VudGFnZSgwKTtcbiAgICAgICAgam9iTWFuYWdlbWVudC5zdG9wRWxhcHNlZFRpbWVUcmFja2luZygpO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBDbGVhbiB1cCBzdG9yYWdlXG4gICAgICBqb2JNYW5hZ2VtZW50LnJlbW92ZUpvYkZyb21TdG9yYWdlKGpvYl9pZCk7XG4gICAgICB3ZWJTb2NrZXQudW5zdWJzY3JpYmVGcm9tSm9iKGpvYl9pZCk7XG4gICAgfVxuICB9LCBbc2VsZWN0ZWRBcnRpc3RpY1N0eWxlLCBkcmFmdEdlbmVyYXRpb24sIGNhcmRHZW5lcmF0aW9uLCBqb2JNYW5hZ2VtZW50LCB3ZWJTb2NrZXQsIGlzUmVzdG9yaW5nSm9ic10pO1xuXG4gIC8vIFNldCB1cCBXZWJTb2NrZXQgam9iIHVwZGF0ZSBoYW5kbGVyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgd2ViU29ja2V0LnNldEpvYlVwZGF0ZUhhbmRsZXIoaGFuZGxlSm9iVXBkYXRlKTtcbiAgfSwgW3dlYlNvY2tldCwgaGFuZGxlSm9iVXBkYXRlXSk7XG5cbiAgLy8gVHJhY2sgaWYgd2UndmUgYWxyZWFkeSBsb2dnZWQgdGhlIHN0YWxlIGpvYiBtZXNzYWdlXG4gIGNvbnN0IHN0YWxlSm9iTG9nZ2VkUmVmID0gdXNlUmVmKGZhbHNlKTtcblxuICAvLyBBdXRvLXJlY29ubmVjdCBXZWJTb2NrZXQgaWYgZGlzY29ubmVjdGVkIGR1cmluZyBhY3RpdmUgZ2VuZXJhdGlvblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghd2ViU29ja2V0LmlzU29ja2V0Q29ubmVjdGVkICYmIFxuICAgICAgICAoY2FyZEdlbmVyYXRpb24uaXNHZW5lcmF0aW5nIHx8IGRyYWZ0R2VuZXJhdGlvbi5pc0dlbmVyYXRpbmdGaW5hbENhcmQpICYmIFxuICAgICAgICB3ZWJTb2NrZXQuY3VycmVudEpvYlJlZi5jdXJyZW50KSB7XG4gICAgICBcbiAgICAgIC8vIENoZWNrIGlmIHRoZSBnZW5lcmF0aW9uIGhhcyBiZWVuIHJ1bm5pbmcgZm9yIG1vcmUgdGhhbiA1IG1pbnV0ZXNcbiAgICAgIGlmIChqb2JNYW5hZ2VtZW50LmdlbmVyYXRpb25TdGFydFRpbWUpIHtcbiAgICAgICAgY29uc3Qgam9iQWdlID0gRGF0ZS5ub3coKSAtIGpvYk1hbmFnZW1lbnQuZ2VuZXJhdGlvblN0YXJ0VGltZTtcbiAgICAgICAgaWYgKGpvYkFnZSA+IDUgKiA2MCAqIDEwMDApIHsgLy8gNSBtaW51dGVzXG4gICAgICAgICAgaWYgKCFzdGFsZUpvYkxvZ2dlZFJlZi5jdXJyZW50KSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygn4o+wIEpvYiBpcyBvbGRlciB0aGFuIDUgbWludXRlcywgc3RvcHBpbmcgcmVjb25uZWN0aW9uIGF0dGVtcHRzJyk7XG4gICAgICAgICAgICBzdGFsZUpvYkxvZ2dlZFJlZi5jdXJyZW50ID0gdHJ1ZTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gQ2xlYW4gdXAgc3RhbGUgam9iXG4gICAgICAgICAgICBjb25zdCBqb2JJZCA9IHdlYlNvY2tldC5jdXJyZW50Sm9iUmVmLmN1cnJlbnQ7XG4gICAgICAgICAgICBpZiAoam9iSWQpIHtcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/Cfp7kgQ2xlYW5pbmcgdXAgc3RhbGUgam9iOicsIGpvYklkKTtcbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIC8vIFJlbW92ZSBmcm9tIGxvY2FsU3RvcmFnZSAob25seSBpZiBub3QgYSBkcmFmdCBqb2IpXG4gICAgICAgICAgICAgIGlmICgham9iSWQuc3RhcnRzV2l0aCgnZHJhZnQtJykpIHtcbiAgICAgICAgICAgICAgICBqb2JNYW5hZ2VtZW50LnJlbW92ZUpvYkZyb21TdG9yYWdlKGpvYklkKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgLy8gUmVzZXQgZ2VuZXJhdGlvbiBzdGF0ZXNcbiAgICAgICAgICAgICAgY2FyZEdlbmVyYXRpb24uc2V0SXNHZW5lcmF0aW5nKGZhbHNlKTtcbiAgICAgICAgICAgICAgZHJhZnRHZW5lcmF0aW9uLnNldElzR2VuZXJhdGluZ0ZpbmFsQ2FyZChmYWxzZSk7XG4gICAgICAgICAgICAgIGRyYWZ0R2VuZXJhdGlvbi5zZXRJc0RyYWZ0TW9kZShmYWxzZSk7XG4gICAgICAgICAgICAgIGRyYWZ0R2VuZXJhdGlvbi5zZXREcmFmdENhcmRzKFtdKTtcbiAgICAgICAgICAgICAgZHJhZnRHZW5lcmF0aW9uLnNldERyYWZ0Q29tcGxldGlvbkNvdW50KDApO1xuICAgICAgICAgICAgICBkcmFmdEdlbmVyYXRpb24uc2V0RHJhZnRDb21wbGV0aW9uU2hvd24oZmFsc2UpO1xuICAgICAgICAgICAgICBqb2JNYW5hZ2VtZW50LnNldEN1cnJlbnRKb2JJZChudWxsKTtcbiAgICAgICAgICAgICAgam9iTWFuYWdlbWVudC5zZXRHZW5lcmF0aW9uUHJvZ3Jlc3MoJycpO1xuICAgICAgICAgICAgICAvLyBEb24ndCByZXNldCBwcm9ncmVzcyAtIGxldCB0aW1lLWJhc2VkIHByb2dyZXNzIGNvbnRpbnVlXG4gICAgICAgIC8vIGpvYk1hbmFnZW1lbnQuc2V0UHJvZ3Jlc3NQZXJjZW50YWdlKDApO1xuICAgICAgICAgICAgICBqb2JNYW5hZ2VtZW50LnN0b3BFbGFwc2VkVGltZVRyYWNraW5nKCk7XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAvLyBVbnN1YnNjcmliZSBmcm9tIGpvYlxuICAgICAgICAgICAgICB3ZWJTb2NrZXQudW5zdWJzY3JpYmVGcm9tSm9iKGpvYklkKTtcbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIC8vIFNob3cgZXJyb3IgdG9hc3RcbiAgICAgICAgICAgICAgdG9hc3QuZXJyb3IoJ0NhcmQgZ2VuZXJhdGlvbiB0aW1lZCBvdXQuIFBsZWFzZSB0cnkgYWdhaW4uJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgXG4gICAgICBjb25zb2xlLmxvZygn8J+UhCBXZWJTb2NrZXQgZGlzY29ubmVjdGVkIGR1cmluZyBnZW5lcmF0aW9uLCBhdHRlbXB0aW5nIHJlY29ubmVjdC4uLicpO1xuICAgICAgY29uc3QgcmVjb25uZWN0VGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgd2ViU29ja2V0LmNvbm5lY3RXZWJTb2NrZXQoKTtcbiAgICAgICAgXG4gICAgICAgIC8vIFJlLXN1YnNjcmliZSB0byBjdXJyZW50IGpvYiBhZnRlciByZWNvbm5lY3Rpb25cbiAgICAgICAgY29uc3Qgam9iSWQgPSB3ZWJTb2NrZXQuY3VycmVudEpvYlJlZi5jdXJyZW50O1xuICAgICAgICBpZiAoam9iSWQpIHtcbiAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5OhIFJlLXN1YnNjcmliaW5nIHRvIGpvYiBhZnRlciByZWNvbm5lY3Q6Jywgam9iSWQpO1xuICAgICAgICAgICAgd2ViU29ja2V0LnN1YnNjcmliZVRvSm9iKGpvYklkKTtcbiAgICAgICAgICB9LCAxMDAwKTtcbiAgICAgICAgfVxuICAgICAgfSwgMjAwMCk7XG4gICAgICBcbiAgICAgIHJldHVybiAoKSA9PiBjbGVhclRpbWVvdXQocmVjb25uZWN0VGltZXIpO1xuICAgIH1cbiAgfSwgW3dlYlNvY2tldCwgY2FyZEdlbmVyYXRpb24uaXNHZW5lcmF0aW5nLCBkcmFmdEdlbmVyYXRpb24uaXNHZW5lcmF0aW5nRmluYWxDYXJkLCBqb2JNYW5hZ2VtZW50LmdlbmVyYXRpb25TdGFydFRpbWVdKTtcblxuICAvLyBSZXNldCBzdGFsZSBqb2IgZmxhZyB3aGVuIGdlbmVyYXRpb24gc3RhcnRzXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGNhcmRHZW5lcmF0aW9uLmlzR2VuZXJhdGluZyB8fCBkcmFmdEdlbmVyYXRpb24uaXNHZW5lcmF0aW5nRmluYWxDYXJkKSB7XG4gICAgICBzdGFsZUpvYkxvZ2dlZFJlZi5jdXJyZW50ID0gZmFsc2U7XG4gICAgfVxuICB9LCBbY2FyZEdlbmVyYXRpb24uaXNHZW5lcmF0aW5nLCBkcmFmdEdlbmVyYXRpb24uaXNHZW5lcmF0aW5nRmluYWxDYXJkXSk7XG5cbiAgLy8gTW9uaXRvciBmb3Igc3RhbGUgam9iIHVwZGF0ZXNcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoKGNhcmRHZW5lcmF0aW9uLmlzR2VuZXJhdGluZyB8fCBkcmFmdEdlbmVyYXRpb24uaXNHZW5lcmF0aW5nRmluYWxDYXJkKSAmJiBcbiAgICAgICAgd2ViU29ja2V0LmN1cnJlbnRKb2JSZWYuY3VycmVudCkge1xuICAgICAgY29uc3QgY2hlY2tJbnRlcnZhbCA9IHNldEludGVydmFsKGFzeW5jICgpID0+IHtcbiAgICAgICAgY29uc3QgdGltZVNpbmNlTGFzdFVwZGF0ZSA9IERhdGUubm93KCkgLSB3ZWJTb2NrZXQubGFzdEpvYlVwZGF0ZVJlZi5jdXJyZW50O1xuICAgICAgICBjb25zdCBqb2JJZCA9IHdlYlNvY2tldC5jdXJyZW50Sm9iUmVmLmN1cnJlbnQ7XG4gICAgICAgIFxuICAgICAgICAvLyBWZXJ5IGFnZ3Jlc3NpdmUgY2hlY2tpbmcgd2hlbiBhdCA5NSUrIHByb2dyZXNzXG4gICAgICAgIGlmIChqb2JNYW5hZ2VtZW50LnByb2dyZXNzUGVyY2VudGFnZSA+PSA5NSAmJiB0aW1lU2luY2VMYXN0VXBkYXRlID4gNTAwMCkge1xuICAgICAgICAgIGNvbnNvbGUud2Fybihg4pqg77iPIE5vIHVwZGF0ZXMgZm9yICR7TWF0aC5yb3VuZCh0aW1lU2luY2VMYXN0VXBkYXRlLzEwMDApfXMgYXQgJHtqb2JNYW5hZ2VtZW50LnByb2dyZXNzUGVyY2VudGFnZX0lIHByb2dyZXNzIC0gY2hlY2tpbmcgam9iIHN0YXR1cy4uLmApO1xuICAgICAgICAgIFxuICAgICAgICAgIGlmIChqb2JJZCkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgL2FwaS9qb2Itc3RhdHVzLyR7am9iSWR9YCk7XG4gICAgICAgICAgICAgIGlmIChyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGpvYlN0YXR1cyA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn8J+TiiBEaXJlY3Qgam9iIHN0YXR1cyBjaGVjazonLCBqb2JTdGF0dXMpO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGlmIChqb2JTdGF0dXMuc3RhdHVzID09PSAnY29tcGxldGVkJyAmJiBqb2JTdGF0dXMuY2FyZERhdGEpIHtcbiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfinIUgSm9iIGlzIGFjdHVhbGx5IGNvbXBsZXRlZCEgUHJvY2Vzc2luZyByZXN1bHQuLi4nKTtcbiAgICAgICAgICAgICAgICAgIGhhbmRsZUpvYlVwZGF0ZSh7XG4gICAgICAgICAgICAgICAgICAgIGpvYl9pZDogam9iSWQsXG4gICAgICAgICAgICAgICAgICAgIHN0YXR1czogJ2NvbXBsZXRlZCcsXG4gICAgICAgICAgICAgICAgICAgIHByb2dyZXNzOiAnQ2FyZCBnZW5lcmF0aW9uIGNvbXBsZXRlIScsXG4gICAgICAgICAgICAgICAgICAgIGNhcmREYXRhOiBqb2JTdGF0dXMuY2FyZERhdGFcbiAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgcmV0dXJuOyAvLyBFeGl0IGVhcmx5IG9uIGNvbXBsZXRpb25cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBjaGVjayBqb2Igc3RhdHVzOicsIGVycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gTW9yZSBhZ2dyZXNzaXZlIGNoZWNraW5nIHdoZW4gYXQgaGlnaCBwcm9ncmVzc1xuICAgICAgICBlbHNlIGlmIChqb2JNYW5hZ2VtZW50LnByb2dyZXNzUGVyY2VudGFnZSA+PSA5MCAmJiB0aW1lU2luY2VMYXN0VXBkYXRlID4gMTAwMDApIHtcbiAgICAgICAgICBjb25zb2xlLndhcm4oYOKaoO+4jyBObyB1cGRhdGVzIGZvciAke01hdGgucm91bmQodGltZVNpbmNlTGFzdFVwZGF0ZS8xMDAwKX1zIGF0ICR7am9iTWFuYWdlbWVudC5wcm9ncmVzc1BlcmNlbnRhZ2V9JSBwcm9ncmVzc2ApO1xuICAgICAgICAgIFxuICAgICAgICAgIGlmIChqb2JJZCkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgL2FwaS9qb2Itc3RhdHVzLyR7am9iSWR9YCk7XG4gICAgICAgICAgICAgIGlmIChyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGpvYlN0YXR1cyA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn8J+TiiBEaXJlY3Qgam9iIHN0YXR1cyBjaGVjazonLCBqb2JTdGF0dXMpO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGlmIChqb2JTdGF0dXMuc3RhdHVzID09PSAnY29tcGxldGVkJyAmJiBqb2JTdGF0dXMuY2FyZERhdGEpIHtcbiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfinIUgSm9iIGlzIGFjdHVhbGx5IGNvbXBsZXRlZCEgUHJvY2Vzc2luZyByZXN1bHQuLi4nKTtcbiAgICAgICAgICAgICAgICAgIGhhbmRsZUpvYlVwZGF0ZSh7XG4gICAgICAgICAgICAgICAgICAgIGpvYl9pZDogam9iSWQsXG4gICAgICAgICAgICAgICAgICAgIHN0YXR1czogJ2NvbXBsZXRlZCcsXG4gICAgICAgICAgICAgICAgICAgIHByb2dyZXNzOiAnQ2FyZCBnZW5lcmF0aW9uIGNvbXBsZXRlIScsXG4gICAgICAgICAgICAgICAgICAgIGNhcmREYXRhOiBqb2JTdGF0dXMuY2FyZERhdGFcbiAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgcmV0dXJuOyAvLyBFeGl0IGVhcmx5IG9uIGNvbXBsZXRpb25cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBjaGVjayBqb2Igc3RhdHVzOicsIGVycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIFN0YW5kYXJkIHN0YWxlIHVwZGF0ZSBjaGVja1xuICAgICAgICBpZiAodGltZVNpbmNlTGFzdFVwZGF0ZSA+IDMwMDAwKSB7IC8vIDMwIHNlY29uZHMgd2l0aG91dCB1cGRhdGVcbiAgICAgICAgICBjb25zb2xlLndhcm4oJ+KaoO+4jyBObyBqb2IgdXBkYXRlcyBmb3IgMzAgc2Vjb25kcywgY2hlY2tpbmcgY29ubmVjdGlvbi4uLicpO1xuICAgICAgICAgIFxuICAgICAgICAgIGlmICghd2ViU29ja2V0LmlzU29ja2V0Q29ubmVjdGVkKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygn8J+UhCBXZWJTb2NrZXQgZGlzY29ubmVjdGVkLCByZWNvbm5lY3RpbmcuLi4nKTtcbiAgICAgICAgICAgIHdlYlNvY2tldC5jb25uZWN0V2ViU29ja2V0KCk7XG4gICAgICAgICAgfSBlbHNlIGlmIChqb2JJZCkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ/Cfk6EgUmUtc3Vic2NyaWJpbmcgdG8gam9iIGR1ZSB0byBzdGFsZSB1cGRhdGVzOicsIGpvYklkKTtcbiAgICAgICAgICAgIHdlYlNvY2tldC5zdWJzY3JpYmVUb0pvYihqb2JJZCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIFxuICAgICAgICAgIC8vIFJlc2V0IHRoZSB0aW1lclxuICAgICAgICAgIHdlYlNvY2tldC5sYXN0Sm9iVXBkYXRlUmVmLmN1cnJlbnQgPSBEYXRlLm5vdygpO1xuICAgICAgICB9XG4gICAgICB9LCAzMDAwKTsgLy8gQ2hlY2sgZXZlcnkgMyBzZWNvbmRzIGZvciBmYXN0ZXIgZGV0ZWN0aW9uIGF0IGhpZ2ggcHJvZ3Jlc3NcbiAgICAgIFxuICAgICAgcmV0dXJuICgpID0+IGNsZWFySW50ZXJ2YWwoY2hlY2tJbnRlcnZhbCk7XG4gICAgfVxuICB9LCBbY2FyZEdlbmVyYXRpb24uaXNHZW5lcmF0aW5nLCBkcmFmdEdlbmVyYXRpb24uaXNHZW5lcmF0aW5nRmluYWxDYXJkLCBcbiAgICAgIHdlYlNvY2tldCwgam9iTWFuYWdlbWVudC5wcm9ncmVzc1BlcmNlbnRhZ2UsIGhhbmRsZUpvYlVwZGF0ZV0pO1xuXG4gIC8vIE9MRDogQ29tcGxleCBqb2IgcmVzdG9yYXRpb24gLSBrZWVwaW5nIGZvciByZWZlcmVuY2UgYnV0IG5vdCB1c2luZ1xuICBjb25zdCBjaGVja1BlbmRpbmdKb2JzID0gdXNlQ2FsbGJhY2soYXN5bmMgKCkgPT4ge1xuICAgIGNvbnNvbGUubG9nKCfwn5SEIFN0YXJ0aW5nIGpvYiByZXN0b3JhdGlvbi4uLicpO1xuICAgIHNldElzUmVzdG9yaW5nSm9icyh0cnVlKTtcbiAgICBcbiAgICBjb25zdCBwZW5kaW5nSm9icyA9IGF3YWl0IGpvYk1hbmFnZW1lbnQuY2hlY2tQZW5kaW5nSm9icygpO1xuICAgIFxuICAgIGlmIChwZW5kaW5nSm9icy5sZW5ndGggPT09IDApIHtcbiAgICAgIGNvbnNvbGUubG9nKCfinIUgTm8gcGVuZGluZyBqb2JzIHRvIHJlc3RvcmUnKTtcbiAgICAgIHNldElzUmVzdG9yaW5nSm9icyhmYWxzZSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFxuICAgIGNvbnNvbGUubG9nKCfwn5SEIEZvdW5kIHBlbmRpbmcgam9icyB0byByZXN0b3JlOicsIHBlbmRpbmdKb2JzKTtcbiAgICBcbiAgICAvLyBTZXBhcmF0ZSBkcmFmdCBqb2JzIGZyb20gZmluYWwgam9ic1xuICAgIGNvbnN0IGRyYWZ0Sm9icyA9IHBlbmRpbmdKb2JzLmZpbHRlcigoeyBqb2JJZCB9KSA9PiBqb2JJZC5zdGFydHNXaXRoKCdkcmFmdC0nKSk7XG4gICAgY29uc3QgZmluYWxKb2JzID0gcGVuZGluZ0pvYnMuZmlsdGVyKCh7IGpvYklkIH0pID0+ICFqb2JJZC5zdGFydHNXaXRoKCdkcmFmdC0nKSk7XG4gICAgXG4gICAgLy8gUHJvY2VzcyBkcmFmdCBqb2JzIGZpcnN0IHRvIHJlc3RvcmUgZHJhZnQgc3RhdGVcbiAgICBpZiAoZHJhZnRKb2JzLmxlbmd0aCA+IDApIHtcbiAgICAgIGNvbnNvbGUubG9nKGDwn46oIEZvdW5kICR7ZHJhZnRKb2JzLmxlbmd0aH0gZHJhZnQgam9icyB0byByZXN0b3JlYCk7XG4gICAgICBcbiAgICAgIC8vIENvbGxlY3QgYWxsIGRyYWZ0IGNhcmRzIGZyb20gYWxsIGRyYWZ0IGpvYnNcbiAgICAgIGNvbnN0IGRyYWZ0c0J5SW5kZXg6IChHZW5lcmF0ZWRDYXJkIHwgbnVsbClbXSA9IG5ldyBBcnJheSg1KS5maWxsKG51bGwpO1xuICAgICAgXG4gICAgICBmb3IgKGNvbnN0IHsgam9iIH0gb2YgZHJhZnRKb2JzKSB7XG4gICAgICAgIGlmIChqb2IuZHJhZnRDYXJkcyAmJiBBcnJheS5pc0FycmF5KGpvYi5kcmFmdENhcmRzKSAmJiBqb2IuZHJhZnRDYXJkcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgY29uc3QgZHJhZnRDYXJkID0gam9iLmRyYWZ0Q2FyZHNbMF07IC8vIEVhY2ggam9iIHN0b3JlcyBvbmUgZHJhZnRcbiAgICAgICAgICBjb25zdCBkcmFmdEluZGV4ID0gam9iLmRyYWZ0SW5kZXg7XG4gICAgICAgICAgXG4gICAgICAgICAgaWYgKGRyYWZ0SW5kZXggPj0gMCAmJiBkcmFmdEluZGV4IDwgNSkge1xuICAgICAgICAgICAgZHJhZnRzQnlJbmRleFtkcmFmdEluZGV4XSA9IGRyYWZ0Q2FyZDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gR2V0IG5vbi1udWxsIGRyYWZ0cyBmb3IgY291bnRpbmdcbiAgICAgIGNvbnN0IGFsbERyYWZ0Q2FyZHMgPSBkcmFmdHNCeUluZGV4LmZpbHRlcihCb29sZWFuKSBhcyBHZW5lcmF0ZWRDYXJkW107XG4gICAgICBcbiAgICAgIC8vIFJlc3RvcmUgYWxsIGRyYWZ0IGNhcmRzIGF0IG9uY2VcbiAgICAgIGlmIChhbGxEcmFmdENhcmRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgY29uc29sZS5sb2coYPCflIQgUmVzdG9yaW5nICR7YWxsRHJhZnRDYXJkcy5sZW5ndGh9IGRyYWZ0IGNhcmRzIGZyb20gJHtkcmFmdEpvYnMubGVuZ3RofSBqb2JzYCk7XG4gICAgICAgIC8vIE9ubHkgc2V0IGRyYWZ0IG1vZGUgd2hlbiB3ZSBoYXZlIGFjdHVhbCBjYXJkc1xuICAgICAgICBjb25zb2xlLmxvZygn8J+OryBTZXR0aW5nIGlzRHJhZnRNb2RlIHRvIHRydWUgLSBkcmFmdCBjYXJkcyBmb3VuZCcpO1xuICAgICAgICBkcmFmdEdlbmVyYXRpb24uc2V0SXNEcmFmdE1vZGUodHJ1ZSk7XG4gICAgICAgIFxuICAgICAgICAvLyBVc2UgdGhlIGRyYWZ0c0J5SW5kZXggd2hpY2ggYWxyZWFkeSBoYXMgZHJhZnRzIGF0IGNvcnJlY3QgcG9zaXRpb25zXG4gICAgICAgIGRyYWZ0R2VuZXJhdGlvbi5zZXREcmFmdENhcmRzKGRyYWZ0c0J5SW5kZXgpO1xuICAgICAgICBkcmFmdEdlbmVyYXRpb24uc2V0RHJhZnRDb21wbGV0aW9uQ291bnQoYWxsRHJhZnRDYXJkcy5sZW5ndGgpO1xuICAgICAgICBcbiAgICAgICAgLy8gU2V0IGFwcHJvcHJpYXRlIHByb2dyZXNzIHN0YXRlXG4gICAgICAgIGlmIChhbGxEcmFmdENhcmRzLmxlbmd0aCA9PT0gNSkge1xuICAgICAgICAgIGRyYWZ0R2VuZXJhdGlvbi5zZXREcmFmdENvbXBsZXRpb25TaG93bih0cnVlKTtcbiAgICAgICAgICBkcmFmdEdlbmVyYXRpb24uc2V0SXNHZW5lcmF0aW5nKGZhbHNlKTtcbiAgICAgICAgICBjYXJkR2VuZXJhdGlvbi5zZXRJc0dlbmVyYXRpbmcoZmFsc2UpO1xuICAgICAgICAgIGRyYWZ0R2VuZXJhdGlvbi5zZXRHZW5lcmF0aW9uUHJvZ3Jlc3MoXCJcIik7XG4gICAgICAgICAgY2FyZEdlbmVyYXRpb24uc2V0R2VuZXJhdGlvblByb2dyZXNzKFwiXCIpO1xuICAgICAgICAgIC8vIFRpbWUtYmFzZWQgcHJvZ3Jlc3Mgd2lsbCBiZSBjbGVhcmVkIGFib3ZlXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZHJhZnRHZW5lcmF0aW9uLnNldElzR2VuZXJhdGluZyh0cnVlKTtcbiAgICAgICAgICBjYXJkR2VuZXJhdGlvbi5zZXRJc0dlbmVyYXRpbmcodHJ1ZSk7XG4gICAgICAgICAgY29uc3QgcHJvZ3Jlc3NNc2cgPSBg4pyoICR7YWxsRHJhZnRDYXJkcy5sZW5ndGh9LzUgZnJvbnQgY292ZXIgdmFyaWF0aW9ucyBjb21wbGV0ZS4uLiAke2FsbERyYWZ0Q2FyZHMubGVuZ3RoID49IDIgPyBcIllvdSBjYW4gc2VsZWN0IG9uZSBub3cgdG8gcHJvY2VlZCFcIiA6IFwiXCJ9YDtcbiAgICAgICAgICBkcmFmdEdlbmVyYXRpb24uc2V0R2VuZXJhdGlvblByb2dyZXNzKHByb2dyZXNzTXNnKTtcbiAgICAgICAgICBjYXJkR2VuZXJhdGlvbi5zZXRHZW5lcmF0aW9uUHJvZ3Jlc3MocHJvZ3Jlc3NNc2cpO1xuICAgICAgICAgIC8vIERvbid0IG92ZXJyaWRlIHRpbWUtYmFzZWQgcHJvZ3Jlc3NcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBJZiBubyBkcmFmdCBjYXJkcyB3ZXJlIGZvdW5kIGJ1dCB3ZSBoYXZlIGRyYWZ0IGpvYnMsIHNldCBhcHByb3ByaWF0ZSBzdGF0ZVxuICAgICAgaWYgKGFsbERyYWZ0Q2FyZHMubGVuZ3RoID09PSAwICYmIGRyYWZ0Sm9icy5sZW5ndGggPiAwKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCfwn5SEIERyYWZ0IGpvYnMgZm91bmQgYnV0IG5vIGNhcmRzIHlldCAtIHNldHRpbmcgZ2VuZXJhdGlvbiBzdGF0ZScpO1xuICAgICAgICAvLyBTZXQgZHJhZnQgbW9kZSBhbmQgaW5pdGlhbGl6ZSBlbXB0eSBhcnJheSBmb3IgZHJhZnQgam9icyBpbiBwcm9ncmVzc1xuICAgICAgICBkcmFmdEdlbmVyYXRpb24uc2V0SXNEcmFmdE1vZGUodHJ1ZSk7XG4gICAgICAgIGRyYWZ0R2VuZXJhdGlvbi5zZXREcmFmdENhcmRzKFtudWxsLCBudWxsLCBudWxsLCBudWxsLCBudWxsXSk7XG4gICAgICAgIGRyYWZ0R2VuZXJhdGlvbi5zZXRJc0dlbmVyYXRpbmcodHJ1ZSk7XG4gICAgICAgIGNhcmRHZW5lcmF0aW9uLnNldElzR2VuZXJhdGluZyh0cnVlKTtcbiAgICAgICAgZHJhZnRHZW5lcmF0aW9uLnNldEdlbmVyYXRpb25Qcm9ncmVzcyhcIvCfjqggQ3JlYXRpbmcgNSBmcm9udCBjb3ZlciB2YXJpYXRpb25zIGZvciB5b3UgdG8gY2hvb3NlIGZyb20uLi5cIik7XG4gICAgICAgIGNhcmRHZW5lcmF0aW9uLnNldEdlbmVyYXRpb25Qcm9ncmVzcyhcIvCfjqggQ3JlYXRpbmcgNSBmcm9udCBjb3ZlciB2YXJpYXRpb25zIGZvciB5b3UgdG8gY2hvb3NlIGZyb20uLi5cIik7XG4gICAgICAgIC8vIERvbid0IHJlc2V0IHByb2dyZXNzIC0gbGV0IHRpbWUtYmFzZWQgcHJvZ3Jlc3MgY29udGludWVcbiAgICAgICAgLy8gam9iTWFuYWdlbWVudC5zZXRQcm9ncmVzc1BlcmNlbnRhZ2UoMCk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIFN1YnNjcmliZSB0byBhbGwgbm9uLXN0YWxlIGRyYWZ0IGpvYnNcbiAgICAgIGZvciAoY29uc3QgeyBqb2JJZCwgam9iIH0gb2YgZHJhZnRKb2JzKSB7XG4gICAgICAgIGNvbnN0IGpvYkFnZSA9IERhdGUubm93KCkgLSAoam9iLmNyZWF0ZWRBdCB8fCBEYXRlLm5vdygpKTtcbiAgICAgICAgY29uc3QgaXNTdGFsZSA9IGpvYkFnZSA+IDUgKiA2MCAqIDEwMDA7XG4gICAgICAgIFxuICAgICAgICBpZiAoIWlzU3RhbGUpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhg8J+ToSBTdWJzY3JpYmluZyB0byBkcmFmdCBqb2I6ICR7am9iSWR9IChoYXMgJHtqb2IuZHJhZnRDYXJkcz8ubGVuZ3RoIHx8IDB9IGNhcmRzKWApO1xuICAgICAgICAgIHdlYlNvY2tldC5zdWJzY3JpYmVUb0pvYihqb2JJZCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgLy8gUHJvY2VzcyByZW1haW5pbmcgam9icyAoZmluYWwgY2FyZCBnZW5lcmF0aW9uKVxuICAgIGZvciAoY29uc3QgeyBqb2JJZCwgam9iIH0gb2YgZmluYWxKb2JzKSB7XG4gICAgICBjb25zb2xlLmxvZyhg8J+TiyBQcm9jZXNzaW5nIGpvYiAke2pvYklkfTpgLCB7XG4gICAgICAgIGlzRHJhZnQ6IGpvYklkLnN0YXJ0c1dpdGgoJ2RyYWZ0LScpLFxuICAgICAgICBzdGF0dXM6IGpvYi5zdGF0dXMsXG4gICAgICAgIGhhc1Byb2dyZXNzOiAhIWpvYi5sYXN0UHJvZ3Jlc3MsXG4gICAgICAgIGNyZWF0ZWRBdDogam9iLmNyZWF0ZWRBdFxuICAgICAgfSk7XG4gICAgICAvLyBDaGVjayBpZiBqb2IgaXMgc3RhbGUgKG9sZGVyIHRoYW4gNSBtaW51dGVzIHdpdGhvdXQgY29tcGxldGlvbilcbiAgICAgIGNvbnN0IGpvYkFnZSA9IERhdGUubm93KCkgLSAoam9iLmNyZWF0ZWRBdCB8fCBEYXRlLm5vdygpKTtcbiAgICAgIGNvbnN0IGlzU3RhbGUgPSBqb2JBZ2UgPiA1ICogNjAgKiAxMDAwICYmIGpvYi5zdGF0dXMgIT09ICdjb21wbGV0ZWQnO1xuICAgICAgXG4gICAgICBpZiAoaXNTdGFsZSkge1xuICAgICAgICBjb25zb2xlLmxvZyhg8J+nuSBDbGVhbmluZyB1cCBzdGFsZSBqb2I6ICR7am9iSWR9IChhZ2U6ICR7TWF0aC5yb3VuZChqb2JBZ2UgLyAxMDAwKX1zKWApO1xuICAgICAgICBqb2JNYW5hZ2VtZW50LnJlbW92ZUpvYkZyb21TdG9yYWdlKGpvYklkKTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIFJlc3RvcmUgcHJvZ3Jlc3MgYW5kIHN0YXRlXG4gICAgICAvLyBEb24ndCByZXN0b3JlIHByb2dyZXNzIC0gbGV0IHRpbWUtYmFzZWQgcHJvZ3Jlc3MgaGFuZGxlIGl0XG4gICAgICAvLyBpZiAoam9iLmxhc3RQcm9ncmVzcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAvLyAgIGpvYk1hbmFnZW1lbnQuc2V0UHJvZ3Jlc3NQZXJjZW50YWdlKGpvYi5sYXN0UHJvZ3Jlc3MpO1xuICAgICAgLy8gICBjYXJkR2VuZXJhdGlvbi5zZXRQcm9ncmVzc1BlcmNlbnRhZ2Uoam9iLmxhc3RQcm9ncmVzcyk7XG4gICAgICAvLyAgIGRyYWZ0R2VuZXJhdGlvbi5zZXRQcm9ncmVzc1BlcmNlbnRhZ2Uoam9iLmxhc3RQcm9ncmVzcyk7XG4gICAgICAvLyB9XG4gICAgICBcbiAgICAgIGlmIChqb2IubGFzdFByb2dyZXNzVGV4dCkge1xuICAgICAgICBqb2JNYW5hZ2VtZW50LnNldEdlbmVyYXRpb25Qcm9ncmVzcyhqb2IubGFzdFByb2dyZXNzVGV4dCk7XG4gICAgICAgIGNhcmRHZW5lcmF0aW9uLnNldEdlbmVyYXRpb25Qcm9ncmVzcyhqb2IubGFzdFByb2dyZXNzVGV4dCk7XG4gICAgICAgIGRyYWZ0R2VuZXJhdGlvbi5zZXRHZW5lcmF0aW9uUHJvZ3Jlc3Moam9iLmxhc3RQcm9ncmVzc1RleHQpO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBSZXN0b3JlIGZpbmFsIGNhcmQgZ2VuZXJhdGlvbiBzdGF0ZVxuICAgICAgY2FyZEdlbmVyYXRpb24uc2V0SXNHZW5lcmF0aW5nKHRydWUpO1xuICAgICAgZHJhZnRHZW5lcmF0aW9uLnNldElzR2VuZXJhdGluZ0ZpbmFsQ2FyZCh0cnVlKTtcbiAgICAgIFxuICAgICAgLy8gSWYgd2UgaGF2ZSBhIHNlbGVjdGVkIGRyYWZ0LCByZXN0b3JlIGl0XG4gICAgICBpZiAoam9iLnNlbGVjdGVkRHJhZnRJbmRleCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGRyYWZ0R2VuZXJhdGlvbi5zZXRTZWxlY3RlZERyYWZ0SW5kZXgoam9iLnNlbGVjdGVkRHJhZnRJbmRleCk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIGpvYk1hbmFnZW1lbnQuc2V0Q3VycmVudEpvYklkKGpvYklkKTtcbiAgICAgIFxuICAgICAgLy8gQ2FsY3VsYXRlIGVsYXBzZWQgdGltZSBzaW5jZSBqb2Igc3RhcnRlZFxuICAgICAgY29uc3Qgam9iU3RhcnRUaW1lID0gam9iLmNyZWF0ZWRBdCB8fCBEYXRlLm5vdygpO1xuICAgICAgY29uc3QgZWxhcHNlZFNpbmNlU3RhcnQgPSAoRGF0ZS5ub3coKSAtIGpvYlN0YXJ0VGltZSkgLyAxMDAwO1xuICAgICAgXG4gICAgICAvLyBTdGFydCBlbGFwc2VkIHRpbWUgdHJhY2tpbmdcbiAgICAgIGpvYk1hbmFnZW1lbnQuc3RhcnRFbGFwc2VkVGltZVRyYWNraW5nKCk7XG4gICAgICBcbiAgICAgIC8vIFN1YnNjcmliZSB0byB0aGUgam9iIHVwZGF0ZXNcbiAgICAgIHdlYlNvY2tldC5zdWJzY3JpYmVUb0pvYihqb2JJZCk7XG4gICAgICBcbiAgICAgIC8vIFZlcmlmeSBqb2IgZXhpc3RzIG9uIGJhY2tlbmRcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7QkFDS0VORF9BUElfQkFTRV9VUkx9L2FwaS9qb2Itc3RhdHVzLyR7am9iSWR9YCk7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgXG4gICAgICAgIGNvbnNvbGUubG9nKGDwn5OhIEpvYiBzdGF0dXMgY2hlY2sgZm9yICR7am9iSWR9OmAsIHtcbiAgICAgICAgICBvazogcmVzcG9uc2Uub2ssXG4gICAgICAgICAgc3RhdHVzOiByZXNwb25zZS5zdGF0dXMsXG4gICAgICAgICAgcmVzdWx0U3RhdHVzOiByZXN1bHQuc3RhdHVzLFxuICAgICAgICAgIHVybDogYCR7QkFDS0VORF9BUElfQkFTRV9VUkx9L2FwaS9qb2Itc3RhdHVzLyR7am9iSWR9YFxuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIGlmIChyZXN1bHQuc3RhdHVzID09PSAnbm90X2ZvdW5kJykge1xuICAgICAgICAgIC8vIEpvYiBkb2Vzbid0IGV4aXN0IG9uIGJhY2tlbmQsIGNsZWFuIHVwIGFuZCBub3RpZnkgdXNlclxuICAgICAgICAgIGNvbnNvbGUubG9nKGDimqDvuI8gSm9iICR7am9iSWR9IG5vdCBmb3VuZCBvbiBiYWNrZW5kLCBjbGVhbmluZyB1cC4uLmApO1xuICAgICAgICAgIGpvYk1hbmFnZW1lbnQucmVtb3ZlSm9iRnJvbVN0b3JhZ2Uoam9iSWQpO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIFJlc2V0IGdlbmVyYXRpb24gc3RhdGVcbiAgICAgICAgICBpZiAoaXNEcmFmdEpvYikge1xuICAgICAgICAgICAgZHJhZnRHZW5lcmF0aW9uLnNldElzR2VuZXJhdGluZyhmYWxzZSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhcmRHZW5lcmF0aW9uLnNldElzR2VuZXJhdGluZyhmYWxzZSk7XG4gICAgICAgICAgICBkcmFmdEdlbmVyYXRpb24uc2V0SXNHZW5lcmF0aW5nRmluYWxDYXJkKGZhbHNlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gU2hvdyBoZWxwZnVsIG1lc3NhZ2UgdG8gdXNlclxuICAgICAgICAgIHRvYXN0LmVycm9yKFxuICAgICAgICAgICAgYFByZXZpb3VzICR7aXNEcmFmdEpvYiA/ICdkcmFmdCcgOiAnY2FyZCd9IGdlbmVyYXRpb24gZXhwaXJlZC4gUGxlYXNlIHN0YXJ0IGEgbmV3IG9uZS5gLFxuICAgICAgICAgICAgeyBkdXJhdGlvbjogNTAwMCB9XG4gICAgICAgICAgKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBKb2IgZXhpc3RzLCBzaG93IHJlc3VtaW5nIG1lc3NhZ2VcbiAgICAgICAgICB0b2FzdC5pbmZvKGBSZXN1bWluZyAke2lzRHJhZnRKb2IgPyAnZHJhZnQnIDogJ2NhcmQnfSBnZW5lcmF0aW9uLi4uYCk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byB2ZXJpZnkgam9iIHN0YXR1czonLCBlcnJvcik7XG4gICAgICAgIC8vIENvbnRpbnVlIGFueXdheSwgV2ViU29ja2V0IHdpbGwgaGFuZGxlIGl0XG4gICAgICAgIHRvYXN0LmluZm8oYEF0dGVtcHRpbmcgdG8gcmVzdW1lICR7aXNEcmFmdEpvYiA/ICdkcmFmdCcgOiAnY2FyZCd9IGdlbmVyYXRpb24uLi5gKTtcbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgLy8gUmVzdG9yYXRpb24gY29tcGxldGUgLSBhbGxvdyBXZWJTb2NrZXQgdXBkYXRlcyB0byBiZSBwcm9jZXNzZWRcbiAgICAvLyBBZGQgYSBzbWFsbCBkZWxheSB0byBlbnN1cmUgc3RhdGUgdXBkYXRlcyBoYXZlIHByb3BhZ2F0ZWRcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKCfinIUgSm9iIHJlc3RvcmF0aW9uIGNvbXBsZXRlLCBhbGxvd2luZyBXZWJTb2NrZXQgdXBkYXRlcycpO1xuICAgICAgc2V0SXNSZXN0b3JpbmdKb2JzKGZhbHNlKTtcbiAgICB9LCAxMDApO1xuICB9LCBbam9iTWFuYWdlbWVudCwgY2FyZEdlbmVyYXRpb24sIGRyYWZ0R2VuZXJhdGlvbiwgd2ViU29ja2V0XSk7XG5cbiAgLy8gTG9hZCBtb3N0IHJlY2VudCBkcmFmdCBiYXRjaCBhbmQgZmluYWwgY2FyZCBvbiBjb21wb25lbnQgbW91bnRcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zb2xlLmxvZygn8J+agCB1c2VDYXJkU3R1ZGlvIG1vdW50ZWQsIGxvYWRpbmcgcmVjZW50IGNhcmRzLi4uJyk7XG4gICAgXG4gICAgLy8gQ2hlY2sgZm9yIGNvbXBsZXRlZCBmaW5hbCBjYXJkIGZpcnN0XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHNhdmVkRmluYWxDYXJkID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2xhc3RDb21wbGV0ZWRDYXJkJyk7XG4gICAgICBpZiAoc2F2ZWRGaW5hbENhcmQpIHtcbiAgICAgICAgY29uc3QgZmluYWxDYXJkID0gSlNPTi5wYXJzZShzYXZlZEZpbmFsQ2FyZCk7XG4gICAgICAgIGNvbnNvbGUubG9nKCfwn5K+IEZvdW5kIHNhdmVkIGZpbmFsIGNhcmQ6JywgZmluYWxDYXJkKTtcbiAgICAgICAgXG4gICAgICAgIC8vIFJlc3RvcmUgZmluYWwgY2FyZCBzdGF0ZVxuICAgICAgICBjYXJkR2VuZXJhdGlvbi5zZXRHZW5lcmF0ZWRDYXJkKGZpbmFsQ2FyZCk7XG4gICAgICAgIGNhcmRHZW5lcmF0aW9uLnNldEdlbmVyYXRlZENhcmRzKFtmaW5hbENhcmRdKTtcbiAgICAgICAgY2FyZEdlbmVyYXRpb24uc2V0SXNDYXJkQ29tcGxldGVkKHRydWUpO1xuICAgICAgICBjYXJkR2VuZXJhdGlvbi5zZXRQcm9ncmVzc1BlcmNlbnRhZ2UoMTAwKTtcbiAgICAgICAgZHJhZnRHZW5lcmF0aW9uLnNldElzRHJhZnRNb2RlKGZhbHNlKTtcbiAgICAgICAgXG4gICAgICAgIC8vIENsZWFyIHRoZSBzYXZlZCBjYXJkIGFmdGVyIHJlc3RvcmluZ1xuICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgnbGFzdENvbXBsZXRlZENhcmQnKTtcbiAgICAgICAgY29uc29sZS5sb2coJ+KchSBSZXN0b3JlZCBmaW5hbCBjYXJkIGZyb20gbG9jYWxTdG9yYWdlJyk7XG4gICAgICAgIHJldHVybjsgLy8gRG9uJ3QgbG9hZCBkcmFmdHMgaWYgd2UgaGF2ZSBhIGZpbmFsIGNhcmRcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIHJlc3RvcmUgZmluYWwgY2FyZDonLCBlcnJvcik7XG4gICAgfVxuICAgIFxuICAgIC8vIElmIG5vIGZpbmFsIGNhcmQsIGNoZWNrIGZvciBkcmFmdHNcbiAgICAvLyBGaXJzdCwgY2xlYXIgYW55IGV4aXN0aW5nIGRyYWZ0IHN0YXRlIHRvIGF2b2lkIGR1cGxpY2F0ZXNcbiAgICBkcmFmdEdlbmVyYXRpb24uc2V0RHJhZnRDYXJkcyhbXSk7XG4gICAgZHJhZnRHZW5lcmF0aW9uLnNldERyYWZ0Q29tcGxldGlvbkNvdW50KDApO1xuICAgIFxuICAgIGNvbnN0IHJlY2VudERyYWZ0cyA9IGpvYk1hbmFnZW1lbnQubG9hZE1vc3RSZWNlbnREcmFmdEJhdGNoKCk7XG4gICAgY29uc29sZS5sb2coJ/Cfk4ogRHJhZnQgYmF0Y2ggcmVzdWx0OicsIHJlY2VudERyYWZ0cyk7XG4gICAgXG4gICAgaWYgKHJlY2VudERyYWZ0cyAmJiByZWNlbnREcmFmdHMuY2FyZHMubGVuZ3RoID4gMCkge1xuICAgICAgY29uc29sZS5sb2coYPCfk4sgRm91bmQgcmVjZW50IGRyYWZ0IGJhdGNoIHdpdGggJHtyZWNlbnREcmFmdHMuY291bnR9IGNhcmRzIGZyb20gJHtuZXcgRGF0ZShyZWNlbnREcmFmdHMuY3JlYXRlZEF0KS50b0xvY2FsZVN0cmluZygpfWApO1xuICAgICAgXG4gICAgICAvLyBTZXQgdGhlIGRyYWZ0IGNhcmRzIGFuZCBlbmFibGUgZHJhZnQgbW9kZVxuICAgICAgZHJhZnRHZW5lcmF0aW9uLnNldERyYWZ0Q2FyZHMocmVjZW50RHJhZnRzLmNhcmRzKTtcbiAgICAgIGRyYWZ0R2VuZXJhdGlvbi5zZXRJc0RyYWZ0TW9kZSh0cnVlKTtcbiAgICAgIGRyYWZ0R2VuZXJhdGlvbi5zZXREcmFmdENvbXBsZXRpb25Db3VudChyZWNlbnREcmFmdHMuY291bnQpO1xuICAgICAgXG4gICAgICAvLyBJZiB3ZSBoYXZlIGFsbCA1IGNhcmRzLCBtYXJrIGFzIGNvbXBsZXRlXG4gICAgICBpZiAocmVjZW50RHJhZnRzLmNvdW50ID09PSA1KSB7XG4gICAgICAgIGRyYWZ0R2VuZXJhdGlvbi5zZXREcmFmdENvbXBsZXRpb25TaG93bih0cnVlKTtcbiAgICAgICAgZHJhZnRHZW5lcmF0aW9uLnNldElzR2VuZXJhdGluZyhmYWxzZSk7XG4gICAgICAgIGNhcmRHZW5lcmF0aW9uLnNldElzR2VuZXJhdGluZyhmYWxzZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBTdGlsbCBnZW5lcmF0aW5nIC0gc2V0IGdlbmVyYXRpb24gc3RhdGUgYW5kIHN0YXJ0IHRpbWVyXG4gICAgICAgIGRyYWZ0R2VuZXJhdGlvbi5zZXRJc0dlbmVyYXRpbmcodHJ1ZSk7XG4gICAgICAgIGNhcmRHZW5lcmF0aW9uLnNldElzR2VuZXJhdGluZyh0cnVlKTtcbiAgICAgICAgXG4gICAgICAgIC8vIENhbGN1bGF0ZSBob3cgbG9uZyBnZW5lcmF0aW9uIGhhcyBiZWVuIHJ1bm5pbmdcbiAgICAgICAgY29uc3QgZWxhcHNlZFNlY29uZHMgPSBNYXRoLmZsb29yKChEYXRlLm5vdygpIC0gcmVjZW50RHJhZnRzLmNyZWF0ZWRBdCkgLyAxMDAwKTtcbiAgICAgICAgam9iTWFuYWdlbWVudC5zZXRDdXJyZW50RWxhcHNlZFRpbWUoZWxhcHNlZFNlY29uZHMpO1xuICAgICAgICBqb2JNYW5hZ2VtZW50LnN0YXJ0RWxhcHNlZFRpbWVUcmFja2luZygpO1xuICAgICAgICBcbiAgICAgICAgLy8gU2V0IHByb2dyZXNzXG4gICAgICAgIGNvbnN0IHByb2dyZXNzTXNnID0gYOKcqCAke3JlY2VudERyYWZ0cy5jb3VudH0vNSBmcm9udCBjb3ZlciB2YXJpYXRpb25zIGNvbXBsZXRlLi4uYDtcbiAgICAgICAgZHJhZnRHZW5lcmF0aW9uLnNldEdlbmVyYXRpb25Qcm9ncmVzcyhwcm9ncmVzc01zZyk7XG4gICAgICAgIGNhcmRHZW5lcmF0aW9uLnNldEdlbmVyYXRpb25Qcm9ncmVzcyhwcm9ncmVzc01zZyk7XG4gICAgICAgIC8vIERvbid0IG92ZXJyaWRlIHRpbWUtYmFzZWQgcHJvZ3Jlc3NcbiAgICAgICAgXG4gICAgICAgIC8vIENoZWNrIGZvciBwZW5kaW5nIGpvYnMgdG8gc3Vic2NyaWJlIHRvXG4gICAgICAgIGNvbnN0IHBlbmRpbmdKb2JzID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgncGVuZGluZ0NhcmRKb2JzJykgfHwgJ1tdJyk7XG4gICAgICAgIGNvbnN0IGFjdGl2ZURyYWZ0Sm9icyA9IHBlbmRpbmdKb2JzLmZpbHRlcigoaWQ6IHN0cmluZykgPT4gaWQuc3RhcnRzV2l0aCgnZHJhZnQtJykpO1xuICAgICAgICBcbiAgICAgICAgLy8gU3Vic2NyaWJlIHRvIGFjdGl2ZSBkcmFmdCBqb2JzIGZvciByZWFsLXRpbWUgdXBkYXRlc1xuICAgICAgICBhY3RpdmVEcmFmdEpvYnMuZm9yRWFjaCgoam9iSWQ6IHN0cmluZykgPT4ge1xuICAgICAgICAgIGNvbnNvbGUubG9nKGDwn5OhIFN1YnNjcmliaW5nIHRvIGFjdGl2ZSBkcmFmdCBqb2I6ICR7am9iSWR9YCk7XG4gICAgICAgICAgd2ViU29ja2V0LnN1YnNjcmliZVRvSm9iKGpvYklkKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIC8vIE1hcmsgcmVzdG9yYXRpb24gYXMgY29tcGxldGUgYWZ0ZXIgYSBzbWFsbCBkZWxheVxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgc2V0SXNSZXN0b3JpbmdKb2JzKGZhbHNlKTtcbiAgICB9LCAxMDApO1xuICB9LCBbXSk7XG5cbiAgLy8gUmV0dXJuIGFsbCB0aGUgc3RhdGUgYW5kIGZ1bmN0aW9ucyB0aGF0IHRoZSBVSSBuZWVkc1xuICByZXR1cm4ge1xuICAgIC8vIENvcmUgc3RhdGVcbiAgICBwcm9tcHQsXG4gICAgc2V0UHJvbXB0LFxuICAgIGZpbmFsQ2FyZE1lc3NhZ2U6IG1lc3NhZ2VHZW5lcmF0aW9uLmZpbmFsQ2FyZE1lc3NhZ2UsXG4gICAgc2V0RmluYWxDYXJkTWVzc2FnZTogbWVzc2FnZUdlbmVyYXRpb24uc2V0RmluYWxDYXJkTWVzc2FnZSxcbiAgICB0b0ZpZWxkLFxuICAgIHNldFRvRmllbGQsXG4gICAgZnJvbUZpZWxkLFxuICAgIHNldEZyb21GaWVsZCxcbiAgICByZWxhdGlvbnNoaXBGaWVsZCxcbiAgICBzZXRSZWxhdGlvbnNoaXBGaWVsZCxcbiAgICBzZWxlY3RlZFR5cGUsXG4gICAgc2V0U2VsZWN0ZWRUeXBlLFxuICAgIGN1c3RvbUNhcmRUeXBlLFxuICAgIHNldEN1c3RvbUNhcmRUeXBlLFxuICAgIHNlbGVjdGVkVG9uZSxcbiAgICBzZXRTZWxlY3RlZFRvbmUsXG4gICAgaXNHZW5lcmF0aW5nOiBjYXJkR2VuZXJhdGlvbi5pc0dlbmVyYXRpbmcgfHwgZHJhZnRHZW5lcmF0aW9uLmlzR2VuZXJhdGluZyxcbiAgICBzZXRJc0dlbmVyYXRpbmc6IGNhcmRHZW5lcmF0aW9uLnNldElzR2VuZXJhdGluZyxcbiAgICBpc0dlbmVyYXRpbmdNZXNzYWdlOiBtZXNzYWdlR2VuZXJhdGlvbi5pc0dlbmVyYXRpbmdNZXNzYWdlLFxuICAgIHNldElzR2VuZXJhdGluZ01lc3NhZ2U6IG1lc3NhZ2VHZW5lcmF0aW9uLnNldElzR2VuZXJhdGluZ01lc3NhZ2UsXG4gICAgZ2VuZXJhdGVkQ2FyZDogY2FyZEdlbmVyYXRpb24uZ2VuZXJhdGVkQ2FyZCxcbiAgICBzZXRHZW5lcmF0ZWRDYXJkOiBjYXJkR2VuZXJhdGlvbi5zZXRHZW5lcmF0ZWRDYXJkLFxuICAgIG51bWJlck9mQ2FyZHMsXG4gICAgc2V0TnVtYmVyT2ZDYXJkcyxcbiAgICBnZW5lcmF0ZWRDYXJkczogY2FyZEdlbmVyYXRpb24uZ2VuZXJhdGVkQ2FyZHMsXG4gICAgc2V0R2VuZXJhdGVkQ2FyZHM6IGNhcmRHZW5lcmF0aW9uLnNldEdlbmVyYXRlZENhcmRzLFxuICAgIHNlbGVjdGVkQ2FyZEluZGV4OiBjYXJkR2VuZXJhdGlvbi5zZWxlY3RlZENhcmRJbmRleCxcbiAgICBzZXRTZWxlY3RlZENhcmRJbmRleDogY2FyZEdlbmVyYXRpb24uc2V0U2VsZWN0ZWRDYXJkSW5kZXgsXG4gICAgXG4gICAgLy8gQWR2YW5jZWQgb3B0aW9uc1xuICAgIHNob3dBZHZhbmNlZCxcbiAgICBzZXRTaG93QWR2YW5jZWQsXG4gICAgc2VsZWN0ZWRBcnRpc3RpY1N0eWxlLFxuICAgIHNldFNlbGVjdGVkQXJ0aXN0aWNTdHlsZSxcbiAgICBjdXN0b21TdHlsZURlc2NyaXB0aW9uLFxuICAgIHNldEN1c3RvbVN0eWxlRGVzY3JpcHRpb24sXG4gICAgc2VsZWN0ZWRJbWFnZU1vZGVsLFxuICAgIHNldFNlbGVjdGVkSW1hZ2VNb2RlbCxcbiAgICBzZWxlY3RlZERyYWZ0TW9kZWwsXG4gICAgc2V0U2VsZWN0ZWREcmFmdE1vZGVsLFxuICAgIFxuICAgIC8vIERyYWZ0IG1vZGVcbiAgICBpc0RyYWZ0TW9kZTogZHJhZnRHZW5lcmF0aW9uLmlzRHJhZnRNb2RlLFxuICAgIHNldElzRHJhZnRNb2RlOiBkcmFmdEdlbmVyYXRpb24uc2V0SXNEcmFmdE1vZGUsXG4gICAgZHJhZnRDYXJkczogZHJhZnRHZW5lcmF0aW9uLmRyYWZ0Q2FyZHMsXG4gICAgc2V0RHJhZnRDYXJkczogZHJhZnRHZW5lcmF0aW9uLnNldERyYWZ0Q2FyZHMsXG4gICAgc2VsZWN0ZWREcmFmdEluZGV4OiBkcmFmdEdlbmVyYXRpb24uc2VsZWN0ZWREcmFmdEluZGV4LFxuICAgIHNldFNlbGVjdGVkRHJhZnRJbmRleDogZHJhZnRHZW5lcmF0aW9uLnNldFNlbGVjdGVkRHJhZnRJbmRleCxcbiAgICBpc0dlbmVyYXRpbmdGaW5hbENhcmQ6IGRyYWZ0R2VuZXJhdGlvbi5pc0dlbmVyYXRpbmdGaW5hbENhcmQsXG4gICAgc2V0SXNHZW5lcmF0aW5nRmluYWxDYXJkOiBkcmFmdEdlbmVyYXRpb24uc2V0SXNHZW5lcmF0aW5nRmluYWxDYXJkLFxuICAgIHByZXZpZXdpbmdEcmFmdEluZGV4OiBkcmFmdEdlbmVyYXRpb24ucHJldmlld2luZ0RyYWZ0SW5kZXgsXG4gICAgc2V0UHJldmlld2luZ0RyYWZ0SW5kZXg6IGRyYWZ0R2VuZXJhdGlvbi5zZXRQcmV2aWV3aW5nRHJhZnRJbmRleCxcbiAgICBkcmFmdENvbXBsZXRpb25TaG93bjogZHJhZnRHZW5lcmF0aW9uLmRyYWZ0Q29tcGxldGlvblNob3duLFxuICAgIHNldERyYWZ0Q29tcGxldGlvblNob3duOiBkcmFmdEdlbmVyYXRpb24uc2V0RHJhZnRDb21wbGV0aW9uU2hvd24sXG4gICAgZHJhZnRDb21wbGV0aW9uQ291bnQ6IGRyYWZ0R2VuZXJhdGlvbi5kcmFmdENvbXBsZXRpb25Db3VudCxcbiAgICBzZXREcmFmdENvbXBsZXRpb25Db3VudDogZHJhZnRHZW5lcmF0aW9uLnNldERyYWZ0Q29tcGxldGlvbkNvdW50LFxuICAgIFxuICAgIC8vIFByb2dyZXNzIHRyYWNraW5nXG4gICAgZ2VuZXJhdGlvblByb2dyZXNzOiBkcmFmdEdlbmVyYXRpb24uaXNHZW5lcmF0aW5nID8gZHJhZnRHZW5lcmF0aW9uLmdlbmVyYXRpb25Qcm9ncmVzcyA6IGNhcmRHZW5lcmF0aW9uLmdlbmVyYXRpb25Qcm9ncmVzcyxcbiAgICBzZXRHZW5lcmF0aW9uUHJvZ3Jlc3M6IGNhcmRHZW5lcmF0aW9uLnNldEdlbmVyYXRpb25Qcm9ncmVzcyxcbiAgICBwcm9ncmVzc1BlcmNlbnRhZ2U6IGpvYk1hbmFnZW1lbnQucHJvZ3Jlc3NQZXJjZW50YWdlLCAvLyBTaW5nbGUgc291cmNlIG9mIHRydXRoIGJhc2VkIG9uIGVsYXBzZWQgdGltZVxuICAgIGlzQ2FyZENvbXBsZXRlZDogY2FyZEdlbmVyYXRpb24uaXNDYXJkQ29tcGxldGVkLFxuICAgIHNldElzQ2FyZENvbXBsZXRlZDogY2FyZEdlbmVyYXRpb24uc2V0SXNDYXJkQ29tcGxldGVkLFxuICAgIFxuICAgIC8vIFVwbG9hZCBhbmQgcGVyc29uYWxpemF0aW9uXG4gICAgcmVmZXJlbmNlSW1hZ2VzOiBmaWxlSGFuZGxpbmcucmVmZXJlbmNlSW1hZ2VzLFxuICAgIHNldFJlZmVyZW5jZUltYWdlczogZmlsZUhhbmRsaW5nLnNldFJlZmVyZW5jZUltYWdlcyxcbiAgICByZWZlcmVuY2VJbWFnZVVybHM6IGZpbGVIYW5kbGluZy5yZWZlcmVuY2VJbWFnZVVybHMsXG4gICAgc2V0UmVmZXJlbmNlSW1hZ2VVcmxzOiBmaWxlSGFuZGxpbmcuc2V0UmVmZXJlbmNlSW1hZ2VVcmxzLFxuICAgIGltYWdlVHJhbnNmb3JtYXRpb246IGZpbGVIYW5kbGluZy5pbWFnZVRyYW5zZm9ybWF0aW9uLFxuICAgIHNldEltYWdlVHJhbnNmb3JtYXRpb246IGZpbGVIYW5kbGluZy5zZXRJbWFnZVRyYW5zZm9ybWF0aW9uLFxuICAgIGlzVXBsb2FkaW5nOiBmaWxlSGFuZGxpbmcuaXNVcGxvYWRpbmcsXG4gICAgc2V0SXNVcGxvYWRpbmc6IGZpbGVIYW5kbGluZy5zZXRJc1VwbG9hZGluZyxcbiAgICBcbiAgICAvLyBFbWFpbCBhbmQgc2V0dGluZ3NcbiAgICB1c2VyRW1haWwsXG4gICAgc2V0VXNlckVtYWlsLFxuICAgIGlzSGFuZHdyaXR0ZW5NZXNzYWdlLFxuICAgIHNldElzSGFuZHdyaXR0ZW5NZXNzYWdlLFxuICAgIGlzRnJvbnRCYWNrT25seSxcbiAgICBzZXRJc0Zyb250QmFja09ubHksXG4gICAgc2VsZWN0ZWRQYXBlclNpemUsXG4gICAgc2V0U2VsZWN0ZWRQYXBlclNpemUsXG4gICAgXG4gICAgLy8gVUkgc3RhdGVcbiAgICBpc1RleHRhcmVhRXhwYW5kZWQsXG4gICAgc2V0SXNUZXh0YXJlYUV4cGFuZGVkLFxuICAgIGlzTWVzc2FnZUV4cGFuZGVkLFxuICAgIHNldElzTWVzc2FnZUV4cGFuZGVkLFxuICAgIHNob3dTZXR0aW5ncyxcbiAgICBzZXRTaG93U2V0dGluZ3MsXG4gICAgc2hvd1RlbXBsYXRlR2FsbGVyeSxcbiAgICBzZXRTaG93VGVtcGxhdGVHYWxsZXJ5LFxuICAgIHNob3dQcmludENvbmZpcm1hdGlvbixcbiAgICBzZXRTaG93UHJpbnRDb25maXJtYXRpb24sXG4gICAgXG4gICAgLy8gR2VuZXJhdGlvbiB0aW1lXG4gICAgZ2VuZXJhdGlvbkR1cmF0aW9uOiBjYXJkR2VuZXJhdGlvbi5nZW5lcmF0aW9uRHVyYXRpb24sXG4gICAgc2V0R2VuZXJhdGlvbkR1cmF0aW9uOiBjYXJkR2VuZXJhdGlvbi5zZXRHZW5lcmF0aW9uRHVyYXRpb24sXG4gICAgY3VycmVudEVsYXBzZWRUaW1lOiBqb2JNYW5hZ2VtZW50LmN1cnJlbnRFbGFwc2VkVGltZSxcbiAgICBzZXRDdXJyZW50RWxhcHNlZFRpbWU6IGpvYk1hbmFnZW1lbnQuc2V0Q3VycmVudEVsYXBzZWRUaW1lLFxuICAgIFxuICAgIC8vIEhlbHBlciBmdW5jdGlvbnNcbiAgICBmb3JtYXRHZW5lcmF0aW9uVGltZSxcbiAgICBmb3JtYXRDb3VudGRvd24sXG4gICAgc2VuZFRoYW5rWW91RW1haWwsXG4gICAgY2hhdFdpdGhBSSxcbiAgICBzY3JvbGxUb0NhcmRQcmV2aWV3LFxuICAgIFxuICAgIC8vIFRpbWUgdHJhY2tpbmcgZnVuY3Rpb25zXG4gICAgc3RhcnRFbGFwc2VkVGltZVRyYWNraW5nOiBqb2JNYW5hZ2VtZW50LnN0YXJ0RWxhcHNlZFRpbWVUcmFja2luZyxcbiAgICBzdG9wRWxhcHNlZFRpbWVUcmFja2luZzogam9iTWFuYWdlbWVudC5zdG9wRWxhcHNlZFRpbWVUcmFja2luZyxcbiAgICBcbiAgICAvLyBGaWxlIGhhbmRsaW5nIGZ1bmN0aW9uc1xuICAgIGhhbmRsZUZpbGVVcGxvYWQ6IGZpbGVIYW5kbGluZy5oYW5kbGVGaWxlVXBsb2FkLFxuICAgIGhhbmRsZVJlbW92ZVJlZmVyZW5jZUltYWdlOiBmaWxlSGFuZGxpbmcuaGFuZGxlUmVtb3ZlUmVmZXJlbmNlSW1hZ2UsXG4gICAgXG4gICAgLy8gUGhvdG8gYW5hbHlzaXNcbiAgICBwaG90b0FuYWx5c2VzOiBmaWxlSGFuZGxpbmcucGhvdG9BbmFseXNlcyxcbiAgICBzZXRQaG90b0FuYWx5c2VzOiBmaWxlSGFuZGxpbmcuc2V0UGhvdG9BbmFseXNlcyxcbiAgICBpc0FuYWx5emluZzogZmlsZUhhbmRsaW5nLmlzQW5hbHl6aW5nLFxuICAgIHNob3dBbmFseXNpc01vZGFsOiBmaWxlSGFuZGxpbmcuc2hvd0FuYWx5c2lzTW9kYWwsXG4gICAgc2V0U2hvd0FuYWx5c2lzTW9kYWw6IGZpbGVIYW5kbGluZy5zZXRTaG93QW5hbHlzaXNNb2RhbCxcbiAgICBwZW5kaW5nQW5hbHlzaXNJbmRleDogZmlsZUhhbmRsaW5nLnBlbmRpbmdBbmFseXNpc0luZGV4LFxuICAgIHNldFBlbmRpbmdBbmFseXNpc0luZGV4OiBmaWxlSGFuZGxpbmcuc2V0UGVuZGluZ0FuYWx5c2lzSW5kZXgsXG4gICAgYW5hbHl6ZVBob3RvOiBmaWxlSGFuZGxpbmcuYW5hbHl6ZVBob3RvLFxuICAgIHNhdmVQaG90b0FuYWx5c2lzOiBmaWxlSGFuZGxpbmcuc2F2ZVBob3RvQW5hbHlzaXMsXG4gICAgc2tpcFBob3RvQW5hbHlzaXM6IGZpbGVIYW5kbGluZy5za2lwUGhvdG9BbmFseXNpcyxcbiAgICBnZXRDb21iaW5lZFBob3RvQW5hbHlzaXM6IGZpbGVIYW5kbGluZy5nZXRDb21iaW5lZFBob3RvQW5hbHlzaXMsXG4gICAgXG4gICAgLy8gTWVzc2FnZSBmdW5jdGlvbnNcbiAgICBoYW5kbGVHZXRNZXNzYWdlSGVscDogbWVzc2FnZUdlbmVyYXRpb24uaGFuZGxlR2V0TWVzc2FnZUhlbHAsXG4gICAgYWRkTWVzc2FnZVRvSGlzdG9yeTogbWVzc2FnZUdlbmVyYXRpb24uYWRkTWVzc2FnZVRvSGlzdG9yeSxcbiAgICB1bmRvTWVzc2FnZTogbWVzc2FnZUdlbmVyYXRpb24udW5kb01lc3NhZ2UsXG4gICAgcmVkb01lc3NhZ2U6IG1lc3NhZ2VHZW5lcmF0aW9uLnJlZG9NZXNzYWdlLFxuICAgIFxuICAgIC8vIEpvYiBtYW5hZ2VtZW50XG4gICAgc2F2ZUpvYlRvU3RvcmFnZTogam9iTWFuYWdlbWVudC5zYXZlSm9iVG9TdG9yYWdlLFxuICAgIHJlbW92ZUpvYkZyb21TdG9yYWdlOiBqb2JNYW5hZ2VtZW50LnJlbW92ZUpvYkZyb21TdG9yYWdlLFxuICAgIGNoZWNrUGVuZGluZ0pvYnMsXG4gICAgXG4gICAgLy8gTWFpbiBnZW5lcmF0aW9uIGZ1bmN0aW9uc1xuICAgIGhhbmRsZUdlbmVyYXRlQ2FyZEFzeW5jOiBjYXJkR2VuZXJhdGlvbi5oYW5kbGVHZW5lcmF0ZUNhcmRBc3luYyxcbiAgICBoYW5kbGVHZW5lcmF0ZURyYWZ0Q2FyZHM6IGRyYWZ0R2VuZXJhdGlvbi5oYW5kbGVHZW5lcmF0ZURyYWZ0Q2FyZHMsXG4gICAgaGFuZGxlR2VuZXJhdGVGaW5hbEZyb21EcmFmdDogZHJhZnRHZW5lcmF0aW9uLmhhbmRsZUdlbmVyYXRlRmluYWxGcm9tRHJhZnQsXG4gICAgXG4gICAgLy8gQWRkaXRpb25hbCBzdGF0ZSBmb3IgbWVzc2FnZSByZWZpbmVtZW50XG4gICAgbWVzc2FnZUhpc3Rvcnk6IG1lc3NhZ2VHZW5lcmF0aW9uLm1lc3NhZ2VIaXN0b3J5LFxuICAgIHNldE1lc3NhZ2VIaXN0b3J5OiBtZXNzYWdlR2VuZXJhdGlvbi5zZXRNZXNzYWdlSGlzdG9yeSxcbiAgICBjdXJyZW50TWVzc2FnZUluZGV4OiBtZXNzYWdlR2VuZXJhdGlvbi5jdXJyZW50TWVzc2FnZUluZGV4LFxuICAgIHNldEN1cnJlbnRNZXNzYWdlSW5kZXg6IG1lc3NhZ2VHZW5lcmF0aW9uLnNldEN1cnJlbnRNZXNzYWdlSW5kZXgsXG4gICAgcmVmaW5lbWVudFByb21wdDogbWVzc2FnZUdlbmVyYXRpb24ucmVmaW5lbWVudFByb21wdCxcbiAgICBzZXRSZWZpbmVtZW50UHJvbXB0OiBtZXNzYWdlR2VuZXJhdGlvbi5zZXRSZWZpbmVtZW50UHJvbXB0LFxuICAgIGlzUmVmaW5pbmdNZXNzYWdlOiBtZXNzYWdlR2VuZXJhdGlvbi5pc1JlZmluaW5nTWVzc2FnZSxcbiAgICBzZXRJc1JlZmluaW5nTWVzc2FnZTogbWVzc2FnZUdlbmVyYXRpb24uc2V0SXNSZWZpbmluZ01lc3NhZ2UsXG4gICAgc2hvd1JlZmluZW1lbnRCb3g6IG1lc3NhZ2VHZW5lcmF0aW9uLnNob3dSZWZpbmVtZW50Qm94LFxuICAgIHNldFNob3dSZWZpbmVtZW50Qm94OiBtZXNzYWdlR2VuZXJhdGlvbi5zZXRTaG93UmVmaW5lbWVudEJveCxcbiAgICBcbiAgICAvLyBUZW1wbGF0ZSBzdGF0ZVxuICAgIHNob3dUZW1wbGF0ZUN1c3RvbWl6YXRpb24sXG4gICAgc2V0U2hvd1RlbXBsYXRlQ3VzdG9taXphdGlvbixcbiAgICBzZWxlY3RlZFRlbXBsYXRlLFxuICAgIHNldFNlbGVjdGVkVGVtcGxhdGUsXG4gICAgdGVtcGxhdGVDdXN0b21pemF0aW9ucyxcbiAgICBzZXRUZW1wbGF0ZUN1c3RvbWl6YXRpb25zLFxuICAgIHRlbXBsYXRlU2VhcmNoUXVlcnksXG4gICAgc2V0VGVtcGxhdGVTZWFyY2hRdWVyeSxcbiAgICBpc1NlYXJjaGluZ1RlbXBsYXRlcyxcbiAgICBzZXRJc1NlYXJjaGluZ1RlbXBsYXRlcyxcbiAgICBhaUZpbHRlcmVkQ2FyZHMsXG4gICAgc2V0QWlGaWx0ZXJlZENhcmRzLFxuICAgIHNlYXJjaE1vZGUsXG4gICAgc2V0U2VhcmNoTW9kZSxcbiAgICB0ZXh0RmlsdGVyZWRDYXJkcyxcbiAgICBzZXRUZXh0RmlsdGVyZWRDYXJkcyxcbiAgICBzaG93UHJvbXB0cyxcbiAgICBzZXRTaG93UHJvbXB0cyxcbiAgICBcbiAgICAvLyBQcmludCBzdGF0ZVxuICAgIHByaW50T3B0aW9uLFxuICAgIHNldFByaW50T3B0aW9uLFxuICAgIFxuICAgIC8vIEFkZGl0aW9uYWwgZHJhZnQgbW9kZSBzdGF0ZVxuICAgIGhhbmR3cml0aW5nU2FtcGxlOiBmaWxlSGFuZGxpbmcuaGFuZHdyaXRpbmdTYW1wbGUsXG4gICAgc2V0SGFuZHdyaXRpbmdTYW1wbGU6IGZpbGVIYW5kbGluZy5zZXRIYW5kd3JpdGluZ1NhbXBsZSxcbiAgICBoYW5kd3JpdGluZ1NhbXBsZVVybDogZmlsZUhhbmRsaW5nLmhhbmR3cml0aW5nU2FtcGxlVXJsLFxuICAgIHNldEhhbmR3cml0aW5nU2FtcGxlVXJsOiBmaWxlSGFuZGxpbmcuc2V0SGFuZHdyaXRpbmdTYW1wbGVVcmwsXG4gICAgXG4gICAgLy8gSm9iIHRyYWNraW5nXG4gICAgY3VycmVudEpvYklkOiBqb2JNYW5hZ2VtZW50LmN1cnJlbnRKb2JJZCxcbiAgICBzZXRDdXJyZW50Sm9iSWQ6IGpvYk1hbmFnZW1lbnQuc2V0Q3VycmVudEpvYklkLFxuICAgIGNvdW50ZG93bixcbiAgICBzZXRDb3VudGRvd24sXG4gICAgY291bnRkb3duSW50ZXJ2YWwsXG4gICAgc2V0Q291bnRkb3duSW50ZXJ2YWwsXG4gICAgXG4gICAgLy8gU2VjdGlvbiBsb2FkaW5nIHN0YXRlc1xuICAgIHNlY3Rpb25Mb2FkaW5nU3RhdGVzLFxuICAgIHNldFNlY3Rpb25Mb2FkaW5nU3RhdGVzLFxuICAgIFxuICAgIC8vIEZhc3QgcHJldmlldyBtb2RlXG4gICAgZmFzdFByZXZpZXdNb2RlLFxuICAgIHNldEZhc3RQcmV2aWV3TW9kZSxcbiAgICBcbiAgICAvLyBBZGRpdGlvbmFsIHRyYWNraW5nXG4gICAgY3VycmVudENhcmRJZDogY2FyZEdlbmVyYXRpb24uY3VycmVudENhcmRJZCxcbiAgICBzZXRDdXJyZW50Q2FyZElkOiBjYXJkR2VuZXJhdGlvbi5zZXRDdXJyZW50Q2FyZElkLFxuICAgIGlzSW5pdGlhbExvYWRDb21wbGV0ZSxcbiAgICBzZXRJc0luaXRpYWxMb2FkQ29tcGxldGUsXG4gICAgXG4gICAgLy8gRWxhcHNlZCB0aW1lIHRyYWNraW5nXG4gICAgZ2VuZXJhdGlvblN0YXJ0VGltZTogam9iTWFuYWdlbWVudC5nZW5lcmF0aW9uU3RhcnRUaW1lLFxuICAgIHNldEdlbmVyYXRpb25TdGFydFRpbWU6IGpvYk1hbmFnZW1lbnQuc2V0R2VuZXJhdGlvblN0YXJ0VGltZSxcbiAgICBlbGFwc2VkVGltZUludGVydmFsOiBqb2JNYW5hZ2VtZW50LmVsYXBzZWRUaW1lSW50ZXJ2YWwsXG4gICAgc2V0RWxhcHNlZFRpbWVJbnRlcnZhbDogam9iTWFuYWdlbWVudC5zZXRFbGFwc2VkVGltZUludGVydmFsLFxuICAgIFxuICAgIC8vIENvbnN0YW50cyBmb3IgVUlcbiAgICBjYXJkVG9uZXMsXG4gICAgYXJ0aXN0aWNTdHlsZXMsXG4gICAgcGFwZXJTaXplcyxcbiAgICBcbiAgICAvLyBXZWJTb2NrZXQgZnVuY3Rpb25zIGFuZCBzdGF0ZVxuICAgIGlzU29ja2V0Q29ubmVjdGVkOiB3ZWJTb2NrZXQuaXNTb2NrZXRDb25uZWN0ZWQsXG4gICAgY29ubmVjdFdlYlNvY2tldDogd2ViU29ja2V0LmNvbm5lY3RXZWJTb2NrZXQsXG4gICAgZGlzY29ubmVjdFdlYlNvY2tldDogd2ViU29ja2V0LmRpc2Nvbm5lY3RXZWJTb2NrZXQsXG4gICAgc3Vic2NyaWJlVG9Kb2I6IHdlYlNvY2tldC5zdWJzY3JpYmVUb0pvYixcbiAgICB1bnN1YnNjcmliZUZyb21Kb2I6IHdlYlNvY2tldC51bnN1YnNjcmliZUZyb21Kb2IsXG4gICAgaGFuZGxlSm9iVXBkYXRlLFxuICAgIGhhbmRsZUZpbmFsQ2FyZENvbXBsZXRpb246IGNhcmRHZW5lcmF0aW9uLmhhbmRsZUZpbmFsQ2FyZENvbXBsZXRpb24sXG4gIH07XG59Il0sIm5hbWVzIjpbInVzZVN0YXRlIiwidXNlRWZmZWN0IiwidXNlQ2FsbGJhY2siLCJ1c2VSZWYiLCJ0b2FzdCIsInVzZVdlYlNvY2tldCIsInVzZUpvYk1hbmFnZW1lbnQiLCJ1c2VNZXNzYWdlR2VuZXJhdGlvbiIsInVzZUZpbGVIYW5kbGluZyIsInVzZURyYWZ0R2VuZXJhdGlvbiIsInVzZUNhcmRHZW5lcmF0aW9uIiwiY2FyZFRvbmVzIiwiYXJ0aXN0aWNTdHlsZXMiLCJwYXBlclNpemVzIiwiZm9ybWF0R2VuZXJhdGlvblRpbWUiLCJmb3JtYXRDb3VudGRvd24iLCJzZW5kVGhhbmtZb3VFbWFpbCIsImNoYXRXaXRoQUkiLCJzY3JvbGxUb0NhcmRQcmV2aWV3IiwidXNlQ2FyZFN0dWRpbyIsInByb21wdCIsInNldFByb21wdCIsInRvRmllbGQiLCJzZXRUb0ZpZWxkIiwiZnJvbUZpZWxkIiwic2V0RnJvbUZpZWxkIiwicmVsYXRpb25zaGlwRmllbGQiLCJzZXRSZWxhdGlvbnNoaXBGaWVsZCIsInNlbGVjdGVkVHlwZSIsInNldFNlbGVjdGVkVHlwZSIsImN1c3RvbUNhcmRUeXBlIiwic2V0Q3VzdG9tQ2FyZFR5cGUiLCJzZWxlY3RlZFRvbmUiLCJzZXRTZWxlY3RlZFRvbmUiLCJzaG93QWR2YW5jZWQiLCJzZXRTaG93QWR2YW5jZWQiLCJzZWxlY3RlZEFydGlzdGljU3R5bGUiLCJzZXRTZWxlY3RlZEFydGlzdGljU3R5bGUiLCJjdXN0b21TdHlsZURlc2NyaXB0aW9uIiwic2V0Q3VzdG9tU3R5bGVEZXNjcmlwdGlvbiIsInNlbGVjdGVkSW1hZ2VNb2RlbCIsInNldFNlbGVjdGVkSW1hZ2VNb2RlbCIsInNlbGVjdGVkRHJhZnRNb2RlbCIsInNldFNlbGVjdGVkRHJhZnRNb2RlbCIsImZhc3RQcmV2aWV3TW9kZSIsInNldEZhc3RQcmV2aWV3TW9kZSIsInVzZXJFbWFpbCIsInNldFVzZXJFbWFpbCIsIm51bWJlck9mQ2FyZHMiLCJzZXROdW1iZXJPZkNhcmRzIiwiaXNIYW5kd3JpdHRlbk1lc3NhZ2UiLCJzZXRJc0hhbmR3cml0dGVuTWVzc2FnZSIsImlzRnJvbnRCYWNrT25seSIsInNldElzRnJvbnRCYWNrT25seSIsInNlbGVjdGVkUGFwZXJTaXplIiwic2V0U2VsZWN0ZWRQYXBlclNpemUiLCJpc1RleHRhcmVhRXhwYW5kZWQiLCJzZXRJc1RleHRhcmVhRXhwYW5kZWQiLCJpc01lc3NhZ2VFeHBhbmRlZCIsInNldElzTWVzc2FnZUV4cGFuZGVkIiwic2hvd1NldHRpbmdzIiwic2V0U2hvd1NldHRpbmdzIiwic2hvd1RlbXBsYXRlR2FsbGVyeSIsInNldFNob3dUZW1wbGF0ZUdhbGxlcnkiLCJzaG93UHJpbnRDb25maXJtYXRpb24iLCJzZXRTaG93UHJpbnRDb25maXJtYXRpb24iLCJzaG93VGVtcGxhdGVDdXN0b21pemF0aW9uIiwic2V0U2hvd1RlbXBsYXRlQ3VzdG9taXphdGlvbiIsImlzUmVzdG9yaW5nSm9icyIsInNldElzUmVzdG9yaW5nSm9icyIsInNlbGVjdGVkVGVtcGxhdGUiLCJzZXRTZWxlY3RlZFRlbXBsYXRlIiwiaXNJbml0aWFsTG9hZENvbXBsZXRlIiwic2V0SXNJbml0aWFsTG9hZENvbXBsZXRlIiwidGVtcGxhdGVTZWFyY2hRdWVyeSIsInNldFRlbXBsYXRlU2VhcmNoUXVlcnkiLCJpc1NlYXJjaGluZ1RlbXBsYXRlcyIsInNldElzU2VhcmNoaW5nVGVtcGxhdGVzIiwiYWlGaWx0ZXJlZENhcmRzIiwic2V0QWlGaWx0ZXJlZENhcmRzIiwic2VhcmNoTW9kZSIsInNldFNlYXJjaE1vZGUiLCJ0ZXh0RmlsdGVyZWRDYXJkcyIsInNldFRleHRGaWx0ZXJlZENhcmRzIiwic2hvd1Byb21wdHMiLCJzZXRTaG93UHJvbXB0cyIsInByaW50T3B0aW9uIiwic2V0UHJpbnRPcHRpb24iLCJ0ZW1wbGF0ZUN1c3RvbWl6YXRpb25zIiwic2V0VGVtcGxhdGVDdXN0b21pemF0aW9ucyIsInByb21wdENoYW5nZXMiLCJtZXNzYWdlQ2hhbmdlcyIsInVzZVJlZmVyZW5jZUltYWdlIiwicmVmZXJlbmNlSW1hZ2VGaWxlIiwicmVmZXJlbmNlSW1hZ2VVcmxzIiwicmVmZXJlbmNlSW1hZ2VUcmFuc2Zvcm1hdGlvbiIsInNlY3Rpb25Mb2FkaW5nU3RhdGVzIiwic2V0U2VjdGlvbkxvYWRpbmdTdGF0ZXMiLCJmcm9udENvdmVyIiwiYmFja0NvdmVyIiwibGVmdEludGVyaW9yIiwicmlnaHRJbnRlcmlvciIsImNvdW50ZG93biIsInNldENvdW50ZG93biIsImNvdW50ZG93bkludGVydmFsIiwic2V0Q291bnRkb3duSW50ZXJ2YWwiLCJ3ZWJTb2NrZXQiLCJqb2JNYW5hZ2VtZW50IiwiZmlsZUhhbmRsaW5nIiwibWVzc2FnZUdlbmVyYXRpb24iLCJwaG90b0FuYWx5c2VzIiwiZHJhZnRHZW5lcmF0aW9uUHJvcHMiLCJmaW5hbENhcmRNZXNzYWdlIiwic2F2ZUpvYlRvU3RvcmFnZSIsInN1YnNjcmliZVRvSm9iIiwidW5zdWJzY3JpYmVGcm9tQWxsSm9icyIsInN0YXJ0RWxhcHNlZFRpbWVUcmFja2luZyIsInN0b3BFbGFwc2VkVGltZVRyYWNraW5nIiwiZHJhZnRHZW5lcmF0aW9uIiwiY2FyZEdlbmVyYXRpb25Qcm9wcyIsInJlbW92ZUpvYkZyb21TdG9yYWdlIiwic2V0Q3VycmVudEpvYklkIiwic2V0SXNEcmFmdE1vZGUiLCJzZXREcmFmdENhcmRzIiwic2V0U2VsZWN0ZWREcmFmdEluZGV4Iiwic2V0SXNHZW5lcmF0aW5nRmluYWxDYXJkIiwic2V0UHJldmlld2luZ0RyYWZ0SW5kZXgiLCJzZXREcmFmdENvbXBsZXRpb25TaG93biIsInNldERyYWZ0Q29tcGxldGlvbkNvdW50IiwiY2FyZEdlbmVyYXRpb24iLCJoYW5kbGVKb2JVcGRhdGUiLCJkYXRhIiwiam9iX2lkIiwic3RhdHVzIiwicHJvZ3Jlc3MiLCJjYXJkRGF0YSIsImVycm9yIiwiY29tcGxldGVkQXQiLCJjb25zb2xlIiwibG9nIiwiaXNEcmFmdEpvYiIsInN0YXJ0c1dpdGgiLCJkcmFmdEluZGV4IiwicGFyc2VJbnQiLCJzcGxpdCIsImlzSW5EcmFmdE1vZGUiLCJpc0RyYWZ0TW9kZSIsImluY2x1ZGVzIiwic2V0R2VuZXJhdGlvblByb2dyZXNzIiwic3R5bGVJbmZvIiwidW5kZWZpbmVkIiwicHJlZGVmaW5lZFN0eWxlcyIsInN0eWxlTGFiZWxzIiwibGVuZ3RoIiwic3R5bGVOYW1lIiwic3R5bGVMYWJlbCIsImRyYWZ0Q2FyZCIsImlkIiwiRGF0ZSIsIm5vdyIsImxlZnRQYWdlIiwicmlnaHRQYWdlIiwiY3JlYXRlZEF0IiwiZ2VuZXJhdGVkUHJvbXB0cyIsInByZXYiLCJ1cGRhdGVkIiwicHVzaCIsImpvYkRhdGEiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwiam9iIiwiSlNPTiIsInBhcnNlIiwiZHJhZnRDYXJkcyIsImxhc3RVcGRhdGUiLCJleHBpcmVzQXQiLCJzZXRJdGVtIiwic3RyaW5naWZ5IiwidXBkYXRlZERyYWZ0cyIsImNvbXBsZXRlZENvdW50IiwiZmlsdGVyIiwiQm9vbGVhbiIsInByb2dyZXNzTXNnIiwiaXNHZW5lcmF0aW5nRmluYWxDYXJkIiwic2V0SXNHZW5lcmF0aW5nIiwic3VjY2VzcyIsInVuc3Vic2NyaWJlRnJvbUpvYiIsImhhc0NhcmREYXRhIiwiY2FyZERhdGFLZXlzIiwiT2JqZWN0Iiwia2V5cyIsIm1hcHBlZENhcmREYXRhIiwiaGFuZGxlRmluYWxDYXJkQ29tcGxldGlvbiIsImZpbmFsQ2FyZERhdGEiLCJqb2JJZCIsImlzRmluYWxDYXJkIiwid2FybiIsImN1cnJlbnRKb2JSZWYiLCJjdXJyZW50IiwiY3VycmVudEpvYklkIiwic2V0Sm9iVXBkYXRlSGFuZGxlciIsInN0YWxlSm9iTG9nZ2VkUmVmIiwiaXNTb2NrZXRDb25uZWN0ZWQiLCJpc0dlbmVyYXRpbmciLCJnZW5lcmF0aW9uU3RhcnRUaW1lIiwiam9iQWdlIiwicmVjb25uZWN0VGltZXIiLCJzZXRUaW1lb3V0IiwiY29ubmVjdFdlYlNvY2tldCIsImNsZWFyVGltZW91dCIsImNoZWNrSW50ZXJ2YWwiLCJzZXRJbnRlcnZhbCIsInRpbWVTaW5jZUxhc3RVcGRhdGUiLCJsYXN0Sm9iVXBkYXRlUmVmIiwicHJvZ3Jlc3NQZXJjZW50YWdlIiwiTWF0aCIsInJvdW5kIiwicmVzcG9uc2UiLCJmZXRjaCIsIm9rIiwiam9iU3RhdHVzIiwianNvbiIsImNsZWFySW50ZXJ2YWwiLCJjaGVja1BlbmRpbmdKb2JzIiwicGVuZGluZ0pvYnMiLCJkcmFmdEpvYnMiLCJmaW5hbEpvYnMiLCJkcmFmdHNCeUluZGV4IiwiQXJyYXkiLCJmaWxsIiwiaXNBcnJheSIsImFsbERyYWZ0Q2FyZHMiLCJpc1N0YWxlIiwiaXNEcmFmdCIsImhhc1Byb2dyZXNzIiwibGFzdFByb2dyZXNzIiwibGFzdFByb2dyZXNzVGV4dCIsInNlbGVjdGVkRHJhZnRJbmRleCIsImpvYlN0YXJ0VGltZSIsImVsYXBzZWRTaW5jZVN0YXJ0IiwiQkFDS0VORF9BUElfQkFTRV9VUkwiLCJyZXN1bHQiLCJyZXN1bHRTdGF0dXMiLCJ1cmwiLCJkdXJhdGlvbiIsImluZm8iLCJzYXZlZEZpbmFsQ2FyZCIsImZpbmFsQ2FyZCIsInNldEdlbmVyYXRlZENhcmQiLCJzZXRHZW5lcmF0ZWRDYXJkcyIsInNldElzQ2FyZENvbXBsZXRlZCIsInNldFByb2dyZXNzUGVyY2VudGFnZSIsInJlbW92ZUl0ZW0iLCJyZWNlbnREcmFmdHMiLCJsb2FkTW9zdFJlY2VudERyYWZ0QmF0Y2giLCJjYXJkcyIsImNvdW50IiwidG9Mb2NhbGVTdHJpbmciLCJlbGFwc2VkU2Vjb25kcyIsImZsb29yIiwic2V0Q3VycmVudEVsYXBzZWRUaW1lIiwiYWN0aXZlRHJhZnRKb2JzIiwiZm9yRWFjaCIsInNldEZpbmFsQ2FyZE1lc3NhZ2UiLCJpc0dlbmVyYXRpbmdNZXNzYWdlIiwic2V0SXNHZW5lcmF0aW5nTWVzc2FnZSIsImdlbmVyYXRlZENhcmQiLCJnZW5lcmF0ZWRDYXJkcyIsInNlbGVjdGVkQ2FyZEluZGV4Iiwic2V0U2VsZWN0ZWRDYXJkSW5kZXgiLCJwcmV2aWV3aW5nRHJhZnRJbmRleCIsImRyYWZ0Q29tcGxldGlvblNob3duIiwiZHJhZnRDb21wbGV0aW9uQ291bnQiLCJnZW5lcmF0aW9uUHJvZ3Jlc3MiLCJpc0NhcmRDb21wbGV0ZWQiLCJyZWZlcmVuY2VJbWFnZXMiLCJzZXRSZWZlcmVuY2VJbWFnZXMiLCJzZXRSZWZlcmVuY2VJbWFnZVVybHMiLCJpbWFnZVRyYW5zZm9ybWF0aW9uIiwic2V0SW1hZ2VUcmFuc2Zvcm1hdGlvbiIsImlzVXBsb2FkaW5nIiwic2V0SXNVcGxvYWRpbmciLCJnZW5lcmF0aW9uRHVyYXRpb24iLCJzZXRHZW5lcmF0aW9uRHVyYXRpb24iLCJjdXJyZW50RWxhcHNlZFRpbWUiLCJoYW5kbGVGaWxlVXBsb2FkIiwiaGFuZGxlUmVtb3ZlUmVmZXJlbmNlSW1hZ2UiLCJzZXRQaG90b0FuYWx5c2VzIiwiaXNBbmFseXppbmciLCJzaG93QW5hbHlzaXNNb2RhbCIsInNldFNob3dBbmFseXNpc01vZGFsIiwicGVuZGluZ0FuYWx5c2lzSW5kZXgiLCJzZXRQZW5kaW5nQW5hbHlzaXNJbmRleCIsImFuYWx5emVQaG90byIsInNhdmVQaG90b0FuYWx5c2lzIiwic2tpcFBob3RvQW5hbHlzaXMiLCJnZXRDb21iaW5lZFBob3RvQW5hbHlzaXMiLCJoYW5kbGVHZXRNZXNzYWdlSGVscCIsImFkZE1lc3NhZ2VUb0hpc3RvcnkiLCJ1bmRvTWVzc2FnZSIsInJlZG9NZXNzYWdlIiwiaGFuZGxlR2VuZXJhdGVDYXJkQXN5bmMiLCJoYW5kbGVHZW5lcmF0ZURyYWZ0Q2FyZHMiLCJoYW5kbGVHZW5lcmF0ZUZpbmFsRnJvbURyYWZ0IiwibWVzc2FnZUhpc3RvcnkiLCJzZXRNZXNzYWdlSGlzdG9yeSIsImN1cnJlbnRNZXNzYWdlSW5kZXgiLCJzZXRDdXJyZW50TWVzc2FnZUluZGV4IiwicmVmaW5lbWVudFByb21wdCIsInNldFJlZmluZW1lbnRQcm9tcHQiLCJpc1JlZmluaW5nTWVzc2FnZSIsInNldElzUmVmaW5pbmdNZXNzYWdlIiwic2hvd1JlZmluZW1lbnRCb3giLCJzZXRTaG93UmVmaW5lbWVudEJveCIsImhhbmR3cml0aW5nU2FtcGxlIiwic2V0SGFuZHdyaXRpbmdTYW1wbGUiLCJoYW5kd3JpdGluZ1NhbXBsZVVybCIsInNldEhhbmR3cml0aW5nU2FtcGxlVXJsIiwiY3VycmVudENhcmRJZCIsInNldEN1cnJlbnRDYXJkSWQiLCJzZXRHZW5lcmF0aW9uU3RhcnRUaW1lIiwiZWxhcHNlZFRpbWVJbnRlcnZhbCIsInNldEVsYXBzZWRUaW1lSW50ZXJ2YWwiLCJkaXNjb25uZWN0V2ViU29ja2V0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./hooks/useCardStudioRefactored.ts\n"));

/***/ })

});