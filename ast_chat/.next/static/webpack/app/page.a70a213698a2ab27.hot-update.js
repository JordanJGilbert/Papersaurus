"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/page",{

/***/ "(app-pages-browser)/./hooks/cardStudio/useMessageGeneration.ts":
/*!**************************************************!*\
  !*** ./hooks/cardStudio/useMessageGeneration.ts ***!
  \**************************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useMessageGeneration: function() { return /* binding */ useMessageGeneration; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var sonner__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! sonner */ \"(app-pages-browser)/./node_modules/sonner/dist/index.mjs\");\n/* harmony import */ var _lib_promptGenerator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/promptGenerator */ \"(app-pages-browser)/./lib/promptGenerator.ts\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./constants */ \"(app-pages-browser)/./hooks/cardStudio/constants.ts\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./utils */ \"(app-pages-browser)/./hooks/cardStudio/utils.ts\");\n/* __next_internal_client_entry_do_not_use__ useMessageGeneration auto */ \n\n\n\n\nfunction useMessageGeneration(selectedType, customCardType, selectedTone, prompt, toField, fromField, relationshipField, photoAnalyses) {\n    const [finalCardMessage, setFinalCardMessage] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(\"\");\n    const [isGeneratingMessage, setIsGeneratingMessage] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [messageHistory, setMessageHistory] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]);\n    const [currentMessageIndex, setCurrentMessageIndex] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(-1);\n    const [refinementPrompt, setRefinementPrompt] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(\"\");\n    const [isRefiningMessage, setIsRefiningMessage] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [showRefinementBox, setShowRefinementBox] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    // Message version control functions\n    const addMessageToHistory = (message)=>{\n        if (message.trim() === \"\") return;\n        const cleanMessage = message.replace(/<\\/?MESSAGE>/g, \"\").trim();\n        if (cleanMessage === \"\") return;\n        const newHistory = messageHistory.slice(0, currentMessageIndex + 1);\n        newHistory.push(cleanMessage);\n        if (newHistory.length > 10) {\n            newHistory.shift();\n        } else {\n            setCurrentMessageIndex(currentMessageIndex + 1);\n        }\n        setMessageHistory(newHistory);\n        setCurrentMessageIndex(newHistory.length - 1);\n    };\n    const undoMessage = ()=>{\n        if (currentMessageIndex > 0) {\n            const newIndex = currentMessageIndex - 1;\n            setCurrentMessageIndex(newIndex);\n            setFinalCardMessage(messageHistory[newIndex]);\n        }\n    };\n    const redoMessage = ()=>{\n        if (currentMessageIndex < messageHistory.length - 1) {\n            const newIndex = currentMessageIndex + 1;\n            setCurrentMessageIndex(newIndex);\n            setFinalCardMessage(messageHistory[newIndex]);\n        }\n    };\n    // Full message generation function\n    const handleGetMessageHelp = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(async ()=>{\n        // Validate custom card type if selected\n        if (selectedType === \"custom\" && !customCardType.trim()) {\n            sonner__WEBPACK_IMPORTED_MODULE_1__.toast.error(\"Please describe your custom card type first!\");\n            return;\n        }\n        setIsGeneratingMessage(true);\n        try {\n            const cardTypeForPrompt = selectedType === \"custom\" ? customCardType : selectedType;\n            const selectedToneObj = _constants__WEBPACK_IMPORTED_MODULE_3__.cardTones.find((tone)=>tone.id === selectedTone);\n            const toneDescription = selectedToneObj ? selectedToneObj.description.toLowerCase() : \"heartfelt and sincere\";\n            // Use effective prompt logic here too\n            const effectivePrompt = prompt.trim() || \"A beautiful \".concat(cardTypeForPrompt, \" card with \").concat(toneDescription, \" style\");\n            // Use PromptGenerator for message generation\n            const messageConfig = {\n                cardType: selectedType,\n                customCardType: customCardType,\n                tone: selectedTone,\n                toneLabel: selectedToneObj ? selectedToneObj.label : \"Heartfelt\",\n                toneDescription: toneDescription,\n                theme: effectivePrompt,\n                toField: toField,\n                fromField: fromField,\n                relationshipField: relationshipField,\n                photoAnalyses: photoAnalyses\n            };\n            const messagePrompt = _lib_promptGenerator__WEBPACK_IMPORTED_MODULE_2__.PromptGenerator.generateMessagePrompt(messageConfig);\n            const generatedMessage = await (0,_utils__WEBPACK_IMPORTED_MODULE_4__.chatWithAI)(messagePrompt, {\n                model: \"gemini-2.5-pro\",\n                includeThoughts: false // Don't include thinking content in message generation\n            });\n            if (generatedMessage === null || generatedMessage === void 0 ? void 0 : generatedMessage.trim()) {\n                // Extract message content between <MESSAGE> tags using regex\n                const messageMatch = generatedMessage.match(/<MESSAGE>([\\s\\S]*?)<\\/MESSAGE>/);\n                let extractedMessage = messageMatch ? messageMatch[1].trim() : generatedMessage.trim();\n                // Ensure no MESSAGE tags are included in the final message\n                extractedMessage = extractedMessage.replace(/<\\/?MESSAGE>/g, \"\").trim();\n                // Add current message to history if it exists and is different\n                if (finalCardMessage.trim() && finalCardMessage.trim() !== extractedMessage) {\n                    addMessageToHistory(finalCardMessage);\n                }\n                setFinalCardMessage(extractedMessage);\n                // Add the new message to history\n                addMessageToHistory(extractedMessage);\n                sonner__WEBPACK_IMPORTED_MODULE_1__.toast.success(\"âœ¨ Personalized message created!\");\n                // Return the generated message so the caller can use it\n                return extractedMessage;\n            }\n        } catch (error) {\n            sonner__WEBPACK_IMPORTED_MODULE_1__.toast.error(\"Failed to generate message. Please try again.\");\n            return null;\n        } finally{\n            setIsGeneratingMessage(false);\n        }\n    }, [\n        selectedType,\n        customCardType,\n        selectedTone,\n        prompt,\n        toField,\n        fromField,\n        finalCardMessage,\n        photoAnalyses\n    ]);\n    return {\n        finalCardMessage,\n        setFinalCardMessage,\n        isGeneratingMessage,\n        setIsGeneratingMessage,\n        messageHistory,\n        setMessageHistory,\n        currentMessageIndex,\n        setCurrentMessageIndex,\n        refinementPrompt,\n        setRefinementPrompt,\n        isRefiningMessage,\n        setIsRefiningMessage,\n        showRefinementBox,\n        setShowRefinementBox,\n        handleGetMessageHelp,\n        addMessageToHistory,\n        undoMessage,\n        redoMessage\n    };\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2hvb2tzL2NhcmRTdHVkaW8vdXNlTWVzc2FnZUdlbmVyYXRpb24udHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OzswRUFFOEM7QUFDZjtBQUN3QztBQUMvQjtBQUNIO0FBRTlCLFNBQVNNLHFCQUNkQyxZQUFvQixFQUNwQkMsY0FBc0IsRUFDdEJDLFlBQW9CLEVBQ3BCQyxNQUFjLEVBQ2RDLE9BQWUsRUFDZkMsU0FBaUIsRUFDakJDLGlCQUF5QixFQUN6QkMsYUFBcUI7SUFFckIsTUFBTSxDQUFDQyxrQkFBa0JDLG9CQUFvQixHQUFHaEIsK0NBQVFBLENBQUM7SUFDekQsTUFBTSxDQUFDaUIscUJBQXFCQyx1QkFBdUIsR0FBR2xCLCtDQUFRQSxDQUFDO0lBQy9ELE1BQU0sQ0FBQ21CLGdCQUFnQkMsa0JBQWtCLEdBQUdwQiwrQ0FBUUEsQ0FBVyxFQUFFO0lBQ2pFLE1BQU0sQ0FBQ3FCLHFCQUFxQkMsdUJBQXVCLEdBQUd0QiwrQ0FBUUEsQ0FBQyxDQUFDO0lBQ2hFLE1BQU0sQ0FBQ3VCLGtCQUFrQkMsb0JBQW9CLEdBQUd4QiwrQ0FBUUEsQ0FBQztJQUN6RCxNQUFNLENBQUN5QixtQkFBbUJDLHFCQUFxQixHQUFHMUIsK0NBQVFBLENBQUM7SUFDM0QsTUFBTSxDQUFDMkIsbUJBQW1CQyxxQkFBcUIsR0FBRzVCLCtDQUFRQSxDQUFDO0lBRTNELG9DQUFvQztJQUNwQyxNQUFNNkIsc0JBQXNCLENBQUNDO1FBQzNCLElBQUlBLFFBQVFDLElBQUksT0FBTyxJQUFJO1FBRTNCLE1BQU1DLGVBQWVGLFFBQVFHLE9BQU8sQ0FBQyxpQkFBaUIsSUFBSUYsSUFBSTtRQUM5RCxJQUFJQyxpQkFBaUIsSUFBSTtRQUV6QixNQUFNRSxhQUFhZixlQUFlZ0IsS0FBSyxDQUFDLEdBQUdkLHNCQUFzQjtRQUNqRWEsV0FBV0UsSUFBSSxDQUFDSjtRQUVoQixJQUFJRSxXQUFXRyxNQUFNLEdBQUcsSUFBSTtZQUMxQkgsV0FBV0ksS0FBSztRQUNsQixP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QUM7UUFDQUM7UUFDQUM7UUFDQUM7UUFDQUM7UUFDQUM7UUFDQUM7UUFDQUM7UUFDQUM7UUFDQWM7UUFDQWI7UUFDQVU7UUFDQUU7SUFDRjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL2hvb2tzL2NhcmRTdHVkaW8vdXNlTWVzc2FnZUdlbmVyYXRpb24udHM/MjU4OCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIjtcblxuaW1wb3J0IHsgdXNlU3RhdGUsIHVzZUNhbGxiYWNrIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyB0b2FzdCB9IGZyb20gXCJzb25uZXJcIjtcbmltcG9ydCB7IFByb21wdEdlbmVyYXRvciwgTWVzc2FnZUNvbmZpZyB9IGZyb20gJ0AvbGliL3Byb21wdEdlbmVyYXRvcic7XG5pbXBvcnQgeyBjYXJkVG9uZXMgfSBmcm9tICcuL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBjaGF0V2l0aEFJIH0gZnJvbSAnLi91dGlscyc7XG5cbmV4cG9ydCBmdW5jdGlvbiB1c2VNZXNzYWdlR2VuZXJhdGlvbihcbiAgc2VsZWN0ZWRUeXBlOiBzdHJpbmcsXG4gIGN1c3RvbUNhcmRUeXBlOiBzdHJpbmcsXG4gIHNlbGVjdGVkVG9uZTogc3RyaW5nLFxuICBwcm9tcHQ6IHN0cmluZyxcbiAgdG9GaWVsZDogc3RyaW5nLFxuICBmcm9tRmllbGQ6IHN0cmluZyxcbiAgcmVsYXRpb25zaGlwRmllbGQ6IHN0cmluZyxcbiAgcGhvdG9BbmFseXNlcz86IGFueVtdXG4pIHtcbiAgY29uc3QgW2ZpbmFsQ2FyZE1lc3NhZ2UsIHNldEZpbmFsQ2FyZE1lc3NhZ2VdID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFtpc0dlbmVyYXRpbmdNZXNzYWdlLCBzZXRJc0dlbmVyYXRpbmdNZXNzYWdlXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW21lc3NhZ2VIaXN0b3J5LCBzZXRNZXNzYWdlSGlzdG9yeV0gPSB1c2VTdGF0ZTxzdHJpbmdbXT4oW10pO1xuICBjb25zdCBbY3VycmVudE1lc3NhZ2VJbmRleCwgc2V0Q3VycmVudE1lc3NhZ2VJbmRleF0gPSB1c2VTdGF0ZSgtMSk7XG4gIGNvbnN0IFtyZWZpbmVtZW50UHJvbXB0LCBzZXRSZWZpbmVtZW50UHJvbXB0XSA9IHVzZVN0YXRlKFwiXCIpO1xuICBjb25zdCBbaXNSZWZpbmluZ01lc3NhZ2UsIHNldElzUmVmaW5pbmdNZXNzYWdlXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3Nob3dSZWZpbmVtZW50Qm94LCBzZXRTaG93UmVmaW5lbWVudEJveF0gPSB1c2VTdGF0ZShmYWxzZSk7XG5cbiAgLy8gTWVzc2FnZSB2ZXJzaW9uIGNvbnRyb2wgZnVuY3Rpb25zXG4gIGNvbnN0IGFkZE1lc3NhZ2VUb0hpc3RvcnkgPSAobWVzc2FnZTogc3RyaW5nKSA9PiB7XG4gICAgaWYgKG1lc3NhZ2UudHJpbSgpID09PSBcIlwiKSByZXR1cm47XG4gICAgXG4gICAgY29uc3QgY2xlYW5NZXNzYWdlID0gbWVzc2FnZS5yZXBsYWNlKC88XFwvP01FU1NBR0U+L2csICcnKS50cmltKCk7XG4gICAgaWYgKGNsZWFuTWVzc2FnZSA9PT0gXCJcIikgcmV0dXJuO1xuICAgIFxuICAgIGNvbnN0IG5ld0hpc3RvcnkgPSBtZXNzYWdlSGlzdG9yeS5zbGljZSgwLCBjdXJyZW50TWVzc2FnZUluZGV4ICsgMSk7XG4gICAgbmV3SGlzdG9yeS5wdXNoKGNsZWFuTWVzc2FnZSk7XG4gICAgXG4gICAgaWYgKG5ld0hpc3RvcnkubGVuZ3RoID4gMTApIHtcbiAgICAgIG5ld0hpc3Rvcnkuc2hpZnQoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2V0Q3VycmVudE1lc3NhZ2VJbmRleChjdXJyZW50TWVzc2FnZUluZGV4ICsgMSk7XG4gICAgfVxuICAgIFxuICAgIHNldE1lc3NhZ2VIaXN0b3J5KG5ld0hpc3RvcnkpO1xuICAgIHNldEN1cnJlbnRNZXNzYWdlSW5kZXgobmV3SGlzdG9yeS5sZW5ndGggLSAxKTtcbiAgfTtcblxuICBjb25zdCB1bmRvTWVzc2FnZSA9ICgpID0+IHtcbiAgICBpZiAoY3VycmVudE1lc3NhZ2VJbmRleCA+IDApIHtcbiAgICAgIGNvbnN0IG5ld0luZGV4ID0gY3VycmVudE1lc3NhZ2VJbmRleCAtIDE7XG4gICAgICBzZXRDdXJyZW50TWVzc2FnZUluZGV4KG5ld0luZGV4KTtcbiAgICAgIHNldEZpbmFsQ2FyZE1lc3NhZ2UobWVzc2FnZUhpc3RvcnlbbmV3SW5kZXhdKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgcmVkb01lc3NhZ2UgPSAoKSA9PiB7XG4gICAgaWYgKGN1cnJlbnRNZXNzYWdlSW5kZXggPCBtZXNzYWdlSGlzdG9yeS5sZW5ndGggLSAxKSB7XG4gICAgICBjb25zdCBuZXdJbmRleCA9IGN1cnJlbnRNZXNzYWdlSW5kZXggKyAxO1xuICAgICAgc2V0Q3VycmVudE1lc3NhZ2VJbmRleChuZXdJbmRleCk7XG4gICAgICBzZXRGaW5hbENhcmRNZXNzYWdlKG1lc3NhZ2VIaXN0b3J5W25ld0luZGV4XSk7XG4gICAgfVxuICB9O1xuXG4gIC8vIEZ1bGwgbWVzc2FnZSBnZW5lcmF0aW9uIGZ1bmN0aW9uXG4gIGNvbnN0IGhhbmRsZUdldE1lc3NhZ2VIZWxwID0gdXNlQ2FsbGJhY2soYXN5bmMgKCkgPT4ge1xuICAgIC8vIFZhbGlkYXRlIGN1c3RvbSBjYXJkIHR5cGUgaWYgc2VsZWN0ZWRcbiAgICBpZiAoc2VsZWN0ZWRUeXBlID09PSBcImN1c3RvbVwiICYmICFjdXN0b21DYXJkVHlwZS50cmltKCkpIHtcbiAgICAgIHRvYXN0LmVycm9yKFwiUGxlYXNlIGRlc2NyaWJlIHlvdXIgY3VzdG9tIGNhcmQgdHlwZSBmaXJzdCFcIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFxuICAgIHNldElzR2VuZXJhdGluZ01lc3NhZ2UodHJ1ZSk7XG5cbiAgICB0cnkge1xuICAgICAgY29uc3QgY2FyZFR5cGVGb3JQcm9tcHQgPSBzZWxlY3RlZFR5cGUgPT09IFwiY3VzdG9tXCIgPyBjdXN0b21DYXJkVHlwZSA6IHNlbGVjdGVkVHlwZTtcbiAgICAgIGNvbnN0IHNlbGVjdGVkVG9uZU9iaiA9IGNhcmRUb25lcy5maW5kKHRvbmUgPT4gdG9uZS5pZCA9PT0gc2VsZWN0ZWRUb25lKTtcbiAgICAgIGNvbnN0IHRvbmVEZXNjcmlwdGlvbiA9IHNlbGVjdGVkVG9uZU9iaiA/IHNlbGVjdGVkVG9uZU9iai5kZXNjcmlwdGlvbi50b0xvd2VyQ2FzZSgpIDogXCJoZWFydGZlbHQgYW5kIHNpbmNlcmVcIjtcbiAgICAgIFxuICAgICAgLy8gVXNlIGVmZmVjdGl2ZSBwcm9tcHQgbG9naWMgaGVyZSB0b29cbiAgICAgIGNvbnN0IGVmZmVjdGl2ZVByb21wdCA9IHByb21wdC50cmltKCkgfHwgYEEgYmVhdXRpZnVsICR7Y2FyZFR5cGVGb3JQcm9tcHR9IGNhcmQgd2l0aCAke3RvbmVEZXNjcmlwdGlvbn0gc3R5bGVgO1xuICAgICAgXG4gICAgICAvLyBVc2UgUHJvbXB0R2VuZXJhdG9yIGZvciBtZXNzYWdlIGdlbmVyYXRpb25cbiAgICAgIGNvbnN0IG1lc3NhZ2VDb25maWc6IE1lc3NhZ2VDb25maWcgPSB7XG4gICAgICAgIGNhcmRUeXBlOiBzZWxlY3RlZFR5cGUsXG4gICAgICAgIGN1c3RvbUNhcmRUeXBlOiBjdXN0b21DYXJkVHlwZSxcbiAgICAgICAgdG9uZTogc2VsZWN0ZWRUb25lLFxuICAgICAgICB0b25lTGFiZWw6IHNlbGVjdGVkVG9uZU9iaiA/IHNlbGVjdGVkVG9uZU9iai5sYWJlbCA6IFwiSGVhcnRmZWx0XCIsXG4gICAgICAgIHRvbmVEZXNjcmlwdGlvbjogdG9uZURlc2NyaXB0aW9uLFxuICAgICAgICB0aGVtZTogZWZmZWN0aXZlUHJvbXB0LFxuICAgICAgICB0b0ZpZWxkOiB0b0ZpZWxkLFxuICAgICAgICBmcm9tRmllbGQ6IGZyb21GaWVsZCxcbiAgICAgICAgcmVsYXRpb25zaGlwRmllbGQ6IHJlbGF0aW9uc2hpcEZpZWxkLFxuICAgICAgICBwaG90b0FuYWx5c2VzOiBwaG90b0FuYWx5c2VzXG4gICAgICB9O1xuXG4gICAgICBjb25zdCBtZXNzYWdlUHJvbXB0ID0gUHJvbXB0R2VuZXJhdG9yLmdlbmVyYXRlTWVzc2FnZVByb21wdChtZXNzYWdlQ29uZmlnKTtcblxuICAgICAgY29uc3QgZ2VuZXJhdGVkTWVzc2FnZSA9IGF3YWl0IGNoYXRXaXRoQUkobWVzc2FnZVByb21wdCwge1xuICAgICAgICBtb2RlbDogXCJnZW1pbmktMi41LXByb1wiLFxuICAgICAgICBpbmNsdWRlVGhvdWdodHM6IGZhbHNlICAvLyBEb24ndCBpbmNsdWRlIHRoaW5raW5nIGNvbnRlbnQgaW4gbWVzc2FnZSBnZW5lcmF0aW9uXG4gICAgICB9KTtcblxuICAgICAgaWYgKGdlbmVyYXRlZE1lc3NhZ2U/LnRyaW0oKSkge1xuICAgICAgICAvLyBFeHRyYWN0IG1lc3NhZ2UgY29udGVudCBiZXR3ZWVuIDxNRVNTQUdFPiB0YWdzIHVzaW5nIHJlZ2V4XG4gICAgICAgIGNvbnN0IG1lc3NhZ2VNYXRjaCA9IGdlbmVyYXRlZE1lc3NhZ2UubWF0Y2goLzxNRVNTQUdFPihbXFxzXFxTXSo/KTxcXC9NRVNTQUdFPi8pO1xuICAgICAgICBsZXQgZXh0cmFjdGVkTWVzc2FnZSA9IG1lc3NhZ2VNYXRjaCA/IG1lc3NhZ2VNYXRjaFsxXS50cmltKCkgOiBnZW5lcmF0ZWRNZXNzYWdlLnRyaW0oKTtcbiAgICAgICAgXG4gICAgICAgIC8vIEVuc3VyZSBubyBNRVNTQUdFIHRhZ3MgYXJlIGluY2x1ZGVkIGluIHRoZSBmaW5hbCBtZXNzYWdlXG4gICAgICAgIGV4dHJhY3RlZE1lc3NhZ2UgPSBleHRyYWN0ZWRNZXNzYWdlLnJlcGxhY2UoLzxcXC8/TUVTU0FHRT4vZywgJycpLnRyaW0oKTtcbiAgICAgICAgXG4gICAgICAgIC8vIEFkZCBjdXJyZW50IG1lc3NhZ2UgdG8gaGlzdG9yeSBpZiBpdCBleGlzdHMgYW5kIGlzIGRpZmZlcmVudFxuICAgICAgICBpZiAoZmluYWxDYXJkTWVzc2FnZS50cmltKCkgJiYgZmluYWxDYXJkTWVzc2FnZS50cmltKCkgIT09IGV4dHJhY3RlZE1lc3NhZ2UpIHtcbiAgICAgICAgICBhZGRNZXNzYWdlVG9IaXN0b3J5KGZpbmFsQ2FyZE1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBzZXRGaW5hbENhcmRNZXNzYWdlKGV4dHJhY3RlZE1lc3NhZ2UpO1xuICAgICAgICBcbiAgICAgICAgLy8gQWRkIHRoZSBuZXcgbWVzc2FnZSB0byBoaXN0b3J5XG4gICAgICAgIGFkZE1lc3NhZ2VUb0hpc3RvcnkoZXh0cmFjdGVkTWVzc2FnZSk7XG4gICAgICAgIFxuICAgICAgICB0b2FzdC5zdWNjZXNzKFwi4pyoIFBlcnNvbmFsaXplZCBtZXNzYWdlIGNyZWF0ZWQhXCIpO1xuICAgICAgICBcbiAgICAgICAgLy8gUmV0dXJuIHRoZSBnZW5lcmF0ZWQgbWVzc2FnZSBzbyB0aGUgY2FsbGVyIGNhbiB1c2UgaXRcbiAgICAgICAgcmV0dXJuIGV4dHJhY3RlZE1lc3NhZ2U7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHRvYXN0LmVycm9yKFwiRmFpbGVkIHRvIGdlbmVyYXRlIG1lc3NhZ2UuIFBsZWFzZSB0cnkgYWdhaW4uXCIpO1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldElzR2VuZXJhdGluZ01lc3NhZ2UoZmFsc2UpO1xuICAgIH1cbiAgfSwgW3NlbGVjdGVkVHlwZSwgY3VzdG9tQ2FyZFR5cGUsIHNlbGVjdGVkVG9uZSwgcHJvbXB0LCB0b0ZpZWxkLCBmcm9tRmllbGQsIGZpbmFsQ2FyZE1lc3NhZ2UsIHBob3RvQW5hbHlzZXNdKTtcblxuICByZXR1cm4ge1xuICAgIGZpbmFsQ2FyZE1lc3NhZ2UsXG4gICAgc2V0RmluYWxDYXJkTWVzc2FnZSxcbiAgICBpc0dlbmVyYXRpbmdNZXNzYWdlLFxuICAgIHNldElzR2VuZXJhdGluZ01lc3NhZ2UsXG4gICAgbWVzc2FnZUhpc3RvcnksXG4gICAgc2V0TWVzc2FnZUhpc3RvcnksXG4gICAgY3VycmVudE1lc3NhZ2VJbmRleCxcbiAgICBzZXRDdXJyZW50TWVzc2FnZUluZGV4LFxuICAgIHJlZmluZW1lbnRQcm9tcHQsXG4gICAgc2V0UmVmaW5lbWVudFByb21wdCxcbiAgICBpc1JlZmluaW5nTWVzc2FnZSxcbiAgICBzZXRJc1JlZmluaW5nTWVzc2FnZSxcbiAgICBzaG93UmVmaW5lbWVudEJveCxcbiAgICBzZXRTaG93UmVmaW5lbWVudEJveCxcbiAgICBoYW5kbGVHZXRNZXNzYWdlSGVscCxcbiAgICBhZGRNZXNzYWdlVG9IaXN0b3J5LFxuICAgIHVuZG9NZXNzYWdlLFxuICAgIHJlZG9NZXNzYWdlXG4gIH07XG59Il0sIm5hbWVzIjpbInVzZVN0YXRlIiwidXNlQ2FsbGJhY2siLCJ0b2FzdCIsIlByb21wdEdlbmVyYXRvciIsImNhcmRUb25lcyIsImNoYXRXaXRoQUkiLCJ1c2VNZXNzYWdlR2VuZXJhdGlvbiIsInNlbGVjdGVkVHlwZSIsImN1c3RvbUNhcmRUeXBlIiwic2VsZWN0ZWRUb25lIiwicHJvbXB0IiwidG9GaWVsZCIsImZyb21GaWVsZCIsInJlbGF0aW9uc2hpcEZpZWxkIiwicGhvdG9BbmFseXNlcyIsImZpbmFsQ2FyZE1lc3NhZ2UiLCJzZXRGaW5hbENhcmRNZXNzYWdlIiwiaXNHZW5lcmF0aW5nTWVzc2FnZSIsInNldElzR2VuZXJhdGluZ01lc3NhZ2UiLCJtZXNzYWdlSGlzdG9yeSIsInNldE1lc3NhZ2VIaXN0b3J5IiwiY3VycmVudE1lc3NhZ2VJbmRleCIsInNldEN1cnJlbnRNZXNzYWdlSW5kZXgiLCJyZWZpbmVtZW50UHJvbXB0Iiwic2V0UmVmaW5lbWVudFByb21wdCIsImlzUmVmaW5pbmdNZXNzYWdlIiwic2V0SXNSZWZpbmluZ01lc3NhZ2UiLCJzaG93UmVmaW5lbWVudEJveCIsInNldFNob3dSZWZpbmVtZW50Qm94IiwiYWRkTWVzc2FnZVRvSGlzdG9yeSIsIm1lc3NhZ2UiLCJ0cmltIiwiY2xlYW5NZXNzYWdlIiwicmVwbGFjZSIsIm5ld0hpc3RvcnkiLCJzbGljZSIsInB1c2giLCJsZW5ndGgiLCJzaGlmdCIsInVuZG9NZXNzYWdlIiwibmV3SW5kZXgiLCJyZWRvTWVzc2FnZSIsImhhbmRsZUdldE1lc3NhZ2VIZWxwIiwiZXJyb3IiLCJjYXJkVHlwZUZvclByb21wdCIsInNlbGVjdGVkVG9uZU9iaiIsImZpbmQiLCJ0b25lIiwiaWQiLCJ0b25lRGVzY3JpcHRpb24iLCJkZXNjcmlwdGlvbiIsInRvTG93ZXJDYXNlIiwiZWZmZWN0aXZlUHJvbXB0IiwibWVzc2FnZUNvbmZpZyIsImNhcmRUeXBlIiwidG9uZUxhYmVsIiwibGFiZWwiLCJ0aGVtZSIsIm1lc3NhZ2VQcm9tcHQiLCJnZW5lcmF0ZU1lc3NhZ2VQcm9tcHQiLCJnZW5lcmF0ZWRNZXNzYWdlIiwibW9kZWwiLCJpbmNsdWRlVGhvdWdodHMiLCJtZXNzYWdlTWF0Y2giLCJtYXRjaCIsImV4dHJhY3RlZE1lc3NhZ2UiLCJzdWNjZXNzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./hooks/cardStudio/useMessageGeneration.ts\n"));

/***/ })

});