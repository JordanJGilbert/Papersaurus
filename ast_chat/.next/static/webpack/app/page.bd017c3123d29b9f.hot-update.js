"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/page",{

/***/ "(app-pages-browser)/./hooks/cardStudio/useDraftGeneration.ts":
/*!************************************************!*\
  !*** ./hooks/cardStudio/useDraftGeneration.ts ***!
  \************************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useDraftGeneration: function() { return /* binding */ useDraftGeneration; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var sonner__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! sonner */ \"(app-pages-browser)/./node_modules/sonner/dist/index.mjs\");\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! uuid */ \"(app-pages-browser)/./node_modules/uuid/dist/esm-browser/v4.js\");\n/* harmony import */ var _lib_promptGenerator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/promptGenerator */ \"(app-pages-browser)/./lib/promptGenerator.ts\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./constants */ \"(app-pages-browser)/./hooks/cardStudio/constants.ts\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./utils */ \"(app-pages-browser)/./hooks/cardStudio/utils.ts\");\n/* __next_internal_client_entry_do_not_use__ useDraftGeneration auto */ \n\n\n\n\n\nfunction useDraftGeneration(props) {\n    // Draft mode state\n    const [isDraftMode, setIsDraftMode] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [draftCards, setDraftCards] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]);\n    const [draftIndexMapping, setDraftIndexMapping] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]);\n    const [selectedDraftIndex, setSelectedDraftIndex] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(-1);\n    const [isGeneratingFinalCard, setIsGeneratingFinalCard] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [previewingDraftIndex, setPreviewingDraftIndex] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(-1);\n    const [draftCompletionShown, setDraftCompletionShown] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [draftCompletionCount, setDraftCompletionCount] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(0);\n    const [isGenerating, setIsGenerating] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [generationProgress, setGenerationProgress] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(\"\");\n    const [progressPercentage, setProgressPercentage] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(0);\n    const [generatedCard, setGeneratedCard] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [generatedCards, setGeneratedCards] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]);\n    const [isCardCompleted, setIsCardCompleted] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [currentJobId, setCurrentJobId] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    // Draft mode generation - creates 5 front cover variations\n    const handleGenerateDraftCards = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(async ()=>{\n        const { userEmail, selectedArtisticStyle, customStyleDescription, referenceImageUrls, selectedDraftModel, selectedType, customCardType, selectedTone, prompt, toField, fromField, selectedPaperSize, saveJobToStorage, subscribeToJob, startElapsedTimeTracking } = props;\n        if (!userEmail.trim()) {\n            sonner__WEBPACK_IMPORTED_MODULE_1__.toast.error(\"Please enter your email address\");\n            return;\n        }\n        // Basic email validation\n        const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n        if (!emailRegex.test(userEmail)) {\n            sonner__WEBPACK_IMPORTED_MODULE_1__.toast.error(\"Please enter a valid email address\");\n            return;\n        }\n        // Validate custom style if selected\n        if (selectedArtisticStyle === \"custom\" && !customStyleDescription.trim()) {\n            sonner__WEBPACK_IMPORTED_MODULE_1__.toast.error(\"Please describe your custom artistic style\");\n            return;\n        }\n        // Validate reference images with model compatibility\n        if (referenceImageUrls.length > 0 && selectedDraftModel !== \"gpt-image-1\") {\n            sonner__WEBPACK_IMPORTED_MODULE_1__.toast.error(\"Reference photos are only supported with GPT Image 1 model. Please switch to GPT Image 1 for draft mode or remove reference photos.\");\n            return;\n        }\n        // Stop any existing timers first\n        props.stopElapsedTimeTracking();\n        // Clear ALL WebSocket subscriptions before starting\n        if (props.unsubscribeFromAllJobs) {\n            props.unsubscribeFromAllJobs();\n        }\n        setIsDraftMode(true);\n        setIsGenerating(true);\n        startElapsedTimeTracking(undefined, 45); // 45 seconds for draft mode\n        setGenerationProgress(\"\\uD83C\\uDFA8 Creating 5 front cover variations for you to choose from...\");\n        setProgressPercentage(0);\n        setDraftCards([]);\n        setDraftIndexMapping([]);\n        setSelectedDraftIndex(-1);\n        setDraftCompletionShown(false);\n        setDraftCompletionCount(0);\n        // Clear any previous card state\n        setGeneratedCard(null);\n        setGeneratedCards([]);\n        setIsCardCompleted(false);\n        try {\n            console.log(\"\\uD83D\\uDE80 Starting draft mode generation with 5 variations\");\n            const cardTypeForPrompt = selectedType === \"custom\" ? customCardType : selectedType;\n            const selectedToneObj = _constants__WEBPACK_IMPORTED_MODULE_3__.cardTones.find((tone)=>tone.id === selectedTone);\n            const toneDescription = selectedToneObj ? selectedToneObj.description.toLowerCase() : \"heartfelt and sincere\";\n            const effectivePrompt = prompt.trim() || \"A beautiful \".concat(cardTypeForPrompt, \" card with \").concat(toneDescription, \" style\");\n            // Generate 5 draft variations\n            const draftPromises = Array.from({\n                length: 5\n            }, async (_, index)=>{\n                try {\n                    var _paperSizes_find, _paperSizes_find1;\n                    console.log(\"\\uD83C\\uDFA8 Starting draft variation \".concat(index + 1));\n                    // For smart style, use predefined styles\n                    let styleOverride = undefined;\n                    let styleLabel = undefined;\n                    if (selectedArtisticStyle === \"ai-smart-style\") {\n                        const predefinedStyles = [\n                            \"watercolor\",\n                            \"botanical\",\n                            \"comic-book\",\n                            \"dreamy-fantasy\",\n                            \"minimalist\"\n                        ];\n                        const styleLabels = [\n                            \"\\uD83C\\uDFA8 Watercolor\",\n                            \"\\uD83C\\uDF3F Botanical\",\n                            \"\\uD83D\\uDCA5 Comic Book\",\n                            \"\\uD83C\\uDF38 Dreamy Fantasy\",\n                            \"✨ Minimalist\"\n                        ];\n                        styleOverride = predefinedStyles[index];\n                        styleLabel = styleLabels[index];\n                    }\n                    // Generate front cover prompt\n                    const selectedStyle = _constants__WEBPACK_IMPORTED_MODULE_3__.artisticStyles.find((style)=>style.id === (styleOverride || selectedArtisticStyle));\n                    const draftConfig = {\n                        cardType: selectedType,\n                        customCardType: customCardType,\n                        tone: selectedTone,\n                        toneLabel: selectedToneObj ? selectedToneObj.label : \"Heartfelt\",\n                        toneDescription: toneDescription,\n                        theme: effectivePrompt,\n                        toField: toField,\n                        fromField: fromField,\n                        artisticStyle: selectedStyle,\n                        referenceImageUrls: referenceImageUrls,\n                        photoAnalyses: props.photoAnalyses,\n                        isDraftVariation: selectedArtisticStyle === \"smart\",\n                        variationIndex: index\n                    };\n                    const { prompt: frontCoverPromptQuery, images } = _lib_promptGenerator__WEBPACK_IMPORTED_MODULE_2__.PromptGenerator.generateDraftPromptWithImages(draftConfig);\n                    const frontCoverPrompt = await (0,_utils__WEBPACK_IMPORTED_MODULE_4__.chatWithAI)(frontCoverPromptQuery, {\n                        model: \"gemini-2.5-pro\",\n                        attachments: images\n                    });\n                    if (!(frontCoverPrompt === null || frontCoverPrompt === void 0 ? void 0 : frontCoverPrompt.trim())) {\n                        throw new Error(\"Failed to generate front cover prompt\");\n                    }\n                    // Enhance with reference image instructions\n                    let enhancedFrontCoverPrompt = frontCoverPrompt.trim();\n                    enhancedFrontCoverPrompt = _lib_promptGenerator__WEBPACK_IMPORTED_MODULE_2__.PromptGenerator.enhancePromptWithReferencePhotos(enhancedFrontCoverPrompt, referenceImageUrls.length > 0, selectedDraftModel);\n                    // Generate the image\n                    const jobId = \"draft-\".concat(index, \"-\").concat((0,uuid__WEBPACK_IMPORTED_MODULE_5__[\"default\"])());\n                    const inputImages = [];\n                    if (referenceImageUrls.length > 0 && selectedDraftModel === \"gpt-image-1\") {\n                        inputImages.push(...referenceImageUrls);\n                    }\n                    const response = await fetch(\"/api/generate-card-async\", {\n                        method: \"POST\",\n                        headers: {\n                            \"Content-Type\": \"application/json\"\n                        },\n                        body: JSON.stringify({\n                            jobId,\n                            prompts: {\n                                frontCover: enhancedFrontCoverPrompt\n                            },\n                            config: {\n                                userNumber: \"+17145986105\",\n                                modelVersion: selectedDraftModel,\n                                aspectRatio: ((_paperSizes_find = _constants__WEBPACK_IMPORTED_MODULE_3__.paperSizes.find((size)=>size.id === selectedPaperSize)) === null || _paperSizes_find === void 0 ? void 0 : _paperSizes_find.aspectRatio) || \"9:16\",\n                                quality: \"low\",\n                                outputFormat: \"jpeg\",\n                                outputCompression: 100,\n                                moderation: \"low\",\n                                dimensions: ((_paperSizes_find1 = _constants__WEBPACK_IMPORTED_MODULE_3__.paperSizes.find((size)=>size.id === selectedPaperSize)) === null || _paperSizes_find1 === void 0 ? void 0 : _paperSizes_find1.dimensions) || \"1024x1536\",\n                                isFrontBackOnly: true,\n                                userEmail,\n                                cardType: cardTypeForPrompt,\n                                toField,\n                                fromField,\n                                isDraftMode: true,\n                                ...inputImages.length > 0 && {\n                                    input_images: inputImages,\n                                    input_images_mode: \"front_cover_only\"\n                                }\n                            }\n                        })\n                    });\n                    if (!response.ok) {\n                        throw new Error(\"Server error: \".concat(response.status));\n                    }\n                    const result = await response.json();\n                    if (result.status !== \"processing\") {\n                        throw new Error(result.message || \"Failed to start draft generation\");\n                    }\n                    console.log(\"✅ Draft variation \".concat(index + 1, \" job started:\"), jobId);\n                    // Don't save draft jobs to storage - only save final cards\n                    // saveJobToStorage(jobId, {\n                    //   isDraft: true,\n                    //   draftIndex: index,\n                    //   styleInfo: styleOverride ? { styleName: styleOverride, styleLabel: styleLabel } : undefined,\n                    //   frontCoverPrompt: enhancedFrontCoverPrompt\n                    // });\n                    // Subscribe to WebSocket updates\n                    subscribeToJob(jobId);\n                } catch (error) {\n                    console.error(\"❌ Draft variation \".concat(index + 1, \" failed:\"), error);\n                    sonner__WEBPACK_IMPORTED_MODULE_1__.toast.error(\"Draft variation \".concat(index + 1, \" failed: \").concat(error instanceof Error ? error.message : \"Unknown error\"));\n                }\n            });\n            // Wait for all draft generations to start\n            await Promise.allSettled(draftPromises);\n            console.log(\"\\uD83D\\uDE80 All draft variations started\");\n        } catch (error) {\n            console.error(\"Draft card generation error:\", error);\n            sonner__WEBPACK_IMPORTED_MODULE_1__.toast.error(\"Failed to start draft generation: \".concat(error instanceof Error ? error.message : \"Unknown error\"));\n            setIsGenerating(false);\n            setIsDraftMode(false);\n            setDraftCompletionShown(false);\n            setDraftCompletionCount(0);\n            setGenerationProgress(\"\");\n            props.stopElapsedTimeTracking();\n        }\n    }, [\n        props\n    ]);\n    // Generate final high-quality card from selected draft\n    const handleGenerateFinalFromDraft = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(async (displayIndex)=>{\n        // Prevent duplicate calls\n        if (isGeneratingFinalCard) {\n            console.log(\"⚠️ Final card generation already in progress, skipping duplicate call\");\n            return;\n        }\n        if (displayIndex < 0 || displayIndex >= draftCards.length || !draftCards[displayIndex]) {\n            sonner__WEBPACK_IMPORTED_MODULE_1__.toast.error(\"Invalid draft selection\");\n            return;\n        }\n        const { selectedType, customCardType, selectedTone, prompt, toField, fromField, finalCardMessage, isHandwrittenMessage, selectedArtisticStyle, customStyleDescription, isFrontBackOnly, selectedImageModel, selectedPaperSize, userEmail, referenceImageUrls, startElapsedTimeTracking, subscribeToJob } = props;\n        // Get the original draft index from the mapping\n        const originalDraftIndex = draftIndexMapping[displayIndex];\n        if (originalDraftIndex === undefined) {\n            sonner__WEBPACK_IMPORTED_MODULE_1__.toast.error(\"Could not find original draft data\");\n            return;\n        }\n        // Stop any existing timers first\n        props.stopElapsedTimeTracking();\n        setIsGeneratingFinalCard(true);\n        setSelectedDraftIndex(displayIndex);\n        startElapsedTimeTracking(undefined, 120);\n        setGenerationProgress(\"\\uD83C\\uDFA8 Creating high-quality version of your selected design...\");\n        try {\n            var _selectedDraft_generatedPrompts, _paperSizes_find, _paperSizes_find1;\n            const selectedDraft = draftCards[displayIndex];\n            const jobId = (0,uuid__WEBPACK_IMPORTED_MODULE_5__[\"default\"])();\n            // Generate the missing prompts\n            const storedFrontCoverPrompt = (_selectedDraft_generatedPrompts = selectedDraft.generatedPrompts) === null || _selectedDraft_generatedPrompts === void 0 ? void 0 : _selectedDraft_generatedPrompts.frontCover;\n            if (!storedFrontCoverPrompt) {\n                throw new Error(\"Selected draft is missing frontCover prompt\");\n            }\n            const cardTypeForPrompt = selectedType === \"custom\" ? customCardType : selectedType;\n            const selectedToneObj = _constants__WEBPACK_IMPORTED_MODULE_3__.cardTones.find((tone)=>tone.id === selectedTone);\n            const toneDescription = selectedToneObj ? selectedToneObj.description.toLowerCase() : \"heartfelt and sincere\";\n            const effectivePrompt = prompt.trim() || \"A beautiful \".concat(cardTypeForPrompt, \" card with \").concat(toneDescription, \" style\");\n            let messageContent = finalCardMessage;\n            if (isHandwrittenMessage) {\n                messageContent = \"[Blank space for handwritten message]\";\n            }\n            // Get style from the selected draft\n            const draftStyleInfo = selectedDraft.styleInfo;\n            let selectedStyle;\n            if (draftStyleInfo && draftStyleInfo.styleName) {\n                selectedStyle = _constants__WEBPACK_IMPORTED_MODULE_3__.artisticStyles.find((style)=>style.id === draftStyleInfo.styleName);\n            } else {\n                selectedStyle = _constants__WEBPACK_IMPORTED_MODULE_3__.artisticStyles.find((style)=>style.id === selectedArtisticStyle);\n            }\n            // Use PromptGenerator for final card from draft\n            const finalFromDraftConfig = {\n                frontCoverPrompt: storedFrontCoverPrompt,\n                cardType: selectedType,\n                customCardType: customCardType,\n                theme: effectivePrompt,\n                tone: selectedTone,\n                toneDescription: toneDescription,\n                toField: toField,\n                fromField: fromField,\n                message: messageContent,\n                isHandwrittenMessage: isHandwrittenMessage,\n                artisticStyle: selectedStyle,\n                isFrontBackOnly: isFrontBackOnly\n            };\n            const finalPrompts = await _lib_promptGenerator__WEBPACK_IMPORTED_MODULE_2__.PromptGenerator.generateFinalFromDraftPromptsCombined(finalFromDraftConfig);\n            if (!finalPrompts || !finalPrompts.frontCover || !finalPrompts.backCover) {\n                throw new Error(\"Failed to generate complete prompts for final card\");\n            }\n            // Prepare input images for final generation\n            const inputImages = [];\n            if (referenceImageUrls.length > 0 && selectedImageModel === \"gpt-image-1\") {\n                inputImages.push(...referenceImageUrls);\n            }\n            const response = await fetch(\"/api/generate-card-async\", {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                    jobId,\n                    prompts: finalPrompts,\n                    config: {\n                        userNumber: \"+17145986105\",\n                        modelVersion: selectedImageModel,\n                        aspectRatio: ((_paperSizes_find = _constants__WEBPACK_IMPORTED_MODULE_3__.paperSizes.find((size)=>size.id === selectedPaperSize)) === null || _paperSizes_find === void 0 ? void 0 : _paperSizes_find.aspectRatio) || \"9:16\",\n                        quality: \"high\",\n                        outputFormat: \"jpeg\",\n                        outputCompression: 100,\n                        moderation: \"low\",\n                        dimensions: ((_paperSizes_find1 = _constants__WEBPACK_IMPORTED_MODULE_3__.paperSizes.find((size)=>size.id === selectedPaperSize)) === null || _paperSizes_find1 === void 0 ? void 0 : _paperSizes_find1.dimensions) || \"1024x1536\",\n                        isFrontBackOnly,\n                        userEmail,\n                        cardType: selectedType === \"custom\" ? customCardType : selectedType,\n                        toField,\n                        fromField,\n                        isDraftMode: false,\n                        ...inputImages.length > 0 && {\n                            input_images: inputImages,\n                            input_images_mode: \"front_cover_only\"\n                        }\n                    }\n                })\n            });\n            if (!response.ok) {\n                throw new Error(\"Server error: \".concat(response.status));\n            }\n            const result = await response.json();\n            if (result.status !== \"processing\") {\n                throw new Error(result.message || \"Failed to start final card generation\");\n            }\n            setCurrentJobId(jobId);\n            sonner__WEBPACK_IMPORTED_MODULE_1__.toast.success(\"\\uD83C\\uDFA8 Generating high-quality version of your selected design!\");\n            // Subscribe to WebSocket updates\n            subscribeToJob(jobId);\n        } catch (error) {\n            console.error(\"Final card generation error:\", error);\n            sonner__WEBPACK_IMPORTED_MODULE_1__.toast.error(\"Failed to generate final card. Please try again.\");\n            setIsGeneratingFinalCard(false);\n            setGenerationProgress(\"\");\n            props.stopElapsedTimeTracking();\n        }\n    }, [\n        draftCards,\n        draftIndexMapping,\n        isGeneratingFinalCard,\n        props\n    ]);\n    return {\n        isDraftMode,\n        setIsDraftMode,\n        draftCards,\n        setDraftCards,\n        draftIndexMapping,\n        setDraftIndexMapping,\n        selectedDraftIndex,\n        setSelectedDraftIndex,\n        isGeneratingFinalCard,\n        setIsGeneratingFinalCard,\n        previewingDraftIndex,\n        setPreviewingDraftIndex,\n        draftCompletionShown,\n        setDraftCompletionShown,\n        draftCompletionCount,\n        setDraftCompletionCount,\n        handleGenerateDraftCards,\n        handleGenerateFinalFromDraft,\n        isGenerating,\n        setIsGenerating,\n        generationProgress,\n        setGenerationProgress,\n        progressPercentage,\n        setProgressPercentage,\n        generatedCard,\n        setGeneratedCard,\n        generatedCards,\n        setGeneratedCards,\n        isCardCompleted,\n        setIsCardCompleted,\n        currentJobId,\n        setCurrentJobId\n    };\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2hvb2tzL2NhcmRTdHVkaW8vdXNlRHJhZnRHZW5lcmF0aW9uLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O3dFQUU4QztBQUNmO0FBQ0s7QUFDdUQ7QUFDTztBQUM3RDtBQThCOUIsU0FBU1UsbUJBQW1CQyxLQUEyQjtJQUM1RCxtQkFBbUI7SUFDbkIsTUFBTSxDQUFDQyxhQUFhQyxlQUFlLEdBQUdiLCtDQUFRQSxDQUFVO0lBQ3hELE1BQU0sQ0FBQ2MsWUFBWUMsY0FBYyxHQUFHZiwrQ0FBUUEsQ0FBa0IsRUFBRTtJQUNoRSxNQUFNLENBQUNnQixtQkFBbUJDLHFCQUFxQixHQUFHakIsK0NBQVFBLENBQVcsRUFBRTtJQUN2RSxNQUFNLENBQUNrQixvQkFBb0JDLHNCQUFzQixHQUFHbkIsK0NBQVFBLENBQVMsQ0FBQztJQUN0RSxNQUFNLENBQUNvQix1QkFBdUJDLHlCQUF5QixHQUFHckIsK0NBQVFBLENBQVU7SUFDNUUsTUFBTSxDQUFDc0Isc0JBQXNCQyx3QkFBd0IsR0FBR3ZCLCtDQUFRQSxDQUFTLENBQUM7SUFDMUUsTUFBTSxDQUFDd0Isc0JBQXNCQyx3QkFBd0IsR0FBR3pCLCtDQUFRQSxDQUFVO0lBQzFFLE1BQU0sQ0FBQzBCLHNCQUFzQkMsd0JBQXdCLEdBQUczQiwrQ0FBUUEsQ0FBUztJQUN6RSxNQUFNLENBQUM0QixjQUFjQyxnQkFBZ0IsR0FBRzdCLCtDQUFRQSxDQUFDO0lBQ2pELE1BQU0sQ0FBQzhCLG9CQUFvQkMsc0JBQXNCLEdBQUcvQiwrQ0FBUUEsQ0FBQztJQUM3RCxNQUFNLENBQUNnQyxvQkFBb0JDLHNCQUFzQixHQUFHakMsK0NBQVFBLENBQUM7SUFDN0QsTUFBTSxDQUFDa0MsZUFBZUMsaUJBQWlCLEdBQUduQywrQ0FBUUEsQ0FBdUI7SUFDekUsTUFBTSxDQUFDb0MsZ0JBQWdCQyxrQkFBa0IsR0FBR3JDLCtDQUFRQSxDQUFrQixFQUFFO0lBQ3hFLE1BQU0sQ0FBQ3NDLGlCQUFpQkMsbUJBQW1CLEdBQUd2QywrQ0FBUUEsQ0FBQztJQUN2RCxNQUFNLENBQUN3QyxjQUFjQyxnQkFBZ0IsR0FBR3pDLCtDQUFRQSxDQUFnQjtJQUVoRSwyREFBMkQ7SUFDM0QsTUFBTTBDLDJCQUEyQnpDLGtEQUFXQSxDQUFDO1FBQzNDLE1BQU0sRUFDSjBDLFNBQVMsRUFDVEMscUJBQXFCLEVBQ3JCQyxzQkFBc0IsRUFDdEJDLGtCQUFrQixFQUNsQkMsa0JBQWtCLEVBQ2xCQyxZQUFZLEVBQ1pDLGNBQWMsRUFDZEMsWUFBWSxFQUNaQyxNQUFNLEVBQ05DLE9BQU8sRUFDUEMsU0FBUyxFQUNUQyxpQkFBaUIsRUFDakJDLGdCQUFnQixFQUNoQkMsY0FBYyxFQUNkQyx3QkFBd0IsRUFDekIsR0FBRzlDO1FBRUosSUFBSSxDQUFDZ0MsVUFBVWUsSUFBSSxJQUFJO1lBQ3JCeEQseUNBQUtBLENBQUN5RCxLQUFLLENBQUM7WUFDWjtRQUNGO1FBRUEseUJBQXlCO1FBQ3pCLE1BQU1DLGFBQWE7UUFDbkIsSUFBSSxDQUFDQSxXQUFXQyxJQUFJLENBQUNsQixZQUFZO1lBQy9CekMseUNBQUtBLENBQUN5RCxLQUFLLENBQUM7WUFDWjtRQUNGO1FBRUEsb0NBQW9DO1FBQ3BDLElBQUlmLDBCQUEwQixZQUFZLENBQUNDLHVCQUF1QmEsSUFBSSxJQUFJO1lBQ3hFeEQseUNBQUtBLENBQUN5RCxLQUFLLENBQUM7WUFDWjtRQUNGO1FBRUEscURBQXFEO1FBQ3JELElBQUliLG1CQUFtQmdCLE1BQU0sR0FBRyxLQUFLZix1QkFBdUIsZUFBZTtZQUN6RTdDLHlDQUFLQSxDQUFDeUQsS0FBSyxDQUFDO1lBQ1o7UUFDRjtRQUVBLGlDQUFpQztRQUNqQ2hELE1BQU1vRCx1QkFBdUI7UUFFN0Isb0RBQW9EO1FBQ3BELElBQUlwRCxNQUFNcUQsc0JBQXNCLEVBQUU7WUFDaENyRCxNQUFNcUQsc0JBQXNCO1FBQzlCO1FBRUFuRCxlQUFlO1FBQ2ZnQixnQkFBZ0I7UUFDaEI0Qix5QkFBeUJRLFdBQVcsS0FBSyw0QkFBNEI7UUFDckVsQyxzQkFBc0I7UUFDdEJFLHNCQUFzQjtRQUN0QmxCLGNBQWMsRUFBRTtRQUNoQkUscUJBQXFCLEVBQUU7UUFDdkJFLHNCQUFzQixDQUFDO1FBQ3ZCTSx3QkFBd0I7UUFDeEJFLHdCQUF3QjtRQUV4QixnQ0FBZ0M7UUFDaENRLGlCQUFpQjtRQUNqQkUsa0JBQWtCLEVBQUU7UUFDcEJFLG1CQUFtQjtRQUVuQixJQUFJO1lBQ0YyQixRQUFRQyxHQUFHLENBQUM7WUFFWixNQUFNQyxvQkFBb0JwQixpQkFBaUIsV0FBV0MsaUJBQWlCRDtZQUN2RSxNQUFNcUIsa0JBQWtCN0QsaURBQVNBLENBQUM4RCxJQUFJLENBQUNDLENBQUFBLE9BQVFBLEtBQUtDLEVBQUUsS0FBS3RCO1lBQzNELE1BQU11QixrQkFBa0JKLGtCQUFrQkEsZ0JBQWdCSyxXQUFXLENBQUNDLFdBQVcsS0FBSztZQUN0RixNQUFNQyxrQkFBa0J6QixPQUFPTyxJQUFJLE1BQU0sZUFBOENlLE9BQS9CTCxtQkFBa0IsZUFBNkIsT0FBaEJLLGlCQUFnQjtZQUV2Ryw4QkFBOEI7WUFDOUIsTUFBTUksZ0JBQWdCQyxNQUFNQyxJQUFJLENBQUM7Z0JBQUVqQixRQUFRO1lBQUUsR0FBRyxPQUFPa0IsR0FBR0M7Z0JBQ3hELElBQUk7d0JBcUVpQjFFLGtCQUtEQTtvQkF6RWxCMkQsUUFBUUMsR0FBRyxDQUFDLHlDQUF5QyxPQUFWYyxRQUFRO29CQUVuRCx5Q0FBeUM7b0JBQ3pDLElBQUlDLGdCQUFvQ2pCO29CQUN4QyxJQUFJa0IsYUFBaUNsQjtvQkFDckMsSUFBSXJCLDBCQUEwQixrQkFBa0I7d0JBQzlDLE1BQU13QyxtQkFBbUI7NEJBQUM7NEJBQWM7NEJBQWE7NEJBQWM7NEJBQWtCO3lCQUFhO3dCQUNsRyxNQUFNQyxjQUFjOzRCQUFDOzRCQUFpQjs0QkFBZ0I7NEJBQWlCOzRCQUFxQjt5QkFBZTt3QkFFM0dILGdCQUFnQkUsZ0JBQWdCLENBQUNILE1BQU07d0JBQ3ZDRSxhQUFhRSxXQUFXLENBQUNKLE1BQU07b0JBQ2pDO29CQUVBLDhCQUE4QjtvQkFDOUIsTUFBTUssZ0JBQWdCaEYsc0RBQWNBLENBQUNnRSxJQUFJLENBQUNpQixDQUFBQSxRQUFTQSxNQUFNZixFQUFFLEtBQU1VLENBQUFBLGlCQUFpQnRDLHFCQUFvQjtvQkFFdEcsTUFBTTRDLGNBQTJCO3dCQUMvQkMsVUFBVXpDO3dCQUNWQyxnQkFBZ0JBO3dCQUNoQnNCLE1BQU1yQjt3QkFDTndDLFdBQVdyQixrQkFBa0JBLGdCQUFnQnNCLEtBQUssR0FBRzt3QkFDckRsQixpQkFBaUJBO3dCQUNqQm1CLE9BQU9oQjt3QkFDUHhCLFNBQVNBO3dCQUNUQyxXQUFXQTt3QkFDWHdDLGVBQWVQO3dCQUNmeEMsb0JBQW9CQTt3QkFDcEJnRCxlQUFlbkYsTUFBTW1GLGFBQWE7d0JBQ2xDQyxrQkFBa0JuRCwwQkFBMEI7d0JBQzVDb0QsZ0JBQWdCZjtvQkFDbEI7b0JBRUEsTUFBTSxFQUFFOUIsUUFBUThDLHFCQUFxQixFQUFFQyxNQUFNLEVBQUUsR0FBRzdGLGlFQUFlQSxDQUFDOEYsNkJBQTZCLENBQUNYO29CQUdoRyxNQUFNWSxtQkFBbUIsTUFBTTNGLGtEQUFVQSxDQUFDd0YsdUJBQXVCO3dCQUMvREksT0FBTzt3QkFDUEMsYUFBYUo7b0JBQ2Y7b0JBRUEsSUFBSSxFQUFDRSw2QkFBQUEsdUNBQUFBLGlCQUFrQjFDLElBQUksS0FBSTt3QkFDN0IsTUFBTSxJQUFJNkMsTUFBTTtvQkFDbEI7b0JBRUEsNENBQTRDO29CQUM1QyxJQUFJQywyQkFBMkJKLGlCQUFpQjFDLElBQUk7b0JBQ3BEOEMsMkJBQTJCbkcsaUVBQWVBLENBQUNvRyxnQ0FBZ0MsQ0FDekVELDBCQUNBMUQsbUJBQW1CZ0IsTUFBTSxHQUFHLEdBQzVCZjtvQkFHRixxQkFBcUI7b0JBQ3JCLE1BQU0yRCxRQUFRLFNBQWtCdEcsT0FBVDZFLE9BQU0sS0FBWSxPQUFUN0UsZ0RBQU1BO29CQUN0QyxNQUFNdUcsY0FBd0IsRUFBRTtvQkFDaEMsSUFBSTdELG1CQUFtQmdCLE1BQU0sR0FBRyxLQUFLZix1QkFBdUIsZUFBZTt3QkFDekU0RCxZQUFZQyxJQUFJLElBQUk5RDtvQkFDdEI7b0JBRUEsTUFBTStELFdBQVcsTUFBTUMsTUFBTSw0QkFBNEI7d0JBQ3ZEQyxRQUFRO3dCQUNSQyxTQUFTOzRCQUFFLGdCQUFnQjt3QkFBbUI7d0JBQzlDQyxNQUFNQyxLQUFLQyxTQUFTLENBQUM7NEJBQ25CVDs0QkFDQVUsU0FBUztnQ0FBRUMsWUFBWWI7NEJBQXlCOzRCQUNoRGMsUUFBUTtnQ0FDTkMsWUFBWTtnQ0FDWkMsY0FBY3pFO2dDQUNkMEUsYUFBYWxILEVBQUFBLG1CQUFBQSxrREFBVUEsQ0FBQytELElBQUksQ0FBQ29ELENBQUFBLE9BQVFBLEtBQUtsRCxFQUFFLEtBQUtsQixnQ0FBcEMvQyx1Q0FBQUEsaUJBQXdEa0gsV0FBVyxLQUFJO2dDQUNwRkUsU0FBUztnQ0FDVEMsY0FBYztnQ0FDZEMsbUJBQW1CO2dDQUNuQkMsWUFBWTtnQ0FDWkMsWUFBWXhILEVBQUFBLG9CQUFBQSxrREFBVUEsQ0FBQytELElBQUksQ0FBQ29ELENBQUFBLE9BQVFBLEtBQUtsRCxFQUFFLEtBQUtsQixnQ0FBcEMvQyx3Q0FBQUEsa0JBQXdEd0gsVUFBVSxLQUFJO2dDQUNsRkMsaUJBQWlCO2dDQUNqQnJGO2dDQUNBOEMsVUFBVXJCO2dDQUNWaEI7Z0NBQ0FDO2dDQUNBekMsYUFBYTtnQ0FDYixHQUFJK0YsWUFBWTdDLE1BQU0sR0FBRyxLQUFLO29DQUM1Qm1FLGNBQWN0QjtvQ0FDZHVCLG1CQUFtQjtnQ0FDckIsQ0FBQzs0QkFDSDt3QkFDRjtvQkFDRjtvQkFFQSxJQUFJLENBQUNyQixTQUFTc0IsRUFBRSxFQUFFO3dCQUNoQixNQUFNLElBQUk1QixNQUFNLGlCQUFpQyxPQUFoQk0sU0FBU3VCLE1BQU07b0JBQ2xEO29CQUVBLE1BQU1DLFNBQVMsTUFBTXhCLFNBQVN5QixJQUFJO29CQUVsQyxJQUFJRCxPQUFPRCxNQUFNLEtBQUssY0FBYzt3QkFDbEMsTUFBTSxJQUFJN0IsTUFBTThCLE9BQU9FLE9BQU8sSUFBSTtvQkFDcEM7b0JBRUFyRSxRQUFRQyxHQUFHLENBQUMscUJBQStCLE9BQVZjLFFBQVEsR0FBRSxrQkFBZ0J5QjtvQkFFM0QsMkRBQTJEO29CQUMzRCw0QkFBNEI7b0JBQzVCLG1CQUFtQjtvQkFDbkIsdUJBQXVCO29CQUN2QixpR0FBaUc7b0JBQ2pHLCtDQUErQztvQkFDL0MsTUFBTTtvQkFFTixpQ0FBaUM7b0JBQ2pDbEQsZUFBZWtEO2dCQUVqQixFQUFFLE9BQU8vQyxPQUFPO29CQUNkTyxRQUFRUCxLQUFLLENBQUMscUJBQStCLE9BQVZzQixRQUFRLEdBQUUsYUFBV3RCO29CQUN4RHpELHlDQUFLQSxDQUFDeUQsS0FBSyxDQUFDLG1CQUF3Q0EsT0FBckJzQixRQUFRLEdBQUUsYUFBb0UsT0FBekR0QixpQkFBaUI0QyxRQUFRNUMsTUFBTTRFLE9BQU8sR0FBRztnQkFDL0Y7WUFDRjtZQUVBLDBDQUEwQztZQUMxQyxNQUFNQyxRQUFRQyxVQUFVLENBQUM1RDtZQUN6QlgsUUFBUUMsR0FBRyxDQUFDO1FBRWQsRUFBRSxPQUFPUixPQUFPO1lBQ2RPLFFBQVFQLEtBQUssQ0FBQyxnQ0FBZ0NBO1lBQzlDekQseUNBQUtBLENBQUN5RCxLQUFLLENBQUMscUNBQThGLE9BQXpEQSxpQkFBaUI0QyxRQUFRNUMsTUFBTTRFLE9BQU8sR0FBRztZQUUxRjFHLGdCQUFnQjtZQUNoQmhCLGVBQWU7WUFDZlksd0JBQXdCO1lBQ3hCRSx3QkFBd0I7WUFDeEJJLHNCQUFzQjtZQUN0QnBCLE1BQU1vRCx1QkFBdUI7UUFDL0I7SUFDRixHQUFHO1FBQUNwRDtLQUFNO0lBRVYsdURBQXVEO0lBQ3ZELE1BQU0rSCwrQkFBK0J6SSxrREFBV0EsQ0FBQyxPQUFPMEk7UUFDdEQsMEJBQTBCO1FBQzFCLElBQUl2SCx1QkFBdUI7WUFDekI4QyxRQUFRQyxHQUFHLENBQUM7WUFDWjtRQUNGO1FBRUEsSUFBSXdFLGVBQWUsS0FBS0EsZ0JBQWdCN0gsV0FBV2dELE1BQU0sSUFBSSxDQUFDaEQsVUFBVSxDQUFDNkgsYUFBYSxFQUFFO1lBQ3RGekkseUNBQUtBLENBQUN5RCxLQUFLLENBQUM7WUFDWjtRQUNGO1FBRUEsTUFBTSxFQUNKWCxZQUFZLEVBQ1pDLGNBQWMsRUFDZEMsWUFBWSxFQUNaQyxNQUFNLEVBQ05DLE9BQU8sRUFDUEMsU0FBUyxFQUNUdUYsZ0JBQWdCLEVBQ2hCQyxvQkFBb0IsRUFDcEJqRyxxQkFBcUIsRUFDckJDLHNCQUFzQixFQUN0Qm1GLGVBQWUsRUFDZmMsa0JBQWtCLEVBQ2xCeEYsaUJBQWlCLEVBQ2pCWCxTQUFTLEVBQ1RHLGtCQUFrQixFQUNsQlcsd0JBQXdCLEVBQ3hCRCxjQUFjLEVBQ2YsR0FBRzdDO1FBRUosZ0RBQWdEO1FBQ2hELE1BQU1vSSxxQkFBcUIvSCxpQkFBaUIsQ0FBQzJILGFBQWE7UUFDMUQsSUFBSUksdUJBQXVCOUUsV0FBVztZQUNwQy9ELHlDQUFLQSxDQUFDeUQsS0FBSyxDQUFDO1lBQ1o7UUFDRjtRQUVBLGlDQUFpQztRQUNqQ2hELE1BQU1vRCx1QkFBdUI7UUFFN0IxQyx5QkFBeUI7UUFDekJGLHNCQUFzQndIO1FBQ3RCbEYseUJBQXlCUSxXQUFXO1FBQ3BDbEMsc0JBQXNCO1FBRXRCLElBQUk7Z0JBSzZCaUgsaUNBNkRaekksa0JBS0RBO1lBdEVsQixNQUFNeUksZ0JBQWdCbEksVUFBVSxDQUFDNkgsYUFBYTtZQUM5QyxNQUFNakMsUUFBUXRHLGdEQUFNQTtZQUVwQiwrQkFBK0I7WUFDL0IsTUFBTTZJLDBCQUF5QkQsa0NBQUFBLGNBQWNFLGdCQUFnQixjQUE5QkYsc0RBQUFBLGdDQUFnQzNCLFVBQVU7WUFDekUsSUFBSSxDQUFDNEIsd0JBQXdCO2dCQUMzQixNQUFNLElBQUkxQyxNQUFNO1lBQ2xCO1lBRUEsTUFBTW5DLG9CQUFvQnBCLGlCQUFpQixXQUFXQyxpQkFBaUJEO1lBQ3ZFLE1BQU1xQixrQkFBa0I3RCxpREFBU0EsQ0FBQzhELElBQUksQ0FBQ0MsQ0FBQUEsT0FBUUEsS0FBS0MsRUFBRSxLQUFLdEI7WUFDM0QsTUFBTXVCLGtCQUFrQkosa0JBQWtCQSxnQkFBZ0JLLFdBQVcsQ0FBQ0MsV0FBVyxLQUFLO1lBQ3RGLE1BQU1DLGtCQUFrQnpCLE9BQU9PLElBQUksTUFBTSxlQUE4Q2UsT0FBL0JMLG1CQUFrQixlQUE2QixPQUFoQkssaUJBQWdCO1lBRXZHLElBQUkwRSxpQkFBaUJQO1lBQ3JCLElBQUlDLHNCQUFzQjtnQkFDeEJNLGlCQUFpQjtZQUNuQjtZQUVBLG9DQUFvQztZQUNwQyxNQUFNQyxpQkFBaUJKLGNBQWNLLFNBQVM7WUFDOUMsSUFBSS9EO1lBQ0osSUFBSThELGtCQUFrQkEsZUFBZUUsU0FBUyxFQUFFO2dCQUM5Q2hFLGdCQUFnQmhGLHNEQUFjQSxDQUFDZ0UsSUFBSSxDQUFDaUIsQ0FBQUEsUUFBU0EsTUFBTWYsRUFBRSxLQUFLNEUsZUFBZUUsU0FBUztZQUNwRixPQUFPO2dCQUNMaEUsZ0JBQWdCaEYsc0RBQWNBLENBQUNnRSxJQUFJLENBQUNpQixDQUFBQSxRQUFTQSxNQUFNZixFQUFFLEtBQUs1QjtZQUM1RDtZQUVBLGdEQUFnRDtZQUNoRCxNQUFNMkcsdUJBQTZDO2dCQUNqRG5ELGtCQUFrQjZDO2dCQUNsQnhELFVBQVV6QztnQkFDVkMsZ0JBQWdCQTtnQkFDaEIyQyxPQUFPaEI7Z0JBQ1BMLE1BQU1yQjtnQkFDTnVCLGlCQUFpQkE7Z0JBQ2pCckIsU0FBU0E7Z0JBQ1RDLFdBQVdBO2dCQUNYa0YsU0FBU1k7Z0JBQ1ROLHNCQUFzQkE7Z0JBQ3RCaEQsZUFBZVA7Z0JBQ2YwQyxpQkFBaUJBO1lBQ25CO1lBRUEsTUFBTXdCLGVBQWUsTUFBTW5KLGlFQUFlQSxDQUFDb0oscUNBQXFDLENBQUNGO1lBRWpGLElBQUksQ0FBQ0MsZ0JBQWdCLENBQUNBLGFBQWFuQyxVQUFVLElBQUksQ0FBQ21DLGFBQWFFLFNBQVMsRUFBRTtnQkFDeEUsTUFBTSxJQUFJbkQsTUFBTTtZQUNsQjtZQUVBLDRDQUE0QztZQUM1QyxNQUFNSSxjQUF3QixFQUFFO1lBQ2hDLElBQUk3RCxtQkFBbUJnQixNQUFNLEdBQUcsS0FBS2dGLHVCQUF1QixlQUFlO2dCQUN6RW5DLFlBQVlDLElBQUksSUFBSTlEO1lBQ3RCO1lBRUEsTUFBTStELFdBQVcsTUFBTUMsTUFBTSw0QkFBNEI7Z0JBQ3ZEQyxRQUFRO2dCQUNSQyxTQUFTO29CQUFFLGdCQUFnQjtnQkFBbUI7Z0JBQzlDQyxNQUFNQyxLQUFLQyxTQUFTLENBQUM7b0JBQ25CVDtvQkFDQVUsU0FBU29DO29CQUNUbEMsUUFBUTt3QkFDTkMsWUFBWTt3QkFDWkMsY0FBY3NCO3dCQUNkckIsYUFBYWxILEVBQUFBLG1CQUFBQSxrREFBVUEsQ0FBQytELElBQUksQ0FBQ29ELENBQUFBLE9BQVFBLEtBQUtsRCxFQUFFLEtBQUtsQixnQ0FBcEMvQyx1Q0FBQUEsaUJBQXdEa0gsV0FBVyxLQUFJO3dCQUNwRkUsU0FBUzt3QkFDVEMsY0FBYzt3QkFDZEMsbUJBQW1CO3dCQUNuQkMsWUFBWTt3QkFDWkMsWUFBWXhILEVBQUFBLG9CQUFBQSxrREFBVUEsQ0FBQytELElBQUksQ0FBQ29ELENBQUFBLE9BQVFBLEtBQUtsRCxFQUFFLEtBQUtsQixnQ0FBcEMvQyx3Q0FBQUEsa0JBQXdEd0gsVUFBVSxLQUFJO3dCQUNsRkM7d0JBQ0FyRjt3QkFDQThDLFVBQVV6QyxpQkFBaUIsV0FBV0MsaUJBQWlCRDt3QkFDdkRJO3dCQUNBQzt3QkFDQXpDLGFBQWE7d0JBQ2IsR0FBSStGLFlBQVk3QyxNQUFNLEdBQUcsS0FBSzs0QkFDNUJtRSxjQUFjdEI7NEJBQ2R1QixtQkFBbUI7d0JBQ3JCLENBQUM7b0JBQ0g7Z0JBQ0Y7WUFDRjtZQUVBLElBQUksQ0FBQ3JCLFNBQVNzQixFQUFFLEVBQUU7Z0JBQ2hCLE1BQU0sSUFBSTVCLE1BQU0saUJBQWlDLE9BQWhCTSxTQUFTdUIsTUFBTTtZQUNsRDtZQUVBLE1BQU1DLFNBQVMsTUFBTXhCLFNBQVN5QixJQUFJO1lBRWxDLElBQUlELE9BQU9ELE1BQU0sS0FBSyxjQUFjO2dCQUNsQyxNQUFNLElBQUk3QixNQUFNOEIsT0FBT0UsT0FBTyxJQUFJO1lBQ3BDO1lBRUE5RixnQkFBZ0JpRTtZQUNoQnhHLHlDQUFLQSxDQUFDeUosT0FBTyxDQUFDO1lBRWQsaUNBQWlDO1lBQ2pDbkcsZUFBZWtEO1FBRWpCLEVBQUUsT0FBTy9DLE9BQU87WUFDZE8sUUFBUVAsS0FBSyxDQUFDLGdDQUFnQ0E7WUFDOUN6RCx5Q0FBS0EsQ0FBQ3lELEtBQUssQ0FBQztZQUNadEMseUJBQXlCO1lBQ3pCVSxzQkFBc0I7WUFDdEJwQixNQUFNb0QsdUJBQXVCO1FBQy9CO0lBQ0YsR0FBRztRQUFDakQ7UUFBWUU7UUFBbUJJO1FBQXVCVDtLQUFNO0lBRWhFLE9BQU87UUFDTEM7UUFDQUM7UUFDQUM7UUFDQUM7UUFDQUM7UUFDQUM7UUFDQUM7UUFDQUM7UUFDQUM7UUFDQUM7UUFDQUM7UUFDQUM7UUFDQUM7UUFDQUM7UUFDQUM7UUFDQUM7UUFDQWU7UUFDQWdHO1FBQ0E5RztRQUNBQztRQUNBQztRQUNBQztRQUNBQztRQUNBQztRQUNBQztRQUNBQztRQUNBQztRQUNBQztRQUNBQztRQUNBQztRQUNBQztRQUNBQztJQUNGO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vaG9va3MvY2FyZFN0dWRpby91c2VEcmFmdEdlbmVyYXRpb24udHM/NGM0NyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIjtcblxuaW1wb3J0IHsgdXNlU3RhdGUsIHVzZUNhbGxiYWNrIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyB0b2FzdCB9IGZyb20gXCJzb25uZXJcIjtcbmltcG9ydCB7IHY0IGFzIHV1aWR2NCB9IGZyb20gJ3V1aWQnO1xuaW1wb3J0IHsgUHJvbXB0R2VuZXJhdG9yLCBEcmFmdENvbmZpZywgRmluYWxGcm9tRHJhZnRDb25maWcgfSBmcm9tICdAL2xpYi9wcm9tcHRHZW5lcmF0b3InO1xuaW1wb3J0IHsgR2VuZXJhdGVkQ2FyZCwgYXJ0aXN0aWNTdHlsZXMsIHBhcGVyU2l6ZXMsIGNhcmRUb25lcywgUGhvdG9BbmFseXNpcyB9IGZyb20gJy4vY29uc3RhbnRzJztcbmltcG9ydCB7IGNoYXRXaXRoQUkgfSBmcm9tICcuL3V0aWxzJztcblxuaW50ZXJmYWNlIERyYWZ0R2VuZXJhdGlvblByb3BzIHtcbiAgLy8gRm9ybSBkYXRhXG4gIHNlbGVjdGVkVHlwZTogc3RyaW5nO1xuICBjdXN0b21DYXJkVHlwZTogc3RyaW5nO1xuICBzZWxlY3RlZFRvbmU6IHN0cmluZztcbiAgc2VsZWN0ZWRBcnRpc3RpY1N0eWxlOiBzdHJpbmc7XG4gIGN1c3RvbVN0eWxlRGVzY3JpcHRpb246IHN0cmluZztcbiAgc2VsZWN0ZWREcmFmdE1vZGVsOiBzdHJpbmc7XG4gIHNlbGVjdGVkSW1hZ2VNb2RlbDogc3RyaW5nO1xuICBzZWxlY3RlZFBhcGVyU2l6ZTogc3RyaW5nO1xuICBwcm9tcHQ6IHN0cmluZztcbiAgdG9GaWVsZDogc3RyaW5nO1xuICBmcm9tRmllbGQ6IHN0cmluZztcbiAgdXNlckVtYWlsOiBzdHJpbmc7XG4gIGZpbmFsQ2FyZE1lc3NhZ2U6IHN0cmluZztcbiAgaXNIYW5kd3JpdHRlbk1lc3NhZ2U6IGJvb2xlYW47XG4gIGlzRnJvbnRCYWNrT25seTogYm9vbGVhbjtcbiAgcmVmZXJlbmNlSW1hZ2VVcmxzOiBzdHJpbmdbXTtcbiAgcGhvdG9BbmFseXNlcz86IFBob3RvQW5hbHlzaXNbXTtcbiAgXG4gIC8vIEpvYiBtYW5hZ2VtZW50XG4gIHNhdmVKb2JUb1N0b3JhZ2U6IChqb2JJZDogc3RyaW5nLCBqb2JEYXRhOiBhbnkpID0+IHZvaWQ7XG4gIHN1YnNjcmliZVRvSm9iOiAoam9iSWQ6IHN0cmluZykgPT4gdm9pZDtcbiAgdW5zdWJzY3JpYmVGcm9tQWxsSm9icz86ICgpID0+IHZvaWQ7XG4gIHN0YXJ0RWxhcHNlZFRpbWVUcmFja2luZzogKHN0YXJ0VGltZT86IG51bWJlciwgZXN0aW1hdGVkVG90YWxTZWNvbmRzPzogbnVtYmVyKSA9PiB2b2lkO1xuICBzdG9wRWxhcHNlZFRpbWVUcmFja2luZzogKCkgPT4gdm9pZDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVzZURyYWZ0R2VuZXJhdGlvbihwcm9wczogRHJhZnRHZW5lcmF0aW9uUHJvcHMpIHtcbiAgLy8gRHJhZnQgbW9kZSBzdGF0ZVxuICBjb25zdCBbaXNEcmFmdE1vZGUsIHNldElzRHJhZnRNb2RlXSA9IHVzZVN0YXRlPGJvb2xlYW4+KGZhbHNlKTtcbiAgY29uc3QgW2RyYWZ0Q2FyZHMsIHNldERyYWZ0Q2FyZHNdID0gdXNlU3RhdGU8R2VuZXJhdGVkQ2FyZFtdPihbXSk7XG4gIGNvbnN0IFtkcmFmdEluZGV4TWFwcGluZywgc2V0RHJhZnRJbmRleE1hcHBpbmddID0gdXNlU3RhdGU8bnVtYmVyW10+KFtdKTtcbiAgY29uc3QgW3NlbGVjdGVkRHJhZnRJbmRleCwgc2V0U2VsZWN0ZWREcmFmdEluZGV4XSA9IHVzZVN0YXRlPG51bWJlcj4oLTEpO1xuICBjb25zdCBbaXNHZW5lcmF0aW5nRmluYWxDYXJkLCBzZXRJc0dlbmVyYXRpbmdGaW5hbENhcmRdID0gdXNlU3RhdGU8Ym9vbGVhbj4oZmFsc2UpO1xuICBjb25zdCBbcHJldmlld2luZ0RyYWZ0SW5kZXgsIHNldFByZXZpZXdpbmdEcmFmdEluZGV4XSA9IHVzZVN0YXRlPG51bWJlcj4oLTEpO1xuICBjb25zdCBbZHJhZnRDb21wbGV0aW9uU2hvd24sIHNldERyYWZ0Q29tcGxldGlvblNob3duXSA9IHVzZVN0YXRlPGJvb2xlYW4+KGZhbHNlKTtcbiAgY29uc3QgW2RyYWZ0Q29tcGxldGlvbkNvdW50LCBzZXREcmFmdENvbXBsZXRpb25Db3VudF0gPSB1c2VTdGF0ZTxudW1iZXI+KDApO1xuICBjb25zdCBbaXNHZW5lcmF0aW5nLCBzZXRJc0dlbmVyYXRpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbZ2VuZXJhdGlvblByb2dyZXNzLCBzZXRHZW5lcmF0aW9uUHJvZ3Jlc3NdID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFtwcm9ncmVzc1BlcmNlbnRhZ2UsIHNldFByb2dyZXNzUGVyY2VudGFnZV0gPSB1c2VTdGF0ZSgwKTtcbiAgY29uc3QgW2dlbmVyYXRlZENhcmQsIHNldEdlbmVyYXRlZENhcmRdID0gdXNlU3RhdGU8R2VuZXJhdGVkQ2FyZCB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbZ2VuZXJhdGVkQ2FyZHMsIHNldEdlbmVyYXRlZENhcmRzXSA9IHVzZVN0YXRlPEdlbmVyYXRlZENhcmRbXT4oW10pO1xuICBjb25zdCBbaXNDYXJkQ29tcGxldGVkLCBzZXRJc0NhcmRDb21wbGV0ZWRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbY3VycmVudEpvYklkLCBzZXRDdXJyZW50Sm9iSWRdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG5cbiAgLy8gRHJhZnQgbW9kZSBnZW5lcmF0aW9uIC0gY3JlYXRlcyA1IGZyb250IGNvdmVyIHZhcmlhdGlvbnNcbiAgY29uc3QgaGFuZGxlR2VuZXJhdGVEcmFmdENhcmRzID0gdXNlQ2FsbGJhY2soYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IHtcbiAgICAgIHVzZXJFbWFpbCxcbiAgICAgIHNlbGVjdGVkQXJ0aXN0aWNTdHlsZSxcbiAgICAgIGN1c3RvbVN0eWxlRGVzY3JpcHRpb24sXG4gICAgICByZWZlcmVuY2VJbWFnZVVybHMsXG4gICAgICBzZWxlY3RlZERyYWZ0TW9kZWwsXG4gICAgICBzZWxlY3RlZFR5cGUsXG4gICAgICBjdXN0b21DYXJkVHlwZSxcbiAgICAgIHNlbGVjdGVkVG9uZSxcbiAgICAgIHByb21wdCxcbiAgICAgIHRvRmllbGQsXG4gICAgICBmcm9tRmllbGQsXG4gICAgICBzZWxlY3RlZFBhcGVyU2l6ZSxcbiAgICAgIHNhdmVKb2JUb1N0b3JhZ2UsXG4gICAgICBzdWJzY3JpYmVUb0pvYixcbiAgICAgIHN0YXJ0RWxhcHNlZFRpbWVUcmFja2luZ1xuICAgIH0gPSBwcm9wcztcblxuICAgIGlmICghdXNlckVtYWlsLnRyaW0oKSkge1xuICAgICAgdG9hc3QuZXJyb3IoXCJQbGVhc2UgZW50ZXIgeW91ciBlbWFpbCBhZGRyZXNzXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIEJhc2ljIGVtYWlsIHZhbGlkYXRpb25cbiAgICBjb25zdCBlbWFpbFJlZ2V4ID0gL15bXlxcc0BdK0BbXlxcc0BdK1xcLlteXFxzQF0rJC87XG4gICAgaWYgKCFlbWFpbFJlZ2V4LnRlc3QodXNlckVtYWlsKSkge1xuICAgICAgdG9hc3QuZXJyb3IoXCJQbGVhc2UgZW50ZXIgYSB2YWxpZCBlbWFpbCBhZGRyZXNzXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIFZhbGlkYXRlIGN1c3RvbSBzdHlsZSBpZiBzZWxlY3RlZFxuICAgIGlmIChzZWxlY3RlZEFydGlzdGljU3R5bGUgPT09IFwiY3VzdG9tXCIgJiYgIWN1c3RvbVN0eWxlRGVzY3JpcHRpb24udHJpbSgpKSB7XG4gICAgICB0b2FzdC5lcnJvcihcIlBsZWFzZSBkZXNjcmliZSB5b3VyIGN1c3RvbSBhcnRpc3RpYyBzdHlsZVwiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBWYWxpZGF0ZSByZWZlcmVuY2UgaW1hZ2VzIHdpdGggbW9kZWwgY29tcGF0aWJpbGl0eVxuICAgIGlmIChyZWZlcmVuY2VJbWFnZVVybHMubGVuZ3RoID4gMCAmJiBzZWxlY3RlZERyYWZ0TW9kZWwgIT09IFwiZ3B0LWltYWdlLTFcIikge1xuICAgICAgdG9hc3QuZXJyb3IoXCJSZWZlcmVuY2UgcGhvdG9zIGFyZSBvbmx5IHN1cHBvcnRlZCB3aXRoIEdQVCBJbWFnZSAxIG1vZGVsLiBQbGVhc2Ugc3dpdGNoIHRvIEdQVCBJbWFnZSAxIGZvciBkcmFmdCBtb2RlIG9yIHJlbW92ZSByZWZlcmVuY2UgcGhvdG9zLlwiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBTdG9wIGFueSBleGlzdGluZyB0aW1lcnMgZmlyc3RcbiAgICBwcm9wcy5zdG9wRWxhcHNlZFRpbWVUcmFja2luZygpO1xuICAgIFxuICAgIC8vIENsZWFyIEFMTCBXZWJTb2NrZXQgc3Vic2NyaXB0aW9ucyBiZWZvcmUgc3RhcnRpbmdcbiAgICBpZiAocHJvcHMudW5zdWJzY3JpYmVGcm9tQWxsSm9icykge1xuICAgICAgcHJvcHMudW5zdWJzY3JpYmVGcm9tQWxsSm9icygpO1xuICAgIH1cbiAgICBcbiAgICBzZXRJc0RyYWZ0TW9kZSh0cnVlKTtcbiAgICBzZXRJc0dlbmVyYXRpbmcodHJ1ZSk7XG4gICAgc3RhcnRFbGFwc2VkVGltZVRyYWNraW5nKHVuZGVmaW5lZCwgNDUpOyAvLyA0NSBzZWNvbmRzIGZvciBkcmFmdCBtb2RlXG4gICAgc2V0R2VuZXJhdGlvblByb2dyZXNzKFwi8J+OqCBDcmVhdGluZyA1IGZyb250IGNvdmVyIHZhcmlhdGlvbnMgZm9yIHlvdSB0byBjaG9vc2UgZnJvbS4uLlwiKTtcbiAgICBzZXRQcm9ncmVzc1BlcmNlbnRhZ2UoMCk7XG4gICAgc2V0RHJhZnRDYXJkcyhbXSk7XG4gICAgc2V0RHJhZnRJbmRleE1hcHBpbmcoW10pO1xuICAgIHNldFNlbGVjdGVkRHJhZnRJbmRleCgtMSk7XG4gICAgc2V0RHJhZnRDb21wbGV0aW9uU2hvd24oZmFsc2UpO1xuICAgIHNldERyYWZ0Q29tcGxldGlvbkNvdW50KDApO1xuICAgIFxuICAgIC8vIENsZWFyIGFueSBwcmV2aW91cyBjYXJkIHN0YXRlXG4gICAgc2V0R2VuZXJhdGVkQ2FyZChudWxsKTtcbiAgICBzZXRHZW5lcmF0ZWRDYXJkcyhbXSk7XG4gICAgc2V0SXNDYXJkQ29tcGxldGVkKGZhbHNlKTtcblxuICAgIHRyeSB7XG4gICAgICBjb25zb2xlLmxvZyhcIvCfmoAgU3RhcnRpbmcgZHJhZnQgbW9kZSBnZW5lcmF0aW9uIHdpdGggNSB2YXJpYXRpb25zXCIpO1xuICAgICAgXG4gICAgICBjb25zdCBjYXJkVHlwZUZvclByb21wdCA9IHNlbGVjdGVkVHlwZSA9PT0gXCJjdXN0b21cIiA/IGN1c3RvbUNhcmRUeXBlIDogc2VsZWN0ZWRUeXBlO1xuICAgICAgY29uc3Qgc2VsZWN0ZWRUb25lT2JqID0gY2FyZFRvbmVzLmZpbmQodG9uZSA9PiB0b25lLmlkID09PSBzZWxlY3RlZFRvbmUpO1xuICAgICAgY29uc3QgdG9uZURlc2NyaXB0aW9uID0gc2VsZWN0ZWRUb25lT2JqID8gc2VsZWN0ZWRUb25lT2JqLmRlc2NyaXB0aW9uLnRvTG93ZXJDYXNlKCkgOiBcImhlYXJ0ZmVsdCBhbmQgc2luY2VyZVwiO1xuICAgICAgY29uc3QgZWZmZWN0aXZlUHJvbXB0ID0gcHJvbXB0LnRyaW0oKSB8fCBgQSBiZWF1dGlmdWwgJHtjYXJkVHlwZUZvclByb21wdH0gY2FyZCB3aXRoICR7dG9uZURlc2NyaXB0aW9ufSBzdHlsZWA7XG5cbiAgICAgIC8vIEdlbmVyYXRlIDUgZHJhZnQgdmFyaWF0aW9uc1xuICAgICAgY29uc3QgZHJhZnRQcm9taXNlcyA9IEFycmF5LmZyb20oeyBsZW5ndGg6IDUgfSwgYXN5bmMgKF8sIGluZGV4KSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc29sZS5sb2coYPCfjqggU3RhcnRpbmcgZHJhZnQgdmFyaWF0aW9uICR7aW5kZXggKyAxfWApO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIEZvciBzbWFydCBzdHlsZSwgdXNlIHByZWRlZmluZWQgc3R5bGVzXG4gICAgICAgICAgbGV0IHN0eWxlT3ZlcnJpZGU6IHN0cmluZyB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICBsZXQgc3R5bGVMYWJlbDogc3RyaW5nIHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkO1xuICAgICAgICAgIGlmIChzZWxlY3RlZEFydGlzdGljU3R5bGUgPT09IFwiYWktc21hcnQtc3R5bGVcIikge1xuICAgICAgICAgICAgY29uc3QgcHJlZGVmaW5lZFN0eWxlcyA9IFtcIndhdGVyY29sb3JcIiwgXCJib3RhbmljYWxcIiwgXCJjb21pYy1ib29rXCIsIFwiZHJlYW15LWZhbnRhc3lcIiwgXCJtaW5pbWFsaXN0XCJdO1xuICAgICAgICAgICAgY29uc3Qgc3R5bGVMYWJlbHMgPSBbXCLwn46oIFdhdGVyY29sb3JcIiwgXCLwn4y/IEJvdGFuaWNhbFwiLCBcIvCfkqUgQ29taWMgQm9va1wiLCBcIvCfjLggRHJlYW15IEZhbnRhc3lcIiwgXCLinKggTWluaW1hbGlzdFwiXTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgc3R5bGVPdmVycmlkZSA9IHByZWRlZmluZWRTdHlsZXNbaW5kZXhdO1xuICAgICAgICAgICAgc3R5bGVMYWJlbCA9IHN0eWxlTGFiZWxzW2luZGV4XTtcbiAgICAgICAgICB9XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gR2VuZXJhdGUgZnJvbnQgY292ZXIgcHJvbXB0XG4gICAgICAgICAgY29uc3Qgc2VsZWN0ZWRTdHlsZSA9IGFydGlzdGljU3R5bGVzLmZpbmQoc3R5bGUgPT4gc3R5bGUuaWQgPT09IChzdHlsZU92ZXJyaWRlIHx8IHNlbGVjdGVkQXJ0aXN0aWNTdHlsZSkpO1xuICAgICAgICAgIFxuICAgICAgICAgIGNvbnN0IGRyYWZ0Q29uZmlnOiBEcmFmdENvbmZpZyA9IHtcbiAgICAgICAgICAgIGNhcmRUeXBlOiBzZWxlY3RlZFR5cGUsXG4gICAgICAgICAgICBjdXN0b21DYXJkVHlwZTogY3VzdG9tQ2FyZFR5cGUsXG4gICAgICAgICAgICB0b25lOiBzZWxlY3RlZFRvbmUsXG4gICAgICAgICAgICB0b25lTGFiZWw6IHNlbGVjdGVkVG9uZU9iaiA/IHNlbGVjdGVkVG9uZU9iai5sYWJlbCA6IFwiSGVhcnRmZWx0XCIsXG4gICAgICAgICAgICB0b25lRGVzY3JpcHRpb246IHRvbmVEZXNjcmlwdGlvbixcbiAgICAgICAgICAgIHRoZW1lOiBlZmZlY3RpdmVQcm9tcHQsXG4gICAgICAgICAgICB0b0ZpZWxkOiB0b0ZpZWxkLFxuICAgICAgICAgICAgZnJvbUZpZWxkOiBmcm9tRmllbGQsXG4gICAgICAgICAgICBhcnRpc3RpY1N0eWxlOiBzZWxlY3RlZFN0eWxlLFxuICAgICAgICAgICAgcmVmZXJlbmNlSW1hZ2VVcmxzOiByZWZlcmVuY2VJbWFnZVVybHMsXG4gICAgICAgICAgICBwaG90b0FuYWx5c2VzOiBwcm9wcy5waG90b0FuYWx5c2VzLFxuICAgICAgICAgICAgaXNEcmFmdFZhcmlhdGlvbjogc2VsZWN0ZWRBcnRpc3RpY1N0eWxlID09PSBcInNtYXJ0XCIsXG4gICAgICAgICAgICB2YXJpYXRpb25JbmRleDogaW5kZXhcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgY29uc3QgeyBwcm9tcHQ6IGZyb250Q292ZXJQcm9tcHRRdWVyeSwgaW1hZ2VzIH0gPSBQcm9tcHRHZW5lcmF0b3IuZ2VuZXJhdGVEcmFmdFByb21wdFdpdGhJbWFnZXMoZHJhZnRDb25maWcpO1xuICAgICAgICAgIFxuICAgICAgICAgIFxuICAgICAgICAgIGNvbnN0IGZyb250Q292ZXJQcm9tcHQgPSBhd2FpdCBjaGF0V2l0aEFJKGZyb250Q292ZXJQcm9tcHRRdWVyeSwge1xuICAgICAgICAgICAgbW9kZWw6IFwiZ2VtaW5pLTIuNS1wcm9cIixcbiAgICAgICAgICAgIGF0dGFjaG1lbnRzOiBpbWFnZXNcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIGlmICghZnJvbnRDb3ZlclByb21wdD8udHJpbSgpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJGYWlsZWQgdG8gZ2VuZXJhdGUgZnJvbnQgY292ZXIgcHJvbXB0XCIpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIEVuaGFuY2Ugd2l0aCByZWZlcmVuY2UgaW1hZ2UgaW5zdHJ1Y3Rpb25zXG4gICAgICAgICAgbGV0IGVuaGFuY2VkRnJvbnRDb3ZlclByb21wdCA9IGZyb250Q292ZXJQcm9tcHQudHJpbSgpO1xuICAgICAgICAgIGVuaGFuY2VkRnJvbnRDb3ZlclByb21wdCA9IFByb21wdEdlbmVyYXRvci5lbmhhbmNlUHJvbXB0V2l0aFJlZmVyZW5jZVBob3RvcyhcbiAgICAgICAgICAgIGVuaGFuY2VkRnJvbnRDb3ZlclByb21wdCxcbiAgICAgICAgICAgIHJlZmVyZW5jZUltYWdlVXJscy5sZW5ndGggPiAwLFxuICAgICAgICAgICAgc2VsZWN0ZWREcmFmdE1vZGVsXG4gICAgICAgICAgKTtcblxuICAgICAgICAgIC8vIEdlbmVyYXRlIHRoZSBpbWFnZVxuICAgICAgICAgIGNvbnN0IGpvYklkID0gYGRyYWZ0LSR7aW5kZXh9LSR7dXVpZHY0KCl9YDtcbiAgICAgICAgICBjb25zdCBpbnB1dEltYWdlczogc3RyaW5nW10gPSBbXTtcbiAgICAgICAgICBpZiAocmVmZXJlbmNlSW1hZ2VVcmxzLmxlbmd0aCA+IDAgJiYgc2VsZWN0ZWREcmFmdE1vZGVsID09PSBcImdwdC1pbWFnZS0xXCIpIHtcbiAgICAgICAgICAgIGlucHV0SW1hZ2VzLnB1c2goLi4ucmVmZXJlbmNlSW1hZ2VVcmxzKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCcvYXBpL2dlbmVyYXRlLWNhcmQtYXN5bmMnLCB7XG4gICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgICBqb2JJZCxcbiAgICAgICAgICAgICAgcHJvbXB0czogeyBmcm9udENvdmVyOiBlbmhhbmNlZEZyb250Q292ZXJQcm9tcHQgfSxcbiAgICAgICAgICAgICAgY29uZmlnOiB7XG4gICAgICAgICAgICAgICAgdXNlck51bWJlcjogXCIrMTcxNDU5ODYxMDVcIixcbiAgICAgICAgICAgICAgICBtb2RlbFZlcnNpb246IHNlbGVjdGVkRHJhZnRNb2RlbCxcbiAgICAgICAgICAgICAgICBhc3BlY3RSYXRpbzogcGFwZXJTaXplcy5maW5kKHNpemUgPT4gc2l6ZS5pZCA9PT0gc2VsZWN0ZWRQYXBlclNpemUpPy5hc3BlY3RSYXRpbyB8fCBcIjk6MTZcIixcbiAgICAgICAgICAgICAgICBxdWFsaXR5OiBcImxvd1wiLFxuICAgICAgICAgICAgICAgIG91dHB1dEZvcm1hdDogXCJqcGVnXCIsXG4gICAgICAgICAgICAgICAgb3V0cHV0Q29tcHJlc3Npb246IDEwMCxcbiAgICAgICAgICAgICAgICBtb2RlcmF0aW9uOiBcImxvd1wiLFxuICAgICAgICAgICAgICAgIGRpbWVuc2lvbnM6IHBhcGVyU2l6ZXMuZmluZChzaXplID0+IHNpemUuaWQgPT09IHNlbGVjdGVkUGFwZXJTaXplKT8uZGltZW5zaW9ucyB8fCBcIjEwMjR4MTUzNlwiLFxuICAgICAgICAgICAgICAgIGlzRnJvbnRCYWNrT25seTogdHJ1ZSxcbiAgICAgICAgICAgICAgICB1c2VyRW1haWwsXG4gICAgICAgICAgICAgICAgY2FyZFR5cGU6IGNhcmRUeXBlRm9yUHJvbXB0LFxuICAgICAgICAgICAgICAgIHRvRmllbGQsXG4gICAgICAgICAgICAgICAgZnJvbUZpZWxkLFxuICAgICAgICAgICAgICAgIGlzRHJhZnRNb2RlOiB0cnVlLFxuICAgICAgICAgICAgICAgIC4uLihpbnB1dEltYWdlcy5sZW5ndGggPiAwICYmIHsgXG4gICAgICAgICAgICAgICAgICBpbnB1dF9pbWFnZXM6IGlucHV0SW1hZ2VzLFxuICAgICAgICAgICAgICAgICAgaW5wdXRfaW1hZ2VzX21vZGU6IFwiZnJvbnRfY292ZXJfb25seVwiXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgU2VydmVyIGVycm9yOiAke3Jlc3BvbnNlLnN0YXR1c31gKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgICAgXG4gICAgICAgICAgaWYgKHJlc3VsdC5zdGF0dXMgIT09ICdwcm9jZXNzaW5nJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHJlc3VsdC5tZXNzYWdlIHx8ICdGYWlsZWQgdG8gc3RhcnQgZHJhZnQgZ2VuZXJhdGlvbicpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGNvbnNvbGUubG9nKGDinIUgRHJhZnQgdmFyaWF0aW9uICR7aW5kZXggKyAxfSBqb2Igc3RhcnRlZDpgLCBqb2JJZCk7XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gRG9uJ3Qgc2F2ZSBkcmFmdCBqb2JzIHRvIHN0b3JhZ2UgLSBvbmx5IHNhdmUgZmluYWwgY2FyZHNcbiAgICAgICAgICAvLyBzYXZlSm9iVG9TdG9yYWdlKGpvYklkLCB7XG4gICAgICAgICAgLy8gICBpc0RyYWZ0OiB0cnVlLFxuICAgICAgICAgIC8vICAgZHJhZnRJbmRleDogaW5kZXgsXG4gICAgICAgICAgLy8gICBzdHlsZUluZm86IHN0eWxlT3ZlcnJpZGUgPyB7IHN0eWxlTmFtZTogc3R5bGVPdmVycmlkZSwgc3R5bGVMYWJlbDogc3R5bGVMYWJlbCB9IDogdW5kZWZpbmVkLFxuICAgICAgICAgIC8vICAgZnJvbnRDb3ZlclByb21wdDogZW5oYW5jZWRGcm9udENvdmVyUHJvbXB0XG4gICAgICAgICAgLy8gfSk7XG5cbiAgICAgICAgICAvLyBTdWJzY3JpYmUgdG8gV2ViU29ja2V0IHVwZGF0ZXNcbiAgICAgICAgICBzdWJzY3JpYmVUb0pvYihqb2JJZCk7XG5cbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKGDinYwgRHJhZnQgdmFyaWF0aW9uICR7aW5kZXggKyAxfSBmYWlsZWQ6YCwgZXJyb3IpO1xuICAgICAgICAgIHRvYXN0LmVycm9yKGBEcmFmdCB2YXJpYXRpb24gJHtpbmRleCArIDF9IGZhaWxlZDogJHtlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJ31gKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIC8vIFdhaXQgZm9yIGFsbCBkcmFmdCBnZW5lcmF0aW9ucyB0byBzdGFydFxuICAgICAgYXdhaXQgUHJvbWlzZS5hbGxTZXR0bGVkKGRyYWZ0UHJvbWlzZXMpO1xuICAgICAgY29uc29sZS5sb2coXCLwn5qAIEFsbCBkcmFmdCB2YXJpYXRpb25zIHN0YXJ0ZWRcIik7XG5cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRHJhZnQgY2FyZCBnZW5lcmF0aW9uIGVycm9yOicsIGVycm9yKTtcbiAgICAgIHRvYXN0LmVycm9yKGBGYWlsZWQgdG8gc3RhcnQgZHJhZnQgZ2VuZXJhdGlvbjogJHtlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJ31gKTtcbiAgICAgIFxuICAgICAgc2V0SXNHZW5lcmF0aW5nKGZhbHNlKTtcbiAgICAgIHNldElzRHJhZnRNb2RlKGZhbHNlKTtcbiAgICAgIHNldERyYWZ0Q29tcGxldGlvblNob3duKGZhbHNlKTtcbiAgICAgIHNldERyYWZ0Q29tcGxldGlvbkNvdW50KDApO1xuICAgICAgc2V0R2VuZXJhdGlvblByb2dyZXNzKFwiXCIpO1xuICAgICAgcHJvcHMuc3RvcEVsYXBzZWRUaW1lVHJhY2tpbmcoKTtcbiAgICB9XG4gIH0sIFtwcm9wc10pO1xuXG4gIC8vIEdlbmVyYXRlIGZpbmFsIGhpZ2gtcXVhbGl0eSBjYXJkIGZyb20gc2VsZWN0ZWQgZHJhZnRcbiAgY29uc3QgaGFuZGxlR2VuZXJhdGVGaW5hbEZyb21EcmFmdCA9IHVzZUNhbGxiYWNrKGFzeW5jIChkaXNwbGF5SW5kZXg6IG51bWJlcikgPT4ge1xuICAgIC8vIFByZXZlbnQgZHVwbGljYXRlIGNhbGxzXG4gICAgaWYgKGlzR2VuZXJhdGluZ0ZpbmFsQ2FyZCkge1xuICAgICAgY29uc29sZS5sb2coJ+KaoO+4jyBGaW5hbCBjYXJkIGdlbmVyYXRpb24gYWxyZWFkeSBpbiBwcm9ncmVzcywgc2tpcHBpbmcgZHVwbGljYXRlIGNhbGwnKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgXG4gICAgaWYgKGRpc3BsYXlJbmRleCA8IDAgfHwgZGlzcGxheUluZGV4ID49IGRyYWZ0Q2FyZHMubGVuZ3RoIHx8ICFkcmFmdENhcmRzW2Rpc3BsYXlJbmRleF0pIHtcbiAgICAgIHRvYXN0LmVycm9yKFwiSW52YWxpZCBkcmFmdCBzZWxlY3Rpb25cIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3Qge1xuICAgICAgc2VsZWN0ZWRUeXBlLFxuICAgICAgY3VzdG9tQ2FyZFR5cGUsXG4gICAgICBzZWxlY3RlZFRvbmUsXG4gICAgICBwcm9tcHQsXG4gICAgICB0b0ZpZWxkLFxuICAgICAgZnJvbUZpZWxkLFxuICAgICAgZmluYWxDYXJkTWVzc2FnZSxcbiAgICAgIGlzSGFuZHdyaXR0ZW5NZXNzYWdlLFxuICAgICAgc2VsZWN0ZWRBcnRpc3RpY1N0eWxlLFxuICAgICAgY3VzdG9tU3R5bGVEZXNjcmlwdGlvbixcbiAgICAgIGlzRnJvbnRCYWNrT25seSxcbiAgICAgIHNlbGVjdGVkSW1hZ2VNb2RlbCxcbiAgICAgIHNlbGVjdGVkUGFwZXJTaXplLFxuICAgICAgdXNlckVtYWlsLFxuICAgICAgcmVmZXJlbmNlSW1hZ2VVcmxzLFxuICAgICAgc3RhcnRFbGFwc2VkVGltZVRyYWNraW5nLFxuICAgICAgc3Vic2NyaWJlVG9Kb2JcbiAgICB9ID0gcHJvcHM7XG5cbiAgICAvLyBHZXQgdGhlIG9yaWdpbmFsIGRyYWZ0IGluZGV4IGZyb20gdGhlIG1hcHBpbmdcbiAgICBjb25zdCBvcmlnaW5hbERyYWZ0SW5kZXggPSBkcmFmdEluZGV4TWFwcGluZ1tkaXNwbGF5SW5kZXhdO1xuICAgIGlmIChvcmlnaW5hbERyYWZ0SW5kZXggPT09IHVuZGVmaW5lZCkge1xuICAgICAgdG9hc3QuZXJyb3IoXCJDb3VsZCBub3QgZmluZCBvcmlnaW5hbCBkcmFmdCBkYXRhXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIFN0b3AgYW55IGV4aXN0aW5nIHRpbWVycyBmaXJzdFxuICAgIHByb3BzLnN0b3BFbGFwc2VkVGltZVRyYWNraW5nKCk7XG4gICAgXG4gICAgc2V0SXNHZW5lcmF0aW5nRmluYWxDYXJkKHRydWUpO1xuICAgIHNldFNlbGVjdGVkRHJhZnRJbmRleChkaXNwbGF5SW5kZXgpO1xuICAgIHN0YXJ0RWxhcHNlZFRpbWVUcmFja2luZyh1bmRlZmluZWQsIDEyMCk7XG4gICAgc2V0R2VuZXJhdGlvblByb2dyZXNzKFwi8J+OqCBDcmVhdGluZyBoaWdoLXF1YWxpdHkgdmVyc2lvbiBvZiB5b3VyIHNlbGVjdGVkIGRlc2lnbi4uLlwiKTtcblxuICAgIHRyeSB7XG4gICAgICBjb25zdCBzZWxlY3RlZERyYWZ0ID0gZHJhZnRDYXJkc1tkaXNwbGF5SW5kZXhdO1xuICAgICAgY29uc3Qgam9iSWQgPSB1dWlkdjQoKTtcbiAgICAgIFxuICAgICAgLy8gR2VuZXJhdGUgdGhlIG1pc3NpbmcgcHJvbXB0c1xuICAgICAgY29uc3Qgc3RvcmVkRnJvbnRDb3ZlclByb21wdCA9IHNlbGVjdGVkRHJhZnQuZ2VuZXJhdGVkUHJvbXB0cz8uZnJvbnRDb3ZlcjtcbiAgICAgIGlmICghc3RvcmVkRnJvbnRDb3ZlclByb21wdCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJTZWxlY3RlZCBkcmFmdCBpcyBtaXNzaW5nIGZyb250Q292ZXIgcHJvbXB0XCIpO1xuICAgICAgfVxuICAgICAgXG4gICAgICBjb25zdCBjYXJkVHlwZUZvclByb21wdCA9IHNlbGVjdGVkVHlwZSA9PT0gXCJjdXN0b21cIiA/IGN1c3RvbUNhcmRUeXBlIDogc2VsZWN0ZWRUeXBlO1xuICAgICAgY29uc3Qgc2VsZWN0ZWRUb25lT2JqID0gY2FyZFRvbmVzLmZpbmQodG9uZSA9PiB0b25lLmlkID09PSBzZWxlY3RlZFRvbmUpO1xuICAgICAgY29uc3QgdG9uZURlc2NyaXB0aW9uID0gc2VsZWN0ZWRUb25lT2JqID8gc2VsZWN0ZWRUb25lT2JqLmRlc2NyaXB0aW9uLnRvTG93ZXJDYXNlKCkgOiBcImhlYXJ0ZmVsdCBhbmQgc2luY2VyZVwiO1xuICAgICAgY29uc3QgZWZmZWN0aXZlUHJvbXB0ID0gcHJvbXB0LnRyaW0oKSB8fCBgQSBiZWF1dGlmdWwgJHtjYXJkVHlwZUZvclByb21wdH0gY2FyZCB3aXRoICR7dG9uZURlc2NyaXB0aW9ufSBzdHlsZWA7XG4gICAgICBcbiAgICAgIGxldCBtZXNzYWdlQ29udGVudCA9IGZpbmFsQ2FyZE1lc3NhZ2U7XG4gICAgICBpZiAoaXNIYW5kd3JpdHRlbk1lc3NhZ2UpIHtcbiAgICAgICAgbWVzc2FnZUNvbnRlbnQgPSBcIltCbGFuayBzcGFjZSBmb3IgaGFuZHdyaXR0ZW4gbWVzc2FnZV1cIjtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gR2V0IHN0eWxlIGZyb20gdGhlIHNlbGVjdGVkIGRyYWZ0XG4gICAgICBjb25zdCBkcmFmdFN0eWxlSW5mbyA9IHNlbGVjdGVkRHJhZnQuc3R5bGVJbmZvO1xuICAgICAgbGV0IHNlbGVjdGVkU3R5bGU7XG4gICAgICBpZiAoZHJhZnRTdHlsZUluZm8gJiYgZHJhZnRTdHlsZUluZm8uc3R5bGVOYW1lKSB7XG4gICAgICAgIHNlbGVjdGVkU3R5bGUgPSBhcnRpc3RpY1N0eWxlcy5maW5kKHN0eWxlID0+IHN0eWxlLmlkID09PSBkcmFmdFN0eWxlSW5mby5zdHlsZU5hbWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2VsZWN0ZWRTdHlsZSA9IGFydGlzdGljU3R5bGVzLmZpbmQoc3R5bGUgPT4gc3R5bGUuaWQgPT09IHNlbGVjdGVkQXJ0aXN0aWNTdHlsZSk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIFVzZSBQcm9tcHRHZW5lcmF0b3IgZm9yIGZpbmFsIGNhcmQgZnJvbSBkcmFmdFxuICAgICAgY29uc3QgZmluYWxGcm9tRHJhZnRDb25maWc6IEZpbmFsRnJvbURyYWZ0Q29uZmlnID0ge1xuICAgICAgICBmcm9udENvdmVyUHJvbXB0OiBzdG9yZWRGcm9udENvdmVyUHJvbXB0LFxuICAgICAgICBjYXJkVHlwZTogc2VsZWN0ZWRUeXBlLFxuICAgICAgICBjdXN0b21DYXJkVHlwZTogY3VzdG9tQ2FyZFR5cGUsXG4gICAgICAgIHRoZW1lOiBlZmZlY3RpdmVQcm9tcHQsXG4gICAgICAgIHRvbmU6IHNlbGVjdGVkVG9uZSxcbiAgICAgICAgdG9uZURlc2NyaXB0aW9uOiB0b25lRGVzY3JpcHRpb24sXG4gICAgICAgIHRvRmllbGQ6IHRvRmllbGQsXG4gICAgICAgIGZyb21GaWVsZDogZnJvbUZpZWxkLFxuICAgICAgICBtZXNzYWdlOiBtZXNzYWdlQ29udGVudCxcbiAgICAgICAgaXNIYW5kd3JpdHRlbk1lc3NhZ2U6IGlzSGFuZHdyaXR0ZW5NZXNzYWdlLFxuICAgICAgICBhcnRpc3RpY1N0eWxlOiBzZWxlY3RlZFN0eWxlLFxuICAgICAgICBpc0Zyb250QmFja09ubHk6IGlzRnJvbnRCYWNrT25seVxuICAgICAgfTtcblxuICAgICAgY29uc3QgZmluYWxQcm9tcHRzID0gYXdhaXQgUHJvbXB0R2VuZXJhdG9yLmdlbmVyYXRlRmluYWxGcm9tRHJhZnRQcm9tcHRzQ29tYmluZWQoZmluYWxGcm9tRHJhZnRDb25maWcpO1xuXG4gICAgICBpZiAoIWZpbmFsUHJvbXB0cyB8fCAhZmluYWxQcm9tcHRzLmZyb250Q292ZXIgfHwgIWZpbmFsUHJvbXB0cy5iYWNrQ292ZXIpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRmFpbGVkIHRvIGdlbmVyYXRlIGNvbXBsZXRlIHByb21wdHMgZm9yIGZpbmFsIGNhcmRcIik7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIFByZXBhcmUgaW5wdXQgaW1hZ2VzIGZvciBmaW5hbCBnZW5lcmF0aW9uXG4gICAgICBjb25zdCBpbnB1dEltYWdlczogc3RyaW5nW10gPSBbXTtcbiAgICAgIGlmIChyZWZlcmVuY2VJbWFnZVVybHMubGVuZ3RoID4gMCAmJiBzZWxlY3RlZEltYWdlTW9kZWwgPT09IFwiZ3B0LWltYWdlLTFcIikge1xuICAgICAgICBpbnB1dEltYWdlcy5wdXNoKC4uLnJlZmVyZW5jZUltYWdlVXJscyk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hcGkvZ2VuZXJhdGUtY2FyZC1hc3luYycsIHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgam9iSWQsXG4gICAgICAgICAgcHJvbXB0czogZmluYWxQcm9tcHRzLFxuICAgICAgICAgIGNvbmZpZzoge1xuICAgICAgICAgICAgdXNlck51bWJlcjogXCIrMTcxNDU5ODYxMDVcIixcbiAgICAgICAgICAgIG1vZGVsVmVyc2lvbjogc2VsZWN0ZWRJbWFnZU1vZGVsLFxuICAgICAgICAgICAgYXNwZWN0UmF0aW86IHBhcGVyU2l6ZXMuZmluZChzaXplID0+IHNpemUuaWQgPT09IHNlbGVjdGVkUGFwZXJTaXplKT8uYXNwZWN0UmF0aW8gfHwgXCI5OjE2XCIsXG4gICAgICAgICAgICBxdWFsaXR5OiBcImhpZ2hcIixcbiAgICAgICAgICAgIG91dHB1dEZvcm1hdDogXCJqcGVnXCIsXG4gICAgICAgICAgICBvdXRwdXRDb21wcmVzc2lvbjogMTAwLFxuICAgICAgICAgICAgbW9kZXJhdGlvbjogXCJsb3dcIixcbiAgICAgICAgICAgIGRpbWVuc2lvbnM6IHBhcGVyU2l6ZXMuZmluZChzaXplID0+IHNpemUuaWQgPT09IHNlbGVjdGVkUGFwZXJTaXplKT8uZGltZW5zaW9ucyB8fCBcIjEwMjR4MTUzNlwiLFxuICAgICAgICAgICAgaXNGcm9udEJhY2tPbmx5LFxuICAgICAgICAgICAgdXNlckVtYWlsLFxuICAgICAgICAgICAgY2FyZFR5cGU6IHNlbGVjdGVkVHlwZSA9PT0gXCJjdXN0b21cIiA/IGN1c3RvbUNhcmRUeXBlIDogc2VsZWN0ZWRUeXBlLFxuICAgICAgICAgICAgdG9GaWVsZCxcbiAgICAgICAgICAgIGZyb21GaWVsZCxcbiAgICAgICAgICAgIGlzRHJhZnRNb2RlOiBmYWxzZSxcbiAgICAgICAgICAgIC4uLihpbnB1dEltYWdlcy5sZW5ndGggPiAwICYmIHsgXG4gICAgICAgICAgICAgIGlucHV0X2ltYWdlczogaW5wdXRJbWFnZXMsXG4gICAgICAgICAgICAgIGlucHV0X2ltYWdlc19tb2RlOiBcImZyb250X2NvdmVyX29ubHlcIlxuICAgICAgICAgICAgfSlcbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICB9KTtcblxuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFNlcnZlciBlcnJvcjogJHtyZXNwb25zZS5zdGF0dXN9YCk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgIFxuICAgICAgaWYgKHJlc3VsdC5zdGF0dXMgIT09ICdwcm9jZXNzaW5nJykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IocmVzdWx0Lm1lc3NhZ2UgfHwgJ0ZhaWxlZCB0byBzdGFydCBmaW5hbCBjYXJkIGdlbmVyYXRpb24nKTtcbiAgICAgIH1cblxuICAgICAgc2V0Q3VycmVudEpvYklkKGpvYklkKTtcbiAgICAgIHRvYXN0LnN1Y2Nlc3MoXCLwn46oIEdlbmVyYXRpbmcgaGlnaC1xdWFsaXR5IHZlcnNpb24gb2YgeW91ciBzZWxlY3RlZCBkZXNpZ24hXCIpO1xuICAgICAgXG4gICAgICAvLyBTdWJzY3JpYmUgdG8gV2ViU29ja2V0IHVwZGF0ZXNcbiAgICAgIHN1YnNjcmliZVRvSm9iKGpvYklkKTtcblxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdGaW5hbCBjYXJkIGdlbmVyYXRpb24gZXJyb3I6JywgZXJyb3IpO1xuICAgICAgdG9hc3QuZXJyb3IoXCJGYWlsZWQgdG8gZ2VuZXJhdGUgZmluYWwgY2FyZC4gUGxlYXNlIHRyeSBhZ2Fpbi5cIik7XG4gICAgICBzZXRJc0dlbmVyYXRpbmdGaW5hbENhcmQoZmFsc2UpO1xuICAgICAgc2V0R2VuZXJhdGlvblByb2dyZXNzKFwiXCIpO1xuICAgICAgcHJvcHMuc3RvcEVsYXBzZWRUaW1lVHJhY2tpbmcoKTtcbiAgICB9XG4gIH0sIFtkcmFmdENhcmRzLCBkcmFmdEluZGV4TWFwcGluZywgaXNHZW5lcmF0aW5nRmluYWxDYXJkLCBwcm9wc10pO1xuXG4gIHJldHVybiB7XG4gICAgaXNEcmFmdE1vZGUsXG4gICAgc2V0SXNEcmFmdE1vZGUsXG4gICAgZHJhZnRDYXJkcyxcbiAgICBzZXREcmFmdENhcmRzLFxuICAgIGRyYWZ0SW5kZXhNYXBwaW5nLFxuICAgIHNldERyYWZ0SW5kZXhNYXBwaW5nLFxuICAgIHNlbGVjdGVkRHJhZnRJbmRleCxcbiAgICBzZXRTZWxlY3RlZERyYWZ0SW5kZXgsXG4gICAgaXNHZW5lcmF0aW5nRmluYWxDYXJkLFxuICAgIHNldElzR2VuZXJhdGluZ0ZpbmFsQ2FyZCxcbiAgICBwcmV2aWV3aW5nRHJhZnRJbmRleCxcbiAgICBzZXRQcmV2aWV3aW5nRHJhZnRJbmRleCxcbiAgICBkcmFmdENvbXBsZXRpb25TaG93bixcbiAgICBzZXREcmFmdENvbXBsZXRpb25TaG93bixcbiAgICBkcmFmdENvbXBsZXRpb25Db3VudCxcbiAgICBzZXREcmFmdENvbXBsZXRpb25Db3VudCxcbiAgICBoYW5kbGVHZW5lcmF0ZURyYWZ0Q2FyZHMsXG4gICAgaGFuZGxlR2VuZXJhdGVGaW5hbEZyb21EcmFmdCxcbiAgICBpc0dlbmVyYXRpbmcsXG4gICAgc2V0SXNHZW5lcmF0aW5nLFxuICAgIGdlbmVyYXRpb25Qcm9ncmVzcyxcbiAgICBzZXRHZW5lcmF0aW9uUHJvZ3Jlc3MsXG4gICAgcHJvZ3Jlc3NQZXJjZW50YWdlLFxuICAgIHNldFByb2dyZXNzUGVyY2VudGFnZSxcbiAgICBnZW5lcmF0ZWRDYXJkLFxuICAgIHNldEdlbmVyYXRlZENhcmQsXG4gICAgZ2VuZXJhdGVkQ2FyZHMsXG4gICAgc2V0R2VuZXJhdGVkQ2FyZHMsXG4gICAgaXNDYXJkQ29tcGxldGVkLFxuICAgIHNldElzQ2FyZENvbXBsZXRlZCxcbiAgICBjdXJyZW50Sm9iSWQsXG4gICAgc2V0Q3VycmVudEpvYklkXG4gIH07XG59Il0sIm5hbWVzIjpbInVzZVN0YXRlIiwidXNlQ2FsbGJhY2siLCJ0b2FzdCIsInY0IiwidXVpZHY0IiwiUHJvbXB0R2VuZXJhdG9yIiwiYXJ0aXN0aWNTdHlsZXMiLCJwYXBlclNpemVzIiwiY2FyZFRvbmVzIiwiY2hhdFdpdGhBSSIsInVzZURyYWZ0R2VuZXJhdGlvbiIsInByb3BzIiwiaXNEcmFmdE1vZGUiLCJzZXRJc0RyYWZ0TW9kZSIsImRyYWZ0Q2FyZHMiLCJzZXREcmFmdENhcmRzIiwiZHJhZnRJbmRleE1hcHBpbmciLCJzZXREcmFmdEluZGV4TWFwcGluZyIsInNlbGVjdGVkRHJhZnRJbmRleCIsInNldFNlbGVjdGVkRHJhZnRJbmRleCIsImlzR2VuZXJhdGluZ0ZpbmFsQ2FyZCIsInNldElzR2VuZXJhdGluZ0ZpbmFsQ2FyZCIsInByZXZpZXdpbmdEcmFmdEluZGV4Iiwic2V0UHJldmlld2luZ0RyYWZ0SW5kZXgiLCJkcmFmdENvbXBsZXRpb25TaG93biIsInNldERyYWZ0Q29tcGxldGlvblNob3duIiwiZHJhZnRDb21wbGV0aW9uQ291bnQiLCJzZXREcmFmdENvbXBsZXRpb25Db3VudCIsImlzR2VuZXJhdGluZyIsInNldElzR2VuZXJhdGluZyIsImdlbmVyYXRpb25Qcm9ncmVzcyIsInNldEdlbmVyYXRpb25Qcm9ncmVzcyIsInByb2dyZXNzUGVyY2VudGFnZSIsInNldFByb2dyZXNzUGVyY2VudGFnZSIsImdlbmVyYXRlZENhcmQiLCJzZXRHZW5lcmF0ZWRDYXJkIiwiZ2VuZXJhdGVkQ2FyZHMiLCJzZXRHZW5lcmF0ZWRDYXJkcyIsImlzQ2FyZENvbXBsZXRlZCIsInNldElzQ2FyZENvbXBsZXRlZCIsImN1cnJlbnRKb2JJZCIsInNldEN1cnJlbnRKb2JJZCIsImhhbmRsZUdlbmVyYXRlRHJhZnRDYXJkcyIsInVzZXJFbWFpbCIsInNlbGVjdGVkQXJ0aXN0aWNTdHlsZSIsImN1c3RvbVN0eWxlRGVzY3JpcHRpb24iLCJyZWZlcmVuY2VJbWFnZVVybHMiLCJzZWxlY3RlZERyYWZ0TW9kZWwiLCJzZWxlY3RlZFR5cGUiLCJjdXN0b21DYXJkVHlwZSIsInNlbGVjdGVkVG9uZSIsInByb21wdCIsInRvRmllbGQiLCJmcm9tRmllbGQiLCJzZWxlY3RlZFBhcGVyU2l6ZSIsInNhdmVKb2JUb1N0b3JhZ2UiLCJzdWJzY3JpYmVUb0pvYiIsInN0YXJ0RWxhcHNlZFRpbWVUcmFja2luZyIsInRyaW0iLCJlcnJvciIsImVtYWlsUmVnZXgiLCJ0ZXN0IiwibGVuZ3RoIiwic3RvcEVsYXBzZWRUaW1lVHJhY2tpbmciLCJ1bnN1YnNjcmliZUZyb21BbGxKb2JzIiwidW5kZWZpbmVkIiwiY29uc29sZSIsImxvZyIsImNhcmRUeXBlRm9yUHJvbXB0Iiwic2VsZWN0ZWRUb25lT2JqIiwiZmluZCIsInRvbmUiLCJpZCIsInRvbmVEZXNjcmlwdGlvbiIsImRlc2NyaXB0aW9uIiwidG9Mb3dlckNhc2UiLCJlZmZlY3RpdmVQcm9tcHQiLCJkcmFmdFByb21pc2VzIiwiQXJyYXkiLCJmcm9tIiwiXyIsImluZGV4Iiwic3R5bGVPdmVycmlkZSIsInN0eWxlTGFiZWwiLCJwcmVkZWZpbmVkU3R5bGVzIiwic3R5bGVMYWJlbHMiLCJzZWxlY3RlZFN0eWxlIiwic3R5bGUiLCJkcmFmdENvbmZpZyIsImNhcmRUeXBlIiwidG9uZUxhYmVsIiwibGFiZWwiLCJ0aGVtZSIsImFydGlzdGljU3R5bGUiLCJwaG90b0FuYWx5c2VzIiwiaXNEcmFmdFZhcmlhdGlvbiIsInZhcmlhdGlvbkluZGV4IiwiZnJvbnRDb3ZlclByb21wdFF1ZXJ5IiwiaW1hZ2VzIiwiZ2VuZXJhdGVEcmFmdFByb21wdFdpdGhJbWFnZXMiLCJmcm9udENvdmVyUHJvbXB0IiwibW9kZWwiLCJhdHRhY2htZW50cyIsIkVycm9yIiwiZW5oYW5jZWRGcm9udENvdmVyUHJvbXB0IiwiZW5oYW5jZVByb21wdFdpdGhSZWZlcmVuY2VQaG90b3MiLCJqb2JJZCIsImlucHV0SW1hZ2VzIiwicHVzaCIsInJlc3BvbnNlIiwiZmV0Y2giLCJtZXRob2QiLCJoZWFkZXJzIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJwcm9tcHRzIiwiZnJvbnRDb3ZlciIsImNvbmZpZyIsInVzZXJOdW1iZXIiLCJtb2RlbFZlcnNpb24iLCJhc3BlY3RSYXRpbyIsInNpemUiLCJxdWFsaXR5Iiwib3V0cHV0Rm9ybWF0Iiwib3V0cHV0Q29tcHJlc3Npb24iLCJtb2RlcmF0aW9uIiwiZGltZW5zaW9ucyIsImlzRnJvbnRCYWNrT25seSIsImlucHV0X2ltYWdlcyIsImlucHV0X2ltYWdlc19tb2RlIiwib2siLCJzdGF0dXMiLCJyZXN1bHQiLCJqc29uIiwibWVzc2FnZSIsIlByb21pc2UiLCJhbGxTZXR0bGVkIiwiaGFuZGxlR2VuZXJhdGVGaW5hbEZyb21EcmFmdCIsImRpc3BsYXlJbmRleCIsImZpbmFsQ2FyZE1lc3NhZ2UiLCJpc0hhbmR3cml0dGVuTWVzc2FnZSIsInNlbGVjdGVkSW1hZ2VNb2RlbCIsIm9yaWdpbmFsRHJhZnRJbmRleCIsInNlbGVjdGVkRHJhZnQiLCJzdG9yZWRGcm9udENvdmVyUHJvbXB0IiwiZ2VuZXJhdGVkUHJvbXB0cyIsIm1lc3NhZ2VDb250ZW50IiwiZHJhZnRTdHlsZUluZm8iLCJzdHlsZUluZm8iLCJzdHlsZU5hbWUiLCJmaW5hbEZyb21EcmFmdENvbmZpZyIsImZpbmFsUHJvbXB0cyIsImdlbmVyYXRlRmluYWxGcm9tRHJhZnRQcm9tcHRzQ29tYmluZWQiLCJiYWNrQ292ZXIiLCJzdWNjZXNzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./hooks/cardStudio/useDraftGeneration.ts\n"));

/***/ })

});