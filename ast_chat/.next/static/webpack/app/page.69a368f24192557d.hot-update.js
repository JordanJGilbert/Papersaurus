"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/page",{

/***/ "(app-pages-browser)/./hooks/useCardForm.tsx":
/*!*******************************!*\
  !*** ./hooks/useCardForm.tsx ***!
  \*******************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useCardForm: function() { return /* binding */ useCardForm; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* __next_internal_client_entry_do_not_use__ useCardForm auto */ var _s = $RefreshSig$();\n\nconst defaultFormData = {\n    // Step 1: Card Basics\n    selectedType: \"birthday\",\n    customCardType: \"\",\n    selectedTone: \"funny\",\n    toField: \"\",\n    fromField: \"\",\n    relationshipField: \"\",\n    // Step 2: Content Creation\n    prompt: \"\",\n    finalCardMessage: \"\",\n    isHandwrittenMessage: false,\n    // Step 3: Personalization\n    selectedArtisticStyle: \"watercolor\",\n    customStyleDescription: \"\",\n    referenceImages: [],\n    referenceImageUrls: [],\n    imageTransformation: \"\",\n    // Step 4: Details\n    userEmail: \"\",\n    selectedImageModel: \"gpt-image-1\",\n    selectedDraftModel: \"gpt-image-1\",\n    selectedPaperSize: \"standard\",\n    numberOfCards: 1,\n    isFrontBackOnly: false\n};\n// Storage keys for persistence\nconst FORM_DATA_KEY = \"vibecarding-wizard-form-data\";\nconst WIZARD_STATE_KEY = \"vibecarding-wizard-state\";\n// Helper function to safely store data (handles quota issues)\nconst safeSetItem = (key, value)=>{\n    try {\n        localStorage.setItem(key, value);\n        return true;\n    } catch (error) {\n        console.warn(\"Failed to save \".concat(key, \" to localStorage:\"), error);\n        return false;\n    }\n};\n// Helper function to safely retrieve data\nconst safeGetItem = (key)=>{\n    try {\n        return localStorage.getItem(key);\n    } catch (error) {\n        console.warn(\"Failed to retrieve \".concat(key, \" from localStorage:\"), error);\n        return null;\n    }\n};\n// Helper function to create serializable form data (excludes File objects)\nconst createSerializableFormData = (formData)=>{\n    const { referenceImages, ...serializableData } = formData;\n    return serializableData;\n};\n// Helper function to restore form data from storage\nconst restoreFormDataFromStorage = ()=>{\n    try {\n        const savedData = safeGetItem(FORM_DATA_KEY);\n        if (!savedData) return defaultFormData;\n        const parsedData = JSON.parse(savedData);\n        // Merge with default data to ensure all fields exist\n        return {\n            ...defaultFormData,\n            ...parsedData,\n            referenceImages: []\n        };\n    } catch (error) {\n        console.warn(\"Failed to restore form data from localStorage:\", error);\n        return defaultFormData;\n    }\n};\nfunction useCardForm() {\n    _s();\n    const [formData, setFormData] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(defaultFormData);\n    const [isInitialLoadComplete, setIsInitialLoadComplete] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    // Initialize form data from storage on component mount (after hydration)\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        if ( true && !isInitialLoadComplete) {\n            const restoredData = restoreFormDataFromStorage();\n            setFormData(restoredData);\n            setIsInitialLoadComplete(true);\n        }\n    }, [\n        isInitialLoadComplete\n    ]);\n    // Save form data to localStorage whenever it changes (debounced)\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        if (!isInitialLoadComplete) return;\n        const timeoutId = setTimeout(()=>{\n            const serializableData = createSerializableFormData(formData);\n            safeSetItem(FORM_DATA_KEY, JSON.stringify(serializableData));\n        }, 500); // Debounce by 500ms\n        return ()=>clearTimeout(timeoutId);\n    }, [\n        formData,\n        isInitialLoadComplete\n    ]);\n    const updateFormData = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((updates)=>{\n        setFormData((prev)=>({\n                ...prev,\n                ...updates\n            }));\n    }, []);\n    const resetForm = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(()=>{\n        setFormData(defaultFormData);\n        // Clear stored data\n        try {\n            localStorage.removeItem(FORM_DATA_KEY);\n        } catch (error) {\n            console.warn(\"Failed to clear form data from localStorage:\", error);\n        }\n    }, []);\n    const clearStoredData = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(()=>{\n        try {\n            localStorage.removeItem(FORM_DATA_KEY);\n            localStorage.removeItem(WIZARD_STATE_KEY);\n        } catch (error) {\n            console.warn(\"Failed to clear stored data:\", error);\n        }\n    }, []);\n    const validateStep = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((step)=>{\n        switch(step){\n            case 1:\n                // Card type is required\n                if (!formData.selectedType) return false;\n                // If custom type is selected, custom description is required\n                if (formData.selectedType === \"custom\" && !formData.customCardType.trim()) return false;\n                // Tone is required\n                if (!formData.selectedTone) return false;\n                return true;\n            case 2:\n                // All fields are optional - let AI generate defaults\n                return true;\n            case 3:\n                // All fields are optional\n                // If custom style is selected, description is required\n                if (formData.selectedArtisticStyle === \"custom\" && !formData.customStyleDescription.trim()) return false;\n                // If reference images with incompatible model\n                if (formData.referenceImageUrls.length > 0 && formData.selectedImageModel !== \"gpt-image-1\") return false;\n                return true;\n            case 4:\n                // Email is required\n                if (!formData.userEmail.trim()) return false;\n                // Basic email validation\n                const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n                if (!emailRegex.test(formData.userEmail)) return false;\n                return true;\n            case 5:\n                // All previous steps must be valid\n                return validateStep(1) && validateStep(2) && validateStep(3) && validateStep(4);\n            default:\n                return false;\n        }\n    }, [\n        formData\n    ]);\n    const getStepSummary = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((step)=>{\n        const summary = [];\n        switch(step){\n            case 1:\n                const cardType = formData.selectedType === \"custom\" ? formData.customCardType : formData.selectedType;\n                summary.push(\"Card Type: \".concat(cardType || \"Not selected\"));\n                summary.push(\"Tone: \".concat(formData.selectedTone || \"Not selected\"));\n                if (formData.toField) summary.push(\"To: \".concat(formData.toField));\n                if (formData.fromField) summary.push(\"From: \".concat(formData.fromField));\n                break;\n            case 2:\n                if (formData.prompt) summary.push(\"Description: \".concat(formData.prompt.substring(0, 50), \"...\"));\n                if (formData.finalCardMessage) summary.push(\"Message: \".concat(formData.finalCardMessage.substring(0, 50), \"...\"));\n                if (formData.isHandwrittenMessage) summary.push(\"Handwritten message space included\");\n                break;\n            case 3:\n                summary.push(\"Style: \".concat(formData.selectedArtisticStyle));\n                if (formData.referenceImageUrls.length > 0) {\n                    summary.push(\"Reference photos: \".concat(formData.referenceImageUrls.length, \" uploaded\"));\n                }\n                break;\n            case 4:\n                summary.push(\"Email: \".concat(formData.userEmail));\n                summary.push(\"Model: \".concat(formData.selectedImageModel));\n                summary.push(\"Paper: \".concat(formData.selectedPaperSize));\n                if (formData.isFrontBackOnly) summary.push(\"Front/back only\");\n                break;\n        }\n        return summary;\n    }, [\n        formData\n    ]);\n    const getValidationErrors = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((step)=>{\n        const errors = [];\n        switch(step){\n            case 1:\n                if (!formData.selectedType) errors.push(\"Please select a card type\");\n                if (formData.selectedType === \"custom\" && !formData.customCardType.trim()) {\n                    errors.push(\"Please describe your custom card type\");\n                }\n                if (!formData.selectedTone) errors.push(\"Please select a tone\");\n                break;\n            case 3:\n                if (formData.selectedArtisticStyle === \"custom\" && !formData.customStyleDescription.trim()) {\n                    errors.push(\"Please describe your custom artistic style\");\n                }\n                if (formData.referenceImageUrls.length > 0 && formData.selectedImageModel !== \"gpt-image-1\") {\n                    errors.push(\"Reference photos are only supported with GPT Image 1 model\");\n                }\n                break;\n            case 4:\n                if (!formData.userEmail.trim()) {\n                    errors.push(\"Email address is required\");\n                } else {\n                    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n                    if (!emailRegex.test(formData.userEmail)) {\n                        errors.push(\"Please enter a valid email address\");\n                    }\n                }\n                break;\n        }\n        return errors;\n    }, [\n        formData\n    ]);\n    return {\n        formData,\n        updateFormData,\n        resetForm,\n        clearStoredData,\n        validateStep,\n        getStepSummary,\n        getValidationErrors,\n        isInitialLoadComplete\n    };\n}\n_s(useCardForm, \"YE2fe0fHZ97w2jIa4AHNqZm6dc4=\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2hvb2tzL3VzZUNhcmRGb3JtLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBRXlEO0FBZ0N6RCxNQUFNRyxrQkFBZ0M7SUFDcEMsc0JBQXNCO0lBQ3RCQyxjQUFjO0lBQ2RDLGdCQUFnQjtJQUNoQkMsY0FBYztJQUNkQyxTQUFTO0lBQ1RDLFdBQVc7SUFDWEMsbUJBQW1CO0lBRW5CLDJCQUEyQjtJQUMzQkMsUUFBUTtJQUNSQyxrQkFBa0I7SUFDbEJDLHNCQUFzQjtJQUV0QiwwQkFBMEI7SUFDMUJDLHVCQUF1QjtJQUN2QkMsd0JBQXdCO0lBQ3hCQyxpQkFBaUIsRUFBRTtJQUNuQkMsb0JBQW9CLEVBQUU7SUFDdEJDLHFCQUFxQjtJQUVyQixrQkFBa0I7SUFDbEJDLFdBQVc7SUFDWEMsb0JBQW9CO0lBQ3BCQyxvQkFBb0I7SUFDcEJDLG1CQUFtQjtJQUNuQkMsZUFBZTtJQUNmQyxpQkFBaUI7QUFDbkI7QUFFQSwrQkFBK0I7QUFDL0IsTUFBTUMsZ0JBQWdCO0FBQ3RCLE1BQU1DLG1CQUFtQjtBQUV6Qiw4REFBOEQ7QUFDOUQsTUFBTUMsY0FBYyxDQUFDQyxLQUFhQztJQUNoQyxJQUFJO1FBQ0ZDLGFBQWFDLE9BQU8sQ0FBQ0gsS0FBS0M7UUFDMUIsT0FBTztJQUNULEVBQUUsT0FBT0csT0FBTztRQUNkQyxRQUFRQyxJQUFJLENBQUMsa0JBQXNCLE9BQUpOLEtBQUksc0JBQW9CSTtRQUN2RCxPQUFPO0lBQ1Q7QUFDRjtBQUVBLDBDQUEwQztBQUMxQyxNQUFNRyxjQUFjLENBQUNQO0lBQ25CLElBQUk7UUFDRixPQUFPRSxhQUFhTSxPQUFPLENBQUNSO0lBQzlCLEVBQUUsT0FBT0ksT0FBTztRQUNkQyxRQUFRQyxJQUFJLENBQUMsc0JBQTBCLE9BQUpOLEtBQUksd0JBQXNCSTtRQUM3RCxPQUFPO0lBQ1Q7QUFDRjtBQUVBLDJFQUEyRTtBQUMzRSxNQUFNSyw2QkFBNkIsQ0FBQ0M7SUFDbEMsTUFBTSxFQUFFdEIsZUFBZSxFQUFF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SUFBSSxJQUFJO29CQUMxRlUsT0FBT0gsSUFBSSxDQUFDO2dCQUNkO2dCQUNBLElBQUkvQixTQUFTckIsa0JBQWtCLENBQUM4QyxNQUFNLEdBQUcsS0FBS3pCLFNBQVNsQixrQkFBa0IsS0FBSyxlQUFlO29CQUMzRm9ELE9BQU9ILElBQUksQ0FBQztnQkFDZDtnQkFDQTtZQUVGLEtBQUs7Z0JBQ0gsSUFBSSxDQUFDL0IsU0FBU25CLFNBQVMsQ0FBQzJDLElBQUksSUFBSTtvQkFDOUJVLE9BQU9ILElBQUksQ0FBQztnQkFDZCxPQUFPO29CQUNMLE1BQU1MLGFBQWE7b0JBQ25CLElBQUksQ0FBQ0EsV0FBV0MsSUFBSSxDQUFDM0IsU0FBU25CLFNBQVMsR0FBRzt3QkFDeENxRCxPQUFPSCxJQUFJLENBQUM7b0JBQ2Q7Z0JBQ0Y7Z0JBQ0E7UUFDSjtRQUVBLE9BQU9HO0lBQ1QsR0FBRztRQUFDbEM7S0FBUztJQUViLE9BQU87UUFDTEE7UUFDQWdCO1FBQ0FHO1FBQ0FFO1FBQ0FDO1FBQ0FNO1FBQ0FLO1FBQ0F4QjtJQUNGO0FBQ0Y7R0ExS2dCRiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ob29rcy91c2VDYXJkRm9ybS50c3g/NGMzNSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIjtcblxuaW1wb3J0IHsgdXNlU3RhdGUsIHVzZUNhbGxiYWNrLCB1c2VFZmZlY3QgfSBmcm9tIFwicmVhY3RcIjtcblxuZXhwb3J0IGludGVyZmFjZSBDYXJkRm9ybURhdGEge1xuICAvLyBTdGVwIDE6IENhcmQgQmFzaWNzXG4gIHNlbGVjdGVkVHlwZTogc3RyaW5nO1xuICBjdXN0b21DYXJkVHlwZTogc3RyaW5nO1xuICBzZWxlY3RlZFRvbmU6IHN0cmluZztcbiAgdG9GaWVsZDogc3RyaW5nO1xuICBmcm9tRmllbGQ6IHN0cmluZztcbiAgcmVsYXRpb25zaGlwRmllbGQ6IHN0cmluZztcblxuICAvLyBTdGVwIDI6IENvbnRlbnQgQ3JlYXRpb25cbiAgcHJvbXB0OiBzdHJpbmc7XG4gIGZpbmFsQ2FyZE1lc3NhZ2U6IHN0cmluZztcbiAgaXNIYW5kd3JpdHRlbk1lc3NhZ2U6IGJvb2xlYW47XG5cbiAgLy8gU3RlcCAzOiBQZXJzb25hbGl6YXRpb25cbiAgc2VsZWN0ZWRBcnRpc3RpY1N0eWxlOiBzdHJpbmc7XG4gIGN1c3RvbVN0eWxlRGVzY3JpcHRpb246IHN0cmluZztcbiAgcmVmZXJlbmNlSW1hZ2VzOiBGaWxlW107XG4gIHJlZmVyZW5jZUltYWdlVXJsczogc3RyaW5nW107XG4gIGltYWdlVHJhbnNmb3JtYXRpb246IHN0cmluZztcblxuICAvLyBTdGVwIDQ6IERldGFpbHNcbiAgdXNlckVtYWlsOiBzdHJpbmc7XG4gIHNlbGVjdGVkSW1hZ2VNb2RlbDogc3RyaW5nO1xuICBzZWxlY3RlZERyYWZ0TW9kZWw6IHN0cmluZztcbiAgc2VsZWN0ZWRQYXBlclNpemU6IHN0cmluZztcbiAgbnVtYmVyT2ZDYXJkczogbnVtYmVyO1xuICBpc0Zyb250QmFja09ubHk6IGJvb2xlYW47XG59XG5cbmNvbnN0IGRlZmF1bHRGb3JtRGF0YTogQ2FyZEZvcm1EYXRhID0ge1xuICAvLyBTdGVwIDE6IENhcmQgQmFzaWNzXG4gIHNlbGVjdGVkVHlwZTogXCJiaXJ0aGRheVwiLFxuICBjdXN0b21DYXJkVHlwZTogXCJcIixcbiAgc2VsZWN0ZWRUb25lOiBcImZ1bm55XCIsXG4gIHRvRmllbGQ6IFwiXCIsXG4gIGZyb21GaWVsZDogXCJcIixcbiAgcmVsYXRpb25zaGlwRmllbGQ6IFwiXCIsXG5cbiAgLy8gU3RlcCAyOiBDb250ZW50IENyZWF0aW9uXG4gIHByb21wdDogXCJcIixcbiAgZmluYWxDYXJkTWVzc2FnZTogXCJcIixcbiAgaXNIYW5kd3JpdHRlbk1lc3NhZ2U6IGZhbHNlLFxuXG4gIC8vIFN0ZXAgMzogUGVyc29uYWxpemF0aW9uXG4gIHNlbGVjdGVkQXJ0aXN0aWNTdHlsZTogXCJ3YXRlcmNvbG9yXCIsXG4gIGN1c3RvbVN0eWxlRGVzY3JpcHRpb246IFwiXCIsXG4gIHJlZmVyZW5jZUltYWdlczogW10sXG4gIHJlZmVyZW5jZUltYWdlVXJsczogW10sXG4gIGltYWdlVHJhbnNmb3JtYXRpb246IFwiXCIsXG5cbiAgLy8gU3RlcCA0OiBEZXRhaWxzXG4gIHVzZXJFbWFpbDogXCJcIixcbiAgc2VsZWN0ZWRJbWFnZU1vZGVsOiBcImdwdC1pbWFnZS0xXCIsXG4gIHNlbGVjdGVkRHJhZnRNb2RlbDogXCJncHQtaW1hZ2UtMVwiLFxuICBzZWxlY3RlZFBhcGVyU2l6ZTogXCJzdGFuZGFyZFwiLFxuICBudW1iZXJPZkNhcmRzOiAxLFxuICBpc0Zyb250QmFja09ubHk6IGZhbHNlLFxufTtcblxuLy8gU3RvcmFnZSBrZXlzIGZvciBwZXJzaXN0ZW5jZVxuY29uc3QgRk9STV9EQVRBX0tFWSA9ICd2aWJlY2FyZGluZy13aXphcmQtZm9ybS1kYXRhJztcbmNvbnN0IFdJWkFSRF9TVEFURV9LRVkgPSAndmliZWNhcmRpbmctd2l6YXJkLXN0YXRlJztcblxuLy8gSGVscGVyIGZ1bmN0aW9uIHRvIHNhZmVseSBzdG9yZSBkYXRhIChoYW5kbGVzIHF1b3RhIGlzc3VlcylcbmNvbnN0IHNhZmVTZXRJdGVtID0gKGtleTogc3RyaW5nLCB2YWx1ZTogc3RyaW5nKTogYm9vbGVhbiA9PiB7XG4gIHRyeSB7XG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oa2V5LCB2YWx1ZSk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS53YXJuKGBGYWlsZWQgdG8gc2F2ZSAke2tleX0gdG8gbG9jYWxTdG9yYWdlOmAsIGVycm9yKTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn07XG5cbi8vIEhlbHBlciBmdW5jdGlvbiB0byBzYWZlbHkgcmV0cmlldmUgZGF0YVxuY29uc3Qgc2FmZUdldEl0ZW0gPSAoa2V5OiBzdHJpbmcpOiBzdHJpbmcgfCBudWxsID0+IHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gbG9jYWxTdG9yYWdlLmdldEl0ZW0oa2V5KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLndhcm4oYEZhaWxlZCB0byByZXRyaWV2ZSAke2tleX0gZnJvbSBsb2NhbFN0b3JhZ2U6YCwgZXJyb3IpO1xuICAgIHJldHVybiBudWxsO1xuICB9XG59O1xuXG4vLyBIZWxwZXIgZnVuY3Rpb24gdG8gY3JlYXRlIHNlcmlhbGl6YWJsZSBmb3JtIGRhdGEgKGV4Y2x1ZGVzIEZpbGUgb2JqZWN0cylcbmNvbnN0IGNyZWF0ZVNlcmlhbGl6YWJsZUZvcm1EYXRhID0gKGZvcm1EYXRhOiBDYXJkRm9ybURhdGEpOiBPbWl0PENhcmRGb3JtRGF0YSwgJ3JlZmVyZW5jZUltYWdlcyc+ID0+IHtcbiAgY29uc3QgeyByZWZlcmVuY2VJbWFnZXMsIC4uLnNlcmlhbGl6YWJsZURhdGEgfSA9IGZvcm1EYXRhO1xuICByZXR1cm4gc2VyaWFsaXphYmxlRGF0YTtcbn07XG5cbi8vIEhlbHBlciBmdW5jdGlvbiB0byByZXN0b3JlIGZvcm0gZGF0YSBmcm9tIHN0b3JhZ2VcbmNvbnN0IHJlc3RvcmVGb3JtRGF0YUZyb21TdG9yYWdlID0gKCk6IENhcmRGb3JtRGF0YSA9PiB7XG4gIHRyeSB7XG4gICAgY29uc3Qgc2F2ZWREYXRhID0gc2FmZUdldEl0ZW0oRk9STV9EQVRBX0tFWSk7XG4gICAgaWYgKCFzYXZlZERhdGEpIHJldHVybiBkZWZhdWx0Rm9ybURhdGE7XG5cbiAgICBjb25zdCBwYXJzZWREYXRhID0gSlNPTi5wYXJzZShzYXZlZERhdGEpO1xuICAgIFxuICAgIC8vIE1lcmdlIHdpdGggZGVmYXVsdCBkYXRhIHRvIGVuc3VyZSBhbGwgZmllbGRzIGV4aXN0XG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLmRlZmF1bHRGb3JtRGF0YSxcbiAgICAgIC4uLnBhcnNlZERhdGEsXG4gICAgICByZWZlcmVuY2VJbWFnZXM6IFtdLCAvLyBBbHdheXMgcmVzZXQgRmlsZSBvYmplY3RzXG4gICAgfTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLndhcm4oJ0ZhaWxlZCB0byByZXN0b3JlIGZvcm0gZGF0YSBmcm9tIGxvY2FsU3RvcmFnZTonLCBlcnJvcik7XG4gICAgcmV0dXJuIGRlZmF1bHRGb3JtRGF0YTtcbiAgfVxufTtcblxuZXhwb3J0IGZ1bmN0aW9uIHVzZUNhcmRGb3JtKCkge1xuICBjb25zdCBbZm9ybURhdGEsIHNldEZvcm1EYXRhXSA9IHVzZVN0YXRlPENhcmRGb3JtRGF0YT4oZGVmYXVsdEZvcm1EYXRhKTtcbiAgY29uc3QgW2lzSW5pdGlhbExvYWRDb21wbGV0ZSwgc2V0SXNJbml0aWFsTG9hZENvbXBsZXRlXSA9IHVzZVN0YXRlKGZhbHNlKTtcblxuICAvLyBJbml0aWFsaXplIGZvcm0gZGF0YSBmcm9tIHN0b3JhZ2Ugb24gY29tcG9uZW50IG1vdW50IChhZnRlciBoeWRyYXRpb24pXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmICFpc0luaXRpYWxMb2FkQ29tcGxldGUpIHtcbiAgICAgIGNvbnN0IHJlc3RvcmVkRGF0YSA9IHJlc3RvcmVGb3JtRGF0YUZyb21TdG9yYWdlKCk7XG4gICAgICBzZXRGb3JtRGF0YShyZXN0b3JlZERhdGEpO1xuICAgICAgc2V0SXNJbml0aWFsTG9hZENvbXBsZXRlKHRydWUpO1xuICAgIH1cbiAgfSwgW2lzSW5pdGlhbExvYWRDb21wbGV0ZV0pO1xuXG4gIC8vIFNhdmUgZm9ybSBkYXRhIHRvIGxvY2FsU3RvcmFnZSB3aGVuZXZlciBpdCBjaGFuZ2VzIChkZWJvdW5jZWQpXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFpc0luaXRpYWxMb2FkQ29tcGxldGUpIHJldHVybjtcblxuICAgIGNvbnN0IHRpbWVvdXRJZCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgY29uc3Qgc2VyaWFsaXphYmxlRGF0YSA9IGNyZWF0ZVNlcmlhbGl6YWJsZUZvcm1EYXRhKGZvcm1EYXRhKTtcbiAgICAgIHNhZmVTZXRJdGVtKEZPUk1fREFUQV9LRVksIEpTT04uc3RyaW5naWZ5KHNlcmlhbGl6YWJsZURhdGEpKTtcbiAgICB9LCA1MDApOyAvLyBEZWJvdW5jZSBieSA1MDBtc1xuXG4gICAgcmV0dXJuICgpID0+IGNsZWFyVGltZW91dCh0aW1lb3V0SWQpO1xuICB9LCBbZm9ybURhdGEsIGlzSW5pdGlhbExvYWRDb21wbGV0ZV0pO1xuXG4gIGNvbnN0IHVwZGF0ZUZvcm1EYXRhID0gdXNlQ2FsbGJhY2soKHVwZGF0ZXM6IFBhcnRpYWw8Q2FyZEZvcm1EYXRhPikgPT4ge1xuICAgIHNldEZvcm1EYXRhKHByZXYgPT4gKHsgLi4ucHJldiwgLi4udXBkYXRlcyB9KSk7XG4gIH0sIFtdKTtcblxuICBjb25zdCByZXNldEZvcm0gPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgc2V0Rm9ybURhdGEoZGVmYXVsdEZvcm1EYXRhKTtcbiAgICAvLyBDbGVhciBzdG9yZWQgZGF0YVxuICAgIHRyeSB7XG4gICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShGT1JNX0RBVEFfS0VZKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS53YXJuKCdGYWlsZWQgdG8gY2xlYXIgZm9ybSBkYXRhIGZyb20gbG9jYWxTdG9yYWdlOicsIGVycm9yKTtcbiAgICB9XG4gIH0sIFtdKTtcblxuICBjb25zdCBjbGVhclN0b3JlZERhdGEgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKEZPUk1fREFUQV9LRVkpO1xuICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oV0laQVJEX1NUQVRFX0tFWSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUud2FybignRmFpbGVkIHRvIGNsZWFyIHN0b3JlZCBkYXRhOicsIGVycm9yKTtcbiAgICB9XG4gIH0sIFtdKTtcblxuICBjb25zdCB2YWxpZGF0ZVN0ZXAgPSB1c2VDYWxsYmFjaygoc3RlcDogbnVtYmVyKTogYm9vbGVhbiA9PiB7XG4gICAgc3dpdGNoIChzdGVwKSB7XG4gICAgICBjYXNlIDE6IC8vIENhcmQgQmFzaWNzXG4gICAgICAgIC8vIENhcmQgdHlwZSBpcyByZXF1aXJlZFxuICAgICAgICBpZiAoIWZvcm1EYXRhLnNlbGVjdGVkVHlwZSkgcmV0dXJuIGZhbHNlO1xuICAgICAgICAvLyBJZiBjdXN0b20gdHlwZSBpcyBzZWxlY3RlZCwgY3VzdG9tIGRlc2NyaXB0aW9uIGlzIHJlcXVpcmVkXG4gICAgICAgIGlmIChmb3JtRGF0YS5zZWxlY3RlZFR5cGUgPT09IFwiY3VzdG9tXCIgJiYgIWZvcm1EYXRhLmN1c3RvbUNhcmRUeXBlLnRyaW0oKSkgcmV0dXJuIGZhbHNlO1xuICAgICAgICAvLyBUb25lIGlzIHJlcXVpcmVkXG4gICAgICAgIGlmICghZm9ybURhdGEuc2VsZWN0ZWRUb25lKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIHJldHVybiB0cnVlO1xuXG4gICAgICBjYXNlIDI6IC8vIENvbnRlbnQgQ3JlYXRpb25cbiAgICAgICAgLy8gQWxsIGZpZWxkcyBhcmUgb3B0aW9uYWwgLSBsZXQgQUkgZ2VuZXJhdGUgZGVmYXVsdHNcbiAgICAgICAgcmV0dXJuIHRydWU7XG5cbiAgICAgIGNhc2UgMzogLy8gUGVyc29uYWxpemF0aW9uXG4gICAgICAgIC8vIEFsbCBmaWVsZHMgYXJlIG9wdGlvbmFsXG4gICAgICAgIC8vIElmIGN1c3RvbSBzdHlsZSBpcyBzZWxlY3RlZCwgZGVzY3JpcHRpb24gaXMgcmVxdWlyZWRcbiAgICAgICAgaWYgKGZvcm1EYXRhLnNlbGVjdGVkQXJ0aXN0aWNTdHlsZSA9PT0gXCJjdXN0b21cIiAmJiAhZm9ybURhdGEuY3VzdG9tU3R5bGVEZXNjcmlwdGlvbi50cmltKCkpIHJldHVybiBmYWxzZTtcbiAgICAgICAgLy8gSWYgcmVmZXJlbmNlIGltYWdlcyB3aXRoIGluY29tcGF0aWJsZSBtb2RlbFxuICAgICAgICBpZiAoZm9ybURhdGEucmVmZXJlbmNlSW1hZ2VVcmxzLmxlbmd0aCA+IDAgJiYgZm9ybURhdGEuc2VsZWN0ZWRJbWFnZU1vZGVsICE9PSBcImdwdC1pbWFnZS0xXCIpIHJldHVybiBmYWxzZTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG5cbiAgICAgIGNhc2UgNDogLy8gRGV0YWlsc1xuICAgICAgICAvLyBFbWFpbCBpcyByZXF1aXJlZFxuICAgICAgICBpZiAoIWZvcm1EYXRhLnVzZXJFbWFpbC50cmltKCkpIHJldHVybiBmYWxzZTtcbiAgICAgICAgLy8gQmFzaWMgZW1haWwgdmFsaWRhdGlvblxuICAgICAgICBjb25zdCBlbWFpbFJlZ2V4ID0gL15bXlxcc0BdK0BbXlxcc0BdK1xcLlteXFxzQF0rJC87XG4gICAgICAgIGlmICghZW1haWxSZWdleC50ZXN0KGZvcm1EYXRhLnVzZXJFbWFpbCkpIHJldHVybiBmYWxzZTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG5cbiAgICAgIGNhc2UgNTogLy8gR2VuZXJhdGVcbiAgICAgICAgLy8gQWxsIHByZXZpb3VzIHN0ZXBzIG11c3QgYmUgdmFsaWRcbiAgICAgICAgcmV0dXJuIHZhbGlkYXRlU3RlcCgxKSAmJiB2YWxpZGF0ZVN0ZXAoMikgJiYgdmFsaWRhdGVTdGVwKDMpICYmIHZhbGlkYXRlU3RlcCg0KTtcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfSwgW2Zvcm1EYXRhXSk7XG5cbiAgY29uc3QgZ2V0U3RlcFN1bW1hcnkgPSB1c2VDYWxsYmFjaygoc3RlcDogbnVtYmVyKTogc3RyaW5nW10gPT4ge1xuICAgIGNvbnN0IHN1bW1hcnk6IHN0cmluZ1tdID0gW107XG4gICAgXG4gICAgc3dpdGNoIChzdGVwKSB7XG4gICAgICBjYXNlIDE6XG4gICAgICAgIGNvbnN0IGNhcmRUeXBlID0gZm9ybURhdGEuc2VsZWN0ZWRUeXBlID09PSBcImN1c3RvbVwiID8gZm9ybURhdGEuY3VzdG9tQ2FyZFR5cGUgOiBmb3JtRGF0YS5zZWxlY3RlZFR5cGU7XG4gICAgICAgIHN1bW1hcnkucHVzaChgQ2FyZCBUeXBlOiAke2NhcmRUeXBlIHx8IFwiTm90IHNlbGVjdGVkXCJ9YCk7XG4gICAgICAgIHN1bW1hcnkucHVzaChgVG9uZTogJHtmb3JtRGF0YS5zZWxlY3RlZFRvbmUgfHwgXCJOb3Qgc2VsZWN0ZWRcIn1gKTtcbiAgICAgICAgaWYgKGZvcm1EYXRhLnRvRmllbGQpIHN1bW1hcnkucHVzaChgVG86ICR7Zm9ybURhdGEudG9GaWVsZH1gKTtcbiAgICAgICAgaWYgKGZvcm1EYXRhLmZyb21GaWVsZCkgc3VtbWFyeS5wdXNoKGBGcm9tOiAke2Zvcm1EYXRhLmZyb21GaWVsZH1gKTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgMjpcbiAgICAgICAgaWYgKGZvcm1EYXRhLnByb21wdCkgc3VtbWFyeS5wdXNoKGBEZXNjcmlwdGlvbjogJHtmb3JtRGF0YS5wcm9tcHQuc3Vic3RyaW5nKDAsIDUwKX0uLi5gKTtcbiAgICAgICAgaWYgKGZvcm1EYXRhLmZpbmFsQ2FyZE1lc3NhZ2UpIHN1bW1hcnkucHVzaChgTWVzc2FnZTogJHtmb3JtRGF0YS5maW5hbENhcmRNZXNzYWdlLnN1YnN0cmluZygwLCA1MCl9Li4uYCk7XG4gICAgICAgIGlmIChmb3JtRGF0YS5pc0hhbmR3cml0dGVuTWVzc2FnZSkgc3VtbWFyeS5wdXNoKFwiSGFuZHdyaXR0ZW4gbWVzc2FnZSBzcGFjZSBpbmNsdWRlZFwiKTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgMzpcbiAgICAgICAgc3VtbWFyeS5wdXNoKGBTdHlsZTogJHtmb3JtRGF0YS5zZWxlY3RlZEFydGlzdGljU3R5bGV9YCk7XG4gICAgICAgIGlmIChmb3JtRGF0YS5yZWZlcmVuY2VJbWFnZVVybHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgIHN1bW1hcnkucHVzaChgUmVmZXJlbmNlIHBob3RvczogJHtmb3JtRGF0YS5yZWZlcmVuY2VJbWFnZVVybHMubGVuZ3RofSB1cGxvYWRlZGApO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlIDQ6XG4gICAgICAgIHN1bW1hcnkucHVzaChgRW1haWw6ICR7Zm9ybURhdGEudXNlckVtYWlsfWApO1xuICAgICAgICBzdW1tYXJ5LnB1c2goYE1vZGVsOiAke2Zvcm1EYXRhLnNlbGVjdGVkSW1hZ2VNb2RlbH1gKTtcbiAgICAgICAgc3VtbWFyeS5wdXNoKGBQYXBlcjogJHtmb3JtRGF0YS5zZWxlY3RlZFBhcGVyU2l6ZX1gKTtcbiAgICAgICAgaWYgKGZvcm1EYXRhLmlzRnJvbnRCYWNrT25seSkgc3VtbWFyeS5wdXNoKFwiRnJvbnQvYmFjayBvbmx5XCIpO1xuICAgICAgICBicmVhaztcbiAgICB9XG5cbiAgICByZXR1cm4gc3VtbWFyeTtcbiAgfSwgW2Zvcm1EYXRhXSk7XG5cbiAgY29uc3QgZ2V0VmFsaWRhdGlvbkVycm9ycyA9IHVzZUNhbGxiYWNrKChzdGVwOiBudW1iZXIpOiBzdHJpbmdbXSA9PiB7XG4gICAgY29uc3QgZXJyb3JzOiBzdHJpbmdbXSA9IFtdO1xuXG4gICAgc3dpdGNoIChzdGVwKSB7XG4gICAgICBjYXNlIDE6XG4gICAgICAgIGlmICghZm9ybURhdGEuc2VsZWN0ZWRUeXBlKSBlcnJvcnMucHVzaChcIlBsZWFzZSBzZWxlY3QgYSBjYXJkIHR5cGVcIik7XG4gICAgICAgIGlmIChmb3JtRGF0YS5zZWxlY3RlZFR5cGUgPT09IFwiY3VzdG9tXCIgJiYgIWZvcm1EYXRhLmN1c3RvbUNhcmRUeXBlLnRyaW0oKSkge1xuICAgICAgICAgIGVycm9ycy5wdXNoKFwiUGxlYXNlIGRlc2NyaWJlIHlvdXIgY3VzdG9tIGNhcmQgdHlwZVwiKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWZvcm1EYXRhLnNlbGVjdGVkVG9uZSkgZXJyb3JzLnB1c2goXCJQbGVhc2Ugc2VsZWN0IGEgdG9uZVwiKTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgMzpcbiAgICAgICAgaWYgKGZvcm1EYXRhLnNlbGVjdGVkQXJ0aXN0aWNTdHlsZSA9PT0gXCJjdXN0b21cIiAmJiAhZm9ybURhdGEuY3VzdG9tU3R5bGVEZXNjcmlwdGlvbi50cmltKCkpIHtcbiAgICAgICAgICBlcnJvcnMucHVzaChcIlBsZWFzZSBkZXNjcmliZSB5b3VyIGN1c3RvbSBhcnRpc3RpYyBzdHlsZVwiKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZm9ybURhdGEucmVmZXJlbmNlSW1hZ2VVcmxzLmxlbmd0aCA+IDAgJiYgZm9ybURhdGEuc2VsZWN0ZWRJbWFnZU1vZGVsICE9PSBcImdwdC1pbWFnZS0xXCIpIHtcbiAgICAgICAgICBlcnJvcnMucHVzaChcIlJlZmVyZW5jZSBwaG90b3MgYXJlIG9ubHkgc3VwcG9ydGVkIHdpdGggR1BUIEltYWdlIDEgbW9kZWxcIik7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgNDpcbiAgICAgICAgaWYgKCFmb3JtRGF0YS51c2VyRW1haWwudHJpbSgpKSB7XG4gICAgICAgICAgZXJyb3JzLnB1c2goXCJFbWFpbCBhZGRyZXNzIGlzIHJlcXVpcmVkXCIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnN0IGVtYWlsUmVnZXggPSAvXlteXFxzQF0rQFteXFxzQF0rXFwuW15cXHNAXSskLztcbiAgICAgICAgICBpZiAoIWVtYWlsUmVnZXgudGVzdChmb3JtRGF0YS51c2VyRW1haWwpKSB7XG4gICAgICAgICAgICBlcnJvcnMucHVzaChcIlBsZWFzZSBlbnRlciBhIHZhbGlkIGVtYWlsIGFkZHJlc3NcIik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgIH1cblxuICAgIHJldHVybiBlcnJvcnM7XG4gIH0sIFtmb3JtRGF0YV0pO1xuXG4gIHJldHVybiB7XG4gICAgZm9ybURhdGEsXG4gICAgdXBkYXRlRm9ybURhdGEsXG4gICAgcmVzZXRGb3JtLFxuICAgIGNsZWFyU3RvcmVkRGF0YSxcbiAgICB2YWxpZGF0ZVN0ZXAsXG4gICAgZ2V0U3RlcFN1bW1hcnksXG4gICAgZ2V0VmFsaWRhdGlvbkVycm9ycyxcbiAgICBpc0luaXRpYWxMb2FkQ29tcGxldGUsXG4gIH07XG59ICJdLCJuYW1lcyI6WyJ1c2VTdGF0ZSIsInVzZUNhbGxiYWNrIiwidXNlRWZmZWN0IiwiZGVmYXVsdEZvcm1EYXRhIiwic2VsZWN0ZWRUeXBlIiwiY3VzdG9tQ2FyZFR5cGUiLCJzZWxlY3RlZFRvbmUiLCJ0b0ZpZWxkIiwiZnJvbUZpZWxkIiwicmVsYXRpb25zaGlwRmllbGQiLCJwcm9tcHQiLCJmaW5hbENhcmRNZXNzYWdlIiwiaXNIYW5kd3JpdHRlbk1lc3NhZ2UiLCJzZWxlY3RlZEFydGlzdGljU3R5bGUiLCJjdXN0b21TdHlsZURlc2NyaXB0aW9uIiwicmVmZXJlbmNlSW1hZ2VzIiwicmVmZXJlbmNlSW1hZ2VVcmxzIiwiaW1hZ2VUcmFuc2Zvcm1hdGlvbiIsInVzZXJFbWFpbCIsInNlbGVjdGVkSW1hZ2VNb2RlbCIsInNlbGVjdGVkRHJhZnRNb2RlbCIsInNlbGVjdGVkUGFwZXJTaXplIiwibnVtYmVyT2ZDYXJkcyIsImlzRnJvbnRCYWNrT25seSIsIkZPUk1fREFUQV9LRVkiLCJXSVpBUkRfU1RBVEVfS0VZIiwic2FmZVNldEl0ZW0iLCJrZXkiLCJ2YWx1ZSIsImxvY2FsU3RvcmFnZSIsInNldEl0ZW0iLCJlcnJvciIsImNvbnNvbGUiLCJ3YXJuIiwic2FmZUdldEl0ZW0iLCJnZXRJdGVtIiwiY3JlYXRlU2VyaWFsaXphYmxlRm9ybURhdGEiLCJmb3JtRGF0YSIsInNlcmlhbGl6YWJsZURhdGEiLCJyZXN0b3JlRm9ybURhdGFGcm9tU3RvcmFnZSIsInNhdmVkRGF0YSIsInBhcnNlZERhdGEiLCJKU09OIiwicGFyc2UiLCJ1c2VDYXJkRm9ybSIsInNldEZvcm1EYXRhIiwiaXNJbml0aWFsTG9hZENvbXBsZXRlIiwic2V0SXNJbml0aWFsTG9hZENvbXBsZXRlIiwicmVzdG9yZWREYXRhIiwidGltZW91dElkIiwic2V0VGltZW91dCIsInN0cmluZ2lmeSIsImNsZWFyVGltZW91dCIsInVwZGF0ZUZvcm1EYXRhIiwidXBkYXRlcyIsInByZXYiLCJyZXNldEZvcm0iLCJyZW1vdmVJdGVtIiwiY2xlYXJTdG9yZWREYXRhIiwidmFsaWRhdGVTdGVwIiwic3RlcCIsInRyaW0iLCJsZW5ndGgiLCJlbWFpbFJlZ2V4IiwidGVzdCIsImdldFN0ZXBTdW1tYXJ5Iiwic3VtbWFyeSIsImNhcmRUeXBlIiwicHVzaCIsInN1YnN0cmluZyIsImdldFZhbGlkYXRpb25FcnJvcnMiLCJlcnJvcnMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./hooks/useCardForm.tsx\n"));

/***/ })

});