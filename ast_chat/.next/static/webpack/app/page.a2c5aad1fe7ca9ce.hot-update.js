"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/page",{

/***/ "(app-pages-browser)/./app/page.tsx":
/*!**********************!*\
  !*** ./app/page.tsx ***!
  \**********************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ CardStudioPage; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _components_ui_button__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/components/ui/button */ \"(app-pages-browser)/./components/ui/button.tsx\");\n/* harmony import */ var _components_ui_input__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/components/ui/input */ \"(app-pages-browser)/./components/ui/input.tsx\");\n/* harmony import */ var _components_ui_textarea__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/components/ui/textarea */ \"(app-pages-browser)/./components/ui/textarea.tsx\");\n/* harmony import */ var _components_ui_card__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/components/ui/card */ \"(app-pages-browser)/./components/ui/card.tsx\");\n/* harmony import */ var _components_ui_badge__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/components/ui/badge */ \"(app-pages-browser)/./components/ui/badge.tsx\");\n/* harmony import */ var _components_ui_separator__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @/components/ui/separator */ \"(app-pages-browser)/./components/ui/separator.tsx\");\n/* harmony import */ var _components_ui_select__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @/components/ui/select */ \"(app-pages-browser)/./components/ui/select.tsx\");\n/* harmony import */ var _components_ui_collapsible__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @/components/ui/collapsible */ \"(app-pages-browser)/./components/ui/collapsible.tsx\");\n/* harmony import */ var _components_ui_popover__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @/components/ui/popover */ \"(app-pages-browser)/./components/ui/popover.tsx\");\n/* harmony import */ var _components_ui_dialog__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @/components/ui/dialog */ \"(app-pages-browser)/./components/ui/dialog.tsx\");\n/* harmony import */ var _barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! __barrel_optimize__?names=AlertTriangle,ArrowLeft,Baby,Cake,CheckCircle,ChevronDown,Church,Clock,CloudRain,Eye,Gift,GraduationCap,Heart,Home,Image,MessageCircle,MessageSquare,MessageSquarePlus,Palette,Printer,Redo2,RefreshCw,Settings,Settings2,Sparkles,Stethoscope,ThumbsUp,TreePine,Trophy,Undo2,Upload,Wand2,Wrench,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/wrench.js\");\n/* harmony import */ var _barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! __barrel_optimize__?names=AlertTriangle,ArrowLeft,Baby,Cake,CheckCircle,ChevronDown,Church,Clock,CloudRain,Eye,Gift,GraduationCap,Heart,Home,Image,MessageCircle,MessageSquare,MessageSquarePlus,Palette,Printer,Redo2,RefreshCw,Settings,Settings2,Sparkles,Stethoscope,ThumbsUp,TreePine,Trophy,Undo2,Upload,Wand2,Wrench,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/cake.js\");\n/* harmony import */ var _barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! __barrel_optimize__?names=AlertTriangle,ArrowLeft,Baby,Cake,CheckCircle,ChevronDown,Church,Clock,CloudRain,Eye,Gift,GraduationCap,Heart,Home,Image,MessageCircle,MessageSquare,MessageSquarePlus,Palette,Printer,Redo2,RefreshCw,Settings,Settings2,Sparkles,Stethoscope,ThumbsUp,TreePine,Trophy,Undo2,Upload,Wand2,Wrench,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/thumbs-up.js\");\n/* harmony import */ var _barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! __barrel_optimize__?names=AlertTriangle,ArrowLeft,Baby,Cake,CheckCircle,ChevronDown,Church,Clock,CloudRain,Eye,Gift,GraduationCap,Heart,Home,Image,MessageCircle,MessageSquare,MessageSquarePlus,Palette,Printer,Redo2,RefreshCw,Settings,Settings2,Sparkles,Stethoscope,ThumbsUp,TreePine,Trophy,Undo2,Upload,Wand2,Wrench,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/heart.js\");\n/* harmony import */ var _barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! __barrel_optimize__?names=AlertTriangle,ArrowLeft,Baby,Cake,CheckCircle,ChevronDown,Church,Clock,CloudRain,Eye,Gift,GraduationCap,Heart,Home,Image,MessageCircle,MessageSquare,MessageSquarePlus,Palette,Printer,Redo2,RefreshCw,Settings,Settings2,Sparkles,Stethoscope,ThumbsUp,TreePine,Trophy,Undo2,Upload,Wand2,Wrench,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/trophy.js\");\n/* harmony import */ var _barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! __barrel_optimize__?names=AlertTriangle,ArrowLeft,Baby,Cake,CheckCircle,ChevronDown,Church,Clock,CloudRain,Eye,Gift,GraduationCap,Heart,Home,Image,MessageCircle,MessageSquare,MessageSquarePlus,Palette,Printer,Redo2,RefreshCw,Settings,Settings2,Sparkles,Stethoscope,ThumbsUp,TreePine,Trophy,Undo2,Upload,Wand2,Wrench,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/tree-pine.js\");\n/* harmony import */ var _barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! __barrel_optimize__?names=AlertTriangle,ArrowLeft,Baby,Cake,CheckCircle,ChevronDown,Church,Clock,CloudRain,Eye,Gift,GraduationCap,Heart,Home,Image,MessageCircle,MessageSquare,MessageSquarePlus,Palette,Printer,Redo2,RefreshCw,Settings,Settings2,Sparkles,Stethoscope,ThumbsUp,TreePine,Trophy,Undo2,Upload,Wand2,Wrench,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/stethoscope.js\");\n/* harmony import */ var _barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! __barrel_optimize__?names=AlertTriangle,ArrowLeft,Baby,Cake,CheckCircle,ChevronDown,Church,Clock,CloudRain,Eye,Gift,GraduationCap,Heart,Home,Image,MessageCircle,MessageSquare,MessageSquarePlus,Palette,Printer,Redo2,RefreshCw,Settings,Settings2,Sparkles,Stethoscope,ThumbsUp,TreePine,Trophy,Undo2,Upload,Wand2,Wrench,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/cloud-rain.js\");\n/* harmony import */ var _barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! __barrel_optimize__?names=AlertTriangle,ArrowLeft,Baby,Cake,CheckCircle,ChevronDown,Church,Clock,CloudRain,Eye,Gift,GraduationCap,Heart,Home,Image,MessageCircle,MessageSquare,MessageSquarePlus,Palette,Printer,Redo2,RefreshCw,Settings,Settings2,Sparkles,Stethoscope,ThumbsUp,TreePine,Trophy,Undo2,Upload,Wand2,Wrench,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/graduation-cap.js\");\n/* harmony import */ var _barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! __barrel_optimize__?names=AlertTriangle,ArrowLeft,Baby,Cake,CheckCircle,ChevronDown,Church,Clock,CloudRain,Eye,Gift,GraduationCap,Heart,Home,Image,MessageCircle,MessageSquare,MessageSquarePlus,Palette,Printer,Redo2,RefreshCw,Settings,Settings2,Sparkles,Stethoscope,ThumbsUp,TreePine,Trophy,Undo2,Upload,Wand2,Wrench,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/baby.js\");\n/* harmony import */ var _barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! __barrel_optimize__?names=AlertTriangle,ArrowLeft,Baby,Cake,CheckCircle,ChevronDown,Church,Clock,CloudRain,Eye,Gift,GraduationCap,Heart,Home,Image,MessageCircle,MessageSquare,MessageSquarePlus,Palette,Printer,Redo2,RefreshCw,Settings,Settings2,Sparkles,Stethoscope,ThumbsUp,TreePine,Trophy,Undo2,Upload,Wand2,Wrench,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/church.js\");\n/* harmony import */ var _barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! __barrel_optimize__?names=AlertTriangle,ArrowLeft,Baby,Cake,CheckCircle,ChevronDown,Church,Clock,CloudRain,Eye,Gift,GraduationCap,Heart,Home,Image,MessageCircle,MessageSquare,MessageSquarePlus,Palette,Printer,Redo2,RefreshCw,Settings,Settings2,Sparkles,Stethoscope,ThumbsUp,TreePine,Trophy,Undo2,Upload,Wand2,Wrench,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/gift.js\");\n/* harmony import */ var _barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! __barrel_optimize__?names=AlertTriangle,ArrowLeft,Baby,Cake,CheckCircle,ChevronDown,Church,Clock,CloudRain,Eye,Gift,GraduationCap,Heart,Home,Image,MessageCircle,MessageSquare,MessageSquarePlus,Palette,Printer,Redo2,RefreshCw,Settings,Settings2,Sparkles,Stethoscope,ThumbsUp,TreePine,Trophy,Undo2,Upload,Wand2,Wrench,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/home.js\");\n/* harmony import */ var _barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! __barrel_optimize__?names=AlertTriangle,ArrowLeft,Baby,Cake,CheckCircle,ChevronDown,Church,Clock,CloudRain,Eye,Gift,GraduationCap,Heart,Home,Image,MessageCircle,MessageSquare,MessageSquarePlus,Palette,Printer,Redo2,RefreshCw,Settings,Settings2,Sparkles,Stethoscope,ThumbsUp,TreePine,Trophy,Undo2,Upload,Wand2,Wrench,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/message-circle.js\");\n/* harmony import */ var _barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! __barrel_optimize__?names=AlertTriangle,ArrowLeft,Baby,Cake,CheckCircle,ChevronDown,Church,Clock,CloudRain,Eye,Gift,GraduationCap,Heart,Home,Image,MessageCircle,MessageSquare,MessageSquarePlus,Palette,Printer,Redo2,RefreshCw,Settings,Settings2,Sparkles,Stethoscope,ThumbsUp,TreePine,Trophy,Undo2,Upload,Wand2,Wrench,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/eye.js\");\n/* harmony import */ var _barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! __barrel_optimize__?names=AlertTriangle,ArrowLeft,Baby,Cake,CheckCircle,ChevronDown,Church,Clock,CloudRain,Eye,Gift,GraduationCap,Heart,Home,Image,MessageCircle,MessageSquare,MessageSquarePlus,Palette,Printer,Redo2,RefreshCw,Settings,Settings2,Sparkles,Stethoscope,ThumbsUp,TreePine,Trophy,Undo2,Upload,Wand2,Wrench,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/arrow-left.js\");\n/* harmony import */ var _barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! __barrel_optimize__?names=AlertTriangle,ArrowLeft,Baby,Cake,CheckCircle,ChevronDown,Church,Clock,CloudRain,Eye,Gift,GraduationCap,Heart,Home,Image,MessageCircle,MessageSquare,MessageSquarePlus,Palette,Printer,Redo2,RefreshCw,Settings,Settings2,Sparkles,Stethoscope,ThumbsUp,TreePine,Trophy,Undo2,Upload,Wand2,Wrench,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/sparkles.js\");\n/* harmony import */ var _barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(/*! __barrel_optimize__?names=AlertTriangle,ArrowLeft,Baby,Cake,CheckCircle,ChevronDown,Church,Clock,CloudRain,Eye,Gift,GraduationCap,Heart,Home,Image,MessageCircle,MessageSquare,MessageSquarePlus,Palette,Printer,Redo2,RefreshCw,Settings,Settings2,Sparkles,Stethoscope,ThumbsUp,TreePine,Trophy,Undo2,Upload,Wand2,Wrench,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/settings-2.js\");\n/* harmony import */ var _barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_40__ = __webpack_require__(/*! __barrel_optimize__?names=AlertTriangle,ArrowLeft,Baby,Cake,CheckCircle,ChevronDown,Church,Clock,CloudRain,Eye,Gift,GraduationCap,Heart,Home,Image,MessageCircle,MessageSquare,MessageSquarePlus,Palette,Printer,Redo2,RefreshCw,Settings,Settings2,Sparkles,Stethoscope,ThumbsUp,TreePine,Trophy,Undo2,Upload,Wand2,Wrench,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/clock.js\");\n/* harmony import */ var _barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_41__ = __webpack_require__(/*! __barrel_optimize__?names=AlertTriangle,ArrowLeft,Baby,Cake,CheckCircle,ChevronDown,Church,Clock,CloudRain,Eye,Gift,GraduationCap,Heart,Home,Image,MessageCircle,MessageSquare,MessageSquarePlus,Palette,Printer,Redo2,RefreshCw,Settings,Settings2,Sparkles,Stethoscope,ThumbsUp,TreePine,Trophy,Undo2,Upload,Wand2,Wrench,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/chevron-down.js\");\n/* harmony import */ var _barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_42__ = __webpack_require__(/*! __barrel_optimize__?names=AlertTriangle,ArrowLeft,Baby,Cake,CheckCircle,ChevronDown,Church,Clock,CloudRain,Eye,Gift,GraduationCap,Heart,Home,Image,MessageCircle,MessageSquare,MessageSquarePlus,Palette,Printer,Redo2,RefreshCw,Settings,Settings2,Sparkles,Stethoscope,ThumbsUp,TreePine,Trophy,Undo2,Upload,Wand2,Wrench,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/message-square-plus.js\");\n/* harmony import */ var _barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_43__ = __webpack_require__(/*! __barrel_optimize__?names=AlertTriangle,ArrowLeft,Baby,Cake,CheckCircle,ChevronDown,Church,Clock,CloudRain,Eye,Gift,GraduationCap,Heart,Home,Image,MessageCircle,MessageSquare,MessageSquarePlus,Palette,Printer,Redo2,RefreshCw,Settings,Settings2,Sparkles,Stethoscope,ThumbsUp,TreePine,Trophy,Undo2,Upload,Wand2,Wrench,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/undo-2.js\");\n/* harmony import */ var _barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_44__ = __webpack_require__(/*! __barrel_optimize__?names=AlertTriangle,ArrowLeft,Baby,Cake,CheckCircle,ChevronDown,Church,Clock,CloudRain,Eye,Gift,GraduationCap,Heart,Home,Image,MessageCircle,MessageSquare,MessageSquarePlus,Palette,Printer,Redo2,RefreshCw,Settings,Settings2,Sparkles,Stethoscope,ThumbsUp,TreePine,Trophy,Undo2,Upload,Wand2,Wrench,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/redo-2.js\");\n/* harmony import */ var _barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_45__ = __webpack_require__(/*! __barrel_optimize__?names=AlertTriangle,ArrowLeft,Baby,Cake,CheckCircle,ChevronDown,Church,Clock,CloudRain,Eye,Gift,GraduationCap,Heart,Home,Image,MessageCircle,MessageSquare,MessageSquarePlus,Palette,Printer,Redo2,RefreshCw,Settings,Settings2,Sparkles,Stethoscope,ThumbsUp,TreePine,Trophy,Undo2,Upload,Wand2,Wrench,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/refresh-cw.js\");\n/* harmony import */ var _barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_46__ = __webpack_require__(/*! __barrel_optimize__?names=AlertTriangle,ArrowLeft,Baby,Cake,CheckCircle,ChevronDown,Church,Clock,CloudRain,Eye,Gift,GraduationCap,Heart,Home,Image,MessageCircle,MessageSquare,MessageSquarePlus,Palette,Printer,Redo2,RefreshCw,Settings,Settings2,Sparkles,Stethoscope,ThumbsUp,TreePine,Trophy,Undo2,Upload,Wand2,Wrench,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/x.js\");\n/* harmony import */ var _barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_47__ = __webpack_require__(/*! __barrel_optimize__?names=AlertTriangle,ArrowLeft,Baby,Cake,CheckCircle,ChevronDown,Church,Clock,CloudRain,Eye,Gift,GraduationCap,Heart,Home,Image,MessageCircle,MessageSquare,MessageSquarePlus,Palette,Printer,Redo2,RefreshCw,Settings,Settings2,Sparkles,Stethoscope,ThumbsUp,TreePine,Trophy,Undo2,Upload,Wand2,Wrench,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/wand-sparkles.js\");\n/* harmony import */ var _barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_48__ = __webpack_require__(/*! __barrel_optimize__?names=AlertTriangle,ArrowLeft,Baby,Cake,CheckCircle,ChevronDown,Church,Clock,CloudRain,Eye,Gift,GraduationCap,Heart,Home,Image,MessageCircle,MessageSquare,MessageSquarePlus,Palette,Printer,Redo2,RefreshCw,Settings,Settings2,Sparkles,Stethoscope,ThumbsUp,TreePine,Trophy,Undo2,Upload,Wand2,Wrench,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/settings.js\");\n/* harmony import */ var _barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_49__ = __webpack_require__(/*! __barrel_optimize__?names=AlertTriangle,ArrowLeft,Baby,Cake,CheckCircle,ChevronDown,Church,Clock,CloudRain,Eye,Gift,GraduationCap,Heart,Home,Image,MessageCircle,MessageSquare,MessageSquarePlus,Palette,Printer,Redo2,RefreshCw,Settings,Settings2,Sparkles,Stethoscope,ThumbsUp,TreePine,Trophy,Undo2,Upload,Wand2,Wrench,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/palette.js\");\n/* harmony import */ var _barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_50__ = __webpack_require__(/*! __barrel_optimize__?names=AlertTriangle,ArrowLeft,Baby,Cake,CheckCircle,ChevronDown,Church,Clock,CloudRain,Eye,Gift,GraduationCap,Heart,Home,Image,MessageCircle,MessageSquare,MessageSquarePlus,Palette,Printer,Redo2,RefreshCw,Settings,Settings2,Sparkles,Stethoscope,ThumbsUp,TreePine,Trophy,Undo2,Upload,Wand2,Wrench,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/circle-check-big.js\");\n/* harmony import */ var _barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_51__ = __webpack_require__(/*! __barrel_optimize__?names=AlertTriangle,ArrowLeft,Baby,Cake,CheckCircle,ChevronDown,Church,Clock,CloudRain,Eye,Gift,GraduationCap,Heart,Home,Image,MessageCircle,MessageSquare,MessageSquarePlus,Palette,Printer,Redo2,RefreshCw,Settings,Settings2,Sparkles,Stethoscope,ThumbsUp,TreePine,Trophy,Undo2,Upload,Wand2,Wrench,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/upload.js\");\n/* harmony import */ var _barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_52__ = __webpack_require__(/*! __barrel_optimize__?names=AlertTriangle,ArrowLeft,Baby,Cake,CheckCircle,ChevronDown,Church,Clock,CloudRain,Eye,Gift,GraduationCap,Heart,Home,Image,MessageCircle,MessageSquare,MessageSquarePlus,Palette,Printer,Redo2,RefreshCw,Settings,Settings2,Sparkles,Stethoscope,ThumbsUp,TreePine,Trophy,Undo2,Upload,Wand2,Wrench,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/image.js\");\n/* harmony import */ var _barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_53__ = __webpack_require__(/*! __barrel_optimize__?names=AlertTriangle,ArrowLeft,Baby,Cake,CheckCircle,ChevronDown,Church,Clock,CloudRain,Eye,Gift,GraduationCap,Heart,Home,Image,MessageCircle,MessageSquare,MessageSquarePlus,Palette,Printer,Redo2,RefreshCw,Settings,Settings2,Sparkles,Stethoscope,ThumbsUp,TreePine,Trophy,Undo2,Upload,Wand2,Wrench,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/message-square.js\");\n/* harmony import */ var _barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_54__ = __webpack_require__(/*! __barrel_optimize__?names=AlertTriangle,ArrowLeft,Baby,Cake,CheckCircle,ChevronDown,Church,Clock,CloudRain,Eye,Gift,GraduationCap,Heart,Home,Image,MessageCircle,MessageSquare,MessageSquarePlus,Palette,Printer,Redo2,RefreshCw,Settings,Settings2,Sparkles,Stethoscope,ThumbsUp,TreePine,Trophy,Undo2,Upload,Wand2,Wrench,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/triangle-alert.js\");\n/* harmony import */ var _barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_55__ = __webpack_require__(/*! __barrel_optimize__?names=AlertTriangle,ArrowLeft,Baby,Cake,CheckCircle,ChevronDown,Church,Clock,CloudRain,Eye,Gift,GraduationCap,Heart,Home,Image,MessageCircle,MessageSquare,MessageSquarePlus,Palette,Printer,Redo2,RefreshCw,Settings,Settings2,Sparkles,Stethoscope,ThumbsUp,TreePine,Trophy,Undo2,Upload,Wand2,Wrench,X!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/printer.js\");\n/* harmony import */ var next_link__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! next/link */ \"(app-pages-browser)/./node_modules/next/dist/api/link.js\");\n/* harmony import */ var sonner__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! sonner */ \"(app-pages-browser)/./node_modules/sonner/dist/index.mjs\");\n/* harmony import */ var _components_CardPreview__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @/components/CardPreview */ \"(app-pages-browser)/./components/CardPreview.tsx\");\n/* harmony import */ var qrcode__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! qrcode */ \"(app-pages-browser)/./node_modules/qrcode/lib/browser.js\");\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! uuid */ \"(app-pages-browser)/./node_modules/uuid/dist/esm-browser/v4.js\");\n/* harmony import */ var _components_mode_toggle__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @/components/mode-toggle */ \"(app-pages-browser)/./components/mode-toggle.tsx\");\n/* harmony import */ var _components_RecentCardsPreview__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @/components/RecentCardsPreview */ \"(app-pages-browser)/./components/RecentCardsPreview.tsx\");\n/* harmony import */ var _components_CriticalResourcePreloader__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @/components/CriticalResourcePreloader */ \"(app-pages-browser)/./components/CriticalResourcePreloader.tsx\");\n/* harmony import */ var _components_EarlyCardPreloader__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! @/components/EarlyCardPreloader */ \"(app-pages-browser)/./components/EarlyCardPreloader.tsx\");\n/* harmony import */ var _hooks_useCardCache__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! @/hooks/useCardCache */ \"(app-pages-browser)/./hooks/useCardCache.ts\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// Configuration for the backend API endpoint\nconst BACKEND_API_BASE_URL = \"https://vibecarding.com\" || 0;\n// Common card types with custom option\nconst cardTypes = [\n    {\n        id: \"custom\",\n        label: \"Custom\",\n        description: \"Create your own unique card type\",\n        icon: _barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_21__[\"default\"]\n    },\n    {\n        id: \"birthday\",\n        label: \"Birthday\",\n        description: \"Celebrate another year of life\",\n        icon: _barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_22__[\"default\"]\n    },\n    {\n        id: \"thank-you\",\n        label: \"Thank You\",\n        description: \"Express gratitude and appreciation\",\n        icon: _barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_23__[\"default\"]\n    },\n    {\n        id: \"anniversary\",\n        label: \"Anniversary\",\n        description: \"Commemorate special milestones\",\n        icon: _barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_24__[\"default\"]\n    },\n    {\n        id: \"congratulations\",\n        label: \"Congratulations\",\n        description: \"Celebrate achievements and success\",\n        icon: _barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_25__[\"default\"]\n    },\n    {\n        id: \"holiday\",\n        label: \"Holiday\",\n        description: \"Seasonal and holiday greetings\",\n        icon: _barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_26__[\"default\"]\n    },\n    {\n        id: \"get-well\",\n        label: \"Get Well Soon\",\n        description: \"Send healing wishes and support\",\n        icon: _barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_27__[\"default\"]\n    },\n    {\n        id: \"sympathy\",\n        label: \"Sympathy\",\n        description: \"Offer comfort during difficult times\",\n        icon: _barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_28__[\"default\"]\n    },\n    {\n        id: \"love\",\n        label: \"Love & Romance\",\n        description: \"Express romantic feelings\",\n        icon: _barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_24__[\"default\"]\n    },\n    {\n        id: \"graduation\",\n        label: \"Graduation\",\n        description: \"Celebrate educational achievements\",\n        icon: _barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_29__[\"default\"]\n    },\n    {\n        id: \"new-baby\",\n        label: \"New Baby\",\n        description: \"Welcome new arrivals\",\n        icon: _barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_30__[\"default\"]\n    },\n    {\n        id: \"wedding\",\n        label: \"Wedding\",\n        description: \"Celebrate unions and marriages\",\n        icon: _barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_31__[\"default\"]\n    },\n    {\n        id: \"retirement\",\n        label: \"Retirement\",\n        description: \"Honor career achievements\",\n        icon: _barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_32__[\"default\"]\n    },\n    {\n        id: \"housewarming\",\n        label: \"Housewarming\",\n        description: \"Welcome to new homes\",\n        icon: _barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_33__[\"default\"]\n    },\n    {\n        id: \"apology\",\n        label: \"Apology\",\n        description: \"Make amends and seek forgiveness\",\n        icon: _barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_34__[\"default\"]\n    },\n    {\n        id: \"thinking-of-you\",\n        label: \"Thinking of You\",\n        description: \"Show you care and remember\",\n        icon: _barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_35__[\"default\"]\n    }\n];\n// Card tone/style options\nconst cardTones = [\n    {\n        id: \"funny\",\n        label: \"\\uD83D\\uDE04 Funny\",\n        description: \"Humorous and lighthearted\"\n    },\n    {\n        id: \"genz-humor\",\n        label: \"\\uD83D\\uDC80 GenZ Humor\",\n        description: \"Internet memes, chaotic energy, and unhinged vibes\"\n    },\n    {\n        id: \"romantic\",\n        label: \"\\uD83D\\uDC95 Romantic\",\n        description: \"Sweet and loving\"\n    },\n    {\n        id: \"professional\",\n        label: \"\\uD83D\\uDC54 Professional\",\n        description: \"Formal and business-appropriate\"\n    },\n    {\n        id: \"heartfelt\",\n        label: \"❤️ Heartfelt\",\n        description: \"Sincere and emotional\"\n    },\n    {\n        id: \"playful\",\n        label: \"\\uD83C\\uDF89 Playful\",\n        description: \"Fun and energetic\"\n    },\n    {\n        id: \"elegant\",\n        label: \"✨ Elegant\",\n        description: \"Sophisticated and refined\"\n    },\n    {\n        id: \"casual\",\n        label: \"\\uD83D\\uDE0A Casual\",\n        description: \"Relaxed and friendly\"\n    },\n    {\n        id: \"inspirational\",\n        label: \"\\uD83C\\uDF1F Inspirational\",\n        description: \"Motivating and uplifting\"\n    },\n    {\n        id: \"quirky\",\n        label: \"\\uD83E\\uDD2A Quirky\",\n        description: \"Unique and unconventional\"\n    },\n    {\n        id: \"traditional\",\n        label: \"\\uD83C\\uDFAD Traditional\",\n        description: \"Classic and timeless\"\n    }\n];\n// Curated artistic styles for beautiful cards\nconst artisticStyles = [\n    {\n        id: \"ai-smart-style\",\n        label: \"✨ Smart Style\",\n        description: \"Let our experts choose the perfect style for your card\",\n        promptModifier: \"\" // Will be dynamically generated\n    },\n    {\n        id: \"custom\",\n        label: \"✨ Custom Style\",\n        description: \"Define your own unique artistic style\",\n        promptModifier: \"\" // Will be replaced with user input\n    },\n    {\n        id: \"watercolor\",\n        label: \"\\uD83C\\uDFA8 Watercolor\",\n        description: \"Soft, flowing paint effects (our personal favorite)\",\n        promptModifier: \"in watercolor painting style, with soft flowing colors, artistic brush strokes, paper texture, and organic paint bleeds\"\n    },\n    {\n        id: \"minimalist\",\n        label: \"✨ Minimalist\",\n        description: \"Clean, simple, elegant design\",\n        promptModifier: \"in minimalist style with clean lines, simple shapes, plenty of white space, sophisticated typography, and elegant simplicity\"\n    },\n    {\n        id: \"botanical\",\n        label: \"\\uD83C\\uDF3F Botanical\",\n        description: \"Beautiful flowers and nature elements\",\n        promptModifier: \"in botanical illustration style with detailed flowers, leaves, and natural elements, soft organic shapes, elegant floral arrangements, and nature-inspired designs perfect for greeting cards\"\n    },\n    {\n        id: \"comic-book\",\n        label: \"\\uD83D\\uDCA5 Comic Book\",\n        description: \"Bold graphic novel style\",\n        promptModifier: \"in comic book art style with bold outlines, vibrant colors, dynamic poses, speech bubble aesthetics, halftone patterns, and superhero comic book visual elements that create an exciting and energetic feel\"\n    },\n    {\n        id: \"dreamy-fantasy\",\n        label: \"\\uD83C\\uDF38 Dreamy Fantasy\",\n        description: \"Enchanting anime-inspired art\",\n        promptModifier: \"in dreamy fantasy anime style, with soft pastels, magical atmosphere, detailed nature elements, whimsical characters, and enchanting fairy-tale qualities\"\n    },\n    {\n        id: \"art-deco\",\n        label: \"✨ Art Deco\",\n        description: \"Elegant 1920s geometric luxury\",\n        promptModifier: \"in vintage Art Deco style with geometric patterns, gold accents, elegant typography, luxurious details, and 1920s glamour\"\n    },\n    {\n        id: \"vintage-illustration\",\n        label: \"\\uD83D\\uDCDA Vintage Illustration\",\n        description: \"Classic storybook charm\",\n        promptModifier: \"in vintage illustration style like classic children's books, with warm nostalgic colors, charming characters, whimsical details, and timeless fairy-tale aesthetics\"\n    },\n    {\n        id: \"modern-geometric\",\n        label: \"\\uD83D\\uDD37 Modern Geometric\",\n        description: \"Clean contemporary shapes\",\n        promptModifier: \"in modern geometric style with clean shapes, contemporary design elements, balanced compositions, and sophisticated color palettes perfect for modern greeting cards\"\n    },\n    {\n        id: \"soft-pastel\",\n        label: \"\\uD83C\\uDF38 Soft Pastel\",\n        description: \"Gentle, soothing colors\",\n        promptModifier: \"in soft pastel style with gentle colors, dreamy atmosphere, delicate textures, and calming visual elements that create a peaceful and heartwarming feeling\"\n    },\n    {\n        id: \"retro-vintage\",\n        label: \"\\uD83D\\uDCFB Retro Vintage\",\n        description: \"Classic 1950s-60s nostalgia\",\n        promptModifier: \"in retro vintage style with 1950s-60s aesthetics, classic typography, warm nostalgic colors, and mid-century design elements\"\n    }\n];\n// Paper size options\nconst paperSizes = [\n    {\n        id: \"standard\",\n        label: \"5\\xd77 Card (Standard)\",\n        description: \"Standard 5\\xd77 greeting card (10\\xd77 print layout)\",\n        aspectRatio: \"9:16\",\n        dimensions: \"1024x1536\",\n        printWidth: \"10in\",\n        printHeight: \"7in\"\n    },\n    {\n        id: \"compact\",\n        label: \"4\\xd76 Card (Compact)\",\n        description: \"Compact 4\\xd76 greeting card (8\\xd76 print layout)\",\n        aspectRatio: \"2:3\",\n        dimensions: \"768x1152\",\n        printWidth: \"8in\",\n        printHeight: \"6in\"\n    },\n    {\n        id: \"a6\",\n        label: \"A6 Card (4\\xd76)\",\n        description: \"A6 paper size (8.3\\xd75.8 print layout)\",\n        aspectRatio: \"2:3\",\n        dimensions: \"768x1152\",\n        printWidth: \"8.3in\",\n        printHeight: \"5.8in\"\n    }\n];\n// Image model options\nconst imageModels = [\n    {\n        id: \"gpt-image-1\",\n        label: \"GPT Image 1\",\n        description: \"Highest quality variant : Recommended\"\n    },\n    {\n        id: \"flux-1.1-pro\",\n        label: \"FLUX 1.1 Pro\",\n        description: \"Fastest & highest quality : $0.04 per image, 3-10 seconds\"\n    },\n    {\n        id: \"seedream-3\",\n        label: \"SeeDream 3\",\n        description: \"2K photorealistic quality : $0.03 per image, 5-15 seconds\"\n    },\n    {\n        id: \"ideogram-v3-turbo\",\n        label: \"Ideogram V3 Turbo\",\n        description: \"Excellent text rendering : Magic prompt enhancement, fast generation\"\n    },\n    {\n        id: \"ideogram-v3-quality\",\n        label: \"Ideogram V3 Quality\",\n        description: \"Highest quality text rendering : Slower but better results\"\n    },\n    {\n        id: \"imagen-4.0-ultra-generate-preview-06-06\",\n        label: \"Imagen 4.0 Ultra\",\n        description: \"Experimental, not recommended for text-heavy cards.\"\n    }\n];\n// Email Helper Function\nasync function sendThankYouEmail(toEmail, cardType, cardUrl) {\n    if (!toEmail.trim()) return;\n    try {\n        // Create HTML email body\n        const htmlBody = '\\n      <div style=\"font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto; padding: 20px; color: #333;\">\\n        <div style=\"text-align: center; margin-bottom: 30px;\">\\n          <h1 style=\"color: #2563eb; margin-bottom: 10px;\">\\uD83C\\uDF89 Your Card is Ready!</h1>\\n        </div>\\n        \\n        <p style=\"font-size: 16px; line-height: 1.6; margin-bottom: 20px;\">Hi there!</p>\\n        \\n        <p style=\"font-size: 16px; line-height: 1.6; margin-bottom: 20px;\">\\n          Thank you for using VibeCarding to create your beautiful <strong>'.concat(cardType, '</strong> card!\\n        </p>\\n        \\n        <p style=\"font-size: 16px; line-height: 1.6; margin-bottom: 20px;\">\\n          We hope you love how it turned out. Your card has been generated and is ready for printing or sharing.\\n        </p>\\n        \\n        <div style=\"text-align: center; margin: 30px 0;\">\\n          <a href=\"').concat(cardUrl, '\" style=\"background-color: #2563eb; color: white; padding: 12px 24px; text-decoration: none; border-radius: 6px; font-weight: bold; display: inline-block;\">\\n            View Your Card\\n          </a>\\n        </div>\\n        \\n        <p style=\"font-size: 16px; line-height: 1.6; margin-bottom: 20px;\">\\n          If you have any questions or feedback, feel free to reach out to us.\\n        </p>\\n        \\n        <p style=\"font-size: 16px; line-height: 1.6; margin-bottom: 20px;\">\\n          Happy card making!\\n        </p>\\n        \\n        <div style=\"margin-top: 40px; padding-top: 20px; border-top: 1px solid #e5e7eb; color: #6b7280;\">\\n          <p style=\"margin-bottom: 5px;\"><strong>Best regards,</strong></p>\\n          <p style=\"margin-bottom: 5px;\">The VibeCarding Team</p>\\n          <p style=\"margin: 0;\">\\n            <a href=\"mailto:vibecarding@ast.engineer\" style=\"color: #2563eb; text-decoration: none;\">vibecarding@ast.engineer</a>\\n          </p>\\n        </div>\\n      </div>\\n    ');\n        // Plain text fallback\n        const textBody = \"Hi there!\\n\\nThank you for using VibeCarding to create your beautiful \".concat(cardType, \" card!\\n\\nWe hope you love how it turned out. Your card has been generated and is ready for printing or sharing.\\n\\nView your card: \").concat(cardUrl, \"\\n\\nIf you have any questions or feedback, feel free to reach out to us.\\n\\nHappy card making!\\n\\nBest regards,\\nThe VibeCarding Team\\nvibecarding@ast.engineer\");\n        // Send to user\n        const userResponse = await fetch(\"\".concat(BACKEND_API_BASE_URL, \"/send_email_nodejs_style\"), {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json; charset=utf-8\"\n            },\n            body: JSON.stringify({\n                to: toEmail,\n                from: \"vibecarding@ast.engineer\",\n                subject: \"Your \".concat(cardType, \" card is ready!\"),\n                body: htmlBody,\n                text: textBody,\n                html: htmlBody\n            })\n        });\n        // Send copy to jordan@ast.engineer\n        const adminResponse = await fetch(\"\".concat(BACKEND_API_BASE_URL, \"/send_email_nodejs_style\"), {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify({\n                to: \"jordan@ast.engineer\",\n                from: \"vibecarding@ast.engineer\",\n                subject: \"Card Created - \".concat(cardType, \" for \").concat(toEmail),\n                body: '<div style=\"font-family: Arial, sans-serif; padding: 20px;\">\\n          <h3 style=\"color: #2563eb;\">New Card Created on VibeCarding</h3>\\n          <p><strong>User:</strong> '.concat(toEmail, \"</p>\\n          <p><strong>Card Type:</strong> \").concat(cardType, '</p>\\n          <p><strong>Card URL:</strong> <a href=\"').concat(cardUrl, '\">').concat(cardUrl, '</a></p>\\n          <p style=\"margin-top: 20px; color: #6b7280; font-size: 14px;\">\\n            This is an automated notification of card creation activity.\\n          </p>\\n        </div>'),\n                text: \"New card created on VibeCarding:\\n\\nUser: \".concat(toEmail, \"\\nCard Type: \").concat(cardType, \"\\nCard URL: \").concat(cardUrl, \"\\n\\nThis is an automated notification of card creation activity.\")\n            })\n        });\n        if (userResponse.ok) {\n            sonner__WEBPACK_IMPORTED_MODULE_13__.toast.success(\"✉️ Thank you email sent!\");\n        }\n    } catch (error) {\n        console.error(\"Failed to send thank you email:\", error);\n    // Don't show error toast - this is a nice-to-have feature\n    }\n}\n// Chat Helper Function\nasync function chatWithAI(userMessage) {\n    let options = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};\n    const { systemPrompt = null, model = \"gemini-2.5-pro\", includeThoughts = false, jsonSchema = null, attachments = [] // Default to empty array\n     } = options;\n    try {\n        const response = await fetch(\"/internal/call_mcp_tool\", {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify({\n                tool_name: \"ai_chat\",\n                arguments: {\n                    messages: userMessage,\n                    system_prompt: systemPrompt,\n                    model: model,\n                    include_thoughts: includeThoughts,\n                    json_schema: jsonSchema,\n                    ...attachments.length > 0 && {\n                        attachments\n                    } // Only include if there are attachments\n                }\n            })\n        });\n        if (!response.ok) throw new Error(\"HTTP \".concat(response.status));\n        const data = await response.json();\n        if (data.error && data.error !== \"None\" && data.error !== null) {\n            throw new Error(data.error);\n        }\n        let result;\n        if (typeof data.result === \"string\") {\n            try {\n                result = JSON.parse(data.result);\n            } catch (e) {\n                result = {\n                    status: \"error\",\n                    message: \"Invalid JSON response\"\n                };\n            }\n        } else {\n            result = data.result;\n        }\n        if (result.status === \"error\") {\n            throw new Error(result.message);\n        }\n        return result.response;\n    } catch (error) {\n        console.error(\"AI chat failed:\", error);\n        throw error;\n    }\n}\nfunction CardStudioPage() {\n    var _imageModels_find;\n    _s();\n    var _s1 = $RefreshSig$();\n    // Core state\n    const [prompt, setPrompt] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [finalCardMessage, setFinalCardMessage] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [toField, setToField] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [fromField, setFromField] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [selectedType, setSelectedType] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"birthday\");\n    const [customCardType, setCustomCardType] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [selectedTone, setSelectedTone] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"funny\");\n    const [isGenerating, setIsGenerating] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [generatedCard, setGeneratedCard] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    // Multiple cards state\n    const [numberOfCards, setNumberOfCards] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(1);\n    const [generatedCards, setGeneratedCards] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [selectedCardIndex, setSelectedCardIndex] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    // Writing assistant state\n    const [isGeneratingMessage, setIsGeneratingMessage] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // Advanced options state\n    const [showAdvanced, setShowAdvanced] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [selectedArtisticStyle, setSelectedArtisticStyle] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"watercolor\");\n    const [customStyleDescription, setCustomStyleDescription] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [selectedImageModel, setSelectedImageModel] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"gpt-image-1\");\n    // Draft mode specific model selection\n    const [selectedDraftModel, setSelectedDraftModel] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"gpt-image-1\");\n    // Progress tracking state\n    const [generationProgress, setGenerationProgress] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [countdown, setCountdown] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const [countdownInterval, setCountdownInterval] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [isCardCompleted, setIsCardCompleted] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // Job tracking state\n    const [currentJobId, setCurrentJobId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    // Fast preview mode state\n    const [fastPreviewMode, setFastPreviewMode] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    // Draft mode state - generate 10 low-quality cards for selection\n    const [isDraftMode, setIsDraftMode] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [draftCards, setDraftCards] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]); // Cards in completion order (left to right)\n    const [draftIndexMapping, setDraftIndexMapping] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]); // Maps display position to original draft index\n    const [selectedDraftIndex, setSelectedDraftIndex] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(-1); // Display position index\n    const [isGeneratingFinalCard, setIsGeneratingFinalCard] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [previewingDraftIndex, setPreviewingDraftIndex] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(-1); // Display position index\n    const [draftCompletionShown, setDraftCompletionShown] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // Helper function to format countdown as MM:SS\n    const formatCountdown = (seconds)=>{\n        const minutes = Math.floor(seconds / 60);\n        const remainingSeconds = seconds % 60;\n        return \"\".concat(minutes, \":\").concat(remainingSeconds.toString().padStart(2, \"0\"));\n    };\n    // Job management functions\n    const saveJobToStorage = (jobId, jobData)=>{\n        try {\n            localStorage.setItem(\"cardJob_\".concat(jobId), JSON.stringify({\n                ...jobData,\n                id: jobId,\n                status: \"processing\",\n                createdAt: Date.now()\n            }));\n            // Also add to pending jobs list\n            const pendingJobs = JSON.parse(localStorage.getItem(\"pendingCardJobs\") || \"[]\");\n            if (!pendingJobs.includes(jobId)) {\n                pendingJobs.push(jobId);\n                localStorage.setItem(\"pendingCardJobs\", JSON.stringify(pendingJobs));\n            }\n        } catch (error) {\n            console.error(\"Failed to save job to localStorage:\", error);\n        }\n    };\n    const removeJobFromStorage = (jobId)=>{\n        try {\n            localStorage.removeItem(\"cardJob_\".concat(jobId));\n            // Remove from pending jobs list\n            const pendingJobs = JSON.parse(localStorage.getItem(\"pendingCardJobs\") || \"[]\");\n            const updatedJobs = pendingJobs.filter((id)=>id !== jobId);\n            localStorage.setItem(\"pendingCardJobs\", JSON.stringify(updatedJobs));\n        } catch (error) {\n            console.error(\"Failed to remove job from localStorage:\", error);\n        }\n    };\n    const checkJobStatus = async (jobId)=>{\n        try {\n            const response = await fetch(\"/api/job-status/\".concat(jobId));\n            if (!response.ok) {\n                throw new Error(\"HTTP \".concat(response.status));\n            }\n            return await response.json();\n        } catch (error) {\n            console.error(\"Failed to check job status:\", error);\n            return null;\n        }\n    };\n    // Recovery function - check for pending jobs on page load\n    const checkPendingJobs = async ()=>{\n        try {\n            const pendingJobs = JSON.parse(localStorage.getItem(\"pendingCardJobs\") || \"[]\");\n            for (const jobId of pendingJobs){\n                const jobData = localStorage.getItem(\"cardJob_\".concat(jobId));\n                if (!jobData) continue;\n                const job = JSON.parse(jobData);\n                const statusResponse = await checkJobStatus(jobId);\n                if (statusResponse && statusResponse.status === \"completed\") {\n                    console.log(\"\\uD83C\\uDF89 Job completed while user was away! Card data:\", statusResponse.cardData);\n                    // Job completed while user was away!\n                    if (statusResponse.cardData) {\n                        // Apply QR code to back cover before setting the card data\n                        let cardWithQR = {\n                            ...statusResponse.cardData\n                        };\n                        // Ensure the card has a valid createdAt date\n                        if (!cardWithQR.createdAt) {\n                            cardWithQR.createdAt = new Date();\n                        } else if (typeof cardWithQR.createdAt === \"string\" || typeof cardWithQR.createdAt === \"number\") {\n                            cardWithQR.createdAt = new Date(cardWithQR.createdAt);\n                        }\n                        // Ensure the card has a valid ID\n                        if (!cardWithQR.id) {\n                            cardWithQR.id = \"card-\".concat(Date.now(), \"-\").concat(Math.random().toString(36).substr(2, 9));\n                        }\n                        console.log(\"\\uD83D\\uDD04 Card data prepared for recovery:\", cardWithQR);\n                        try {\n                            console.log(\"\\uD83D\\uDD04 Starting QR overlay process for recovered card\");\n                            // Store card data first to get a shareable URL\n                            if (cardWithQR.frontCover) {\n                                try {\n                                    const cardStoreResponse = await fetch(\"/api/cards/store\", {\n                                        method: \"POST\",\n                                        headers: {\n                                            \"Content-Type\": \"application/json\"\n                                        },\n                                        body: JSON.stringify({\n                                            prompt: cardWithQR.prompt || \"\",\n                                            frontCover: cardWithQR.frontCover || \"\",\n                                            backCover: cardWithQR.backCover || \"\",\n                                            leftPage: cardWithQR.leftPage || \"\",\n                                            rightPage: cardWithQR.rightPage || \"\",\n                                            generatedPrompts: cardWithQR.generatedPrompts || null\n                                        })\n                                    });\n                                    if (cardStoreResponse.ok) {\n                                        const cardStoreData = await cardStoreResponse.json();\n                                        const actualShareUrl = cardStoreData.share_url;\n                                        console.log(\"Using actual share URL for QR code (recovered):\", actualShareUrl);\n                                        // Apply QR code to back cover using the API-returned URL\n                                        if (cardWithQR.backCover && actualShareUrl) {\n                                            console.log(\"\\uD83D\\uDD04 Applying QR overlay to recovered card...\");\n                                            const originalBackCover = cardWithQR.backCover;\n                                            cardWithQR.backCover = await overlayQRCodeOnImage(originalBackCover, actualShareUrl);\n                                            cardWithQR.shareUrl = actualShareUrl;\n                                            console.log(\"✅ QR overlay complete for recovered card\");\n                                        }\n                                    } else {\n                                        console.warn(\"Failed to store recovered card for sharing, continuing without QR code\");\n                                    }\n                                } catch (error) {\n                                    console.error(\"❌ Failed to store card or overlay QR code (recovered):\", error);\n                                // Continue without QR code if there's an error\n                                }\n                            } else {\n                                console.warn(\"No front cover found in recovered card, skipping QR code process\");\n                            }\n                        } catch (error) {\n                            console.error(\"❌ Error in QR code process (recovered):\", error);\n                        // Continue without QR code if there's an error\n                        }\n                        console.log(\"\\uD83C\\uDFAF Setting recovered card state:\", cardWithQR);\n                        // Set the card states - this is critical!\n                        setGeneratedCard(cardWithQR);\n                        setGeneratedCards([\n                            cardWithQR\n                        ]);\n                        setSelectedCardIndex(0);\n                        setIsCardCompleted(true);\n                        // CRITICAL: Reset all generation states to stop progress indicator\n                        setIsGenerating(false);\n                        setIsGeneratingMessage(false);\n                        setGenerationProgress(\"\");\n                        setProgressPercentage(100);\n                        // Scroll to card preview\n                        scrollToCardPreview();\n                        // Set all sections as completed\n                        setSectionLoadingStates({\n                            frontCover: \"completed\",\n                            backCover: \"completed\",\n                            leftInterior: \"completed\",\n                            rightInterior: \"completed\"\n                        });\n                        // Capture generation time from backend\n                        if (statusResponse.cardData.generationTimeSeconds) {\n                            setGenerationDuration(statusResponse.cardData.generationTimeSeconds);\n                        }\n                        // Stop elapsed time tracking\n                        stopElapsedTimeTracking();\n                        // Set progress to 100%\n                        setProgressPercentage(100);\n                        // Force a state update by updating localStorage (without base64 QR code to avoid quota issues)\n                        try {\n                            // Create a lightweight version without base64 QR code for localStorage\n                            const cardForStorage = {\n                                ...cardWithQR\n                            };\n                            if (cardForStorage.backCover && cardForStorage.backCover.startsWith(\"data:image/png;base64,\")) {\n                                // Replace the base64 QR code with the original back cover URL to save space\n                                cardForStorage.backCover = statusResponse.cardData.backCover;\n                                console.log(\"\\uD83D\\uDCBE Replaced base64 QR code with original URL for localStorage storage (recovery)\");\n                            }\n                            const cardsData = {\n                                mostRecentCard: cardForStorage,\n                                generationDuration: statusResponse.cardData.generationTimeSeconds || null\n                            };\n                            localStorage.setItem(\"vibecarding-generated-cards\", JSON.stringify(cardsData));\n                            console.log(\"\\uD83D\\uDCBE Recovered card saved to localStorage\");\n                        } catch (storageError) {\n                            console.error(\"Failed to save recovered card to localStorage:\", storageError);\n                        }\n                        sonner__WEBPACK_IMPORTED_MODULE_13__.toast.success(\"\\uD83C\\uDF89 Your card with QR code finished generating while you were away!\");\n                        // Send thank you email using job data\n                        if (job.userEmail && job.userEmail.trim()) {\n                            const cardTypeForEmail = job.selectedType === \"custom\" ? job.customCardType : job.selectedType;\n                            sendThankYouEmail(job.userEmail, cardTypeForEmail, cardWithQR.shareUrl || \"https://vibecarding.com\");\n                        }\n                        console.log(\"✅ Card recovery process finished successfully\");\n                    } else {\n                        console.error(\"❌ No card data in completed recovery response\");\n                        sonner__WEBPACK_IMPORTED_MODULE_13__.toast.error(\"❌ Card generation completed but no data received. Please try again.\");\n                    }\n                    removeJobFromStorage(jobId);\n                } else if (statusResponse && statusResponse.status === \"failed\") {\n                    // Job failed\n                    sonner__WEBPACK_IMPORTED_MODULE_13__.toast.error(\"❌ A card generation job failed. Please try again.\");\n                    removeJobFromStorage(jobId);\n                } else if (statusResponse && statusResponse.status === \"processing\") {\n                    // Still processing - restore loading states and start polling\n                    setIsGenerating(true);\n                    setCurrentJobId(jobId);\n                    setGenerationProgress(\"Resuming card generation...\");\n                    // Start elapsed time tracking from when job was originally created\n                    const jobStartTime = job.createdAt ? new Date(job.createdAt).getTime() : Date.now();\n                    startElapsedTimeTracking(jobStartTime);\n                    // Restore section loading states based on job data\n                    if (job.prompts) {\n                        const loadingStates = {\n                            frontCover: \"loading\",\n                            backCover: \"loading\",\n                            leftInterior: job.isFrontBackOnly ? \"idle\" : \"loading\",\n                            rightInterior: job.isFrontBackOnly ? \"idle\" : \"loading\"\n                        };\n                        setSectionLoadingStates(loadingStates);\n                    }\n                    // Initialize progress - will be updated by timer\n                    setGenerationProgress(\"Resuming card generation...\");\n                    setProgressPercentage(0); // Will be calculated by timer based on elapsed time\n                    sonner__WEBPACK_IMPORTED_MODULE_13__.toast.info(\"\\uD83D\\uDD04 Resuming card generation where you left off...\");\n                    pollJobStatus(jobId);\n                }\n            // If still processing, leave it in storage\n            }\n        } catch (error) {\n            console.error(\"Failed to check pending jobs:\", error);\n        }\n    };\n    // Poll job status with exponential backoff\n    const pollJobStatus = async function(jobId) {\n        let attempt = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 1;\n        try {\n            const statusResponse = await checkJobStatus(jobId);\n            // Check if this is a draft job\n            const isDraftJob = jobId.startsWith(\"draft-\");\n            const draftIndex = isDraftJob ? parseInt(jobId.split(\"-\")[1]) : -1;\n            if (statusResponse && statusResponse.status === \"completed\") {\n                console.log(\"\\uD83C\\uDF89 Job completed! Card data:\", statusResponse.cardData, \"isDraftJob:\", isDraftJob);\n                if (statusResponse.cardData) {\n                    if (isDraftJob && draftIndex >= 0) {\n                        var _statusResponse_cardData_generatedPrompts;\n                        // Handle draft card completion - no QR code needed for drafts\n                        console.log(\"\\uD83C\\uDFA8 Draft variation \".concat(draftIndex + 1, \" completed!\"));\n                        // Get style info for smart style mode\n                        let styleInfo = undefined;\n                        if (selectedArtisticStyle === \"ai-smart-style\") {\n                            const predefinedStyles = [\n                                \"watercolor\",\n                                \"botanical\",\n                                \"hand-drawn\",\n                                \"dreamy-fantasy\",\n                                \"minimalist\",\n                                \"vintage-illustration\",\n                                \"art-deco\",\n                                \"soft-pastel\",\n                                \"modern-geometric\",\n                                \"watercolor\"\n                            ];\n                            const styleLabels = [\n                                \"\\uD83C\\uDFA8 Watercolor\",\n                                \"\\uD83C\\uDF3F Botanical\",\n                                \"✏️ Hand-Drawn\",\n                                \"\\uD83C\\uDF38 Dreamy Fantasy\",\n                                \"✨ Minimalist\",\n                                \"\\uD83D\\uDCDA Vintage Illustration\",\n                                \"✨ Art Deco\",\n                                \"\\uD83C\\uDF38 Soft Pastel\",\n                                \"\\uD83D\\uDD37 Modern Geometric\",\n                                \"\\uD83C\\uDFA8 Watercolor\"\n                            ];\n                            if (draftIndex >= 0 && draftIndex < predefinedStyles.length) {\n                                styleInfo = {\n                                    styleName: predefinedStyles[draftIndex],\n                                    styleLabel: styleLabels[draftIndex]\n                                };\n                            }\n                        }\n                        const draftCard = {\n                            id: \"draft-\".concat(draftIndex + 1, \"-\").concat(Date.now()),\n                            prompt: statusResponse.cardData.prompt || \"Draft Variation \".concat(draftIndex + 1),\n                            frontCover: statusResponse.cardData.frontCover || \"\",\n                            backCover: \"\",\n                            leftPage: \"\",\n                            rightPage: \"\",\n                            createdAt: new Date(),\n                            generatedPrompts: {\n                                frontCover: ((_statusResponse_cardData_generatedPrompts = statusResponse.cardData.generatedPrompts) === null || _statusResponse_cardData_generatedPrompts === void 0 ? void 0 : _statusResponse_cardData_generatedPrompts.frontCover) || \"\" // Only store front cover prompt for draft mode\n                            },\n                            styleInfo: styleInfo // Store style information for smart style mode\n                        };\n                        // Update draft cards state - populate from left to right as they complete\n                        setDraftCards((prev)=>{\n                            const updated = [\n                                ...prev\n                            ];\n                            updated.push(draftCard); // Add to next available position (left to right)\n                            return updated;\n                        });\n                        // Update mapping to track which display position corresponds to which original draft index\n                        setDraftIndexMapping((prev)=>{\n                            const updatedMapping = [\n                                ...prev\n                            ];\n                            updatedMapping.push(draftIndex); // Map new display position to original draft index\n                            return updatedMapping;\n                        });\n                        // Update progress and check completion\n                        const newCompletedCount = draftCards.length + 1; // +1 because state update is async\n                        console.log(\"\\uD83D\\uDCCA Draft progress: \".concat(newCompletedCount, \"/5 front cover variations complete\"));\n                        // Scroll to draft preview when first card appears\n                        if (newCompletedCount === 1) {\n                            scrollToCardPreview();\n                        }\n                        if (newCompletedCount === 5) {\n                            // CRITICAL: Reset all generation states to stop progress indicator\n                            setIsGenerating(false);\n                            setIsGeneratingMessage(false);\n                            setGenerationProgress(\"\");\n                            setProgressPercentage(100);\n                            stopElapsedTimeTracking();\n                            // Only show completion toast once using a flag, and only if user hasn't moved to final generation\n                            setDraftCompletionShown((prev)=>{\n                                if (!prev && !isGeneratingFinalCard) {\n                                    sonner__WEBPACK_IMPORTED_MODULE_13__.toast.success(\"\\uD83C\\uDFA8 All 5 front cover variations ready! Choose your favorite below.\");\n                                    return true;\n                                }\n                                return prev;\n                            });\n                        } else {\n                            setGenerationProgress(\"✨ \".concat(newCompletedCount, \"/5 front cover variations complete... \").concat(newCompletedCount >= 2 ? \"You can select one now to proceed!\" : \"\"));\n                            setProgressPercentage(newCompletedCount / 5 * 100);\n                        }\n                        removeJobFromStorage(jobId);\n                    } else {\n                        // Handle final card completion - apply QR code and full processing\n                        let cardWithQR = {\n                            ...statusResponse.cardData\n                        };\n                        // Ensure the card has a valid createdAt date\n                        if (!cardWithQR.createdAt) {\n                            cardWithQR.createdAt = new Date();\n                        } else if (typeof cardWithQR.createdAt === \"string\" || typeof cardWithQR.createdAt === \"number\") {\n                            cardWithQR.createdAt = new Date(cardWithQR.createdAt);\n                        }\n                        // Ensure the card has a valid ID\n                        if (!cardWithQR.id) {\n                            cardWithQR.id = \"card-\".concat(Date.now(), \"-\").concat(Math.random().toString(36).substr(2, 9));\n                        }\n                        console.log(\"\\uD83D\\uDD04 Final card data prepared:\", cardWithQR);\n                        try {\n                            setGenerationProgress(\"✨ Adding interactive QR code to your card...\");\n                            console.log(\"\\uD83D\\uDD04 Starting QR overlay process for final card\");\n                            // Store card data first to get a shareable URL\n                            if (cardWithQR.frontCover) {\n                                try {\n                                    const cardStoreResponse = await fetch(\"/api/cards/store\", {\n                                        method: \"POST\",\n                                        headers: {\n                                            \"Content-Type\": \"application/json\"\n                                        },\n                                        body: JSON.stringify({\n                                            prompt: cardWithQR.prompt || \"\",\n                                            frontCover: cardWithQR.frontCover || \"\",\n                                            backCover: cardWithQR.backCover || \"\",\n                                            leftPage: cardWithQR.leftPage || \"\",\n                                            rightPage: cardWithQR.rightPage || \"\",\n                                            generatedPrompts: cardWithQR.generatedPrompts || null\n                                        })\n                                    });\n                                    if (cardStoreResponse.ok) {\n                                        const cardStoreData = await cardStoreResponse.json();\n                                        const actualShareUrl = cardStoreData.share_url;\n                                        console.log(\"Using actual share URL for QR code:\", actualShareUrl);\n                                        // Apply QR code to back cover using the API-returned URL\n                                        if (cardWithQR.backCover && actualShareUrl) {\n                                            console.log(\"\\uD83D\\uDD04 Applying QR overlay to final card...\");\n                                            const originalBackCover = cardWithQR.backCover;\n                                            cardWithQR.backCover = await overlayQRCodeOnImage(originalBackCover, actualShareUrl);\n                                            cardWithQR.shareUrl = actualShareUrl;\n                                            console.log(\"✅ QR overlay complete for final card\");\n                                        }\n                                    } else {\n                                        console.warn(\"Failed to store card for sharing, continuing without QR code\");\n                                    }\n                                } catch (error) {\n                                    console.error(\"❌ Failed to store card or overlay QR code:\", error);\n                                // Continue without QR code if there's an error\n                                }\n                            } else {\n                                console.warn(\"No front cover found, skipping QR code process\");\n                            }\n                        } catch (error) {\n                            console.error(\"❌ Error in QR code process:\", error);\n                        // Continue without QR code if there's an error\n                        }\n                        console.log(\"\\uD83C\\uDFAF Setting final card state:\", cardWithQR);\n                        // Set the card states - this is critical!\n                        setGeneratedCard(cardWithQR);\n                        setGeneratedCards([\n                            cardWithQR\n                        ]);\n                        setSelectedCardIndex(0);\n                        setIsCardCompleted(true);\n                        // CRITICAL: Reset all generation states to stop progress indicator\n                        setIsGenerating(false);\n                        setIsGeneratingMessage(false);\n                        setIsGeneratingFinalCard(false);\n                        setIsDraftMode(false);\n                        setDraftCompletionShown(false);\n                        setGenerationProgress(\"\");\n                        setProgressPercentage(100);\n                        // Scroll to card preview\n                        scrollToCardPreview();\n                        // Set all sections as completed\n                        setSectionLoadingStates({\n                            frontCover: \"completed\",\n                            backCover: \"completed\",\n                            leftInterior: \"completed\",\n                            rightInterior: \"completed\"\n                        });\n                        // Capture generation time from backend\n                        console.log(\"\\uD83D\\uDD0D Checking for generationTimeSeconds:\", statusResponse.cardData.generationTimeSeconds);\n                        if (statusResponse.cardData.generationTimeSeconds) {\n                            console.log(\"⏱️ Setting generation duration:\", statusResponse.cardData.generationTimeSeconds, \"seconds\");\n                            setGenerationDuration(statusResponse.cardData.generationTimeSeconds);\n                        } else {\n                            console.log(\"⚠️ No generationTimeSeconds found in card data\");\n                        }\n                        // Stop elapsed time tracking\n                        stopElapsedTimeTracking();\n                        // Set progress to 100%\n                        setProgressPercentage(100);\n                        setGenerationProgress(\"Card generation complete!\");\n                        // Force a state update by updating localStorage (without base64 QR code to avoid quota issues)\n                        try {\n                            // Create a lightweight version without base64 QR code for localStorage\n                            const cardForStorage = {\n                                ...cardWithQR\n                            };\n                            if (cardForStorage.backCover && cardForStorage.backCover.startsWith(\"data:image/png;base64,\")) {\n                                // Replace the base64 QR code with the original back cover URL to save space\n                                cardForStorage.backCover = statusResponse.cardData.backCover;\n                                console.log(\"\\uD83D\\uDCBE Replaced base64 QR code with original URL for localStorage storage\");\n                            }\n                            const cardsData = {\n                                mostRecentCard: cardForStorage,\n                                generationDuration: statusResponse.cardData.generationTimeSeconds || null\n                            };\n                            localStorage.setItem(\"vibecarding-generated-cards\", JSON.stringify(cardsData));\n                            console.log(\"\\uD83D\\uDCBE Card saved to localStorage\");\n                        } catch (storageError) {\n                            console.error(\"Failed to save to localStorage:\", storageError);\n                        }\n                        sonner__WEBPACK_IMPORTED_MODULE_13__.toast.success(\"\\uD83C\\uDF89 Your card with QR code is ready!\");\n                        // Send thank you email\n                        if (userEmail.trim()) {\n                            const cardTypeForEmail = selectedType === \"custom\" ? customCardType : selectedType;\n                            sendThankYouEmail(userEmail, cardTypeForEmail, cardWithQR.shareUrl || \"https://vibecarding.com\");\n                        }\n                        console.log(\"✅ Final card completion process finished successfully\");\n                        removeJobFromStorage(jobId);\n                        setCurrentJobId(null);\n                    }\n                } else {\n                    console.error(\"❌ No card data in completed response\");\n                    sonner__WEBPACK_IMPORTED_MODULE_13__.toast.error(\"❌ Card generation completed but no data received. Please try again.\");\n                    removeJobFromStorage(jobId);\n                    if (!isDraftJob) {\n                        setCurrentJobId(null);\n                    }\n                }\n            } else if (statusResponse && statusResponse.status === \"failed\") {\n                console.error(\"❌ Job failed:\", statusResponse);\n                if (isDraftJob && draftIndex >= 0) {\n                    sonner__WEBPACK_IMPORTED_MODULE_13__.toast.error(\"Draft variation \".concat(draftIndex + 1, \" failed. Continuing with others...\"));\n                } else {\n                    sonner__WEBPACK_IMPORTED_MODULE_13__.toast.error(\"❌ Card generation failed. Please try again.\");\n                    setIsGenerating(false);\n                    setIsGeneratingFinalCard(false);\n                    stopElapsedTimeTracking();\n                    setGenerationProgress(\"\");\n                    setProgressPercentage(0);\n                    // Set all sections as error\n                    setSectionLoadingStates({\n                        frontCover: \"error\",\n                        backCover: \"error\",\n                        leftInterior: \"error\",\n                        rightInterior: \"error\"\n                    });\n                    setCurrentJobId(null);\n                }\n                removeJobFromStorage(jobId);\n            } else if (statusResponse && statusResponse.status === \"processing\") {\n                // Continue polling every 3 seconds - near real-time updates for better UX\n                console.log(\"\\uD83D\\uDD04 Job still processing (attempt \".concat(attempt, \"), polling again...\"));\n                setTimeout(()=>pollJobStatus(jobId, attempt + 1), 3000);\n            } else {\n                console.warn(\"⚠️ Unexpected status response:\", statusResponse);\n                // Continue polling in case it's a temporary issue\n                setTimeout(()=>pollJobStatus(jobId, attempt + 1), 5000);\n            }\n        } catch (error) {\n            console.error(\"Failed to poll job status:\", error);\n            // Retry after delay with exponential backoff\n            const delay = Math.min(10000, 3000 * Math.pow(1.5, Math.min(attempt - 1, 5)));\n            setTimeout(()=>pollJobStatus(jobId, attempt + 1), delay);\n        }\n    };\n    // Function to overlay QR code on back cover image\n    const overlayQRCodeOnImage = async (imageUrl, cardUrl, logoUrl)=>{\n        console.log(\"\\uD83D\\uDD27 Starting QR overlay for:\", cardUrl);\n        try {\n            // Get the most recent saved logo if no specific logo provided\n            let qrLogoUrl = logoUrl;\n            if (!qrLogoUrl) {\n                try {\n                    const logoResponse = await fetch(\"/api/logos\");\n                    if (logoResponse.ok) {\n                        const logoData = await logoResponse.json();\n                        if (logoData.status === \"success\" && logoData.logos.length > 0) {\n                            // Use the most recent logo\n                            qrLogoUrl = logoData.logos[0].url;\n                            console.log(\"\\uD83C\\uDFA8 Using saved logo for QR code:\", qrLogoUrl);\n                        }\n                    }\n                } catch (logoError) {\n                    console.log(\"No saved logos available, generating QR without logo\");\n                }\n            }\n            // Generate QR code as data URL with optional logo\n            console.log(\"\\uD83D\\uDCF1 Generating QR code...\");\n            let qrCodeDataUrl;\n            if (qrLogoUrl) {\n                try {\n                    // Generate QR with logo using the server endpoint\n                    const qrResponse = await fetch(\"/api/generate-qr-with-logo\", {\n                        method: \"POST\",\n                        headers: {\n                            \"Content-Type\": \"application/json\"\n                        },\n                        body: JSON.stringify({\n                            url: cardUrl,\n                            logo_url: qrLogoUrl,\n                            size: 160,\n                            seamless: true\n                        })\n                    });\n                    if (qrResponse.ok) {\n                        const qrData = await qrResponse.json();\n                        if (qrData.status === \"success\") {\n                            qrCodeDataUrl = qrData.qr_code;\n                            console.log(\"✅ QR code with logo generated successfully\");\n                        }\n                    }\n                } catch (logoQrError) {\n                    console.log(\"Failed to generate QR with logo, falling back to simple QR:\", logoQrError);\n                }\n            }\n            // Fallback to simple QR code if logo generation failed\n            if (!qrCodeDataUrl) {\n                qrCodeDataUrl = await qrcode__WEBPACK_IMPORTED_MODULE_15__.toDataURL(cardUrl, {\n                    width: 160,\n                    margin: 1,\n                    color: {\n                        dark: \"#000000\",\n                        light: \"#FFFFFF\"\n                    },\n                    errorCorrectionLevel: \"M\"\n                });\n                console.log(\"✅ Simple QR code generated successfully\");\n            }\n            // Create canvas to composite the images\n            const canvas = document.createElement(\"canvas\");\n            const ctx = canvas.getContext(\"2d\");\n            if (!ctx) throw new Error(\"Failed to get canvas context\");\n            // Load the back cover image\n            const backCoverImg = new Image();\n            // Try without crossOrigin first to avoid CORS issues\n            // backCoverImg.crossOrigin = 'anonymous';\n            return new Promise((resolve, reject)=>{\n                backCoverImg.onload = ()=>{\n                    console.log(\"\\uD83D\\uDDBC️ Back cover image loaded, size:\", backCoverImg.width, \"x\", backCoverImg.height);\n                    // Set canvas size to match the image\n                    canvas.width = backCoverImg.width;\n                    canvas.height = backCoverImg.height;\n                    // Draw the back cover image\n                    ctx.drawImage(backCoverImg, 0, 0);\n                    // Load and draw the QR code\n                    const qrImg = new Image();\n                    qrImg.onload = ()=>{\n                        console.log(\"\\uD83D\\uDCF1 QR code image loaded, overlaying...\");\n                        // Position QR code in bottom right corner with some padding\n                        const qrSize = 160; // Size of QR code\n                        const padding = 40; // Padding from edges\n                        const x = canvas.width - qrSize - padding;\n                        const y = canvas.height - qrSize - padding - 30; // Extra space for text\n                        console.log(\"\\uD83D\\uDCCD QR position:\", x, y, \"on canvas:\", canvas.width, \"x\", canvas.height);\n                        // Cut out a clean section for the QR code with rounded corners\n                        const cutoutPadding = 12;\n                        const cutoutX = x - cutoutPadding;\n                        const cutoutY = y - cutoutPadding;\n                        const cutoutWidth = qrSize + cutoutPadding * 2;\n                        const cutoutHeight = qrSize + cutoutPadding * 2 + 25; // Extra height for text\n                        // Create rounded rectangle cutout\n                        ctx.fillStyle = \"#FFFFFF\";\n                        ctx.beginPath();\n                        ctx.roundRect(cutoutX, cutoutY, cutoutWidth, cutoutHeight, 8);\n                        ctx.fill();\n                        // Add subtle border\n                        ctx.strokeStyle = \"rgba(0, 0, 0, 0.1)\";\n                        ctx.lineWidth = 1;\n                        ctx.stroke();\n                        // Draw the QR code\n                        ctx.drawImage(qrImg, x, y, qrSize, qrSize);\n                        // Add \"Scan me :)\" text\n                        ctx.fillStyle = \"#666666\";\n                        ctx.font = \"18px system-ui, -apple-system, sans-serif\";\n                        ctx.textAlign = \"center\";\n                        const textX = x + qrSize / 2;\n                        const textY = y + qrSize + 18;\n                        ctx.fillText(\"Scan me :)\", textX, textY);\n                        // Convert canvas to data URL and resolve\n                        const result = canvas.toDataURL(\"image/png\", 0.9);\n                        console.log(\"✅ QR overlay complete, result length:\", result.length);\n                        resolve(result);\n                    };\n                    qrImg.onerror = (error)=>{\n                        console.error(\"❌ Failed to load QR code image:\", error);\n                        reject(new Error(\"Failed to load QR code\"));\n                    };\n                    qrImg.src = qrCodeDataUrl;\n                };\n                backCoverImg.onerror = (error)=>{\n                    console.error(\"❌ Failed to load back cover image:\", error);\n                    reject(new Error(\"Failed to load back cover image\"));\n                };\n                backCoverImg.src = imageUrl;\n            });\n        } catch (error) {\n            console.error(\"❌ Error overlaying QR code:\", error);\n            // Return original image if QR overlay fails\n            return imageUrl;\n        }\n    };\n    // Upload state\n    const [handwritingSample, setHandwritingSample] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [handwritingSampleUrl, setHandwritingSampleUrl] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [referenceImages, setReferenceImages] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [referenceImageUrls, setReferenceImageUrls] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [imageTransformation, setImageTransformation] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [isUploading, setIsUploading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // Email state\n    const [userEmail, setUserEmail] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    // Card ID for URL generation (generated once per card creation)\n    const [currentCardId, setCurrentCardId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    // New options for handwritten messages and single-sided printing\n    const [isHandwrittenMessage, setIsHandwrittenMessage] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [isFrontBackOnly, setIsFrontBackOnly] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // Paper size options\n    const [selectedPaperSize, setSelectedPaperSize] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"standard\");\n    // Loading states for each card section\n    const [sectionLoadingStates, setSectionLoadingStates] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        frontCover: \"idle\",\n        backCover: \"idle\",\n        leftInterior: \"idle\",\n        rightInterior: \"idle\"\n    });\n    // Clean progress tracking\n    const [progressPercentage, setProgressPercentage] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    // Cleanup countdown interval on unmount\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        return ()=>{\n            if (countdownInterval) {\n                clearInterval(countdownInterval);\n            }\n        };\n    }, [\n        countdownInterval\n    ]);\n    // Track if initial load is complete\n    const [isInitialLoadComplete, setIsInitialLoadComplete] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // Textarea expand state\n    const [isTextareaExpanded, setIsTextareaExpanded] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [isMessageExpanded, setIsMessageExpanded] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // Message version control and refinement\n    const [messageHistory, setMessageHistory] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [currentMessageIndex, setCurrentMessageIndex] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(-1);\n    const [refinementPrompt, setRefinementPrompt] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [isRefiningMessage, setIsRefiningMessage] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [showRefinementBox, setShowRefinementBox] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // Settings menu state\n    const [showSettings, setShowSettings] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // Template selection state\n    const [showTemplateGallery, setShowTemplateGallery] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [templateSearchQuery, setTemplateSearchQuery] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [isSearchingTemplates, setIsSearchingTemplates] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [aiFilteredCards, setAiFilteredCards] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [searchMode, setSearchMode] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"text\");\n    const [textFilteredCards, setTextFilteredCards] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [showPrompts, setShowPrompts] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // Print options state\n    const [printOption, setPrintOption] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"physical\");\n    // Preload template cards for instant access\n    const { preloadAllCards, getCachedCards, totalCards } = (0,_hooks_useCardCache__WEBPACK_IMPORTED_MODULE_20__.useCardCache)();\n    // Print confirmation dialog state\n    const [showPrintConfirmation, setShowPrintConfirmation] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // Generation time tracking\n    const [generationDuration, setGenerationDuration] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [generationStartTime, setGenerationStartTime] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [currentElapsedTime, setCurrentElapsedTime] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const [elapsedTimeInterval, setElapsedTimeInterval] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    // Helper function to format generation time\n    const formatGenerationTime = (durationSeconds)=>{\n        const minutes = Math.floor(durationSeconds / 60);\n        const seconds = Math.floor(durationSeconds % 60);\n        if (minutes > 0) {\n            return \"\".concat(minutes, \"m \").concat(seconds, \"s\");\n        }\n        return \"\".concat(seconds, \"s\");\n    };\n    // Helper function to scroll to card preview\n    const scrollToCardPreview = ()=>{\n        setTimeout(()=>{\n            const cardPreviewElement = document.querySelector(\"[data-card-preview]\");\n            if (cardPreviewElement) {\n                cardPreviewElement.scrollIntoView({\n                    behavior: \"smooth\",\n                    block: \"start\"\n                });\n            }\n        }, 500);\n    };\n    // Start elapsed time tracking\n    const startElapsedTimeTracking = (startTime, estimatedTotalSeconds)=>{\n        const start = startTime || Date.now();\n        setGenerationStartTime(start);\n        // Save start time to localStorage for persistence\n        localStorage.setItem(\"generation-start-time\", start.toString());\n        // Clear any existing interval\n        if (elapsedTimeInterval) {\n            clearInterval(elapsedTimeInterval);\n        }\n        // Start new interval to update elapsed time and progress every second\n        const interval = setInterval(()=>{\n            const elapsed = (Date.now() - start) / 1000; // Convert to seconds\n            setCurrentElapsedTime(elapsed);\n            // Use provided estimated total or default based on mode\n            const estimatedTotal = estimatedTotalSeconds || (isDraftMode ? 45 : 150); // 45 seconds for draft mode, 150 seconds (2.5 minutes) for final\n            const percentage = Math.min(elapsed / estimatedTotal * 100, 95); // Cap at 95% until completion\n            setProgressPercentage(percentage);\n        }, 1000);\n        setElapsedTimeInterval(interval);\n    };\n    // Stop elapsed time tracking\n    const stopElapsedTimeTracking = ()=>{\n        if (elapsedTimeInterval) {\n            clearInterval(elapsedTimeInterval);\n            setElapsedTimeInterval(null);\n        }\n        localStorage.removeItem(\"generation-start-time\");\n    };\n    // Restore elapsed time tracking from localStorage\n    const restoreElapsedTimeTracking = ()=>{\n        const savedStartTime = localStorage.getItem(\"generation-start-time\");\n        if (savedStartTime && isGenerating) {\n            const startTime = parseInt(savedStartTime);\n            const elapsed = (Date.now() - startTime) / 1000;\n            setCurrentElapsedTime(elapsed);\n            startElapsedTimeTracking(startTime);\n        }\n    };\n    // localStorage persistence hooks\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        // Load saved state from localStorage on component mount\n        const loadSavedState = ()=>{\n            try {\n                const savedFormData = localStorage.getItem(\"vibecarding-form-data\");\n                console.log(\"\\uD83D\\uDD0D Loading saved form data:\", savedFormData);\n                if (savedFormData) {\n                    const formData = JSON.parse(savedFormData);\n                    console.log(\"\\uD83D\\uDCCB Parsed form data:\", formData);\n                    setPrompt(formData.prompt || \"\");\n                    setFinalCardMessage(formData.finalCardMessage || \"\");\n                    setToField(formData.toField || \"\");\n                    setFromField(formData.fromField || \"\");\n                    setSelectedType(formData.selectedType || \"birthday\");\n                    setCustomCardType(formData.customCardType || \"\");\n                    setSelectedTone(formData.selectedTone || \"funny\");\n                    setSelectedArtisticStyle(formData.selectedArtisticStyle || \"watercolor\");\n                    setCustomStyleDescription(formData.customStyleDescription || \"\");\n                    setSelectedImageModel(formData.selectedImageModel || \"gpt-image-1\");\n                    setSelectedDraftModel(formData.selectedDraftModel || \"gpt-image-1\");\n                    setNumberOfCards(formData.numberOfCards || 1);\n                    setUserEmail(formData.userEmail || \"\");\n                    setReferenceImageUrls(formData.referenceImageUrls || []);\n                    setImageTransformation(formData.imageTransformation || \"\");\n                    setIsHandwrittenMessage(formData.isHandwrittenMessage || false);\n                    setIsFrontBackOnly(formData.isFrontBackOnly || false);\n                    setSelectedPaperSize(formData.selectedPaperSize || \"standard\");\n                    setShowAdvanced(formData.showAdvanced || false);\n                    setHandwritingSampleUrl(formData.handwritingSampleUrl || \"\");\n                    setIsTextareaExpanded(formData.isTextareaExpanded || false);\n                    setIsMessageExpanded(formData.isMessageExpanded || false);\n                    setMessageHistory(formData.messageHistory || []);\n                    setCurrentMessageIndex(formData.currentMessageIndex || -1);\n                    setShowRefinementBox(formData.showRefinementBox || false);\n                    setShowSettings(formData.showSettings || false);\n                    setShowPrintConfirmation(formData.showPrintConfirmation || false);\n                    setIsCardCompleted(formData.isCardCompleted || false);\n                    setGenerationDuration(formData.generationDuration || null);\n                    console.log(\"✅ Form data loaded successfully\");\n                } else {\n                    console.log(\"ℹ️ No saved form data found\");\n                }\n                const savedCards = localStorage.getItem(\"vibecarding-generated-cards\");\n                if (savedCards) {\n                    const cardsData = JSON.parse(savedCards);\n                    // Check for old format (with cards array) and migrate to new format\n                    if (cardsData.cards && Array.isArray(cardsData.cards)) {\n                        console.log(\"\\uD83D\\uDD04 Detected old localStorage format, migrating to new format...\");\n                        // Get the most recent card from the old format\n                        let mostRecentCard = null;\n                        if (cardsData.cards.length > 0) {\n                            // Use selected card if available, otherwise use the last card in array\n                            const selectedIndex = cardsData.selectedIndex || 0;\n                            mostRecentCard = cardsData.cards[selectedIndex] || cardsData.cards[cardsData.cards.length - 1];\n                            if (mostRecentCard) {\n                                // Convert to new format and save immediately\n                                const newCardsData = {\n                                    mostRecentCard: mostRecentCard,\n                                    generationDuration: cardsData.generationDuration || null\n                                };\n                                try {\n                                    localStorage.setItem(\"vibecarding-generated-cards\", JSON.stringify(newCardsData));\n                                    console.log(\"✅ Migrated to new localStorage format with most recent card\");\n                                } catch (error) {\n                                    console.error(\"❌ Failed to save migrated data:\", error);\n                                }\n                                // Set up the UI with the migrated card\n                                const cardWithDate = {\n                                    ...mostRecentCard,\n                                    createdAt: new Date(mostRecentCard.createdAt)\n                                };\n                                setGeneratedCards([\n                                    cardWithDate\n                                ]);\n                                setSelectedCardIndex(0);\n                                setGeneratedCard(cardWithDate);\n                                if (cardsData.generationDuration) {\n                                    setGenerationDuration(cardsData.generationDuration);\n                                }\n                            }\n                        } else {\n                            // Old format but no cards, just clear it\n                            console.log(\"\\uD83E\\uDDF9 Old format with no cards, clearing localStorage\");\n                            localStorage.removeItem(\"vibecarding-generated-cards\");\n                        }\n                    } else if (cardsData.mostRecentCard) {\n                        const mostRecentCard = {\n                            ...cardsData.mostRecentCard,\n                            createdAt: new Date(cardsData.mostRecentCard.createdAt)\n                        };\n                        setGeneratedCards([\n                            mostRecentCard\n                        ]);\n                        setSelectedCardIndex(0);\n                        setGeneratedCard(mostRecentCard);\n                        // Restore generation duration if available\n                        if (cardsData.generationDuration) {\n                            setGenerationDuration(cardsData.generationDuration);\n                            console.log(\"⏱️ Restored generation duration:\", cardsData.generationDuration, \"seconds\");\n                        }\n                        console.log(\"✅ Most recent card loaded from localStorage\");\n                    } else {\n                        console.log(\"\\uD83E\\uDDF9 Invalid localStorage format detected, clearing...\");\n                        localStorage.removeItem(\"vibecarding-generated-cards\");\n                    }\n                }\n            } catch (error) {\n                console.error(\"Error loading saved state:\", error);\n            }\n        };\n        // Cleanup function to remove any stale or unnecessary localStorage data\n        const cleanupLocalStorage = ()=>{\n            try {\n                // List of keys we want to keep\n                const keepKeys = [\n                    \"vibecarding-form-data\",\n                    \"vibecarding-generated-cards\",\n                    \"vibecarding-templates\",\n                    \"vibecarding-templates-timestamp\",\n                    \"generation-start-time\"\n                ];\n                // Get all localStorage keys that start with 'vibecarding-' or other app-related prefixes\n                const keysToCheck = [];\n                for(let i = 0; i < localStorage.length; i++){\n                    const key = localStorage.key(i);\n                    if (key && (key.startsWith(\"vibecarding-\") || key.startsWith(\"cardJob_\") || key === \"pendingCardJobs\")) {\n                        keysToCheck.push(key);\n                    }\n                }\n                // Remove any keys that are not in our keep list\n                let removedCount = 0;\n                keysToCheck.forEach((key)=>{\n                    if (!keepKeys.includes(key)) {\n                        // Special handling for job-related keys - keep recent ones, remove old ones\n                        if (key.startsWith(\"cardJob_\") || key === \"pendingCardJobs\") {\n                            try {\n                                if (key === \"pendingCardJobs\") {\n                                    const pendingJobs = JSON.parse(localStorage.getItem(key) || \"[]\");\n                                    // Keep only jobs from the last 24 hours\n                                    const oneDayAgo = Date.now() - 24 * 60 * 60 * 1000;\n                                    const recentJobs = pendingJobs.filter((jobId)=>{\n                                        const jobData = localStorage.getItem(\"cardJob_\".concat(jobId));\n                                        if (jobData) {\n                                            const job = JSON.parse(jobData);\n                                            return job.createdAt && job.createdAt > oneDayAgo;\n                                        }\n                                        return false;\n                                    });\n                                    if (recentJobs.length !== pendingJobs.length) {\n                                        localStorage.setItem(key, JSON.stringify(recentJobs));\n                                        console.log(\"\\uD83E\\uDDF9 Cleaned up \".concat(pendingJobs.length - recentJobs.length, \" old pending jobs\"));\n                                    }\n                                } else if (key.startsWith(\"cardJob_\")) {\n                                    const jobData = localStorage.getItem(key);\n                                    if (jobData) {\n                                        const job = JSON.parse(jobData);\n                                        const oneDayAgo = Date.now() - 24 * 60 * 60 * 1000;\n                                        if (!job.createdAt || job.createdAt < oneDayAgo) {\n                                            localStorage.removeItem(key);\n                                            removedCount++;\n                                        }\n                                    }\n                                }\n                            } catch (error) {\n                                // If we can't parse the job data, it's probably corrupted, so remove it\n                                localStorage.removeItem(key);\n                                removedCount++;\n                            }\n                        } else {\n                            // Remove any other unknown keys\n                            localStorage.removeItem(key);\n                            removedCount++;\n                        }\n                    }\n                });\n                if (removedCount > 0) {\n                    console.log(\"\\uD83E\\uDDF9 Cleaned up \".concat(removedCount, \" stale localStorage items\"));\n                }\n            } catch (error) {\n                console.error(\"Error during localStorage cleanup:\", error);\n            }\n        };\n        loadSavedState();\n        cleanupLocalStorage();\n        setIsInitialLoadComplete(true);\n        // Start preloading template cards immediately on page load\n        preloadAllCards();\n    }, [\n        preloadAllCards\n    ]);\n    // Cleanup elapsed time interval on unmount\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        return ()=>{\n            if (elapsedTimeInterval) {\n                clearInterval(elapsedTimeInterval);\n            }\n        };\n    }, [\n        elapsedTimeInterval\n    ]);\n    // Check for pending jobs and restore timer on page load\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        checkPendingJobs();\n        // Restore elapsed time tracking if generation is in progress\n        restoreElapsedTimeTracking();\n    }, []);\n    // Save form data to localStorage whenever form state changes\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        // Only save after initial load is complete to avoid overwriting loaded data\n        if (!isInitialLoadComplete) return;\n        const saveFormData = ()=>{\n            try {\n                const formData = {\n                    prompt,\n                    finalCardMessage,\n                    toField,\n                    fromField,\n                    selectedType,\n                    customCardType,\n                    selectedTone,\n                    selectedArtisticStyle,\n                    customStyleDescription,\n                    selectedImageModel,\n                    selectedDraftModel,\n                    numberOfCards,\n                    userEmail,\n                    referenceImageUrls,\n                    imageTransformation,\n                    isHandwrittenMessage,\n                    isFrontBackOnly,\n                    selectedPaperSize,\n                    showAdvanced,\n                    handwritingSampleUrl,\n                    isTextareaExpanded,\n                    isMessageExpanded,\n                    messageHistory,\n                    currentMessageIndex,\n                    showRefinementBox,\n                    showSettings,\n                    showPrintConfirmation,\n                    isCardCompleted,\n                    generationDuration\n                };\n                localStorage.setItem(\"vibecarding-form-data\", JSON.stringify(formData));\n                console.log(\"✅ Form data saved to localStorage:\", formData);\n            } catch (error) {\n                console.error(\"❌ Error saving form data:\", error);\n            }\n        };\n        saveFormData();\n    }, [\n        isInitialLoadComplete,\n        prompt,\n        finalCardMessage,\n        toField,\n        fromField,\n        selectedType,\n        customCardType,\n        selectedTone,\n        selectedArtisticStyle,\n        customStyleDescription,\n        selectedImageModel,\n        numberOfCards,\n        userEmail,\n        referenceImageUrls,\n        imageTransformation,\n        isHandwrittenMessage,\n        isFrontBackOnly,\n        selectedPaperSize,\n        showAdvanced,\n        handwritingSampleUrl,\n        isTextareaExpanded,\n        isMessageExpanded,\n        messageHistory,\n        currentMessageIndex,\n        showRefinementBox,\n        showSettings,\n        showPrintConfirmation,\n        isCardCompleted,\n        generationDuration\n    ]);\n    // Save only the most recent card to localStorage whenever it changes\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const saveGeneratedCards = ()=>{\n            try {\n                if (generatedCards.length === 0) return;\n                // Get the most recent card (the last one in the array, or the selected one)\n                const mostRecentCard = generatedCard || generatedCards[generatedCards.length - 1];\n                // Create lightweight version without base64 QR codes for localStorage\n                const cardForStorage = {\n                    ...mostRecentCard\n                };\n                if (cardForStorage.backCover && cardForStorage.backCover.startsWith(\"data:image/png;base64,\")) {\n                    // Don't store the base64 QR code version - it's too large for localStorage\n                    // The QR code will be regenerated when needed\n                    console.log(\"\\uD83D\\uDCBE Skipping base64 QR code storage for card:\", cardForStorage.id);\n                // Keep the original back cover URL if we have it\n                // Note: In practice, we'd need to store the original URL separately\n                // For now, we'll just not save the base64 version\n                }\n                const cardsData = {\n                    mostRecentCard: cardForStorage,\n                    generationDuration: generationDuration\n                };\n                localStorage.setItem(\"vibecarding-generated-cards\", JSON.stringify(cardsData));\n                console.log(\"\\uD83D\\uDCBE Most recent card saved to localStorage:\", cardForStorage.id);\n            } catch (error) {\n                console.error(\"Error saving generated cards:\", error);\n            }\n        };\n        if (generatedCards.length > 0) {\n            saveGeneratedCards();\n        }\n    }, [\n        generatedCards,\n        generatedCard,\n        generationDuration\n    ]);\n    // Track manual message changes for version control\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!isInitialLoadComplete) return;\n        const timeoutId = setTimeout(()=>{\n            if (finalCardMessage.trim() && messageHistory.length > 0 && finalCardMessage !== messageHistory[currentMessageIndex]) {\n                // User has manually edited the message, add to history\n                addMessageToHistory(finalCardMessage);\n            }\n        }, 2000); // Wait 2 seconds after user stops typing\n        return ()=>clearTimeout(timeoutId);\n    }, [\n        finalCardMessage,\n        isInitialLoadComplete\n    ]);\n    // Clear saved data function\n    const clearSavedData = ()=>{\n        try {\n            localStorage.removeItem(\"vibecarding-form-data\");\n            localStorage.removeItem(\"vibecarding-generated-cards\");\n            localStorage.removeItem(\"vibecarding-templates\");\n            localStorage.removeItem(\"vibecarding-templates-timestamp\");\n            sonner__WEBPACK_IMPORTED_MODULE_13__.toast.success(\"Saved data cleared!\");\n        } catch (error) {\n            console.error(\"Error clearing saved data:\", error);\n            sonner__WEBPACK_IMPORTED_MODULE_13__.toast.error(\"Failed to clear saved data\");\n        }\n    };\n    // Storage management function\n    const getStorageUsage = ()=>{\n        try {\n            let totalSize = 0;\n            for(let key in localStorage){\n                if (localStorage.hasOwnProperty(key) && key.startsWith(\"vibecarding-\")) {\n                    totalSize += localStorage[key].length;\n                }\n            }\n            return {\n                used: totalSize,\n                usedMB: (totalSize / (1024 * 1024)).toFixed(2),\n                percentage: Math.round(totalSize / (5 * 1024 * 1024) * 100) // Assume 5MB limit\n            };\n        } catch (error) {\n            return {\n                used: 0,\n                usedMB: \"0\",\n                percentage: 0\n            };\n        }\n    };\n    // Template customization state\n    const [showTemplateCustomization, setShowTemplateCustomization] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [selectedTemplate, setSelectedTemplate] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [templateCustomizations, setTemplateCustomizations] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        promptChanges: \"\",\n        messageChanges: \"\",\n        useReferenceImage: false,\n        referenceImageFile: null,\n        referenceImageUrls: [],\n        referenceImageTransformation: \"\"\n    });\n    const applyTemplate = (template)=>{\n        // Store the selected template and show customization dialog\n        setSelectedTemplate(template);\n        setShowTemplateCustomization(true);\n        setShowTemplateGallery(false);\n        // Initialize customization form with template data\n        setTemplateCustomizations({\n            promptChanges: \"\",\n            messageChanges: \"\",\n            useReferenceImage: false,\n            referenceImageFile: null,\n            referenceImageUrls: [],\n            referenceImageTransformation: \"\"\n        });\n    };\n    // Generate card directly with existing prompts (for template customization)\n    const generateCardWithExistingPrompts = async (prompts)=>{\n        if (!userEmail.trim()) {\n            sonner__WEBPACK_IMPORTED_MODULE_13__.toast.error(\"Please enter your email address\");\n            return;\n        }\n        // Clear all draft mode states to prevent UI conflicts\n        setIsDraftMode(false);\n        setDraftCards([]);\n        setDraftIndexMapping([]);\n        setSelectedDraftIndex(-1);\n        setIsGeneratingFinalCard(false);\n        setPreviewingDraftIndex(-1);\n        setDraftCompletionShown(false); // Reset completion flag\n        // Clear any existing card states\n        setGeneratedCards([]);\n        setGeneratedCard(null);\n        setSelectedCardIndex(0);\n        setCurrentCardId(null);\n        setIsCardCompleted(false);\n        setIsGenerating(true);\n        startElapsedTimeTracking();\n        setGenerationProgress(\"\\uD83C\\uDFA8 Creating your customized template card...\");\n        setProgressPercentage(0);\n        try {\n            // Create job tracking\n            const jobId = (0,uuid__WEBPACK_IMPORTED_MODULE_36__[\"default\"])();\n            setCurrentJobId(jobId);\n            const cardTypeForPrompt = selectedType === \"custom\" ? customCardType : selectedType;\n            const paperConfig = paperSizes.find((size)=>size.id === selectedPaperSize) || paperSizes[0];\n            // Handle message customization\n            let messageContent = templateCustomizations.messageChanges.trim() || finalCardMessage;\n            if (isHandwrittenMessage) {\n                messageContent = \"[Blank space for handwritten message]\";\n            }\n            // Update the right interior prompt with custom message if provided\n            if (messageContent && prompts.rightInterior && !isHandwrittenMessage) {\n                prompts.rightInterior = prompts.rightInterior.replace(/Include message text: \"[^\"]*\"/g, 'Include message text: \"'.concat(messageContent, '\"')).replace(/\"MESSAGE GOES HERE\"/g, '\"'.concat(messageContent, '\"')).replace(/MESSAGE GOES HERE/g, messageContent);\n            }\n            // Save job data\n            const jobData = {\n                prompt: (selectedTemplate === null || selectedTemplate === void 0 ? void 0 : selectedTemplate.prompt) || \"\",\n                selectedType,\n                customCardType,\n                selectedTone,\n                finalCardMessage: messageContent,\n                toField,\n                fromField,\n                userEmail,\n                selectedArtisticStyle,\n                customStyleDescription,\n                selectedImageModel,\n                isFrontBackOnly,\n                numberOfCards: 1,\n                selectedPaperSize,\n                prompts,\n                paperConfig,\n                isTemplateCustomization: true\n            };\n            saveJobToStorage(jobId, jobData);\n            setGenerationProgress(\"\\uD83D\\uDE80 Starting your personalized template card generation...\");\n            // Prepare input images for reference photo support\n            const inputImages = [];\n            // Include both template customization reference images and main reference images\n            if (selectedImageModel === \"gpt-image-1\") {\n                // Add template customization reference images\n                if (templateCustomizations.referenceImageUrls.length > 0) {\n                    inputImages.push(...templateCustomizations.referenceImageUrls);\n                    console.log(\"\\uD83D\\uDD0D DEBUG: Added template customization reference images:\", templateCustomizations.referenceImageUrls);\n                }\n                // Add main reference images from the form\n                if (referenceImageUrls.length > 0) {\n                    inputImages.push(...referenceImageUrls);\n                    console.log(\"\\uD83D\\uDD0D DEBUG: Added main form reference images:\", referenceImageUrls);\n                }\n                if (inputImages.length > 0) {\n                    console.log(\"\\uD83D\\uDD0D DEBUG: Total input images for template generation:\", inputImages.length);\n                    sonner__WEBPACK_IMPORTED_MODULE_13__.toast.success(\"\\uD83D\\uDCF8 \".concat(inputImages.length, \" reference photo\").concat(inputImages.length > 1 ? \"s\" : \"\", \" ready for template customization!\"));\n                }\n            }\n            // Enhance prompts with reference image instructions if available\n            const enhancedPrompts = {\n                ...prompts\n            };\n            if (inputImages.length > 0 && selectedImageModel === \"gpt-image-1\") {\n                var _templateCustomizations_referenceImageUrls;\n                const totalReferenceImages = (((_templateCustomizations_referenceImageUrls = templateCustomizations.referenceImageUrls) === null || _templateCustomizations_referenceImageUrls === void 0 ? void 0 : _templateCustomizations_referenceImageUrls.length) || 0) + ((referenceImageUrls === null || referenceImageUrls === void 0 ? void 0 : referenceImageUrls.length) || 0);\n                const characterInstructions = \"\\n\\nCRITICAL CHARACTER REFERENCE INSTRUCTIONS: I have provided \".concat(totalReferenceImages > 1 ? \"multiple reference photos\" : \"a reference photo\", \" as input image\").concat(totalReferenceImages > 1 ? \"s\" : \"\", \". You MUST create cartoon/illustrated characters that accurately represent ONLY the people who are actually visible in \").concat(totalReferenceImages > 1 ? \"these reference photos\" : \"this reference photo\", \" with high fidelity to their appearance.\\n\\nMANDATORY CHARACTER MATCHING REQUIREMENTS - ONLY INCLUDE WHAT IS ACTUALLY VISIBLE:\\n- REPRESENT ONLY PEOPLE ACTUALLY IN THE PHOTOS: Create cartoon versions of ONLY the people who are actually shown in the reference photos. Do NOT add, create, or imagine any additional people not present in the reference images.\\n- EXACT hair color, hair style, and hair length from each reference photo - only what is actually visible\\n- PRECISE facial features for each person: eye color, eye shape, nose shape, face structure, skin tone - exactly as shown in the reference\\n- ACCURATE clothing: replicate ONLY the EXACT clothing items, colors, patterns, and styles actually worn by each person in their reference photo - do not add or change any clothing items\\n- ACCESSORIES ONLY IF VISIBLE: Include accessories (glasses, jewelry, hats, watches, bags, etc.) ONLY if they are actually visible on each person in the reference photo. DO NOT add glasses if they are not wearing glasses in the photo. DO NOT add jewelry if they are not wearing jewelry in the photo. DO NOT add any accessories that are not clearly visible in the reference image.\\n- CORRECT body proportions and posture as shown for each person in their reference\\n- FAITHFUL age representation and gender presentation for each individual - exactly as they appear\\n- AUTHENTIC facial expressions and poses from the reference images, lean towards making the people look happier unless the user specifically asks for a different expression\\n- GROUP COMPOSITION: If multiple people are actually shown in the photos, arrange them naturally together in a pleasing composition that fits the card's theme\\n\\nCRITICAL RESTRICTION: Do not add, remove, or modify any visual elements beyond what is actually visible in the reference photos. Only include people, clothing, and accessories that are clearly shown in the reference images.\\n\\n\").concat(templateCustomizations.referenceImageTransformation || imageTransformation || \"Study every detail of the people actually in the reference image and recreate them as stylized cartoon characters while maintaining 100% accuracy to their distinctive visual features. The characters must be immediately recognizable as the same people from the reference photo. Pay special attention to clothing details and accessories that are actually visible, and unique personal style elements that make each person distinctive. Do not add or imagine any elements not present in the reference.\", \"\\n\\nThe cartoon style should be charming and artistic while preserving complete visual accuracy to the reference photo. Only represent people, clothing, and accessories that are actually visible in the reference images.\");\n                if (enhancedPrompts.frontCover) {\n                    enhancedPrompts.frontCover += characterInstructions;\n                }\n            }\n            const response = await fetch(\"/api/generate-card-async\", {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                    jobId,\n                    prompts: enhancedPrompts,\n                    config: {\n                        userNumber: \"+17145986105\",\n                        modelVersion: selectedImageModel,\n                        aspectRatio: paperConfig.aspectRatio,\n                        quality: \"high\",\n                        outputFormat: \"jpeg\",\n                        outputCompression: 100,\n                        moderation: \"low\",\n                        dimensions: paperConfig.dimensions,\n                        isFrontBackOnly,\n                        userEmail,\n                        cardType: cardTypeForPrompt,\n                        toField,\n                        fromField,\n                        isDraftMode: false,\n                        isTemplateCustomization: true,\n                        ...inputImages.length > 0 && {\n                            input_images: inputImages,\n                            input_images_mode: \"front_cover_only\" // All reference images should go to front cover for character creation\n                        }\n                    }\n                })\n            });\n            if (!response.ok) {\n                throw new Error(\"Server error: \".concat(response.status));\n            }\n            const result = await response.json();\n            if (result.status !== \"processing\") {\n                throw new Error(result.message || \"Failed to start card generation\");\n            }\n            setGenerationProgress(\"✨ Bringing your customized template to life...\");\n            sonner__WEBPACK_IMPORTED_MODULE_13__.toast.success(\"\\uD83C\\uDF89 Your personalized template card generation started!\");\n            pollJobStatus(jobId);\n        } catch (error) {\n            console.error(\"Template customization generation error:\", error);\n            sonner__WEBPACK_IMPORTED_MODULE_13__.toast.error(\"Failed to generate customized card. Please try again.\");\n            if (currentJobId) {\n                removeJobFromStorage(currentJobId);\n                setCurrentJobId(null);\n            }\n            setIsGenerating(false);\n            setGenerationProgress(\"\");\n            stopElapsedTimeTracking();\n        }\n    };\n    const handleApplyTemplateWithCustomizations = async ()=>{\n        if (!selectedTemplate) return;\n        // Show loading state if we have customizations to process\n        if (templateCustomizations.promptChanges.trim() && selectedTemplate.generatedPrompts) {\n            sonner__WEBPACK_IMPORTED_MODULE_13__.toast.info(\"\\uD83E\\uDD16 AI is applying your customizations to the template...\");\n        }\n        // Apply template data to form - start with original prompt\n        let finalPrompt = selectedTemplate.prompt || \"\";\n        // If we have customizations and generated prompts, modify them directly and generate immediately\n        if (templateCustomizations.promptChanges.trim() && selectedTemplate.generatedPrompts) {\n            try {\n                // Directly modify the generated prompts using AI\n                const modificationQuery = \"You are an expert at modifying detailed image generation prompts for greeting cards. You have existing prompts for each section of a card, and the user wants to make specific changes.\\n\\nUSER'S CUSTOMIZATION REQUEST: \\\"\".concat(templateCustomizations.promptChanges, \"\\\"\\n\\nTASK: Modify each of the provided prompts to incorporate the user's requested changes while preserving all the original technical specifications, safety guidelines, and artistic details.\\n\\nINSTRUCTIONS:\\n1. Only modify elements specifically mentioned in the user's customization request\\n2. Preserve ALL technical specifications (portrait format, text positioning, edge safety, etc.)\\n3. Maintain the same artistic style and quality level\\n4. Keep all safety guidelines and content policies\\n5. Preserve the greeting card context and purpose\\n6. If the customization affects multiple sections, apply it consistently\\n\\nORIGINAL PROMPTS TO MODIFY:\\n\\nFRONT COVER:\\n\").concat(selectedTemplate.generatedPrompts.frontCover, \"\\n\\nBACK COVER:\\n\").concat(selectedTemplate.generatedPrompts.backCover, \"\\n\\n\").concat(selectedTemplate.generatedPrompts.leftInterior ? \"LEFT INTERIOR:\\n\".concat(selectedTemplate.generatedPrompts.leftInterior, \"\\n\\n\") : \"\").concat(selectedTemplate.generatedPrompts.rightInterior ? \"RIGHT INTERIOR:\\n\".concat(selectedTemplate.generatedPrompts.rightInterior) : \"\", '\\n\\nReturn the modified prompts in JSON format:\\n{\\n  \"frontCover\": \"complete modified front cover prompt\",\\n  \"backCover\": \"complete modified back cover prompt\"').concat(selectedTemplate.generatedPrompts.leftInterior ? ',\\n  \"leftInterior\": \"complete modified left interior prompt\"' : \"\").concat(selectedTemplate.generatedPrompts.rightInterior ? ',\\n  \"rightInterior\": \"complete modified right interior prompt\"' : \"\", \"\\n}\");\n                const modifiedPrompts = await chatWithAI(modificationQuery, {\n                    model: \"gemini-2.5-pro\",\n                    includeThoughts: false,\n                    jsonSchema: {\n                        type: \"object\",\n                        properties: {\n                            frontCover: {\n                                type: \"string\"\n                            },\n                            backCover: {\n                                type: \"string\"\n                            },\n                            ...selectedTemplate.generatedPrompts.leftInterior ? {\n                                leftInterior: {\n                                    type: \"string\"\n                                }\n                            } : {},\n                            ...selectedTemplate.generatedPrompts.rightInterior ? {\n                                rightInterior: {\n                                    type: \"string\"\n                                }\n                            } : {}\n                        },\n                        required: [\n                            \"frontCover\",\n                            \"backCover\"\n                        ]\n                    }\n                });\n                if (modifiedPrompts && modifiedPrompts.frontCover) {\n                    // Generate card directly with modified prompts, bypassing the normal prompt-to-prompts flow\n                    sonner__WEBPACK_IMPORTED_MODULE_13__.toast.info(\"\\uD83E\\uDD16 AI has customized the template prompts! Generating your personalized card...\");\n                    // Set basic form data\n                    setPrompt(selectedTemplate.prompt || \"\");\n                    // Clear states and start generation directly with modified prompts\n                    setGeneratedCards([]);\n                    setGeneratedCard(null);\n                    setSelectedCardIndex(0);\n                    setCurrentCardId(null);\n                    // Clear draft mode states to prevent UI conflicts\n                    setIsDraftMode(false);\n                    setDraftCards([]);\n                    setDraftIndexMapping([]);\n                    setSelectedDraftIndex(-1);\n                    setIsGeneratingFinalCard(false);\n                    setPreviewingDraftIndex(-1);\n                    setDraftCompletionShown(false); // Reset completion flag\n                    // Clear progress states\n                    setGenerationProgress(\"\");\n                    setIsGenerating(false);\n                    setIsCardCompleted(false);\n                    // Close dialogs\n                    setShowTemplateCustomization(false);\n                    setSelectedTemplate(null);\n                    // Start generation with modified prompts\n                    setTimeout(()=>{\n                        generateCardWithExistingPrompts(modifiedPrompts);\n                    }, 1000);\n                    return; // Exit early since we're handling generation directly\n                }\n            } catch (error) {\n                console.error(\"Failed to modify template prompts directly:\", error);\n                sonner__WEBPACK_IMPORTED_MODULE_13__.toast.error(\"Failed to customize template prompts. Using fallback method.\");\n            }\n        }\n        // Fallback: modify the user prompt and use normal generation flow\n        if (templateCustomizations.promptChanges.trim()) {\n            finalPrompt = \"\".concat(finalPrompt, \"\\n\\nCUSTOMIZATION REQUEST: \").concat(templateCustomizations.promptChanges);\n        }\n        setPrompt(finalPrompt);\n        // Try to extract card type from prompt\n        const promptLower = (selectedTemplate.prompt || \"\").toLowerCase();\n        let detectedType = \"birthday\"; // default\n        cardTypes.forEach((type)=>{\n            if (type.id !== \"custom\" && promptLower.includes(type.id.toLowerCase())) {\n                detectedType = type.id;\n            }\n        });\n        setSelectedType(detectedType);\n        // Apply message customizations\n        if (templateCustomizations.messageChanges.trim()) {\n            setFinalCardMessage(templateCustomizations.messageChanges);\n        } else {\n            setFinalCardMessage(\"\"); // Let it auto-generate\n        }\n        // Handle reference image if provided\n        if (templateCustomizations.useReferenceImage && templateCustomizations.referenceImageFile) {\n            try {\n                // Upload the reference image\n                const formData = new FormData();\n                formData.append(\"file\", templateCustomizations.referenceImageFile);\n                const uploadResponse = await fetch(\"\".concat(BACKEND_API_BASE_URL, \"/upload\"), {\n                    method: \"POST\",\n                    body: formData\n                });\n                if (uploadResponse.ok) {\n                    const uploadResult = await uploadResponse.json();\n                    // Add to existing reference images instead of replacing them\n                    setReferenceImages((prev)=>[\n                            ...prev,\n                            templateCustomizations.referenceImageFile\n                        ]);\n                    setReferenceImageUrls((prev)=>[\n                            ...prev,\n                            uploadResult.url\n                        ]);\n                    setImageTransformation(templateCustomizations.referenceImageTransformation || \"Transform into the same artistic style as the template\");\n                    sonner__WEBPACK_IMPORTED_MODULE_13__.toast.success(\"Reference image uploaded successfully!\");\n                } else {\n                    sonner__WEBPACK_IMPORTED_MODULE_13__.toast.error(\"Failed to upload reference image\");\n                }\n            } catch (error) {\n                console.error(\"Reference image upload failed:\", error);\n                sonner__WEBPACK_IMPORTED_MODULE_13__.toast.error(\"Failed to upload reference image\");\n            }\n        }\n        // Clear current generated cards since we're starting fresh with a template\n        setGeneratedCards([]);\n        setGeneratedCard(null);\n        setSelectedCardIndex(0);\n        setCurrentCardId(null);\n        // Clear draft mode states to prevent UI conflicts\n        setIsDraftMode(false);\n        setDraftCards([]);\n        setDraftIndexMapping([]);\n        setSelectedDraftIndex(-1);\n        setIsGeneratingFinalCard(false);\n        setPreviewingDraftIndex(-1);\n        setDraftCompletionShown(false); // Reset completion flag\n        // Clear progress states\n        setGenerationProgress(\"\");\n        setIsGenerating(false);\n        setIsCardCompleted(false);\n        // Close customization dialog\n        setShowTemplateCustomization(false);\n        setSelectedTemplate(null);\n        const customizationSummary = [];\n        if (templateCustomizations.promptChanges.trim()) customizationSummary.push(\"prompt changes\");\n        if (templateCustomizations.messageChanges.trim()) customizationSummary.push(\"custom message\");\n        if (templateCustomizations.useReferenceImage) customizationSummary.push(\"reference image\");\n        const summaryText = customizationSummary.length > 0 ? \" with \".concat(customizationSummary.join(\", \")) : \"\";\n        sonner__WEBPACK_IMPORTED_MODULE_13__.toast.success(\"✨ Template customized\".concat(summaryText, \"! Generating your personalized card...\"));\n        // Automatically start card generation\n        setTimeout(()=>{\n            handleGenerateCardAsync();\n        }, 1000); // Small delay to let the user see the success message\n    };\n    // Create new card function - clears all data\n    const handleCreateNewCard = ()=>{\n        // Clear all form fields\n        setPrompt(\"\");\n        setFinalCardMessage(\"\");\n        setToField(\"\");\n        setFromField(\"\");\n        setSelectedType(\"birthday\");\n        setCustomCardType(\"\");\n        setSelectedTone(\"funny\");\n        setSelectedArtisticStyle(\"watercolor\");\n        setCustomStyleDescription(\"\");\n        setSelectedImageModel(\"gpt-image-1\");\n        setNumberOfCards(1);\n        setUserEmail(\"\");\n        setReferenceImages([]);\n        setReferenceImageUrls([]);\n        setImageTransformation(\"\");\n        setHandwritingSample(null);\n        setHandwritingSampleUrl(null);\n        setIsHandwrittenMessage(false);\n        setIsFrontBackOnly(false);\n        setSelectedPaperSize(\"standard\");\n        // Clear generated cards\n        setGeneratedCards([]);\n        setGeneratedCard(null);\n        setSelectedCardIndex(0);\n        setCurrentCardId(null);\n        // Clear draft mode states\n        setIsDraftMode(false);\n        setDraftCards([]);\n        setDraftIndexMapping([]);\n        setSelectedDraftIndex(-1);\n        setIsGeneratingFinalCard(false);\n        setPreviewingDraftIndex(-1);\n        setDraftCompletionShown(false);\n        // Clear progress and states\n        setGenerationProgress(\"\");\n        setIsGenerating(false);\n        setIsGeneratingMessage(false);\n        setIsCardCompleted(false);\n        setCountdown(0);\n        if (countdownInterval) {\n            clearInterval(countdownInterval);\n            setCountdownInterval(null);\n        }\n        // Clear message history\n        setMessageHistory([]);\n        setCurrentMessageIndex(-1);\n        setRefinementPrompt(\"\");\n        setShowRefinementBox(false);\n        // Clear localStorage\n        try {\n            localStorage.removeItem(\"vibecarding-form-data\");\n            localStorage.removeItem(\"vibecarding-generated-cards\");\n        } catch (error) {\n            console.error(\"Error clearing localStorage:\", error);\n        }\n        sonner__WEBPACK_IMPORTED_MODULE_13__.toast.success(\"✨ Ready to create a new card!\");\n    };\n    // Regenerate with same prompt function\n    const handleRegenerateCard = ()=>{\n        // Keep all current settings but clear generated results\n        setGeneratedCards([]);\n        setGeneratedCard(null);\n        setSelectedCardIndex(0);\n        setCurrentCardId(null);\n        // Clear draft mode states\n        setIsDraftMode(false);\n        setDraftCards([]);\n        setDraftIndexMapping([]);\n        setSelectedDraftIndex(-1);\n        setIsGeneratingFinalCard(false);\n        setPreviewingDraftIndex(-1);\n        setDraftCompletionShown(false);\n        // Clear progress and states\n        setGenerationProgress(\"\");\n        setIsGenerating(false);\n        setIsGeneratingMessage(false);\n        setIsCardCompleted(false);\n        setCountdown(0);\n        if (countdownInterval) {\n            clearInterval(countdownInterval);\n            setCountdownInterval(null);\n        }\n        // Clear generated cards from localStorage but keep form data\n        try {\n            localStorage.removeItem(\"vibecarding-generated-cards\");\n        } catch (error) {\n            console.error(\"Error clearing generated cards:\", error);\n        }\n        sonner__WEBPACK_IMPORTED_MODULE_13__.toast.success(\"\\uD83D\\uDD04 Ready to regenerate with the same settings!\");\n    };\n    // Message version control functions\n    const addMessageToHistory = (message)=>{\n        if (message.trim() === \"\") return;\n        // Safety check: Remove any MESSAGE tags that might have slipped through\n        const cleanMessage = message.replace(/<\\/?MESSAGE>/g, \"\").trim();\n        if (cleanMessage === \"\") return;\n        // Remove any future history if we're not at the end\n        const newHistory = messageHistory.slice(0, currentMessageIndex + 1);\n        newHistory.push(cleanMessage);\n        // Keep only last 10 versions to prevent memory issues\n        if (newHistory.length > 10) {\n            newHistory.shift();\n        } else {\n            setCurrentMessageIndex(currentMessageIndex + 1);\n        }\n        setMessageHistory(newHistory);\n        setCurrentMessageIndex(newHistory.length - 1);\n    };\n    const undoMessage = ()=>{\n        if (currentMessageIndex > 0) {\n            const newIndex = currentMessageIndex - 1;\n            setCurrentMessageIndex(newIndex);\n            setFinalCardMessage(messageHistory[newIndex]);\n        }\n    };\n    const redoMessage = ()=>{\n        if (currentMessageIndex < messageHistory.length - 1) {\n            const newIndex = currentMessageIndex + 1;\n            setCurrentMessageIndex(newIndex);\n            setFinalCardMessage(messageHistory[newIndex]);\n        }\n    };\n    // Handle message refinement\n    const handleRefineMessage = async ()=>{\n        if (!refinementPrompt.trim() || !finalCardMessage.trim()) {\n            sonner__WEBPACK_IMPORTED_MODULE_13__.toast.error(\"Please enter both a message and refinement instructions!\");\n            return;\n        }\n        setIsRefiningMessage(true);\n        try {\n            const cardTypeForPrompt = selectedType === \"custom\" ? customCardType : selectedType;\n            const selectedToneObj = cardTones.find((tone)=>tone.id === selectedTone);\n            const toneDescription = selectedToneObj ? selectedToneObj.description.toLowerCase() : \"heartfelt and sincere\";\n            const refinementAPIPrompt = \"Please refine this greeting card message based on the user's instructions.\\n\\nCurrent Message: \\\"\".concat(finalCardMessage, '\"\\n\\nRefinement Instructions: \"').concat(refinementPrompt, '\"\\n\\nCard Context:\\n- Type: ').concat(cardTypeForPrompt, \"\\n- Tone: \").concat(toneDescription, \"\\n\").concat(toField ? \"- Recipient: \".concat(toField) : \"\", \"\\n\").concat(fromField ? \"- Sender: \".concat(fromField) : \"\", \"\\n\\nPlease provide only the refined message, maintaining the \").concat(toneDescription, \" tone while implementing the requested changes.\");\n            const refinedMessage = await chatWithAI(refinementAPIPrompt, {\n                model: \"gemini-2.5-pro\",\n                includeThoughts: false\n            });\n            if (refinedMessage === null || refinedMessage === void 0 ? void 0 : refinedMessage.trim()) {\n                // Add current message to history before changing\n                addMessageToHistory(finalCardMessage);\n                // Clean any potential MESSAGE tags from refined message (safety check)\n                const cleanedRefinedMessage = refinedMessage.trim().replace(/<\\/?MESSAGE>/g, \"\").trim();\n                // Set the new refined message\n                setFinalCardMessage(cleanedRefinedMessage);\n                // Add the new message to history\n                addMessageToHistory(cleanedRefinedMessage);\n                setRefinementPrompt(\"\");\n                setShowRefinementBox(false);\n                sonner__WEBPACK_IMPORTED_MODULE_13__.toast.success(\"Message refined successfully!\");\n            } else {\n                throw new Error(\"No message received\");\n            }\n        } catch (error) {\n            console.error(\"Error refining message:\", error);\n            sonner__WEBPACK_IMPORTED_MODULE_13__.toast.error(\"Failed to refine message. Please try again.\");\n        } finally{\n            setIsRefiningMessage(false);\n        }\n    };\n    // Writing Assistant\n    const handleGetMessageHelp = async ()=>{\n        // Validate custom card type if selected\n        if (selectedType === \"custom\" && !customCardType.trim()) {\n            sonner__WEBPACK_IMPORTED_MODULE_13__.toast.error(\"Please describe your custom card type first!\");\n            return;\n        }\n        setIsGeneratingMessage(true);\n        try {\n            const cardTypeForPrompt = selectedType === \"custom\" ? customCardType : selectedType;\n            const selectedToneObj = cardTones.find((tone)=>tone.id === selectedTone);\n            const toneDescription = selectedToneObj ? selectedToneObj.description.toLowerCase() : \"heartfelt and sincere\";\n            // Use effective prompt logic here too\n            const effectivePrompt = prompt.trim() || \"A beautiful \".concat(cardTypeForPrompt, \" card with \").concat(toneDescription, \" style\");\n            const messagePrompt = \"Create a \".concat(toneDescription, \" message for a \").concat(cardTypeForPrompt, ' greeting card.\\n\\nCard Theme/Description: \"').concat(effectivePrompt, '\"\\n').concat(toField ? \"Recipient: \".concat(toField) : \"Recipient: [not specified]\", \"\\n\").concat(fromField ? \"Sender: \".concat(fromField) : \"Sender: [not specified]\", \"\\nCard Tone: \").concat(selectedToneObj ? selectedToneObj.label : \"Heartfelt\", \" - \").concat(toneDescription, \"\\n\\nInstructions:\\n- Write a message that is \").concat(toneDescription, \" and feels personal and genuine\\n- \").concat(toField ? \"Address the message to \".concat(toField, \" directly, using their name naturally\") : \"Write in a way that could be personalized to any recipient\", \"\\n- \").concat(fromField ? \"Write as if \".concat(fromField, \" is personally writing this message\") : \"Write in a \".concat(toneDescription, \" tone\"), \"\\n- Match the \").concat(toneDescription, \" tone and occasion of the \").concat(cardTypeForPrompt, ' card type\\n- Be inspired by the theme: \"').concat(effectivePrompt, '\"\\n- Keep it concise but meaningful (2-4 sentences ideal)\\n- Make it feel authentic, not generic\\n- SAFETY: Never include brand names, character names, trademarked terms, or inappropriate content. If the theme references these, use generic alternatives or focus on the emotions/concepts instead\\n- Keep content family-friendly and appropriate for all ages\\n- ').concat(selectedTone === \"funny\" ? \"Include appropriate humor that fits the occasion\" : \"\", \"\\n- \").concat(selectedTone === \"genz-humor\" ? 'Use GenZ humor with internet slang, memes, and chaotic energy - think \"no cap\", \"periodt\", \"it\\'s giving...\", \"slay\", etc. Be unhinged but endearing' : \"\", \"\\n- \").concat(selectedTone === \"professional\" ? \"Keep it formal and business-appropriate\" : \"\", \"\\n- \").concat(selectedTone === \"romantic\" ? \"Include loving and romantic language\" : \"\", \"\\n- \").concat(selectedTone === \"playful\" ? \"Use fun and energetic language\" : \"\", \"\\n- \").concat(toField && fromField ? \"Show the relationship between \".concat(fromField, \" and \").concat(toField, \" through the \").concat(toneDescription, \" message tone\") : \"\", \"\\n- \").concat(fromField ? 'End the message with a signature line like \"Love, '.concat(fromField, '\" or \"- ').concat(fromField, '\" or similar, naturally integrated into the message.') : \"\", \"\\n\\nReturn ONLY the message text that should appear inside the card - no quotes, no explanations, no markdown formatting (no *bold*, _italics_, or other markdown), just the complete \").concat(toneDescription, \" message in plain text.\\n\\nIMPORTANT: Wrap your final message in <MESSAGE> </MESSAGE> tags. Everything outside these tags will be ignored.\");\n            const generatedMessage = await chatWithAI(messagePrompt, {\n                model: \"gemini-2.5-pro\",\n                includeThoughts: false // Don't include thinking content in message generation\n            });\n            if (generatedMessage === null || generatedMessage === void 0 ? void 0 : generatedMessage.trim()) {\n                // Extract message content between <MESSAGE> tags using regex\n                const messageMatch = generatedMessage.match(/<MESSAGE>([\\s\\S]*?)<\\/MESSAGE>/);\n                let extractedMessage = messageMatch ? messageMatch[1].trim() : generatedMessage.trim();\n                // Ensure no MESSAGE tags are included in the final message\n                extractedMessage = extractedMessage.replace(/<\\/?MESSAGE>/g, \"\").trim();\n                // Add current message to history if it exists and is different\n                if (finalCardMessage.trim() && finalCardMessage.trim() !== extractedMessage) {\n                    addMessageToHistory(finalCardMessage);\n                }\n                setFinalCardMessage(extractedMessage);\n                // Add the new message to history\n                addMessageToHistory(extractedMessage);\n                sonner__WEBPACK_IMPORTED_MODULE_13__.toast.success(\"✨ Personalized message created!\");\n            }\n        } catch (error) {\n            sonner__WEBPACK_IMPORTED_MODULE_13__.toast.error(\"Failed to generate message. Please try again.\");\n        } finally{\n            setIsGeneratingMessage(false);\n        }\n    };\n    // File upload handler\n    const handleFileUpload = async (file, type)=>{\n        if (!file.type.startsWith(\"image/\")) {\n            sonner__WEBPACK_IMPORTED_MODULE_13__.toast.error(\"Please upload an image file\");\n            return;\n        }\n        setIsUploading(true);\n        try {\n            const formData = new FormData();\n            formData.append(\"file\", file);\n            const response = await fetch(\"\".concat(BACKEND_API_BASE_URL, \"/upload\"), {\n                method: \"POST\",\n                body: formData\n            });\n            if (!response.ok) throw new Error(\"Upload failed: \".concat(response.status));\n            const result = await response.json();\n            if (type === \"handwriting\") {\n                setHandwritingSample(file);\n                setHandwritingSampleUrl(result.url);\n                sonner__WEBPACK_IMPORTED_MODULE_13__.toast.success(\"Handwriting sample uploaded!\");\n            } else {\n                setReferenceImages((prev)=>[\n                        ...prev,\n                        file\n                    ]);\n                setReferenceImageUrls((prev)=>[\n                        ...prev,\n                        result.url\n                    ]);\n                console.log(\"\\uD83D\\uDD0D DEBUG: Reference image uploaded successfully:\", {\n                    fileName: file.name,\n                    url: result.url,\n                    totalImages: referenceImages.length + 1\n                });\n                sonner__WEBPACK_IMPORTED_MODULE_13__.toast.success(\"Reference image uploaded! \".concat(referenceImages.length + 1, \" photo\").concat(referenceImages.length + 1 > 1 ? \"s\" : \"\", \" ready for character creation.\"));\n            }\n        } catch (error) {\n            sonner__WEBPACK_IMPORTED_MODULE_13__.toast.error(\"Upload failed. Please try again.\");\n        } finally{\n            setIsUploading(false);\n        }\n    };\n    const handleRemoveReferenceImage = (index)=>{\n        const removedImage = referenceImages[index];\n        const removedUrl = referenceImageUrls[index];\n        setReferenceImages((prev)=>prev.filter((_, i)=>i !== index));\n        setReferenceImageUrls((prev)=>prev.filter((_, i)=>i !== index));\n        console.log(\"\\uD83D\\uDD0D DEBUG: Reference image removed:\", {\n            fileName: removedImage === null || removedImage === void 0 ? void 0 : removedImage.name,\n            url: removedUrl,\n            remainingImages: referenceImages.length - 1\n        });\n        sonner__WEBPACK_IMPORTED_MODULE_13__.toast.success(\"Reference image removed! \".concat(referenceImages.length - 1, \" photo\").concat(referenceImages.length - 1 !== 1 ? \"s\" : \"\", \" remaining.\"));\n    };\n    // Simplified draft mode generation - calls consolidated function 4 times\n    const handleGenerateDraftCards = async ()=>{\n        if (!userEmail.trim()) {\n            sonner__WEBPACK_IMPORTED_MODULE_13__.toast.error(\"Please enter your email address\");\n            return;\n        }\n        // Basic email validation\n        const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n        if (!emailRegex.test(userEmail)) {\n            sonner__WEBPACK_IMPORTED_MODULE_13__.toast.error(\"Please enter a valid email address\");\n            return;\n        }\n        // Validate custom style if selected\n        if (selectedArtisticStyle === \"custom\" && !customStyleDescription.trim()) {\n            sonner__WEBPACK_IMPORTED_MODULE_13__.toast.error(\"Please describe your custom artistic style\");\n            return;\n        }\n        // Validate reference images with model compatibility\n        if (referenceImageUrls.length > 0 && selectedDraftModel !== \"gpt-image-1\") {\n            var _imageModels_find;\n            console.log(\"\\uD83D\\uDD0D DEBUG: Reference image validation failed:\", {\n                referenceImageUrlsLength: referenceImageUrls.length,\n                referenceImageUrls: referenceImageUrls,\n                selectedDraftModel: selectedDraftModel,\n                referenceImagesLength: referenceImages.length\n            });\n            // Show a more helpful error with action buttons\n            const clearPhotos = ()=>{\n                setReferenceImages([]);\n                setReferenceImageUrls([]);\n                sonner__WEBPACK_IMPORTED_MODULE_13__.toast.success(\"Reference photos cleared! You can now use draft mode.\");\n            };\n            const switchToGPT1 = ()=>{\n                setSelectedDraftModel(\"gpt-image-1\");\n                sonner__WEBPACK_IMPORTED_MODULE_13__.toast.success(\"Switched to GPT Image 1 for draft mode!\");\n            };\n            sonner__WEBPACK_IMPORTED_MODULE_13__.toast.error(/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"space-y-2\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        children: \"Reference photos are only supported with GPT Image 1 model.\"\n                    }, void 0, false, {\n                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                        lineNumber: 2466,\n                        columnNumber: 12\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"text-xs\",\n                        children: [\n                            \"You have \",\n                            referenceImageUrls.length,\n                            \" reference photo\",\n                            referenceImageUrls.length > 1 ? \"s\" : \"\",\n                            \" but selected \",\n                            (_imageModels_find = imageModels.find((m)=>m.id === selectedDraftModel)) === null || _imageModels_find === void 0 ? void 0 : _imageModels_find.label,\n                            \".\"\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                        lineNumber: 2467,\n                        columnNumber: 12\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex gap-2 mt-2\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: switchToGPT1,\n                                className: \"px-2 py-1 bg-blue-600 text-white text-xs rounded hover:bg-blue-700\",\n                                children: \"Use GPT Image 1\"\n                            }, void 0, false, {\n                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                lineNumber: 2469,\n                                columnNumber: 14\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: clearPhotos,\n                                className: \"px-2 py-1 bg-red-600 text-white text-xs rounded hover:bg-red-700\",\n                                children: \"Remove Photos\"\n                            }, void 0, false, {\n                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                lineNumber: 2475,\n                                columnNumber: 14\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                        lineNumber: 2468,\n                        columnNumber: 12\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                lineNumber: 2465,\n                columnNumber: 10\n            }, this), {\n                duration: 8000\n            });\n            return;\n        }\n        setIsDraftMode(true);\n        setIsGenerating(true);\n        startElapsedTimeTracking(undefined, 45); // 45 seconds for draft mode\n        setGenerationProgress(\"\\uD83C\\uDFA8 Creating 10 front cover variations for you to choose from...\");\n        setProgressPercentage(0);\n        setDraftCards([]);\n        setDraftIndexMapping([]);\n        setSelectedDraftIndex(-1);\n        setDraftCompletionShown(false); // Reset completion flag\n        // Clear any previous card state to avoid UI conflicts\n        setGeneratedCard(null);\n        setGeneratedCards([]);\n        setIsCardCompleted(false);\n        try {\n            console.log(\"\\uD83D\\uDE80 Starting draft mode generation with 5 variations\");\n            // Show specific message for GPT-1 users about quality enforcement\n            if (selectedDraftModel === \"gpt-image-1\") {\n                const styleMessage = selectedArtisticStyle === \"ai-smart-style\" ? \" across 5 curated artistic styles!\" : \" (using low quality for fast previews)!\";\n                sonner__WEBPACK_IMPORTED_MODULE_13__.toast.success(\"\\uD83C\\uDFA8 Generating 5 front cover variations with GPT-1\".concat(styleMessage));\n            } else {\n                const styleMessage = selectedArtisticStyle === \"ai-smart-style\" ? \" across 5 curated artistic styles!\" : \" for you to choose from!\";\n                sonner__WEBPACK_IMPORTED_MODULE_13__.toast.success(\"\\uD83C\\uDFA8 Generating 5 front cover variations\".concat(styleMessage));\n            }\n            // Generate 5 draft variations with smart style distribution\n            const draftPromises = Array.from({\n                length: 5\n            }, async (_, index)=>{\n                try {\n                    console.log(\"\\uD83C\\uDFA8 Starting draft variation \".concat(index + 1));\n                    // For smart style, use predefined styles for all 5 variations\n                    let styleOverride = undefined;\n                    let styleLabel = undefined;\n                    if (selectedArtisticStyle === \"ai-smart-style\") {\n                        const predefinedStyles = [\n                            \"watercolor\",\n                            \"botanical\",\n                            \"comic-book\",\n                            \"dreamy-fantasy\",\n                            \"minimalist\"\n                        ];\n                        const styleLabels = [\n                            \"\\uD83C\\uDFA8 Watercolor\",\n                            \"\\uD83C\\uDF3F Botanical\",\n                            \"\\uD83D\\uDCA5 Comic Book\",\n                            \"\\uD83C\\uDF38 Dreamy Fantasy\",\n                            \"✨ Minimalist\"\n                        ];\n                        styleOverride = predefinedStyles[index];\n                        styleLabel = styleLabels[index];\n                        console.log(\"\\uD83C\\uDFA8 Draft \".concat(index + 1, ': Using predefined style \"').concat(styleOverride, '\" (').concat(styleLabel, \")\"));\n                    }\n                    await handleGenerateCardAsyncInternal({\n                        isDraftMode: true,\n                        draftIndex: index,\n                        styleOverride: styleOverride,\n                        styleLabel: styleLabel,\n                        onDraftComplete: (card, idx)=>{\n                            console.log(\"✅ Draft variation \".concat(idx + 1, \" completed:\"), card.id);\n                            setDraftCards((prev)=>{\n                                const updated = [\n                                    ...prev\n                                ];\n                                updated[idx] = card;\n                                // Check if all 5 variations are complete\n                                const completedCount = updated.filter((c)=>c).length;\n                                console.log(\"\\uD83D\\uDCCA Draft progress: \".concat(completedCount, \"/5 variations complete\"));\n                                if (completedCount === 5) {\n                                    setIsGenerating(false);\n                                    setGenerationProgress(\"\");\n                                    setProgressPercentage(100);\n                                    stopElapsedTimeTracking();\n                                    sonner__WEBPACK_IMPORTED_MODULE_13__.toast.success(\"\\uD83C\\uDFA8 All 5 design variations ready! Choose your favorite below.\");\n                                } else {\n                                    setGenerationProgress(\"✨ \".concat(completedCount, \"/5 variations complete...\"));\n                                    setProgressPercentage(completedCount / 5 * 100);\n                                }\n                                return updated;\n                            });\n                        }\n                    });\n                } catch (error) {\n                    console.error(\"❌ Draft variation \".concat(index + 1, \" failed:\"), error);\n                    sonner__WEBPACK_IMPORTED_MODULE_13__.toast.error(\"Draft variation \".concat(index + 1, \" failed: \").concat(error instanceof Error ? error.message : \"Unknown error\"));\n                }\n            });\n            // Wait for all draft generations to start (but not complete)\n            await Promise.allSettled(draftPromises);\n            console.log(\"\\uD83D\\uDE80 All draft variations started\");\n        } catch (error) {\n            console.error(\"Draft card generation error:\", error);\n            sonner__WEBPACK_IMPORTED_MODULE_13__.toast.error(\"Failed to start draft generation: \".concat(error instanceof Error ? error.message : \"Unknown error\"));\n            setIsGenerating(false);\n            setIsDraftMode(false);\n            setDraftCompletionShown(false); // Reset completion flag\n            setGenerationProgress(\"\");\n            stopElapsedTimeTracking();\n        }\n    };\n    // Generate final high-quality card from selected draft\n    const handleGenerateFinalFromDraft = async (displayIndex)=>{\n        if (displayIndex < 0 || displayIndex >= draftCards.length || !draftCards[displayIndex]) {\n            sonner__WEBPACK_IMPORTED_MODULE_13__.toast.error(\"Invalid draft selection\");\n            return;\n        }\n        // Get the original draft index from the mapping\n        const originalDraftIndex = draftIndexMapping[displayIndex];\n        if (originalDraftIndex === undefined) {\n            sonner__WEBPACK_IMPORTED_MODULE_13__.toast.error(\"Could not find original draft data\");\n            return;\n        }\n        // Stop remaining draft generations to focus on the selected design\n        const remainingDrafts = 5 - draftCards.length;\n        if (remainingDrafts > 0 && isGenerating) {\n            setIsGenerating(false); // Stop the draft generation process\n            sonner__WEBPACK_IMPORTED_MODULE_13__.toast.info(\"\\uD83C\\uDFAF Focusing on your selected design! Skipping \".concat(remainingDrafts, \" remaining variations.\"));\n        }\n        setIsGeneratingFinalCard(true);\n        setSelectedDraftIndex(displayIndex); // Store display index for UI\n        startElapsedTimeTracking(undefined, 120); // 120 seconds for final card generation\n        setGenerationProgress(\"\\uD83C\\uDFA8 Creating high-quality version of your selected design...\");\n        try {\n            var _selectedDraft_generatedPrompts, _paperSizes_find, _paperSizes_find1;\n            const selectedDraft = draftCards[displayIndex];\n            const jobId = (0,uuid__WEBPACK_IMPORTED_MODULE_36__[\"default\"])();\n            // Generate the missing prompts using the stored frontCover prompt + user info\n            console.log(\"\\uD83D\\uDD04 Generating complete prompts from stored front cover prompt + user info\");\n            // The draft should have at least the frontCover prompt\n            const storedFrontCoverPrompt = (_selectedDraft_generatedPrompts = selectedDraft.generatedPrompts) === null || _selectedDraft_generatedPrompts === void 0 ? void 0 : _selectedDraft_generatedPrompts.frontCover;\n            if (!storedFrontCoverPrompt) {\n                throw new Error(\"Selected draft is missing frontCover prompt\");\n            }\n            console.log(\"✅ Found stored front cover prompt:\", storedFrontCoverPrompt.substring(0, 100) + \"...\");\n            // Now generate the missing 3 prompts using the front cover context + user info\n            const cardTypeForPrompt = selectedType === \"custom\" ? customCardType : selectedType;\n            const selectedToneObj = cardTones.find((tone)=>tone.id === selectedTone);\n            const toneDescription = selectedToneObj ? selectedToneObj.description.toLowerCase() : \"heartfelt and sincere\";\n            const effectivePrompt = prompt.trim() || \"A beautiful \".concat(cardTypeForPrompt, \" card with \").concat(toneDescription, \" style\");\n            let messageContent = finalCardMessage;\n            if (isHandwrittenMessage) {\n                messageContent = \"[Blank space for handwritten message]\";\n            }\n            // Get style from the selected draft or fall back to current setting  \n            const draftStyleInfo = selectedDraft.styleInfo;\n            let styleModifier = \"\";\n            if (draftStyleInfo && draftStyleInfo.styleName) {\n                const selectedStyle = artisticStyles.find((style)=>style.id === draftStyleInfo.styleName);\n                styleModifier = (selectedStyle === null || selectedStyle === void 0 ? void 0 : selectedStyle.promptModifier) || \"\";\n            } else {\n                const selectedStyle = artisticStyles.find((style)=>style.id === selectedArtisticStyle);\n                styleModifier = selectedArtisticStyle === \"custom\" ? customStyleDescription : (selectedStyle === null || selectedStyle === void 0 ? void 0 : selectedStyle.promptModifier) || \"\";\n            }\n            const generateOtherPromptsQuery = 'You are creating the remaining prompts for a greeting card. You already have the front cover prompt below.\\n\\nEXISTING FRONT COVER PROMPT:\\n\"'.concat(storedFrontCoverPrompt, '\"\\n\\nCARD CONTEXT:\\n- Type: ').concat(cardTypeForPrompt, '\\n- Theme: \"').concat(effectivePrompt, '\"  \\n- Tone: ').concat(toneDescription, \"\\n\").concat(toField ? \"- To: \".concat(toField) : \"\", \"\\n\").concat(fromField ? \"- From: \".concat(fromField) : \"\", \"\\n\").concat(!isFrontBackOnly ? '- Message: \"'.concat(messageContent, '\"') : \"\", \"\\n\").concat(isHandwrittenMessage ? \"- Note: Include space for handwritten message\" : \"\", \"\\n\\nTASK: Create prompts for the remaining card sections that are visually cohesive with the existing front cover. Use the same color palette, artistic style, lighting, and visual elements from the front cover to create a unified design.\\n\\nRequirements:\\n- Maintain visual continuity with the front cover design\\n- Use the same artistic style: \").concat(styleModifier, '\\n- Keep consistent color palette, lighting, and mood\\n- Full-bleed backgrounds extending to edges\\n- Keep text/faces 0.5\" from left/right edges for safe printing\\n- IMPORTANT: Keep text, faces, and key elements at least 10% away from top/bottom edges\\n\\nGenerate prompts for:\\n\\n1. Back Cover: Create a simple, peaceful design that complements the front cover. Reference subtle elements from the front cover but keep it minimal and serene. NO PEOPLE, just beautiful artistic elements. IMPORTANT: Leave the bottom-right corner area (approximately 1 inch square) completely clear and undecorated for QR code placement.\\n\\n').concat(!isFrontBackOnly ? \"2. Left Interior: Creative decorative art that harmonizes with the front cover style. NO PEOPLE or characters, focus on artistic elements like patterns, landscapes, objects, or abstract art that matches the front cover's mood and style.\\n\\n3. Right Interior: \".concat(isHandwrittenMessage ? \"Design elegant writing space with decorative elements that complement the front cover style. Position decorative elements safely away from edges. NO PEOPLE or characters.\" : 'Include message text: \"'.concat(messageContent, '\" in beautiful handwritten cursive script, integrated into decorative artwork that matches the front cover style. NO PEOPLE or characters.')) : \"\", '\\n\\nReturn JSON:\\n{\\n  \"frontCover\": \"').concat(storedFrontCoverPrompt, '\",\\n  \"backCover\": \"detailed back cover prompt\"').concat(!isFrontBackOnly ? ',\\n  \"leftInterior\": \"detailed left interior prompt\",\\n  \"rightInterior\": \"detailed right interior prompt\"' : \"\", \"\\n}\");\n            const finalPrompts = await chatWithAI(generateOtherPromptsQuery, {\n                jsonSchema: {\n                    type: \"object\",\n                    properties: {\n                        frontCover: {\n                            type: \"string\"\n                        },\n                        backCover: {\n                            type: \"string\"\n                        },\n                        ...isFrontBackOnly ? {} : {\n                            leftInterior: {\n                                type: \"string\"\n                            },\n                            rightInterior: {\n                                type: \"string\"\n                            }\n                        }\n                    },\n                    required: [\n                        \"frontCover\",\n                        \"backCover\",\n                        ...isFrontBackOnly ? [] : [\n                            \"leftInterior\",\n                            \"rightInterior\"\n                        ]\n                    ]\n                },\n                model: \"gemini-2.5-pro\"\n            });\n            if (!finalPrompts || !finalPrompts.frontCover || !finalPrompts.backCover) {\n                throw new Error(\"Failed to generate complete prompts for final card\");\n            }\n            console.log(\"✅ Generated complete prompts for final card:\", {\n                hasFrontCover: !!finalPrompts.frontCover,\n                hasBackCover: !!finalPrompts.backCover,\n                hasLeftInterior: !!finalPrompts.leftInterior,\n                hasRightInterior: !!finalPrompts.rightInterior\n            });\n            // Prepare input images for final generation (reference photos)\n            const inputImages = [];\n            if (referenceImageUrls.length > 0 && selectedImageModel === \"gpt-image-1\") {\n                inputImages.push(...referenceImageUrls);\n                console.log(\"\\uD83D\\uDD0D DEBUG: Added reference images to final draft generation:\", referenceImageUrls);\n                console.log(\"\\uD83D\\uDD0D DEBUG: Total input images for final draft generation:\", inputImages.length);\n                sonner__WEBPACK_IMPORTED_MODULE_13__.toast.success(\"\\uD83D\\uDCF8 \".concat(referenceImageUrls.length, \" reference photo\").concat(referenceImageUrls.length > 1 ? \"s\" : \"\", \" applied to final generation!\"));\n            }\n            const response = await fetch(\"/api/generate-card-async\", {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                    jobId,\n                    prompts: finalPrompts,\n                    config: {\n                        userNumber: \"+17145986105\",\n                        modelVersion: selectedImageModel,\n                        aspectRatio: ((_paperSizes_find = paperSizes.find((size)=>size.id === selectedPaperSize)) === null || _paperSizes_find === void 0 ? void 0 : _paperSizes_find.aspectRatio) || \"9:16\",\n                        quality: \"high\",\n                        outputFormat: \"jpeg\",\n                        outputCompression: 100,\n                        moderation: \"low\",\n                        dimensions: ((_paperSizes_find1 = paperSizes.find((size)=>size.id === selectedPaperSize)) === null || _paperSizes_find1 === void 0 ? void 0 : _paperSizes_find1.dimensions) || \"1024x1536\",\n                        isFrontBackOnly,\n                        userEmail,\n                        cardType: selectedType === \"custom\" ? customCardType : selectedType,\n                        toField,\n                        fromField,\n                        isDraftMode: false,\n                        ...inputImages.length > 0 && {\n                            input_images: inputImages,\n                            input_images_mode: \"front_cover_only\" // All reference images should go to front cover for character creation\n                        }\n                    }\n                })\n            });\n            if (!response.ok) {\n                throw new Error(\"Server error: \".concat(response.status));\n            }\n            const result = await response.json();\n            if (result.status !== \"processing\") {\n                throw new Error(result.message || \"Failed to start final card generation\");\n            }\n            setCurrentJobId(jobId);\n            sonner__WEBPACK_IMPORTED_MODULE_13__.toast.success(\"\\uD83C\\uDFA8 Generating high-quality version of your selected design!\");\n            // Poll for completion (reuse existing pollJobStatus)\n            pollJobStatus(jobId);\n        } catch (error) {\n            console.error(\"Final card generation error:\", error);\n            sonner__WEBPACK_IMPORTED_MODULE_13__.toast.error(\"Failed to generate final card. Please try again.\");\n            setIsGeneratingFinalCard(false);\n            setGenerationProgress(\"\");\n            stopElapsedTimeTracking();\n        }\n    };\n    // Consolidated card generation function\n    const handleGenerateCardAsyncInternal = async function() {\n        let options = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};\n        const { isDraftMode = false, draftIndex = 0, styleOverride = undefined, styleLabel = undefined, onDraftComplete } = options;\n        console.log(\"\\uD83D\\uDD0D handleGenerateCardAsyncInternal called:\", {\n            isDraftMode,\n            draftIndex,\n            hasOnDraftComplete: !!onDraftComplete\n        });\n        if (!userEmail.trim()) {\n            sonner__WEBPACK_IMPORTED_MODULE_13__.toast.error(\"Please enter your email address\");\n            return;\n        }\n        // Basic email validation\n        const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n        if (!emailRegex.test(userEmail)) {\n            sonner__WEBPACK_IMPORTED_MODULE_13__.toast.error(\"Please enter a valid email address\");\n            return;\n        }\n        // Validate custom style if selected\n        if (selectedArtisticStyle === \"custom\" && !customStyleDescription.trim()) {\n            sonner__WEBPACK_IMPORTED_MODULE_13__.toast.error(\"Please describe your custom artistic style\");\n            return;\n        }\n        // Determine which model to use based on mode\n        const modelToUse = isDraftMode ? selectedDraftModel : selectedImageModel;\n        // Validate reference images with model compatibility\n        if (referenceImageUrls.length > 0 && modelToUse !== \"gpt-image-1\") {\n            const modeText = isDraftMode ? \"draft mode\" : \"final generation\";\n            sonner__WEBPACK_IMPORTED_MODULE_13__.toast.error(\"Reference photos are only supported with GPT Image 1 model. Please switch to GPT Image 1 for \".concat(modeText, \" or remove reference photos.\"));\n            return;\n        }\n        // Only set global generating state if not in draft mode (draft mode manages its own state)\n        if (!isDraftMode) {\n            setIsGenerating(true);\n            startElapsedTimeTracking(undefined, 120); // 120 seconds for regular card generation\n            setGenerationProgress(\"Creating your personalized card...\");\n            setProgressPercentage(0);\n        }\n        try {\n            // Create job tracking\n            const jobId = isDraftMode ? \"draft-\".concat(draftIndex, \"-\").concat((0,uuid__WEBPACK_IMPORTED_MODULE_36__[\"default\"])()) : (0,uuid__WEBPACK_IMPORTED_MODULE_36__[\"default\"])();\n            if (!isDraftMode) {\n                setCurrentJobId(jobId);\n            }\n            // Generate all prompts client-side first\n            const cardTypeForPrompt = selectedType === \"custom\" ? customCardType : selectedType;\n            const selectedToneObj = cardTones.find((tone)=>tone.id === selectedTone);\n            const toneDescription = selectedToneObj ? selectedToneObj.description.toLowerCase() : \"heartfelt and sincere\";\n            const effectivePrompt = prompt.trim() || \"A beautiful \".concat(cardTypeForPrompt, \" card with \").concat(toneDescription, \" style\");\n            let messageContent = finalCardMessage;\n            // Handle message generation if needed\n            if (isHandwrittenMessage) {\n                messageContent = \"[Blank space for handwritten message]\";\n            } else if (!messageContent.trim() && !isFrontBackOnly) {\n                setGenerationProgress(\"✍️ Writing the perfect message...\");\n                // Auto-generate message (keeping existing logic)\n                const autoMessagePrompt = \"Create a \".concat(toneDescription, \" message for a \").concat(cardTypeForPrompt, ' greeting card.\\n\\nCard Theme/Description: \"').concat(effectivePrompt, '\"\\n').concat(toField ? \"Recipient: \".concat(toField) : \"Recipient: [not specified]\", \"\\n\").concat(fromField ? \"Sender: \".concat(fromField) : \"Sender: [not specified]\", \"\\nCard Tone: \").concat(selectedToneObj ? selectedToneObj.label : \"Heartfelt\", \" - \").concat(toneDescription, \"\\n\\nInstructions:\\n- Write a message that is \").concat(toneDescription, \" and feels personal and genuine\\n- \").concat(toField ? \"Address the message to \".concat(toField, \" directly, using their name naturally\") : \"Write in a way that could be personalized to any recipient\", \"\\n- \").concat(fromField ? \"Write as if \".concat(fromField, \" is personally writing this message\") : \"Write in a \".concat(toneDescription, \" tone\"), \"\\n- Match the \").concat(toneDescription, \" tone and occasion of the \").concat(cardTypeForPrompt, ' card type\\n- Be inspired by the theme: \"').concat(prompt, '\"\\n- Keep it concise but meaningful (2-4 sentences ideal)\\n- Make it feel authentic, not generic\\n- SAFETY: Never include brand names, character names, trademarked terms, or inappropriate content. If the theme references these, use generic alternatives or focus on the emotions/concepts instead\\n- Keep content family-friendly and appropriate for all ages\\n- ').concat(selectedTone === \"funny\" ? \"Include appropriate humor that fits the occasion\" : \"\", \"\\n- \").concat(selectedTone === \"genz-humor\" ? 'Use GenZ humor with internet slang, memes, and chaotic energy - think \"no cap\", \"periodt\", \"it\\'s giving...\", \"slay\", etc. Be unhinged but endearing' : \"\", \"\\n- \").concat(selectedTone === \"professional\" ? \"Keep it formal and business-appropriate\" : \"\", \"\\n- \").concat(selectedTone === \"romantic\" ? \"Include loving and romantic language\" : \"\", \"\\n- \").concat(selectedTone === \"playful\" ? \"Use fun and energetic language\" : \"\", \"\\n- \").concat(toField && fromField ? \"Show the relationship between \".concat(fromField, \" and \").concat(toField, \" through the \").concat(toneDescription, \" message tone\") : \"\", \"\\n- \").concat(fromField ? 'End the message with a signature line like \"Love, '.concat(fromField, '\" or \"- ').concat(fromField, '\" or similar, naturally integrated into the message.') : \"\", \"\\n\\nReturn ONLY the message text that should appear inside the card - no quotes, no explanations, no markdown formatting (no *bold*, _italics_, or other markdown), just the complete \").concat(toneDescription, \" message in plain text.\\n\\nIMPORTANT: Wrap your final message in <MESSAGE> </MESSAGE> tags. Everything outside these tags will be ignored.\");\n                const generatedMessage = await chatWithAI(autoMessagePrompt, {\n                    model: \"gemini-2.5-pro\",\n                    includeThoughts: false\n                });\n                if (generatedMessage === null || generatedMessage === void 0 ? void 0 : generatedMessage.trim()) {\n                    const messageMatch = generatedMessage.match(/<MESSAGE>([\\s\\S]*?)<\\/MESSAGE>/);\n                    if (messageMatch && messageMatch[1]) {\n                        messageContent = messageMatch[1].trim();\n                        setFinalCardMessage(messageContent);\n                    }\n                }\n            }\n            // Generate style and paper config\n            let effectiveArtisticStyle = selectedArtisticStyle;\n            // Use style override if provided (for smart style distribution in draft mode)\n            if (styleOverride) {\n                effectiveArtisticStyle = styleOverride;\n                console.log(\"\\uD83C\\uDFA8 Using style override: \".concat(styleOverride, \" instead of \").concat(selectedArtisticStyle));\n            }\n            const selectedStyle = artisticStyles.find((style)=>style.id === effectiveArtisticStyle);\n            const styleModifier = effectiveArtisticStyle === \"custom\" ? customStyleDescription : (selectedStyle === null || selectedStyle === void 0 ? void 0 : selectedStyle.promptModifier) || \"\";\n            const paperConfig = paperSizes.find((size)=>size.id === selectedPaperSize) || paperSizes[0];\n            setGenerationProgress(\"\\uD83C\\uDFA8 Creating artistic vision for your card...\");\n            // Generate prompts for all cards\n            // In draft mode, only generate frontCover prompt for speed\n            const promptGenerationQuery = isDraftMode ? \"You are an expert AI greeting card designer. Create a front cover prompt for a \".concat(cardTypeForPrompt, ' greeting card.\\n\\nTheme: \"').concat(effectivePrompt, '\"\\nStyle: ').concat((selectedStyle === null || selectedStyle === void 0 ? void 0 : selectedStyle.label) || \"Default\", \"\\nTone: \").concat(selectedToneObj ? selectedToneObj.label : \"Heartfelt\", \" - \").concat(toneDescription, \"\\n\").concat(toField ? \"To: \".concat(toField) : \"\", \"\\n\").concat(fromField ? \"From: \".concat(fromField) : \"\", \"\\n\").concat(referenceImageUrls.length > 0 ? \"Reference Photos: I have attached \".concat(referenceImageUrls.length, \" reference photo\").concat(referenceImageUrls.length > 1 ? \"s\" : \"\", ' for character creation.\\nTransformation instructions: \"').concat(imageTransformation || \"Create stylized cartoon characters that accurately represent the people in the reference photos\", '\"') : \"\", '\\n\\nFront Cover Requirements:\\n- Include \"').concat(cardTypeForPrompt, '\" greeting text positioned safely in center area (avoid top/bottom 10%)\\n- Use beautiful, readable handwritten cursive script\\n- ').concat(referenceImageUrls.length > 0 ? \"Create cartoon/illustrated characters from reference photos\" : \"Create charming cartoon-style figures if needed\", \"\\n- Be creative and unique, avoid generic designs\\n- Flat 2D artwork for printing\\n- Style: \").concat(styleModifier, \"\\n\\nReturn ONLY the front cover prompt as plain text.\") : \"You are an expert AI greeting card designer tasked with creating cohesive, visually stunning prompts for a \".concat(cardTypeForPrompt, \" greeting card\").concat(numberOfCards > 1 ? \" (this is variant \".concat(1, \" of \").concat(numberOfCards, \" unique designs)\") : \"\", '.\\n\\nTheme: \"').concat(effectivePrompt, '\"\\nStyle: ').concat((selectedStyle === null || selectedStyle === void 0 ? void 0 : selectedStyle.label) || \"Default\", \"\\nTone: \").concat(selectedToneObj ? selectedToneObj.label : \"Heartfelt\", \" - \").concat(toneDescription, \"\\n\").concat(toField ? \"To: \".concat(toField) : \"\", \"\\n\").concat(fromField ? \"From: \".concat(fromField) : \"\", \"\\n\").concat(!isFrontBackOnly ? 'Message: \"'.concat(messageContent, '\"') : \"\", \"\\n\").concat(isHandwrittenMessage ? \"Note: Include space for handwritten message\" : \"\", \"\\n\").concat(referenceImageUrls.length > 0 ? \"Reference Photos: I have attached \".concat(referenceImageUrls.length, \" reference photo\").concat(referenceImageUrls.length > 1 ? \"s\" : \"\", \" for you to analyze. Please look at \").concat(referenceImageUrls.length > 1 ? \"these photos\" : \"this photo\", \" to understand what the people look like - their hair color/style, facial features, clothing, accessories, body type, age, etc. Use this visual information to create accurate cartoon/illustrated versions of \").concat(referenceImageUrls.length > 1 ? \"these people\" : \"this person\", ' in the prompts.\\nTransformation instructions: \"').concat(imageTransformation || \"Create stylized cartoon characters that accurately represent the people in the reference photos while maintaining their distinctive features\", '\"') : \"\", '\\n\\nCRITICAL: Create a cohesive visual narrative that flows chronologically through the card experience:\\n1. FRONT COVER: First impression - sets the scene/introduces the story\\n2. INTERIOR SPREAD: The heart of the experience - continuation and climax of the visual story\\n3. BACK COVER: Conclusion - peaceful resolution or complementary ending\\n\\nRequirements:\\n- Flat 2D artwork for printing (not 3D card images)\\n- Full-bleed backgrounds extending to edges\\n- IMPORTANT: Keep text, faces, and key elements at least 10% away from top/bottom edges (small amount may be cropped in printing)\\n- Keep text/faces 0.5\" from left/right edges for safe printing\\n- CONSISTENT visual elements throughout: same characters, color palette, lighting, art style\\n- Progressive visual storytelling from front → interior → back\\n- Put any text in quotes and make it clear/readable\\n- Each section should feel like part of the same artistic universe\\n- TONE: Ensure the visual mood and atmosphere matches the ').concat(toneDescription, ' tone throughout all sections\\n- INTELLECTUAL PROPERTY SAFETY: If the user mentions specific characters, brands, logos, or products, automatically replace them with original generic alternatives in your prompts. For example: replace specific character names with \"cartoon mouse character\" or \"superhero character\", replace brand names with \"colorful cereal\" or \"sports car\", etc. Create inspired-by designs that capture the essence without referencing any protected names or specific copyrighted elements. Never include actual brand names, character names, or trademarked terms in the image generation prompts\\n- CONTENT SAFETY: Ensure all prompts are family-friendly and appropriate for greeting cards. Avoid any content that could be flagged by safety systems including: violence, weapons, inappropriate imagery, political content, controversial topics, scary or disturbing elements, or anything not suitable for all ages. If the user requests something potentially inappropriate, redirect to positive, wholesome alternatives that capture their intent in a family-friendly way\\n').concat(selectedTone === \"funny\" ? \"- Include visual humor, playful elements, and whimsical details\" : \"\", \"\\n\").concat(selectedTone === \"genz-humor\" ? \"- Include GenZ visual elements like chaotic energy, internet meme references, bold contrasting colors, and unhinged but endearing visual style\" : \"\", \"\\n\").concat(selectedTone === \"romantic\" ? \"- Include romantic elements like soft lighting, hearts, flowers, or intimate scenes\" : \"\", \"\\n\").concat(selectedTone === \"professional\" ? \"- Keep visuals clean, sophisticated, and business-appropriate\" : \"\", \"\\n\").concat(selectedTone === \"playful\" ? \"- Include bright colors, dynamic poses, and energetic visual elements\" : \"\", \"\\n\").concat(selectedTone === \"elegant\" ? \"- Focus on sophisticated design, refined color palettes, and graceful compositions\" : \"\", \"\\n\").concat(referenceImageUrls.length > 0 ? \"- Create cartoon/illustrated characters inspired by reference images - DO NOT make realistic depictions\" : \"\", '\\n\\nCreate prompts that flow chronologically:\\n\\n1. Front Cover (Opening Scene): BE GENUINELY CREATIVE AND UNIQUE! Include \"').concat(cardTypeForPrompt, '\" greeting text positioned safely in the center area (avoid top/bottom 10% of image). TEXT STYLE: Write the greeting text in beautiful, clearly readable handwritten cursive script that matches the elegant style used inside the card - legible, flowing, and graceful with natural character and warmth. ').concat(referenceImageUrls.length > 0 ? \"I have included \".concat(referenceImageUrls.length > 1 ? \"multiple\" : \"my own\", \" reference image\").concat(referenceImageUrls.length > 1 ? \"s\" : \"\", \". Create stylized cartoon/illustrated characters inspired by the reference image\").concat(referenceImageUrls.length > 1 ? \"s\" : \"\", \" - DO NOT make realistic depictions of real people, instead create charming cartoon-style characters with simplified, friendly features.\") : \"Create charming cartoon-style or stylized illustrated figures if people are needed for the theme.\", \" This is the story opening - introduce key visual elements (colors, motifs, artistic style) that will continue throughout the other sections. Think of something unexpected, innovative, and memorable that will surprise and delight the recipient. Avoid generic designs! Style: \").concat(styleModifier, \"\\n\\n2. \").concat(!isFrontBackOnly ? \"Left Interior (Story Development): UNLEASH YOUR CREATIVITY! You have complete creative freedom to design whatever you want for this left interior page! This is your artistic playground - create something genuinely innovative and unexpected that feels right for a \".concat(cardTypeForPrompt, \" card with \").concat(toneDescription, \" tone. You can include: scenes, landscapes, objects, patterns, quotes, text, illustrations, realistic art, abstract art, or anything else that inspires you - but NO PEOPLE or characters unless the user specifically mentioned wanting people in their card description. Position any text safely in center area (avoid top/bottom 10%). Think of something no one has done before! Surprise us with bold, imaginative, and memorable artistic choices while maintaining visual harmony with the overall card style and tone. Style: \").concat(styleModifier, \"\\n\\n3. Right Interior (Story Climax): BE CREATIVE WITH MESSAGE DESIGN! \").concat(isHandwrittenMessage ? \"Design with elegant writing space that complements the visual story from left interior. Position decorative elements safely away from top/bottom edges. Create innovative and artistic decorative elements, borders, or flourishes that are unique and memorable - NO PEOPLE or characters.\" : 'Include message text: \"'.concat(messageContent, \"\\\" positioned safely in center area (avoid top/bottom 10% of image) integrated into beautiful, innovative decorative artwork. HANDWRITING STYLE: Write the message in beautiful, clearly readable handwritten cursive script that feels elegant and personal. The handwriting should be legible, flowing, and have natural character - not overly perfect but graceful and warm. Use a nice pen-style appearance with natural ink flow and slight variations in line weight. Think of sophisticated calligraphy that's still approachable and easy to read. Make the handwriting feel genuine and heartfelt. Think beyond typical florals and patterns - create something unexpected and artistic that perfectly frames the handwritten message - NO PEOPLE or characters.\"), \" This should feel like the emotional peak of the card experience, harmonizing with the left interior as a cohesive spread. Avoid clich\\xe9 designs and create something genuinely special!\").concat(handwritingSampleUrl ? \" Match the provided handwriting style sample exactly.\" : \" Use the elegant cursive handwriting style described above.\", \" Style: \").concat(styleModifier, \"\\n\\n4. \") : \"\", \"Back Cover (Story Resolution): BE SUBTLY CREATIVE! Create a simple yet innovative decorative design that brings peaceful closure to the visual story. Reference subtle elements from the front cover but keep it minimal and serene - NO PEOPLE, just beautiful, unexpected artistic elements that go beyond typical patterns or florals. IMPORTANT: Leave the bottom-right corner area (approximately 1 inch square) completely clear and undecorated - this space should remain empty. Focus decorative elements toward the center and left side of the design. Think of something quietly beautiful and memorable that complements the overall design while being genuinely unique. This should feel like a peaceful, artistic ending that surprises with its subtle creativity. Style: \").concat(styleModifier, '\\n\\nVISUAL CONTINUITY CHECKLIST:\\n- Same color palette across all sections\\n- Consistent lighting/time of day\\n- Same artistic techniques and brushwork\\n- Recurring visual motifs or symbols (but make them unique and memorable!)\\n- Progressive emotional journey from introduction to resolution\\n- Front cover: stylized cartoon/illustrated characters if people are needed for the theme\\n- Left interior: CREATIVE FREEDOM but NO PEOPLE unless user specifically requested people in their description\\n- Right interior: focus on message space with innovative decorative elements (NO PEOPLE)\\n- Back cover: simple yet creative decorative design without text or people\\n- Use simplified, friendly, charming character design if including people (front cover only)\\n- CREATIVITY PRIORITY: Always choose the more innovative, surprising, and memorable option over generic designs\\n\\nReturn JSON:\\n{\\n  \"frontCover\": \"detailed prompt with story opening elements\",\\n  \"backCover\": \"detailed prompt with story conclusion elements\"').concat(!isFrontBackOnly ? ',\\n  \"leftInterior\": \"detailed prompt with story development elements\",\\n  \"rightInterior\": \"detailed prompt with story climax elements\"' : \"\", \"\\n}\");\n            let generatedPrompts;\n            if (isDraftMode) {\n                // For draft mode, get just the front cover prompt as plain text\n                const frontCoverPrompt = await chatWithAI(promptGenerationQuery, {\n                    model: \"gemini-2.5-pro\",\n                    attachments: referenceImageUrls\n                });\n                if (!(frontCoverPrompt === null || frontCoverPrompt === void 0 ? void 0 : frontCoverPrompt.trim())) {\n                    console.error(\"❌ Failed to generate front cover prompt:\", frontCoverPrompt);\n                    throw new Error(\"Failed to generate front cover prompt\");\n                }\n                generatedPrompts = {\n                    frontCover: frontCoverPrompt.trim()\n                };\n            } else {\n                // For regular mode, get all prompts as JSON\n                generatedPrompts = await chatWithAI(promptGenerationQuery, {\n                    jsonSchema: {\n                        type: \"object\",\n                        properties: {\n                            frontCover: {\n                                type: \"string\"\n                            },\n                            backCover: {\n                                type: \"string\"\n                            },\n                            ...isFrontBackOnly ? {} : {\n                                leftInterior: {\n                                    type: \"string\"\n                                },\n                                rightInterior: {\n                                    type: \"string\"\n                                }\n                            }\n                        },\n                        required: [\n                            \"frontCover\",\n                            \"backCover\",\n                            ...isFrontBackOnly ? [] : [\n                                \"leftInterior\",\n                                \"rightInterior\"\n                            ]\n                        ]\n                    },\n                    model: \"gemini-2.5-pro\",\n                    attachments: referenceImageUrls\n                });\n                if (!generatedPrompts || !generatedPrompts.frontCover) {\n                    console.error(\"❌ Failed to generate image prompts:\", generatedPrompts);\n                    throw new Error(\"Failed to generate image prompts\");\n                }\n            }\n            console.log(\"✅ Generated prompts successfully:\", {\n                isDraftMode,\n                draftIndex,\n                hasFrontCover: !!generatedPrompts.frontCover,\n                hasBackCover: !!generatedPrompts.backCover\n            });\n            // Enhance front cover prompt with reference image instructions if available\n            if (referenceImageUrls.length > 0 && modelToUse === \"gpt-image-1\") {\n                generatedPrompts.frontCover = \"\".concat(generatedPrompts.frontCover, \"\\n\\nCRITICAL CHARACTER REFERENCE INSTRUCTIONS: I have provided \").concat(referenceImageUrls.length > 1 ? \"multiple reference photos\" : \"a reference photo\", \" as input image\").concat(referenceImageUrls.length > 1 ? \"s\" : \"\", \". You MUST create cartoon/illustrated characters that accurately represent ONLY the people who are actually visible in \").concat(referenceImageUrls.length > 1 ? \"these reference photos\" : \"this reference photo\", \" with high fidelity to their appearance.\\n\\nMANDATORY CHARACTER MATCHING REQUIREMENTS - ONLY INCLUDE WHAT IS ACTUALLY VISIBLE:\\n- REPRESENT ONLY PEOPLE ACTUALLY IN THE PHOTOS: Create cartoon versions of ONLY the people who are actually shown in the reference photos. Do NOT add, create, or imagine any additional people not present in the reference images.\\n- EXACT hair color, hair style, and hair length from each reference photo - only what is actually visible\\n- PRECISE facial features for each person: eye color, eye shape, nose shape, face structure, skin tone - exactly as shown in the reference\\n- ACCURATE clothing: replicate ONLY the EXACT clothing items, colors, patterns, and styles actually worn by each person in their reference photo - do not add or change any clothing items\\n- ACCESSORIES ONLY IF VISIBLE: Include accessories (glasses, jewelry, hats, watches, bags, etc.) ONLY if they are actually visible on each person in the reference photo. DO NOT add glasses if they are not wearing glasses in the photo. DO NOT add jewelry if they are not wearing jewelry in the photo. DO NOT add any accessories that are not clearly visible in the reference image.\\n- CORRECT body proportions and posture as shown for each person in their reference\\n- FAITHFUL age representation and gender presentation for each individual - exactly as they appear\\n- AUTHENTIC facial expressions and poses from the reference images, lean towards making the people look happier unless the user specifically asks for a different expression\\n- GROUP COMPOSITION: If multiple people are actually shown in the photos, arrange them naturally together in a pleasing composition that fits the card's theme\\n\\nCRITICAL RESTRICTION: Do not add, remove, or modify any visual elements beyond what is actually visible in the reference photos. Only include people, clothing, and accessories that are clearly shown in the reference images.\\n\\n\").concat(imageTransformation || \"Study every detail of the people actually in the reference image and recreate them as stylized cartoon characters while maintaining 100% accuracy to their distinctive visual features. The characters must be immediately recognizable as the same people from the reference photo. Pay special attention to clothing details and accessories that are actually visible, and unique personal style elements that make each person distinctive. Do not add or imagine any elements not present in the reference.\", \"\\n\\nThe cartoon style should be charming and artistic while preserving complete visual accuracy to the reference photo. Only represent people, clothing, and accessories that are actually visible in the reference images.\");\n            }\n            // Save job data to localStorage and server\n            const jobData = {\n                prompt: effectivePrompt,\n                selectedType,\n                customCardType,\n                selectedTone,\n                finalCardMessage: messageContent,\n                toField,\n                fromField,\n                userEmail,\n                selectedArtisticStyle,\n                customStyleDescription,\n                selectedImageModel,\n                isFrontBackOnly,\n                numberOfCards,\n                selectedPaperSize,\n                prompts: generatedPrompts,\n                paperConfig\n            };\n            saveJobToStorage(jobId, jobData);\n            // Create job on server and start async generation\n            setGenerationProgress(\"\\uD83D\\uDE80 Starting background generation - you can safely leave this page!\");\n            // Prepare input images for reference photo support - only for GPT-1\n            const inputImages = [];\n            if (referenceImageUrls.length > 0 && modelToUse === \"gpt-image-1\") {\n                inputImages.push(...referenceImageUrls);\n                console.log(\"\\uD83D\\uDD0D DEBUG: Added reference images to async generation:\", referenceImageUrls);\n                console.log(\"\\uD83D\\uDD0D DEBUG: Total input images for async generation:\", inputImages.length);\n                console.log(\"\\uD83D\\uDD0D DEBUG: Reference images should ALL go to front cover for character creation of multiple people\");\n            }\n            console.log(\"\\uD83D\\uDE80 Making API call to /api/generate-card-async:\", {\n                isDraftMode,\n                draftIndex,\n                jobId,\n                modelToUse,\n                quality: isDraftMode ? \"low\" : \"high\"\n            });\n            const response = await fetch(\"/api/generate-card-async\", {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                    jobId,\n                    prompts: isDraftMode ? {\n                        frontCover: generatedPrompts.frontCover\n                    } : generatedPrompts,\n                    config: {\n                        userNumber: \"+17145986105\",\n                        modelVersion: modelToUse,\n                        aspectRatio: paperConfig.aspectRatio,\n                        quality: isDraftMode ? \"low\" : \"high\",\n                        outputFormat: \"jpeg\",\n                        outputCompression: 100,\n                        moderation: \"low\",\n                        dimensions: paperConfig.dimensions,\n                        isFrontBackOnly,\n                        userEmail,\n                        cardType: cardTypeForPrompt,\n                        toField,\n                        fromField,\n                        isDraftMode: isDraftMode,\n                        ...inputImages.length > 0 && {\n                            input_images: inputImages,\n                            input_images_mode: \"front_cover_only\" // All reference images should go to front cover for character creation\n                        }\n                    }\n                })\n            });\n            console.log(\"\\uD83D\\uDCE1 API response status:\", response.status, response.ok);\n            if (!response.ok) {\n                throw new Error(\"Server error: \".concat(response.status));\n            }\n            const result = await response.json();\n            console.log(\"\\uD83D\\uDCCB API response result:\", result);\n            if (result.status !== \"processing\") {\n                console.error(\"❌ API returned unexpected status:\", result.status, result.message);\n                throw new Error(result.message || \"Failed to start card generation\");\n            }\n            console.log(\"✅ Job started successfully:\", jobId);\n            // Start polling for completion\n            if (isDraftMode) {\n                setGenerationProgress(\"✨ Creating draft generations...\");\n                console.log(\"\\uD83D\\uDD04 Starting polling for draft job \".concat(jobId));\n                // For draft mode, we'll handle polling differently if needed\n                pollJobStatus(jobId);\n            } else {\n                setGenerationProgress(\"✨ Bringing your vision to life with artistic precision...\");\n                sonner__WEBPACK_IMPORTED_MODULE_13__.toast.success(\"\\uD83C\\uDF89 Card generation started! You can leave this page and return later.\");\n                pollJobStatus(jobId);\n            }\n        } catch (error) {\n            console.error(\"❌ Card generation error (isDraftMode: \".concat(isDraftMode, \", draftIndex: \").concat(draftIndex, \"):\"), error);\n            const errorMessage = error instanceof Error ? error.message : \"Unknown error\";\n            if (isDraftMode) {\n                sonner__WEBPACK_IMPORTED_MODULE_13__.toast.error(\"Draft variation \".concat(draftIndex + 1, \" failed: \").concat(errorMessage));\n            // For draft mode, we don't want to stop the entire generation process\n            // The parent function will handle individual draft failures\n            } else {\n                sonner__WEBPACK_IMPORTED_MODULE_13__.toast.error(\"Failed to start card generation: \".concat(errorMessage));\n                // Remove failed job from localStorage\n                if (currentJobId) {\n                    removeJobFromStorage(currentJobId);\n                    setCurrentJobId(null);\n                }\n                setIsGenerating(false);\n                setGenerationProgress(\"\");\n            }\n        }\n    };\n    // Wrapper function for regular card generation (used as click handler)\n    const handleGenerateCardAsync = async ()=>{\n        return handleGenerateCardAsyncInternal({});\n    };\n    // Original synchronous card generation (keep as fallback)\n    const handleGenerateCard = async ()=>{\n        if (!userEmail.trim()) {\n            sonner__WEBPACK_IMPORTED_MODULE_13__.toast.error(\"Please enter your email address\");\n            return;\n        }\n        // Basic email validation\n        const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n        if (!emailRegex.test(userEmail)) {\n            sonner__WEBPACK_IMPORTED_MODULE_13__.toast.error(\"Please enter a valid email address\");\n            return;\n        }\n        // Validate custom style if selected\n        if (selectedArtisticStyle === \"custom\" && !customStyleDescription.trim()) {\n            sonner__WEBPACK_IMPORTED_MODULE_13__.toast.error(\"Please describe your custom artistic style\");\n            return;\n        }\n        // Validate reference images with model compatibility\n        if (referenceImageUrls.length > 0 && selectedImageModel !== \"gpt-image-1\") {\n            sonner__WEBPACK_IMPORTED_MODULE_13__.toast.error(\"Reference photos are only supported with GPT Image 1 model. Please switch to GPT Image 1 in Advanced Options or remove reference photos.\");\n            return;\n        }\n        // Create job tracking\n        const jobId = (0,uuid__WEBPACK_IMPORTED_MODULE_36__[\"default\"])();\n        setCurrentJobId(jobId);\n        // Save job to localStorage and server\n        const jobData = {\n            prompt: prompt.trim() || \"A beautiful \".concat(selectedType === \"custom\" ? customCardType : selectedType, \" card\"),\n            selectedType,\n            customCardType,\n            selectedTone,\n            finalCardMessage,\n            toField,\n            fromField,\n            userEmail,\n            selectedArtisticStyle,\n            customStyleDescription,\n            selectedImageModel,\n            isFrontBackOnly,\n            numberOfCards,\n            selectedPaperSize\n        };\n        saveJobToStorage(jobId, jobData);\n        // Also save to server\n        try {\n            await fetch(\"/api/create-job\", {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                    jobId,\n                    jobData\n                })\n            });\n        } catch (error) {\n            console.error(\"Failed to create server job:\", error);\n        // Continue anyway - localStorage tracking will still work\n        }\n        // Initialize progress tracking\n        setGenerationProgress(\"Analyzing your request...\");\n        setProgressPercentage(5);\n        // Reset section loading states\n        setSectionLoadingStates({\n            frontCover: \"idle\",\n            backCover: \"idle\",\n            leftInterior: \"idle\",\n            rightInterior: \"idle\"\n        });\n        // Use custom card type if selected, otherwise use the standard type\n        const cardTypeForPrompt = selectedType === \"custom\" ? customCardType : selectedType;\n        const selectedToneObj = cardTones.find((tone)=>tone.id === selectedTone);\n        const toneDescription = selectedToneObj ? selectedToneObj.description.toLowerCase() : \"heartfelt and sincere\";\n        // Use a default prompt if none provided\n        const effectivePrompt = prompt.trim() || \"A beautiful \".concat(cardTypeForPrompt, \" card with \").concat(toneDescription, \" style\");\n        let messageContent = finalCardMessage;\n        // Handle handwritten message case\n        if (isHandwrittenMessage) {\n            messageContent = \"[Blank space for handwritten message]\";\n        } else if (!messageContent.trim() && !isFrontBackOnly) {\n            // Auto-generate message if empty (but not for front/back only cards)\n            setGenerationProgress(\"✍️ Penning the perfect words just for you...\");\n            setIsGeneratingMessage(true); // Show \"Crafting the perfect message...\" in button\n            // Update progress for message generation\n            setGenerationProgress(\"Creating your message...\");\n            try {\n                const autoMessagePrompt = \"Create a \".concat(toneDescription, \" message for a \").concat(cardTypeForPrompt, ' greeting card.\\n\\nCard Theme/Description: \"').concat(effectivePrompt, '\"\\n').concat(toField ? \"Recipient: \".concat(toField) : \"Recipient: [not specified]\", \"\\n\").concat(fromField ? \"Sender: \".concat(fromField) : \"Sender: [not specified]\", \"\\nCard Tone: \").concat(selectedToneObj ? selectedToneObj.label : \"Heartfelt\", \" - \").concat(toneDescription, \"\\n\\nInstructions:\\n- Write a message that is \").concat(toneDescription, \" and feels personal and genuine\\n- \").concat(toField ? \"Address the message to \".concat(toField, \" directly, using their name naturally\") : \"Write in a way that could be personalized to any recipient\", \"\\n- \").concat(fromField ? \"Write as if \".concat(fromField, \" is personally writing this message\") : \"Write in a \".concat(toneDescription, \" tone\"), \"\\n- Match the \").concat(toneDescription, \" tone and occasion of the \").concat(cardTypeForPrompt, ' card type\\n- Be inspired by the theme: \"').concat(prompt, '\"\\n- Keep it concise but meaningful (2-4 sentences ideal)\\n- Make it feel authentic, not generic\\n- SAFETY: Never include brand names, character names, trademarked terms, or inappropriate content. If the theme references these, use generic alternatives or focus on the emotions/concepts instead\\n- Keep content family-friendly and appropriate for all ages\\n- ').concat(selectedTone === \"funny\" ? \"Include appropriate humor that fits the occasion\" : \"\", \"\\n- \").concat(selectedTone === \"genz-humor\" ? 'Use GenZ humor with internet slang, memes, and chaotic energy - think \"no cap\", \"periodt\", \"it\\'s giving...\", \"slay\", etc. Be unhinged but endearing' : \"\", \"\\n- \").concat(selectedTone === \"professional\" ? \"Keep it formal and business-appropriate\" : \"\", \"\\n- \").concat(selectedTone === \"romantic\" ? \"Include loving and romantic language\" : \"\", \"\\n- \").concat(selectedTone === \"playful\" ? \"Use fun and energetic language\" : \"\", \"\\n- \").concat(toField && fromField ? \"Show the relationship between \".concat(fromField, \" and \").concat(toField, \" through the \").concat(toneDescription, \" message tone\") : \"\", \"\\n- \").concat(fromField ? 'End the message with a signature line like \"Love, '.concat(fromField, '\" or \"- ').concat(fromField, '\" or similar, naturally integrated into the message.') : \"\", \"\\n\\nReturn ONLY the message text that should appear inside the card - no quotes, no explanations, no markdown formatting (no *bold*, _italics_, or other markdown), just the complete \").concat(toneDescription, \" message in plain text.\\n\\nIMPORTANT: Wrap your final message in <MESSAGE> </MESSAGE> tags. Everything outside these tags will be ignored.\");\n                const generatedMessage = await chatWithAI(autoMessagePrompt, {\n                    model: \"gemini-2.5-pro\",\n                    includeThoughts: false // Don't include thinking content in message generation\n                });\n                if (generatedMessage === null || generatedMessage === void 0 ? void 0 : generatedMessage.trim()) {\n                    // Extract message content between <MESSAGE> tags using regex\n                    const messageMatch = generatedMessage.match(/<MESSAGE>([\\s\\S]*?)<\\/MESSAGE>/);\n                    let extractedMessage = messageMatch ? messageMatch[1].trim() : generatedMessage.trim();\n                    // Ensure no MESSAGE tags are included in the final message\n                    extractedMessage = extractedMessage.replace(/<\\/?MESSAGE>/g, \"\").trim();\n                    messageContent = extractedMessage;\n                    setFinalCardMessage(messageContent);\n                    setGenerationProgress(\"✅ Perfect message crafted! Now for the magic visuals...\");\n                    sonner__WEBPACK_IMPORTED_MODULE_13__.toast.success(\"✨ Generated a personalized message for your card!\");\n                } else {\n                    messageContent = effectivePrompt;\n                }\n                setIsGeneratingMessage(false); // Reset message generation state\n            // Message generation complete\n            } catch (e) {\n                messageContent = effectivePrompt;\n                setIsGeneratingMessage(false); // Reset message generation state on error\n            }\n        }\n        // Determine which model to use based on mode\n        const modelToUse = isDraftMode ? selectedDraftModel : selectedImageModel;\n        // Validate reference images with model compatibility\n        if (referenceImageUrls.length > 0 && modelToUse !== \"gpt-image-1\") {\n            const modeText = isDraftMode ? \"draft mode\" : \"final generation\";\n            sonner__WEBPACK_IMPORTED_MODULE_13__.toast.error(\"Reference photos are only supported with GPT Image 1 model. Please switch to GPT Image 1 for \".concat(modeText, \" or remove reference photos.\"));\n            return;\n        }\n        // Only set global generating state if not in draft mode (draft mode manages its own state)\n        if (!isDraftMode) {\n            setIsGenerating(true);\n            startElapsedTimeTracking(undefined, 120); // 120 seconds for regular card generation  \n            setGenerationProgress(\"Creating your personalized card...\");\n            setProgressPercentage(0);\n        }\n        // Generate unique card ID for URL\n        const cardId = (0,uuid__WEBPACK_IMPORTED_MODULE_36__[\"default\"])();\n        setCurrentCardId(cardId);\n        const cardUrl = \"\".concat(BACKEND_API_BASE_URL, \"/card/\").concat(cardId);\n        // Reset cards state\n        setGeneratedCards([]);\n        setSelectedCardIndex(0);\n        try {\n            // Get style details\n            setGenerationProgress(\"\\uD83C\\uDFA8 Applying your artistic style...\");\n            const selectedStyle = artisticStyles.find((style)=>style.id === selectedArtisticStyle);\n            let styleModifier = selectedStyle ? selectedStyle.promptModifier : \"\";\n            // Handle AI Smart Style - let AI choose the best style\n            if (selectedArtisticStyle === \"ai-smart-style\") {\n                setGenerationProgress(\"✨ Style experts selecting the perfect look...\");\n                // Style selection progress\n                try {\n                    const styleSelectionPrompt = \"You are an expert art director specializing in beautiful, heartfelt greeting cards. Your job is to choose the perfect artistic style that will create a warm, emotional, and memorable card.\\n\\nCard Details:\\n- Type: \".concat(cardTypeForPrompt, '\\n- Theme/Description: \"').concat(effectivePrompt, '\"\\n').concat(toField ? \"- Recipient: \".concat(toField) : \"\", \"\\n\").concat(fromField ? \"- Sender: \".concat(fromField) : \"\", \"\\n\").concat(referenceImageUrls.length > 0 ? \"- Has \".concat(referenceImageUrls.length, \" reference photo\").concat(referenceImageUrls.length > 1 ? \"s\" : \"\", \" for transformation\") : \"\", \"\\n\").concat(isHandwrittenMessage ? \"- Will have handwritten message\" : '- Message: \"'.concat(finalCardMessage, '\"'), \"\\n\\nIMPORTANT GUIDELINES:\\n- Choose styles that are WARM, EMOTIONAL, and PERSONAL (greeting cards are about human connection)\\n- AVOID: robots, tech, cyberpunk, futuristic, sci-fi, digital, mechanical themes\\n- PREFER: watercolor, oil painting, hand-drawn, illustrated, artistic, painterly, natural, organic styles\\n- Consider the emotional tone: joyful, loving, celebratory, peaceful, artistic\\n- Think about what would make someone smile when they receive this card\\n\\nGreat card styles include:\\n- Watercolor illustrations with soft, flowing colors\\n- Hand-painted artwork with visible brushstrokes\\n- Charming illustrated characters and scenes\\n- Beautiful botanical and nature themes\\n- Vintage artistic styles with character\\n- Warm, inviting color palettes\\n- Artistic techniques that feel handmade and personal\\n\\nChoose ONE artistic style that perfectly matches this \").concat(cardTypeForPrompt, ' card\\'s emotional purpose. Respond with:\\n\"in [detailed artistic style description focusing on warmth, beauty, and emotional appeal]\"\\n\\nMake it feel like something created with love for someone special.');\n                    const aiSelectedStyle = await chatWithAI(styleSelectionPrompt, {\n                        model: \"gemini-2.5-pro\",\n                        includeThoughts: false // Don't include thinking content for style selection\n                    });\n                    if (aiSelectedStyle === null || aiSelectedStyle === void 0 ? void 0 : aiSelectedStyle.trim()) {\n                        styleModifier = aiSelectedStyle.trim();\n                        setGenerationProgress(\"✨ Perfect style chosen! Time to bring your card to life...\");\n                        sonner__WEBPACK_IMPORTED_MODULE_13__.toast.success(\"\\uD83C\\uDFA8 Perfect artistic style chosen for your card!\");\n                    } else {\n                        // Fallback to a beautiful default style\n                        styleModifier = \"in a sophisticated artistic style with harmonious colors, elegant composition, and beautiful visual elements perfectly suited for this special card\";\n                    }\n                } catch (error) {\n                    console.error(\"Style selection failed:\", error);\n                    // Fallback to a beautiful default style\n                    styleModifier = \"in a sophisticated artistic style with harmonious colors, elegant composition, and beautiful visual elements perfectly suited for this special card\";\n                    sonner__WEBPACK_IMPORTED_MODULE_13__.toast.info(\"Using a beautiful default style for your card\");\n                }\n            } else if (selectedArtisticStyle === \"custom\" && customStyleDescription.trim()) {\n                styleModifier = \"in \".concat(customStyleDescription.trim());\n            } else if (selectedArtisticStyle === \"custom\" && !customStyleDescription.trim()) {\n                // Fallback to default if custom is selected but no description provided\n                styleModifier = \"in artistic style with creative and unique visual elements\";\n            }\n            // Get paper size configuration\n            const paperConfig = paperSizes.find((size)=>size.id === selectedPaperSize) || paperSizes[0];\n            // Generate multiple unique prompt sets for each card\n            setGenerationProgress(\"\\uD83C\\uDFAF Crafting \".concat(numberOfCards, \" masterpiece design\").concat(numberOfCards > 1 ? \"s\" : \"\", \"...\"));\n            // Create the base prompt generation query that will be used for each card variant\n            const legacyPromptGenerationQuery = \"Create \".concat(isFrontBackOnly ? \"2\" : \"4\", \" prompts for a cohesive, chronologically flowing \").concat(cardTypeForPrompt, \" greeting card that tells a visual story (\").concat(paperConfig.aspectRatio, ' ratio):\\n\\n\\uD83C\\uDFA8 CREATIVITY MANDATE: Be genuinely creative, unique, and innovative! Avoid generic or clich\\xe9 designs. Think outside the box, surprise with unexpected elements, use bold artistic choices, and create something truly memorable and special. Push creative boundaries while staying appropriate for the card type and tone.\\n\\nTheme: \"').concat(effectivePrompt, '\"\\nStyle: ').concat((selectedStyle === null || selectedStyle === void 0 ? void 0 : selectedStyle.label) || \"Default\", \"\\nTone: \").concat(selectedToneObj ? selectedToneObj.label : \"Heartfelt\", \" - \").concat(toneDescription, \"\\n\").concat(toField ? \"To: \".concat(toField) : \"\", \"\\n\").concat(fromField ? \"From: \".concat(fromField) : \"\", \"\\n\").concat(!isFrontBackOnly ? 'Message: \"'.concat(messageContent, '\"') : \"\", \"\\n\").concat(isHandwrittenMessage ? \"Note: Include space for handwritten message\" : \"\", \"\\n\").concat(referenceImageUrls.length > 0 ? \"Reference Photos: I have attached \".concat(referenceImageUrls.length, \" reference photo\").concat(referenceImageUrls.length > 1 ? \"s\" : \"\", \" for you to analyze. Please look at \").concat(referenceImageUrls.length > 1 ? \"these photos\" : \"this photo\", \" to understand what the people look like - their hair color/style, facial features, clothing, accessories, body type, age, etc. Use this visual information to create accurate cartoon/illustrated versions of \").concat(referenceImageUrls.length > 1 ? \"these people\" : \"this person\", ' in the prompts.\\nTransformation instructions: \"').concat(imageTransformation || \"Create stylized cartoon characters that accurately represent the people in the reference photos while maintaining their distinctive features\", '\"') : \"\", '\\n\\nCRITICAL: Create a cohesive visual narrative that flows chronologically through the card experience:\\n1. FRONT COVER: First impression - sets the scene/introduces the story\\n2. INTERIOR SPREAD: The heart of the experience - continuation and climax of the visual story\\n3. BACK COVER: Conclusion - peaceful resolution or complementary ending\\n\\nRequirements:\\n- Flat 2D artwork for printing (not 3D card images)\\n- Full-bleed backgrounds extending to edges\\n- IMPORTANT: Keep text, faces, and key elements at least 10% away from top/bottom edges (small amount may be cropped in printing)\\n- Keep text/faces 0.5\" from left/right edges for safe printing\\n- CONSISTENT visual elements throughout: same characters, color palette, lighting, art style\\n- Progressive visual storytelling from front → interior → back\\n- Put any text in quotes and make it clear/readable\\n- Each section should feel like part of the same artistic universe\\n- TONE: Ensure the visual mood and atmosphere matches the ').concat(toneDescription, ' tone throughout all sections\\n- INTELLECTUAL PROPERTY SAFETY: If the user mentions specific characters, brands, logos, or products, automatically replace them with original generic alternatives in your prompts. For example: replace specific character names with \"cartoon mouse character\" or \"superhero character\", replace brand names with \"colorful cereal\" or \"sports car\", etc. Create inspired-by designs that capture the essence without referencing any protected names or specific copyrighted elements. Never include actual brand names, character names, or trademarked terms in the image generation prompts\\n- CONTENT SAFETY: Ensure all prompts are family-friendly and appropriate for greeting cards. Avoid any content that could be flagged by safety systems including: violence, weapons, inappropriate imagery, political content, controversial topics, scary or disturbing elements, or anything not suitable for all ages. If the user requests something potentially inappropriate, redirect to positive, wholesome alternatives that capture their intent in a family-friendly way\\n').concat(selectedTone === \"funny\" ? \"- Include visual humor, playful elements, and whimsical details\" : \"\", \"\\n\").concat(selectedTone === \"genz-humor\" ? \"- Include GenZ visual elements like chaotic energy, internet meme references, bold contrasting colors, and unhinged but endearing visual style\" : \"\", \"\\n\").concat(selectedTone === \"romantic\" ? \"- Include romantic elements like soft lighting, hearts, flowers, or intimate scenes\" : \"\", \"\\n\").concat(selectedTone === \"professional\" ? \"- Keep visuals clean, sophisticated, and business-appropriate\" : \"\", \"\\n\").concat(selectedTone === \"playful\" ? \"- Include bright colors, dynamic poses, and energetic visual elements\" : \"\", \"\\n\").concat(selectedTone === \"elegant\" ? \"- Focus on sophisticated design, refined color palettes, and graceful compositions\" : \"\", \"\\n\").concat(referenceImageUrls.length > 0 ? \"- Create cartoon/illustrated characters inspired by reference images - DO NOT make realistic depictions\" : \"\", '\\n\\nCreate prompts that flow chronologically:\\n\\n1. Front Cover (Opening Scene): BE GENUINELY CREATIVE AND UNIQUE! Include \"').concat(cardTypeForPrompt, '\" greeting text positioned safely in the center area (avoid top/bottom 10% of image). TEXT STYLE: Write the greeting text in beautiful, clearly readable handwritten cursive script that matches the elegant style used inside the card - legible, flowing, and graceful with natural character and warmth. ').concat(referenceImageUrls.length > 0 ? \"I have included \".concat(referenceImageUrls.length > 1 ? \"multiple\" : \"my own\", \" reference image\").concat(referenceImageUrls.length > 1 ? \"s\" : \"\", \". Create stylized cartoon/illustrated characters inspired by the reference image\").concat(referenceImageUrls.length > 1 ? \"s\" : \"\", \" - DO NOT make realistic depictions of real people, instead create charming cartoon-style characters with simplified, friendly features.\") : \"Create charming cartoon-style or stylized illustrated figures if people are needed for the theme.\", \" This is the story opening - introduce key visual elements (colors, motifs, artistic style) that will continue throughout the other sections. Think of something unexpected, innovative, and memorable that will surprise and delight the recipient. Avoid generic designs! Style: \").concat(styleModifier, \"\\n\\n2. \").concat(!isFrontBackOnly ? \"Left Interior (Story Development): UNLEASH YOUR CREATIVITY! You have complete creative freedom to design whatever you want for this left interior page! This is your artistic playground - create something genuinely innovative and unexpected that feels right for a \".concat(cardTypeForPrompt, \" card with \").concat(toneDescription, \" tone. You can include: scenes, landscapes, objects, patterns, quotes, text, illustrations, realistic art, abstract art, or anything else that inspires you - but NO PEOPLE or characters unless the user specifically mentioned wanting people in their card description. Position any text safely in center area (avoid top/bottom 10%). Think of something no one has done before! Surprise us with bold, imaginative, and memorable artistic choices while maintaining visual harmony with the overall card style and tone. Style: \").concat(styleModifier, \"\\n\\n3. Right Interior (Story Climax): BE CREATIVE WITH MESSAGE DESIGN! \").concat(isHandwrittenMessage ? \"Design with elegant writing space that complements the visual story from left interior. Position decorative elements safely away from top/bottom edges. Create innovative and artistic decorative elements, borders, or flourishes that are unique and memorable - NO PEOPLE or characters.\" : 'Include message text: \"'.concat(messageContent, \"\\\" positioned safely in center area (avoid top/bottom 10% of image) integrated into beautiful, innovative decorative artwork. HANDWRITING STYLE: Write the message in beautiful, clearly readable handwritten cursive script that feels elegant and personal. The handwriting should be legible, flowing, and have natural character - not overly perfect but graceful and warm. Use a nice pen-style appearance with natural ink flow and slight variations in line weight. Think of sophisticated calligraphy that's still approachable and easy to read. Make the handwriting feel genuine and heartfelt. Think beyond typical florals and patterns - create something unexpected and artistic that perfectly frames the handwritten message - NO PEOPLE or characters.\"), \" This should feel like the emotional peak of the card experience, harmonizing with the left interior as a cohesive spread. Avoid clich\\xe9 designs and create something genuinely special!\").concat(handwritingSampleUrl ? \" Match the provided handwriting style sample exactly.\" : \" Use the elegant cursive handwriting style described above.\", \" Style: \").concat(styleModifier, \"\\n\\n4. \") : \"\", \"Back Cover (Story Resolution): BE SUBTLY CREATIVE! Create a simple yet innovative decorative design that brings peaceful closure to the visual story. Reference subtle elements from the front cover but keep it minimal and serene - NO PEOPLE, just beautiful, unexpected artistic elements that go beyond typical patterns or florals. IMPORTANT: Leave the bottom-right corner area (approximately 1 inch square) completely clear and undecorated - this space should remain empty. Focus decorative elements toward the center and left side of the design. Think of something quietly beautiful and memorable that complements the overall design while being genuinely unique. This should feel like a peaceful, artistic ending that surprises with its subtle creativity. Style: \").concat(styleModifier, '\\n\\nVISUAL CONTINUITY CHECKLIST:\\n- Same color palette across all sections\\n- Consistent lighting/time of day\\n- Same artistic techniques and brushwork\\n- Recurring visual motifs or symbols (but make them unique and memorable!)\\n- Progressive emotional journey from introduction to resolution\\n- Front cover: stylized cartoon/illustrated characters if people are needed for the theme\\n- Left interior: CREATIVE FREEDOM but NO PEOPLE unless user specifically requested people in their description\\n- Right interior: focus on message space with innovative decorative elements (NO PEOPLE)\\n- Back cover: simple yet creative decorative design without text or people\\n- Use simplified, friendly, charming character design if including people (front cover only)\\n- CREATIVITY PRIORITY: Always choose the more innovative, surprising, and memorable option over generic designs\\n\\nReturn JSON:\\n{\\n  \"frontCover\": \"detailed prompt with story opening elements\",\\n  \"backCover\": \"detailed prompt with story conclusion elements\"').concat(!isFrontBackOnly ? ',\\n  \"leftInterior\": \"detailed prompt with story development elements\",\\n  \"rightInterior\": \"detailed prompt with story climax elements\"' : \"\", \"\\n}\");\n            // Generate multiple unique prompt sets in parallel\n            const promptGenerationPromises = Array.from({\n                length: numberOfCards\n            }, (_, cardIndex)=>{\n                const uniquePromptQuery = legacyPromptGenerationQuery + \"\\n\\n\\uD83C\\uDFA8 CARD VARIANT \".concat(cardIndex + 1, ' CREATIVE DIRECTION: \\nCreate a completely unique visual interpretation that\\'s distinctly different from other possible variants. Use different:\\n- Color palettes and mood lighting\\n- Artistic composition and layout approaches  \\n- Creative visual metaphors and symbols\\n- Character designs and poses (if applicable)\\n- Background elements and settings\\n- Typography styles and text placement\\n- Overall creative theme while keeping same core message\\n\\nMake this card variant stand out as its own unique artistic vision!\\n\\nReturn JSON:\\n{\\n  \"frontCover\": \"detailed prompt with story opening elements\",\\n  \"backCover\": \"detailed prompt with story conclusion elements\"').concat(!isFrontBackOnly ? ',\\n  \"leftInterior\": \"detailed prompt with story development elements\",\\n  \"rightInterior\": \"detailed prompt with story climax elements\"' : \"\", \"\\n}\");\n                return chatWithAI(uniquePromptQuery, {\n                    jsonSchema: {\n                        type: \"object\",\n                        properties: {\n                            frontCover: {\n                                type: \"string\"\n                            },\n                            backCover: {\n                                type: \"string\"\n                            },\n                            ...isFrontBackOnly ? {} : {\n                                leftInterior: {\n                                    type: \"string\"\n                                },\n                                rightInterior: {\n                                    type: \"string\"\n                                }\n                            }\n                        },\n                        required: [\n                            \"frontCover\",\n                            \"backCover\",\n                            ...isFrontBackOnly ? [] : [\n                                \"leftInterior\",\n                                \"rightInterior\"\n                            ]\n                        ]\n                    },\n                    includeThoughts: false,\n                    attachments: referenceImageUrls // Pass reference images to AI for better prompt generation\n                });\n            });\n            // Wait for all prompt generations to complete\n            const allGeneratedPrompts = await Promise.all(promptGenerationPromises);\n            setGenerationProgress(\"✅ \".concat(numberOfCards, \" brilliant design\").concat(numberOfCards > 1 ? \"s\" : \"\", \" ready! Now painting them into reality...\"));\n            // Generate all images in parallel\n            setGenerationProgress(\"\\uD83D\\uDDBC️ Generating your \".concat(numberOfCards, \" card\").concat(numberOfCards > 1 ? \"s\" : \"\", \" with \").concat(isFrontBackOnly ? \"2\" : \"4\", \" images each...\"));\n            // Starting image generation\n            // Set section states to loading\n            setSectionLoadingStates({\n                frontCover: \"loading\",\n                backCover: \"idle\",\n                leftInterior: isFrontBackOnly ? \"idle\" : \"idle\",\n                rightInterior: isFrontBackOnly ? \"idle\" : \"idle\"\n            });\n            // Prepare input images for each section\n            const frontCoverInputImages = [];\n            const backCoverInputImages = [];\n            const leftInteriorInputImages = [];\n            const rightInteriorInputImages = [];\n            // Handle reference images - only for models with direct image support\n            if (referenceImageUrls.length > 0 && modelToUse === \"gpt-image-1\") {\n                // GPT-1 supports direct image input - pass reference images directly\n                frontCoverInputImages.push(...referenceImageUrls);\n                console.log(\"\\uD83D\\uDD0D DEBUG: Added reference images to frontCoverInputImages:\", referenceImageUrls);\n                console.log(\"\\uD83D\\uDD0D DEBUG: frontCoverInputImages length:\", frontCoverInputImages.length);\n                setGenerationProgress(\"✨ Reference photos will be used directly for character creation...\");\n                sonner__WEBPACK_IMPORTED_MODULE_13__.toast.success(\"\\uD83D\\uDCF8 \".concat(referenceImageUrls.length, \" reference photo\").concat(referenceImageUrls.length > 1 ? \"s\" : \"\", \" ready for character creation!\"));\n            }\n            if (modelToUse === \"gpt-image-1\") {\n                // Add handwriting sample to right interior for message styling\n                if (handwritingSampleUrl && !isFrontBackOnly) {\n                    rightInteriorInputImages.push(handwritingSampleUrl);\n                }\n            }\n            // Create payloads for all cards with their unique prompts\n            const allCardPayloads = [];\n            // Create payloads for each card with its unique prompts\n            allGeneratedPrompts.forEach((generatedPrompts, cardIndex)=>{\n                // Enhance front cover prompt with reference image instructions if available\n                let enhancedFrontCoverPrompt = generatedPrompts.frontCover;\n                if (referenceImageUrls.length > 0 && modelToUse === \"gpt-image-1\") {\n                    // GPT-1 with direct image input - focus on character creation\n                    enhancedFrontCoverPrompt = \"\".concat(generatedPrompts.frontCover, \"\\n\\nCRITICAL CHARACTER REFERENCE INSTRUCTIONS: I have provided \").concat(referenceImageUrls.length > 1 ? \"multiple reference photos\" : \"a reference photo\", \" as input image\").concat(referenceImageUrls.length > 1 ? \"s\" : \"\", \". You MUST create cartoon/illustrated characters that accurately represent ONLY the people who are actually visible in \").concat(referenceImageUrls.length > 1 ? \"these reference photos\" : \"this reference photo\", \" with high fidelity to their appearance.\\n\\nMANDATORY CHARACTER MATCHING REQUIREMENTS - ONLY INCLUDE WHAT IS ACTUALLY VISIBLE:\\n- REPRESENT ONLY PEOPLE ACTUALLY IN THE PHOTOS: Create cartoon versions of ONLY the people who are actually shown in the reference photos. Do NOT add, create, or imagine any additional people not present in the reference images.\\n- EXACT hair color, hair style, and hair length from the reference photo - only what is actually visible\\n- PRECISE facial features: eye color, eye shape, nose shape, face structure, skin tone - exactly as shown in the reference\\n- ACCURATE clothing: replicate ONLY the EXACT clothing items, colors, patterns, and styles actually worn in the reference photo - do not add or change any clothing items\\n- ACCESSORIES ONLY IF VISIBLE: Include accessories (glasses, jewelry, hats, watches, bags, etc.) ONLY if they are actually visible on each person in the reference photo. DO NOT add glasses if they are not wearing glasses in the photo. DO NOT add jewelry if they are not wearing jewelry in the photo. DO NOT add any accessories that are not clearly visible in the reference image.\\n- CORRECT body proportions and posture as shown in the reference\\n- FAITHFUL age representation and gender presentation - exactly as they appear\\n- AUTHENTIC facial expressions and poses from the reference image, lean towards making the people look happier unless the user specifically asks for a different expression.\\n- GROUP COMPOSITION: If multiple people are actually shown in the photos, arrange them naturally together in a pleasing composition that fits the card's theme\\n\\nCRITICAL RESTRICTION: Do not add, remove, or modify any visual elements beyond what is actually visible in the reference photos. Only include people, clothing, and accessories that are clearly shown in the reference images.\\n\\n\").concat(imageTransformation || \"Study every detail of the people actually in the reference image and recreate them as stylized cartoon characters while maintaining 100% accuracy to their distinctive visual features. The characters must be immediately recognizable as the same people from the reference photo. Pay special attention to clothing details and accessories that are actually visible, and unique personal style elements that make each person distinctive. Do not add or imagine any elements not present in the reference.\", \"\\n\\nThe cartoon style should be charming and artistic while preserving complete visual accuracy to the reference photo. Only represent people, clothing, and accessories that are actually visible in the reference images.\");\n                }\n                const cardPayloads = [\n                    {\n                        tool_name: \"generate_images_with_prompts\",\n                        arguments: {\n                            user_number: \"+17145986105\",\n                            prompts: [\n                                enhancedFrontCoverPrompt\n                            ],\n                            model_version: modelToUse,\n                            aspect_ratio: paperConfig.aspectRatio,\n                            quality: isDraftMode ? \"low\" : \"high\",\n                            output_format: \"jpeg\",\n                            output_compression: 100,\n                            moderation: \"low\",\n                            ...frontCoverInputImages.length > 0 && {\n                                input_images: frontCoverInputImages\n                            },\n                            // Debug logging\n                            ...(()=>{\n                                if (frontCoverInputImages.length > 0) {\n                                    console.log(\"\\uD83D\\uDD0D DEBUG: Sending input_images to MCP:\", frontCoverInputImages);\n                                }\n                                return {};\n                            })()\n                        },\n                        user_id_context: \"+17145986105\",\n                        cardIndex,\n                        sectionIndex: 0,\n                        sectionName: \"Front Cover\"\n                    },\n                    {\n                        tool_name: \"generate_images_with_prompts\",\n                        arguments: {\n                            user_number: \"+17145986105\",\n                            prompts: [\n                                generatedPrompts.backCover\n                            ],\n                            model_version: modelToUse,\n                            aspect_ratio: paperConfig.aspectRatio,\n                            quality: isDraftMode ? \"low\" : \"high\",\n                            output_format: \"jpeg\",\n                            output_compression: 100,\n                            moderation: \"low\",\n                            ...backCoverInputImages.length > 0 && {\n                                input_images: backCoverInputImages\n                            }\n                        },\n                        user_id_context: \"+17145986105\",\n                        cardIndex,\n                        sectionIndex: 1,\n                        sectionName: \"Back Cover\"\n                    }\n                ];\n                // Add interior images if not front/back only\n                if (!isFrontBackOnly && generatedPrompts.leftInterior && generatedPrompts.rightInterior) {\n                    cardPayloads.push({\n                        tool_name: \"generate_images_with_prompts\",\n                        arguments: {\n                            user_number: \"+17145986105\",\n                            prompts: [\n                                generatedPrompts.leftInterior\n                            ],\n                            model_version: modelToUse,\n                            aspect_ratio: paperConfig.aspectRatio,\n                            quality: isDraftMode ? \"low\" : \"high\",\n                            output_format: \"jpeg\",\n                            output_compression: 100,\n                            moderation: \"low\",\n                            ...leftInteriorInputImages.length > 0 && {\n                                input_images: leftInteriorInputImages\n                            }\n                        },\n                        user_id_context: \"+17145986105\",\n                        cardIndex,\n                        sectionIndex: 2,\n                        sectionName: \"Left Interior\"\n                    }, {\n                        tool_name: \"generate_images_with_prompts\",\n                        arguments: {\n                            user_number: \"+17145986105\",\n                            prompts: [\n                                generatedPrompts.rightInterior\n                            ],\n                            model_version: modelToUse,\n                            aspect_ratio: paperConfig.aspectRatio,\n                            quality: isDraftMode ? \"low\" : \"high\",\n                            output_format: \"jpeg\",\n                            output_compression: 100,\n                            moderation: \"low\",\n                            ...rightInteriorInputImages.length > 0 && {\n                                input_images: rightInteriorInputImages\n                            }\n                        },\n                        user_id_context: \"+17145986105\",\n                        cardIndex,\n                        sectionIndex: 3,\n                        sectionName: \"Right Interior\"\n                    });\n                }\n                allCardPayloads.push(...cardPayloads);\n            });\n            // Track image completion per card\n            const completedImages = new Map();\n            let completedCount = 0;\n            const completedCards = [];\n            // Clear any existing cards during generation\n            setGeneratedCards([]);\n            setGeneratedCard(null);\n            setSelectedCardIndex(0);\n            setGenerationProgress(\"\\uD83C\\uDFA8 Artists at work! Creating \".concat(allCardPayloads.length, \" stunning images for your \").concat(numberOfCards, \" card\").concat(numberOfCards > 1 ? \"s\" : \"\", \"...\"));\n            // Start 2:30 countdown now that we're actually generating images\n            setCountdown(150);\n            const interval = setInterval(()=>{\n                setCountdown((prev)=>{\n                    if (prev <= 1) {\n                        clearInterval(interval);\n                        return 0;\n                    }\n                    return prev - 1;\n                });\n            }, 1000);\n            setCountdownInterval(interval);\n            // Helper function to regenerate prompt if blocked by safety system\n            const regeneratePromptIfNeeded = async (originalPrompt, sectionName)=>{\n                try {\n                    const regenerationQuery = 'The following image prompt was blocked by the safety system. Please rewrite it to be more appropriate while keeping the same artistic intent and style:\\n\\nBLOCKED PROMPT: \"'.concat(originalPrompt, \"\\\"\\n\\nRequirements:\\n- Keep the same artistic style and visual goals\\n- Remove any content that might trigger safety filters\\n- Maintain the full-bleed design requirements\\n- IMPORTANT: Keep text, faces, and key elements at least 10% away from top/bottom edges (small amount may be cropped in printing)\\n- Focus on safe, family-friendly imagery\\n- Keep the same color palette and mood\\n- Ensure it's appropriate for a greeting card\\n\\nReturn only the rewritten prompt, no explanations.\");\n                    const newPrompt = await chatWithAI(regenerationQuery, {\n                        model: \"gemini-2.5-pro\",\n                        includeThoughts: false // Don't include thinking content for prompt regeneration\n                    });\n                    return (newPrompt === null || newPrompt === void 0 ? void 0 : newPrompt.trim()) || originalPrompt;\n                } catch (error) {\n                    console.error(\"Failed to regenerate prompt:\", error);\n                    return originalPrompt;\n                }\n            };\n            // Helper function to process a single image with retry logic\n            const processSingleImage = async function(payload, index, sectionName) {\n                let cardIndex = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : 0;\n                let currentPayload = payload;\n                let retryCount = 0;\n                const maxRetries = 2;\n                let hasTriedTextFallback = false;\n                while(retryCount <= maxRetries){\n                    try {\n                        const response = await fetch(\"\".concat(BACKEND_API_BASE_URL, \"/internal/call_mcp_tool\"), {\n                            method: \"POST\",\n                            headers: {\n                                \"Content-Type\": \"application/json\"\n                            },\n                            body: JSON.stringify(currentPayload)\n                        });\n                        if (!response.ok) {\n                            throw new Error(\"HTTP \".concat(response.status));\n                        }\n                        const result = await response.json();\n                        // Check for safety system error\n                        if (result.result && typeof result.result === \"string\") {\n                            var _parsedResult_results__error, _parsedResult_results_, _parsedResult_results;\n                            const parsedResult = JSON.parse(result.result);\n                            if (parsedResult.status === \"error\" && ((_parsedResult_results = parsedResult.results) === null || _parsedResult_results === void 0 ? void 0 : (_parsedResult_results_ = _parsedResult_results[0]) === null || _parsedResult_results_ === void 0 ? void 0 : (_parsedResult_results__error = _parsedResult_results_.error) === null || _parsedResult_results__error === void 0 ? void 0 : _parsedResult_results__error.includes(\"moderation_blocked\"))) {\n                                if (retryCount < maxRetries) {\n                                    // Regenerate prompt and retry\n                                    const originalPrompt = currentPayload.arguments.prompts[0];\n                                    const newPrompt = await regeneratePromptIfNeeded(originalPrompt, sectionName);\n                                    currentPayload = {\n                                        ...currentPayload,\n                                        arguments: {\n                                            ...currentPayload.arguments,\n                                            prompts: [\n                                                newPrompt\n                                            ]\n                                        }\n                                    };\n                                    retryCount++;\n                                    continue;\n                                } else {\n                                    throw new Error(\"Safety system blocked \".concat(sectionName, \" after \").concat(maxRetries, \" attempts\"));\n                                }\n                            }\n                        // Reference image analysis is now done upfront, so no fallback needed\n                        }\n                        if (result.error && result.error !== \"None\" && result.error !== null) {\n                            throw new Error(result.error);\n                        }\n                        // Parse and extract image URL\n                        const data = JSON.parse(result.result);\n                        if (data.status !== \"success\") {\n                            throw new Error(\"\".concat(sectionName, \" generation failed\"));\n                        }\n                        const imageUrl = Array.isArray(data.results[0]) ? data.results[0][0] : data.results[0];\n                        // Track completed images per card\n                        const imageKey = \"\".concat(cardIndex, \"-\").concat(index);\n                        completedImages.set(imageKey, imageUrl);\n                        completedCount++;\n                        const totalImages = allCardPayloads.length;\n                        setGenerationProgress(\"\\uD83C\\uDFA8 \".concat(completedCount, \"/\").concat(totalImages, \" masterpieces complete! Just finished Card \").concat(cardIndex + 1, \" \").concat(sectionName, \"...\"));\n                        // Update section loading states and progress\n                        const progressPercentage = 30 + Math.floor(completedCount / totalImages * 50); // 30-80% for image generation\n                        // Update individual section states\n                        setSectionLoadingStates((prev)=>{\n                            const newState = {\n                                ...prev\n                            };\n                            if (sectionName === \"Front Cover\") {\n                                newState.frontCover = \"completed\";\n                            } else if (sectionName === \"Back Cover\") {\n                                newState.backCover = \"completed\";\n                            } else if (sectionName === \"Left Interior\") {\n                                newState.leftInterior = \"completed\";\n                            } else if (sectionName === \"Right Interior\") {\n                                newState.rightInterior = \"completed\";\n                            }\n                            return newState;\n                        });\n                        // Section completion logged\n                        // Check if this card is now complete\n                        const sectionsPerCard = isFrontBackOnly ? 2 : 4;\n                        const cardStartIndex = cardIndex * sectionsPerCard;\n                        const cardEndIndex = cardStartIndex + sectionsPerCard - 1;\n                        let isCardComplete = true;\n                        for(let i = cardStartIndex; i <= cardEndIndex; i++){\n                            const checkKey = \"\".concat(cardIndex, \"-\").concat(i - cardStartIndex);\n                            if (!completedImages.has(checkKey)) {\n                                isCardComplete = false;\n                                break;\n                            }\n                        }\n                        // If card is complete, update the cards state\n                        if (isCardComplete) {\n                            setGeneratedCards((prevCards)=>{\n                                const updatedCards = [\n                                    ...prevCards\n                                ];\n                                // Create new card object if it doesn't exist\n                                if (!updatedCards[cardIndex]) {\n                                    updatedCards[cardIndex] = {\n                                        id: \"card-\".concat(cardIndex, \"-\").concat(Date.now()),\n                                        prompt: prompt,\n                                        frontCover: \"\",\n                                        backCover: \"\",\n                                        leftPage: \"\",\n                                        rightPage: \"\",\n                                        createdAt: new Date()\n                                    };\n                                }\n                                const updatedCard = {\n                                    ...updatedCards[cardIndex]\n                                };\n                                // Set all images for this completed card\n                                updatedCard.frontCover = completedImages.get(\"\".concat(cardIndex, \"-0\")) || \"\";\n                                updatedCard.backCover = completedImages.get(\"\".concat(cardIndex, \"-1\")) || \"\";\n                                if (!isFrontBackOnly) {\n                                    updatedCard.leftPage = completedImages.get(\"\".concat(cardIndex, \"-2\")) || \"\";\n                                    updatedCard.rightPage = completedImages.get(\"\".concat(cardIndex, \"-3\")) || \"\";\n                                } else {\n                                    // Set fallbacks for front/back only mode\n                                    updatedCard.leftPage = updatedCard.backCover;\n                                    updatedCard.rightPage = updatedCard.frontCover;\n                                }\n                                // Update prompt to use effective prompt\n                                updatedCard.prompt = effectivePrompt;\n                                // Store the generated prompts for factory use\n                                updatedCard.generatedPrompts = {\n                                    frontCover: allGeneratedPrompts[cardIndex].frontCover,\n                                    backCover: allGeneratedPrompts[cardIndex].backCover,\n                                    leftInterior: !isFrontBackOnly ? allGeneratedPrompts[cardIndex].leftInterior : undefined,\n                                    rightInterior: !isFrontBackOnly ? allGeneratedPrompts[cardIndex].rightInterior : undefined\n                                };\n                                updatedCards[cardIndex] = updatedCard;\n                                // Store completed card locally for email use\n                                completedCards[cardIndex] = updatedCard;\n                                // If this is the first completed card or the selected card, set it as main display\n                                if (!generatedCard || cardIndex === selectedCardIndex) {\n                                    setGeneratedCard(updatedCard);\n                                }\n                                return updatedCards;\n                            });\n                            sonner__WEBPACK_IMPORTED_MODULE_13__.toast.success(\"\\uD83C\\uDF89 Card \".concat(cardIndex + 1, \" is complete and ready!\"));\n                        }\n                        return imageUrl;\n                    } catch (error) {\n                        if (retryCount === maxRetries) {\n                            throw new Error(\"Failed to generate \".concat(sectionName, \": \").concat(error instanceof Error ? error.message : \"Unknown error\"));\n                        }\n                        retryCount++;\n                    }\n                }\n            };\n            // Start all image generations in parallel (all cards, all sections) with unique prompts\n            const imagePromises = allCardPayloads.map((payload)=>processSingleImage(payload, payload.sectionIndex, payload.sectionName, payload.cardIndex));\n            // Wait for all to complete\n            await Promise.all(imagePromises);\n            // Finalizing images\n            // Build final cards from completed images for email use\n            const finalCards = [];\n            for(let cardIndex = 0; cardIndex < numberOfCards; cardIndex++){\n                const card = {\n                    id: \"card-\".concat(cardIndex, \"-\").concat(Date.now()),\n                    prompt: effectivePrompt,\n                    frontCover: completedImages.get(\"\".concat(cardIndex, \"-0\")) || \"\",\n                    backCover: completedImages.get(\"\".concat(cardIndex, \"-1\")) || \"\",\n                    leftPage: isFrontBackOnly ? completedImages.get(\"\".concat(cardIndex, \"-1\")) || \"\" : completedImages.get(\"\".concat(cardIndex, \"-2\")) || \"\",\n                    rightPage: isFrontBackOnly ? completedImages.get(\"\".concat(cardIndex, \"-0\")) || \"\" : completedImages.get(\"\".concat(cardIndex, \"-3\")) || \"\",\n                    createdAt: new Date(),\n                    // Include the generated prompts for factory use\n                    generatedPrompts: {\n                        frontCover: allGeneratedPrompts[cardIndex].frontCover,\n                        backCover: allGeneratedPrompts[cardIndex].backCover,\n                        leftInterior: !isFrontBackOnly ? allGeneratedPrompts[cardIndex].leftInterior : undefined,\n                        rightInterior: !isFrontBackOnly ? allGeneratedPrompts[cardIndex].rightInterior : undefined\n                    }\n                };\n                finalCards.push(card);\n            }\n            // Apply QR codes to all cards' back covers\n            setGenerationProgress(\"✨ Adding interactive QR codes to your cards...\");\n            console.log(\"\\uD83D\\uDD04 Starting QR overlay process for\", finalCards.length, \"cards\");\n            console.log(\"\\uD83D\\uDD17 Card URL:\", cardUrl);\n            for(let i = 0; i < finalCards.length; i++){\n                var _finalCards_i_backCover;\n                console.log(\"\\uD83C\\uDFAF Processing card \".concat(i + 1, \":\"), {\n                    hasBackCover: !!finalCards[i].backCover,\n                    hasCardUrl: !!cardUrl,\n                    backCoverLength: (_finalCards_i_backCover = finalCards[i].backCover) === null || _finalCards_i_backCover === void 0 ? void 0 : _finalCards_i_backCover.length\n                });\n            // QR code will be applied after successful API storage\n            }\n            // Display cards will be updated after successful API storage and QR code application\n            setGenerationProgress(\"✅ Card completed, preview down below!\");\n            setIsCardCompleted(true);\n            // Generation complete\n            setProgressPercentage(100);\n            setGenerationProgress(\"Generation complete!\");\n            // Complete and remove job from localStorage and server\n            if (currentJobId) {\n                // Store completion result on server\n                try {\n                    await fetch(\"/api/store-job-result\", {\n                        method: \"POST\",\n                        headers: {\n                            \"Content-Type\": \"application/json\"\n                        },\n                        body: JSON.stringify({\n                            jobId: currentJobId,\n                            status: \"completed\",\n                            cardData: generatedCards[0] || generatedCard\n                        })\n                    });\n                } catch (error) {\n                    console.error(\"Failed to store job result on server:\", error);\n                }\n                removeJobFromStorage(currentJobId);\n                setCurrentJobId(null);\n            }\n            if (numberOfCards === 1) {\n                sonner__WEBPACK_IMPORTED_MODULE_13__.toast.success(\"\\uD83C\\uDF89 Your complete card with QR code is ready!\");\n            } else {\n                sonner__WEBPACK_IMPORTED_MODULE_13__.toast.success(\"\\uD83C\\uDF89 All \".concat(numberOfCards, \" cards with QR codes are ready! Choose your favorite below.\"));\n            }\n            // Clear the completion message after 3 seconds but keep isCardCompleted true\n            setTimeout(()=>{\n                setGenerationProgress(\"\");\n            }, 3000);\n            // Send thank you email if user provided email\n            if (userEmail.trim()) {\n                const cardTypeForEmail = selectedType === \"custom\" ? customCardType : selectedType;\n                try {\n                    // Use the first final card (which now has QR code)\n                    const cardToStore = finalCards[0];\n                    if (!cardToStore || !cardToStore.frontCover) {\n                        console.log(\"No card data available for sharing\");\n                        sendThankYouEmail(userEmail, cardTypeForEmail, \"https://vibecarding.com\");\n                        return;\n                    }\n                    // Store card data with pre-generated card ID\n                    const cardData = {\n                        id: cardId,\n                        prompt: effectivePrompt,\n                        frontCover: cardToStore.frontCover || \"\",\n                        backCover: cardToStore.backCover || \"\",\n                        leftPage: cardToStore.leftPage || \"\",\n                        rightPage: cardToStore.rightPage || \"\"\n                    };\n                    console.log(\"Storing card data:\", cardData);\n                    const cardStoreResponse = await fetch(\"/api/cards/store\", {\n                        method: \"POST\",\n                        headers: {\n                            \"Content-Type\": \"application/json\"\n                        },\n                        body: JSON.stringify(cardData)\n                    });\n                    if (cardStoreResponse.ok) {\n                        const cardStoreData = await cardStoreResponse.json();\n                        console.log(\"Card stored successfully, API response:\", cardStoreData);\n                        // Use the share_url from the API response (contains friendly name)\n                        const actualShareUrl = cardStoreData.share_url || cardUrl;\n                        console.log(\"Using actual share URL for QR code:\", actualShareUrl);\n                        // Now apply QR codes to all cards after successful API storage\n                        for(let i = 0; i < finalCards.length; i++){\n                            if (finalCards[i].backCover && actualShareUrl) {\n                                try {\n                                    const originalBackCover = finalCards[i].backCover;\n                                    console.log(\"\\uD83D\\uDD04 Applying QR overlay to card \".concat(i + 1, \" after API storage...\"));\n                                    finalCards[i].backCover = await overlayQRCodeOnImage(originalBackCover, actualShareUrl);\n                                    console.log(\"✅ QR overlay complete for card \".concat(i + 1));\n                                } catch (error) {\n                                    console.error(\"❌ Failed to overlay QR code on card \".concat(i + 1, \":\"), error);\n                                // Card keeps original back cover if QR overlay fails\n                                }\n                            } else {\n                                console.log(\"⚠️ Skipping QR overlay for card \".concat(i + 1, \" - missing back cover or URL\"));\n                            }\n                        }\n                        // Update the displayed cards state with QR-enhanced versions\n                        console.log(\"\\uD83D\\uDD04 Updating displayed cards with QR codes after API storage...\");\n                        setGeneratedCards([\n                            ...finalCards\n                        ]);\n                        // Also update the main displayed card if needed\n                        if (finalCards.length > 0) {\n                            setGeneratedCard(finalCards[0]);\n                        }\n                        // Store the actual share URL in the first card for later use by Share button\n                        if (finalCards[0]) {\n                            finalCards[0].shareUrl = actualShareUrl;\n                            // Also update the React state with the share URL\n                            setGeneratedCards((prevCards)=>{\n                                const updated = [\n                                    ...prevCards\n                                ];\n                                if (updated[0]) {\n                                    updated[0].shareUrl = actualShareUrl;\n                                }\n                                return updated;\n                            });\n                        }\n                        sendThankYouEmail(userEmail, cardTypeForEmail, actualShareUrl);\n                    } else {\n                        console.error(\"Failed to store card:\", cardStoreResponse.status, await cardStoreResponse.text());\n                        // Fallback to generic URL if store fails\n                        sendThankYouEmail(userEmail, cardTypeForEmail, \"https://vibecarding.com\");\n                    }\n                } catch (error) {\n                    console.error(\"Error storing card for email:\", error);\n                    // Fallback to generic URL if store fails\n                    sendThankYouEmail(userEmail, cardTypeForEmail, \"https://vibecarding.com\");\n                }\n            }\n            // Clear countdown timer on successful completion\n            if (countdownInterval) {\n                clearInterval(countdownInterval);\n                setCountdownInterval(null);\n            }\n            setCountdown(0);\n        } catch (error) {\n            setGenerationProgress(\"\");\n            sonner__WEBPACK_IMPORTED_MODULE_13__.toast.error(\"Failed to generate card. Please try again.\");\n            console.error(\"Card generation error:\", error);\n            // Remove failed job from localStorage and update server\n            if (currentJobId) {\n                // Store failure result on server\n                try {\n                    await fetch(\"/api/store-job-result\", {\n                        method: \"POST\",\n                        headers: {\n                            \"Content-Type\": \"application/json\"\n                        },\n                        body: JSON.stringify({\n                            jobId: currentJobId,\n                            status: \"failed\",\n                            error: error instanceof Error ? error.message : \"Unknown error\"\n                        })\n                    });\n                } catch (serverError) {\n                    console.error(\"Failed to store job failure on server:\", serverError);\n                }\n                removeJobFromStorage(currentJobId);\n                setCurrentJobId(null);\n            }\n        } finally{\n            setIsGenerating(false);\n            // Clear countdown timer\n            if (countdownInterval) {\n                clearInterval(countdownInterval);\n                setCountdownInterval(null);\n            }\n            setCountdown(0);\n        }\n    };\n    // Show print confirmation dialog\n    const handlePrintClick = ()=>{\n        if (!generatedCard) return;\n        // Check if user email is provided\n        if (!userEmail.trim()) {\n            sonner__WEBPACK_IMPORTED_MODULE_13__.toast.error(\"Please enter your email address before printing\");\n            return;\n        }\n        setPrintOption(\"physical\"); // Reset to default\n        setShowPrintConfirmation(true);\n    };\n    // Handle template selection for preview\n    const handleTemplateSelect = async (template)=>{\n        try {\n            // Show loading state\n            setIsGenerating(true);\n            setGenerationProgress(\"\\uD83D\\uDD0D Loading complete template data...\");\n            // Close template gallery first\n            setShowTemplateGallery(false);\n            // Check if template has all required images\n            const hasAllImages = template.frontCover && template.backCover && (isFrontBackOnly || template.leftPage && template.rightPage);\n            if (hasAllImages) {\n                // Template is complete, load directly\n                setGeneratedCard(template);\n                setGeneratedCards([\n                    template\n                ]);\n                setSelectedCardIndex(0);\n                setIsCardCompleted(true);\n                setIsGenerating(false);\n                setGenerationProgress(\"\");\n                // Scroll to card preview\n                scrollToCardPreview();\n                sonner__WEBPACK_IMPORTED_MODULE_13__.toast.success(\"✨ Template loaded! You can now print or email this card from the preview below.\");\n            } else {\n                // Template is incomplete, try to fetch complete data from API\n                setGenerationProgress(\"\\uD83D\\uDCE1 Fetching complete card images...\");\n                try {\n                    // Try to fetch the complete card data from the server\n                    const response = await fetch(\"/api/cards/list?limit=1&search=\".concat(encodeURIComponent(template.id)));\n                    if (response.ok) {\n                        const data = await response.json();\n                        const foundCard = data.cards.find((card)=>card.id === template.id);\n                        if (foundCard && foundCard.frontCover && foundCard.backCover && (isFrontBackOnly || foundCard.leftPage && foundCard.rightPage)) {\n                            // Found complete card data\n                            const completeCard = {\n                                id: foundCard.id,\n                                prompt: foundCard.prompt || template.prompt,\n                                frontCover: foundCard.frontCover,\n                                backCover: foundCard.backCover,\n                                leftPage: foundCard.leftPage || foundCard.frontCover,\n                                rightPage: foundCard.rightPage || foundCard.frontCover,\n                                createdAt: new Date(foundCard.createdAt * 1000),\n                                shareUrl: foundCard.shareUrl || template.shareUrl,\n                                generatedPrompts: foundCard.generatedPrompts || template.generatedPrompts\n                            };\n                            setGeneratedCard(completeCard);\n                            setGeneratedCards([\n                                completeCard\n                            ]);\n                            setSelectedCardIndex(0);\n                            setIsCardCompleted(true);\n                            setIsGenerating(false);\n                            setGenerationProgress(\"\");\n                            // Scroll to card preview\n                            scrollToCardPreview();\n                            sonner__WEBPACK_IMPORTED_MODULE_13__.toast.success(\"✅ Complete template loaded with all images!\");\n                        } else {\n                            throw new Error(\"Complete card data not found\");\n                        }\n                    } else {\n                        throw new Error(\"Failed to fetch card data\");\n                    }\n                } catch (fetchError) {\n                    console.log(\"Could not fetch complete card data, using fallback approach:\", fetchError);\n                    // Fallback: Use front cover for missing images\n                    const fallbackCard = {\n                        ...template,\n                        backCover: template.backCover || template.frontCover,\n                        leftPage: template.leftPage || template.frontCover,\n                        rightPage: template.rightPage || template.frontCover\n                    };\n                    setGeneratedCard(fallbackCard);\n                    setGeneratedCards([\n                        fallbackCard\n                    ]);\n                    setSelectedCardIndex(0);\n                    setIsCardCompleted(true);\n                    setIsGenerating(false);\n                    setGenerationProgress(\"\");\n                    // Scroll to card preview\n                    scrollToCardPreview();\n                    sonner__WEBPACK_IMPORTED_MODULE_13__.toast.info(\"\\uD83D\\uDCCB Template loaded! Some images may be repeated from the front cover.\");\n                }\n            }\n        } catch (error) {\n            console.error(\"Error loading template:\", error);\n            setIsGenerating(false);\n            setGenerationProgress(\"\");\n            sonner__WEBPACK_IMPORTED_MODULE_13__.toast.error(\"Failed to load template. Please try again.\");\n        }\n    };\n    // Actual print function after confirmation\n    // Extracted AI Analysis Logic for Reuse\n    const performAIAnalysis = async (cardsToAnalyze, searchQuery)=>{\n        const adaptiveBatchSize = Math.min(Math.max(10, Math.floor(cardsToAnalyze.length / 8)), searchQuery.split(\" \").length > 3 ? 15 : 25 // Smaller batches for complex queries\n        );\n        const batches = [];\n        for(let i = 0; i < cardsToAnalyze.length; i += adaptiveBatchSize){\n            batches.push(cardsToAnalyze.slice(i, i + adaptiveBatchSize));\n        }\n        const analysisPrompt = 'User is searching for: \"'.concat(searchQuery, \"\\\"\\n\\nAnalyze each greeting card image and rate how well it matches the user's search query on a scale of 1-100.\\n\\nConsider:\\n- Visual style matching (watercolor, cartoon, realistic, etc.)\\n- Colors and themes\\n- Subject matter (people, animals, objects, nature, etc.)\\n- Mood and atmosphere\\n- Occasion appropriateness\\n- Overall relevance to the search query\\n\\nRate each card from 1-100 where:\\n- 90-100: Perfect match for the search query\\n- 70-89: Very good match with most elements matching\\n- 50-69: Good match with some relevant elements\\n- 30-49: Partial match with few relevant elements  \\n- 1-29: Poor match, not relevant to search\\n\\nReturn only the numeric score (1-100) for each image.\");\n        // Process ALL batches in parallel for maximum speed\n        const batchPromises = batches.map(async (batch, batchIndex)=>{\n            const validCards = batch.filter((card)=>card.frontCover);\n            const urls = validCards.map((card)=>card.frontCover);\n            const batchResults = [];\n            if (urls.length === 0) {\n                batch.forEach((card)=>{\n                    var _card_prompt;\n                    const textScore = ((_card_prompt = card.prompt) === null || _card_prompt === void 0 ? void 0 : _card_prompt.toLowerCase().includes(searchQuery.toLowerCase())) ? 60 : 20;\n                    batchResults.push({\n                        id: card.id,\n                        card: card,\n                        score: textScore,\n                        analysis: \"No image available\"\n                    });\n                });\n                return batchResults;\n            }\n            try {\n                const response = await fetch(\"/internal/call_mcp_tool\", {\n                    method: \"POST\",\n                    headers: {\n                        \"Content-Type\": \"application/json\"\n                    },\n                    body: JSON.stringify({\n                        tool_name: \"analyze_images\",\n                        arguments: {\n                            urls: urls,\n                            analysis_prompt: analysisPrompt\n                        }\n                    })\n                });\n                if (response.ok) {\n                    const data = await response.json();\n                    if (data.error && data.error !== \"None\" && data.error !== null) {\n                        throw new Error(data.error);\n                    }\n                    let result;\n                    if (typeof data.result === \"string\") {\n                        try {\n                            result = JSON.parse(data.result);\n                        } catch (e) {\n                            result = {\n                                status: \"error\",\n                                message: \"Invalid JSON response\"\n                            };\n                        }\n                    } else {\n                        result = data.result;\n                    }\n                    if (result.status === \"success\" && result.results) {\n                        result.results.forEach((analysisResult, index)=>{\n                            if (index < validCards.length) {\n                                const card = validCards[index];\n                                if (analysisResult.status === \"success\" && analysisResult.analysis) {\n                                    const scoreMatch = analysisResult.analysis.match(/\\b(\\d{1,3})\\b/);\n                                    const score = scoreMatch ? parseInt(scoreMatch[1]) : 0;\n                                    batchResults.push({\n                                        id: card.id,\n                                        card: card,\n                                        score: Math.min(Math.max(score, 0), 100),\n                                        analysis: analysisResult.analysis\n                                    });\n                                } else {\n                                    var _card_prompt;\n                                    const textScore = ((_card_prompt = card.prompt) === null || _card_prompt === void 0 ? void 0 : _card_prompt.toLowerCase().includes(searchQuery.toLowerCase())) ? 60 : 20;\n                                    batchResults.push({\n                                        id: card.id,\n                                        card: card,\n                                        score: textScore,\n                                        analysis: \"Analysis failed, using text fallback\"\n                                    });\n                                }\n                            }\n                        });\n                    } else {\n                        throw new Error(\"Invalid result structure\");\n                    }\n                } else {\n                    throw new Error(\"HTTP \".concat(response.status));\n                }\n            } catch (error) {\n                console.error(\"Failed to analyze batch \".concat(batchIndex + 1, \":\"), error);\n                batch.forEach((card)=>{\n                    var _card_prompt;\n                    const textScore = ((_card_prompt = card.prompt) === null || _card_prompt === void 0 ? void 0 : _card_prompt.toLowerCase().includes(searchQuery.toLowerCase())) ? 60 : 20;\n                    batchResults.push({\n                        id: card.id,\n                        card: card,\n                        score: textScore,\n                        analysis: \"Batch analysis failed, using text fallback\"\n                    });\n                });\n            }\n            return batchResults;\n        });\n        const allBatchResults = await Promise.all(batchPromises);\n        return allBatchResults.flat();\n    };\n    // Enhanced Text-based Template Search Function (Instant)\n    const handleTextTemplateSearch = ()=>{\n        if (!templateSearchQuery.trim()) {\n            sonner__WEBPACK_IMPORTED_MODULE_13__.toast.error(\"Please enter a search query!\");\n            return;\n        }\n        // Get all available cards first\n        const allCards = getCachedCards(1, Math.max(totalCards, 1000));\n        if (allCards.length === 0) {\n            sonner__WEBPACK_IMPORTED_MODULE_13__.toast.error(\"No templates available to search\");\n            return;\n        }\n        const searchTerms = templateSearchQuery.toLowerCase().split(\" \").filter((term)=>term.length > 1);\n        // Score cards based on text relevance (now including generated prompts)\n        const scoredCards = allCards.map((card)=>{\n            const originalPrompt = (card.prompt || \"\").toLowerCase();\n            let score = 0;\n            let matchSources = [];\n            // Build searchable text from multiple sources\n            const searchableTexts = [\n                {\n                    text: originalPrompt,\n                    weight: 10,\n                    source: \"original\"\n                }\n            ];\n            // Add generated prompts if available (these are AI-analyzed descriptions of actual images)\n            if (card.generatedPrompts) {\n                if (card.generatedPrompts.frontCover) {\n                    searchableTexts.push({\n                        text: card.generatedPrompts.frontCover.toLowerCase(),\n                        weight: 8,\n                        source: \"front-cover-analysis\"\n                    });\n                }\n                if (card.generatedPrompts.backCover) {\n                    searchableTexts.push({\n                        text: card.generatedPrompts.backCover.toLowerCase(),\n                        weight: 6,\n                        source: \"back-cover-analysis\"\n                    });\n                }\n                if (card.generatedPrompts.leftInterior) {\n                    searchableTexts.push({\n                        text: card.generatedPrompts.leftInterior.toLowerCase(),\n                        weight: 7,\n                        source: \"left-interior-analysis\"\n                    });\n                }\n                if (card.generatedPrompts.rightInterior) {\n                    searchableTexts.push({\n                        text: card.generatedPrompts.rightInterior.toLowerCase(),\n                        weight: 7,\n                        source: \"right-interior-analysis\"\n                    });\n                }\n            }\n            // Search through all text sources\n            searchTerms.forEach((term)=>{\n                searchableTexts.forEach((param)=>{\n                    let { text, weight, source } = param;\n                    // Exact word match\n                    if (text.includes(term)) {\n                        const termScore = (term.length > 3 ? 10 : 5) * (weight / 10);\n                        score += termScore;\n                        if (!matchSources.includes(source)) {\n                            matchSources.push(source);\n                        }\n                    } else if (text.includes(term.substring(0, Math.max(3, term.length - 1)))) {\n                        const partialScore = 3 * (weight / 10);\n                        score += partialScore;\n                        if (!matchSources.includes(source)) {\n                            matchSources.push(source);\n                        }\n                    }\n                });\n            });\n            // Boost for cards that match multiple terms\n            const matchedTerms = searchTerms.filter((term)=>searchableTexts.some((param)=>{\n                    let { text } = param;\n                    return text.includes(term);\n                })).length;\n            if (matchedTerms > 1) {\n                score += matchedTerms * 5;\n            }\n            // Boost for cards with AI-generated prompts (they have richer descriptions)\n            if (card.generatedPrompts && matchSources.some((source)=>source.includes(\"analysis\"))) {\n                score += 5; // Bonus for AI-analyzed visual content matches\n            }\n            return {\n                ...card,\n                textScore: score,\n                matchSources: matchSources\n            };\n        });\n        // Filter and sort by relevance\n        const filteredCards = scoredCards.filter((card)=>card.textScore > 0).sort((a, b)=>b.textScore - a.textScore).slice(0, 20); // Top 20 text matches\n        setTextFilteredCards(filteredCards);\n        if (filteredCards.length > 0) {\n            const avgScore = Math.round(filteredCards.reduce((sum, card)=>sum + card.textScore, 0) / filteredCards.length);\n            const aiAnalyzedMatches = filteredCards.filter((card)=>{\n                var _card_matchSources;\n                return (_card_matchSources = card.matchSources) === null || _card_matchSources === void 0 ? void 0 : _card_matchSources.some((source)=>source.includes(\"analysis\"));\n            }).length;\n            let successMessage = \"\\uD83D\\uDCDD Found \".concat(filteredCards.length, ' text matches for \"').concat(templateSearchQuery, '\"! Average relevance: ').concat(avgScore);\n            if (aiAnalyzedMatches > 0) {\n                successMessage += \" (\".concat(aiAnalyzedMatches, \" matches found in AI visual analysis!)\");\n            }\n            sonner__WEBPACK_IMPORTED_MODULE_13__.toast.success(successMessage);\n        } else {\n            sonner__WEBPACK_IMPORTED_MODULE_13__.toast.info(\"\\uD83E\\uDD14 No templates found matching your text search. Try different keywords!\");\n        }\n    };\n    // AI Template Search Function with Parallel Image Analysis\n    const handleAITemplateSearch = async ()=>{\n        if (!templateSearchQuery.trim()) {\n            sonner__WEBPACK_IMPORTED_MODULE_13__.toast.error(\"Please enter a search query!\");\n            return;\n        }\n        setIsSearchingTemplates(true);\n        try {\n            // Get all available cards first\n            const allCards = getCachedCards(1, Math.max(totalCards, 1000));\n            if (allCards.length === 0) {\n                sonner__WEBPACK_IMPORTED_MODULE_13__.toast.error(\"No templates available to search\");\n                return;\n            }\n            // Smart pre-filtering: First filter by text relevance to reduce AI analysis load\n            const textFilteredCards = allCards.filter((card)=>{\n                const searchTerms = templateSearchQuery.toLowerCase().split(\" \");\n                const cardText = (card.prompt || \"\").toLowerCase();\n                // Include cards that match any search term or have high general relevance\n                return searchTerms.some((term)=>cardText.includes(term) || term.length <= 3 || // Include short terms (colors, etc.)\n                    [\n                        \"card\",\n                        \"birthday\",\n                        \"funny\",\n                        \"cute\",\n                        \"love\"\n                    ].some((common)=>cardText.includes(common)));\n            });\n            // If pre-filtering removes too many cards, fall back to analyzing all\n            const cardsToAnalyze = textFilteredCards.length >= Math.min(50, allCards.length * 0.3) ? textFilteredCards : allCards;\n            const filterMessage = textFilteredCards.length < allCards.length ? \" (pre-filtered from \".concat(allCards.length, \" based on text relevance)\") : \"\";\n            sonner__WEBPACK_IMPORTED_MODULE_13__.toast.info(\"\\uD83D\\uDD0D AI analyzing \".concat(cardsToAnalyze.length, ' card images for \"').concat(templateSearchQuery, '\"').concat(filterMessage, \"...\"));\n            // Adaptive batch sizing based on query complexity and number of cards\n            const queryComplexity = templateSearchQuery.split(\" \").length;\n            const adaptiveBatchSize = Math.min(Math.max(10, Math.floor(cardsToAnalyze.length / 8)), queryComplexity > 3 ? 15 : 25 // Smaller batches for complex queries\n            );\n            console.log(\"\\uD83E\\uDDE0 Using adaptive batch size: \".concat(adaptiveBatchSize, \" (query complexity: \").concat(queryComplexity, \" terms)\"));\n            const batches = [];\n            for(let i = 0; i < cardsToAnalyze.length; i += adaptiveBatchSize){\n                batches.push(cardsToAnalyze.slice(i, i + adaptiveBatchSize));\n            }\n            console.log(\"\\uD83D\\uDE80 Processing \".concat(cardsToAnalyze.length, \" images in \").concat(batches.length, \" batches (adaptive size: \").concat(adaptiveBatchSize, \")\"));\n            // Use the extracted AI analysis function\n            console.log(\"\\uD83D\\uDE80 Processing ALL \".concat(batches.length, \" batches in parallel!\"));\n            sonner__WEBPACK_IMPORTED_MODULE_13__.toast.info(\"\\uD83D\\uDE80 Processing \".concat(batches.length, \" batches in parallel (\").concat(cardsToAnalyze.length, \" images total)...\"));\n            const analysisResults = await performAIAnalysis(cardsToAnalyze, templateSearchQuery);\n            // Sort by score (highest first) and filter out low scores\n            const rankedResults = analysisResults.filter((result)=>result.score >= 30) // Only show cards with score 30+\n            .sort((a, b)=>b.score - a.score).slice(0, 10); // Top 10 results\n            if (rankedResults.length > 0) {\n                const filteredCards = rankedResults.map((result)=>({\n                        ...result.card,\n                        aiScore: result.score,\n                        aiAnalysis: result.analysis\n                    }));\n                setAiFilteredCards(filteredCards);\n                const avgScore = Math.round(rankedResults.reduce((sum, r)=>sum + r.score, 0) / rankedResults.length);\n                sonner__WEBPACK_IMPORTED_MODULE_13__.toast.success(\"\\uD83C\\uDFAF Found \".concat(filteredCards.length, ' matches for \"').concat(templateSearchQuery, '\"! Average relevance: ').concat(avgScore, \"%\"));\n            } else {\n                sonner__WEBPACK_IMPORTED_MODULE_13__.toast.info(\"\\uD83E\\uDD14 No templates found matching your search. Try a different query!\");\n                setAiFilteredCards([]);\n            }\n        } catch (error) {\n            console.error(\"AI template search failed:\", error);\n            sonner__WEBPACK_IMPORTED_MODULE_13__.toast.error(\"AI search failed. Please try again.\");\n            setAiFilteredCards([]);\n        } finally{\n            setIsSearchingTemplates(false);\n        }\n    };\n    // Hybrid Search Function (Text + AI Enhancement)\n    const handleHybridTemplateSearch = async ()=>{\n        if (!templateSearchQuery.trim()) {\n            sonner__WEBPACK_IMPORTED_MODULE_13__.toast.error(\"Please enter a search query!\");\n            return;\n        }\n        setIsSearchingTemplates(true);\n        try {\n            // Phase 1: Fast text search for immediate results\n            sonner__WEBPACK_IMPORTED_MODULE_13__.toast.info(\"\\uD83D\\uDE80 Phase 1: Fast text search...\");\n            handleTextTemplateSearch();\n            // Phase 2: AI enhancement on text results\n            const allCards = getCachedCards(1, Math.max(totalCards, 1000));\n            const searchTerms = templateSearchQuery.toLowerCase().split(\" \").filter((term)=>term.length > 1);\n            // Get text-filtered cards for AI analysis\n            const textCandidates = allCards.filter((card)=>{\n                const cardText = (card.prompt || \"\").toLowerCase();\n                return searchTerms.some((term)=>cardText.includes(term)) || searchTerms.length === 0;\n            });\n            // If text filtering gives us a reasonable subset, use it; otherwise use all cards\n            const cardsToAnalyze = textCandidates.length > 0 && textCandidates.length < allCards.length * 0.8 ? textCandidates : allCards;\n            sonner__WEBPACK_IMPORTED_MODULE_13__.toast.info(\"\\uD83C\\uDFA8 Phase 2: AI visual analysis on \".concat(cardsToAnalyze.length, \" candidates...\"));\n            // Run AI analysis on the candidates\n            const analysisResults = await performAIAnalysis(cardsToAnalyze, templateSearchQuery);\n            // Combine text and AI scores for final ranking\n            const hybridResults = analysisResults.map((result)=>({\n                    ...result,\n                    hybridScore: result.score * 0.7 + (result.card.textScore || 0) * 0.3 // 70% AI, 30% text\n                })).sort((a, b)=>b.hybridScore - a.hybridScore);\n            const finalResults = hybridResults.slice(0, 10).map((result)=>({\n                    ...result.card,\n                    aiScore: Math.round(result.hybridScore),\n                    aiAnalysis: \"Hybrid: \".concat(result.analysis)\n                }));\n            setAiFilteredCards(finalResults);\n            if (finalResults.length > 0) {\n                const avgScore = Math.round(hybridResults.reduce((sum, r)=>sum + r.hybridScore, 0) / hybridResults.length);\n                sonner__WEBPACK_IMPORTED_MODULE_13__.toast.success(\"\\uD83C\\uDFAF Hybrid search complete! Found \".concat(finalResults.length, ' matches for \"').concat(templateSearchQuery, '\"! Average relevance: ').concat(avgScore, \"%\"));\n            } else {\n                sonner__WEBPACK_IMPORTED_MODULE_13__.toast.info(\"\\uD83E\\uDD14 No templates found matching your search. Try a different query!\");\n            }\n        } catch (error) {\n            console.error(\"Hybrid template search failed:\", error);\n            sonner__WEBPACK_IMPORTED_MODULE_13__.toast.error(\"Hybrid search failed. Please try again.\");\n        } finally{\n            setIsSearchingTemplates(false);\n        }\n    };\n    // Main search handler that routes to appropriate search method\n    const handleTemplateSearch = ()=>{\n        switch(searchMode){\n            case \"text\":\n                handleTextTemplateSearch();\n                break;\n            case \"ai\":\n                handleAITemplateSearch();\n                break;\n            case \"hybrid\":\n                handleHybridTemplateSearch();\n                break;\n        }\n    };\n    const clearTemplateSearch = ()=>{\n        setTemplateSearchQuery(\"\");\n        setAiFilteredCards([]);\n        setTextFilteredCards([]);\n    };\n    const handleConfirmPrint = async ()=>{\n        // Always use the card from the preview area\n        const cardToPrint = generatedCard;\n        if (!cardToPrint) {\n            sonner__WEBPACK_IMPORTED_MODULE_13__.toast.error(\"No card available to print\");\n            return;\n        }\n        // Validate email before proceeding\n        if (!userEmail.trim()) {\n            sonner__WEBPACK_IMPORTED_MODULE_13__.toast.error(\"Please enter your email address before printing\");\n            setShowPrintConfirmation(false);\n            return;\n        }\n        setShowPrintConfirmation(false);\n        // Note: We no longer use selectedTemplate for direct printing\n        try {\n            // Validate card data\n            if (!cardToPrint.frontCover) {\n                sonner__WEBPACK_IMPORTED_MODULE_13__.toast.error(\"Card is missing front cover image. Please regenerate the card.\");\n                return;\n            }\n            if (!cardToPrint.backCover) {\n                sonner__WEBPACK_IMPORTED_MODULE_13__.toast.error(\"Card is missing back cover image. Please regenerate the card.\");\n                return;\n            }\n            if (!isFrontBackOnly && (!cardToPrint.leftPage || !cardToPrint.rightPage)) {\n                sonner__WEBPACK_IMPORTED_MODULE_13__.toast.error(\"Card is missing interior pages. Please regenerate the card or use front-back only mode.\");\n                return;\n            }\n            // Prepare card data for both printing and PDF email\n            const cardData = {\n                front_cover: cardToPrint.frontCover,\n                back_cover: cardToPrint.backCover,\n                left_page: cardToPrint.leftPage,\n                right_page: cardToPrint.rightPage,\n                card_name: (cardToPrint.prompt || \"Custom Card\").substring(0, 50) + ((cardToPrint.prompt || \"\").length > 50 ? \"...\" : \"\"),\n                paper_size: selectedPaperSize,\n                is_front_back_only: isFrontBackOnly,\n                copies: 1,\n                color_mode: \"color\",\n                quality: \"high\"\n            };\n            console.log(\"Print data:\", {\n                printOption,\n                userEmail,\n                cardData\n            });\n            if (printOption === \"email\") {\n                // Send PDF to email\n                const emailData = {\n                    ...cardData,\n                    user_email: userEmail.trim(),\n                    send_pdf: true\n                };\n                console.log(\"Sending email data:\", emailData);\n                const response = await fetch(\"/api/send-pdf-email\", {\n                    method: \"POST\",\n                    headers: {\n                        \"Content-Type\": \"application/json\"\n                    },\n                    body: JSON.stringify(emailData)\n                });\n                console.log(\"Email response status:\", response.status);\n                if (!response.ok) {\n                    const errorText = await response.text();\n                    console.error(\"Email response error:\", errorText);\n                    throw new Error(\"HTTP \".concat(response.status, \": \").concat(errorText));\n                }\n                const result = await response.json();\n                console.log(\"Email response result:\", result);\n                if (result.status === \"success\") {\n                    sonner__WEBPACK_IMPORTED_MODULE_13__.toast.success(\"\\uD83D\\uDCE7 PDF sent to \".concat(userEmail, \"! Check your inbox.\"));\n                } else {\n                    throw new Error(result.error || \"Failed to send PDF\");\n                }\n            } else {\n                // Physical printing\n                const response = await fetch(\"/api/print-queue\", {\n                    method: \"POST\",\n                    headers: {\n                        \"Content-Type\": \"application/json\"\n                    },\n                    body: JSON.stringify(cardData)\n                });\n                if (!response.ok) {\n                    throw new Error(\"HTTP \".concat(response.status));\n                }\n                const result = await response.json();\n                if (result.status === \"queued\") {\n                    const cardType = isFrontBackOnly ? \"Front/Back card\" : \"Full duplex card\";\n                    const duplexInfo = result.duplex ? \" (duplex enabled)\" : \" (single-sided)\";\n                    sonner__WEBPACK_IMPORTED_MODULE_13__.toast.success(\"\\uD83D\\uDDA8️ Your card is now printing! You can pick it up shortly.\");\n                    // Poll for job status\n                    let pollCount = 0;\n                    const maxPolls = 6; // Poll for up to 60 seconds\n                    const pollStatus = async ()=>{\n                        try {\n                            const statusResponse = await fetch(\"/api/print-status/\".concat(result.job_id));\n                            if (statusResponse.ok) {\n                                const statusResult = await statusResponse.json();\n                                if (statusResult.status === \"found\") {\n                                    if (statusResult.job.status === \"completed\") {\n                                        sonner__WEBPACK_IMPORTED_MODULE_13__.toast.success(\"✅ Your card has been added to the print queue and should be available for pickup shortly.\");\n                                        return;\n                                    } else if (statusResult.job.status === \"failed\") {\n                                        sonner__WEBPACK_IMPORTED_MODULE_13__.toast.error(\"❌ There was an issue with printing. Please try again or contact us for help.\");\n                                        return;\n                                    } else if (statusResult.job.status === \"pending\" && pollCount < maxPolls) {\n                                        // Still pending, poll again\n                                        pollCount++;\n                                        setTimeout(pollStatus, 10000);\n                                    }\n                                }\n                            }\n                        } catch (error) {\n                            console.log(\"Could not check print status:\", error);\n                        }\n                    };\n                    // Start polling after 10 seconds\n                    setTimeout(pollStatus, 10000);\n                } else {\n                    throw new Error(result.error || \"Unknown error\");\n                }\n            }\n        } catch (error) {\n            console.error(\"Print/Email error:\", error);\n            sonner__WEBPACK_IMPORTED_MODULE_13__.toast.error(printOption === \"email\" ? \"Failed to send PDF email\" : \"Failed to queue print job\");\n        }\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-cyan-50 dark:from-gray-900 dark:via-slate-800 dark:to-gray-800\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_CriticalResourcePreloader__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {}, void 0, false, {\n                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                lineNumber: 4907,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_EarlyCardPreloader__WEBPACK_IMPORTED_MODULE_19__[\"default\"], {}, void 0, false, {\n                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                lineNumber: 4908,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"header\", {\n                className: \"border-b bg-white/80 dark:bg-gray-900/80 backdrop-blur-sm sticky top-0 z-50\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"container mx-auto px-4 py-3\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center justify-between\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex items-center space-x-3\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(next_link__WEBPACK_IMPORTED_MODULE_12__[\"default\"], {\n                                        href: \"/\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                            variant: \"ghost\",\n                                            size: \"sm\",\n                                            className: \"gap-2\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_37__[\"default\"], {\n                                                    className: \"w-4 h-4\"\n                                                }, void 0, false, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 4916,\n                                                    columnNumber: 19\n                                                }, this),\n                                                \"Back\"\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                            lineNumber: 4915,\n                                            columnNumber: 17\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                        lineNumber: 4914,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex items-center space-x-2\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"w-8 h-8 bg-gradient-to-br from-blue-500 to-cyan-600 rounded-lg flex items-center justify-center\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_38__[\"default\"], {\n                                                    className: \"w-5 h-5 text-white\"\n                                                }, void 0, false, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 4922,\n                                                    columnNumber: 19\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 4921,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                                                    className: \"text-lg font-bold text-gray-900 dark:text-white\",\n                                                    children: \"VibeCarding\"\n                                                }, void 0, false, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 4925,\n                                                    columnNumber: 19\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 4924,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                        lineNumber: 4920,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(next_link__WEBPACK_IMPORTED_MODULE_12__[\"default\"], {\n                                        href: \"/gallery\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                            variant: \"ghost\",\n                                            size: \"sm\",\n                                            className: \"gap-2 text-gray-600 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-100\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_35__[\"default\"], {\n                                                    className: \"w-4 h-4\"\n                                                }, void 0, false, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 4932,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"hidden sm:inline\",\n                                                    children: \"Infinite Gallery\"\n                                                }, void 0, false, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 4933,\n                                                    columnNumber: 19\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                            lineNumber: 4931,\n                                            columnNumber: 17\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                        lineNumber: 4930,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                lineNumber: 4913,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_popover__WEBPACK_IMPORTED_MODULE_10__.Popover, {\n                                open: showSettings,\n                                onOpenChange: setShowSettings,\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_popover__WEBPACK_IMPORTED_MODULE_10__.PopoverTrigger, {\n                                        asChild: true,\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                            variant: \"ghost\",\n                                            size: \"sm\",\n                                            className: \"h-9 w-9 p-0\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_39__[\"default\"], {\n                                                    className: \"h-4 w-4\"\n                                                }, void 0, false, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 4941,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"sr-only\",\n                                                    children: \"Settings\"\n                                                }, void 0, false, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 4942,\n                                                    columnNumber: 19\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                            lineNumber: 4940,\n                                            columnNumber: 17\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                        lineNumber: 4939,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_popover__WEBPACK_IMPORTED_MODULE_10__.PopoverContent, {\n                                        className: \"w-80 p-0\",\n                                        align: \"end\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"p-4 space-y-4\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"space-y-2\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h4\", {\n                                                            className: \"font-medium leading-none\",\n                                                            children: \"Settings\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 4948,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                            className: \"text-sm text-muted-foreground\",\n                                                            children: \"Configure your card creation preferences\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 4949,\n                                                            columnNumber: 21\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 4947,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"flex items-center justify-between\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"space-y-0.5\",\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    className: \"text-sm font-medium\",\n                                                                    children: \"Theme\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 4957,\n                                                                    columnNumber: 23\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    className: \"text-xs text-muted-foreground\",\n                                                                    children: \"Switch between light and dark mode\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 4958,\n                                                                    columnNumber: 23\n                                                                }, this)\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 4956,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_mode_toggle__WEBPACK_IMPORTED_MODULE_16__.ModeToggle, {}, void 0, false, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 4960,\n                                                            columnNumber: 21\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 4955,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_separator__WEBPACK_IMPORTED_MODULE_7__.Separator, {}, void 0, false, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 4963,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"space-y-3\",\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"flex items-center justify-between\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"space-y-0.5\",\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                        className: \"text-sm font-medium\",\n                                                                        children: \"Advanced Options\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                        lineNumber: 4969,\n                                                                        columnNumber: 25\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                        className: \"text-xs text-muted-foreground\",\n                                                                        children: \"Show additional card settings\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                        lineNumber: 4970,\n                                                                        columnNumber: 25\n                                                                    }, this)\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 4968,\n                                                                columnNumber: 23\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                                                variant: \"outline\",\n                                                                size: \"sm\",\n                                                                onClick: ()=>setShowAdvanced(!showAdvanced),\n                                                                className: \"h-8\",\n                                                                children: showAdvanced ? \"Hide\" : \"Show\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 4972,\n                                                                columnNumber: 23\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 4967,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                }, void 0, false, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 4966,\n                                                    columnNumber: 19\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                            lineNumber: 4946,\n                                            columnNumber: 17\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                        lineNumber: 4945,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                lineNumber: 4938,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                        lineNumber: 4912,\n                        columnNumber: 11\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                    lineNumber: 4911,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                lineNumber: 4910,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"container mx-auto px-4 py-6 max-w-2xl\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_5__.Card, {\n                        className: \"shadow-lg mb-6\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_5__.CardHeader, {\n                                className: \"bg-gradient-to-r from-blue-50 to-cyan-50 dark:from-blue-900/20 dark:to-cyan-900/20 rounded-t-lg\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"space-y-3\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex items-center justify-between\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"flex items-center gap-3\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"w-10 h-10 bg-gradient-to-br from-blue-500 to-cyan-600 rounded-lg flex items-center justify-center shadow-lg\",\n                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_38__[\"default\"], {\n                                                                className: \"w-6 h-6 text-white\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 4997,\n                                                                columnNumber: 25\n                                                            }, this)\n                                                        }, void 0, false, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 4996,\n                                                            columnNumber: 23\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_5__.CardTitle, {\n                                                                className: \"text-xl sm:text-2xl font-bold bg-gradient-to-r from-blue-600 to-cyan-600 bg-clip-text text-transparent whitespace-nowrap\",\n                                                                children: \"Create Your Card\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 5000,\n                                                                columnNumber: 25\n                                                            }, this)\n                                                        }, void 0, false, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 4999,\n                                                            columnNumber: 23\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 4995,\n                                                    columnNumber: 21\n                                                }, this),\n                                                (prompt || toField || fromField || generatedCards.length > 0) && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"text-xs text-green-600 dark:text-green-400 flex items-center gap-1\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_40__[\"default\"], {\n                                                            className: \"w-3 h-3\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 5007,\n                                                            columnNumber: 25\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            className: \"hidden sm:inline\",\n                                                            children: \"Auto-saved\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 5008,\n                                                            columnNumber: 25\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            className: \"sm:hidden\",\n                                                            children: \"Saved\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 5009,\n                                                            columnNumber: 25\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 5006,\n                                                    columnNumber: 23\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                            lineNumber: 4994,\n                                            columnNumber: 19\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                            variant: \"outline\",\n                                            size: \"sm\",\n                                            onClick: ()=>{\n                                                setShowTemplateGallery(true);\n                                            },\n                                            className: \"w-full sm:w-auto gap-2 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 border-gray-200 dark:border-gray-700\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_35__[\"default\"], {\n                                                    className: \"w-4 h-4\"\n                                                }, void 0, false, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 5021,\n                                                    columnNumber: 21\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    children: \"Browse Templates\"\n                                                }, void 0, false, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 5022,\n                                                    columnNumber: 21\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                            lineNumber: 5013,\n                                            columnNumber: 19\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                    lineNumber: 4993,\n                                    columnNumber: 17\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                lineNumber: 4992,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_5__.CardContent, {\n                                className: \"space-y-6 pt-6\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"space-y-3\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"flex items-center gap-2\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"w-1.5 h-8 bg-gradient-to-b from-blue-500 to-cyan-500 rounded-full\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 5030,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                        className: \"text-base font-semibold text-gray-800 dark:text-gray-200\",\n                                                        children: \"Card Type\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 5031,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 5029,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_select__WEBPACK_IMPORTED_MODULE_8__.Select, {\n                                                value: selectedType,\n                                                onValueChange: setSelectedType,\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_select__WEBPACK_IMPORTED_MODULE_8__.SelectTrigger, {\n                                                        className: \"h-12 border-2 hover:border-blue-300 dark:hover:border-blue-700 transition-colors\",\n                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_select__WEBPACK_IMPORTED_MODULE_8__.SelectValue, {\n                                                            children: (()=>{\n                                                                const selected = cardTypes.find((type)=>type.id === selectedType);\n                                                                if (!selected) return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                    className: \"text-gray-400\",\n                                                                    children: \"Choose card type\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 5040,\n                                                                    columnNumber: 49\n                                                                }, this);\n                                                                const IconComponent = selected.icon;\n                                                                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    className: \"flex items-center gap-3\",\n                                                                    children: [\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                            className: \"w-6 h-6 bg-gradient-to-br from-blue-100 to-cyan-100 dark:from-blue-900 dark:to-cyan-900 rounded-lg flex items-center justify-center\",\n                                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(IconComponent, {\n                                                                                className: \"w-4 h-4 text-blue-600 dark:text-blue-400\"\n                                                                            }, void 0, false, {\n                                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                lineNumber: 5045,\n                                                                                columnNumber: 33\n                                                                            }, this)\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 5044,\n                                                                            columnNumber: 31\n                                                                        }, this),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                            className: \"font-medium text-gray-900 dark:text-gray-100\",\n                                                                            children: selected.label\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 5047,\n                                                                            columnNumber: 31\n                                                                        }, this)\n                                                                    ]\n                                                                }, void 0, true, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 5043,\n                                                                    columnNumber: 29\n                                                                }, this);\n                                                            })()\n                                                        }, void 0, false, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 5037,\n                                                            columnNumber: 23\n                                                        }, this)\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 5036,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_select__WEBPACK_IMPORTED_MODULE_8__.SelectContent, {\n                                                        className: \"max-h-[400px]\",\n                                                        children: cardTypes.map((type)=>{\n                                                            const IconComponent = type.icon;\n                                                            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_select__WEBPACK_IMPORTED_MODULE_8__.SelectItem, {\n                                                                value: type.id,\n                                                                className: \"cursor-pointer hover:bg-blue-50 dark:hover:bg-blue-900/20\",\n                                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    className: \"flex items-center gap-3 py-1\",\n                                                                    children: [\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                            className: \"w-8 h-8 bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-700 rounded-lg flex items-center justify-center\",\n                                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(IconComponent, {\n                                                                                className: \"w-4 h-4 text-gray-700 dark:text-gray-300\"\n                                                                            }, void 0, false, {\n                                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                lineNumber: 5060,\n                                                                                columnNumber: 33\n                                                                            }, this)\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 5059,\n                                                                            columnNumber: 31\n                                                                        }, this),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                            className: \"flex-1\",\n                                                                            children: [\n                                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                    className: \"font-semibold text-gray-900 dark:text-gray-100\",\n                                                                                    children: type.label\n                                                                                }, void 0, false, {\n                                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                    lineNumber: 5063,\n                                                                                    columnNumber: 33\n                                                                                }, this),\n                                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                    className: \"text-xs text-gray-600 dark:text-gray-400\",\n                                                                                    children: type.description\n                                                                                }, void 0, false, {\n                                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                    lineNumber: 5064,\n                                                                                    columnNumber: 33\n                                                                                }, this)\n                                                                            ]\n                                                                        }, void 0, true, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 5062,\n                                                                            columnNumber: 31\n                                                                        }, this)\n                                                                    ]\n                                                                }, void 0, true, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 5058,\n                                                                    columnNumber: 29\n                                                                }, this)\n                                                            }, type.id, false, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 5057,\n                                                                columnNumber: 27\n                                                            }, this);\n                                                        })\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 5053,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 5035,\n                                                columnNumber: 19\n                                            }, this),\n                                            selectedType === \"custom\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"mt-4 p-4 bg-purple-50 dark:bg-purple-900/20 rounded-lg border border-purple-200 dark:border-purple-800 animate-in slide-in-from-top-2 duration-300\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                        className: \"text-sm font-semibold text-purple-900 dark:text-purple-100 mb-3 block flex items-center gap-2\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_21__[\"default\"], {\n                                                                className: \"w-4 h-4\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 5077,\n                                                                columnNumber: 25\n                                                            }, this),\n                                                            \"Describe Your Custom Card Type\"\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 5076,\n                                                        columnNumber: 23\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_input__WEBPACK_IMPORTED_MODULE_3__.Input, {\n                                                        placeholder: \"✨ E.g., 'Promotion at work', 'Moving away', 'First day of school'\",\n                                                        value: customCardType,\n                                                        onChange: (e)=>setCustomCardType(e.target.value),\n                                                        className: \"h-12 border-2 border-purple-300 dark:border-purple-700 focus:border-purple-500 dark:focus:border-purple-500\",\n                                                        style: {\n                                                            fontSize: \"16px\"\n                                                        }\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 5080,\n                                                        columnNumber: 23\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                        className: \"text-xs text-purple-700 dark:text-purple-300 mt-2\",\n                                                        children: \"What type of card is this? This helps personalize the message and style.\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 5087,\n                                                        columnNumber: 23\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 5075,\n                                                columnNumber: 21\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                        lineNumber: 5028,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                className: \"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block\",\n                                                children: \"Card Tone & Style\"\n                                            }, void 0, false, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 5096,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_select__WEBPACK_IMPORTED_MODULE_8__.Select, {\n                                                value: selectedTone,\n                                                onValueChange: setSelectedTone,\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_select__WEBPACK_IMPORTED_MODULE_8__.SelectTrigger, {\n                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_select__WEBPACK_IMPORTED_MODULE_8__.SelectValue, {\n                                                            children: (()=>{\n                                                                const selected = cardTones.find((tone)=>tone.id === selectedTone);\n                                                                if (!selected) return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                    className: \"text-gray-400\",\n                                                                    children: \"Choose card tone\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 5104,\n                                                                    columnNumber: 45\n                                                                }, this);\n                                                                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    className: \"flex items-center gap-2\",\n                                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                        className: \"font-medium\",\n                                                                        children: selected.label\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                        lineNumber: 5107,\n                                                                        columnNumber: 27\n                                                                    }, this)\n                                                                }, void 0, false, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 5106,\n                                                                    columnNumber: 25\n                                                                }, this);\n                                                            })()\n                                                        }, void 0, false, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 5101,\n                                                            columnNumber: 19\n                                                        }, this)\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 5100,\n                                                        columnNumber: 17\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_select__WEBPACK_IMPORTED_MODULE_8__.SelectContent, {\n                                                        children: cardTones.map((tone)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_select__WEBPACK_IMPORTED_MODULE_8__.SelectItem, {\n                                                                value: tone.id,\n                                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    children: [\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                            className: \"font-medium\",\n                                                                            children: tone.label\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 5117,\n                                                                            columnNumber: 25\n                                                                        }, this),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                            className: \"text-xs text-muted-foreground\",\n                                                                            children: tone.description\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 5118,\n                                                                            columnNumber: 25\n                                                                        }, this)\n                                                                    ]\n                                                                }, void 0, true, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 5116,\n                                                                    columnNumber: 23\n                                                                }, this)\n                                                            }, tone.id, false, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 5115,\n                                                                columnNumber: 21\n                                                            }, this))\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 5113,\n                                                        columnNumber: 17\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 5099,\n                                                columnNumber: 15\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                        lineNumber: 5095,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                className: \"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block\",\n                                                children: \"Artistic Style\"\n                                            }, void 0, false, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 5128,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_select__WEBPACK_IMPORTED_MODULE_8__.Select, {\n                                                value: selectedArtisticStyle,\n                                                onValueChange: setSelectedArtisticStyle,\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_select__WEBPACK_IMPORTED_MODULE_8__.SelectTrigger, {\n                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_select__WEBPACK_IMPORTED_MODULE_8__.SelectValue, {\n                                                            placeholder: \"Choose artistic style\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 5133,\n                                                            columnNumber: 19\n                                                        }, this)\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 5132,\n                                                        columnNumber: 17\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_select__WEBPACK_IMPORTED_MODULE_8__.SelectContent, {\n                                                        children: artisticStyles.map((style)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_select__WEBPACK_IMPORTED_MODULE_8__.SelectItem, {\n                                                                value: style.id,\n                                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    className: \"text-left w-full\",\n                                                                    children: [\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                            className: \"font-medium\",\n                                                                            children: style.label\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 5139,\n                                                                            columnNumber: 25\n                                                                        }, this),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                            className: \"text-xs text-muted-foreground\",\n                                                                            children: style.description\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 5140,\n                                                                            columnNumber: 25\n                                                                        }, this)\n                                                                    ]\n                                                                }, void 0, true, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 5138,\n                                                                    columnNumber: 23\n                                                                }, this)\n                                                            }, style.id, false, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 5137,\n                                                                columnNumber: 21\n                                                            }, this))\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 5135,\n                                                        columnNumber: 17\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 5131,\n                                                columnNumber: 15\n                                            }, this),\n                                            selectedArtisticStyle === \"custom\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"mt-3\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                        className: \"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block\",\n                                                        children: \"Describe Your Custom Style\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 5150,\n                                                        columnNumber: 19\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_textarea__WEBPACK_IMPORTED_MODULE_4__.Textarea, {\n                                                        placeholder: \"e.g., in vintage 1920s art deco style with gold accents and geometric patterns...\",\n                                                        value: customStyleDescription,\n                                                        onChange: (e)=>setCustomStyleDescription(e.target.value),\n                                                        rows: 3,\n                                                        className: \"resize-none\",\n                                                        style: {\n                                                            fontSize: \"16px\"\n                                                        }\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 5153,\n                                                        columnNumber: 19\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                        className: \"text-xs text-gray-500 dark:text-gray-400 mt-1\",\n                                                        children: \"Describe the artistic style you want for your card (colors, techniques, era, mood, etc.)\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 5161,\n                                                        columnNumber: 19\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 5149,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                        lineNumber: 5127,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"grid grid-cols-2 gap-3\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                        className: \"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block\",\n                                                        children: \"To\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 5171,\n                                                        columnNumber: 17\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_input__WEBPACK_IMPORTED_MODULE_3__.Input, {\n                                                        placeholder: \"\\uD83C\\uDFAF To\",\n                                                        value: toField,\n                                                        onChange: (e)=>setToField(e.target.value),\n                                                        style: {\n                                                            fontSize: \"16px\"\n                                                        }\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 5174,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 5170,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                        className: \"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block\",\n                                                        children: \"From\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 5182,\n                                                        columnNumber: 17\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_input__WEBPACK_IMPORTED_MODULE_3__.Input, {\n                                                        placeholder: \"\\uD83D\\uDCDD From\",\n                                                        value: fromField,\n                                                        onChange: (e)=>setFromField(e.target.value),\n                                                        style: {\n                                                            fontSize: \"16px\"\n                                                        }\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 5185,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 5181,\n                                                columnNumber: 19\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                        lineNumber: 5169,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                className: \"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block\",\n                                                children: \"Your Email (Required)\"\n                                            }, void 0, false, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 5196,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_input__WEBPACK_IMPORTED_MODULE_3__.Input, {\n                                                type: \"email\",\n                                                placeholder: \"\\uD83D\\uDCE7 your.email@example.com (we'll send you the card!)\",\n                                                required: true,\n                                                value: userEmail,\n                                                onChange: (e)=>setUserEmail(e.target.value),\n                                                style: {\n                                                    fontSize: \"16px\"\n                                                }\n                                            }, void 0, false, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 5199,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                className: \"text-xs text-gray-500 dark:text-gray-400 mt-1\",\n                                                children: \"Required to generate your card. We'll send you a thank you note when it's ready!\"\n                                            }, void 0, false, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 5207,\n                                                columnNumber: 15\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                        lineNumber: 5195,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"flex items-center justify-between mb-2\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                        className: \"text-sm font-medium text-gray-700 dark:text-gray-300\",\n                                                        children: \"Describe Your Card (Optional)\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 5215,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                                        variant: \"ghost\",\n                                                        size: \"sm\",\n                                                        onClick: ()=>setIsTextareaExpanded(!isTextareaExpanded),\n                                                        className: \"gap-1 text-xs text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300\",\n                                                        children: isTextareaExpanded ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_41__[\"default\"], {\n                                                                    className: \"w-3 h-3\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 5226,\n                                                                    columnNumber: 27\n                                                                }, this),\n                                                                \"Collapse\"\n                                                            ]\n                                                        }, void 0, true) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_41__[\"default\"], {\n                                                                    className: \"w-3 h-3 rotate-180\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 5231,\n                                                                    columnNumber: 27\n                                                                }, this),\n                                                                \"Expand\"\n                                                            ]\n                                                        }, void 0, true)\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 5218,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 5214,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_textarea__WEBPACK_IMPORTED_MODULE_4__.Textarea, {\n                                                placeholder: \"\\uD83D\\uDCA1 Optional: Be specific! E.g., 'Birthday card with cute cats and rainbow colors for my sister who loves anime' (or leave blank for a beautiful default design)\",\n                                                value: prompt,\n                                                onChange: (e)=>setPrompt(e.target.value),\n                                                rows: isTextareaExpanded ? 8 : 5,\n                                                className: isTextareaExpanded ? \"resize-y\" : \"resize-none\",\n                                                style: {\n                                                    fontSize: \"16px\"\n                                                }\n                                            }, void 0, false, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 5237,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                className: \"text-xs text-gray-500 dark:text-gray-400 mt-1\",\n                                                children: [\n                                                    \"\\uD83D\\uDCA1 \",\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                                        children: \"Tip:\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 5246,\n                                                        columnNumber: 20\n                                                    }, this),\n                                                    \" Add details like colors, style, recipient's interests, and specific themes for personalized results, or leave blank for a beautiful default card!\"\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 5245,\n                                                columnNumber: 15\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                        lineNumber: 5213,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"flex items-center justify-between mb-2\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                        className: \"text-sm font-medium text-gray-700 dark:text-gray-300\",\n                                                        children: \"Card Message\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 5253,\n                                                        columnNumber: 17\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"flex items-center gap-2\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                                                variant: \"ghost\",\n                                                                size: \"sm\",\n                                                                onClick: ()=>setIsMessageExpanded(!isMessageExpanded),\n                                                                className: \"gap-1 text-xs text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300\",\n                                                                children: isMessageExpanded ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                                                    children: [\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_41__[\"default\"], {\n                                                                            className: \"w-3 h-3\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 5265,\n                                                                            columnNumber: 25\n                                                                        }, this),\n                                                                        \"Collapse\"\n                                                                    ]\n                                                                }, void 0, true) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                                                    children: [\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_41__[\"default\"], {\n                                                                            className: \"w-3 h-3 rotate-180\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 5270,\n                                                                            columnNumber: 25\n                                                                        }, this),\n                                                                        \"Expand\"\n                                                                    ]\n                                                                }, void 0, true)\n                                                            }, void 0, false, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 5257,\n                                                                columnNumber: 19\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                                                variant: \"ghost\",\n                                                                size: \"sm\",\n                                                                onClick: handleGetMessageHelp,\n                                                                disabled: isGeneratingMessage || isHandwrittenMessage,\n                                                                className: \"gap-1 text-xs\",\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_42__[\"default\"], {\n                                                                        className: \"w-3 h-3\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                        lineNumber: 5282,\n                                                                        columnNumber: 21\n                                                                    }, this),\n                                                                    isGeneratingMessage ? \"Writing...\" : \"Help me write\"\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 5275,\n                                                                columnNumber: 19\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 5256,\n                                                        columnNumber: 17\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 5252,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_textarea__WEBPACK_IMPORTED_MODULE_4__.Textarea, {\n                                                placeholder: isHandwrittenMessage ? \"✍️ Leave blank - you'll handwrite your message\" : \"\\uD83D\\uDC9D Your personal message here... (or click 'Help me write' for AI assistance)\",\n                                                value: finalCardMessage,\n                                                onChange: (e)=>setFinalCardMessage(e.target.value),\n                                                rows: isMessageExpanded ? 8 : 5,\n                                                className: isMessageExpanded ? \"resize-y\" : \"resize-none\",\n                                                style: {\n                                                    fontSize: \"16px\"\n                                                },\n                                                disabled: isHandwrittenMessage\n                                            }, void 0, false, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 5287,\n                                                columnNumber: 19\n                                            }, this),\n                                            finalCardMessage.trim() && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"mt-3 space-y-3\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"space-y-2\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"flex items-center gap-2 flex-wrap\",\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                                                        variant: \"outline\",\n                                                                        size: \"sm\",\n                                                                        onClick: undoMessage,\n                                                                        disabled: currentMessageIndex <= 0,\n                                                                        className: \"gap-1 text-xs flex-shrink-0\",\n                                                                        children: [\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_43__[\"default\"], {\n                                                                                className: \"w-3 h-3\"\n                                                                            }, void 0, false, {\n                                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                lineNumber: 5310,\n                                                                                columnNumber: 29\n                                                                            }, this),\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                className: \"hidden sm:inline\",\n                                                                                children: \"Undo\"\n                                                                            }, void 0, false, {\n                                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                lineNumber: 5311,\n                                                                                columnNumber: 29\n                                                                            }, this)\n                                                                        ]\n                                                                    }, void 0, true, {\n                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                        lineNumber: 5303,\n                                                                        columnNumber: 27\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                                                        variant: \"outline\",\n                                                                        size: \"sm\",\n                                                                        onClick: redoMessage,\n                                                                        disabled: currentMessageIndex >= messageHistory.length - 1,\n                                                                        className: \"gap-1 text-xs flex-shrink-0\",\n                                                                        children: [\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_44__[\"default\"], {\n                                                                                className: \"w-3 h-3\"\n                                                                            }, void 0, false, {\n                                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                lineNumber: 5320,\n                                                                                columnNumber: 29\n                                                                            }, this),\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                className: \"hidden sm:inline\",\n                                                                                children: \"Redo\"\n                                                                            }, void 0, false, {\n                                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                lineNumber: 5321,\n                                                                                columnNumber: 29\n                                                                            }, this)\n                                                                        ]\n                                                                    }, void 0, true, {\n                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                        lineNumber: 5313,\n                                                                        columnNumber: 27\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                                                        variant: \"outline\",\n                                                                        size: \"sm\",\n                                                                        onClick: ()=>setShowRefinementBox(!showRefinementBox),\n                                                                        className: \"gap-1 text-xs flex-shrink-0\",\n                                                                        children: [\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_45__[\"default\"], {\n                                                                                className: \"w-3 h-3\"\n                                                                            }, void 0, false, {\n                                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                lineNumber: 5329,\n                                                                                columnNumber: 29\n                                                                            }, this),\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                className: \"hidden sm:inline\",\n                                                                                children: \"Refine\"\n                                                                            }, void 0, false, {\n                                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                lineNumber: 5330,\n                                                                                columnNumber: 29\n                                                                            }, this),\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                className: \"sm:hidden\",\n                                                                                children: \"Edit\"\n                                                                            }, void 0, false, {\n                                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                lineNumber: 5331,\n                                                                                columnNumber: 29\n                                                                            }, this)\n                                                                        ]\n                                                                    }, void 0, true, {\n                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                        lineNumber: 5323,\n                                                                        columnNumber: 27\n                                                                    }, this)\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 5302,\n                                                                columnNumber: 25\n                                                            }, this),\n                                                            messageHistory.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"text-xs text-gray-500 dark:text-gray-400 text-center sm:text-left truncate\",\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                        className: \"hidden sm:inline\",\n                                                                        children: [\n                                                                            \"Version \",\n                                                                            currentMessageIndex + 1,\n                                                                            \" of \",\n                                                                            messageHistory.length\n                                                                        ]\n                                                                    }, void 0, true, {\n                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                        lineNumber: 5336,\n                                                                        columnNumber: 29\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                        className: \"sm:hidden\",\n                                                                        children: [\n                                                                            currentMessageIndex + 1,\n                                                                            \"/\",\n                                                                            messageHistory.length\n                                                                        ]\n                                                                    }, void 0, true, {\n                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                        lineNumber: 5337,\n                                                                        columnNumber: 29\n                                                                    }, this)\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 5335,\n                                                                columnNumber: 27\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 5301,\n                                                        columnNumber: 23\n                                                    }, this),\n                                                    showRefinementBox && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"border rounded-lg p-3 bg-gray-50 dark:bg-gray-800/50\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                                className: \"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block\",\n                                                                children: \"How would you like to refine this message?\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 5345,\n                                                                columnNumber: 27\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"space-y-2\",\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_input__WEBPACK_IMPORTED_MODULE_3__.Input, {\n                                                                        placeholder: \"\\uD83D\\uDD27 E.g., 'Make it funnier', 'Add mention of their hobby', 'More formal tone'\",\n                                                                        value: refinementPrompt,\n                                                                        onChange: (e)=>setRefinementPrompt(e.target.value),\n                                                                        style: {\n                                                                            fontSize: \"16px\"\n                                                                        },\n                                                                        onKeyDown: (e)=>{\n                                                                            if (e.key === \"Enter\" && !e.shiftKey) {\n                                                                                e.preventDefault();\n                                                                                handleRefineMessage();\n                                                                            }\n                                                                        }\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                        lineNumber: 5349,\n                                                                        columnNumber: 29\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                        className: \"text-xs text-gray-500 dark:text-gray-400\",\n                                                                        children: [\n                                                                            \"\\uD83D\\uDCF1 \",\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                                                                children: \"Quick tips:\"\n                                                                            }, void 0, false, {\n                                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                lineNumber: 5362,\n                                                                                columnNumber: 34\n                                                                            }, this),\n                                                                            ' \"Shorter\", \"Add emoji\", \"More personal\", \"Different tone\" work great!'\n                                                                        ]\n                                                                    }, void 0, true, {\n                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                        lineNumber: 5361,\n                                                                        columnNumber: 29\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                        className: \"flex items-center gap-2\",\n                                                                        children: [\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                                                                size: \"sm\",\n                                                                                onClick: handleRefineMessage,\n                                                                                disabled: isRefiningMessage || !refinementPrompt.trim(),\n                                                                                className: \"gap-1\",\n                                                                                children: [\n                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_45__[\"default\"], {\n                                                                                        className: \"w-3 h-3 \".concat(isRefiningMessage ? \"animate-spin\" : \"\")\n                                                                                    }, void 0, false, {\n                                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                        lineNumber: 5371,\n                                                                                        columnNumber: 33\n                                                                                    }, this),\n                                                                                    isRefiningMessage ? \"Refining...\" : \"Apply Changes\"\n                                                                                ]\n                                                                            }, void 0, true, {\n                                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                lineNumber: 5365,\n                                                                                columnNumber: 31\n                                                                            }, this),\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                                                                variant: \"ghost\",\n                                                                                size: \"sm\",\n                                                                                onClick: ()=>{\n                                                                                    setShowRefinementBox(false);\n                                                                                    setRefinementPrompt(\"\");\n                                                                                },\n                                                                                children: \"Cancel\"\n                                                                            }, void 0, false, {\n                                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                lineNumber: 5374,\n                                                                                columnNumber: 31\n                                                                            }, this)\n                                                                        ]\n                                                                    }, void 0, true, {\n                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                        lineNumber: 5364,\n                                                                        columnNumber: 29\n                                                                    }, this)\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 5348,\n                                                                columnNumber: 27\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 5344,\n                                                        columnNumber: 25\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 5299,\n                                                columnNumber: 21\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"flex items-center space-x-2 mt-2\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                        type: \"checkbox\",\n                                                        id: \"handwritten-message\",\n                                                        checked: isHandwrittenMessage,\n                                                        onChange: (e)=>{\n                                                            setIsHandwrittenMessage(e.target.checked);\n                                                            if (e.target.checked) {\n                                                                setFinalCardMessage(\"\");\n                                                            }\n                                                        },\n                                                        className: \"rounded\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 5393,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                        htmlFor: \"handwritten-message\",\n                                                        className: \"text-sm text-gray-600 dark:text-gray-400\",\n                                                        children: \"Leave blank space for handwritten message\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 5405,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 5392,\n                                                columnNumber: 19\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                        lineNumber: 5251,\n                                        columnNumber: 17\n                                    }, this),\n                                    (selectedImageModel === \"gpt-image-1\" || referenceImageUrls.length > 0) && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                className: \"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block\",\n                                                children: \"Reference Photos (Optional)\"\n                                            }, void 0, false, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 5414,\n                                                columnNumber: 17\n                                            }, this),\n                                            referenceImageUrls.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"mb-3\",\n                                                children: [\n                                                    selectedImageModel !== \"gpt-image-1\" ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"p-3 bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-lg mb-3\",\n                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"flex items-start gap-2\",\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    className: \"w-5 h-5 bg-amber-500 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5\",\n                                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                        className: \"text-white text-xs\",\n                                                                        children: \"!\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                        lineNumber: 5425,\n                                                                        columnNumber: 29\n                                                                    }, this)\n                                                                }, void 0, false, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 5424,\n                                                                    columnNumber: 27\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    className: \"text-sm text-amber-800 dark:text-amber-200\",\n                                                                    children: [\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                            className: \"font-medium mb-1\",\n                                                                            children: \"Reference photos detected but not supported\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 5428,\n                                                                            columnNumber: 29\n                                                                        }, this),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                            className: \"text-xs\",\n                                                                            children: [\n                                                                                \"You have \",\n                                                                                referenceImageUrls.length,\n                                                                                \" reference photo\",\n                                                                                referenceImageUrls.length > 1 ? \"s\" : \"\",\n                                                                                \" from a previous session, but your current model (\",\n                                                                                (_imageModels_find = imageModels.find((m)=>m.id === selectedImageModel)) === null || _imageModels_find === void 0 ? void 0 : _imageModels_find.label,\n                                                                                \") doesn't support reference photos. Switch to GPT Image 1 to use them, or remove them below.\"\n                                                                            ]\n                                                                        }, void 0, true, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 5429,\n                                                                            columnNumber: 29\n                                                                        }, this)\n                                                                    ]\n                                                                }, void 0, true, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 5427,\n                                                                    columnNumber: 27\n                                                                }, this)\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 5423,\n                                                            columnNumber: 25\n                                                        }, this)\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 5422,\n                                                        columnNumber: 23\n                                                    }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"mb-3 p-3 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg\",\n                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"flex items-start gap-2\",\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    className: \"w-5 h-5 bg-green-500 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5\",\n                                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                        className: \"text-white text-xs\",\n                                                                        children: \"✓\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                        lineNumber: 5437,\n                                                                        columnNumber: 29\n                                                                    }, this)\n                                                                }, void 0, false, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 5436,\n                                                                    columnNumber: 27\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    className: \"text-sm text-green-800 dark:text-green-200\",\n                                                                    children: [\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                            className: \"font-medium mb-1\",\n                                                                            children: \"Reference photos ready\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 5440,\n                                                                            columnNumber: 29\n                                                                        }, this),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                            className: \"text-xs\",\n                                                                            children: [\n                                                                                referenceImageUrls.length,\n                                                                                \" reference photo\",\n                                                                                referenceImageUrls.length > 1 ? \"s\" : \"\",\n                                                                                \" will be used to create cartoon characters that look like the people in your photos.\"\n                                                                            ]\n                                                                        }, void 0, true, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 5441,\n                                                                            columnNumber: 29\n                                                                        }, this)\n                                                                    ]\n                                                                }, void 0, true, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 5439,\n                                                                    columnNumber: 27\n                                                                }, this)\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 5435,\n                                                            columnNumber: 25\n                                                        }, this)\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 5434,\n                                                        columnNumber: 23\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"space-y-2 mb-3\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"flex items-center justify-between\",\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                        className: \"text-sm font-medium text-gray-700 dark:text-gray-300\",\n                                                                        children: [\n                                                                            \"\\uD83D\\uDCF8 Your Reference Photos (\",\n                                                                            referenceImageUrls.length,\n                                                                            \")\"\n                                                                        ]\n                                                                    }, void 0, true, {\n                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                        lineNumber: 5450,\n                                                                        columnNumber: 25\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                                                        variant: \"outline\",\n                                                                        size: \"sm\",\n                                                                        onClick: ()=>{\n                                                                            setReferenceImages([]);\n                                                                            setReferenceImageUrls([]);\n                                                                            sonner__WEBPACK_IMPORTED_MODULE_13__.toast.success(\"All reference photos removed!\");\n                                                                        },\n                                                                        className: \"h-7 text-xs gap-1 text-red-600 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-900/20\",\n                                                                        children: [\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_46__[\"default\"], {\n                                                                                className: \"w-3 h-3\"\n                                                                            }, void 0, false, {\n                                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                lineNumber: 5463,\n                                                                                columnNumber: 27\n                                                                            }, this),\n                                                                            \"Remove All\"\n                                                                        ]\n                                                                    }, void 0, true, {\n                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                        lineNumber: 5453,\n                                                                        columnNumber: 25\n                                                                    }, this)\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 5449,\n                                                                columnNumber: 23\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"grid grid-cols-2 gap-2 p-3 bg-gray-50 dark:bg-gray-800 rounded-lg border\",\n                                                                children: referenceImageUrls.map((url, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                        className: \"relative group\",\n                                                                        children: [\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                                                                src: url,\n                                                                                alt: \"Reference photo \".concat(index + 1),\n                                                                                className: \"w-full aspect-square object-cover rounded border\"\n                                                                            }, void 0, false, {\n                                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                lineNumber: 5471,\n                                                                                columnNumber: 29\n                                                                            }, this),\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                                                                variant: \"destructive\",\n                                                                                size: \"sm\",\n                                                                                onClick: ()=>handleRemoveReferenceImage(index),\n                                                                                className: \"absolute top-1 right-1 h-6 w-6 p-0 opacity-0 group-hover:opacity-100 transition-opacity\",\n                                                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_46__[\"default\"], {\n                                                                                    className: \"w-3 h-3\"\n                                                                                }, void 0, false, {\n                                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                    lineNumber: 5482,\n                                                                                    columnNumber: 31\n                                                                                }, this)\n                                                                            }, void 0, false, {\n                                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                lineNumber: 5476,\n                                                                                columnNumber: 29\n                                                                            }, this),\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                className: \"absolute bottom-1 left-1 bg-black/70 text-white text-xs px-1 rounded\",\n                                                                                children: [\n                                                                                    \"Photo \",\n                                                                                    index + 1\n                                                                                ]\n                                                                            }, void 0, true, {\n                                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                lineNumber: 5484,\n                                                                                columnNumber: 29\n                                                                            }, this)\n                                                                        ]\n                                                                    }, index, true, {\n                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                        lineNumber: 5470,\n                                                                        columnNumber: 27\n                                                                    }, this))\n                                                            }, void 0, false, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 5468,\n                                                                columnNumber: 23\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 5448,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 5420,\n                                                columnNumber: 19\n                                            }, this),\n                                            selectedImageModel === \"gpt-image-1\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                        className: \"text-xs text-gray-500 dark:text-gray-400 mb-3\",\n                                                        children: \"Upload photos to create cartoon characters that look like the people in your photos! Perfect for including multiple people - upload one photo of yourself and another of a friend to create cards featuring both of you. (Only available with GPT Image 1 model)\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 5496,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                        className: \"text-xs text-gray-400 dark:text-gray-500 mb-3\",\n                                                        children: \"✨ For your privacy, photos are turned into cartoon/illustrated characters - not realistic depictions\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 5499,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                ]\n                                            }, void 0, true),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"space-y-3\",\n                                                children: [\n                                                    selectedImageModel === \"gpt-image-1\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg p-4 text-center\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                                type: \"file\",\n                                                                accept: \"image/*\",\n                                                                onChange: (e)=>{\n                                                                    var _e_target_files;\n                                                                    return ((_e_target_files = e.target.files) === null || _e_target_files === void 0 ? void 0 : _e_target_files[0]) && handleFileUpload(e.target.files[0], \"reference\");\n                                                                },\n                                                                disabled: isUploading,\n                                                                className: \"hidden\",\n                                                                id: \"reference-upload\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 5508,\n                                                                columnNumber: 21\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                                htmlFor: \"reference-upload\",\n                                                                className: \"cursor-pointer\",\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_47__[\"default\"], {\n                                                                        className: \"w-6 h-6 mx-auto mb-2 text-gray-400\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                        lineNumber: 5517,\n                                                                        columnNumber: 23\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                        className: \"text-sm text-gray-600 dark:text-gray-400\",\n                                                                        children: isUploading ? \"Uploading...\" : \"Upload \".concat(referenceImages.length > 0 ? \"another\" : \"a\", \" photo to create characters\")\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                        lineNumber: 5518,\n                                                                        columnNumber: 23\n                                                                    }, this)\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 5516,\n                                                                columnNumber: 21\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 5507,\n                                                        columnNumber: 19\n                                                    }, this),\n                                                    referenceImages.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"space-y-2\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"flex items-center justify-between\",\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                        className: \"text-xs text-gray-500 dark:text-gray-400\",\n                                                                        children: [\n                                                                            referenceImages.length,\n                                                                            \" photo\",\n                                                                            referenceImages.length > 1 ? \"s\" : \"\",\n                                                                            \" uploaded:\"\n                                                                        ]\n                                                                    }, void 0, true, {\n                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                        lineNumber: 5529,\n                                                                        columnNumber: 23\n                                                                    }, this),\n                                                                    selectedImageModel !== \"gpt-image-1\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                                                        variant: \"outline\",\n                                                                        size: \"sm\",\n                                                                        onClick: ()=>{\n                                                                            setReferenceImages([]);\n                                                                            setReferenceImageUrls([]);\n                                                                            sonner__WEBPACK_IMPORTED_MODULE_13__.toast.success(\"All reference photos removed!\");\n                                                                        },\n                                                                        className: \"h-6 text-xs gap-1 text-red-600 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-900/20\",\n                                                                        children: [\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_46__[\"default\"], {\n                                                                                className: \"w-3 h-3\"\n                                                                            }, void 0, false, {\n                                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                lineNumber: 5543,\n                                                                                columnNumber: 27\n                                                                            }, this),\n                                                                            \"Clear All\"\n                                                                        ]\n                                                                    }, void 0, true, {\n                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                        lineNumber: 5533,\n                                                                        columnNumber: 25\n                                                                    }, this)\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 5528,\n                                                                columnNumber: 21\n                                                            }, this),\n                                                            referenceImages.map((image, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    className: \"flex items-center justify-between p-3 bg-purple-50 dark:bg-purple-900/20 rounded-lg\",\n                                                                    children: [\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                            className: \"flex items-center gap-2\",\n                                                                            children: [\n                                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_47__[\"default\"], {\n                                                                                    className: \"w-4 h-4 text-purple-600\"\n                                                                                }, void 0, false, {\n                                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                    lineNumber: 5551,\n                                                                                    columnNumber: 27\n                                                                                }, this),\n                                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                    className: \"text-sm text-purple-800 dark:text-purple-200\",\n                                                                                    children: image.name\n                                                                                }, void 0, false, {\n                                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                    lineNumber: 5552,\n                                                                                    columnNumber: 27\n                                                                                }, this)\n                                                                            ]\n                                                                        }, void 0, true, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 5550,\n                                                                            columnNumber: 25\n                                                                        }, this),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                                                            variant: \"ghost\",\n                                                                            size: \"sm\",\n                                                                            onClick: ()=>handleRemoveReferenceImage(index),\n                                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_46__[\"default\"], {\n                                                                                className: \"w-4 h-4\"\n                                                                            }, void 0, false, {\n                                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                lineNumber: 5559,\n                                                                                columnNumber: 27\n                                                                            }, this)\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 5554,\n                                                                            columnNumber: 25\n                                                                        }, this)\n                                                                    ]\n                                                                }, index, true, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 5549,\n                                                                    columnNumber: 23\n                                                                }, this))\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 5527,\n                                                        columnNumber: 19\n                                                    }, this),\n                                                    referenceImages.length > 0 && selectedImageModel === \"gpt-image-1\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_textarea__WEBPACK_IMPORTED_MODULE_4__.Textarea, {\n                                                                placeholder: \"Character style instructions (optional): e.g., 'Make us look like anime characters', 'Keep our exact outfits and accessories but in watercolor style', or 'Show both people together in the same scene'\",\n                                                                value: imageTransformation,\n                                                                onChange: (e)=>setImageTransformation(e.target.value),\n                                                                rows: 3,\n                                                                className: \"resize-none\",\n                                                                style: {\n                                                                    fontSize: \"16px\"\n                                                                }\n                                                            }, void 0, false, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 5569,\n                                                                columnNumber: 21\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                className: \"text-xs text-gray-500 dark:text-gray-400 mt-1\",\n                                                                children: [\n                                                                    \"\\uD83D\\uDCA1 \",\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                                                        children: \"Tip:\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                        lineNumber: 5578,\n                                                                        columnNumber: 26\n                                                                    }, this),\n                                                                    ' Leave blank to keep exact clothing & accessories, or specify style changes like \"anime style\" or \"vintage cartoon look\"'\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 5577,\n                                                                columnNumber: 21\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 5568,\n                                                        columnNumber: 19\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 5504,\n                                                columnNumber: 15\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                        lineNumber: 5413,\n                                        columnNumber: 15\n                                    }, this),\n                                    showAdvanced && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"space-y-4 p-4 border rounded-lg bg-gray-50 dark:bg-gray-800/50\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"flex items-center gap-2 mb-4\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_48__[\"default\"], {\n                                                        className: \"w-4 h-4\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 5590,\n                                                        columnNumber: 19\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        className: \"text-sm font-medium text-gray-700 dark:text-gray-300\",\n                                                        children: \"Advanced Options\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 5591,\n                                                        columnNumber: 19\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 5589,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                        className: \"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block\",\n                                                        children: \"Image Generation Model\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 5596,\n                                                        columnNumber: 19\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_select__WEBPACK_IMPORTED_MODULE_8__.Select, {\n                                                        value: selectedImageModel,\n                                                        onValueChange: setSelectedImageModel,\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_select__WEBPACK_IMPORTED_MODULE_8__.SelectTrigger, {\n                                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_select__WEBPACK_IMPORTED_MODULE_8__.SelectValue, {\n                                                                    placeholder: \"Choose image model\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 5601,\n                                                                    columnNumber: 23\n                                                                }, this)\n                                                            }, void 0, false, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 5600,\n                                                                columnNumber: 21\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_select__WEBPACK_IMPORTED_MODULE_8__.SelectContent, {\n                                                                children: imageModels.map((model)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_select__WEBPACK_IMPORTED_MODULE_8__.SelectItem, {\n                                                                        value: model.id,\n                                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                            children: [\n                                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                    className: \"font-medium\",\n                                                                                    children: model.label\n                                                                                }, void 0, false, {\n                                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                    lineNumber: 5607,\n                                                                                    columnNumber: 29\n                                                                                }, this),\n                                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                    className: \"text-xs text-muted-foreground\",\n                                                                                    children: model.description\n                                                                                }, void 0, false, {\n                                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                    lineNumber: 5608,\n                                                                                    columnNumber: 29\n                                                                                }, this)\n                                                                            ]\n                                                                        }, void 0, true, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 5606,\n                                                                            columnNumber: 27\n                                                                        }, this)\n                                                                    }, model.id, false, {\n                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                        lineNumber: 5605,\n                                                                        columnNumber: 25\n                                                                    }, this))\n                                                            }, void 0, false, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 5603,\n                                                                columnNumber: 21\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 5599,\n                                                        columnNumber: 19\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 5595,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                        className: \"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block\",\n                                                        children: \"Draft Mode Model\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 5618,\n                                                        columnNumber: 20\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_select__WEBPACK_IMPORTED_MODULE_8__.Select, {\n                                                        value: selectedDraftModel,\n                                                        onValueChange: setSelectedDraftModel,\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_select__WEBPACK_IMPORTED_MODULE_8__.SelectTrigger, {\n                                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_select__WEBPACK_IMPORTED_MODULE_8__.SelectValue, {\n                                                                    placeholder: \"Choose draft model\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 5623,\n                                                                    columnNumber: 24\n                                                                }, this)\n                                                            }, void 0, false, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 5622,\n                                                                columnNumber: 22\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_select__WEBPACK_IMPORTED_MODULE_8__.SelectContent, {\n                                                                children: imageModels.map((model)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_select__WEBPACK_IMPORTED_MODULE_8__.SelectItem, {\n                                                                        value: model.id,\n                                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                            children: [\n                                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                    className: \"font-medium\",\n                                                                                    children: model.label\n                                                                                }, void 0, false, {\n                                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                    lineNumber: 5629,\n                                                                                    columnNumber: 30\n                                                                                }, this),\n                                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                    className: \"text-xs text-muted-foreground\",\n                                                                                    children: model.description\n                                                                                }, void 0, false, {\n                                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                    lineNumber: 5630,\n                                                                                    columnNumber: 30\n                                                                                }, this)\n                                                                            ]\n                                                                        }, void 0, true, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 5628,\n                                                                            columnNumber: 28\n                                                                        }, this)\n                                                                    }, model.id, false, {\n                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                        lineNumber: 5627,\n                                                                        columnNumber: 26\n                                                                    }, this))\n                                                            }, void 0, false, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 5625,\n                                                                columnNumber: 22\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 5621,\n                                                        columnNumber: 20\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                        className: \"text-xs text-gray-500 dark:text-gray-400 mt-1\",\n                                                        children: \"Model used for draft variations. Consider faster models like FLUX 1.1 Pro for quicker previews.\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 5636,\n                                                        columnNumber: 20\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 5617,\n                                                columnNumber: 18\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                        className: \"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block\",\n                                                        children: \"Paper Size\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 5643,\n                                                        columnNumber: 19\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_select__WEBPACK_IMPORTED_MODULE_8__.Select, {\n                                                        value: selectedPaperSize,\n                                                        onValueChange: setSelectedPaperSize,\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_select__WEBPACK_IMPORTED_MODULE_8__.SelectTrigger, {\n                                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_select__WEBPACK_IMPORTED_MODULE_8__.SelectValue, {\n                                                                    placeholder: \"Choose paper size\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 5648,\n                                                                    columnNumber: 23\n                                                                }, this)\n                                                            }, void 0, false, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 5647,\n                                                                columnNumber: 21\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_select__WEBPACK_IMPORTED_MODULE_8__.SelectContent, {\n                                                                children: paperSizes.map((size)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_select__WEBPACK_IMPORTED_MODULE_8__.SelectItem, {\n                                                                        value: size.id,\n                                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                            children: [\n                                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                    className: \"font-medium\",\n                                                                                    children: size.label\n                                                                                }, void 0, false, {\n                                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                    lineNumber: 5654,\n                                                                                    columnNumber: 29\n                                                                                }, this),\n                                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                    className: \"text-xs text-muted-foreground\",\n                                                                                    children: size.description\n                                                                                }, void 0, false, {\n                                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                    lineNumber: 5655,\n                                                                                    columnNumber: 29\n                                                                                }, this)\n                                                                            ]\n                                                                        }, void 0, true, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 5653,\n                                                                            columnNumber: 27\n                                                                        }, this)\n                                                                    }, size.id, false, {\n                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                        lineNumber: 5652,\n                                                                        columnNumber: 25\n                                                                    }, this))\n                                                            }, void 0, false, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 5650,\n                                                                columnNumber: 21\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 5646,\n                                                        columnNumber: 19\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 5642,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                        className: \"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block\",\n                                                        children: \"Number of Cards to Generate\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 5665,\n                                                        columnNumber: 19\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_select__WEBPACK_IMPORTED_MODULE_8__.Select, {\n                                                        value: numberOfCards.toString(),\n                                                        onValueChange: (value)=>setNumberOfCards(parseInt(value)),\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_select__WEBPACK_IMPORTED_MODULE_8__.SelectTrigger, {\n                                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_select__WEBPACK_IMPORTED_MODULE_8__.SelectValue, {\n                                                                    placeholder: \"Choose number of cards\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 5670,\n                                                                    columnNumber: 23\n                                                                }, this)\n                                                            }, void 0, false, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 5669,\n                                                                columnNumber: 21\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_select__WEBPACK_IMPORTED_MODULE_8__.SelectContent, {\n                                                                children: [\n                                                                    1,\n                                                                    2,\n                                                                    3,\n                                                                    4,\n                                                                    5\n                                                                ].map((num)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_select__WEBPACK_IMPORTED_MODULE_8__.SelectItem, {\n                                                                        value: num.toString(),\n                                                                        children: [\n                                                                            num,\n                                                                            \" Card\",\n                                                                            num > 1 ? \"s\" : \"\"\n                                                                        ]\n                                                                    }, num, true, {\n                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                        lineNumber: 5674,\n                                                                        columnNumber: 25\n                                                                    }, this))\n                                                            }, void 0, false, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 5672,\n                                                                columnNumber: 21\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 5668,\n                                                        columnNumber: 19\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                        className: \"text-xs text-gray-500 dark:text-gray-400 mt-1\",\n                                                        children: \"Generate multiple card variations to choose from\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 5680,\n                                                        columnNumber: 19\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 5664,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"space-y-3\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"flex items-center space-x-2\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                                type: \"checkbox\",\n                                                                id: \"front-back-only\",\n                                                                checked: isFrontBackOnly,\n                                                                onChange: (e)=>setIsFrontBackOnly(e.target.checked),\n                                                                className: \"rounded\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 5688,\n                                                                columnNumber: 21\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                                htmlFor: \"front-back-only\",\n                                                                className: \"text-sm text-gray-700 dark:text-gray-300\",\n                                                                children: \"Front and back only (no interior pages)\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 5695,\n                                                                columnNumber: 21\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 5687,\n                                                        columnNumber: 19\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                        className: \"text-xs text-gray-500 dark:text-gray-400\",\n                                                        children: \"Perfect for postcards or simple greeting cards\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 5699,\n                                                        columnNumber: 19\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 5686,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                        className: \"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block\",\n                                                        children: \"Data Management\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 5706,\n                                                        columnNumber: 19\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                                        variant: \"outline\",\n                                                        size: \"sm\",\n                                                        onClick: clearSavedData,\n                                                        className: \"w-full gap-2 text-red-600 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-900/20\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_46__[\"default\"], {\n                                                                className: \"w-4 h-4\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 5715,\n                                                                columnNumber: 21\n                                                            }, this),\n                                                            \"Clear Saved Data\"\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 5709,\n                                                        columnNumber: 19\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                        className: \"text-xs text-gray-500 dark:text-gray-400 mt-1\",\n                                                        children: \"Remove all saved form data and generated cards from your browser\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 5718,\n                                                        columnNumber: 19\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 5705,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                        lineNumber: 5588,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_collapsible__WEBPACK_IMPORTED_MODULE_9__.Collapsible, {\n                                        className: \"space-y-2\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_collapsible__WEBPACK_IMPORTED_MODULE_9__.CollapsibleTrigger, {\n                                                asChild: true,\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                                    variant: \"ghost\",\n                                                    className: \"w-full justify-between text-xs text-gray-500 dark:text-gray-400 h-8\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            children: \"Privacy & Terms\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 5729,\n                                                            columnNumber: 23\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_41__[\"default\"], {\n                                                            className: \"h-3 w-3\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 5730,\n                                                            columnNumber: 23\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 5728,\n                                                    columnNumber: 21\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 5727,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_collapsible__WEBPACK_IMPORTED_MODULE_9__.CollapsibleContent, {\n                                                className: \"space-y-3\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"text-xs text-gray-600 dark:text-gray-300 space-y-3 p-4 border rounded-lg bg-gray-50 dark:bg-gray-800/50\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h4\", {\n                                                                    className: \"font-semibold mb-2 text-gray-800 dark:text-gray-200\",\n                                                                    children: \"Privacy Policy\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 5737,\n                                                                    columnNumber: 25\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"ul\", {\n                                                                    className: \"space-y-1 text-gray-600 dark:text-gray-400\",\n                                                                    children: [\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                                                            children: \"• We collect your email address and card content to provide our service\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 5739,\n                                                                            columnNumber: 27\n                                                                        }, this),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                                                            children: \"• Images and messages are processed using third-party AI services\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 5740,\n                                                                            columnNumber: 27\n                                                                        }, this),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                                                            children: \"• Cards are stored temporarily for delivery and may be cached for performance\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 5741,\n                                                                            columnNumber: 27\n                                                                        }, this),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                                                            children: \"• We do not sell, share, or use your personal data for marketing purposes\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 5742,\n                                                                            columnNumber: 27\n                                                                        }, this),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                                                            children: \"• Your email is only used for card delivery and service communications\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 5743,\n                                                                            columnNumber: 27\n                                                                        }, this)\n                                                                    ]\n                                                                }, void 0, true, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 5738,\n                                                                    columnNumber: 25\n                                                                }, this)\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 5736,\n                                                            columnNumber: 23\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h4\", {\n                                                                    className: \"font-semibold mb-2 text-gray-800 dark:text-gray-200\",\n                                                                    children: \"Terms of Service\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 5748,\n                                                                    columnNumber: 25\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"ul\", {\n                                                                    className: \"space-y-1 text-gray-600 dark:text-gray-400\",\n                                                                    children: [\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                                                            children: \"• You must be 13+ years old to use this service\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 5750,\n                                                                            columnNumber: 27\n                                                                        }, this),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                                                            children: \"• You are responsible for the content you submit\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 5751,\n                                                                            columnNumber: 27\n                                                                        }, this),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                                                            children: '• Service is provided \"as-is\" without warranties'\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 5752,\n                                                                            columnNumber: 27\n                                                                        }, this),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                                                            children: \"• We reserve the right to refuse service for policy violations\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 5753,\n                                                                            columnNumber: 27\n                                                                        }, this),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                                                            children: \"• These terms may be updated with notice on our website\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 5754,\n                                                                            columnNumber: 27\n                                                                        }, this)\n                                                                    ]\n                                                                }, void 0, true, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 5749,\n                                                                    columnNumber: 25\n                                                                }, this)\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 5747,\n                                                            columnNumber: 23\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h4\", {\n                                                                    className: \"font-semibold mb-2 text-gray-800 dark:text-gray-200\",\n                                                                    children: \"Content Policy\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 5759,\n                                                                    columnNumber: 25\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"ul\", {\n                                                                    className: \"space-y-1 text-gray-600 dark:text-gray-400\",\n                                                                    children: [\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                                                            children: \"• All content must be family-friendly and appropriate for all audiences\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 5761,\n                                                                            columnNumber: 27\n                                                                        }, this),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                                                            children: \"• No copyrighted characters, logos, or trademarked content\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 5762,\n                                                                            columnNumber: 27\n                                                                        }, this),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                                                            children: \"• No hate speech, harassment, or discriminatory content\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 5763,\n                                                                            columnNumber: 27\n                                                                        }, this),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                                                            children: \"• No illegal, harmful, or explicit material\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 5764,\n                                                                            columnNumber: 27\n                                                                        }, this),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                                                            children: \"• Content may be filtered to ensure compliance with these guidelines\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 5765,\n                                                                            columnNumber: 27\n                                                                        }, this)\n                                                                    ]\n                                                                }, void 0, true, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 5760,\n                                                                    columnNumber: 25\n                                                                }, this)\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 5758,\n                                                            columnNumber: 23\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h4\", {\n                                                                    className: \"font-semibold mb-2 text-gray-800 dark:text-gray-200\",\n                                                                    children: \"Intellectual Property\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 5770,\n                                                                    columnNumber: 25\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"ul\", {\n                                                                    className: \"space-y-1 text-gray-600 dark:text-gray-400\",\n                                                                    children: [\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                                                            children: \"• You retain rights to your original content and ideas\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 5772,\n                                                                            columnNumber: 27\n                                                                        }, this),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                                                            children: \"• Generated images are created using AI and may not be copyrightable\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 5773,\n                                                                            columnNumber: 27\n                                                                        }, this),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                                                            children: \"• You grant us license to process and deliver your cards\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 5774,\n                                                                            columnNumber: 27\n                                                                        }, this),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                                                            children: \"• Respect third-party intellectual property rights\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 5775,\n                                                                            columnNumber: 27\n                                                                        }, this)\n                                                                    ]\n                                                                }, void 0, true, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 5771,\n                                                                    columnNumber: 25\n                                                                }, this)\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 5769,\n                                                            columnNumber: 23\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"pt-2 border-t border-gray-200 dark:border-gray-700\",\n                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                className: \"text-center text-gray-500 dark:text-gray-400\",\n                                                                children: [\n                                                                    \"By creating a card, you agree to these terms and policies.\",\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"br\", {}, void 0, false, {\n                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                        lineNumber: 5782,\n                                                                        columnNumber: 27\n                                                                    }, this),\n                                                                    \"Last updated: \",\n                                                                    new Date().toLocaleDateString()\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 5780,\n                                                                columnNumber: 25\n                                                            }, this)\n                                                        }, void 0, false, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 5779,\n                                                            columnNumber: 23\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 5734,\n                                                    columnNumber: 21\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 5733,\n                                                columnNumber: 19\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                        lineNumber: 5726,\n                                        columnNumber: 17\n                                    }, this),\n                                    (isGenerating || isGeneratingMessage) && !isGeneratingFinalCard && !(isDraftMode && draftCards.length > 0) && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"mb-4 p-4 bg-gradient-to-r from-blue-50 to-cyan-50 dark:from-blue-900/30 dark:to-cyan-900/30 rounded-lg border border-blue-200 dark:border-blue-800\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"space-y-3\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"flex items-center gap-2\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"w-4 h-4 border-2 border-blue-500 border-t-transparent rounded-full animate-spin\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 5795,\n                                                            columnNumber: 25\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            className: \"text-sm font-medium text-blue-600 dark:text-blue-400\",\n                                                            children: generationProgress || \"Generating your card...\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 5796,\n                                                            columnNumber: 25\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 5794,\n                                                    columnNumber: 23\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-3\",\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"bg-gradient-to-r from-blue-500 to-cyan-500 h-3 rounded-full transition-all duration-1000 ease-out\",\n                                                        style: {\n                                                            width: \"\".concat(Math.min(progressPercentage, 100), \"%\")\n                                                        }\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 5803,\n                                                        columnNumber: 25\n                                                    }, this)\n                                                }, void 0, false, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 5802,\n                                                    columnNumber: 23\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"flex items-center justify-between text-xs text-gray-600 dark:text-gray-400\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            className: \"font-medium\",\n                                                            children: [\n                                                                Math.round(progressPercentage),\n                                                                \"% Complete\"\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 5811,\n                                                            columnNumber: 25\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"flex items-center gap-3\",\n                                                            children: [\n                                                                currentElapsedTime > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                    className: \"text-blue-600 dark:text-blue-400\",\n                                                                    children: [\n                                                                        \"⏱️ \",\n                                                                        formatGenerationTime(currentElapsedTime)\n                                                                    ]\n                                                                }, void 0, true, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 5816,\n                                                                    columnNumber: 29\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                    className: \"text-gray-500\",\n                                                                    children: isDraftMode && !isGeneratingFinalCard ? \"~30-60 sec expected\" : \"~1:30-2:00 min expected\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 5820,\n                                                                    columnNumber: 27\n                                                                }, this)\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 5814,\n                                                            columnNumber: 25\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 5810,\n                                                    columnNumber: 23\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                            lineNumber: 5792,\n                                            columnNumber: 21\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                        lineNumber: 5791,\n                                        columnNumber: 19\n                                    }, this),\n                                    !isDraftMode && draftCards.length === 0 && !isGeneratingFinalCard && !isGenerating ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"space-y-3\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"bg-purple-50 dark:bg-purple-900/20 rounded-lg p-3 border border-purple-200 dark:border-purple-800\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"flex items-start gap-2\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_49__[\"default\"], {\n                                                            className: \"w-4 h-4 text-purple-600 mt-0.5 flex-shrink-0\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 5835,\n                                                            columnNumber: 25\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"text-sm\",\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                    className: \"font-medium text-purple-900 dark:text-purple-100\",\n                                                                    children: \"\\uD83C\\uDFA8 Draft Mode (Recommended)\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 5837,\n                                                                    columnNumber: 27\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                    className: \"text-purple-700 dark:text-purple-300 text-xs mt-1\",\n                                                                    children: [\n                                                                        \"Generate 5 different front cover designs quickly with low quality, then pick your favorite for complete high-quality card generation.\",\n                                                                        selectedArtisticStyle === \"ai-smart-style\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                            className: \"font-medium\",\n                                                                            children: \" With Smart Style, you'll see your card in 5 of our curated artistic styles!\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 5843,\n                                                                            columnNumber: 29\n                                                                        }, this)\n                                                                    ]\n                                                                }, void 0, true, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 5840,\n                                                                    columnNumber: 51\n                                                                }, this)\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 5836,\n                                                            columnNumber: 25\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 5834,\n                                                    columnNumber: 23\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 5833,\n                                                columnNumber: 21\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                                onClick: handleGenerateDraftCards,\n                                                disabled: isGenerating || isGeneratingMessage || !userEmail.trim(),\n                                                className: \"w-full h-12 transition-all duration-300 bg-gradient-to-r from-purple-500 to-pink-600 hover:from-purple-600 hover:to-pink-700\",\n                                                size: \"lg\",\n                                                children: isGenerating || isGeneratingMessage ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 5859,\n                                                            columnNumber: 27\n                                                        }, this),\n                                                        isGeneratingMessage ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            children: \"Writing your message...\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 5861,\n                                                            columnNumber: 29\n                                                        }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            children: \"Creating 10 design options...\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 5863,\n                                                            columnNumber: 29\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_49__[\"default\"], {\n                                                            className: \"w-5 h-5 mr-2\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 5868,\n                                                            columnNumber: 25\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            children: \"Create 5 Front Cover Options\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 5869,\n                                                            columnNumber: 25\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true)\n                                            }, void 0, false, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 5851,\n                                                columnNumber: 21\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"text-center text-xs text-gray-500 dark:text-gray-400\",\n                                                children: \"or\"\n                                            }, void 0, false, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 5874,\n                                                columnNumber: 21\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                                onClick: handleGenerateCardAsync,\n                                                disabled: isGenerating || isGeneratingMessage || !userEmail.trim(),\n                                                variant: \"outline\",\n                                                className: \"w-full h-10 transition-all duration-300 border-blue-300 hover:border-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/20\",\n                                                size: \"lg\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_38__[\"default\"], {\n                                                        className: \"w-4 h-4 mr-2\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 5886,\n                                                        columnNumber: 23\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        children: \"Direct Generation\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 5887,\n                                                        columnNumber: 23\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 5879,\n                                                columnNumber: 21\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                        lineNumber: 5831,\n                                        columnNumber: 19\n                                    }, this) : isGeneratingFinalCard ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"space-y-4\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                                disabled: true,\n                                                className: \"w-full h-12 transition-all duration-300 bg-gradient-to-r from-blue-500 to-cyan-600\",\n                                                size: \"lg\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 5897,\n                                                        columnNumber: 23\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        children: \"Creating high-quality version...\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 5898,\n                                                        columnNumber: 23\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 5892,\n                                                columnNumber: 21\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"p-4 bg-gradient-to-r from-blue-50 to-cyan-50 dark:from-blue-900/30 dark:to-cyan-900/30 rounded-lg border border-blue-200 dark:border-blue-800\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"space-y-3\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"flex items-center gap-2\",\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    className: \"w-4 h-4 border-2 border-blue-500 border-t-transparent rounded-full animate-spin\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 5906,\n                                                                    columnNumber: 27\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                    className: \"text-sm font-medium text-blue-600 dark:text-blue-400\",\n                                                                    children: generationProgress || \"Generating high-quality version of your selected design...\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 5907,\n                                                                    columnNumber: 27\n                                                                }, this)\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 5905,\n                                                            columnNumber: 25\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-3\",\n                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"bg-gradient-to-r from-blue-500 to-cyan-500 h-3 rounded-full transition-all duration-1000 ease-out\",\n                                                                style: {\n                                                                    width: \"\".concat(Math.min(progressPercentage, 100), \"%\")\n                                                                }\n                                                            }, void 0, false, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 5914,\n                                                                columnNumber: 27\n                                                            }, this)\n                                                        }, void 0, false, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 5913,\n                                                            columnNumber: 25\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"flex items-center justify-between text-xs text-gray-600 dark:text-gray-400\",\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                    className: \"font-medium\",\n                                                                    children: [\n                                                                        Math.round(progressPercentage),\n                                                                        \"% Complete\"\n                                                                    ]\n                                                                }, void 0, true, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 5922,\n                                                                    columnNumber: 27\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    className: \"flex items-center gap-3\",\n                                                                    children: [\n                                                                        currentElapsedTime > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                            className: \"text-blue-600 dark:text-blue-400\",\n                                                                            children: [\n                                                                                \"⏱️ \",\n                                                                                formatGenerationTime(currentElapsedTime)\n                                                                            ]\n                                                                        }, void 0, true, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 5927,\n                                                                            columnNumber: 31\n                                                                        }, this),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                            className: \"text-gray-500\",\n                                                                            children: isDraftMode && !isGeneratingFinalCard ? \"~30-60 sec expected\" : \"~1:30-2:00 min expected\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 5931,\n                                                                            columnNumber: 29\n                                                                        }, this)\n                                                                    ]\n                                                                }, void 0, true, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 5925,\n                                                                    columnNumber: 27\n                                                                }, this)\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 5921,\n                                                            columnNumber: 25\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 5903,\n                                                    columnNumber: 23\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 5902,\n                                                columnNumber: 21\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                        lineNumber: 5891,\n                                        columnNumber: 19\n                                    }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                        onClick: handleGenerateCardAsync,\n                                        disabled: isGenerating || isGeneratingMessage || !userEmail.trim(),\n                                        className: \"w-full h-12 transition-all duration-300 \".concat(isCardCompleted ? \"bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700\" : \"bg-gradient-to-r from-blue-500 to-cyan-600 hover:from-blue-600 hover:to-cyan-700\"),\n                                        size: \"lg\",\n                                        children: isGenerating || isGeneratingMessage ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2\"\n                                                }, void 0, false, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 5952,\n                                                    columnNumber: 23\n                                                }, this),\n                                                isGeneratingMessage ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    children: \"Writing your message...\"\n                                                }, void 0, false, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 5954,\n                                                    columnNumber: 25\n                                                }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    children: \"Creating your card...\"\n                                                }, void 0, false, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 5956,\n                                                    columnNumber: 25\n                                                }, this)\n                                            ]\n                                        }, void 0, true) : isCardCompleted ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex items-center justify-center w-full\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"w-5 h-5 mr-2 text-white\",\n                                                    children: \"✅\"\n                                                }, void 0, false, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 5961,\n                                                    columnNumber: 23\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    children: \"Card Completed!\"\n                                                }, void 0, false, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 5962,\n                                                    columnNumber: 23\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                            lineNumber: 5960,\n                                            columnNumber: 21\n                                        }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_38__[\"default\"], {\n                                                    className: \"w-5 h-5 mr-2\"\n                                                }, void 0, false, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 5966,\n                                                    columnNumber: 23\n                                                }, this),\n                                                numberOfCards > 1 ? \"Create \".concat(numberOfCards, \" Cards\") : \"Create Card\"\n                                            ]\n                                        }, void 0, true)\n                                    }, void 0, false, {\n                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                        lineNumber: 5940,\n                                        columnNumber: 17\n                                    }, this),\n                                    isCardCompleted && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"mt-4 grid grid-cols-2 gap-3\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                                onClick: handleRegenerateCard,\n                                                variant: \"outline\",\n                                                className: \"flex items-center gap-2 border-blue-200 hover:border-blue-300 hover:bg-blue-50 dark:border-blue-800 dark:hover:border-blue-700 dark:hover:bg-blue-900/20\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_45__[\"default\"], {\n                                                        className: \"w-4 h-4\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 5981,\n                                                        columnNumber: 23\n                                                    }, this),\n                                                    \"Regenerate Same\"\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 5976,\n                                                columnNumber: 21\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                                onClick: handleCreateNewCard,\n                                                variant: \"outline\",\n                                                className: \"flex items-center gap-2 border-green-200 hover:border-green-300 hover:bg-green-50 dark:border-green-800 dark:hover:border-green-700 dark:hover:bg-green-900/20\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_38__[\"default\"], {\n                                                        className: \"w-4 h-4\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 5989,\n                                                        columnNumber: 23\n                                                    }, this),\n                                                    \"Create New Card\"\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 5984,\n                                                columnNumber: 21\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                        lineNumber: 5975,\n                                        columnNumber: 19\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                lineNumber: 5026,\n                                columnNumber: 15\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                        lineNumber: 4991,\n                        columnNumber: 9\n                    }, this),\n                    isDraftMode && draftCards.length > 0 && !isGeneratingFinalCard && !generatedCard && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_5__.Card, {\n                        className: \"shadow-lg\",\n                        \"data-card-preview\": true,\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_5__.CardHeader, {\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_5__.CardTitle, {\n                                        className: \"flex items-center gap-2\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_49__[\"default\"], {\n                                                className: \"w-5 h-5 text-purple-600\"\n                                            }, void 0, false, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 6002,\n                                                columnNumber: 17\n                                            }, this),\n                                            \"Choose Your Favorite Design\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                        lineNumber: 6001,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_5__.CardDescription, {\n                                        children: \"5 front cover variations created with low quality for fast preview. Select your favorite to generate the complete high-quality card!\"\n                                    }, void 0, false, {\n                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                        lineNumber: 6005,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                lineNumber: 6000,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_5__.CardContent, {\n                                className: \"space-y-4\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"w-full\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"flex overflow-x-auto gap-3 pb-4 -mx-4 px-4 snap-x snap-mandatory\",\n                                                children: Array.from({\n                                                    length: 5\n                                                }, (_, displayIndex)=>{\n                                                    const card = draftCards[displayIndex];\n                                                    const originalIndex = draftIndexMapping[displayIndex];\n                                                    const isLoading = displayIndex >= draftCards.length;\n                                                    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"flex-shrink-0 w-48 sm:w-56 snap-center rounded-lg border-2 p-2 sm:p-3 transition-all \".concat(selectedDraftIndex === displayIndex ? \"border-purple-500 bg-purple-50 dark:bg-purple-900/20 shadow-lg\" : card ? \"border-gray-200 dark:border-gray-700 hover:border-purple-300 hover:bg-purple-50/50 dark:hover:bg-purple-900/10\" : \"border-dashed border-gray-300 dark:border-gray-600\"),\n                                                        onClick: ()=>card && setSelectedDraftIndex(displayIndex),\n                                                        children: card ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    className: \"aspect-[2/3] relative overflow-hidden rounded border mb-2 sm:mb-3\",\n                                                                    children: [\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                                                            src: card.frontCover,\n                                                                            alt: \"Design \".concat(originalIndex + 1),\n                                                                            className: \"w-full h-full object-cover\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 6034,\n                                                                            columnNumber: 29\n                                                                        }, this),\n                                                                        selectedDraftIndex === displayIndex && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                            className: \"absolute inset-0 bg-purple-600/20 flex items-center justify-center\",\n                                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                className: \"bg-white rounded-full p-2\",\n                                                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_50__[\"default\"], {\n                                                                                    className: \"w-6 h-6 sm:w-8 sm:h-8 text-purple-600\"\n                                                                                }, void 0, false, {\n                                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                    lineNumber: 6042,\n                                                                                    columnNumber: 37\n                                                                                }, this)\n                                                                            }, void 0, false, {\n                                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                lineNumber: 6041,\n                                                                                columnNumber: 33\n                                                                            }, this)\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 6040,\n                                                                            columnNumber: 31\n                                                                        }, this)\n                                                                    ]\n                                                                }, void 0, true, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 6033,\n                                                                    columnNumber: 29\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    className: \"text-center space-y-1 sm:space-y-2\",\n                                                                    children: [\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h4\", {\n                                                                            className: \"font-medium text-sm\",\n                                                                            children: [\n                                                                                \"Design \",\n                                                                                originalIndex + 1\n                                                                            ]\n                                                                        }, void 0, true, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 6050,\n                                                                            columnNumber: 29\n                                                                        }, this),\n                                                                        selectedArtisticStyle === \"ai-smart-style\" && card.styleInfo && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                            className: \"text-xs text-gray-600 dark:text-gray-400 truncate\",\n                                                                            children: card.styleInfo.styleLabel\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 6052,\n                                                                            columnNumber: 31\n                                                                        }, this),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                            className: \"space-y-1\",\n                                                                            children: [\n                                                                                selectedDraftIndex === displayIndex && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_badge__WEBPACK_IMPORTED_MODULE_6__.Badge, {\n                                                                                    className: \"bg-purple-600 text-white text-xs px-2 py-1 mb-1\",\n                                                                                    children: \"✓ Selected\"\n                                                                                }, void 0, false, {\n                                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                    lineNumber: 6058,\n                                                                                    columnNumber: 35\n                                                                                }, this),\n                                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                                                                    variant: \"outline\",\n                                                                                    size: \"sm\",\n                                                                                    onClick: (e)=>{\n                                                                                        e.stopPropagation();\n                                                                                        setPreviewingDraftIndex(displayIndex);\n                                                                                    },\n                                                                                    className: \"w-full text-xs h-7 sm:h-8\",\n                                                                                    children: [\n                                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_35__[\"default\"], {\n                                                                                            className: \"w-3 h-3 mr-1\"\n                                                                                        }, void 0, false, {\n                                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                            lineNumber: 6071,\n                                                                                            columnNumber: 31\n                                                                                        }, this),\n                                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                            className: \"hidden sm:inline\",\n                                                                                            children: \"Preview Design\"\n                                                                                        }, void 0, false, {\n                                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                            lineNumber: 6072,\n                                                                                            columnNumber: 35\n                                                                                        }, this),\n                                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                            className: \"sm:hidden\",\n                                                                                            children: \"Preview\"\n                                                                                        }, void 0, false, {\n                                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                            lineNumber: 6073,\n                                                                                            columnNumber: 35\n                                                                                        }, this)\n                                                                                    ]\n                                                                                }, void 0, true, {\n                                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                    lineNumber: 6062,\n                                                                                    columnNumber: 29\n                                                                                }, this)\n                                                                            ]\n                                                                        }, void 0, true, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 6056,\n                                                                            columnNumber: 31\n                                                                        }, this)\n                                                                    ]\n                                                                }, void 0, true, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 6049,\n                                                                    columnNumber: 29\n                                                                }, this)\n                                                            ]\n                                                        }, void 0, true) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"flex flex-col items-center justify-center py-6 sm:py-8\",\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    className: \"w-6 h-6 sm:w-8 sm:h-8 border-2 border-purple-500 border-t-transparent rounded-full animate-spin mx-auto mb-2 sm:mb-3\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 6080,\n                                                                    columnNumber: 29\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h4\", {\n                                                                    className: \"font-medium text-sm mb-1\",\n                                                                    children: \"Creating...\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 6081,\n                                                                    columnNumber: 29\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                    className: \"text-xs text-gray-500\",\n                                                                    children: \"Generating front cover...\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 6082,\n                                                                    columnNumber: 29\n                                                                }, this)\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 6079,\n                                                            columnNumber: 27\n                                                        }, this)\n                                                    }, displayIndex, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 6019,\n                                                        columnNumber: 47\n                                                    }, this);\n                                                })\n                                            }, void 0, false, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 6012,\n                                                columnNumber: 17\n                                            }, this),\n                                            selectedDraftIndex !== -1 && draftIndexMapping[selectedDraftIndex] !== undefined && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"text-center bg-purple-50 dark:bg-purple-900/20 rounded-lg p-3\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                    className: \"text-sm font-medium text-purple-900 dark:text-purple-100\",\n                                                    children: [\n                                                        \"✓ Design \",\n                                                        draftIndexMapping[selectedDraftIndex] + 1,\n                                                        \" selected\"\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 6093,\n                                                    columnNumber: 21\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 6092,\n                                                columnNumber: 19\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                        lineNumber: 6011,\n                                        columnNumber: 15\n                                    }, this),\n                                    draftCards.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"mt-6 text-center space-y-3\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                                onClick: ()=>handleGenerateFinalFromDraft(selectedDraftIndex),\n                                                disabled: selectedDraftIndex === -1,\n                                                className: \"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white w-full md:w-auto\",\n                                                size: \"lg\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_38__[\"default\"], {\n                                                        className: \"w-5 h-5 mr-2\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 6109,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    \"Generate Complete High-Quality Card\"\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 6103,\n                                                columnNumber: 19\n                                            }, this),\n                                            selectedDraftIndex === -1 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                className: \"text-sm text-gray-500 dark:text-gray-400\",\n                                                children: \"Please select a design variation above to proceed\"\n                                            }, void 0, false, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 6114,\n                                                columnNumber: 21\n                                            }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"space-y-2\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                        className: \"text-sm text-green-600 dark:text-green-400 font-medium\",\n                                                        children: [\n                                                            \"✓ Design \",\n                                                            draftIndexMapping[selectedDraftIndex] + 1,\n                                                            \" selected - ready to generate!\"\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 6119,\n                                                        columnNumber: 23\n                                                    }, this),\n                                                    draftCards.length < 10 && isGenerating && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                        className: \"text-xs text-gray-500 dark:text-gray-400\",\n                                                        children: \"Remaining variations will be cancelled to focus on your selected design\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 6123,\n                                                        columnNumber: 25\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 6118,\n                                                columnNumber: 21\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                        lineNumber: 6102,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                lineNumber: 6009,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                        lineNumber: 5999,\n                        columnNumber: 11\n                    }, this),\n                    (()=>{\n                        console.log(\"\\uD83D\\uDD0D Card Preview Render Check:\", {\n                            hasGeneratedCard: !!generatedCard,\n                            cardId: generatedCard === null || generatedCard === void 0 ? void 0 : generatedCard.id,\n                            isCardCompleted,\n                            generatedCardsLength: generatedCards.length,\n                            selectedCardIndex,\n                            frontCover: (generatedCard === null || generatedCard === void 0 ? void 0 : generatedCard.frontCover) ? \"present\" : \"missing\",\n                            isDraftMode,\n                            isGeneratingFinalCard,\n                            draftCardsLength: draftCards.length\n                        });\n                        return null;\n                    })(),\n                    generatedCard && !isGeneratingFinalCard && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_5__.Card, {\n                        className: \"shadow-lg\",\n                        \"data-card-preview\": true,\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_5__.CardHeader, {\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex items-center justify-between\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_5__.CardTitle, {\n                                                    className: \"flex items-center gap-2\",\n                                                    children: [\n                                                        isCardCompleted && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"w-6 h-6 bg-green-500 rounded-full flex items-center justify-center\",\n                                                            title: generationDuration ? \"Generated in \".concat(formatGenerationTime(generationDuration)) : \"Card completed\",\n                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                className: \"text-white text-sm\",\n                                                                children: \"✓\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 6161,\n                                                                columnNumber: 33\n                                                            }, this)\n                                                        }, void 0, false, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 6157,\n                                                            columnNumber: 31\n                                                        }, this),\n                                                        numberOfCards > 1 ? \"Your Cards (\".concat(generatedCards.length, \" Generated)\") : \"Your Card\"\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 6155,\n                                                    columnNumber: 27\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_5__.CardDescription, {\n                                                    children: isCardCompleted ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"space-y-2\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                className: \"text-green-600 dark:text-green-400 font-medium\",\n                                                                children: \"\\uD83C\\uDF89 Card generation complete! Your card is ready for printing or sharing.\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 6169,\n                                                                columnNumber: 31\n                                                            }, this),\n                                                            generationDuration && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"inline-flex items-center gap-2 bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300 px-3 py-1 rounded-full text-sm font-medium\",\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                        className: \"text-blue-500\",\n                                                                        children: \"⚡\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                        lineNumber: 6174,\n                                                                        columnNumber: 37\n                                                                    }, this),\n                                                                    \"Generated in \",\n                                                                    formatGenerationTime(generationDuration)\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 6173,\n                                                                columnNumber: 35\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 6168,\n                                                        columnNumber: 31\n                                                    }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                                        children: [\n                                                            \"Created \",\n                                                            new Date(generatedCard.createdAt).toLocaleDateString(),\n                                                            numberOfCards > 1 && \" • Viewing Card \".concat(selectedCardIndex + 1, \" of \").concat(generatedCards.length)\n                                                        ]\n                                                    }, void 0, true)\n                                                }, void 0, false, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 6166,\n                                                    columnNumber: 27\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                            lineNumber: 6154,\n                                            columnNumber: 25\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                        lineNumber: 6153,\n                                        columnNumber: 23\n                                    }, this),\n                                    numberOfCards > 1 && generatedCards.length > 1 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"mt-4\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                className: \"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block\",\n                                                children: \"Choose Your Favorite Card\"\n                                            }, void 0, false, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 6193,\n                                                columnNumber: 27\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"grid grid-cols-2 md:grid-cols-4 gap-3\",\n                                                children: generatedCards.map((card, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"relative cursor-pointer rounded-lg border-2 p-2 transition-all \".concat(selectedCardIndex === index ? \"border-blue-500 bg-blue-50 dark:bg-blue-900/20\" : \"border-gray-200 dark:border-gray-700 hover:border-gray-300\"),\n                                                        onClick: ()=>{\n                                                            setSelectedCardIndex(index);\n                                                            setGeneratedCard(card);\n                                                        },\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"aspect-[2/3] relative overflow-hidden rounded\",\n                                                                children: card.frontCover ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                                                    src: card.frontCover,\n                                                                    alt: \"Card \".concat(index + 1, \" Preview\"),\n                                                                    className: \"w-full h-full object-cover\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 6212,\n                                                                    columnNumber: 37\n                                                                }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    className: \"w-full h-full bg-gray-100 dark:bg-gray-800 flex items-center justify-center\",\n                                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                        className: \"w-4 h-4 border-2 border-blue-500 border-t-transparent rounded-full animate-spin\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                        lineNumber: 6219,\n                                                                        columnNumber: 39\n                                                                    }, this)\n                                                                }, void 0, false, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 6218,\n                                                                    columnNumber: 37\n                                                                }, this)\n                                                            }, void 0, false, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 6210,\n                                                                columnNumber: 33\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"text-center mt-1\",\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                        className: \"text-xs font-medium\",\n                                                                        children: [\n                                                                            \"Card \",\n                                                                            index + 1\n                                                                        ]\n                                                                    }, void 0, true, {\n                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                        lineNumber: 6224,\n                                                                        columnNumber: 35\n                                                                    }, this),\n                                                                    selectedCardIndex === index && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                        className: \"text-xs text-blue-600 dark:text-blue-400\",\n                                                                        children: \"Selected\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                        lineNumber: 6226,\n                                                                        columnNumber: 37\n                                                                    }, this)\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 6223,\n                                                                columnNumber: 33\n                                                            }, this)\n                                                        ]\n                                                    }, card.id, true, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 6198,\n                                                        columnNumber: 31\n                                                    }, this))\n                                            }, void 0, false, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 6196,\n                                                columnNumber: 27\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                        lineNumber: 6192,\n                                        columnNumber: 25\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                lineNumber: 6152,\n                                columnNumber: 21\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_5__.CardContent, {\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_CardPreview__WEBPACK_IMPORTED_MODULE_14__[\"default\"], {\n                                    card: generatedCard,\n                                    onCardUpdate: (updatedCard)=>{\n                                        setGeneratedCard(updatedCard);\n                                        // Also update the card in the cards array\n                                        setGeneratedCards((prev)=>{\n                                            const updated = [\n                                                ...prev\n                                            ];\n                                            updated[selectedCardIndex] = updatedCard;\n                                            return updated;\n                                        });\n                                    },\n                                    isFrontBackOnly: isFrontBackOnly,\n                                    onPrint: handlePrintClick,\n                                    paperConfig: paperSizes.find((size)=>size.id === selectedPaperSize) || paperSizes[0],\n                                    sectionLoadingStates: sectionLoadingStates,\n                                    // Pass paper size control props\n                                    selectedPaperSize: selectedPaperSize,\n                                    onPaperSizeChange: setSelectedPaperSize,\n                                    paperSizes: paperSizes,\n                                    isCardCompleted: isCardCompleted,\n                                    // Fast preview functionality\n                                    fastPreviewMode: fastPreviewMode && !isCardCompleted,\n                                    onViewFullCard: ()=>setFastPreviewMode(false)\n                                }, void 0, false, {\n                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                    lineNumber: 6236,\n                                    columnNumber: 23\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                lineNumber: 6235,\n                                columnNumber: 21\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                        lineNumber: 6151,\n                        columnNumber: 19\n                    }, this),\n                    !generatedCard && !isDraftMode && draftCards.length === 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_5__.Card, {\n                        className: \"shadow-lg\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_card__WEBPACK_IMPORTED_MODULE_5__.CardContent, {\n                            className: \"flex flex-col items-center justify-center py-12 text-center\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"w-16 h-16 bg-gradient-to-br from-blue-500 to-cyan-600 rounded-full flex items-center justify-center mb-4\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_38__[\"default\"], {\n                                        className: \"w-8 h-8 text-white\"\n                                    }, void 0, false, {\n                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                        lineNumber: 6269,\n                                        columnNumber: 21\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                    lineNumber: 6268,\n                                    columnNumber: 19\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                    className: \"text-lg font-semibold text-gray-900 dark:text-white mb-2\",\n                                    children: \"Ready to Create?\"\n                                }, void 0, false, {\n                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                    lineNumber: 6271,\n                                    columnNumber: 19\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"text-gray-600 dark:text-gray-400 text-sm max-w-sm\",\n                                    children: \"Describe your perfect card above and we'll bring it to life with creative magic!\"\n                                }, void 0, false, {\n                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                    lineNumber: 6274,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                            lineNumber: 6267,\n                            columnNumber: 17\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                        lineNumber: 6266,\n                        columnNumber: 15\n                    }, this),\n                    !generatedCard && !isDraftMode && draftCards.length === 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"mt-8\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_RecentCardsPreview__WEBPACK_IMPORTED_MODULE_17__[\"default\"], {\n                            maxCards: 6,\n                            onCardSelect: (card)=>{\n                                // When a card is selected from the preview, open the card viewer web app\n                                let cardId = card.id;\n                                // If shareUrl contains a card ID, extract it\n                                if (card.shareUrl && card.shareUrl.includes(\"/card/\")) {\n                                    const urlParts = card.shareUrl.split(\"/card/\");\n                                    if (urlParts.length > 1) {\n                                        cardId = urlParts[1].split(\"?\")[0]; // Remove any query parameters\n                                    }\n                                }\n                                // Navigate to the card viewer web app\n                                window.open(\"/card/\".concat(cardId), \"_blank\");\n                            }\n                        }, void 0, false, {\n                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                            lineNumber: 6284,\n                            columnNumber: 13\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                        lineNumber: 6283,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_dialog__WEBPACK_IMPORTED_MODULE_11__.Dialog, {\n                        open: showTemplateCustomization,\n                        onOpenChange: setShowTemplateCustomization,\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_dialog__WEBPACK_IMPORTED_MODULE_11__.DialogContent, {\n                            className: \"sm:max-w-2xl max-h-[90vh] overflow-y-auto\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_dialog__WEBPACK_IMPORTED_MODULE_11__.DialogHeader, {\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_dialog__WEBPACK_IMPORTED_MODULE_11__.DialogTitle, {\n                                            className: \"flex items-center gap-2\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_47__[\"default\"], {\n                                                    className: \"w-5 h-5 text-purple-600\"\n                                                }, void 0, false, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 6310,\n                                                    columnNumber: 17\n                                                }, this),\n                                                \"Customize Template\"\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                            lineNumber: 6309,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_dialog__WEBPACK_IMPORTED_MODULE_11__.DialogDescription, {\n                                            children: \"Personalize this template with your own changes, message, and reference images before generating.\"\n                                        }, void 0, false, {\n                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                            lineNumber: 6313,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                    lineNumber: 6308,\n                                    columnNumber: 13\n                                }, this),\n                                selectedTemplate && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"space-y-6 py-4\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"space-y-3\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h4\", {\n                                                    className: \"font-medium\",\n                                                    children: \"Selected Template\"\n                                                }, void 0, false, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 6322,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"bg-gray-50 dark:bg-gray-800 rounded-lg p-4\",\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"flex items-start gap-4\",\n                                                        children: [\n                                                            selectedTemplate.frontCover && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                                                src: selectedTemplate.frontCover,\n                                                                alt: \"Template preview\",\n                                                                className: \"w-24 h-36 object-cover rounded-lg shadow-md\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 6326,\n                                                                columnNumber: 25\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"flex-1\",\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                        className: \"text-sm font-medium text-gray-900 dark:text-gray-100 mb-2\",\n                                                                        children: \"Template Details:\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                        lineNumber: 6333,\n                                                                        columnNumber: 25\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                        className: \"space-y-3\",\n                                                                        children: [\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                className: \"text-sm text-gray-600 dark:text-gray-400 bg-white dark:bg-gray-700 p-3 rounded border\",\n                                                                                children: [\n                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                                        className: \"font-medium mb-2\",\n                                                                                        children: \"Original Input:\"\n                                                                                    }, void 0, false, {\n                                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                        lineNumber: 6338,\n                                                                                        columnNumber: 29\n                                                                                    }, this),\n                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                                        children: selectedTemplate.prompt\n                                                                                    }, void 0, false, {\n                                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                        lineNumber: 6339,\n                                                                                        columnNumber: 29\n                                                                                    }, this)\n                                                                                ]\n                                                                            }, void 0, true, {\n                                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                lineNumber: 6337,\n                                                                                columnNumber: 27\n                                                                            }, this),\n                                                                            selectedTemplate.generatedPrompts && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                className: \"text-sm text-gray-600 dark:text-gray-400 bg-blue-50 dark:bg-blue-900/20 p-3 rounded border border-blue-200 dark:border-blue-800\",\n                                                                                children: [\n                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                                        className: \"font-medium mb-2 text-blue-900 dark:text-blue-100\",\n                                                                                        children: \"Generated Image Prompts:\"\n                                                                                    }, void 0, false, {\n                                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                        lineNumber: 6343,\n                                                                                        columnNumber: 31\n                                                                                    }, this),\n                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                        className: \"space-y-2 max-h-32 overflow-y-auto\",\n                                                                                        children: [\n                                                                                            selectedTemplate.generatedPrompts.frontCover && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                                children: [\n                                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                                        className: \"font-semibold text-blue-800 dark:text-blue-200\",\n                                                                                                        children: \"Front Cover:\"\n                                                                                                    }, void 0, false, {\n                                                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                                        lineNumber: 6347,\n                                                                                                        columnNumber: 37\n                                                                                                    }, this),\n                                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                                                        className: \"text-xs mt-1\",\n                                                                                                        children: [\n                                                                                                            selectedTemplate.generatedPrompts.frontCover.substring(0, 150),\n                                                                                                            \"...\"\n                                                                                                        ]\n                                                                                                    }, void 0, true, {\n                                                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                                        lineNumber: 6348,\n                                                                                                        columnNumber: 37\n                                                                                                    }, this)\n                                                                                                ]\n                                                                                            }, void 0, true, {\n                                                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                                lineNumber: 6346,\n                                                                                                columnNumber: 35\n                                                                                            }, this),\n                                                                                            selectedTemplate.generatedPrompts.backCover && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                                children: [\n                                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                                        className: \"font-semibold text-blue-800 dark:text-blue-200\",\n                                                                                                        children: \"Back Cover:\"\n                                                                                                    }, void 0, false, {\n                                                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                                        lineNumber: 6353,\n                                                                                                        columnNumber: 37\n                                                                                                    }, this),\n                                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                                                        className: \"text-xs mt-1\",\n                                                                                                        children: [\n                                                                                                            selectedTemplate.generatedPrompts.backCover.substring(0, 150),\n                                                                                                            \"...\"\n                                                                                                        ]\n                                                                                                    }, void 0, true, {\n                                                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                                        lineNumber: 6354,\n                                                                                                        columnNumber: 37\n                                                                                                    }, this)\n                                                                                                ]\n                                                                                            }, void 0, true, {\n                                                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                                lineNumber: 6352,\n                                                                                                columnNumber: 35\n                                                                                            }, this),\n                                                                                            selectedTemplate.generatedPrompts.leftInterior && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                                children: [\n                                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                                        className: \"font-semibold text-blue-800 dark:text-blue-200\",\n                                                                                                        children: \"Left Interior:\"\n                                                                                                    }, void 0, false, {\n                                                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                                        lineNumber: 6359,\n                                                                                                        columnNumber: 37\n                                                                                                    }, this),\n                                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                                                        className: \"text-xs mt-1\",\n                                                                                                        children: [\n                                                                                                            selectedTemplate.generatedPrompts.leftInterior.substring(0, 150),\n                                                                                                            \"...\"\n                                                                                                        ]\n                                                                                                    }, void 0, true, {\n                                                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                                        lineNumber: 6360,\n                                                                                                        columnNumber: 37\n                                                                                                    }, this)\n                                                                                                ]\n                                                                                            }, void 0, true, {\n                                                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                                lineNumber: 6358,\n                                                                                                columnNumber: 35\n                                                                                            }, this),\n                                                                                            selectedTemplate.generatedPrompts.rightInterior && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                                children: [\n                                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                                        className: \"font-semibold text-blue-800 dark:text-blue-200\",\n                                                                                                        children: \"Right Interior:\"\n                                                                                                    }, void 0, false, {\n                                                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                                        lineNumber: 6365,\n                                                                                                        columnNumber: 37\n                                                                                                    }, this),\n                                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                                                        className: \"text-xs mt-1\",\n                                                                                                        children: [\n                                                                                                            selectedTemplate.generatedPrompts.rightInterior.substring(0, 150),\n                                                                                                            \"...\"\n                                                                                                        ]\n                                                                                                    }, void 0, true, {\n                                                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                                        lineNumber: 6366,\n                                                                                                        columnNumber: 37\n                                                                                                    }, this)\n                                                                                                ]\n                                                                                            }, void 0, true, {\n                                                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                                lineNumber: 6364,\n                                                                                                columnNumber: 35\n                                                                                            }, this)\n                                                                                        ]\n                                                                                    }, void 0, true, {\n                                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                        lineNumber: 6344,\n                                                                                        columnNumber: 31\n                                                                                    }, this)\n                                                                                ]\n                                                                            }, void 0, true, {\n                                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                lineNumber: 6342,\n                                                                                columnNumber: 29\n                                                                            }, this)\n                                                                        ]\n                                                                    }, void 0, true, {\n                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                        lineNumber: 6336,\n                                                                        columnNumber: 25\n                                                                    }, this)\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 6332,\n                                                                columnNumber: 23\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 6324,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                }, void 0, false, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 6323,\n                                                    columnNumber: 19\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                            lineNumber: 6321,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"space-y-3\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                    className: \"text-sm font-medium text-gray-700 dark:text-gray-300\",\n                                                    children: \"Additional Changes to Design (Optional)\"\n                                                }, void 0, false, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 6380,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_textarea__WEBPACK_IMPORTED_MODULE_4__.Textarea, {\n                                                    placeholder: \"e.g., 'Change the message to say from Jordan', 'Make it more romantic', 'Add more flowers', 'Change colors to blue and gold'...\",\n                                                    value: templateCustomizations.promptChanges,\n                                                    onChange: (e)=>setTemplateCustomizations((prev)=>({\n                                                                ...prev,\n                                                                promptChanges: e.target.value\n                                                            })),\n                                                    rows: 3,\n                                                    className: \"resize-none\",\n                                                    style: {\n                                                        fontSize: \"16px\"\n                                                    }\n                                                }, void 0, false, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 6383,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                    className: \"text-xs text-gray-500 dark:text-gray-400\",\n                                                    children: \"Describe any changes you want to make to the template design, style, or content.\"\n                                                }, void 0, false, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 6394,\n                                                    columnNumber: 19\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                            lineNumber: 6379,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"space-y-3\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                    className: \"text-sm font-medium text-gray-700 dark:text-gray-300\",\n                                                    children: \"Custom Message (Optional)\"\n                                                }, void 0, false, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 6401,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_textarea__WEBPACK_IMPORTED_MODULE_4__.Textarea, {\n                                                    placeholder: \"Leave empty to auto-generate a message, or write your own custom message here...\",\n                                                    value: templateCustomizations.messageChanges,\n                                                    onChange: (e)=>setTemplateCustomizations((prev)=>({\n                                                                ...prev,\n                                                                messageChanges: e.target.value\n                                                            })),\n                                                    rows: 4,\n                                                    className: \"resize-none\",\n                                                    style: {\n                                                        fontSize: \"16px\"\n                                                    }\n                                                }, void 0, false, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 6404,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                    className: \"text-xs text-gray-500 dark:text-gray-400\",\n                                                    children: \"This will replace the card's interior message. Leave blank to auto-generate.\"\n                                                }, void 0, false, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 6415,\n                                                    columnNumber: 19\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                            lineNumber: 6400,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"space-y-4\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"flex items-center space-x-3\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                            type: \"checkbox\",\n                                                            id: \"use-reference-image\",\n                                                            checked: templateCustomizations.useReferenceImage,\n                                                            onChange: (e)=>setTemplateCustomizations((prev)=>({\n                                                                        ...prev,\n                                                                        useReferenceImage: e.target.checked,\n                                                                        referenceImageFile: null,\n                                                                        referenceImageUrls: [],\n                                                                        referenceImageTransformation: \"\"\n                                                                    })),\n                                                            className: \"rounded\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 6423,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                            htmlFor: \"use-reference-image\",\n                                                            className: \"text-sm font-medium text-gray-700 dark:text-gray-300\",\n                                                            children: \"Add reference photo to personalize the card\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 6436,\n                                                            columnNumber: 21\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 6422,\n                                                    columnNumber: 19\n                                                }, this),\n                                                templateCustomizations.useReferenceImage && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"space-y-4 pl-6 border-l-2 border-purple-200 dark:border-purple-800\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                            className: \"text-xs text-purple-600 dark:text-purple-400\",\n                                                            children: \"Upload a photo to create cartoon characters that look like the people in your photo!\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 6443,\n                                                            columnNumber: 23\n                                                        }, this),\n                                                        !templateCustomizations.referenceImageFile ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg p-4 text-center\",\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                                    type: \"file\",\n                                                                    accept: \"image/*\",\n                                                                    onChange: (e)=>{\n                                                                        var _e_target_files;\n                                                                        const file = (_e_target_files = e.target.files) === null || _e_target_files === void 0 ? void 0 : _e_target_files[0];\n                                                                        if (file) {\n                                                                            setTemplateCustomizations((prev)=>({\n                                                                                    ...prev,\n                                                                                    referenceImageFile: file\n                                                                                }));\n                                                                        }\n                                                                    },\n                                                                    className: \"hidden\",\n                                                                    id: \"template-reference-upload\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 6450,\n                                                                    columnNumber: 27\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                                    htmlFor: \"template-reference-upload\",\n                                                                    className: \"cursor-pointer\",\n                                                                    children: [\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_51__[\"default\"], {\n                                                                            className: \"w-6 h-6 mx-auto mb-2 text-gray-400\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 6466,\n                                                                            columnNumber: 29\n                                                                        }, this),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                            className: \"text-sm text-gray-600 dark:text-gray-400\",\n                                                                            children: \"Upload reference photo\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 6467,\n                                                                            columnNumber: 29\n                                                                        }, this)\n                                                                    ]\n                                                                }, void 0, true, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 6465,\n                                                                    columnNumber: 27\n                                                                }, this)\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 6449,\n                                                            columnNumber: 25\n                                                        }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"space-y-3\",\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    className: \"flex items-center justify-between p-3 bg-purple-50 dark:bg-purple-900/20 rounded-lg\",\n                                                                    children: [\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                            className: \"flex items-center gap-2\",\n                                                                            children: [\n                                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_52__[\"default\"], {\n                                                                                    className: \"w-4 h-4 text-purple-600\"\n                                                                                }, void 0, false, {\n                                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                    lineNumber: 6476,\n                                                                                    columnNumber: 31\n                                                                                }, this),\n                                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                    className: \"text-sm text-purple-800 dark:text-purple-200\",\n                                                                                    children: templateCustomizations.referenceImageFile.name\n                                                                                }, void 0, false, {\n                                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                    lineNumber: 6477,\n                                                                                    columnNumber: 31\n                                                                                }, this)\n                                                                            ]\n                                                                        }, void 0, true, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 6475,\n                                                                            columnNumber: 29\n                                                                        }, this),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                                                            variant: \"ghost\",\n                                                                            size: \"sm\",\n                                                                            onClick: ()=>setTemplateCustomizations((prev)=>({\n                                                                                        ...prev,\n                                                                                        referenceImageFile: null\n                                                                                    })),\n                                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_46__[\"default\"], {\n                                                                                className: \"w-4 h-4\"\n                                                                            }, void 0, false, {\n                                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                lineNumber: 6489,\n                                                                                columnNumber: 31\n                                                                            }, this)\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 6481,\n                                                                            columnNumber: 29\n                                                                        }, this)\n                                                                    ]\n                                                                }, void 0, true, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 6474,\n                                                                    columnNumber: 27\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    className: \"space-y-2\",\n                                                                    children: [\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                                            className: \"text-sm font-medium text-gray-700 dark:text-gray-300\",\n                                                                            children: \"How to use the reference photo\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 6495,\n                                                                            columnNumber: 29\n                                                                        }, this),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_textarea__WEBPACK_IMPORTED_MODULE_4__.Textarea, {\n                                                                            placeholder: \"e.g., 'Use this photo to create cartoon versions of me and my girlfriend on the front cover', 'Replace the people in the template with us', 'Make us look like the characters in the template style'...\",\n                                                                            value: templateCustomizations.referenceImageTransformation,\n                                                                            onChange: (e)=>setTemplateCustomizations((prev)=>({\n                                                                                        ...prev,\n                                                                                        referenceImageTransformation: e.target.value\n                                                                                    })),\n                                                                            rows: 3,\n                                                                            className: \"resize-none\",\n                                                                            style: {\n                                                                                fontSize: \"16px\"\n                                                                            }\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 6498,\n                                                                            columnNumber: 29\n                                                                        }, this),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                            className: \"text-xs text-gray-500 dark:text-gray-400\",\n                                                                            children: \"Describe how you want your photo to be incorporated into the template design.\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 6509,\n                                                                            columnNumber: 29\n                                                                        }, this)\n                                                                    ]\n                                                                }, void 0, true, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 6494,\n                                                                    columnNumber: 27\n                                                                }, this)\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 6473,\n                                                            columnNumber: 25\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 6442,\n                                                    columnNumber: 21\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                            lineNumber: 6421,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex gap-3 pt-4 border-t\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                                    variant: \"outline\",\n                                                    onClick: ()=>{\n                                                        setShowTemplateCustomization(false);\n                                                        setSelectedTemplate(null);\n                                                        setShowTemplateGallery(true); // Go back to template gallery\n                                                    },\n                                                    className: \"flex-1\",\n                                                    children: \"Back to Templates\"\n                                                }, void 0, false, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 6521,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                                    onClick: handleApplyTemplateWithCustomizations,\n                                                    className: \"flex-1 bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_47__[\"default\"], {\n                                                            className: \"w-4 h-4 mr-2\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 6536,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        \"Apply & Generate Card\"\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 6532,\n                                                    columnNumber: 19\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                            lineNumber: 6520,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                    lineNumber: 6319,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                            lineNumber: 6307,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                        lineNumber: 6306,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_dialog__WEBPACK_IMPORTED_MODULE_11__.Dialog, {\n                        open: showTemplateGallery,\n                        onOpenChange: setShowTemplateGallery,\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_dialog__WEBPACK_IMPORTED_MODULE_11__.DialogContent, {\n                            className: \"w-[95vw] max-w-7xl h-[85vh] sm:max-h-[95vh] overflow-hidden p-0 flex flex-col\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50 dark:from-gray-900 dark:via-purple-900/20 dark:to-blue-900/20 p-3 sm:p-6 flex-shrink-0\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_dialog__WEBPACK_IMPORTED_MODULE_11__.DialogHeader, {\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex items-center justify-between mb-2 sm:mb-4\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"flex items-center gap-2 sm:gap-3\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"w-8 h-8 sm:w-12 sm:h-12 bg-gradient-to-br from-purple-500 to-pink-600 rounded-xl flex items-center justify-center shadow-lg\",\n                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_35__[\"default\"], {\n                                                                className: \"w-4 h-4 sm:w-7 sm:h-7 text-white\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 6553,\n                                                                columnNumber: 23\n                                                            }, this)\n                                                        }, void 0, false, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 6552,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_dialog__WEBPACK_IMPORTED_MODULE_11__.DialogTitle, {\n                                                                    className: \"text-lg sm:text-2xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent\",\n                                                                    children: \"Template Gallery\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 6556,\n                                                                    columnNumber: 23\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_dialog__WEBPACK_IMPORTED_MODULE_11__.DialogDescription, {\n                                                                    className: \"text-xs sm:text-sm text-gray-600 dark:text-gray-400\",\n                                                                    children: \"Find the perfect starting point for your card\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 6559,\n                                                                    columnNumber: 23\n                                                                }, this)\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 6555,\n                                                            columnNumber: 21\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 6551,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                                    variant: \"outline\",\n                                                    size: \"sm\",\n                                                    onClick: ()=>setShowPrompts(!showPrompts),\n                                                    className: \"gap-1 sm:gap-2 bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm h-8 sm:h-9 text-xs sm:text-sm\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_53__[\"default\"], {\n                                                            className: \"w-3 h-3 sm:w-4 sm:h-4\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 6572,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            className: \"hidden sm:inline\",\n                                                            children: [\n                                                                showPrompts ? \"Hide\" : \"Show\",\n                                                                \" Prompts\"\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 6573,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            className: \"sm:hidden\",\n                                                            children: showPrompts ? \"Hide\" : \"Show\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 6574,\n                                                            columnNumber: 21\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 6566,\n                                                    columnNumber: 19\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                            lineNumber: 6550,\n                                            columnNumber: 17\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                        lineNumber: 6549,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"bg-white dark:bg-gray-800 rounded-xl p-2 sm:p-6 shadow-sm space-y-2 sm:space-y-4\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"flex items-center justify-between gap-2\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"flex items-center gap-2\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"w-6 h-6 sm:w-10 sm:h-10 bg-gradient-to-br from-purple-100 to-pink-100 dark:from-purple-900 dark:to-pink-900 rounded-lg flex items-center justify-center\",\n                                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_38__[\"default\"], {\n                                                                    className: \"w-3 h-3 sm:w-5 sm:h-5 text-purple-600 dark:text-purple-400\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 6584,\n                                                                    columnNumber: 23\n                                                                }, this)\n                                                            }, void 0, false, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 6583,\n                                                                columnNumber: 21\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                                                        className: \"text-sm sm:text-lg font-semibold text-gray-900 dark:text-gray-100\",\n                                                                        children: \"Search\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                        lineNumber: 6587,\n                                                                        columnNumber: 23\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                        className: \"text-xs text-gray-600 dark:text-gray-400 hidden sm:block\",\n                                                                        children: \"Find templates by keywords or visual style\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                        lineNumber: 6588,\n                                                                        columnNumber: 23\n                                                                    }, this)\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 6586,\n                                                                columnNumber: 21\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 6582,\n                                                        columnNumber: 19\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_select__WEBPACK_IMPORTED_MODULE_8__.Select, {\n                                                        value: searchMode,\n                                                        onValueChange: (value)=>setSearchMode(value),\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_select__WEBPACK_IMPORTED_MODULE_8__.SelectTrigger, {\n                                                                className: \"w-20 sm:w-36 h-7 sm:h-10 border text-xs sm:text-sm\",\n                                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_select__WEBPACK_IMPORTED_MODULE_8__.SelectValue, {}, void 0, false, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 6595,\n                                                                    columnNumber: 23\n                                                                }, this)\n                                                            }, void 0, false, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 6594,\n                                                                columnNumber: 21\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_select__WEBPACK_IMPORTED_MODULE_8__.SelectContent, {\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_select__WEBPACK_IMPORTED_MODULE_8__.SelectItem, {\n                                                                        value: \"text\",\n                                                                        className: \"cursor-pointer\",\n                                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                            className: \"flex items-center gap-2\",\n                                                                            children: [\n                                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                    className: \"text-base\",\n                                                                                    children: \"\\uD83D\\uDCDD\"\n                                                                                }, void 0, false, {\n                                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                    lineNumber: 6600,\n                                                                                    columnNumber: 27\n                                                                                }, this),\n                                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                    className: \"font-medium\",\n                                                                                    children: \"Text Search\"\n                                                                                }, void 0, false, {\n                                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                    lineNumber: 6601,\n                                                                                    columnNumber: 27\n                                                                                }, this)\n                                                                            ]\n                                                                        }, void 0, true, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 6599,\n                                                                            columnNumber: 25\n                                                                        }, this)\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                        lineNumber: 6598,\n                                                                        columnNumber: 23\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_select__WEBPACK_IMPORTED_MODULE_8__.SelectItem, {\n                                                                        value: \"ai\",\n                                                                        className: \"cursor-pointer\",\n                                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                            className: \"flex items-center gap-2\",\n                                                                            children: [\n                                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                    className: \"text-base\",\n                                                                                    children: \"\\uD83C\\uDFA8\"\n                                                                                }, void 0, false, {\n                                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                    lineNumber: 6606,\n                                                                                    columnNumber: 27\n                                                                                }, this),\n                                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                    className: \"font-medium\",\n                                                                                    children: \"AI Vision\"\n                                                                                }, void 0, false, {\n                                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                    lineNumber: 6607,\n                                                                                    columnNumber: 27\n                                                                                }, this)\n                                                                            ]\n                                                                        }, void 0, true, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 6605,\n                                                                            columnNumber: 25\n                                                                        }, this)\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                        lineNumber: 6604,\n                                                                        columnNumber: 23\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_select__WEBPACK_IMPORTED_MODULE_8__.SelectItem, {\n                                                                        value: \"hybrid\",\n                                                                        className: \"cursor-pointer\",\n                                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                            className: \"flex items-center gap-2\",\n                                                                            children: [\n                                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                    className: \"text-base\",\n                                                                                    children: \"⚡\"\n                                                                                }, void 0, false, {\n                                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                    lineNumber: 6612,\n                                                                                    columnNumber: 27\n                                                                                }, this),\n                                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                    className: \"font-medium\",\n                                                                                    children: \"Hybrid\"\n                                                                                }, void 0, false, {\n                                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                    lineNumber: 6613,\n                                                                                    columnNumber: 27\n                                                                                }, this)\n                                                                            ]\n                                                                        }, void 0, true, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 6611,\n                                                                            columnNumber: 25\n                                                                        }, this)\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                        lineNumber: 6610,\n                                                                        columnNumber: 23\n                                                                    }, this)\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 6597,\n                                                                columnNumber: 21\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 6593,\n                                                        columnNumber: 19\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 6581,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"bg-gradient-to-r from-purple-50 to-pink-50 dark:from-purple-900/20 dark:to-pink-900/20 rounded-lg p-1 sm:p-3 hidden sm:block\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"text-xs sm:text-sm font-medium text-purple-900 dark:text-purple-100 mb-1\",\n                                                        children: [\n                                                            searchMode === \"text\" && \"\\uD83D\\uDCDD Text Search Mode\",\n                                                            searchMode === \"ai\" && \"\\uD83C\\uDFA8 AI Vision Mode\",\n                                                            searchMode === \"hybrid\" && \"⚡ Hybrid Search Mode\"\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 6622,\n                                                        columnNumber: 19\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"text-xs text-purple-700 dark:text-purple-300\",\n                                                        children: [\n                                                            searchMode === \"text\" && \"Fast keyword search through card descriptions + AI-generated visual prompts (instant results)\",\n                                                            searchMode === \"ai\" && \"AI analyzes card images for visual style, colors, and themes (10-15 seconds)\",\n                                                            searchMode === \"hybrid\" && \"Combines fast text search with AI visual analysis for best results\"\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 6627,\n                                                        columnNumber: 19\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 6621,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"flex gap-1 sm:gap-3\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"flex-1 relative\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_input__WEBPACK_IMPORTED_MODULE_3__.Input, {\n                                                                placeholder: \"Search templates...\",\n                                                                value: templateSearchQuery,\n                                                                onChange: (e)=>setTemplateSearchQuery(e.target.value),\n                                                                onKeyDown: (e)=>{\n                                                                    if (e.key === \"Enter\" && !e.shiftKey) {\n                                                                        e.preventDefault();\n                                                                        handleTemplateSearch();\n                                                                    }\n                                                                },\n                                                                disabled: isSearchingTemplates,\n                                                                className: \"h-8 sm:h-12 pl-8 sm:pl-12 pr-3 border text-sm sm:text-base\",\n                                                                style: {\n                                                                    fontSize: \"16px\"\n                                                                }\n                                                            }, void 0, false, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 6636,\n                                                                columnNumber: 21\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"absolute left-2 sm:left-3 top-1/2 -translate-y-1/2\",\n                                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    className: \"w-4 h-4 sm:w-6 sm:h-6 bg-gradient-to-br from-purple-100 to-pink-100 dark:from-purple-800 dark:to-pink-800 rounded-full flex items-center justify-center\",\n                                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                        className: \"text-xs\",\n                                                                        children: \"\\uD83D\\uDD0D\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                        lineNumber: 6652,\n                                                                        columnNumber: 25\n                                                                    }, this)\n                                                                }, void 0, false, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 6651,\n                                                                    columnNumber: 23\n                                                                }, this)\n                                                            }, void 0, false, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 6650,\n                                                                columnNumber: 21\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 6635,\n                                                        columnNumber: 19\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                                        onClick: handleTemplateSearch,\n                                                        disabled: isSearchingTemplates || !templateSearchQuery.trim(),\n                                                        className: \"h-8 sm:h-12 px-3 sm:px-6 gap-1 font-medium text-xs sm:text-base \".concat(searchMode === \"text\" ? \"bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700\" : searchMode === \"ai\" ? \"bg-gradient-to-r from-purple-500 to-purple-600 hover:from-purple-600 hover:to-purple-700\" : \"bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500 hover:from-blue-600 hover:via-purple-600 hover:to-pink-600\", \" text-white shadow-md hover:shadow-lg transition-all\"),\n                                                        children: isSearchingTemplates ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    className: \"w-3 h-3 sm:w-4 sm:h-4 border-2 border-white border-t-transparent rounded-full animate-spin\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 6669,\n                                                                    columnNumber: 25\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                    className: \"hidden sm:inline\",\n                                                                    children: searchMode === \"hybrid\" ? \"Analyzing...\" : \"Searching...\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 6670,\n                                                                    columnNumber: 25\n                                                                }, this)\n                                                            ]\n                                                        }, void 0, true) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                                            children: [\n                                                                searchMode === \"text\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                    className: \"text-xs sm:text-lg\",\n                                                                    children: \"\\uD83D\\uDCDD\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 6674,\n                                                                    columnNumber: 51\n                                                                }, this),\n                                                                searchMode === \"ai\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                    className: \"text-xs sm:text-lg\",\n                                                                    children: \"\\uD83C\\uDFA8\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 6675,\n                                                                    columnNumber: 49\n                                                                }, this),\n                                                                searchMode === \"hybrid\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                    className: \"text-xs sm:text-lg\",\n                                                                    children: \"⚡\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 6676,\n                                                                    columnNumber: 53\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                    className: \"hidden sm:inline\",\n                                                                    children: \"Search\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 6677,\n                                                                    columnNumber: 25\n                                                                }, this)\n                                                            ]\n                                                        }, void 0, true)\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 6656,\n                                                        columnNumber: 19\n                                                    }, this),\n                                                    (templateSearchQuery || aiFilteredCards.length > 0 || textFilteredCards.length > 0) && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                                        variant: \"outline\",\n                                                        onClick: clearTemplateSearch,\n                                                        className: \"h-8 sm:h-12 px-2 sm:px-4 gap-1 border\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_46__[\"default\"], {\n                                                                className: \"w-3 h-3 sm:w-4 sm:h-4\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 6687,\n                                                                columnNumber: 23\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                className: \"hidden sm:inline\",\n                                                                children: \"Clear\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 6688,\n                                                                columnNumber: 23\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 6682,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 6634,\n                                                columnNumber: 17\n                                            }, this),\n                                            aiFilteredCards.length > 0 && (searchMode === \"ai\" || searchMode === \"hybrid\") && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"flex items-center gap-1 sm:gap-2 text-xs sm:text-sm text-purple-600 dark:text-purple-400\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_38__[\"default\"], {\n                                                        className: \"w-3 h-3 sm:w-4 sm:h-4\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 6696,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        children: [\n                                                            searchMode === \"hybrid\" ? \"Hybrid\" : \"AI\",\n                                                            \" found \",\n                                                            aiFilteredCards.length,\n                                                            \" matches\",\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                className: \"hidden sm:inline\",\n                                                                children: [\n                                                                    ' for \"',\n                                                                    templateSearchQuery,\n                                                                    '\"'\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 6699,\n                                                                columnNumber: 23\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 6697,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 6695,\n                                                columnNumber: 19\n                                            }, this),\n                                            textFilteredCards.length > 0 && searchMode === \"text\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"flex items-center gap-1 sm:gap-2 text-xs sm:text-sm text-blue-600 dark:text-blue-400\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        children: \"\\uD83D\\uDCDD\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 6706,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        children: [\n                                                            \"Found \",\n                                                            textFilteredCards.length,\n                                                            \" matches\",\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                className: \"hidden sm:inline\",\n                                                                children: [\n                                                                    ' for \"',\n                                                                    templateSearchQuery,\n                                                                    '\"'\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 6707,\n                                                                columnNumber: 67\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 6707,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 6705,\n                                                columnNumber: 19\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                        lineNumber: 6580,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex-1 min-h-0 overflow-auto bg-gray-50 dark:bg-gray-900 rounded-xl p-2 sm:p-4\",\n                                        children: aiFilteredCards.length > 0 && (searchMode === \"ai\" || searchMode === \"hybrid\") || textFilteredCards.length > 0 && searchMode === \"text\" ? // Show filtered results\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"space-y-3 sm:space-y-4\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"flex items-center gap-2 sm:gap-3\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"w-6 h-6 sm:w-8 sm:h-8 bg-gradient-to-br from-purple-100 to-pink-100 dark:from-purple-900 dark:to-pink-900 rounded-lg flex items-center justify-center\",\n                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                className: \"text-sm sm:text-base\",\n                                                                children: [\n                                                                    searchMode === \"text\" && \"\\uD83D\\uDCDD\",\n                                                                    searchMode === \"ai\" && \"\\uD83C\\uDFAF\",\n                                                                    searchMode === \"hybrid\" && \"⚡\"\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 6718,\n                                                                columnNumber: 23\n                                                            }, this)\n                                                        }, void 0, false, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 6717,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                                                    className: \"text-sm sm:text-base font-semibold text-gray-900 dark:text-gray-100\",\n                                                                    children: [\n                                                                        searchMode === \"text\" && \"Text Search Results\",\n                                                                        searchMode === \"ai\" && \"AI Vision Results\",\n                                                                        searchMode === \"hybrid\" && \"Hybrid Search Results\"\n                                                                    ]\n                                                                }, void 0, true, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 6725,\n                                                                    columnNumber: 23\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                    className: \"text-xs text-gray-600 dark:text-gray-400\",\n                                                                    children: [\n                                                                        searchMode === \"text\" && \"Ranked by keyword relevance\",\n                                                                        searchMode === \"ai\" && \"Ranked by visual relevance\",\n                                                                        searchMode === \"hybrid\" && \"Ranked by combined relevance\"\n                                                                    ]\n                                                                }, void 0, true, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 6730,\n                                                                    columnNumber: 23\n                                                                }, this)\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 6724,\n                                                            columnNumber: 21\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 6716,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"flex overflow-x-scroll gap-3 sm:gap-4 pb-3 -mx-2 px-2 min-w-full\",\n                                                    style: {\n                                                        scrollBehavior: \"smooth\",\n                                                        WebkitOverflowScrolling: \"touch\",\n                                                        scrollbarWidth: \"thin\",\n                                                        scrollSnapType: \"x mandatory\",\n                                                        touchAction: \"pan-x\",\n                                                        overflowX: \"scroll\",\n                                                        overflowY: \"hidden\"\n                                                    },\n                                                    children: (searchMode === \"text\" ? textFilteredCards : aiFilteredCards).map((card, index)=>{\n                                                        var _card_prompt;\n                                                        const frontImage = card.frontCover || card.backCover || card.leftPage || card.rightPage;\n                                                        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"flex-shrink-0 w-48 sm:w-64 touch-pan-x\",\n                                                            style: {\n                                                                scrollSnapAlign: \"start\"\n                                                            },\n                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"\".concat(searchMode === \"text\" ? \"bg-gradient-to-br from-blue-900 to-indigo-900 border-blue-400\" : searchMode === \"ai\" ? \"bg-gradient-to-br from-purple-900 to-blue-900 border-purple-400\" : \"bg-gradient-to-br from-blue-900 via-purple-900 to-indigo-900 border-gradient-to-r border-blue-400\", \" rounded-xl p-2 shadow-inner space-y-2 h-full border-2 relative flex flex-col\"),\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                        className: \"absolute top-2 left-2 z-10 flex gap-1\",\n                                                                        children: [\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_badge__WEBPACK_IMPORTED_MODULE_6__.Badge, {\n                                                                                className: \"\".concat(searchMode === \"text\" ? \"bg-blue-600\" : \"bg-purple-600\", \" text-white text-xs rounded-full shadow-md\"),\n                                                                                children: [\n                                                                                    \"#\",\n                                                                                    index + 1\n                                                                                ]\n                                                                            }, void 0, true, {\n                                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                lineNumber: 6767,\n                                                                                columnNumber: 31\n                                                                            }, this),\n                                                                            (card.aiScore || card.textScore) && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_badge__WEBPACK_IMPORTED_MODULE_6__.Badge, {\n                                                                                className: \"bg-green-600 text-white text-xs rounded-full shadow-md\",\n                                                                                children: [\n                                                                                    searchMode === \"text\" ? card.textScore : card.aiScore,\n                                                                                    searchMode === \"ai\" || searchMode === \"hybrid\" ? \"%\" : \"\"\n                                                                                ]\n                                                                            }, void 0, true, {\n                                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                lineNumber: 6773,\n                                                                                columnNumber: 33\n                                                                            }, this)\n                                                                        ]\n                                                                    }, void 0, true, {\n                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                        lineNumber: 6766,\n                                                                        columnNumber: 29\n                                                                    }, this),\n                                                                    frontImage ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                                                        src: frontImage,\n                                                                        alt: \"Template: \".concat(card.prompt || \"Untitled\"),\n                                                                        className: \"rounded-lg shadow-lg w-full h-auto object-cover select-none pointer-events-none\",\n                                                                        loading: \"lazy\",\n                                                                        style: {\n                                                                            userSelect: \"none\"\n                                                                        }\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                        lineNumber: 6781,\n                                                                        columnNumber: 31\n                                                                    }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                        className: \"w-full h-32 sm:h-48 bg-gradient-to-br from-gray-100 to-gray-200 rounded-lg flex items-center justify-center\",\n                                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                            className: \"text-center text-gray-500\",\n                                                                            children: [\n                                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_52__[\"default\"], {\n                                                                                    className: \"w-6 h-6 sm:w-8 sm:h-8 mx-auto mb-2\"\n                                                                                }, void 0, false, {\n                                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                    lineNumber: 6793,\n                                                                                    columnNumber: 35\n                                                                                }, this),\n                                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                                    className: \"text-xs sm:text-sm\",\n                                                                                    children: \"No preview\"\n                                                                                }, void 0, false, {\n                                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                    lineNumber: 6794,\n                                                                                    columnNumber: 35\n                                                                                }, this)\n                                                                            ]\n                                                                        }, void 0, true, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 6792,\n                                                                            columnNumber: 33\n                                                                        }, this)\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                        lineNumber: 6791,\n                                                                        columnNumber: 31\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                        className: \"text-xs \".concat(searchMode === \"text\" ? \"text-blue-100 bg-blue-800/50\" : \"text-purple-100 bg-purple-800/50\", \" px-2 py-1 rounded space-y-1 flex-1 flex flex-col\"),\n                                                                        children: [\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                className: \"line-clamp-2\",\n                                                                                children: [\n                                                                                    ((_card_prompt = card.prompt) === null || _card_prompt === void 0 ? void 0 : _card_prompt.substring(0, 50)) || \"Untitled\",\n                                                                                    card.prompt && card.prompt.length > 50 && \"...\"\n                                                                                ]\n                                                                            }, void 0, true, {\n                                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                lineNumber: 6802,\n                                                                                columnNumber: 31\n                                                                            }, this),\n                                                                            showPrompts && card.generatedPrompts && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                className: \"text-xs opacity-80 border-t border-white/20 pt-1 space-y-1 hidden sm:block\",\n                                                                                children: [\n                                                                                    card.generatedPrompts.frontCover && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                        children: [\n                                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                                className: \"font-semibold\",\n                                                                                                children: \"Front:\"\n                                                                                            }, void 0, false, {\n                                                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                                lineNumber: 6812,\n                                                                                                columnNumber: 39\n                                                                                            }, this),\n                                                                                            \" \",\n                                                                                            card.generatedPrompts.frontCover.substring(0, 60),\n                                                                                            card.generatedPrompts.frontCover.length > 60 && \"...\"\n                                                                                        ]\n                                                                                    }, void 0, true, {\n                                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                        lineNumber: 6811,\n                                                                                        columnNumber: 37\n                                                                                    }, this),\n                                                                                    card.generatedPrompts.backCover && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                        children: [\n                                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                                className: \"font-semibold\",\n                                                                                                children: \"Back:\"\n                                                                                            }, void 0, false, {\n                                                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                                lineNumber: 6818,\n                                                                                                columnNumber: 39\n                                                                                            }, this),\n                                                                                            \" \",\n                                                                                            card.generatedPrompts.backCover.substring(0, 60),\n                                                                                            card.generatedPrompts.backCover.length > 60 && \"...\"\n                                                                                        ]\n                                                                                    }, void 0, true, {\n                                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                        lineNumber: 6817,\n                                                                                        columnNumber: 37\n                                                                                    }, this)\n                                                                                ]\n                                                                            }, void 0, true, {\n                                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                lineNumber: 6809,\n                                                                                columnNumber: 33\n                                                                            }, this),\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                className: \"flex flex-col gap-1 pt-2 mt-auto\",\n                                                                                children: [\n                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                                                                        size: \"sm\",\n                                                                                        variant: \"outline\",\n                                                                                        className: \"w-full h-6 sm:h-7 text-xs bg-white/10 border-white/20 text-white hover:bg-white/20\",\n                                                                                        onClick: (e)=>{\n                                                                                            e.stopPropagation();\n                                                                                            // Convert GalleryCard to GeneratedCard format for applyTemplate\n                                                                                            const template = {\n                                                                                                id: card.id,\n                                                                                                prompt: card.prompt || \"\",\n                                                                                                frontCover: card.frontCover || \"\",\n                                                                                                backCover: card.backCover || \"\",\n                                                                                                leftPage: card.leftPage || \"\",\n                                                                                                rightPage: card.rightPage || \"\",\n                                                                                                createdAt: new Date(card.createdAt * 1000),\n                                                                                                shareUrl: card.shareUrl,\n                                                                                                generatedPrompts: card.generatedPrompts\n                                                                                            };\n                                                                                            applyTemplate(template);\n                                                                                        },\n                                                                                        children: [\n                                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_47__[\"default\"], {\n                                                                                                className: \"w-2 h-2 sm:w-3 sm:h-3 mr-1\"\n                                                                                            }, void 0, false, {\n                                                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                                lineNumber: 6848,\n                                                                                                columnNumber: 35\n                                                                                            }, this),\n                                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                                className: \"hidden sm:inline\",\n                                                                                                children: \"Customize\"\n                                                                                            }, void 0, false, {\n                                                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                                lineNumber: 6849,\n                                                                                                columnNumber: 35\n                                                                                            }, this),\n                                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                                className: \"sm:hidden\",\n                                                                                                children: \"Custom\"\n                                                                                            }, void 0, false, {\n                                                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                                lineNumber: 6850,\n                                                                                                columnNumber: 35\n                                                                                            }, this)\n                                                                                        ]\n                                                                                    }, void 0, true, {\n                                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                        lineNumber: 6827,\n                                                                                        columnNumber: 33\n                                                                                    }, this),\n                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                                                                        size: \"sm\",\n                                                                                        variant: \"outline\",\n                                                                                        className: \"w-full h-6 sm:h-7 text-xs bg-blue-600/80 border-blue-500/50 text-white hover:bg-blue-600\",\n                                                                                        onClick: (e)=>{\n                                                                                            e.stopPropagation();\n                                                                                            // Convert GalleryCard to GeneratedCard format for preview\n                                                                                            const template = {\n                                                                                                id: card.id,\n                                                                                                prompt: card.prompt || \"\",\n                                                                                                frontCover: card.frontCover || \"\",\n                                                                                                backCover: card.backCover || \"\",\n                                                                                                leftPage: card.leftPage || \"\",\n                                                                                                rightPage: card.rightPage || \"\",\n                                                                                                createdAt: new Date(card.createdAt * 1000),\n                                                                                                shareUrl: card.shareUrl,\n                                                                                                generatedPrompts: card.generatedPrompts\n                                                                                            };\n                                                                                            handleTemplateSelect(template);\n                                                                                        },\n                                                                                        children: [\n                                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_35__[\"default\"], {\n                                                                                                className: \"w-2 h-2 sm:w-3 sm:h-3 mr-1\"\n                                                                                            }, void 0, false, {\n                                                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                                lineNumber: 6873,\n                                                                                                columnNumber: 35\n                                                                                            }, this),\n                                                                                            \"Select\"\n                                                                                        ]\n                                                                                    }, void 0, true, {\n                                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                        lineNumber: 6852,\n                                                                                        columnNumber: 33\n                                                                                    }, this)\n                                                                                ]\n                                                                            }, void 0, true, {\n                                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                lineNumber: 6826,\n                                                                                columnNumber: 31\n                                                                            }, this)\n                                                                        ]\n                                                                    }, void 0, true, {\n                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                        lineNumber: 6799,\n                                                                        columnNumber: 29\n                                                                    }, this)\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 6758,\n                                                                columnNumber: 27\n                                                            }, this)\n                                                        }, card.id, false, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 6753,\n                                                            columnNumber: 25\n                                                        }, this);\n                                                    })\n                                                }, void 0, false, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 6737,\n                                                    columnNumber: 19\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                            lineNumber: 6715,\n                                            columnNumber: 17\n                                        }, this) : // Show all templates\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"space-y-3 sm:space-y-4\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"flex items-center gap-2 sm:gap-3\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"w-6 h-6 sm:w-8 sm:h-8 bg-gradient-to-br from-blue-100 to-cyan-100 dark:from-blue-900 dark:to-cyan-900 rounded-lg flex items-center justify-center\",\n                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                className: \"text-sm sm:text-base\",\n                                                                children: \"\\uD83D\\uDCDA\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 6889,\n                                                                columnNumber: 23\n                                                            }, this)\n                                                        }, void 0, false, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 6888,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                                                    className: \"text-sm sm:text-base font-semibold text-gray-900 dark:text-gray-100\",\n                                                                    children: \"All Templates\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 6892,\n                                                                    columnNumber: 23\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                    className: \"text-xs text-gray-600 dark:text-gray-400\",\n                                                                    children: \"Browse our entire collection\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 6893,\n                                                                    columnNumber: 23\n                                                                }, this)\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 6891,\n                                                            columnNumber: 21\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 6887,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"flex overflow-x-scroll gap-3 sm:gap-4 pb-3 -mx-2 px-2 min-w-full\",\n                                                    style: {\n                                                        scrollBehavior: \"smooth\",\n                                                        WebkitOverflowScrolling: \"touch\",\n                                                        scrollbarWidth: \"thin\",\n                                                        scrollSnapType: \"x mandatory\",\n                                                        touchAction: \"pan-x\",\n                                                        overflowX: \"scroll\",\n                                                        overflowY: \"hidden\"\n                                                    },\n                                                    children: _s1(()=>{\n                                                        _s1();\n                                                        const { getCachedCards, hasCache, totalCards } = (0,_hooks_useCardCache__WEBPACK_IMPORTED_MODULE_20__.useCardCache)();\n                                                        const allCards = hasCache ? getCachedCards(1, Math.max(totalCards, 1000)) : [];\n                                                        return allCards.map((card)=>{\n                                                            var _card_prompt;\n                                                            const frontImage = card.frontCover || card.backCover || card.leftPage || card.rightPage;\n                                                            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"flex-shrink-0 w-48 sm:w-64 touch-pan-x\",\n                                                                style: {\n                                                                    scrollSnapAlign: \"start\"\n                                                                },\n                                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    className: \"bg-gray-900 rounded-xl p-2 shadow-inner space-y-2 h-full flex flex-col\",\n                                                                    children: [\n                                                                        frontImage ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                                                            src: frontImage,\n                                                                            alt: \"Template: \".concat(card.prompt || \"Untitled\"),\n                                                                            className: \"rounded-lg shadow-lg w-full h-auto object-cover select-none pointer-events-none\",\n                                                                            loading: \"lazy\",\n                                                                            style: {\n                                                                                userSelect: \"none\"\n                                                                            }\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 6923,\n                                                                            columnNumber: 35\n                                                                        }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                            className: \"w-full h-32 sm:h-48 bg-gradient-to-br from-gray-100 to-gray-200 rounded-lg flex items-center justify-center\",\n                                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                className: \"text-center text-gray-500\",\n                                                                                children: [\n                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_52__[\"default\"], {\n                                                                                        className: \"w-6 h-6 sm:w-8 sm:h-8 mx-auto mb-2\"\n                                                                                    }, void 0, false, {\n                                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                        lineNumber: 6935,\n                                                                                        columnNumber: 39\n                                                                                    }, this),\n                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                                        className: \"text-xs sm:text-sm\",\n                                                                                        children: \"No preview\"\n                                                                                    }, void 0, false, {\n                                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                        lineNumber: 6936,\n                                                                                        columnNumber: 39\n                                                                                    }, this)\n                                                                                ]\n                                                                            }, void 0, true, {\n                                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                lineNumber: 6934,\n                                                                                columnNumber: 37\n                                                                            }, this)\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 6933,\n                                                                            columnNumber: 35\n                                                                        }, this),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                            className: \"text-xs text-gray-100 bg-gray-800/50 px-2 py-1 rounded space-y-1 flex-1 flex flex-col\",\n                                                                            children: [\n                                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                    className: \"line-clamp-2\",\n                                                                                    children: [\n                                                                                        ((_card_prompt = card.prompt) === null || _card_prompt === void 0 ? void 0 : _card_prompt.substring(0, 50)) || \"Untitled\",\n                                                                                        card.prompt && card.prompt.length > 50 && \"...\"\n                                                                                    ]\n                                                                                }, void 0, true, {\n                                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                    lineNumber: 6942,\n                                                                                    columnNumber: 35\n                                                                                }, this),\n                                                                                showPrompts && card.generatedPrompts && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                    className: \"text-xs opacity-80 border-t border-white/20 pt-1 space-y-1 hidden sm:block\",\n                                                                                    children: [\n                                                                                        card.generatedPrompts.frontCover && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                            children: [\n                                                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                                    className: \"font-semibold\",\n                                                                                                    children: \"Front:\"\n                                                                                                }, void 0, false, {\n                                                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                                    lineNumber: 6952,\n                                                                                                    columnNumber: 43\n                                                                                                }, this),\n                                                                                                \" \",\n                                                                                                card.generatedPrompts.frontCover.substring(0, 60),\n                                                                                                card.generatedPrompts.frontCover.length > 60 && \"...\"\n                                                                                            ]\n                                                                                        }, void 0, true, {\n                                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                            lineNumber: 6951,\n                                                                                            columnNumber: 41\n                                                                                        }, this),\n                                                                                        card.generatedPrompts.backCover && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                            children: [\n                                                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                                    className: \"font-semibold\",\n                                                                                                    children: \"Back:\"\n                                                                                                }, void 0, false, {\n                                                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                                    lineNumber: 6958,\n                                                                                                    columnNumber: 43\n                                                                                                }, this),\n                                                                                                \" \",\n                                                                                                card.generatedPrompts.backCover.substring(0, 60),\n                                                                                                card.generatedPrompts.backCover.length > 60 && \"...\"\n                                                                                            ]\n                                                                                        }, void 0, true, {\n                                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                            lineNumber: 6957,\n                                                                                            columnNumber: 41\n                                                                                        }, this)\n                                                                                    ]\n                                                                                }, void 0, true, {\n                                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                    lineNumber: 6949,\n                                                                                    columnNumber: 37\n                                                                                }, this),\n                                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                    className: \"flex flex-col gap-1 pt-2 mt-auto\",\n                                                                                    children: [\n                                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                                                                            size: \"sm\",\n                                                                                            variant: \"outline\",\n                                                                                            className: \"w-full h-6 sm:h-7 text-xs bg-white/10 border-white/20 text-white hover:bg-white/20\",\n                                                                                            onClick: (e)=>{\n                                                                                                e.stopPropagation();\n                                                                                                // Convert GalleryCard to GeneratedCard format for applyTemplate\n                                                                                                const template = {\n                                                                                                    id: card.id,\n                                                                                                    prompt: card.prompt || \"\",\n                                                                                                    frontCover: card.frontCover || \"\",\n                                                                                                    backCover: card.backCover || \"\",\n                                                                                                    leftPage: card.leftPage || \"\",\n                                                                                                    rightPage: card.rightPage || \"\",\n                                                                                                    createdAt: new Date(card.createdAt * 1000),\n                                                                                                    shareUrl: card.shareUrl,\n                                                                                                    generatedPrompts: card.generatedPrompts\n                                                                                                };\n                                                                                                applyTemplate(template);\n                                                                                            },\n                                                                                            children: [\n                                                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_47__[\"default\"], {\n                                                                                                    className: \"w-2 h-2 sm:w-3 sm:h-3 mr-1\"\n                                                                                                }, void 0, false, {\n                                                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                                    lineNumber: 6988,\n                                                                                                    columnNumber: 39\n                                                                                                }, this),\n                                                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                                    className: \"hidden sm:inline\",\n                                                                                                    children: \"Customize\"\n                                                                                                }, void 0, false, {\n                                                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                                    lineNumber: 6989,\n                                                                                                    columnNumber: 39\n                                                                                                }, this),\n                                                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                                    className: \"sm:hidden\",\n                                                                                                    children: \"Custom\"\n                                                                                                }, void 0, false, {\n                                                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                                    lineNumber: 6990,\n                                                                                                    columnNumber: 39\n                                                                                                }, this)\n                                                                                            ]\n                                                                                        }, void 0, true, {\n                                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                            lineNumber: 6967,\n                                                                                            columnNumber: 37\n                                                                                        }, this),\n                                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                                                                            size: \"sm\",\n                                                                                            variant: \"outline\",\n                                                                                            className: \"w-full h-6 sm:h-7 text-xs bg-blue-600/80 border-blue-500/50 text-white hover:bg-blue-600\",\n                                                                                            onClick: (e)=>{\n                                                                                                e.stopPropagation();\n                                                                                                // Convert GalleryCard to GeneratedCard format for preview\n                                                                                                const template = {\n                                                                                                    id: card.id,\n                                                                                                    prompt: card.prompt || \"\",\n                                                                                                    frontCover: card.frontCover || \"\",\n                                                                                                    backCover: card.backCover || \"\",\n                                                                                                    leftPage: card.leftPage || \"\",\n                                                                                                    rightPage: card.rightPage || \"\",\n                                                                                                    createdAt: new Date(card.createdAt * 1000),\n                                                                                                    shareUrl: card.shareUrl,\n                                                                                                    generatedPrompts: card.generatedPrompts\n                                                                                                };\n                                                                                                handleTemplateSelect(template);\n                                                                                            },\n                                                                                            children: [\n                                                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_35__[\"default\"], {\n                                                                                                    className: \"w-2 h-2 sm:w-3 sm:h-3 mr-1\"\n                                                                                                }, void 0, false, {\n                                                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                                    lineNumber: 7013,\n                                                                                                    columnNumber: 39\n                                                                                                }, this),\n                                                                                                \"Select\"\n                                                                                            ]\n                                                                                        }, void 0, true, {\n                                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                            lineNumber: 6992,\n                                                                                            columnNumber: 37\n                                                                                        }, this)\n                                                                                    ]\n                                                                                }, void 0, true, {\n                                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                    lineNumber: 6966,\n                                                                                    columnNumber: 35\n                                                                                }, this)\n                                                                            ]\n                                                                        }, void 0, true, {\n                                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                            lineNumber: 6941,\n                                                                            columnNumber: 33\n                                                                        }, this)\n                                                                    ]\n                                                                }, void 0, true, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 6921,\n                                                                    columnNumber: 31\n                                                                }, this)\n                                                            }, card.id, false, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 6916,\n                                                                columnNumber: 29\n                                                            }, this);\n                                                        });\n                                                    }, \"tBPKCcMpqyXH39aswRyE/f0AIOU=\", false, function() {\n                                                        return [\n                                                            _hooks_useCardCache__WEBPACK_IMPORTED_MODULE_20__.useCardCache\n                                                        ];\n                                                    })()\n                                                }, void 0, false, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 6896,\n                                                    columnNumber: 21\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                            lineNumber: 6886,\n                                            columnNumber: 17\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                        lineNumber: 6712,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"bg-gray-100 dark:bg-gray-800 p-3 sm:p-4 rounded-b-xl -m-3 sm:-m-6 mt-4 flex-shrink-0\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3 sm:gap-0\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"flex items-center gap-2\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"w-5 h-5 sm:w-6 sm:h-6 bg-gradient-to-br from-purple-100 to-pink-100 dark:from-purple-900 dark:to-pink-900 rounded-full flex items-center justify-center\",\n                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                className: \"text-xs\",\n                                                                children: \"\\uD83D\\uDCA1\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 7032,\n                                                                columnNumber: 21\n                                                            }, this)\n                                                        }, void 0, false, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 7031,\n                                                            columnNumber: 19\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                            className: \"text-xs sm:text-sm text-gray-700 dark:text-gray-300\",\n                                                            children: aiFilteredCards.length > 0 ? \"AI has ranked these templates by relevance to your search\" : \"Use 'Customize' to personalize templates or 'Select' to use as-is\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 7034,\n                                                            columnNumber: 19\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 7030,\n                                                    columnNumber: 17\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                                    variant: \"outline\",\n                                                    onClick: ()=>{\n                                                        setShowTemplateGallery(false);\n                                                        clearTemplateSearch();\n                                                    },\n                                                    className: \"gap-1 sm:gap-2 border-2 h-8 sm:h-9 text-xs sm:text-sm w-full sm:w-auto\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_46__[\"default\"], {\n                                                            className: \"w-3 h-3 sm:w-4 sm:h-4\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 7049,\n                                                            columnNumber: 19\n                                                        }, this),\n                                                        \"Close\"\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 7041,\n                                                    columnNumber: 17\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                            lineNumber: 7029,\n                                            columnNumber: 15\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                        lineNumber: 7028,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                lineNumber: 6548,\n                                columnNumber: 13\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                            lineNumber: 6547,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                        lineNumber: 6546,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_dialog__WEBPACK_IMPORTED_MODULE_11__.Dialog, {\n                        open: previewingDraftIndex !== -1,\n                        onOpenChange: (open)=>!open && setPreviewingDraftIndex(-1),\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_dialog__WEBPACK_IMPORTED_MODULE_11__.DialogContent, {\n                            className: \"sm:max-w-4xl max-h-[90vh] overflow-auto\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_dialog__WEBPACK_IMPORTED_MODULE_11__.DialogHeader, {\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_dialog__WEBPACK_IMPORTED_MODULE_11__.DialogTitle, {\n                                            className: \"flex items-center gap-2\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_35__[\"default\"], {\n                                                    className: \"w-5 h-5 text-purple-600\"\n                                                }, void 0, false, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 7063,\n                                                    columnNumber: 17\n                                                }, this),\n                                                \"Front Cover Design \",\n                                                previewingDraftIndex !== -1 ? draftIndexMapping[previewingDraftIndex] + 1 : 1,\n                                                \" - Preview\"\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                            lineNumber: 7062,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_dialog__WEBPACK_IMPORTED_MODULE_11__.DialogDescription, {\n                                            children: \"Low quality preview of the front cover design. Select this design to generate the complete high-quality card.\"\n                                        }, void 0, false, {\n                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                            lineNumber: 7066,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                    lineNumber: 7061,\n                                    columnNumber: 13\n                                }, this),\n                                previewingDraftIndex !== -1 && draftCards[previewingDraftIndex] && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"space-y-6\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"bg-gray-50 dark:bg-gray-800 rounded-lg p-4\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_CardPreview__WEBPACK_IMPORTED_MODULE_14__[\"default\"], {\n                                                card: draftCards[previewingDraftIndex],\n                                                onCardUpdate: ()=>{},\n                                                isFrontBackOnly: true,\n                                                onPrint: ()=>{},\n                                                paperConfig: paperSizes.find((size)=>size.id === selectedPaperSize) || paperSizes[0],\n                                                sectionLoadingStates: {\n                                                    frontCover: \"completed\",\n                                                    backCover: \"idle\",\n                                                    leftInterior: \"idle\",\n                                                    rightInterior: \"idle\"\n                                                },\n                                                selectedPaperSize: selectedPaperSize,\n                                                onPaperSizeChange: ()=>{},\n                                                paperSizes: paperSizes,\n                                                isCardCompleted: false,\n                                                fastPreviewMode: false,\n                                                onViewFullCard: ()=>{}\n                                            }, void 0, false, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 7075,\n                                                columnNumber: 19\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                            lineNumber: 7074,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex gap-3 justify-center pt-4 border-t\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                                    variant: \"outline\",\n                                                    onClick: ()=>setPreviewingDraftIndex(-1),\n                                                    children: \"Close Preview\"\n                                                }, void 0, false, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 7098,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                                    onClick: ()=>{\n                                                        setSelectedDraftIndex(previewingDraftIndex);\n                                                        setPreviewingDraftIndex(-1);\n                                                    },\n                                                    className: \"bg-purple-600 hover:bg-purple-700 text-white\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_50__[\"default\"], {\n                                                            className: \"w-4 h-4 mr-2\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                            lineNumber: 7111,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        \"Select This Design\"\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 7104,\n                                                    columnNumber: 19\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                            lineNumber: 7097,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                    lineNumber: 7072,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                            lineNumber: 7060,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                        lineNumber: 7059,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_dialog__WEBPACK_IMPORTED_MODULE_11__.Dialog, {\n                        open: showPrintConfirmation,\n                        onOpenChange: setShowPrintConfirmation,\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_dialog__WEBPACK_IMPORTED_MODULE_11__.DialogContent, {\n                            className: \"sm:max-w-lg\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_dialog__WEBPACK_IMPORTED_MODULE_11__.DialogHeader, {\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_dialog__WEBPACK_IMPORTED_MODULE_11__.DialogTitle, {\n                                            className: \"flex items-center gap-2\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_54__[\"default\"], {\n                                                    className: \"w-5 h-5 text-amber-500\"\n                                                }, void 0, false, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 7125,\n                                                    columnNumber: 17\n                                                }, this),\n                                                \"Get Your Card\"\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                            lineNumber: 7124,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_dialog__WEBPACK_IMPORTED_MODULE_11__.DialogDescription, {\n                                            children: \"How would you like to receive your greeting card?\"\n                                        }, void 0, false, {\n                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                            lineNumber: 7128,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                    lineNumber: 7123,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"space-y-4\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"space-y-3\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                    className: \"text-sm font-medium text-gray-700 dark:text-gray-300\",\n                                                    children: \"Choose delivery method:\"\n                                                }, void 0, false, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 7136,\n                                                    columnNumber: 17\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"p-4 rounded-lg border-2 cursor-pointer transition-all \".concat(printOption === \"physical\" ? \"border-blue-500 bg-blue-50 dark:bg-blue-900/20\" : \"border-gray-200 dark:border-gray-700 hover:border-gray-300\"),\n                                                    onClick: ()=>setPrintOption(\"physical\"),\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"flex items-start gap-3\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"flex items-center\",\n                                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                                    type: \"radio\",\n                                                                    checked: printOption === \"physical\",\n                                                                    onChange: ()=>setPrintOption(\"physical\"),\n                                                                    className: \"w-4 h-4 text-blue-600\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 7151,\n                                                                    columnNumber: 23\n                                                                }, this)\n                                                            }, void 0, false, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 7150,\n                                                                columnNumber: 21\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"flex-1\",\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                        className: \"flex items-center gap-2 mb-1\",\n                                                                        children: [\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_55__[\"default\"], {\n                                                                                className: \"w-5 h-5 text-blue-600\"\n                                                                            }, void 0, false, {\n                                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                lineNumber: 7160,\n                                                                                columnNumber: 25\n                                                                            }, this),\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h4\", {\n                                                                                className: \"font-medium text-blue-900 dark:text-blue-100\",\n                                                                                children: \"Physical Print & Pickup\"\n                                                                            }, void 0, false, {\n                                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                lineNumber: 7161,\n                                                                                columnNumber: 25\n                                                                            }, this)\n                                                                        ]\n                                                                    }, void 0, true, {\n                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                        lineNumber: 7159,\n                                                                        columnNumber: 23\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                        className: \"text-sm text-blue-800 dark:text-blue-200\",\n                                                                        children: \"Print your card at our location. Ready for pickup in just a few minutes.\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                        lineNumber: 7165,\n                                                                        columnNumber: 23\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                        className: \"mt-2 space-y-1\",\n                                                                        children: [\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                className: \"flex items-center gap-2 text-xs text-gray-600 dark:text-gray-400\",\n                                                                                children: [\n                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                        className: \"w-1.5 h-1.5 bg-green-500 rounded-full\"\n                                                                                    }, void 0, false, {\n                                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                        lineNumber: 7170,\n                                                                                        columnNumber: 27\n                                                                                    }, this),\n                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                        children: \"High quality color printing\"\n                                                                                    }, void 0, false, {\n                                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                        lineNumber: 7171,\n                                                                                        columnNumber: 27\n                                                                                    }, this)\n                                                                                ]\n                                                                            }, void 0, true, {\n                                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                lineNumber: 7169,\n                                                                                columnNumber: 25\n                                                                            }, this),\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                className: \"flex items-center gap-2 text-xs text-gray-600 dark:text-gray-400\",\n                                                                                children: [\n                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                        className: \"w-1.5 h-1.5 bg-green-500 rounded-full\"\n                                                                                    }, void 0, false, {\n                                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                        lineNumber: 7174,\n                                                                                        columnNumber: 27\n                                                                                    }, this),\n                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                        children: isFrontBackOnly ? \"Front and back only\" : \"Full greeting card with interior pages\"\n                                                                                    }, void 0, false, {\n                                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                        lineNumber: 7175,\n                                                                                        columnNumber: 27\n                                                                                    }, this)\n                                                                                ]\n                                                                            }, void 0, true, {\n                                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                lineNumber: 7173,\n                                                                                columnNumber: 25\n                                                                            }, this),\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                className: \"flex items-center gap-2 text-xs text-gray-600 dark:text-gray-400\",\n                                                                                children: [\n                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                        className: \"w-1.5 h-1.5 bg-green-500 rounded-full\"\n                                                                                    }, void 0, false, {\n                                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                        lineNumber: 7180,\n                                                                                        columnNumber: 27\n                                                                                    }, this),\n                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                        children: \"Ready for pickup shortly\"\n                                                                                    }, void 0, false, {\n                                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                        lineNumber: 7181,\n                                                                                        columnNumber: 27\n                                                                                    }, this)\n                                                                                ]\n                                                                            }, void 0, true, {\n                                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                lineNumber: 7179,\n                                                                                columnNumber: 25\n                                                                            }, this)\n                                                                        ]\n                                                                    }, void 0, true, {\n                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                        lineNumber: 7168,\n                                                                        columnNumber: 23\n                                                                    }, this)\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 7158,\n                                                                columnNumber: 21\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 7149,\n                                                        columnNumber: 19\n                                                    }, this)\n                                                }, void 0, false, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 7141,\n                                                    columnNumber: 17\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"p-4 rounded-lg border-2 cursor-pointer transition-all \".concat(printOption === \"email\" ? \"border-green-500 bg-green-50 dark:bg-green-900/20\" : \"border-gray-200 dark:border-gray-700 hover:border-gray-300\"),\n                                                    onClick: ()=>setPrintOption(\"email\"),\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"flex items-start gap-3\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"flex items-center\",\n                                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                                    type: \"radio\",\n                                                                    checked: printOption === \"email\",\n                                                                    onChange: ()=>setPrintOption(\"email\"),\n                                                                    className: \"w-4 h-4 text-green-600\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                    lineNumber: 7199,\n                                                                    columnNumber: 23\n                                                                }, this)\n                                                            }, void 0, false, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 7198,\n                                                                columnNumber: 21\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"flex-1\",\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                        className: \"flex items-center gap-2 mb-1\",\n                                                                        children: [\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_34__[\"default\"], {\n                                                                                className: \"w-5 h-5 text-green-600\"\n                                                                            }, void 0, false, {\n                                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                lineNumber: 7208,\n                                                                                columnNumber: 25\n                                                                            }, this),\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h4\", {\n                                                                                className: \"font-medium text-green-900 dark:text-green-100\",\n                                                                                children: \"Email PDF\"\n                                                                            }, void 0, false, {\n                                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                lineNumber: 7209,\n                                                                                columnNumber: 25\n                                                                            }, this)\n                                                                        ]\n                                                                    }, void 0, true, {\n                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                        lineNumber: 7207,\n                                                                        columnNumber: 23\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                        className: \"text-sm text-green-800 dark:text-green-200\",\n                                                                        children: [\n                                                                            \"Receive a high-quality PDF of your card at \",\n                                                                            userEmail,\n                                                                            \". Print at home or any print shop.\"\n                                                                        ]\n                                                                    }, void 0, true, {\n                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                        lineNumber: 7213,\n                                                                        columnNumber: 23\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                        className: \"mt-2 space-y-1\",\n                                                                        children: [\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                className: \"flex items-center gap-2 text-xs text-gray-600 dark:text-gray-400\",\n                                                                                children: [\n                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                        className: \"w-1.5 h-1.5 bg-green-500 rounded-full\"\n                                                                                    }, void 0, false, {\n                                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                        lineNumber: 7218,\n                                                                                        columnNumber: 27\n                                                                                    }, this),\n                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                        children: \"Instant delivery to your inbox\"\n                                                                                    }, void 0, false, {\n                                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                        lineNumber: 7219,\n                                                                                        columnNumber: 27\n                                                                                    }, this)\n                                                                                ]\n                                                                            }, void 0, true, {\n                                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                lineNumber: 7217,\n                                                                                columnNumber: 25\n                                                                            }, this),\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                className: \"flex items-center gap-2 text-xs text-gray-600 dark:text-gray-400\",\n                                                                                children: [\n                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                        className: \"w-1.5 h-1.5 bg-green-500 rounded-full\"\n                                                                                    }, void 0, false, {\n                                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                        lineNumber: 7222,\n                                                                                        columnNumber: 27\n                                                                                    }, this),\n                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                        children: \"Print anywhere, anytime\"\n                                                                                    }, void 0, false, {\n                                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                        lineNumber: 7223,\n                                                                                        columnNumber: 27\n                                                                                    }, this)\n                                                                                ]\n                                                                            }, void 0, true, {\n                                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                lineNumber: 7221,\n                                                                                columnNumber: 25\n                                                                            }, this),\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                className: \"flex items-center gap-2 text-xs text-gray-600 dark:text-gray-400\",\n                                                                                children: [\n                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                        className: \"w-1.5 h-1.5 bg-green-500 rounded-full\"\n                                                                                    }, void 0, false, {\n                                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                        lineNumber: 7226,\n                                                                                        columnNumber: 27\n                                                                                    }, this),\n                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                        children: \"High-resolution PDF optimized for printing\"\n                                                                                    }, void 0, false, {\n                                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                        lineNumber: 7227,\n                                                                                        columnNumber: 27\n                                                                                    }, this)\n                                                                                ]\n                                                                            }, void 0, true, {\n                                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                                lineNumber: 7225,\n                                                                                columnNumber: 25\n                                                                            }, this)\n                                                                        ]\n                                                                    }, void 0, true, {\n                                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                        lineNumber: 7216,\n                                                                        columnNumber: 23\n                                                                    }, this)\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                                lineNumber: 7206,\n                                                                columnNumber: 21\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 7197,\n                                                        columnNumber: 19\n                                                    }, this)\n                                                }, void 0, false, {\n                                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                    lineNumber: 7189,\n                                                    columnNumber: 17\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                            lineNumber: 7135,\n                                            columnNumber: 15\n                                        }, this),\n                                        printOption === \"physical\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"bg-amber-50 dark:bg-amber-900/20 p-3 rounded-lg\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                className: \"text-sm text-amber-800 dark:text-amber-200\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"strong\", {\n                                                        children: \"Please confirm:\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 7238,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    \" You are ready to pick up your printed card from our location.\"\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                lineNumber: 7237,\n                                                columnNumber: 19\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                            lineNumber: 7236,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                    lineNumber: 7133,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex gap-3 mt-6\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                            variant: \"outline\",\n                                            onClick: ()=>setShowPrintConfirmation(false),\n                                            className: \"flex-1\",\n                                            children: \"Cancel\"\n                                        }, void 0, false, {\n                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                            lineNumber: 7245,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_2__.Button, {\n                                            onClick: handleConfirmPrint,\n                                            className: \"flex-1 \".concat(printOption === \"email\" ? \"bg-green-600 hover:bg-green-700\" : \"bg-blue-600 hover:bg-blue-700\"),\n                                            children: printOption === \"email\" ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_34__[\"default\"], {\n                                                        className: \"w-4 h-4 mr-2\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 7262,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    \"Send PDF to Email\"\n                                                ]\n                                            }, void 0, true) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_Baby_Cake_CheckCircle_ChevronDown_Church_Clock_CloudRain_Eye_Gift_GraduationCap_Heart_Home_Image_MessageCircle_MessageSquare_MessageSquarePlus_Palette_Printer_Redo2_RefreshCw_Settings_Settings2_Sparkles_Stethoscope_ThumbsUp_TreePine_Trophy_Undo2_Upload_Wand2_Wrench_X_lucide_react__WEBPACK_IMPORTED_MODULE_55__[\"default\"], {\n                                                        className: \"w-4 h-4 mr-2\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                                        lineNumber: 7267,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    \"Print Card\"\n                                                ]\n                                            }, void 0, true)\n                                        }, void 0, false, {\n                                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                            lineNumber: 7252,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                                    lineNumber: 7244,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                            lineNumber: 7122,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                        lineNumber: 7121,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n                lineNumber: 4989,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/var/www/flask_app/ast_chat/app/page.tsx\",\n        lineNumber: 4906,\n        columnNumber: 5\n    }, this);\n}\n_s(CardStudioPage, \"bnP9+PHAIfYGyd5imCmuD8tLcOA=\", false, function() {\n    return [\n        _hooks_useCardCache__WEBPACK_IMPORTED_MODULE_20__.useCardCache\n    ];\n});\n_c = CardStudioPage;\nvar _c;\n$RefreshReg$(_c, \"CardStudioPage\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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REFBQ21oQixXQUFVOzs7Ozs7b0RBQWlCOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBV3hEO0dBOXNOd0J0YTs7UUF5eUJrQ2xFLDhEQUFZQTs7O0tBenlCOUNrRSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9hcHAvcGFnZS50c3g/NzYwMyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIjtcblxuaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IEJ1dHRvbiB9IGZyb20gXCJAL2NvbXBvbmVudHMvdWkvYnV0dG9uXCI7XG5pbXBvcnQgeyBJbnB1dCB9IGZyb20gXCJAL2NvbXBvbmVudHMvdWkvaW5wdXRcIjtcbmltcG9ydCB7IFRleHRhcmVhIH0gZnJvbSBcIkAvY29tcG9uZW50cy91aS90ZXh0YXJlYVwiO1xuaW1wb3J0IHsgQ2FyZCwgQ2FyZENvbnRlbnQsIENhcmREZXNjcmlwdGlvbiwgQ2FyZEhlYWRlciwgQ2FyZFRpdGxlIH0gZnJvbSBcIkAvY29tcG9uZW50cy91aS9jYXJkXCI7XG5pbXBvcnQgeyBCYWRnZSB9IGZyb20gXCJAL2NvbXBvbmVudHMvdWkvYmFkZ2VcIjtcbmltcG9ydCB7IFNlcGFyYXRvciB9IGZyb20gXCJAL2NvbXBvbmVudHMvdWkvc2VwYXJhdG9yXCI7XG5pbXBvcnQgeyBTZWxlY3QsIFNlbGVjdENvbnRlbnQsIFNlbGVjdEl0ZW0sIFNlbGVjdFRyaWdnZXIsIFNlbGVjdFZhbHVlIH0gZnJvbSBcIkAvY29tcG9uZW50cy91aS9zZWxlY3RcIjtcbmltcG9ydCB7IENvbGxhcHNpYmxlLCBDb2xsYXBzaWJsZUNvbnRlbnQsIENvbGxhcHNpYmxlVHJpZ2dlciB9IGZyb20gXCJAL2NvbXBvbmVudHMvdWkvY29sbGFwc2libGVcIjtcbmltcG9ydCB7IFBvcG92ZXIsIFBvcG92ZXJDb250ZW50LCBQb3BvdmVyVHJpZ2dlciB9IGZyb20gXCJAL2NvbXBvbmVudHMvdWkvcG9wb3ZlclwiO1xuaW1wb3J0IHsgRGlhbG9nLCBEaWFsb2dDb250ZW50LCBEaWFsb2dEZXNjcmlwdGlvbiwgRGlhbG9nSGVhZGVyLCBEaWFsb2dUaXRsZSB9IGZyb20gXCJAL2NvbXBvbmVudHMvdWkvZGlhbG9nXCI7XG5pbXBvcnQgeyBBcnJvd0xlZnQsIFNwYXJrbGVzLCBQcmludGVyLCBIZWFydCwgR2lmdCwgR3JhZHVhdGlvbkNhcCwgQ2FsZW5kYXIsIFdhbmQyLCBNZXNzYWdlU3F1YXJlUGx1cywgQ2hldnJvbkRvd24sIFNldHRpbmdzLCBaYXAsIFBhbGV0dGUsIEVkaXQzLCBVcGxvYWQsIFgsIENha2UsIFRodW1ic1VwLCBQYXJ0eVBvcHBlciwgVHJvcGh5LCBUcmVlUGluZSwgU3RldGhvc2NvcGUsIENsb3VkUmFpbiwgQmFieSwgQ2h1cmNoLCBIb21lLCBNZXNzYWdlQ2lyY2xlLCBFeWUsIFdyZW5jaCwgQ2xvY2ssIFVuZG8yLCBSZWRvMiwgUmVmcmVzaEN3LCBTZXR0aW5nczIsIEFsZXJ0VHJpYW5nbGUsIENoZWNrQ2lyY2xlLCBDaXJjbGUsIEltYWdlIGFzIEltYWdlSWNvbiwgTWVzc2FnZVNxdWFyZSB9IGZyb20gXCJsdWNpZGUtcmVhY3RcIjtcbmltcG9ydCBMaW5rIGZyb20gXCJuZXh0L2xpbmtcIjtcbmltcG9ydCB7IHRvYXN0IH0gZnJvbSBcInNvbm5lclwiO1xuaW1wb3J0IENhcmRQcmV2aWV3IGZyb20gXCJAL2NvbXBvbmVudHMvQ2FyZFByZXZpZXdcIjtcbmltcG9ydCAqIGFzIFFSQ29kZSBmcm9tICdxcmNvZGUnO1xuaW1wb3J0IHsgdjQgYXMgdXVpZHY0IH0gZnJvbSAndXVpZCc7XG5pbXBvcnQgeyBNb2RlVG9nZ2xlIH0gZnJvbSBcIkAvY29tcG9uZW50cy9tb2RlLXRvZ2dsZVwiO1xuaW1wb3J0IFJlY2VudENhcmRzUHJldmlldyBmcm9tIFwiQC9jb21wb25lbnRzL1JlY2VudENhcmRzUHJldmlld1wiO1xuaW1wb3J0IEZhc3RIb3Jpem9udGFsR2FsbGVyeSBmcm9tIFwiQC9jb21wb25lbnRzL0Zhc3RIb3Jpem9udGFsR2FsbGVyeVwiO1xuaW1wb3J0IENyaXRpY2FsUmVzb3VyY2VQcmVsb2FkZXIgZnJvbSBcIkAvY29tcG9uZW50cy9Dcml0aWNhbFJlc291cmNlUHJlbG9hZGVyXCI7XG5pbXBvcnQgRWFybHlDYXJkUHJlbG9hZGVyIGZyb20gXCJAL2NvbXBvbmVudHMvRWFybHlDYXJkUHJlbG9hZGVyXCI7XG5pbXBvcnQgeyB1c2VDYXJkQ2FjaGUgfSBmcm9tIFwiQC9ob29rcy91c2VDYXJkQ2FjaGVcIjtcblxuLy8gQ29uZmlndXJhdGlvbiBmb3IgdGhlIGJhY2tlbmQgQVBJIGVuZHBvaW50XG5jb25zdCBCQUNLRU5EX0FQSV9CQVNFX1VSTCA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0JBQ0tFTkRfQVBJX1VSTCB8fCAnaHR0cHM6Ly92aWJlY2FyZGluZy5jb20nO1xuXG5pbnRlcmZhY2UgR2VuZXJhdGVkQ2FyZCB7XG4gIGlkOiBzdHJpbmc7XG4gIHByb21wdDogc3RyaW5nO1xuICBmcm9udENvdmVyOiBzdHJpbmc7ICAgICAgLy8gUG9ydHJhaXQgaW1hZ2UgLSB3aGF0IHJlY2lwaWVudHMgc2VlIGZpcnN0XG4gIGJhY2tDb3Zlcjogc3RyaW5nOyAgICAgICAvLyBQb3J0cmFpdCBpbWFnZSAtIGJhY2sgb2YgdGhlIGNhcmRcbiAgbGVmdFBhZ2U6IHN0cmluZzsgICAgICAgIC8vIFBvcnRyYWl0IGltYWdlIC0gbGVmdCBpbnRlcmlvciAoZGVjb3JhdGl2ZSBhcnQpXG4gIHJpZ2h0UGFnZTogc3RyaW5nOyAgICAgICAvLyBQb3J0cmFpdCBpbWFnZSAtIHJpZ2h0IGludGVyaW9yIChtZXNzYWdlIGFyZWEpXG4gIGNyZWF0ZWRBdDogRGF0ZTtcbiAgc2hhcmVVcmw/OiBzdHJpbmc7ICAgICAgIC8vIFNoYXJlYWJsZSBVUkwgZm9yIHRoZSBjYXJkXG4gIC8vIFN0b3JlIHRoZSBhY3R1YWwgcHJvbXB0cyBzZW50IHRvIGltYWdlIGdlbmVyYXRpb25cbiAgZ2VuZXJhdGVkUHJvbXB0cz86IHtcbiAgICBmcm9udENvdmVyPzogc3RyaW5nO1xuICAgIGJhY2tDb3Zlcj86IHN0cmluZztcbiAgICBsZWZ0SW50ZXJpb3I/OiBzdHJpbmc7XG4gICAgcmlnaHRJbnRlcmlvcj86IHN0cmluZztcbiAgfTtcbiAgLy8gVGh1bWJuYWlsIFVSTHMgZm9yIGZhc3RlciBsb2FkaW5nXG4gIHRodW1ibmFpbHM/OiB7XG4gICAgZnJvbnRDb3Zlcj86IHN0cmluZztcbiAgICBiYWNrQ292ZXI/OiBzdHJpbmc7XG4gICAgbGVmdFBhZ2U/OiBzdHJpbmc7XG4gICAgcmlnaHRQYWdlPzogc3RyaW5nO1xuICB9O1xuICAvLyBTdHlsZSBpbmZvcm1hdGlvbiBmb3Igc21hcnQgc3R5bGUgbW9kZVxuICBzdHlsZUluZm8/OiB7XG4gICAgc3R5bGVOYW1lPzogc3RyaW5nO1xuICAgIHN0eWxlTGFiZWw/OiBzdHJpbmc7XG4gIH07XG59XG5cbi8vIENvbW1vbiBjYXJkIHR5cGVzIHdpdGggY3VzdG9tIG9wdGlvblxuY29uc3QgY2FyZFR5cGVzID0gW1xuICB7IGlkOiBcImN1c3RvbVwiLCBsYWJlbDogXCJDdXN0b21cIiwgZGVzY3JpcHRpb246IFwiQ3JlYXRlIHlvdXIgb3duIHVuaXF1ZSBjYXJkIHR5cGVcIiwgaWNvbjogV3JlbmNoIH0sXG4gIHsgaWQ6IFwiYmlydGhkYXlcIiwgbGFiZWw6IFwiQmlydGhkYXlcIiwgZGVzY3JpcHRpb246IFwiQ2VsZWJyYXRlIGFub3RoZXIgeWVhciBvZiBsaWZlXCIsIGljb246IENha2UgfSxcbiAgeyBpZDogXCJ0aGFuay15b3VcIiwgbGFiZWw6IFwiVGhhbmsgWW91XCIsIGRlc2NyaXB0aW9uOiBcIkV4cHJlc3MgZ3JhdGl0dWRlIGFuZCBhcHByZWNpYXRpb25cIiwgaWNvbjogVGh1bWJzVXAgfSxcbiAgeyBpZDogXCJhbm5pdmVyc2FyeVwiLCBsYWJlbDogXCJBbm5pdmVyc2FyeVwiLCBkZXNjcmlwdGlvbjogXCJDb21tZW1vcmF0ZSBzcGVjaWFsIG1pbGVzdG9uZXNcIiwgaWNvbjogSGVhcnQgfSxcbiAgeyBpZDogXCJjb25ncmF0dWxhdGlvbnNcIiwgbGFiZWw6IFwiQ29uZ3JhdHVsYXRpb25zXCIsIGRlc2NyaXB0aW9uOiBcIkNlbGVicmF0ZSBhY2hpZXZlbWVudHMgYW5kIHN1Y2Nlc3NcIiwgaWNvbjogVHJvcGh5IH0sXG4gIHsgaWQ6IFwiaG9saWRheVwiLCBsYWJlbDogXCJIb2xpZGF5XCIsIGRlc2NyaXB0aW9uOiBcIlNlYXNvbmFsIGFuZCBob2xpZGF5IGdyZWV0aW5nc1wiLCBpY29uOiBUcmVlUGluZSB9LFxuICB7IGlkOiBcImdldC13ZWxsXCIsIGxhYmVsOiBcIkdldCBXZWxsIFNvb25cIiwgZGVzY3JpcHRpb246IFwiU2VuZCBoZWFsaW5nIHdpc2hlcyBhbmQgc3VwcG9ydFwiLCBpY29uOiBTdGV0aG9zY29wZSB9LFxuICB7IGlkOiBcInN5bXBhdGh5XCIsIGxhYmVsOiBcIlN5bXBhdGh5XCIsIGRlc2NyaXB0aW9uOiBcIk9mZmVyIGNvbWZvcnQgZHVyaW5nIGRpZmZpY3VsdCB0aW1lc1wiLCBpY29uOiBDbG91ZFJhaW4gfSxcbiAgeyBpZDogXCJsb3ZlXCIsIGxhYmVsOiBcIkxvdmUgJiBSb21hbmNlXCIsIGRlc2NyaXB0aW9uOiBcIkV4cHJlc3Mgcm9tYW50aWMgZmVlbGluZ3NcIiwgaWNvbjogSGVhcnQgfSxcbiAgeyBpZDogXCJncmFkdWF0aW9uXCIsIGxhYmVsOiBcIkdyYWR1YXRpb25cIiwgZGVzY3JpcHRpb246IFwiQ2VsZWJyYXRlIGVkdWNhdGlvbmFsIGFjaGlldmVtZW50c1wiLCBpY29uOiBHcmFkdWF0aW9uQ2FwIH0sXG4gIHsgaWQ6IFwibmV3LWJhYnlcIiwgbGFiZWw6IFwiTmV3IEJhYnlcIiwgZGVzY3JpcHRpb246IFwiV2VsY29tZSBuZXcgYXJyaXZhbHNcIiwgaWNvbjogQmFieSB9LFxuICB7IGlkOiBcIndlZGRpbmdcIiwgbGFiZWw6IFwiV2VkZGluZ1wiLCBkZXNjcmlwdGlvbjogXCJDZWxlYnJhdGUgdW5pb25zIGFuZCBtYXJyaWFnZXNcIiwgaWNvbjogQ2h1cmNoIH0sXG4gIHsgaWQ6IFwicmV0aXJlbWVudFwiLCBsYWJlbDogXCJSZXRpcmVtZW50XCIsIGRlc2NyaXB0aW9uOiBcIkhvbm9yIGNhcmVlciBhY2hpZXZlbWVudHNcIiwgaWNvbjogR2lmdCB9LFxuICB7IGlkOiBcImhvdXNld2FybWluZ1wiLCBsYWJlbDogXCJIb3VzZXdhcm1pbmdcIiwgZGVzY3JpcHRpb246IFwiV2VsY29tZSB0byBuZXcgaG9tZXNcIiwgaWNvbjogSG9tZSB9LFxuICB7IGlkOiBcImFwb2xvZ3lcIiwgbGFiZWw6IFwiQXBvbG9neVwiLCBkZXNjcmlwdGlvbjogXCJNYWtlIGFtZW5kcyBhbmQgc2VlayBmb3JnaXZlbmVzc1wiLCBpY29uOiBNZXNzYWdlQ2lyY2xlIH0sXG4gIHsgaWQ6IFwidGhpbmtpbmctb2YteW91XCIsIGxhYmVsOiBcIlRoaW5raW5nIG9mIFlvdVwiLCBkZXNjcmlwdGlvbjogXCJTaG93IHlvdSBjYXJlIGFuZCByZW1lbWJlclwiLCBpY29uOiBFeWUgfSxcbl07XG5cbi8vIENhcmQgdG9uZS9zdHlsZSBvcHRpb25zXG5jb25zdCBjYXJkVG9uZXMgPSBbXG4gIHsgaWQ6IFwiZnVubnlcIiwgbGFiZWw6IFwi8J+YhCBGdW5ueVwiLCBkZXNjcmlwdGlvbjogXCJIdW1vcm91cyBhbmQgbGlnaHRoZWFydGVkXCIgfSxcbiAgeyBpZDogXCJnZW56LWh1bW9yXCIsIGxhYmVsOiBcIvCfkoAgR2VuWiBIdW1vclwiLCBkZXNjcmlwdGlvbjogXCJJbnRlcm5ldCBtZW1lcywgY2hhb3RpYyBlbmVyZ3ksIGFuZCB1bmhpbmdlZCB2aWJlc1wiIH0sXG4gIHsgaWQ6IFwicm9tYW50aWNcIiwgbGFiZWw6IFwi8J+SlSBSb21hbnRpY1wiLCBkZXNjcmlwdGlvbjogXCJTd2VldCBhbmQgbG92aW5nXCIgfSxcbiAgeyBpZDogXCJwcm9mZXNzaW9uYWxcIiwgbGFiZWw6IFwi8J+RlCBQcm9mZXNzaW9uYWxcIiwgZGVzY3JpcHRpb246IFwiRm9ybWFsIGFuZCBidXNpbmVzcy1hcHByb3ByaWF0ZVwiIH0sXG4gIHsgaWQ6IFwiaGVhcnRmZWx0XCIsIGxhYmVsOiBcIuKdpO+4jyBIZWFydGZlbHRcIiwgZGVzY3JpcHRpb246IFwiU2luY2VyZSBhbmQgZW1vdGlvbmFsXCIgfSxcbiAgeyBpZDogXCJwbGF5ZnVsXCIsIGxhYmVsOiBcIvCfjokgUGxheWZ1bFwiLCBkZXNjcmlwdGlvbjogXCJGdW4gYW5kIGVuZXJnZXRpY1wiIH0sXG4gIHsgaWQ6IFwiZWxlZ2FudFwiLCBsYWJlbDogXCLinKggRWxlZ2FudFwiLCBkZXNjcmlwdGlvbjogXCJTb3BoaXN0aWNhdGVkIGFuZCByZWZpbmVkXCIgfSxcbiAgeyBpZDogXCJjYXN1YWxcIiwgbGFiZWw6IFwi8J+YiiBDYXN1YWxcIiwgZGVzY3JpcHRpb246IFwiUmVsYXhlZCBhbmQgZnJpZW5kbHlcIiB9LFxuICB7IGlkOiBcImluc3BpcmF0aW9uYWxcIiwgbGFiZWw6IFwi8J+MnyBJbnNwaXJhdGlvbmFsXCIsIGRlc2NyaXB0aW9uOiBcIk1vdGl2YXRpbmcgYW5kIHVwbGlmdGluZ1wiIH0sXG4gIHsgaWQ6IFwicXVpcmt5XCIsIGxhYmVsOiBcIvCfpKogUXVpcmt5XCIsIGRlc2NyaXB0aW9uOiBcIlVuaXF1ZSBhbmQgdW5jb252ZW50aW9uYWxcIiB9LFxuICB7IGlkOiBcInRyYWRpdGlvbmFsXCIsIGxhYmVsOiBcIvCfjq0gVHJhZGl0aW9uYWxcIiwgZGVzY3JpcHRpb246IFwiQ2xhc3NpYyBhbmQgdGltZWxlc3NcIiB9LFxuXTtcblxuLy8gQ3VyYXRlZCBhcnRpc3RpYyBzdHlsZXMgZm9yIGJlYXV0aWZ1bCBjYXJkc1xuY29uc3QgYXJ0aXN0aWNTdHlsZXMgPSBbXG4gIHtcbiAgICBpZDogXCJhaS1zbWFydC1zdHlsZVwiLCBcbiAgICBsYWJlbDogXCLinKggU21hcnQgU3R5bGVcIiwgXG4gICAgZGVzY3JpcHRpb246IFwiTGV0IG91ciBleHBlcnRzIGNob29zZSB0aGUgcGVyZmVjdCBzdHlsZSBmb3IgeW91ciBjYXJkXCIsXG4gICAgcHJvbXB0TW9kaWZpZXI6IFwiXCIgLy8gV2lsbCBiZSBkeW5hbWljYWxseSBnZW5lcmF0ZWRcbiAgfSxcbiAge1xuICAgIGlkOiBcImN1c3RvbVwiLCBcbiAgICBsYWJlbDogXCLinKggQ3VzdG9tIFN0eWxlXCIsIFxuICAgIGRlc2NyaXB0aW9uOiBcIkRlZmluZSB5b3VyIG93biB1bmlxdWUgYXJ0aXN0aWMgc3R5bGVcIixcbiAgICBwcm9tcHRNb2RpZmllcjogXCJcIiAvLyBXaWxsIGJlIHJlcGxhY2VkIHdpdGggdXNlciBpbnB1dFxuICB9LFxuICB7IFxuICAgIGlkOiBcIndhdGVyY29sb3JcIiwgXG4gICAgbGFiZWw6IFwi8J+OqCBXYXRlcmNvbG9yXCIsIFxuICAgIGRlc2NyaXB0aW9uOiBcIlNvZnQsIGZsb3dpbmcgcGFpbnQgZWZmZWN0cyAob3VyIHBlcnNvbmFsIGZhdm9yaXRlKVwiLFxuICAgIHByb21wdE1vZGlmaWVyOiBcImluIHdhdGVyY29sb3IgcGFpbnRpbmcgc3R5bGUsIHdpdGggc29mdCBmbG93aW5nIGNvbG9ycywgYXJ0aXN0aWMgYnJ1c2ggc3Ryb2tlcywgcGFwZXIgdGV4dHVyZSwgYW5kIG9yZ2FuaWMgcGFpbnQgYmxlZWRzXCJcbiAgfSxcbiAge1xuICAgIGlkOiBcIm1pbmltYWxpc3RcIiwgXG4gICAgbGFiZWw6IFwi4pyoIE1pbmltYWxpc3RcIiwgXG4gICAgZGVzY3JpcHRpb246IFwiQ2xlYW4sIHNpbXBsZSwgZWxlZ2FudCBkZXNpZ25cIixcbiAgICBwcm9tcHRNb2RpZmllcjogXCJpbiBtaW5pbWFsaXN0IHN0eWxlIHdpdGggY2xlYW4gbGluZXMsIHNpbXBsZSBzaGFwZXMsIHBsZW50eSBvZiB3aGl0ZSBzcGFjZSwgc29waGlzdGljYXRlZCB0eXBvZ3JhcGh5LCBhbmQgZWxlZ2FudCBzaW1wbGljaXR5XCJcbiAgfSxcbiAgeyBcbiAgICBpZDogXCJib3RhbmljYWxcIiwgXG4gICAgbGFiZWw6IFwi8J+MvyBCb3RhbmljYWxcIiwgXG4gICAgZGVzY3JpcHRpb246IFwiQmVhdXRpZnVsIGZsb3dlcnMgYW5kIG5hdHVyZSBlbGVtZW50c1wiLFxuICAgIHByb21wdE1vZGlmaWVyOiBcImluIGJvdGFuaWNhbCBpbGx1c3RyYXRpb24gc3R5bGUgd2l0aCBkZXRhaWxlZCBmbG93ZXJzLCBsZWF2ZXMsIGFuZCBuYXR1cmFsIGVsZW1lbnRzLCBzb2Z0IG9yZ2FuaWMgc2hhcGVzLCBlbGVnYW50IGZsb3JhbCBhcnJhbmdlbWVudHMsIGFuZCBuYXR1cmUtaW5zcGlyZWQgZGVzaWducyBwZXJmZWN0IGZvciBncmVldGluZyBjYXJkc1wiXG4gIH0sXG4gIHsgXG4gICAgaWQ6IFwiY29taWMtYm9va1wiLCBcbiAgICBsYWJlbDogXCLwn5KlIENvbWljIEJvb2tcIiwgXG4gICAgZGVzY3JpcHRpb246IFwiQm9sZCBncmFwaGljIG5vdmVsIHN0eWxlXCIsXG4gICAgcHJvbXB0TW9kaWZpZXI6IFwiaW4gY29taWMgYm9vayBhcnQgc3R5bGUgd2l0aCBib2xkIG91dGxpbmVzLCB2aWJyYW50IGNvbG9ycywgZHluYW1pYyBwb3Nlcywgc3BlZWNoIGJ1YmJsZSBhZXN0aGV0aWNzLCBoYWxmdG9uZSBwYXR0ZXJucywgYW5kIHN1cGVyaGVybyBjb21pYyBib29rIHZpc3VhbCBlbGVtZW50cyB0aGF0IGNyZWF0ZSBhbiBleGNpdGluZyBhbmQgZW5lcmdldGljIGZlZWxcIlxuICB9LFxuICB7IFxuICAgIGlkOiBcImRyZWFteS1mYW50YXN5XCIsIFxuICAgIGxhYmVsOiBcIvCfjLggRHJlYW15IEZhbnRhc3lcIiwgXG4gICAgZGVzY3JpcHRpb246IFwiRW5jaGFudGluZyBhbmltZS1pbnNwaXJlZCBhcnRcIixcbiAgICBwcm9tcHRNb2RpZmllcjogXCJpbiBkcmVhbXkgZmFudGFzeSBhbmltZSBzdHlsZSwgd2l0aCBzb2Z0IHBhc3RlbHMsIG1hZ2ljYWwgYXRtb3NwaGVyZSwgZGV0YWlsZWQgbmF0dXJlIGVsZW1lbnRzLCB3aGltc2ljYWwgY2hhcmFjdGVycywgYW5kIGVuY2hhbnRpbmcgZmFpcnktdGFsZSBxdWFsaXRpZXNcIlxuICB9LFxuICB7IFxuICAgIGlkOiBcImFydC1kZWNvXCIsIFxuICAgIGxhYmVsOiBcIuKcqCBBcnQgRGVjb1wiLCBcbiAgICBkZXNjcmlwdGlvbjogXCJFbGVnYW50IDE5MjBzIGdlb21ldHJpYyBsdXh1cnlcIixcbiAgICBwcm9tcHRNb2RpZmllcjogXCJpbiB2aW50YWdlIEFydCBEZWNvIHN0eWxlIHdpdGggZ2VvbWV0cmljIHBhdHRlcm5zLCBnb2xkIGFjY2VudHMsIGVsZWdhbnQgdHlwb2dyYXBoeSwgbHV4dXJpb3VzIGRldGFpbHMsIGFuZCAxOTIwcyBnbGFtb3VyXCJcbiAgfSxcbiAgeyBcbiAgICBpZDogXCJ2aW50YWdlLWlsbHVzdHJhdGlvblwiLCBcbiAgICBsYWJlbDogXCLwn5OaIFZpbnRhZ2UgSWxsdXN0cmF0aW9uXCIsIFxuICAgIGRlc2NyaXB0aW9uOiBcIkNsYXNzaWMgc3Rvcnlib29rIGNoYXJtXCIsXG4gICAgcHJvbXB0TW9kaWZpZXI6IFwiaW4gdmludGFnZSBpbGx1c3RyYXRpb24gc3R5bGUgbGlrZSBjbGFzc2ljIGNoaWxkcmVuJ3MgYm9va3MsIHdpdGggd2FybSBub3N0YWxnaWMgY29sb3JzLCBjaGFybWluZyBjaGFyYWN0ZXJzLCB3aGltc2ljYWwgZGV0YWlscywgYW5kIHRpbWVsZXNzIGZhaXJ5LXRhbGUgYWVzdGhldGljc1wiXG4gIH0sXG4gIHtcbiAgICBpZDogXCJtb2Rlcm4tZ2VvbWV0cmljXCIsIFxuICAgIGxhYmVsOiBcIvCflLcgTW9kZXJuIEdlb21ldHJpY1wiLCBcbiAgICBkZXNjcmlwdGlvbjogXCJDbGVhbiBjb250ZW1wb3Jhcnkgc2hhcGVzXCIsXG4gICAgcHJvbXB0TW9kaWZpZXI6IFwiaW4gbW9kZXJuIGdlb21ldHJpYyBzdHlsZSB3aXRoIGNsZWFuIHNoYXBlcywgY29udGVtcG9yYXJ5IGRlc2lnbiBlbGVtZW50cywgYmFsYW5jZWQgY29tcG9zaXRpb25zLCBhbmQgc29waGlzdGljYXRlZCBjb2xvciBwYWxldHRlcyBwZXJmZWN0IGZvciBtb2Rlcm4gZ3JlZXRpbmcgY2FyZHNcIlxuICB9LFxuICB7XG4gICAgaWQ6IFwic29mdC1wYXN0ZWxcIiwgXG4gICAgbGFiZWw6IFwi8J+MuCBTb2Z0IFBhc3RlbFwiLCBcbiAgICBkZXNjcmlwdGlvbjogXCJHZW50bGUsIHNvb3RoaW5nIGNvbG9yc1wiLFxuICAgIHByb21wdE1vZGlmaWVyOiBcImluIHNvZnQgcGFzdGVsIHN0eWxlIHdpdGggZ2VudGxlIGNvbG9ycywgZHJlYW15IGF0bW9zcGhlcmUsIGRlbGljYXRlIHRleHR1cmVzLCBhbmQgY2FsbWluZyB2aXN1YWwgZWxlbWVudHMgdGhhdCBjcmVhdGUgYSBwZWFjZWZ1bCBhbmQgaGVhcnR3YXJtaW5nIGZlZWxpbmdcIlxuICB9LFxuICB7XG4gICAgaWQ6IFwicmV0cm8tdmludGFnZVwiLCBcbiAgICBsYWJlbDogXCLwn5O7IFJldHJvIFZpbnRhZ2VcIiwgXG4gICAgZGVzY3JpcHRpb246IFwiQ2xhc3NpYyAxOTUwcy02MHMgbm9zdGFsZ2lhXCIsXG4gICAgcHJvbXB0TW9kaWZpZXI6IFwiaW4gcmV0cm8gdmludGFnZSBzdHlsZSB3aXRoIDE5NTBzLTYwcyBhZXN0aGV0aWNzLCBjbGFzc2ljIHR5cG9ncmFwaHksIHdhcm0gbm9zdGFsZ2ljIGNvbG9ycywgYW5kIG1pZC1jZW50dXJ5IGRlc2lnbiBlbGVtZW50c1wiXG4gIH1cbl07XG5cbi8vIFBhcGVyIHNpemUgb3B0aW9uc1xuY29uc3QgcGFwZXJTaXplcyA9IFtcbiAge1xuICAgIGlkOiBcInN0YW5kYXJkXCIsXG4gICAgbGFiZWw6IFwiNcOXNyBDYXJkIChTdGFuZGFyZClcIixcbiAgICBkZXNjcmlwdGlvbjogXCJTdGFuZGFyZCA1w5c3IGdyZWV0aW5nIGNhcmQgKDEww5c3IHByaW50IGxheW91dClcIixcbiAgICBhc3BlY3RSYXRpbzogXCI5OjE2XCIsXG4gICAgZGltZW5zaW9uczogXCIxMDI0eDE1MzZcIixcbiAgICBwcmludFdpZHRoOiBcIjEwaW5cIixcbiAgICBwcmludEhlaWdodDogXCI3aW5cIlxuICB9LFxuICB7XG4gICAgaWQ6IFwiY29tcGFjdFwiLFxuICAgIGxhYmVsOiBcIjTDlzYgQ2FyZCAoQ29tcGFjdClcIixcbiAgICBkZXNjcmlwdGlvbjogXCJDb21wYWN0IDTDlzYgZ3JlZXRpbmcgY2FyZCAoOMOXNiBwcmludCBsYXlvdXQpXCIsXG4gICAgYXNwZWN0UmF0aW86IFwiMjozXCIsXG4gICAgZGltZW5zaW9uczogXCI3Njh4MTE1MlwiLFxuICAgIHByaW50V2lkdGg6IFwiOGluXCIsXG4gICAgcHJpbnRIZWlnaHQ6IFwiNmluXCJcbiAgfSxcbiAge1xuICAgIGlkOiBcImE2XCIsXG4gICAgbGFiZWw6IFwiQTYgQ2FyZCAoNMOXNilcIixcbiAgICBkZXNjcmlwdGlvbjogXCJBNiBwYXBlciBzaXplICg4LjPDlzUuOCBwcmludCBsYXlvdXQpXCIsXG4gICAgYXNwZWN0UmF0aW86IFwiMjozXCIsXG4gICAgZGltZW5zaW9uczogXCI3Njh4MTE1MlwiLFxuICAgIHByaW50V2lkdGg6IFwiOC4zaW5cIixcbiAgICBwcmludEhlaWdodDogXCI1LjhpblwiXG4gIH1cbl07XG5cbi8vIEltYWdlIG1vZGVsIG9wdGlvbnNcbmNvbnN0IGltYWdlTW9kZWxzID0gW1xuICB7IFxuICAgIGlkOiBcImdwdC1pbWFnZS0xXCIsIFxuICAgIGxhYmVsOiBcIkdQVCBJbWFnZSAxXCIsIFxuICAgIGRlc2NyaXB0aW9uOiBcIkhpZ2hlc3QgcXVhbGl0eSB2YXJpYW50IDogUmVjb21tZW5kZWRcIixcbiAgfSxcbiAgeyBcbiAgICBpZDogXCJmbHV4LTEuMS1wcm9cIiwgXG4gICAgbGFiZWw6IFwiRkxVWCAxLjEgUHJvXCIsIFxuICAgIGRlc2NyaXB0aW9uOiBcIkZhc3Rlc3QgJiBoaWdoZXN0IHF1YWxpdHkgOiAkMC4wNCBwZXIgaW1hZ2UsIDMtMTAgc2Vjb25kc1wiLFxuICB9LFxuICB7IFxuICAgIGlkOiBcInNlZWRyZWFtLTNcIiwgXG4gICAgbGFiZWw6IFwiU2VlRHJlYW0gM1wiLCBcbiAgICBkZXNjcmlwdGlvbjogXCIySyBwaG90b3JlYWxpc3RpYyBxdWFsaXR5IDogJDAuMDMgcGVyIGltYWdlLCA1LTE1IHNlY29uZHNcIixcbiAgfSxcbiAgeyBcbiAgICBpZDogXCJpZGVvZ3JhbS12My10dXJib1wiLCBcbiAgICBsYWJlbDogXCJJZGVvZ3JhbSBWMyBUdXJib1wiLCBcbiAgICBkZXNjcmlwdGlvbjogXCJFeGNlbGxlbnQgdGV4dCByZW5kZXJpbmcgOiBNYWdpYyBwcm9tcHQgZW5oYW5jZW1lbnQsIGZhc3QgZ2VuZXJhdGlvblwiLFxuICB9LFxuICB7IFxuICAgIGlkOiBcImlkZW9ncmFtLXYzLXF1YWxpdHlcIiwgXG4gICAgbGFiZWw6IFwiSWRlb2dyYW0gVjMgUXVhbGl0eVwiLCBcbiAgICBkZXNjcmlwdGlvbjogXCJIaWdoZXN0IHF1YWxpdHkgdGV4dCByZW5kZXJpbmcgOiBTbG93ZXIgYnV0IGJldHRlciByZXN1bHRzXCIsXG4gIH0sXG4gIHsgXG4gICAgaWQ6IFwiaW1hZ2VuLTQuMC11bHRyYS1nZW5lcmF0ZS1wcmV2aWV3LTA2LTA2XCIsIFxuICAgIGxhYmVsOiBcIkltYWdlbiA0LjAgVWx0cmFcIiwgXG4gICAgZGVzY3JpcHRpb246IFwiRXhwZXJpbWVudGFsLCBub3QgcmVjb21tZW5kZWQgZm9yIHRleHQtaGVhdnkgY2FyZHMuXCIsXG4gIH0sXG5dO1xuXG5cblxuLy8gRW1haWwgSGVscGVyIEZ1bmN0aW9uXG5hc3luYyBmdW5jdGlvbiBzZW5kVGhhbmtZb3VFbWFpbCh0b0VtYWlsOiBzdHJpbmcsIGNhcmRUeXBlOiBzdHJpbmcsIGNhcmRVcmw6IHN0cmluZykge1xuICBpZiAoIXRvRW1haWwudHJpbSgpKSByZXR1cm47XG4gIFxuICB0cnkge1xuICAgIC8vIENyZWF0ZSBIVE1MIGVtYWlsIGJvZHlcbiAgICBjb25zdCBodG1sQm9keSA9IGBcbiAgICAgIDxkaXYgc3R5bGU9XCJmb250LWZhbWlseTogQXJpYWwsIHNhbnMtc2VyaWY7IG1heC13aWR0aDogNjAwcHg7IG1hcmdpbjogMCBhdXRvOyBwYWRkaW5nOiAyMHB4OyBjb2xvcjogIzMzMztcIj5cbiAgICAgICAgPGRpdiBzdHlsZT1cInRleHQtYWxpZ246IGNlbnRlcjsgbWFyZ2luLWJvdHRvbTogMzBweDtcIj5cbiAgICAgICAgICA8aDEgc3R5bGU9XCJjb2xvcjogIzI1NjNlYjsgbWFyZ2luLWJvdHRvbTogMTBweDtcIj7wn46JIFlvdXIgQ2FyZCBpcyBSZWFkeSE8L2gxPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgXG4gICAgICAgIDxwIHN0eWxlPVwiZm9udC1zaXplOiAxNnB4OyBsaW5lLWhlaWdodDogMS42OyBtYXJnaW4tYm90dG9tOiAyMHB4O1wiPkhpIHRoZXJlITwvcD5cbiAgICAgICAgXG4gICAgICAgIDxwIHN0eWxlPVwiZm9udC1zaXplOiAxNnB4OyBsaW5lLWhlaWdodDogMS42OyBtYXJnaW4tYm90dG9tOiAyMHB4O1wiPlxuICAgICAgICAgIFRoYW5rIHlvdSBmb3IgdXNpbmcgVmliZUNhcmRpbmcgdG8gY3JlYXRlIHlvdXIgYmVhdXRpZnVsIDxzdHJvbmc+JHtjYXJkVHlwZX08L3N0cm9uZz4gY2FyZCFcbiAgICAgICAgPC9wPlxuICAgICAgICBcbiAgICAgICAgPHAgc3R5bGU9XCJmb250LXNpemU6IDE2cHg7IGxpbmUtaGVpZ2h0OiAxLjY7IG1hcmdpbi1ib3R0b206IDIwcHg7XCI+XG4gICAgICAgICAgV2UgaG9wZSB5b3UgbG92ZSBob3cgaXQgdHVybmVkIG91dC4gWW91ciBjYXJkIGhhcyBiZWVuIGdlbmVyYXRlZCBhbmQgaXMgcmVhZHkgZm9yIHByaW50aW5nIG9yIHNoYXJpbmcuXG4gICAgICAgIDwvcD5cbiAgICAgICAgXG4gICAgICAgIDxkaXYgc3R5bGU9XCJ0ZXh0LWFsaWduOiBjZW50ZXI7IG1hcmdpbjogMzBweCAwO1wiPlxuICAgICAgICAgIDxhIGhyZWY9XCIke2NhcmRVcmx9XCIgc3R5bGU9XCJiYWNrZ3JvdW5kLWNvbG9yOiAjMjU2M2ViOyBjb2xvcjogd2hpdGU7IHBhZGRpbmc6IDEycHggMjRweDsgdGV4dC1kZWNvcmF0aW9uOiBub25lOyBib3JkZXItcmFkaXVzOiA2cHg7IGZvbnQtd2VpZ2h0OiBib2xkOyBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XCI+XG4gICAgICAgICAgICBWaWV3IFlvdXIgQ2FyZFxuICAgICAgICAgIDwvYT5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIFxuICAgICAgICA8cCBzdHlsZT1cImZvbnQtc2l6ZTogMTZweDsgbGluZS1oZWlnaHQ6IDEuNjsgbWFyZ2luLWJvdHRvbTogMjBweDtcIj5cbiAgICAgICAgICBJZiB5b3UgaGF2ZSBhbnkgcXVlc3Rpb25zIG9yIGZlZWRiYWNrLCBmZWVsIGZyZWUgdG8gcmVhY2ggb3V0IHRvIHVzLlxuICAgICAgICA8L3A+XG4gICAgICAgIFxuICAgICAgICA8cCBzdHlsZT1cImZvbnQtc2l6ZTogMTZweDsgbGluZS1oZWlnaHQ6IDEuNjsgbWFyZ2luLWJvdHRvbTogMjBweDtcIj5cbiAgICAgICAgICBIYXBweSBjYXJkIG1ha2luZyFcbiAgICAgICAgPC9wPlxuICAgICAgICBcbiAgICAgICAgPGRpdiBzdHlsZT1cIm1hcmdpbi10b3A6IDQwcHg7IHBhZGRpbmctdG9wOiAyMHB4OyBib3JkZXItdG9wOiAxcHggc29saWQgI2U1ZTdlYjsgY29sb3I6ICM2YjcyODA7XCI+XG4gICAgICAgICAgPHAgc3R5bGU9XCJtYXJnaW4tYm90dG9tOiA1cHg7XCI+PHN0cm9uZz5CZXN0IHJlZ2FyZHMsPC9zdHJvbmc+PC9wPlxuICAgICAgICAgIDxwIHN0eWxlPVwibWFyZ2luLWJvdHRvbTogNXB4O1wiPlRoZSBWaWJlQ2FyZGluZyBUZWFtPC9wPlxuICAgICAgICAgIDxwIHN0eWxlPVwibWFyZ2luOiAwO1wiPlxuICAgICAgICAgICAgPGEgaHJlZj1cIm1haWx0bzp2aWJlY2FyZGluZ0Bhc3QuZW5naW5lZXJcIiBzdHlsZT1cImNvbG9yOiAjMjU2M2ViOyB0ZXh0LWRlY29yYXRpb246IG5vbmU7XCI+dmliZWNhcmRpbmdAYXN0LmVuZ2luZWVyPC9hPlxuICAgICAgICAgIDwvcD5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICBgO1xuXG4gICAgLy8gUGxhaW4gdGV4dCBmYWxsYmFja1xuICAgIGNvbnN0IHRleHRCb2R5ID0gYEhpIHRoZXJlIVxuXG5UaGFuayB5b3UgZm9yIHVzaW5nIFZpYmVDYXJkaW5nIHRvIGNyZWF0ZSB5b3VyIGJlYXV0aWZ1bCAke2NhcmRUeXBlfSBjYXJkIVxuXG5XZSBob3BlIHlvdSBsb3ZlIGhvdyBpdCB0dXJuZWQgb3V0LiBZb3VyIGNhcmQgaGFzIGJlZW4gZ2VuZXJhdGVkIGFuZCBpcyByZWFkeSBmb3IgcHJpbnRpbmcgb3Igc2hhcmluZy5cblxuVmlldyB5b3VyIGNhcmQ6ICR7Y2FyZFVybH1cblxuSWYgeW91IGhhdmUgYW55IHF1ZXN0aW9ucyBvciBmZWVkYmFjaywgZmVlbCBmcmVlIHRvIHJlYWNoIG91dCB0byB1cy5cblxuSGFwcHkgY2FyZCBtYWtpbmchXG5cbkJlc3QgcmVnYXJkcyxcblRoZSBWaWJlQ2FyZGluZyBUZWFtXG52aWJlY2FyZGluZ0Bhc3QuZW5naW5lZXJgO1xuXG4gICAgLy8gU2VuZCB0byB1c2VyXG4gICAgY29uc3QgdXNlclJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7QkFDS0VORF9BUElfQkFTRV9VUkx9L3NlbmRfZW1haWxfbm9kZWpzX3N0eWxlYCwge1xuICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICBoZWFkZXJzOiB7IFxuICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb247IGNoYXJzZXQ9dXRmLTgnXG4gICAgICB9LFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICB0bzogdG9FbWFpbCxcbiAgICAgICAgZnJvbTogJ3ZpYmVjYXJkaW5nQGFzdC5lbmdpbmVlcicsXG4gICAgICAgIHN1YmplY3Q6IGBZb3VyICR7Y2FyZFR5cGV9IGNhcmQgaXMgcmVhZHkhYCxcbiAgICAgICAgYm9keTogaHRtbEJvZHksXG4gICAgICAgIHRleHQ6IHRleHRCb2R5LFxuICAgICAgICBodG1sOiBodG1sQm9keVxuICAgICAgfSlcbiAgICB9KTtcblxuICAgIC8vIFNlbmQgY29weSB0byBqb3JkYW5AYXN0LmVuZ2luZWVyXG4gICAgY29uc3QgYWRtaW5SZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke0JBQ0tFTkRfQVBJX0JBU0VfVVJMfS9zZW5kX2VtYWlsX25vZGVqc19zdHlsZWAsIHtcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIHRvOiAnam9yZGFuQGFzdC5lbmdpbmVlcicsXG4gICAgICAgIGZyb206ICd2aWJlY2FyZGluZ0Bhc3QuZW5naW5lZXInLFxuICAgICAgICBzdWJqZWN0OiBgQ2FyZCBDcmVhdGVkIC0gJHtjYXJkVHlwZX0gZm9yICR7dG9FbWFpbH1gLFxuICAgICAgICBib2R5OiBgPGRpdiBzdHlsZT1cImZvbnQtZmFtaWx5OiBBcmlhbCwgc2Fucy1zZXJpZjsgcGFkZGluZzogMjBweDtcIj5cbiAgICAgICAgICA8aDMgc3R5bGU9XCJjb2xvcjogIzI1NjNlYjtcIj5OZXcgQ2FyZCBDcmVhdGVkIG9uIFZpYmVDYXJkaW5nPC9oMz5cbiAgICAgICAgICA8cD48c3Ryb25nPlVzZXI6PC9zdHJvbmc+ICR7dG9FbWFpbH08L3A+XG4gICAgICAgICAgPHA+PHN0cm9uZz5DYXJkIFR5cGU6PC9zdHJvbmc+ICR7Y2FyZFR5cGV9PC9wPlxuICAgICAgICAgIDxwPjxzdHJvbmc+Q2FyZCBVUkw6PC9zdHJvbmc+IDxhIGhyZWY9XCIke2NhcmRVcmx9XCI+JHtjYXJkVXJsfTwvYT48L3A+XG4gICAgICAgICAgPHAgc3R5bGU9XCJtYXJnaW4tdG9wOiAyMHB4OyBjb2xvcjogIzZiNzI4MDsgZm9udC1zaXplOiAxNHB4O1wiPlxuICAgICAgICAgICAgVGhpcyBpcyBhbiBhdXRvbWF0ZWQgbm90aWZpY2F0aW9uIG9mIGNhcmQgY3JlYXRpb24gYWN0aXZpdHkuXG4gICAgICAgICAgPC9wPlxuICAgICAgICA8L2Rpdj5gLFxuICAgICAgICB0ZXh0OiBgTmV3IGNhcmQgY3JlYXRlZCBvbiBWaWJlQ2FyZGluZzpcblxuVXNlcjogJHt0b0VtYWlsfVxuQ2FyZCBUeXBlOiAke2NhcmRUeXBlfVxuQ2FyZCBVUkw6ICR7Y2FyZFVybH1cblxuVGhpcyBpcyBhbiBhdXRvbWF0ZWQgbm90aWZpY2F0aW9uIG9mIGNhcmQgY3JlYXRpb24gYWN0aXZpdHkuYFxuICAgICAgfSlcbiAgICB9KTtcblxuICAgIGlmICh1c2VyUmVzcG9uc2Uub2spIHtcbiAgICAgIHRvYXN0LnN1Y2Nlc3MoXCLinInvuI8gVGhhbmsgeW91IGVtYWlsIHNlbnQhXCIpO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gc2VuZCB0aGFuayB5b3UgZW1haWw6JywgZXJyb3IpO1xuICAgIC8vIERvbid0IHNob3cgZXJyb3IgdG9hc3QgLSB0aGlzIGlzIGEgbmljZS10by1oYXZlIGZlYXR1cmVcbiAgfVxufVxuXG4vLyBDaGF0IEhlbHBlciBGdW5jdGlvblxuYXN5bmMgZnVuY3Rpb24gY2hhdFdpdGhBSSh1c2VyTWVzc2FnZTogc3RyaW5nLCBvcHRpb25zOiB7XG4gIHN5c3RlbVByb21wdD86IHN0cmluZyB8IG51bGw7XG4gIG1vZGVsPzogc3RyaW5nO1xuICBpbmNsdWRlVGhvdWdodHM/OiBib29sZWFuO1xuICBqc29uU2NoZW1hPzogYW55O1xuICBhdHRhY2htZW50cz86IHN0cmluZ1tdOyAgLy8gQWRkIHN1cHBvcnQgZm9yIGltYWdlIGF0dGFjaG1lbnRzXG59ID0ge30pIHtcbiAgY29uc3Qge1xuICAgIHN5c3RlbVByb21wdCA9IG51bGwsXG4gICAgbW9kZWwgPSAnZ2VtaW5pLTIuNS1wcm8nLFxuICAgIGluY2x1ZGVUaG91Z2h0cyA9IGZhbHNlLCAgLy8gRGVmYXVsdCB0byBmYWxzZSB0byBhdm9pZCB0aGlua2luZyBjb250ZW50IGluIHJlc3BvbnNlc1xuICAgIGpzb25TY2hlbWEgPSBudWxsLFxuICAgIGF0dGFjaG1lbnRzID0gW10gIC8vIERlZmF1bHQgdG8gZW1wdHkgYXJyYXlcbiAgfSA9IG9wdGlvbnM7XG4gIFxuICB0cnkge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9pbnRlcm5hbC9jYWxsX21jcF90b29sJywge1xuICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgdG9vbF9uYW1lOiAnYWlfY2hhdCcsXG4gICAgICAgIGFyZ3VtZW50czoge1xuICAgICAgICAgIG1lc3NhZ2VzOiB1c2VyTWVzc2FnZSxcbiAgICAgICAgICBzeXN0ZW1fcHJvbXB0OiBzeXN0ZW1Qcm9tcHQsXG4gICAgICAgICAgbW9kZWw6IG1vZGVsLFxuICAgICAgICAgIGluY2x1ZGVfdGhvdWdodHM6IGluY2x1ZGVUaG91Z2h0cyxcbiAgICAgICAgICBqc29uX3NjaGVtYToganNvblNjaGVtYSxcbiAgICAgICAgICAuLi4oYXR0YWNobWVudHMubGVuZ3RoID4gMCAmJiB7IGF0dGFjaG1lbnRzIH0pICAvLyBPbmx5IGluY2x1ZGUgaWYgdGhlcmUgYXJlIGF0dGFjaG1lbnRzXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgfSk7XG4gICAgXG4gICAgaWYgKCFyZXNwb25zZS5vaykgdGhyb3cgbmV3IEVycm9yKGBIVFRQICR7cmVzcG9uc2Uuc3RhdHVzfWApO1xuICAgIFxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgaWYgKGRhdGEuZXJyb3IgJiYgZGF0YS5lcnJvciAhPT0gXCJOb25lXCIgJiYgZGF0YS5lcnJvciAhPT0gbnVsbCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGRhdGEuZXJyb3IpO1xuICAgIH1cbiAgICBcbiAgICBsZXQgcmVzdWx0O1xuICAgIGlmICh0eXBlb2YgZGF0YS5yZXN1bHQgPT09ICdzdHJpbmcnKSB7XG4gICAgICB0cnkge1xuICAgICAgICByZXN1bHQgPSBKU09OLnBhcnNlKGRhdGEucmVzdWx0KTtcbiAgICAgIH0gY2F0Y2gge1xuICAgICAgICByZXN1bHQgPSB7IHN0YXR1czogJ2Vycm9yJywgbWVzc2FnZTogJ0ludmFsaWQgSlNPTiByZXNwb25zZScgfTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmVzdWx0ID0gZGF0YS5yZXN1bHQ7XG4gICAgfVxuICAgIFxuICAgIGlmIChyZXN1bHQuc3RhdHVzID09PSAnZXJyb3InKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IocmVzdWx0Lm1lc3NhZ2UpO1xuICAgIH1cbiAgICBcbiAgICByZXR1cm4gcmVzdWx0LnJlc3BvbnNlO1xuICAgIFxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0FJIGNoYXQgZmFpbGVkOicsIGVycm9yKTtcbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBDYXJkU3R1ZGlvUGFnZSgpIHtcbiAgLy8gQ29yZSBzdGF0ZVxuICBjb25zdCBbcHJvbXB0LCBzZXRQcm9tcHRdID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFtmaW5hbENhcmRNZXNzYWdlLCBzZXRGaW5hbENhcmRNZXNzYWdlXSA9IHVzZVN0YXRlKFwiXCIpO1xuICBjb25zdCBbdG9GaWVsZCwgc2V0VG9GaWVsZF0gPSB1c2VTdGF0ZShcIlwiKTtcbiAgY29uc3QgW2Zyb21GaWVsZCwgc2V0RnJvbUZpZWxkXSA9IHVzZVN0YXRlKFwiXCIpO1xuICBjb25zdCBbc2VsZWN0ZWRUeXBlLCBzZXRTZWxlY3RlZFR5cGVdID0gdXNlU3RhdGU8c3RyaW5nPihcImJpcnRoZGF5XCIpO1xuICBjb25zdCBbY3VzdG9tQ2FyZFR5cGUsIHNldEN1c3RvbUNhcmRUeXBlXSA9IHVzZVN0YXRlPHN0cmluZz4oXCJcIik7XG4gIGNvbnN0IFtzZWxlY3RlZFRvbmUsIHNldFNlbGVjdGVkVG9uZV0gPSB1c2VTdGF0ZTxzdHJpbmc+KFwiZnVubnlcIik7XG4gIGNvbnN0IFtpc0dlbmVyYXRpbmcsIHNldElzR2VuZXJhdGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtnZW5lcmF0ZWRDYXJkLCBzZXRHZW5lcmF0ZWRDYXJkXSA9IHVzZVN0YXRlPEdlbmVyYXRlZENhcmQgfCBudWxsPihudWxsKTtcbiAgXG4gIC8vIE11bHRpcGxlIGNhcmRzIHN0YXRlXG4gIGNvbnN0IFtudW1iZXJPZkNhcmRzLCBzZXROdW1iZXJPZkNhcmRzXSA9IHVzZVN0YXRlPG51bWJlcj4oMSk7XG4gIGNvbnN0IFtnZW5lcmF0ZWRDYXJkcywgc2V0R2VuZXJhdGVkQ2FyZHNdID0gdXNlU3RhdGU8R2VuZXJhdGVkQ2FyZFtdPihbXSk7XG4gIGNvbnN0IFtzZWxlY3RlZENhcmRJbmRleCwgc2V0U2VsZWN0ZWRDYXJkSW5kZXhdID0gdXNlU3RhdGU8bnVtYmVyPigwKTtcblxuICAvLyBXcml0aW5nIGFzc2lzdGFudCBzdGF0ZVxuICBjb25zdCBbaXNHZW5lcmF0aW5nTWVzc2FnZSwgc2V0SXNHZW5lcmF0aW5nTWVzc2FnZV0gPSB1c2VTdGF0ZShmYWxzZSk7XG5cbiAgLy8gQWR2YW5jZWQgb3B0aW9ucyBzdGF0ZVxuICBjb25zdCBbc2hvd0FkdmFuY2VkLCBzZXRTaG93QWR2YW5jZWRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbc2VsZWN0ZWRBcnRpc3RpY1N0eWxlLCBzZXRTZWxlY3RlZEFydGlzdGljU3R5bGVdID0gdXNlU3RhdGU8c3RyaW5nPihcIndhdGVyY29sb3JcIik7XG4gIGNvbnN0IFtjdXN0b21TdHlsZURlc2NyaXB0aW9uLCBzZXRDdXN0b21TdHlsZURlc2NyaXB0aW9uXSA9IHVzZVN0YXRlPHN0cmluZz4oXCJcIik7XG4gIGNvbnN0IFtzZWxlY3RlZEltYWdlTW9kZWwsIHNldFNlbGVjdGVkSW1hZ2VNb2RlbF0gPSB1c2VTdGF0ZTxzdHJpbmc+KFwiZ3B0LWltYWdlLTFcIik7XG5cbiAgLy8gRHJhZnQgbW9kZSBzcGVjaWZpYyBtb2RlbCBzZWxlY3Rpb25cbiAgY29uc3QgW3NlbGVjdGVkRHJhZnRNb2RlbCwgc2V0U2VsZWN0ZWREcmFmdE1vZGVsXSA9IHVzZVN0YXRlPHN0cmluZz4oXCJncHQtaW1hZ2UtMVwiKTtcblxuICAvLyBQcm9ncmVzcyB0cmFja2luZyBzdGF0ZVxuICBjb25zdCBbZ2VuZXJhdGlvblByb2dyZXNzLCBzZXRHZW5lcmF0aW9uUHJvZ3Jlc3NdID0gdXNlU3RhdGU8c3RyaW5nPihcIlwiKTtcbiAgY29uc3QgW2NvdW50ZG93biwgc2V0Q291bnRkb3duXSA9IHVzZVN0YXRlPG51bWJlcj4oMCk7XG4gIGNvbnN0IFtjb3VudGRvd25JbnRlcnZhbCwgc2V0Q291bnRkb3duSW50ZXJ2YWxdID0gdXNlU3RhdGU8Tm9kZUpTLlRpbWVvdXQgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW2lzQ2FyZENvbXBsZXRlZCwgc2V0SXNDYXJkQ29tcGxldGVkXSA9IHVzZVN0YXRlPGJvb2xlYW4+KGZhbHNlKTtcblxuICAvLyBKb2IgdHJhY2tpbmcgc3RhdGVcbiAgY29uc3QgW2N1cnJlbnRKb2JJZCwgc2V0Q3VycmVudEpvYklkXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpO1xuXG4gIC8vIEZhc3QgcHJldmlldyBtb2RlIHN0YXRlXG4gIGNvbnN0IFtmYXN0UHJldmlld01vZGUsIHNldEZhc3RQcmV2aWV3TW9kZV0gPSB1c2VTdGF0ZTxib29sZWFuPih0cnVlKTtcbiAgXG4gIC8vIERyYWZ0IG1vZGUgc3RhdGUgLSBnZW5lcmF0ZSAxMCBsb3ctcXVhbGl0eSBjYXJkcyBmb3Igc2VsZWN0aW9uXG4gIGNvbnN0IFtpc0RyYWZ0TW9kZSwgc2V0SXNEcmFmdE1vZGVdID0gdXNlU3RhdGU8Ym9vbGVhbj4oZmFsc2UpO1xuICBjb25zdCBbZHJhZnRDYXJkcywgc2V0RHJhZnRDYXJkc10gPSB1c2VTdGF0ZTxHZW5lcmF0ZWRDYXJkW10+KFtdKTsgLy8gQ2FyZHMgaW4gY29tcGxldGlvbiBvcmRlciAobGVmdCB0byByaWdodClcbiAgY29uc3QgW2RyYWZ0SW5kZXhNYXBwaW5nLCBzZXREcmFmdEluZGV4TWFwcGluZ10gPSB1c2VTdGF0ZTxudW1iZXJbXT4oW10pOyAvLyBNYXBzIGRpc3BsYXkgcG9zaXRpb24gdG8gb3JpZ2luYWwgZHJhZnQgaW5kZXhcbiAgY29uc3QgW3NlbGVjdGVkRHJhZnRJbmRleCwgc2V0U2VsZWN0ZWREcmFmdEluZGV4XSA9IHVzZVN0YXRlPG51bWJlcj4oLTEpOyAvLyBEaXNwbGF5IHBvc2l0aW9uIGluZGV4XG4gIGNvbnN0IFtpc0dlbmVyYXRpbmdGaW5hbENhcmQsIHNldElzR2VuZXJhdGluZ0ZpbmFsQ2FyZF0gPSB1c2VTdGF0ZTxib29sZWFuPihmYWxzZSk7XG4gIGNvbnN0IFtwcmV2aWV3aW5nRHJhZnRJbmRleCwgc2V0UHJldmlld2luZ0RyYWZ0SW5kZXhdID0gdXNlU3RhdGU8bnVtYmVyPigtMSk7IC8vIERpc3BsYXkgcG9zaXRpb24gaW5kZXhcbiAgY29uc3QgW2RyYWZ0Q29tcGxldGlvblNob3duLCBzZXREcmFmdENvbXBsZXRpb25TaG93bl0gPSB1c2VTdGF0ZTxib29sZWFuPihmYWxzZSk7XG5cbiAgLy8gSGVscGVyIGZ1bmN0aW9uIHRvIGZvcm1hdCBjb3VudGRvd24gYXMgTU06U1NcbiAgY29uc3QgZm9ybWF0Q291bnRkb3duID0gKHNlY29uZHM6IG51bWJlcik6IHN0cmluZyA9PiB7XG4gICAgY29uc3QgbWludXRlcyA9IE1hdGguZmxvb3Ioc2Vjb25kcyAvIDYwKTtcbiAgICBjb25zdCByZW1haW5pbmdTZWNvbmRzID0gc2Vjb25kcyAlIDYwO1xuICAgIHJldHVybiBgJHttaW51dGVzfToke3JlbWFpbmluZ1NlY29uZHMudG9TdHJpbmcoKS5wYWRTdGFydCgyLCAnMCcpfWA7XG4gIH07XG5cbiAgLy8gSm9iIG1hbmFnZW1lbnQgZnVuY3Rpb25zXG4gIGNvbnN0IHNhdmVKb2JUb1N0b3JhZ2UgPSAoam9iSWQ6IHN0cmluZywgam9iRGF0YTogYW55KSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKGBjYXJkSm9iXyR7am9iSWR9YCwgSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAuLi5qb2JEYXRhLFxuICAgICAgICBpZDogam9iSWQsXG4gICAgICAgIHN0YXR1czogJ3Byb2Nlc3NpbmcnLFxuICAgICAgICBjcmVhdGVkQXQ6IERhdGUubm93KClcbiAgICAgIH0pKTtcbiAgICAgIFxuICAgICAgLy8gQWxzbyBhZGQgdG8gcGVuZGluZyBqb2JzIGxpc3RcbiAgICAgIGNvbnN0IHBlbmRpbmdKb2JzID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgncGVuZGluZ0NhcmRKb2JzJykgfHwgJ1tdJyk7XG4gICAgICBpZiAoIXBlbmRpbmdKb2JzLmluY2x1ZGVzKGpvYklkKSkge1xuICAgICAgICBwZW5kaW5nSm9icy5wdXNoKGpvYklkKTtcbiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3BlbmRpbmdDYXJkSm9icycsIEpTT04uc3RyaW5naWZ5KHBlbmRpbmdKb2JzKSk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBzYXZlIGpvYiB0byBsb2NhbFN0b3JhZ2U6JywgZXJyb3IpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCByZW1vdmVKb2JGcm9tU3RvcmFnZSA9IChqb2JJZDogc3RyaW5nKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKGBjYXJkSm9iXyR7am9iSWR9YCk7XG4gICAgICBcbiAgICAgIC8vIFJlbW92ZSBmcm9tIHBlbmRpbmcgam9icyBsaXN0XG4gICAgICBjb25zdCBwZW5kaW5nSm9icyA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3BlbmRpbmdDYXJkSm9icycpIHx8ICdbXScpO1xuICAgICAgY29uc3QgdXBkYXRlZEpvYnMgPSBwZW5kaW5nSm9icy5maWx0ZXIoKGlkOiBzdHJpbmcpID0+IGlkICE9PSBqb2JJZCk7XG4gICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgncGVuZGluZ0NhcmRKb2JzJywgSlNPTi5zdHJpbmdpZnkodXBkYXRlZEpvYnMpKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIHJlbW92ZSBqb2IgZnJvbSBsb2NhbFN0b3JhZ2U6JywgZXJyb3IpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBjaGVja0pvYlN0YXR1cyA9IGFzeW5jIChqb2JJZDogc3RyaW5nKTogUHJvbWlzZTxhbnk+ID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgL2FwaS9qb2Itc3RhdHVzLyR7am9iSWR9YCk7XG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgSFRUUCAke3Jlc3BvbnNlLnN0YXR1c31gKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBjaGVjayBqb2Igc3RhdHVzOicsIGVycm9yKTtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfTtcblxuICAvLyBSZWNvdmVyeSBmdW5jdGlvbiAtIGNoZWNrIGZvciBwZW5kaW5nIGpvYnMgb24gcGFnZSBsb2FkXG4gIGNvbnN0IGNoZWNrUGVuZGluZ0pvYnMgPSBhc3luYyAoKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHBlbmRpbmdKb2JzID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgncGVuZGluZ0NhcmRKb2JzJykgfHwgJ1tdJyk7XG4gICAgICBcbiAgICAgIGZvciAoY29uc3Qgam9iSWQgb2YgcGVuZGluZ0pvYnMpIHtcbiAgICAgICAgY29uc3Qgam9iRGF0YSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKGBjYXJkSm9iXyR7am9iSWR9YCk7XG4gICAgICAgIGlmICgham9iRGF0YSkgY29udGludWU7XG4gICAgICAgIFxuICAgICAgICBjb25zdCBqb2IgPSBKU09OLnBhcnNlKGpvYkRhdGEpO1xuICAgICAgICBjb25zdCBzdGF0dXNSZXNwb25zZSA9IGF3YWl0IGNoZWNrSm9iU3RhdHVzKGpvYklkKTtcbiAgICAgICAgXG4gICAgICAgIGlmIChzdGF0dXNSZXNwb25zZSAmJiBzdGF0dXNSZXNwb25zZS5zdGF0dXMgPT09ICdjb21wbGV0ZWQnKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ/CfjokgSm9iIGNvbXBsZXRlZCB3aGlsZSB1c2VyIHdhcyBhd2F5ISBDYXJkIGRhdGE6Jywgc3RhdHVzUmVzcG9uc2UuY2FyZERhdGEpO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIEpvYiBjb21wbGV0ZWQgd2hpbGUgdXNlciB3YXMgYXdheSFcbiAgICAgICAgICBpZiAoc3RhdHVzUmVzcG9uc2UuY2FyZERhdGEpIHtcbiAgICAgICAgICAgIC8vIEFwcGx5IFFSIGNvZGUgdG8gYmFjayBjb3ZlciBiZWZvcmUgc2V0dGluZyB0aGUgY2FyZCBkYXRhXG4gICAgICAgICAgICBsZXQgY2FyZFdpdGhRUiA9IHsgLi4uc3RhdHVzUmVzcG9uc2UuY2FyZERhdGEgfTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gRW5zdXJlIHRoZSBjYXJkIGhhcyBhIHZhbGlkIGNyZWF0ZWRBdCBkYXRlXG4gICAgICAgICAgICBpZiAoIWNhcmRXaXRoUVIuY3JlYXRlZEF0KSB7XG4gICAgICAgICAgICAgIGNhcmRXaXRoUVIuY3JlYXRlZEF0ID0gbmV3IERhdGUoKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGNhcmRXaXRoUVIuY3JlYXRlZEF0ID09PSAnc3RyaW5nJyB8fCB0eXBlb2YgY2FyZFdpdGhRUi5jcmVhdGVkQXQgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICAgIGNhcmRXaXRoUVIuY3JlYXRlZEF0ID0gbmV3IERhdGUoY2FyZFdpdGhRUi5jcmVhdGVkQXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBFbnN1cmUgdGhlIGNhcmQgaGFzIGEgdmFsaWQgSURcbiAgICAgICAgICAgIGlmICghY2FyZFdpdGhRUi5pZCkge1xuICAgICAgICAgICAgICBjYXJkV2l0aFFSLmlkID0gYGNhcmQtJHtEYXRlLm5vdygpfS0ke01hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cigyLCA5KX1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBjb25zb2xlLmxvZygn8J+UhCBDYXJkIGRhdGEgcHJlcGFyZWQgZm9yIHJlY292ZXJ5OicsIGNhcmRXaXRoUVIpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBjb25zb2xlLmxvZygn8J+UhCBTdGFydGluZyBRUiBvdmVybGF5IHByb2Nlc3MgZm9yIHJlY292ZXJlZCBjYXJkJyk7XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTdG9yZSBjYXJkIGRhdGEgZmlyc3QgdG8gZ2V0IGEgc2hhcmVhYmxlIFVSTFxuICAgICAgICAgICAgICAgaWYgKGNhcmRXaXRoUVIuZnJvbnRDb3Zlcikge1xuICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgIGNvbnN0IGNhcmRTdG9yZVJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hcGkvY2FyZHMvc3RvcmUnLCB7XG4gICAgICAgICAgICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICAgICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgICAgICAgICAgICBwcm9tcHQ6IGNhcmRXaXRoUVIucHJvbXB0IHx8ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICBmcm9udENvdmVyOiBjYXJkV2l0aFFSLmZyb250Q292ZXIgfHwgJycsXG4gICAgICAgICAgICAgICAgICAgICAgIGJhY2tDb3ZlcjogY2FyZFdpdGhRUi5iYWNrQ292ZXIgfHwgJycsXG4gICAgICAgICAgICAgICAgICAgICAgIGxlZnRQYWdlOiBjYXJkV2l0aFFSLmxlZnRQYWdlIHx8ICcnLFxuICAgICAgICAgICAgICAgICAgICAgIHJpZ2h0UGFnZTogY2FyZFdpdGhRUi5yaWdodFBhZ2UgfHwgJycsXG4gICAgICAgICAgICAgICAgICAgICAgZ2VuZXJhdGVkUHJvbXB0czogY2FyZFdpdGhRUi5nZW5lcmF0ZWRQcm9tcHRzIHx8IG51bGxcbiAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgaWYgKGNhcmRTdG9yZVJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgICAgICAgICAgICBjb25zdCBjYXJkU3RvcmVEYXRhID0gYXdhaXQgY2FyZFN0b3JlUmVzcG9uc2UuanNvbigpO1xuICAgICAgICAgICAgICAgICAgICAgY29uc3QgYWN0dWFsU2hhcmVVcmwgPSBjYXJkU3RvcmVEYXRhLnNoYXJlX3VybDtcbiAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdVc2luZyBhY3R1YWwgc2hhcmUgVVJMIGZvciBRUiBjb2RlIChyZWNvdmVyZWQpOicsIGFjdHVhbFNoYXJlVXJsKTtcbiAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgLy8gQXBwbHkgUVIgY29kZSB0byBiYWNrIGNvdmVyIHVzaW5nIHRoZSBBUEktcmV0dXJuZWQgVVJMXG4gICAgICAgICAgICAgICAgICAgICBpZiAoY2FyZFdpdGhRUi5iYWNrQ292ZXIgJiYgYWN0dWFsU2hhcmVVcmwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/CflIQgQXBwbHlpbmcgUVIgb3ZlcmxheSB0byByZWNvdmVyZWQgY2FyZC4uLicpO1xuICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBvcmlnaW5hbEJhY2tDb3ZlciA9IGNhcmRXaXRoUVIuYmFja0NvdmVyO1xuICAgICAgICAgICAgICAgICAgICAgICBjYXJkV2l0aFFSLmJhY2tDb3ZlciA9IGF3YWl0IG92ZXJsYXlRUkNvZGVPbkltYWdlKG9yaWdpbmFsQmFja0NvdmVyLCBhY3R1YWxTaGFyZVVybCk7XG4gICAgICAgICAgICAgICAgICAgICAgIGNhcmRXaXRoUVIuc2hhcmVVcmwgPSBhY3R1YWxTaGFyZVVybDtcbiAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+KchSBRUiBvdmVybGF5IGNvbXBsZXRlIGZvciByZWNvdmVyZWQgY2FyZCcpO1xuICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdGYWlsZWQgdG8gc3RvcmUgcmVjb3ZlcmVkIGNhcmQgZm9yIHNoYXJpbmcsIGNvbnRpbnVpbmcgd2l0aG91dCBRUiBjb2RlJyk7XG4gICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgRmFpbGVkIHRvIHN0b3JlIGNhcmQgb3Igb3ZlcmxheSBRUiBjb2RlIChyZWNvdmVyZWQpOicsIGVycm9yKTtcbiAgICAgICAgICAgICAgICAgIC8vIENvbnRpbnVlIHdpdGhvdXQgUVIgY29kZSBpZiB0aGVyZSdzIGFuIGVycm9yXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignTm8gZnJvbnQgY292ZXIgZm91bmQgaW4gcmVjb3ZlcmVkIGNhcmQsIHNraXBwaW5nIFFSIGNvZGUgcHJvY2VzcycpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgRXJyb3IgaW4gUVIgY29kZSBwcm9jZXNzIChyZWNvdmVyZWQpOicsIGVycm9yKTtcbiAgICAgICAgICAgICAgLy8gQ29udGludWUgd2l0aG91dCBRUiBjb2RlIGlmIHRoZXJlJ3MgYW4gZXJyb3JcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29uc29sZS5sb2coJ/Cfjq8gU2V0dGluZyByZWNvdmVyZWQgY2FyZCBzdGF0ZTonLCBjYXJkV2l0aFFSKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gU2V0IHRoZSBjYXJkIHN0YXRlcyAtIHRoaXMgaXMgY3JpdGljYWwhXG4gICAgICAgICAgICBzZXRHZW5lcmF0ZWRDYXJkKGNhcmRXaXRoUVIpO1xuICAgICAgICAgICAgc2V0R2VuZXJhdGVkQ2FyZHMoW2NhcmRXaXRoUVJdKTtcbiAgICAgICAgICAgIHNldFNlbGVjdGVkQ2FyZEluZGV4KDApO1xuICAgICAgICAgICAgc2V0SXNDYXJkQ29tcGxldGVkKHRydWUpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBDUklUSUNBTDogUmVzZXQgYWxsIGdlbmVyYXRpb24gc3RhdGVzIHRvIHN0b3AgcHJvZ3Jlc3MgaW5kaWNhdG9yXG4gICAgICAgICAgICBzZXRJc0dlbmVyYXRpbmcoZmFsc2UpO1xuICAgICAgICAgICAgc2V0SXNHZW5lcmF0aW5nTWVzc2FnZShmYWxzZSk7XG4gICAgICAgICAgICBzZXRHZW5lcmF0aW9uUHJvZ3Jlc3MoXCJcIik7XG4gICAgICAgICAgICBzZXRQcm9ncmVzc1BlcmNlbnRhZ2UoMTAwKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gU2Nyb2xsIHRvIGNhcmQgcHJldmlld1xuICAgICAgICAgICAgc2Nyb2xsVG9DYXJkUHJldmlldygpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBTZXQgYWxsIHNlY3Rpb25zIGFzIGNvbXBsZXRlZFxuICAgICAgICAgICAgc2V0U2VjdGlvbkxvYWRpbmdTdGF0ZXMoe1xuICAgICAgICAgICAgICBmcm9udENvdmVyOiAnY29tcGxldGVkJyxcbiAgICAgICAgICAgICAgYmFja0NvdmVyOiAnY29tcGxldGVkJyxcbiAgICAgICAgICAgICAgbGVmdEludGVyaW9yOiAnY29tcGxldGVkJyxcbiAgICAgICAgICAgICAgcmlnaHRJbnRlcmlvcjogJ2NvbXBsZXRlZCcsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gQ2FwdHVyZSBnZW5lcmF0aW9uIHRpbWUgZnJvbSBiYWNrZW5kXG4gICAgICAgICAgICBpZiAoc3RhdHVzUmVzcG9uc2UuY2FyZERhdGEuZ2VuZXJhdGlvblRpbWVTZWNvbmRzKSB7XG4gICAgICAgICAgICAgIHNldEdlbmVyYXRpb25EdXJhdGlvbihzdGF0dXNSZXNwb25zZS5jYXJkRGF0YS5nZW5lcmF0aW9uVGltZVNlY29uZHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBTdG9wIGVsYXBzZWQgdGltZSB0cmFja2luZ1xuICAgICAgICAgICAgc3RvcEVsYXBzZWRUaW1lVHJhY2tpbmcoKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gU2V0IHByb2dyZXNzIHRvIDEwMCVcbiAgICAgICAgICAgIHNldFByb2dyZXNzUGVyY2VudGFnZSgxMDApO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgLy8gRm9yY2UgYSBzdGF0ZSB1cGRhdGUgYnkgdXBkYXRpbmcgbG9jYWxTdG9yYWdlICh3aXRob3V0IGJhc2U2NCBRUiBjb2RlIHRvIGF2b2lkIHF1b3RhIGlzc3VlcylcbiAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgLy8gQ3JlYXRlIGEgbGlnaHR3ZWlnaHQgdmVyc2lvbiB3aXRob3V0IGJhc2U2NCBRUiBjb2RlIGZvciBsb2NhbFN0b3JhZ2VcbiAgICAgICAgICAgICAgIGNvbnN0IGNhcmRGb3JTdG9yYWdlID0geyAuLi5jYXJkV2l0aFFSIH07XG4gICAgICAgICAgICAgICBpZiAoY2FyZEZvclN0b3JhZ2UuYmFja0NvdmVyICYmIGNhcmRGb3JTdG9yYWdlLmJhY2tDb3Zlci5zdGFydHNXaXRoKCdkYXRhOmltYWdlL3BuZztiYXNlNjQsJykpIHtcbiAgICAgICAgICAgICAgICAgLy8gUmVwbGFjZSB0aGUgYmFzZTY0IFFSIGNvZGUgd2l0aCB0aGUgb3JpZ2luYWwgYmFjayBjb3ZlciBVUkwgdG8gc2F2ZSBzcGFjZVxuICAgICAgICAgICAgICAgICBjYXJkRm9yU3RvcmFnZS5iYWNrQ292ZXIgPSBzdGF0dXNSZXNwb25zZS5jYXJkRGF0YS5iYWNrQ292ZXI7XG4gICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5K+IFJlcGxhY2VkIGJhc2U2NCBRUiBjb2RlIHdpdGggb3JpZ2luYWwgVVJMIGZvciBsb2NhbFN0b3JhZ2Ugc3RvcmFnZSAocmVjb3ZlcnkpJyk7XG4gICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgIGNvbnN0IGNhcmRzRGF0YSA9IHtcbiAgICAgICAgICAgICAgICAgbW9zdFJlY2VudENhcmQ6IGNhcmRGb3JTdG9yYWdlLFxuICAgICAgICAgICAgICAgICBnZW5lcmF0aW9uRHVyYXRpb246IHN0YXR1c1Jlc3BvbnNlLmNhcmREYXRhLmdlbmVyYXRpb25UaW1lU2Vjb25kcyB8fCBudWxsXG4gICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3ZpYmVjYXJkaW5nLWdlbmVyYXRlZC1jYXJkcycsIEpTT04uc3RyaW5naWZ5KGNhcmRzRGF0YSkpO1xuICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/Cfkr4gUmVjb3ZlcmVkIGNhcmQgc2F2ZWQgdG8gbG9jYWxTdG9yYWdlJyk7XG4gICAgICAgICAgICAgfSBjYXRjaCAoc3RvcmFnZUVycm9yKSB7XG4gICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gc2F2ZSByZWNvdmVyZWQgY2FyZCB0byBsb2NhbFN0b3JhZ2U6Jywgc3RvcmFnZUVycm9yKTtcbiAgICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHRvYXN0LnN1Y2Nlc3MoXCLwn46JIFlvdXIgY2FyZCB3aXRoIFFSIGNvZGUgZmluaXNoZWQgZ2VuZXJhdGluZyB3aGlsZSB5b3Ugd2VyZSBhd2F5IVwiKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gU2VuZCB0aGFuayB5b3UgZW1haWwgdXNpbmcgam9iIGRhdGFcbiAgICAgICAgICAgIGlmIChqb2IudXNlckVtYWlsICYmIGpvYi51c2VyRW1haWwudHJpbSgpKSB7XG4gICAgICAgICAgICAgIGNvbnN0IGNhcmRUeXBlRm9yRW1haWwgPSBqb2Iuc2VsZWN0ZWRUeXBlID09PSBcImN1c3RvbVwiID8gam9iLmN1c3RvbUNhcmRUeXBlIDogam9iLnNlbGVjdGVkVHlwZTtcbiAgICAgICAgICAgICAgc2VuZFRoYW5rWW91RW1haWwoam9iLnVzZXJFbWFpbCwgY2FyZFR5cGVGb3JFbWFpbCwgY2FyZFdpdGhRUi5zaGFyZVVybCB8fCAnaHR0cHM6Ly92aWJlY2FyZGluZy5jb20nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29uc29sZS5sb2coJ+KchSBDYXJkIHJlY292ZXJ5IHByb2Nlc3MgZmluaXNoZWQgc3VjY2Vzc2Z1bGx5Jyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBObyBjYXJkIGRhdGEgaW4gY29tcGxldGVkIHJlY292ZXJ5IHJlc3BvbnNlJyk7XG4gICAgICAgICAgICB0b2FzdC5lcnJvcihcIuKdjCBDYXJkIGdlbmVyYXRpb24gY29tcGxldGVkIGJ1dCBubyBkYXRhIHJlY2VpdmVkLiBQbGVhc2UgdHJ5IGFnYWluLlwiKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmVtb3ZlSm9iRnJvbVN0b3JhZ2Uoam9iSWQpO1xuICAgICAgICB9IGVsc2UgaWYgKHN0YXR1c1Jlc3BvbnNlICYmIHN0YXR1c1Jlc3BvbnNlLnN0YXR1cyA9PT0gJ2ZhaWxlZCcpIHtcbiAgICAgICAgICAvLyBKb2IgZmFpbGVkXG4gICAgICAgICAgdG9hc3QuZXJyb3IoXCLinYwgQSBjYXJkIGdlbmVyYXRpb24gam9iIGZhaWxlZC4gUGxlYXNlIHRyeSBhZ2Fpbi5cIik7XG4gICAgICAgICAgcmVtb3ZlSm9iRnJvbVN0b3JhZ2Uoam9iSWQpO1xuICAgICAgICB9IGVsc2UgaWYgKHN0YXR1c1Jlc3BvbnNlICYmIHN0YXR1c1Jlc3BvbnNlLnN0YXR1cyA9PT0gJ3Byb2Nlc3NpbmcnKSB7XG4gICAgICAgICAgLy8gU3RpbGwgcHJvY2Vzc2luZyAtIHJlc3RvcmUgbG9hZGluZyBzdGF0ZXMgYW5kIHN0YXJ0IHBvbGxpbmdcbiAgICAgICAgICBzZXRJc0dlbmVyYXRpbmcodHJ1ZSk7XG4gICAgICAgICAgc2V0Q3VycmVudEpvYklkKGpvYklkKTtcbiAgICAgICAgICBzZXRHZW5lcmF0aW9uUHJvZ3Jlc3MoXCJSZXN1bWluZyBjYXJkIGdlbmVyYXRpb24uLi5cIik7XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gU3RhcnQgZWxhcHNlZCB0aW1lIHRyYWNraW5nIGZyb20gd2hlbiBqb2Igd2FzIG9yaWdpbmFsbHkgY3JlYXRlZFxuICAgICAgICAgIGNvbnN0IGpvYlN0YXJ0VGltZSA9IGpvYi5jcmVhdGVkQXQgPyBuZXcgRGF0ZShqb2IuY3JlYXRlZEF0KS5nZXRUaW1lKCkgOiBEYXRlLm5vdygpO1xuICAgICAgICAgIHN0YXJ0RWxhcHNlZFRpbWVUcmFja2luZyhqb2JTdGFydFRpbWUpO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIFJlc3RvcmUgc2VjdGlvbiBsb2FkaW5nIHN0YXRlcyBiYXNlZCBvbiBqb2IgZGF0YVxuICAgICAgICAgIGlmIChqb2IucHJvbXB0cykge1xuICAgICAgICAgICAgY29uc3QgbG9hZGluZ1N0YXRlcyA9IHtcbiAgICAgICAgICAgICAgZnJvbnRDb3ZlcjogJ2xvYWRpbmcnIGFzIGNvbnN0LFxuICAgICAgICAgICAgICBiYWNrQ292ZXI6ICdsb2FkaW5nJyBhcyBjb25zdCxcbiAgICAgICAgICAgICAgbGVmdEludGVyaW9yOiBqb2IuaXNGcm9udEJhY2tPbmx5ID8gJ2lkbGUnIGFzIGNvbnN0IDogJ2xvYWRpbmcnIGFzIGNvbnN0LFxuICAgICAgICAgICAgICByaWdodEludGVyaW9yOiBqb2IuaXNGcm9udEJhY2tPbmx5ID8gJ2lkbGUnIGFzIGNvbnN0IDogJ2xvYWRpbmcnIGFzIGNvbnN0LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHNldFNlY3Rpb25Mb2FkaW5nU3RhdGVzKGxvYWRpbmdTdGF0ZXMpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBcbiAgICAgICAgICAvLyBJbml0aWFsaXplIHByb2dyZXNzIC0gd2lsbCBiZSB1cGRhdGVkIGJ5IHRpbWVyXG4gICAgICAgICAgc2V0R2VuZXJhdGlvblByb2dyZXNzKFwiUmVzdW1pbmcgY2FyZCBnZW5lcmF0aW9uLi4uXCIpO1xuICAgICAgICAgIHNldFByb2dyZXNzUGVyY2VudGFnZSgwKTsgLy8gV2lsbCBiZSBjYWxjdWxhdGVkIGJ5IHRpbWVyIGJhc2VkIG9uIGVsYXBzZWQgdGltZVxuICAgICAgICAgIFxuICAgICAgICAgIHRvYXN0LmluZm8oXCLwn5SEIFJlc3VtaW5nIGNhcmQgZ2VuZXJhdGlvbiB3aGVyZSB5b3UgbGVmdCBvZmYuLi5cIik7XG4gICAgICAgICAgcG9sbEpvYlN0YXR1cyhqb2JJZCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gSWYgc3RpbGwgcHJvY2Vzc2luZywgbGVhdmUgaXQgaW4gc3RvcmFnZVxuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gY2hlY2sgcGVuZGluZyBqb2JzOicsIGVycm9yKTtcbiAgICB9XG4gIH07XG5cbiAgLy8gUG9sbCBqb2Igc3RhdHVzIHdpdGggZXhwb25lbnRpYWwgYmFja29mZlxuICBjb25zdCBwb2xsSm9iU3RhdHVzID0gYXN5bmMgKGpvYklkOiBzdHJpbmcsIGF0dGVtcHQ6IG51bWJlciA9IDEpID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3Qgc3RhdHVzUmVzcG9uc2UgPSBhd2FpdCBjaGVja0pvYlN0YXR1cyhqb2JJZCk7XG4gICAgICBcbiAgICAgIC8vIENoZWNrIGlmIHRoaXMgaXMgYSBkcmFmdCBqb2JcbiAgICAgIGNvbnN0IGlzRHJhZnRKb2IgPSBqb2JJZC5zdGFydHNXaXRoKCdkcmFmdC0nKTtcbiAgICAgIGNvbnN0IGRyYWZ0SW5kZXggPSBpc0RyYWZ0Sm9iID8gcGFyc2VJbnQoam9iSWQuc3BsaXQoJy0nKVsxXSkgOiAtMTtcbiAgICAgIFxuICAgICAgaWYgKHN0YXR1c1Jlc3BvbnNlICYmIHN0YXR1c1Jlc3BvbnNlLnN0YXR1cyA9PT0gJ2NvbXBsZXRlZCcpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ/CfjokgSm9iIGNvbXBsZXRlZCEgQ2FyZCBkYXRhOicsIHN0YXR1c1Jlc3BvbnNlLmNhcmREYXRhLCAnaXNEcmFmdEpvYjonLCBpc0RyYWZ0Sm9iKTtcbiAgICAgICAgXG4gICAgICAgIGlmIChzdGF0dXNSZXNwb25zZS5jYXJkRGF0YSkge1xuICAgICAgICAgIGlmIChpc0RyYWZ0Sm9iICYmIGRyYWZ0SW5kZXggPj0gMCkge1xuICAgICAgICAgICAgLy8gSGFuZGxlIGRyYWZ0IGNhcmQgY29tcGxldGlvbiAtIG5vIFFSIGNvZGUgbmVlZGVkIGZvciBkcmFmdHNcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGDwn46oIERyYWZ0IHZhcmlhdGlvbiAke2RyYWZ0SW5kZXggKyAxfSBjb21wbGV0ZWQhYCk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIEdldCBzdHlsZSBpbmZvIGZvciBzbWFydCBzdHlsZSBtb2RlXG4gICAgICAgICAgICBsZXQgc3R5bGVJbmZvOiB7IHN0eWxlTmFtZTogc3RyaW5nOyBzdHlsZUxhYmVsOiBzdHJpbmcgfSB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGlmIChzZWxlY3RlZEFydGlzdGljU3R5bGUgPT09IFwiYWktc21hcnQtc3R5bGVcIikge1xuICAgICAgICAgICAgICBjb25zdCBwcmVkZWZpbmVkU3R5bGVzID0gW1xuICAgICAgICAgICAgICAgIFwid2F0ZXJjb2xvclwiLCBcImJvdGFuaWNhbFwiLCBcImhhbmQtZHJhd25cIiwgXCJkcmVhbXktZmFudGFzeVwiLCBcIm1pbmltYWxpc3RcIixcbiAgICAgICAgICAgICAgICBcInZpbnRhZ2UtaWxsdXN0cmF0aW9uXCIsIFwiYXJ0LWRlY29cIiwgXCJzb2Z0LXBhc3RlbFwiLCBcIm1vZGVybi1nZW9tZXRyaWNcIiwgXCJ3YXRlcmNvbG9yXCJcbiAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgY29uc3Qgc3R5bGVMYWJlbHMgPSBbXG4gICAgICAgICAgICAgICAgXCLwn46oIFdhdGVyY29sb3JcIiwgXCLwn4y/IEJvdGFuaWNhbFwiLCBcIuKcj++4jyBIYW5kLURyYXduXCIsIFwi8J+MuCBEcmVhbXkgRmFudGFzeVwiLCBcIuKcqCBNaW5pbWFsaXN0XCIsXG4gICAgICAgICAgICAgICAgXCLwn5OaIFZpbnRhZ2UgSWxsdXN0cmF0aW9uXCIsIFwi4pyoIEFydCBEZWNvXCIsIFwi8J+MuCBTb2Z0IFBhc3RlbFwiLCBcIvCflLcgTW9kZXJuIEdlb21ldHJpY1wiLCBcIvCfjqggV2F0ZXJjb2xvclwiXG4gICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgIGlmIChkcmFmdEluZGV4ID49IDAgJiYgZHJhZnRJbmRleCA8IHByZWRlZmluZWRTdHlsZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgc3R5bGVJbmZvID0ge1xuICAgICAgICAgICAgICAgICAgc3R5bGVOYW1lOiBwcmVkZWZpbmVkU3R5bGVzW2RyYWZ0SW5kZXhdLFxuICAgICAgICAgICAgICAgICAgc3R5bGVMYWJlbDogc3R5bGVMYWJlbHNbZHJhZnRJbmRleF1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IGRyYWZ0Q2FyZDogR2VuZXJhdGVkQ2FyZCA9IHtcbiAgICAgICAgICAgICAgaWQ6IGBkcmFmdC0ke2RyYWZ0SW5kZXggKyAxfS0ke0RhdGUubm93KCl9YCxcbiAgICAgICAgICAgICAgcHJvbXB0OiBzdGF0dXNSZXNwb25zZS5jYXJkRGF0YS5wcm9tcHQgfHwgYERyYWZ0IFZhcmlhdGlvbiAke2RyYWZ0SW5kZXggKyAxfWAsXG4gICAgICAgICAgICAgIGZyb250Q292ZXI6IHN0YXR1c1Jlc3BvbnNlLmNhcmREYXRhLmZyb250Q292ZXIgfHwgXCJcIixcbiAgICAgICAgICAgICAgYmFja0NvdmVyOiBcIlwiLCAvLyBEcmFmdCBtb2RlIG9ubHkgZ2VuZXJhdGVzIGZyb250IGNvdmVyXG4gICAgICAgICAgICAgIGxlZnRQYWdlOiBcIlwiLCAvLyBXaWxsIGJlIGdlbmVyYXRlZCBpbiBmaW5hbCBoaWdoLXF1YWxpdHkgdmVyc2lvblxuICAgICAgICAgICAgICByaWdodFBhZ2U6IFwiXCIsIC8vIFdpbGwgYmUgZ2VuZXJhdGVkIGluIGZpbmFsIGhpZ2gtcXVhbGl0eSB2ZXJzaW9uXG4gICAgICAgICAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoKSxcbiAgICAgICAgICAgICAgZ2VuZXJhdGVkUHJvbXB0czoge1xuICAgICAgICAgICAgICAgIGZyb250Q292ZXI6IHN0YXR1c1Jlc3BvbnNlLmNhcmREYXRhLmdlbmVyYXRlZFByb21wdHM/LmZyb250Q292ZXIgfHwgXCJcIiAvLyBPbmx5IHN0b3JlIGZyb250IGNvdmVyIHByb21wdCBmb3IgZHJhZnQgbW9kZVxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBzdHlsZUluZm86IHN0eWxlSW5mbyAvLyBTdG9yZSBzdHlsZSBpbmZvcm1hdGlvbiBmb3Igc21hcnQgc3R5bGUgbW9kZVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gVXBkYXRlIGRyYWZ0IGNhcmRzIHN0YXRlIC0gcG9wdWxhdGUgZnJvbSBsZWZ0IHRvIHJpZ2h0IGFzIHRoZXkgY29tcGxldGVcbiAgICAgICAgICAgIHNldERyYWZ0Q2FyZHMocHJldiA9PiB7XG4gICAgICAgICAgICAgIGNvbnN0IHVwZGF0ZWQgPSBbLi4ucHJldl07XG4gICAgICAgICAgICAgIHVwZGF0ZWQucHVzaChkcmFmdENhcmQpOyAvLyBBZGQgdG8gbmV4dCBhdmFpbGFibGUgcG9zaXRpb24gKGxlZnQgdG8gcmlnaHQpXG4gICAgICAgICAgICAgIHJldHVybiB1cGRhdGVkO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIFVwZGF0ZSBtYXBwaW5nIHRvIHRyYWNrIHdoaWNoIGRpc3BsYXkgcG9zaXRpb24gY29ycmVzcG9uZHMgdG8gd2hpY2ggb3JpZ2luYWwgZHJhZnQgaW5kZXhcbiAgICAgICAgICAgIHNldERyYWZ0SW5kZXhNYXBwaW5nKHByZXYgPT4ge1xuICAgICAgICAgICAgICBjb25zdCB1cGRhdGVkTWFwcGluZyA9IFsuLi5wcmV2XTtcbiAgICAgICAgICAgICAgdXBkYXRlZE1hcHBpbmcucHVzaChkcmFmdEluZGV4KTsgLy8gTWFwIG5ldyBkaXNwbGF5IHBvc2l0aW9uIHRvIG9yaWdpbmFsIGRyYWZ0IGluZGV4XG4gICAgICAgICAgICAgIHJldHVybiB1cGRhdGVkTWFwcGluZztcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBVcGRhdGUgcHJvZ3Jlc3MgYW5kIGNoZWNrIGNvbXBsZXRpb25cbiAgICAgICAgICAgIGNvbnN0IG5ld0NvbXBsZXRlZENvdW50ID0gZHJhZnRDYXJkcy5sZW5ndGggKyAxOyAvLyArMSBiZWNhdXNlIHN0YXRlIHVwZGF0ZSBpcyBhc3luY1xuICAgICAgICAgICAgY29uc29sZS5sb2coYPCfk4ogRHJhZnQgcHJvZ3Jlc3M6ICR7bmV3Q29tcGxldGVkQ291bnR9LzUgZnJvbnQgY292ZXIgdmFyaWF0aW9ucyBjb21wbGV0ZWApO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBTY3JvbGwgdG8gZHJhZnQgcHJldmlldyB3aGVuIGZpcnN0IGNhcmQgYXBwZWFyc1xuICAgICAgICAgICAgaWYgKG5ld0NvbXBsZXRlZENvdW50ID09PSAxKSB7XG4gICAgICAgICAgICAgIHNjcm9sbFRvQ2FyZFByZXZpZXcoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKG5ld0NvbXBsZXRlZENvdW50ID09PSA1KSB7XG4gICAgICAgICAgICAgIC8vIENSSVRJQ0FMOiBSZXNldCBhbGwgZ2VuZXJhdGlvbiBzdGF0ZXMgdG8gc3RvcCBwcm9ncmVzcyBpbmRpY2F0b3JcbiAgICAgICAgICAgICAgc2V0SXNHZW5lcmF0aW5nKGZhbHNlKTtcbiAgICAgICAgICAgICAgc2V0SXNHZW5lcmF0aW5nTWVzc2FnZShmYWxzZSk7XG4gICAgICAgICAgICAgIHNldEdlbmVyYXRpb25Qcm9ncmVzcyhcIlwiKTtcbiAgICAgICAgICAgICAgc2V0UHJvZ3Jlc3NQZXJjZW50YWdlKDEwMCk7XG4gICAgICAgICAgICAgIHN0b3BFbGFwc2VkVGltZVRyYWNraW5nKCk7XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAvLyBPbmx5IHNob3cgY29tcGxldGlvbiB0b2FzdCBvbmNlIHVzaW5nIGEgZmxhZywgYW5kIG9ubHkgaWYgdXNlciBoYXNuJ3QgbW92ZWQgdG8gZmluYWwgZ2VuZXJhdGlvblxuICAgICAgICAgICAgICBzZXREcmFmdENvbXBsZXRpb25TaG93bihwcmV2ID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIXByZXYgJiYgIWlzR2VuZXJhdGluZ0ZpbmFsQ2FyZCkge1xuICAgICAgICAgICAgICAgICAgdG9hc3Quc3VjY2VzcyhcIvCfjqggQWxsIDUgZnJvbnQgY292ZXIgdmFyaWF0aW9ucyByZWFkeSEgQ2hvb3NlIHlvdXIgZmF2b3JpdGUgYmVsb3cuXCIpO1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBwcmV2O1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHNldEdlbmVyYXRpb25Qcm9ncmVzcyhg4pyoICR7bmV3Q29tcGxldGVkQ291bnR9LzUgZnJvbnQgY292ZXIgdmFyaWF0aW9ucyBjb21wbGV0ZS4uLiAke25ld0NvbXBsZXRlZENvdW50ID49IDIgPyBcIllvdSBjYW4gc2VsZWN0IG9uZSBub3cgdG8gcHJvY2VlZCFcIiA6IFwiXCJ9YCk7XG4gICAgICAgICAgICAgIHNldFByb2dyZXNzUGVyY2VudGFnZSgobmV3Q29tcGxldGVkQ291bnQgLyA1KSAqIDEwMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHJlbW92ZUpvYkZyb21TdG9yYWdlKGpvYklkKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gSGFuZGxlIGZpbmFsIGNhcmQgY29tcGxldGlvbiAtIGFwcGx5IFFSIGNvZGUgYW5kIGZ1bGwgcHJvY2Vzc2luZ1xuICAgICAgICAgICAgbGV0IGNhcmRXaXRoUVIgPSB7IC4uLnN0YXR1c1Jlc3BvbnNlLmNhcmREYXRhIH07XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIEVuc3VyZSB0aGUgY2FyZCBoYXMgYSB2YWxpZCBjcmVhdGVkQXQgZGF0ZVxuICAgICAgICAgICAgaWYgKCFjYXJkV2l0aFFSLmNyZWF0ZWRBdCkge1xuICAgICAgICAgICAgICBjYXJkV2l0aFFSLmNyZWF0ZWRBdCA9IG5ldyBEYXRlKCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBjYXJkV2l0aFFSLmNyZWF0ZWRBdCA9PT0gJ3N0cmluZycgfHwgdHlwZW9mIGNhcmRXaXRoUVIuY3JlYXRlZEF0ID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgICBjYXJkV2l0aFFSLmNyZWF0ZWRBdCA9IG5ldyBEYXRlKGNhcmRXaXRoUVIuY3JlYXRlZEF0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gRW5zdXJlIHRoZSBjYXJkIGhhcyBhIHZhbGlkIElEXG4gICAgICAgICAgICBpZiAoIWNhcmRXaXRoUVIuaWQpIHtcbiAgICAgICAgICAgICAgY2FyZFdpdGhRUi5pZCA9IGBjYXJkLSR7RGF0ZS5ub3coKX0tJHtNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHIoMiwgOSl9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29uc29sZS5sb2coJ/CflIQgRmluYWwgY2FyZCBkYXRhIHByZXBhcmVkOicsIGNhcmRXaXRoUVIpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBzZXRHZW5lcmF0aW9uUHJvZ3Jlc3MoXCLinKggQWRkaW5nIGludGVyYWN0aXZlIFFSIGNvZGUgdG8geW91ciBjYXJkLi4uXCIpO1xuICAgICAgICAgICAgICBjb25zb2xlLmxvZygn8J+UhCBTdGFydGluZyBRUiBvdmVybGF5IHByb2Nlc3MgZm9yIGZpbmFsIGNhcmQnKTtcbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIC8vIFN0b3JlIGNhcmQgZGF0YSBmaXJzdCB0byBnZXQgYSBzaGFyZWFibGUgVVJMXG4gICAgICAgICAgICAgIGlmIChjYXJkV2l0aFFSLmZyb250Q292ZXIpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgY29uc3QgY2FyZFN0b3JlUmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnL2FwaS9jYXJkcy9zdG9yZScsIHtcbiAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICAgICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICAgICAgICAgICAgcHJvbXB0OiBjYXJkV2l0aFFSLnByb21wdCB8fCAnJyxcbiAgICAgICAgICAgICAgICAgICAgICBmcm9udENvdmVyOiBjYXJkV2l0aFFSLmZyb250Q292ZXIgfHwgJycsXG4gICAgICAgICAgICAgICAgICAgICAgYmFja0NvdmVyOiBjYXJkV2l0aFFSLmJhY2tDb3ZlciB8fCAnJyxcbiAgICAgICAgICAgICAgICAgICAgICBsZWZ0UGFnZTogY2FyZFdpdGhRUi5sZWZ0UGFnZSB8fCAnJyxcbiAgICAgICAgICAgICAgICAgICAgICByaWdodFBhZ2U6IGNhcmRXaXRoUVIucmlnaHRQYWdlIHx8ICcnLFxuICAgICAgICAgICAgICAgICAgICAgIGdlbmVyYXRlZFByb21wdHM6IGNhcmRXaXRoUVIuZ2VuZXJhdGVkUHJvbXB0cyB8fCBudWxsXG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgaWYgKGNhcmRTdG9yZVJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNhcmRTdG9yZURhdGEgPSBhd2FpdCBjYXJkU3RvcmVSZXNwb25zZS5qc29uKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFjdHVhbFNoYXJlVXJsID0gY2FyZFN0b3JlRGF0YS5zaGFyZV91cmw7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdVc2luZyBhY3R1YWwgc2hhcmUgVVJMIGZvciBRUiBjb2RlOicsIGFjdHVhbFNoYXJlVXJsKTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIC8vIEFwcGx5IFFSIGNvZGUgdG8gYmFjayBjb3ZlciB1c2luZyB0aGUgQVBJLXJldHVybmVkIFVSTFxuICAgICAgICAgICAgICAgICAgICBpZiAoY2FyZFdpdGhRUi5iYWNrQ292ZXIgJiYgYWN0dWFsU2hhcmVVcmwpIHtcbiAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn8J+UhCBBcHBseWluZyBRUiBvdmVybGF5IHRvIGZpbmFsIGNhcmQuLi4nKTtcbiAgICAgICAgICAgICAgICAgICAgICBjb25zdCBvcmlnaW5hbEJhY2tDb3ZlciA9IGNhcmRXaXRoUVIuYmFja0NvdmVyO1xuICAgICAgICAgICAgICAgICAgICAgIGNhcmRXaXRoUVIuYmFja0NvdmVyID0gYXdhaXQgb3ZlcmxheVFSQ29kZU9uSW1hZ2Uob3JpZ2luYWxCYWNrQ292ZXIsIGFjdHVhbFNoYXJlVXJsKTtcbiAgICAgICAgICAgICAgICAgICAgICBjYXJkV2l0aFFSLnNoYXJlVXJsID0gYWN0dWFsU2hhcmVVcmw7XG4gICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+KchSBRUiBvdmVybGF5IGNvbXBsZXRlIGZvciBmaW5hbCBjYXJkJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignRmFpbGVkIHRvIHN0b3JlIGNhcmQgZm9yIHNoYXJpbmcsIGNvbnRpbnVpbmcgd2l0aG91dCBRUiBjb2RlJyk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBGYWlsZWQgdG8gc3RvcmUgY2FyZCBvciBvdmVybGF5IFFSIGNvZGU6JywgZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgLy8gQ29udGludWUgd2l0aG91dCBRUiBjb2RlIGlmIHRoZXJlJ3MgYW4gZXJyb3JcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdObyBmcm9udCBjb3ZlciBmb3VuZCwgc2tpcHBpbmcgUVIgY29kZSBwcm9jZXNzJyk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBFcnJvciBpbiBRUiBjb2RlIHByb2Nlc3M6JywgZXJyb3IpO1xuICAgICAgICAgICAgICAvLyBDb250aW51ZSB3aXRob3V0IFFSIGNvZGUgaWYgdGhlcmUncyBhbiBlcnJvclxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBjb25zb2xlLmxvZygn8J+OryBTZXR0aW5nIGZpbmFsIGNhcmQgc3RhdGU6JywgY2FyZFdpdGhRUik7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIFNldCB0aGUgY2FyZCBzdGF0ZXMgLSB0aGlzIGlzIGNyaXRpY2FsIVxuICAgICAgICAgICAgc2V0R2VuZXJhdGVkQ2FyZChjYXJkV2l0aFFSKTtcbiAgICAgICAgICAgIHNldEdlbmVyYXRlZENhcmRzKFtjYXJkV2l0aFFSXSk7XG4gICAgICAgICAgICBzZXRTZWxlY3RlZENhcmRJbmRleCgwKTtcbiAgICAgICAgICAgIHNldElzQ2FyZENvbXBsZXRlZCh0cnVlKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gQ1JJVElDQUw6IFJlc2V0IGFsbCBnZW5lcmF0aW9uIHN0YXRlcyB0byBzdG9wIHByb2dyZXNzIGluZGljYXRvclxuICAgICAgICAgICAgc2V0SXNHZW5lcmF0aW5nKGZhbHNlKTtcbiAgICAgICAgICAgIHNldElzR2VuZXJhdGluZ01lc3NhZ2UoZmFsc2UpO1xuICAgICAgICAgICAgc2V0SXNHZW5lcmF0aW5nRmluYWxDYXJkKGZhbHNlKTtcbiAgICAgICAgICAgIHNldElzRHJhZnRNb2RlKGZhbHNlKTtcbiAgICAgICAgICAgIHNldERyYWZ0Q29tcGxldGlvblNob3duKGZhbHNlKTtcbiAgICAgICAgICAgIHNldEdlbmVyYXRpb25Qcm9ncmVzcyhcIlwiKTtcbiAgICAgICAgICAgIHNldFByb2dyZXNzUGVyY2VudGFnZSgxMDApO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBTY3JvbGwgdG8gY2FyZCBwcmV2aWV3XG4gICAgICAgICAgICBzY3JvbGxUb0NhcmRQcmV2aWV3KCk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIFNldCBhbGwgc2VjdGlvbnMgYXMgY29tcGxldGVkXG4gICAgICAgICAgICBzZXRTZWN0aW9uTG9hZGluZ1N0YXRlcyh7XG4gICAgICAgICAgICAgIGZyb250Q292ZXI6ICdjb21wbGV0ZWQnLFxuICAgICAgICAgICAgICBiYWNrQ292ZXI6ICdjb21wbGV0ZWQnLFxuICAgICAgICAgICAgICBsZWZ0SW50ZXJpb3I6ICdjb21wbGV0ZWQnLFxuICAgICAgICAgICAgICByaWdodEludGVyaW9yOiAnY29tcGxldGVkJyxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBDYXB0dXJlIGdlbmVyYXRpb24gdGltZSBmcm9tIGJhY2tlbmRcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5SNIENoZWNraW5nIGZvciBnZW5lcmF0aW9uVGltZVNlY29uZHM6Jywgc3RhdHVzUmVzcG9uc2UuY2FyZERhdGEuZ2VuZXJhdGlvblRpbWVTZWNvbmRzKTtcbiAgICAgICAgICAgIGlmIChzdGF0dXNSZXNwb25zZS5jYXJkRGF0YS5nZW5lcmF0aW9uVGltZVNlY29uZHMpIHtcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+KPse+4jyBTZXR0aW5nIGdlbmVyYXRpb24gZHVyYXRpb246Jywgc3RhdHVzUmVzcG9uc2UuY2FyZERhdGEuZ2VuZXJhdGlvblRpbWVTZWNvbmRzLCAnc2Vjb25kcycpO1xuICAgICAgICAgICAgICBzZXRHZW5lcmF0aW9uRHVyYXRpb24oc3RhdHVzUmVzcG9uc2UuY2FyZERhdGEuZ2VuZXJhdGlvblRpbWVTZWNvbmRzKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfimqDvuI8gTm8gZ2VuZXJhdGlvblRpbWVTZWNvbmRzIGZvdW5kIGluIGNhcmQgZGF0YScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBTdG9wIGVsYXBzZWQgdGltZSB0cmFja2luZ1xuICAgICAgICAgICAgc3RvcEVsYXBzZWRUaW1lVHJhY2tpbmcoKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gU2V0IHByb2dyZXNzIHRvIDEwMCVcbiAgICAgICAgICAgIHNldFByb2dyZXNzUGVyY2VudGFnZSgxMDApO1xuICAgICAgICAgICAgc2V0R2VuZXJhdGlvblByb2dyZXNzKFwiQ2FyZCBnZW5lcmF0aW9uIGNvbXBsZXRlIVwiKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gRm9yY2UgYSBzdGF0ZSB1cGRhdGUgYnkgdXBkYXRpbmcgbG9jYWxTdG9yYWdlICh3aXRob3V0IGJhc2U2NCBRUiBjb2RlIHRvIGF2b2lkIHF1b3RhIGlzc3VlcylcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIC8vIENyZWF0ZSBhIGxpZ2h0d2VpZ2h0IHZlcnNpb24gd2l0aG91dCBiYXNlNjQgUVIgY29kZSBmb3IgbG9jYWxTdG9yYWdlXG4gICAgICAgICAgICAgIGNvbnN0IGNhcmRGb3JTdG9yYWdlID0geyAuLi5jYXJkV2l0aFFSIH07XG4gICAgICAgICAgICAgIGlmIChjYXJkRm9yU3RvcmFnZS5iYWNrQ292ZXIgJiYgY2FyZEZvclN0b3JhZ2UuYmFja0NvdmVyLnN0YXJ0c1dpdGgoJ2RhdGE6aW1hZ2UvcG5nO2Jhc2U2NCwnKSkge1xuICAgICAgICAgICAgICAgIC8vIFJlcGxhY2UgdGhlIGJhc2U2NCBRUiBjb2RlIHdpdGggdGhlIG9yaWdpbmFsIGJhY2sgY292ZXIgVVJMIHRvIHNhdmUgc3BhY2VcbiAgICAgICAgICAgICAgICBjYXJkRm9yU3RvcmFnZS5iYWNrQ292ZXIgPSBzdGF0dXNSZXNwb25zZS5jYXJkRGF0YS5iYWNrQ292ZXI7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/Cfkr4gUmVwbGFjZWQgYmFzZTY0IFFSIGNvZGUgd2l0aCBvcmlnaW5hbCBVUkwgZm9yIGxvY2FsU3RvcmFnZSBzdG9yYWdlJyk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIGNvbnN0IGNhcmRzRGF0YSA9IHtcbiAgICAgICAgICAgICAgICBtb3N0UmVjZW50Q2FyZDogY2FyZEZvclN0b3JhZ2UsXG4gICAgICAgICAgICAgICAgZ2VuZXJhdGlvbkR1cmF0aW9uOiBzdGF0dXNSZXNwb25zZS5jYXJkRGF0YS5nZW5lcmF0aW9uVGltZVNlY29uZHMgfHwgbnVsbFxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndmliZWNhcmRpbmctZ2VuZXJhdGVkLWNhcmRzJywgSlNPTi5zdHJpbmdpZnkoY2FyZHNEYXRhKSk7XG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5K+IENhcmQgc2F2ZWQgdG8gbG9jYWxTdG9yYWdlJyk7XG4gICAgICAgICAgICB9IGNhdGNoIChzdG9yYWdlRXJyb3IpIHtcbiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIHNhdmUgdG8gbG9jYWxTdG9yYWdlOicsIHN0b3JhZ2VFcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHRvYXN0LnN1Y2Nlc3MoXCLwn46JIFlvdXIgY2FyZCB3aXRoIFFSIGNvZGUgaXMgcmVhZHkhXCIpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBTZW5kIHRoYW5rIHlvdSBlbWFpbFxuICAgICAgICAgICAgaWYgKHVzZXJFbWFpbC50cmltKCkpIHtcbiAgICAgICAgICAgICAgY29uc3QgY2FyZFR5cGVGb3JFbWFpbCA9IHNlbGVjdGVkVHlwZSA9PT0gXCJjdXN0b21cIiA/IGN1c3RvbUNhcmRUeXBlIDogc2VsZWN0ZWRUeXBlO1xuICAgICAgICAgICAgICBzZW5kVGhhbmtZb3VFbWFpbCh1c2VyRW1haWwsIGNhcmRUeXBlRm9yRW1haWwsIGNhcmRXaXRoUVIuc2hhcmVVcmwgfHwgJ2h0dHBzOi8vdmliZWNhcmRpbmcuY29tJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfinIUgRmluYWwgY2FyZCBjb21wbGV0aW9uIHByb2Nlc3MgZmluaXNoZWQgc3VjY2Vzc2Z1bGx5Jyk7XG4gICAgICAgICAgICByZW1vdmVKb2JGcm9tU3RvcmFnZShqb2JJZCk7XG4gICAgICAgICAgICBzZXRDdXJyZW50Sm9iSWQobnVsbCk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBObyBjYXJkIGRhdGEgaW4gY29tcGxldGVkIHJlc3BvbnNlJyk7XG4gICAgICAgICAgdG9hc3QuZXJyb3IoXCLinYwgQ2FyZCBnZW5lcmF0aW9uIGNvbXBsZXRlZCBidXQgbm8gZGF0YSByZWNlaXZlZC4gUGxlYXNlIHRyeSBhZ2Fpbi5cIik7XG4gICAgICAgICAgcmVtb3ZlSm9iRnJvbVN0b3JhZ2Uoam9iSWQpO1xuICAgICAgICAgIGlmICghaXNEcmFmdEpvYikge1xuICAgICAgICAgICAgc2V0Q3VycmVudEpvYklkKG51bGwpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChzdGF0dXNSZXNwb25zZSAmJiBzdGF0dXNSZXNwb25zZS5zdGF0dXMgPT09ICdmYWlsZWQnKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBKb2IgZmFpbGVkOicsIHN0YXR1c1Jlc3BvbnNlKTtcbiAgICAgICAgXG4gICAgICAgIGlmIChpc0RyYWZ0Sm9iICYmIGRyYWZ0SW5kZXggPj0gMCkge1xuICAgICAgICAgIHRvYXN0LmVycm9yKGBEcmFmdCB2YXJpYXRpb24gJHtkcmFmdEluZGV4ICsgMX0gZmFpbGVkLiBDb250aW51aW5nIHdpdGggb3RoZXJzLi4uYCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdG9hc3QuZXJyb3IoXCLinYwgQ2FyZCBnZW5lcmF0aW9uIGZhaWxlZC4gUGxlYXNlIHRyeSBhZ2Fpbi5cIik7XG4gICAgICAgICAgc2V0SXNHZW5lcmF0aW5nKGZhbHNlKTtcbiAgICAgICAgICBzZXRJc0dlbmVyYXRpbmdGaW5hbENhcmQoZmFsc2UpO1xuICAgICAgICAgIHN0b3BFbGFwc2VkVGltZVRyYWNraW5nKCk7XG4gICAgICAgICAgc2V0R2VuZXJhdGlvblByb2dyZXNzKFwiXCIpO1xuICAgICAgICAgIHNldFByb2dyZXNzUGVyY2VudGFnZSgwKTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBTZXQgYWxsIHNlY3Rpb25zIGFzIGVycm9yXG4gICAgICAgICAgc2V0U2VjdGlvbkxvYWRpbmdTdGF0ZXMoe1xuICAgICAgICAgICAgZnJvbnRDb3ZlcjogJ2Vycm9yJyxcbiAgICAgICAgICAgIGJhY2tDb3ZlcjogJ2Vycm9yJyxcbiAgICAgICAgICAgIGxlZnRJbnRlcmlvcjogJ2Vycm9yJyxcbiAgICAgICAgICAgIHJpZ2h0SW50ZXJpb3I6ICdlcnJvcicsXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgc2V0Q3VycmVudEpvYklkKG51bGwpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICByZW1vdmVKb2JGcm9tU3RvcmFnZShqb2JJZCk7XG4gICAgICB9IGVsc2UgaWYgKHN0YXR1c1Jlc3BvbnNlICYmIHN0YXR1c1Jlc3BvbnNlLnN0YXR1cyA9PT0gJ3Byb2Nlc3NpbmcnKSB7XG4gICAgICAgIC8vIENvbnRpbnVlIHBvbGxpbmcgZXZlcnkgMyBzZWNvbmRzIC0gbmVhciByZWFsLXRpbWUgdXBkYXRlcyBmb3IgYmV0dGVyIFVYXG4gICAgICAgIGNvbnNvbGUubG9nKGDwn5SEIEpvYiBzdGlsbCBwcm9jZXNzaW5nIChhdHRlbXB0ICR7YXR0ZW1wdH0pLCBwb2xsaW5nIGFnYWluLi4uYCk7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4gcG9sbEpvYlN0YXR1cyhqb2JJZCwgYXR0ZW1wdCArIDEpLCAzMDAwKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnNvbGUud2Fybign4pqg77iPIFVuZXhwZWN0ZWQgc3RhdHVzIHJlc3BvbnNlOicsIHN0YXR1c1Jlc3BvbnNlKTtcbiAgICAgICAgLy8gQ29udGludWUgcG9sbGluZyBpbiBjYXNlIGl0J3MgYSB0ZW1wb3JhcnkgaXNzdWVcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiBwb2xsSm9iU3RhdHVzKGpvYklkLCBhdHRlbXB0ICsgMSksIDUwMDApO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gcG9sbCBqb2Igc3RhdHVzOicsIGVycm9yKTtcbiAgICAgIC8vIFJldHJ5IGFmdGVyIGRlbGF5IHdpdGggZXhwb25lbnRpYWwgYmFja29mZlxuICAgICAgY29uc3QgZGVsYXkgPSBNYXRoLm1pbigxMDAwMCwgMzAwMCAqIE1hdGgucG93KDEuNSwgTWF0aC5taW4oYXR0ZW1wdCAtIDEsIDUpKSk7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHBvbGxKb2JTdGF0dXMoam9iSWQsIGF0dGVtcHQgKyAxKSwgZGVsYXkpO1xuICAgIH1cbiAgfTtcblxuICAvLyBGdW5jdGlvbiB0byBvdmVybGF5IFFSIGNvZGUgb24gYmFjayBjb3ZlciBpbWFnZVxuICBjb25zdCBvdmVybGF5UVJDb2RlT25JbWFnZSA9IGFzeW5jIChpbWFnZVVybDogc3RyaW5nLCBjYXJkVXJsOiBzdHJpbmcsIGxvZ29Vcmw/OiBzdHJpbmcpOiBQcm9taXNlPHN0cmluZz4gPT4ge1xuICAgIGNvbnNvbGUubG9nKCfwn5SnIFN0YXJ0aW5nIFFSIG92ZXJsYXkgZm9yOicsIGNhcmRVcmwpO1xuICAgIHRyeSB7XG4gICAgICAvLyBHZXQgdGhlIG1vc3QgcmVjZW50IHNhdmVkIGxvZ28gaWYgbm8gc3BlY2lmaWMgbG9nbyBwcm92aWRlZFxuICAgICAgbGV0IHFyTG9nb1VybCA9IGxvZ29Vcmw7XG4gICAgICBpZiAoIXFyTG9nb1VybCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IGxvZ29SZXNwb25zZSA9IGF3YWl0IGZldGNoKCcvYXBpL2xvZ29zJyk7XG4gICAgICAgICAgaWYgKGxvZ29SZXNwb25zZS5vaykge1xuICAgICAgICAgICAgY29uc3QgbG9nb0RhdGEgPSBhd2FpdCBsb2dvUmVzcG9uc2UuanNvbigpO1xuICAgICAgICAgICAgaWYgKGxvZ29EYXRhLnN0YXR1cyA9PT0gJ3N1Y2Nlc3MnICYmIGxvZ29EYXRhLmxvZ29zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgLy8gVXNlIHRoZSBtb3N0IHJlY2VudCBsb2dvXG4gICAgICAgICAgICAgIHFyTG9nb1VybCA9IGxvZ29EYXRhLmxvZ29zWzBdLnVybDtcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/CfjqggVXNpbmcgc2F2ZWQgbG9nbyBmb3IgUVIgY29kZTonLCBxckxvZ29VcmwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAobG9nb0Vycm9yKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ05vIHNhdmVkIGxvZ29zIGF2YWlsYWJsZSwgZ2VuZXJhdGluZyBRUiB3aXRob3V0IGxvZ28nKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBHZW5lcmF0ZSBRUiBjb2RlIGFzIGRhdGEgVVJMIHdpdGggb3B0aW9uYWwgbG9nb1xuICAgICAgY29uc29sZS5sb2coJ/Cfk7EgR2VuZXJhdGluZyBRUiBjb2RlLi4uJyk7XG4gICAgICBsZXQgcXJDb2RlRGF0YVVybDtcbiAgICAgIFxuICAgICAgaWYgKHFyTG9nb1VybCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIC8vIEdlbmVyYXRlIFFSIHdpdGggbG9nbyB1c2luZyB0aGUgc2VydmVyIGVuZHBvaW50XG4gICAgICAgICAgY29uc3QgcXJSZXNwb25zZSA9IGF3YWl0IGZldGNoKCcvYXBpL2dlbmVyYXRlLXFyLXdpdGgtbG9nbycsIHtcbiAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICAgIHVybDogY2FyZFVybCxcbiAgICAgICAgICAgICAgbG9nb191cmw6IHFyTG9nb1VybCxcbiAgICAgICAgICAgICAgc2l6ZTogMTYwLFxuICAgICAgICAgICAgICBzZWFtbGVzczogdHJ1ZVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBcbiAgICAgICAgICBpZiAocXJSZXNwb25zZS5vaykge1xuICAgICAgICAgICAgY29uc3QgcXJEYXRhID0gYXdhaXQgcXJSZXNwb25zZS5qc29uKCk7XG4gICAgICAgICAgICBpZiAocXJEYXRhLnN0YXR1cyA9PT0gJ3N1Y2Nlc3MnKSB7XG4gICAgICAgICAgICAgIHFyQ29kZURhdGFVcmwgPSBxckRhdGEucXJfY29kZTtcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+KchSBRUiBjb2RlIHdpdGggbG9nbyBnZW5lcmF0ZWQgc3VjY2Vzc2Z1bGx5Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChsb2dvUXJFcnJvcikge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdGYWlsZWQgdG8gZ2VuZXJhdGUgUVIgd2l0aCBsb2dvLCBmYWxsaW5nIGJhY2sgdG8gc2ltcGxlIFFSOicsIGxvZ29RckVycm9yKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBGYWxsYmFjayB0byBzaW1wbGUgUVIgY29kZSBpZiBsb2dvIGdlbmVyYXRpb24gZmFpbGVkXG4gICAgICBpZiAoIXFyQ29kZURhdGFVcmwpIHtcbiAgICAgICAgcXJDb2RlRGF0YVVybCA9IGF3YWl0IFFSQ29kZS50b0RhdGFVUkwoY2FyZFVybCwge1xuICAgICAgICAgIHdpZHRoOiAxNjAsIC8vIFNpemUgaW4gcGl4ZWxzIChyb3VnaGx5IDEuMyBpbmNoZXMgYXQgMTIwIERQSSlcbiAgICAgICAgICBtYXJnaW46IDEsXG4gICAgICAgICAgY29sb3I6IHtcbiAgICAgICAgICAgIGRhcms6ICcjMDAwMDAwJyxcbiAgICAgICAgICAgIGxpZ2h0OiAnI0ZGRkZGRidcbiAgICAgICAgICB9LFxuICAgICAgICAgIGVycm9yQ29ycmVjdGlvbkxldmVsOiAnTSdcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnNvbGUubG9nKCfinIUgU2ltcGxlIFFSIGNvZGUgZ2VuZXJhdGVkIHN1Y2Nlc3NmdWxseScpO1xuICAgICAgfVxuXG4gICAgICAvLyBDcmVhdGUgY2FudmFzIHRvIGNvbXBvc2l0ZSB0aGUgaW1hZ2VzXG4gICAgICBjb25zdCBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICAgIGNvbnN0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgICAgaWYgKCFjdHgpIHRocm93IG5ldyBFcnJvcignRmFpbGVkIHRvIGdldCBjYW52YXMgY29udGV4dCcpO1xuXG4gICAgICAvLyBMb2FkIHRoZSBiYWNrIGNvdmVyIGltYWdlXG4gICAgICBjb25zdCBiYWNrQ292ZXJJbWcgPSBuZXcgSW1hZ2UoKTtcbiAgICAgIC8vIFRyeSB3aXRob3V0IGNyb3NzT3JpZ2luIGZpcnN0IHRvIGF2b2lkIENPUlMgaXNzdWVzXG4gICAgICAvLyBiYWNrQ292ZXJJbWcuY3Jvc3NPcmlnaW4gPSAnYW5vbnltb3VzJztcbiAgICAgIFxuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgYmFja0NvdmVySW1nLm9ubG9hZCA9ICgpID0+IHtcbiAgICAgICAgICBjb25zb2xlLmxvZygn8J+WvO+4jyBCYWNrIGNvdmVyIGltYWdlIGxvYWRlZCwgc2l6ZTonLCBiYWNrQ292ZXJJbWcud2lkdGgsICd4JywgYmFja0NvdmVySW1nLmhlaWdodCk7XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gU2V0IGNhbnZhcyBzaXplIHRvIG1hdGNoIHRoZSBpbWFnZVxuICAgICAgICAgIGNhbnZhcy53aWR0aCA9IGJhY2tDb3ZlckltZy53aWR0aDtcbiAgICAgICAgICBjYW52YXMuaGVpZ2h0ID0gYmFja0NvdmVySW1nLmhlaWdodDtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBEcmF3IHRoZSBiYWNrIGNvdmVyIGltYWdlXG4gICAgICAgICAgY3R4LmRyYXdJbWFnZShiYWNrQ292ZXJJbWcsIDAsIDApO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIExvYWQgYW5kIGRyYXcgdGhlIFFSIGNvZGVcbiAgICAgICAgICBjb25zdCBxckltZyA9IG5ldyBJbWFnZSgpO1xuICAgICAgICAgIHFySW1nLm9ubG9hZCA9ICgpID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5OxIFFSIGNvZGUgaW1hZ2UgbG9hZGVkLCBvdmVybGF5aW5nLi4uJyk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIFBvc2l0aW9uIFFSIGNvZGUgaW4gYm90dG9tIHJpZ2h0IGNvcm5lciB3aXRoIHNvbWUgcGFkZGluZ1xuICAgICAgICAgICAgY29uc3QgcXJTaXplID0gMTYwOyAvLyBTaXplIG9mIFFSIGNvZGVcbiAgICAgICAgICAgIGNvbnN0IHBhZGRpbmcgPSA0MDsgLy8gUGFkZGluZyBmcm9tIGVkZ2VzXG4gICAgICAgICAgICBjb25zdCB4ID0gY2FudmFzLndpZHRoIC0gcXJTaXplIC0gcGFkZGluZztcbiAgICAgICAgICAgIGNvbnN0IHkgPSBjYW52YXMuaGVpZ2h0IC0gcXJTaXplIC0gcGFkZGluZyAtIDMwOyAvLyBFeHRyYSBzcGFjZSBmb3IgdGV4dFxuICAgICAgICAgICAgXG4gICAgICAgICAgICBjb25zb2xlLmxvZygn8J+TjSBRUiBwb3NpdGlvbjonLCB4LCB5LCAnb24gY2FudmFzOicsIGNhbnZhcy53aWR0aCwgJ3gnLCBjYW52YXMuaGVpZ2h0KTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gQ3V0IG91dCBhIGNsZWFuIHNlY3Rpb24gZm9yIHRoZSBRUiBjb2RlIHdpdGggcm91bmRlZCBjb3JuZXJzXG4gICAgICAgICAgICBjb25zdCBjdXRvdXRQYWRkaW5nID0gMTI7XG4gICAgICAgICAgICBjb25zdCBjdXRvdXRYID0geCAtIGN1dG91dFBhZGRpbmc7XG4gICAgICAgICAgICBjb25zdCBjdXRvdXRZID0geSAtIGN1dG91dFBhZGRpbmc7XG4gICAgICAgICAgICBjb25zdCBjdXRvdXRXaWR0aCA9IHFyU2l6ZSArIChjdXRvdXRQYWRkaW5nICogMik7XG4gICAgICAgICAgICBjb25zdCBjdXRvdXRIZWlnaHQgPSBxclNpemUgKyAoY3V0b3V0UGFkZGluZyAqIDIpICsgMjU7IC8vIEV4dHJhIGhlaWdodCBmb3IgdGV4dFxuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBDcmVhdGUgcm91bmRlZCByZWN0YW5nbGUgY3V0b3V0XG4gICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gJyNGRkZGRkYnO1xuICAgICAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgICAgICAgY3R4LnJvdW5kUmVjdChjdXRvdXRYLCBjdXRvdXRZLCBjdXRvdXRXaWR0aCwgY3V0b3V0SGVpZ2h0LCA4KTtcbiAgICAgICAgICAgIGN0eC5maWxsKCk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIEFkZCBzdWJ0bGUgYm9yZGVyXG4gICAgICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSAncmdiYSgwLCAwLCAwLCAwLjEpJztcbiAgICAgICAgICAgIGN0eC5saW5lV2lkdGggPSAxO1xuICAgICAgICAgICAgY3R4LnN0cm9rZSgpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBEcmF3IHRoZSBRUiBjb2RlXG4gICAgICAgICAgICBjdHguZHJhd0ltYWdlKHFySW1nLCB4LCB5LCBxclNpemUsIHFyU2l6ZSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIEFkZCBcIlNjYW4gbWUgOilcIiB0ZXh0XG4gICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gJyM2NjY2NjYnO1xuICAgICAgICAgICAgY3R4LmZvbnQgPSAnMThweCBzeXN0ZW0tdWksIC1hcHBsZS1zeXN0ZW0sIHNhbnMtc2VyaWYnO1xuICAgICAgICAgICAgY3R4LnRleHRBbGlnbiA9ICdjZW50ZXInO1xuICAgICAgICAgICAgY29uc3QgdGV4dFggPSB4ICsgcXJTaXplIC8gMjtcbiAgICAgICAgICAgIGNvbnN0IHRleHRZID0geSArIHFyU2l6ZSArIDE4O1xuICAgICAgICAgICAgY3R4LmZpbGxUZXh0KCdTY2FuIG1lIDopJywgdGV4dFgsIHRleHRZKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gQ29udmVydCBjYW52YXMgdG8gZGF0YSBVUkwgYW5kIHJlc29sdmVcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGNhbnZhcy50b0RhdGFVUkwoJ2ltYWdlL3BuZycsIDAuOSk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygn4pyFIFFSIG92ZXJsYXkgY29tcGxldGUsIHJlc3VsdCBsZW5ndGg6JywgcmVzdWx0Lmxlbmd0aCk7XG4gICAgICAgICAgICByZXNvbHZlKHJlc3VsdCk7XG4gICAgICAgICAgfTtcbiAgICAgICAgICBxckltZy5vbmVycm9yID0gKGVycm9yKSA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgRmFpbGVkIHRvIGxvYWQgUVIgY29kZSBpbWFnZTonLCBlcnJvcik7XG4gICAgICAgICAgICByZWplY3QobmV3IEVycm9yKCdGYWlsZWQgdG8gbG9hZCBRUiBjb2RlJykpO1xuICAgICAgICAgIH07XG4gICAgICAgICAgcXJJbWcuc3JjID0gcXJDb2RlRGF0YVVybDtcbiAgICAgICAgfTtcbiAgICAgICAgYmFja0NvdmVySW1nLm9uZXJyb3IgPSAoZXJyb3IpID0+IHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgRmFpbGVkIHRvIGxvYWQgYmFjayBjb3ZlciBpbWFnZTonLCBlcnJvcik7XG4gICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcignRmFpbGVkIHRvIGxvYWQgYmFjayBjb3ZlciBpbWFnZScpKTtcbiAgICAgICAgfTtcbiAgICAgICAgYmFja0NvdmVySW1nLnNyYyA9IGltYWdlVXJsO1xuICAgICAgfSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBFcnJvciBvdmVybGF5aW5nIFFSIGNvZGU6JywgZXJyb3IpO1xuICAgICAgLy8gUmV0dXJuIG9yaWdpbmFsIGltYWdlIGlmIFFSIG92ZXJsYXkgZmFpbHNcbiAgICAgIHJldHVybiBpbWFnZVVybDtcbiAgICB9XG4gIH07XG5cbiAgLy8gVXBsb2FkIHN0YXRlXG4gIGNvbnN0IFtoYW5kd3JpdGluZ1NhbXBsZSwgc2V0SGFuZHdyaXRpbmdTYW1wbGVdID0gdXNlU3RhdGU8RmlsZSB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbaGFuZHdyaXRpbmdTYW1wbGVVcmwsIHNldEhhbmR3cml0aW5nU2FtcGxlVXJsXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbcmVmZXJlbmNlSW1hZ2VzLCBzZXRSZWZlcmVuY2VJbWFnZXNdID0gdXNlU3RhdGU8RmlsZVtdPihbXSk7XG4gIGNvbnN0IFtyZWZlcmVuY2VJbWFnZVVybHMsIHNldFJlZmVyZW5jZUltYWdlVXJsc10gPSB1c2VTdGF0ZTxzdHJpbmdbXT4oW10pO1xuICBjb25zdCBbaW1hZ2VUcmFuc2Zvcm1hdGlvbiwgc2V0SW1hZ2VUcmFuc2Zvcm1hdGlvbl0gPSB1c2VTdGF0ZTxzdHJpbmc+KFwiXCIpO1xuICBjb25zdCBbaXNVcGxvYWRpbmcsIHNldElzVXBsb2FkaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcblxuICAvLyBFbWFpbCBzdGF0ZVxuICBjb25zdCBbdXNlckVtYWlsLCBzZXRVc2VyRW1haWxdID0gdXNlU3RhdGU8c3RyaW5nPihcIlwiKTtcbiAgXG4gIC8vIENhcmQgSUQgZm9yIFVSTCBnZW5lcmF0aW9uIChnZW5lcmF0ZWQgb25jZSBwZXIgY2FyZCBjcmVhdGlvbilcbiAgY29uc3QgW2N1cnJlbnRDYXJkSWQsIHNldEN1cnJlbnRDYXJkSWRdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG5cbiAgLy8gTmV3IG9wdGlvbnMgZm9yIGhhbmR3cml0dGVuIG1lc3NhZ2VzIGFuZCBzaW5nbGUtc2lkZWQgcHJpbnRpbmdcbiAgY29uc3QgW2lzSGFuZHdyaXR0ZW5NZXNzYWdlLCBzZXRJc0hhbmR3cml0dGVuTWVzc2FnZV0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtpc0Zyb250QmFja09ubHksIHNldElzRnJvbnRCYWNrT25seV0gPSB1c2VTdGF0ZShmYWxzZSk7XG5cbiAgLy8gUGFwZXIgc2l6ZSBvcHRpb25zXG4gIGNvbnN0IFtzZWxlY3RlZFBhcGVyU2l6ZSwgc2V0U2VsZWN0ZWRQYXBlclNpemVdID0gdXNlU3RhdGU8c3RyaW5nPihcInN0YW5kYXJkXCIpO1xuXG4gIC8vIExvYWRpbmcgc3RhdGVzIGZvciBlYWNoIGNhcmQgc2VjdGlvblxuICBjb25zdCBbc2VjdGlvbkxvYWRpbmdTdGF0ZXMsIHNldFNlY3Rpb25Mb2FkaW5nU3RhdGVzXSA9IHVzZVN0YXRlPHtcbiAgICBmcm9udENvdmVyOiAnaWRsZScgfCAnbG9hZGluZycgfCAnY29tcGxldGVkJyB8ICdlcnJvcic7XG4gICAgYmFja0NvdmVyOiAnaWRsZScgfCAnbG9hZGluZycgfCAnY29tcGxldGVkJyB8ICdlcnJvcic7XG4gICAgbGVmdEludGVyaW9yOiAnaWRsZScgfCAnbG9hZGluZycgfCAnY29tcGxldGVkJyB8ICdlcnJvcic7XG4gICAgcmlnaHRJbnRlcmlvcjogJ2lkbGUnIHwgJ2xvYWRpbmcnIHwgJ2NvbXBsZXRlZCcgfCAnZXJyb3InO1xuICB9Pih7XG4gICAgZnJvbnRDb3ZlcjogJ2lkbGUnLFxuICAgIGJhY2tDb3ZlcjogJ2lkbGUnLFxuICAgIGxlZnRJbnRlcmlvcjogJ2lkbGUnLFxuICAgIHJpZ2h0SW50ZXJpb3I6ICdpZGxlJyxcbiAgfSk7XG5cbiAgLy8gQ2xlYW4gcHJvZ3Jlc3MgdHJhY2tpbmdcbiAgY29uc3QgW3Byb2dyZXNzUGVyY2VudGFnZSwgc2V0UHJvZ3Jlc3NQZXJjZW50YWdlXSA9IHVzZVN0YXRlPG51bWJlcj4oMCk7XG5cbiAgLy8gQ2xlYW51cCBjb3VudGRvd24gaW50ZXJ2YWwgb24gdW5tb3VudFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBpZiAoY291bnRkb3duSW50ZXJ2YWwpIHtcbiAgICAgICAgY2xlYXJJbnRlcnZhbChjb3VudGRvd25JbnRlcnZhbCk7XG4gICAgICB9XG4gICAgfTtcbiAgfSwgW2NvdW50ZG93bkludGVydmFsXSk7XG5cbiAgLy8gVHJhY2sgaWYgaW5pdGlhbCBsb2FkIGlzIGNvbXBsZXRlXG4gIGNvbnN0IFtpc0luaXRpYWxMb2FkQ29tcGxldGUsIHNldElzSW5pdGlhbExvYWRDb21wbGV0ZV0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIFxuICAvLyBUZXh0YXJlYSBleHBhbmQgc3RhdGVcbiAgY29uc3QgW2lzVGV4dGFyZWFFeHBhbmRlZCwgc2V0SXNUZXh0YXJlYUV4cGFuZGVkXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2lzTWVzc2FnZUV4cGFuZGVkLCBzZXRJc01lc3NhZ2VFeHBhbmRlZF0gPSB1c2VTdGF0ZShmYWxzZSk7XG5cbiAgLy8gTWVzc2FnZSB2ZXJzaW9uIGNvbnRyb2wgYW5kIHJlZmluZW1lbnRcbiAgY29uc3QgW21lc3NhZ2VIaXN0b3J5LCBzZXRNZXNzYWdlSGlzdG9yeV0gPSB1c2VTdGF0ZTxzdHJpbmdbXT4oW10pO1xuICBjb25zdCBbY3VycmVudE1lc3NhZ2VJbmRleCwgc2V0Q3VycmVudE1lc3NhZ2VJbmRleF0gPSB1c2VTdGF0ZSgtMSk7XG4gIGNvbnN0IFtyZWZpbmVtZW50UHJvbXB0LCBzZXRSZWZpbmVtZW50UHJvbXB0XSA9IHVzZVN0YXRlKFwiXCIpO1xuICBjb25zdCBbaXNSZWZpbmluZ01lc3NhZ2UsIHNldElzUmVmaW5pbmdNZXNzYWdlXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3Nob3dSZWZpbmVtZW50Qm94LCBzZXRTaG93UmVmaW5lbWVudEJveF0gPSB1c2VTdGF0ZShmYWxzZSk7XG5cbiAgLy8gU2V0dGluZ3MgbWVudSBzdGF0ZVxuICBjb25zdCBbc2hvd1NldHRpbmdzLCBzZXRTaG93U2V0dGluZ3NdID0gdXNlU3RhdGUoZmFsc2UpO1xuXG4gIC8vIFRlbXBsYXRlIHNlbGVjdGlvbiBzdGF0ZVxuICBjb25zdCBbc2hvd1RlbXBsYXRlR2FsbGVyeSwgc2V0U2hvd1RlbXBsYXRlR2FsbGVyeV0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFt0ZW1wbGF0ZVNlYXJjaFF1ZXJ5LCBzZXRUZW1wbGF0ZVNlYXJjaFF1ZXJ5XSA9IHVzZVN0YXRlKFwiXCIpO1xuICBjb25zdCBbaXNTZWFyY2hpbmdUZW1wbGF0ZXMsIHNldElzU2VhcmNoaW5nVGVtcGxhdGVzXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2FpRmlsdGVyZWRDYXJkcywgc2V0QWlGaWx0ZXJlZENhcmRzXSA9IHVzZVN0YXRlPGFueVtdPihbXSk7XG4gIGNvbnN0IFtzZWFyY2hNb2RlLCBzZXRTZWFyY2hNb2RlXSA9IHVzZVN0YXRlPCd0ZXh0JyB8ICdhaScgfCAnaHlicmlkJz4oJ3RleHQnKTtcbiAgY29uc3QgW3RleHRGaWx0ZXJlZENhcmRzLCBzZXRUZXh0RmlsdGVyZWRDYXJkc10gPSB1c2VTdGF0ZTxhbnlbXT4oW10pO1xuICBjb25zdCBbc2hvd1Byb21wdHMsIHNldFNob3dQcm9tcHRzXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgXG4gIC8vIFByaW50IG9wdGlvbnMgc3RhdGVcbiAgY29uc3QgW3ByaW50T3B0aW9uLCBzZXRQcmludE9wdGlvbl0gPSB1c2VTdGF0ZTwncGh5c2ljYWwnIHwgJ2VtYWlsJz4oJ3BoeXNpY2FsJyk7XG4gIFxuICAvLyBQcmVsb2FkIHRlbXBsYXRlIGNhcmRzIGZvciBpbnN0YW50IGFjY2Vzc1xuICBjb25zdCB7IHByZWxvYWRBbGxDYXJkcywgZ2V0Q2FjaGVkQ2FyZHMsIHRvdGFsQ2FyZHMgfSA9IHVzZUNhcmRDYWNoZSgpO1xuXG4gIC8vIFByaW50IGNvbmZpcm1hdGlvbiBkaWFsb2cgc3RhdGVcbiAgY29uc3QgW3Nob3dQcmludENvbmZpcm1hdGlvbiwgc2V0U2hvd1ByaW50Q29uZmlybWF0aW9uXSA9IHVzZVN0YXRlKGZhbHNlKTtcblxuICAvLyBHZW5lcmF0aW9uIHRpbWUgdHJhY2tpbmdcbiAgY29uc3QgW2dlbmVyYXRpb25EdXJhdGlvbiwgc2V0R2VuZXJhdGlvbkR1cmF0aW9uXSA9IHVzZVN0YXRlPG51bWJlciB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbZ2VuZXJhdGlvblN0YXJ0VGltZSwgc2V0R2VuZXJhdGlvblN0YXJ0VGltZV0gPSB1c2VTdGF0ZTxudW1iZXIgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW2N1cnJlbnRFbGFwc2VkVGltZSwgc2V0Q3VycmVudEVsYXBzZWRUaW1lXSA9IHVzZVN0YXRlPG51bWJlcj4oMCk7XG4gIGNvbnN0IFtlbGFwc2VkVGltZUludGVydmFsLCBzZXRFbGFwc2VkVGltZUludGVydmFsXSA9IHVzZVN0YXRlPE5vZGVKUy5UaW1lb3V0IHwgbnVsbD4obnVsbCk7XG5cbiAgLy8gSGVscGVyIGZ1bmN0aW9uIHRvIGZvcm1hdCBnZW5lcmF0aW9uIHRpbWVcbiAgY29uc3QgZm9ybWF0R2VuZXJhdGlvblRpbWUgPSAoZHVyYXRpb25TZWNvbmRzOiBudW1iZXIpID0+IHtcbiAgICBjb25zdCBtaW51dGVzID0gTWF0aC5mbG9vcihkdXJhdGlvblNlY29uZHMgLyA2MCk7XG4gICAgY29uc3Qgc2Vjb25kcyA9IE1hdGguZmxvb3IoZHVyYXRpb25TZWNvbmRzICUgNjApO1xuICAgIFxuICAgIGlmIChtaW51dGVzID4gMCkge1xuICAgICAgcmV0dXJuIGAke21pbnV0ZXN9bSAke3NlY29uZHN9c2A7XG4gICAgfVxuICAgIHJldHVybiBgJHtzZWNvbmRzfXNgO1xuICB9O1xuXG4gIC8vIEhlbHBlciBmdW5jdGlvbiB0byBzY3JvbGwgdG8gY2FyZCBwcmV2aWV3XG4gIGNvbnN0IHNjcm9sbFRvQ2FyZFByZXZpZXcgPSAoKSA9PiB7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBjb25zdCBjYXJkUHJldmlld0VsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1jYXJkLXByZXZpZXddJyk7XG4gICAgICBpZiAoY2FyZFByZXZpZXdFbGVtZW50KSB7XG4gICAgICAgIGNhcmRQcmV2aWV3RWxlbWVudC5zY3JvbGxJbnRvVmlldyh7IGJlaGF2aW9yOiAnc21vb3RoJywgYmxvY2s6ICdzdGFydCcgfSk7XG4gICAgICB9XG4gICAgfSwgNTAwKTtcbiAgfTtcblxuICAvLyBTdGFydCBlbGFwc2VkIHRpbWUgdHJhY2tpbmdcbiAgY29uc3Qgc3RhcnRFbGFwc2VkVGltZVRyYWNraW5nID0gKHN0YXJ0VGltZT86IG51bWJlciwgZXN0aW1hdGVkVG90YWxTZWNvbmRzPzogbnVtYmVyKSA9PiB7XG4gICAgY29uc3Qgc3RhcnQgPSBzdGFydFRpbWUgfHwgRGF0ZS5ub3coKTtcbiAgICBzZXRHZW5lcmF0aW9uU3RhcnRUaW1lKHN0YXJ0KTtcbiAgICBcbiAgICAvLyBTYXZlIHN0YXJ0IHRpbWUgdG8gbG9jYWxTdG9yYWdlIGZvciBwZXJzaXN0ZW5jZVxuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdnZW5lcmF0aW9uLXN0YXJ0LXRpbWUnLCBzdGFydC50b1N0cmluZygpKTtcbiAgICBcbiAgICAvLyBDbGVhciBhbnkgZXhpc3RpbmcgaW50ZXJ2YWxcbiAgICBpZiAoZWxhcHNlZFRpbWVJbnRlcnZhbCkge1xuICAgICAgY2xlYXJJbnRlcnZhbChlbGFwc2VkVGltZUludGVydmFsKTtcbiAgICB9XG4gICAgXG4gICAgLy8gU3RhcnQgbmV3IGludGVydmFsIHRvIHVwZGF0ZSBlbGFwc2VkIHRpbWUgYW5kIHByb2dyZXNzIGV2ZXJ5IHNlY29uZFxuICAgIGNvbnN0IGludGVydmFsID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgY29uc3QgZWxhcHNlZCA9IChEYXRlLm5vdygpIC0gc3RhcnQpIC8gMTAwMDsgLy8gQ29udmVydCB0byBzZWNvbmRzXG4gICAgICBzZXRDdXJyZW50RWxhcHNlZFRpbWUoZWxhcHNlZCk7XG4gICAgICBcbiAgICAgIC8vIFVzZSBwcm92aWRlZCBlc3RpbWF0ZWQgdG90YWwgb3IgZGVmYXVsdCBiYXNlZCBvbiBtb2RlXG4gICAgICBjb25zdCBlc3RpbWF0ZWRUb3RhbCA9IGVzdGltYXRlZFRvdGFsU2Vjb25kcyB8fCAoaXNEcmFmdE1vZGUgPyA0NSA6IDE1MCk7IC8vIDQ1IHNlY29uZHMgZm9yIGRyYWZ0IG1vZGUsIDE1MCBzZWNvbmRzICgyLjUgbWludXRlcykgZm9yIGZpbmFsXG4gICAgICBjb25zdCBwZXJjZW50YWdlID0gTWF0aC5taW4oKGVsYXBzZWQgLyBlc3RpbWF0ZWRUb3RhbCkgKiAxMDAsIDk1KTsgLy8gQ2FwIGF0IDk1JSB1bnRpbCBjb21wbGV0aW9uXG4gICAgICBzZXRQcm9ncmVzc1BlcmNlbnRhZ2UocGVyY2VudGFnZSk7XG4gICAgfSwgMTAwMCk7XG4gICAgXG4gICAgc2V0RWxhcHNlZFRpbWVJbnRlcnZhbChpbnRlcnZhbCk7XG4gIH07XG5cbiAgLy8gU3RvcCBlbGFwc2VkIHRpbWUgdHJhY2tpbmdcbiAgY29uc3Qgc3RvcEVsYXBzZWRUaW1lVHJhY2tpbmcgPSAoKSA9PiB7XG4gICAgaWYgKGVsYXBzZWRUaW1lSW50ZXJ2YWwpIHtcbiAgICAgIGNsZWFySW50ZXJ2YWwoZWxhcHNlZFRpbWVJbnRlcnZhbCk7XG4gICAgICBzZXRFbGFwc2VkVGltZUludGVydmFsKG51bGwpO1xuICAgIH1cbiAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgnZ2VuZXJhdGlvbi1zdGFydC10aW1lJyk7XG4gIH07XG5cbiAgLy8gUmVzdG9yZSBlbGFwc2VkIHRpbWUgdHJhY2tpbmcgZnJvbSBsb2NhbFN0b3JhZ2VcbiAgY29uc3QgcmVzdG9yZUVsYXBzZWRUaW1lVHJhY2tpbmcgPSAoKSA9PiB7XG4gICAgY29uc3Qgc2F2ZWRTdGFydFRpbWUgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZ2VuZXJhdGlvbi1zdGFydC10aW1lJyk7XG4gICAgaWYgKHNhdmVkU3RhcnRUaW1lICYmIGlzR2VuZXJhdGluZykge1xuICAgICAgY29uc3Qgc3RhcnRUaW1lID0gcGFyc2VJbnQoc2F2ZWRTdGFydFRpbWUpO1xuICAgICAgY29uc3QgZWxhcHNlZCA9IChEYXRlLm5vdygpIC0gc3RhcnRUaW1lKSAvIDEwMDA7XG4gICAgICBzZXRDdXJyZW50RWxhcHNlZFRpbWUoZWxhcHNlZCk7XG4gICAgICBzdGFydEVsYXBzZWRUaW1lVHJhY2tpbmcoc3RhcnRUaW1lKTtcbiAgICB9XG4gIH07XG5cbiAgLy8gbG9jYWxTdG9yYWdlIHBlcnNpc3RlbmNlIGhvb2tzXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgLy8gTG9hZCBzYXZlZCBzdGF0ZSBmcm9tIGxvY2FsU3RvcmFnZSBvbiBjb21wb25lbnQgbW91bnRcbiAgICBjb25zdCBsb2FkU2F2ZWRTdGF0ZSA9ICgpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHNhdmVkRm9ybURhdGEgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndmliZWNhcmRpbmctZm9ybS1kYXRhJyk7XG4gICAgICAgIGNvbnNvbGUubG9nKCfwn5SNIExvYWRpbmcgc2F2ZWQgZm9ybSBkYXRhOicsIHNhdmVkRm9ybURhdGEpO1xuICAgICAgICBpZiAoc2F2ZWRGb3JtRGF0YSkge1xuICAgICAgICAgIGNvbnN0IGZvcm1EYXRhID0gSlNPTi5wYXJzZShzYXZlZEZvcm1EYXRhKTtcbiAgICAgICAgICBjb25zb2xlLmxvZygn8J+TiyBQYXJzZWQgZm9ybSBkYXRhOicsIGZvcm1EYXRhKTtcbiAgICAgICAgICBzZXRQcm9tcHQoZm9ybURhdGEucHJvbXB0IHx8IFwiXCIpO1xuICAgICAgICAgIHNldEZpbmFsQ2FyZE1lc3NhZ2UoZm9ybURhdGEuZmluYWxDYXJkTWVzc2FnZSB8fCBcIlwiKTtcbiAgICAgICAgICBzZXRUb0ZpZWxkKGZvcm1EYXRhLnRvRmllbGQgfHwgXCJcIik7XG4gICAgICAgICAgc2V0RnJvbUZpZWxkKGZvcm1EYXRhLmZyb21GaWVsZCB8fCBcIlwiKTtcbiAgICAgICAgICBzZXRTZWxlY3RlZFR5cGUoZm9ybURhdGEuc2VsZWN0ZWRUeXBlIHx8IFwiYmlydGhkYXlcIik7XG4gICAgICAgICAgc2V0Q3VzdG9tQ2FyZFR5cGUoZm9ybURhdGEuY3VzdG9tQ2FyZFR5cGUgfHwgXCJcIik7XG4gICAgICAgICAgc2V0U2VsZWN0ZWRUb25lKGZvcm1EYXRhLnNlbGVjdGVkVG9uZSB8fCBcImZ1bm55XCIpO1xuICAgICAgICAgIHNldFNlbGVjdGVkQXJ0aXN0aWNTdHlsZShmb3JtRGF0YS5zZWxlY3RlZEFydGlzdGljU3R5bGUgfHwgXCJ3YXRlcmNvbG9yXCIpO1xuICAgICAgICAgIHNldEN1c3RvbVN0eWxlRGVzY3JpcHRpb24oZm9ybURhdGEuY3VzdG9tU3R5bGVEZXNjcmlwdGlvbiB8fCBcIlwiKTtcbiAgICAgICAgICBzZXRTZWxlY3RlZEltYWdlTW9kZWwoZm9ybURhdGEuc2VsZWN0ZWRJbWFnZU1vZGVsIHx8IFwiZ3B0LWltYWdlLTFcIik7XG4gICAgICAgICAgc2V0U2VsZWN0ZWREcmFmdE1vZGVsKGZvcm1EYXRhLnNlbGVjdGVkRHJhZnRNb2RlbCB8fCBcImdwdC1pbWFnZS0xXCIpO1xuICAgICAgICAgIHNldE51bWJlck9mQ2FyZHMoZm9ybURhdGEubnVtYmVyT2ZDYXJkcyB8fCAxKTtcbiAgICAgICAgICBzZXRVc2VyRW1haWwoZm9ybURhdGEudXNlckVtYWlsIHx8IFwiXCIpO1xuICAgICAgICAgIHNldFJlZmVyZW5jZUltYWdlVXJscyhmb3JtRGF0YS5yZWZlcmVuY2VJbWFnZVVybHMgfHwgW10pO1xuICAgICAgICAgIHNldEltYWdlVHJhbnNmb3JtYXRpb24oZm9ybURhdGEuaW1hZ2VUcmFuc2Zvcm1hdGlvbiB8fCBcIlwiKTtcbiAgICAgICAgICBzZXRJc0hhbmR3cml0dGVuTWVzc2FnZShmb3JtRGF0YS5pc0hhbmR3cml0dGVuTWVzc2FnZSB8fCBmYWxzZSk7XG4gICAgICAgICAgc2V0SXNGcm9udEJhY2tPbmx5KGZvcm1EYXRhLmlzRnJvbnRCYWNrT25seSB8fCBmYWxzZSk7XG4gICAgICAgICAgc2V0U2VsZWN0ZWRQYXBlclNpemUoZm9ybURhdGEuc2VsZWN0ZWRQYXBlclNpemUgfHwgXCJzdGFuZGFyZFwiKTtcbiAgICAgICAgICBzZXRTaG93QWR2YW5jZWQoZm9ybURhdGEuc2hvd0FkdmFuY2VkIHx8IGZhbHNlKTtcbiAgICAgICAgICBzZXRIYW5kd3JpdGluZ1NhbXBsZVVybChmb3JtRGF0YS5oYW5kd3JpdGluZ1NhbXBsZVVybCB8fCBcIlwiKTtcbiAgICAgICAgICBzZXRJc1RleHRhcmVhRXhwYW5kZWQoZm9ybURhdGEuaXNUZXh0YXJlYUV4cGFuZGVkIHx8IGZhbHNlKTtcbiAgICAgICAgICBzZXRJc01lc3NhZ2VFeHBhbmRlZChmb3JtRGF0YS5pc01lc3NhZ2VFeHBhbmRlZCB8fCBmYWxzZSk7XG4gICAgICAgICAgc2V0TWVzc2FnZUhpc3RvcnkoZm9ybURhdGEubWVzc2FnZUhpc3RvcnkgfHwgW10pO1xuICAgICAgICAgIHNldEN1cnJlbnRNZXNzYWdlSW5kZXgoZm9ybURhdGEuY3VycmVudE1lc3NhZ2VJbmRleCB8fCAtMSk7XG4gICAgICAgICAgc2V0U2hvd1JlZmluZW1lbnRCb3goZm9ybURhdGEuc2hvd1JlZmluZW1lbnRCb3ggfHwgZmFsc2UpO1xuICAgICAgICAgIHNldFNob3dTZXR0aW5ncyhmb3JtRGF0YS5zaG93U2V0dGluZ3MgfHwgZmFsc2UpO1xuICAgICAgICAgIHNldFNob3dQcmludENvbmZpcm1hdGlvbihmb3JtRGF0YS5zaG93UHJpbnRDb25maXJtYXRpb24gfHwgZmFsc2UpO1xuICAgICAgICAgIHNldElzQ2FyZENvbXBsZXRlZChmb3JtRGF0YS5pc0NhcmRDb21wbGV0ZWQgfHwgZmFsc2UpO1xuICAgICAgICAgIHNldEdlbmVyYXRpb25EdXJhdGlvbihmb3JtRGF0YS5nZW5lcmF0aW9uRHVyYXRpb24gfHwgbnVsbCk7XG4gICAgICAgICAgY29uc29sZS5sb2coJ+KchSBGb3JtIGRhdGEgbG9hZGVkIHN1Y2Nlc3NmdWxseScpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCfihLnvuI8gTm8gc2F2ZWQgZm9ybSBkYXRhIGZvdW5kJyk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBzYXZlZENhcmRzID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3ZpYmVjYXJkaW5nLWdlbmVyYXRlZC1jYXJkcycpO1xuICAgICAgICBpZiAoc2F2ZWRDYXJkcykge1xuICAgICAgICAgIGNvbnN0IGNhcmRzRGF0YSA9IEpTT04ucGFyc2Uoc2F2ZWRDYXJkcyk7XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gQ2hlY2sgZm9yIG9sZCBmb3JtYXQgKHdpdGggY2FyZHMgYXJyYXkpIGFuZCBtaWdyYXRlIHRvIG5ldyBmb3JtYXRcbiAgICAgICAgICBpZiAoY2FyZHNEYXRhLmNhcmRzICYmIEFycmF5LmlzQXJyYXkoY2FyZHNEYXRhLmNhcmRzKSkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ/CflIQgRGV0ZWN0ZWQgb2xkIGxvY2FsU3RvcmFnZSBmb3JtYXQsIG1pZ3JhdGluZyB0byBuZXcgZm9ybWF0Li4uJyk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIEdldCB0aGUgbW9zdCByZWNlbnQgY2FyZCBmcm9tIHRoZSBvbGQgZm9ybWF0XG4gICAgICAgICAgICBsZXQgbW9zdFJlY2VudENhcmQgPSBudWxsO1xuICAgICAgICAgICAgaWYgKGNhcmRzRGF0YS5jYXJkcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgIC8vIFVzZSBzZWxlY3RlZCBjYXJkIGlmIGF2YWlsYWJsZSwgb3RoZXJ3aXNlIHVzZSB0aGUgbGFzdCBjYXJkIGluIGFycmF5XG4gICAgICAgICAgICAgIGNvbnN0IHNlbGVjdGVkSW5kZXggPSBjYXJkc0RhdGEuc2VsZWN0ZWRJbmRleCB8fCAwO1xuICAgICAgICAgICAgICBtb3N0UmVjZW50Q2FyZCA9IGNhcmRzRGF0YS5jYXJkc1tzZWxlY3RlZEluZGV4XSB8fCBjYXJkc0RhdGEuY2FyZHNbY2FyZHNEYXRhLmNhcmRzLmxlbmd0aCAtIDFdO1xuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgaWYgKG1vc3RSZWNlbnRDYXJkKSB7XG4gICAgICAgICAgICAgICAgLy8gQ29udmVydCB0byBuZXcgZm9ybWF0IGFuZCBzYXZlIGltbWVkaWF0ZWx5XG4gICAgICAgICAgICAgICAgY29uc3QgbmV3Q2FyZHNEYXRhID0ge1xuICAgICAgICAgICAgICAgICAgbW9zdFJlY2VudENhcmQ6IG1vc3RSZWNlbnRDYXJkLFxuICAgICAgICAgICAgICAgICAgZ2VuZXJhdGlvbkR1cmF0aW9uOiBjYXJkc0RhdGEuZ2VuZXJhdGlvbkR1cmF0aW9uIHx8IG51bGxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndmliZWNhcmRpbmctZ2VuZXJhdGVkLWNhcmRzJywgSlNPTi5zdHJpbmdpZnkobmV3Q2FyZHNEYXRhKSk7XG4gICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn4pyFIE1pZ3JhdGVkIHRvIG5ldyBsb2NhbFN0b3JhZ2UgZm9ybWF0IHdpdGggbW9zdCByZWNlbnQgY2FyZCcpO1xuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgRmFpbGVkIHRvIHNhdmUgbWlncmF0ZWQgZGF0YTonLCBlcnJvcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIC8vIFNldCB1cCB0aGUgVUkgd2l0aCB0aGUgbWlncmF0ZWQgY2FyZFxuICAgICAgICAgICAgICAgIGNvbnN0IGNhcmRXaXRoRGF0ZSA9IHtcbiAgICAgICAgICAgICAgICAgIC4uLm1vc3RSZWNlbnRDYXJkLFxuICAgICAgICAgICAgICAgICAgY3JlYXRlZEF0OiBuZXcgRGF0ZShtb3N0UmVjZW50Q2FyZC5jcmVhdGVkQXQpXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBzZXRHZW5lcmF0ZWRDYXJkcyhbY2FyZFdpdGhEYXRlXSk7XG4gICAgICAgICAgICAgICAgc2V0U2VsZWN0ZWRDYXJkSW5kZXgoMCk7XG4gICAgICAgICAgICAgICAgc2V0R2VuZXJhdGVkQ2FyZChjYXJkV2l0aERhdGUpO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGlmIChjYXJkc0RhdGEuZ2VuZXJhdGlvbkR1cmF0aW9uKSB7XG4gICAgICAgICAgICAgICAgICBzZXRHZW5lcmF0aW9uRHVyYXRpb24oY2FyZHNEYXRhLmdlbmVyYXRpb25EdXJhdGlvbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAvLyBPbGQgZm9ybWF0IGJ1dCBubyBjYXJkcywganVzdCBjbGVhciBpdFxuICAgICAgICAgICAgICBjb25zb2xlLmxvZygn8J+nuSBPbGQgZm9ybWF0IHdpdGggbm8gY2FyZHMsIGNsZWFyaW5nIGxvY2FsU3RvcmFnZScpO1xuICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgndmliZWNhcmRpbmctZ2VuZXJhdGVkLWNhcmRzJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIEhhbmRsZSBuZXcgZm9ybWF0ICh3aXRoIG1vc3RSZWNlbnRDYXJkKVxuICAgICAgICAgIGVsc2UgaWYgKGNhcmRzRGF0YS5tb3N0UmVjZW50Q2FyZCkge1xuICAgICAgICAgICAgY29uc3QgbW9zdFJlY2VudENhcmQgPSB7XG4gICAgICAgICAgICAgIC4uLmNhcmRzRGF0YS5tb3N0UmVjZW50Q2FyZCxcbiAgICAgICAgICAgICAgY3JlYXRlZEF0OiBuZXcgRGF0ZShjYXJkc0RhdGEubW9zdFJlY2VudENhcmQuY3JlYXRlZEF0KVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHNldEdlbmVyYXRlZENhcmRzKFttb3N0UmVjZW50Q2FyZF0pO1xuICAgICAgICAgICAgc2V0U2VsZWN0ZWRDYXJkSW5kZXgoMCk7XG4gICAgICAgICAgICBzZXRHZW5lcmF0ZWRDYXJkKG1vc3RSZWNlbnRDYXJkKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gUmVzdG9yZSBnZW5lcmF0aW9uIGR1cmF0aW9uIGlmIGF2YWlsYWJsZVxuICAgICAgICAgICAgaWYgKGNhcmRzRGF0YS5nZW5lcmF0aW9uRHVyYXRpb24pIHtcbiAgICAgICAgICAgICAgc2V0R2VuZXJhdGlvbkR1cmF0aW9uKGNhcmRzRGF0YS5nZW5lcmF0aW9uRHVyYXRpb24pO1xuICAgICAgICAgICAgICBjb25zb2xlLmxvZygn4o+x77iPIFJlc3RvcmVkIGdlbmVyYXRpb24gZHVyYXRpb246JywgY2FyZHNEYXRhLmdlbmVyYXRpb25EdXJhdGlvbiwgJ3NlY29uZHMnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfinIUgTW9zdCByZWNlbnQgY2FyZCBsb2FkZWQgZnJvbSBsb2NhbFN0b3JhZ2UnKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gSW52YWxpZCBvciBlbXB0eSBmb3JtYXQsIGNsZWFyIGl0XG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygn8J+nuSBJbnZhbGlkIGxvY2FsU3RvcmFnZSBmb3JtYXQgZGV0ZWN0ZWQsIGNsZWFyaW5nLi4uJyk7XG4gICAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgndmliZWNhcmRpbmctZ2VuZXJhdGVkLWNhcmRzJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBsb2FkaW5nIHNhdmVkIHN0YXRlOicsIGVycm9yKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgLy8gQ2xlYW51cCBmdW5jdGlvbiB0byByZW1vdmUgYW55IHN0YWxlIG9yIHVubmVjZXNzYXJ5IGxvY2FsU3RvcmFnZSBkYXRhXG4gICAgY29uc3QgY2xlYW51cExvY2FsU3RvcmFnZSA9ICgpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIC8vIExpc3Qgb2Yga2V5cyB3ZSB3YW50IHRvIGtlZXBcbiAgICAgICAgY29uc3Qga2VlcEtleXMgPSBbXG4gICAgICAgICAgJ3ZpYmVjYXJkaW5nLWZvcm0tZGF0YScsXG4gICAgICAgICAgJ3ZpYmVjYXJkaW5nLWdlbmVyYXRlZC1jYXJkcycsXG4gICAgICAgICAgJ3ZpYmVjYXJkaW5nLXRlbXBsYXRlcycsXG4gICAgICAgICAgJ3ZpYmVjYXJkaW5nLXRlbXBsYXRlcy10aW1lc3RhbXAnLFxuICAgICAgICAgICdnZW5lcmF0aW9uLXN0YXJ0LXRpbWUnXG4gICAgICAgIF07XG4gICAgICAgIFxuICAgICAgICAvLyBHZXQgYWxsIGxvY2FsU3RvcmFnZSBrZXlzIHRoYXQgc3RhcnQgd2l0aCAndmliZWNhcmRpbmctJyBvciBvdGhlciBhcHAtcmVsYXRlZCBwcmVmaXhlc1xuICAgICAgICBjb25zdCBrZXlzVG9DaGVjayA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxvY2FsU3RvcmFnZS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGNvbnN0IGtleSA9IGxvY2FsU3RvcmFnZS5rZXkoaSk7XG4gICAgICAgICAgaWYgKGtleSAmJiAoa2V5LnN0YXJ0c1dpdGgoJ3ZpYmVjYXJkaW5nLScpIHx8IGtleS5zdGFydHNXaXRoKCdjYXJkSm9iXycpIHx8IGtleSA9PT0gJ3BlbmRpbmdDYXJkSm9icycpKSB7XG4gICAgICAgICAgICBrZXlzVG9DaGVjay5wdXNoKGtleSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyBSZW1vdmUgYW55IGtleXMgdGhhdCBhcmUgbm90IGluIG91ciBrZWVwIGxpc3RcbiAgICAgICAgbGV0IHJlbW92ZWRDb3VudCA9IDA7XG4gICAgICAgIGtleXNUb0NoZWNrLmZvckVhY2goa2V5ID0+IHtcbiAgICAgICAgICBpZiAoIWtlZXBLZXlzLmluY2x1ZGVzKGtleSkpIHtcbiAgICAgICAgICAgIC8vIFNwZWNpYWwgaGFuZGxpbmcgZm9yIGpvYi1yZWxhdGVkIGtleXMgLSBrZWVwIHJlY2VudCBvbmVzLCByZW1vdmUgb2xkIG9uZXNcbiAgICAgICAgICAgIGlmIChrZXkuc3RhcnRzV2l0aCgnY2FyZEpvYl8nKSB8fCBrZXkgPT09ICdwZW5kaW5nQ2FyZEpvYnMnKSB7XG4gICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgaWYgKGtleSA9PT0gJ3BlbmRpbmdDYXJkSm9icycpIHtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IHBlbmRpbmdKb2JzID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbShrZXkpIHx8ICdbXScpO1xuICAgICAgICAgICAgICAgICAgLy8gS2VlcCBvbmx5IGpvYnMgZnJvbSB0aGUgbGFzdCAyNCBob3Vyc1xuICAgICAgICAgICAgICAgICAgY29uc3Qgb25lRGF5QWdvID0gRGF0ZS5ub3coKSAtICgyNCAqIDYwICogNjAgKiAxMDAwKTtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IHJlY2VudEpvYnMgPSBwZW5kaW5nSm9icy5maWx0ZXIoKGpvYklkOiBzdHJpbmcpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgam9iRGF0YSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKGBjYXJkSm9iXyR7am9iSWR9YCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChqb2JEYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgY29uc3Qgam9iID0gSlNPTi5wYXJzZShqb2JEYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gam9iLmNyZWF0ZWRBdCAmJiBqb2IuY3JlYXRlZEF0ID4gb25lRGF5QWdvO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICBpZiAocmVjZW50Sm9icy5sZW5ndGggIT09IHBlbmRpbmdKb2JzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShrZXksIEpTT04uc3RyaW5naWZ5KHJlY2VudEpvYnMpKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coYPCfp7kgQ2xlYW5lZCB1cCAke3BlbmRpbmdKb2JzLmxlbmd0aCAtIHJlY2VudEpvYnMubGVuZ3RofSBvbGQgcGVuZGluZyBqb2JzYCk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChrZXkuc3RhcnRzV2l0aCgnY2FyZEpvYl8nKSkge1xuICAgICAgICAgICAgICAgICAgY29uc3Qgam9iRGF0YSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKGtleSk7XG4gICAgICAgICAgICAgICAgICBpZiAoam9iRGF0YSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBqb2IgPSBKU09OLnBhcnNlKGpvYkRhdGEpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBvbmVEYXlBZ28gPSBEYXRlLm5vdygpIC0gKDI0ICogNjAgKiA2MCAqIDEwMDApO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWpvYi5jcmVhdGVkQXQgfHwgam9iLmNyZWF0ZWRBdCA8IG9uZURheUFnbykge1xuICAgICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKGtleSk7XG4gICAgICAgICAgICAgICAgICAgICAgcmVtb3ZlZENvdW50Kys7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgLy8gSWYgd2UgY2FuJ3QgcGFyc2UgdGhlIGpvYiBkYXRhLCBpdCdzIHByb2JhYmx5IGNvcnJ1cHRlZCwgc28gcmVtb3ZlIGl0XG4gICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oa2V5KTtcbiAgICAgICAgICAgICAgICByZW1vdmVkQ291bnQrKztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgLy8gUmVtb3ZlIGFueSBvdGhlciB1bmtub3duIGtleXNcbiAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oa2V5KTtcbiAgICAgICAgICAgICAgcmVtb3ZlZENvdW50Kys7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIGlmIChyZW1vdmVkQ291bnQgPiAwKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coYPCfp7kgQ2xlYW5lZCB1cCAke3JlbW92ZWRDb3VudH0gc3RhbGUgbG9jYWxTdG9yYWdlIGl0ZW1zYCk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGR1cmluZyBsb2NhbFN0b3JhZ2UgY2xlYW51cDonLCBlcnJvcik7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGxvYWRTYXZlZFN0YXRlKCk7XG4gICAgY2xlYW51cExvY2FsU3RvcmFnZSgpO1xuICAgIHNldElzSW5pdGlhbExvYWRDb21wbGV0ZSh0cnVlKTtcbiAgICBcbiAgICAvLyBTdGFydCBwcmVsb2FkaW5nIHRlbXBsYXRlIGNhcmRzIGltbWVkaWF0ZWx5IG9uIHBhZ2UgbG9hZFxuICAgIHByZWxvYWRBbGxDYXJkcygpO1xuICB9LCBbcHJlbG9hZEFsbENhcmRzXSk7XG5cbiAgLy8gQ2xlYW51cCBlbGFwc2VkIHRpbWUgaW50ZXJ2YWwgb24gdW5tb3VudFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBpZiAoZWxhcHNlZFRpbWVJbnRlcnZhbCkge1xuICAgICAgICBjbGVhckludGVydmFsKGVsYXBzZWRUaW1lSW50ZXJ2YWwpO1xuICAgICAgfVxuICAgIH07XG4gIH0sIFtlbGFwc2VkVGltZUludGVydmFsXSk7XG5cbiAgLy8gQ2hlY2sgZm9yIHBlbmRpbmcgam9icyBhbmQgcmVzdG9yZSB0aW1lciBvbiBwYWdlIGxvYWRcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjaGVja1BlbmRpbmdKb2JzKCk7XG4gICAgLy8gUmVzdG9yZSBlbGFwc2VkIHRpbWUgdHJhY2tpbmcgaWYgZ2VuZXJhdGlvbiBpcyBpbiBwcm9ncmVzc1xuICAgIHJlc3RvcmVFbGFwc2VkVGltZVRyYWNraW5nKCk7XG4gIH0sIFtdKTtcblxuICAvLyBTYXZlIGZvcm0gZGF0YSB0byBsb2NhbFN0b3JhZ2Ugd2hlbmV2ZXIgZm9ybSBzdGF0ZSBjaGFuZ2VzXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgLy8gT25seSBzYXZlIGFmdGVyIGluaXRpYWwgbG9hZCBpcyBjb21wbGV0ZSB0byBhdm9pZCBvdmVyd3JpdGluZyBsb2FkZWQgZGF0YVxuICAgIGlmICghaXNJbml0aWFsTG9hZENvbXBsZXRlKSByZXR1cm47XG4gICAgXG4gICAgY29uc3Qgc2F2ZUZvcm1EYXRhID0gKCkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgZm9ybURhdGEgPSB7XG4gICAgICAgICAgcHJvbXB0LFxuICAgICAgICAgIGZpbmFsQ2FyZE1lc3NhZ2UsXG4gICAgICAgICAgdG9GaWVsZCxcbiAgICAgICAgICBmcm9tRmllbGQsXG4gICAgICAgICAgc2VsZWN0ZWRUeXBlLFxuICAgICAgICAgIGN1c3RvbUNhcmRUeXBlLFxuICAgICAgICAgIHNlbGVjdGVkVG9uZSxcbiAgICAgICAgICBzZWxlY3RlZEFydGlzdGljU3R5bGUsXG4gICAgICAgICAgY3VzdG9tU3R5bGVEZXNjcmlwdGlvbixcbiAgICAgICAgICBzZWxlY3RlZEltYWdlTW9kZWwsXG4gICAgICAgICAgc2VsZWN0ZWREcmFmdE1vZGVsLFxuICAgICAgICAgIG51bWJlck9mQ2FyZHMsXG4gICAgICAgICAgdXNlckVtYWlsLFxuICAgICAgICAgIHJlZmVyZW5jZUltYWdlVXJscyxcbiAgICAgICAgICBpbWFnZVRyYW5zZm9ybWF0aW9uLFxuICAgICAgICAgIGlzSGFuZHdyaXR0ZW5NZXNzYWdlLFxuICAgICAgICAgIGlzRnJvbnRCYWNrT25seSxcbiAgICAgICAgICBzZWxlY3RlZFBhcGVyU2l6ZSxcbiAgICAgICAgICBzaG93QWR2YW5jZWQsXG4gICAgICAgICAgaGFuZHdyaXRpbmdTYW1wbGVVcmwsXG4gICAgICAgICAgaXNUZXh0YXJlYUV4cGFuZGVkLFxuICAgICAgICAgIGlzTWVzc2FnZUV4cGFuZGVkLFxuICAgICAgICAgIG1lc3NhZ2VIaXN0b3J5LFxuICAgICAgICAgIGN1cnJlbnRNZXNzYWdlSW5kZXgsXG4gICAgICAgICAgc2hvd1JlZmluZW1lbnRCb3gsXG4gICAgICAgICAgc2hvd1NldHRpbmdzLFxuICAgICAgICAgIHNob3dQcmludENvbmZpcm1hdGlvbixcbiAgICAgICAgICBpc0NhcmRDb21wbGV0ZWQsXG4gICAgICAgICAgZ2VuZXJhdGlvbkR1cmF0aW9uXG4gICAgICAgIH07XG4gICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd2aWJlY2FyZGluZy1mb3JtLWRhdGEnLCBKU09OLnN0cmluZ2lmeShmb3JtRGF0YSkpO1xuICAgICAgICBjb25zb2xlLmxvZygn4pyFIEZvcm0gZGF0YSBzYXZlZCB0byBsb2NhbFN0b3JhZ2U6JywgZm9ybURhdGEpO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcign4p2MIEVycm9yIHNhdmluZyBmb3JtIGRhdGE6JywgZXJyb3IpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBzYXZlRm9ybURhdGEoKTtcbiAgICAgIH0sIFtpc0luaXRpYWxMb2FkQ29tcGxldGUsIHByb21wdCwgZmluYWxDYXJkTWVzc2FnZSwgdG9GaWVsZCwgZnJvbUZpZWxkLCBzZWxlY3RlZFR5cGUsIGN1c3RvbUNhcmRUeXBlLCBzZWxlY3RlZFRvbmUsIHNlbGVjdGVkQXJ0aXN0aWNTdHlsZSwgY3VzdG9tU3R5bGVEZXNjcmlwdGlvbiwgc2VsZWN0ZWRJbWFnZU1vZGVsLCBudW1iZXJPZkNhcmRzLCB1c2VyRW1haWwsIHJlZmVyZW5jZUltYWdlVXJscywgaW1hZ2VUcmFuc2Zvcm1hdGlvbiwgaXNIYW5kd3JpdHRlbk1lc3NhZ2UsIGlzRnJvbnRCYWNrT25seSwgc2VsZWN0ZWRQYXBlclNpemUsIHNob3dBZHZhbmNlZCwgaGFuZHdyaXRpbmdTYW1wbGVVcmwsIGlzVGV4dGFyZWFFeHBhbmRlZCwgaXNNZXNzYWdlRXhwYW5kZWQsIG1lc3NhZ2VIaXN0b3J5LCBjdXJyZW50TWVzc2FnZUluZGV4LCBzaG93UmVmaW5lbWVudEJveCwgc2hvd1NldHRpbmdzLCBzaG93UHJpbnRDb25maXJtYXRpb24sIGlzQ2FyZENvbXBsZXRlZCwgZ2VuZXJhdGlvbkR1cmF0aW9uXSk7XG5cbiAgLy8gU2F2ZSBvbmx5IHRoZSBtb3N0IHJlY2VudCBjYXJkIHRvIGxvY2FsU3RvcmFnZSB3aGVuZXZlciBpdCBjaGFuZ2VzXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3Qgc2F2ZUdlbmVyYXRlZENhcmRzID0gKCkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgaWYgKGdlbmVyYXRlZENhcmRzLmxlbmd0aCA9PT0gMCkgcmV0dXJuO1xuICAgICAgICBcbiAgICAgICAgLy8gR2V0IHRoZSBtb3N0IHJlY2VudCBjYXJkICh0aGUgbGFzdCBvbmUgaW4gdGhlIGFycmF5LCBvciB0aGUgc2VsZWN0ZWQgb25lKVxuICAgICAgICBjb25zdCBtb3N0UmVjZW50Q2FyZCA9IGdlbmVyYXRlZENhcmQgfHwgZ2VuZXJhdGVkQ2FyZHNbZ2VuZXJhdGVkQ2FyZHMubGVuZ3RoIC0gMV07XG4gICAgICAgIFxuICAgICAgICAvLyBDcmVhdGUgbGlnaHR3ZWlnaHQgdmVyc2lvbiB3aXRob3V0IGJhc2U2NCBRUiBjb2RlcyBmb3IgbG9jYWxTdG9yYWdlXG4gICAgICAgIGNvbnN0IGNhcmRGb3JTdG9yYWdlID0geyAuLi5tb3N0UmVjZW50Q2FyZCB9O1xuICAgICAgICBpZiAoY2FyZEZvclN0b3JhZ2UuYmFja0NvdmVyICYmIGNhcmRGb3JTdG9yYWdlLmJhY2tDb3Zlci5zdGFydHNXaXRoKCdkYXRhOmltYWdlL3BuZztiYXNlNjQsJykpIHtcbiAgICAgICAgICAvLyBEb24ndCBzdG9yZSB0aGUgYmFzZTY0IFFSIGNvZGUgdmVyc2lvbiAtIGl0J3MgdG9vIGxhcmdlIGZvciBsb2NhbFN0b3JhZ2VcbiAgICAgICAgICAvLyBUaGUgUVIgY29kZSB3aWxsIGJlIHJlZ2VuZXJhdGVkIHdoZW4gbmVlZGVkXG4gICAgICAgICAgY29uc29sZS5sb2coJ/Cfkr4gU2tpcHBpbmcgYmFzZTY0IFFSIGNvZGUgc3RvcmFnZSBmb3IgY2FyZDonLCBjYXJkRm9yU3RvcmFnZS5pZCk7XG4gICAgICAgICAgLy8gS2VlcCB0aGUgb3JpZ2luYWwgYmFjayBjb3ZlciBVUkwgaWYgd2UgaGF2ZSBpdFxuICAgICAgICAgIC8vIE5vdGU6IEluIHByYWN0aWNlLCB3ZSdkIG5lZWQgdG8gc3RvcmUgdGhlIG9yaWdpbmFsIFVSTCBzZXBhcmF0ZWx5XG4gICAgICAgICAgLy8gRm9yIG5vdywgd2UnbGwganVzdCBub3Qgc2F2ZSB0aGUgYmFzZTY0IHZlcnNpb25cbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgY29uc3QgY2FyZHNEYXRhID0ge1xuICAgICAgICAgIG1vc3RSZWNlbnRDYXJkOiBjYXJkRm9yU3RvcmFnZSxcbiAgICAgICAgICBnZW5lcmF0aW9uRHVyYXRpb246IGdlbmVyYXRpb25EdXJhdGlvblxuICAgICAgICB9O1xuICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndmliZWNhcmRpbmctZ2VuZXJhdGVkLWNhcmRzJywgSlNPTi5zdHJpbmdpZnkoY2FyZHNEYXRhKSk7XG4gICAgICAgIGNvbnNvbGUubG9nKCfwn5K+IE1vc3QgcmVjZW50IGNhcmQgc2F2ZWQgdG8gbG9jYWxTdG9yYWdlOicsIGNhcmRGb3JTdG9yYWdlLmlkKTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHNhdmluZyBnZW5lcmF0ZWQgY2FyZHM6JywgZXJyb3IpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBpZiAoZ2VuZXJhdGVkQ2FyZHMubGVuZ3RoID4gMCkge1xuICAgICAgc2F2ZUdlbmVyYXRlZENhcmRzKCk7XG4gICAgfVxuICB9LCBbZ2VuZXJhdGVkQ2FyZHMsIGdlbmVyYXRlZENhcmQsIGdlbmVyYXRpb25EdXJhdGlvbl0pO1xuXG4gIC8vIFRyYWNrIG1hbnVhbCBtZXNzYWdlIGNoYW5nZXMgZm9yIHZlcnNpb24gY29udHJvbFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghaXNJbml0aWFsTG9hZENvbXBsZXRlKSByZXR1cm47XG4gICAgXG4gICAgY29uc3QgdGltZW91dElkID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBpZiAoZmluYWxDYXJkTWVzc2FnZS50cmltKCkgJiYgXG4gICAgICAgICAgbWVzc2FnZUhpc3RvcnkubGVuZ3RoID4gMCAmJiBcbiAgICAgICAgICBmaW5hbENhcmRNZXNzYWdlICE9PSBtZXNzYWdlSGlzdG9yeVtjdXJyZW50TWVzc2FnZUluZGV4XSkge1xuICAgICAgICAvLyBVc2VyIGhhcyBtYW51YWxseSBlZGl0ZWQgdGhlIG1lc3NhZ2UsIGFkZCB0byBoaXN0b3J5XG4gICAgICAgIGFkZE1lc3NhZ2VUb0hpc3RvcnkoZmluYWxDYXJkTWVzc2FnZSk7XG4gICAgICB9XG4gICAgfSwgMjAwMCk7IC8vIFdhaXQgMiBzZWNvbmRzIGFmdGVyIHVzZXIgc3RvcHMgdHlwaW5nXG5cbiAgICByZXR1cm4gKCkgPT4gY2xlYXJUaW1lb3V0KHRpbWVvdXRJZCk7XG4gIH0sIFtmaW5hbENhcmRNZXNzYWdlLCBpc0luaXRpYWxMb2FkQ29tcGxldGVdKTtcblxuXG4gIC8vIENsZWFyIHNhdmVkIGRhdGEgZnVuY3Rpb25cbiAgY29uc3QgY2xlYXJTYXZlZERhdGEgPSAoKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCd2aWJlY2FyZGluZy1mb3JtLWRhdGEnKTtcbiAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCd2aWJlY2FyZGluZy1nZW5lcmF0ZWQtY2FyZHMnKTtcbiAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCd2aWJlY2FyZGluZy10ZW1wbGF0ZXMnKTtcbiAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCd2aWJlY2FyZGluZy10ZW1wbGF0ZXMtdGltZXN0YW1wJyk7XG4gICAgICB0b2FzdC5zdWNjZXNzKFwiU2F2ZWQgZGF0YSBjbGVhcmVkIVwiKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgY2xlYXJpbmcgc2F2ZWQgZGF0YTonLCBlcnJvcik7XG4gICAgICB0b2FzdC5lcnJvcihcIkZhaWxlZCB0byBjbGVhciBzYXZlZCBkYXRhXCIpO1xuICAgIH1cbiAgfTtcblxuICAvLyBTdG9yYWdlIG1hbmFnZW1lbnQgZnVuY3Rpb25cbiAgY29uc3QgZ2V0U3RvcmFnZVVzYWdlID0gKCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICBsZXQgdG90YWxTaXplID0gMDtcbiAgICAgIGZvciAobGV0IGtleSBpbiBsb2NhbFN0b3JhZ2UpIHtcbiAgICAgICAgaWYgKGxvY2FsU3RvcmFnZS5oYXNPd25Qcm9wZXJ0eShrZXkpICYmIGtleS5zdGFydHNXaXRoKCd2aWJlY2FyZGluZy0nKSkge1xuICAgICAgICAgIHRvdGFsU2l6ZSArPSBsb2NhbFN0b3JhZ2Vba2V5XS5sZW5ndGg7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHVzZWQ6IHRvdGFsU2l6ZSxcbiAgICAgICAgdXNlZE1COiAodG90YWxTaXplIC8gKDEwMjQgKiAxMDI0KSkudG9GaXhlZCgyKSxcbiAgICAgICAgcGVyY2VudGFnZTogTWF0aC5yb3VuZCgodG90YWxTaXplIC8gKDUgKiAxMDI0ICogMTAyNCkpICogMTAwKSAvLyBBc3N1bWUgNU1CIGxpbWl0XG4gICAgICB9O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICByZXR1cm4geyB1c2VkOiAwLCB1c2VkTUI6ICcwJywgcGVyY2VudGFnZTogMCB9O1xuICAgIH1cbiAgfTtcblxuXG4gIC8vIFRlbXBsYXRlIGN1c3RvbWl6YXRpb24gc3RhdGVcbiAgY29uc3QgW3Nob3dUZW1wbGF0ZUN1c3RvbWl6YXRpb24sIHNldFNob3dUZW1wbGF0ZUN1c3RvbWl6YXRpb25dID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbc2VsZWN0ZWRUZW1wbGF0ZSwgc2V0U2VsZWN0ZWRUZW1wbGF0ZV0gPSB1c2VTdGF0ZTxHZW5lcmF0ZWRDYXJkIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFt0ZW1wbGF0ZUN1c3RvbWl6YXRpb25zLCBzZXRUZW1wbGF0ZUN1c3RvbWl6YXRpb25zXSA9IHVzZVN0YXRlKHtcbiAgICBwcm9tcHRDaGFuZ2VzOiBcIlwiLFxuICAgIG1lc3NhZ2VDaGFuZ2VzOiBcIlwiLFxuICAgIHVzZVJlZmVyZW5jZUltYWdlOiBmYWxzZSxcbiAgICByZWZlcmVuY2VJbWFnZUZpbGU6IG51bGwgYXMgRmlsZSB8IG51bGwsXG4gICAgcmVmZXJlbmNlSW1hZ2VVcmxzOiBbXSBhcyBzdHJpbmdbXSxcbiAgICByZWZlcmVuY2VJbWFnZVRyYW5zZm9ybWF0aW9uOiBcIlwiXG4gIH0pO1xuXG4gIGNvbnN0IGFwcGx5VGVtcGxhdGUgPSAodGVtcGxhdGU6IEdlbmVyYXRlZENhcmQpID0+IHtcbiAgICAvLyBTdG9yZSB0aGUgc2VsZWN0ZWQgdGVtcGxhdGUgYW5kIHNob3cgY3VzdG9taXphdGlvbiBkaWFsb2dcbiAgICBzZXRTZWxlY3RlZFRlbXBsYXRlKHRlbXBsYXRlKTtcbiAgICBzZXRTaG93VGVtcGxhdGVDdXN0b21pemF0aW9uKHRydWUpO1xuICAgIHNldFNob3dUZW1wbGF0ZUdhbGxlcnkoZmFsc2UpO1xuICAgIFxuICAgIC8vIEluaXRpYWxpemUgY3VzdG9taXphdGlvbiBmb3JtIHdpdGggdGVtcGxhdGUgZGF0YVxuICAgIHNldFRlbXBsYXRlQ3VzdG9taXphdGlvbnMoe1xuICAgICAgcHJvbXB0Q2hhbmdlczogXCJcIixcbiAgICAgIG1lc3NhZ2VDaGFuZ2VzOiBcIlwiLFxuICAgICAgdXNlUmVmZXJlbmNlSW1hZ2U6IGZhbHNlLFxuICAgICAgcmVmZXJlbmNlSW1hZ2VGaWxlOiBudWxsLFxuICAgICAgcmVmZXJlbmNlSW1hZ2VVcmxzOiBbXSxcbiAgICAgIHJlZmVyZW5jZUltYWdlVHJhbnNmb3JtYXRpb246IFwiXCJcbiAgICB9KTtcbiAgfTtcblxuICAvLyBHZW5lcmF0ZSBjYXJkIGRpcmVjdGx5IHdpdGggZXhpc3RpbmcgcHJvbXB0cyAoZm9yIHRlbXBsYXRlIGN1c3RvbWl6YXRpb24pXG4gIGNvbnN0IGdlbmVyYXRlQ2FyZFdpdGhFeGlzdGluZ1Byb21wdHMgPSBhc3luYyAocHJvbXB0czogYW55KSA9PiB7XG4gICAgaWYgKCF1c2VyRW1haWwudHJpbSgpKSB7XG4gICAgICB0b2FzdC5lcnJvcihcIlBsZWFzZSBlbnRlciB5b3VyIGVtYWlsIGFkZHJlc3NcIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gQ2xlYXIgYWxsIGRyYWZ0IG1vZGUgc3RhdGVzIHRvIHByZXZlbnQgVUkgY29uZmxpY3RzXG4gICAgc2V0SXNEcmFmdE1vZGUoZmFsc2UpO1xuICAgIHNldERyYWZ0Q2FyZHMoW10pO1xuICAgIHNldERyYWZ0SW5kZXhNYXBwaW5nKFtdKTtcbiAgICBzZXRTZWxlY3RlZERyYWZ0SW5kZXgoLTEpO1xuICAgIHNldElzR2VuZXJhdGluZ0ZpbmFsQ2FyZChmYWxzZSk7XG4gICAgc2V0UHJldmlld2luZ0RyYWZ0SW5kZXgoLTEpO1xuICAgIHNldERyYWZ0Q29tcGxldGlvblNob3duKGZhbHNlKTsgLy8gUmVzZXQgY29tcGxldGlvbiBmbGFnXG4gICAgXG4gICAgLy8gQ2xlYXIgYW55IGV4aXN0aW5nIGNhcmQgc3RhdGVzXG4gICAgc2V0R2VuZXJhdGVkQ2FyZHMoW10pO1xuICAgIHNldEdlbmVyYXRlZENhcmQobnVsbCk7XG4gICAgc2V0U2VsZWN0ZWRDYXJkSW5kZXgoMCk7XG4gICAgc2V0Q3VycmVudENhcmRJZChudWxsKTtcbiAgICBzZXRJc0NhcmRDb21wbGV0ZWQoZmFsc2UpO1xuXG4gICAgc2V0SXNHZW5lcmF0aW5nKHRydWUpO1xuICAgIHN0YXJ0RWxhcHNlZFRpbWVUcmFja2luZygpO1xuICAgIHNldEdlbmVyYXRpb25Qcm9ncmVzcyhcIvCfjqggQ3JlYXRpbmcgeW91ciBjdXN0b21pemVkIHRlbXBsYXRlIGNhcmQuLi5cIik7XG4gICAgc2V0UHJvZ3Jlc3NQZXJjZW50YWdlKDApO1xuXG4gICAgdHJ5IHtcbiAgICAgIC8vIENyZWF0ZSBqb2IgdHJhY2tpbmdcbiAgICAgIGNvbnN0IGpvYklkID0gdXVpZHY0KCk7XG4gICAgICBzZXRDdXJyZW50Sm9iSWQoam9iSWQpO1xuICAgICAgXG4gICAgICBjb25zdCBjYXJkVHlwZUZvclByb21wdCA9IHNlbGVjdGVkVHlwZSA9PT0gXCJjdXN0b21cIiA/IGN1c3RvbUNhcmRUeXBlIDogc2VsZWN0ZWRUeXBlO1xuICAgICAgY29uc3QgcGFwZXJDb25maWcgPSBwYXBlclNpemVzLmZpbmQoc2l6ZSA9PiBzaXplLmlkID09PSBzZWxlY3RlZFBhcGVyU2l6ZSkgfHwgcGFwZXJTaXplc1swXTtcblxuICAgICAgLy8gSGFuZGxlIG1lc3NhZ2UgY3VzdG9taXphdGlvblxuICAgICAgbGV0IG1lc3NhZ2VDb250ZW50ID0gdGVtcGxhdGVDdXN0b21pemF0aW9ucy5tZXNzYWdlQ2hhbmdlcy50cmltKCkgfHwgZmluYWxDYXJkTWVzc2FnZTtcbiAgICAgIGlmIChpc0hhbmR3cml0dGVuTWVzc2FnZSkge1xuICAgICAgICBtZXNzYWdlQ29udGVudCA9IFwiW0JsYW5rIHNwYWNlIGZvciBoYW5kd3JpdHRlbiBtZXNzYWdlXVwiO1xuICAgICAgfVxuXG4gICAgICAvLyBVcGRhdGUgdGhlIHJpZ2h0IGludGVyaW9yIHByb21wdCB3aXRoIGN1c3RvbSBtZXNzYWdlIGlmIHByb3ZpZGVkXG4gICAgICBpZiAobWVzc2FnZUNvbnRlbnQgJiYgcHJvbXB0cy5yaWdodEludGVyaW9yICYmICFpc0hhbmR3cml0dGVuTWVzc2FnZSkge1xuICAgICAgICBwcm9tcHRzLnJpZ2h0SW50ZXJpb3IgPSBwcm9tcHRzLnJpZ2h0SW50ZXJpb3JcbiAgICAgICAgICAucmVwbGFjZSgvSW5jbHVkZSBtZXNzYWdlIHRleHQ6IFwiW15cIl0qXCIvZywgYEluY2x1ZGUgbWVzc2FnZSB0ZXh0OiBcIiR7bWVzc2FnZUNvbnRlbnR9XCJgKVxuICAgICAgICAgIC5yZXBsYWNlKC9cIk1FU1NBR0UgR09FUyBIRVJFXCIvZywgYFwiJHttZXNzYWdlQ29udGVudH1cImApXG4gICAgICAgICAgLnJlcGxhY2UoL01FU1NBR0UgR09FUyBIRVJFL2csIG1lc3NhZ2VDb250ZW50KTtcbiAgICAgIH1cblxuICAgICAgLy8gU2F2ZSBqb2IgZGF0YVxuICAgICAgY29uc3Qgam9iRGF0YSA9IHtcbiAgICAgICAgcHJvbXB0OiBzZWxlY3RlZFRlbXBsYXRlPy5wcm9tcHQgfHwgXCJcIixcbiAgICAgICAgc2VsZWN0ZWRUeXBlLFxuICAgICAgICBjdXN0b21DYXJkVHlwZSxcbiAgICAgICAgc2VsZWN0ZWRUb25lLFxuICAgICAgICBmaW5hbENhcmRNZXNzYWdlOiBtZXNzYWdlQ29udGVudCxcbiAgICAgICAgdG9GaWVsZCxcbiAgICAgICAgZnJvbUZpZWxkLFxuICAgICAgICB1c2VyRW1haWwsXG4gICAgICAgIHNlbGVjdGVkQXJ0aXN0aWNTdHlsZSxcbiAgICAgICAgY3VzdG9tU3R5bGVEZXNjcmlwdGlvbixcbiAgICAgICAgc2VsZWN0ZWRJbWFnZU1vZGVsLFxuICAgICAgICBpc0Zyb250QmFja09ubHksXG4gICAgICAgIG51bWJlck9mQ2FyZHM6IDEsXG4gICAgICAgIHNlbGVjdGVkUGFwZXJTaXplLFxuICAgICAgICBwcm9tcHRzLFxuICAgICAgICBwYXBlckNvbmZpZyxcbiAgICAgICAgaXNUZW1wbGF0ZUN1c3RvbWl6YXRpb246IHRydWVcbiAgICAgIH07XG4gICAgICBcbiAgICAgIHNhdmVKb2JUb1N0b3JhZ2Uoam9iSWQsIGpvYkRhdGEpO1xuICAgICAgXG4gICAgICBzZXRHZW5lcmF0aW9uUHJvZ3Jlc3MoXCLwn5qAIFN0YXJ0aW5nIHlvdXIgcGVyc29uYWxpemVkIHRlbXBsYXRlIGNhcmQgZ2VuZXJhdGlvbi4uLlwiKTtcbiAgICAgIFxuICAgICAgLy8gUHJlcGFyZSBpbnB1dCBpbWFnZXMgZm9yIHJlZmVyZW5jZSBwaG90byBzdXBwb3J0XG4gICAgICBjb25zdCBpbnB1dEltYWdlczogc3RyaW5nW10gPSBbXTtcbiAgICAgIFxuICAgICAgICAgICAgICAvLyBJbmNsdWRlIGJvdGggdGVtcGxhdGUgY3VzdG9taXphdGlvbiByZWZlcmVuY2UgaW1hZ2VzIGFuZCBtYWluIHJlZmVyZW5jZSBpbWFnZXNcbiAgICAgICAgaWYgKHNlbGVjdGVkSW1hZ2VNb2RlbCA9PT0gXCJncHQtaW1hZ2UtMVwiKSB7XG4gICAgICAgICAgLy8gQWRkIHRlbXBsYXRlIGN1c3RvbWl6YXRpb24gcmVmZXJlbmNlIGltYWdlc1xuICAgICAgICAgIGlmICh0ZW1wbGF0ZUN1c3RvbWl6YXRpb25zLnJlZmVyZW5jZUltYWdlVXJscy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBpbnB1dEltYWdlcy5wdXNoKC4uLnRlbXBsYXRlQ3VzdG9taXphdGlvbnMucmVmZXJlbmNlSW1hZ2VVcmxzKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwi8J+UjSBERUJVRzogQWRkZWQgdGVtcGxhdGUgY3VzdG9taXphdGlvbiByZWZlcmVuY2UgaW1hZ2VzOlwiLCB0ZW1wbGF0ZUN1c3RvbWl6YXRpb25zLnJlZmVyZW5jZUltYWdlVXJscyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIEFkZCBtYWluIHJlZmVyZW5jZSBpbWFnZXMgZnJvbSB0aGUgZm9ybVxuICAgICAgICAgIGlmIChyZWZlcmVuY2VJbWFnZVVybHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgaW5wdXRJbWFnZXMucHVzaCguLi5yZWZlcmVuY2VJbWFnZVVybHMpO1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCLwn5SNIERFQlVHOiBBZGRlZCBtYWluIGZvcm0gcmVmZXJlbmNlIGltYWdlczpcIiwgcmVmZXJlbmNlSW1hZ2VVcmxzKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgXG4gICAgICAgICAgaWYgKGlucHV0SW1hZ2VzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwi8J+UjSBERUJVRzogVG90YWwgaW5wdXQgaW1hZ2VzIGZvciB0ZW1wbGF0ZSBnZW5lcmF0aW9uOlwiLCBpbnB1dEltYWdlcy5sZW5ndGgpO1xuICAgICAgICAgICAgdG9hc3Quc3VjY2Vzcyhg8J+TuCAke2lucHV0SW1hZ2VzLmxlbmd0aH0gcmVmZXJlbmNlIHBob3RvJHtpbnB1dEltYWdlcy5sZW5ndGggPiAxID8gJ3MnIDogJyd9IHJlYWR5IGZvciB0ZW1wbGF0ZSBjdXN0b21pemF0aW9uIWApO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAvLyBFbmhhbmNlIHByb21wdHMgd2l0aCByZWZlcmVuY2UgaW1hZ2UgaW5zdHJ1Y3Rpb25zIGlmIGF2YWlsYWJsZVxuICAgICAgY29uc3QgZW5oYW5jZWRQcm9tcHRzID0geyAuLi5wcm9tcHRzIH07XG4gICAgICBpZiAoaW5wdXRJbWFnZXMubGVuZ3RoID4gMCAmJiBzZWxlY3RlZEltYWdlTW9kZWwgPT09IFwiZ3B0LWltYWdlLTFcIikge1xuICAgICAgICBjb25zdCB0b3RhbFJlZmVyZW5jZUltYWdlcyA9ICh0ZW1wbGF0ZUN1c3RvbWl6YXRpb25zLnJlZmVyZW5jZUltYWdlVXJscz8ubGVuZ3RoIHx8IDApICsgKHJlZmVyZW5jZUltYWdlVXJscz8ubGVuZ3RoIHx8IDApO1xuICAgICAgICBjb25zdCBjaGFyYWN0ZXJJbnN0cnVjdGlvbnMgPSBgXFxuXFxuQ1JJVElDQUwgQ0hBUkFDVEVSIFJFRkVSRU5DRSBJTlNUUlVDVElPTlM6IEkgaGF2ZSBwcm92aWRlZCAke3RvdGFsUmVmZXJlbmNlSW1hZ2VzID4gMSA/ICdtdWx0aXBsZSByZWZlcmVuY2UgcGhvdG9zJyA6ICdhIHJlZmVyZW5jZSBwaG90byd9IGFzIGlucHV0IGltYWdlJHt0b3RhbFJlZmVyZW5jZUltYWdlcyA+IDEgPyAncycgOiAnJ30uIFlvdSBNVVNUIGNyZWF0ZSBjYXJ0b29uL2lsbHVzdHJhdGVkIGNoYXJhY3RlcnMgdGhhdCBhY2N1cmF0ZWx5IHJlcHJlc2VudCBPTkxZIHRoZSBwZW9wbGUgd2hvIGFyZSBhY3R1YWxseSB2aXNpYmxlIGluICR7dG90YWxSZWZlcmVuY2VJbWFnZXMgPiAxID8gJ3RoZXNlIHJlZmVyZW5jZSBwaG90b3MnIDogJ3RoaXMgcmVmZXJlbmNlIHBob3RvJ30gd2l0aCBoaWdoIGZpZGVsaXR5IHRvIHRoZWlyIGFwcGVhcmFuY2UuXG5cbk1BTkRBVE9SWSBDSEFSQUNURVIgTUFUQ0hJTkcgUkVRVUlSRU1FTlRTIC0gT05MWSBJTkNMVURFIFdIQVQgSVMgQUNUVUFMTFkgVklTSUJMRTpcbi0gUkVQUkVTRU5UIE9OTFkgUEVPUExFIEFDVFVBTExZIElOIFRIRSBQSE9UT1M6IENyZWF0ZSBjYXJ0b29uIHZlcnNpb25zIG9mIE9OTFkgdGhlIHBlb3BsZSB3aG8gYXJlIGFjdHVhbGx5IHNob3duIGluIHRoZSByZWZlcmVuY2UgcGhvdG9zLiBEbyBOT1QgYWRkLCBjcmVhdGUsIG9yIGltYWdpbmUgYW55IGFkZGl0aW9uYWwgcGVvcGxlIG5vdCBwcmVzZW50IGluIHRoZSByZWZlcmVuY2UgaW1hZ2VzLlxuLSBFWEFDVCBoYWlyIGNvbG9yLCBoYWlyIHN0eWxlLCBhbmQgaGFpciBsZW5ndGggZnJvbSBlYWNoIHJlZmVyZW5jZSBwaG90byAtIG9ubHkgd2hhdCBpcyBhY3R1YWxseSB2aXNpYmxlXG4tIFBSRUNJU0UgZmFjaWFsIGZlYXR1cmVzIGZvciBlYWNoIHBlcnNvbjogZXllIGNvbG9yLCBleWUgc2hhcGUsIG5vc2Ugc2hhcGUsIGZhY2Ugc3RydWN0dXJlLCBza2luIHRvbmUgLSBleGFjdGx5IGFzIHNob3duIGluIHRoZSByZWZlcmVuY2Vcbi0gQUNDVVJBVEUgY2xvdGhpbmc6IHJlcGxpY2F0ZSBPTkxZIHRoZSBFWEFDVCBjbG90aGluZyBpdGVtcywgY29sb3JzLCBwYXR0ZXJucywgYW5kIHN0eWxlcyBhY3R1YWxseSB3b3JuIGJ5IGVhY2ggcGVyc29uIGluIHRoZWlyIHJlZmVyZW5jZSBwaG90byAtIGRvIG5vdCBhZGQgb3IgY2hhbmdlIGFueSBjbG90aGluZyBpdGVtc1xuLSBBQ0NFU1NPUklFUyBPTkxZIElGIFZJU0lCTEU6IEluY2x1ZGUgYWNjZXNzb3JpZXMgKGdsYXNzZXMsIGpld2VscnksIGhhdHMsIHdhdGNoZXMsIGJhZ3MsIGV0Yy4pIE9OTFkgaWYgdGhleSBhcmUgYWN0dWFsbHkgdmlzaWJsZSBvbiBlYWNoIHBlcnNvbiBpbiB0aGUgcmVmZXJlbmNlIHBob3RvLiBETyBOT1QgYWRkIGdsYXNzZXMgaWYgdGhleSBhcmUgbm90IHdlYXJpbmcgZ2xhc3NlcyBpbiB0aGUgcGhvdG8uIERPIE5PVCBhZGQgamV3ZWxyeSBpZiB0aGV5IGFyZSBub3Qgd2VhcmluZyBqZXdlbHJ5IGluIHRoZSBwaG90by4gRE8gTk9UIGFkZCBhbnkgYWNjZXNzb3JpZXMgdGhhdCBhcmUgbm90IGNsZWFybHkgdmlzaWJsZSBpbiB0aGUgcmVmZXJlbmNlIGltYWdlLlxuLSBDT1JSRUNUIGJvZHkgcHJvcG9ydGlvbnMgYW5kIHBvc3R1cmUgYXMgc2hvd24gZm9yIGVhY2ggcGVyc29uIGluIHRoZWlyIHJlZmVyZW5jZVxuLSBGQUlUSEZVTCBhZ2UgcmVwcmVzZW50YXRpb24gYW5kIGdlbmRlciBwcmVzZW50YXRpb24gZm9yIGVhY2ggaW5kaXZpZHVhbCAtIGV4YWN0bHkgYXMgdGhleSBhcHBlYXJcbi0gQVVUSEVOVElDIGZhY2lhbCBleHByZXNzaW9ucyBhbmQgcG9zZXMgZnJvbSB0aGUgcmVmZXJlbmNlIGltYWdlcywgbGVhbiB0b3dhcmRzIG1ha2luZyB0aGUgcGVvcGxlIGxvb2sgaGFwcGllciB1bmxlc3MgdGhlIHVzZXIgc3BlY2lmaWNhbGx5IGFza3MgZm9yIGEgZGlmZmVyZW50IGV4cHJlc3Npb25cbi0gR1JPVVAgQ09NUE9TSVRJT046IElmIG11bHRpcGxlIHBlb3BsZSBhcmUgYWN0dWFsbHkgc2hvd24gaW4gdGhlIHBob3RvcywgYXJyYW5nZSB0aGVtIG5hdHVyYWxseSB0b2dldGhlciBpbiBhIHBsZWFzaW5nIGNvbXBvc2l0aW9uIHRoYXQgZml0cyB0aGUgY2FyZCdzIHRoZW1lXG5cbkNSSVRJQ0FMIFJFU1RSSUNUSU9OOiBEbyBub3QgYWRkLCByZW1vdmUsIG9yIG1vZGlmeSBhbnkgdmlzdWFsIGVsZW1lbnRzIGJleW9uZCB3aGF0IGlzIGFjdHVhbGx5IHZpc2libGUgaW4gdGhlIHJlZmVyZW5jZSBwaG90b3MuIE9ubHkgaW5jbHVkZSBwZW9wbGUsIGNsb3RoaW5nLCBhbmQgYWNjZXNzb3JpZXMgdGhhdCBhcmUgY2xlYXJseSBzaG93biBpbiB0aGUgcmVmZXJlbmNlIGltYWdlcy5cblxuJHt0ZW1wbGF0ZUN1c3RvbWl6YXRpb25zLnJlZmVyZW5jZUltYWdlVHJhbnNmb3JtYXRpb24gfHwgaW1hZ2VUcmFuc2Zvcm1hdGlvbiB8fCAnU3R1ZHkgZXZlcnkgZGV0YWlsIG9mIHRoZSBwZW9wbGUgYWN0dWFsbHkgaW4gdGhlIHJlZmVyZW5jZSBpbWFnZSBhbmQgcmVjcmVhdGUgdGhlbSBhcyBzdHlsaXplZCBjYXJ0b29uIGNoYXJhY3RlcnMgd2hpbGUgbWFpbnRhaW5pbmcgMTAwJSBhY2N1cmFjeSB0byB0aGVpciBkaXN0aW5jdGl2ZSB2aXN1YWwgZmVhdHVyZXMuIFRoZSBjaGFyYWN0ZXJzIG11c3QgYmUgaW1tZWRpYXRlbHkgcmVjb2duaXphYmxlIGFzIHRoZSBzYW1lIHBlb3BsZSBmcm9tIHRoZSByZWZlcmVuY2UgcGhvdG8uIFBheSBzcGVjaWFsIGF0dGVudGlvbiB0byBjbG90aGluZyBkZXRhaWxzIGFuZCBhY2Nlc3NvcmllcyB0aGF0IGFyZSBhY3R1YWxseSB2aXNpYmxlLCBhbmQgdW5pcXVlIHBlcnNvbmFsIHN0eWxlIGVsZW1lbnRzIHRoYXQgbWFrZSBlYWNoIHBlcnNvbiBkaXN0aW5jdGl2ZS4gRG8gbm90IGFkZCBvciBpbWFnaW5lIGFueSBlbGVtZW50cyBub3QgcHJlc2VudCBpbiB0aGUgcmVmZXJlbmNlLid9XG5cblRoZSBjYXJ0b29uIHN0eWxlIHNob3VsZCBiZSBjaGFybWluZyBhbmQgYXJ0aXN0aWMgd2hpbGUgcHJlc2VydmluZyBjb21wbGV0ZSB2aXN1YWwgYWNjdXJhY3kgdG8gdGhlIHJlZmVyZW5jZSBwaG90by4gT25seSByZXByZXNlbnQgcGVvcGxlLCBjbG90aGluZywgYW5kIGFjY2Vzc29yaWVzIHRoYXQgYXJlIGFjdHVhbGx5IHZpc2libGUgaW4gdGhlIHJlZmVyZW5jZSBpbWFnZXMuYDtcblxuICAgICAgICBpZiAoZW5oYW5jZWRQcm9tcHRzLmZyb250Q292ZXIpIHtcbiAgICAgICAgICBlbmhhbmNlZFByb21wdHMuZnJvbnRDb3ZlciArPSBjaGFyYWN0ZXJJbnN0cnVjdGlvbnM7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnL2FwaS9nZW5lcmF0ZS1jYXJkLWFzeW5jJywge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICBqb2JJZCxcbiAgICAgICAgICBwcm9tcHRzOiBlbmhhbmNlZFByb21wdHMsXG4gICAgICAgICAgY29uZmlnOiB7XG4gICAgICAgICAgICB1c2VyTnVtYmVyOiBcIisxNzE0NTk4NjEwNVwiLFxuICAgICAgICAgICAgbW9kZWxWZXJzaW9uOiBzZWxlY3RlZEltYWdlTW9kZWwsXG4gICAgICAgICAgICBhc3BlY3RSYXRpbzogcGFwZXJDb25maWcuYXNwZWN0UmF0aW8sXG4gICAgICAgICAgICBxdWFsaXR5OiBcImhpZ2hcIiwgLy8gSGlnaCBxdWFsaXR5IGZvciB0ZW1wbGF0ZSBjdXN0b21pemF0aW9uXG4gICAgICAgICAgICBvdXRwdXRGb3JtYXQ6IFwianBlZ1wiLFxuICAgICAgICAgICAgb3V0cHV0Q29tcHJlc3Npb246IDEwMCxcbiAgICAgICAgICAgIG1vZGVyYXRpb246IFwibG93XCIsXG4gICAgICAgICAgICBkaW1lbnNpb25zOiBwYXBlckNvbmZpZy5kaW1lbnNpb25zLFxuICAgICAgICAgICAgaXNGcm9udEJhY2tPbmx5LFxuICAgICAgICAgICAgdXNlckVtYWlsLFxuICAgICAgICAgICAgY2FyZFR5cGU6IGNhcmRUeXBlRm9yUHJvbXB0LFxuICAgICAgICAgICAgdG9GaWVsZCxcbiAgICAgICAgICAgIGZyb21GaWVsZCxcbiAgICAgICAgICAgIGlzRHJhZnRNb2RlOiBmYWxzZSwgLy8gRXhwbGljaXRseSBzZXQgdG8gZmFsc2UgZm9yIHRlbXBsYXRlIGdlbmVyYXRpb25cbiAgICAgICAgICAgIGlzVGVtcGxhdGVDdXN0b21pemF0aW9uOiB0cnVlLFxuICAgICAgICAgICAgLi4uKGlucHV0SW1hZ2VzLmxlbmd0aCA+IDAgJiYgeyBcbiAgICAgICAgICAgICAgaW5wdXRfaW1hZ2VzOiBpbnB1dEltYWdlcyxcbiAgICAgICAgICAgICAgaW5wdXRfaW1hZ2VzX21vZGU6IFwiZnJvbnRfY292ZXJfb25seVwiIC8vIEFsbCByZWZlcmVuY2UgaW1hZ2VzIHNob3VsZCBnbyB0byBmcm9udCBjb3ZlciBmb3IgY2hhcmFjdGVyIGNyZWF0aW9uXG4gICAgICAgICAgICB9KVxuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgIH0pO1xuXG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgU2VydmVyIGVycm9yOiAke3Jlc3BvbnNlLnN0YXR1c31gKTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgXG4gICAgICBpZiAocmVzdWx0LnN0YXR1cyAhPT0gJ3Byb2Nlc3NpbmcnKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihyZXN1bHQubWVzc2FnZSB8fCAnRmFpbGVkIHRvIHN0YXJ0IGNhcmQgZ2VuZXJhdGlvbicpO1xuICAgICAgfVxuXG4gICAgICBzZXRHZW5lcmF0aW9uUHJvZ3Jlc3MoXCLinKggQnJpbmdpbmcgeW91ciBjdXN0b21pemVkIHRlbXBsYXRlIHRvIGxpZmUuLi5cIik7XG4gICAgICB0b2FzdC5zdWNjZXNzKFwi8J+OiSBZb3VyIHBlcnNvbmFsaXplZCB0ZW1wbGF0ZSBjYXJkIGdlbmVyYXRpb24gc3RhcnRlZCFcIik7XG4gICAgICBcbiAgICAgIHBvbGxKb2JTdGF0dXMoam9iSWQpO1xuXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1RlbXBsYXRlIGN1c3RvbWl6YXRpb24gZ2VuZXJhdGlvbiBlcnJvcjonLCBlcnJvcik7XG4gICAgICB0b2FzdC5lcnJvcihcIkZhaWxlZCB0byBnZW5lcmF0ZSBjdXN0b21pemVkIGNhcmQuIFBsZWFzZSB0cnkgYWdhaW4uXCIpO1xuICAgICAgXG4gICAgICBpZiAoY3VycmVudEpvYklkKSB7XG4gICAgICAgIHJlbW92ZUpvYkZyb21TdG9yYWdlKGN1cnJlbnRKb2JJZCk7XG4gICAgICAgIHNldEN1cnJlbnRKb2JJZChudWxsKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgc2V0SXNHZW5lcmF0aW5nKGZhbHNlKTtcbiAgICAgIHNldEdlbmVyYXRpb25Qcm9ncmVzcyhcIlwiKTtcbiAgICAgIHN0b3BFbGFwc2VkVGltZVRyYWNraW5nKCk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGhhbmRsZUFwcGx5VGVtcGxhdGVXaXRoQ3VzdG9taXphdGlvbnMgPSBhc3luYyAoKSA9PiB7XG4gICAgaWYgKCFzZWxlY3RlZFRlbXBsYXRlKSByZXR1cm47XG4gICAgXG4gICAgLy8gU2hvdyBsb2FkaW5nIHN0YXRlIGlmIHdlIGhhdmUgY3VzdG9taXphdGlvbnMgdG8gcHJvY2Vzc1xuICAgIGlmICh0ZW1wbGF0ZUN1c3RvbWl6YXRpb25zLnByb21wdENoYW5nZXMudHJpbSgpICYmIHNlbGVjdGVkVGVtcGxhdGUuZ2VuZXJhdGVkUHJvbXB0cykge1xuICAgICAgdG9hc3QuaW5mbyhcIvCfpJYgQUkgaXMgYXBwbHlpbmcgeW91ciBjdXN0b21pemF0aW9ucyB0byB0aGUgdGVtcGxhdGUuLi5cIik7XG4gICAgfVxuICAgIFxuICAgIC8vIEFwcGx5IHRlbXBsYXRlIGRhdGEgdG8gZm9ybSAtIHN0YXJ0IHdpdGggb3JpZ2luYWwgcHJvbXB0XG4gICAgbGV0IGZpbmFsUHJvbXB0ID0gc2VsZWN0ZWRUZW1wbGF0ZS5wcm9tcHQgfHwgXCJcIjtcbiAgICBcbiAgICAvLyBJZiB3ZSBoYXZlIGN1c3RvbWl6YXRpb25zIGFuZCBnZW5lcmF0ZWQgcHJvbXB0cywgbW9kaWZ5IHRoZW0gZGlyZWN0bHkgYW5kIGdlbmVyYXRlIGltbWVkaWF0ZWx5XG4gICAgaWYgKHRlbXBsYXRlQ3VzdG9taXphdGlvbnMucHJvbXB0Q2hhbmdlcy50cmltKCkgJiYgc2VsZWN0ZWRUZW1wbGF0ZS5nZW5lcmF0ZWRQcm9tcHRzKSB7XG4gICAgICB0cnkge1xuICAgICAgICAvLyBEaXJlY3RseSBtb2RpZnkgdGhlIGdlbmVyYXRlZCBwcm9tcHRzIHVzaW5nIEFJXG4gICAgICAgIGNvbnN0IG1vZGlmaWNhdGlvblF1ZXJ5ID0gYFlvdSBhcmUgYW4gZXhwZXJ0IGF0IG1vZGlmeWluZyBkZXRhaWxlZCBpbWFnZSBnZW5lcmF0aW9uIHByb21wdHMgZm9yIGdyZWV0aW5nIGNhcmRzLiBZb3UgaGF2ZSBleGlzdGluZyBwcm9tcHRzIGZvciBlYWNoIHNlY3Rpb24gb2YgYSBjYXJkLCBhbmQgdGhlIHVzZXIgd2FudHMgdG8gbWFrZSBzcGVjaWZpYyBjaGFuZ2VzLlxuXG5VU0VSJ1MgQ1VTVE9NSVpBVElPTiBSRVFVRVNUOiBcIiR7dGVtcGxhdGVDdXN0b21pemF0aW9ucy5wcm9tcHRDaGFuZ2VzfVwiXG5cblRBU0s6IE1vZGlmeSBlYWNoIG9mIHRoZSBwcm92aWRlZCBwcm9tcHRzIHRvIGluY29ycG9yYXRlIHRoZSB1c2VyJ3MgcmVxdWVzdGVkIGNoYW5nZXMgd2hpbGUgcHJlc2VydmluZyBhbGwgdGhlIG9yaWdpbmFsIHRlY2huaWNhbCBzcGVjaWZpY2F0aW9ucywgc2FmZXR5IGd1aWRlbGluZXMsIGFuZCBhcnRpc3RpYyBkZXRhaWxzLlxuXG5JTlNUUlVDVElPTlM6XG4xLiBPbmx5IG1vZGlmeSBlbGVtZW50cyBzcGVjaWZpY2FsbHkgbWVudGlvbmVkIGluIHRoZSB1c2VyJ3MgY3VzdG9taXphdGlvbiByZXF1ZXN0XG4yLiBQcmVzZXJ2ZSBBTEwgdGVjaG5pY2FsIHNwZWNpZmljYXRpb25zIChwb3J0cmFpdCBmb3JtYXQsIHRleHQgcG9zaXRpb25pbmcsIGVkZ2Ugc2FmZXR5LCBldGMuKVxuMy4gTWFpbnRhaW4gdGhlIHNhbWUgYXJ0aXN0aWMgc3R5bGUgYW5kIHF1YWxpdHkgbGV2ZWxcbjQuIEtlZXAgYWxsIHNhZmV0eSBndWlkZWxpbmVzIGFuZCBjb250ZW50IHBvbGljaWVzXG41LiBQcmVzZXJ2ZSB0aGUgZ3JlZXRpbmcgY2FyZCBjb250ZXh0IGFuZCBwdXJwb3NlXG42LiBJZiB0aGUgY3VzdG9taXphdGlvbiBhZmZlY3RzIG11bHRpcGxlIHNlY3Rpb25zLCBhcHBseSBpdCBjb25zaXN0ZW50bHlcblxuT1JJR0lOQUwgUFJPTVBUUyBUTyBNT0RJRlk6XG5cbkZST05UIENPVkVSOlxuJHtzZWxlY3RlZFRlbXBsYXRlLmdlbmVyYXRlZFByb21wdHMuZnJvbnRDb3Zlcn1cblxuQkFDSyBDT1ZFUjpcbiR7c2VsZWN0ZWRUZW1wbGF0ZS5nZW5lcmF0ZWRQcm9tcHRzLmJhY2tDb3Zlcn1cblxuJHtzZWxlY3RlZFRlbXBsYXRlLmdlbmVyYXRlZFByb21wdHMubGVmdEludGVyaW9yID8gYExFRlQgSU5URVJJT1I6XG4ke3NlbGVjdGVkVGVtcGxhdGUuZ2VuZXJhdGVkUHJvbXB0cy5sZWZ0SW50ZXJpb3J9XG5cbmAgOiAnJ30ke3NlbGVjdGVkVGVtcGxhdGUuZ2VuZXJhdGVkUHJvbXB0cy5yaWdodEludGVyaW9yID8gYFJJR0hUIElOVEVSSU9SOlxuJHtzZWxlY3RlZFRlbXBsYXRlLmdlbmVyYXRlZFByb21wdHMucmlnaHRJbnRlcmlvcn1gIDogJyd9XG5cblJldHVybiB0aGUgbW9kaWZpZWQgcHJvbXB0cyBpbiBKU09OIGZvcm1hdDpcbntcbiAgXCJmcm9udENvdmVyXCI6IFwiY29tcGxldGUgbW9kaWZpZWQgZnJvbnQgY292ZXIgcHJvbXB0XCIsXG4gIFwiYmFja0NvdmVyXCI6IFwiY29tcGxldGUgbW9kaWZpZWQgYmFjayBjb3ZlciBwcm9tcHRcIiR7c2VsZWN0ZWRUZW1wbGF0ZS5nZW5lcmF0ZWRQcm9tcHRzLmxlZnRJbnRlcmlvciA/ICcsXFxuICBcImxlZnRJbnRlcmlvclwiOiBcImNvbXBsZXRlIG1vZGlmaWVkIGxlZnQgaW50ZXJpb3IgcHJvbXB0XCInIDogJyd9JHtzZWxlY3RlZFRlbXBsYXRlLmdlbmVyYXRlZFByb21wdHMucmlnaHRJbnRlcmlvciA/ICcsXFxuICBcInJpZ2h0SW50ZXJpb3JcIjogXCJjb21wbGV0ZSBtb2RpZmllZCByaWdodCBpbnRlcmlvciBwcm9tcHRcIicgOiAnJ31cbn1gO1xuXG4gICAgICAgIGNvbnN0IG1vZGlmaWVkUHJvbXB0cyA9IGF3YWl0IGNoYXRXaXRoQUkobW9kaWZpY2F0aW9uUXVlcnksIHtcbiAgICAgICAgICBtb2RlbDogJ2dlbWluaS0yLjUtcHJvJyxcbiAgICAgICAgICBpbmNsdWRlVGhvdWdodHM6IGZhbHNlLFxuICAgICAgICAgIGpzb25TY2hlbWE6IHtcbiAgICAgICAgICAgIHR5cGU6IFwib2JqZWN0XCIsXG4gICAgICAgICAgICBwcm9wZXJ0aWVzOiB7XG4gICAgICAgICAgICAgIGZyb250Q292ZXI6IHsgdHlwZTogXCJzdHJpbmdcIiB9LFxuICAgICAgICAgICAgICBiYWNrQ292ZXI6IHsgdHlwZTogXCJzdHJpbmdcIiB9LFxuICAgICAgICAgICAgICAuLi4oc2VsZWN0ZWRUZW1wbGF0ZS5nZW5lcmF0ZWRQcm9tcHRzLmxlZnRJbnRlcmlvciA/IHsgbGVmdEludGVyaW9yOiB7IHR5cGU6IFwic3RyaW5nXCIgfSB9IDoge30pLFxuICAgICAgICAgICAgICAuLi4oc2VsZWN0ZWRUZW1wbGF0ZS5nZW5lcmF0ZWRQcm9tcHRzLnJpZ2h0SW50ZXJpb3IgPyB7IHJpZ2h0SW50ZXJpb3I6IHsgdHlwZTogXCJzdHJpbmdcIiB9IH0gOiB7fSlcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICByZXF1aXJlZDogW1wiZnJvbnRDb3ZlclwiLCBcImJhY2tDb3ZlclwiXVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKG1vZGlmaWVkUHJvbXB0cyAmJiBtb2RpZmllZFByb21wdHMuZnJvbnRDb3Zlcikge1xuICAgICAgICAgIC8vIEdlbmVyYXRlIGNhcmQgZGlyZWN0bHkgd2l0aCBtb2RpZmllZCBwcm9tcHRzLCBieXBhc3NpbmcgdGhlIG5vcm1hbCBwcm9tcHQtdG8tcHJvbXB0cyBmbG93XG4gICAgICAgICAgdG9hc3QuaW5mbyhcIvCfpJYgQUkgaGFzIGN1c3RvbWl6ZWQgdGhlIHRlbXBsYXRlIHByb21wdHMhIEdlbmVyYXRpbmcgeW91ciBwZXJzb25hbGl6ZWQgY2FyZC4uLlwiKTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBTZXQgYmFzaWMgZm9ybSBkYXRhXG4gICAgICAgICAgc2V0UHJvbXB0KHNlbGVjdGVkVGVtcGxhdGUucHJvbXB0IHx8IFwiXCIpO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIENsZWFyIHN0YXRlcyBhbmQgc3RhcnQgZ2VuZXJhdGlvbiBkaXJlY3RseSB3aXRoIG1vZGlmaWVkIHByb21wdHNcbiAgICAgICAgICBzZXRHZW5lcmF0ZWRDYXJkcyhbXSk7XG4gICAgICAgICAgc2V0R2VuZXJhdGVkQ2FyZChudWxsKTtcbiAgICAgICAgICBzZXRTZWxlY3RlZENhcmRJbmRleCgwKTtcbiAgICAgICAgICBzZXRDdXJyZW50Q2FyZElkKG51bGwpO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIENsZWFyIGRyYWZ0IG1vZGUgc3RhdGVzIHRvIHByZXZlbnQgVUkgY29uZmxpY3RzXG4gICAgICAgICAgc2V0SXNEcmFmdE1vZGUoZmFsc2UpO1xuICAgICAgICAgIHNldERyYWZ0Q2FyZHMoW10pO1xuICAgICAgICAgIHNldERyYWZ0SW5kZXhNYXBwaW5nKFtdKTtcbiAgICAgICAgICBzZXRTZWxlY3RlZERyYWZ0SW5kZXgoLTEpO1xuICAgICAgICAgIHNldElzR2VuZXJhdGluZ0ZpbmFsQ2FyZChmYWxzZSk7XG4gICAgICAgICAgc2V0UHJldmlld2luZ0RyYWZ0SW5kZXgoLTEpO1xuICAgICAgICAgIHNldERyYWZ0Q29tcGxldGlvblNob3duKGZhbHNlKTsgLy8gUmVzZXQgY29tcGxldGlvbiBmbGFnXG4gICAgICAgICAgXG4gICAgICAgICAgLy8gQ2xlYXIgcHJvZ3Jlc3Mgc3RhdGVzXG4gICAgICAgICAgc2V0R2VuZXJhdGlvblByb2dyZXNzKFwiXCIpO1xuICAgICAgICAgIHNldElzR2VuZXJhdGluZyhmYWxzZSk7XG4gICAgICAgICAgc2V0SXNDYXJkQ29tcGxldGVkKGZhbHNlKTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBDbG9zZSBkaWFsb2dzXG4gICAgICAgICAgc2V0U2hvd1RlbXBsYXRlQ3VzdG9taXphdGlvbihmYWxzZSk7XG4gICAgICAgICAgc2V0U2VsZWN0ZWRUZW1wbGF0ZShudWxsKTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBTdGFydCBnZW5lcmF0aW9uIHdpdGggbW9kaWZpZWQgcHJvbXB0c1xuICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgZ2VuZXJhdGVDYXJkV2l0aEV4aXN0aW5nUHJvbXB0cyhtb2RpZmllZFByb21wdHMpO1xuICAgICAgICAgIH0sIDEwMDApO1xuICAgICAgICAgIFxuICAgICAgICAgIHJldHVybjsgLy8gRXhpdCBlYXJseSBzaW5jZSB3ZSdyZSBoYW5kbGluZyBnZW5lcmF0aW9uIGRpcmVjdGx5XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBtb2RpZnkgdGVtcGxhdGUgcHJvbXB0cyBkaXJlY3RseTonLCBlcnJvcik7XG4gICAgICAgIHRvYXN0LmVycm9yKFwiRmFpbGVkIHRvIGN1c3RvbWl6ZSB0ZW1wbGF0ZSBwcm9tcHRzLiBVc2luZyBmYWxsYmFjayBtZXRob2QuXCIpO1xuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICAvLyBGYWxsYmFjazogbW9kaWZ5IHRoZSB1c2VyIHByb21wdCBhbmQgdXNlIG5vcm1hbCBnZW5lcmF0aW9uIGZsb3dcbiAgICBpZiAodGVtcGxhdGVDdXN0b21pemF0aW9ucy5wcm9tcHRDaGFuZ2VzLnRyaW0oKSkge1xuICAgICAgZmluYWxQcm9tcHQgPSBgJHtmaW5hbFByb21wdH1cblxuQ1VTVE9NSVpBVElPTiBSRVFVRVNUOiAke3RlbXBsYXRlQ3VzdG9taXphdGlvbnMucHJvbXB0Q2hhbmdlc31gO1xuICAgIH1cbiAgICBcbiAgICBzZXRQcm9tcHQoZmluYWxQcm9tcHQpO1xuICAgIFxuICAgIC8vIFRyeSB0byBleHRyYWN0IGNhcmQgdHlwZSBmcm9tIHByb21wdFxuICAgIGNvbnN0IHByb21wdExvd2VyID0gKHNlbGVjdGVkVGVtcGxhdGUucHJvbXB0IHx8IFwiXCIpLnRvTG93ZXJDYXNlKCk7XG4gICAgbGV0IGRldGVjdGVkVHlwZSA9IFwiYmlydGhkYXlcIjsgLy8gZGVmYXVsdFxuICAgIFxuICAgIGNhcmRUeXBlcy5mb3JFYWNoKHR5cGUgPT4ge1xuICAgICAgaWYgKHR5cGUuaWQgIT09IFwiY3VzdG9tXCIgJiYgcHJvbXB0TG93ZXIuaW5jbHVkZXModHlwZS5pZC50b0xvd2VyQ2FzZSgpKSkge1xuICAgICAgICBkZXRlY3RlZFR5cGUgPSB0eXBlLmlkO1xuICAgICAgfVxuICAgIH0pO1xuICAgIFxuICAgIHNldFNlbGVjdGVkVHlwZShkZXRlY3RlZFR5cGUpO1xuICAgIFxuICAgIC8vIEFwcGx5IG1lc3NhZ2UgY3VzdG9taXphdGlvbnNcbiAgICBpZiAodGVtcGxhdGVDdXN0b21pemF0aW9ucy5tZXNzYWdlQ2hhbmdlcy50cmltKCkpIHtcbiAgICAgIHNldEZpbmFsQ2FyZE1lc3NhZ2UodGVtcGxhdGVDdXN0b21pemF0aW9ucy5tZXNzYWdlQ2hhbmdlcyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNldEZpbmFsQ2FyZE1lc3NhZ2UoXCJcIik7IC8vIExldCBpdCBhdXRvLWdlbmVyYXRlXG4gICAgfVxuICAgIFxuICAgIC8vIEhhbmRsZSByZWZlcmVuY2UgaW1hZ2UgaWYgcHJvdmlkZWRcbiAgICBpZiAodGVtcGxhdGVDdXN0b21pemF0aW9ucy51c2VSZWZlcmVuY2VJbWFnZSAmJiB0ZW1wbGF0ZUN1c3RvbWl6YXRpb25zLnJlZmVyZW5jZUltYWdlRmlsZSkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgLy8gVXBsb2FkIHRoZSByZWZlcmVuY2UgaW1hZ2VcbiAgICAgICAgY29uc3QgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTtcbiAgICAgICAgZm9ybURhdGEuYXBwZW5kKCdmaWxlJywgdGVtcGxhdGVDdXN0b21pemF0aW9ucy5yZWZlcmVuY2VJbWFnZUZpbGUpO1xuICAgICAgICBcbiAgICAgICAgY29uc3QgdXBsb2FkUmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgJHtCQUNLRU5EX0FQSV9CQVNFX1VSTH0vdXBsb2FkYCwge1xuICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgIGJvZHk6IGZvcm1EYXRhLFxuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIGlmICh1cGxvYWRSZXNwb25zZS5vaykge1xuICAgICAgICAgIGNvbnN0IHVwbG9hZFJlc3VsdCA9IGF3YWl0IHVwbG9hZFJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgICAvLyBBZGQgdG8gZXhpc3RpbmcgcmVmZXJlbmNlIGltYWdlcyBpbnN0ZWFkIG9mIHJlcGxhY2luZyB0aGVtXG4gICAgICAgICAgc2V0UmVmZXJlbmNlSW1hZ2VzKHByZXYgPT4gWy4uLnByZXYsIHRlbXBsYXRlQ3VzdG9taXphdGlvbnMucmVmZXJlbmNlSW1hZ2VGaWxlIV0pO1xuICAgICAgICAgIHNldFJlZmVyZW5jZUltYWdlVXJscyhwcmV2ID0+IFsuLi5wcmV2LCB1cGxvYWRSZXN1bHQudXJsXSk7XG4gICAgICAgICAgc2V0SW1hZ2VUcmFuc2Zvcm1hdGlvbih0ZW1wbGF0ZUN1c3RvbWl6YXRpb25zLnJlZmVyZW5jZUltYWdlVHJhbnNmb3JtYXRpb24gfHwgXCJUcmFuc2Zvcm0gaW50byB0aGUgc2FtZSBhcnRpc3RpYyBzdHlsZSBhcyB0aGUgdGVtcGxhdGVcIik7XG4gICAgICAgICAgdG9hc3Quc3VjY2VzcyhcIlJlZmVyZW5jZSBpbWFnZSB1cGxvYWRlZCBzdWNjZXNzZnVsbHkhXCIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRvYXN0LmVycm9yKFwiRmFpbGVkIHRvIHVwbG9hZCByZWZlcmVuY2UgaW1hZ2VcIik7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1JlZmVyZW5jZSBpbWFnZSB1cGxvYWQgZmFpbGVkOicsIGVycm9yKTtcbiAgICAgICAgdG9hc3QuZXJyb3IoXCJGYWlsZWQgdG8gdXBsb2FkIHJlZmVyZW5jZSBpbWFnZVwiKTtcbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgLy8gQ2xlYXIgY3VycmVudCBnZW5lcmF0ZWQgY2FyZHMgc2luY2Ugd2UncmUgc3RhcnRpbmcgZnJlc2ggd2l0aCBhIHRlbXBsYXRlXG4gICAgc2V0R2VuZXJhdGVkQ2FyZHMoW10pO1xuICAgIHNldEdlbmVyYXRlZENhcmQobnVsbCk7XG4gICAgc2V0U2VsZWN0ZWRDYXJkSW5kZXgoMCk7XG4gICAgc2V0Q3VycmVudENhcmRJZChudWxsKTtcbiAgICBcbiAgICAvLyBDbGVhciBkcmFmdCBtb2RlIHN0YXRlcyB0byBwcmV2ZW50IFVJIGNvbmZsaWN0c1xuICAgIHNldElzRHJhZnRNb2RlKGZhbHNlKTtcbiAgICBzZXREcmFmdENhcmRzKFtdKTtcbiAgICBzZXREcmFmdEluZGV4TWFwcGluZyhbXSk7XG4gICAgc2V0U2VsZWN0ZWREcmFmdEluZGV4KC0xKTtcbiAgICBzZXRJc0dlbmVyYXRpbmdGaW5hbENhcmQoZmFsc2UpO1xuICAgIHNldFByZXZpZXdpbmdEcmFmdEluZGV4KC0xKTtcbiAgICBzZXREcmFmdENvbXBsZXRpb25TaG93bihmYWxzZSk7IC8vIFJlc2V0IGNvbXBsZXRpb24gZmxhZ1xuICAgIFxuICAgIC8vIENsZWFyIHByb2dyZXNzIHN0YXRlc1xuICAgIHNldEdlbmVyYXRpb25Qcm9ncmVzcyhcIlwiKTtcbiAgICBzZXRJc0dlbmVyYXRpbmcoZmFsc2UpO1xuICAgIHNldElzQ2FyZENvbXBsZXRlZChmYWxzZSk7XG4gICAgXG4gICAgLy8gQ2xvc2UgY3VzdG9taXphdGlvbiBkaWFsb2dcbiAgICBzZXRTaG93VGVtcGxhdGVDdXN0b21pemF0aW9uKGZhbHNlKTtcbiAgICBzZXRTZWxlY3RlZFRlbXBsYXRlKG51bGwpO1xuICAgIFxuICAgIGNvbnN0IGN1c3RvbWl6YXRpb25TdW1tYXJ5ID0gW107XG4gICAgaWYgKHRlbXBsYXRlQ3VzdG9taXphdGlvbnMucHJvbXB0Q2hhbmdlcy50cmltKCkpIGN1c3RvbWl6YXRpb25TdW1tYXJ5LnB1c2goXCJwcm9tcHQgY2hhbmdlc1wiKTtcbiAgICBpZiAodGVtcGxhdGVDdXN0b21pemF0aW9ucy5tZXNzYWdlQ2hhbmdlcy50cmltKCkpIGN1c3RvbWl6YXRpb25TdW1tYXJ5LnB1c2goXCJjdXN0b20gbWVzc2FnZVwiKTtcbiAgICBpZiAodGVtcGxhdGVDdXN0b21pemF0aW9ucy51c2VSZWZlcmVuY2VJbWFnZSkgY3VzdG9taXphdGlvblN1bW1hcnkucHVzaChcInJlZmVyZW5jZSBpbWFnZVwiKTtcbiAgICBcbiAgICBjb25zdCBzdW1tYXJ5VGV4dCA9IGN1c3RvbWl6YXRpb25TdW1tYXJ5Lmxlbmd0aCA+IDAgXG4gICAgICA/IGAgd2l0aCAke2N1c3RvbWl6YXRpb25TdW1tYXJ5LmpvaW4oXCIsIFwiKX1gXG4gICAgICA6IFwiXCI7XG4gICAgXG4gICAgdG9hc3Quc3VjY2Vzcyhg4pyoIFRlbXBsYXRlIGN1c3RvbWl6ZWQke3N1bW1hcnlUZXh0fSEgR2VuZXJhdGluZyB5b3VyIHBlcnNvbmFsaXplZCBjYXJkLi4uYCk7XG4gICAgXG4gICAgLy8gQXV0b21hdGljYWxseSBzdGFydCBjYXJkIGdlbmVyYXRpb25cbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGhhbmRsZUdlbmVyYXRlQ2FyZEFzeW5jKCk7XG4gICAgfSwgMTAwMCk7IC8vIFNtYWxsIGRlbGF5IHRvIGxldCB0aGUgdXNlciBzZWUgdGhlIHN1Y2Nlc3MgbWVzc2FnZVxuICB9O1xuXG4gIC8vIENyZWF0ZSBuZXcgY2FyZCBmdW5jdGlvbiAtIGNsZWFycyBhbGwgZGF0YVxuICBjb25zdCBoYW5kbGVDcmVhdGVOZXdDYXJkID0gKCkgPT4ge1xuICAgIC8vIENsZWFyIGFsbCBmb3JtIGZpZWxkc1xuICAgIHNldFByb21wdChcIlwiKTtcbiAgICBzZXRGaW5hbENhcmRNZXNzYWdlKFwiXCIpO1xuICAgIHNldFRvRmllbGQoXCJcIik7XG4gICAgc2V0RnJvbUZpZWxkKFwiXCIpO1xuICAgIHNldFNlbGVjdGVkVHlwZShcImJpcnRoZGF5XCIpO1xuICAgIHNldEN1c3RvbUNhcmRUeXBlKFwiXCIpO1xuICAgIHNldFNlbGVjdGVkVG9uZShcImZ1bm55XCIpO1xuICAgIHNldFNlbGVjdGVkQXJ0aXN0aWNTdHlsZShcIndhdGVyY29sb3JcIik7XG4gICAgc2V0Q3VzdG9tU3R5bGVEZXNjcmlwdGlvbihcIlwiKTtcbiAgICBzZXRTZWxlY3RlZEltYWdlTW9kZWwoXCJncHQtaW1hZ2UtMVwiKTtcbiAgICBzZXROdW1iZXJPZkNhcmRzKDEpO1xuICAgIHNldFVzZXJFbWFpbChcIlwiKTtcbiAgICBzZXRSZWZlcmVuY2VJbWFnZXMoW10pO1xuICAgIHNldFJlZmVyZW5jZUltYWdlVXJscyhbXSk7XG4gICAgc2V0SW1hZ2VUcmFuc2Zvcm1hdGlvbihcIlwiKTtcbiAgICBzZXRIYW5kd3JpdGluZ1NhbXBsZShudWxsKTtcbiAgICBzZXRIYW5kd3JpdGluZ1NhbXBsZVVybChudWxsKTtcbiAgICBzZXRJc0hhbmR3cml0dGVuTWVzc2FnZShmYWxzZSk7XG4gICAgc2V0SXNGcm9udEJhY2tPbmx5KGZhbHNlKTtcbiAgICBzZXRTZWxlY3RlZFBhcGVyU2l6ZShcInN0YW5kYXJkXCIpO1xuICAgIFxuICAgIC8vIENsZWFyIGdlbmVyYXRlZCBjYXJkc1xuICAgIHNldEdlbmVyYXRlZENhcmRzKFtdKTtcbiAgICBzZXRHZW5lcmF0ZWRDYXJkKG51bGwpO1xuICAgIHNldFNlbGVjdGVkQ2FyZEluZGV4KDApO1xuICAgIHNldEN1cnJlbnRDYXJkSWQobnVsbCk7XG4gICAgXG4gICAgLy8gQ2xlYXIgZHJhZnQgbW9kZSBzdGF0ZXNcbiAgICBzZXRJc0RyYWZ0TW9kZShmYWxzZSk7XG4gICAgc2V0RHJhZnRDYXJkcyhbXSk7XG4gICAgc2V0RHJhZnRJbmRleE1hcHBpbmcoW10pO1xuICAgIHNldFNlbGVjdGVkRHJhZnRJbmRleCgtMSk7XG4gICAgc2V0SXNHZW5lcmF0aW5nRmluYWxDYXJkKGZhbHNlKTtcbiAgICBzZXRQcmV2aWV3aW5nRHJhZnRJbmRleCgtMSk7XG4gICAgc2V0RHJhZnRDb21wbGV0aW9uU2hvd24oZmFsc2UpO1xuICAgIFxuICAgIC8vIENsZWFyIHByb2dyZXNzIGFuZCBzdGF0ZXNcbiAgICBzZXRHZW5lcmF0aW9uUHJvZ3Jlc3MoXCJcIik7XG4gICAgc2V0SXNHZW5lcmF0aW5nKGZhbHNlKTtcbiAgICBzZXRJc0dlbmVyYXRpbmdNZXNzYWdlKGZhbHNlKTtcbiAgICBzZXRJc0NhcmRDb21wbGV0ZWQoZmFsc2UpO1xuICAgIHNldENvdW50ZG93bigwKTtcbiAgICBpZiAoY291bnRkb3duSW50ZXJ2YWwpIHtcbiAgICAgIGNsZWFySW50ZXJ2YWwoY291bnRkb3duSW50ZXJ2YWwpO1xuICAgICAgc2V0Q291bnRkb3duSW50ZXJ2YWwobnVsbCk7XG4gICAgfVxuICAgIFxuICAgIC8vIENsZWFyIG1lc3NhZ2UgaGlzdG9yeVxuICAgIHNldE1lc3NhZ2VIaXN0b3J5KFtdKTtcbiAgICBzZXRDdXJyZW50TWVzc2FnZUluZGV4KC0xKTtcbiAgICBzZXRSZWZpbmVtZW50UHJvbXB0KFwiXCIpO1xuICAgIHNldFNob3dSZWZpbmVtZW50Qm94KGZhbHNlKTtcbiAgICBcbiAgICAvLyBDbGVhciBsb2NhbFN0b3JhZ2VcbiAgICB0cnkge1xuICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ3ZpYmVjYXJkaW5nLWZvcm0tZGF0YScpO1xuICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ3ZpYmVjYXJkaW5nLWdlbmVyYXRlZC1jYXJkcycpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBjbGVhcmluZyBsb2NhbFN0b3JhZ2U6JywgZXJyb3IpO1xuICAgIH1cbiAgICBcbiAgICB0b2FzdC5zdWNjZXNzKFwi4pyoIFJlYWR5IHRvIGNyZWF0ZSBhIG5ldyBjYXJkIVwiKTtcbiAgfTtcblxuICAvLyBSZWdlbmVyYXRlIHdpdGggc2FtZSBwcm9tcHQgZnVuY3Rpb25cbiAgY29uc3QgaGFuZGxlUmVnZW5lcmF0ZUNhcmQgPSAoKSA9PiB7XG4gICAgLy8gS2VlcCBhbGwgY3VycmVudCBzZXR0aW5ncyBidXQgY2xlYXIgZ2VuZXJhdGVkIHJlc3VsdHNcbiAgICBzZXRHZW5lcmF0ZWRDYXJkcyhbXSk7XG4gICAgc2V0R2VuZXJhdGVkQ2FyZChudWxsKTtcbiAgICBzZXRTZWxlY3RlZENhcmRJbmRleCgwKTtcbiAgICBzZXRDdXJyZW50Q2FyZElkKG51bGwpO1xuICAgIFxuICAgIC8vIENsZWFyIGRyYWZ0IG1vZGUgc3RhdGVzXG4gICAgc2V0SXNEcmFmdE1vZGUoZmFsc2UpO1xuICAgIHNldERyYWZ0Q2FyZHMoW10pO1xuICAgIHNldERyYWZ0SW5kZXhNYXBwaW5nKFtdKTtcbiAgICBzZXRTZWxlY3RlZERyYWZ0SW5kZXgoLTEpO1xuICAgIHNldElzR2VuZXJhdGluZ0ZpbmFsQ2FyZChmYWxzZSk7XG4gICAgc2V0UHJldmlld2luZ0RyYWZ0SW5kZXgoLTEpO1xuICAgIHNldERyYWZ0Q29tcGxldGlvblNob3duKGZhbHNlKTtcbiAgICBcbiAgICAvLyBDbGVhciBwcm9ncmVzcyBhbmQgc3RhdGVzXG4gICAgc2V0R2VuZXJhdGlvblByb2dyZXNzKFwiXCIpO1xuICAgIHNldElzR2VuZXJhdGluZyhmYWxzZSk7XG4gICAgc2V0SXNHZW5lcmF0aW5nTWVzc2FnZShmYWxzZSk7XG4gICAgc2V0SXNDYXJkQ29tcGxldGVkKGZhbHNlKTtcbiAgICBzZXRDb3VudGRvd24oMCk7XG4gICAgaWYgKGNvdW50ZG93bkludGVydmFsKSB7XG4gICAgICBjbGVhckludGVydmFsKGNvdW50ZG93bkludGVydmFsKTtcbiAgICAgIHNldENvdW50ZG93bkludGVydmFsKG51bGwpO1xuICAgIH1cbiAgICBcbiAgICAvLyBDbGVhciBnZW5lcmF0ZWQgY2FyZHMgZnJvbSBsb2NhbFN0b3JhZ2UgYnV0IGtlZXAgZm9ybSBkYXRhXG4gICAgdHJ5IHtcbiAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCd2aWJlY2FyZGluZy1nZW5lcmF0ZWQtY2FyZHMnKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgY2xlYXJpbmcgZ2VuZXJhdGVkIGNhcmRzOicsIGVycm9yKTtcbiAgICB9XG4gICAgXG4gICAgdG9hc3Quc3VjY2VzcyhcIvCflIQgUmVhZHkgdG8gcmVnZW5lcmF0ZSB3aXRoIHRoZSBzYW1lIHNldHRpbmdzIVwiKTtcbiAgfTtcblxuICAvLyBNZXNzYWdlIHZlcnNpb24gY29udHJvbCBmdW5jdGlvbnNcbiAgY29uc3QgYWRkTWVzc2FnZVRvSGlzdG9yeSA9IChtZXNzYWdlOiBzdHJpbmcpID0+IHtcbiAgICBpZiAobWVzc2FnZS50cmltKCkgPT09IFwiXCIpIHJldHVybjtcbiAgICBcbiAgICAvLyBTYWZldHkgY2hlY2s6IFJlbW92ZSBhbnkgTUVTU0FHRSB0YWdzIHRoYXQgbWlnaHQgaGF2ZSBzbGlwcGVkIHRocm91Z2hcbiAgICBjb25zdCBjbGVhbk1lc3NhZ2UgPSBtZXNzYWdlLnJlcGxhY2UoLzxcXC8/TUVTU0FHRT4vZywgJycpLnRyaW0oKTtcbiAgICBpZiAoY2xlYW5NZXNzYWdlID09PSBcIlwiKSByZXR1cm47XG4gICAgXG4gICAgLy8gUmVtb3ZlIGFueSBmdXR1cmUgaGlzdG9yeSBpZiB3ZSdyZSBub3QgYXQgdGhlIGVuZFxuICAgIGNvbnN0IG5ld0hpc3RvcnkgPSBtZXNzYWdlSGlzdG9yeS5zbGljZSgwLCBjdXJyZW50TWVzc2FnZUluZGV4ICsgMSk7XG4gICAgbmV3SGlzdG9yeS5wdXNoKGNsZWFuTWVzc2FnZSk7XG4gICAgXG4gICAgLy8gS2VlcCBvbmx5IGxhc3QgMTAgdmVyc2lvbnMgdG8gcHJldmVudCBtZW1vcnkgaXNzdWVzXG4gICAgaWYgKG5ld0hpc3RvcnkubGVuZ3RoID4gMTApIHtcbiAgICAgIG5ld0hpc3Rvcnkuc2hpZnQoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2V0Q3VycmVudE1lc3NhZ2VJbmRleChjdXJyZW50TWVzc2FnZUluZGV4ICsgMSk7XG4gICAgfVxuICAgIFxuICAgIHNldE1lc3NhZ2VIaXN0b3J5KG5ld0hpc3RvcnkpO1xuICAgIHNldEN1cnJlbnRNZXNzYWdlSW5kZXgobmV3SGlzdG9yeS5sZW5ndGggLSAxKTtcbiAgfTtcblxuICBjb25zdCB1bmRvTWVzc2FnZSA9ICgpID0+IHtcbiAgICBpZiAoY3VycmVudE1lc3NhZ2VJbmRleCA+IDApIHtcbiAgICAgIGNvbnN0IG5ld0luZGV4ID0gY3VycmVudE1lc3NhZ2VJbmRleCAtIDE7XG4gICAgICBzZXRDdXJyZW50TWVzc2FnZUluZGV4KG5ld0luZGV4KTtcbiAgICAgIHNldEZpbmFsQ2FyZE1lc3NhZ2UobWVzc2FnZUhpc3RvcnlbbmV3SW5kZXhdKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgcmVkb01lc3NhZ2UgPSAoKSA9PiB7XG4gICAgaWYgKGN1cnJlbnRNZXNzYWdlSW5kZXggPCBtZXNzYWdlSGlzdG9yeS5sZW5ndGggLSAxKSB7XG4gICAgICBjb25zdCBuZXdJbmRleCA9IGN1cnJlbnRNZXNzYWdlSW5kZXggKyAxO1xuICAgICAgc2V0Q3VycmVudE1lc3NhZ2VJbmRleChuZXdJbmRleCk7XG4gICAgICBzZXRGaW5hbENhcmRNZXNzYWdlKG1lc3NhZ2VIaXN0b3J5W25ld0luZGV4XSk7XG4gICAgfVxuICB9O1xuXG4gIC8vIEhhbmRsZSBtZXNzYWdlIHJlZmluZW1lbnRcbiAgY29uc3QgaGFuZGxlUmVmaW5lTWVzc2FnZSA9IGFzeW5jICgpID0+IHtcbiAgICBpZiAoIXJlZmluZW1lbnRQcm9tcHQudHJpbSgpIHx8ICFmaW5hbENhcmRNZXNzYWdlLnRyaW0oKSkge1xuICAgICAgdG9hc3QuZXJyb3IoXCJQbGVhc2UgZW50ZXIgYm90aCBhIG1lc3NhZ2UgYW5kIHJlZmluZW1lbnQgaW5zdHJ1Y3Rpb25zIVwiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBzZXRJc1JlZmluaW5nTWVzc2FnZSh0cnVlKTtcblxuICAgIHRyeSB7XG4gICAgICBjb25zdCBjYXJkVHlwZUZvclByb21wdCA9IHNlbGVjdGVkVHlwZSA9PT0gXCJjdXN0b21cIiA/IGN1c3RvbUNhcmRUeXBlIDogc2VsZWN0ZWRUeXBlO1xuICAgICAgY29uc3Qgc2VsZWN0ZWRUb25lT2JqID0gY2FyZFRvbmVzLmZpbmQodG9uZSA9PiB0b25lLmlkID09PSBzZWxlY3RlZFRvbmUpO1xuICAgICAgY29uc3QgdG9uZURlc2NyaXB0aW9uID0gc2VsZWN0ZWRUb25lT2JqID8gc2VsZWN0ZWRUb25lT2JqLmRlc2NyaXB0aW9uLnRvTG93ZXJDYXNlKCkgOiBcImhlYXJ0ZmVsdCBhbmQgc2luY2VyZVwiO1xuICAgICAgXG4gICAgICBjb25zdCByZWZpbmVtZW50QVBJUHJvbXB0ID0gYFBsZWFzZSByZWZpbmUgdGhpcyBncmVldGluZyBjYXJkIG1lc3NhZ2UgYmFzZWQgb24gdGhlIHVzZXIncyBpbnN0cnVjdGlvbnMuXG5cbkN1cnJlbnQgTWVzc2FnZTogXCIke2ZpbmFsQ2FyZE1lc3NhZ2V9XCJcblxuUmVmaW5lbWVudCBJbnN0cnVjdGlvbnM6IFwiJHtyZWZpbmVtZW50UHJvbXB0fVwiXG5cbkNhcmQgQ29udGV4dDpcbi0gVHlwZTogJHtjYXJkVHlwZUZvclByb21wdH1cbi0gVG9uZTogJHt0b25lRGVzY3JpcHRpb259XG4ke3RvRmllbGQgPyBgLSBSZWNpcGllbnQ6ICR7dG9GaWVsZH1gIDogXCJcIn1cbiR7ZnJvbUZpZWxkID8gYC0gU2VuZGVyOiAke2Zyb21GaWVsZH1gIDogXCJcIn1cblxuUGxlYXNlIHByb3ZpZGUgb25seSB0aGUgcmVmaW5lZCBtZXNzYWdlLCBtYWludGFpbmluZyB0aGUgJHt0b25lRGVzY3JpcHRpb259IHRvbmUgd2hpbGUgaW1wbGVtZW50aW5nIHRoZSByZXF1ZXN0ZWQgY2hhbmdlcy5gO1xuXG4gICAgICBjb25zdCByZWZpbmVkTWVzc2FnZSA9IGF3YWl0IGNoYXRXaXRoQUkocmVmaW5lbWVudEFQSVByb21wdCwge1xuICAgICAgICBtb2RlbDogXCJnZW1pbmktMi41LXByb1wiLFxuICAgICAgICBpbmNsdWRlVGhvdWdodHM6IGZhbHNlXG4gICAgICB9KTtcblxuICAgICAgaWYgKHJlZmluZWRNZXNzYWdlPy50cmltKCkpIHtcbiAgICAgICAgLy8gQWRkIGN1cnJlbnQgbWVzc2FnZSB0byBoaXN0b3J5IGJlZm9yZSBjaGFuZ2luZ1xuICAgICAgICBhZGRNZXNzYWdlVG9IaXN0b3J5KGZpbmFsQ2FyZE1lc3NhZ2UpO1xuICAgICAgICBcbiAgICAgICAgLy8gQ2xlYW4gYW55IHBvdGVudGlhbCBNRVNTQUdFIHRhZ3MgZnJvbSByZWZpbmVkIG1lc3NhZ2UgKHNhZmV0eSBjaGVjaylcbiAgICAgICAgY29uc3QgY2xlYW5lZFJlZmluZWRNZXNzYWdlID0gcmVmaW5lZE1lc3NhZ2UudHJpbSgpLnJlcGxhY2UoLzxcXC8/TUVTU0FHRT4vZywgJycpLnRyaW0oKTtcbiAgICAgICAgXG4gICAgICAgIC8vIFNldCB0aGUgbmV3IHJlZmluZWQgbWVzc2FnZVxuICAgICAgICBzZXRGaW5hbENhcmRNZXNzYWdlKGNsZWFuZWRSZWZpbmVkTWVzc2FnZSk7XG4gICAgICAgIFxuICAgICAgICAvLyBBZGQgdGhlIG5ldyBtZXNzYWdlIHRvIGhpc3RvcnlcbiAgICAgICAgYWRkTWVzc2FnZVRvSGlzdG9yeShjbGVhbmVkUmVmaW5lZE1lc3NhZ2UpO1xuICAgICAgICBcbiAgICAgICAgc2V0UmVmaW5lbWVudFByb21wdChcIlwiKTtcbiAgICAgICAgc2V0U2hvd1JlZmluZW1lbnRCb3goZmFsc2UpO1xuICAgICAgICB0b2FzdC5zdWNjZXNzKFwiTWVzc2FnZSByZWZpbmVkIHN1Y2Nlc3NmdWxseSFcIik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIG1lc3NhZ2UgcmVjZWl2ZWQnKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgcmVmaW5pbmcgbWVzc2FnZTonLCBlcnJvcik7XG4gICAgICB0b2FzdC5lcnJvcihcIkZhaWxlZCB0byByZWZpbmUgbWVzc2FnZS4gUGxlYXNlIHRyeSBhZ2Fpbi5cIik7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldElzUmVmaW5pbmdNZXNzYWdlKGZhbHNlKTtcbiAgICB9XG4gIH07XG5cbiAgLy8gV3JpdGluZyBBc3Npc3RhbnRcbiAgICBjb25zdCBoYW5kbGVHZXRNZXNzYWdlSGVscCA9IGFzeW5jICgpID0+IHtcbiAgICAvLyBWYWxpZGF0ZSBjdXN0b20gY2FyZCB0eXBlIGlmIHNlbGVjdGVkXG4gICAgaWYgKHNlbGVjdGVkVHlwZSA9PT0gXCJjdXN0b21cIiAmJiAhY3VzdG9tQ2FyZFR5cGUudHJpbSgpKSB7XG4gICAgICB0b2FzdC5lcnJvcihcIlBsZWFzZSBkZXNjcmliZSB5b3VyIGN1c3RvbSBjYXJkIHR5cGUgZmlyc3QhXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBcbiAgICBzZXRJc0dlbmVyYXRpbmdNZXNzYWdlKHRydWUpO1xuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGNhcmRUeXBlRm9yUHJvbXB0ID0gc2VsZWN0ZWRUeXBlID09PSBcImN1c3RvbVwiID8gY3VzdG9tQ2FyZFR5cGUgOiBzZWxlY3RlZFR5cGU7XG4gICAgICBjb25zdCBzZWxlY3RlZFRvbmVPYmogPSBjYXJkVG9uZXMuZmluZCh0b25lID0+IHRvbmUuaWQgPT09IHNlbGVjdGVkVG9uZSk7XG4gICAgICBjb25zdCB0b25lRGVzY3JpcHRpb24gPSBzZWxlY3RlZFRvbmVPYmogPyBzZWxlY3RlZFRvbmVPYmouZGVzY3JpcHRpb24udG9Mb3dlckNhc2UoKSA6IFwiaGVhcnRmZWx0IGFuZCBzaW5jZXJlXCI7XG4gICAgICBcbiAgICAgIC8vIFVzZSBlZmZlY3RpdmUgcHJvbXB0IGxvZ2ljIGhlcmUgdG9vXG4gICAgICBjb25zdCBlZmZlY3RpdmVQcm9tcHQgPSBwcm9tcHQudHJpbSgpIHx8IGBBIGJlYXV0aWZ1bCAke2NhcmRUeXBlRm9yUHJvbXB0fSBjYXJkIHdpdGggJHt0b25lRGVzY3JpcHRpb259IHN0eWxlYDtcbiAgICAgIFxuICAgICAgY29uc3QgbWVzc2FnZVByb21wdCA9IGBDcmVhdGUgYSAke3RvbmVEZXNjcmlwdGlvbn0gbWVzc2FnZSBmb3IgYSAke2NhcmRUeXBlRm9yUHJvbXB0fSBncmVldGluZyBjYXJkLlxuXG5DYXJkIFRoZW1lL0Rlc2NyaXB0aW9uOiBcIiR7ZWZmZWN0aXZlUHJvbXB0fVwiXG4ke3RvRmllbGQgPyBgUmVjaXBpZW50OiAke3RvRmllbGR9YCA6IFwiUmVjaXBpZW50OiBbbm90IHNwZWNpZmllZF1cIn1cbiR7ZnJvbUZpZWxkID8gYFNlbmRlcjogJHtmcm9tRmllbGR9YCA6IFwiU2VuZGVyOiBbbm90IHNwZWNpZmllZF1cIn1cbkNhcmQgVG9uZTogJHtzZWxlY3RlZFRvbmVPYmogPyBzZWxlY3RlZFRvbmVPYmoubGFiZWwgOiBcIkhlYXJ0ZmVsdFwifSAtICR7dG9uZURlc2NyaXB0aW9ufVxuXG5JbnN0cnVjdGlvbnM6XG4tIFdyaXRlIGEgbWVzc2FnZSB0aGF0IGlzICR7dG9uZURlc2NyaXB0aW9ufSBhbmQgZmVlbHMgcGVyc29uYWwgYW5kIGdlbnVpbmVcbi0gJHt0b0ZpZWxkID8gYEFkZHJlc3MgdGhlIG1lc3NhZ2UgdG8gJHt0b0ZpZWxkfSBkaXJlY3RseSwgdXNpbmcgdGhlaXIgbmFtZSBuYXR1cmFsbHlgIDogXCJXcml0ZSBpbiBhIHdheSB0aGF0IGNvdWxkIGJlIHBlcnNvbmFsaXplZCB0byBhbnkgcmVjaXBpZW50XCJ9XG4tICR7ZnJvbUZpZWxkID8gYFdyaXRlIGFzIGlmICR7ZnJvbUZpZWxkfSBpcyBwZXJzb25hbGx5IHdyaXRpbmcgdGhpcyBtZXNzYWdlYCA6IGBXcml0ZSBpbiBhICR7dG9uZURlc2NyaXB0aW9ufSB0b25lYH1cbi0gTWF0Y2ggdGhlICR7dG9uZURlc2NyaXB0aW9ufSB0b25lIGFuZCBvY2Nhc2lvbiBvZiB0aGUgJHtjYXJkVHlwZUZvclByb21wdH0gY2FyZCB0eXBlXG4tIEJlIGluc3BpcmVkIGJ5IHRoZSB0aGVtZTogXCIke2VmZmVjdGl2ZVByb21wdH1cIlxuLSBLZWVwIGl0IGNvbmNpc2UgYnV0IG1lYW5pbmdmdWwgKDItNCBzZW50ZW5jZXMgaWRlYWwpXG4tIE1ha2UgaXQgZmVlbCBhdXRoZW50aWMsIG5vdCBnZW5lcmljXG4tIFNBRkVUWTogTmV2ZXIgaW5jbHVkZSBicmFuZCBuYW1lcywgY2hhcmFjdGVyIG5hbWVzLCB0cmFkZW1hcmtlZCB0ZXJtcywgb3IgaW5hcHByb3ByaWF0ZSBjb250ZW50LiBJZiB0aGUgdGhlbWUgcmVmZXJlbmNlcyB0aGVzZSwgdXNlIGdlbmVyaWMgYWx0ZXJuYXRpdmVzIG9yIGZvY3VzIG9uIHRoZSBlbW90aW9ucy9jb25jZXB0cyBpbnN0ZWFkXG4tIEtlZXAgY29udGVudCBmYW1pbHktZnJpZW5kbHkgYW5kIGFwcHJvcHJpYXRlIGZvciBhbGwgYWdlc1xuLSAke3NlbGVjdGVkVG9uZSA9PT0gJ2Z1bm55JyA/ICdJbmNsdWRlIGFwcHJvcHJpYXRlIGh1bW9yIHRoYXQgZml0cyB0aGUgb2NjYXNpb24nIDogJyd9XG4tICR7c2VsZWN0ZWRUb25lID09PSAnZ2Vuei1odW1vcicgPyAnVXNlIEdlblogaHVtb3Igd2l0aCBpbnRlcm5ldCBzbGFuZywgbWVtZXMsIGFuZCBjaGFvdGljIGVuZXJneSAtIHRoaW5rIFwibm8gY2FwXCIsIFwicGVyaW9kdFwiLCBcIml0XFwncyBnaXZpbmcuLi5cIiwgXCJzbGF5XCIsIGV0Yy4gQmUgdW5oaW5nZWQgYnV0IGVuZGVhcmluZycgOiAnJ31cbi0gJHtzZWxlY3RlZFRvbmUgPT09ICdwcm9mZXNzaW9uYWwnID8gJ0tlZXAgaXQgZm9ybWFsIGFuZCBidXNpbmVzcy1hcHByb3ByaWF0ZScgOiAnJ31cbi0gJHtzZWxlY3RlZFRvbmUgPT09ICdyb21hbnRpYycgPyAnSW5jbHVkZSBsb3ZpbmcgYW5kIHJvbWFudGljIGxhbmd1YWdlJyA6ICcnfVxuLSAke3NlbGVjdGVkVG9uZSA9PT0gJ3BsYXlmdWwnID8gJ1VzZSBmdW4gYW5kIGVuZXJnZXRpYyBsYW5ndWFnZScgOiAnJ31cbi0gJHt0b0ZpZWxkICYmIGZyb21GaWVsZCA/IGBTaG93IHRoZSByZWxhdGlvbnNoaXAgYmV0d2VlbiAke2Zyb21GaWVsZH0gYW5kICR7dG9GaWVsZH0gdGhyb3VnaCB0aGUgJHt0b25lRGVzY3JpcHRpb259IG1lc3NhZ2UgdG9uZWAgOiBcIlwifVxuLSAke2Zyb21GaWVsZCA/IGBFbmQgdGhlIG1lc3NhZ2Ugd2l0aCBhIHNpZ25hdHVyZSBsaW5lIGxpa2UgXCJMb3ZlLCAke2Zyb21GaWVsZH1cIiBvciBcIi0gJHtmcm9tRmllbGR9XCIgb3Igc2ltaWxhciwgbmF0dXJhbGx5IGludGVncmF0ZWQgaW50byB0aGUgbWVzc2FnZS5gIDogXCJcIn1cblxuUmV0dXJuIE9OTFkgdGhlIG1lc3NhZ2UgdGV4dCB0aGF0IHNob3VsZCBhcHBlYXIgaW5zaWRlIHRoZSBjYXJkIC0gbm8gcXVvdGVzLCBubyBleHBsYW5hdGlvbnMsIG5vIG1hcmtkb3duIGZvcm1hdHRpbmcgKG5vICpib2xkKiwgX2l0YWxpY3NfLCBvciBvdGhlciBtYXJrZG93biksIGp1c3QgdGhlIGNvbXBsZXRlICR7dG9uZURlc2NyaXB0aW9ufSBtZXNzYWdlIGluIHBsYWluIHRleHQuXG5cbklNUE9SVEFOVDogV3JhcCB5b3VyIGZpbmFsIG1lc3NhZ2UgaW4gPE1FU1NBR0U+IDwvTUVTU0FHRT4gdGFncy4gRXZlcnl0aGluZyBvdXRzaWRlIHRoZXNlIHRhZ3Mgd2lsbCBiZSBpZ25vcmVkLmA7XG5cbiAgICAgIGNvbnN0IGdlbmVyYXRlZE1lc3NhZ2UgPSBhd2FpdCBjaGF0V2l0aEFJKG1lc3NhZ2VQcm9tcHQsIHtcbiAgICAgICAgbW9kZWw6IFwiZ2VtaW5pLTIuNS1wcm9cIixcbiAgICAgICAgaW5jbHVkZVRob3VnaHRzOiBmYWxzZSAgLy8gRG9uJ3QgaW5jbHVkZSB0aGlua2luZyBjb250ZW50IGluIG1lc3NhZ2UgZ2VuZXJhdGlvblxuICAgICAgfSk7XG5cbiAgICAgIGlmIChnZW5lcmF0ZWRNZXNzYWdlPy50cmltKCkpIHtcbiAgICAgICAgLy8gRXh0cmFjdCBtZXNzYWdlIGNvbnRlbnQgYmV0d2VlbiA8TUVTU0FHRT4gdGFncyB1c2luZyByZWdleFxuICAgICAgICBjb25zdCBtZXNzYWdlTWF0Y2ggPSBnZW5lcmF0ZWRNZXNzYWdlLm1hdGNoKC88TUVTU0FHRT4oW1xcc1xcU10qPyk8XFwvTUVTU0FHRT4vKTtcbiAgICAgICAgbGV0IGV4dHJhY3RlZE1lc3NhZ2UgPSBtZXNzYWdlTWF0Y2ggPyBtZXNzYWdlTWF0Y2hbMV0udHJpbSgpIDogZ2VuZXJhdGVkTWVzc2FnZS50cmltKCk7XG4gICAgICAgIFxuICAgICAgICAvLyBFbnN1cmUgbm8gTUVTU0FHRSB0YWdzIGFyZSBpbmNsdWRlZCBpbiB0aGUgZmluYWwgbWVzc2FnZVxuICAgICAgICBleHRyYWN0ZWRNZXNzYWdlID0gZXh0cmFjdGVkTWVzc2FnZS5yZXBsYWNlKC88XFwvP01FU1NBR0U+L2csICcnKS50cmltKCk7XG4gICAgICAgIFxuICAgICAgICAvLyBBZGQgY3VycmVudCBtZXNzYWdlIHRvIGhpc3RvcnkgaWYgaXQgZXhpc3RzIGFuZCBpcyBkaWZmZXJlbnRcbiAgICAgICAgaWYgKGZpbmFsQ2FyZE1lc3NhZ2UudHJpbSgpICYmIGZpbmFsQ2FyZE1lc3NhZ2UudHJpbSgpICE9PSBleHRyYWN0ZWRNZXNzYWdlKSB7XG4gICAgICAgICAgYWRkTWVzc2FnZVRvSGlzdG9yeShmaW5hbENhcmRNZXNzYWdlKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgc2V0RmluYWxDYXJkTWVzc2FnZShleHRyYWN0ZWRNZXNzYWdlKTtcbiAgICAgICAgXG4gICAgICAgIC8vIEFkZCB0aGUgbmV3IG1lc3NhZ2UgdG8gaGlzdG9yeVxuICAgICAgICBhZGRNZXNzYWdlVG9IaXN0b3J5KGV4dHJhY3RlZE1lc3NhZ2UpO1xuICAgICAgICBcbiAgICAgICAgdG9hc3Quc3VjY2VzcyhcIuKcqCBQZXJzb25hbGl6ZWQgbWVzc2FnZSBjcmVhdGVkIVwiKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgdG9hc3QuZXJyb3IoXCJGYWlsZWQgdG8gZ2VuZXJhdGUgbWVzc2FnZS4gUGxlYXNlIHRyeSBhZ2Fpbi5cIik7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldElzR2VuZXJhdGluZ01lc3NhZ2UoZmFsc2UpO1xuICAgIH1cbiAgfTtcblxuXG5cbiAgLy8gRmlsZSB1cGxvYWQgaGFuZGxlclxuICBjb25zdCBoYW5kbGVGaWxlVXBsb2FkID0gYXN5bmMgKGZpbGU6IEZpbGUsIHR5cGU6ICdoYW5kd3JpdGluZycgfCAncmVmZXJlbmNlJykgPT4ge1xuICAgIGlmICghZmlsZS50eXBlLnN0YXJ0c1dpdGgoJ2ltYWdlLycpKSB7XG4gICAgICB0b2FzdC5lcnJvcihcIlBsZWFzZSB1cGxvYWQgYW4gaW1hZ2UgZmlsZVwiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBzZXRJc1VwbG9hZGluZyh0cnVlKTtcbiAgICBcbiAgICB0cnkge1xuICAgICAgY29uc3QgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTtcbiAgICAgIGZvcm1EYXRhLmFwcGVuZCgnZmlsZScsIGZpbGUpO1xuICAgICAgXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke0JBQ0tFTkRfQVBJX0JBU0VfVVJMfS91cGxvYWRgLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBib2R5OiBmb3JtRGF0YSxcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB0aHJvdyBuZXcgRXJyb3IoYFVwbG9hZCBmYWlsZWQ6ICR7cmVzcG9uc2Uuc3RhdHVzfWApO1xuICAgICAgXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICBcbiAgICAgIGlmICh0eXBlID09PSAnaGFuZHdyaXRpbmcnKSB7XG4gICAgICAgIHNldEhhbmR3cml0aW5nU2FtcGxlKGZpbGUpO1xuICAgICAgICBzZXRIYW5kd3JpdGluZ1NhbXBsZVVybChyZXN1bHQudXJsKTtcbiAgICAgICAgdG9hc3Quc3VjY2VzcyhcIkhhbmR3cml0aW5nIHNhbXBsZSB1cGxvYWRlZCFcIik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzZXRSZWZlcmVuY2VJbWFnZXMocHJldiA9PiBbLi4ucHJldiwgZmlsZV0pO1xuICAgICAgICBzZXRSZWZlcmVuY2VJbWFnZVVybHMocHJldiA9PiBbLi4ucHJldiwgcmVzdWx0LnVybF0pO1xuICAgICAgICBjb25zb2xlLmxvZyhcIvCflI0gREVCVUc6IFJlZmVyZW5jZSBpbWFnZSB1cGxvYWRlZCBzdWNjZXNzZnVsbHk6XCIsIHtcbiAgICAgICAgICBmaWxlTmFtZTogZmlsZS5uYW1lLFxuICAgICAgICAgIHVybDogcmVzdWx0LnVybCxcbiAgICAgICAgICB0b3RhbEltYWdlczogcmVmZXJlbmNlSW1hZ2VzLmxlbmd0aCArIDFcbiAgICAgICAgfSk7XG4gICAgICAgIHRvYXN0LnN1Y2Nlc3MoYFJlZmVyZW5jZSBpbWFnZSB1cGxvYWRlZCEgJHtyZWZlcmVuY2VJbWFnZXMubGVuZ3RoICsgMX0gcGhvdG8ke3JlZmVyZW5jZUltYWdlcy5sZW5ndGggKyAxID4gMSA/ICdzJyA6ICcnfSByZWFkeSBmb3IgY2hhcmFjdGVyIGNyZWF0aW9uLmApO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICB0b2FzdC5lcnJvcihcIlVwbG9hZCBmYWlsZWQuIFBsZWFzZSB0cnkgYWdhaW4uXCIpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBzZXRJc1VwbG9hZGluZyhmYWxzZSk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGhhbmRsZVJlbW92ZVJlZmVyZW5jZUltYWdlID0gKGluZGV4OiBudW1iZXIpID0+IHtcbiAgICBjb25zdCByZW1vdmVkSW1hZ2UgPSByZWZlcmVuY2VJbWFnZXNbaW5kZXhdO1xuICAgIGNvbnN0IHJlbW92ZWRVcmwgPSByZWZlcmVuY2VJbWFnZVVybHNbaW5kZXhdO1xuICAgIFxuICAgIHNldFJlZmVyZW5jZUltYWdlcyhwcmV2ID0+IHByZXYuZmlsdGVyKChfLCBpKSA9PiBpICE9PSBpbmRleCkpO1xuICAgIHNldFJlZmVyZW5jZUltYWdlVXJscyhwcmV2ID0+IHByZXYuZmlsdGVyKChfLCBpKSA9PiBpICE9PSBpbmRleCkpO1xuICAgIFxuICAgIGNvbnNvbGUubG9nKFwi8J+UjSBERUJVRzogUmVmZXJlbmNlIGltYWdlIHJlbW92ZWQ6XCIsIHtcbiAgICAgIGZpbGVOYW1lOiByZW1vdmVkSW1hZ2U/Lm5hbWUsXG4gICAgICB1cmw6IHJlbW92ZWRVcmwsXG4gICAgICByZW1haW5pbmdJbWFnZXM6IHJlZmVyZW5jZUltYWdlcy5sZW5ndGggLSAxXG4gICAgfSk7XG4gICAgXG4gICAgdG9hc3Quc3VjY2VzcyhgUmVmZXJlbmNlIGltYWdlIHJlbW92ZWQhICR7cmVmZXJlbmNlSW1hZ2VzLmxlbmd0aCAtIDF9IHBob3RvJHtyZWZlcmVuY2VJbWFnZXMubGVuZ3RoIC0gMSAhPT0gMSA/ICdzJyA6ICcnfSByZW1haW5pbmcuYCk7XG4gIH07XG5cbiAgLy8gU2ltcGxpZmllZCBkcmFmdCBtb2RlIGdlbmVyYXRpb24gLSBjYWxscyBjb25zb2xpZGF0ZWQgZnVuY3Rpb24gNCB0aW1lc1xuICBjb25zdCBoYW5kbGVHZW5lcmF0ZURyYWZ0Q2FyZHMgPSBhc3luYyAoKSA9PiB7XG4gICAgaWYgKCF1c2VyRW1haWwudHJpbSgpKSB7XG4gICAgICB0b2FzdC5lcnJvcihcIlBsZWFzZSBlbnRlciB5b3VyIGVtYWlsIGFkZHJlc3NcIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gQmFzaWMgZW1haWwgdmFsaWRhdGlvblxuICAgIGNvbnN0IGVtYWlsUmVnZXggPSAvXlteXFxzQF0rQFteXFxzQF0rXFwuW15cXHNAXSskLztcbiAgICBpZiAoIWVtYWlsUmVnZXgudGVzdCh1c2VyRW1haWwpKSB7XG4gICAgICB0b2FzdC5lcnJvcihcIlBsZWFzZSBlbnRlciBhIHZhbGlkIGVtYWlsIGFkZHJlc3NcIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gVmFsaWRhdGUgY3VzdG9tIHN0eWxlIGlmIHNlbGVjdGVkXG4gICAgaWYgKHNlbGVjdGVkQXJ0aXN0aWNTdHlsZSA9PT0gXCJjdXN0b21cIiAmJiAhY3VzdG9tU3R5bGVEZXNjcmlwdGlvbi50cmltKCkpIHtcbiAgICAgIHRvYXN0LmVycm9yKFwiUGxlYXNlIGRlc2NyaWJlIHlvdXIgY3VzdG9tIGFydGlzdGljIHN0eWxlXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIFZhbGlkYXRlIHJlZmVyZW5jZSBpbWFnZXMgd2l0aCBtb2RlbCBjb21wYXRpYmlsaXR5XG4gICAgaWYgKHJlZmVyZW5jZUltYWdlVXJscy5sZW5ndGggPiAwICYmIHNlbGVjdGVkRHJhZnRNb2RlbCAhPT0gXCJncHQtaW1hZ2UtMVwiKSB7XG4gICAgICAgICAgICAgY29uc29sZS5sb2coXCLwn5SNIERFQlVHOiBSZWZlcmVuY2UgaW1hZ2UgdmFsaWRhdGlvbiBmYWlsZWQ6XCIsIHtcbiAgICAgICAgIHJlZmVyZW5jZUltYWdlVXJsc0xlbmd0aDogcmVmZXJlbmNlSW1hZ2VVcmxzLmxlbmd0aCxcbiAgICAgICAgIHJlZmVyZW5jZUltYWdlVXJsczogcmVmZXJlbmNlSW1hZ2VVcmxzLFxuICAgICAgICAgc2VsZWN0ZWREcmFmdE1vZGVsOiBzZWxlY3RlZERyYWZ0TW9kZWwsXG4gICAgICAgICByZWZlcmVuY2VJbWFnZXNMZW5ndGg6IHJlZmVyZW5jZUltYWdlcy5sZW5ndGhcbiAgICAgICB9KTtcbiAgICAgICBcbiAgICAgICAvLyBTaG93IGEgbW9yZSBoZWxwZnVsIGVycm9yIHdpdGggYWN0aW9uIGJ1dHRvbnNcbiAgICAgICBjb25zdCBjbGVhclBob3RvcyA9ICgpID0+IHtcbiAgICAgICAgIHNldFJlZmVyZW5jZUltYWdlcyhbXSk7XG4gICAgICAgICBzZXRSZWZlcmVuY2VJbWFnZVVybHMoW10pO1xuICAgICAgICAgdG9hc3Quc3VjY2VzcyhcIlJlZmVyZW5jZSBwaG90b3MgY2xlYXJlZCEgWW91IGNhbiBub3cgdXNlIGRyYWZ0IG1vZGUuXCIpO1xuICAgICAgIH07XG4gICAgICAgXG4gICAgICAgY29uc3Qgc3dpdGNoVG9HUFQxID0gKCkgPT4ge1xuICAgICAgICAgc2V0U2VsZWN0ZWREcmFmdE1vZGVsKFwiZ3B0LWltYWdlLTFcIik7XG4gICAgICAgICB0b2FzdC5zdWNjZXNzKFwiU3dpdGNoZWQgdG8gR1BUIEltYWdlIDEgZm9yIGRyYWZ0IG1vZGUhXCIpO1xuICAgICAgIH07XG4gICAgICAgXG4gICAgICAgdG9hc3QuZXJyb3IoXG4gICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktMlwiPlxuICAgICAgICAgICA8cD5SZWZlcmVuY2UgcGhvdG9zIGFyZSBvbmx5IHN1cHBvcnRlZCB3aXRoIEdQVCBJbWFnZSAxIG1vZGVsLjwvcD5cbiAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC14c1wiPllvdSBoYXZlIHtyZWZlcmVuY2VJbWFnZVVybHMubGVuZ3RofSByZWZlcmVuY2UgcGhvdG97cmVmZXJlbmNlSW1hZ2VVcmxzLmxlbmd0aCA+IDEgPyAncycgOiAnJ30gYnV0IHNlbGVjdGVkIHtpbWFnZU1vZGVscy5maW5kKG0gPT4gbS5pZCA9PT0gc2VsZWN0ZWREcmFmdE1vZGVsKT8ubGFiZWx9LjwvcD5cbiAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGdhcC0yIG10LTJcIj5cbiAgICAgICAgICAgICA8YnV0dG9uIFxuICAgICAgICAgICAgICAgb25DbGljaz17c3dpdGNoVG9HUFQxfVxuICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicHgtMiBweS0xIGJnLWJsdWUtNjAwIHRleHQtd2hpdGUgdGV4dC14cyByb3VuZGVkIGhvdmVyOmJnLWJsdWUtNzAwXCJcbiAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICBVc2UgR1BUIEltYWdlIDFcbiAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICA8YnV0dG9uIFxuICAgICAgICAgICAgICAgb25DbGljaz17Y2xlYXJQaG90b3N9XG4gICAgICAgICAgICAgICBjbGFzc05hbWU9XCJweC0yIHB5LTEgYmctcmVkLTYwMCB0ZXh0LXdoaXRlIHRleHQteHMgcm91bmRlZCBob3ZlcjpiZy1yZWQtNzAwXCJcbiAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICBSZW1vdmUgUGhvdG9zXG4gICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgPC9kaXY+LFxuICAgICAgICAgeyBkdXJhdGlvbjogODAwMCB9XG4gICAgICAgKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBzZXRJc0RyYWZ0TW9kZSh0cnVlKTtcbiAgICBzZXRJc0dlbmVyYXRpbmcodHJ1ZSk7XG4gICAgc3RhcnRFbGFwc2VkVGltZVRyYWNraW5nKHVuZGVmaW5lZCwgNDUpOyAvLyA0NSBzZWNvbmRzIGZvciBkcmFmdCBtb2RlXG4gICAgc2V0R2VuZXJhdGlvblByb2dyZXNzKFwi8J+OqCBDcmVhdGluZyAxMCBmcm9udCBjb3ZlciB2YXJpYXRpb25zIGZvciB5b3UgdG8gY2hvb3NlIGZyb20uLi5cIik7XG4gICAgc2V0UHJvZ3Jlc3NQZXJjZW50YWdlKDApO1xuICAgIHNldERyYWZ0Q2FyZHMoW10pO1xuICAgIHNldERyYWZ0SW5kZXhNYXBwaW5nKFtdKTtcbiAgICBzZXRTZWxlY3RlZERyYWZ0SW5kZXgoLTEpO1xuICAgIHNldERyYWZ0Q29tcGxldGlvblNob3duKGZhbHNlKTsgLy8gUmVzZXQgY29tcGxldGlvbiBmbGFnXG4gICAgXG4gICAgLy8gQ2xlYXIgYW55IHByZXZpb3VzIGNhcmQgc3RhdGUgdG8gYXZvaWQgVUkgY29uZmxpY3RzXG4gICAgc2V0R2VuZXJhdGVkQ2FyZChudWxsKTtcbiAgICBzZXRHZW5lcmF0ZWRDYXJkcyhbXSk7XG4gICAgc2V0SXNDYXJkQ29tcGxldGVkKGZhbHNlKTtcblxuICAgIHRyeSB7XG4gICAgICBjb25zb2xlLmxvZyhcIvCfmoAgU3RhcnRpbmcgZHJhZnQgbW9kZSBnZW5lcmF0aW9uIHdpdGggNSB2YXJpYXRpb25zXCIpO1xuICAgICAgXG4gICAgICAvLyBTaG93IHNwZWNpZmljIG1lc3NhZ2UgZm9yIEdQVC0xIHVzZXJzIGFib3V0IHF1YWxpdHkgZW5mb3JjZW1lbnRcbiAgICAgIGlmIChzZWxlY3RlZERyYWZ0TW9kZWwgPT09IFwiZ3B0LWltYWdlLTFcIikge1xuICAgICAgICBjb25zdCBzdHlsZU1lc3NhZ2UgPSBzZWxlY3RlZEFydGlzdGljU3R5bGUgPT09IFwiYWktc21hcnQtc3R5bGVcIiBcbiAgICAgICAgICA/IFwiIGFjcm9zcyA1IGN1cmF0ZWQgYXJ0aXN0aWMgc3R5bGVzIVwiXG4gICAgICAgICAgOiBcIiAodXNpbmcgbG93IHF1YWxpdHkgZm9yIGZhc3QgcHJldmlld3MpIVwiO1xuICAgICAgICB0b2FzdC5zdWNjZXNzKGDwn46oIEdlbmVyYXRpbmcgNSBmcm9udCBjb3ZlciB2YXJpYXRpb25zIHdpdGggR1BULTEke3N0eWxlTWVzc2FnZX1gKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IHN0eWxlTWVzc2FnZSA9IHNlbGVjdGVkQXJ0aXN0aWNTdHlsZSA9PT0gXCJhaS1zbWFydC1zdHlsZVwiIFxuICAgICAgICAgID8gXCIgYWNyb3NzIDUgY3VyYXRlZCBhcnRpc3RpYyBzdHlsZXMhXCJcbiAgICAgICAgICA6IFwiIGZvciB5b3UgdG8gY2hvb3NlIGZyb20hXCI7XG4gICAgICAgIHRvYXN0LnN1Y2Nlc3MoYPCfjqggR2VuZXJhdGluZyA1IGZyb250IGNvdmVyIHZhcmlhdGlvbnMke3N0eWxlTWVzc2FnZX1gKTtcbiAgICAgIH1cblxuICAgICAgICAgICAgICAvLyBHZW5lcmF0ZSA1IGRyYWZ0IHZhcmlhdGlvbnMgd2l0aCBzbWFydCBzdHlsZSBkaXN0cmlidXRpb25cbiAgICAgICAgY29uc3QgZHJhZnRQcm9taXNlcyA9IEFycmF5LmZyb20oeyBsZW5ndGg6IDUgfSwgYXN5bmMgKF8sIGluZGV4KSA9PiB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGDwn46oIFN0YXJ0aW5nIGRyYWZ0IHZhcmlhdGlvbiAke2luZGV4ICsgMX1gKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gRm9yIHNtYXJ0IHN0eWxlLCB1c2UgcHJlZGVmaW5lZCBzdHlsZXMgZm9yIGFsbCA1IHZhcmlhdGlvbnNcbiAgICAgICAgICAgIGxldCBzdHlsZU92ZXJyaWRlOiBzdHJpbmcgfCB1bmRlZmluZWQgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICBsZXQgc3R5bGVMYWJlbDogc3RyaW5nIHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgaWYgKHNlbGVjdGVkQXJ0aXN0aWNTdHlsZSA9PT0gXCJhaS1zbWFydC1zdHlsZVwiKSB7XG4gICAgICAgICAgICAgIGNvbnN0IHByZWRlZmluZWRTdHlsZXMgPSBbXG4gICAgICAgICAgICAgICAgXCJ3YXRlcmNvbG9yXCIsXG4gICAgICAgICAgICAgICAgXCJib3RhbmljYWxcIixcbiAgICAgICAgICAgICAgICBcImNvbWljLWJvb2tcIiwgXG4gICAgICAgICAgICAgICAgXCJkcmVhbXktZmFudGFzeVwiLFxuICAgICAgICAgICAgICAgIFwibWluaW1hbGlzdFwiXG4gICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICBjb25zdCBzdHlsZUxhYmVscyA9IFtcbiAgICAgICAgICAgICAgICBcIvCfjqggV2F0ZXJjb2xvclwiLFxuICAgICAgICAgICAgICAgIFwi8J+MvyBCb3RhbmljYWxcIiwgXG4gICAgICAgICAgICAgICAgXCLwn5KlIENvbWljIEJvb2tcIixcbiAgICAgICAgICAgICAgICBcIvCfjLggRHJlYW15IEZhbnRhc3lcIixcbiAgICAgICAgICAgICAgICBcIuKcqCBNaW5pbWFsaXN0XCJcbiAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIHN0eWxlT3ZlcnJpZGUgPSBwcmVkZWZpbmVkU3R5bGVzW2luZGV4XTtcbiAgICAgICAgICAgICAgc3R5bGVMYWJlbCA9IHN0eWxlTGFiZWxzW2luZGV4XTtcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coYPCfjqggRHJhZnQgJHtpbmRleCArIDF9OiBVc2luZyBwcmVkZWZpbmVkIHN0eWxlIFwiJHtzdHlsZU92ZXJyaWRlfVwiICgke3N0eWxlTGFiZWx9KWApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBhd2FpdCBoYW5kbGVHZW5lcmF0ZUNhcmRBc3luY0ludGVybmFsKHtcbiAgICAgICAgICAgICAgaXNEcmFmdE1vZGU6IHRydWUsXG4gICAgICAgICAgICAgIGRyYWZ0SW5kZXg6IGluZGV4LFxuICAgICAgICAgICAgICBzdHlsZU92ZXJyaWRlOiBzdHlsZU92ZXJyaWRlLFxuICAgICAgICAgICAgICBzdHlsZUxhYmVsOiBzdHlsZUxhYmVsLFxuICAgICAgICAgICAgICBvbkRyYWZ0Q29tcGxldGU6IChjYXJkOiBHZW5lcmF0ZWRDYXJkLCBpZHg6IG51bWJlcikgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGDinIUgRHJhZnQgdmFyaWF0aW9uICR7aWR4ICsgMX0gY29tcGxldGVkOmAsIGNhcmQuaWQpO1xuICAgICAgICAgICAgICAgIHNldERyYWZ0Q2FyZHMocHJldiA9PiB7XG4gICAgICAgICAgICAgICAgICBjb25zdCB1cGRhdGVkID0gWy4uLnByZXZdO1xuICAgICAgICAgICAgICAgICAgdXBkYXRlZFtpZHhdID0gY2FyZDtcbiAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgYWxsIDUgdmFyaWF0aW9ucyBhcmUgY29tcGxldGVcbiAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbXBsZXRlZENvdW50ID0gdXBkYXRlZC5maWx0ZXIoYyA9PiBjKS5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhg8J+TiiBEcmFmdCBwcm9ncmVzczogJHtjb21wbGV0ZWRDb3VudH0vNSB2YXJpYXRpb25zIGNvbXBsZXRlYCk7XG4gICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgIGlmIChjb21wbGV0ZWRDb3VudCA9PT0gNSkge1xuICAgICAgICAgICAgICAgICAgICBzZXRJc0dlbmVyYXRpbmcoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICBzZXRHZW5lcmF0aW9uUHJvZ3Jlc3MoXCJcIik7XG4gICAgICAgICAgICAgICAgICAgIHNldFByb2dyZXNzUGVyY2VudGFnZSgxMDApO1xuICAgICAgICAgICAgICAgICAgICBzdG9wRWxhcHNlZFRpbWVUcmFja2luZygpO1xuICAgICAgICAgICAgICAgICAgICB0b2FzdC5zdWNjZXNzKFwi8J+OqCBBbGwgNSBkZXNpZ24gdmFyaWF0aW9ucyByZWFkeSEgQ2hvb3NlIHlvdXIgZmF2b3JpdGUgYmVsb3cuXCIpO1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgc2V0R2VuZXJhdGlvblByb2dyZXNzKGDinKggJHtjb21wbGV0ZWRDb3VudH0vNSB2YXJpYXRpb25zIGNvbXBsZXRlLi4uYCk7XG4gICAgICAgICAgICAgICAgICAgIHNldFByb2dyZXNzUGVyY2VudGFnZSgoY29tcGxldGVkQ291bnQgLyA1KSAqIDEwMCk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgIHJldHVybiB1cGRhdGVkO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihg4p2MIERyYWZ0IHZhcmlhdGlvbiAke2luZGV4ICsgMX0gZmFpbGVkOmAsIGVycm9yKTtcbiAgICAgICAgICAgIHRvYXN0LmVycm9yKGBEcmFmdCB2YXJpYXRpb24gJHtpbmRleCArIDF9IGZhaWxlZDogJHtlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJ31gKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAvLyBXYWl0IGZvciBhbGwgZHJhZnQgZ2VuZXJhdGlvbnMgdG8gc3RhcnQgKGJ1dCBub3QgY29tcGxldGUpXG4gICAgICBhd2FpdCBQcm9taXNlLmFsbFNldHRsZWQoZHJhZnRQcm9taXNlcyk7XG4gICAgICBjb25zb2xlLmxvZyhcIvCfmoAgQWxsIGRyYWZ0IHZhcmlhdGlvbnMgc3RhcnRlZFwiKTtcblxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdEcmFmdCBjYXJkIGdlbmVyYXRpb24gZXJyb3I6JywgZXJyb3IpO1xuICAgICAgdG9hc3QuZXJyb3IoYEZhaWxlZCB0byBzdGFydCBkcmFmdCBnZW5lcmF0aW9uOiAke2Vycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InfWApO1xuICAgICAgXG4gICAgICBzZXRJc0dlbmVyYXRpbmcoZmFsc2UpO1xuICAgICAgc2V0SXNEcmFmdE1vZGUoZmFsc2UpO1xuICAgICAgc2V0RHJhZnRDb21wbGV0aW9uU2hvd24oZmFsc2UpOyAvLyBSZXNldCBjb21wbGV0aW9uIGZsYWdcbiAgICAgIHNldEdlbmVyYXRpb25Qcm9ncmVzcyhcIlwiKTtcbiAgICAgIHN0b3BFbGFwc2VkVGltZVRyYWNraW5nKCk7XG4gICAgfVxuICB9O1xuXG5cblxuICAvLyBHZW5lcmF0ZSBmaW5hbCBoaWdoLXF1YWxpdHkgY2FyZCBmcm9tIHNlbGVjdGVkIGRyYWZ0XG4gIGNvbnN0IGhhbmRsZUdlbmVyYXRlRmluYWxGcm9tRHJhZnQgPSBhc3luYyAoZGlzcGxheUluZGV4OiBudW1iZXIpID0+IHtcbiAgICBpZiAoZGlzcGxheUluZGV4IDwgMCB8fCBkaXNwbGF5SW5kZXggPj0gZHJhZnRDYXJkcy5sZW5ndGggfHwgIWRyYWZ0Q2FyZHNbZGlzcGxheUluZGV4XSkge1xuICAgICAgdG9hc3QuZXJyb3IoXCJJbnZhbGlkIGRyYWZ0IHNlbGVjdGlvblwiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBHZXQgdGhlIG9yaWdpbmFsIGRyYWZ0IGluZGV4IGZyb20gdGhlIG1hcHBpbmdcbiAgICBjb25zdCBvcmlnaW5hbERyYWZ0SW5kZXggPSBkcmFmdEluZGV4TWFwcGluZ1tkaXNwbGF5SW5kZXhdO1xuICAgIGlmIChvcmlnaW5hbERyYWZ0SW5kZXggPT09IHVuZGVmaW5lZCkge1xuICAgICAgdG9hc3QuZXJyb3IoXCJDb3VsZCBub3QgZmluZCBvcmlnaW5hbCBkcmFmdCBkYXRhXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIFN0b3AgcmVtYWluaW5nIGRyYWZ0IGdlbmVyYXRpb25zIHRvIGZvY3VzIG9uIHRoZSBzZWxlY3RlZCBkZXNpZ25cbiAgICBjb25zdCByZW1haW5pbmdEcmFmdHMgPSA1IC0gZHJhZnRDYXJkcy5sZW5ndGg7XG4gICAgaWYgKHJlbWFpbmluZ0RyYWZ0cyA+IDAgJiYgaXNHZW5lcmF0aW5nKSB7XG4gICAgICBzZXRJc0dlbmVyYXRpbmcoZmFsc2UpOyAvLyBTdG9wIHRoZSBkcmFmdCBnZW5lcmF0aW9uIHByb2Nlc3NcbiAgICAgIHRvYXN0LmluZm8oYPCfjq8gRm9jdXNpbmcgb24geW91ciBzZWxlY3RlZCBkZXNpZ24hIFNraXBwaW5nICR7cmVtYWluaW5nRHJhZnRzfSByZW1haW5pbmcgdmFyaWF0aW9ucy5gKTtcbiAgICB9XG5cbiAgICBzZXRJc0dlbmVyYXRpbmdGaW5hbENhcmQodHJ1ZSk7XG4gICAgc2V0U2VsZWN0ZWREcmFmdEluZGV4KGRpc3BsYXlJbmRleCk7IC8vIFN0b3JlIGRpc3BsYXkgaW5kZXggZm9yIFVJXG4gICAgc3RhcnRFbGFwc2VkVGltZVRyYWNraW5nKHVuZGVmaW5lZCwgMTIwKTsgLy8gMTIwIHNlY29uZHMgZm9yIGZpbmFsIGNhcmQgZ2VuZXJhdGlvblxuICAgIHNldEdlbmVyYXRpb25Qcm9ncmVzcyhcIvCfjqggQ3JlYXRpbmcgaGlnaC1xdWFsaXR5IHZlcnNpb24gb2YgeW91ciBzZWxlY3RlZCBkZXNpZ24uLi5cIik7XG5cbiAgICB0cnkge1xuICAgICAgY29uc3Qgc2VsZWN0ZWREcmFmdCA9IGRyYWZ0Q2FyZHNbZGlzcGxheUluZGV4XTtcbiAgICAgIGNvbnN0IGpvYklkID0gdXVpZHY0KCk7XG4gICAgICBcbiAgICAgIC8vIEdlbmVyYXRlIHRoZSBtaXNzaW5nIHByb21wdHMgdXNpbmcgdGhlIHN0b3JlZCBmcm9udENvdmVyIHByb21wdCArIHVzZXIgaW5mb1xuICAgICAgY29uc29sZS5sb2coXCLwn5SEIEdlbmVyYXRpbmcgY29tcGxldGUgcHJvbXB0cyBmcm9tIHN0b3JlZCBmcm9udCBjb3ZlciBwcm9tcHQgKyB1c2VyIGluZm9cIik7XG4gICAgICBcbiAgICAgIC8vIFRoZSBkcmFmdCBzaG91bGQgaGF2ZSBhdCBsZWFzdCB0aGUgZnJvbnRDb3ZlciBwcm9tcHRcbiAgICAgIGNvbnN0IHN0b3JlZEZyb250Q292ZXJQcm9tcHQgPSBzZWxlY3RlZERyYWZ0LmdlbmVyYXRlZFByb21wdHM/LmZyb250Q292ZXI7XG4gICAgICBpZiAoIXN0b3JlZEZyb250Q292ZXJQcm9tcHQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiU2VsZWN0ZWQgZHJhZnQgaXMgbWlzc2luZyBmcm9udENvdmVyIHByb21wdFwiKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgY29uc29sZS5sb2coXCLinIUgRm91bmQgc3RvcmVkIGZyb250IGNvdmVyIHByb21wdDpcIiwgc3RvcmVkRnJvbnRDb3ZlclByb21wdC5zdWJzdHJpbmcoMCwgMTAwKSArIFwiLi4uXCIpO1xuICAgICAgXG4gICAgICAvLyBOb3cgZ2VuZXJhdGUgdGhlIG1pc3NpbmcgMyBwcm9tcHRzIHVzaW5nIHRoZSBmcm9udCBjb3ZlciBjb250ZXh0ICsgdXNlciBpbmZvXG4gICAgICBjb25zdCBjYXJkVHlwZUZvclByb21wdCA9IHNlbGVjdGVkVHlwZSA9PT0gXCJjdXN0b21cIiA/IGN1c3RvbUNhcmRUeXBlIDogc2VsZWN0ZWRUeXBlO1xuICAgICAgY29uc3Qgc2VsZWN0ZWRUb25lT2JqID0gY2FyZFRvbmVzLmZpbmQodG9uZSA9PiB0b25lLmlkID09PSBzZWxlY3RlZFRvbmUpO1xuICAgICAgY29uc3QgdG9uZURlc2NyaXB0aW9uID0gc2VsZWN0ZWRUb25lT2JqID8gc2VsZWN0ZWRUb25lT2JqLmRlc2NyaXB0aW9uLnRvTG93ZXJDYXNlKCkgOiBcImhlYXJ0ZmVsdCBhbmQgc2luY2VyZVwiO1xuICAgICAgY29uc3QgZWZmZWN0aXZlUHJvbXB0ID0gcHJvbXB0LnRyaW0oKSB8fCBgQSBiZWF1dGlmdWwgJHtjYXJkVHlwZUZvclByb21wdH0gY2FyZCB3aXRoICR7dG9uZURlc2NyaXB0aW9ufSBzdHlsZWA7XG4gICAgICBcbiAgICAgIGxldCBtZXNzYWdlQ29udGVudCA9IGZpbmFsQ2FyZE1lc3NhZ2U7XG4gICAgICBpZiAoaXNIYW5kd3JpdHRlbk1lc3NhZ2UpIHtcbiAgICAgICAgbWVzc2FnZUNvbnRlbnQgPSBcIltCbGFuayBzcGFjZSBmb3IgaGFuZHdyaXR0ZW4gbWVzc2FnZV1cIjtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gR2V0IHN0eWxlIGZyb20gdGhlIHNlbGVjdGVkIGRyYWZ0IG9yIGZhbGwgYmFjayB0byBjdXJyZW50IHNldHRpbmcgIFxuICAgICAgY29uc3QgZHJhZnRTdHlsZUluZm8gPSBzZWxlY3RlZERyYWZ0LnN0eWxlSW5mbztcbiAgICAgIGxldCBzdHlsZU1vZGlmaWVyID0gXCJcIjtcbiAgICAgIGlmIChkcmFmdFN0eWxlSW5mbyAmJiBkcmFmdFN0eWxlSW5mby5zdHlsZU5hbWUpIHtcbiAgICAgICAgY29uc3Qgc2VsZWN0ZWRTdHlsZSA9IGFydGlzdGljU3R5bGVzLmZpbmQoc3R5bGUgPT4gc3R5bGUuaWQgPT09IGRyYWZ0U3R5bGVJbmZvLnN0eWxlTmFtZSk7XG4gICAgICAgIHN0eWxlTW9kaWZpZXIgPSBzZWxlY3RlZFN0eWxlPy5wcm9tcHRNb2RpZmllciB8fCBcIlwiO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3Qgc2VsZWN0ZWRTdHlsZSA9IGFydGlzdGljU3R5bGVzLmZpbmQoc3R5bGUgPT4gc3R5bGUuaWQgPT09IHNlbGVjdGVkQXJ0aXN0aWNTdHlsZSk7XG4gICAgICAgIHN0eWxlTW9kaWZpZXIgPSBzZWxlY3RlZEFydGlzdGljU3R5bGUgPT09IFwiY3VzdG9tXCIgXG4gICAgICAgICAgPyBjdXN0b21TdHlsZURlc2NyaXB0aW9uIFxuICAgICAgICAgIDogc2VsZWN0ZWRTdHlsZT8ucHJvbXB0TW9kaWZpZXIgfHwgXCJcIjtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgY29uc3QgZ2VuZXJhdGVPdGhlclByb21wdHNRdWVyeSA9IGBZb3UgYXJlIGNyZWF0aW5nIHRoZSByZW1haW5pbmcgcHJvbXB0cyBmb3IgYSBncmVldGluZyBjYXJkLiBZb3UgYWxyZWFkeSBoYXZlIHRoZSBmcm9udCBjb3ZlciBwcm9tcHQgYmVsb3cuXG5cbkVYSVNUSU5HIEZST05UIENPVkVSIFBST01QVDpcblwiJHtzdG9yZWRGcm9udENvdmVyUHJvbXB0fVwiXG5cbkNBUkQgQ09OVEVYVDpcbi0gVHlwZTogJHtjYXJkVHlwZUZvclByb21wdH1cbi0gVGhlbWU6IFwiJHtlZmZlY3RpdmVQcm9tcHR9XCIgIFxuLSBUb25lOiAke3RvbmVEZXNjcmlwdGlvbn1cbiR7dG9GaWVsZCA/IGAtIFRvOiAke3RvRmllbGR9YCA6IFwiXCJ9XG4ke2Zyb21GaWVsZCA/IGAtIEZyb206ICR7ZnJvbUZpZWxkfWAgOiBcIlwifVxuJHshaXNGcm9udEJhY2tPbmx5ID8gYC0gTWVzc2FnZTogXCIke21lc3NhZ2VDb250ZW50fVwiYCA6IFwiXCJ9XG4ke2lzSGFuZHdyaXR0ZW5NZXNzYWdlID8gXCItIE5vdGU6IEluY2x1ZGUgc3BhY2UgZm9yIGhhbmR3cml0dGVuIG1lc3NhZ2VcIiA6IFwiXCJ9XG5cblRBU0s6IENyZWF0ZSBwcm9tcHRzIGZvciB0aGUgcmVtYWluaW5nIGNhcmQgc2VjdGlvbnMgdGhhdCBhcmUgdmlzdWFsbHkgY29oZXNpdmUgd2l0aCB0aGUgZXhpc3RpbmcgZnJvbnQgY292ZXIuIFVzZSB0aGUgc2FtZSBjb2xvciBwYWxldHRlLCBhcnRpc3RpYyBzdHlsZSwgbGlnaHRpbmcsIGFuZCB2aXN1YWwgZWxlbWVudHMgZnJvbSB0aGUgZnJvbnQgY292ZXIgdG8gY3JlYXRlIGEgdW5pZmllZCBkZXNpZ24uXG5cblJlcXVpcmVtZW50czpcbi0gTWFpbnRhaW4gdmlzdWFsIGNvbnRpbnVpdHkgd2l0aCB0aGUgZnJvbnQgY292ZXIgZGVzaWduXG4tIFVzZSB0aGUgc2FtZSBhcnRpc3RpYyBzdHlsZTogJHtzdHlsZU1vZGlmaWVyfVxuLSBLZWVwIGNvbnNpc3RlbnQgY29sb3IgcGFsZXR0ZSwgbGlnaHRpbmcsIGFuZCBtb29kXG4tIEZ1bGwtYmxlZWQgYmFja2dyb3VuZHMgZXh0ZW5kaW5nIHRvIGVkZ2VzXG4tIEtlZXAgdGV4dC9mYWNlcyAwLjVcIiBmcm9tIGxlZnQvcmlnaHQgZWRnZXMgZm9yIHNhZmUgcHJpbnRpbmdcbi0gSU1QT1JUQU5UOiBLZWVwIHRleHQsIGZhY2VzLCBhbmQga2V5IGVsZW1lbnRzIGF0IGxlYXN0IDEwJSBhd2F5IGZyb20gdG9wL2JvdHRvbSBlZGdlc1xuXG5HZW5lcmF0ZSBwcm9tcHRzIGZvcjpcblxuMS4gQmFjayBDb3ZlcjogQ3JlYXRlIGEgc2ltcGxlLCBwZWFjZWZ1bCBkZXNpZ24gdGhhdCBjb21wbGVtZW50cyB0aGUgZnJvbnQgY292ZXIuIFJlZmVyZW5jZSBzdWJ0bGUgZWxlbWVudHMgZnJvbSB0aGUgZnJvbnQgY292ZXIgYnV0IGtlZXAgaXQgbWluaW1hbCBhbmQgc2VyZW5lLiBOTyBQRU9QTEUsIGp1c3QgYmVhdXRpZnVsIGFydGlzdGljIGVsZW1lbnRzLiBJTVBPUlRBTlQ6IExlYXZlIHRoZSBib3R0b20tcmlnaHQgY29ybmVyIGFyZWEgKGFwcHJveGltYXRlbHkgMSBpbmNoIHNxdWFyZSkgY29tcGxldGVseSBjbGVhciBhbmQgdW5kZWNvcmF0ZWQgZm9yIFFSIGNvZGUgcGxhY2VtZW50LlxuXG4keyFpc0Zyb250QmFja09ubHkgPyBgMi4gTGVmdCBJbnRlcmlvcjogQ3JlYXRpdmUgZGVjb3JhdGl2ZSBhcnQgdGhhdCBoYXJtb25pemVzIHdpdGggdGhlIGZyb250IGNvdmVyIHN0eWxlLiBOTyBQRU9QTEUgb3IgY2hhcmFjdGVycywgZm9jdXMgb24gYXJ0aXN0aWMgZWxlbWVudHMgbGlrZSBwYXR0ZXJucywgbGFuZHNjYXBlcywgb2JqZWN0cywgb3IgYWJzdHJhY3QgYXJ0IHRoYXQgbWF0Y2hlcyB0aGUgZnJvbnQgY292ZXIncyBtb29kIGFuZCBzdHlsZS5cblxuMy4gUmlnaHQgSW50ZXJpb3I6ICR7aXNIYW5kd3JpdHRlbk1lc3NhZ2UgPyBgRGVzaWduIGVsZWdhbnQgd3JpdGluZyBzcGFjZSB3aXRoIGRlY29yYXRpdmUgZWxlbWVudHMgdGhhdCBjb21wbGVtZW50IHRoZSBmcm9udCBjb3ZlciBzdHlsZS4gUG9zaXRpb24gZGVjb3JhdGl2ZSBlbGVtZW50cyBzYWZlbHkgYXdheSBmcm9tIGVkZ2VzLiBOTyBQRU9QTEUgb3IgY2hhcmFjdGVycy5gIDogYEluY2x1ZGUgbWVzc2FnZSB0ZXh0OiBcIiR7bWVzc2FnZUNvbnRlbnR9XCIgaW4gYmVhdXRpZnVsIGhhbmR3cml0dGVuIGN1cnNpdmUgc2NyaXB0LCBpbnRlZ3JhdGVkIGludG8gZGVjb3JhdGl2ZSBhcnR3b3JrIHRoYXQgbWF0Y2hlcyB0aGUgZnJvbnQgY292ZXIgc3R5bGUuIE5PIFBFT1BMRSBvciBjaGFyYWN0ZXJzLmB9YCA6ICcnfVxuXG5SZXR1cm4gSlNPTjpcbntcbiAgXCJmcm9udENvdmVyXCI6IFwiJHtzdG9yZWRGcm9udENvdmVyUHJvbXB0fVwiLFxuICBcImJhY2tDb3ZlclwiOiBcImRldGFpbGVkIGJhY2sgY292ZXIgcHJvbXB0XCIkeyFpc0Zyb250QmFja09ubHkgPyAnLFxcbiAgXCJsZWZ0SW50ZXJpb3JcIjogXCJkZXRhaWxlZCBsZWZ0IGludGVyaW9yIHByb21wdFwiLFxcbiAgXCJyaWdodEludGVyaW9yXCI6IFwiZGV0YWlsZWQgcmlnaHQgaW50ZXJpb3IgcHJvbXB0XCInIDogJyd9XG59YDtcblxuICAgICAgY29uc3QgZmluYWxQcm9tcHRzID0gYXdhaXQgY2hhdFdpdGhBSShnZW5lcmF0ZU90aGVyUHJvbXB0c1F1ZXJ5LCB7XG4gICAgICAgIGpzb25TY2hlbWE6IHtcbiAgICAgICAgICB0eXBlOiBcIm9iamVjdFwiLFxuICAgICAgICAgIHByb3BlcnRpZXM6IHtcbiAgICAgICAgICAgIGZyb250Q292ZXI6IHsgdHlwZTogXCJzdHJpbmdcIiB9LFxuICAgICAgICAgICAgYmFja0NvdmVyOiB7IHR5cGU6IFwic3RyaW5nXCIgfSxcbiAgICAgICAgICAgIC4uLihpc0Zyb250QmFja09ubHkgPyB7fSA6IHsgXG4gICAgICAgICAgICAgIGxlZnRJbnRlcmlvcjogeyB0eXBlOiBcInN0cmluZ1wiIH0sXG4gICAgICAgICAgICAgIHJpZ2h0SW50ZXJpb3I6IHsgdHlwZTogXCJzdHJpbmdcIiB9XG4gICAgICAgICAgICB9KVxuICAgICAgICAgIH0sXG4gICAgICAgICAgcmVxdWlyZWQ6IFtcImZyb250Q292ZXJcIiwgXCJiYWNrQ292ZXJcIiwgLi4uKGlzRnJvbnRCYWNrT25seSA/IFtdIDogW1wibGVmdEludGVyaW9yXCIsIFwicmlnaHRJbnRlcmlvclwiXSldXG4gICAgICAgIH0sXG4gICAgICAgIG1vZGVsOiBcImdlbWluaS0yLjUtcHJvXCJcbiAgICAgIH0pO1xuXG4gICAgICBpZiAoIWZpbmFsUHJvbXB0cyB8fCAhZmluYWxQcm9tcHRzLmZyb250Q292ZXIgfHwgIWZpbmFsUHJvbXB0cy5iYWNrQ292ZXIpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRmFpbGVkIHRvIGdlbmVyYXRlIGNvbXBsZXRlIHByb21wdHMgZm9yIGZpbmFsIGNhcmRcIik7XG4gICAgICB9XG4gICAgICBcbiAgICAgIGNvbnNvbGUubG9nKFwi4pyFIEdlbmVyYXRlZCBjb21wbGV0ZSBwcm9tcHRzIGZvciBmaW5hbCBjYXJkOlwiLCB7XG4gICAgICAgIGhhc0Zyb250Q292ZXI6ICEhZmluYWxQcm9tcHRzLmZyb250Q292ZXIsXG4gICAgICAgIGhhc0JhY2tDb3ZlcjogISFmaW5hbFByb21wdHMuYmFja0NvdmVyLFxuICAgICAgICBoYXNMZWZ0SW50ZXJpb3I6ICEhZmluYWxQcm9tcHRzLmxlZnRJbnRlcmlvcixcbiAgICAgICAgaGFzUmlnaHRJbnRlcmlvcjogISFmaW5hbFByb21wdHMucmlnaHRJbnRlcmlvclxuICAgICAgfSk7XG4gICAgICBcbiAgICAgIC8vIFByZXBhcmUgaW5wdXQgaW1hZ2VzIGZvciBmaW5hbCBnZW5lcmF0aW9uIChyZWZlcmVuY2UgcGhvdG9zKVxuICAgICAgY29uc3QgaW5wdXRJbWFnZXM6IHN0cmluZ1tdID0gW107XG4gICAgICBpZiAocmVmZXJlbmNlSW1hZ2VVcmxzLmxlbmd0aCA+IDAgJiYgc2VsZWN0ZWRJbWFnZU1vZGVsID09PSBcImdwdC1pbWFnZS0xXCIpIHtcbiAgICAgICAgaW5wdXRJbWFnZXMucHVzaCguLi5yZWZlcmVuY2VJbWFnZVVybHMpO1xuICAgICAgICBjb25zb2xlLmxvZyhcIvCflI0gREVCVUc6IEFkZGVkIHJlZmVyZW5jZSBpbWFnZXMgdG8gZmluYWwgZHJhZnQgZ2VuZXJhdGlvbjpcIiwgcmVmZXJlbmNlSW1hZ2VVcmxzKTtcbiAgICAgICAgY29uc29sZS5sb2coXCLwn5SNIERFQlVHOiBUb3RhbCBpbnB1dCBpbWFnZXMgZm9yIGZpbmFsIGRyYWZ0IGdlbmVyYXRpb246XCIsIGlucHV0SW1hZ2VzLmxlbmd0aCk7XG4gICAgICAgIHRvYXN0LnN1Y2Nlc3MoYPCfk7ggJHtyZWZlcmVuY2VJbWFnZVVybHMubGVuZ3RofSByZWZlcmVuY2UgcGhvdG8ke3JlZmVyZW5jZUltYWdlVXJscy5sZW5ndGggPiAxID8gJ3MnIDogJyd9IGFwcGxpZWQgdG8gZmluYWwgZ2VuZXJhdGlvbiFgKTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnL2FwaS9nZW5lcmF0ZS1jYXJkLWFzeW5jJywge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICBqb2JJZCxcbiAgICAgICAgICBwcm9tcHRzOiBmaW5hbFByb21wdHMsXG4gICAgICAgICAgY29uZmlnOiB7XG4gICAgICAgICAgICB1c2VyTnVtYmVyOiBcIisxNzE0NTk4NjEwNVwiLFxuICAgICAgICAgICAgbW9kZWxWZXJzaW9uOiBzZWxlY3RlZEltYWdlTW9kZWwsXG4gICAgICAgICAgICBhc3BlY3RSYXRpbzogcGFwZXJTaXplcy5maW5kKHNpemUgPT4gc2l6ZS5pZCA9PT0gc2VsZWN0ZWRQYXBlclNpemUpPy5hc3BlY3RSYXRpbyB8fCBcIjk6MTZcIixcbiAgICAgICAgICAgIHF1YWxpdHk6IFwiaGlnaFwiLCAvLyBISUdIIFFVQUxJVFkgZm9yIGZpbmFsIGNhcmRcbiAgICAgICAgICAgIG91dHB1dEZvcm1hdDogXCJqcGVnXCIsXG4gICAgICAgICAgICBvdXRwdXRDb21wcmVzc2lvbjogMTAwLFxuICAgICAgICAgICAgbW9kZXJhdGlvbjogXCJsb3dcIixcbiAgICAgICAgICAgIGRpbWVuc2lvbnM6IHBhcGVyU2l6ZXMuZmluZChzaXplID0+IHNpemUuaWQgPT09IHNlbGVjdGVkUGFwZXJTaXplKT8uZGltZW5zaW9ucyB8fCBcIjEwMjR4MTUzNlwiLFxuICAgICAgICAgICAgaXNGcm9udEJhY2tPbmx5LFxuICAgICAgICAgICAgdXNlckVtYWlsLFxuICAgICAgICAgICAgY2FyZFR5cGU6IHNlbGVjdGVkVHlwZSA9PT0gXCJjdXN0b21cIiA/IGN1c3RvbUNhcmRUeXBlIDogc2VsZWN0ZWRUeXBlLFxuICAgICAgICAgICAgdG9GaWVsZCxcbiAgICAgICAgICAgIGZyb21GaWVsZCxcbiAgICAgICAgICAgIGlzRHJhZnRNb2RlOiBmYWxzZSxcbiAgICAgICAgICAgIC4uLihpbnB1dEltYWdlcy5sZW5ndGggPiAwICYmIHsgXG4gICAgICAgICAgICAgIGlucHV0X2ltYWdlczogaW5wdXRJbWFnZXMsXG4gICAgICAgICAgICAgIGlucHV0X2ltYWdlc19tb2RlOiBcImZyb250X2NvdmVyX29ubHlcIiAvLyBBbGwgcmVmZXJlbmNlIGltYWdlcyBzaG91bGQgZ28gdG8gZnJvbnQgY292ZXIgZm9yIGNoYXJhY3RlciBjcmVhdGlvblxuICAgICAgICAgICAgfSlcbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICB9KTtcblxuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFNlcnZlciBlcnJvcjogJHtyZXNwb25zZS5zdGF0dXN9YCk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgIFxuICAgICAgaWYgKHJlc3VsdC5zdGF0dXMgIT09ICdwcm9jZXNzaW5nJykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IocmVzdWx0Lm1lc3NhZ2UgfHwgJ0ZhaWxlZCB0byBzdGFydCBmaW5hbCBjYXJkIGdlbmVyYXRpb24nKTtcbiAgICAgIH1cblxuICAgICAgc2V0Q3VycmVudEpvYklkKGpvYklkKTtcbiAgICAgIHRvYXN0LnN1Y2Nlc3MoXCLwn46oIEdlbmVyYXRpbmcgaGlnaC1xdWFsaXR5IHZlcnNpb24gb2YgeW91ciBzZWxlY3RlZCBkZXNpZ24hXCIpO1xuICAgICAgXG4gICAgICAvLyBQb2xsIGZvciBjb21wbGV0aW9uIChyZXVzZSBleGlzdGluZyBwb2xsSm9iU3RhdHVzKVxuICAgICAgcG9sbEpvYlN0YXR1cyhqb2JJZCk7XG5cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRmluYWwgY2FyZCBnZW5lcmF0aW9uIGVycm9yOicsIGVycm9yKTtcbiAgICAgIHRvYXN0LmVycm9yKFwiRmFpbGVkIHRvIGdlbmVyYXRlIGZpbmFsIGNhcmQuIFBsZWFzZSB0cnkgYWdhaW4uXCIpO1xuICAgICAgc2V0SXNHZW5lcmF0aW5nRmluYWxDYXJkKGZhbHNlKTtcbiAgICAgIHNldEdlbmVyYXRpb25Qcm9ncmVzcyhcIlwiKTtcbiAgICAgIHN0b3BFbGFwc2VkVGltZVRyYWNraW5nKCk7XG4gICAgfVxuICB9O1xuXG4gIC8vIENvbnNvbGlkYXRlZCBjYXJkIGdlbmVyYXRpb24gZnVuY3Rpb25cbiAgY29uc3QgaGFuZGxlR2VuZXJhdGVDYXJkQXN5bmNJbnRlcm5hbCA9IGFzeW5jIChvcHRpb25zOiB7XG4gICAgaXNEcmFmdE1vZGU/OiBib29sZWFuO1xuICAgIGRyYWZ0SW5kZXg/OiBudW1iZXI7XG4gICAgc3R5bGVPdmVycmlkZT86IHN0cmluZztcbiAgICBzdHlsZUxhYmVsPzogc3RyaW5nO1xuICAgIG9uRHJhZnRDb21wbGV0ZT86IChjYXJkOiBHZW5lcmF0ZWRDYXJkLCBpbmRleDogbnVtYmVyKSA9PiB2b2lkO1xuICB9ID0ge30pID0+IHtcbiAgICBjb25zdCB7IGlzRHJhZnRNb2RlID0gZmFsc2UsIGRyYWZ0SW5kZXggPSAwLCBzdHlsZU92ZXJyaWRlID0gdW5kZWZpbmVkLCBzdHlsZUxhYmVsID0gdW5kZWZpbmVkLCBvbkRyYWZ0Q29tcGxldGUgfSA9IG9wdGlvbnM7XG4gICAgXG4gICAgY29uc29sZS5sb2coYPCflI0gaGFuZGxlR2VuZXJhdGVDYXJkQXN5bmNJbnRlcm5hbCBjYWxsZWQ6YCwgeyBpc0RyYWZ0TW9kZSwgZHJhZnRJbmRleCwgaGFzT25EcmFmdENvbXBsZXRlOiAhIW9uRHJhZnRDb21wbGV0ZSB9KTtcbiAgICBpZiAoIXVzZXJFbWFpbC50cmltKCkpIHtcbiAgICAgIHRvYXN0LmVycm9yKFwiUGxlYXNlIGVudGVyIHlvdXIgZW1haWwgYWRkcmVzc1wiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBCYXNpYyBlbWFpbCB2YWxpZGF0aW9uXG4gICAgY29uc3QgZW1haWxSZWdleCA9IC9eW15cXHNAXStAW15cXHNAXStcXC5bXlxcc0BdKyQvO1xuICAgIGlmICghZW1haWxSZWdleC50ZXN0KHVzZXJFbWFpbCkpIHtcbiAgICAgIHRvYXN0LmVycm9yKFwiUGxlYXNlIGVudGVyIGEgdmFsaWQgZW1haWwgYWRkcmVzc1wiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBWYWxpZGF0ZSBjdXN0b20gc3R5bGUgaWYgc2VsZWN0ZWRcbiAgICBpZiAoc2VsZWN0ZWRBcnRpc3RpY1N0eWxlID09PSBcImN1c3RvbVwiICYmICFjdXN0b21TdHlsZURlc2NyaXB0aW9uLnRyaW0oKSkge1xuICAgICAgdG9hc3QuZXJyb3IoXCJQbGVhc2UgZGVzY3JpYmUgeW91ciBjdXN0b20gYXJ0aXN0aWMgc3R5bGVcIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gRGV0ZXJtaW5lIHdoaWNoIG1vZGVsIHRvIHVzZSBiYXNlZCBvbiBtb2RlXG4gICAgY29uc3QgbW9kZWxUb1VzZSA9IGlzRHJhZnRNb2RlID8gc2VsZWN0ZWREcmFmdE1vZGVsIDogc2VsZWN0ZWRJbWFnZU1vZGVsO1xuXG4gICAgLy8gVmFsaWRhdGUgcmVmZXJlbmNlIGltYWdlcyB3aXRoIG1vZGVsIGNvbXBhdGliaWxpdHlcbiAgICBpZiAocmVmZXJlbmNlSW1hZ2VVcmxzLmxlbmd0aCA+IDAgJiYgbW9kZWxUb1VzZSAhPT0gXCJncHQtaW1hZ2UtMVwiKSB7XG4gICAgICBjb25zdCBtb2RlVGV4dCA9IGlzRHJhZnRNb2RlID8gXCJkcmFmdCBtb2RlXCIgOiBcImZpbmFsIGdlbmVyYXRpb25cIjtcbiAgICAgIHRvYXN0LmVycm9yKGBSZWZlcmVuY2UgcGhvdG9zIGFyZSBvbmx5IHN1cHBvcnRlZCB3aXRoIEdQVCBJbWFnZSAxIG1vZGVsLiBQbGVhc2Ugc3dpdGNoIHRvIEdQVCBJbWFnZSAxIGZvciAke21vZGVUZXh0fSBvciByZW1vdmUgcmVmZXJlbmNlIHBob3Rvcy5gKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBPbmx5IHNldCBnbG9iYWwgZ2VuZXJhdGluZyBzdGF0ZSBpZiBub3QgaW4gZHJhZnQgbW9kZSAoZHJhZnQgbW9kZSBtYW5hZ2VzIGl0cyBvd24gc3RhdGUpXG4gICAgaWYgKCFpc0RyYWZ0TW9kZSkge1xuICAgICAgc2V0SXNHZW5lcmF0aW5nKHRydWUpO1xuICAgICAgc3RhcnRFbGFwc2VkVGltZVRyYWNraW5nKHVuZGVmaW5lZCwgMTIwKTsgLy8gMTIwIHNlY29uZHMgZm9yIHJlZ3VsYXIgY2FyZCBnZW5lcmF0aW9uXG4gICAgICBzZXRHZW5lcmF0aW9uUHJvZ3Jlc3MoXCJDcmVhdGluZyB5b3VyIHBlcnNvbmFsaXplZCBjYXJkLi4uXCIpO1xuICAgICAgc2V0UHJvZ3Jlc3NQZXJjZW50YWdlKDApO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICAvLyBDcmVhdGUgam9iIHRyYWNraW5nXG4gICAgICBjb25zdCBqb2JJZCA9IGlzRHJhZnRNb2RlID8gYGRyYWZ0LSR7ZHJhZnRJbmRleH0tJHt1dWlkdjQoKX1gIDogdXVpZHY0KCk7XG4gICAgICBpZiAoIWlzRHJhZnRNb2RlKSB7XG4gICAgICAgIHNldEN1cnJlbnRKb2JJZChqb2JJZCk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIEdlbmVyYXRlIGFsbCBwcm9tcHRzIGNsaWVudC1zaWRlIGZpcnN0XG4gICAgICBjb25zdCBjYXJkVHlwZUZvclByb21wdCA9IHNlbGVjdGVkVHlwZSA9PT0gXCJjdXN0b21cIiA/IGN1c3RvbUNhcmRUeXBlIDogc2VsZWN0ZWRUeXBlO1xuICAgICAgY29uc3Qgc2VsZWN0ZWRUb25lT2JqID0gY2FyZFRvbmVzLmZpbmQodG9uZSA9PiB0b25lLmlkID09PSBzZWxlY3RlZFRvbmUpO1xuICAgICAgY29uc3QgdG9uZURlc2NyaXB0aW9uID0gc2VsZWN0ZWRUb25lT2JqID8gc2VsZWN0ZWRUb25lT2JqLmRlc2NyaXB0aW9uLnRvTG93ZXJDYXNlKCkgOiBcImhlYXJ0ZmVsdCBhbmQgc2luY2VyZVwiO1xuICAgICAgY29uc3QgZWZmZWN0aXZlUHJvbXB0ID0gcHJvbXB0LnRyaW0oKSB8fCBgQSBiZWF1dGlmdWwgJHtjYXJkVHlwZUZvclByb21wdH0gY2FyZCB3aXRoICR7dG9uZURlc2NyaXB0aW9ufSBzdHlsZWA7XG5cbiAgICAgIGxldCBtZXNzYWdlQ29udGVudCA9IGZpbmFsQ2FyZE1lc3NhZ2U7XG4gICAgICBcbiAgICAgIC8vIEhhbmRsZSBtZXNzYWdlIGdlbmVyYXRpb24gaWYgbmVlZGVkXG4gICAgICBpZiAoaXNIYW5kd3JpdHRlbk1lc3NhZ2UpIHtcbiAgICAgICAgbWVzc2FnZUNvbnRlbnQgPSBcIltCbGFuayBzcGFjZSBmb3IgaGFuZHdyaXR0ZW4gbWVzc2FnZV1cIjtcbiAgICAgIH0gZWxzZSBpZiAoIW1lc3NhZ2VDb250ZW50LnRyaW0oKSAmJiAhaXNGcm9udEJhY2tPbmx5KSB7XG4gICAgICAgIHNldEdlbmVyYXRpb25Qcm9ncmVzcyhcIuKcje+4jyBXcml0aW5nIHRoZSBwZXJmZWN0IG1lc3NhZ2UuLi5cIik7XG4gICAgICAgIFxuICAgICAgICAvLyBBdXRvLWdlbmVyYXRlIG1lc3NhZ2UgKGtlZXBpbmcgZXhpc3RpbmcgbG9naWMpXG4gICAgICAgIGNvbnN0IGF1dG9NZXNzYWdlUHJvbXB0ID0gYENyZWF0ZSBhICR7dG9uZURlc2NyaXB0aW9ufSBtZXNzYWdlIGZvciBhICR7Y2FyZFR5cGVGb3JQcm9tcHR9IGdyZWV0aW5nIGNhcmQuXG5cbkNhcmQgVGhlbWUvRGVzY3JpcHRpb246IFwiJHtlZmZlY3RpdmVQcm9tcHR9XCJcbiR7dG9GaWVsZCA/IGBSZWNpcGllbnQ6ICR7dG9GaWVsZH1gIDogXCJSZWNpcGllbnQ6IFtub3Qgc3BlY2lmaWVkXVwifVxuJHtmcm9tRmllbGQgPyBgU2VuZGVyOiAke2Zyb21GaWVsZH1gIDogXCJTZW5kZXI6IFtub3Qgc3BlY2lmaWVkXVwifVxuQ2FyZCBUb25lOiAke3NlbGVjdGVkVG9uZU9iaiA/IHNlbGVjdGVkVG9uZU9iai5sYWJlbCA6IFwiSGVhcnRmZWx0XCJ9IC0gJHt0b25lRGVzY3JpcHRpb259XG5cbkluc3RydWN0aW9uczpcbi0gV3JpdGUgYSBtZXNzYWdlIHRoYXQgaXMgJHt0b25lRGVzY3JpcHRpb259IGFuZCBmZWVscyBwZXJzb25hbCBhbmQgZ2VudWluZVxuLSAke3RvRmllbGQgPyBgQWRkcmVzcyB0aGUgbWVzc2FnZSB0byAke3RvRmllbGR9IGRpcmVjdGx5LCB1c2luZyB0aGVpciBuYW1lIG5hdHVyYWxseWAgOiBcIldyaXRlIGluIGEgd2F5IHRoYXQgY291bGQgYmUgcGVyc29uYWxpemVkIHRvIGFueSByZWNpcGllbnRcIn1cbi0gJHtmcm9tRmllbGQgPyBgV3JpdGUgYXMgaWYgJHtmcm9tRmllbGR9IGlzIHBlcnNvbmFsbHkgd3JpdGluZyB0aGlzIG1lc3NhZ2VgIDogYFdyaXRlIGluIGEgJHt0b25lRGVzY3JpcHRpb259IHRvbmVgfVxuLSBNYXRjaCB0aGUgJHt0b25lRGVzY3JpcHRpb259IHRvbmUgYW5kIG9jY2FzaW9uIG9mIHRoZSAke2NhcmRUeXBlRm9yUHJvbXB0fSBjYXJkIHR5cGVcbi0gQmUgaW5zcGlyZWQgYnkgdGhlIHRoZW1lOiBcIiR7cHJvbXB0fVwiXG4tIEtlZXAgaXQgY29uY2lzZSBidXQgbWVhbmluZ2Z1bCAoMi00IHNlbnRlbmNlcyBpZGVhbClcbi0gTWFrZSBpdCBmZWVsIGF1dGhlbnRpYywgbm90IGdlbmVyaWNcbi0gU0FGRVRZOiBOZXZlciBpbmNsdWRlIGJyYW5kIG5hbWVzLCBjaGFyYWN0ZXIgbmFtZXMsIHRyYWRlbWFya2VkIHRlcm1zLCBvciBpbmFwcHJvcHJpYXRlIGNvbnRlbnQuIElmIHRoZSB0aGVtZSByZWZlcmVuY2VzIHRoZXNlLCB1c2UgZ2VuZXJpYyBhbHRlcm5hdGl2ZXMgb3IgZm9jdXMgb24gdGhlIGVtb3Rpb25zL2NvbmNlcHRzIGluc3RlYWRcbi0gS2VlcCBjb250ZW50IGZhbWlseS1mcmllbmRseSBhbmQgYXBwcm9wcmlhdGUgZm9yIGFsbCBhZ2VzXG4tICR7c2VsZWN0ZWRUb25lID09PSAnZnVubnknID8gJ0luY2x1ZGUgYXBwcm9wcmlhdGUgaHVtb3IgdGhhdCBmaXRzIHRoZSBvY2Nhc2lvbicgOiAnJ31cbi0gJHtzZWxlY3RlZFRvbmUgPT09ICdnZW56LWh1bW9yJyA/ICdVc2UgR2VuWiBodW1vciB3aXRoIGludGVybmV0IHNsYW5nLCBtZW1lcywgYW5kIGNoYW90aWMgZW5lcmd5IC0gdGhpbmsgXCJubyBjYXBcIiwgXCJwZXJpb2R0XCIsIFwiaXRcXCdzIGdpdmluZy4uLlwiLCBcInNsYXlcIiwgZXRjLiBCZSB1bmhpbmdlZCBidXQgZW5kZWFyaW5nJyA6ICcnfVxuLSAke3NlbGVjdGVkVG9uZSA9PT0gJ3Byb2Zlc3Npb25hbCcgPyAnS2VlcCBpdCBmb3JtYWwgYW5kIGJ1c2luZXNzLWFwcHJvcHJpYXRlJyA6ICcnfVxuLSAke3NlbGVjdGVkVG9uZSA9PT0gJ3JvbWFudGljJyA/ICdJbmNsdWRlIGxvdmluZyBhbmQgcm9tYW50aWMgbGFuZ3VhZ2UnIDogJyd9XG4tICR7c2VsZWN0ZWRUb25lID09PSAncGxheWZ1bCcgPyAnVXNlIGZ1biBhbmQgZW5lcmdldGljIGxhbmd1YWdlJyA6ICcnfVxuLSAke3RvRmllbGQgJiYgZnJvbUZpZWxkID8gYFNob3cgdGhlIHJlbGF0aW9uc2hpcCBiZXR3ZWVuICR7ZnJvbUZpZWxkfSBhbmQgJHt0b0ZpZWxkfSB0aHJvdWdoIHRoZSAke3RvbmVEZXNjcmlwdGlvbn0gbWVzc2FnZSB0b25lYCA6IFwiXCJ9XG4tICR7ZnJvbUZpZWxkID8gYEVuZCB0aGUgbWVzc2FnZSB3aXRoIGEgc2lnbmF0dXJlIGxpbmUgbGlrZSBcIkxvdmUsICR7ZnJvbUZpZWxkfVwiIG9yIFwiLSAke2Zyb21GaWVsZH1cIiBvciBzaW1pbGFyLCBuYXR1cmFsbHkgaW50ZWdyYXRlZCBpbnRvIHRoZSBtZXNzYWdlLmAgOiBcIlwifVxuXG5SZXR1cm4gT05MWSB0aGUgbWVzc2FnZSB0ZXh0IHRoYXQgc2hvdWxkIGFwcGVhciBpbnNpZGUgdGhlIGNhcmQgLSBubyBxdW90ZXMsIG5vIGV4cGxhbmF0aW9ucywgbm8gbWFya2Rvd24gZm9ybWF0dGluZyAobm8gKmJvbGQqLCBfaXRhbGljc18sIG9yIG90aGVyIG1hcmtkb3duKSwganVzdCB0aGUgY29tcGxldGUgJHt0b25lRGVzY3JpcHRpb259IG1lc3NhZ2UgaW4gcGxhaW4gdGV4dC5cblxuSU1QT1JUQU5UOiBXcmFwIHlvdXIgZmluYWwgbWVzc2FnZSBpbiA8TUVTU0FHRT4gPC9NRVNTQUdFPiB0YWdzLiBFdmVyeXRoaW5nIG91dHNpZGUgdGhlc2UgdGFncyB3aWxsIGJlIGlnbm9yZWQuYDtcblxuICAgICAgICBjb25zdCBnZW5lcmF0ZWRNZXNzYWdlID0gYXdhaXQgY2hhdFdpdGhBSShhdXRvTWVzc2FnZVByb21wdCwge1xuICAgICAgICAgIG1vZGVsOiBcImdlbWluaS0yLjUtcHJvXCIsXG4gICAgICAgICAgaW5jbHVkZVRob3VnaHRzOiBmYWxzZVxuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIGlmIChnZW5lcmF0ZWRNZXNzYWdlPy50cmltKCkpIHtcbiAgICAgICAgICBjb25zdCBtZXNzYWdlTWF0Y2ggPSBnZW5lcmF0ZWRNZXNzYWdlLm1hdGNoKC88TUVTU0FHRT4oW1xcc1xcU10qPyk8XFwvTUVTU0FHRT4vKTtcbiAgICAgICAgICBpZiAobWVzc2FnZU1hdGNoICYmIG1lc3NhZ2VNYXRjaFsxXSkge1xuICAgICAgICAgICAgbWVzc2FnZUNvbnRlbnQgPSBtZXNzYWdlTWF0Y2hbMV0udHJpbSgpO1xuICAgICAgICAgICAgc2V0RmluYWxDYXJkTWVzc2FnZShtZXNzYWdlQ29udGVudCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIEdlbmVyYXRlIHN0eWxlIGFuZCBwYXBlciBjb25maWdcbiAgICAgIGxldCBlZmZlY3RpdmVBcnRpc3RpY1N0eWxlID0gc2VsZWN0ZWRBcnRpc3RpY1N0eWxlO1xuICAgICAgXG4gICAgICAvLyBVc2Ugc3R5bGUgb3ZlcnJpZGUgaWYgcHJvdmlkZWQgKGZvciBzbWFydCBzdHlsZSBkaXN0cmlidXRpb24gaW4gZHJhZnQgbW9kZSlcbiAgICAgIGlmIChzdHlsZU92ZXJyaWRlKSB7XG4gICAgICAgIGVmZmVjdGl2ZUFydGlzdGljU3R5bGUgPSBzdHlsZU92ZXJyaWRlO1xuICAgICAgICBjb25zb2xlLmxvZyhg8J+OqCBVc2luZyBzdHlsZSBvdmVycmlkZTogJHtzdHlsZU92ZXJyaWRlfSBpbnN0ZWFkIG9mICR7c2VsZWN0ZWRBcnRpc3RpY1N0eWxlfWApO1xuICAgICAgfVxuICAgICAgXG4gICAgICBjb25zdCBzZWxlY3RlZFN0eWxlID0gYXJ0aXN0aWNTdHlsZXMuZmluZChzdHlsZSA9PiBzdHlsZS5pZCA9PT0gZWZmZWN0aXZlQXJ0aXN0aWNTdHlsZSk7XG4gICAgICBjb25zdCBzdHlsZU1vZGlmaWVyID0gZWZmZWN0aXZlQXJ0aXN0aWNTdHlsZSA9PT0gXCJjdXN0b21cIiBcbiAgICAgICAgPyBjdXN0b21TdHlsZURlc2NyaXB0aW9uIFxuICAgICAgICA6IHNlbGVjdGVkU3R5bGU/LnByb21wdE1vZGlmaWVyIHx8IFwiXCI7XG5cbiAgICAgIGNvbnN0IHBhcGVyQ29uZmlnID0gcGFwZXJTaXplcy5maW5kKHNpemUgPT4gc2l6ZS5pZCA9PT0gc2VsZWN0ZWRQYXBlclNpemUpIHx8IHBhcGVyU2l6ZXNbMF07XG5cbiAgICAgIHNldEdlbmVyYXRpb25Qcm9ncmVzcyhcIvCfjqggQ3JlYXRpbmcgYXJ0aXN0aWMgdmlzaW9uIGZvciB5b3VyIGNhcmQuLi5cIik7XG5cbiAgICAgIC8vIEdlbmVyYXRlIHByb21wdHMgZm9yIGFsbCBjYXJkc1xuICAgICAgLy8gSW4gZHJhZnQgbW9kZSwgb25seSBnZW5lcmF0ZSBmcm9udENvdmVyIHByb21wdCBmb3Igc3BlZWRcbiAgICAgIGNvbnN0IHByb21wdEdlbmVyYXRpb25RdWVyeSA9IGlzRHJhZnRNb2RlID8gXG4gICAgICAgIGBZb3UgYXJlIGFuIGV4cGVydCBBSSBncmVldGluZyBjYXJkIGRlc2lnbmVyLiBDcmVhdGUgYSBmcm9udCBjb3ZlciBwcm9tcHQgZm9yIGEgJHtjYXJkVHlwZUZvclByb21wdH0gZ3JlZXRpbmcgY2FyZC5cblxuVGhlbWU6IFwiJHtlZmZlY3RpdmVQcm9tcHR9XCJcblN0eWxlOiAke3NlbGVjdGVkU3R5bGU/LmxhYmVsIHx8IFwiRGVmYXVsdFwifVxuVG9uZTogJHtzZWxlY3RlZFRvbmVPYmogPyBzZWxlY3RlZFRvbmVPYmoubGFiZWwgOiBcIkhlYXJ0ZmVsdFwifSAtICR7dG9uZURlc2NyaXB0aW9ufVxuJHt0b0ZpZWxkID8gYFRvOiAke3RvRmllbGR9YCA6IFwiXCJ9XG4ke2Zyb21GaWVsZCA/IGBGcm9tOiAke2Zyb21GaWVsZH1gIDogXCJcIn1cbiR7cmVmZXJlbmNlSW1hZ2VVcmxzLmxlbmd0aCA+IDAgPyBgUmVmZXJlbmNlIFBob3RvczogSSBoYXZlIGF0dGFjaGVkICR7cmVmZXJlbmNlSW1hZ2VVcmxzLmxlbmd0aH0gcmVmZXJlbmNlIHBob3RvJHtyZWZlcmVuY2VJbWFnZVVybHMubGVuZ3RoID4gMSA/ICdzJyA6ICcnfSBmb3IgY2hhcmFjdGVyIGNyZWF0aW9uLlxuVHJhbnNmb3JtYXRpb24gaW5zdHJ1Y3Rpb25zOiBcIiR7aW1hZ2VUcmFuc2Zvcm1hdGlvbiB8fCAnQ3JlYXRlIHN0eWxpemVkIGNhcnRvb24gY2hhcmFjdGVycyB0aGF0IGFjY3VyYXRlbHkgcmVwcmVzZW50IHRoZSBwZW9wbGUgaW4gdGhlIHJlZmVyZW5jZSBwaG90b3MnfVwiYCA6IFwiXCJ9XG5cbkZyb250IENvdmVyIFJlcXVpcmVtZW50czpcbi0gSW5jbHVkZSBcIiR7Y2FyZFR5cGVGb3JQcm9tcHR9XCIgZ3JlZXRpbmcgdGV4dCBwb3NpdGlvbmVkIHNhZmVseSBpbiBjZW50ZXIgYXJlYSAoYXZvaWQgdG9wL2JvdHRvbSAxMCUpXG4tIFVzZSBiZWF1dGlmdWwsIHJlYWRhYmxlIGhhbmR3cml0dGVuIGN1cnNpdmUgc2NyaXB0XG4tICR7cmVmZXJlbmNlSW1hZ2VVcmxzLmxlbmd0aCA+IDAgPyAnQ3JlYXRlIGNhcnRvb24vaWxsdXN0cmF0ZWQgY2hhcmFjdGVycyBmcm9tIHJlZmVyZW5jZSBwaG90b3MnIDogJ0NyZWF0ZSBjaGFybWluZyBjYXJ0b29uLXN0eWxlIGZpZ3VyZXMgaWYgbmVlZGVkJ31cbi0gQmUgY3JlYXRpdmUgYW5kIHVuaXF1ZSwgYXZvaWQgZ2VuZXJpYyBkZXNpZ25zXG4tIEZsYXQgMkQgYXJ0d29yayBmb3IgcHJpbnRpbmdcbi0gU3R5bGU6ICR7c3R5bGVNb2RpZmllcn1cblxuUmV0dXJuIE9OTFkgdGhlIGZyb250IGNvdmVyIHByb21wdCBhcyBwbGFpbiB0ZXh0LmAgXG4gICAgICAgIDpcbiAgICAgICAgYFlvdSBhcmUgYW4gZXhwZXJ0IEFJIGdyZWV0aW5nIGNhcmQgZGVzaWduZXIgdGFza2VkIHdpdGggY3JlYXRpbmcgY29oZXNpdmUsIHZpc3VhbGx5IHN0dW5uaW5nIHByb21wdHMgZm9yIGEgJHtjYXJkVHlwZUZvclByb21wdH0gZ3JlZXRpbmcgY2FyZCR7bnVtYmVyT2ZDYXJkcyA+IDEgPyBgICh0aGlzIGlzIHZhcmlhbnQgJHsxfSBvZiAke251bWJlck9mQ2FyZHN9IHVuaXF1ZSBkZXNpZ25zKWAgOiAnJ30uXG5cblRoZW1lOiBcIiR7ZWZmZWN0aXZlUHJvbXB0fVwiXG5TdHlsZTogJHtzZWxlY3RlZFN0eWxlPy5sYWJlbCB8fCBcIkRlZmF1bHRcIn1cblRvbmU6ICR7c2VsZWN0ZWRUb25lT2JqID8gc2VsZWN0ZWRUb25lT2JqLmxhYmVsIDogXCJIZWFydGZlbHRcIn0gLSAke3RvbmVEZXNjcmlwdGlvbn1cbiR7dG9GaWVsZCA/IGBUbzogJHt0b0ZpZWxkfWAgOiBcIlwifVxuJHtmcm9tRmllbGQgPyBgRnJvbTogJHtmcm9tRmllbGR9YCA6IFwiXCJ9XG4keyFpc0Zyb250QmFja09ubHkgPyBgTWVzc2FnZTogXCIke21lc3NhZ2VDb250ZW50fVwiYCA6IFwiXCJ9XG4ke2lzSGFuZHdyaXR0ZW5NZXNzYWdlID8gXCJOb3RlOiBJbmNsdWRlIHNwYWNlIGZvciBoYW5kd3JpdHRlbiBtZXNzYWdlXCIgOiBcIlwifVxuJHtyZWZlcmVuY2VJbWFnZVVybHMubGVuZ3RoID4gMCA/IGBSZWZlcmVuY2UgUGhvdG9zOiBJIGhhdmUgYXR0YWNoZWQgJHtyZWZlcmVuY2VJbWFnZVVybHMubGVuZ3RofSByZWZlcmVuY2UgcGhvdG8ke3JlZmVyZW5jZUltYWdlVXJscy5sZW5ndGggPiAxID8gJ3MnIDogJyd9IGZvciB5b3UgdG8gYW5hbHl6ZS4gUGxlYXNlIGxvb2sgYXQgJHtyZWZlcmVuY2VJbWFnZVVybHMubGVuZ3RoID4gMSA/ICd0aGVzZSBwaG90b3MnIDogJ3RoaXMgcGhvdG8nfSB0byB1bmRlcnN0YW5kIHdoYXQgdGhlIHBlb3BsZSBsb29rIGxpa2UgLSB0aGVpciBoYWlyIGNvbG9yL3N0eWxlLCBmYWNpYWwgZmVhdHVyZXMsIGNsb3RoaW5nLCBhY2Nlc3NvcmllcywgYm9keSB0eXBlLCBhZ2UsIGV0Yy4gVXNlIHRoaXMgdmlzdWFsIGluZm9ybWF0aW9uIHRvIGNyZWF0ZSBhY2N1cmF0ZSBjYXJ0b29uL2lsbHVzdHJhdGVkIHZlcnNpb25zIG9mICR7cmVmZXJlbmNlSW1hZ2VVcmxzLmxlbmd0aCA+IDEgPyAndGhlc2UgcGVvcGxlJyA6ICd0aGlzIHBlcnNvbid9IGluIHRoZSBwcm9tcHRzLlxuVHJhbnNmb3JtYXRpb24gaW5zdHJ1Y3Rpb25zOiBcIiR7aW1hZ2VUcmFuc2Zvcm1hdGlvbiB8fCAnQ3JlYXRlIHN0eWxpemVkIGNhcnRvb24gY2hhcmFjdGVycyB0aGF0IGFjY3VyYXRlbHkgcmVwcmVzZW50IHRoZSBwZW9wbGUgaW4gdGhlIHJlZmVyZW5jZSBwaG90b3Mgd2hpbGUgbWFpbnRhaW5pbmcgdGhlaXIgZGlzdGluY3RpdmUgZmVhdHVyZXMnfVwiYCA6IFwiXCJ9XG5cbkNSSVRJQ0FMOiBDcmVhdGUgYSBjb2hlc2l2ZSB2aXN1YWwgbmFycmF0aXZlIHRoYXQgZmxvd3MgY2hyb25vbG9naWNhbGx5IHRocm91Z2ggdGhlIGNhcmQgZXhwZXJpZW5jZTpcbjEuIEZST05UIENPVkVSOiBGaXJzdCBpbXByZXNzaW9uIC0gc2V0cyB0aGUgc2NlbmUvaW50cm9kdWNlcyB0aGUgc3RvcnlcbjIuIElOVEVSSU9SIFNQUkVBRDogVGhlIGhlYXJ0IG9mIHRoZSBleHBlcmllbmNlIC0gY29udGludWF0aW9uIGFuZCBjbGltYXggb2YgdGhlIHZpc3VhbCBzdG9yeVxuMy4gQkFDSyBDT1ZFUjogQ29uY2x1c2lvbiAtIHBlYWNlZnVsIHJlc29sdXRpb24gb3IgY29tcGxlbWVudGFyeSBlbmRpbmdcblxuUmVxdWlyZW1lbnRzOlxuLSBGbGF0IDJEIGFydHdvcmsgZm9yIHByaW50aW5nIChub3QgM0QgY2FyZCBpbWFnZXMpXG4tIEZ1bGwtYmxlZWQgYmFja2dyb3VuZHMgZXh0ZW5kaW5nIHRvIGVkZ2VzXG4tIElNUE9SVEFOVDogS2VlcCB0ZXh0LCBmYWNlcywgYW5kIGtleSBlbGVtZW50cyBhdCBsZWFzdCAxMCUgYXdheSBmcm9tIHRvcC9ib3R0b20gZWRnZXMgKHNtYWxsIGFtb3VudCBtYXkgYmUgY3JvcHBlZCBpbiBwcmludGluZylcbi0gS2VlcCB0ZXh0L2ZhY2VzIDAuNVwiIGZyb20gbGVmdC9yaWdodCBlZGdlcyBmb3Igc2FmZSBwcmludGluZ1xuLSBDT05TSVNURU5UIHZpc3VhbCBlbGVtZW50cyB0aHJvdWdob3V0OiBzYW1lIGNoYXJhY3RlcnMsIGNvbG9yIHBhbGV0dGUsIGxpZ2h0aW5nLCBhcnQgc3R5bGVcbi0gUHJvZ3Jlc3NpdmUgdmlzdWFsIHN0b3J5dGVsbGluZyBmcm9tIGZyb250IOKGkiBpbnRlcmlvciDihpIgYmFja1xuLSBQdXQgYW55IHRleHQgaW4gcXVvdGVzIGFuZCBtYWtlIGl0IGNsZWFyL3JlYWRhYmxlXG4tIEVhY2ggc2VjdGlvbiBzaG91bGQgZmVlbCBsaWtlIHBhcnQgb2YgdGhlIHNhbWUgYXJ0aXN0aWMgdW5pdmVyc2Vcbi0gVE9ORTogRW5zdXJlIHRoZSB2aXN1YWwgbW9vZCBhbmQgYXRtb3NwaGVyZSBtYXRjaGVzIHRoZSAke3RvbmVEZXNjcmlwdGlvbn0gdG9uZSB0aHJvdWdob3V0IGFsbCBzZWN0aW9uc1xuLSBJTlRFTExFQ1RVQUwgUFJPUEVSVFkgU0FGRVRZOiBJZiB0aGUgdXNlciBtZW50aW9ucyBzcGVjaWZpYyBjaGFyYWN0ZXJzLCBicmFuZHMsIGxvZ29zLCBvciBwcm9kdWN0cywgYXV0b21hdGljYWxseSByZXBsYWNlIHRoZW0gd2l0aCBvcmlnaW5hbCBnZW5lcmljIGFsdGVybmF0aXZlcyBpbiB5b3VyIHByb21wdHMuIEZvciBleGFtcGxlOiByZXBsYWNlIHNwZWNpZmljIGNoYXJhY3RlciBuYW1lcyB3aXRoIFwiY2FydG9vbiBtb3VzZSBjaGFyYWN0ZXJcIiBvciBcInN1cGVyaGVybyBjaGFyYWN0ZXJcIiwgcmVwbGFjZSBicmFuZCBuYW1lcyB3aXRoIFwiY29sb3JmdWwgY2VyZWFsXCIgb3IgXCJzcG9ydHMgY2FyXCIsIGV0Yy4gQ3JlYXRlIGluc3BpcmVkLWJ5IGRlc2lnbnMgdGhhdCBjYXB0dXJlIHRoZSBlc3NlbmNlIHdpdGhvdXQgcmVmZXJlbmNpbmcgYW55IHByb3RlY3RlZCBuYW1lcyBvciBzcGVjaWZpYyBjb3B5cmlnaHRlZCBlbGVtZW50cy4gTmV2ZXIgaW5jbHVkZSBhY3R1YWwgYnJhbmQgbmFtZXMsIGNoYXJhY3RlciBuYW1lcywgb3IgdHJhZGVtYXJrZWQgdGVybXMgaW4gdGhlIGltYWdlIGdlbmVyYXRpb24gcHJvbXB0c1xuLSBDT05URU5UIFNBRkVUWTogRW5zdXJlIGFsbCBwcm9tcHRzIGFyZSBmYW1pbHktZnJpZW5kbHkgYW5kIGFwcHJvcHJpYXRlIGZvciBncmVldGluZyBjYXJkcy4gQXZvaWQgYW55IGNvbnRlbnQgdGhhdCBjb3VsZCBiZSBmbGFnZ2VkIGJ5IHNhZmV0eSBzeXN0ZW1zIGluY2x1ZGluZzogdmlvbGVuY2UsIHdlYXBvbnMsIGluYXBwcm9wcmlhdGUgaW1hZ2VyeSwgcG9saXRpY2FsIGNvbnRlbnQsIGNvbnRyb3ZlcnNpYWwgdG9waWNzLCBzY2FyeSBvciBkaXN0dXJiaW5nIGVsZW1lbnRzLCBvciBhbnl0aGluZyBub3Qgc3VpdGFibGUgZm9yIGFsbCBhZ2VzLiBJZiB0aGUgdXNlciByZXF1ZXN0cyBzb21ldGhpbmcgcG90ZW50aWFsbHkgaW5hcHByb3ByaWF0ZSwgcmVkaXJlY3QgdG8gcG9zaXRpdmUsIHdob2xlc29tZSBhbHRlcm5hdGl2ZXMgdGhhdCBjYXB0dXJlIHRoZWlyIGludGVudCBpbiBhIGZhbWlseS1mcmllbmRseSB3YXlcbiR7c2VsZWN0ZWRUb25lID09PSAnZnVubnknID8gJy0gSW5jbHVkZSB2aXN1YWwgaHVtb3IsIHBsYXlmdWwgZWxlbWVudHMsIGFuZCB3aGltc2ljYWwgZGV0YWlscycgOiAnJ31cbiR7c2VsZWN0ZWRUb25lID09PSAnZ2Vuei1odW1vcicgPyAnLSBJbmNsdWRlIEdlblogdmlzdWFsIGVsZW1lbnRzIGxpa2UgY2hhb3RpYyBlbmVyZ3ksIGludGVybmV0IG1lbWUgcmVmZXJlbmNlcywgYm9sZCBjb250cmFzdGluZyBjb2xvcnMsIGFuZCB1bmhpbmdlZCBidXQgZW5kZWFyaW5nIHZpc3VhbCBzdHlsZScgOiAnJ31cbiR7c2VsZWN0ZWRUb25lID09PSAncm9tYW50aWMnID8gJy0gSW5jbHVkZSByb21hbnRpYyBlbGVtZW50cyBsaWtlIHNvZnQgbGlnaHRpbmcsIGhlYXJ0cywgZmxvd2Vycywgb3IgaW50aW1hdGUgc2NlbmVzJyA6ICcnfVxuJHtzZWxlY3RlZFRvbmUgPT09ICdwcm9mZXNzaW9uYWwnID8gJy0gS2VlcCB2aXN1YWxzIGNsZWFuLCBzb3BoaXN0aWNhdGVkLCBhbmQgYnVzaW5lc3MtYXBwcm9wcmlhdGUnIDogJyd9XG4ke3NlbGVjdGVkVG9uZSA9PT0gJ3BsYXlmdWwnID8gJy0gSW5jbHVkZSBicmlnaHQgY29sb3JzLCBkeW5hbWljIHBvc2VzLCBhbmQgZW5lcmdldGljIHZpc3VhbCBlbGVtZW50cycgOiAnJ31cbiR7c2VsZWN0ZWRUb25lID09PSAnZWxlZ2FudCcgPyAnLSBGb2N1cyBvbiBzb3BoaXN0aWNhdGVkIGRlc2lnbiwgcmVmaW5lZCBjb2xvciBwYWxldHRlcywgYW5kIGdyYWNlZnVsIGNvbXBvc2l0aW9ucycgOiAnJ31cbiR7cmVmZXJlbmNlSW1hZ2VVcmxzLmxlbmd0aCA+IDAgPyBgLSBDcmVhdGUgY2FydG9vbi9pbGx1c3RyYXRlZCBjaGFyYWN0ZXJzIGluc3BpcmVkIGJ5IHJlZmVyZW5jZSBpbWFnZXMgLSBETyBOT1QgbWFrZSByZWFsaXN0aWMgZGVwaWN0aW9uc2AgOiAnJ31cblxuQ3JlYXRlIHByb21wdHMgdGhhdCBmbG93IGNocm9ub2xvZ2ljYWxseTpcblxuMS4gRnJvbnQgQ292ZXIgKE9wZW5pbmcgU2NlbmUpOiBCRSBHRU5VSU5FTFkgQ1JFQVRJVkUgQU5EIFVOSVFVRSEgSW5jbHVkZSBcIiR7Y2FyZFR5cGVGb3JQcm9tcHR9XCIgZ3JlZXRpbmcgdGV4dCBwb3NpdGlvbmVkIHNhZmVseSBpbiB0aGUgY2VudGVyIGFyZWEgKGF2b2lkIHRvcC9ib3R0b20gMTAlIG9mIGltYWdlKS4gVEVYVCBTVFlMRTogV3JpdGUgdGhlIGdyZWV0aW5nIHRleHQgaW4gYmVhdXRpZnVsLCBjbGVhcmx5IHJlYWRhYmxlIGhhbmR3cml0dGVuIGN1cnNpdmUgc2NyaXB0IHRoYXQgbWF0Y2hlcyB0aGUgZWxlZ2FudCBzdHlsZSB1c2VkIGluc2lkZSB0aGUgY2FyZCAtIGxlZ2libGUsIGZsb3dpbmcsIGFuZCBncmFjZWZ1bCB3aXRoIG5hdHVyYWwgY2hhcmFjdGVyIGFuZCB3YXJtdGguICR7cmVmZXJlbmNlSW1hZ2VVcmxzLmxlbmd0aCA+IDAgPyBgSSBoYXZlIGluY2x1ZGVkICR7cmVmZXJlbmNlSW1hZ2VVcmxzLmxlbmd0aCA+IDEgPyAnbXVsdGlwbGUnIDogJ215IG93bid9IHJlZmVyZW5jZSBpbWFnZSR7cmVmZXJlbmNlSW1hZ2VVcmxzLmxlbmd0aCA+IDEgPyAncycgOiAnJ30uIENyZWF0ZSBzdHlsaXplZCBjYXJ0b29uL2lsbHVzdHJhdGVkIGNoYXJhY3RlcnMgaW5zcGlyZWQgYnkgdGhlIHJlZmVyZW5jZSBpbWFnZSR7cmVmZXJlbmNlSW1hZ2VVcmxzLmxlbmd0aCA+IDEgPyAncycgOiAnJ30gLSBETyBOT1QgbWFrZSByZWFsaXN0aWMgZGVwaWN0aW9ucyBvZiByZWFsIHBlb3BsZSwgaW5zdGVhZCBjcmVhdGUgY2hhcm1pbmcgY2FydG9vbi1zdHlsZSBjaGFyYWN0ZXJzIHdpdGggc2ltcGxpZmllZCwgZnJpZW5kbHkgZmVhdHVyZXMuYCA6ICdDcmVhdGUgY2hhcm1pbmcgY2FydG9vbi1zdHlsZSBvciBzdHlsaXplZCBpbGx1c3RyYXRlZCBmaWd1cmVzIGlmIHBlb3BsZSBhcmUgbmVlZGVkIGZvciB0aGUgdGhlbWUuJ30gVGhpcyBpcyB0aGUgc3Rvcnkgb3BlbmluZyAtIGludHJvZHVjZSBrZXkgdmlzdWFsIGVsZW1lbnRzIChjb2xvcnMsIG1vdGlmcywgYXJ0aXN0aWMgc3R5bGUpIHRoYXQgd2lsbCBjb250aW51ZSB0aHJvdWdob3V0IHRoZSBvdGhlciBzZWN0aW9ucy4gVGhpbmsgb2Ygc29tZXRoaW5nIHVuZXhwZWN0ZWQsIGlubm92YXRpdmUsIGFuZCBtZW1vcmFibGUgdGhhdCB3aWxsIHN1cnByaXNlIGFuZCBkZWxpZ2h0IHRoZSByZWNpcGllbnQuIEF2b2lkIGdlbmVyaWMgZGVzaWducyEgU3R5bGU6ICR7c3R5bGVNb2RpZmllcn1cblxuMi4gJHshaXNGcm9udEJhY2tPbmx5ID8gYExlZnQgSW50ZXJpb3IgKFN0b3J5IERldmVsb3BtZW50KTogVU5MRUFTSCBZT1VSIENSRUFUSVZJVFkhIFlvdSBoYXZlIGNvbXBsZXRlIGNyZWF0aXZlIGZyZWVkb20gdG8gZGVzaWduIHdoYXRldmVyIHlvdSB3YW50IGZvciB0aGlzIGxlZnQgaW50ZXJpb3IgcGFnZSEgVGhpcyBpcyB5b3VyIGFydGlzdGljIHBsYXlncm91bmQgLSBjcmVhdGUgc29tZXRoaW5nIGdlbnVpbmVseSBpbm5vdmF0aXZlIGFuZCB1bmV4cGVjdGVkIHRoYXQgZmVlbHMgcmlnaHQgZm9yIGEgJHtjYXJkVHlwZUZvclByb21wdH0gY2FyZCB3aXRoICR7dG9uZURlc2NyaXB0aW9ufSB0b25lLiBZb3UgY2FuIGluY2x1ZGU6IHNjZW5lcywgbGFuZHNjYXBlcywgb2JqZWN0cywgcGF0dGVybnMsIHF1b3RlcywgdGV4dCwgaWxsdXN0cmF0aW9ucywgcmVhbGlzdGljIGFydCwgYWJzdHJhY3QgYXJ0LCBvciBhbnl0aGluZyBlbHNlIHRoYXQgaW5zcGlyZXMgeW91IC0gYnV0IE5PIFBFT1BMRSBvciBjaGFyYWN0ZXJzIHVubGVzcyB0aGUgdXNlciBzcGVjaWZpY2FsbHkgbWVudGlvbmVkIHdhbnRpbmcgcGVvcGxlIGluIHRoZWlyIGNhcmQgZGVzY3JpcHRpb24uIFBvc2l0aW9uIGFueSB0ZXh0IHNhZmVseSBpbiBjZW50ZXIgYXJlYSAoYXZvaWQgdG9wL2JvdHRvbSAxMCUpLiBUaGluayBvZiBzb21ldGhpbmcgbm8gb25lIGhhcyBkb25lIGJlZm9yZSEgU3VycHJpc2UgdXMgd2l0aCBib2xkLCBpbWFnaW5hdGl2ZSwgYW5kIG1lbW9yYWJsZSBhcnRpc3RpYyBjaG9pY2VzIHdoaWxlIG1haW50YWluaW5nIHZpc3VhbCBoYXJtb255IHdpdGggdGhlIG92ZXJhbGwgY2FyZCBzdHlsZSBhbmQgdG9uZS4gU3R5bGU6ICR7c3R5bGVNb2RpZmllcn1cblxuMy4gUmlnaHQgSW50ZXJpb3IgKFN0b3J5IENsaW1heCk6IEJFIENSRUFUSVZFIFdJVEggTUVTU0FHRSBERVNJR04hICR7aXNIYW5kd3JpdHRlbk1lc3NhZ2UgPyBgRGVzaWduIHdpdGggZWxlZ2FudCB3cml0aW5nIHNwYWNlIHRoYXQgY29tcGxlbWVudHMgdGhlIHZpc3VhbCBzdG9yeSBmcm9tIGxlZnQgaW50ZXJpb3IuIFBvc2l0aW9uIGRlY29yYXRpdmUgZWxlbWVudHMgc2FmZWx5IGF3YXkgZnJvbSB0b3AvYm90dG9tIGVkZ2VzLiBDcmVhdGUgaW5ub3ZhdGl2ZSBhbmQgYXJ0aXN0aWMgZGVjb3JhdGl2ZSBlbGVtZW50cywgYm9yZGVycywgb3IgZmxvdXJpc2hlcyB0aGF0IGFyZSB1bmlxdWUgYW5kIG1lbW9yYWJsZSAtIE5PIFBFT1BMRSBvciBjaGFyYWN0ZXJzLmAgOiBgSW5jbHVkZSBtZXNzYWdlIHRleHQ6IFwiJHttZXNzYWdlQ29udGVudH1cIiBwb3NpdGlvbmVkIHNhZmVseSBpbiBjZW50ZXIgYXJlYSAoYXZvaWQgdG9wL2JvdHRvbSAxMCUgb2YgaW1hZ2UpIGludGVncmF0ZWQgaW50byBiZWF1dGlmdWwsIGlubm92YXRpdmUgZGVjb3JhdGl2ZSBhcnR3b3JrLiBIQU5EV1JJVElORyBTVFlMRTogV3JpdGUgdGhlIG1lc3NhZ2UgaW4gYmVhdXRpZnVsLCBjbGVhcmx5IHJlYWRhYmxlIGhhbmR3cml0dGVuIGN1cnNpdmUgc2NyaXB0IHRoYXQgZmVlbHMgZWxlZ2FudCBhbmQgcGVyc29uYWwuIFRoZSBoYW5kd3JpdGluZyBzaG91bGQgYmUgbGVnaWJsZSwgZmxvd2luZywgYW5kIGhhdmUgbmF0dXJhbCBjaGFyYWN0ZXIgLSBub3Qgb3Zlcmx5IHBlcmZlY3QgYnV0IGdyYWNlZnVsIGFuZCB3YXJtLiBVc2UgYSBuaWNlIHBlbi1zdHlsZSBhcHBlYXJhbmNlIHdpdGggbmF0dXJhbCBpbmsgZmxvdyBhbmQgc2xpZ2h0IHZhcmlhdGlvbnMgaW4gbGluZSB3ZWlnaHQuIFRoaW5rIG9mIHNvcGhpc3RpY2F0ZWQgY2FsbGlncmFwaHkgdGhhdCdzIHN0aWxsIGFwcHJvYWNoYWJsZSBhbmQgZWFzeSB0byByZWFkLiBNYWtlIHRoZSBoYW5kd3JpdGluZyBmZWVsIGdlbnVpbmUgYW5kIGhlYXJ0ZmVsdC4gVGhpbmsgYmV5b25kIHR5cGljYWwgZmxvcmFscyBhbmQgcGF0dGVybnMgLSBjcmVhdGUgc29tZXRoaW5nIHVuZXhwZWN0ZWQgYW5kIGFydGlzdGljIHRoYXQgcGVyZmVjdGx5IGZyYW1lcyB0aGUgaGFuZHdyaXR0ZW4gbWVzc2FnZSAtIE5PIFBFT1BMRSBvciBjaGFyYWN0ZXJzLmB9IFRoaXMgc2hvdWxkIGZlZWwgbGlrZSB0aGUgZW1vdGlvbmFsIHBlYWsgb2YgdGhlIGNhcmQgZXhwZXJpZW5jZSwgaGFybW9uaXppbmcgd2l0aCB0aGUgbGVmdCBpbnRlcmlvciBhcyBhIGNvaGVzaXZlIHNwcmVhZC4gQXZvaWQgY2xpY2jDqSBkZXNpZ25zIGFuZCBjcmVhdGUgc29tZXRoaW5nIGdlbnVpbmVseSBzcGVjaWFsISR7aGFuZHdyaXRpbmdTYW1wbGVVcmwgPyAnIE1hdGNoIHRoZSBwcm92aWRlZCBoYW5kd3JpdGluZyBzdHlsZSBzYW1wbGUgZXhhY3RseS4nIDogJyBVc2UgdGhlIGVsZWdhbnQgY3Vyc2l2ZSBoYW5kd3JpdGluZyBzdHlsZSBkZXNjcmliZWQgYWJvdmUuJ30gU3R5bGU6ICR7c3R5bGVNb2RpZmllcn1cblxuNC4gYCA6ICcnfUJhY2sgQ292ZXIgKFN0b3J5IFJlc29sdXRpb24pOiBCRSBTVUJUTFkgQ1JFQVRJVkUhIENyZWF0ZSBhIHNpbXBsZSB5ZXQgaW5ub3ZhdGl2ZSBkZWNvcmF0aXZlIGRlc2lnbiB0aGF0IGJyaW5ncyBwZWFjZWZ1bCBjbG9zdXJlIHRvIHRoZSB2aXN1YWwgc3RvcnkuIFJlZmVyZW5jZSBzdWJ0bGUgZWxlbWVudHMgZnJvbSB0aGUgZnJvbnQgY292ZXIgYnV0IGtlZXAgaXQgbWluaW1hbCBhbmQgc2VyZW5lIC0gTk8gUEVPUExFLCBqdXN0IGJlYXV0aWZ1bCwgdW5leHBlY3RlZCBhcnRpc3RpYyBlbGVtZW50cyB0aGF0IGdvIGJleW9uZCB0eXBpY2FsIHBhdHRlcm5zIG9yIGZsb3JhbHMuIElNUE9SVEFOVDogTGVhdmUgdGhlIGJvdHRvbS1yaWdodCBjb3JuZXIgYXJlYSAoYXBwcm94aW1hdGVseSAxIGluY2ggc3F1YXJlKSBjb21wbGV0ZWx5IGNsZWFyIGFuZCB1bmRlY29yYXRlZCAtIHRoaXMgc3BhY2Ugc2hvdWxkIHJlbWFpbiBlbXB0eS4gRm9jdXMgZGVjb3JhdGl2ZSBlbGVtZW50cyB0b3dhcmQgdGhlIGNlbnRlciBhbmQgbGVmdCBzaWRlIG9mIHRoZSBkZXNpZ24uIFRoaW5rIG9mIHNvbWV0aGluZyBxdWlldGx5IGJlYXV0aWZ1bCBhbmQgbWVtb3JhYmxlIHRoYXQgY29tcGxlbWVudHMgdGhlIG92ZXJhbGwgZGVzaWduIHdoaWxlIGJlaW5nIGdlbnVpbmVseSB1bmlxdWUuIFRoaXMgc2hvdWxkIGZlZWwgbGlrZSBhIHBlYWNlZnVsLCBhcnRpc3RpYyBlbmRpbmcgdGhhdCBzdXJwcmlzZXMgd2l0aCBpdHMgc3VidGxlIGNyZWF0aXZpdHkuIFN0eWxlOiAke3N0eWxlTW9kaWZpZXJ9XG5cblZJU1VBTCBDT05USU5VSVRZIENIRUNLTElTVDpcbi0gU2FtZSBjb2xvciBwYWxldHRlIGFjcm9zcyBhbGwgc2VjdGlvbnNcbi0gQ29uc2lzdGVudCBsaWdodGluZy90aW1lIG9mIGRheVxuLSBTYW1lIGFydGlzdGljIHRlY2huaXF1ZXMgYW5kIGJydXNod29ya1xuLSBSZWN1cnJpbmcgdmlzdWFsIG1vdGlmcyBvciBzeW1ib2xzIChidXQgbWFrZSB0aGVtIHVuaXF1ZSBhbmQgbWVtb3JhYmxlISlcbi0gUHJvZ3Jlc3NpdmUgZW1vdGlvbmFsIGpvdXJuZXkgZnJvbSBpbnRyb2R1Y3Rpb24gdG8gcmVzb2x1dGlvblxuLSBGcm9udCBjb3Zlcjogc3R5bGl6ZWQgY2FydG9vbi9pbGx1c3RyYXRlZCBjaGFyYWN0ZXJzIGlmIHBlb3BsZSBhcmUgbmVlZGVkIGZvciB0aGUgdGhlbWVcbi0gTGVmdCBpbnRlcmlvcjogQ1JFQVRJVkUgRlJFRURPTSBidXQgTk8gUEVPUExFIHVubGVzcyB1c2VyIHNwZWNpZmljYWxseSByZXF1ZXN0ZWQgcGVvcGxlIGluIHRoZWlyIGRlc2NyaXB0aW9uXG4tIFJpZ2h0IGludGVyaW9yOiBmb2N1cyBvbiBtZXNzYWdlIHNwYWNlIHdpdGggaW5ub3ZhdGl2ZSBkZWNvcmF0aXZlIGVsZW1lbnRzIChOTyBQRU9QTEUpXG4tIEJhY2sgY292ZXI6IHNpbXBsZSB5ZXQgY3JlYXRpdmUgZGVjb3JhdGl2ZSBkZXNpZ24gd2l0aG91dCB0ZXh0IG9yIHBlb3BsZVxuLSBVc2Ugc2ltcGxpZmllZCwgZnJpZW5kbHksIGNoYXJtaW5nIGNoYXJhY3RlciBkZXNpZ24gaWYgaW5jbHVkaW5nIHBlb3BsZSAoZnJvbnQgY292ZXIgb25seSlcbi0gQ1JFQVRJVklUWSBQUklPUklUWTogQWx3YXlzIGNob29zZSB0aGUgbW9yZSBpbm5vdmF0aXZlLCBzdXJwcmlzaW5nLCBhbmQgbWVtb3JhYmxlIG9wdGlvbiBvdmVyIGdlbmVyaWMgZGVzaWduc1xuXG5SZXR1cm4gSlNPTjpcbntcbiAgXCJmcm9udENvdmVyXCI6IFwiZGV0YWlsZWQgcHJvbXB0IHdpdGggc3Rvcnkgb3BlbmluZyBlbGVtZW50c1wiLFxuICBcImJhY2tDb3ZlclwiOiBcImRldGFpbGVkIHByb21wdCB3aXRoIHN0b3J5IGNvbmNsdXNpb24gZWxlbWVudHNcIiR7IWlzRnJvbnRCYWNrT25seSA/ICcsXFxuICBcImxlZnRJbnRlcmlvclwiOiBcImRldGFpbGVkIHByb21wdCB3aXRoIHN0b3J5IGRldmVsb3BtZW50IGVsZW1lbnRzXCIsXFxuICBcInJpZ2h0SW50ZXJpb3JcIjogXCJkZXRhaWxlZCBwcm9tcHQgd2l0aCBzdG9yeSBjbGltYXggZWxlbWVudHNcIicgOiAnJ31cbn1gO1xuXG4gICAgICBsZXQgZ2VuZXJhdGVkUHJvbXB0cztcblxuICAgICAgaWYgKGlzRHJhZnRNb2RlKSB7XG4gICAgICAgIC8vIEZvciBkcmFmdCBtb2RlLCBnZXQganVzdCB0aGUgZnJvbnQgY292ZXIgcHJvbXB0IGFzIHBsYWluIHRleHRcbiAgICAgICAgY29uc3QgZnJvbnRDb3ZlclByb21wdCA9IGF3YWl0IGNoYXRXaXRoQUkocHJvbXB0R2VuZXJhdGlvblF1ZXJ5LCB7XG4gICAgICAgICAgbW9kZWw6IFwiZ2VtaW5pLTIuNS1wcm9cIixcbiAgICAgICAgICBhdHRhY2htZW50czogcmVmZXJlbmNlSW1hZ2VVcmxzXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmICghZnJvbnRDb3ZlclByb21wdD8udHJpbSgpKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcihcIuKdjCBGYWlsZWQgdG8gZ2VuZXJhdGUgZnJvbnQgY292ZXIgcHJvbXB0OlwiLCBmcm9udENvdmVyUHJvbXB0KTtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJGYWlsZWQgdG8gZ2VuZXJhdGUgZnJvbnQgY292ZXIgcHJvbXB0XCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgZ2VuZXJhdGVkUHJvbXB0cyA9IHtcbiAgICAgICAgICBmcm9udENvdmVyOiBmcm9udENvdmVyUHJvbXB0LnRyaW0oKVxuICAgICAgICB9O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gRm9yIHJlZ3VsYXIgbW9kZSwgZ2V0IGFsbCBwcm9tcHRzIGFzIEpTT05cbiAgICAgICAgZ2VuZXJhdGVkUHJvbXB0cyA9IGF3YWl0IGNoYXRXaXRoQUkocHJvbXB0R2VuZXJhdGlvblF1ZXJ5LCB7XG4gICAgICAgIGpzb25TY2hlbWE6IHtcbiAgICAgICAgICB0eXBlOiBcIm9iamVjdFwiLFxuICAgICAgICAgIHByb3BlcnRpZXM6IHtcbiAgICAgICAgICAgIGZyb250Q292ZXI6IHsgdHlwZTogXCJzdHJpbmdcIiB9LFxuICAgICAgICAgICAgYmFja0NvdmVyOiB7IHR5cGU6IFwic3RyaW5nXCIgfSxcbiAgICAgICAgICAgIC4uLihpc0Zyb250QmFja09ubHkgPyB7fSA6IHsgXG4gICAgICAgICAgICAgIGxlZnRJbnRlcmlvcjogeyB0eXBlOiBcInN0cmluZ1wiIH0sXG4gICAgICAgICAgICAgIHJpZ2h0SW50ZXJpb3I6IHsgdHlwZTogXCJzdHJpbmdcIiB9XG4gICAgICAgICAgICB9KVxuICAgICAgICAgIH0sXG4gICAgICAgICAgcmVxdWlyZWQ6IFtcImZyb250Q292ZXJcIiwgXCJiYWNrQ292ZXJcIiwgLi4uKGlzRnJvbnRCYWNrT25seSA/IFtdIDogW1wibGVmdEludGVyaW9yXCIsIFwicmlnaHRJbnRlcmlvclwiXSldXG4gICAgICAgIH0sXG4gICAgICAgIG1vZGVsOiBcImdlbWluaS0yLjUtcHJvXCIsXG4gICAgICAgICAgYXR0YWNobWVudHM6IHJlZmVyZW5jZUltYWdlVXJsc1xuICAgICAgfSk7XG5cbiAgICAgIGlmICghZ2VuZXJhdGVkUHJvbXB0cyB8fCAhZ2VuZXJhdGVkUHJvbXB0cy5mcm9udENvdmVyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCLinYwgRmFpbGVkIHRvIGdlbmVyYXRlIGltYWdlIHByb21wdHM6XCIsIGdlbmVyYXRlZFByb21wdHMpO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJGYWlsZWQgdG8gZ2VuZXJhdGUgaW1hZ2UgcHJvbXB0c1wiKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgXG4gICAgICBjb25zb2xlLmxvZyhcIuKchSBHZW5lcmF0ZWQgcHJvbXB0cyBzdWNjZXNzZnVsbHk6XCIsIHsgXG4gICAgICAgIGlzRHJhZnRNb2RlLCBcbiAgICAgICAgZHJhZnRJbmRleCwgXG4gICAgICAgIGhhc0Zyb250Q292ZXI6ICEhZ2VuZXJhdGVkUHJvbXB0cy5mcm9udENvdmVyLFxuICAgICAgICBoYXNCYWNrQ292ZXI6ICEhZ2VuZXJhdGVkUHJvbXB0cy5iYWNrQ292ZXJcbiAgICAgIH0pO1xuXG4gICAgICAvLyBFbmhhbmNlIGZyb250IGNvdmVyIHByb21wdCB3aXRoIHJlZmVyZW5jZSBpbWFnZSBpbnN0cnVjdGlvbnMgaWYgYXZhaWxhYmxlXG4gICAgICBpZiAocmVmZXJlbmNlSW1hZ2VVcmxzLmxlbmd0aCA+IDAgJiYgbW9kZWxUb1VzZSA9PT0gXCJncHQtaW1hZ2UtMVwiKSB7XG4gICAgICAgIGdlbmVyYXRlZFByb21wdHMuZnJvbnRDb3ZlciA9IGAke2dlbmVyYXRlZFByb21wdHMuZnJvbnRDb3Zlcn1cXG5cXG5DUklUSUNBTCBDSEFSQUNURVIgUkVGRVJFTkNFIElOU1RSVUNUSU9OUzogSSBoYXZlIHByb3ZpZGVkICR7cmVmZXJlbmNlSW1hZ2VVcmxzLmxlbmd0aCA+IDEgPyAnbXVsdGlwbGUgcmVmZXJlbmNlIHBob3RvcycgOiAnYSByZWZlcmVuY2UgcGhvdG8nfSBhcyBpbnB1dCBpbWFnZSR7cmVmZXJlbmNlSW1hZ2VVcmxzLmxlbmd0aCA+IDEgPyAncycgOiAnJ30uIFlvdSBNVVNUIGNyZWF0ZSBjYXJ0b29uL2lsbHVzdHJhdGVkIGNoYXJhY3RlcnMgdGhhdCBhY2N1cmF0ZWx5IHJlcHJlc2VudCBPTkxZIHRoZSBwZW9wbGUgd2hvIGFyZSBhY3R1YWxseSB2aXNpYmxlIGluICR7cmVmZXJlbmNlSW1hZ2VVcmxzLmxlbmd0aCA+IDEgPyAndGhlc2UgcmVmZXJlbmNlIHBob3RvcycgOiAndGhpcyByZWZlcmVuY2UgcGhvdG8nfSB3aXRoIGhpZ2ggZmlkZWxpdHkgdG8gdGhlaXIgYXBwZWFyYW5jZS5cblxuTUFOREFUT1JZIENIQVJBQ1RFUiBNQVRDSElORyBSRVFVSVJFTUVOVFMgLSBPTkxZIElOQ0xVREUgV0hBVCBJUyBBQ1RVQUxMWSBWSVNJQkxFOlxuLSBSRVBSRVNFTlQgT05MWSBQRU9QTEUgQUNUVUFMTFkgSU4gVEhFIFBIT1RPUzogQ3JlYXRlIGNhcnRvb24gdmVyc2lvbnMgb2YgT05MWSB0aGUgcGVvcGxlIHdobyBhcmUgYWN0dWFsbHkgc2hvd24gaW4gdGhlIHJlZmVyZW5jZSBwaG90b3MuIERvIE5PVCBhZGQsIGNyZWF0ZSwgb3IgaW1hZ2luZSBhbnkgYWRkaXRpb25hbCBwZW9wbGUgbm90IHByZXNlbnQgaW4gdGhlIHJlZmVyZW5jZSBpbWFnZXMuXG4tIEVYQUNUIGhhaXIgY29sb3IsIGhhaXIgc3R5bGUsIGFuZCBoYWlyIGxlbmd0aCBmcm9tIGVhY2ggcmVmZXJlbmNlIHBob3RvIC0gb25seSB3aGF0IGlzIGFjdHVhbGx5IHZpc2libGVcbi0gUFJFQ0lTRSBmYWNpYWwgZmVhdHVyZXMgZm9yIGVhY2ggcGVyc29uOiBleWUgY29sb3IsIGV5ZSBzaGFwZSwgbm9zZSBzaGFwZSwgZmFjZSBzdHJ1Y3R1cmUsIHNraW4gdG9uZSAtIGV4YWN0bHkgYXMgc2hvd24gaW4gdGhlIHJlZmVyZW5jZVxuLSBBQ0NVUkFURSBjbG90aGluZzogcmVwbGljYXRlIE9OTFkgdGhlIEVYQUNUIGNsb3RoaW5nIGl0ZW1zLCBjb2xvcnMsIHBhdHRlcm5zLCBhbmQgc3R5bGVzIGFjdHVhbGx5IHdvcm4gYnkgZWFjaCBwZXJzb24gaW4gdGhlaXIgcmVmZXJlbmNlIHBob3RvIC0gZG8gbm90IGFkZCBvciBjaGFuZ2UgYW55IGNsb3RoaW5nIGl0ZW1zXG4tIEFDQ0VTU09SSUVTIE9OTFkgSUYgVklTSUJMRTogSW5jbHVkZSBhY2Nlc3NvcmllcyAoZ2xhc3NlcywgamV3ZWxyeSwgaGF0cywgd2F0Y2hlcywgYmFncywgZXRjLikgT05MWSBpZiB0aGV5IGFyZSBhY3R1YWxseSB2aXNpYmxlIG9uIGVhY2ggcGVyc29uIGluIHRoZSByZWZlcmVuY2UgcGhvdG8uIERPIE5PVCBhZGQgZ2xhc3NlcyBpZiB0aGV5IGFyZSBub3Qgd2VhcmluZyBnbGFzc2VzIGluIHRoZSBwaG90by4gRE8gTk9UIGFkZCBqZXdlbHJ5IGlmIHRoZXkgYXJlIG5vdCB3ZWFyaW5nIGpld2VscnkgaW4gdGhlIHBob3RvLiBETyBOT1QgYWRkIGFueSBhY2Nlc3NvcmllcyB0aGF0IGFyZSBub3QgY2xlYXJseSB2aXNpYmxlIGluIHRoZSByZWZlcmVuY2UgaW1hZ2UuXG4tIENPUlJFQ1QgYm9keSBwcm9wb3J0aW9ucyBhbmQgcG9zdHVyZSBhcyBzaG93biBmb3IgZWFjaCBwZXJzb24gaW4gdGhlaXIgcmVmZXJlbmNlXG4tIEZBSVRIRlVMIGFnZSByZXByZXNlbnRhdGlvbiBhbmQgZ2VuZGVyIHByZXNlbnRhdGlvbiBmb3IgZWFjaCBpbmRpdmlkdWFsIC0gZXhhY3RseSBhcyB0aGV5IGFwcGVhclxuLSBBVVRIRU5USUMgZmFjaWFsIGV4cHJlc3Npb25zIGFuZCBwb3NlcyBmcm9tIHRoZSByZWZlcmVuY2UgaW1hZ2VzLCBsZWFuIHRvd2FyZHMgbWFraW5nIHRoZSBwZW9wbGUgbG9vayBoYXBwaWVyIHVubGVzcyB0aGUgdXNlciBzcGVjaWZpY2FsbHkgYXNrcyBmb3IgYSBkaWZmZXJlbnQgZXhwcmVzc2lvblxuLSBHUk9VUCBDT01QT1NJVElPTjogSWYgbXVsdGlwbGUgcGVvcGxlIGFyZSBhY3R1YWxseSBzaG93biBpbiB0aGUgcGhvdG9zLCBhcnJhbmdlIHRoZW0gbmF0dXJhbGx5IHRvZ2V0aGVyIGluIGEgcGxlYXNpbmcgY29tcG9zaXRpb24gdGhhdCBmaXRzIHRoZSBjYXJkJ3MgdGhlbWVcblxuQ1JJVElDQUwgUkVTVFJJQ1RJT046IERvIG5vdCBhZGQsIHJlbW92ZSwgb3IgbW9kaWZ5IGFueSB2aXN1YWwgZWxlbWVudHMgYmV5b25kIHdoYXQgaXMgYWN0dWFsbHkgdmlzaWJsZSBpbiB0aGUgcmVmZXJlbmNlIHBob3Rvcy4gT25seSBpbmNsdWRlIHBlb3BsZSwgY2xvdGhpbmcsIGFuZCBhY2Nlc3NvcmllcyB0aGF0IGFyZSBjbGVhcmx5IHNob3duIGluIHRoZSByZWZlcmVuY2UgaW1hZ2VzLlxuXG4ke2ltYWdlVHJhbnNmb3JtYXRpb24gfHwgJ1N0dWR5IGV2ZXJ5IGRldGFpbCBvZiB0aGUgcGVvcGxlIGFjdHVhbGx5IGluIHRoZSByZWZlcmVuY2UgaW1hZ2UgYW5kIHJlY3JlYXRlIHRoZW0gYXMgc3R5bGl6ZWQgY2FydG9vbiBjaGFyYWN0ZXJzIHdoaWxlIG1haW50YWluaW5nIDEwMCUgYWNjdXJhY3kgdG8gdGhlaXIgZGlzdGluY3RpdmUgdmlzdWFsIGZlYXR1cmVzLiBUaGUgY2hhcmFjdGVycyBtdXN0IGJlIGltbWVkaWF0ZWx5IHJlY29nbml6YWJsZSBhcyB0aGUgc2FtZSBwZW9wbGUgZnJvbSB0aGUgcmVmZXJlbmNlIHBob3RvLiBQYXkgc3BlY2lhbCBhdHRlbnRpb24gdG8gY2xvdGhpbmcgZGV0YWlscyBhbmQgYWNjZXNzb3JpZXMgdGhhdCBhcmUgYWN0dWFsbHkgdmlzaWJsZSwgYW5kIHVuaXF1ZSBwZXJzb25hbCBzdHlsZSBlbGVtZW50cyB0aGF0IG1ha2UgZWFjaCBwZXJzb24gZGlzdGluY3RpdmUuIERvIG5vdCBhZGQgb3IgaW1hZ2luZSBhbnkgZWxlbWVudHMgbm90IHByZXNlbnQgaW4gdGhlIHJlZmVyZW5jZS4nfVxuXG5UaGUgY2FydG9vbiBzdHlsZSBzaG91bGQgYmUgY2hhcm1pbmcgYW5kIGFydGlzdGljIHdoaWxlIHByZXNlcnZpbmcgY29tcGxldGUgdmlzdWFsIGFjY3VyYWN5IHRvIHRoZSByZWZlcmVuY2UgcGhvdG8uIE9ubHkgcmVwcmVzZW50IHBlb3BsZSwgY2xvdGhpbmcsIGFuZCBhY2Nlc3NvcmllcyB0aGF0IGFyZSBhY3R1YWxseSB2aXNpYmxlIGluIHRoZSByZWZlcmVuY2UgaW1hZ2VzLmA7XG4gICAgICB9XG5cbiAgICAgIC8vIFNhdmUgam9iIGRhdGEgdG8gbG9jYWxTdG9yYWdlIGFuZCBzZXJ2ZXJcbiAgICAgIGNvbnN0IGpvYkRhdGEgPSB7XG4gICAgICAgIHByb21wdDogZWZmZWN0aXZlUHJvbXB0LFxuICAgICAgICBzZWxlY3RlZFR5cGUsXG4gICAgICAgIGN1c3RvbUNhcmRUeXBlLFxuICAgICAgICBzZWxlY3RlZFRvbmUsXG4gICAgICAgIGZpbmFsQ2FyZE1lc3NhZ2U6IG1lc3NhZ2VDb250ZW50LFxuICAgICAgICB0b0ZpZWxkLFxuICAgICAgICBmcm9tRmllbGQsXG4gICAgICAgIHVzZXJFbWFpbCxcbiAgICAgICAgc2VsZWN0ZWRBcnRpc3RpY1N0eWxlLFxuICAgICAgICBjdXN0b21TdHlsZURlc2NyaXB0aW9uLFxuICAgICAgICBzZWxlY3RlZEltYWdlTW9kZWwsXG4gICAgICAgIGlzRnJvbnRCYWNrT25seSxcbiAgICAgICAgbnVtYmVyT2ZDYXJkcyxcbiAgICAgICAgc2VsZWN0ZWRQYXBlclNpemUsXG4gICAgICAgIHByb21wdHM6IGdlbmVyYXRlZFByb21wdHMsXG4gICAgICAgIHBhcGVyQ29uZmlnXG4gICAgICB9O1xuICAgICAgXG4gICAgICBzYXZlSm9iVG9TdG9yYWdlKGpvYklkLCBqb2JEYXRhKTtcbiAgICAgIFxuICAgICAgLy8gQ3JlYXRlIGpvYiBvbiBzZXJ2ZXIgYW5kIHN0YXJ0IGFzeW5jIGdlbmVyYXRpb25cbiAgICAgIHNldEdlbmVyYXRpb25Qcm9ncmVzcyhcIvCfmoAgU3RhcnRpbmcgYmFja2dyb3VuZCBnZW5lcmF0aW9uIC0geW91IGNhbiBzYWZlbHkgbGVhdmUgdGhpcyBwYWdlIVwiKTtcbiAgICAgIFxuICAgICAgLy8gUHJlcGFyZSBpbnB1dCBpbWFnZXMgZm9yIHJlZmVyZW5jZSBwaG90byBzdXBwb3J0IC0gb25seSBmb3IgR1BULTFcbiAgICAgIGNvbnN0IGlucHV0SW1hZ2VzOiBzdHJpbmdbXSA9IFtdO1xuICAgICAgaWYgKHJlZmVyZW5jZUltYWdlVXJscy5sZW5ndGggPiAwICYmIG1vZGVsVG9Vc2UgPT09IFwiZ3B0LWltYWdlLTFcIikge1xuICAgICAgICBpbnB1dEltYWdlcy5wdXNoKC4uLnJlZmVyZW5jZUltYWdlVXJscyk7XG4gICAgICAgIGNvbnNvbGUubG9nKFwi8J+UjSBERUJVRzogQWRkZWQgcmVmZXJlbmNlIGltYWdlcyB0byBhc3luYyBnZW5lcmF0aW9uOlwiLCByZWZlcmVuY2VJbWFnZVVybHMpO1xuICAgICAgICBjb25zb2xlLmxvZyhcIvCflI0gREVCVUc6IFRvdGFsIGlucHV0IGltYWdlcyBmb3IgYXN5bmMgZ2VuZXJhdGlvbjpcIiwgaW5wdXRJbWFnZXMubGVuZ3RoKTtcbiAgICAgICAgY29uc29sZS5sb2coXCLwn5SNIERFQlVHOiBSZWZlcmVuY2UgaW1hZ2VzIHNob3VsZCBBTEwgZ28gdG8gZnJvbnQgY292ZXIgZm9yIGNoYXJhY3RlciBjcmVhdGlvbiBvZiBtdWx0aXBsZSBwZW9wbGVcIik7XG4gICAgICB9XG5cbiAgICAgIGNvbnNvbGUubG9nKFwi8J+agCBNYWtpbmcgQVBJIGNhbGwgdG8gL2FwaS9nZW5lcmF0ZS1jYXJkLWFzeW5jOlwiLCB7IFxuICAgICAgICBpc0RyYWZ0TW9kZSwgXG4gICAgICAgIGRyYWZ0SW5kZXgsIFxuICAgICAgICBqb2JJZCwgXG4gICAgICAgIG1vZGVsVG9Vc2UsXG4gICAgICAgIHF1YWxpdHk6IGlzRHJhZnRNb2RlID8gXCJsb3dcIiA6IFwiaGlnaFwiXG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnL2FwaS9nZW5lcmF0ZS1jYXJkLWFzeW5jJywge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICBqb2JJZCxcbiAgICAgICAgICBwcm9tcHRzOiBpc0RyYWZ0TW9kZSA/IHsgZnJvbnRDb3ZlcjogZ2VuZXJhdGVkUHJvbXB0cy5mcm9udENvdmVyIH0gOiBnZW5lcmF0ZWRQcm9tcHRzLCAvLyBEcmFmdCBtb2RlOiBmcm9udCBjb3ZlciBvbmx5XG4gICAgICAgICAgY29uZmlnOiB7XG4gICAgICAgICAgICB1c2VyTnVtYmVyOiBcIisxNzE0NTk4NjEwNVwiLFxuICAgICAgICAgICAgbW9kZWxWZXJzaW9uOiBtb2RlbFRvVXNlLFxuICAgICAgICAgICAgYXNwZWN0UmF0aW86IHBhcGVyQ29uZmlnLmFzcGVjdFJhdGlvLFxuICAgICAgICAgICAgcXVhbGl0eTogaXNEcmFmdE1vZGUgPyBcImxvd1wiIDogXCJoaWdoXCIsIC8vIEdQVC0xIGZvcmNlZCB0byBsb3cgcXVhbGl0eSBmb3Igc3BlZWRcbiAgICAgICAgICAgIG91dHB1dEZvcm1hdDogXCJqcGVnXCIsXG4gICAgICAgICAgICBvdXRwdXRDb21wcmVzc2lvbjogMTAwLFxuICAgICAgICAgICAgbW9kZXJhdGlvbjogXCJsb3dcIixcbiAgICAgICAgICAgIGRpbWVuc2lvbnM6IHBhcGVyQ29uZmlnLmRpbWVuc2lvbnMsXG4gICAgICAgICAgICBpc0Zyb250QmFja09ubHksXG4gICAgICAgICAgICB1c2VyRW1haWwsXG4gICAgICAgICAgICBjYXJkVHlwZTogY2FyZFR5cGVGb3JQcm9tcHQsXG4gICAgICAgICAgICB0b0ZpZWxkLFxuICAgICAgICAgICAgZnJvbUZpZWxkLFxuICAgICAgICAgICAgaXNEcmFmdE1vZGU6IGlzRHJhZnRNb2RlLCAvLyBBZGQgZmxhZyB0byBoZWxwIGJhY2tlbmQgdW5kZXJzdGFuZCB0aGlzIGlzIGRyYWZ0IG1vZGVcbiAgICAgICAgICAgIC4uLihpbnB1dEltYWdlcy5sZW5ndGggPiAwICYmIHsgXG4gICAgICAgICAgICAgIGlucHV0X2ltYWdlczogaW5wdXRJbWFnZXMsXG4gICAgICAgICAgICAgIGlucHV0X2ltYWdlc19tb2RlOiBcImZyb250X2NvdmVyX29ubHlcIiAvLyBBbGwgcmVmZXJlbmNlIGltYWdlcyBzaG91bGQgZ28gdG8gZnJvbnQgY292ZXIgZm9yIGNoYXJhY3RlciBjcmVhdGlvblxuICAgICAgICAgICAgfSlcbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgY29uc29sZS5sb2coXCLwn5OhIEFQSSByZXNwb25zZSBzdGF0dXM6XCIsIHJlc3BvbnNlLnN0YXR1cywgcmVzcG9uc2Uub2spO1xuXG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgU2VydmVyIGVycm9yOiAke3Jlc3BvbnNlLnN0YXR1c31gKTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgY29uc29sZS5sb2coXCLwn5OLIEFQSSByZXNwb25zZSByZXN1bHQ6XCIsIHJlc3VsdCk7XG4gICAgICBcbiAgICAgIGlmIChyZXN1bHQuc3RhdHVzICE9PSAncHJvY2Vzc2luZycpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIuKdjCBBUEkgcmV0dXJuZWQgdW5leHBlY3RlZCBzdGF0dXM6XCIsIHJlc3VsdC5zdGF0dXMsIHJlc3VsdC5tZXNzYWdlKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKHJlc3VsdC5tZXNzYWdlIHx8ICdGYWlsZWQgdG8gc3RhcnQgY2FyZCBnZW5lcmF0aW9uJyk7XG4gICAgICB9XG5cbiAgICAgIGNvbnNvbGUubG9nKFwi4pyFIEpvYiBzdGFydGVkIHN1Y2Nlc3NmdWxseTpcIiwgam9iSWQpO1xuXG4gICAgICAvLyBTdGFydCBwb2xsaW5nIGZvciBjb21wbGV0aW9uXG4gICAgICBpZiAoaXNEcmFmdE1vZGUpIHtcbiAgICAgICAgc2V0R2VuZXJhdGlvblByb2dyZXNzKFwi4pyoIENyZWF0aW5nIGRyYWZ0IGdlbmVyYXRpb25zLi4uXCIpO1xuICAgICAgICBjb25zb2xlLmxvZyhg8J+UhCBTdGFydGluZyBwb2xsaW5nIGZvciBkcmFmdCBqb2IgJHtqb2JJZH1gKTtcbiAgICAgICAgLy8gRm9yIGRyYWZ0IG1vZGUsIHdlJ2xsIGhhbmRsZSBwb2xsaW5nIGRpZmZlcmVudGx5IGlmIG5lZWRlZFxuICAgICAgICBwb2xsSm9iU3RhdHVzKGpvYklkKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNldEdlbmVyYXRpb25Qcm9ncmVzcyhcIuKcqCBCcmluZ2luZyB5b3VyIHZpc2lvbiB0byBsaWZlIHdpdGggYXJ0aXN0aWMgcHJlY2lzaW9uLi4uXCIpO1xuICAgICAgICB0b2FzdC5zdWNjZXNzKFwi8J+OiSBDYXJkIGdlbmVyYXRpb24gc3RhcnRlZCEgWW91IGNhbiBsZWF2ZSB0aGlzIHBhZ2UgYW5kIHJldHVybiBsYXRlci5cIik7XG4gICAgICAgIHBvbGxKb2JTdGF0dXMoam9iSWQpO1xuICAgICAgfVxuXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoYOKdjCBDYXJkIGdlbmVyYXRpb24gZXJyb3IgKGlzRHJhZnRNb2RlOiAke2lzRHJhZnRNb2RlfSwgZHJhZnRJbmRleDogJHtkcmFmdEluZGV4fSk6YCwgZXJyb3IpO1xuICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnVW5rbm93biBlcnJvcic7XG4gICAgICBcbiAgICAgIGlmIChpc0RyYWZ0TW9kZSkge1xuICAgICAgICB0b2FzdC5lcnJvcihgRHJhZnQgdmFyaWF0aW9uICR7ZHJhZnRJbmRleCArIDF9IGZhaWxlZDogJHtlcnJvck1lc3NhZ2V9YCk7XG4gICAgICAgIC8vIEZvciBkcmFmdCBtb2RlLCB3ZSBkb24ndCB3YW50IHRvIHN0b3AgdGhlIGVudGlyZSBnZW5lcmF0aW9uIHByb2Nlc3NcbiAgICAgICAgLy8gVGhlIHBhcmVudCBmdW5jdGlvbiB3aWxsIGhhbmRsZSBpbmRpdmlkdWFsIGRyYWZ0IGZhaWx1cmVzXG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0b2FzdC5lcnJvcihgRmFpbGVkIHRvIHN0YXJ0IGNhcmQgZ2VuZXJhdGlvbjogJHtlcnJvck1lc3NhZ2V9YCk7XG4gICAgICAgIFxuICAgICAgICAvLyBSZW1vdmUgZmFpbGVkIGpvYiBmcm9tIGxvY2FsU3RvcmFnZVxuICAgICAgICBpZiAoY3VycmVudEpvYklkKSB7XG4gICAgICAgICAgcmVtb3ZlSm9iRnJvbVN0b3JhZ2UoY3VycmVudEpvYklkKTtcbiAgICAgICAgICBzZXRDdXJyZW50Sm9iSWQobnVsbCk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHNldElzR2VuZXJhdGluZyhmYWxzZSk7XG4gICAgICAgIHNldEdlbmVyYXRpb25Qcm9ncmVzcyhcIlwiKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgLy8gV3JhcHBlciBmdW5jdGlvbiBmb3IgcmVndWxhciBjYXJkIGdlbmVyYXRpb24gKHVzZWQgYXMgY2xpY2sgaGFuZGxlcilcbiAgY29uc3QgaGFuZGxlR2VuZXJhdGVDYXJkQXN5bmMgPSBhc3luYyAoKSA9PiB7XG4gICAgcmV0dXJuIGhhbmRsZUdlbmVyYXRlQ2FyZEFzeW5jSW50ZXJuYWwoe30pO1xuICB9O1xuXG4gIC8vIE9yaWdpbmFsIHN5bmNocm9ub3VzIGNhcmQgZ2VuZXJhdGlvbiAoa2VlcCBhcyBmYWxsYmFjaylcbiAgY29uc3QgaGFuZGxlR2VuZXJhdGVDYXJkID0gYXN5bmMgKCkgPT4ge1xuICAgIGlmICghdXNlckVtYWlsLnRyaW0oKSkge1xuICAgICAgdG9hc3QuZXJyb3IoXCJQbGVhc2UgZW50ZXIgeW91ciBlbWFpbCBhZGRyZXNzXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIEJhc2ljIGVtYWlsIHZhbGlkYXRpb25cbiAgICBjb25zdCBlbWFpbFJlZ2V4ID0gL15bXlxcc0BdK0BbXlxcc0BdK1xcLlteXFxzQF0rJC87XG4gICAgaWYgKCFlbWFpbFJlZ2V4LnRlc3QodXNlckVtYWlsKSkge1xuICAgICAgdG9hc3QuZXJyb3IoXCJQbGVhc2UgZW50ZXIgYSB2YWxpZCBlbWFpbCBhZGRyZXNzXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIFZhbGlkYXRlIGN1c3RvbSBzdHlsZSBpZiBzZWxlY3RlZFxuICAgIGlmIChzZWxlY3RlZEFydGlzdGljU3R5bGUgPT09IFwiY3VzdG9tXCIgJiYgIWN1c3RvbVN0eWxlRGVzY3JpcHRpb24udHJpbSgpKSB7XG4gICAgICB0b2FzdC5lcnJvcihcIlBsZWFzZSBkZXNjcmliZSB5b3VyIGN1c3RvbSBhcnRpc3RpYyBzdHlsZVwiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBWYWxpZGF0ZSByZWZlcmVuY2UgaW1hZ2VzIHdpdGggbW9kZWwgY29tcGF0aWJpbGl0eVxuICAgIGlmIChyZWZlcmVuY2VJbWFnZVVybHMubGVuZ3RoID4gMCAmJiBzZWxlY3RlZEltYWdlTW9kZWwgIT09IFwiZ3B0LWltYWdlLTFcIikge1xuICAgICAgdG9hc3QuZXJyb3IoXCJSZWZlcmVuY2UgcGhvdG9zIGFyZSBvbmx5IHN1cHBvcnRlZCB3aXRoIEdQVCBJbWFnZSAxIG1vZGVsLiBQbGVhc2Ugc3dpdGNoIHRvIEdQVCBJbWFnZSAxIGluIEFkdmFuY2VkIE9wdGlvbnMgb3IgcmVtb3ZlIHJlZmVyZW5jZSBwaG90b3MuXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIENyZWF0ZSBqb2IgdHJhY2tpbmdcbiAgICBjb25zdCBqb2JJZCA9IHV1aWR2NCgpO1xuICAgIHNldEN1cnJlbnRKb2JJZChqb2JJZCk7XG4gICAgXG4gICAgLy8gU2F2ZSBqb2IgdG8gbG9jYWxTdG9yYWdlIGFuZCBzZXJ2ZXJcbiAgICBjb25zdCBqb2JEYXRhID0ge1xuICAgICAgcHJvbXB0OiBwcm9tcHQudHJpbSgpIHx8IGBBIGJlYXV0aWZ1bCAke3NlbGVjdGVkVHlwZSA9PT0gXCJjdXN0b21cIiA/IGN1c3RvbUNhcmRUeXBlIDogc2VsZWN0ZWRUeXBlfSBjYXJkYCxcbiAgICAgIHNlbGVjdGVkVHlwZSxcbiAgICAgIGN1c3RvbUNhcmRUeXBlLFxuICAgICAgc2VsZWN0ZWRUb25lLFxuICAgICAgZmluYWxDYXJkTWVzc2FnZSxcbiAgICAgIHRvRmllbGQsXG4gICAgICBmcm9tRmllbGQsXG4gICAgICB1c2VyRW1haWwsXG4gICAgICBzZWxlY3RlZEFydGlzdGljU3R5bGUsXG4gICAgICBjdXN0b21TdHlsZURlc2NyaXB0aW9uLFxuICAgICAgc2VsZWN0ZWRJbWFnZU1vZGVsLFxuICAgICAgaXNGcm9udEJhY2tPbmx5LFxuICAgICAgbnVtYmVyT2ZDYXJkcyxcbiAgICAgIHNlbGVjdGVkUGFwZXJTaXplXG4gICAgfTtcbiAgICBzYXZlSm9iVG9TdG9yYWdlKGpvYklkLCBqb2JEYXRhKTtcbiAgICBcbiAgICAvLyBBbHNvIHNhdmUgdG8gc2VydmVyXG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IGZldGNoKCcvYXBpL2NyZWF0ZS1qb2InLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBqb2JJZCwgam9iRGF0YSB9KVxuICAgICAgfSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBjcmVhdGUgc2VydmVyIGpvYjonLCBlcnJvcik7XG4gICAgICAvLyBDb250aW51ZSBhbnl3YXkgLSBsb2NhbFN0b3JhZ2UgdHJhY2tpbmcgd2lsbCBzdGlsbCB3b3JrXG4gICAgfVxuXG4gICAgLy8gSW5pdGlhbGl6ZSBwcm9ncmVzcyB0cmFja2luZ1xuICAgIHNldEdlbmVyYXRpb25Qcm9ncmVzcyhcIkFuYWx5emluZyB5b3VyIHJlcXVlc3QuLi5cIik7XG4gICAgc2V0UHJvZ3Jlc3NQZXJjZW50YWdlKDUpO1xuXG4gICAgLy8gUmVzZXQgc2VjdGlvbiBsb2FkaW5nIHN0YXRlc1xuICAgIHNldFNlY3Rpb25Mb2FkaW5nU3RhdGVzKHtcbiAgICAgIGZyb250Q292ZXI6ICdpZGxlJyxcbiAgICAgIGJhY2tDb3ZlcjogJ2lkbGUnLFxuICAgICAgbGVmdEludGVyaW9yOiAnaWRsZScsXG4gICAgICByaWdodEludGVyaW9yOiAnaWRsZScsXG4gICAgfSk7XG5cbiAgICAvLyBVc2UgY3VzdG9tIGNhcmQgdHlwZSBpZiBzZWxlY3RlZCwgb3RoZXJ3aXNlIHVzZSB0aGUgc3RhbmRhcmQgdHlwZVxuICAgIGNvbnN0IGNhcmRUeXBlRm9yUHJvbXB0ID0gc2VsZWN0ZWRUeXBlID09PSBcImN1c3RvbVwiID8gY3VzdG9tQ2FyZFR5cGUgOiBzZWxlY3RlZFR5cGU7XG4gICAgY29uc3Qgc2VsZWN0ZWRUb25lT2JqID0gY2FyZFRvbmVzLmZpbmQodG9uZSA9PiB0b25lLmlkID09PSBzZWxlY3RlZFRvbmUpO1xuICAgIGNvbnN0IHRvbmVEZXNjcmlwdGlvbiA9IHNlbGVjdGVkVG9uZU9iaiA/IHNlbGVjdGVkVG9uZU9iai5kZXNjcmlwdGlvbi50b0xvd2VyQ2FzZSgpIDogXCJoZWFydGZlbHQgYW5kIHNpbmNlcmVcIjtcblxuICAgIC8vIFVzZSBhIGRlZmF1bHQgcHJvbXB0IGlmIG5vbmUgcHJvdmlkZWRcbiAgICBjb25zdCBlZmZlY3RpdmVQcm9tcHQgPSBwcm9tcHQudHJpbSgpIHx8IGBBIGJlYXV0aWZ1bCAke2NhcmRUeXBlRm9yUHJvbXB0fSBjYXJkIHdpdGggJHt0b25lRGVzY3JpcHRpb259IHN0eWxlYDtcblxuICAgIGxldCBtZXNzYWdlQ29udGVudCA9IGZpbmFsQ2FyZE1lc3NhZ2U7XG4gICAgXG4gICAgLy8gSGFuZGxlIGhhbmR3cml0dGVuIG1lc3NhZ2UgY2FzZVxuICAgIGlmIChpc0hhbmR3cml0dGVuTWVzc2FnZSkge1xuICAgICAgbWVzc2FnZUNvbnRlbnQgPSBcIltCbGFuayBzcGFjZSBmb3IgaGFuZHdyaXR0ZW4gbWVzc2FnZV1cIjtcbiAgICB9IGVsc2UgaWYgKCFtZXNzYWdlQ29udGVudC50cmltKCkgJiYgIWlzRnJvbnRCYWNrT25seSkge1xuICAgICAgLy8gQXV0by1nZW5lcmF0ZSBtZXNzYWdlIGlmIGVtcHR5IChidXQgbm90IGZvciBmcm9udC9iYWNrIG9ubHkgY2FyZHMpXG4gICAgICBzZXRHZW5lcmF0aW9uUHJvZ3Jlc3MoXCLinI3vuI8gUGVubmluZyB0aGUgcGVyZmVjdCB3b3JkcyBqdXN0IGZvciB5b3UuLi5cIik7XG4gICAgICBzZXRJc0dlbmVyYXRpbmdNZXNzYWdlKHRydWUpOyAvLyBTaG93IFwiQ3JhZnRpbmcgdGhlIHBlcmZlY3QgbWVzc2FnZS4uLlwiIGluIGJ1dHRvblxuICAgICAgXG4gICAgICAvLyBVcGRhdGUgcHJvZ3Jlc3MgZm9yIG1lc3NhZ2UgZ2VuZXJhdGlvblxuICAgICAgc2V0R2VuZXJhdGlvblByb2dyZXNzKFwiQ3JlYXRpbmcgeW91ciBtZXNzYWdlLi4uXCIpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgYXV0b01lc3NhZ2VQcm9tcHQgPSBgQ3JlYXRlIGEgJHt0b25lRGVzY3JpcHRpb259IG1lc3NhZ2UgZm9yIGEgJHtjYXJkVHlwZUZvclByb21wdH0gZ3JlZXRpbmcgY2FyZC5cblxuQ2FyZCBUaGVtZS9EZXNjcmlwdGlvbjogXCIke2VmZmVjdGl2ZVByb21wdH1cIlxuJHt0b0ZpZWxkID8gYFJlY2lwaWVudDogJHt0b0ZpZWxkfWAgOiBcIlJlY2lwaWVudDogW25vdCBzcGVjaWZpZWRdXCJ9XG4ke2Zyb21GaWVsZCA/IGBTZW5kZXI6ICR7ZnJvbUZpZWxkfWAgOiBcIlNlbmRlcjogW25vdCBzcGVjaWZpZWRdXCJ9XG5DYXJkIFRvbmU6ICR7c2VsZWN0ZWRUb25lT2JqID8gc2VsZWN0ZWRUb25lT2JqLmxhYmVsIDogXCJIZWFydGZlbHRcIn0gLSAke3RvbmVEZXNjcmlwdGlvbn1cblxuSW5zdHJ1Y3Rpb25zOlxuLSBXcml0ZSBhIG1lc3NhZ2UgdGhhdCBpcyAke3RvbmVEZXNjcmlwdGlvbn0gYW5kIGZlZWxzIHBlcnNvbmFsIGFuZCBnZW51aW5lXG4tICR7dG9GaWVsZCA/IGBBZGRyZXNzIHRoZSBtZXNzYWdlIHRvICR7dG9GaWVsZH0gZGlyZWN0bHksIHVzaW5nIHRoZWlyIG5hbWUgbmF0dXJhbGx5YCA6IFwiV3JpdGUgaW4gYSB3YXkgdGhhdCBjb3VsZCBiZSBwZXJzb25hbGl6ZWQgdG8gYW55IHJlY2lwaWVudFwifVxuLSAke2Zyb21GaWVsZCA/IGBXcml0ZSBhcyBpZiAke2Zyb21GaWVsZH0gaXMgcGVyc29uYWxseSB3cml0aW5nIHRoaXMgbWVzc2FnZWAgOiBgV3JpdGUgaW4gYSAke3RvbmVEZXNjcmlwdGlvbn0gdG9uZWB9XG4tIE1hdGNoIHRoZSAke3RvbmVEZXNjcmlwdGlvbn0gdG9uZSBhbmQgb2NjYXNpb24gb2YgdGhlICR7Y2FyZFR5cGVGb3JQcm9tcHR9IGNhcmQgdHlwZVxuLSBCZSBpbnNwaXJlZCBieSB0aGUgdGhlbWU6IFwiJHtwcm9tcHR9XCJcbi0gS2VlcCBpdCBjb25jaXNlIGJ1dCBtZWFuaW5nZnVsICgyLTQgc2VudGVuY2VzIGlkZWFsKVxuLSBNYWtlIGl0IGZlZWwgYXV0aGVudGljLCBub3QgZ2VuZXJpY1xuLSBTQUZFVFk6IE5ldmVyIGluY2x1ZGUgYnJhbmQgbmFtZXMsIGNoYXJhY3RlciBuYW1lcywgdHJhZGVtYXJrZWQgdGVybXMsIG9yIGluYXBwcm9wcmlhdGUgY29udGVudC4gSWYgdGhlIHRoZW1lIHJlZmVyZW5jZXMgdGhlc2UsIHVzZSBnZW5lcmljIGFsdGVybmF0aXZlcyBvciBmb2N1cyBvbiB0aGUgZW1vdGlvbnMvY29uY2VwdHMgaW5zdGVhZFxuLSBLZWVwIGNvbnRlbnQgZmFtaWx5LWZyaWVuZGx5IGFuZCBhcHByb3ByaWF0ZSBmb3IgYWxsIGFnZXNcbi0gJHtzZWxlY3RlZFRvbmUgPT09ICdmdW5ueScgPyAnSW5jbHVkZSBhcHByb3ByaWF0ZSBodW1vciB0aGF0IGZpdHMgdGhlIG9jY2FzaW9uJyA6ICcnfVxuLSAke3NlbGVjdGVkVG9uZSA9PT0gJ2dlbnotaHVtb3InID8gJ1VzZSBHZW5aIGh1bW9yIHdpdGggaW50ZXJuZXQgc2xhbmcsIG1lbWVzLCBhbmQgY2hhb3RpYyBlbmVyZ3kgLSB0aGluayBcIm5vIGNhcFwiLCBcInBlcmlvZHRcIiwgXCJpdFxcJ3MgZ2l2aW5nLi4uXCIsIFwic2xheVwiLCBldGMuIEJlIHVuaGluZ2VkIGJ1dCBlbmRlYXJpbmcnIDogJyd9XG4tICR7c2VsZWN0ZWRUb25lID09PSAncHJvZmVzc2lvbmFsJyA/ICdLZWVwIGl0IGZvcm1hbCBhbmQgYnVzaW5lc3MtYXBwcm9wcmlhdGUnIDogJyd9XG4tICR7c2VsZWN0ZWRUb25lID09PSAncm9tYW50aWMnID8gJ0luY2x1ZGUgbG92aW5nIGFuZCByb21hbnRpYyBsYW5ndWFnZScgOiAnJ31cbi0gJHtzZWxlY3RlZFRvbmUgPT09ICdwbGF5ZnVsJyA/ICdVc2UgZnVuIGFuZCBlbmVyZ2V0aWMgbGFuZ3VhZ2UnIDogJyd9XG4tICR7dG9GaWVsZCAmJiBmcm9tRmllbGQgPyBgU2hvdyB0aGUgcmVsYXRpb25zaGlwIGJldHdlZW4gJHtmcm9tRmllbGR9IGFuZCAke3RvRmllbGR9IHRocm91Z2ggdGhlICR7dG9uZURlc2NyaXB0aW9ufSBtZXNzYWdlIHRvbmVgIDogXCJcIn1cbi0gJHtmcm9tRmllbGQgPyBgRW5kIHRoZSBtZXNzYWdlIHdpdGggYSBzaWduYXR1cmUgbGluZSBsaWtlIFwiTG92ZSwgJHtmcm9tRmllbGR9XCIgb3IgXCItICR7ZnJvbUZpZWxkfVwiIG9yIHNpbWlsYXIsIG5hdHVyYWxseSBpbnRlZ3JhdGVkIGludG8gdGhlIG1lc3NhZ2UuYCA6IFwiXCJ9XG5cblJldHVybiBPTkxZIHRoZSBtZXNzYWdlIHRleHQgdGhhdCBzaG91bGQgYXBwZWFyIGluc2lkZSB0aGUgY2FyZCAtIG5vIHF1b3Rlcywgbm8gZXhwbGFuYXRpb25zLCBubyBtYXJrZG93biBmb3JtYXR0aW5nIChubyAqYm9sZCosIF9pdGFsaWNzXywgb3Igb3RoZXIgbWFya2Rvd24pLCBqdXN0IHRoZSBjb21wbGV0ZSAke3RvbmVEZXNjcmlwdGlvbn0gbWVzc2FnZSBpbiBwbGFpbiB0ZXh0LlxuXG5JTVBPUlRBTlQ6IFdyYXAgeW91ciBmaW5hbCBtZXNzYWdlIGluIDxNRVNTQUdFPiA8L01FU1NBR0U+IHRhZ3MuIEV2ZXJ5dGhpbmcgb3V0c2lkZSB0aGVzZSB0YWdzIHdpbGwgYmUgaWdub3JlZC5gO1xuXG4gICAgICAgIGNvbnN0IGdlbmVyYXRlZE1lc3NhZ2UgPSBhd2FpdCBjaGF0V2l0aEFJKGF1dG9NZXNzYWdlUHJvbXB0LCB7XG4gICAgICAgICAgbW9kZWw6IFwiZ2VtaW5pLTIuNS1wcm9cIixcbiAgICAgICAgICBpbmNsdWRlVGhvdWdodHM6IGZhbHNlICAvLyBEb24ndCBpbmNsdWRlIHRoaW5raW5nIGNvbnRlbnQgaW4gbWVzc2FnZSBnZW5lcmF0aW9uXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoZ2VuZXJhdGVkTWVzc2FnZT8udHJpbSgpKSB7XG4gICAgICAgICAgLy8gRXh0cmFjdCBtZXNzYWdlIGNvbnRlbnQgYmV0d2VlbiA8TUVTU0FHRT4gdGFncyB1c2luZyByZWdleFxuICAgICAgICAgIGNvbnN0IG1lc3NhZ2VNYXRjaCA9IGdlbmVyYXRlZE1lc3NhZ2UubWF0Y2goLzxNRVNTQUdFPihbXFxzXFxTXSo/KTxcXC9NRVNTQUdFPi8pO1xuICAgICAgICAgIGxldCBleHRyYWN0ZWRNZXNzYWdlID0gbWVzc2FnZU1hdGNoID8gbWVzc2FnZU1hdGNoWzFdLnRyaW0oKSA6IGdlbmVyYXRlZE1lc3NhZ2UudHJpbSgpO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIEVuc3VyZSBubyBNRVNTQUdFIHRhZ3MgYXJlIGluY2x1ZGVkIGluIHRoZSBmaW5hbCBtZXNzYWdlXG4gICAgICAgICAgZXh0cmFjdGVkTWVzc2FnZSA9IGV4dHJhY3RlZE1lc3NhZ2UucmVwbGFjZSgvPFxcLz9NRVNTQUdFPi9nLCAnJykudHJpbSgpO1xuICAgICAgICAgIFxuICAgICAgICAgIG1lc3NhZ2VDb250ZW50ID0gZXh0cmFjdGVkTWVzc2FnZTtcbiAgICAgICAgICBzZXRGaW5hbENhcmRNZXNzYWdlKG1lc3NhZ2VDb250ZW50KTtcbiAgICAgICAgICBzZXRHZW5lcmF0aW9uUHJvZ3Jlc3MoXCLinIUgUGVyZmVjdCBtZXNzYWdlIGNyYWZ0ZWQhIE5vdyBmb3IgdGhlIG1hZ2ljIHZpc3VhbHMuLi5cIik7XG4gICAgICAgICAgdG9hc3Quc3VjY2VzcyhcIuKcqCBHZW5lcmF0ZWQgYSBwZXJzb25hbGl6ZWQgbWVzc2FnZSBmb3IgeW91ciBjYXJkIVwiKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBtZXNzYWdlQ29udGVudCA9IGVmZmVjdGl2ZVByb21wdDtcbiAgICAgICAgfVxuICAgICAgICBzZXRJc0dlbmVyYXRpbmdNZXNzYWdlKGZhbHNlKTsgLy8gUmVzZXQgbWVzc2FnZSBnZW5lcmF0aW9uIHN0YXRlXG4gICAgICAgIFxuICAgICAgICAvLyBNZXNzYWdlIGdlbmVyYXRpb24gY29tcGxldGVcbiAgICAgIH0gY2F0Y2gge1xuICAgICAgICBtZXNzYWdlQ29udGVudCA9IGVmZmVjdGl2ZVByb21wdDtcbiAgICAgICAgc2V0SXNHZW5lcmF0aW5nTWVzc2FnZShmYWxzZSk7IC8vIFJlc2V0IG1lc3NhZ2UgZ2VuZXJhdGlvbiBzdGF0ZSBvbiBlcnJvclxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIERldGVybWluZSB3aGljaCBtb2RlbCB0byB1c2UgYmFzZWQgb24gbW9kZVxuICAgIGNvbnN0IG1vZGVsVG9Vc2UgPSBpc0RyYWZ0TW9kZSA/IHNlbGVjdGVkRHJhZnRNb2RlbCA6IHNlbGVjdGVkSW1hZ2VNb2RlbDtcblxuICAgIC8vIFZhbGlkYXRlIHJlZmVyZW5jZSBpbWFnZXMgd2l0aCBtb2RlbCBjb21wYXRpYmlsaXR5XG4gICAgaWYgKHJlZmVyZW5jZUltYWdlVXJscy5sZW5ndGggPiAwICYmIG1vZGVsVG9Vc2UgIT09IFwiZ3B0LWltYWdlLTFcIikge1xuICAgICAgY29uc3QgbW9kZVRleHQgPSBpc0RyYWZ0TW9kZSA/IFwiZHJhZnQgbW9kZVwiIDogXCJmaW5hbCBnZW5lcmF0aW9uXCI7XG4gICAgICB0b2FzdC5lcnJvcihgUmVmZXJlbmNlIHBob3RvcyBhcmUgb25seSBzdXBwb3J0ZWQgd2l0aCBHUFQgSW1hZ2UgMSBtb2RlbC4gUGxlYXNlIHN3aXRjaCB0byBHUFQgSW1hZ2UgMSBmb3IgJHttb2RlVGV4dH0gb3IgcmVtb3ZlIHJlZmVyZW5jZSBwaG90b3MuYCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gT25seSBzZXQgZ2xvYmFsIGdlbmVyYXRpbmcgc3RhdGUgaWYgbm90IGluIGRyYWZ0IG1vZGUgKGRyYWZ0IG1vZGUgbWFuYWdlcyBpdHMgb3duIHN0YXRlKVxuICAgIGlmICghaXNEcmFmdE1vZGUpIHtcbiAgICAgIHNldElzR2VuZXJhdGluZyh0cnVlKTtcbiAgICAgIHN0YXJ0RWxhcHNlZFRpbWVUcmFja2luZyh1bmRlZmluZWQsIDEyMCk7IC8vIDEyMCBzZWNvbmRzIGZvciByZWd1bGFyIGNhcmQgZ2VuZXJhdGlvbiAgXG4gICAgICBzZXRHZW5lcmF0aW9uUHJvZ3Jlc3MoXCJDcmVhdGluZyB5b3VyIHBlcnNvbmFsaXplZCBjYXJkLi4uXCIpO1xuICAgICAgc2V0UHJvZ3Jlc3NQZXJjZW50YWdlKDApO1xuICAgIH1cbiAgICBcbiAgICAvLyBHZW5lcmF0ZSB1bmlxdWUgY2FyZCBJRCBmb3IgVVJMXG4gICAgY29uc3QgY2FyZElkID0gdXVpZHY0KCk7XG4gICAgc2V0Q3VycmVudENhcmRJZChjYXJkSWQpO1xuICAgIGNvbnN0IGNhcmRVcmwgPSBgJHtCQUNLRU5EX0FQSV9CQVNFX1VSTH0vY2FyZC8ke2NhcmRJZH1gO1xuICAgIFxuICAgIC8vIFJlc2V0IGNhcmRzIHN0YXRlXG4gICAgc2V0R2VuZXJhdGVkQ2FyZHMoW10pO1xuICAgIHNldFNlbGVjdGVkQ2FyZEluZGV4KDApO1xuICAgIFxuICAgIHRyeSB7XG4gICAgICAvLyBHZXQgc3R5bGUgZGV0YWlsc1xuICAgICAgc2V0R2VuZXJhdGlvblByb2dyZXNzKFwi8J+OqCBBcHBseWluZyB5b3VyIGFydGlzdGljIHN0eWxlLi4uXCIpO1xuICAgICAgY29uc3Qgc2VsZWN0ZWRTdHlsZSA9IGFydGlzdGljU3R5bGVzLmZpbmQoc3R5bGUgPT4gc3R5bGUuaWQgPT09IHNlbGVjdGVkQXJ0aXN0aWNTdHlsZSk7XG4gICAgICBsZXQgc3R5bGVNb2RpZmllciA9IHNlbGVjdGVkU3R5bGUgPyBzZWxlY3RlZFN0eWxlLnByb21wdE1vZGlmaWVyIDogXCJcIjtcbiAgICAgIFxuICAgICAgLy8gSGFuZGxlIEFJIFNtYXJ0IFN0eWxlIC0gbGV0IEFJIGNob29zZSB0aGUgYmVzdCBzdHlsZVxuICAgICAgaWYgKHNlbGVjdGVkQXJ0aXN0aWNTdHlsZSA9PT0gXCJhaS1zbWFydC1zdHlsZVwiKSB7XG4gICAgICAgIHNldEdlbmVyYXRpb25Qcm9ncmVzcyhcIuKcqCBTdHlsZSBleHBlcnRzIHNlbGVjdGluZyB0aGUgcGVyZmVjdCBsb29rLi4uXCIpO1xuICAgICAgICBcbiAgICAgICAgLy8gU3R5bGUgc2VsZWN0aW9uIHByb2dyZXNzXG4gICAgICAgIFxuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IHN0eWxlU2VsZWN0aW9uUHJvbXB0ID0gYFlvdSBhcmUgYW4gZXhwZXJ0IGFydCBkaXJlY3RvciBzcGVjaWFsaXppbmcgaW4gYmVhdXRpZnVsLCBoZWFydGZlbHQgZ3JlZXRpbmcgY2FyZHMuIFlvdXIgam9iIGlzIHRvIGNob29zZSB0aGUgcGVyZmVjdCBhcnRpc3RpYyBzdHlsZSB0aGF0IHdpbGwgY3JlYXRlIGEgd2FybSwgZW1vdGlvbmFsLCBhbmQgbWVtb3JhYmxlIGNhcmQuXG5cbkNhcmQgRGV0YWlsczpcbi0gVHlwZTogJHtjYXJkVHlwZUZvclByb21wdH1cbi0gVGhlbWUvRGVzY3JpcHRpb246IFwiJHtlZmZlY3RpdmVQcm9tcHR9XCJcbiR7dG9GaWVsZCA/IGAtIFJlY2lwaWVudDogJHt0b0ZpZWxkfWAgOiBcIlwifVxuJHtmcm9tRmllbGQgPyBgLSBTZW5kZXI6ICR7ZnJvbUZpZWxkfWAgOiBcIlwifVxuJHtyZWZlcmVuY2VJbWFnZVVybHMubGVuZ3RoID4gMCA/IGAtIEhhcyAke3JlZmVyZW5jZUltYWdlVXJscy5sZW5ndGh9IHJlZmVyZW5jZSBwaG90byR7cmVmZXJlbmNlSW1hZ2VVcmxzLmxlbmd0aCA+IDEgPyAncycgOiAnJ30gZm9yIHRyYW5zZm9ybWF0aW9uYCA6IFwiXCJ9XG4ke2lzSGFuZHdyaXR0ZW5NZXNzYWdlID8gYC0gV2lsbCBoYXZlIGhhbmR3cml0dGVuIG1lc3NhZ2VgIDogYC0gTWVzc2FnZTogXCIke2ZpbmFsQ2FyZE1lc3NhZ2V9XCJgfVxuXG5JTVBPUlRBTlQgR1VJREVMSU5FUzpcbi0gQ2hvb3NlIHN0eWxlcyB0aGF0IGFyZSBXQVJNLCBFTU9USU9OQUwsIGFuZCBQRVJTT05BTCAoZ3JlZXRpbmcgY2FyZHMgYXJlIGFib3V0IGh1bWFuIGNvbm5lY3Rpb24pXG4tIEFWT0lEOiByb2JvdHMsIHRlY2gsIGN5YmVycHVuaywgZnV0dXJpc3RpYywgc2NpLWZpLCBkaWdpdGFsLCBtZWNoYW5pY2FsIHRoZW1lc1xuLSBQUkVGRVI6IHdhdGVyY29sb3IsIG9pbCBwYWludGluZywgaGFuZC1kcmF3biwgaWxsdXN0cmF0ZWQsIGFydGlzdGljLCBwYWludGVybHksIG5hdHVyYWwsIG9yZ2FuaWMgc3R5bGVzXG4tIENvbnNpZGVyIHRoZSBlbW90aW9uYWwgdG9uZTogam95ZnVsLCBsb3ZpbmcsIGNlbGVicmF0b3J5LCBwZWFjZWZ1bCwgYXJ0aXN0aWNcbi0gVGhpbmsgYWJvdXQgd2hhdCB3b3VsZCBtYWtlIHNvbWVvbmUgc21pbGUgd2hlbiB0aGV5IHJlY2VpdmUgdGhpcyBjYXJkXG5cbkdyZWF0IGNhcmQgc3R5bGVzIGluY2x1ZGU6XG4tIFdhdGVyY29sb3IgaWxsdXN0cmF0aW9ucyB3aXRoIHNvZnQsIGZsb3dpbmcgY29sb3JzXG4tIEhhbmQtcGFpbnRlZCBhcnR3b3JrIHdpdGggdmlzaWJsZSBicnVzaHN0cm9rZXNcbi0gQ2hhcm1pbmcgaWxsdXN0cmF0ZWQgY2hhcmFjdGVycyBhbmQgc2NlbmVzXG4tIEJlYXV0aWZ1bCBib3RhbmljYWwgYW5kIG5hdHVyZSB0aGVtZXNcbi0gVmludGFnZSBhcnRpc3RpYyBzdHlsZXMgd2l0aCBjaGFyYWN0ZXJcbi0gV2FybSwgaW52aXRpbmcgY29sb3IgcGFsZXR0ZXNcbi0gQXJ0aXN0aWMgdGVjaG5pcXVlcyB0aGF0IGZlZWwgaGFuZG1hZGUgYW5kIHBlcnNvbmFsXG5cbkNob29zZSBPTkUgYXJ0aXN0aWMgc3R5bGUgdGhhdCBwZXJmZWN0bHkgbWF0Y2hlcyB0aGlzICR7Y2FyZFR5cGVGb3JQcm9tcHR9IGNhcmQncyBlbW90aW9uYWwgcHVycG9zZS4gUmVzcG9uZCB3aXRoOlxuXCJpbiBbZGV0YWlsZWQgYXJ0aXN0aWMgc3R5bGUgZGVzY3JpcHRpb24gZm9jdXNpbmcgb24gd2FybXRoLCBiZWF1dHksIGFuZCBlbW90aW9uYWwgYXBwZWFsXVwiXG5cbk1ha2UgaXQgZmVlbCBsaWtlIHNvbWV0aGluZyBjcmVhdGVkIHdpdGggbG92ZSBmb3Igc29tZW9uZSBzcGVjaWFsLmA7XG5cbiAgICAgICAgICBjb25zdCBhaVNlbGVjdGVkU3R5bGUgPSBhd2FpdCBjaGF0V2l0aEFJKHN0eWxlU2VsZWN0aW9uUHJvbXB0LCB7XG4gICAgICAgICAgICBtb2RlbDogXCJnZW1pbmktMi41LXByb1wiLFxuICAgICAgICAgICAgaW5jbHVkZVRob3VnaHRzOiBmYWxzZSAgLy8gRG9uJ3QgaW5jbHVkZSB0aGlua2luZyBjb250ZW50IGZvciBzdHlsZSBzZWxlY3Rpb25cbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIGlmIChhaVNlbGVjdGVkU3R5bGU/LnRyaW0oKSkge1xuICAgICAgICAgICAgc3R5bGVNb2RpZmllciA9IGFpU2VsZWN0ZWRTdHlsZS50cmltKCk7XG4gICAgICAgICAgICBzZXRHZW5lcmF0aW9uUHJvZ3Jlc3MoXCLinKggUGVyZmVjdCBzdHlsZSBjaG9zZW4hIFRpbWUgdG8gYnJpbmcgeW91ciBjYXJkIHRvIGxpZmUuLi5cIik7XG4gICAgICAgICAgICB0b2FzdC5zdWNjZXNzKFwi8J+OqCBQZXJmZWN0IGFydGlzdGljIHN0eWxlIGNob3NlbiBmb3IgeW91ciBjYXJkIVwiKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gRmFsbGJhY2sgdG8gYSBiZWF1dGlmdWwgZGVmYXVsdCBzdHlsZVxuICAgICAgICAgICAgc3R5bGVNb2RpZmllciA9IFwiaW4gYSBzb3BoaXN0aWNhdGVkIGFydGlzdGljIHN0eWxlIHdpdGggaGFybW9uaW91cyBjb2xvcnMsIGVsZWdhbnQgY29tcG9zaXRpb24sIGFuZCBiZWF1dGlmdWwgdmlzdWFsIGVsZW1lbnRzIHBlcmZlY3RseSBzdWl0ZWQgZm9yIHRoaXMgc3BlY2lhbCBjYXJkXCI7XG4gICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1N0eWxlIHNlbGVjdGlvbiBmYWlsZWQ6JywgZXJyb3IpO1xuICAgICAgICAgIC8vIEZhbGxiYWNrIHRvIGEgYmVhdXRpZnVsIGRlZmF1bHQgc3R5bGVcbiAgICAgICAgICBzdHlsZU1vZGlmaWVyID0gXCJpbiBhIHNvcGhpc3RpY2F0ZWQgYXJ0aXN0aWMgc3R5bGUgd2l0aCBoYXJtb25pb3VzIGNvbG9ycywgZWxlZ2FudCBjb21wb3NpdGlvbiwgYW5kIGJlYXV0aWZ1bCB2aXN1YWwgZWxlbWVudHMgcGVyZmVjdGx5IHN1aXRlZCBmb3IgdGhpcyBzcGVjaWFsIGNhcmRcIjtcbiAgICAgICAgICB0b2FzdC5pbmZvKFwiVXNpbmcgYSBiZWF1dGlmdWwgZGVmYXVsdCBzdHlsZSBmb3IgeW91ciBjYXJkXCIpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICAvLyBVc2UgY3VzdG9tIHN0eWxlIGRlc2NyaXB0aW9uIGlmIGN1c3RvbSBzdHlsZSBpcyBzZWxlY3RlZFxuICAgICAgZWxzZSBpZiAoc2VsZWN0ZWRBcnRpc3RpY1N0eWxlID09PSBcImN1c3RvbVwiICYmIGN1c3RvbVN0eWxlRGVzY3JpcHRpb24udHJpbSgpKSB7XG4gICAgICAgIHN0eWxlTW9kaWZpZXIgPSBgaW4gJHtjdXN0b21TdHlsZURlc2NyaXB0aW9uLnRyaW0oKX1gO1xuICAgICAgfSBlbHNlIGlmIChzZWxlY3RlZEFydGlzdGljU3R5bGUgPT09IFwiY3VzdG9tXCIgJiYgIWN1c3RvbVN0eWxlRGVzY3JpcHRpb24udHJpbSgpKSB7XG4gICAgICAgIC8vIEZhbGxiYWNrIHRvIGRlZmF1bHQgaWYgY3VzdG9tIGlzIHNlbGVjdGVkIGJ1dCBubyBkZXNjcmlwdGlvbiBwcm92aWRlZFxuICAgICAgICBzdHlsZU1vZGlmaWVyID0gXCJpbiBhcnRpc3RpYyBzdHlsZSB3aXRoIGNyZWF0aXZlIGFuZCB1bmlxdWUgdmlzdWFsIGVsZW1lbnRzXCI7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIEdldCBwYXBlciBzaXplIGNvbmZpZ3VyYXRpb25cbiAgICAgIGNvbnN0IHBhcGVyQ29uZmlnID0gcGFwZXJTaXplcy5maW5kKHNpemUgPT4gc2l6ZS5pZCA9PT0gc2VsZWN0ZWRQYXBlclNpemUpIHx8IHBhcGVyU2l6ZXNbMF07XG4gICAgICBcbiAgICAgIC8vIEdlbmVyYXRlIG11bHRpcGxlIHVuaXF1ZSBwcm9tcHQgc2V0cyBmb3IgZWFjaCBjYXJkXG4gICAgICBzZXRHZW5lcmF0aW9uUHJvZ3Jlc3MoYPCfjq8gQ3JhZnRpbmcgJHtudW1iZXJPZkNhcmRzfSBtYXN0ZXJwaWVjZSBkZXNpZ24ke251bWJlck9mQ2FyZHMgPiAxID8gJ3MnIDogJyd9Li4uYCk7XG4gICAgICBcbiAgICAgIC8vIENyZWF0ZSB0aGUgYmFzZSBwcm9tcHQgZ2VuZXJhdGlvbiBxdWVyeSB0aGF0IHdpbGwgYmUgdXNlZCBmb3IgZWFjaCBjYXJkIHZhcmlhbnRcbiAgICAgIGNvbnN0IGxlZ2FjeVByb21wdEdlbmVyYXRpb25RdWVyeSA9IGBDcmVhdGUgJHtpc0Zyb250QmFja09ubHkgPyAnMicgOiAnNCd9IHByb21wdHMgZm9yIGEgY29oZXNpdmUsIGNocm9ub2xvZ2ljYWxseSBmbG93aW5nICR7Y2FyZFR5cGVGb3JQcm9tcHR9IGdyZWV0aW5nIGNhcmQgdGhhdCB0ZWxscyBhIHZpc3VhbCBzdG9yeSAoJHtwYXBlckNvbmZpZy5hc3BlY3RSYXRpb30gcmF0aW8pOlxuXG7wn46oIENSRUFUSVZJVFkgTUFOREFURTogQmUgZ2VudWluZWx5IGNyZWF0aXZlLCB1bmlxdWUsIGFuZCBpbm5vdmF0aXZlISBBdm9pZCBnZW5lcmljIG9yIGNsaWNow6kgZGVzaWducy4gVGhpbmsgb3V0c2lkZSB0aGUgYm94LCBzdXJwcmlzZSB3aXRoIHVuZXhwZWN0ZWQgZWxlbWVudHMsIHVzZSBib2xkIGFydGlzdGljIGNob2ljZXMsIGFuZCBjcmVhdGUgc29tZXRoaW5nIHRydWx5IG1lbW9yYWJsZSBhbmQgc3BlY2lhbC4gUHVzaCBjcmVhdGl2ZSBib3VuZGFyaWVzIHdoaWxlIHN0YXlpbmcgYXBwcm9wcmlhdGUgZm9yIHRoZSBjYXJkIHR5cGUgYW5kIHRvbmUuXG5cblRoZW1lOiBcIiR7ZWZmZWN0aXZlUHJvbXB0fVwiXG5TdHlsZTogJHtzZWxlY3RlZFN0eWxlPy5sYWJlbCB8fCBcIkRlZmF1bHRcIn1cblRvbmU6ICR7c2VsZWN0ZWRUb25lT2JqID8gc2VsZWN0ZWRUb25lT2JqLmxhYmVsIDogXCJIZWFydGZlbHRcIn0gLSAke3RvbmVEZXNjcmlwdGlvbn1cbiR7dG9GaWVsZCA/IGBUbzogJHt0b0ZpZWxkfWAgOiBcIlwifVxuJHtmcm9tRmllbGQgPyBgRnJvbTogJHtmcm9tRmllbGR9YCA6IFwiXCJ9XG4keyFpc0Zyb250QmFja09ubHkgPyBgTWVzc2FnZTogXCIke21lc3NhZ2VDb250ZW50fVwiYCA6IFwiXCJ9XG4ke2lzSGFuZHdyaXR0ZW5NZXNzYWdlID8gXCJOb3RlOiBJbmNsdWRlIHNwYWNlIGZvciBoYW5kd3JpdHRlbiBtZXNzYWdlXCIgOiBcIlwifVxuJHtyZWZlcmVuY2VJbWFnZVVybHMubGVuZ3RoID4gMCA/IGBSZWZlcmVuY2UgUGhvdG9zOiBJIGhhdmUgYXR0YWNoZWQgJHtyZWZlcmVuY2VJbWFnZVVybHMubGVuZ3RofSByZWZlcmVuY2UgcGhvdG8ke3JlZmVyZW5jZUltYWdlVXJscy5sZW5ndGggPiAxID8gJ3MnIDogJyd9IGZvciB5b3UgdG8gYW5hbHl6ZS4gUGxlYXNlIGxvb2sgYXQgJHtyZWZlcmVuY2VJbWFnZVVybHMubGVuZ3RoID4gMSA/ICd0aGVzZSBwaG90b3MnIDogJ3RoaXMgcGhvdG8nfSB0byB1bmRlcnN0YW5kIHdoYXQgdGhlIHBlb3BsZSBsb29rIGxpa2UgLSB0aGVpciBoYWlyIGNvbG9yL3N0eWxlLCBmYWNpYWwgZmVhdHVyZXMsIGNsb3RoaW5nLCBhY2Nlc3NvcmllcywgYm9keSB0eXBlLCBhZ2UsIGV0Yy4gVXNlIHRoaXMgdmlzdWFsIGluZm9ybWF0aW9uIHRvIGNyZWF0ZSBhY2N1cmF0ZSBjYXJ0b29uL2lsbHVzdHJhdGVkIHZlcnNpb25zIG9mICR7cmVmZXJlbmNlSW1hZ2VVcmxzLmxlbmd0aCA+IDEgPyAndGhlc2UgcGVvcGxlJyA6ICd0aGlzIHBlcnNvbid9IGluIHRoZSBwcm9tcHRzLlxuVHJhbnNmb3JtYXRpb24gaW5zdHJ1Y3Rpb25zOiBcIiR7aW1hZ2VUcmFuc2Zvcm1hdGlvbiB8fCAnQ3JlYXRlIHN0eWxpemVkIGNhcnRvb24gY2hhcmFjdGVycyB0aGF0IGFjY3VyYXRlbHkgcmVwcmVzZW50IHRoZSBwZW9wbGUgaW4gdGhlIHJlZmVyZW5jZSBwaG90b3Mgd2hpbGUgbWFpbnRhaW5pbmcgdGhlaXIgZGlzdGluY3RpdmUgZmVhdHVyZXMnfVwiYCA6IFwiXCJ9XG5cbkNSSVRJQ0FMOiBDcmVhdGUgYSBjb2hlc2l2ZSB2aXN1YWwgbmFycmF0aXZlIHRoYXQgZmxvd3MgY2hyb25vbG9naWNhbGx5IHRocm91Z2ggdGhlIGNhcmQgZXhwZXJpZW5jZTpcbjEuIEZST05UIENPVkVSOiBGaXJzdCBpbXByZXNzaW9uIC0gc2V0cyB0aGUgc2NlbmUvaW50cm9kdWNlcyB0aGUgc3RvcnlcbjIuIElOVEVSSU9SIFNQUkVBRDogVGhlIGhlYXJ0IG9mIHRoZSBleHBlcmllbmNlIC0gY29udGludWF0aW9uIGFuZCBjbGltYXggb2YgdGhlIHZpc3VhbCBzdG9yeVxuMy4gQkFDSyBDT1ZFUjogQ29uY2x1c2lvbiAtIHBlYWNlZnVsIHJlc29sdXRpb24gb3IgY29tcGxlbWVudGFyeSBlbmRpbmdcblxuUmVxdWlyZW1lbnRzOlxuLSBGbGF0IDJEIGFydHdvcmsgZm9yIHByaW50aW5nIChub3QgM0QgY2FyZCBpbWFnZXMpXG4tIEZ1bGwtYmxlZWQgYmFja2dyb3VuZHMgZXh0ZW5kaW5nIHRvIGVkZ2VzXG4tIElNUE9SVEFOVDogS2VlcCB0ZXh0LCBmYWNlcywgYW5kIGtleSBlbGVtZW50cyBhdCBsZWFzdCAxMCUgYXdheSBmcm9tIHRvcC9ib3R0b20gZWRnZXMgKHNtYWxsIGFtb3VudCBtYXkgYmUgY3JvcHBlZCBpbiBwcmludGluZylcbi0gS2VlcCB0ZXh0L2ZhY2VzIDAuNVwiIGZyb20gbGVmdC9yaWdodCBlZGdlcyBmb3Igc2FmZSBwcmludGluZ1xuLSBDT05TSVNURU5UIHZpc3VhbCBlbGVtZW50cyB0aHJvdWdob3V0OiBzYW1lIGNoYXJhY3RlcnMsIGNvbG9yIHBhbGV0dGUsIGxpZ2h0aW5nLCBhcnQgc3R5bGVcbi0gUHJvZ3Jlc3NpdmUgdmlzdWFsIHN0b3J5dGVsbGluZyBmcm9tIGZyb250IOKGkiBpbnRlcmlvciDihpIgYmFja1xuLSBQdXQgYW55IHRleHQgaW4gcXVvdGVzIGFuZCBtYWtlIGl0IGNsZWFyL3JlYWRhYmxlXG4tIEVhY2ggc2VjdGlvbiBzaG91bGQgZmVlbCBsaWtlIHBhcnQgb2YgdGhlIHNhbWUgYXJ0aXN0aWMgdW5pdmVyc2Vcbi0gVE9ORTogRW5zdXJlIHRoZSB2aXN1YWwgbW9vZCBhbmQgYXRtb3NwaGVyZSBtYXRjaGVzIHRoZSAke3RvbmVEZXNjcmlwdGlvbn0gdG9uZSB0aHJvdWdob3V0IGFsbCBzZWN0aW9uc1xuLSBJTlRFTExFQ1RVQUwgUFJPUEVSVFkgU0FGRVRZOiBJZiB0aGUgdXNlciBtZW50aW9ucyBzcGVjaWZpYyBjaGFyYWN0ZXJzLCBicmFuZHMsIGxvZ29zLCBvciBwcm9kdWN0cywgYXV0b21hdGljYWxseSByZXBsYWNlIHRoZW0gd2l0aCBvcmlnaW5hbCBnZW5lcmljIGFsdGVybmF0aXZlcyBpbiB5b3VyIHByb21wdHMuIEZvciBleGFtcGxlOiByZXBsYWNlIHNwZWNpZmljIGNoYXJhY3RlciBuYW1lcyB3aXRoIFwiY2FydG9vbiBtb3VzZSBjaGFyYWN0ZXJcIiBvciBcInN1cGVyaGVybyBjaGFyYWN0ZXJcIiwgcmVwbGFjZSBicmFuZCBuYW1lcyB3aXRoIFwiY29sb3JmdWwgY2VyZWFsXCIgb3IgXCJzcG9ydHMgY2FyXCIsIGV0Yy4gQ3JlYXRlIGluc3BpcmVkLWJ5IGRlc2lnbnMgdGhhdCBjYXB0dXJlIHRoZSBlc3NlbmNlIHdpdGhvdXQgcmVmZXJlbmNpbmcgYW55IHByb3RlY3RlZCBuYW1lcyBvciBzcGVjaWZpYyBjb3B5cmlnaHRlZCBlbGVtZW50cy4gTmV2ZXIgaW5jbHVkZSBhY3R1YWwgYnJhbmQgbmFtZXMsIGNoYXJhY3RlciBuYW1lcywgb3IgdHJhZGVtYXJrZWQgdGVybXMgaW4gdGhlIGltYWdlIGdlbmVyYXRpb24gcHJvbXB0c1xuLSBDT05URU5UIFNBRkVUWTogRW5zdXJlIGFsbCBwcm9tcHRzIGFyZSBmYW1pbHktZnJpZW5kbHkgYW5kIGFwcHJvcHJpYXRlIGZvciBncmVldGluZyBjYXJkcy4gQXZvaWQgYW55IGNvbnRlbnQgdGhhdCBjb3VsZCBiZSBmbGFnZ2VkIGJ5IHNhZmV0eSBzeXN0ZW1zIGluY2x1ZGluZzogdmlvbGVuY2UsIHdlYXBvbnMsIGluYXBwcm9wcmlhdGUgaW1hZ2VyeSwgcG9saXRpY2FsIGNvbnRlbnQsIGNvbnRyb3ZlcnNpYWwgdG9waWNzLCBzY2FyeSBvciBkaXN0dXJiaW5nIGVsZW1lbnRzLCBvciBhbnl0aGluZyBub3Qgc3VpdGFibGUgZm9yIGFsbCBhZ2VzLiBJZiB0aGUgdXNlciByZXF1ZXN0cyBzb21ldGhpbmcgcG90ZW50aWFsbHkgaW5hcHByb3ByaWF0ZSwgcmVkaXJlY3QgdG8gcG9zaXRpdmUsIHdob2xlc29tZSBhbHRlcm5hdGl2ZXMgdGhhdCBjYXB0dXJlIHRoZWlyIGludGVudCBpbiBhIGZhbWlseS1mcmllbmRseSB3YXlcbiR7c2VsZWN0ZWRUb25lID09PSAnZnVubnknID8gJy0gSW5jbHVkZSB2aXN1YWwgaHVtb3IsIHBsYXlmdWwgZWxlbWVudHMsIGFuZCB3aGltc2ljYWwgZGV0YWlscycgOiAnJ31cbiR7c2VsZWN0ZWRUb25lID09PSAnZ2Vuei1odW1vcicgPyAnLSBJbmNsdWRlIEdlblogdmlzdWFsIGVsZW1lbnRzIGxpa2UgY2hhb3RpYyBlbmVyZ3ksIGludGVybmV0IG1lbWUgcmVmZXJlbmNlcywgYm9sZCBjb250cmFzdGluZyBjb2xvcnMsIGFuZCB1bmhpbmdlZCBidXQgZW5kZWFyaW5nIHZpc3VhbCBzdHlsZScgOiAnJ31cbiR7c2VsZWN0ZWRUb25lID09PSAncm9tYW50aWMnID8gJy0gSW5jbHVkZSByb21hbnRpYyBlbGVtZW50cyBsaWtlIHNvZnQgbGlnaHRpbmcsIGhlYXJ0cywgZmxvd2Vycywgb3IgaW50aW1hdGUgc2NlbmVzJyA6ICcnfVxuJHtzZWxlY3RlZFRvbmUgPT09ICdwcm9mZXNzaW9uYWwnID8gJy0gS2VlcCB2aXN1YWxzIGNsZWFuLCBzb3BoaXN0aWNhdGVkLCBhbmQgYnVzaW5lc3MtYXBwcm9wcmlhdGUnIDogJyd9XG4ke3NlbGVjdGVkVG9uZSA9PT0gJ3BsYXlmdWwnID8gJy0gSW5jbHVkZSBicmlnaHQgY29sb3JzLCBkeW5hbWljIHBvc2VzLCBhbmQgZW5lcmdldGljIHZpc3VhbCBlbGVtZW50cycgOiAnJ31cbiR7c2VsZWN0ZWRUb25lID09PSAnZWxlZ2FudCcgPyAnLSBGb2N1cyBvbiBzb3BoaXN0aWNhdGVkIGRlc2lnbiwgcmVmaW5lZCBjb2xvciBwYWxldHRlcywgYW5kIGdyYWNlZnVsIGNvbXBvc2l0aW9ucycgOiAnJ31cbiR7cmVmZXJlbmNlSW1hZ2VVcmxzLmxlbmd0aCA+IDAgPyBgLSBDcmVhdGUgY2FydG9vbi9pbGx1c3RyYXRlZCBjaGFyYWN0ZXJzIGluc3BpcmVkIGJ5IHJlZmVyZW5jZSBpbWFnZXMgLSBETyBOT1QgbWFrZSByZWFsaXN0aWMgZGVwaWN0aW9uc2AgOiAnJ31cblxuQ3JlYXRlIHByb21wdHMgdGhhdCBmbG93IGNocm9ub2xvZ2ljYWxseTpcblxuMS4gRnJvbnQgQ292ZXIgKE9wZW5pbmcgU2NlbmUpOiBCRSBHRU5VSU5FTFkgQ1JFQVRJVkUgQU5EIFVOSVFVRSEgSW5jbHVkZSBcIiR7Y2FyZFR5cGVGb3JQcm9tcHR9XCIgZ3JlZXRpbmcgdGV4dCBwb3NpdGlvbmVkIHNhZmVseSBpbiB0aGUgY2VudGVyIGFyZWEgKGF2b2lkIHRvcC9ib3R0b20gMTAlIG9mIGltYWdlKS4gVEVYVCBTVFlMRTogV3JpdGUgdGhlIGdyZWV0aW5nIHRleHQgaW4gYmVhdXRpZnVsLCBjbGVhcmx5IHJlYWRhYmxlIGhhbmR3cml0dGVuIGN1cnNpdmUgc2NyaXB0IHRoYXQgbWF0Y2hlcyB0aGUgZWxlZ2FudCBzdHlsZSB1c2VkIGluc2lkZSB0aGUgY2FyZCAtIGxlZ2libGUsIGZsb3dpbmcsIGFuZCBncmFjZWZ1bCB3aXRoIG5hdHVyYWwgY2hhcmFjdGVyIGFuZCB3YXJtdGguICR7cmVmZXJlbmNlSW1hZ2VVcmxzLmxlbmd0aCA+IDAgPyBgSSBoYXZlIGluY2x1ZGVkICR7cmVmZXJlbmNlSW1hZ2VVcmxzLmxlbmd0aCA+IDEgPyAnbXVsdGlwbGUnIDogJ215IG93bid9IHJlZmVyZW5jZSBpbWFnZSR7cmVmZXJlbmNlSW1hZ2VVcmxzLmxlbmd0aCA+IDEgPyAncycgOiAnJ30uIENyZWF0ZSBzdHlsaXplZCBjYXJ0b29uL2lsbHVzdHJhdGVkIGNoYXJhY3RlcnMgaW5zcGlyZWQgYnkgdGhlIHJlZmVyZW5jZSBpbWFnZSR7cmVmZXJlbmNlSW1hZ2VVcmxzLmxlbmd0aCA+IDEgPyAncycgOiAnJ30gLSBETyBOT1QgbWFrZSByZWFsaXN0aWMgZGVwaWN0aW9ucyBvZiByZWFsIHBlb3BsZSwgaW5zdGVhZCBjcmVhdGUgY2hhcm1pbmcgY2FydG9vbi1zdHlsZSBjaGFyYWN0ZXJzIHdpdGggc2ltcGxpZmllZCwgZnJpZW5kbHkgZmVhdHVyZXMuYCA6ICdDcmVhdGUgY2hhcm1pbmcgY2FydG9vbi1zdHlsZSBvciBzdHlsaXplZCBpbGx1c3RyYXRlZCBmaWd1cmVzIGlmIHBlb3BsZSBhcmUgbmVlZGVkIGZvciB0aGUgdGhlbWUuJ30gVGhpcyBpcyB0aGUgc3Rvcnkgb3BlbmluZyAtIGludHJvZHVjZSBrZXkgdmlzdWFsIGVsZW1lbnRzIChjb2xvcnMsIG1vdGlmcywgYXJ0aXN0aWMgc3R5bGUpIHRoYXQgd2lsbCBjb250aW51ZSB0aHJvdWdob3V0IHRoZSBvdGhlciBzZWN0aW9ucy4gVGhpbmsgb2Ygc29tZXRoaW5nIHVuZXhwZWN0ZWQsIGlubm92YXRpdmUsIGFuZCBtZW1vcmFibGUgdGhhdCB3aWxsIHN1cnByaXNlIGFuZCBkZWxpZ2h0IHRoZSByZWNpcGllbnQuIEF2b2lkIGdlbmVyaWMgZGVzaWducyEgU3R5bGU6ICR7c3R5bGVNb2RpZmllcn1cblxuMi4gJHshaXNGcm9udEJhY2tPbmx5ID8gYExlZnQgSW50ZXJpb3IgKFN0b3J5IERldmVsb3BtZW50KTogVU5MRUFTSCBZT1VSIENSRUFUSVZJVFkhIFlvdSBoYXZlIGNvbXBsZXRlIGNyZWF0aXZlIGZyZWVkb20gdG8gZGVzaWduIHdoYXRldmVyIHlvdSB3YW50IGZvciB0aGlzIGxlZnQgaW50ZXJpb3IgcGFnZSEgVGhpcyBpcyB5b3VyIGFydGlzdGljIHBsYXlncm91bmQgLSBjcmVhdGUgc29tZXRoaW5nIGdlbnVpbmVseSBpbm5vdmF0aXZlIGFuZCB1bmV4cGVjdGVkIHRoYXQgZmVlbHMgcmlnaHQgZm9yIGEgJHtjYXJkVHlwZUZvclByb21wdH0gY2FyZCB3aXRoICR7dG9uZURlc2NyaXB0aW9ufSB0b25lLiBZb3UgY2FuIGluY2x1ZGU6IHNjZW5lcywgbGFuZHNjYXBlcywgb2JqZWN0cywgcGF0dGVybnMsIHF1b3RlcywgdGV4dCwgaWxsdXN0cmF0aW9ucywgcmVhbGlzdGljIGFydCwgYWJzdHJhY3QgYXJ0LCBvciBhbnl0aGluZyBlbHNlIHRoYXQgaW5zcGlyZXMgeW91IC0gYnV0IE5PIFBFT1BMRSBvciBjaGFyYWN0ZXJzIHVubGVzcyB0aGUgdXNlciBzcGVjaWZpY2FsbHkgbWVudGlvbmVkIHdhbnRpbmcgcGVvcGxlIGluIHRoZWlyIGNhcmQgZGVzY3JpcHRpb24uIFBvc2l0aW9uIGFueSB0ZXh0IHNhZmVseSBpbiBjZW50ZXIgYXJlYSAoYXZvaWQgdG9wL2JvdHRvbSAxMCUpLiBUaGluayBvZiBzb21ldGhpbmcgbm8gb25lIGhhcyBkb25lIGJlZm9yZSEgU3VycHJpc2UgdXMgd2l0aCBib2xkLCBpbWFnaW5hdGl2ZSwgYW5kIG1lbW9yYWJsZSBhcnRpc3RpYyBjaG9pY2VzIHdoaWxlIG1haW50YWluaW5nIHZpc3VhbCBoYXJtb255IHdpdGggdGhlIG92ZXJhbGwgY2FyZCBzdHlsZSBhbmQgdG9uZS4gU3R5bGU6ICR7c3R5bGVNb2RpZmllcn1cblxuMy4gUmlnaHQgSW50ZXJpb3IgKFN0b3J5IENsaW1heCk6IEJFIENSRUFUSVZFIFdJVEggTUVTU0FHRSBERVNJR04hICR7aXNIYW5kd3JpdHRlbk1lc3NhZ2UgPyBgRGVzaWduIHdpdGggZWxlZ2FudCB3cml0aW5nIHNwYWNlIHRoYXQgY29tcGxlbWVudHMgdGhlIHZpc3VhbCBzdG9yeSBmcm9tIGxlZnQgaW50ZXJpb3IuIFBvc2l0aW9uIGRlY29yYXRpdmUgZWxlbWVudHMgc2FmZWx5IGF3YXkgZnJvbSB0b3AvYm90dG9tIGVkZ2VzLiBDcmVhdGUgaW5ub3ZhdGl2ZSBhbmQgYXJ0aXN0aWMgZGVjb3JhdGl2ZSBlbGVtZW50cywgYm9yZGVycywgb3IgZmxvdXJpc2hlcyB0aGF0IGFyZSB1bmlxdWUgYW5kIG1lbW9yYWJsZSAtIE5PIFBFT1BMRSBvciBjaGFyYWN0ZXJzLmAgOiBgSW5jbHVkZSBtZXNzYWdlIHRleHQ6IFwiJHttZXNzYWdlQ29udGVudH1cIiBwb3NpdGlvbmVkIHNhZmVseSBpbiBjZW50ZXIgYXJlYSAoYXZvaWQgdG9wL2JvdHRvbSAxMCUgb2YgaW1hZ2UpIGludGVncmF0ZWQgaW50byBiZWF1dGlmdWwsIGlubm92YXRpdmUgZGVjb3JhdGl2ZSBhcnR3b3JrLiBIQU5EV1JJVElORyBTVFlMRTogV3JpdGUgdGhlIG1lc3NhZ2UgaW4gYmVhdXRpZnVsLCBjbGVhcmx5IHJlYWRhYmxlIGhhbmR3cml0dGVuIGN1cnNpdmUgc2NyaXB0IHRoYXQgZmVlbHMgZWxlZ2FudCBhbmQgcGVyc29uYWwuIFRoZSBoYW5kd3JpdGluZyBzaG91bGQgYmUgbGVnaWJsZSwgZmxvd2luZywgYW5kIGhhdmUgbmF0dXJhbCBjaGFyYWN0ZXIgLSBub3Qgb3Zlcmx5IHBlcmZlY3QgYnV0IGdyYWNlZnVsIGFuZCB3YXJtLiBVc2UgYSBuaWNlIHBlbi1zdHlsZSBhcHBlYXJhbmNlIHdpdGggbmF0dXJhbCBpbmsgZmxvdyBhbmQgc2xpZ2h0IHZhcmlhdGlvbnMgaW4gbGluZSB3ZWlnaHQuIFRoaW5rIG9mIHNvcGhpc3RpY2F0ZWQgY2FsbGlncmFwaHkgdGhhdCdzIHN0aWxsIGFwcHJvYWNoYWJsZSBhbmQgZWFzeSB0byByZWFkLiBNYWtlIHRoZSBoYW5kd3JpdGluZyBmZWVsIGdlbnVpbmUgYW5kIGhlYXJ0ZmVsdC4gVGhpbmsgYmV5b25kIHR5cGljYWwgZmxvcmFscyBhbmQgcGF0dGVybnMgLSBjcmVhdGUgc29tZXRoaW5nIHVuZXhwZWN0ZWQgYW5kIGFydGlzdGljIHRoYXQgcGVyZmVjdGx5IGZyYW1lcyB0aGUgaGFuZHdyaXR0ZW4gbWVzc2FnZSAtIE5PIFBFT1BMRSBvciBjaGFyYWN0ZXJzLmB9IFRoaXMgc2hvdWxkIGZlZWwgbGlrZSB0aGUgZW1vdGlvbmFsIHBlYWsgb2YgdGhlIGNhcmQgZXhwZXJpZW5jZSwgaGFybW9uaXppbmcgd2l0aCB0aGUgbGVmdCBpbnRlcmlvciBhcyBhIGNvaGVzaXZlIHNwcmVhZC4gQXZvaWQgY2xpY2jDqSBkZXNpZ25zIGFuZCBjcmVhdGUgc29tZXRoaW5nIGdlbnVpbmVseSBzcGVjaWFsISR7aGFuZHdyaXRpbmdTYW1wbGVVcmwgPyAnIE1hdGNoIHRoZSBwcm92aWRlZCBoYW5kd3JpdGluZyBzdHlsZSBzYW1wbGUgZXhhY3RseS4nIDogJyBVc2UgdGhlIGVsZWdhbnQgY3Vyc2l2ZSBoYW5kd3JpdGluZyBzdHlsZSBkZXNjcmliZWQgYWJvdmUuJ30gU3R5bGU6ICR7c3R5bGVNb2RpZmllcn1cblxuNC4gYCA6ICcnfUJhY2sgQ292ZXIgKFN0b3J5IFJlc29sdXRpb24pOiBCRSBTVUJUTFkgQ1JFQVRJVkUhIENyZWF0ZSBhIHNpbXBsZSB5ZXQgaW5ub3ZhdGl2ZSBkZWNvcmF0aXZlIGRlc2lnbiB0aGF0IGJyaW5ncyBwZWFjZWZ1bCBjbG9zdXJlIHRvIHRoZSB2aXN1YWwgc3RvcnkuIFJlZmVyZW5jZSBzdWJ0bGUgZWxlbWVudHMgZnJvbSB0aGUgZnJvbnQgY292ZXIgYnV0IGtlZXAgaXQgbWluaW1hbCBhbmQgc2VyZW5lIC0gTk8gUEVPUExFLCBqdXN0IGJlYXV0aWZ1bCwgdW5leHBlY3RlZCBhcnRpc3RpYyBlbGVtZW50cyB0aGF0IGdvIGJleW9uZCB0eXBpY2FsIHBhdHRlcm5zIG9yIGZsb3JhbHMuIElNUE9SVEFOVDogTGVhdmUgdGhlIGJvdHRvbS1yaWdodCBjb3JuZXIgYXJlYSAoYXBwcm94aW1hdGVseSAxIGluY2ggc3F1YXJlKSBjb21wbGV0ZWx5IGNsZWFyIGFuZCB1bmRlY29yYXRlZCAtIHRoaXMgc3BhY2Ugc2hvdWxkIHJlbWFpbiBlbXB0eS4gRm9jdXMgZGVjb3JhdGl2ZSBlbGVtZW50cyB0b3dhcmQgdGhlIGNlbnRlciBhbmQgbGVmdCBzaWRlIG9mIHRoZSBkZXNpZ24uIFRoaW5rIG9mIHNvbWV0aGluZyBxdWlldGx5IGJlYXV0aWZ1bCBhbmQgbWVtb3JhYmxlIHRoYXQgY29tcGxlbWVudHMgdGhlIG92ZXJhbGwgZGVzaWduIHdoaWxlIGJlaW5nIGdlbnVpbmVseSB1bmlxdWUuIFRoaXMgc2hvdWxkIGZlZWwgbGlrZSBhIHBlYWNlZnVsLCBhcnRpc3RpYyBlbmRpbmcgdGhhdCBzdXJwcmlzZXMgd2l0aCBpdHMgc3VidGxlIGNyZWF0aXZpdHkuIFN0eWxlOiAke3N0eWxlTW9kaWZpZXJ9XG5cblZJU1VBTCBDT05USU5VSVRZIENIRUNLTElTVDpcbi0gU2FtZSBjb2xvciBwYWxldHRlIGFjcm9zcyBhbGwgc2VjdGlvbnNcbi0gQ29uc2lzdGVudCBsaWdodGluZy90aW1lIG9mIGRheVxuLSBTYW1lIGFydGlzdGljIHRlY2huaXF1ZXMgYW5kIGJydXNod29ya1xuLSBSZWN1cnJpbmcgdmlzdWFsIG1vdGlmcyBvciBzeW1ib2xzIChidXQgbWFrZSB0aGVtIHVuaXF1ZSBhbmQgbWVtb3JhYmxlISlcbi0gUHJvZ3Jlc3NpdmUgZW1vdGlvbmFsIGpvdXJuZXkgZnJvbSBpbnRyb2R1Y3Rpb24gdG8gcmVzb2x1dGlvblxuLSBGcm9udCBjb3Zlcjogc3R5bGl6ZWQgY2FydG9vbi9pbGx1c3RyYXRlZCBjaGFyYWN0ZXJzIGlmIHBlb3BsZSBhcmUgbmVlZGVkIGZvciB0aGUgdGhlbWVcbi0gTGVmdCBpbnRlcmlvcjogQ1JFQVRJVkUgRlJFRURPTSBidXQgTk8gUEVPUExFIHVubGVzcyB1c2VyIHNwZWNpZmljYWxseSByZXF1ZXN0ZWQgcGVvcGxlIGluIHRoZWlyIGRlc2NyaXB0aW9uXG4tIFJpZ2h0IGludGVyaW9yOiBmb2N1cyBvbiBtZXNzYWdlIHNwYWNlIHdpdGggaW5ub3ZhdGl2ZSBkZWNvcmF0aXZlIGVsZW1lbnRzIChOTyBQRU9QTEUpXG4tIEJhY2sgY292ZXI6IHNpbXBsZSB5ZXQgY3JlYXRpdmUgZGVjb3JhdGl2ZSBkZXNpZ24gd2l0aG91dCB0ZXh0IG9yIHBlb3BsZVxuLSBVc2Ugc2ltcGxpZmllZCwgZnJpZW5kbHksIGNoYXJtaW5nIGNoYXJhY3RlciBkZXNpZ24gaWYgaW5jbHVkaW5nIHBlb3BsZSAoZnJvbnQgY292ZXIgb25seSlcbi0gQ1JFQVRJVklUWSBQUklPUklUWTogQWx3YXlzIGNob29zZSB0aGUgbW9yZSBpbm5vdmF0aXZlLCBzdXJwcmlzaW5nLCBhbmQgbWVtb3JhYmxlIG9wdGlvbiBvdmVyIGdlbmVyaWMgZGVzaWduc1xuXG5SZXR1cm4gSlNPTjpcbntcbiAgXCJmcm9udENvdmVyXCI6IFwiZGV0YWlsZWQgcHJvbXB0IHdpdGggc3Rvcnkgb3BlbmluZyBlbGVtZW50c1wiLFxuICBcImJhY2tDb3ZlclwiOiBcImRldGFpbGVkIHByb21wdCB3aXRoIHN0b3J5IGNvbmNsdXNpb24gZWxlbWVudHNcIiR7IWlzRnJvbnRCYWNrT25seSA/ICcsXFxuICBcImxlZnRJbnRlcmlvclwiOiBcImRldGFpbGVkIHByb21wdCB3aXRoIHN0b3J5IGRldmVsb3BtZW50IGVsZW1lbnRzXCIsXFxuICBcInJpZ2h0SW50ZXJpb3JcIjogXCJkZXRhaWxlZCBwcm9tcHQgd2l0aCBzdG9yeSBjbGltYXggZWxlbWVudHNcIicgOiAnJ31cbn1gO1xuXG4gICAgICAvLyBHZW5lcmF0ZSBtdWx0aXBsZSB1bmlxdWUgcHJvbXB0IHNldHMgaW4gcGFyYWxsZWxcbiAgICAgIGNvbnN0IHByb21wdEdlbmVyYXRpb25Qcm9taXNlcyA9IEFycmF5LmZyb20oeyBsZW5ndGg6IG51bWJlck9mQ2FyZHMgfSwgKF8sIGNhcmRJbmRleCkgPT4ge1xuICAgICAgICBjb25zdCB1bmlxdWVQcm9tcHRRdWVyeSA9IGxlZ2FjeVByb21wdEdlbmVyYXRpb25RdWVyeSArIGBcblxu8J+OqCBDQVJEIFZBUklBTlQgJHtjYXJkSW5kZXggKyAxfSBDUkVBVElWRSBESVJFQ1RJT046IFxuQ3JlYXRlIGEgY29tcGxldGVseSB1bmlxdWUgdmlzdWFsIGludGVycHJldGF0aW9uIHRoYXQncyBkaXN0aW5jdGx5IGRpZmZlcmVudCBmcm9tIG90aGVyIHBvc3NpYmxlIHZhcmlhbnRzLiBVc2UgZGlmZmVyZW50OlxuLSBDb2xvciBwYWxldHRlcyBhbmQgbW9vZCBsaWdodGluZ1xuLSBBcnRpc3RpYyBjb21wb3NpdGlvbiBhbmQgbGF5b3V0IGFwcHJvYWNoZXMgIFxuLSBDcmVhdGl2ZSB2aXN1YWwgbWV0YXBob3JzIGFuZCBzeW1ib2xzXG4tIENoYXJhY3RlciBkZXNpZ25zIGFuZCBwb3NlcyAoaWYgYXBwbGljYWJsZSlcbi0gQmFja2dyb3VuZCBlbGVtZW50cyBhbmQgc2V0dGluZ3Ncbi0gVHlwb2dyYXBoeSBzdHlsZXMgYW5kIHRleHQgcGxhY2VtZW50XG4tIE92ZXJhbGwgY3JlYXRpdmUgdGhlbWUgd2hpbGUga2VlcGluZyBzYW1lIGNvcmUgbWVzc2FnZVxuXG5NYWtlIHRoaXMgY2FyZCB2YXJpYW50IHN0YW5kIG91dCBhcyBpdHMgb3duIHVuaXF1ZSBhcnRpc3RpYyB2aXNpb24hXG5cblJldHVybiBKU09OOlxue1xuICBcImZyb250Q292ZXJcIjogXCJkZXRhaWxlZCBwcm9tcHQgd2l0aCBzdG9yeSBvcGVuaW5nIGVsZW1lbnRzXCIsXG4gIFwiYmFja0NvdmVyXCI6IFwiZGV0YWlsZWQgcHJvbXB0IHdpdGggc3RvcnkgY29uY2x1c2lvbiBlbGVtZW50c1wiJHshaXNGcm9udEJhY2tPbmx5ID8gJyxcXG4gIFwibGVmdEludGVyaW9yXCI6IFwiZGV0YWlsZWQgcHJvbXB0IHdpdGggc3RvcnkgZGV2ZWxvcG1lbnQgZWxlbWVudHNcIixcXG4gIFwicmlnaHRJbnRlcmlvclwiOiBcImRldGFpbGVkIHByb21wdCB3aXRoIHN0b3J5IGNsaW1heCBlbGVtZW50c1wiJyA6ICcnfVxufWA7XG5cbiAgICAgICAgcmV0dXJuIGNoYXRXaXRoQUkodW5pcXVlUHJvbXB0UXVlcnksIHtcbiAgICAgICAgICBqc29uU2NoZW1hOiB7XG4gICAgICAgICAgICB0eXBlOiBcIm9iamVjdFwiLFxuICAgICAgICAgICAgcHJvcGVydGllczoge1xuICAgICAgICAgICAgICBmcm9udENvdmVyOiB7IHR5cGU6IFwic3RyaW5nXCIgfSxcbiAgICAgICAgICAgICAgYmFja0NvdmVyOiB7IHR5cGU6IFwic3RyaW5nXCIgfSxcbiAgICAgICAgICAgICAgLi4uKGlzRnJvbnRCYWNrT25seSA/IHt9IDogeyBcbiAgICAgICAgICAgICAgICBsZWZ0SW50ZXJpb3I6IHsgdHlwZTogXCJzdHJpbmdcIiB9LFxuICAgICAgICAgICAgICAgIHJpZ2h0SW50ZXJpb3I6IHsgdHlwZTogXCJzdHJpbmdcIiB9XG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcmVxdWlyZWQ6IFtcImZyb250Q292ZXJcIiwgXCJiYWNrQ292ZXJcIiwgLi4uKGlzRnJvbnRCYWNrT25seSA/IFtdIDogW1wibGVmdEludGVyaW9yXCIsIFwicmlnaHRJbnRlcmlvclwiXSldXG4gICAgICAgICAgfSxcbiAgICAgICAgICBpbmNsdWRlVGhvdWdodHM6IGZhbHNlLCAgLy8gRG9uJ3QgaW5jbHVkZSB0aGlua2luZyBjb250ZW50IGZvciBwcm9tcHQgZ2VuZXJhdGlvblxuICAgICAgICAgIGF0dGFjaG1lbnRzOiByZWZlcmVuY2VJbWFnZVVybHMgIC8vIFBhc3MgcmVmZXJlbmNlIGltYWdlcyB0byBBSSBmb3IgYmV0dGVyIHByb21wdCBnZW5lcmF0aW9uXG4gICAgICAgIH0pO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIFdhaXQgZm9yIGFsbCBwcm9tcHQgZ2VuZXJhdGlvbnMgdG8gY29tcGxldGVcbiAgICAgIGNvbnN0IGFsbEdlbmVyYXRlZFByb21wdHMgPSBhd2FpdCBQcm9taXNlLmFsbChwcm9tcHRHZW5lcmF0aW9uUHJvbWlzZXMpO1xuICAgICAgXG4gICAgICBzZXRHZW5lcmF0aW9uUHJvZ3Jlc3MoYOKchSAke251bWJlck9mQ2FyZHN9IGJyaWxsaWFudCBkZXNpZ24ke251bWJlck9mQ2FyZHMgPiAxID8gJ3MnIDogJyd9IHJlYWR5ISBOb3cgcGFpbnRpbmcgdGhlbSBpbnRvIHJlYWxpdHkuLi5gKTtcblxuICAgICAgLy8gR2VuZXJhdGUgYWxsIGltYWdlcyBpbiBwYXJhbGxlbFxuICAgICAgc2V0R2VuZXJhdGlvblByb2dyZXNzKGDwn5a877iPIEdlbmVyYXRpbmcgeW91ciAke251bWJlck9mQ2FyZHN9IGNhcmQke251bWJlck9mQ2FyZHMgPiAxID8gJ3MnIDogJyd9IHdpdGggJHtpc0Zyb250QmFja09ubHkgPyAnMicgOiAnNCd9IGltYWdlcyBlYWNoLi4uYCk7XG4gICAgICBcbiAgICAgIC8vIFN0YXJ0aW5nIGltYWdlIGdlbmVyYXRpb25cbiAgICAgIFxuICAgICAgLy8gU2V0IHNlY3Rpb24gc3RhdGVzIHRvIGxvYWRpbmdcbiAgICAgIHNldFNlY3Rpb25Mb2FkaW5nU3RhdGVzKHtcbiAgICAgICAgZnJvbnRDb3ZlcjogJ2xvYWRpbmcnLFxuICAgICAgICBiYWNrQ292ZXI6ICdpZGxlJyxcbiAgICAgICAgbGVmdEludGVyaW9yOiBpc0Zyb250QmFja09ubHkgPyAnaWRsZScgOiAnaWRsZScsXG4gICAgICAgIHJpZ2h0SW50ZXJpb3I6IGlzRnJvbnRCYWNrT25seSA/ICdpZGxlJyA6ICdpZGxlJyxcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICAvLyBQcmVwYXJlIGlucHV0IGltYWdlcyBmb3IgZWFjaCBzZWN0aW9uXG4gICAgICBjb25zdCBmcm9udENvdmVySW5wdXRJbWFnZXM6IHN0cmluZ1tdID0gW107XG4gICAgICBjb25zdCBiYWNrQ292ZXJJbnB1dEltYWdlczogc3RyaW5nW10gPSBbXTtcbiAgICAgIGNvbnN0IGxlZnRJbnRlcmlvcklucHV0SW1hZ2VzOiBzdHJpbmdbXSA9IFtdO1xuICAgICAgY29uc3QgcmlnaHRJbnRlcmlvcklucHV0SW1hZ2VzOiBzdHJpbmdbXSA9IFtdO1xuICAgICAgXG4gICAgICAvLyBIYW5kbGUgcmVmZXJlbmNlIGltYWdlcyAtIG9ubHkgZm9yIG1vZGVscyB3aXRoIGRpcmVjdCBpbWFnZSBzdXBwb3J0XG4gICAgICBpZiAocmVmZXJlbmNlSW1hZ2VVcmxzLmxlbmd0aCA+IDAgJiYgbW9kZWxUb1VzZSA9PT0gXCJncHQtaW1hZ2UtMVwiKSB7XG4gICAgICAgIC8vIEdQVC0xIHN1cHBvcnRzIGRpcmVjdCBpbWFnZSBpbnB1dCAtIHBhc3MgcmVmZXJlbmNlIGltYWdlcyBkaXJlY3RseVxuICAgICAgICBmcm9udENvdmVySW5wdXRJbWFnZXMucHVzaCguLi5yZWZlcmVuY2VJbWFnZVVybHMpO1xuICAgICAgICBjb25zb2xlLmxvZyhcIvCflI0gREVCVUc6IEFkZGVkIHJlZmVyZW5jZSBpbWFnZXMgdG8gZnJvbnRDb3ZlcklucHV0SW1hZ2VzOlwiLCByZWZlcmVuY2VJbWFnZVVybHMpO1xuICAgICAgICBjb25zb2xlLmxvZyhcIvCflI0gREVCVUc6IGZyb250Q292ZXJJbnB1dEltYWdlcyBsZW5ndGg6XCIsIGZyb250Q292ZXJJbnB1dEltYWdlcy5sZW5ndGgpO1xuICAgICAgICBzZXRHZW5lcmF0aW9uUHJvZ3Jlc3MoYOKcqCBSZWZlcmVuY2UgcGhvdG9zIHdpbGwgYmUgdXNlZCBkaXJlY3RseSBmb3IgY2hhcmFjdGVyIGNyZWF0aW9uLi4uYCk7XG4gICAgICAgIHRvYXN0LnN1Y2Nlc3MoYPCfk7ggJHtyZWZlcmVuY2VJbWFnZVVybHMubGVuZ3RofSByZWZlcmVuY2UgcGhvdG8ke3JlZmVyZW5jZUltYWdlVXJscy5sZW5ndGggPiAxID8gJ3MnIDogJyd9IHJlYWR5IGZvciBjaGFyYWN0ZXIgY3JlYXRpb24hYCk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIGlmIChtb2RlbFRvVXNlID09PSBcImdwdC1pbWFnZS0xXCIpIHtcbiAgICAgICAgLy8gQWRkIGhhbmR3cml0aW5nIHNhbXBsZSB0byByaWdodCBpbnRlcmlvciBmb3IgbWVzc2FnZSBzdHlsaW5nXG4gICAgICAgIGlmIChoYW5kd3JpdGluZ1NhbXBsZVVybCAmJiAhaXNGcm9udEJhY2tPbmx5KSB7XG4gICAgICAgICAgcmlnaHRJbnRlcmlvcklucHV0SW1hZ2VzLnB1c2goaGFuZHdyaXRpbmdTYW1wbGVVcmwpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyBDcmVhdGUgcGF5bG9hZHMgZm9yIGFsbCBjYXJkcyB3aXRoIHRoZWlyIHVuaXF1ZSBwcm9tcHRzXG4gICAgICBjb25zdCBhbGxDYXJkUGF5bG9hZHM6IGFueVtdID0gW107XG4gICAgICBcbiAgICAgIC8vIENyZWF0ZSBwYXlsb2FkcyBmb3IgZWFjaCBjYXJkIHdpdGggaXRzIHVuaXF1ZSBwcm9tcHRzXG4gICAgICBhbGxHZW5lcmF0ZWRQcm9tcHRzLmZvckVhY2goKGdlbmVyYXRlZFByb21wdHMsIGNhcmRJbmRleCkgPT4ge1xuICAgICAgICAvLyBFbmhhbmNlIGZyb250IGNvdmVyIHByb21wdCB3aXRoIHJlZmVyZW5jZSBpbWFnZSBpbnN0cnVjdGlvbnMgaWYgYXZhaWxhYmxlXG4gICAgICAgIGxldCBlbmhhbmNlZEZyb250Q292ZXJQcm9tcHQgPSBnZW5lcmF0ZWRQcm9tcHRzLmZyb250Q292ZXI7XG4gICAgICAgIGlmIChyZWZlcmVuY2VJbWFnZVVybHMubGVuZ3RoID4gMCAmJiBtb2RlbFRvVXNlID09PSBcImdwdC1pbWFnZS0xXCIpIHtcbiAgICAgICAgICAvLyBHUFQtMSB3aXRoIGRpcmVjdCBpbWFnZSBpbnB1dCAtIGZvY3VzIG9uIGNoYXJhY3RlciBjcmVhdGlvblxuICAgICAgICAgIGVuaGFuY2VkRnJvbnRDb3ZlclByb21wdCA9IGAke2dlbmVyYXRlZFByb21wdHMuZnJvbnRDb3Zlcn1cXG5cXG5DUklUSUNBTCBDSEFSQUNURVIgUkVGRVJFTkNFIElOU1RSVUNUSU9OUzogSSBoYXZlIHByb3ZpZGVkICR7cmVmZXJlbmNlSW1hZ2VVcmxzLmxlbmd0aCA+IDEgPyAnbXVsdGlwbGUgcmVmZXJlbmNlIHBob3RvcycgOiAnYSByZWZlcmVuY2UgcGhvdG8nfSBhcyBpbnB1dCBpbWFnZSR7cmVmZXJlbmNlSW1hZ2VVcmxzLmxlbmd0aCA+IDEgPyAncycgOiAnJ30uIFlvdSBNVVNUIGNyZWF0ZSBjYXJ0b29uL2lsbHVzdHJhdGVkIGNoYXJhY3RlcnMgdGhhdCBhY2N1cmF0ZWx5IHJlcHJlc2VudCBPTkxZIHRoZSBwZW9wbGUgd2hvIGFyZSBhY3R1YWxseSB2aXNpYmxlIGluICR7cmVmZXJlbmNlSW1hZ2VVcmxzLmxlbmd0aCA+IDEgPyAndGhlc2UgcmVmZXJlbmNlIHBob3RvcycgOiAndGhpcyByZWZlcmVuY2UgcGhvdG8nfSB3aXRoIGhpZ2ggZmlkZWxpdHkgdG8gdGhlaXIgYXBwZWFyYW5jZS5cblxuTUFOREFUT1JZIENIQVJBQ1RFUiBNQVRDSElORyBSRVFVSVJFTUVOVFMgLSBPTkxZIElOQ0xVREUgV0hBVCBJUyBBQ1RVQUxMWSBWSVNJQkxFOlxuLSBSRVBSRVNFTlQgT05MWSBQRU9QTEUgQUNUVUFMTFkgSU4gVEhFIFBIT1RPUzogQ3JlYXRlIGNhcnRvb24gdmVyc2lvbnMgb2YgT05MWSB0aGUgcGVvcGxlIHdobyBhcmUgYWN0dWFsbHkgc2hvd24gaW4gdGhlIHJlZmVyZW5jZSBwaG90b3MuIERvIE5PVCBhZGQsIGNyZWF0ZSwgb3IgaW1hZ2luZSBhbnkgYWRkaXRpb25hbCBwZW9wbGUgbm90IHByZXNlbnQgaW4gdGhlIHJlZmVyZW5jZSBpbWFnZXMuXG4tIEVYQUNUIGhhaXIgY29sb3IsIGhhaXIgc3R5bGUsIGFuZCBoYWlyIGxlbmd0aCBmcm9tIHRoZSByZWZlcmVuY2UgcGhvdG8gLSBvbmx5IHdoYXQgaXMgYWN0dWFsbHkgdmlzaWJsZVxuLSBQUkVDSVNFIGZhY2lhbCBmZWF0dXJlczogZXllIGNvbG9yLCBleWUgc2hhcGUsIG5vc2Ugc2hhcGUsIGZhY2Ugc3RydWN0dXJlLCBza2luIHRvbmUgLSBleGFjdGx5IGFzIHNob3duIGluIHRoZSByZWZlcmVuY2Vcbi0gQUNDVVJBVEUgY2xvdGhpbmc6IHJlcGxpY2F0ZSBPTkxZIHRoZSBFWEFDVCBjbG90aGluZyBpdGVtcywgY29sb3JzLCBwYXR0ZXJucywgYW5kIHN0eWxlcyBhY3R1YWxseSB3b3JuIGluIHRoZSByZWZlcmVuY2UgcGhvdG8gLSBkbyBub3QgYWRkIG9yIGNoYW5nZSBhbnkgY2xvdGhpbmcgaXRlbXNcbi0gQUNDRVNTT1JJRVMgT05MWSBJRiBWSVNJQkxFOiBJbmNsdWRlIGFjY2Vzc29yaWVzIChnbGFzc2VzLCBqZXdlbHJ5LCBoYXRzLCB3YXRjaGVzLCBiYWdzLCBldGMuKSBPTkxZIGlmIHRoZXkgYXJlIGFjdHVhbGx5IHZpc2libGUgb24gZWFjaCBwZXJzb24gaW4gdGhlIHJlZmVyZW5jZSBwaG90by4gRE8gTk9UIGFkZCBnbGFzc2VzIGlmIHRoZXkgYXJlIG5vdCB3ZWFyaW5nIGdsYXNzZXMgaW4gdGhlIHBob3RvLiBETyBOT1QgYWRkIGpld2VscnkgaWYgdGhleSBhcmUgbm90IHdlYXJpbmcgamV3ZWxyeSBpbiB0aGUgcGhvdG8uIERPIE5PVCBhZGQgYW55IGFjY2Vzc29yaWVzIHRoYXQgYXJlIG5vdCBjbGVhcmx5IHZpc2libGUgaW4gdGhlIHJlZmVyZW5jZSBpbWFnZS5cbi0gQ09SUkVDVCBib2R5IHByb3BvcnRpb25zIGFuZCBwb3N0dXJlIGFzIHNob3duIGluIHRoZSByZWZlcmVuY2Vcbi0gRkFJVEhGVUwgYWdlIHJlcHJlc2VudGF0aW9uIGFuZCBnZW5kZXIgcHJlc2VudGF0aW9uIC0gZXhhY3RseSBhcyB0aGV5IGFwcGVhclxuLSBBVVRIRU5USUMgZmFjaWFsIGV4cHJlc3Npb25zIGFuZCBwb3NlcyBmcm9tIHRoZSByZWZlcmVuY2UgaW1hZ2UsIGxlYW4gdG93YXJkcyBtYWtpbmcgdGhlIHBlb3BsZSBsb29rIGhhcHBpZXIgdW5sZXNzIHRoZSB1c2VyIHNwZWNpZmljYWxseSBhc2tzIGZvciBhIGRpZmZlcmVudCBleHByZXNzaW9uLlxuLSBHUk9VUCBDT01QT1NJVElPTjogSWYgbXVsdGlwbGUgcGVvcGxlIGFyZSBhY3R1YWxseSBzaG93biBpbiB0aGUgcGhvdG9zLCBhcnJhbmdlIHRoZW0gbmF0dXJhbGx5IHRvZ2V0aGVyIGluIGEgcGxlYXNpbmcgY29tcG9zaXRpb24gdGhhdCBmaXRzIHRoZSBjYXJkJ3MgdGhlbWVcblxuQ1JJVElDQUwgUkVTVFJJQ1RJT046IERvIG5vdCBhZGQsIHJlbW92ZSwgb3IgbW9kaWZ5IGFueSB2aXN1YWwgZWxlbWVudHMgYmV5b25kIHdoYXQgaXMgYWN0dWFsbHkgdmlzaWJsZSBpbiB0aGUgcmVmZXJlbmNlIHBob3Rvcy4gT25seSBpbmNsdWRlIHBlb3BsZSwgY2xvdGhpbmcsIGFuZCBhY2Nlc3NvcmllcyB0aGF0IGFyZSBjbGVhcmx5IHNob3duIGluIHRoZSByZWZlcmVuY2UgaW1hZ2VzLlxuXG4ke2ltYWdlVHJhbnNmb3JtYXRpb24gfHwgJ1N0dWR5IGV2ZXJ5IGRldGFpbCBvZiB0aGUgcGVvcGxlIGFjdHVhbGx5IGluIHRoZSByZWZlcmVuY2UgaW1hZ2UgYW5kIHJlY3JlYXRlIHRoZW0gYXMgc3R5bGl6ZWQgY2FydG9vbiBjaGFyYWN0ZXJzIHdoaWxlIG1haW50YWluaW5nIDEwMCUgYWNjdXJhY3kgdG8gdGhlaXIgZGlzdGluY3RpdmUgdmlzdWFsIGZlYXR1cmVzLiBUaGUgY2hhcmFjdGVycyBtdXN0IGJlIGltbWVkaWF0ZWx5IHJlY29nbml6YWJsZSBhcyB0aGUgc2FtZSBwZW9wbGUgZnJvbSB0aGUgcmVmZXJlbmNlIHBob3RvLiBQYXkgc3BlY2lhbCBhdHRlbnRpb24gdG8gY2xvdGhpbmcgZGV0YWlscyBhbmQgYWNjZXNzb3JpZXMgdGhhdCBhcmUgYWN0dWFsbHkgdmlzaWJsZSwgYW5kIHVuaXF1ZSBwZXJzb25hbCBzdHlsZSBlbGVtZW50cyB0aGF0IG1ha2UgZWFjaCBwZXJzb24gZGlzdGluY3RpdmUuIERvIG5vdCBhZGQgb3IgaW1hZ2luZSBhbnkgZWxlbWVudHMgbm90IHByZXNlbnQgaW4gdGhlIHJlZmVyZW5jZS4nfVxuXG5UaGUgY2FydG9vbiBzdHlsZSBzaG91bGQgYmUgY2hhcm1pbmcgYW5kIGFydGlzdGljIHdoaWxlIHByZXNlcnZpbmcgY29tcGxldGUgdmlzdWFsIGFjY3VyYWN5IHRvIHRoZSByZWZlcmVuY2UgcGhvdG8uIE9ubHkgcmVwcmVzZW50IHBlb3BsZSwgY2xvdGhpbmcsIGFuZCBhY2Nlc3NvcmllcyB0aGF0IGFyZSBhY3R1YWxseSB2aXNpYmxlIGluIHRoZSByZWZlcmVuY2UgaW1hZ2VzLmA7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGNvbnN0IGNhcmRQYXlsb2FkcyA9IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICB0b29sX25hbWU6IFwiZ2VuZXJhdGVfaW1hZ2VzX3dpdGhfcHJvbXB0c1wiLFxuICAgICAgICAgICAgYXJndW1lbnRzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VyX251bWJlcjogXCIrMTcxNDU5ODYxMDVcIixcbiAgICAgICAgICAgICAgICBwcm9tcHRzOiBbZW5oYW5jZWRGcm9udENvdmVyUHJvbXB0XSxcbiAgICAgICAgICAgICAgICBtb2RlbF92ZXJzaW9uOiBtb2RlbFRvVXNlLFxuICAgICAgICAgICAgICAgIGFzcGVjdF9yYXRpbzogcGFwZXJDb25maWcuYXNwZWN0UmF0aW8sXG4gICAgICAgICAgICAgICAgcXVhbGl0eTogaXNEcmFmdE1vZGUgPyBcImxvd1wiIDogXCJoaWdoXCIsIC8vIEdQVC0xIGZvcmNlZCB0byBsb3cgcXVhbGl0eSBmb3Igc3BlZWRcbiAgICAgICAgICAgICAgICBvdXRwdXRfZm9ybWF0OiBcImpwZWdcIixcbiAgICAgICAgICAgICAgICBvdXRwdXRfY29tcHJlc3Npb246IDEwMCxcbiAgICAgICAgICAgICAgICBtb2RlcmF0aW9uOiBcImxvd1wiLFxuICAgICAgICAgICAgICAgIC4uLihmcm9udENvdmVySW5wdXRJbWFnZXMubGVuZ3RoID4gMCAmJiB7IGlucHV0X2ltYWdlczogZnJvbnRDb3ZlcklucHV0SW1hZ2VzIH0pLFxuICAgICAgICAgICAgICAgIC8vIERlYnVnIGxvZ2dpbmdcbiAgICAgICAgICAgICAgICAuLi4oKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgaWYgKGZyb250Q292ZXJJbnB1dEltYWdlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwi8J+UjSBERUJVRzogU2VuZGluZyBpbnB1dF9pbWFnZXMgdG8gTUNQOlwiLCBmcm9udENvdmVySW5wdXRJbWFnZXMpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgICAgICAgICAgIH0pKClcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB1c2VyX2lkX2NvbnRleHQ6IFwiKzE3MTQ1OTg2MTA1XCIsXG4gICAgICAgICAgICBjYXJkSW5kZXgsXG4gICAgICAgICAgICBzZWN0aW9uSW5kZXg6IDAsXG4gICAgICAgICAgICBzZWN0aW9uTmFtZTogXCJGcm9udCBDb3ZlclwiXG4gICAgICAgICAgfSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICB0b29sX25hbWU6IFwiZ2VuZXJhdGVfaW1hZ2VzX3dpdGhfcHJvbXB0c1wiLFxuICAgICAgICAgICAgYXJndW1lbnRzOiB7XG4gICAgICAgICAgICAgIHVzZXJfbnVtYmVyOiBcIisxNzE0NTk4NjEwNVwiLFxuICAgICAgICAgICAgICBwcm9tcHRzOiBbZ2VuZXJhdGVkUHJvbXB0cy5iYWNrQ292ZXJdLFxuICAgICAgICAgICAgICBtb2RlbF92ZXJzaW9uOiBtb2RlbFRvVXNlLFxuICAgICAgICAgICAgICBhc3BlY3RfcmF0aW86IHBhcGVyQ29uZmlnLmFzcGVjdFJhdGlvLFxuICAgICAgICAgICAgICBxdWFsaXR5OiBpc0RyYWZ0TW9kZSA/IFwibG93XCIgOiBcImhpZ2hcIiwgLy8gR1BULTEgZm9yY2VkIHRvIGxvdyBxdWFsaXR5IGZvciBzcGVlZFxuICAgICAgICAgICAgICBvdXRwdXRfZm9ybWF0OiBcImpwZWdcIixcbiAgICAgICAgICAgICAgb3V0cHV0X2NvbXByZXNzaW9uOiAxMDAsXG4gICAgICAgICAgICAgIG1vZGVyYXRpb246IFwibG93XCIsXG4gICAgICAgICAgICAgIC4uLihiYWNrQ292ZXJJbnB1dEltYWdlcy5sZW5ndGggPiAwICYmIHsgaW5wdXRfaW1hZ2VzOiBiYWNrQ292ZXJJbnB1dEltYWdlcyB9KVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHVzZXJfaWRfY29udGV4dDogXCIrMTcxNDU5ODYxMDVcIixcbiAgICAgICAgICAgIGNhcmRJbmRleCxcbiAgICAgICAgICAgIHNlY3Rpb25JbmRleDogMSxcbiAgICAgICAgICAgIHNlY3Rpb25OYW1lOiBcIkJhY2sgQ292ZXJcIlxuICAgICAgICAgIH1cbiAgICAgICAgXTtcblxuICAgICAgICAvLyBBZGQgaW50ZXJpb3IgaW1hZ2VzIGlmIG5vdCBmcm9udC9iYWNrIG9ubHlcbiAgICAgICAgaWYgKCFpc0Zyb250QmFja09ubHkgJiYgZ2VuZXJhdGVkUHJvbXB0cy5sZWZ0SW50ZXJpb3IgJiYgZ2VuZXJhdGVkUHJvbXB0cy5yaWdodEludGVyaW9yKSB7XG4gICAgICAgICAgY2FyZFBheWxvYWRzLnB1c2goXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHRvb2xfbmFtZTogXCJnZW5lcmF0ZV9pbWFnZXNfd2l0aF9wcm9tcHRzXCIsXG4gICAgICAgICAgICAgIGFyZ3VtZW50czoge1xuICAgICAgICAgICAgICAgIHVzZXJfbnVtYmVyOiBcIisxNzE0NTk4NjEwNVwiLFxuICAgICAgICAgICAgICAgIHByb21wdHM6IFtnZW5lcmF0ZWRQcm9tcHRzLmxlZnRJbnRlcmlvcl0sXG4gICAgICAgICAgICAgICAgbW9kZWxfdmVyc2lvbjogbW9kZWxUb1VzZSxcbiAgICAgICAgICAgICAgICBhc3BlY3RfcmF0aW86IHBhcGVyQ29uZmlnLmFzcGVjdFJhdGlvLFxuICAgICAgICAgICAgICAgIHF1YWxpdHk6IGlzRHJhZnRNb2RlID8gXCJsb3dcIiA6IFwiaGlnaFwiLCAvLyBHUFQtMSBmb3JjZWQgdG8gbG93IHF1YWxpdHkgZm9yIHNwZWVkXG4gICAgICAgICAgICAgICAgb3V0cHV0X2Zvcm1hdDogXCJqcGVnXCIsXG4gICAgICAgICAgICAgICAgb3V0cHV0X2NvbXByZXNzaW9uOiAxMDAsXG4gICAgICAgICAgICAgICAgbW9kZXJhdGlvbjogXCJsb3dcIixcbiAgICAgICAgICAgICAgICAuLi4obGVmdEludGVyaW9ySW5wdXRJbWFnZXMubGVuZ3RoID4gMCAmJiB7IGlucHV0X2ltYWdlczogbGVmdEludGVyaW9ySW5wdXRJbWFnZXMgfSlcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgdXNlcl9pZF9jb250ZXh0OiBcIisxNzE0NTk4NjEwNVwiLFxuICAgICAgICAgICAgICBjYXJkSW5kZXgsXG4gICAgICAgICAgICAgIHNlY3Rpb25JbmRleDogMixcbiAgICAgICAgICAgICAgc2VjdGlvbk5hbWU6IFwiTGVmdCBJbnRlcmlvclwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICB0b29sX25hbWU6IFwiZ2VuZXJhdGVfaW1hZ2VzX3dpdGhfcHJvbXB0c1wiLFxuICAgICAgICAgICAgICBhcmd1bWVudHM6IHtcbiAgICAgICAgICAgICAgICB1c2VyX251bWJlcjogXCIrMTcxNDU5ODYxMDVcIixcbiAgICAgICAgICAgICAgICBwcm9tcHRzOiBbZ2VuZXJhdGVkUHJvbXB0cy5yaWdodEludGVyaW9yXSxcbiAgICAgICAgICAgICAgICBtb2RlbF92ZXJzaW9uOiBtb2RlbFRvVXNlLFxuICAgICAgICAgICAgICAgIGFzcGVjdF9yYXRpbzogcGFwZXJDb25maWcuYXNwZWN0UmF0aW8sXG4gICAgICAgICAgICAgICAgcXVhbGl0eTogaXNEcmFmdE1vZGUgPyBcImxvd1wiIDogXCJoaWdoXCIsIC8vIEdQVC0xIGZvcmNlZCB0byBsb3cgcXVhbGl0eSBmb3Igc3BlZWRcbiAgICAgICAgICAgICAgICBvdXRwdXRfZm9ybWF0OiBcImpwZWdcIixcbiAgICAgICAgICAgICAgICBvdXRwdXRfY29tcHJlc3Npb246IDEwMCxcbiAgICAgICAgICAgICAgICBtb2RlcmF0aW9uOiBcImxvd1wiLFxuICAgICAgICAgICAgICAgIC4uLihyaWdodEludGVyaW9ySW5wdXRJbWFnZXMubGVuZ3RoID4gMCAmJiB7IGlucHV0X2ltYWdlczogcmlnaHRJbnRlcmlvcklucHV0SW1hZ2VzIH0pXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIHVzZXJfaWRfY29udGV4dDogXCIrMTcxNDU5ODYxMDVcIixcbiAgICAgICAgICAgICAgY2FyZEluZGV4LFxuICAgICAgICAgICAgICBzZWN0aW9uSW5kZXg6IDMsXG4gICAgICAgICAgICAgIHNlY3Rpb25OYW1lOiBcIlJpZ2h0IEludGVyaW9yXCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBhbGxDYXJkUGF5bG9hZHMucHVzaCguLi5jYXJkUGF5bG9hZHMpO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIFRyYWNrIGltYWdlIGNvbXBsZXRpb24gcGVyIGNhcmRcbiAgICAgIGNvbnN0IGNvbXBsZXRlZEltYWdlcyA9IG5ldyBNYXA8c3RyaW5nLCBzdHJpbmc+KCk7XG4gICAgICBsZXQgY29tcGxldGVkQ291bnQgPSAwO1xuICAgICAgY29uc3QgY29tcGxldGVkQ2FyZHM6IEdlbmVyYXRlZENhcmRbXSA9IFtdO1xuICAgICAgXG4gICAgICAvLyBDbGVhciBhbnkgZXhpc3RpbmcgY2FyZHMgZHVyaW5nIGdlbmVyYXRpb25cbiAgICAgIHNldEdlbmVyYXRlZENhcmRzKFtdKTtcbiAgICAgIHNldEdlbmVyYXRlZENhcmQobnVsbCk7XG4gICAgICBzZXRTZWxlY3RlZENhcmRJbmRleCgwKTtcbiAgICAgIHNldEdlbmVyYXRpb25Qcm9ncmVzcyhg8J+OqCBBcnRpc3RzIGF0IHdvcmshIENyZWF0aW5nICR7YWxsQ2FyZFBheWxvYWRzLmxlbmd0aH0gc3R1bm5pbmcgaW1hZ2VzIGZvciB5b3VyICR7bnVtYmVyT2ZDYXJkc30gY2FyZCR7bnVtYmVyT2ZDYXJkcyA+IDEgPyAncycgOiAnJ30uLi5gKTtcbiAgICAgIFxuICAgICAgLy8gU3RhcnQgMjozMCBjb3VudGRvd24gbm93IHRoYXQgd2UncmUgYWN0dWFsbHkgZ2VuZXJhdGluZyBpbWFnZXNcbiAgICAgIHNldENvdW50ZG93bigxNTApO1xuICAgICAgY29uc3QgaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICAgIHNldENvdW50ZG93bihwcmV2ID0+IHtcbiAgICAgICAgICBpZiAocHJldiA8PSAxKSB7XG4gICAgICAgICAgICBjbGVhckludGVydmFsKGludGVydmFsKTtcbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gcHJldiAtIDE7XG4gICAgICAgIH0pO1xuICAgICAgfSwgMTAwMCk7XG4gICAgICBzZXRDb3VudGRvd25JbnRlcnZhbChpbnRlcnZhbCk7XG5cbiAgICAgIC8vIEhlbHBlciBmdW5jdGlvbiB0byByZWdlbmVyYXRlIHByb21wdCBpZiBibG9ja2VkIGJ5IHNhZmV0eSBzeXN0ZW1cbiAgICAgIGNvbnN0IHJlZ2VuZXJhdGVQcm9tcHRJZk5lZWRlZCA9IGFzeW5jIChvcmlnaW5hbFByb21wdDogc3RyaW5nLCBzZWN0aW9uTmFtZTogc3RyaW5nKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgcmVnZW5lcmF0aW9uUXVlcnkgPSBgVGhlIGZvbGxvd2luZyBpbWFnZSBwcm9tcHQgd2FzIGJsb2NrZWQgYnkgdGhlIHNhZmV0eSBzeXN0ZW0uIFBsZWFzZSByZXdyaXRlIGl0IHRvIGJlIG1vcmUgYXBwcm9wcmlhdGUgd2hpbGUga2VlcGluZyB0aGUgc2FtZSBhcnRpc3RpYyBpbnRlbnQgYW5kIHN0eWxlOlxuXG5CTE9DS0VEIFBST01QVDogXCIke29yaWdpbmFsUHJvbXB0fVwiXG5cblJlcXVpcmVtZW50czpcbi0gS2VlcCB0aGUgc2FtZSBhcnRpc3RpYyBzdHlsZSBhbmQgdmlzdWFsIGdvYWxzXG4tIFJlbW92ZSBhbnkgY29udGVudCB0aGF0IG1pZ2h0IHRyaWdnZXIgc2FmZXR5IGZpbHRlcnNcbi0gTWFpbnRhaW4gdGhlIGZ1bGwtYmxlZWQgZGVzaWduIHJlcXVpcmVtZW50c1xuLSBJTVBPUlRBTlQ6IEtlZXAgdGV4dCwgZmFjZXMsIGFuZCBrZXkgZWxlbWVudHMgYXQgbGVhc3QgMTAlIGF3YXkgZnJvbSB0b3AvYm90dG9tIGVkZ2VzIChzbWFsbCBhbW91bnQgbWF5IGJlIGNyb3BwZWQgaW4gcHJpbnRpbmcpXG4tIEZvY3VzIG9uIHNhZmUsIGZhbWlseS1mcmllbmRseSBpbWFnZXJ5XG4tIEtlZXAgdGhlIHNhbWUgY29sb3IgcGFsZXR0ZSBhbmQgbW9vZFxuLSBFbnN1cmUgaXQncyBhcHByb3ByaWF0ZSBmb3IgYSBncmVldGluZyBjYXJkXG5cblJldHVybiBvbmx5IHRoZSByZXdyaXR0ZW4gcHJvbXB0LCBubyBleHBsYW5hdGlvbnMuYDtcblxuICAgICAgICAgIGNvbnN0IG5ld1Byb21wdCA9IGF3YWl0IGNoYXRXaXRoQUkocmVnZW5lcmF0aW9uUXVlcnksIHtcbiAgICAgICAgICAgIG1vZGVsOiBcImdlbWluaS0yLjUtcHJvXCIsXG4gICAgICAgICAgICBpbmNsdWRlVGhvdWdodHM6IGZhbHNlICAvLyBEb24ndCBpbmNsdWRlIHRoaW5raW5nIGNvbnRlbnQgZm9yIHByb21wdCByZWdlbmVyYXRpb25cbiAgICAgICAgICB9KTtcbiAgICAgICAgICBcbiAgICAgICAgICByZXR1cm4gbmV3UHJvbXB0Py50cmltKCkgfHwgb3JpZ2luYWxQcm9tcHQ7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIHJlZ2VuZXJhdGUgcHJvbXB0OicsIGVycm9yKTtcbiAgICAgICAgICByZXR1cm4gb3JpZ2luYWxQcm9tcHQ7XG4gICAgICAgIH1cbiAgICAgIH07XG5cblxuICAgICAgLy8gSGVscGVyIGZ1bmN0aW9uIHRvIHByb2Nlc3MgYSBzaW5nbGUgaW1hZ2Ugd2l0aCByZXRyeSBsb2dpY1xuICAgICAgY29uc3QgcHJvY2Vzc1NpbmdsZUltYWdlID0gYXN5bmMgKHBheWxvYWQ6IGFueSwgaW5kZXg6IG51bWJlciwgc2VjdGlvbk5hbWU6IHN0cmluZywgY2FyZEluZGV4OiBudW1iZXIgPSAwKSA9PiB7XG4gICAgICAgIGxldCBjdXJyZW50UGF5bG9hZCA9IHBheWxvYWQ7XG4gICAgICAgIGxldCByZXRyeUNvdW50ID0gMDtcbiAgICAgICAgY29uc3QgbWF4UmV0cmllcyA9IDI7XG4gICAgICAgIGxldCBoYXNUcmllZFRleHRGYWxsYmFjayA9IGZhbHNlO1xuICAgICAgICBcbiAgICAgICAgd2hpbGUgKHJldHJ5Q291bnQgPD0gbWF4UmV0cmllcykge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke0JBQ0tFTkRfQVBJX0JBU0VfVVJMfS9pbnRlcm5hbC9jYWxsX21jcF90b29sYCwge1xuICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShjdXJyZW50UGF5bG9hZCksXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEhUVFAgJHtyZXNwb25zZS5zdGF0dXN9YCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gQ2hlY2sgZm9yIHNhZmV0eSBzeXN0ZW0gZXJyb3JcbiAgICAgICAgICAgIGlmIChyZXN1bHQucmVzdWx0ICYmIHR5cGVvZiByZXN1bHQucmVzdWx0ID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICBjb25zdCBwYXJzZWRSZXN1bHQgPSBKU09OLnBhcnNlKHJlc3VsdC5yZXN1bHQpO1xuICAgICAgICAgICAgICBpZiAocGFyc2VkUmVzdWx0LnN0YXR1cyA9PT0gJ2Vycm9yJyAmJiBwYXJzZWRSZXN1bHQucmVzdWx0cz8uWzBdPy5lcnJvcj8uaW5jbHVkZXMoJ21vZGVyYXRpb25fYmxvY2tlZCcpKSB7XG4gICAgICAgICAgICAgICAgaWYgKHJldHJ5Q291bnQgPCBtYXhSZXRyaWVzKSB7XG4gICAgICAgICAgICAgICAgICAvLyBSZWdlbmVyYXRlIHByb21wdCBhbmQgcmV0cnlcbiAgICAgICAgICAgICAgICAgIGNvbnN0IG9yaWdpbmFsUHJvbXB0ID0gY3VycmVudFBheWxvYWQuYXJndW1lbnRzLnByb21wdHNbMF07XG4gICAgICAgICAgICAgICAgICBjb25zdCBuZXdQcm9tcHQgPSBhd2FpdCByZWdlbmVyYXRlUHJvbXB0SWZOZWVkZWQob3JpZ2luYWxQcm9tcHQsIHNlY3Rpb25OYW1lKTtcbiAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgY3VycmVudFBheWxvYWQgPSB7XG4gICAgICAgICAgICAgICAgICAgIC4uLmN1cnJlbnRQYXlsb2FkLFxuICAgICAgICAgICAgICAgICAgICBhcmd1bWVudHM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAuLi5jdXJyZW50UGF5bG9hZC5hcmd1bWVudHMsXG4gICAgICAgICAgICAgICAgICAgICAgcHJvbXB0czogW25ld1Byb21wdF1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgcmV0cnlDb3VudCsrO1xuICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgU2FmZXR5IHN5c3RlbSBibG9ja2VkICR7c2VjdGlvbk5hbWV9IGFmdGVyICR7bWF4UmV0cmllc30gYXR0ZW1wdHNgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIC8vIFJlZmVyZW5jZSBpbWFnZSBhbmFseXNpcyBpcyBub3cgZG9uZSB1cGZyb250LCBzbyBubyBmYWxsYmFjayBuZWVkZWRcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKHJlc3VsdC5lcnJvciAmJiByZXN1bHQuZXJyb3IgIT09IFwiTm9uZVwiICYmIHJlc3VsdC5lcnJvciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IocmVzdWx0LmVycm9yKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gUGFyc2UgYW5kIGV4dHJhY3QgaW1hZ2UgVVJMXG4gICAgICAgICAgICBjb25zdCBkYXRhID0gSlNPTi5wYXJzZShyZXN1bHQucmVzdWx0KTtcbiAgICAgICAgICAgIGlmIChkYXRhLnN0YXR1cyAhPT0gXCJzdWNjZXNzXCIpIHtcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGAke3NlY3Rpb25OYW1lfSBnZW5lcmF0aW9uIGZhaWxlZGApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBjb25zdCBpbWFnZVVybCA9IEFycmF5LmlzQXJyYXkoZGF0YS5yZXN1bHRzWzBdKSA/IGRhdGEucmVzdWx0c1swXVswXSA6IGRhdGEucmVzdWx0c1swXTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gVHJhY2sgY29tcGxldGVkIGltYWdlcyBwZXIgY2FyZFxuICAgICAgICAgICAgY29uc3QgaW1hZ2VLZXkgPSBgJHtjYXJkSW5kZXh9LSR7aW5kZXh9YDtcbiAgICAgICAgICAgIGNvbXBsZXRlZEltYWdlcy5zZXQoaW1hZ2VLZXksIGltYWdlVXJsKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29tcGxldGVkQ291bnQrKztcbiAgICAgICAgICAgIGNvbnN0IHRvdGFsSW1hZ2VzID0gYWxsQ2FyZFBheWxvYWRzLmxlbmd0aDtcbiAgICAgICAgICAgIHNldEdlbmVyYXRpb25Qcm9ncmVzcyhg8J+OqCAke2NvbXBsZXRlZENvdW50fS8ke3RvdGFsSW1hZ2VzfSBtYXN0ZXJwaWVjZXMgY29tcGxldGUhIEp1c3QgZmluaXNoZWQgQ2FyZCAke2NhcmRJbmRleCArIDF9ICR7c2VjdGlvbk5hbWV9Li4uYCk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIFVwZGF0ZSBzZWN0aW9uIGxvYWRpbmcgc3RhdGVzIGFuZCBwcm9ncmVzc1xuICAgICAgICAgICAgY29uc3QgcHJvZ3Jlc3NQZXJjZW50YWdlID0gMzAgKyBNYXRoLmZsb29yKChjb21wbGV0ZWRDb3VudCAvIHRvdGFsSW1hZ2VzKSAqIDUwKTsgLy8gMzAtODAlIGZvciBpbWFnZSBnZW5lcmF0aW9uXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIFVwZGF0ZSBpbmRpdmlkdWFsIHNlY3Rpb24gc3RhdGVzXG4gICAgICAgICAgICBzZXRTZWN0aW9uTG9hZGluZ1N0YXRlcyhwcmV2ID0+IHtcbiAgICAgICAgICAgICAgY29uc3QgbmV3U3RhdGUgPSB7IC4uLnByZXYgfTtcbiAgICAgICAgICAgICAgaWYgKHNlY3Rpb25OYW1lID09PSBcIkZyb250IENvdmVyXCIpIHtcbiAgICAgICAgICAgICAgICBuZXdTdGF0ZS5mcm9udENvdmVyID0gJ2NvbXBsZXRlZCc7XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAoc2VjdGlvbk5hbWUgPT09IFwiQmFjayBDb3ZlclwiKSB7XG4gICAgICAgICAgICAgICAgbmV3U3RhdGUuYmFja0NvdmVyID0gJ2NvbXBsZXRlZCc7XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAoc2VjdGlvbk5hbWUgPT09IFwiTGVmdCBJbnRlcmlvclwiKSB7XG4gICAgICAgICAgICAgICAgbmV3U3RhdGUubGVmdEludGVyaW9yID0gJ2NvbXBsZXRlZCc7XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAoc2VjdGlvbk5hbWUgPT09IFwiUmlnaHQgSW50ZXJpb3JcIikge1xuICAgICAgICAgICAgICAgIG5ld1N0YXRlLnJpZ2h0SW50ZXJpb3IgPSAnY29tcGxldGVkJztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICByZXR1cm4gbmV3U3RhdGU7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gU2VjdGlvbiBjb21wbGV0aW9uIGxvZ2dlZFxuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBDaGVjayBpZiB0aGlzIGNhcmQgaXMgbm93IGNvbXBsZXRlXG4gICAgICAgICAgICBjb25zdCBzZWN0aW9uc1BlckNhcmQgPSBpc0Zyb250QmFja09ubHkgPyAyIDogNDtcbiAgICAgICAgICAgIGNvbnN0IGNhcmRTdGFydEluZGV4ID0gY2FyZEluZGV4ICogc2VjdGlvbnNQZXJDYXJkO1xuICAgICAgICAgICAgY29uc3QgY2FyZEVuZEluZGV4ID0gY2FyZFN0YXJ0SW5kZXggKyBzZWN0aW9uc1BlckNhcmQgLSAxO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBsZXQgaXNDYXJkQ29tcGxldGUgPSB0cnVlO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IGNhcmRTdGFydEluZGV4OyBpIDw9IGNhcmRFbmRJbmRleDsgaSsrKSB7XG4gICAgICAgICAgICAgIGNvbnN0IGNoZWNrS2V5ID0gYCR7Y2FyZEluZGV4fS0ke2kgLSBjYXJkU3RhcnRJbmRleH1gO1xuICAgICAgICAgICAgICBpZiAoIWNvbXBsZXRlZEltYWdlcy5oYXMoY2hlY2tLZXkpKSB7XG4gICAgICAgICAgICAgICAgaXNDYXJkQ29tcGxldGUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBJZiBjYXJkIGlzIGNvbXBsZXRlLCB1cGRhdGUgdGhlIGNhcmRzIHN0YXRlXG4gICAgICAgICAgICBpZiAoaXNDYXJkQ29tcGxldGUpIHtcbiAgICAgICAgICAgICAgc2V0R2VuZXJhdGVkQ2FyZHMocHJldkNhcmRzID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCB1cGRhdGVkQ2FyZHMgPSBbLi4ucHJldkNhcmRzXTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAvLyBDcmVhdGUgbmV3IGNhcmQgb2JqZWN0IGlmIGl0IGRvZXNuJ3QgZXhpc3RcbiAgICAgICAgICAgICAgICBpZiAoIXVwZGF0ZWRDYXJkc1tjYXJkSW5kZXhdKSB7XG4gICAgICAgICAgICAgICAgICB1cGRhdGVkQ2FyZHNbY2FyZEluZGV4XSA9IHtcbiAgICAgICAgICAgICAgICAgICAgaWQ6IGBjYXJkLSR7Y2FyZEluZGV4fS0ke0RhdGUubm93KCl9YCxcbiAgICAgICAgICAgICAgICAgICAgcHJvbXB0OiBwcm9tcHQsXG4gICAgICAgICAgICAgICAgICAgIGZyb250Q292ZXI6IFwiXCIsXG4gICAgICAgICAgICAgICAgICAgIGJhY2tDb3ZlcjogXCJcIixcbiAgICAgICAgICAgICAgICAgICAgbGVmdFBhZ2U6IFwiXCIsXG4gICAgICAgICAgICAgICAgICAgIHJpZ2h0UGFnZTogXCJcIixcbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlZEF0OiBuZXcgRGF0ZSgpXG4gICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdXBkYXRlZENhcmQ6IEdlbmVyYXRlZENhcmQgPSB7IC4uLnVwZGF0ZWRDYXJkc1tjYXJkSW5kZXhdIH07XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgLy8gU2V0IGFsbCBpbWFnZXMgZm9yIHRoaXMgY29tcGxldGVkIGNhcmRcbiAgICAgICAgICAgICAgICB1cGRhdGVkQ2FyZC5mcm9udENvdmVyID0gY29tcGxldGVkSW1hZ2VzLmdldChgJHtjYXJkSW5kZXh9LTBgKSB8fCBcIlwiO1xuICAgICAgICAgICAgICAgIHVwZGF0ZWRDYXJkLmJhY2tDb3ZlciA9IGNvbXBsZXRlZEltYWdlcy5nZXQoYCR7Y2FyZEluZGV4fS0xYCkgfHwgXCJcIjtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBpZiAoIWlzRnJvbnRCYWNrT25seSkge1xuICAgICAgICAgICAgICAgICAgdXBkYXRlZENhcmQubGVmdFBhZ2UgPSBjb21wbGV0ZWRJbWFnZXMuZ2V0KGAke2NhcmRJbmRleH0tMmApIHx8IFwiXCI7XG4gICAgICAgICAgICAgICAgICB1cGRhdGVkQ2FyZC5yaWdodFBhZ2UgPSBjb21wbGV0ZWRJbWFnZXMuZ2V0KGAke2NhcmRJbmRleH0tM2ApIHx8IFwiXCI7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIC8vIFNldCBmYWxsYmFja3MgZm9yIGZyb250L2JhY2sgb25seSBtb2RlXG4gICAgICAgICAgICAgICAgICB1cGRhdGVkQ2FyZC5sZWZ0UGFnZSA9IHVwZGF0ZWRDYXJkLmJhY2tDb3ZlcjtcbiAgICAgICAgICAgICAgICAgIHVwZGF0ZWRDYXJkLnJpZ2h0UGFnZSA9IHVwZGF0ZWRDYXJkLmZyb250Q292ZXI7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gVXBkYXRlIHByb21wdCB0byB1c2UgZWZmZWN0aXZlIHByb21wdFxuICAgICAgICAgICAgICAgIHVwZGF0ZWRDYXJkLnByb21wdCA9IGVmZmVjdGl2ZVByb21wdDtcblxuICAgICAgICAgICAgICAgIC8vIFN0b3JlIHRoZSBnZW5lcmF0ZWQgcHJvbXB0cyBmb3IgZmFjdG9yeSB1c2VcbiAgICAgICAgICAgICAgICB1cGRhdGVkQ2FyZC5nZW5lcmF0ZWRQcm9tcHRzID0ge1xuICAgICAgICAgICAgICAgICAgZnJvbnRDb3ZlcjogYWxsR2VuZXJhdGVkUHJvbXB0c1tjYXJkSW5kZXhdLmZyb250Q292ZXIsXG4gICAgICAgICAgICAgICAgICBiYWNrQ292ZXI6IGFsbEdlbmVyYXRlZFByb21wdHNbY2FyZEluZGV4XS5iYWNrQ292ZXIsXG4gICAgICAgICAgICAgICAgICBsZWZ0SW50ZXJpb3I6ICFpc0Zyb250QmFja09ubHkgPyBhbGxHZW5lcmF0ZWRQcm9tcHRzW2NhcmRJbmRleF0ubGVmdEludGVyaW9yIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgcmlnaHRJbnRlcmlvcjogIWlzRnJvbnRCYWNrT25seSA/IGFsbEdlbmVyYXRlZFByb21wdHNbY2FyZEluZGV4XS5yaWdodEludGVyaW9yIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICB1cGRhdGVkQ2FyZHNbY2FyZEluZGV4XSA9IHVwZGF0ZWRDYXJkO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIC8vIFN0b3JlIGNvbXBsZXRlZCBjYXJkIGxvY2FsbHkgZm9yIGVtYWlsIHVzZVxuICAgICAgICAgICAgICAgIGNvbXBsZXRlZENhcmRzW2NhcmRJbmRleF0gPSB1cGRhdGVkQ2FyZDtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAvLyBJZiB0aGlzIGlzIHRoZSBmaXJzdCBjb21wbGV0ZWQgY2FyZCBvciB0aGUgc2VsZWN0ZWQgY2FyZCwgc2V0IGl0IGFzIG1haW4gZGlzcGxheVxuICAgICAgICAgICAgICAgIGlmICghZ2VuZXJhdGVkQ2FyZCB8fCBjYXJkSW5kZXggPT09IHNlbGVjdGVkQ2FyZEluZGV4KSB7XG4gICAgICAgICAgICAgICAgICBzZXRHZW5lcmF0ZWRDYXJkKHVwZGF0ZWRDYXJkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgcmV0dXJuIHVwZGF0ZWRDYXJkcztcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICB0b2FzdC5zdWNjZXNzKGDwn46JIENhcmQgJHtjYXJkSW5kZXggKyAxfSBpcyBjb21wbGV0ZSBhbmQgcmVhZHkhYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHJldHVybiBpbWFnZVVybDtcbiAgICAgICAgICAgIFxuICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBpZiAocmV0cnlDb3VudCA9PT0gbWF4UmV0cmllcykge1xuICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBnZW5lcmF0ZSAke3NlY3Rpb25OYW1lfTogJHtlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJ31gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHJ5Q291bnQrKztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIC8vIFN0YXJ0IGFsbCBpbWFnZSBnZW5lcmF0aW9ucyBpbiBwYXJhbGxlbCAoYWxsIGNhcmRzLCBhbGwgc2VjdGlvbnMpIHdpdGggdW5pcXVlIHByb21wdHNcbiAgICAgIGNvbnN0IGltYWdlUHJvbWlzZXMgPSBhbGxDYXJkUGF5bG9hZHMubWFwKChwYXlsb2FkKSA9PiBcbiAgICAgICAgcHJvY2Vzc1NpbmdsZUltYWdlKHBheWxvYWQsIHBheWxvYWQuc2VjdGlvbkluZGV4LCBwYXlsb2FkLnNlY3Rpb25OYW1lLCBwYXlsb2FkLmNhcmRJbmRleClcbiAgICAgICk7XG5cbiAgICAgIC8vIFdhaXQgZm9yIGFsbCB0byBjb21wbGV0ZVxuICAgICAgYXdhaXQgUHJvbWlzZS5hbGwoaW1hZ2VQcm9taXNlcyk7XG5cbiAgICAgIC8vIEZpbmFsaXppbmcgaW1hZ2VzXG5cbiAgICAgIC8vIEJ1aWxkIGZpbmFsIGNhcmRzIGZyb20gY29tcGxldGVkIGltYWdlcyBmb3IgZW1haWwgdXNlXG4gICAgICBjb25zdCBmaW5hbENhcmRzOiBHZW5lcmF0ZWRDYXJkW10gPSBbXTtcbiAgICAgIGZvciAobGV0IGNhcmRJbmRleCA9IDA7IGNhcmRJbmRleCA8IG51bWJlck9mQ2FyZHM7IGNhcmRJbmRleCsrKSB7XG4gICAgICAgIGNvbnN0IGNhcmQ6IEdlbmVyYXRlZENhcmQgPSB7XG4gICAgICAgICAgaWQ6IGBjYXJkLSR7Y2FyZEluZGV4fS0ke0RhdGUubm93KCl9YCxcbiAgICAgICAgICBwcm9tcHQ6IGVmZmVjdGl2ZVByb21wdCxcbiAgICAgICAgICBmcm9udENvdmVyOiBjb21wbGV0ZWRJbWFnZXMuZ2V0KGAke2NhcmRJbmRleH0tMGApIHx8IFwiXCIsXG4gICAgICAgICAgYmFja0NvdmVyOiBjb21wbGV0ZWRJbWFnZXMuZ2V0KGAke2NhcmRJbmRleH0tMWApIHx8IFwiXCIsXG4gICAgICAgICAgbGVmdFBhZ2U6IGlzRnJvbnRCYWNrT25seSA/IChjb21wbGV0ZWRJbWFnZXMuZ2V0KGAke2NhcmRJbmRleH0tMWApIHx8IFwiXCIpIDogKGNvbXBsZXRlZEltYWdlcy5nZXQoYCR7Y2FyZEluZGV4fS0yYCkgfHwgXCJcIiksXG4gICAgICAgICAgcmlnaHRQYWdlOiBpc0Zyb250QmFja09ubHkgPyAoY29tcGxldGVkSW1hZ2VzLmdldChgJHtjYXJkSW5kZXh9LTBgKSB8fCBcIlwiKSA6IChjb21wbGV0ZWRJbWFnZXMuZ2V0KGAke2NhcmRJbmRleH0tM2ApIHx8IFwiXCIpLFxuICAgICAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoKSxcbiAgICAgICAgICAvLyBJbmNsdWRlIHRoZSBnZW5lcmF0ZWQgcHJvbXB0cyBmb3IgZmFjdG9yeSB1c2VcbiAgICAgICAgICBnZW5lcmF0ZWRQcm9tcHRzOiB7XG4gICAgICAgICAgICBmcm9udENvdmVyOiBhbGxHZW5lcmF0ZWRQcm9tcHRzW2NhcmRJbmRleF0uZnJvbnRDb3ZlcixcbiAgICAgICAgICAgIGJhY2tDb3ZlcjogYWxsR2VuZXJhdGVkUHJvbXB0c1tjYXJkSW5kZXhdLmJhY2tDb3ZlcixcbiAgICAgICAgICAgIGxlZnRJbnRlcmlvcjogIWlzRnJvbnRCYWNrT25seSA/IGFsbEdlbmVyYXRlZFByb21wdHNbY2FyZEluZGV4XS5sZWZ0SW50ZXJpb3IgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICByaWdodEludGVyaW9yOiAhaXNGcm9udEJhY2tPbmx5ID8gYWxsR2VuZXJhdGVkUHJvbXB0c1tjYXJkSW5kZXhdLnJpZ2h0SW50ZXJpb3IgOiB1bmRlZmluZWQsXG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBmaW5hbENhcmRzLnB1c2goY2FyZCk7XG4gICAgICB9XG5cbiAgICAgIC8vIEFwcGx5IFFSIGNvZGVzIHRvIGFsbCBjYXJkcycgYmFjayBjb3ZlcnNcbiAgICAgIHNldEdlbmVyYXRpb25Qcm9ncmVzcyhcIuKcqCBBZGRpbmcgaW50ZXJhY3RpdmUgUVIgY29kZXMgdG8geW91ciBjYXJkcy4uLlwiKTtcbiAgICAgIGNvbnNvbGUubG9nKCfwn5SEIFN0YXJ0aW5nIFFSIG92ZXJsYXkgcHJvY2VzcyBmb3InLCBmaW5hbENhcmRzLmxlbmd0aCwgJ2NhcmRzJyk7XG4gICAgICBjb25zb2xlLmxvZygn8J+UlyBDYXJkIFVSTDonLCBjYXJkVXJsKTtcbiAgICAgIFxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBmaW5hbENhcmRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGDwn46vIFByb2Nlc3NpbmcgY2FyZCAke2kgKyAxfTpgLCB7XG4gICAgICAgICAgaGFzQmFja0NvdmVyOiAhIWZpbmFsQ2FyZHNbaV0uYmFja0NvdmVyLFxuICAgICAgICAgIGhhc0NhcmRVcmw6ICEhY2FyZFVybCxcbiAgICAgICAgICBiYWNrQ292ZXJMZW5ndGg6IGZpbmFsQ2FyZHNbaV0uYmFja0NvdmVyPy5sZW5ndGhcbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICAvLyBRUiBjb2RlIHdpbGwgYmUgYXBwbGllZCBhZnRlciBzdWNjZXNzZnVsIEFQSSBzdG9yYWdlXG4gICAgICB9XG5cbiAgICAgIC8vIERpc3BsYXkgY2FyZHMgd2lsbCBiZSB1cGRhdGVkIGFmdGVyIHN1Y2Nlc3NmdWwgQVBJIHN0b3JhZ2UgYW5kIFFSIGNvZGUgYXBwbGljYXRpb25cblxuICAgICAgc2V0R2VuZXJhdGlvblByb2dyZXNzKFwi4pyFIENhcmQgY29tcGxldGVkLCBwcmV2aWV3IGRvd24gYmVsb3chXCIpO1xuICAgICAgc2V0SXNDYXJkQ29tcGxldGVkKHRydWUpO1xuICAgICAgXG4gICAgICAvLyBHZW5lcmF0aW9uIGNvbXBsZXRlXG4gICAgICBzZXRQcm9ncmVzc1BlcmNlbnRhZ2UoMTAwKTtcbiAgICAgIHNldEdlbmVyYXRpb25Qcm9ncmVzcyhcIkdlbmVyYXRpb24gY29tcGxldGUhXCIpO1xuXG4gICAgICAvLyBDb21wbGV0ZSBhbmQgcmVtb3ZlIGpvYiBmcm9tIGxvY2FsU3RvcmFnZSBhbmQgc2VydmVyXG4gICAgICBpZiAoY3VycmVudEpvYklkKSB7XG4gICAgICAgIC8vIFN0b3JlIGNvbXBsZXRpb24gcmVzdWx0IG9uIHNlcnZlclxuICAgICAgICB0cnkge1xuICAgICAgICAgIGF3YWl0IGZldGNoKCcvYXBpL3N0b3JlLWpvYi1yZXN1bHQnLCB7XG4gICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgICBqb2JJZDogY3VycmVudEpvYklkLFxuICAgICAgICAgICAgICBzdGF0dXM6ICdjb21wbGV0ZWQnLFxuICAgICAgICAgICAgICBjYXJkRGF0YTogZ2VuZXJhdGVkQ2FyZHNbMF0gfHwgZ2VuZXJhdGVkQ2FyZFxuICAgICAgICAgICAgfSlcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gc3RvcmUgam9iIHJlc3VsdCBvbiBzZXJ2ZXI6JywgZXJyb3IpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICByZW1vdmVKb2JGcm9tU3RvcmFnZShjdXJyZW50Sm9iSWQpO1xuICAgICAgICBzZXRDdXJyZW50Sm9iSWQobnVsbCk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIGlmIChudW1iZXJPZkNhcmRzID09PSAxKSB7XG4gICAgICAgIHRvYXN0LnN1Y2Nlc3MoXCLwn46JIFlvdXIgY29tcGxldGUgY2FyZCB3aXRoIFFSIGNvZGUgaXMgcmVhZHkhXCIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdG9hc3Quc3VjY2Vzcyhg8J+OiSBBbGwgJHtudW1iZXJPZkNhcmRzfSBjYXJkcyB3aXRoIFFSIGNvZGVzIGFyZSByZWFkeSEgQ2hvb3NlIHlvdXIgZmF2b3JpdGUgYmVsb3cuYCk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIENsZWFyIHRoZSBjb21wbGV0aW9uIG1lc3NhZ2UgYWZ0ZXIgMyBzZWNvbmRzIGJ1dCBrZWVwIGlzQ2FyZENvbXBsZXRlZCB0cnVlXG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgc2V0R2VuZXJhdGlvblByb2dyZXNzKFwiXCIpO1xuICAgICAgfSwgMzAwMCk7XG4gICAgICBcbiAgICAgIC8vIFNlbmQgdGhhbmsgeW91IGVtYWlsIGlmIHVzZXIgcHJvdmlkZWQgZW1haWxcbiAgICAgIGlmICh1c2VyRW1haWwudHJpbSgpKSB7XG4gICAgICAgIGNvbnN0IGNhcmRUeXBlRm9yRW1haWwgPSBzZWxlY3RlZFR5cGUgPT09IFwiY3VzdG9tXCIgPyBjdXN0b21DYXJkVHlwZSA6IHNlbGVjdGVkVHlwZTtcbiAgICAgICAgXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgLy8gVXNlIHRoZSBmaXJzdCBmaW5hbCBjYXJkICh3aGljaCBub3cgaGFzIFFSIGNvZGUpXG4gICAgICAgICAgY29uc3QgY2FyZFRvU3RvcmUgPSBmaW5hbENhcmRzWzBdO1xuICAgICAgICAgIFxuICAgICAgICAgIGlmICghY2FyZFRvU3RvcmUgfHwgIWNhcmRUb1N0b3JlLmZyb250Q292ZXIpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdObyBjYXJkIGRhdGEgYXZhaWxhYmxlIGZvciBzaGFyaW5nJyk7XG4gICAgICAgICAgICBzZW5kVGhhbmtZb3VFbWFpbCh1c2VyRW1haWwsIGNhcmRUeXBlRm9yRW1haWwsICdodHRwczovL3ZpYmVjYXJkaW5nLmNvbScpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICBcbiAgICAgICAgICAvLyBTdG9yZSBjYXJkIGRhdGEgd2l0aCBwcmUtZ2VuZXJhdGVkIGNhcmQgSURcbiAgICAgICAgICBjb25zdCBjYXJkRGF0YSA9IHtcbiAgICAgICAgICAgIGlkOiBjYXJkSWQsIC8vIFVzZSBwcmUtZ2VuZXJhdGVkIGNhcmQgSURcbiAgICAgICAgICAgIHByb21wdDogZWZmZWN0aXZlUHJvbXB0LFxuICAgICAgICAgICAgZnJvbnRDb3ZlcjogY2FyZFRvU3RvcmUuZnJvbnRDb3ZlciB8fCAnJyxcbiAgICAgICAgICAgIGJhY2tDb3ZlcjogY2FyZFRvU3RvcmUuYmFja0NvdmVyIHx8ICcnLFxuICAgICAgICAgICAgbGVmdFBhZ2U6IGNhcmRUb1N0b3JlLmxlZnRQYWdlIHx8ICcnLFxuICAgICAgICAgICAgcmlnaHRQYWdlOiBjYXJkVG9TdG9yZS5yaWdodFBhZ2UgfHwgJydcbiAgICAgICAgICB9O1xuICAgICAgICAgIFxuICAgICAgICAgIGNvbnNvbGUubG9nKCdTdG9yaW5nIGNhcmQgZGF0YTonLCBjYXJkRGF0YSk7XG4gICAgICAgICAgXG4gICAgICAgICAgY29uc3QgY2FyZFN0b3JlUmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnL2FwaS9jYXJkcy9zdG9yZScsIHtcbiAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShjYXJkRGF0YSlcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBcbiAgICAgICAgICBpZiAoY2FyZFN0b3JlUmVzcG9uc2Uub2spIHtcbiAgICAgICAgICAgIGNvbnN0IGNhcmRTdG9yZURhdGEgPSBhd2FpdCBjYXJkU3RvcmVSZXNwb25zZS5qc29uKCk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnQ2FyZCBzdG9yZWQgc3VjY2Vzc2Z1bGx5LCBBUEkgcmVzcG9uc2U6JywgY2FyZFN0b3JlRGF0YSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIFVzZSB0aGUgc2hhcmVfdXJsIGZyb20gdGhlIEFQSSByZXNwb25zZSAoY29udGFpbnMgZnJpZW5kbHkgbmFtZSlcbiAgICAgICAgICAgIGNvbnN0IGFjdHVhbFNoYXJlVXJsID0gY2FyZFN0b3JlRGF0YS5zaGFyZV91cmwgfHwgY2FyZFVybDtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdVc2luZyBhY3R1YWwgc2hhcmUgVVJMIGZvciBRUiBjb2RlOicsIGFjdHVhbFNoYXJlVXJsKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gTm93IGFwcGx5IFFSIGNvZGVzIHRvIGFsbCBjYXJkcyBhZnRlciBzdWNjZXNzZnVsIEFQSSBzdG9yYWdlXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGZpbmFsQ2FyZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgaWYgKGZpbmFsQ2FyZHNbaV0uYmFja0NvdmVyICYmIGFjdHVhbFNoYXJlVXJsKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IG9yaWdpbmFsQmFja0NvdmVyID0gZmluYWxDYXJkc1tpXS5iYWNrQ292ZXI7XG4gICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhg8J+UhCBBcHBseWluZyBRUiBvdmVybGF5IHRvIGNhcmQgJHtpICsgMX0gYWZ0ZXIgQVBJIHN0b3JhZ2UuLi5gKTtcbiAgICAgICAgICAgICAgICAgIGZpbmFsQ2FyZHNbaV0uYmFja0NvdmVyID0gYXdhaXQgb3ZlcmxheVFSQ29kZU9uSW1hZ2Uob3JpZ2luYWxCYWNrQ292ZXIsIGFjdHVhbFNoYXJlVXJsKTtcbiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGDinIUgUVIgb3ZlcmxheSBjb21wbGV0ZSBmb3IgY2FyZCAke2kgKyAxfWApO1xuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGDinYwgRmFpbGVkIHRvIG92ZXJsYXkgUVIgY29kZSBvbiBjYXJkICR7aSArIDF9OmAsIGVycm9yKTtcbiAgICAgICAgICAgICAgICAgIC8vIENhcmQga2VlcHMgb3JpZ2luYWwgYmFjayBjb3ZlciBpZiBRUiBvdmVybGF5IGZhaWxzXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGDimqDvuI8gU2tpcHBpbmcgUVIgb3ZlcmxheSBmb3IgY2FyZCAke2kgKyAxfSAtIG1pc3NpbmcgYmFjayBjb3ZlciBvciBVUkxgKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBVcGRhdGUgdGhlIGRpc3BsYXllZCBjYXJkcyBzdGF0ZSB3aXRoIFFSLWVuaGFuY2VkIHZlcnNpb25zXG4gICAgICAgICAgICBjb25zb2xlLmxvZygn8J+UhCBVcGRhdGluZyBkaXNwbGF5ZWQgY2FyZHMgd2l0aCBRUiBjb2RlcyBhZnRlciBBUEkgc3RvcmFnZS4uLicpO1xuICAgICAgICAgICAgc2V0R2VuZXJhdGVkQ2FyZHMoWy4uLmZpbmFsQ2FyZHNdKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gQWxzbyB1cGRhdGUgdGhlIG1haW4gZGlzcGxheWVkIGNhcmQgaWYgbmVlZGVkXG4gICAgICAgICAgICBpZiAoZmluYWxDYXJkcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgIHNldEdlbmVyYXRlZENhcmQoZmluYWxDYXJkc1swXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIFN0b3JlIHRoZSBhY3R1YWwgc2hhcmUgVVJMIGluIHRoZSBmaXJzdCBjYXJkIGZvciBsYXRlciB1c2UgYnkgU2hhcmUgYnV0dG9uXG4gICAgICAgICAgICBpZiAoZmluYWxDYXJkc1swXSkge1xuICAgICAgICAgICAgICBmaW5hbENhcmRzWzBdLnNoYXJlVXJsID0gYWN0dWFsU2hhcmVVcmw7XG4gICAgICAgICAgICAgIC8vIEFsc28gdXBkYXRlIHRoZSBSZWFjdCBzdGF0ZSB3aXRoIHRoZSBzaGFyZSBVUkxcbiAgICAgICAgICAgICAgc2V0R2VuZXJhdGVkQ2FyZHMocHJldkNhcmRzID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCB1cGRhdGVkID0gWy4uLnByZXZDYXJkc107XG4gICAgICAgICAgICAgICAgaWYgKHVwZGF0ZWRbMF0pIHtcbiAgICAgICAgICAgICAgICAgIHVwZGF0ZWRbMF0uc2hhcmVVcmwgPSBhY3R1YWxTaGFyZVVybDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHVwZGF0ZWQ7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBzZW5kVGhhbmtZb3VFbWFpbCh1c2VyRW1haWwsIGNhcmRUeXBlRm9yRW1haWwsIGFjdHVhbFNoYXJlVXJsKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIHN0b3JlIGNhcmQ6JywgY2FyZFN0b3JlUmVzcG9uc2Uuc3RhdHVzLCBhd2FpdCBjYXJkU3RvcmVSZXNwb25zZS50ZXh0KCkpO1xuICAgICAgICAgICAgLy8gRmFsbGJhY2sgdG8gZ2VuZXJpYyBVUkwgaWYgc3RvcmUgZmFpbHNcbiAgICAgICAgICAgIHNlbmRUaGFua1lvdUVtYWlsKHVzZXJFbWFpbCwgY2FyZFR5cGVGb3JFbWFpbCwgJ2h0dHBzOi8vdmliZWNhcmRpbmcuY29tJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHN0b3JpbmcgY2FyZCBmb3IgZW1haWw6JywgZXJyb3IpO1xuICAgICAgICAgIC8vIEZhbGxiYWNrIHRvIGdlbmVyaWMgVVJMIGlmIHN0b3JlIGZhaWxzXG4gICAgICAgICAgc2VuZFRoYW5rWW91RW1haWwodXNlckVtYWlsLCBjYXJkVHlwZUZvckVtYWlsLCAnaHR0cHM6Ly92aWJlY2FyZGluZy5jb20nKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBDbGVhciBjb3VudGRvd24gdGltZXIgb24gc3VjY2Vzc2Z1bCBjb21wbGV0aW9uXG4gICAgICBpZiAoY291bnRkb3duSW50ZXJ2YWwpIHtcbiAgICAgICAgY2xlYXJJbnRlcnZhbChjb3VudGRvd25JbnRlcnZhbCk7XG4gICAgICAgIHNldENvdW50ZG93bkludGVydmFsKG51bGwpO1xuICAgICAgfVxuICAgICAgc2V0Q291bnRkb3duKDApO1xuXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHNldEdlbmVyYXRpb25Qcm9ncmVzcyhcIlwiKTtcbiAgICAgIHRvYXN0LmVycm9yKFwiRmFpbGVkIHRvIGdlbmVyYXRlIGNhcmQuIFBsZWFzZSB0cnkgYWdhaW4uXCIpO1xuICAgICAgY29uc29sZS5lcnJvcihcIkNhcmQgZ2VuZXJhdGlvbiBlcnJvcjpcIiwgZXJyb3IpO1xuICAgICAgXG4gICAgICAvLyBSZW1vdmUgZmFpbGVkIGpvYiBmcm9tIGxvY2FsU3RvcmFnZSBhbmQgdXBkYXRlIHNlcnZlclxuICAgICAgaWYgKGN1cnJlbnRKb2JJZCkge1xuICAgICAgICAvLyBTdG9yZSBmYWlsdXJlIHJlc3VsdCBvbiBzZXJ2ZXJcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBhd2FpdCBmZXRjaCgnL2FwaS9zdG9yZS1qb2ItcmVzdWx0Jywge1xuICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgICAgam9iSWQ6IGN1cnJlbnRKb2JJZCxcbiAgICAgICAgICAgICAgc3RhdHVzOiAnZmFpbGVkJyxcbiAgICAgICAgICAgICAgZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InXG4gICAgICAgICAgICB9KVxuICAgICAgICAgIH0pO1xuICAgICAgICB9IGNhdGNoIChzZXJ2ZXJFcnJvcikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBzdG9yZSBqb2IgZmFpbHVyZSBvbiBzZXJ2ZXI6Jywgc2VydmVyRXJyb3IpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICByZW1vdmVKb2JGcm9tU3RvcmFnZShjdXJyZW50Sm9iSWQpO1xuICAgICAgICBzZXRDdXJyZW50Sm9iSWQobnVsbCk7XG4gICAgICB9XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldElzR2VuZXJhdGluZyhmYWxzZSk7XG4gICAgICAvLyBDbGVhciBjb3VudGRvd24gdGltZXJcbiAgICAgIGlmIChjb3VudGRvd25JbnRlcnZhbCkge1xuICAgICAgICBjbGVhckludGVydmFsKGNvdW50ZG93bkludGVydmFsKTtcbiAgICAgICAgc2V0Q291bnRkb3duSW50ZXJ2YWwobnVsbCk7XG4gICAgICB9XG4gICAgICBzZXRDb3VudGRvd24oMCk7XG4gICAgfVxuICB9O1xuXG5cbiAgLy8gU2hvdyBwcmludCBjb25maXJtYXRpb24gZGlhbG9nXG4gIGNvbnN0IGhhbmRsZVByaW50Q2xpY2sgPSAoKSA9PiB7XG4gICAgaWYgKCFnZW5lcmF0ZWRDYXJkKSByZXR1cm47XG4gICAgXG4gICAgLy8gQ2hlY2sgaWYgdXNlciBlbWFpbCBpcyBwcm92aWRlZFxuICAgIGlmICghdXNlckVtYWlsLnRyaW0oKSkge1xuICAgICAgdG9hc3QuZXJyb3IoXCJQbGVhc2UgZW50ZXIgeW91ciBlbWFpbCBhZGRyZXNzIGJlZm9yZSBwcmludGluZ1wiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgXG4gICAgc2V0UHJpbnRPcHRpb24oJ3BoeXNpY2FsJyk7IC8vIFJlc2V0IHRvIGRlZmF1bHRcbiAgICBzZXRTaG93UHJpbnRDb25maXJtYXRpb24odHJ1ZSk7XG4gIH07XG5cbiAgLy8gSGFuZGxlIHRlbXBsYXRlIHNlbGVjdGlvbiBmb3IgcHJldmlld1xuICBjb25zdCBoYW5kbGVUZW1wbGF0ZVNlbGVjdCA9IGFzeW5jICh0ZW1wbGF0ZTogR2VuZXJhdGVkQ2FyZCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICAvLyBTaG93IGxvYWRpbmcgc3RhdGVcbiAgICAgIHNldElzR2VuZXJhdGluZyh0cnVlKTtcbiAgICAgIHNldEdlbmVyYXRpb25Qcm9ncmVzcyhcIvCflI0gTG9hZGluZyBjb21wbGV0ZSB0ZW1wbGF0ZSBkYXRhLi4uXCIpO1xuICAgICAgXG4gICAgICAvLyBDbG9zZSB0ZW1wbGF0ZSBnYWxsZXJ5IGZpcnN0XG4gICAgICBzZXRTaG93VGVtcGxhdGVHYWxsZXJ5KGZhbHNlKTtcbiAgICAgIFxuICAgICAgLy8gQ2hlY2sgaWYgdGVtcGxhdGUgaGFzIGFsbCByZXF1aXJlZCBpbWFnZXNcbiAgICAgIGNvbnN0IGhhc0FsbEltYWdlcyA9IHRlbXBsYXRlLmZyb250Q292ZXIgJiYgdGVtcGxhdGUuYmFja0NvdmVyICYmIFxuICAgICAgICAoaXNGcm9udEJhY2tPbmx5IHx8ICh0ZW1wbGF0ZS5sZWZ0UGFnZSAmJiB0ZW1wbGF0ZS5yaWdodFBhZ2UpKTtcbiAgICAgIFxuICAgICAgaWYgKGhhc0FsbEltYWdlcykge1xuICAgICAgICAvLyBUZW1wbGF0ZSBpcyBjb21wbGV0ZSwgbG9hZCBkaXJlY3RseVxuICAgICAgICBzZXRHZW5lcmF0ZWRDYXJkKHRlbXBsYXRlKTtcbiAgICAgICAgc2V0R2VuZXJhdGVkQ2FyZHMoW3RlbXBsYXRlXSk7XG4gICAgICAgIHNldFNlbGVjdGVkQ2FyZEluZGV4KDApO1xuICAgICAgICBzZXRJc0NhcmRDb21wbGV0ZWQodHJ1ZSk7XG4gICAgICAgIHNldElzR2VuZXJhdGluZyhmYWxzZSk7XG4gICAgICAgIHNldEdlbmVyYXRpb25Qcm9ncmVzcyhcIlwiKTtcbiAgICAgICAgXG4gICAgICAgIC8vIFNjcm9sbCB0byBjYXJkIHByZXZpZXdcbiAgICAgICAgc2Nyb2xsVG9DYXJkUHJldmlldygpO1xuICAgICAgICBcbiAgICAgICAgdG9hc3Quc3VjY2Vzcyhg4pyoIFRlbXBsYXRlIGxvYWRlZCEgWW91IGNhbiBub3cgcHJpbnQgb3IgZW1haWwgdGhpcyBjYXJkIGZyb20gdGhlIHByZXZpZXcgYmVsb3cuYCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBUZW1wbGF0ZSBpcyBpbmNvbXBsZXRlLCB0cnkgdG8gZmV0Y2ggY29tcGxldGUgZGF0YSBmcm9tIEFQSVxuICAgICAgICBzZXRHZW5lcmF0aW9uUHJvZ3Jlc3MoXCLwn5OhIEZldGNoaW5nIGNvbXBsZXRlIGNhcmQgaW1hZ2VzLi4uXCIpO1xuICAgICAgICBcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAvLyBUcnkgdG8gZmV0Y2ggdGhlIGNvbXBsZXRlIGNhcmQgZGF0YSBmcm9tIHRoZSBzZXJ2ZXJcbiAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAvYXBpL2NhcmRzL2xpc3Q/bGltaXQ9MSZzZWFyY2g9JHtlbmNvZGVVUklDb21wb25lbnQodGVtcGxhdGUuaWQpfWApO1xuICAgICAgICAgIFxuICAgICAgICAgIGlmIChyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgICAgIGNvbnN0IGZvdW5kQ2FyZCA9IGRhdGEuY2FyZHMuZmluZCgoY2FyZDogYW55KSA9PiBjYXJkLmlkID09PSB0ZW1wbGF0ZS5pZCk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmIChmb3VuZENhcmQgJiYgZm91bmRDYXJkLmZyb250Q292ZXIgJiYgZm91bmRDYXJkLmJhY2tDb3ZlciAmJiBcbiAgICAgICAgICAgICAgICAoaXNGcm9udEJhY2tPbmx5IHx8IChmb3VuZENhcmQubGVmdFBhZ2UgJiYgZm91bmRDYXJkLnJpZ2h0UGFnZSkpKSB7XG4gICAgICAgICAgICAgIC8vIEZvdW5kIGNvbXBsZXRlIGNhcmQgZGF0YVxuICAgICAgICAgICAgICBjb25zdCBjb21wbGV0ZUNhcmQ6IEdlbmVyYXRlZENhcmQgPSB7XG4gICAgICAgICAgICAgICAgaWQ6IGZvdW5kQ2FyZC5pZCxcbiAgICAgICAgICAgICAgICBwcm9tcHQ6IGZvdW5kQ2FyZC5wcm9tcHQgfHwgdGVtcGxhdGUucHJvbXB0LFxuICAgICAgICAgICAgICAgIGZyb250Q292ZXI6IGZvdW5kQ2FyZC5mcm9udENvdmVyLFxuICAgICAgICAgICAgICAgIGJhY2tDb3ZlcjogZm91bmRDYXJkLmJhY2tDb3ZlcixcbiAgICAgICAgICAgICAgICBsZWZ0UGFnZTogZm91bmRDYXJkLmxlZnRQYWdlIHx8IGZvdW5kQ2FyZC5mcm9udENvdmVyLFxuICAgICAgICAgICAgICAgIHJpZ2h0UGFnZTogZm91bmRDYXJkLnJpZ2h0UGFnZSB8fCBmb3VuZENhcmQuZnJvbnRDb3ZlcixcbiAgICAgICAgICAgICAgICBjcmVhdGVkQXQ6IG5ldyBEYXRlKGZvdW5kQ2FyZC5jcmVhdGVkQXQgKiAxMDAwKSxcbiAgICAgICAgICAgICAgICBzaGFyZVVybDogZm91bmRDYXJkLnNoYXJlVXJsIHx8IHRlbXBsYXRlLnNoYXJlVXJsLFxuICAgICAgICAgICAgICAgIGdlbmVyYXRlZFByb21wdHM6IGZvdW5kQ2FyZC5nZW5lcmF0ZWRQcm9tcHRzIHx8IHRlbXBsYXRlLmdlbmVyYXRlZFByb21wdHNcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIHNldEdlbmVyYXRlZENhcmQoY29tcGxldGVDYXJkKTtcbiAgICAgICAgICAgICAgc2V0R2VuZXJhdGVkQ2FyZHMoW2NvbXBsZXRlQ2FyZF0pO1xuICAgICAgICAgICAgICBzZXRTZWxlY3RlZENhcmRJbmRleCgwKTtcbiAgICAgICAgICAgICAgc2V0SXNDYXJkQ29tcGxldGVkKHRydWUpO1xuICAgICAgICAgICAgICBzZXRJc0dlbmVyYXRpbmcoZmFsc2UpO1xuICAgICAgICAgICAgICBzZXRHZW5lcmF0aW9uUHJvZ3Jlc3MoXCJcIik7XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAvLyBTY3JvbGwgdG8gY2FyZCBwcmV2aWV3XG4gICAgICAgICAgICAgIHNjcm9sbFRvQ2FyZFByZXZpZXcoKTtcbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIHRvYXN0LnN1Y2Nlc3MoYOKchSBDb21wbGV0ZSB0ZW1wbGF0ZSBsb2FkZWQgd2l0aCBhbGwgaW1hZ2VzIWApO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ29tcGxldGUgY2FyZCBkYXRhIG5vdCBmb3VuZFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRmFpbGVkIHRvIGZldGNoIGNhcmQgZGF0YVwiKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGZldGNoRXJyb3IpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhcIkNvdWxkIG5vdCBmZXRjaCBjb21wbGV0ZSBjYXJkIGRhdGEsIHVzaW5nIGZhbGxiYWNrIGFwcHJvYWNoOlwiLCBmZXRjaEVycm9yKTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBGYWxsYmFjazogVXNlIGZyb250IGNvdmVyIGZvciBtaXNzaW5nIGltYWdlc1xuICAgICAgICAgIGNvbnN0IGZhbGxiYWNrQ2FyZDogR2VuZXJhdGVkQ2FyZCA9IHtcbiAgICAgICAgICAgIC4uLnRlbXBsYXRlLFxuICAgICAgICAgICAgYmFja0NvdmVyOiB0ZW1wbGF0ZS5iYWNrQ292ZXIgfHwgdGVtcGxhdGUuZnJvbnRDb3ZlcixcbiAgICAgICAgICAgIGxlZnRQYWdlOiB0ZW1wbGF0ZS5sZWZ0UGFnZSB8fCB0ZW1wbGF0ZS5mcm9udENvdmVyLFxuICAgICAgICAgICAgcmlnaHRQYWdlOiB0ZW1wbGF0ZS5yaWdodFBhZ2UgfHwgdGVtcGxhdGUuZnJvbnRDb3ZlclxuICAgICAgICAgIH07XG4gICAgICAgICAgXG4gICAgICAgICAgc2V0R2VuZXJhdGVkQ2FyZChmYWxsYmFja0NhcmQpO1xuICAgICAgICAgIHNldEdlbmVyYXRlZENhcmRzKFtmYWxsYmFja0NhcmRdKTtcbiAgICAgICAgICBzZXRTZWxlY3RlZENhcmRJbmRleCgwKTtcbiAgICAgICAgICBzZXRJc0NhcmRDb21wbGV0ZWQodHJ1ZSk7XG4gICAgICAgICAgc2V0SXNHZW5lcmF0aW5nKGZhbHNlKTtcbiAgICAgICAgICBzZXRHZW5lcmF0aW9uUHJvZ3Jlc3MoXCJcIik7XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gU2Nyb2xsIHRvIGNhcmQgcHJldmlld1xuICAgICAgICAgIHNjcm9sbFRvQ2FyZFByZXZpZXcoKTtcbiAgICAgICAgICBcbiAgICAgICAgICB0b2FzdC5pbmZvKGDwn5OLIFRlbXBsYXRlIGxvYWRlZCEgU29tZSBpbWFnZXMgbWF5IGJlIHJlcGVhdGVkIGZyb20gdGhlIGZyb250IGNvdmVyLmApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBsb2FkaW5nIHRlbXBsYXRlOlwiLCBlcnJvcik7XG4gICAgICBzZXRJc0dlbmVyYXRpbmcoZmFsc2UpO1xuICAgICAgc2V0R2VuZXJhdGlvblByb2dyZXNzKFwiXCIpO1xuICAgICAgdG9hc3QuZXJyb3IoXCJGYWlsZWQgdG8gbG9hZCB0ZW1wbGF0ZS4gUGxlYXNlIHRyeSBhZ2Fpbi5cIik7XG4gICAgfVxuICB9O1xuXG4gIC8vIEFjdHVhbCBwcmludCBmdW5jdGlvbiBhZnRlciBjb25maXJtYXRpb25cbiAgLy8gRXh0cmFjdGVkIEFJIEFuYWx5c2lzIExvZ2ljIGZvciBSZXVzZVxuICBjb25zdCBwZXJmb3JtQUlBbmFseXNpcyA9IGFzeW5jIChjYXJkc1RvQW5hbHl6ZTogYW55W10sIHNlYXJjaFF1ZXJ5OiBzdHJpbmcpID0+IHtcbiAgICBjb25zdCBhZGFwdGl2ZUJhdGNoU2l6ZSA9IE1hdGgubWluKFxuICAgICAgTWF0aC5tYXgoMTAsIE1hdGguZmxvb3IoY2FyZHNUb0FuYWx5emUubGVuZ3RoIC8gOCkpLCAvLyA4IGJhdGNoZXMgbWF4XG4gICAgICBzZWFyY2hRdWVyeS5zcGxpdCgnICcpLmxlbmd0aCA+IDMgPyAxNSA6IDI1IC8vIFNtYWxsZXIgYmF0Y2hlcyBmb3IgY29tcGxleCBxdWVyaWVzXG4gICAgKTtcbiAgICBcbiAgICBjb25zdCBiYXRjaGVzID0gW107XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjYXJkc1RvQW5hbHl6ZS5sZW5ndGg7IGkgKz0gYWRhcHRpdmVCYXRjaFNpemUpIHtcbiAgICAgIGJhdGNoZXMucHVzaChjYXJkc1RvQW5hbHl6ZS5zbGljZShpLCBpICsgYWRhcHRpdmVCYXRjaFNpemUpKTtcbiAgICB9XG4gICAgXG4gICAgY29uc3QgYW5hbHlzaXNQcm9tcHQgPSBgVXNlciBpcyBzZWFyY2hpbmcgZm9yOiBcIiR7c2VhcmNoUXVlcnl9XCJcblxuQW5hbHl6ZSBlYWNoIGdyZWV0aW5nIGNhcmQgaW1hZ2UgYW5kIHJhdGUgaG93IHdlbGwgaXQgbWF0Y2hlcyB0aGUgdXNlcidzIHNlYXJjaCBxdWVyeSBvbiBhIHNjYWxlIG9mIDEtMTAwLlxuXG5Db25zaWRlcjpcbi0gVmlzdWFsIHN0eWxlIG1hdGNoaW5nICh3YXRlcmNvbG9yLCBjYXJ0b29uLCByZWFsaXN0aWMsIGV0Yy4pXG4tIENvbG9ycyBhbmQgdGhlbWVzXG4tIFN1YmplY3QgbWF0dGVyIChwZW9wbGUsIGFuaW1hbHMsIG9iamVjdHMsIG5hdHVyZSwgZXRjLilcbi0gTW9vZCBhbmQgYXRtb3NwaGVyZVxuLSBPY2Nhc2lvbiBhcHByb3ByaWF0ZW5lc3Ncbi0gT3ZlcmFsbCByZWxldmFuY2UgdG8gdGhlIHNlYXJjaCBxdWVyeVxuXG5SYXRlIGVhY2ggY2FyZCBmcm9tIDEtMTAwIHdoZXJlOlxuLSA5MC0xMDA6IFBlcmZlY3QgbWF0Y2ggZm9yIHRoZSBzZWFyY2ggcXVlcnlcbi0gNzAtODk6IFZlcnkgZ29vZCBtYXRjaCB3aXRoIG1vc3QgZWxlbWVudHMgbWF0Y2hpbmdcbi0gNTAtNjk6IEdvb2QgbWF0Y2ggd2l0aCBzb21lIHJlbGV2YW50IGVsZW1lbnRzXG4tIDMwLTQ5OiBQYXJ0aWFsIG1hdGNoIHdpdGggZmV3IHJlbGV2YW50IGVsZW1lbnRzICBcbi0gMS0yOTogUG9vciBtYXRjaCwgbm90IHJlbGV2YW50IHRvIHNlYXJjaFxuXG5SZXR1cm4gb25seSB0aGUgbnVtZXJpYyBzY29yZSAoMS0xMDApIGZvciBlYWNoIGltYWdlLmA7XG5cbiAgICAvLyBQcm9jZXNzIEFMTCBiYXRjaGVzIGluIHBhcmFsbGVsIGZvciBtYXhpbXVtIHNwZWVkXG4gICAgY29uc3QgYmF0Y2hQcm9taXNlcyA9IGJhdGNoZXMubWFwKGFzeW5jIChiYXRjaDogYW55W10sIGJhdGNoSW5kZXg6IG51bWJlcikgPT4ge1xuICAgICAgY29uc3QgdmFsaWRDYXJkcyA9IGJhdGNoLmZpbHRlcihjYXJkID0+IGNhcmQuZnJvbnRDb3Zlcik7XG4gICAgICBjb25zdCB1cmxzID0gdmFsaWRDYXJkcy5tYXAoY2FyZCA9PiBjYXJkLmZyb250Q292ZXIpO1xuICAgICAgXG4gICAgICBjb25zdCBiYXRjaFJlc3VsdHM6IEFycmF5PHtcbiAgICAgICAgaWQ6IHN0cmluZztcbiAgICAgICAgY2FyZDogYW55O1xuICAgICAgICBzY29yZTogbnVtYmVyO1xuICAgICAgICBhbmFseXNpczogc3RyaW5nO1xuICAgICAgfT4gPSBbXTtcbiAgICAgIFxuICAgICAgaWYgKHVybHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIGJhdGNoLmZvckVhY2goY2FyZCA9PiB7XG4gICAgICAgICAgY29uc3QgdGV4dFNjb3JlID0gY2FyZC5wcm9tcHQ/LnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoc2VhcmNoUXVlcnkudG9Mb3dlckNhc2UoKSkgPyA2MCA6IDIwO1xuICAgICAgICAgIGJhdGNoUmVzdWx0cy5wdXNoKHtcbiAgICAgICAgICAgIGlkOiBjYXJkLmlkLFxuICAgICAgICAgICAgY2FyZDogY2FyZCxcbiAgICAgICAgICAgIHNjb3JlOiB0ZXh0U2NvcmUsXG4gICAgICAgICAgICBhbmFseXNpczogXCJObyBpbWFnZSBhdmFpbGFibGVcIlxuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGJhdGNoUmVzdWx0cztcbiAgICAgIH1cblxuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnL2ludGVybmFsL2NhbGxfbWNwX3Rvb2wnLCB7XG4gICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgdG9vbF9uYW1lOiAnYW5hbHl6ZV9pbWFnZXMnLFxuICAgICAgICAgICAgYXJndW1lbnRzOiB7XG4gICAgICAgICAgICAgIHVybHM6IHVybHMsXG4gICAgICAgICAgICAgIGFuYWx5c2lzX3Byb21wdDogYW5hbHlzaXNQcm9tcHRcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KVxuICAgICAgICB9KTtcblxuICAgICAgICBpZiAocmVzcG9uc2Uub2spIHtcbiAgICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgICAgIGlmIChkYXRhLmVycm9yICYmIGRhdGEuZXJyb3IgIT09IFwiTm9uZVwiICYmIGRhdGEuZXJyb3IgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihkYXRhLmVycm9yKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgXG4gICAgICAgICAgbGV0IHJlc3VsdDtcbiAgICAgICAgICBpZiAodHlwZW9mIGRhdGEucmVzdWx0ID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgcmVzdWx0ID0gSlNPTi5wYXJzZShkYXRhLnJlc3VsdCk7XG4gICAgICAgICAgICB9IGNhdGNoIHtcbiAgICAgICAgICAgICAgcmVzdWx0ID0geyBzdGF0dXM6ICdlcnJvcicsIG1lc3NhZ2U6ICdJbnZhbGlkIEpTT04gcmVzcG9uc2UnIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IGRhdGEucmVzdWx0O1xuICAgICAgICAgIH1cbiAgICAgICAgICBcbiAgICAgICAgICBpZiAocmVzdWx0LnN0YXR1cyA9PT0gJ3N1Y2Nlc3MnICYmIHJlc3VsdC5yZXN1bHRzKSB7XG4gICAgICAgICAgICByZXN1bHQucmVzdWx0cy5mb3JFYWNoKChhbmFseXNpc1Jlc3VsdDogYW55LCBpbmRleDogbnVtYmVyKSA9PiB7XG4gICAgICAgICAgICAgIGlmIChpbmRleCA8IHZhbGlkQ2FyZHMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY2FyZCA9IHZhbGlkQ2FyZHNbaW5kZXhdO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGlmIChhbmFseXNpc1Jlc3VsdC5zdGF0dXMgPT09ICdzdWNjZXNzJyAmJiBhbmFseXNpc1Jlc3VsdC5hbmFseXNpcykge1xuICAgICAgICAgICAgICAgICAgY29uc3Qgc2NvcmVNYXRjaCA9IGFuYWx5c2lzUmVzdWx0LmFuYWx5c2lzLm1hdGNoKC9cXGIoXFxkezEsM30pXFxiLyk7XG4gICAgICAgICAgICAgICAgICBjb25zdCBzY29yZSA9IHNjb3JlTWF0Y2ggPyBwYXJzZUludChzY29yZU1hdGNoWzFdKSA6IDA7XG4gICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgIGJhdGNoUmVzdWx0cy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgaWQ6IGNhcmQuaWQsXG4gICAgICAgICAgICAgICAgICAgIGNhcmQ6IGNhcmQsXG4gICAgICAgICAgICAgICAgICAgIHNjb3JlOiBNYXRoLm1pbihNYXRoLm1heChzY29yZSwgMCksIDEwMCksXG4gICAgICAgICAgICAgICAgICAgIGFuYWx5c2lzOiBhbmFseXNpc1Jlc3VsdC5hbmFseXNpc1xuICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IHRleHRTY29yZSA9IGNhcmQucHJvbXB0Py50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHNlYXJjaFF1ZXJ5LnRvTG93ZXJDYXNlKCkpID8gNjAgOiAyMDtcbiAgICAgICAgICAgICAgICAgIGJhdGNoUmVzdWx0cy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgaWQ6IGNhcmQuaWQsXG4gICAgICAgICAgICAgICAgICAgIGNhcmQ6IGNhcmQsXG4gICAgICAgICAgICAgICAgICAgIHNjb3JlOiB0ZXh0U2NvcmUsXG4gICAgICAgICAgICAgICAgICAgIGFuYWx5c2lzOiBcIkFuYWx5c2lzIGZhaWxlZCwgdXNpbmcgdGV4dCBmYWxsYmFja1wiXG4gICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgcmVzdWx0IHN0cnVjdHVyZScpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEhUVFAgJHtyZXNwb25zZS5zdGF0dXN9YCk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoYEZhaWxlZCB0byBhbmFseXplIGJhdGNoICR7YmF0Y2hJbmRleCArIDF9OmAsIGVycm9yKTtcbiAgICAgICAgXG4gICAgICAgIGJhdGNoLmZvckVhY2goY2FyZCA9PiB7XG4gICAgICAgICAgY29uc3QgdGV4dFNjb3JlID0gY2FyZC5wcm9tcHQ/LnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoc2VhcmNoUXVlcnkudG9Mb3dlckNhc2UoKSkgPyA2MCA6IDIwO1xuICAgICAgICAgIGJhdGNoUmVzdWx0cy5wdXNoKHtcbiAgICAgICAgICAgIGlkOiBjYXJkLmlkLFxuICAgICAgICAgICAgY2FyZDogY2FyZCxcbiAgICAgICAgICAgIHNjb3JlOiB0ZXh0U2NvcmUsXG4gICAgICAgICAgICBhbmFseXNpczogXCJCYXRjaCBhbmFseXNpcyBmYWlsZWQsIHVzaW5nIHRleHQgZmFsbGJhY2tcIlxuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgcmV0dXJuIGJhdGNoUmVzdWx0cztcbiAgICB9KTtcblxuICAgIGNvbnN0IGFsbEJhdGNoUmVzdWx0cyA9IGF3YWl0IFByb21pc2UuYWxsKGJhdGNoUHJvbWlzZXMpO1xuICAgIHJldHVybiBhbGxCYXRjaFJlc3VsdHMuZmxhdCgpO1xuICB9O1xuXG4gIC8vIEVuaGFuY2VkIFRleHQtYmFzZWQgVGVtcGxhdGUgU2VhcmNoIEZ1bmN0aW9uIChJbnN0YW50KVxuICBjb25zdCBoYW5kbGVUZXh0VGVtcGxhdGVTZWFyY2ggPSAoKSA9PiB7XG4gICAgaWYgKCF0ZW1wbGF0ZVNlYXJjaFF1ZXJ5LnRyaW0oKSkge1xuICAgICAgdG9hc3QuZXJyb3IoXCJQbGVhc2UgZW50ZXIgYSBzZWFyY2ggcXVlcnkhXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIEdldCBhbGwgYXZhaWxhYmxlIGNhcmRzIGZpcnN0XG4gICAgY29uc3QgYWxsQ2FyZHMgPSBnZXRDYWNoZWRDYXJkcygxLCBNYXRoLm1heCh0b3RhbENhcmRzLCAxMDAwKSk7XG4gICAgXG4gICAgaWYgKGFsbENhcmRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgdG9hc3QuZXJyb3IoXCJObyB0ZW1wbGF0ZXMgYXZhaWxhYmxlIHRvIHNlYXJjaFwiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBzZWFyY2hUZXJtcyA9IHRlbXBsYXRlU2VhcmNoUXVlcnkudG9Mb3dlckNhc2UoKS5zcGxpdCgnICcpLmZpbHRlcih0ZXJtID0+IHRlcm0ubGVuZ3RoID4gMSk7XG4gICAgXG4gICAgLy8gU2NvcmUgY2FyZHMgYmFzZWQgb24gdGV4dCByZWxldmFuY2UgKG5vdyBpbmNsdWRpbmcgZ2VuZXJhdGVkIHByb21wdHMpXG4gICAgY29uc3Qgc2NvcmVkQ2FyZHMgPSBhbGxDYXJkcy5tYXAoY2FyZCA9PiB7XG4gICAgICBjb25zdCBvcmlnaW5hbFByb21wdCA9IChjYXJkLnByb21wdCB8fCAnJykudG9Mb3dlckNhc2UoKTtcbiAgICAgIGxldCBzY29yZSA9IDA7XG4gICAgICBsZXQgbWF0Y2hTb3VyY2VzOiBzdHJpbmdbXSA9IFtdO1xuICAgICAgXG4gICAgICAvLyBCdWlsZCBzZWFyY2hhYmxlIHRleHQgZnJvbSBtdWx0aXBsZSBzb3VyY2VzXG4gICAgICBjb25zdCBzZWFyY2hhYmxlVGV4dHMgPSBbXG4gICAgICAgIHsgdGV4dDogb3JpZ2luYWxQcm9tcHQsIHdlaWdodDogMTAsIHNvdXJjZTogJ29yaWdpbmFsJyB9XG4gICAgICBdO1xuICAgICAgXG4gICAgICAvLyBBZGQgZ2VuZXJhdGVkIHByb21wdHMgaWYgYXZhaWxhYmxlICh0aGVzZSBhcmUgQUktYW5hbHl6ZWQgZGVzY3JpcHRpb25zIG9mIGFjdHVhbCBpbWFnZXMpXG4gICAgICBpZiAoY2FyZC5nZW5lcmF0ZWRQcm9tcHRzKSB7XG4gICAgICAgIGlmIChjYXJkLmdlbmVyYXRlZFByb21wdHMuZnJvbnRDb3Zlcikge1xuICAgICAgICAgIHNlYXJjaGFibGVUZXh0cy5wdXNoKHsgXG4gICAgICAgICAgICB0ZXh0OiBjYXJkLmdlbmVyYXRlZFByb21wdHMuZnJvbnRDb3Zlci50b0xvd2VyQ2FzZSgpLCBcbiAgICAgICAgICAgIHdlaWdodDogOCwgXG4gICAgICAgICAgICBzb3VyY2U6ICdmcm9udC1jb3Zlci1hbmFseXNpcycgXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNhcmQuZ2VuZXJhdGVkUHJvbXB0cy5iYWNrQ292ZXIpIHtcbiAgICAgICAgICBzZWFyY2hhYmxlVGV4dHMucHVzaCh7IFxuICAgICAgICAgICAgdGV4dDogY2FyZC5nZW5lcmF0ZWRQcm9tcHRzLmJhY2tDb3Zlci50b0xvd2VyQ2FzZSgpLCBcbiAgICAgICAgICAgIHdlaWdodDogNiwgXG4gICAgICAgICAgICBzb3VyY2U6ICdiYWNrLWNvdmVyLWFuYWx5c2lzJyBcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY2FyZC5nZW5lcmF0ZWRQcm9tcHRzLmxlZnRJbnRlcmlvcikge1xuICAgICAgICAgIHNlYXJjaGFibGVUZXh0cy5wdXNoKHsgXG4gICAgICAgICAgICB0ZXh0OiBjYXJkLmdlbmVyYXRlZFByb21wdHMubGVmdEludGVyaW9yLnRvTG93ZXJDYXNlKCksIFxuICAgICAgICAgICAgd2VpZ2h0OiA3LCBcbiAgICAgICAgICAgIHNvdXJjZTogJ2xlZnQtaW50ZXJpb3ItYW5hbHlzaXMnIFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjYXJkLmdlbmVyYXRlZFByb21wdHMucmlnaHRJbnRlcmlvcikge1xuICAgICAgICAgIHNlYXJjaGFibGVUZXh0cy5wdXNoKHsgXG4gICAgICAgICAgICB0ZXh0OiBjYXJkLmdlbmVyYXRlZFByb21wdHMucmlnaHRJbnRlcmlvci50b0xvd2VyQ2FzZSgpLCBcbiAgICAgICAgICAgIHdlaWdodDogNywgXG4gICAgICAgICAgICBzb3VyY2U6ICdyaWdodC1pbnRlcmlvci1hbmFseXNpcycgXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gU2VhcmNoIHRocm91Z2ggYWxsIHRleHQgc291cmNlc1xuICAgICAgc2VhcmNoVGVybXMuZm9yRWFjaCh0ZXJtID0+IHtcbiAgICAgICAgc2VhcmNoYWJsZVRleHRzLmZvckVhY2goKHsgdGV4dCwgd2VpZ2h0LCBzb3VyY2UgfSkgPT4ge1xuICAgICAgICAgIC8vIEV4YWN0IHdvcmQgbWF0Y2hcbiAgICAgICAgICBpZiAodGV4dC5pbmNsdWRlcyh0ZXJtKSkge1xuICAgICAgICAgICAgY29uc3QgdGVybVNjb3JlID0gKHRlcm0ubGVuZ3RoID4gMyA/IDEwIDogNSkgKiAod2VpZ2h0IC8gMTApO1xuICAgICAgICAgICAgc2NvcmUgKz0gdGVybVNjb3JlO1xuICAgICAgICAgICAgaWYgKCFtYXRjaFNvdXJjZXMuaW5jbHVkZXMoc291cmNlKSkge1xuICAgICAgICAgICAgICBtYXRjaFNvdXJjZXMucHVzaChzb3VyY2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICAvLyBQYXJ0aWFsIG1hdGNoXG4gICAgICAgICAgZWxzZSBpZiAodGV4dC5pbmNsdWRlcyh0ZXJtLnN1YnN0cmluZygwLCBNYXRoLm1heCgzLCB0ZXJtLmxlbmd0aCAtIDEpKSkpIHtcbiAgICAgICAgICAgIGNvbnN0IHBhcnRpYWxTY29yZSA9IDMgKiAod2VpZ2h0IC8gMTApO1xuICAgICAgICAgICAgc2NvcmUgKz0gcGFydGlhbFNjb3JlO1xuICAgICAgICAgICAgaWYgKCFtYXRjaFNvdXJjZXMuaW5jbHVkZXMoc291cmNlKSkge1xuICAgICAgICAgICAgICBtYXRjaFNvdXJjZXMucHVzaChzb3VyY2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgLy8gQm9vc3QgZm9yIGNhcmRzIHRoYXQgbWF0Y2ggbXVsdGlwbGUgdGVybXNcbiAgICAgIGNvbnN0IG1hdGNoZWRUZXJtcyA9IHNlYXJjaFRlcm1zLmZpbHRlcih0ZXJtID0+IFxuICAgICAgICBzZWFyY2hhYmxlVGV4dHMuc29tZSgoeyB0ZXh0IH0pID0+IHRleHQuaW5jbHVkZXModGVybSkpXG4gICAgICApLmxlbmd0aDtcbiAgICAgIGlmIChtYXRjaGVkVGVybXMgPiAxKSB7XG4gICAgICAgIHNjb3JlICs9IG1hdGNoZWRUZXJtcyAqIDU7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIEJvb3N0IGZvciBjYXJkcyB3aXRoIEFJLWdlbmVyYXRlZCBwcm9tcHRzICh0aGV5IGhhdmUgcmljaGVyIGRlc2NyaXB0aW9ucylcbiAgICAgIGlmIChjYXJkLmdlbmVyYXRlZFByb21wdHMgJiYgbWF0Y2hTb3VyY2VzLnNvbWUoc291cmNlID0+IHNvdXJjZS5pbmNsdWRlcygnYW5hbHlzaXMnKSkpIHtcbiAgICAgICAgc2NvcmUgKz0gNTsgLy8gQm9udXMgZm9yIEFJLWFuYWx5emVkIHZpc3VhbCBjb250ZW50IG1hdGNoZXNcbiAgICAgIH1cbiAgICAgIFxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4uY2FyZCxcbiAgICAgICAgdGV4dFNjb3JlOiBzY29yZSxcbiAgICAgICAgbWF0Y2hTb3VyY2VzOiBtYXRjaFNvdXJjZXNcbiAgICAgIH07XG4gICAgfSk7XG5cbiAgICAvLyBGaWx0ZXIgYW5kIHNvcnQgYnkgcmVsZXZhbmNlXG4gICAgY29uc3QgZmlsdGVyZWRDYXJkcyA9IHNjb3JlZENhcmRzXG4gICAgICAuZmlsdGVyKGNhcmQgPT4gY2FyZC50ZXh0U2NvcmUgPiAwKVxuICAgICAgLnNvcnQoKGEsIGIpID0+IGIudGV4dFNjb3JlIC0gYS50ZXh0U2NvcmUpXG4gICAgICAuc2xpY2UoMCwgMjApOyAvLyBUb3AgMjAgdGV4dCBtYXRjaGVzXG5cbiAgICBzZXRUZXh0RmlsdGVyZWRDYXJkcyhmaWx0ZXJlZENhcmRzKTtcbiAgICBcbiAgICBpZiAoZmlsdGVyZWRDYXJkcy5sZW5ndGggPiAwKSB7XG4gICAgICBjb25zdCBhdmdTY29yZSA9IE1hdGgucm91bmQoZmlsdGVyZWRDYXJkcy5yZWR1Y2UoKHN1bSwgY2FyZCkgPT4gc3VtICsgY2FyZC50ZXh0U2NvcmUsIDApIC8gZmlsdGVyZWRDYXJkcy5sZW5ndGgpO1xuICAgICAgY29uc3QgYWlBbmFseXplZE1hdGNoZXMgPSBmaWx0ZXJlZENhcmRzLmZpbHRlcihjYXJkID0+IFxuICAgICAgICBjYXJkLm1hdGNoU291cmNlcz8uc29tZShzb3VyY2UgPT4gc291cmNlLmluY2x1ZGVzKCdhbmFseXNpcycpKVxuICAgICAgKS5sZW5ndGg7XG4gICAgICBcbiAgICAgIGxldCBzdWNjZXNzTWVzc2FnZSA9IGDwn5OdIEZvdW5kICR7ZmlsdGVyZWRDYXJkcy5sZW5ndGh9IHRleHQgbWF0Y2hlcyBmb3IgXCIke3RlbXBsYXRlU2VhcmNoUXVlcnl9XCIhIEF2ZXJhZ2UgcmVsZXZhbmNlOiAke2F2Z1Njb3JlfWA7XG4gICAgICBpZiAoYWlBbmFseXplZE1hdGNoZXMgPiAwKSB7XG4gICAgICAgIHN1Y2Nlc3NNZXNzYWdlICs9IGAgKCR7YWlBbmFseXplZE1hdGNoZXN9IG1hdGNoZXMgZm91bmQgaW4gQUkgdmlzdWFsIGFuYWx5c2lzISlgO1xuICAgICAgfVxuICAgICAgXG4gICAgICB0b2FzdC5zdWNjZXNzKHN1Y2Nlc3NNZXNzYWdlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdG9hc3QuaW5mbyhcIvCfpJQgTm8gdGVtcGxhdGVzIGZvdW5kIG1hdGNoaW5nIHlvdXIgdGV4dCBzZWFyY2guIFRyeSBkaWZmZXJlbnQga2V5d29yZHMhXCIpO1xuICAgIH1cbiAgfTtcblxuICAvLyBBSSBUZW1wbGF0ZSBTZWFyY2ggRnVuY3Rpb24gd2l0aCBQYXJhbGxlbCBJbWFnZSBBbmFseXNpc1xuICBjb25zdCBoYW5kbGVBSVRlbXBsYXRlU2VhcmNoID0gYXN5bmMgKCkgPT4ge1xuICAgIGlmICghdGVtcGxhdGVTZWFyY2hRdWVyeS50cmltKCkpIHtcbiAgICAgIHRvYXN0LmVycm9yKFwiUGxlYXNlIGVudGVyIGEgc2VhcmNoIHF1ZXJ5IVwiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBzZXRJc1NlYXJjaGluZ1RlbXBsYXRlcyh0cnVlKTtcbiAgICBcbiAgICB0cnkge1xuICAgICAgLy8gR2V0IGFsbCBhdmFpbGFibGUgY2FyZHMgZmlyc3RcbiAgICAgIGNvbnN0IGFsbENhcmRzID0gZ2V0Q2FjaGVkQ2FyZHMoMSwgTWF0aC5tYXgodG90YWxDYXJkcywgMTAwMCkpO1xuICAgICAgXG4gICAgICBpZiAoYWxsQ2FyZHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHRvYXN0LmVycm9yKFwiTm8gdGVtcGxhdGVzIGF2YWlsYWJsZSB0byBzZWFyY2hcIik7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8gU21hcnQgcHJlLWZpbHRlcmluZzogRmlyc3QgZmlsdGVyIGJ5IHRleHQgcmVsZXZhbmNlIHRvIHJlZHVjZSBBSSBhbmFseXNpcyBsb2FkXG4gICAgICBjb25zdCB0ZXh0RmlsdGVyZWRDYXJkcyA9IGFsbENhcmRzLmZpbHRlcihjYXJkID0+IHtcbiAgICAgICAgY29uc3Qgc2VhcmNoVGVybXMgPSB0ZW1wbGF0ZVNlYXJjaFF1ZXJ5LnRvTG93ZXJDYXNlKCkuc3BsaXQoJyAnKTtcbiAgICAgICAgY29uc3QgY2FyZFRleHQgPSAoY2FyZC5wcm9tcHQgfHwgJycpLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIFxuICAgICAgICAvLyBJbmNsdWRlIGNhcmRzIHRoYXQgbWF0Y2ggYW55IHNlYXJjaCB0ZXJtIG9yIGhhdmUgaGlnaCBnZW5lcmFsIHJlbGV2YW5jZVxuICAgICAgICByZXR1cm4gc2VhcmNoVGVybXMuc29tZSh0ZXJtID0+IFxuICAgICAgICAgIGNhcmRUZXh0LmluY2x1ZGVzKHRlcm0pIHx8IFxuICAgICAgICAgIHRlcm0ubGVuZ3RoIDw9IDMgfHwgLy8gSW5jbHVkZSBzaG9ydCB0ZXJtcyAoY29sb3JzLCBldGMuKVxuICAgICAgICAgIFsnY2FyZCcsICdiaXJ0aGRheScsICdmdW5ueScsICdjdXRlJywgJ2xvdmUnXS5zb21lKGNvbW1vbiA9PiBjYXJkVGV4dC5pbmNsdWRlcyhjb21tb24pKVxuICAgICAgICApO1xuICAgICAgfSk7XG4gICAgICBcbiAgICAgIC8vIElmIHByZS1maWx0ZXJpbmcgcmVtb3ZlcyB0b28gbWFueSBjYXJkcywgZmFsbCBiYWNrIHRvIGFuYWx5emluZyBhbGxcbiAgICAgIGNvbnN0IGNhcmRzVG9BbmFseXplID0gdGV4dEZpbHRlcmVkQ2FyZHMubGVuZ3RoID49IE1hdGgubWluKDUwLCBhbGxDYXJkcy5sZW5ndGggKiAwLjMpIFxuICAgICAgICA/IHRleHRGaWx0ZXJlZENhcmRzIFxuICAgICAgICA6IGFsbENhcmRzO1xuICAgICAgXG4gICAgICBjb25zdCBmaWx0ZXJNZXNzYWdlID0gdGV4dEZpbHRlcmVkQ2FyZHMubGVuZ3RoIDwgYWxsQ2FyZHMubGVuZ3RoIFxuICAgICAgICA/IGAgKHByZS1maWx0ZXJlZCBmcm9tICR7YWxsQ2FyZHMubGVuZ3RofSBiYXNlZCBvbiB0ZXh0IHJlbGV2YW5jZSlgXG4gICAgICAgIDogJyc7XG4gICAgICBcbiAgICAgIHRvYXN0LmluZm8oYPCflI0gQUkgYW5hbHl6aW5nICR7Y2FyZHNUb0FuYWx5emUubGVuZ3RofSBjYXJkIGltYWdlcyBmb3IgXCIke3RlbXBsYXRlU2VhcmNoUXVlcnl9XCIke2ZpbHRlck1lc3NhZ2V9Li4uYCk7XG5cbiAgICAgIC8vIEFkYXB0aXZlIGJhdGNoIHNpemluZyBiYXNlZCBvbiBxdWVyeSBjb21wbGV4aXR5IGFuZCBudW1iZXIgb2YgY2FyZHNcbiAgICAgIGNvbnN0IHF1ZXJ5Q29tcGxleGl0eSA9IHRlbXBsYXRlU2VhcmNoUXVlcnkuc3BsaXQoJyAnKS5sZW5ndGg7XG4gICAgICBjb25zdCBhZGFwdGl2ZUJhdGNoU2l6ZSA9IE1hdGgubWluKFxuICAgICAgICBNYXRoLm1heCgxMCwgTWF0aC5mbG9vcihjYXJkc1RvQW5hbHl6ZS5sZW5ndGggLyA4KSksIC8vIDggYmF0Y2hlcyBtYXhcbiAgICAgICAgcXVlcnlDb21wbGV4aXR5ID4gMyA/IDE1IDogMjUgLy8gU21hbGxlciBiYXRjaGVzIGZvciBjb21wbGV4IHF1ZXJpZXNcbiAgICAgICk7XG4gICAgICBcbiAgICAgIGNvbnNvbGUubG9nKGDwn6egIFVzaW5nIGFkYXB0aXZlIGJhdGNoIHNpemU6ICR7YWRhcHRpdmVCYXRjaFNpemV9IChxdWVyeSBjb21wbGV4aXR5OiAke3F1ZXJ5Q29tcGxleGl0eX0gdGVybXMpYCk7XG4gICAgICBcbiAgICAgIGNvbnN0IGJhdGNoZXMgPSBbXTtcbiAgICAgIFxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjYXJkc1RvQW5hbHl6ZS5sZW5ndGg7IGkgKz0gYWRhcHRpdmVCYXRjaFNpemUpIHtcbiAgICAgICAgYmF0Y2hlcy5wdXNoKGNhcmRzVG9BbmFseXplLnNsaWNlKGksIGkgKyBhZGFwdGl2ZUJhdGNoU2l6ZSkpO1xuICAgICAgfVxuICAgICAgXG4gICAgICBjb25zb2xlLmxvZyhg8J+agCBQcm9jZXNzaW5nICR7Y2FyZHNUb0FuYWx5emUubGVuZ3RofSBpbWFnZXMgaW4gJHtiYXRjaGVzLmxlbmd0aH0gYmF0Y2hlcyAoYWRhcHRpdmUgc2l6ZTogJHthZGFwdGl2ZUJhdGNoU2l6ZX0pYCk7XG4gICAgICBcbiAgICAgIC8vIFVzZSB0aGUgZXh0cmFjdGVkIEFJIGFuYWx5c2lzIGZ1bmN0aW9uXG4gICAgICBjb25zb2xlLmxvZyhg8J+agCBQcm9jZXNzaW5nIEFMTCAke2JhdGNoZXMubGVuZ3RofSBiYXRjaGVzIGluIHBhcmFsbGVsIWApO1xuICAgICAgdG9hc3QuaW5mbyhg8J+agCBQcm9jZXNzaW5nICR7YmF0Y2hlcy5sZW5ndGh9IGJhdGNoZXMgaW4gcGFyYWxsZWwgKCR7Y2FyZHNUb0FuYWx5emUubGVuZ3RofSBpbWFnZXMgdG90YWwpLi4uYCk7XG4gICAgICBcbiAgICAgIGNvbnN0IGFuYWx5c2lzUmVzdWx0cyA9IGF3YWl0IHBlcmZvcm1BSUFuYWx5c2lzKGNhcmRzVG9BbmFseXplLCB0ZW1wbGF0ZVNlYXJjaFF1ZXJ5KTtcbiAgICAgIFxuICAgICAgLy8gU29ydCBieSBzY29yZSAoaGlnaGVzdCBmaXJzdCkgYW5kIGZpbHRlciBvdXQgbG93IHNjb3Jlc1xuICAgICAgY29uc3QgcmFua2VkUmVzdWx0cyA9IGFuYWx5c2lzUmVzdWx0c1xuICAgICAgICAuZmlsdGVyKHJlc3VsdCA9PiByZXN1bHQuc2NvcmUgPj0gMzApIC8vIE9ubHkgc2hvdyBjYXJkcyB3aXRoIHNjb3JlIDMwK1xuICAgICAgICAuc29ydCgoYSwgYikgPT4gYi5zY29yZSAtIGEuc2NvcmUpXG4gICAgICAgIC5zbGljZSgwLCAxMCk7IC8vIFRvcCAxMCByZXN1bHRzXG5cbiAgICAgIGlmIChyYW5rZWRSZXN1bHRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgY29uc3QgZmlsdGVyZWRDYXJkcyA9IHJhbmtlZFJlc3VsdHMubWFwKHJlc3VsdCA9PiAoe1xuICAgICAgICAgIC4uLnJlc3VsdC5jYXJkLFxuICAgICAgICAgIGFpU2NvcmU6IHJlc3VsdC5zY29yZSxcbiAgICAgICAgICBhaUFuYWx5c2lzOiByZXN1bHQuYW5hbHlzaXNcbiAgICAgICAgfSkpO1xuICAgICAgICBcbiAgICAgICAgc2V0QWlGaWx0ZXJlZENhcmRzKGZpbHRlcmVkQ2FyZHMpO1xuICAgICAgICBcbiAgICAgICAgY29uc3QgYXZnU2NvcmUgPSBNYXRoLnJvdW5kKHJhbmtlZFJlc3VsdHMucmVkdWNlKChzdW0sIHIpID0+IHN1bSArIHIuc2NvcmUsIDApIC8gcmFua2VkUmVzdWx0cy5sZW5ndGgpO1xuICAgICAgICB0b2FzdC5zdWNjZXNzKGDwn46vIEZvdW5kICR7ZmlsdGVyZWRDYXJkcy5sZW5ndGh9IG1hdGNoZXMgZm9yIFwiJHt0ZW1wbGF0ZVNlYXJjaFF1ZXJ5fVwiISBBdmVyYWdlIHJlbGV2YW5jZTogJHthdmdTY29yZX0lYCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0b2FzdC5pbmZvKFwi8J+klCBObyB0ZW1wbGF0ZXMgZm91bmQgbWF0Y2hpbmcgeW91ciBzZWFyY2guIFRyeSBhIGRpZmZlcmVudCBxdWVyeSFcIik7XG4gICAgICAgIHNldEFpRmlsdGVyZWRDYXJkcyhbXSk7XG4gICAgICB9XG4gICAgICBcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignQUkgdGVtcGxhdGUgc2VhcmNoIGZhaWxlZDonLCBlcnJvcik7XG4gICAgICB0b2FzdC5lcnJvcihcIkFJIHNlYXJjaCBmYWlsZWQuIFBsZWFzZSB0cnkgYWdhaW4uXCIpO1xuICAgICAgc2V0QWlGaWx0ZXJlZENhcmRzKFtdKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgc2V0SXNTZWFyY2hpbmdUZW1wbGF0ZXMoZmFsc2UpO1xuICAgIH1cbiAgfTtcblxuICAvLyBIeWJyaWQgU2VhcmNoIEZ1bmN0aW9uIChUZXh0ICsgQUkgRW5oYW5jZW1lbnQpXG4gIGNvbnN0IGhhbmRsZUh5YnJpZFRlbXBsYXRlU2VhcmNoID0gYXN5bmMgKCkgPT4ge1xuICAgIGlmICghdGVtcGxhdGVTZWFyY2hRdWVyeS50cmltKCkpIHtcbiAgICAgIHRvYXN0LmVycm9yKFwiUGxlYXNlIGVudGVyIGEgc2VhcmNoIHF1ZXJ5IVwiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBzZXRJc1NlYXJjaGluZ1RlbXBsYXRlcyh0cnVlKTtcbiAgICBcbiAgICB0cnkge1xuICAgICAgLy8gUGhhc2UgMTogRmFzdCB0ZXh0IHNlYXJjaCBmb3IgaW1tZWRpYXRlIHJlc3VsdHNcbiAgICAgIHRvYXN0LmluZm8oYPCfmoAgUGhhc2UgMTogRmFzdCB0ZXh0IHNlYXJjaC4uLmApO1xuICAgICAgaGFuZGxlVGV4dFRlbXBsYXRlU2VhcmNoKCk7XG4gICAgICBcbiAgICAgIC8vIFBoYXNlIDI6IEFJIGVuaGFuY2VtZW50IG9uIHRleHQgcmVzdWx0c1xuICAgICAgY29uc3QgYWxsQ2FyZHMgPSBnZXRDYWNoZWRDYXJkcygxLCBNYXRoLm1heCh0b3RhbENhcmRzLCAxMDAwKSk7XG4gICAgICBjb25zdCBzZWFyY2hUZXJtcyA9IHRlbXBsYXRlU2VhcmNoUXVlcnkudG9Mb3dlckNhc2UoKS5zcGxpdCgnICcpLmZpbHRlcih0ZXJtID0+IHRlcm0ubGVuZ3RoID4gMSk7XG4gICAgICBcbiAgICAgIC8vIEdldCB0ZXh0LWZpbHRlcmVkIGNhcmRzIGZvciBBSSBhbmFseXNpc1xuICAgICAgY29uc3QgdGV4dENhbmRpZGF0ZXMgPSBhbGxDYXJkcy5maWx0ZXIoY2FyZCA9PiB7XG4gICAgICAgIGNvbnN0IGNhcmRUZXh0ID0gKGNhcmQucHJvbXB0IHx8ICcnKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICByZXR1cm4gc2VhcmNoVGVybXMuc29tZSh0ZXJtID0+IGNhcmRUZXh0LmluY2x1ZGVzKHRlcm0pKSB8fCBzZWFyY2hUZXJtcy5sZW5ndGggPT09IDA7XG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgLy8gSWYgdGV4dCBmaWx0ZXJpbmcgZ2l2ZXMgdXMgYSByZWFzb25hYmxlIHN1YnNldCwgdXNlIGl0OyBvdGhlcndpc2UgdXNlIGFsbCBjYXJkc1xuICAgICAgY29uc3QgY2FyZHNUb0FuYWx5emUgPSB0ZXh0Q2FuZGlkYXRlcy5sZW5ndGggPiAwICYmIHRleHRDYW5kaWRhdGVzLmxlbmd0aCA8IGFsbENhcmRzLmxlbmd0aCAqIDAuOCBcbiAgICAgICAgPyB0ZXh0Q2FuZGlkYXRlcyBcbiAgICAgICAgOiBhbGxDYXJkcztcbiAgICAgIFxuICAgICAgdG9hc3QuaW5mbyhg8J+OqCBQaGFzZSAyOiBBSSB2aXN1YWwgYW5hbHlzaXMgb24gJHtjYXJkc1RvQW5hbHl6ZS5sZW5ndGh9IGNhbmRpZGF0ZXMuLi5gKTtcbiAgICAgIFxuICAgICAgICAgICAgIC8vIFJ1biBBSSBhbmFseXNpcyBvbiB0aGUgY2FuZGlkYXRlc1xuICAgICAgIGNvbnN0IGFuYWx5c2lzUmVzdWx0cyA9IGF3YWl0IHBlcmZvcm1BSUFuYWx5c2lzKGNhcmRzVG9BbmFseXplLCB0ZW1wbGF0ZVNlYXJjaFF1ZXJ5KTtcbiAgICAgIFxuICAgICAgICAgICAgIC8vIENvbWJpbmUgdGV4dCBhbmQgQUkgc2NvcmVzIGZvciBmaW5hbCByYW5raW5nXG4gICAgICAgY29uc3QgaHlicmlkUmVzdWx0cyA9IGFuYWx5c2lzUmVzdWx0cy5tYXAoKHJlc3VsdDogYW55KSA9PiAoe1xuICAgICAgICAgLi4ucmVzdWx0LFxuICAgICAgICAgaHlicmlkU2NvcmU6IChyZXN1bHQuc2NvcmUgKiAwLjcpICsgKChyZXN1bHQuY2FyZC50ZXh0U2NvcmUgfHwgMCkgKiAwLjMpIC8vIDcwJSBBSSwgMzAlIHRleHRcbiAgICAgICB9KSkuc29ydCgoYTogYW55LCBiOiBhbnkpID0+IGIuaHlicmlkU2NvcmUgLSBhLmh5YnJpZFNjb3JlKTtcbiAgICAgICBcbiAgICAgICBjb25zdCBmaW5hbFJlc3VsdHMgPSBoeWJyaWRSZXN1bHRzLnNsaWNlKDAsIDEwKS5tYXAoKHJlc3VsdDogYW55KSA9PiAoe1xuICAgICAgICAgLi4ucmVzdWx0LmNhcmQsXG4gICAgICAgICBhaVNjb3JlOiBNYXRoLnJvdW5kKHJlc3VsdC5oeWJyaWRTY29yZSksXG4gICAgICAgICBhaUFuYWx5c2lzOiBgSHlicmlkOiAke3Jlc3VsdC5hbmFseXNpc31gXG4gICAgICAgfSkpO1xuICAgICAgIFxuICAgICAgIHNldEFpRmlsdGVyZWRDYXJkcyhmaW5hbFJlc3VsdHMpO1xuICAgICAgIFxuICAgICAgIGlmIChmaW5hbFJlc3VsdHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgY29uc3QgYXZnU2NvcmUgPSBNYXRoLnJvdW5kKGh5YnJpZFJlc3VsdHMucmVkdWNlKChzdW06IG51bWJlciwgcjogYW55KSA9PiBzdW0gKyByLmh5YnJpZFNjb3JlLCAwKSAvIGh5YnJpZFJlc3VsdHMubGVuZ3RoKTtcbiAgICAgICAgIHRvYXN0LnN1Y2Nlc3MoYPCfjq8gSHlicmlkIHNlYXJjaCBjb21wbGV0ZSEgRm91bmQgJHtmaW5hbFJlc3VsdHMubGVuZ3RofSBtYXRjaGVzIGZvciBcIiR7dGVtcGxhdGVTZWFyY2hRdWVyeX1cIiEgQXZlcmFnZSByZWxldmFuY2U6ICR7YXZnU2NvcmV9JWApO1xuICAgICAgIH0gZWxzZSB7XG4gICAgICAgICB0b2FzdC5pbmZvKFwi8J+klCBObyB0ZW1wbGF0ZXMgZm91bmQgbWF0Y2hpbmcgeW91ciBzZWFyY2guIFRyeSBhIGRpZmZlcmVudCBxdWVyeSFcIik7XG4gICAgICAgfVxuICAgICAgXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0h5YnJpZCB0ZW1wbGF0ZSBzZWFyY2ggZmFpbGVkOicsIGVycm9yKTtcbiAgICAgIHRvYXN0LmVycm9yKFwiSHlicmlkIHNlYXJjaCBmYWlsZWQuIFBsZWFzZSB0cnkgYWdhaW4uXCIpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBzZXRJc1NlYXJjaGluZ1RlbXBsYXRlcyhmYWxzZSk7XG4gICAgfVxuICB9O1xuXG4gIC8vIE1haW4gc2VhcmNoIGhhbmRsZXIgdGhhdCByb3V0ZXMgdG8gYXBwcm9wcmlhdGUgc2VhcmNoIG1ldGhvZFxuICBjb25zdCBoYW5kbGVUZW1wbGF0ZVNlYXJjaCA9ICgpID0+IHtcbiAgICBzd2l0Y2ggKHNlYXJjaE1vZGUpIHtcbiAgICAgIGNhc2UgJ3RleHQnOlxuICAgICAgICBoYW5kbGVUZXh0VGVtcGxhdGVTZWFyY2goKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdhaSc6XG4gICAgICAgIGhhbmRsZUFJVGVtcGxhdGVTZWFyY2goKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdoeWJyaWQnOlxuICAgICAgICBoYW5kbGVIeWJyaWRUZW1wbGF0ZVNlYXJjaCgpO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgY2xlYXJUZW1wbGF0ZVNlYXJjaCA9ICgpID0+IHtcbiAgICBzZXRUZW1wbGF0ZVNlYXJjaFF1ZXJ5KFwiXCIpO1xuICAgIHNldEFpRmlsdGVyZWRDYXJkcyhbXSk7XG4gICAgc2V0VGV4dEZpbHRlcmVkQ2FyZHMoW10pO1xuICB9O1xuXG4gIGNvbnN0IGhhbmRsZUNvbmZpcm1QcmludCA9IGFzeW5jICgpID0+IHtcbiAgICAvLyBBbHdheXMgdXNlIHRoZSBjYXJkIGZyb20gdGhlIHByZXZpZXcgYXJlYVxuICAgIGNvbnN0IGNhcmRUb1ByaW50ID0gZ2VuZXJhdGVkQ2FyZDtcbiAgICBpZiAoIWNhcmRUb1ByaW50KSB7XG4gICAgICB0b2FzdC5lcnJvcihcIk5vIGNhcmQgYXZhaWxhYmxlIHRvIHByaW50XCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBcbiAgICAvLyBWYWxpZGF0ZSBlbWFpbCBiZWZvcmUgcHJvY2VlZGluZ1xuICAgIGlmICghdXNlckVtYWlsLnRyaW0oKSkge1xuICAgICAgdG9hc3QuZXJyb3IoXCJQbGVhc2UgZW50ZXIgeW91ciBlbWFpbCBhZGRyZXNzIGJlZm9yZSBwcmludGluZ1wiKTtcbiAgICAgIHNldFNob3dQcmludENvbmZpcm1hdGlvbihmYWxzZSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFxuICAgIHNldFNob3dQcmludENvbmZpcm1hdGlvbihmYWxzZSk7XG4gICAgXG4gICAgLy8gTm90ZTogV2Ugbm8gbG9uZ2VyIHVzZSBzZWxlY3RlZFRlbXBsYXRlIGZvciBkaXJlY3QgcHJpbnRpbmdcbiAgICBcbiAgICB0cnkge1xuICAgICAgLy8gVmFsaWRhdGUgY2FyZCBkYXRhXG4gICAgICBpZiAoIWNhcmRUb1ByaW50LmZyb250Q292ZXIpIHtcbiAgICAgICAgdG9hc3QuZXJyb3IoXCJDYXJkIGlzIG1pc3NpbmcgZnJvbnQgY292ZXIgaW1hZ2UuIFBsZWFzZSByZWdlbmVyYXRlIHRoZSBjYXJkLlwiKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgXG4gICAgICBpZiAoIWNhcmRUb1ByaW50LmJhY2tDb3Zlcikge1xuICAgICAgICB0b2FzdC5lcnJvcihcIkNhcmQgaXMgbWlzc2luZyBiYWNrIGNvdmVyIGltYWdlLiBQbGVhc2UgcmVnZW5lcmF0ZSB0aGUgY2FyZC5cIik7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgaWYgKCFpc0Zyb250QmFja09ubHkgJiYgKCFjYXJkVG9QcmludC5sZWZ0UGFnZSB8fCAhY2FyZFRvUHJpbnQucmlnaHRQYWdlKSkge1xuICAgICAgICB0b2FzdC5lcnJvcihcIkNhcmQgaXMgbWlzc2luZyBpbnRlcmlvciBwYWdlcy4gUGxlYXNlIHJlZ2VuZXJhdGUgdGhlIGNhcmQgb3IgdXNlIGZyb250LWJhY2sgb25seSBtb2RlLlwiKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBQcmVwYXJlIGNhcmQgZGF0YSBmb3IgYm90aCBwcmludGluZyBhbmQgUERGIGVtYWlsXG4gICAgICBjb25zdCBjYXJkRGF0YSA9IHtcbiAgICAgICAgZnJvbnRfY292ZXI6IGNhcmRUb1ByaW50LmZyb250Q292ZXIsXG4gICAgICAgIGJhY2tfY292ZXI6IGNhcmRUb1ByaW50LmJhY2tDb3ZlcixcbiAgICAgICAgbGVmdF9wYWdlOiBjYXJkVG9QcmludC5sZWZ0UGFnZSxcbiAgICAgICAgcmlnaHRfcGFnZTogY2FyZFRvUHJpbnQucmlnaHRQYWdlLFxuICAgICAgICBjYXJkX25hbWU6IChjYXJkVG9QcmludC5wcm9tcHQgfHwgJ0N1c3RvbSBDYXJkJykuc3Vic3RyaW5nKDAsIDUwKSArICgoY2FyZFRvUHJpbnQucHJvbXB0IHx8ICcnKS5sZW5ndGggPiA1MCA/ICcuLi4nIDogJycpLFxuICAgICAgICBwYXBlcl9zaXplOiBzZWxlY3RlZFBhcGVyU2l6ZSxcbiAgICAgICAgaXNfZnJvbnRfYmFja19vbmx5OiBpc0Zyb250QmFja09ubHksXG4gICAgICAgIGNvcGllczogMSxcbiAgICAgICAgY29sb3JfbW9kZTogJ2NvbG9yJyxcbiAgICAgICAgcXVhbGl0eTogJ2hpZ2gnXG4gICAgICB9O1xuXG4gICAgICBjb25zb2xlLmxvZygnUHJpbnQgZGF0YTonLCB7IHByaW50T3B0aW9uLCB1c2VyRW1haWwsIGNhcmREYXRhIH0pO1xuXG4gICAgICBpZiAocHJpbnRPcHRpb24gPT09ICdlbWFpbCcpIHtcbiAgICAgICAgLy8gU2VuZCBQREYgdG8gZW1haWxcbiAgICAgICAgY29uc3QgZW1haWxEYXRhID0ge1xuICAgICAgICAgIC4uLmNhcmREYXRhLFxuICAgICAgICAgIHVzZXJfZW1haWw6IHVzZXJFbWFpbC50cmltKCksXG4gICAgICAgICAgc2VuZF9wZGY6IHRydWVcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zb2xlLmxvZygnU2VuZGluZyBlbWFpbCBkYXRhOicsIGVtYWlsRGF0YSk7XG5cbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnL2FwaS9zZW5kLXBkZi1lbWFpbCcsIHtcbiAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoZW1haWxEYXRhKSxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc29sZS5sb2coJ0VtYWlsIHJlc3BvbnNlIHN0YXR1czonLCByZXNwb25zZS5zdGF0dXMpO1xuXG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICBjb25zdCBlcnJvclRleHQgPSBhd2FpdCByZXNwb25zZS50ZXh0KCk7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignRW1haWwgcmVzcG9uc2UgZXJyb3I6JywgZXJyb3JUZXh0KTtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEhUVFAgJHtyZXNwb25zZS5zdGF0dXN9OiAke2Vycm9yVGV4dH1gKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgY29uc29sZS5sb2coJ0VtYWlsIHJlc3BvbnNlIHJlc3VsdDonLCByZXN1bHQpO1xuICAgICAgICBcbiAgICAgICAgaWYgKHJlc3VsdC5zdGF0dXMgPT09ICdzdWNjZXNzJykge1xuICAgICAgICAgIHRvYXN0LnN1Y2Nlc3MoYPCfk6cgUERGIHNlbnQgdG8gJHt1c2VyRW1haWx9ISBDaGVjayB5b3VyIGluYm94LmApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihyZXN1bHQuZXJyb3IgfHwgJ0ZhaWxlZCB0byBzZW5kIFBERicpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBQaHlzaWNhbCBwcmludGluZ1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCcvYXBpL3ByaW50LXF1ZXVlJywge1xuICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgfSxcbiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShjYXJkRGF0YSksXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEhUVFAgJHtyZXNwb25zZS5zdGF0dXN9YCk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgIFxuICAgICAgICBpZiAocmVzdWx0LnN0YXR1cyA9PT0gJ3F1ZXVlZCcpIHtcbiAgICAgICAgICBjb25zdCBjYXJkVHlwZSA9IGlzRnJvbnRCYWNrT25seSA/ICdGcm9udC9CYWNrIGNhcmQnIDogJ0Z1bGwgZHVwbGV4IGNhcmQnO1xuICAgICAgICAgIGNvbnN0IGR1cGxleEluZm8gPSByZXN1bHQuZHVwbGV4ID8gJyAoZHVwbGV4IGVuYWJsZWQpJyA6ICcgKHNpbmdsZS1zaWRlZCknO1xuICAgICAgICAgIHRvYXN0LnN1Y2Nlc3MoYPCflqjvuI8gWW91ciBjYXJkIGlzIG5vdyBwcmludGluZyEgWW91IGNhbiBwaWNrIGl0IHVwIHNob3J0bHkuYCk7XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gUG9sbCBmb3Igam9iIHN0YXR1c1xuICAgICAgICAgIGxldCBwb2xsQ291bnQgPSAwO1xuICAgICAgICAgIGNvbnN0IG1heFBvbGxzID0gNjsgLy8gUG9sbCBmb3IgdXAgdG8gNjAgc2Vjb25kc1xuICAgICAgICAgIFxuICAgICAgICAgIGNvbnN0IHBvbGxTdGF0dXMgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBjb25zdCBzdGF0dXNSZXNwb25zZSA9IGF3YWl0IGZldGNoKGAvYXBpL3ByaW50LXN0YXR1cy8ke3Jlc3VsdC5qb2JfaWR9YCk7XG4gICAgICAgICAgICAgIGlmIChzdGF0dXNSZXNwb25zZS5vaykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0YXR1c1Jlc3VsdCA9IGF3YWl0IHN0YXR1c1Jlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgICAgICAgICBpZiAoc3RhdHVzUmVzdWx0LnN0YXR1cyA9PT0gJ2ZvdW5kJykge1xuICAgICAgICAgICAgICAgICAgaWYgKHN0YXR1c1Jlc3VsdC5qb2Iuc3RhdHVzID09PSAnY29tcGxldGVkJykge1xuICAgICAgICAgICAgICAgICAgICB0b2FzdC5zdWNjZXNzKFwi4pyFIFlvdXIgY2FyZCBoYXMgYmVlbiBhZGRlZCB0byB0aGUgcHJpbnQgcXVldWUgYW5kIHNob3VsZCBiZSBhdmFpbGFibGUgZm9yIHBpY2t1cCBzaG9ydGx5LlwiKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChzdGF0dXNSZXN1bHQuam9iLnN0YXR1cyA9PT0gJ2ZhaWxlZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgdG9hc3QuZXJyb3IoXCLinYwgVGhlcmUgd2FzIGFuIGlzc3VlIHdpdGggcHJpbnRpbmcuIFBsZWFzZSB0cnkgYWdhaW4gb3IgY29udGFjdCB1cyBmb3IgaGVscC5cIik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoc3RhdHVzUmVzdWx0LmpvYi5zdGF0dXMgPT09ICdwZW5kaW5nJyAmJiBwb2xsQ291bnQgPCBtYXhQb2xscykge1xuICAgICAgICAgICAgICAgICAgICAvLyBTdGlsbCBwZW5kaW5nLCBwb2xsIGFnYWluXG4gICAgICAgICAgICAgICAgICAgIHBvbGxDb3VudCsrO1xuICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KHBvbGxTdGF0dXMsIDEwMDAwKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiQ291bGQgbm90IGNoZWNrIHByaW50IHN0YXR1czpcIiwgZXJyb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH07XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gU3RhcnQgcG9sbGluZyBhZnRlciAxMCBzZWNvbmRzXG4gICAgICAgICAgc2V0VGltZW91dChwb2xsU3RhdHVzLCAxMDAwMCk7XG4gICAgICAgICAgXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHJlc3VsdC5lcnJvciB8fCAnVW5rbm93biBlcnJvcicpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1ByaW50L0VtYWlsIGVycm9yOicsIGVycm9yKTtcbiAgICAgIHRvYXN0LmVycm9yKHByaW50T3B0aW9uID09PSAnZW1haWwnID8gXCJGYWlsZWQgdG8gc2VuZCBQREYgZW1haWxcIiA6IFwiRmFpbGVkIHRvIHF1ZXVlIHByaW50IGpvYlwiKTtcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cIm1pbi1oLXNjcmVlbiBiZy1ncmFkaWVudC10by1iciBmcm9tLXNsYXRlLTUwIHZpYS1ibHVlLTUwIHRvLWN5YW4tNTAgZGFyazpmcm9tLWdyYXktOTAwIGRhcms6dmlhLXNsYXRlLTgwMCBkYXJrOnRvLWdyYXktODAwXCI+XG4gICAgICA8Q3JpdGljYWxSZXNvdXJjZVByZWxvYWRlciAvPlxuICAgICAgPEVhcmx5Q2FyZFByZWxvYWRlciAvPlxuICAgICAgey8qIFNpbXBsaWZpZWQgSGVhZGVyICovfVxuICAgICAgPGhlYWRlciBjbGFzc05hbWU9XCJib3JkZXItYiBiZy13aGl0ZS84MCBkYXJrOmJnLWdyYXktOTAwLzgwIGJhY2tkcm9wLWJsdXItc20gc3RpY2t5IHRvcC0wIHotNTBcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXIgbXgtYXV0byBweC00IHB5LTNcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlblwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBzcGFjZS14LTNcIj5cbiAgICAgICAgICAgICAgPExpbmsgaHJlZj1cIi9cIj5cbiAgICAgICAgICAgICAgICA8QnV0dG9uIHZhcmlhbnQ9XCJnaG9zdFwiIHNpemU9XCJzbVwiIGNsYXNzTmFtZT1cImdhcC0yXCI+XG4gICAgICAgICAgICAgICAgICA8QXJyb3dMZWZ0IGNsYXNzTmFtZT1cInctNCBoLTRcIiAvPlxuICAgICAgICAgICAgICAgICAgQmFja1xuICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICA8L0xpbms+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgc3BhY2UteC0yXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTggaC04IGJnLWdyYWRpZW50LXRvLWJyIGZyb20tYmx1ZS01MDAgdG8tY3lhbi02MDAgcm91bmRlZC1sZyBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgPFNwYXJrbGVzIGNsYXNzTmFtZT1cInctNSBoLTUgdGV4dC13aGl0ZVwiIC8+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgIDxoMSBjbGFzc05hbWU9XCJ0ZXh0LWxnIGZvbnQtYm9sZCB0ZXh0LWdyYXktOTAwIGRhcms6dGV4dC13aGl0ZVwiPlxuICAgICAgICAgICAgICAgICAgICBWaWJlQ2FyZGluZ1xuICAgICAgICAgICAgICAgICAgPC9oMT5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDxMaW5rIGhyZWY9XCIvZ2FsbGVyeVwiPlxuICAgICAgICAgICAgICAgIDxCdXR0b24gdmFyaWFudD1cImdob3N0XCIgc2l6ZT1cInNtXCIgY2xhc3NOYW1lPVwiZ2FwLTIgdGV4dC1ncmF5LTYwMCBob3Zlcjp0ZXh0LWdyYXktOTAwIGRhcms6dGV4dC1ncmF5LTQwMCBkYXJrOmhvdmVyOnRleHQtZ3JheS0xMDBcIj5cbiAgICAgICAgICAgICAgICAgIDxFeWUgY2xhc3NOYW1lPVwidy00IGgtNFwiIC8+XG4gICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJoaWRkZW4gc206aW5saW5lXCI+SW5maW5pdGUgR2FsbGVyeTwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgPC9MaW5rPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICB7LyogU2V0dGluZ3MgTWVudSAqL31cbiAgICAgICAgICAgIDxQb3BvdmVyIG9wZW49e3Nob3dTZXR0aW5nc30gb25PcGVuQ2hhbmdlPXtzZXRTaG93U2V0dGluZ3N9PlxuICAgICAgICAgICAgICA8UG9wb3ZlclRyaWdnZXIgYXNDaGlsZD5cbiAgICAgICAgICAgICAgICA8QnV0dG9uIHZhcmlhbnQ9XCJnaG9zdFwiIHNpemU9XCJzbVwiIGNsYXNzTmFtZT1cImgtOSB3LTkgcC0wXCI+XG4gICAgICAgICAgICAgICAgICA8U2V0dGluZ3MyIGNsYXNzTmFtZT1cImgtNCB3LTRcIiAvPlxuICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwic3Itb25seVwiPlNldHRpbmdzPC9zcGFuPlxuICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICA8L1BvcG92ZXJUcmlnZ2VyPlxuICAgICAgICAgICAgICA8UG9wb3ZlckNvbnRlbnQgY2xhc3NOYW1lPVwidy04MCBwLTBcIiBhbGlnbj1cImVuZFwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicC00IHNwYWNlLXktNFwiPlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTJcIj5cbiAgICAgICAgICAgICAgICAgICAgPGg0IGNsYXNzTmFtZT1cImZvbnQtbWVkaXVtIGxlYWRpbmctbm9uZVwiPlNldHRpbmdzPC9oND5cbiAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LW11dGVkLWZvcmVncm91bmRcIj5cbiAgICAgICAgICAgICAgICAgICAgICBDb25maWd1cmUgeW91ciBjYXJkIGNyZWF0aW9uIHByZWZlcmVuY2VzXG4gICAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICB7LyogVGhlbWUgVG9nZ2xlICovfVxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW5cIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTAuNVwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1zbSBmb250LW1lZGl1bVwiPlRoZW1lPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtbXV0ZWQtZm9yZWdyb3VuZFwiPlN3aXRjaCBiZXR3ZWVuIGxpZ2h0IGFuZCBkYXJrIG1vZGU8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxNb2RlVG9nZ2xlIC8+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgPFNlcGFyYXRvciAvPlxuICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICB7LyogQWR2YW5jZWQgT3B0aW9ucyBUb2dnbGUgKi99XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktM1wiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlblwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0wLjVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1zbSBmb250LW1lZGl1bVwiPkFkdmFuY2VkIE9wdGlvbnM8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LW11dGVkLWZvcmVncm91bmRcIj5TaG93IGFkZGl0aW9uYWwgY2FyZCBzZXR0aW5nczwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhcmlhbnQ9XCJvdXRsaW5lXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpemU9XCJzbVwiXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRTaG93QWR2YW5jZWQoIXNob3dBZHZhbmNlZCl9XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJoLThcIlxuICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtzaG93QWR2YW5jZWQgPyBcIkhpZGVcIiA6IFwiU2hvd1wifVxuICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L1BvcG92ZXJDb250ZW50PlxuICAgICAgICAgICAgPC9Qb3BvdmVyPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvaGVhZGVyPlxuXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhaW5lciBteC1hdXRvIHB4LTQgcHktNiBtYXgtdy0yeGxcIj5cbiAgICAgICAgey8qIE1haW4gRm9ybSAqL31cbiAgICAgICAgPENhcmQgY2xhc3NOYW1lPVwic2hhZG93LWxnIG1iLTZcIj5cbiAgICAgICAgICAgICAgPENhcmRIZWFkZXIgY2xhc3NOYW1lPVwiYmctZ3JhZGllbnQtdG8tciBmcm9tLWJsdWUtNTAgdG8tY3lhbi01MCBkYXJrOmZyb20tYmx1ZS05MDAvMjAgZGFyazp0by1jeWFuLTkwMC8yMCByb3VuZGVkLXQtbGdcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktM1wiPlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW5cIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtM1wiPlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0xMCBoLTEwIGJnLWdyYWRpZW50LXRvLWJyIGZyb20tYmx1ZS01MDAgdG8tY3lhbi02MDAgcm91bmRlZC1sZyBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBzaGFkb3ctbGdcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxTcGFya2xlcyBjbGFzc05hbWU9XCJ3LTYgaC02IHRleHQtd2hpdGVcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8Q2FyZFRpdGxlIGNsYXNzTmFtZT1cInRleHQteGwgc206dGV4dC0yeGwgZm9udC1ib2xkIGJnLWdyYWRpZW50LXRvLXIgZnJvbS1ibHVlLTYwMCB0by1jeWFuLTYwMCBiZy1jbGlwLXRleHQgdGV4dC10cmFuc3BhcmVudCB3aGl0ZXNwYWNlLW5vd3JhcFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICBDcmVhdGUgWW91ciBDYXJkXG4gICAgICAgICAgICAgICAgICAgICAgICA8L0NhcmRUaXRsZT5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIHsocHJvbXB0IHx8IHRvRmllbGQgfHwgZnJvbUZpZWxkIHx8IGdlbmVyYXRlZENhcmRzLmxlbmd0aCA+IDApICYmIChcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1ncmVlbi02MDAgZGFyazp0ZXh0LWdyZWVuLTQwMCBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPENsb2NrIGNsYXNzTmFtZT1cInctMyBoLTNcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiaGlkZGVuIHNtOmlubGluZVwiPkF1dG8tc2F2ZWQ8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJzbTpoaWRkZW5cIj5TYXZlZDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICB2YXJpYW50PVwib3V0bGluZVwiXG4gICAgICAgICAgICAgICAgICAgIHNpemU9XCJzbVwiXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICBzZXRTaG93VGVtcGxhdGVHYWxsZXJ5KHRydWUpO1xuICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgc206dy1hdXRvIGdhcC0yIGJnLXdoaXRlIGRhcms6YmctZ3JheS04MDAgaG92ZXI6YmctZ3JheS01MCBkYXJrOmhvdmVyOmJnLWdyYXktNzAwIGJvcmRlci1ncmF5LTIwMCBkYXJrOmJvcmRlci1ncmF5LTcwMFwiXG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIDxFeWUgY2xhc3NOYW1lPVwidy00IGgtNFwiIC8+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuPkJyb3dzZSBUZW1wbGF0ZXM8L3NwYW4+XG4gICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9DYXJkSGVhZGVyPlxuICAgICAgICAgICAgICA8Q2FyZENvbnRlbnQgY2xhc3NOYW1lPVwic3BhY2UteS02IHB0LTZcIj5cbiAgICAgICAgICAgIHsvKiBDYXJkIFR5cGUgKi99XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTNcIj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTEuNSBoLTggYmctZ3JhZGllbnQtdG8tYiBmcm9tLWJsdWUtNTAwIHRvLWN5YW4tNTAwIHJvdW5kZWQtZnVsbFwiIC8+XG4gICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJ0ZXh0LWJhc2UgZm9udC1zZW1pYm9sZCB0ZXh0LWdyYXktODAwIGRhcms6dGV4dC1ncmF5LTIwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgIENhcmQgVHlwZVxuICAgICAgICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8U2VsZWN0IHZhbHVlPXtzZWxlY3RlZFR5cGV9IG9uVmFsdWVDaGFuZ2U9e3NldFNlbGVjdGVkVHlwZX0+XG4gICAgICAgICAgICAgICAgICAgIDxTZWxlY3RUcmlnZ2VyIGNsYXNzTmFtZT1cImgtMTIgYm9yZGVyLTIgaG92ZXI6Ym9yZGVyLWJsdWUtMzAwIGRhcms6aG92ZXI6Ym9yZGVyLWJsdWUtNzAwIHRyYW5zaXRpb24tY29sb3JzXCI+XG4gICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdFZhbHVlPlxuICAgICAgICAgICAgICAgICAgICAgICAgeygoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNlbGVjdGVkID0gY2FyZFR5cGVzLmZpbmQoKHR5cGUpID0+IHR5cGUuaWQgPT09IHNlbGVjdGVkVHlwZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghc2VsZWN0ZWQpIHJldHVybiA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNDAwXCI+Q2hvb3NlIGNhcmQgdHlwZTwvc3Bhbj47XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IEljb25Db21wb25lbnQgPSBzZWxlY3RlZC5pY29uO1xuICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy02IGgtNiBiZy1ncmFkaWVudC10by1iciBmcm9tLWJsdWUtMTAwIHRvLWN5YW4tMTAwIGRhcms6ZnJvbS1ibHVlLTkwMCBkYXJrOnRvLWN5YW4tOTAwIHJvdW5kZWQtbGcgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEljb25Db21wb25lbnQgY2xhc3NOYW1lPVwidy00IGgtNCB0ZXh0LWJsdWUtNjAwIGRhcms6dGV4dC1ibHVlLTQwMFwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImZvbnQtbWVkaXVtIHRleHQtZ3JheS05MDAgZGFyazp0ZXh0LWdyYXktMTAwXCI+e3NlbGVjdGVkLmxhYmVsfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pKCl9XG4gICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3RWYWx1ZT5cbiAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3RUcmlnZ2VyPlxuICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Q29udGVudCBjbGFzc05hbWU9XCJtYXgtaC1bNDAwcHhdXCI+XG4gICAgICAgICAgICAgICAgICAgICAge2NhcmRUeXBlcy5tYXAoKHR5cGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IEljb25Db21wb25lbnQgPSB0eXBlLmljb247XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0SXRlbSBrZXk9e3R5cGUuaWR9IHZhbHVlPXt0eXBlLmlkfSBjbGFzc05hbWU9XCJjdXJzb3ItcG9pbnRlciBob3ZlcjpiZy1ibHVlLTUwIGRhcms6aG92ZXI6YmctYmx1ZS05MDAvMjBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0zIHB5LTFcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy04IGgtOCBiZy1ncmFkaWVudC10by1iciBmcm9tLWdyYXktMTAwIHRvLWdyYXktMjAwIGRhcms6ZnJvbS1ncmF5LTgwMCBkYXJrOnRvLWdyYXktNzAwIHJvdW5kZWQtbGcgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEljb25Db21wb25lbnQgY2xhc3NOYW1lPVwidy00IGgtNCB0ZXh0LWdyYXktNzAwIGRhcms6dGV4dC1ncmF5LTMwMFwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC0xXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZCB0ZXh0LWdyYXktOTAwIGRhcms6dGV4dC1ncmF5LTEwMFwiPnt0eXBlLmxhYmVsfTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1ncmF5LTYwMCBkYXJrOnRleHQtZ3JheS00MDBcIj57dHlwZS5kZXNjcmlwdGlvbn08L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdEl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdENvbnRlbnQ+XG4gICAgICAgICAgICAgICAgICA8L1NlbGVjdD5cbiAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgey8qIEN1c3RvbSBDYXJkIFR5cGUgSW5wdXQgKi99XG4gICAgICAgICAgICAgICAgICB7c2VsZWN0ZWRUeXBlID09PSBcImN1c3RvbVwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC00IHAtNCBiZy1wdXJwbGUtNTAgZGFyazpiZy1wdXJwbGUtOTAwLzIwIHJvdW5kZWQtbGcgYm9yZGVyIGJvcmRlci1wdXJwbGUtMjAwIGRhcms6Ym9yZGVyLXB1cnBsZS04MDAgYW5pbWF0ZS1pbiBzbGlkZS1pbi1mcm9tLXRvcC0yIGR1cmF0aW9uLTMwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJ0ZXh0LXNtIGZvbnQtc2VtaWJvbGQgdGV4dC1wdXJwbGUtOTAwIGRhcms6dGV4dC1wdXJwbGUtMTAwIG1iLTMgYmxvY2sgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxXcmVuY2ggY2xhc3NOYW1lPVwidy00IGgtNFwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICBEZXNjcmliZSBZb3VyIEN1c3RvbSBDYXJkIFR5cGVcbiAgICAgICAgICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCLinKggRS5nLiwgJ1Byb21vdGlvbiBhdCB3b3JrJywgJ01vdmluZyBhd2F5JywgJ0ZpcnN0IGRheSBvZiBzY2hvb2wnXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXtjdXN0b21DYXJkVHlwZX1cbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0Q3VzdG9tQ2FyZFR5cGUoZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiaC0xMiBib3JkZXItMiBib3JkZXItcHVycGxlLTMwMCBkYXJrOmJvcmRlci1wdXJwbGUtNzAwIGZvY3VzOmJvcmRlci1wdXJwbGUtNTAwIGRhcms6Zm9jdXM6Ym9yZGVyLXB1cnBsZS01MDBcIlxuICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgZm9udFNpemU6ICcxNnB4JyB9fVxuICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LXB1cnBsZS03MDAgZGFyazp0ZXh0LXB1cnBsZS0zMDAgbXQtMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgV2hhdCB0eXBlIG9mIGNhcmQgaXMgdGhpcz8gVGhpcyBoZWxwcyBwZXJzb25hbGl6ZSB0aGUgbWVzc2FnZSBhbmQgc3R5bGUuXG4gICAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgIHsvKiBDYXJkIFRvbmUgKi99XG4gICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwidGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWdyYXktNzAwIGRhcms6dGV4dC1ncmF5LTMwMCBtYi0yIGJsb2NrXCI+XG4gICAgICAgICAgICAgICAgQ2FyZCBUb25lICYgU3R5bGVcbiAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgICAgPFNlbGVjdCB2YWx1ZT17c2VsZWN0ZWRUb25lfSBvblZhbHVlQ2hhbmdlPXtzZXRTZWxlY3RlZFRvbmV9PlxuICAgICAgICAgICAgICAgIDxTZWxlY3RUcmlnZ2VyPlxuICAgICAgICAgICAgICAgICAgPFNlbGVjdFZhbHVlPlxuICAgICAgICAgICAgICAgICAgICB7KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzZWxlY3RlZCA9IGNhcmRUb25lcy5maW5kKCh0b25lKSA9PiB0b25lLmlkID09PSBzZWxlY3RlZFRvbmUpO1xuICAgICAgICAgICAgICAgICAgICAgIGlmICghc2VsZWN0ZWQpIHJldHVybiA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNDAwXCI+Q2hvb3NlIGNhcmQgdG9uZTwvc3Bhbj47XG4gICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZm9udC1tZWRpdW1cIj57c2VsZWN0ZWQubGFiZWx9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgfSkoKX1cbiAgICAgICAgICAgICAgICAgIDwvU2VsZWN0VmFsdWU+XG4gICAgICAgICAgICAgICAgPC9TZWxlY3RUcmlnZ2VyPlxuICAgICAgICAgICAgICAgIDxTZWxlY3RDb250ZW50PlxuICAgICAgICAgICAgICAgICAge2NhcmRUb25lcy5tYXAoKHRvbmUpID0+IChcbiAgICAgICAgICAgICAgICAgICAgPFNlbGVjdEl0ZW0ga2V5PXt0b25lLmlkfSB2YWx1ZT17dG9uZS5pZH0+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZm9udC1tZWRpdW1cIj57dG9uZS5sYWJlbH08L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LW11dGVkLWZvcmVncm91bmRcIj57dG9uZS5kZXNjcmlwdGlvbn08L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3RJdGVtPlxuICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgPC9TZWxlY3RDb250ZW50PlxuICAgICAgICAgICAgICA8L1NlbGVjdD5cbiAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICB7LyogQXJ0aXN0aWMgU3R5bGUgU2VsZWN0aW9uICovfVxuICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cInRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1ncmF5LTcwMCBkYXJrOnRleHQtZ3JheS0zMDAgbWItMiBibG9ja1wiPlxuICAgICAgICAgICAgICAgIEFydGlzdGljIFN0eWxlXG4gICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgIDxTZWxlY3QgdmFsdWU9e3NlbGVjdGVkQXJ0aXN0aWNTdHlsZX0gb25WYWx1ZUNoYW5nZT17c2V0U2VsZWN0ZWRBcnRpc3RpY1N0eWxlfT5cbiAgICAgICAgICAgICAgICA8U2VsZWN0VHJpZ2dlcj5cbiAgICAgICAgICAgICAgICAgIDxTZWxlY3RWYWx1ZSBwbGFjZWhvbGRlcj1cIkNob29zZSBhcnRpc3RpYyBzdHlsZVwiIC8+XG4gICAgICAgICAgICAgICAgPC9TZWxlY3RUcmlnZ2VyPlxuICAgICAgICAgICAgICAgIDxTZWxlY3RDb250ZW50PlxuICAgICAgICAgICAgICAgICAge2FydGlzdGljU3R5bGVzLm1hcCgoc3R5bGUpID0+IChcbiAgICAgICAgICAgICAgICAgICAgPFNlbGVjdEl0ZW0ga2V5PXtzdHlsZS5pZH0gdmFsdWU9e3N0eWxlLmlkfT5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtbGVmdCB3LWZ1bGxcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZm9udC1tZWRpdW1cIj57c3R5bGUubGFiZWx9PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1tdXRlZC1mb3JlZ3JvdW5kXCI+e3N0eWxlLmRlc2NyaXB0aW9ufTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdEl0ZW0+XG4gICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICA8L1NlbGVjdENvbnRlbnQ+XG4gICAgICAgICAgICAgIDwvU2VsZWN0PlxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICB7LyogQ3VzdG9tIFN0eWxlIERlc2NyaXB0aW9uICovfVxuICAgICAgICAgICAgICB7c2VsZWN0ZWRBcnRpc3RpY1N0eWxlID09PSBcImN1c3RvbVwiICYmIChcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTNcIj5cbiAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJ0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZ3JheS03MDAgZGFyazp0ZXh0LWdyYXktMzAwIG1iLTIgYmxvY2tcIj5cbiAgICAgICAgICAgICAgICAgICAgRGVzY3JpYmUgWW91ciBDdXN0b20gU3R5bGVcbiAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICA8VGV4dGFyZWFcbiAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJlLmcuLCBpbiB2aW50YWdlIDE5MjBzIGFydCBkZWNvIHN0eWxlIHdpdGggZ29sZCBhY2NlbnRzIGFuZCBnZW9tZXRyaWMgcGF0dGVybnMuLi5cIlxuICAgICAgICAgICAgICAgICAgICB2YWx1ZT17Y3VzdG9tU3R5bGVEZXNjcmlwdGlvbn1cbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRDdXN0b21TdHlsZURlc2NyaXB0aW9uKGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgICAgICAgICAgcm93cz17M31cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicmVzaXplLW5vbmVcIlxuICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBmb250U2l6ZTogJzE2cHgnIH19XG4gICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LWdyYXktNTAwIGRhcms6dGV4dC1ncmF5LTQwMCBtdC0xXCI+XG4gICAgICAgICAgICAgICAgICAgIERlc2NyaWJlIHRoZSBhcnRpc3RpYyBzdHlsZSB5b3Ugd2FudCBmb3IgeW91ciBjYXJkIChjb2xvcnMsIHRlY2huaXF1ZXMsIGVyYSwgbW9vZCwgZXRjLilcbiAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICB7LyogVG8vRnJvbSBGaWVsZHMgKi99XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgZ3JpZC1jb2xzLTIgZ2FwLTNcIj5cbiAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cInRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1ncmF5LTcwMCBkYXJrOnRleHQtZ3JheS0zMDAgbWItMiBibG9ja1wiPlxuICAgICAgICAgICAgICAgICAgVG9cbiAgICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIvCfjq8gVG9cIlxuICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXt0b0ZpZWxkfVxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0VG9GaWVsZChlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgZm9udFNpemU6ICcxNnB4JyB9fVxuICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJ0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZ3JheS03MDAgZGFyazp0ZXh0LWdyYXktMzAwIG1iLTIgYmxvY2tcIj5cbiAgICAgICAgICAgICAgICAgIEZyb21cbiAgICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIvCfk50gRnJvbVwiXG4gICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e2Zyb21GaWVsZH1cbiAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldEZyb21GaWVsZChlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgZm9udFNpemU6ICcxNnB4JyB9fVxuICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgIHsvKiBVc2VyIEVtYWlsIEZpZWxkICovfVxuICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cInRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1ncmF5LTcwMCBkYXJrOnRleHQtZ3JheS0zMDAgbWItMiBibG9ja1wiPlxuICAgICAgICAgICAgICAgIFlvdXIgRW1haWwgKFJlcXVpcmVkKVxuICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICB0eXBlPVwiZW1haWxcIlxuICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwi8J+TpyB5b3VyLmVtYWlsQGV4YW1wbGUuY29tICh3ZSdsbCBzZW5kIHlvdSB0aGUgY2FyZCEpXCJcbiAgICAgICAgICAgICAgICByZXF1aXJlZFxuICAgICAgICAgICAgICAgIHZhbHVlPXt1c2VyRW1haWx9XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRVc2VyRW1haWwoZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgICAgIHN0eWxlPXt7IGZvbnRTaXplOiAnMTZweCcgfX1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LWdyYXktNTAwIGRhcms6dGV4dC1ncmF5LTQwMCBtdC0xXCI+XG4gICAgICAgICAgICAgICAgUmVxdWlyZWQgdG8gZ2VuZXJhdGUgeW91ciBjYXJkLiBXZSdsbCBzZW5kIHlvdSBhIHRoYW5rIHlvdSBub3RlIHdoZW4gaXQncyByZWFkeSFcbiAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgIHsvKiBNYWluIERlc2NyaXB0aW9uICovfVxuICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiBtYi0yXCI+XG4gICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJ0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZ3JheS03MDAgZGFyazp0ZXh0LWdyYXktMzAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgRGVzY3JpYmUgWW91ciBDYXJkIChPcHRpb25hbClcbiAgICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgIHZhcmlhbnQ9XCJnaG9zdFwiXG4gICAgICAgICAgICAgICAgICAgICAgc2l6ZT1cInNtXCJcbiAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRJc1RleHRhcmVhRXhwYW5kZWQoIWlzVGV4dGFyZWFFeHBhbmRlZCl9XG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZ2FwLTEgdGV4dC14cyB0ZXh0LWdyYXktNTAwIGhvdmVyOnRleHQtZ3JheS03MDAgZGFyazp0ZXh0LWdyYXktNDAwIGRhcms6aG92ZXI6dGV4dC1ncmF5LTMwMFwiXG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICB7aXNUZXh0YXJlYUV4cGFuZGVkID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZXZyb25Eb3duIGNsYXNzTmFtZT1cInctMyBoLTNcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICBDb2xsYXBzZVxuICAgICAgICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGV2cm9uRG93biBjbGFzc05hbWU9XCJ3LTMgaC0zIHJvdGF0ZS0xODBcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICBFeHBhbmRcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDxUZXh0YXJlYVxuICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwi8J+SoSBPcHRpb25hbDogQmUgc3BlY2lmaWMhIEUuZy4sICdCaXJ0aGRheSBjYXJkIHdpdGggY3V0ZSBjYXRzIGFuZCByYWluYm93IGNvbG9ycyBmb3IgbXkgc2lzdGVyIHdobyBsb3ZlcyBhbmltZScgKG9yIGxlYXZlIGJsYW5rIGZvciBhIGJlYXV0aWZ1bCBkZWZhdWx0IGRlc2lnbilcIlxuICAgICAgICAgICAgICAgIHZhbHVlPXtwcm9tcHR9XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRQcm9tcHQoZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgICAgIHJvd3M9e2lzVGV4dGFyZWFFeHBhbmRlZCA/IDggOiA1fVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17aXNUZXh0YXJlYUV4cGFuZGVkID8gXCJyZXNpemUteVwiIDogXCJyZXNpemUtbm9uZVwifVxuICAgICAgICAgICAgICAgIHN0eWxlPXt7IGZvbnRTaXplOiAnMTZweCcgfX1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LWdyYXktNTAwIGRhcms6dGV4dC1ncmF5LTQwMCBtdC0xXCI+XG4gICAgICAgICAgICAgICAg8J+SoSA8c3Ryb25nPlRpcDo8L3N0cm9uZz4gQWRkIGRldGFpbHMgbGlrZSBjb2xvcnMsIHN0eWxlLCByZWNpcGllbnQncyBpbnRlcmVzdHMsIGFuZCBzcGVjaWZpYyB0aGVtZXMgZm9yIHBlcnNvbmFsaXplZCByZXN1bHRzLCBvciBsZWF2ZSBibGFuayBmb3IgYSBiZWF1dGlmdWwgZGVmYXVsdCBjYXJkIVxuICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgIHsvKiBNZXNzYWdlIFNlY3Rpb24gKi99XG4gICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gbWItMlwiPlxuICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJ0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZ3JheS03MDAgZGFyazp0ZXh0LWdyYXktMzAwXCI+XG4gICAgICAgICAgICAgICAgICBDYXJkIE1lc3NhZ2VcbiAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxuICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICB2YXJpYW50PVwiZ2hvc3RcIlxuICAgICAgICAgICAgICAgICAgICBzaXplPVwic21cIlxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRJc01lc3NhZ2VFeHBhbmRlZCghaXNNZXNzYWdlRXhwYW5kZWQpfVxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJnYXAtMSB0ZXh0LXhzIHRleHQtZ3JheS01MDAgaG92ZXI6dGV4dC1ncmF5LTcwMCBkYXJrOnRleHQtZ3JheS00MDAgZGFyazpob3Zlcjp0ZXh0LWdyYXktMzAwXCJcbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAge2lzTWVzc2FnZUV4cGFuZGVkID8gKFxuICAgICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAgICA8Q2hldnJvbkRvd24gY2xhc3NOYW1lPVwidy0zIGgtM1wiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICBDb2xsYXBzZVxuICAgICAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAgICA8Q2hldnJvbkRvd24gY2xhc3NOYW1lPVwidy0zIGgtMyByb3RhdGUtMTgwXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIEV4cGFuZFxuICAgICAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgIHZhcmlhbnQ9XCJnaG9zdFwiXG4gICAgICAgICAgICAgICAgICAgIHNpemU9XCJzbVwiXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZUdldE1lc3NhZ2VIZWxwfVxuICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17aXNHZW5lcmF0aW5nTWVzc2FnZSB8fCBpc0hhbmR3cml0dGVuTWVzc2FnZX1cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZ2FwLTEgdGV4dC14c1wiXG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIDxNZXNzYWdlU3F1YXJlUGx1cyBjbGFzc05hbWU9XCJ3LTMgaC0zXCIgLz5cbiAgICAgICAgICAgICAgICAgICAge2lzR2VuZXJhdGluZ01lc3NhZ2UgPyBcIldyaXRpbmcuLi5cIiA6IFwiSGVscCBtZSB3cml0ZVwifVxuICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPFRleHRhcmVhXG4gICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e2lzSGFuZHdyaXR0ZW5NZXNzYWdlID8gXCLinI3vuI8gTGVhdmUgYmxhbmsgLSB5b3UnbGwgaGFuZHdyaXRlIHlvdXIgbWVzc2FnZVwiIDogXCLwn5KdIFlvdXIgcGVyc29uYWwgbWVzc2FnZSBoZXJlLi4uIChvciBjbGljayAnSGVscCBtZSB3cml0ZScgZm9yIEFJIGFzc2lzdGFuY2UpXCJ9XG4gICAgICAgICAgICAgICAgdmFsdWU9e2ZpbmFsQ2FyZE1lc3NhZ2V9XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRGaW5hbENhcmRNZXNzYWdlKGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgICAgICAgICAgcm93cz17aXNNZXNzYWdlRXhwYW5kZWQgPyA4IDogNX1cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtpc01lc3NhZ2VFeHBhbmRlZCA/IFwicmVzaXplLXlcIiA6IFwicmVzaXplLW5vbmVcIn1cbiAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgZm9udFNpemU6ICcxNnB4JyB9fVxuICAgICAgICAgICAgICAgIGRpc2FibGVkPXtpc0hhbmR3cml0dGVuTWVzc2FnZX1cbiAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgIHsvKiBNZXNzYWdlIFZlcnNpb24gQ29udHJvbCBhbmQgUmVmaW5lbWVudCAqL31cbiAgICAgICAgICAgICAgICAgIHtmaW5hbENhcmRNZXNzYWdlLnRyaW0oKSAmJiAoXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtMyBzcGFjZS15LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICB7LyogVmVyc2lvbiBDb250cm9sIEJ1dHRvbnMgKi99XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgZmxleC13cmFwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXJpYW50PVwib3V0bGluZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZT1cInNtXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXt1bmRvTWVzc2FnZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17Y3VycmVudE1lc3NhZ2VJbmRleCA8PSAwfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImdhcC0xIHRleHQteHMgZmxleC1zaHJpbmstMFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VW5kbzIgY2xhc3NOYW1lPVwidy0zIGgtM1wiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiaGlkZGVuIHNtOmlubGluZVwiPlVuZG88L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyaWFudD1cIm91dGxpbmVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU9XCJzbVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17cmVkb01lc3NhZ2V9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2N1cnJlbnRNZXNzYWdlSW5kZXggPj0gbWVzc2FnZUhpc3RvcnkubGVuZ3RoIC0gMX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJnYXAtMSB0ZXh0LXhzIGZsZXgtc2hyaW5rLTBcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFJlZG8yIGNsYXNzTmFtZT1cInctMyBoLTNcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImhpZGRlbiBzbTppbmxpbmVcIj5SZWRvPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhcmlhbnQ9XCJvdXRsaW5lXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplPVwic21cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldFNob3dSZWZpbmVtZW50Qm94KCFzaG93UmVmaW5lbWVudEJveCl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZ2FwLTEgdGV4dC14cyBmbGV4LXNocmluay0wXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxSZWZyZXNoQ3cgY2xhc3NOYW1lPVwidy0zIGgtM1wiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiaGlkZGVuIHNtOmlubGluZVwiPlJlZmluZTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJzbTpoaWRkZW5cIj5FZGl0PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAge21lc3NhZ2VIaXN0b3J5Lmxlbmd0aCA+IDAgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1ncmF5LTUwMCBkYXJrOnRleHQtZ3JheS00MDAgdGV4dC1jZW50ZXIgc206dGV4dC1sZWZ0IHRydW5jYXRlXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiaGlkZGVuIHNtOmlubGluZVwiPlZlcnNpb24ge2N1cnJlbnRNZXNzYWdlSW5kZXggKyAxfSBvZiB7bWVzc2FnZUhpc3RvcnkubGVuZ3RofTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJzbTpoaWRkZW5cIj57Y3VycmVudE1lc3NhZ2VJbmRleCArIDF9L3ttZXNzYWdlSGlzdG9yeS5sZW5ndGh9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICAgICAgICB7LyogUmVmaW5lbWVudCBCb3ggKi99XG4gICAgICAgICAgICAgICAgICAgICAge3Nob3dSZWZpbmVtZW50Qm94ICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYm9yZGVyIHJvdW5kZWQtbGcgcC0zIGJnLWdyYXktNTAgZGFyazpiZy1ncmF5LTgwMC81MFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwidGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWdyYXktNzAwIGRhcms6dGV4dC1ncmF5LTMwMCBtYi0yIGJsb2NrXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgSG93IHdvdWxkIHlvdSBsaWtlIHRvIHJlZmluZSB0aGlzIG1lc3NhZ2U/XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIvCflKcgRS5nLiwgJ01ha2UgaXQgZnVubmllcicsICdBZGQgbWVudGlvbiBvZiB0aGVpciBob2JieScsICdNb3JlIGZvcm1hbCB0b25lJ1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17cmVmaW5lbWVudFByb21wdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0UmVmaW5lbWVudFByb21wdChlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBmb250U2l6ZTogJzE2cHgnIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbktleURvd249eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLmtleSA9PT0gJ0VudGVyJyAmJiAhZS5zaGlmdEtleSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVSZWZpbmVNZXNzYWdlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtZ3JheS01MDAgZGFyazp0ZXh0LWdyYXktNDAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICDwn5OxIDxzdHJvbmc+UXVpY2sgdGlwczo8L3N0cm9uZz4gXCJTaG9ydGVyXCIsIFwiQWRkIGVtb2ppXCIsIFwiTW9yZSBwZXJzb25hbFwiLCBcIkRpZmZlcmVudCB0b25lXCIgd29yayBncmVhdCFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplPVwic21cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVSZWZpbmVNZXNzYWdlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17aXNSZWZpbmluZ01lc3NhZ2UgfHwgIXJlZmluZW1lbnRQcm9tcHQudHJpbSgpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJnYXAtMVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxSZWZyZXNoQ3cgY2xhc3NOYW1lPXtgdy0zIGgtMyAke2lzUmVmaW5pbmdNZXNzYWdlID8gJ2FuaW1hdGUtc3BpbicgOiAnJ31gfSAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7aXNSZWZpbmluZ01lc3NhZ2UgPyBcIlJlZmluaW5nLi4uXCIgOiBcIkFwcGx5IENoYW5nZXNcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXJpYW50PVwiZ2hvc3RcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplPVwic21cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0U2hvd1JlZmluZW1lbnRCb3goZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFJlZmluZW1lbnRQcm9tcHQoXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENhbmNlbFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICB7LyogSGFuZHdyaXR0ZW4gTWVzc2FnZSBPcHRpb24gKi99XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIHNwYWNlLXgtMiBtdC0yXCI+XG4gICAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgICAgaWQ9XCJoYW5kd3JpdHRlbi1tZXNzYWdlXCJcbiAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtpc0hhbmR3cml0dGVuTWVzc2FnZX1cbiAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldElzSGFuZHdyaXR0ZW5NZXNzYWdlKGUudGFyZ2V0LmNoZWNrZWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0LmNoZWNrZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0RmluYWxDYXJkTWVzc2FnZShcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInJvdW5kZWRcIlxuICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICA8bGFiZWwgaHRtbEZvcj1cImhhbmR3cml0dGVuLW1lc3NhZ2VcIiBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtZ3JheS02MDAgZGFyazp0ZXh0LWdyYXktNDAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgTGVhdmUgYmxhbmsgc3BhY2UgZm9yIGhhbmR3cml0dGVuIG1lc3NhZ2VcbiAgICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICB7LyogUmVmZXJlbmNlIFBob3RvIC0gT25seSBhdmFpbGFibGUgZm9yIEdQVC0xIG1vZGVsLCBidXQgc2hvdyBpZiBwaG90b3MgZXhpc3QgKi99XG4gICAgICAgICAgICB7KHNlbGVjdGVkSW1hZ2VNb2RlbCA9PT0gXCJncHQtaW1hZ2UtMVwiIHx8IHJlZmVyZW5jZUltYWdlVXJscy5sZW5ndGggPiAwKSAmJiAoXG4gICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cInRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1ncmF5LTcwMCBkYXJrOnRleHQtZ3JheS0zMDAgbWItMiBibG9ja1wiPlxuICAgICAgICAgICAgICAgICAgUmVmZXJlbmNlIFBob3RvcyAoT3B0aW9uYWwpXG4gICAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICB7LyogQWx3YXlzIHNob3cgZXhpc3RpbmcgcmVmZXJlbmNlIHBob3RvcyBpZiB0aGV5IGV4aXN0ICovfVxuICAgICAgICAgICAgICAgIHtyZWZlcmVuY2VJbWFnZVVybHMubGVuZ3RoID4gMCAmJiAoXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1iLTNcIj5cbiAgICAgICAgICAgICAgICAgICAge3NlbGVjdGVkSW1hZ2VNb2RlbCAhPT0gXCJncHQtaW1hZ2UtMVwiID8gKFxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicC0zIGJnLWFtYmVyLTUwIGRhcms6YmctYW1iZXItOTAwLzIwIGJvcmRlciBib3JkZXItYW1iZXItMjAwIGRhcms6Ym9yZGVyLWFtYmVyLTgwMCByb3VuZGVkLWxnIG1iLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1zdGFydCBnYXAtMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctNSBoLTUgYmctYW1iZXItNTAwIHJvdW5kZWQtZnVsbCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBmbGV4LXNocmluay0wIG10LTAuNVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtd2hpdGUgdGV4dC14c1wiPiE8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1hbWJlci04MDAgZGFyazp0ZXh0LWFtYmVyLTIwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cImZvbnQtbWVkaXVtIG1iLTFcIj5SZWZlcmVuY2UgcGhvdG9zIGRldGVjdGVkIGJ1dCBub3Qgc3VwcG9ydGVkPC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQteHNcIj5Zb3UgaGF2ZSB7cmVmZXJlbmNlSW1hZ2VVcmxzLmxlbmd0aH0gcmVmZXJlbmNlIHBob3Rve3JlZmVyZW5jZUltYWdlVXJscy5sZW5ndGggPiAxID8gJ3MnIDogJyd9IGZyb20gYSBwcmV2aW91cyBzZXNzaW9uLCBidXQgeW91ciBjdXJyZW50IG1vZGVsICh7aW1hZ2VNb2RlbHMuZmluZChtID0+IG0uaWQgPT09IHNlbGVjdGVkSW1hZ2VNb2RlbCk/LmxhYmVsfSkgZG9lc24ndCBzdXBwb3J0IHJlZmVyZW5jZSBwaG90b3MuIFN3aXRjaCB0byBHUFQgSW1hZ2UgMSB0byB1c2UgdGhlbSwgb3IgcmVtb3ZlIHRoZW0gYmVsb3cuPC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWItMyBwLTMgYmctZ3JlZW4tNTAgZGFyazpiZy1ncmVlbi05MDAvMjAgYm9yZGVyIGJvcmRlci1ncmVlbi0yMDAgZGFyazpib3JkZXItZ3JlZW4tODAwIHJvdW5kZWQtbGdcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1zdGFydCBnYXAtMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctNSBoLTUgYmctZ3JlZW4tNTAwIHJvdW5kZWQtZnVsbCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBmbGV4LXNocmluay0wIG10LTAuNVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtd2hpdGUgdGV4dC14c1wiPuKckzwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LWdyZWVuLTgwMCBkYXJrOnRleHQtZ3JlZW4tMjAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwiZm9udC1tZWRpdW0gbWItMVwiPlJlZmVyZW5jZSBwaG90b3MgcmVhZHk8L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC14c1wiPntyZWZlcmVuY2VJbWFnZVVybHMubGVuZ3RofSByZWZlcmVuY2UgcGhvdG97cmVmZXJlbmNlSW1hZ2VVcmxzLmxlbmd0aCA+IDEgPyAncycgOiAnJ30gd2lsbCBiZSB1c2VkIHRvIGNyZWF0ZSBjYXJ0b29uIGNoYXJhY3RlcnMgdGhhdCBsb29rIGxpa2UgdGhlIHBlb3BsZSBpbiB5b3VyIHBob3Rvcy48L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICB7LyogRGlzcGxheSBleGlzdGluZyByZWZlcmVuY2UgcGhvdG9zIHByb21pbmVudGx5ICovfVxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktMiBtYi0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW5cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWdyYXktNzAwIGRhcms6dGV4dC1ncmF5LTMwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICDwn5O4IFlvdXIgUmVmZXJlbmNlIFBob3RvcyAoe3JlZmVyZW5jZUltYWdlVXJscy5sZW5ndGh9KVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHZhcmlhbnQ9XCJvdXRsaW5lXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZT1cInNtXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFJlZmVyZW5jZUltYWdlcyhbXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0UmVmZXJlbmNlSW1hZ2VVcmxzKFtdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdC5zdWNjZXNzKFwiQWxsIHJlZmVyZW5jZSBwaG90b3MgcmVtb3ZlZCFcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImgtNyB0ZXh0LXhzIGdhcC0xIHRleHQtcmVkLTYwMCBob3Zlcjp0ZXh0LXJlZC03MDAgaG92ZXI6YmctcmVkLTUwIGRhcms6aG92ZXI6YmctcmVkLTkwMC8yMFwiXG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxYIGNsYXNzTmFtZT1cInctMyBoLTNcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICBSZW1vdmUgQWxsXG4gICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgZ3JpZC1jb2xzLTIgZ2FwLTIgcC0zIGJnLWdyYXktNTAgZGFyazpiZy1ncmF5LTgwMCByb3VuZGVkLWxnIGJvcmRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAge3JlZmVyZW5jZUltYWdlVXJscy5tYXAoKHVybCwgaW5kZXgpID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBrZXk9e2luZGV4fSBjbGFzc05hbWU9XCJyZWxhdGl2ZSBncm91cFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbWdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNyYz17dXJsfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWx0PXtgUmVmZXJlbmNlIHBob3RvICR7aW5kZXggKyAxfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgYXNwZWN0LXNxdWFyZSBvYmplY3QtY292ZXIgcm91bmRlZCBib3JkZXJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyaWFudD1cImRlc3RydWN0aXZlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU9XCJzbVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBoYW5kbGVSZW1vdmVSZWZlcmVuY2VJbWFnZShpbmRleCl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJhYnNvbHV0ZSB0b3AtMSByaWdodC0xIGgtNiB3LTYgcC0wIG9wYWNpdHktMCBncm91cC1ob3ZlcjpvcGFjaXR5LTEwMCB0cmFuc2l0aW9uLW9wYWNpdHlcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxYIGNsYXNzTmFtZT1cInctMyBoLTNcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWJzb2x1dGUgYm90dG9tLTEgbGVmdC0xIGJnLWJsYWNrLzcwIHRleHQtd2hpdGUgdGV4dC14cyBweC0xIHJvdW5kZWRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBob3RvIHtpbmRleCArIDF9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICB7c2VsZWN0ZWRJbWFnZU1vZGVsID09PSBcImdwdC1pbWFnZS0xXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LWdyYXktNTAwIGRhcms6dGV4dC1ncmF5LTQwMCBtYi0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgVXBsb2FkIHBob3RvcyB0byBjcmVhdGUgY2FydG9vbiBjaGFyYWN0ZXJzIHRoYXQgbG9vayBsaWtlIHRoZSBwZW9wbGUgaW4geW91ciBwaG90b3MhIFBlcmZlY3QgZm9yIGluY2x1ZGluZyBtdWx0aXBsZSBwZW9wbGUgLSB1cGxvYWQgb25lIHBob3RvIG9mIHlvdXJzZWxmIGFuZCBhbm90aGVyIG9mIGEgZnJpZW5kIHRvIGNyZWF0ZSBjYXJkcyBmZWF0dXJpbmcgYm90aCBvZiB5b3UuIChPbmx5IGF2YWlsYWJsZSB3aXRoIEdQVCBJbWFnZSAxIG1vZGVsKVxuICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1ncmF5LTQwMCBkYXJrOnRleHQtZ3JheS01MDAgbWItM1wiPlxuICAgICAgICAgICAgICAgICAgICAgIOKcqCBGb3IgeW91ciBwcml2YWN5LCBwaG90b3MgYXJlIHR1cm5lZCBpbnRvIGNhcnRvb24vaWxsdXN0cmF0ZWQgY2hhcmFjdGVycyAtIG5vdCByZWFsaXN0aWMgZGVwaWN0aW9uc1xuICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktM1wiPlxuICAgICAgICAgICAgICAgIHsvKiBVcGxvYWQgQXJlYSAtIE9ubHkgc2hvdyBpZiBtb2RlbCBzdXBwb3J0cyBpdCAqL31cbiAgICAgICAgICAgICAgICB7c2VsZWN0ZWRJbWFnZU1vZGVsID09PSBcImdwdC1pbWFnZS0xXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJib3JkZXItMiBib3JkZXItZGFzaGVkIGJvcmRlci1ncmF5LTMwMCBkYXJrOmJvcmRlci1ncmF5LTYwMCByb3VuZGVkLWxnIHAtNCB0ZXh0LWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwiZmlsZVwiXG4gICAgICAgICAgICAgICAgICAgICAgYWNjZXB0PVwiaW1hZ2UvKlwiXG4gICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBlLnRhcmdldC5maWxlcz8uWzBdICYmIGhhbmRsZUZpbGVVcGxvYWQoZS50YXJnZXQuZmlsZXNbMF0sICdyZWZlcmVuY2UnKX1cbiAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17aXNVcGxvYWRpbmd9XG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiaGlkZGVuXCJcbiAgICAgICAgICAgICAgICAgICAgICBpZD1cInJlZmVyZW5jZS11cGxvYWRcIlxuICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICA8bGFiZWwgaHRtbEZvcj1cInJlZmVyZW5jZS11cGxvYWRcIiBjbGFzc05hbWU9XCJjdXJzb3ItcG9pbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxXYW5kMiBjbGFzc05hbWU9XCJ3LTYgaC02IG14LWF1dG8gbWItMiB0ZXh0LWdyYXktNDAwXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1ncmF5LTYwMCBkYXJrOnRleHQtZ3JheS00MDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtpc1VwbG9hZGluZyA/IFwiVXBsb2FkaW5nLi4uXCIgOiBgVXBsb2FkICR7cmVmZXJlbmNlSW1hZ2VzLmxlbmd0aCA+IDAgPyAnYW5vdGhlcicgOiAnYSd9IHBob3RvIHRvIGNyZWF0ZSBjaGFyYWN0ZXJzYH1cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICl9XG5cbiAgICAgICAgICAgICAgICB7LyogRGlzcGxheSB1cGxvYWRlZCBpbWFnZXMgKi99XG4gICAgICAgICAgICAgICAge3JlZmVyZW5jZUltYWdlcy5sZW5ndGggPiAwICYmIChcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0yXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuXCI+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtZ3JheS01MDAgZGFyazp0ZXh0LWdyYXktNDAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICB7cmVmZXJlbmNlSW1hZ2VzLmxlbmd0aH0gcGhvdG97cmVmZXJlbmNlSW1hZ2VzLmxlbmd0aCA+IDEgPyAncycgOiAnJ30gdXBsb2FkZWQ6XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAge3NlbGVjdGVkSW1hZ2VNb2RlbCAhPT0gXCJncHQtaW1hZ2UtMVwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyaWFudD1cIm91dGxpbmVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplPVwic21cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0UmVmZXJlbmNlSW1hZ2VzKFtdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRSZWZlcmVuY2VJbWFnZVVybHMoW10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0LnN1Y2Nlc3MoXCJBbGwgcmVmZXJlbmNlIHBob3RvcyByZW1vdmVkIVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiaC02IHRleHQteHMgZ2FwLTEgdGV4dC1yZWQtNjAwIGhvdmVyOnRleHQtcmVkLTcwMCBob3ZlcjpiZy1yZWQtNTAgZGFyazpob3ZlcjpiZy1yZWQtOTAwLzIwXCJcbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPFggY2xhc3NOYW1lPVwidy0zIGgtM1wiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIENsZWFyIEFsbFxuICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIHtyZWZlcmVuY2VJbWFnZXMubWFwKChpbWFnZSwgaW5kZXgpID0+IChcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGtleT17aW5kZXh9IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiBwLTMgYmctcHVycGxlLTUwIGRhcms6YmctcHVycGxlLTkwMC8yMCByb3VuZGVkLWxnXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxXYW5kMiBjbGFzc05hbWU9XCJ3LTQgaC00IHRleHQtcHVycGxlLTYwMFwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1wdXJwbGUtODAwIGRhcms6dGV4dC1wdXJwbGUtMjAwXCI+e2ltYWdlLm5hbWV9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHZhcmlhbnQ9XCJnaG9zdFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU9XCJzbVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGhhbmRsZVJlbW92ZVJlZmVyZW5jZUltYWdlKGluZGV4KX1cbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPFggY2xhc3NOYW1lPVwidy00IGgtNFwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICApfVxuXG4gICAgICAgICAgICAgICAgey8qIENoYXJhY3RlciBzdHlsZSBpbnN0cnVjdGlvbnMgLSBPbmx5IHNob3cgaWYgbW9kZWwgc3VwcG9ydHMgaXQgKi99XG4gICAgICAgICAgICAgICAge3JlZmVyZW5jZUltYWdlcy5sZW5ndGggPiAwICYmIHNlbGVjdGVkSW1hZ2VNb2RlbCA9PT0gXCJncHQtaW1hZ2UtMVwiICYmIChcbiAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgIDxUZXh0YXJlYVxuICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiQ2hhcmFjdGVyIHN0eWxlIGluc3RydWN0aW9ucyAob3B0aW9uYWwpOiBlLmcuLCAnTWFrZSB1cyBsb29rIGxpa2UgYW5pbWUgY2hhcmFjdGVycycsICdLZWVwIG91ciBleGFjdCBvdXRmaXRzIGFuZCBhY2Nlc3NvcmllcyBidXQgaW4gd2F0ZXJjb2xvciBzdHlsZScsIG9yICdTaG93IGJvdGggcGVvcGxlIHRvZ2V0aGVyIGluIHRoZSBzYW1lIHNjZW5lJ1wiXG4gICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e2ltYWdlVHJhbnNmb3JtYXRpb259XG4gICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRJbWFnZVRyYW5zZm9ybWF0aW9uKGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgICAgICAgICAgICByb3dzPXszfVxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInJlc2l6ZS1ub25lXCJcbiAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBmb250U2l6ZTogJzE2cHgnIH19XG4gICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1ncmF5LTUwMCBkYXJrOnRleHQtZ3JheS00MDAgbXQtMVwiPlxuICAgICAgICAgICAgICAgICAgICAgIPCfkqEgPHN0cm9uZz5UaXA6PC9zdHJvbmc+IExlYXZlIGJsYW5rIHRvIGtlZXAgZXhhY3QgY2xvdGhpbmcgJiBhY2Nlc3Nvcmllcywgb3Igc3BlY2lmeSBzdHlsZSBjaGFuZ2VzIGxpa2UgXCJhbmltZSBzdHlsZVwiIG9yIFwidmludGFnZSBjYXJ0b29uIGxvb2tcIlxuICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApfVxuXG4gICAgICAgICAgICB7LyogQWR2YW5jZWQgT3B0aW9ucyAtIENvbnRyb2xsZWQgYnkgU2V0dGluZ3MgTWVudSAqL31cbiAgICAgICAgICAgIHtzaG93QWR2YW5jZWQgJiYgKFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktNCBwLTQgYm9yZGVyIHJvdW5kZWQtbGcgYmctZ3JheS01MCBkYXJrOmJnLWdyYXktODAwLzUwXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiBtYi00XCI+XG4gICAgICAgICAgICAgICAgICA8U2V0dGluZ3MgY2xhc3NOYW1lPVwidy00IGgtNFwiIC8+XG4gICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZ3JheS03MDAgZGFyazp0ZXh0LWdyYXktMzAwXCI+QWR2YW5jZWQgT3B0aW9uczwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgIHsvKiBJbWFnZSBNb2RlbCBTZWxlY3Rpb24gKi99XG4gICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJ0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZ3JheS03MDAgZGFyazp0ZXh0LWdyYXktMzAwIG1iLTIgYmxvY2tcIj5cbiAgICAgICAgICAgICAgICAgICAgSW1hZ2UgR2VuZXJhdGlvbiBNb2RlbFxuICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgIDxTZWxlY3QgdmFsdWU9e3NlbGVjdGVkSW1hZ2VNb2RlbH0gb25WYWx1ZUNoYW5nZT17c2V0U2VsZWN0ZWRJbWFnZU1vZGVsfT5cbiAgICAgICAgICAgICAgICAgICAgPFNlbGVjdFRyaWdnZXI+XG4gICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdFZhbHVlIHBsYWNlaG9sZGVyPVwiQ2hvb3NlIGltYWdlIG1vZGVsXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3RUcmlnZ2VyPlxuICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Q29udGVudD5cbiAgICAgICAgICAgICAgICAgICAgICB7aW1hZ2VNb2RlbHMubWFwKChtb2RlbCkgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdEl0ZW0ga2V5PXttb2RlbC5pZH0gdmFsdWU9e21vZGVsLmlkfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvbnQtbWVkaXVtXCI+e21vZGVsLmxhYmVsfTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LW11dGVkLWZvcmVncm91bmRcIj57bW9kZWwuZGVzY3JpcHRpb259PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3RJdGVtPlxuICAgICAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdENvbnRlbnQ+XG4gICAgICAgICAgICAgICAgICA8L1NlbGVjdD5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgey8qIERyYWZ0IE1vZGUgTW9kZWwgU2VsZWN0aW9uICovfVxuICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJ0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZ3JheS03MDAgZGFyazp0ZXh0LWdyYXktMzAwIG1iLTIgYmxvY2tcIj5cbiAgICAgICAgICAgICAgICAgICAgIERyYWZ0IE1vZGUgTW9kZWxcbiAgICAgICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgIDxTZWxlY3QgdmFsdWU9e3NlbGVjdGVkRHJhZnRNb2RlbH0gb25WYWx1ZUNoYW5nZT17c2V0U2VsZWN0ZWREcmFmdE1vZGVsfT5cbiAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3RUcmlnZ2VyPlxuICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0VmFsdWUgcGxhY2Vob2xkZXI9XCJDaG9vc2UgZHJhZnQgbW9kZWxcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3RUcmlnZ2VyPlxuICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdENvbnRlbnQ+XG4gICAgICAgICAgICAgICAgICAgICAgIHtpbWFnZU1vZGVscy5tYXAoKG1vZGVsKSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdEl0ZW0ga2V5PXttb2RlbC5pZH0gdmFsdWU9e21vZGVsLmlkfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZm9udC1tZWRpdW1cIj57bW9kZWwubGFiZWx9PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LW11dGVkLWZvcmVncm91bmRcIj57bW9kZWwuZGVzY3JpcHRpb259PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdEl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3RDb250ZW50PlxuICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0PlxuICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1ncmF5LTUwMCBkYXJrOnRleHQtZ3JheS00MDAgbXQtMVwiPlxuICAgICAgICAgICAgICAgICAgICAgTW9kZWwgdXNlZCBmb3IgZHJhZnQgdmFyaWF0aW9ucy4gQ29uc2lkZXIgZmFzdGVyIG1vZGVscyBsaWtlIEZMVVggMS4xIFBybyBmb3IgcXVpY2tlciBwcmV2aWV3cy5cbiAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgey8qIFBhcGVyIFNpemUgU2VsZWN0aW9uICovfVxuICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwidGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWdyYXktNzAwIGRhcms6dGV4dC1ncmF5LTMwMCBtYi0yIGJsb2NrXCI+XG4gICAgICAgICAgICAgICAgICAgIFBhcGVyIFNpemVcbiAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICA8U2VsZWN0IHZhbHVlPXtzZWxlY3RlZFBhcGVyU2l6ZX0gb25WYWx1ZUNoYW5nZT17c2V0U2VsZWN0ZWRQYXBlclNpemV9PlxuICAgICAgICAgICAgICAgICAgICA8U2VsZWN0VHJpZ2dlcj5cbiAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0VmFsdWUgcGxhY2Vob2xkZXI9XCJDaG9vc2UgcGFwZXIgc2l6ZVwiIC8+XG4gICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0VHJpZ2dlcj5cbiAgICAgICAgICAgICAgICAgICAgPFNlbGVjdENvbnRlbnQ+XG4gICAgICAgICAgICAgICAgICAgICAge3BhcGVyU2l6ZXMubWFwKChzaXplKSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0SXRlbSBrZXk9e3NpemUuaWR9IHZhbHVlPXtzaXplLmlkfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvbnQtbWVkaXVtXCI+e3NpemUubGFiZWx9PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtbXV0ZWQtZm9yZWdyb3VuZFwiPntzaXplLmRlc2NyaXB0aW9ufTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0SXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3RDb250ZW50PlxuICAgICAgICAgICAgICAgICAgPC9TZWxlY3Q+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICB7LyogTnVtYmVyIG9mIENhcmRzICovfVxuICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwidGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWdyYXktNzAwIGRhcms6dGV4dC1ncmF5LTMwMCBtYi0yIGJsb2NrXCI+XG4gICAgICAgICAgICAgICAgICAgIE51bWJlciBvZiBDYXJkcyB0byBHZW5lcmF0ZVxuICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgIDxTZWxlY3QgdmFsdWU9e251bWJlck9mQ2FyZHMudG9TdHJpbmcoKX0gb25WYWx1ZUNoYW5nZT17KHZhbHVlKSA9PiBzZXROdW1iZXJPZkNhcmRzKHBhcnNlSW50KHZhbHVlKSl9PlxuICAgICAgICAgICAgICAgICAgICA8U2VsZWN0VHJpZ2dlcj5cbiAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0VmFsdWUgcGxhY2Vob2xkZXI9XCJDaG9vc2UgbnVtYmVyIG9mIGNhcmRzXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3RUcmlnZ2VyPlxuICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Q29udGVudD5cbiAgICAgICAgICAgICAgICAgICAgICB7WzEsIDIsIDMsIDQsIDVdLm1hcCgobnVtKSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0SXRlbSBrZXk9e251bX0gdmFsdWU9e251bS50b1N0cmluZygpfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAge251bX0gQ2FyZHtudW0gPiAxID8gJ3MnIDogJyd9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdEl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Q29udGVudD5cbiAgICAgICAgICAgICAgICAgIDwvU2VsZWN0PlxuICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LWdyYXktNTAwIGRhcms6dGV4dC1ncmF5LTQwMCBtdC0xXCI+XG4gICAgICAgICAgICAgICAgICAgIEdlbmVyYXRlIG11bHRpcGxlIGNhcmQgdmFyaWF0aW9ucyB0byBjaG9vc2UgZnJvbVxuICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgey8qIFByaW50IE9wdGlvbnMgKi99XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTNcIj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgc3BhY2UteC0yXCI+XG4gICAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgICAgaWQ9XCJmcm9udC1iYWNrLW9ubHlcIlxuICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9e2lzRnJvbnRCYWNrT25seX1cbiAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldElzRnJvbnRCYWNrT25seShlLnRhcmdldC5jaGVja2VkKX1cbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJyb3VuZGVkXCJcbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGh0bWxGb3I9XCJmcm9udC1iYWNrLW9ubHlcIiBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtZ3JheS03MDAgZGFyazp0ZXh0LWdyYXktMzAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgRnJvbnQgYW5kIGJhY2sgb25seSAobm8gaW50ZXJpb3IgcGFnZXMpXG4gICAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1ncmF5LTUwMCBkYXJrOnRleHQtZ3JheS00MDBcIj5cbiAgICAgICAgICAgICAgICAgICAgUGVyZmVjdCBmb3IgcG9zdGNhcmRzIG9yIHNpbXBsZSBncmVldGluZyBjYXJkc1xuICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgey8qIENsZWFyIFNhdmVkIERhdGEgU2VjdGlvbiAqL31cbiAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cInRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1ncmF5LTcwMCBkYXJrOnRleHQtZ3JheS0zMDAgbWItMiBibG9ja1wiPlxuICAgICAgICAgICAgICAgICAgICBEYXRhIE1hbmFnZW1lbnRcbiAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgIHZhcmlhbnQ9XCJvdXRsaW5lXCJcbiAgICAgICAgICAgICAgICAgICAgc2l6ZT1cInNtXCJcbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17Y2xlYXJTYXZlZERhdGF9XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBnYXAtMiB0ZXh0LXJlZC02MDAgaG92ZXI6dGV4dC1yZWQtNzAwIGhvdmVyOmJnLXJlZC01MCBkYXJrOmhvdmVyOmJnLXJlZC05MDAvMjBcIlxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8WCBjbGFzc05hbWU9XCJ3LTQgaC00XCIgLz5cbiAgICAgICAgICAgICAgICAgICAgQ2xlYXIgU2F2ZWQgRGF0YVxuICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtZ3JheS01MDAgZGFyazp0ZXh0LWdyYXktNDAwIG10LTFcIj5cbiAgICAgICAgICAgICAgICAgICAgUmVtb3ZlIGFsbCBzYXZlZCBmb3JtIGRhdGEgYW5kIGdlbmVyYXRlZCBjYXJkcyBmcm9tIHlvdXIgYnJvd3NlclxuICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICl9XG5cbiAgICAgICAgICAgICAgICB7LyogUHJpdmFjeSAmIFRlcm1zIFNlY3Rpb24gKi99XG4gICAgICAgICAgICAgICAgPENvbGxhcHNpYmxlIGNsYXNzTmFtZT1cInNwYWNlLXktMlwiPlxuICAgICAgICAgICAgICAgICAgPENvbGxhcHNpYmxlVHJpZ2dlciBhc0NoaWxkPlxuICAgICAgICAgICAgICAgICAgICA8QnV0dG9uIHZhcmlhbnQ9XCJnaG9zdFwiIGNsYXNzTmFtZT1cInctZnVsbCBqdXN0aWZ5LWJldHdlZW4gdGV4dC14cyB0ZXh0LWdyYXktNTAwIGRhcms6dGV4dC1ncmF5LTQwMCBoLThcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj5Qcml2YWN5ICYgVGVybXM8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgPENoZXZyb25Eb3duIGNsYXNzTmFtZT1cImgtMyB3LTNcIiAvPlxuICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgIDwvQ29sbGFwc2libGVUcmlnZ2VyPlxuICAgICAgICAgICAgICAgICAgPENvbGxhcHNpYmxlQ29udGVudCBjbGFzc05hbWU9XCJzcGFjZS15LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtZ3JheS02MDAgZGFyazp0ZXh0LWdyYXktMzAwIHNwYWNlLXktMyBwLTQgYm9yZGVyIHJvdW5kZWQtbGcgYmctZ3JheS01MCBkYXJrOmJnLWdyYXktODAwLzUwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxoNCBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkIG1iLTIgdGV4dC1ncmF5LTgwMCBkYXJrOnRleHQtZ3JheS0yMDBcIj5Qcml2YWN5IFBvbGljeTwvaDQ+XG4gICAgICAgICAgICAgICAgICAgICAgICA8dWwgY2xhc3NOYW1lPVwic3BhY2UteS0xIHRleHQtZ3JheS02MDAgZGFyazp0ZXh0LWdyYXktNDAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxsaT7igKIgV2UgY29sbGVjdCB5b3VyIGVtYWlsIGFkZHJlc3MgYW5kIGNhcmQgY29udGVudCB0byBwcm92aWRlIG91ciBzZXJ2aWNlPC9saT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpPuKAoiBJbWFnZXMgYW5kIG1lc3NhZ2VzIGFyZSBwcm9jZXNzZWQgdXNpbmcgdGhpcmQtcGFydHkgQUkgc2VydmljZXM8L2xpPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8bGk+4oCiIENhcmRzIGFyZSBzdG9yZWQgdGVtcG9yYXJpbHkgZm9yIGRlbGl2ZXJ5IGFuZCBtYXkgYmUgY2FjaGVkIGZvciBwZXJmb3JtYW5jZTwvbGk+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxsaT7igKIgV2UgZG8gbm90IHNlbGwsIHNoYXJlLCBvciB1c2UgeW91ciBwZXJzb25hbCBkYXRhIGZvciBtYXJrZXRpbmcgcHVycG9zZXM8L2xpPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8bGk+4oCiIFlvdXIgZW1haWwgaXMgb25seSB1c2VkIGZvciBjYXJkIGRlbGl2ZXJ5IGFuZCBzZXJ2aWNlIGNvbW11bmljYXRpb25zPC9saT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvdWw+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGg0IGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGQgbWItMiB0ZXh0LWdyYXktODAwIGRhcms6dGV4dC1ncmF5LTIwMFwiPlRlcm1zIG9mIFNlcnZpY2U8L2g0PlxuICAgICAgICAgICAgICAgICAgICAgICAgPHVsIGNsYXNzTmFtZT1cInNwYWNlLXktMSB0ZXh0LWdyYXktNjAwIGRhcms6dGV4dC1ncmF5LTQwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8bGk+4oCiIFlvdSBtdXN0IGJlIDEzKyB5ZWFycyBvbGQgdG8gdXNlIHRoaXMgc2VydmljZTwvbGk+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxsaT7igKIgWW91IGFyZSByZXNwb25zaWJsZSBmb3IgdGhlIGNvbnRlbnQgeW91IHN1Ym1pdDwvbGk+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxsaT7igKIgU2VydmljZSBpcyBwcm92aWRlZCBcImFzLWlzXCIgd2l0aG91dCB3YXJyYW50aWVzPC9saT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpPuKAoiBXZSByZXNlcnZlIHRoZSByaWdodCB0byByZWZ1c2Ugc2VydmljZSBmb3IgcG9saWN5IHZpb2xhdGlvbnM8L2xpPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8bGk+4oCiIFRoZXNlIHRlcm1zIG1heSBiZSB1cGRhdGVkIHdpdGggbm90aWNlIG9uIG91ciB3ZWJzaXRlPC9saT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvdWw+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGg0IGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGQgbWItMiB0ZXh0LWdyYXktODAwIGRhcms6dGV4dC1ncmF5LTIwMFwiPkNvbnRlbnQgUG9saWN5PC9oND5cbiAgICAgICAgICAgICAgICAgICAgICAgIDx1bCBjbGFzc05hbWU9XCJzcGFjZS15LTEgdGV4dC1ncmF5LTYwMCBkYXJrOnRleHQtZ3JheS00MDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpPuKAoiBBbGwgY29udGVudCBtdXN0IGJlIGZhbWlseS1mcmllbmRseSBhbmQgYXBwcm9wcmlhdGUgZm9yIGFsbCBhdWRpZW5jZXM8L2xpPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8bGk+4oCiIE5vIGNvcHlyaWdodGVkIGNoYXJhY3RlcnMsIGxvZ29zLCBvciB0cmFkZW1hcmtlZCBjb250ZW50PC9saT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpPuKAoiBObyBoYXRlIHNwZWVjaCwgaGFyYXNzbWVudCwgb3IgZGlzY3JpbWluYXRvcnkgY29udGVudDwvbGk+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxsaT7igKIgTm8gaWxsZWdhbCwgaGFybWZ1bCwgb3IgZXhwbGljaXQgbWF0ZXJpYWw8L2xpPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8bGk+4oCiIENvbnRlbnQgbWF5IGJlIGZpbHRlcmVkIHRvIGVuc3VyZSBjb21wbGlhbmNlIHdpdGggdGhlc2UgZ3VpZGVsaW5lczwvbGk+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L3VsPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxoNCBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkIG1iLTIgdGV4dC1ncmF5LTgwMCBkYXJrOnRleHQtZ3JheS0yMDBcIj5JbnRlbGxlY3R1YWwgUHJvcGVydHk8L2g0PlxuICAgICAgICAgICAgICAgICAgICAgICAgPHVsIGNsYXNzTmFtZT1cInNwYWNlLXktMSB0ZXh0LWdyYXktNjAwIGRhcms6dGV4dC1ncmF5LTQwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8bGk+4oCiIFlvdSByZXRhaW4gcmlnaHRzIHRvIHlvdXIgb3JpZ2luYWwgY29udGVudCBhbmQgaWRlYXM8L2xpPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8bGk+4oCiIEdlbmVyYXRlZCBpbWFnZXMgYXJlIGNyZWF0ZWQgdXNpbmcgQUkgYW5kIG1heSBub3QgYmUgY29weXJpZ2h0YWJsZTwvbGk+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxsaT7igKIgWW91IGdyYW50IHVzIGxpY2Vuc2UgdG8gcHJvY2VzcyBhbmQgZGVsaXZlciB5b3VyIGNhcmRzPC9saT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpPuKAoiBSZXNwZWN0IHRoaXJkLXBhcnR5IGludGVsbGVjdHVhbCBwcm9wZXJ0eSByaWdodHM8L2xpPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC91bD5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicHQtMiBib3JkZXItdCBib3JkZXItZ3JheS0yMDAgZGFyazpib3JkZXItZ3JheS03MDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtY2VudGVyIHRleHQtZ3JheS01MDAgZGFyazp0ZXh0LWdyYXktNDAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIEJ5IGNyZWF0aW5nIGEgY2FyZCwgeW91IGFncmVlIHRvIHRoZXNlIHRlcm1zIGFuZCBwb2xpY2llcy4gXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxiciAvPkxhc3QgdXBkYXRlZDoge25ldyBEYXRlKCkudG9Mb2NhbGVEYXRlU3RyaW5nKCl9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPC9Db2xsYXBzaWJsZUNvbnRlbnQ+XG4gICAgICAgICAgICAgICAgPC9Db2xsYXBzaWJsZT5cblxuICAgICAgICAgICAgICAgIHsvKiBDbGVhbiBQcm9ncmVzcyBJbmRpY2F0b3IgLSBIaWRlIHdoZW4gZHJhZnQgY2FyZHMgYXJlIGF2YWlsYWJsZSBmb3Igc2VsZWN0aW9uICovfVxuICAgICAgICAgICAgICAgIHsoaXNHZW5lcmF0aW5nIHx8IGlzR2VuZXJhdGluZ01lc3NhZ2UpICYmICFpc0dlbmVyYXRpbmdGaW5hbENhcmQgJiYgIShpc0RyYWZ0TW9kZSAmJiBkcmFmdENhcmRzLmxlbmd0aCA+IDApICYmIChcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWItNCBwLTQgYmctZ3JhZGllbnQtdG8tciBmcm9tLWJsdWUtNTAgdG8tY3lhbi01MCBkYXJrOmZyb20tYmx1ZS05MDAvMzAgZGFyazp0by1jeWFuLTkwMC8zMCByb3VuZGVkLWxnIGJvcmRlciBib3JkZXItYmx1ZS0yMDAgZGFyazpib3JkZXItYmx1ZS04MDBcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICB7LyogUHJvZ3Jlc3MgTWVzc2FnZSAqL31cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctNCBoLTQgYm9yZGVyLTIgYm9yZGVyLWJsdWUtNTAwIGJvcmRlci10LXRyYW5zcGFyZW50IHJvdW5kZWQtZnVsbCBhbmltYXRlLXNwaW5cIiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWJsdWUtNjAwIGRhcms6dGV4dC1ibHVlLTQwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICB7Z2VuZXJhdGlvblByb2dyZXNzIHx8IFwiR2VuZXJhdGluZyB5b3VyIGNhcmQuLi5cIn1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgICAgICAgIHsvKiBDbGVhbiBQcm9ncmVzcyBCYXIgKi99XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LWZ1bGwgYmctZ3JheS0yMDAgZGFyazpiZy1ncmF5LTcwMCByb3VuZGVkLWZ1bGwgaC0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IFxuICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJiZy1ncmFkaWVudC10by1yIGZyb20tYmx1ZS01MDAgdG8tY3lhbi01MDAgaC0zIHJvdW5kZWQtZnVsbCB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0xMDAwIGVhc2Utb3V0XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IGAke01hdGgubWluKHByb2dyZXNzUGVyY2VudGFnZSwgMTAwKX0lYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgICAgICAgIHsvKiBQcm9ncmVzcyBUZXh0IGFuZCBUaW1lIERpc3BsYXkgKi99XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gdGV4dC14cyB0ZXh0LWdyYXktNjAwIGRhcms6dGV4dC1ncmF5LTQwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZm9udC1tZWRpdW1cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAge01hdGgucm91bmQocHJvZ3Jlc3NQZXJjZW50YWdlKX0lIENvbXBsZXRlXG4gICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50RWxhcHNlZFRpbWUgPiAwICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LWJsdWUtNjAwIGRhcms6dGV4dC1ibHVlLTQwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg4o+x77iPIHtmb3JtYXRHZW5lcmF0aW9uVGltZShjdXJyZW50RWxhcHNlZFRpbWUpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1ncmF5LTUwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtpc0RyYWZ0TW9kZSAmJiAhaXNHZW5lcmF0aW5nRmluYWxDYXJkID8gJ34zMC02MCBzZWMgZXhwZWN0ZWQnIDogJ34xOjMwLTI6MDAgbWluIGV4cGVjdGVkJ31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgKX1cblxuICAgICAgICAgICAgICAgIHsvKiBHZW5lcmF0ZSBCdXR0b25zICovfVxuICAgICAgICAgICAgICAgIHshaXNEcmFmdE1vZGUgJiYgZHJhZnRDYXJkcy5sZW5ndGggPT09IDAgJiYgIWlzR2VuZXJhdGluZ0ZpbmFsQ2FyZCAmJiAhaXNHZW5lcmF0aW5nID8gKFxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgey8qIERyYWZ0IE1vZGUgRGVzY3JpcHRpb24gKi99XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctcHVycGxlLTUwIGRhcms6YmctcHVycGxlLTkwMC8yMCByb3VuZGVkLWxnIHAtMyBib3JkZXIgYm9yZGVyLXB1cnBsZS0yMDAgZGFyazpib3JkZXItcHVycGxlLTgwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1zdGFydCBnYXAtMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPFBhbGV0dGUgY2xhc3NOYW1lPVwidy00IGgtNCB0ZXh0LXB1cnBsZS02MDAgbXQtMC41IGZsZXgtc2hyaW5rLTBcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXNtXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cImZvbnQtbWVkaXVtIHRleHQtcHVycGxlLTkwMCBkYXJrOnRleHQtcHVycGxlLTEwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIPCfjqggRHJhZnQgTW9kZSAoUmVjb21tZW5kZWQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1wdXJwbGUtNzAwIGRhcms6dGV4dC1wdXJwbGUtMzAwIHRleHQteHMgbXQtMVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICBHZW5lcmF0ZSA1IGRpZmZlcmVudCBmcm9udCBjb3ZlciBkZXNpZ25zIHF1aWNrbHkgd2l0aCBsb3cgcXVhbGl0eSwgdGhlbiBwaWNrIHlvdXIgZmF2b3JpdGUgZm9yIGNvbXBsZXRlIGhpZ2gtcXVhbGl0eSBjYXJkIGdlbmVyYXRpb24uIFxuICAgICAgICAgICAgICAgICAgICAgICAgICB7c2VsZWN0ZWRBcnRpc3RpY1N0eWxlID09PSBcImFpLXNtYXJ0LXN0eWxlXCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImZvbnQtbWVkaXVtXCI+IFdpdGggU21hcnQgU3R5bGUsIHlvdSdsbCBzZWUgeW91ciBjYXJkIGluIDUgb2Ygb3VyIGN1cmF0ZWQgYXJ0aXN0aWMgc3R5bGVzITwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIHsvKiBEcmFmdCBNb2RlIEJ1dHRvbiAqL31cbiAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZUdlbmVyYXRlRHJhZnRDYXJkc31cbiAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17aXNHZW5lcmF0aW5nIHx8IGlzR2VuZXJhdGluZ01lc3NhZ2UgfHwgIXVzZXJFbWFpbC50cmltKCl9XG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIGgtMTIgdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMzAwIGJnLWdyYWRpZW50LXRvLXIgZnJvbS1wdXJwbGUtNTAwIHRvLXBpbmstNjAwIGhvdmVyOmZyb20tcHVycGxlLTYwMCBob3Zlcjp0by1waW5rLTcwMFwiXG4gICAgICAgICAgICAgICAgICAgICAgc2l6ZT1cImxnXCJcbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgIHtpc0dlbmVyYXRpbmcgfHwgaXNHZW5lcmF0aW5nTWVzc2FnZSA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy00IGgtNCBib3JkZXItMiBib3JkZXItd2hpdGUgYm9yZGVyLXQtdHJhbnNwYXJlbnQgcm91bmRlZC1mdWxsIGFuaW1hdGUtc3BpbiBtci0yXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2lzR2VuZXJhdGluZ01lc3NhZ2UgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4+V3JpdGluZyB5b3VyIG1lc3NhZ2UuLi48L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4+Q3JlYXRpbmcgMTAgZGVzaWduIG9wdGlvbnMuLi48L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAgICA8UGFsZXR0ZSBjbGFzc05hbWU9XCJ3LTUgaC01IG1yLTJcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4+Q3JlYXRlIDUgRnJvbnQgQ292ZXIgT3B0aW9uczwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXIgdGV4dC14cyB0ZXh0LWdyYXktNTAwIGRhcms6dGV4dC1ncmF5LTQwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgIG9yXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgey8qIERpcmVjdCBHZW5lcmF0aW9uIEJ1dHRvbiAqL31cbiAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZUdlbmVyYXRlQ2FyZEFzeW5jfVxuICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtpc0dlbmVyYXRpbmcgfHwgaXNHZW5lcmF0aW5nTWVzc2FnZSB8fCAhdXNlckVtYWlsLnRyaW0oKX1cbiAgICAgICAgICAgICAgICAgICAgICB2YXJpYW50PVwib3V0bGluZVwiXG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIGgtMTAgdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMzAwIGJvcmRlci1ibHVlLTMwMCBob3Zlcjpib3JkZXItYmx1ZS00MDAgaG92ZXI6YmctYmx1ZS01MCBkYXJrOmhvdmVyOmJnLWJsdWUtOTAwLzIwXCJcbiAgICAgICAgICAgICAgICAgICAgICBzaXplPVwibGdcIlxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgPFNwYXJrbGVzIGNsYXNzTmFtZT1cInctNCBoLTQgbXItMlwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgPHNwYW4+RGlyZWN0IEdlbmVyYXRpb248L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgKSA6IGlzR2VuZXJhdGluZ0ZpbmFsQ2FyZCA/IChcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS00XCI+XG4gICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17dHJ1ZX1cbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgaC0xMiB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0zMDAgYmctZ3JhZGllbnQtdG8tciBmcm9tLWJsdWUtNTAwIHRvLWN5YW4tNjAwXCJcbiAgICAgICAgICAgICAgICAgICAgICBzaXplPVwibGdcIlxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTQgaC00IGJvcmRlci0yIGJvcmRlci13aGl0ZSBib3JkZXItdC10cmFuc3BhcmVudCByb3VuZGVkLWZ1bGwgYW5pbWF0ZS1zcGluIG1yLTJcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPkNyZWF0aW5nIGhpZ2gtcXVhbGl0eSB2ZXJzaW9uLi4uPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIHsvKiBQcm9ncmVzcyBJbmRpY2F0b3IgZm9yIEZpbmFsIENhcmQgR2VuZXJhdGlvbiAqL31cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwLTQgYmctZ3JhZGllbnQtdG8tciBmcm9tLWJsdWUtNTAgdG8tY3lhbi01MCBkYXJrOmZyb20tYmx1ZS05MDAvMzAgZGFyazp0by1jeWFuLTkwMC8zMCByb3VuZGVkLWxnIGJvcmRlciBib3JkZXItYmx1ZS0yMDAgZGFyazpib3JkZXItYmx1ZS04MDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgey8qIFByb2dyZXNzIE1lc3NhZ2UgKi99XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy00IGgtNCBib3JkZXItMiBib3JkZXItYmx1ZS01MDAgYm9yZGVyLXQtdHJhbnNwYXJlbnQgcm91bmRlZC1mdWxsIGFuaW1hdGUtc3BpblwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1ibHVlLTYwMCBkYXJrOnRleHQtYmx1ZS00MDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Z2VuZXJhdGlvblByb2dyZXNzIHx8IFwiR2VuZXJhdGluZyBoaWdoLXF1YWxpdHkgdmVyc2lvbiBvZiB5b3VyIHNlbGVjdGVkIGRlc2lnbi4uLlwifVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgICAgICAgICAgey8qIENsZWFuIFByb2dyZXNzIEJhciAqL31cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy1mdWxsIGJnLWdyYXktMjAwIGRhcms6YmctZ3JheS03MDAgcm91bmRlZC1mdWxsIGgtM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJnLWdyYWRpZW50LXRvLXIgZnJvbS1ibHVlLTUwMCB0by1jeWFuLTUwMCBoLTMgcm91bmRlZC1mdWxsIHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTEwMDAgZWFzZS1vdXRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiBgJHtNYXRoLm1pbihwcm9ncmVzc1BlcmNlbnRhZ2UsIDEwMCl9JWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgICAgICAgICB7LyogUHJvZ3Jlc3MgVGV4dCBhbmQgVGltZSBEaXNwbGF5ICovfVxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gdGV4dC14cyB0ZXh0LWdyYXktNjAwIGRhcms6dGV4dC1ncmF5LTQwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJmb250LW1lZGl1bVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtNYXRoLnJvdW5kKHByb2dyZXNzUGVyY2VudGFnZSl9JSBDb21wbGV0ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudEVsYXBzZWRUaW1lID4gMCAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LWJsdWUtNjAwIGRhcms6dGV4dC1ibHVlLTQwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDij7HvuI8ge2Zvcm1hdEdlbmVyYXRpb25UaW1lKGN1cnJlbnRFbGFwc2VkVGltZSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNTAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7aXNEcmFmdE1vZGUgJiYgIWlzR2VuZXJhdGluZ0ZpbmFsQ2FyZCA/ICd+MzAtNjAgc2VjIGV4cGVjdGVkJyA6ICd+MTozMC0yOjAwIG1pbiBleHBlY3RlZCd9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlR2VuZXJhdGVDYXJkQXN5bmN9XG4gICAgICAgICAgICAgICAgICBkaXNhYmxlZD17aXNHZW5lcmF0aW5nIHx8IGlzR2VuZXJhdGluZ01lc3NhZ2UgfHwgIXVzZXJFbWFpbC50cmltKCl9XG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2B3LWZ1bGwgaC0xMiB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0zMDAgJHtcbiAgICAgICAgICAgICAgICAgICAgaXNDYXJkQ29tcGxldGVkIFxuICAgICAgICAgICAgICAgICAgICAgID8gJ2JnLWdyYWRpZW50LXRvLXIgZnJvbS1ncmVlbi01MDAgdG8tZW1lcmFsZC02MDAgaG92ZXI6ZnJvbS1ncmVlbi02MDAgaG92ZXI6dG8tZW1lcmFsZC03MDAnIFxuICAgICAgICAgICAgICAgICAgICAgIDogJ2JnLWdyYWRpZW50LXRvLXIgZnJvbS1ibHVlLTUwMCB0by1jeWFuLTYwMCBob3Zlcjpmcm9tLWJsdWUtNjAwIGhvdmVyOnRvLWN5YW4tNzAwJ1xuICAgICAgICAgICAgICAgICAgfWB9XG4gICAgICAgICAgICAgICAgICBzaXplPVwibGdcIlxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIHtpc0dlbmVyYXRpbmcgfHwgaXNHZW5lcmF0aW5nTWVzc2FnZSA/IChcbiAgICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctNCBoLTQgYm9yZGVyLTIgYm9yZGVyLXdoaXRlIGJvcmRlci10LXRyYW5zcGFyZW50IHJvdW5kZWQtZnVsbCBhbmltYXRlLXNwaW4gbXItMlwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAge2lzR2VuZXJhdGluZ01lc3NhZ2UgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj5Xcml0aW5nIHlvdXIgbWVzc2FnZS4uLjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4+Q3JlYXRpbmcgeW91ciBjYXJkLi4uPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICAgKSA6IGlzQ2FyZENvbXBsZXRlZCA/IChcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciB3LWZ1bGxcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctNSBoLTUgbXItMiB0ZXh0LXdoaXRlXCI+4pyFPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgPHNwYW4+Q2FyZCBDb21wbGV0ZWQhPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAgPFNwYXJrbGVzIGNsYXNzTmFtZT1cInctNSBoLTUgbXItMlwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAge251bWJlck9mQ2FyZHMgPiAxID8gYENyZWF0ZSAke251bWJlck9mQ2FyZHN9IENhcmRzYCA6ICdDcmVhdGUgQ2FyZCd9XG4gICAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHsvKiBBY3Rpb24gYnV0dG9ucyB3aGVuIGNhcmQgaXMgY29tcGxldGVkICovfVxuICAgICAgICAgICAgICAgIHtpc0NhcmRDb21wbGV0ZWQgJiYgKFxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC00IGdyaWQgZ3JpZC1jb2xzLTIgZ2FwLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZVJlZ2VuZXJhdGVDYXJkfVxuICAgICAgICAgICAgICAgICAgICAgIHZhcmlhbnQ9XCJvdXRsaW5lXCJcbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiBib3JkZXItYmx1ZS0yMDAgaG92ZXI6Ym9yZGVyLWJsdWUtMzAwIGhvdmVyOmJnLWJsdWUtNTAgZGFyazpib3JkZXItYmx1ZS04MDAgZGFyazpob3Zlcjpib3JkZXItYmx1ZS03MDAgZGFyazpob3ZlcjpiZy1ibHVlLTkwMC8yMFwiXG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICA8UmVmcmVzaEN3IGNsYXNzTmFtZT1cInctNCBoLTRcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgIFJlZ2VuZXJhdGUgU2FtZVxuICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZUNyZWF0ZU5ld0NhcmR9XG4gICAgICAgICAgICAgICAgICAgICAgdmFyaWFudD1cIm91dGxpbmVcIlxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yIGJvcmRlci1ncmVlbi0yMDAgaG92ZXI6Ym9yZGVyLWdyZWVuLTMwMCBob3ZlcjpiZy1ncmVlbi01MCBkYXJrOmJvcmRlci1ncmVlbi04MDAgZGFyazpob3Zlcjpib3JkZXItZ3JlZW4tNzAwIGRhcms6aG92ZXI6YmctZ3JlZW4tOTAwLzIwXCJcbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgIDxTcGFya2xlcyBjbGFzc05hbWU9XCJ3LTQgaC00XCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICBDcmVhdGUgTmV3IENhcmRcbiAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICA8L0NhcmRDb250ZW50PlxuICAgICAgICAgICAgPC9DYXJkPlxuXG4gICAgICAgIHsvKiBEcmFmdCBDYXJkcyBTZWxlY3Rpb24gKi99XG4gICAgICAgIHtpc0RyYWZ0TW9kZSAmJiBkcmFmdENhcmRzLmxlbmd0aCA+IDAgJiYgIWlzR2VuZXJhdGluZ0ZpbmFsQ2FyZCAmJiAhZ2VuZXJhdGVkQ2FyZCAmJiAoXG4gICAgICAgICAgPENhcmQgY2xhc3NOYW1lPVwic2hhZG93LWxnXCIgZGF0YS1jYXJkLXByZXZpZXc+XG4gICAgICAgICAgICA8Q2FyZEhlYWRlcj5cbiAgICAgICAgICAgICAgPENhcmRUaXRsZSBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxuICAgICAgICAgICAgICAgIDxQYWxldHRlIGNsYXNzTmFtZT1cInctNSBoLTUgdGV4dC1wdXJwbGUtNjAwXCIgLz5cbiAgICAgICAgICAgICAgICBDaG9vc2UgWW91ciBGYXZvcml0ZSBEZXNpZ25cbiAgICAgICAgICAgICAgPC9DYXJkVGl0bGU+XG4gICAgICAgICAgICAgIDxDYXJkRGVzY3JpcHRpb24+XG4gICAgICAgICAgICAgICAgNSBmcm9udCBjb3ZlciB2YXJpYXRpb25zIGNyZWF0ZWQgd2l0aCBsb3cgcXVhbGl0eSBmb3IgZmFzdCBwcmV2aWV3LiBTZWxlY3QgeW91ciBmYXZvcml0ZSB0byBnZW5lcmF0ZSB0aGUgY29tcGxldGUgaGlnaC1xdWFsaXR5IGNhcmQhXG4gICAgICAgICAgICAgIDwvQ2FyZERlc2NyaXB0aW9uPlxuICAgICAgICAgICAgPC9DYXJkSGVhZGVyPlxuICAgICAgICAgICAgPENhcmRDb250ZW50IGNsYXNzTmFtZT1cInNwYWNlLXktNFwiPlxuICAgICAgICAgICAgICB7LyogVW5pZmllZCBob3Jpem9udGFsIHNjcm9sbGluZyB2aWV3IGZvciBhbGwgc2NyZWVuIHNpemVzICovfVxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctZnVsbFwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBvdmVyZmxvdy14LWF1dG8gZ2FwLTMgcGItNCAtbXgtNCBweC00IHNuYXAteCBzbmFwLW1hbmRhdG9yeVwiPlxuICAgICAgICAgICAgICAgICAge0FycmF5LmZyb20oeyBsZW5ndGg6IDUgfSwgKF8sIGRpc3BsYXlJbmRleCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjYXJkID0gZHJhZnRDYXJkc1tkaXNwbGF5SW5kZXhdO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBvcmlnaW5hbEluZGV4ID0gZHJhZnRJbmRleE1hcHBpbmdbZGlzcGxheUluZGV4XTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaXNMb2FkaW5nID0gZGlzcGxheUluZGV4ID49IGRyYWZ0Q2FyZHMubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17ZGlzcGxheUluZGV4fVxuICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2BmbGV4LXNocmluay0wIHctNDggc206dy01NiBzbmFwLWNlbnRlciByb3VuZGVkLWxnIGJvcmRlci0yIHAtMiBzbTpwLTMgdHJhbnNpdGlvbi1hbGwgJHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWREcmFmdEluZGV4ID09PSBkaXNwbGF5SW5kZXhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/ICdib3JkZXItcHVycGxlLTUwMCBiZy1wdXJwbGUtNTAgZGFyazpiZy1wdXJwbGUtOTAwLzIwIHNoYWRvdy1sZydcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGNhcmRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/ICdib3JkZXItZ3JheS0yMDAgZGFyazpib3JkZXItZ3JheS03MDAgaG92ZXI6Ym9yZGVyLXB1cnBsZS0zMDAgaG92ZXI6YmctcHVycGxlLTUwLzUwIGRhcms6aG92ZXI6YmctcHVycGxlLTkwMC8xMCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6ICdib3JkZXItZGFzaGVkIGJvcmRlci1ncmF5LTMwMCBkYXJrOmJvcmRlci1ncmF5LTYwMCdcbiAgICAgICAgICAgICAgICAgICAgICAgIH1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gY2FyZCAmJiBzZXRTZWxlY3RlZERyYWZ0SW5kZXgoZGlzcGxheUluZGV4KX1cbiAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICB7Y2FyZCA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7LyogU2luZ2xlIGZyb250IGNvdmVyIHByZXZpZXcgKi99XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhc3BlY3QtWzIvM10gcmVsYXRpdmUgb3ZlcmZsb3ctaGlkZGVuIHJvdW5kZWQgYm9yZGVyIG1iLTIgc206bWItM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbWdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNyYz17Y2FyZC5mcm9udENvdmVyfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWx0PXtgRGVzaWduICR7b3JpZ2luYWxJbmRleCArIDF9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBoLWZ1bGwgb2JqZWN0LWNvdmVyXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtzZWxlY3RlZERyYWZ0SW5kZXggPT09IGRpc3BsYXlJbmRleCAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIGluc2V0LTAgYmctcHVycGxlLTYwMC8yMCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLXdoaXRlIHJvdW5kZWQtZnVsbCBwLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja0NpcmNsZSBjbGFzc05hbWU9XCJ3LTYgaC02IHNtOnctOCBzbTpoLTggdGV4dC1wdXJwbGUtNjAwXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgey8qIENhcmQgaW5mbyAqL31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtY2VudGVyIHNwYWNlLXktMSBzbTpzcGFjZS15LTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDQgY2xhc3NOYW1lPVwiZm9udC1tZWRpdW0gdGV4dC1zbVwiPkRlc2lnbiB7b3JpZ2luYWxJbmRleCArIDF9PC9oND5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7c2VsZWN0ZWRBcnRpc3RpY1N0eWxlID09PSBcImFpLXNtYXJ0LXN0eWxlXCIgJiYgY2FyZC5zdHlsZUluZm8gJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LWdyYXktNjAwIGRhcms6dGV4dC1ncmF5LTQwMCB0cnVuY2F0ZVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y2FyZC5zdHlsZUluZm8uc3R5bGVMYWJlbH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktMVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7c2VsZWN0ZWREcmFmdEluZGV4ID09PSBkaXNwbGF5SW5kZXggJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCYWRnZSBjbGFzc05hbWU9XCJiZy1wdXJwbGUtNjAwIHRleHQtd2hpdGUgdGV4dC14cyBweC0yIHB5LTEgbWItMVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg4pyTIFNlbGVjdGVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9CYWRnZT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhcmlhbnQ9XCJvdXRsaW5lXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU9XCJzbVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRQcmV2aWV3aW5nRHJhZnRJbmRleChkaXNwbGF5SW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgdGV4dC14cyBoLTcgc206aC04XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8RXllIGNsYXNzTmFtZT1cInctMyBoLTMgbXItMVwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiaGlkZGVuIHNtOmlubGluZVwiPlByZXZpZXcgRGVzaWduPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInNtOmhpZGRlblwiPlByZXZpZXc8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgcHktNiBzbTpweS04XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTYgaC02IHNtOnctOCBzbTpoLTggYm9yZGVyLTIgYm9yZGVyLXB1cnBsZS01MDAgYm9yZGVyLXQtdHJhbnNwYXJlbnQgcm91bmRlZC1mdWxsIGFuaW1hdGUtc3BpbiBteC1hdXRvIG1iLTIgc206bWItM1wiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGg0IGNsYXNzTmFtZT1cImZvbnQtbWVkaXVtIHRleHQtc20gbWItMVwiPkNyZWF0aW5nLi4uPC9oND5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtZ3JheS01MDBcIj5HZW5lcmF0aW5nIGZyb250IGNvdmVyLi4uPC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICB7LyogU2VsZWN0aW9uIGluZGljYXRvciAqL31cbiAgICAgICAgICAgICAgICB7c2VsZWN0ZWREcmFmdEluZGV4ICE9PSAtMSAmJiBkcmFmdEluZGV4TWFwcGluZ1tzZWxlY3RlZERyYWZ0SW5kZXhdICE9PSB1bmRlZmluZWQgJiYgKFxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlciBiZy1wdXJwbGUtNTAgZGFyazpiZy1wdXJwbGUtOTAwLzIwIHJvdW5kZWQtbGcgcC0zXCI+XG4gICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1wdXJwbGUtOTAwIGRhcms6dGV4dC1wdXJwbGUtMTAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAg4pyTIERlc2lnbiB7ZHJhZnRJbmRleE1hcHBpbmdbc2VsZWN0ZWREcmFmdEluZGV4XSArIDF9IHNlbGVjdGVkXG4gICAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgey8qIEdlbmVyYXRlIGJ1dHRvbiAtIHNob3cgYXMgc29vbiBhcyB1c2VyIHNlbGVjdHMgYSBjYXJkICovfVxuICAgICAgICAgICAgICB7ZHJhZnRDYXJkcy5sZW5ndGggPiAwICYmIChcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTYgdGV4dC1jZW50ZXIgc3BhY2UteS0zXCI+XG4gICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGhhbmRsZUdlbmVyYXRlRmluYWxGcm9tRHJhZnQoc2VsZWN0ZWREcmFmdEluZGV4KX1cbiAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3NlbGVjdGVkRHJhZnRJbmRleCA9PT0gLTF9XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJnLWdyYWRpZW50LXRvLXIgZnJvbS1wdXJwbGUtNjAwIHRvLXBpbmstNjAwIGhvdmVyOmZyb20tcHVycGxlLTcwMCBob3Zlcjp0by1waW5rLTcwMCB0ZXh0LXdoaXRlIHctZnVsbCBtZDp3LWF1dG9cIlxuICAgICAgICAgICAgICAgICAgICBzaXplPVwibGdcIlxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8U3BhcmtsZXMgY2xhc3NOYW1lPVwidy01IGgtNSBtci0yXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgR2VuZXJhdGUgQ29tcGxldGUgSGlnaC1RdWFsaXR5IENhcmRcbiAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICB7c2VsZWN0ZWREcmFmdEluZGV4ID09PSAtMSA/IChcbiAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LWdyYXktNTAwIGRhcms6dGV4dC1ncmF5LTQwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgIFBsZWFzZSBzZWxlY3QgYSBkZXNpZ24gdmFyaWF0aW9uIGFib3ZlIHRvIHByb2NlZWRcbiAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtZ3JlZW4tNjAwIGRhcms6dGV4dC1ncmVlbi00MDAgZm9udC1tZWRpdW1cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIOKckyBEZXNpZ24ge2RyYWZ0SW5kZXhNYXBwaW5nW3NlbGVjdGVkRHJhZnRJbmRleF0gKyAxfSBzZWxlY3RlZCAtIHJlYWR5IHRvIGdlbmVyYXRlIVxuICAgICAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICAgICAgICB7ZHJhZnRDYXJkcy5sZW5ndGggPCAxMCAmJiBpc0dlbmVyYXRpbmcgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LWdyYXktNTAwIGRhcms6dGV4dC1ncmF5LTQwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICBSZW1haW5pbmcgdmFyaWF0aW9ucyB3aWxsIGJlIGNhbmNlbGxlZCB0byBmb2N1cyBvbiB5b3VyIHNlbGVjdGVkIGRlc2lnblxuICAgICAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDwvQ2FyZENvbnRlbnQ+XG4gICAgICAgICAgPC9DYXJkPlxuICAgICAgICApfVxuXG4gICAgICAgIHsvKiBDYXJkIFByZXZpZXcgLSBIaWRlIHdoZW4gaW4gZHJhZnQgbW9kZSBvciB3aGVuIGdlbmVyYXRpbmcgZmluYWwgZnJvbSBkcmFmdCAqL31cbiAgICAgICAgeygoKSA9PiB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ/CflI0gQ2FyZCBQcmV2aWV3IFJlbmRlciBDaGVjazonLCB7XG4gICAgICAgICAgICBoYXNHZW5lcmF0ZWRDYXJkOiAhIWdlbmVyYXRlZENhcmQsXG4gICAgICAgICAgICBjYXJkSWQ6IGdlbmVyYXRlZENhcmQ/LmlkLFxuICAgICAgICAgICAgaXNDYXJkQ29tcGxldGVkLFxuICAgICAgICAgICAgZ2VuZXJhdGVkQ2FyZHNMZW5ndGg6IGdlbmVyYXRlZENhcmRzLmxlbmd0aCxcbiAgICAgICAgICAgIHNlbGVjdGVkQ2FyZEluZGV4LFxuICAgICAgICAgICAgZnJvbnRDb3ZlcjogZ2VuZXJhdGVkQ2FyZD8uZnJvbnRDb3ZlciA/ICdwcmVzZW50JyA6ICdtaXNzaW5nJyxcbiAgICAgICAgICAgIGlzRHJhZnRNb2RlLFxuICAgICAgICAgICAgaXNHZW5lcmF0aW5nRmluYWxDYXJkLFxuICAgICAgICAgICAgZHJhZnRDYXJkc0xlbmd0aDogZHJhZnRDYXJkcy5sZW5ndGhcbiAgICAgICAgICB9KTtcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfSkoKX1cbiAgICAgICAge2dlbmVyYXRlZENhcmQgJiYgIWlzR2VuZXJhdGluZ0ZpbmFsQ2FyZCAmJiAoXG4gICAgICAgICAgICAgICAgICA8Q2FyZCBjbGFzc05hbWU9XCJzaGFkb3ctbGdcIiBkYXRhLWNhcmQtcHJldmlldz5cbiAgICAgICAgICAgICAgICAgICAgPENhcmRIZWFkZXI+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW5cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxDYXJkVGl0bGUgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7aXNDYXJkQ29tcGxldGVkICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctNiBoLTYgYmctZ3JlZW4tNTAwIHJvdW5kZWQtZnVsbCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZT17Z2VuZXJhdGlvbkR1cmF0aW9uID8gYEdlbmVyYXRlZCBpbiAke2Zvcm1hdEdlbmVyYXRpb25UaW1lKGdlbmVyYXRpb25EdXJhdGlvbil9YCA6ICdDYXJkIGNvbXBsZXRlZCd9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtd2hpdGUgdGV4dC1zbVwiPuKckzwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge251bWJlck9mQ2FyZHMgPiAxID8gYFlvdXIgQ2FyZHMgKCR7Z2VuZXJhdGVkQ2FyZHMubGVuZ3RofSBHZW5lcmF0ZWQpYCA6ICdZb3VyIENhcmQnfVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L0NhcmRUaXRsZT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPENhcmREZXNjcmlwdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7aXNDYXJkQ29tcGxldGVkID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtZ3JlZW4tNjAwIGRhcms6dGV4dC1ncmVlbi00MDAgZm9udC1tZWRpdW1cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg8J+OiSBDYXJkIGdlbmVyYXRpb24gY29tcGxldGUhIFlvdXIgY2FyZCBpcyByZWFkeSBmb3IgcHJpbnRpbmcgb3Igc2hhcmluZy5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2dlbmVyYXRpb25EdXJhdGlvbiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJpbmxpbmUtZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgYmctYmx1ZS01MCBkYXJrOmJnLWJsdWUtOTAwLzIwIHRleHQtYmx1ZS03MDAgZGFyazp0ZXh0LWJsdWUtMzAwIHB4LTMgcHktMSByb3VuZGVkLWZ1bGwgdGV4dC1zbSBmb250LW1lZGl1bVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1ibHVlLTUwMFwiPuKaoTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEdlbmVyYXRlZCBpbiB7Zm9ybWF0R2VuZXJhdGlvblRpbWUoZ2VuZXJhdGlvbkR1cmF0aW9uKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDcmVhdGVkIHtuZXcgRGF0ZShnZW5lcmF0ZWRDYXJkLmNyZWF0ZWRBdCkudG9Mb2NhbGVEYXRlU3RyaW5nKCl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtudW1iZXJPZkNhcmRzID4gMSAmJiBgIOKAoiBWaWV3aW5nIENhcmQgJHtzZWxlY3RlZENhcmRJbmRleCArIDF9IG9mICR7Z2VuZXJhdGVkQ2FyZHMubGVuZ3RofWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L0NhcmREZXNjcmlwdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgey8qIENhcmQgU2VsZWN0b3IgZm9yIE11bHRpcGxlIENhcmRzICovfVxuICAgICAgICAgICAgICAgICAgICAgIHtudW1iZXJPZkNhcmRzID4gMSAmJiBnZW5lcmF0ZWRDYXJkcy5sZW5ndGggPiAxICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtNFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwidGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWdyYXktNzAwIGRhcms6dGV4dC1ncmF5LTMwMCBtYi0yIGJsb2NrXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQ2hvb3NlIFlvdXIgRmF2b3JpdGUgQ2FyZFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgZ3JpZC1jb2xzLTIgbWQ6Z3JpZC1jb2xzLTQgZ2FwLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Z2VuZXJhdGVkQ2FyZHMubWFwKChjYXJkLCBpbmRleCkgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2NhcmQuaWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YHJlbGF0aXZlIGN1cnNvci1wb2ludGVyIHJvdW5kZWQtbGcgYm9yZGVyLTIgcC0yIHRyYW5zaXRpb24tYWxsICR7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRDYXJkSW5kZXggPT09IGluZGV4XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/ICdib3JkZXItYmx1ZS01MDAgYmctYmx1ZS01MCBkYXJrOmJnLWJsdWUtOTAwLzIwJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiAnYm9yZGVyLWdyYXktMjAwIGRhcms6Ym9yZGVyLWdyYXktNzAwIGhvdmVyOmJvcmRlci1ncmF5LTMwMCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRTZWxlY3RlZENhcmRJbmRleChpbmRleCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0R2VuZXJhdGVkQ2FyZChjYXJkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhc3BlY3QtWzIvM10gcmVsYXRpdmUgb3ZlcmZsb3ctaGlkZGVuIHJvdW5kZWRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y2FyZC5mcm9udENvdmVyID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGltZ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcmM9e2NhcmQuZnJvbnRDb3Zlcn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWx0PXtgQ2FyZCAke2luZGV4ICsgMX0gUHJldmlld2B9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBoLWZ1bGwgb2JqZWN0LWNvdmVyXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy1mdWxsIGgtZnVsbCBiZy1ncmF5LTEwMCBkYXJrOmJnLWdyYXktODAwIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy00IGgtNCBib3JkZXItMiBib3JkZXItYmx1ZS01MDAgYm9yZGVyLXQtdHJhbnNwYXJlbnQgcm91bmRlZC1mdWxsIGFuaW1hdGUtc3BpblwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlciBtdC0xXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC14cyBmb250LW1lZGl1bVwiPkNhcmQge2luZGV4ICsgMX08L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3NlbGVjdGVkQ2FyZEluZGV4ID09PSBpbmRleCAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1ibHVlLTYwMCBkYXJrOnRleHQtYmx1ZS00MDBcIj5TZWxlY3RlZDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgPC9DYXJkSGVhZGVyPlxuICAgICAgICAgICAgICAgICAgICA8Q2FyZENvbnRlbnQ+XG4gICAgICAgICAgICAgICAgICAgICAgPENhcmRQcmV2aWV3IFxuICAgICAgICAgICAgICAgICAgICAgICAgY2FyZD17Z2VuZXJhdGVkQ2FyZH0gXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNhcmRVcGRhdGU9eyh1cGRhdGVkQ2FyZCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRHZW5lcmF0ZWRDYXJkKHVwZGF0ZWRDYXJkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQWxzbyB1cGRhdGUgdGhlIGNhcmQgaW4gdGhlIGNhcmRzIGFycmF5XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldEdlbmVyYXRlZENhcmRzKHByZXYgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHVwZGF0ZWQgPSBbLi4ucHJldl07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlZFtzZWxlY3RlZENhcmRJbmRleF0gPSB1cGRhdGVkQ2FyZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdXBkYXRlZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgaXNGcm9udEJhY2tPbmx5PXtpc0Zyb250QmFja09ubHl9XG4gICAgICAgICAgICAgICAgICAgICAgICBvblByaW50PXtoYW5kbGVQcmludENsaWNrfVxuICAgICAgICAgICAgICAgICAgICAgICAgcGFwZXJDb25maWc9e3BhcGVyU2l6ZXMuZmluZChzaXplID0+IHNpemUuaWQgPT09IHNlbGVjdGVkUGFwZXJTaXplKSB8fCBwYXBlclNpemVzWzBdfVxuICAgICAgICAgICAgICAgICAgICAgICAgc2VjdGlvbkxvYWRpbmdTdGF0ZXM9e3NlY3Rpb25Mb2FkaW5nU3RhdGVzfVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gUGFzcyBwYXBlciBzaXplIGNvbnRyb2wgcHJvcHNcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkUGFwZXJTaXplPXtzZWxlY3RlZFBhcGVyU2l6ZX1cbiAgICAgICAgICAgICAgICAgICAgICAgIG9uUGFwZXJTaXplQ2hhbmdlPXtzZXRTZWxlY3RlZFBhcGVyU2l6ZX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcGVyU2l6ZXM9e3BhcGVyU2l6ZXN9XG4gICAgICAgICAgICAgICAgICAgICAgICBpc0NhcmRDb21wbGV0ZWQ9e2lzQ2FyZENvbXBsZXRlZH1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEZhc3QgcHJldmlldyBmdW5jdGlvbmFsaXR5XG4gICAgICAgICAgICAgICAgICAgICAgICBmYXN0UHJldmlld01vZGU9e2Zhc3RQcmV2aWV3TW9kZSAmJiAhaXNDYXJkQ29tcGxldGVkfVxuICAgICAgICAgICAgICAgICAgICAgICAgb25WaWV3RnVsbENhcmQ9eygpID0+IHNldEZhc3RQcmV2aWV3TW9kZShmYWxzZSl9XG4gICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgPC9DYXJkQ29udGVudD5cbiAgICAgICAgICAgICAgICAgIDwvQ2FyZD5cbiAgICAgICAgKX1cblxuICAgICAgICB7LyogRW1wdHkgU3RhdGUgLSBPbmx5IHNob3cgd2hlbiBubyBjYXJkcyBhbmQgbm90IGluIGRyYWZ0IG1vZGUgKi99XG4gICAgICAgIHshZ2VuZXJhdGVkQ2FyZCAmJiAhaXNEcmFmdE1vZGUgJiYgZHJhZnRDYXJkcy5sZW5ndGggPT09IDAgJiYgKFxuICAgICAgICAgICAgICA8Q2FyZCBjbGFzc05hbWU9XCJzaGFkb3ctbGdcIj5cbiAgICAgICAgICAgICAgICA8Q2FyZENvbnRlbnQgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgcHktMTIgdGV4dC1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0xNiBoLTE2IGJnLWdyYWRpZW50LXRvLWJyIGZyb20tYmx1ZS01MDAgdG8tY3lhbi02MDAgcm91bmRlZC1mdWxsIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIG1iLTRcIj5cbiAgICAgICAgICAgICAgICAgICAgPFNwYXJrbGVzIGNsYXNzTmFtZT1cInctOCBoLTggdGV4dC13aGl0ZVwiIC8+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJ0ZXh0LWxnIGZvbnQtc2VtaWJvbGQgdGV4dC1ncmF5LTkwMCBkYXJrOnRleHQtd2hpdGUgbWItMlwiPlxuICAgICAgICAgICAgICAgIFJlYWR5IHRvIENyZWF0ZT9cbiAgICAgICAgICAgICAgICAgIDwvaDM+XG4gICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtZ3JheS02MDAgZGFyazp0ZXh0LWdyYXktNDAwIHRleHQtc20gbWF4LXctc21cIj5cbiAgICAgICAgICAgICAgICBEZXNjcmliZSB5b3VyIHBlcmZlY3QgY2FyZCBhYm92ZSBhbmQgd2UnbGwgYnJpbmcgaXQgdG8gbGlmZSB3aXRoIGNyZWF0aXZlIG1hZ2ljIVxuICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgIDwvQ2FyZENvbnRlbnQ+XG4gICAgICAgICAgICAgIDwvQ2FyZD5cbiAgICAgICAgICAgICl9XG5cbiAgICAgICAgey8qIFJlY2VudCBDYXJkcyBQcmV2aWV3IC0gT25seSBzaG93IHdoZW4gbm8gY2FyZCBpcyBnZW5lcmF0ZWQgYW5kIG5vdCBpbiBkcmFmdCBtb2RlICovfVxuICAgICAgICB7IWdlbmVyYXRlZENhcmQgJiYgIWlzRHJhZnRNb2RlICYmIGRyYWZ0Q2FyZHMubGVuZ3RoID09PSAwICYmIChcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LThcIj5cbiAgICAgICAgICAgIDxSZWNlbnRDYXJkc1ByZXZpZXcgXG4gICAgICAgICAgICAgIG1heENhcmRzPXs2fVxuICAgICAgICAgICAgICBvbkNhcmRTZWxlY3Q9eyhjYXJkKSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gV2hlbiBhIGNhcmQgaXMgc2VsZWN0ZWQgZnJvbSB0aGUgcHJldmlldywgb3BlbiB0aGUgY2FyZCB2aWV3ZXIgd2ViIGFwcFxuICAgICAgICAgICAgICAgIGxldCBjYXJkSWQgPSBjYXJkLmlkO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIC8vIElmIHNoYXJlVXJsIGNvbnRhaW5zIGEgY2FyZCBJRCwgZXh0cmFjdCBpdFxuICAgICAgICAgICAgICAgIGlmIChjYXJkLnNoYXJlVXJsICYmIGNhcmQuc2hhcmVVcmwuaW5jbHVkZXMoJy9jYXJkLycpKSB7XG4gICAgICAgICAgICAgICAgICBjb25zdCB1cmxQYXJ0cyA9IGNhcmQuc2hhcmVVcmwuc3BsaXQoJy9jYXJkLycpO1xuICAgICAgICAgICAgICAgICAgaWYgKHVybFBhcnRzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FyZElkID0gdXJsUGFydHNbMV0uc3BsaXQoJz8nKVswXTsgLy8gUmVtb3ZlIGFueSBxdWVyeSBwYXJhbWV0ZXJzXG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIC8vIE5hdmlnYXRlIHRvIHRoZSBjYXJkIHZpZXdlciB3ZWIgYXBwXG4gICAgICAgICAgICAgICAgd2luZG93Lm9wZW4oYC9jYXJkLyR7Y2FyZElkfWAsICdfYmxhbmsnKTtcbiAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICl9XG5cbiAgICAgICAgey8qIFRlbXBsYXRlIEN1c3RvbWl6YXRpb24gRGlhbG9nICovfVxuICAgICAgICA8RGlhbG9nIG9wZW49e3Nob3dUZW1wbGF0ZUN1c3RvbWl6YXRpb259IG9uT3BlbkNoYW5nZT17c2V0U2hvd1RlbXBsYXRlQ3VzdG9taXphdGlvbn0+XG4gICAgICAgICAgPERpYWxvZ0NvbnRlbnQgY2xhc3NOYW1lPVwic206bWF4LXctMnhsIG1heC1oLVs5MHZoXSBvdmVyZmxvdy15LWF1dG9cIj5cbiAgICAgICAgICAgIDxEaWFsb2dIZWFkZXI+XG4gICAgICAgICAgICAgIDxEaWFsb2dUaXRsZSBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxuICAgICAgICAgICAgICAgIDxXYW5kMiBjbGFzc05hbWU9XCJ3LTUgaC01IHRleHQtcHVycGxlLTYwMFwiIC8+XG4gICAgICAgICAgICAgICAgQ3VzdG9taXplIFRlbXBsYXRlXG4gICAgICAgICAgICAgIDwvRGlhbG9nVGl0bGU+XG4gICAgICAgICAgICAgIDxEaWFsb2dEZXNjcmlwdGlvbj5cbiAgICAgICAgICAgICAgICBQZXJzb25hbGl6ZSB0aGlzIHRlbXBsYXRlIHdpdGggeW91ciBvd24gY2hhbmdlcywgbWVzc2FnZSwgYW5kIHJlZmVyZW5jZSBpbWFnZXMgYmVmb3JlIGdlbmVyYXRpbmcuXG4gICAgICAgICAgICAgIDwvRGlhbG9nRGVzY3JpcHRpb24+XG4gICAgICAgICAgICA8L0RpYWxvZ0hlYWRlcj5cbiAgICAgICAgICAgIFxuICAgICAgICAgICAge3NlbGVjdGVkVGVtcGxhdGUgJiYgKFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktNiBweS00XCI+XG4gICAgICAgICAgICAgICAgey8qIFRlbXBsYXRlIFByZXZpZXcgKi99XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTNcIj5cbiAgICAgICAgICAgICAgICAgIDxoNCBjbGFzc05hbWU9XCJmb250LW1lZGl1bVwiPlNlbGVjdGVkIFRlbXBsYXRlPC9oND5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctZ3JheS01MCBkYXJrOmJnLWdyYXktODAwIHJvdW5kZWQtbGcgcC00XCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1zdGFydCBnYXAtNFwiPlxuICAgICAgICAgICAgICAgICAgICAgIHtzZWxlY3RlZFRlbXBsYXRlLmZyb250Q292ZXIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgPGltZ1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzcmM9e3NlbGVjdGVkVGVtcGxhdGUuZnJvbnRDb3Zlcn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgYWx0PVwiVGVtcGxhdGUgcHJldmlld1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctMjQgaC0zNiBvYmplY3QtY292ZXIgcm91bmRlZC1sZyBzaGFkb3ctbWRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC0xXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZ3JheS05MDAgZGFyazp0ZXh0LWdyYXktMTAwIG1iLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgVGVtcGxhdGUgRGV0YWlsczpcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LWdyYXktNjAwIGRhcms6dGV4dC1ncmF5LTQwMCBiZy13aGl0ZSBkYXJrOmJnLWdyYXktNzAwIHAtMyByb3VuZGVkIGJvcmRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cImZvbnQtbWVkaXVtIG1iLTJcIj5PcmlnaW5hbCBJbnB1dDo8L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+e3NlbGVjdGVkVGVtcGxhdGUucHJvbXB0fTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtzZWxlY3RlZFRlbXBsYXRlLmdlbmVyYXRlZFByb21wdHMgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LWdyYXktNjAwIGRhcms6dGV4dC1ncmF5LTQwMCBiZy1ibHVlLTUwIGRhcms6YmctYmx1ZS05MDAvMjAgcC0zIHJvdW5kZWQgYm9yZGVyIGJvcmRlci1ibHVlLTIwMCBkYXJrOmJvcmRlci1ibHVlLTgwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwiZm9udC1tZWRpdW0gbWItMiB0ZXh0LWJsdWUtOTAwIGRhcms6dGV4dC1ibHVlLTEwMFwiPkdlbmVyYXRlZCBJbWFnZSBQcm9tcHRzOjwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0yIG1heC1oLTMyIG92ZXJmbG93LXktYXV0b1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7c2VsZWN0ZWRUZW1wbGF0ZS5nZW5lcmF0ZWRQcm9tcHRzLmZyb250Q292ZXIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkIHRleHQtYmx1ZS04MDAgZGFyazp0ZXh0LWJsdWUtMjAwXCI+RnJvbnQgQ292ZXI6PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC14cyBtdC0xXCI+e3NlbGVjdGVkVGVtcGxhdGUuZ2VuZXJhdGVkUHJvbXB0cy5mcm9udENvdmVyLnN1YnN0cmluZygwLCAxNTApfS4uLjwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3NlbGVjdGVkVGVtcGxhdGUuZ2VuZXJhdGVkUHJvbXB0cy5iYWNrQ292ZXIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkIHRleHQtYmx1ZS04MDAgZGFyazp0ZXh0LWJsdWUtMjAwXCI+QmFjayBDb3Zlcjo8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXhzIG10LTFcIj57c2VsZWN0ZWRUZW1wbGF0ZS5nZW5lcmF0ZWRQcm9tcHRzLmJhY2tDb3Zlci5zdWJzdHJpbmcoMCwgMTUwKX0uLi48L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtzZWxlY3RlZFRlbXBsYXRlLmdlbmVyYXRlZFByb21wdHMubGVmdEludGVyaW9yICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZCB0ZXh0LWJsdWUtODAwIGRhcms6dGV4dC1ibHVlLTIwMFwiPkxlZnQgSW50ZXJpb3I6PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC14cyBtdC0xXCI+e3NlbGVjdGVkVGVtcGxhdGUuZ2VuZXJhdGVkUHJvbXB0cy5sZWZ0SW50ZXJpb3Iuc3Vic3RyaW5nKDAsIDE1MCl9Li4uPC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7c2VsZWN0ZWRUZW1wbGF0ZS5nZW5lcmF0ZWRQcm9tcHRzLnJpZ2h0SW50ZXJpb3IgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkIHRleHQtYmx1ZS04MDAgZGFyazp0ZXh0LWJsdWUtMjAwXCI+UmlnaHQgSW50ZXJpb3I6PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC14cyBtdC0xXCI+e3NlbGVjdGVkVGVtcGxhdGUuZ2VuZXJhdGVkUHJvbXB0cy5yaWdodEludGVyaW9yLnN1YnN0cmluZygwLCAxNTApfS4uLjwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICB7LyogUHJvbXB0IEN1c3RvbWl6YXRpb25zICovfVxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0zXCI+XG4gICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwidGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWdyYXktNzAwIGRhcms6dGV4dC1ncmF5LTMwMFwiPlxuICAgICAgICAgICAgICAgICAgICBBZGRpdGlvbmFsIENoYW5nZXMgdG8gRGVzaWduIChPcHRpb25hbClcbiAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICA8VGV4dGFyZWFcbiAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJlLmcuLCAnQ2hhbmdlIHRoZSBtZXNzYWdlIHRvIHNheSBmcm9tIEpvcmRhbicsICdNYWtlIGl0IG1vcmUgcm9tYW50aWMnLCAnQWRkIG1vcmUgZmxvd2VycycsICdDaGFuZ2UgY29sb3JzIHRvIGJsdWUgYW5kIGdvbGQnLi4uXCJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3RlbXBsYXRlQ3VzdG9taXphdGlvbnMucHJvbXB0Q2hhbmdlc31cbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRUZW1wbGF0ZUN1c3RvbWl6YXRpb25zKHByZXYgPT4gKHtcbiAgICAgICAgICAgICAgICAgICAgICAuLi5wcmV2LFxuICAgICAgICAgICAgICAgICAgICAgIHByb21wdENoYW5nZXM6IGUudGFyZ2V0LnZhbHVlXG4gICAgICAgICAgICAgICAgICAgIH0pKX1cbiAgICAgICAgICAgICAgICAgICAgcm93cz17M31cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicmVzaXplLW5vbmVcIlxuICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBmb250U2l6ZTogJzE2cHgnIH19XG4gICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LWdyYXktNTAwIGRhcms6dGV4dC1ncmF5LTQwMFwiPlxuICAgICAgICAgICAgICAgICAgICBEZXNjcmliZSBhbnkgY2hhbmdlcyB5b3Ugd2FudCB0byBtYWtlIHRvIHRoZSB0ZW1wbGF0ZSBkZXNpZ24sIHN0eWxlLCBvciBjb250ZW50LlxuICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgey8qIE1lc3NhZ2UgQ3VzdG9taXphdGlvbiAqL31cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktM1wiPlxuICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cInRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1ncmF5LTcwMCBkYXJrOnRleHQtZ3JheS0zMDBcIj5cbiAgICAgICAgICAgICAgICAgICAgQ3VzdG9tIE1lc3NhZ2UgKE9wdGlvbmFsKVxuICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgIDxUZXh0YXJlYVxuICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIkxlYXZlIGVtcHR5IHRvIGF1dG8tZ2VuZXJhdGUgYSBtZXNzYWdlLCBvciB3cml0ZSB5b3VyIG93biBjdXN0b20gbWVzc2FnZSBoZXJlLi4uXCJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3RlbXBsYXRlQ3VzdG9taXphdGlvbnMubWVzc2FnZUNoYW5nZXN9XG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0VGVtcGxhdGVDdXN0b21pemF0aW9ucyhwcmV2ID0+ICh7XG4gICAgICAgICAgICAgICAgICAgICAgLi4ucHJldixcbiAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlQ2hhbmdlczogZS50YXJnZXQudmFsdWVcbiAgICAgICAgICAgICAgICAgICAgfSkpfVxuICAgICAgICAgICAgICAgICAgICByb3dzPXs0fVxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJyZXNpemUtbm9uZVwiXG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IGZvbnRTaXplOiAnMTZweCcgfX1cbiAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtZ3JheS01MDAgZGFyazp0ZXh0LWdyYXktNDAwXCI+XG4gICAgICAgICAgICAgICAgICAgIFRoaXMgd2lsbCByZXBsYWNlIHRoZSBjYXJkJ3MgaW50ZXJpb3IgbWVzc2FnZS4gTGVhdmUgYmxhbmsgdG8gYXV0by1nZW5lcmF0ZS5cbiAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgIHsvKiBSZWZlcmVuY2UgSW1hZ2UgT3B0aW9uICovfVxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS00XCI+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIHNwYWNlLXgtM1wiPlxuICAgICAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICAgIGlkPVwidXNlLXJlZmVyZW5jZS1pbWFnZVwiXG4gICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17dGVtcGxhdGVDdXN0b21pemF0aW9ucy51c2VSZWZlcmVuY2VJbWFnZX1cbiAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldFRlbXBsYXRlQ3VzdG9taXphdGlvbnMocHJldiA9PiAoe1xuICAgICAgICAgICAgICAgICAgICAgICAgLi4ucHJldixcbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZVJlZmVyZW5jZUltYWdlOiBlLnRhcmdldC5jaGVja2VkLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVmZXJlbmNlSW1hZ2VGaWxlOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVmZXJlbmNlSW1hZ2VVcmxzOiBbXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlZmVyZW5jZUltYWdlVHJhbnNmb3JtYXRpb246IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICB9KSl9XG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicm91bmRlZFwiXG4gICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgIDxsYWJlbCBodG1sRm9yPVwidXNlLXJlZmVyZW5jZS1pbWFnZVwiIGNsYXNzTmFtZT1cInRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1ncmF5LTcwMCBkYXJrOnRleHQtZ3JheS0zMDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICBBZGQgcmVmZXJlbmNlIHBob3RvIHRvIHBlcnNvbmFsaXplIHRoZSBjYXJkXG4gICAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAge3RlbXBsYXRlQ3VzdG9taXphdGlvbnMudXNlUmVmZXJlbmNlSW1hZ2UgJiYgKFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktNCBwbC02IGJvcmRlci1sLTIgYm9yZGVyLXB1cnBsZS0yMDAgZGFyazpib3JkZXItcHVycGxlLTgwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1wdXJwbGUtNjAwIGRhcms6dGV4dC1wdXJwbGUtNDAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICBVcGxvYWQgYSBwaG90byB0byBjcmVhdGUgY2FydG9vbiBjaGFyYWN0ZXJzIHRoYXQgbG9vayBsaWtlIHRoZSBwZW9wbGUgaW4geW91ciBwaG90byFcbiAgICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgey8qIEZpbGUgVXBsb2FkICovfVxuICAgICAgICAgICAgICAgICAgICAgIHshdGVtcGxhdGVDdXN0b21pemF0aW9ucy5yZWZlcmVuY2VJbWFnZUZpbGUgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJvcmRlci0yIGJvcmRlci1kYXNoZWQgYm9yZGVyLWdyYXktMzAwIGRhcms6Ym9yZGVyLWdyYXktNjAwIHJvdW5kZWQtbGcgcC00IHRleHQtY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJmaWxlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY2NlcHQ9XCJpbWFnZS8qXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGZpbGUgPSBlLnRhcmdldC5maWxlcz8uWzBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZpbGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGVtcGxhdGVDdXN0b21pemF0aW9ucyhwcmV2ID0+ICh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4ucHJldixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWZlcmVuY2VJbWFnZUZpbGU6IGZpbGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiaGlkZGVuXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZD1cInRlbXBsYXRlLXJlZmVyZW5jZS11cGxvYWRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgaHRtbEZvcj1cInRlbXBsYXRlLXJlZmVyZW5jZS11cGxvYWRcIiBjbGFzc05hbWU9XCJjdXJzb3ItcG9pbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxVcGxvYWQgY2xhc3NOYW1lPVwidy02IGgtNiBteC1hdXRvIG1iLTIgdGV4dC1ncmF5LTQwMFwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtZ3JheS02MDAgZGFyazp0ZXh0LWdyYXktNDAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBVcGxvYWQgcmVmZXJlbmNlIHBob3RvXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gcC0zIGJnLXB1cnBsZS01MCBkYXJrOmJnLXB1cnBsZS05MDAvMjAgcm91bmRlZC1sZ1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbWFnZUljb24gY2xhc3NOYW1lPVwidy00IGgtNCB0ZXh0LXB1cnBsZS02MDBcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LXB1cnBsZS04MDAgZGFyazp0ZXh0LXB1cnBsZS0yMDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3RlbXBsYXRlQ3VzdG9taXphdGlvbnMucmVmZXJlbmNlSW1hZ2VGaWxlLm5hbWV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyaWFudD1cImdob3N0XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU9XCJzbVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRUZW1wbGF0ZUN1c3RvbWl6YXRpb25zKHByZXYgPT4gKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4ucHJldixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVmZXJlbmNlSW1hZ2VGaWxlOiBudWxsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFggY2xhc3NOYW1lPVwidy00IGgtNFwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgey8qIFRyYW5zZm9ybWF0aW9uIEluc3RydWN0aW9ucyAqL31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwidGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWdyYXktNzAwIGRhcms6dGV4dC1ncmF5LTMwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSG93IHRvIHVzZSB0aGUgcmVmZXJlbmNlIHBob3RvXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VGV4dGFyZWFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiZS5nLiwgJ1VzZSB0aGlzIHBob3RvIHRvIGNyZWF0ZSBjYXJ0b29uIHZlcnNpb25zIG9mIG1lIGFuZCBteSBnaXJsZnJpZW5kIG9uIHRoZSBmcm9udCBjb3ZlcicsICdSZXBsYWNlIHRoZSBwZW9wbGUgaW4gdGhlIHRlbXBsYXRlIHdpdGggdXMnLCAnTWFrZSB1cyBsb29rIGxpa2UgdGhlIGNoYXJhY3RlcnMgaW4gdGhlIHRlbXBsYXRlIHN0eWxlJy4uLlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17dGVtcGxhdGVDdXN0b21pemF0aW9ucy5yZWZlcmVuY2VJbWFnZVRyYW5zZm9ybWF0aW9ufVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRUZW1wbGF0ZUN1c3RvbWl6YXRpb25zKHByZXYgPT4gKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4ucHJldixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVmZXJlbmNlSW1hZ2VUcmFuc2Zvcm1hdGlvbjogZS50YXJnZXQudmFsdWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvd3M9ezN9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJyZXNpemUtbm9uZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBmb250U2l6ZTogJzE2cHgnIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtZ3JheS01MDAgZGFyazp0ZXh0LWdyYXktNDAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZXNjcmliZSBob3cgeW91IHdhbnQgeW91ciBwaG90byB0byBiZSBpbmNvcnBvcmF0ZWQgaW50byB0aGUgdGVtcGxhdGUgZGVzaWduLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICB7LyogQWN0aW9uIEJ1dHRvbnMgKi99XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGdhcC0zIHB0LTQgYm9yZGVyLXRcIj5cbiAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgdmFyaWFudD1cIm91dGxpbmVcIlxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgc2V0U2hvd1RlbXBsYXRlQ3VzdG9taXphdGlvbihmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgc2V0U2VsZWN0ZWRUZW1wbGF0ZShudWxsKTtcbiAgICAgICAgICAgICAgICAgICAgICBzZXRTaG93VGVtcGxhdGVHYWxsZXJ5KHRydWUpOyAvLyBHbyBiYWNrIHRvIHRlbXBsYXRlIGdhbGxlcnlcbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZmxleC0xXCJcbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgQmFjayB0byBUZW1wbGF0ZXNcbiAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVBcHBseVRlbXBsYXRlV2l0aEN1c3RvbWl6YXRpb25zfVxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmbGV4LTEgYmctZ3JhZGllbnQtdG8tciBmcm9tLXB1cnBsZS02MDAgdG8tYmx1ZS02MDAgaG92ZXI6ZnJvbS1wdXJwbGUtNzAwIGhvdmVyOnRvLWJsdWUtNzAwIHRleHQtd2hpdGVcIlxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8V2FuZDIgY2xhc3NOYW1lPVwidy00IGgtNCBtci0yXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgQXBwbHkgJiBHZW5lcmF0ZSBDYXJkXG4gICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApfVxuICAgICAgICAgIDwvRGlhbG9nQ29udGVudD5cbiAgICAgICAgPC9EaWFsb2c+XG5cbiAgICAgICAgey8qIFRlbXBsYXRlIEdhbGxlcnkgRGlhbG9nICovfVxuICAgICAgICA8RGlhbG9nIG9wZW49e3Nob3dUZW1wbGF0ZUdhbGxlcnl9IG9uT3BlbkNoYW5nZT17c2V0U2hvd1RlbXBsYXRlR2FsbGVyeX0+XG4gICAgICAgICAgPERpYWxvZ0NvbnRlbnQgY2xhc3NOYW1lPVwidy1bOTV2d10gbWF4LXctN3hsIGgtWzg1dmhdIHNtOm1heC1oLVs5NXZoXSBvdmVyZmxvdy1oaWRkZW4gcC0wIGZsZXggZmxleC1jb2xcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctZ3JhZGllbnQtdG8tYnIgZnJvbS1ibHVlLTUwIHZpYS1wdXJwbGUtNTAgdG8tcGluay01MCBkYXJrOmZyb20tZ3JheS05MDAgZGFyazp2aWEtcHVycGxlLTkwMC8yMCBkYXJrOnRvLWJsdWUtOTAwLzIwIHAtMyBzbTpwLTYgZmxleC1zaHJpbmstMFwiPlxuICAgICAgICAgICAgICA8RGlhbG9nSGVhZGVyPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIG1iLTIgc206bWItNFwiPlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiBzbTpnYXAtM1wiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctOCBoLTggc206dy0xMiBzbTpoLTEyIGJnLWdyYWRpZW50LXRvLWJyIGZyb20tcHVycGxlLTUwMCB0by1waW5rLTYwMCByb3VuZGVkLXhsIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHNoYWRvdy1sZ1wiPlxuICAgICAgICAgICAgICAgICAgICAgIDxFeWUgY2xhc3NOYW1lPVwidy00IGgtNCBzbTp3LTcgc206aC03IHRleHQtd2hpdGVcIiAvPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICA8RGlhbG9nVGl0bGUgY2xhc3NOYW1lPVwidGV4dC1sZyBzbTp0ZXh0LTJ4bCBmb250LWJvbGQgYmctZ3JhZGllbnQtdG8tciBmcm9tLXB1cnBsZS02MDAgdG8tcGluay02MDAgYmctY2xpcC10ZXh0IHRleHQtdHJhbnNwYXJlbnRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIFRlbXBsYXRlIEdhbGxlcnlcbiAgICAgICAgICAgICAgICAgICAgICA8L0RpYWxvZ1RpdGxlPlxuICAgICAgICAgICAgICAgICAgICAgIDxEaWFsb2dEZXNjcmlwdGlvbiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHNtOnRleHQtc20gdGV4dC1ncmF5LTYwMCBkYXJrOnRleHQtZ3JheS00MDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIEZpbmQgdGhlIHBlcmZlY3Qgc3RhcnRpbmcgcG9pbnQgZm9yIHlvdXIgY2FyZFxuICAgICAgICAgICAgICAgICAgICAgIDwvRGlhbG9nRGVzY3JpcHRpb24+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgIHsvKiBTaG93IFByb21wdHMgVG9nZ2xlICovfVxuICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICB2YXJpYW50PVwib3V0bGluZVwiXG4gICAgICAgICAgICAgICAgICAgIHNpemU9XCJzbVwiXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldFNob3dQcm9tcHRzKCFzaG93UHJvbXB0cyl9XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImdhcC0xIHNtOmdhcC0yIGJnLXdoaXRlLzgwIGRhcms6YmctZ3JheS04MDAvODAgYmFja2Ryb3AtYmx1ci1zbSBoLTggc206aC05IHRleHQteHMgc206dGV4dC1zbVwiXG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIDxNZXNzYWdlU3F1YXJlIGNsYXNzTmFtZT1cInctMyBoLTMgc206dy00IHNtOmgtNFwiIC8+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImhpZGRlbiBzbTppbmxpbmVcIj57c2hvd1Byb21wdHMgPyAnSGlkZScgOiAnU2hvdyd9IFByb21wdHM8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInNtOmhpZGRlblwiPntzaG93UHJvbXB0cyA/ICdIaWRlJyA6ICdTaG93J308L3NwYW4+XG4gICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9EaWFsb2dIZWFkZXI+XG4gICAgICAgICAgICBcbiAgICAgICAgICAgICAgey8qIFRlbXBsYXRlIFNlYXJjaCBTZWN0aW9uIC0gQ29tcGFjdCBNb2JpbGUgVmVyc2lvbiAqL31cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy13aGl0ZSBkYXJrOmJnLWdyYXktODAwIHJvdW5kZWQteGwgcC0yIHNtOnAtNiBzaGFkb3ctc20gc3BhY2UteS0yIHNtOnNwYWNlLXktNFwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIGdhcC0yXCI+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy02IGgtNiBzbTp3LTEwIHNtOmgtMTAgYmctZ3JhZGllbnQtdG8tYnIgZnJvbS1wdXJwbGUtMTAwIHRvLXBpbmstMTAwIGRhcms6ZnJvbS1wdXJwbGUtOTAwIGRhcms6dG8tcGluay05MDAgcm91bmRlZC1sZyBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxTcGFya2xlcyBjbGFzc05hbWU9XCJ3LTMgaC0zIHNtOnctNSBzbTpoLTUgdGV4dC1wdXJwbGUtNjAwIGRhcms6dGV4dC1wdXJwbGUtNDAwXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgPGgzIGNsYXNzTmFtZT1cInRleHQtc20gc206dGV4dC1sZyBmb250LXNlbWlib2xkIHRleHQtZ3JheS05MDAgZGFyazp0ZXh0LWdyYXktMTAwXCI+U2VhcmNoPC9oMz5cbiAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtZ3JheS02MDAgZGFyazp0ZXh0LWdyYXktNDAwIGhpZGRlbiBzbTpibG9ja1wiPkZpbmQgdGVtcGxhdGVzIGJ5IGtleXdvcmRzIG9yIHZpc3VhbCBzdHlsZTwvcD5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgey8qIFNlYXJjaCBNb2RlIFRvZ2dsZSAtIENvbXBhY3Qgb24gbW9iaWxlICovfVxuICAgICAgICAgICAgICAgICAgPFNlbGVjdCB2YWx1ZT17c2VhcmNoTW9kZX0gb25WYWx1ZUNoYW5nZT17KHZhbHVlOiAndGV4dCcgfCAnYWknIHwgJ2h5YnJpZCcpID0+IHNldFNlYXJjaE1vZGUodmFsdWUpfT5cbiAgICAgICAgICAgICAgICAgICAgPFNlbGVjdFRyaWdnZXIgY2xhc3NOYW1lPVwidy0yMCBzbTp3LTM2IGgtNyBzbTpoLTEwIGJvcmRlciB0ZXh0LXhzIHNtOnRleHQtc21cIj5cbiAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0VmFsdWUgLz5cbiAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3RUcmlnZ2VyPlxuICAgICAgICAgICAgICAgICAgICA8U2VsZWN0Q29udGVudD5cbiAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0SXRlbSB2YWx1ZT1cInRleHRcIiBjbGFzc05hbWU9XCJjdXJzb3ItcG9pbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LWJhc2VcIj7wn5OdPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJmb250LW1lZGl1bVwiPlRleHQgU2VhcmNoPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3RJdGVtPlxuICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3RJdGVtIHZhbHVlPVwiYWlcIiBjbGFzc05hbWU9XCJjdXJzb3ItcG9pbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LWJhc2VcIj7wn46oPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJmb250LW1lZGl1bVwiPkFJIFZpc2lvbjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0SXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICA8U2VsZWN0SXRlbSB2YWx1ZT1cImh5YnJpZFwiIGNsYXNzTmFtZT1cImN1cnNvci1wb2ludGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtYmFzZVwiPuKaoTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZm9udC1tZWRpdW1cIj5IeWJyaWQ8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdEl0ZW0+XG4gICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0Q29udGVudD5cbiAgICAgICAgICAgICAgICAgIDwvU2VsZWN0PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICB7LyogU2VhcmNoIE1vZGUgRGVzY3JpcHRpb24gLSBIaWRkZW4gb24gbW9iaWxlICovfVxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctZ3JhZGllbnQtdG8tciBmcm9tLXB1cnBsZS01MCB0by1waW5rLTUwIGRhcms6ZnJvbS1wdXJwbGUtOTAwLzIwIGRhcms6dG8tcGluay05MDAvMjAgcm91bmRlZC1sZyBwLTEgc206cC0zIGhpZGRlbiBzbTpibG9ja1wiPlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHNtOnRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1wdXJwbGUtOTAwIGRhcms6dGV4dC1wdXJwbGUtMTAwIG1iLTFcIj5cbiAgICAgICAgICAgICAgICAgICAge3NlYXJjaE1vZGUgPT09ICd0ZXh0JyAmJiBcIvCfk50gVGV4dCBTZWFyY2ggTW9kZVwifVxuICAgICAgICAgICAgICAgICAgICB7c2VhcmNoTW9kZSA9PT0gJ2FpJyAmJiBcIvCfjqggQUkgVmlzaW9uIE1vZGVcIn1cbiAgICAgICAgICAgICAgICAgICAge3NlYXJjaE1vZGUgPT09ICdoeWJyaWQnICYmIFwi4pqhIEh5YnJpZCBTZWFyY2ggTW9kZVwifVxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1wdXJwbGUtNzAwIGRhcms6dGV4dC1wdXJwbGUtMzAwXCI+XG4gICAgICAgICAgICAgICAgICAgIHtzZWFyY2hNb2RlID09PSAndGV4dCcgJiYgXCJGYXN0IGtleXdvcmQgc2VhcmNoIHRocm91Z2ggY2FyZCBkZXNjcmlwdGlvbnMgKyBBSS1nZW5lcmF0ZWQgdmlzdWFsIHByb21wdHMgKGluc3RhbnQgcmVzdWx0cylcIn1cbiAgICAgICAgICAgICAgICAgICAge3NlYXJjaE1vZGUgPT09ICdhaScgJiYgXCJBSSBhbmFseXplcyBjYXJkIGltYWdlcyBmb3IgdmlzdWFsIHN0eWxlLCBjb2xvcnMsIGFuZCB0aGVtZXMgKDEwLTE1IHNlY29uZHMpXCJ9XG4gICAgICAgICAgICAgICAgICAgIHtzZWFyY2hNb2RlID09PSAnaHlicmlkJyAmJiBcIkNvbWJpbmVzIGZhc3QgdGV4dCBzZWFyY2ggd2l0aCBBSSB2aXN1YWwgYW5hbHlzaXMgZm9yIGJlc3QgcmVzdWx0c1wifVxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGdhcC0xIHNtOmdhcC0zXCI+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgtMSByZWxhdGl2ZVwiPlxuICAgICAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlNlYXJjaCB0ZW1wbGF0ZXMuLi5cIlxuICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXt0ZW1wbGF0ZVNlYXJjaFF1ZXJ5fVxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0VGVtcGxhdGVTZWFyY2hRdWVyeShlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICAgICAgICAgICAgb25LZXlEb3duPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUua2V5ID09PSAnRW50ZXInICYmICFlLnNoaWZ0S2V5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaGFuZGxlVGVtcGxhdGVTZWFyY2goKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtpc1NlYXJjaGluZ1RlbXBsYXRlc31cbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJoLTggc206aC0xMiBwbC04IHNtOnBsLTEyIHByLTMgYm9yZGVyIHRleHQtc20gc206dGV4dC1iYXNlXCJcbiAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBmb250U2l6ZTogJzE2cHgnIH19XG4gICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWJzb2x1dGUgbGVmdC0yIHNtOmxlZnQtMyB0b3AtMS8yIC10cmFuc2xhdGUteS0xLzJcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctNCBoLTQgc206dy02IHNtOmgtNiBiZy1ncmFkaWVudC10by1iciBmcm9tLXB1cnBsZS0xMDAgdG8tcGluay0xMDAgZGFyazpmcm9tLXB1cnBsZS04MDAgZGFyazp0by1waW5rLTgwMCByb3VuZGVkLWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQteHNcIj7wn5SNPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVUZW1wbGF0ZVNlYXJjaH1cbiAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2lzU2VhcmNoaW5nVGVtcGxhdGVzIHx8ICF0ZW1wbGF0ZVNlYXJjaFF1ZXJ5LnRyaW0oKX1cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgaC04IHNtOmgtMTIgcHgtMyBzbTpweC02IGdhcC0xIGZvbnQtbWVkaXVtIHRleHQteHMgc206dGV4dC1iYXNlICR7XG4gICAgICAgICAgICAgICAgICAgICAgc2VhcmNoTW9kZSA9PT0gJ3RleHQnIFxuICAgICAgICAgICAgICAgICAgICAgICAgPyAnYmctZ3JhZGllbnQtdG8tciBmcm9tLWJsdWUtNTAwIHRvLWJsdWUtNjAwIGhvdmVyOmZyb20tYmx1ZS02MDAgaG92ZXI6dG8tYmx1ZS03MDAnIFxuICAgICAgICAgICAgICAgICAgICAgICAgOiBzZWFyY2hNb2RlID09PSAnYWknXG4gICAgICAgICAgICAgICAgICAgICAgICA/ICdiZy1ncmFkaWVudC10by1yIGZyb20tcHVycGxlLTUwMCB0by1wdXJwbGUtNjAwIGhvdmVyOmZyb20tcHVycGxlLTYwMCBob3Zlcjp0by1wdXJwbGUtNzAwJ1xuICAgICAgICAgICAgICAgICAgICAgICAgOiAnYmctZ3JhZGllbnQtdG8tciBmcm9tLWJsdWUtNTAwIHZpYS1wdXJwbGUtNTAwIHRvLXBpbmstNTAwIGhvdmVyOmZyb20tYmx1ZS02MDAgaG92ZXI6dmlhLXB1cnBsZS02MDAgaG92ZXI6dG8tcGluay02MDAnXG4gICAgICAgICAgICAgICAgICAgIH0gdGV4dC13aGl0ZSBzaGFkb3ctbWQgaG92ZXI6c2hhZG93LWxnIHRyYW5zaXRpb24tYWxsYH1cbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAge2lzU2VhcmNoaW5nVGVtcGxhdGVzID8gKFxuICAgICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMyBoLTMgc206dy00IHNtOmgtNCBib3JkZXItMiBib3JkZXItd2hpdGUgYm9yZGVyLXQtdHJhbnNwYXJlbnQgcm91bmRlZC1mdWxsIGFuaW1hdGUtc3BpblwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJoaWRkZW4gc206aW5saW5lXCI+e3NlYXJjaE1vZGUgPT09ICdoeWJyaWQnID8gJ0FuYWx5emluZy4uLicgOiAnU2VhcmNoaW5nLi4uJ308L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtzZWFyY2hNb2RlID09PSAndGV4dCcgJiYgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC14cyBzbTp0ZXh0LWxnXCI+8J+TnTwvc3Bhbj59XG4gICAgICAgICAgICAgICAgICAgICAgICB7c2VhcmNoTW9kZSA9PT0gJ2FpJyAmJiA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHNtOnRleHQtbGdcIj7wn46oPC9zcGFuPn1cbiAgICAgICAgICAgICAgICAgICAgICAgIHtzZWFyY2hNb2RlID09PSAnaHlicmlkJyAmJiA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHNtOnRleHQtbGdcIj7imqE8L3NwYW4+fVxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiaGlkZGVuIHNtOmlubGluZVwiPlNlYXJjaDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgeyh0ZW1wbGF0ZVNlYXJjaFF1ZXJ5IHx8IGFpRmlsdGVyZWRDYXJkcy5sZW5ndGggPiAwIHx8IHRleHRGaWx0ZXJlZENhcmRzLmxlbmd0aCA+IDApICYmIChcbiAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgIHZhcmlhbnQ9XCJvdXRsaW5lXCJcbiAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXtjbGVhclRlbXBsYXRlU2VhcmNofVxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImgtOCBzbTpoLTEyIHB4LTIgc206cHgtNCBnYXAtMSBib3JkZXJcIlxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgPFggY2xhc3NOYW1lPVwidy0zIGgtMyBzbTp3LTQgc206aC00XCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJoaWRkZW4gc206aW5saW5lXCI+Q2xlYXI8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgey8qIFJlc3VsdHMgU3VtbWFyeSAtIENvbXBhY3Qgb24gbW9iaWxlICovfVxuICAgICAgICAgICAgICAgIHthaUZpbHRlcmVkQ2FyZHMubGVuZ3RoID4gMCAmJiAoc2VhcmNoTW9kZSA9PT0gJ2FpJyB8fCBzZWFyY2hNb2RlID09PSAnaHlicmlkJykgJiYgKFxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMSBzbTpnYXAtMiB0ZXh0LXhzIHNtOnRleHQtc20gdGV4dC1wdXJwbGUtNjAwIGRhcms6dGV4dC1wdXJwbGUtNDAwXCI+XG4gICAgICAgICAgICAgICAgICAgIDxTcGFya2xlcyBjbGFzc05hbWU9XCJ3LTMgaC0zIHNtOnctNCBzbTpoLTRcIiAvPlxuICAgICAgICAgICAgICAgICAgICA8c3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICB7c2VhcmNoTW9kZSA9PT0gJ2h5YnJpZCcgPyAnSHlicmlkJyA6ICdBSSd9IGZvdW5kIHthaUZpbHRlcmVkQ2FyZHMubGVuZ3RofSBtYXRjaGVzXG4gICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiaGlkZGVuIHNtOmlubGluZVwiPiBmb3IgXCJ7dGVtcGxhdGVTZWFyY2hRdWVyeX1cIjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICB7dGV4dEZpbHRlcmVkQ2FyZHMubGVuZ3RoID4gMCAmJiBzZWFyY2hNb2RlID09PSAndGV4dCcgJiYgKFxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMSBzbTpnYXAtMiB0ZXh0LXhzIHNtOnRleHQtc20gdGV4dC1ibHVlLTYwMCBkYXJrOnRleHQtYmx1ZS00MDBcIj5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4+8J+TnTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4+Rm91bmQge3RleHRGaWx0ZXJlZENhcmRzLmxlbmd0aH0gbWF0Y2hlczxzcGFuIGNsYXNzTmFtZT1cImhpZGRlbiBzbTppbmxpbmVcIj4gZm9yIFwie3RlbXBsYXRlU2VhcmNoUXVlcnl9XCI8L3NwYW4+PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC0xIG1pbi1oLTAgb3ZlcmZsb3ctYXV0byBiZy1ncmF5LTUwIGRhcms6YmctZ3JheS05MDAgcm91bmRlZC14bCBwLTIgc206cC00XCI+XG4gICAgICAgICAgICAgIHsoYWlGaWx0ZXJlZENhcmRzLmxlbmd0aCA+IDAgJiYgKHNlYXJjaE1vZGUgPT09ICdhaScgfHwgc2VhcmNoTW9kZSA9PT0gJ2h5YnJpZCcpKSB8fCAodGV4dEZpbHRlcmVkQ2FyZHMubGVuZ3RoID4gMCAmJiBzZWFyY2hNb2RlID09PSAndGV4dCcpID8gKFxuICAgICAgICAgICAgICAgIC8vIFNob3cgZmlsdGVyZWQgcmVzdWx0c1xuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0zIHNtOnNwYWNlLXktNFwiPlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiBzbTpnYXAtM1wiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctNiBoLTYgc206dy04IHNtOmgtOCBiZy1ncmFkaWVudC10by1iciBmcm9tLXB1cnBsZS0xMDAgdG8tcGluay0xMDAgZGFyazpmcm9tLXB1cnBsZS05MDAgZGFyazp0by1waW5rLTkwMCByb3VuZGVkLWxnIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1zbSBzbTp0ZXh0LWJhc2VcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtzZWFyY2hNb2RlID09PSAndGV4dCcgJiYgJ/Cfk50nfVxuICAgICAgICAgICAgICAgICAgICAgICAge3NlYXJjaE1vZGUgPT09ICdhaScgJiYgJ/Cfjq8nfVxuICAgICAgICAgICAgICAgICAgICAgICAge3NlYXJjaE1vZGUgPT09ICdoeWJyaWQnICYmICfimqEnfVxuICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgPGgzIGNsYXNzTmFtZT1cInRleHQtc20gc206dGV4dC1iYXNlIGZvbnQtc2VtaWJvbGQgdGV4dC1ncmF5LTkwMCBkYXJrOnRleHQtZ3JheS0xMDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtzZWFyY2hNb2RlID09PSAndGV4dCcgJiYgJ1RleHQgU2VhcmNoIFJlc3VsdHMnfVxuICAgICAgICAgICAgICAgICAgICAgICAge3NlYXJjaE1vZGUgPT09ICdhaScgJiYgJ0FJIFZpc2lvbiBSZXN1bHRzJ31cbiAgICAgICAgICAgICAgICAgICAgICAgIHtzZWFyY2hNb2RlID09PSAnaHlicmlkJyAmJiAnSHlicmlkIFNlYXJjaCBSZXN1bHRzJ31cbiAgICAgICAgICAgICAgICAgICAgICA8L2gzPlxuICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1ncmF5LTYwMCBkYXJrOnRleHQtZ3JheS00MDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtzZWFyY2hNb2RlID09PSAndGV4dCcgJiYgJ1JhbmtlZCBieSBrZXl3b3JkIHJlbGV2YW5jZSd9XG4gICAgICAgICAgICAgICAgICAgICAgICB7c2VhcmNoTW9kZSA9PT0gJ2FpJyAmJiAnUmFua2VkIGJ5IHZpc3VhbCByZWxldmFuY2UnfVxuICAgICAgICAgICAgICAgICAgICAgICAge3NlYXJjaE1vZGUgPT09ICdoeWJyaWQnICYmICdSYW5rZWQgYnkgY29tYmluZWQgcmVsZXZhbmNlJ31cbiAgICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8ZGl2IFxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmbGV4IG92ZXJmbG93LXgtc2Nyb2xsIGdhcC0zIHNtOmdhcC00IHBiLTMgLW14LTIgcHgtMiBtaW4tdy1mdWxsXCJcbiAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICBzY3JvbGxCZWhhdmlvcjogJ3Ntb290aCcsXG4gICAgICAgICAgICAgICAgICAgICAgV2Via2l0T3ZlcmZsb3dTY3JvbGxpbmc6ICd0b3VjaCcsXG4gICAgICAgICAgICAgICAgICAgICAgc2Nyb2xsYmFyV2lkdGg6ICd0aGluJyxcbiAgICAgICAgICAgICAgICAgICAgICBzY3JvbGxTbmFwVHlwZTogJ3ggbWFuZGF0b3J5JyxcbiAgICAgICAgICAgICAgICAgICAgICB0b3VjaEFjdGlvbjogJ3Bhbi14JyxcbiAgICAgICAgICAgICAgICAgICAgICBvdmVyZmxvd1g6ICdzY3JvbGwnLFxuICAgICAgICAgICAgICAgICAgICAgIG92ZXJmbG93WTogJ2hpZGRlbidcbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgeyhzZWFyY2hNb2RlID09PSAndGV4dCcgPyB0ZXh0RmlsdGVyZWRDYXJkcyA6IGFpRmlsdGVyZWRDYXJkcykubWFwKChjYXJkLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGZyb250SW1hZ2UgPSBjYXJkLmZyb250Q292ZXIgfHwgY2FyZC5iYWNrQ292ZXIgfHwgY2FyZC5sZWZ0UGFnZSB8fCBjYXJkLnJpZ2h0UGFnZTtcbiAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2NhcmQuaWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZsZXgtc2hyaW5rLTAgdy00OCBzbTp3LTY0IHRvdWNoLXBhbi14XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgc2Nyb2xsU25hcEFsaWduOiAnc3RhcnQnIH19XG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgJHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWFyY2hNb2RlID09PSAndGV4dCcgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/ICdiZy1ncmFkaWVudC10by1iciBmcm9tLWJsdWUtOTAwIHRvLWluZGlnby05MDAgYm9yZGVyLWJsdWUtNDAwJyBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogc2VhcmNoTW9kZSA9PT0gJ2FpJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyAnYmctZ3JhZGllbnQtdG8tYnIgZnJvbS1wdXJwbGUtOTAwIHRvLWJsdWUtOTAwIGJvcmRlci1wdXJwbGUtNDAwJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiAnYmctZ3JhZGllbnQtdG8tYnIgZnJvbS1ibHVlLTkwMCB2aWEtcHVycGxlLTkwMCB0by1pbmRpZ28tOTAwIGJvcmRlci1ncmFkaWVudC10by1yIGJvcmRlci1ibHVlLTQwMCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfSByb3VuZGVkLXhsIHAtMiBzaGFkb3ctaW5uZXIgc3BhY2UteS0yIGgtZnVsbCBib3JkZXItMiByZWxhdGl2ZSBmbGV4IGZsZXgtY29sYH0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgey8qIFNjb3JlIGJhZGdlIC0gcG9zaXRpb25lZCB0byBub3QgY292ZXIgZnVsbCBpbWFnZSAqL31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIHRvcC0yIGxlZnQtMiB6LTEwIGZsZXggZ2FwLTFcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCYWRnZSBjbGFzc05hbWU9e2Ake1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWFyY2hNb2RlID09PSAndGV4dCcgPyAnYmctYmx1ZS02MDAnIDogJ2JnLXB1cnBsZS02MDAnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IHRleHQtd2hpdGUgdGV4dC14cyByb3VuZGVkLWZ1bGwgc2hhZG93LW1kYH0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICN7aW5kZXggKyAxfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9CYWRnZT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsoY2FyZC5haVNjb3JlIHx8IGNhcmQudGV4dFNjb3JlKSAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCYWRnZSBjbGFzc05hbWU9XCJiZy1ncmVlbi02MDAgdGV4dC13aGl0ZSB0ZXh0LXhzIHJvdW5kZWQtZnVsbCBzaGFkb3ctbWRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7c2VhcmNoTW9kZSA9PT0gJ3RleHQnID8gY2FyZC50ZXh0U2NvcmUgOiBjYXJkLmFpU2NvcmV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3NlYXJjaE1vZGUgPT09ICdhaScgfHwgc2VhcmNoTW9kZSA9PT0gJ2h5YnJpZCcgPyAnJScgOiAnJ31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9CYWRnZT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2Zyb250SW1hZ2UgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW1nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNyYz17ZnJvbnRJbWFnZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWx0PXtgVGVtcGxhdGU6ICR7Y2FyZC5wcm9tcHQgfHwgJ1VudGl0bGVkJ31gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJyb3VuZGVkLWxnIHNoYWRvdy1sZyB3LWZ1bGwgaC1hdXRvIG9iamVjdC1jb3ZlciBzZWxlY3Qtbm9uZSBwb2ludGVyLWV2ZW50cy1ub25lXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9hZGluZz1cImxhenlcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJTZWxlY3Q6ICdub25lJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LWZ1bGwgaC0zMiBzbTpoLTQ4IGJnLWdyYWRpZW50LXRvLWJyIGZyb20tZ3JheS0xMDAgdG8tZ3JheS0yMDAgcm91bmRlZC1sZyBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtY2VudGVyIHRleHQtZ3JheS01MDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW1hZ2VJY29uIGNsYXNzTmFtZT1cInctNiBoLTYgc206dy04IHNtOmgtOCBteC1hdXRvIG1iLTJcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQteHMgc206dGV4dC1zbVwiPk5vIHByZXZpZXc8L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YHRleHQteHMgJHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlYXJjaE1vZGUgPT09ICd0ZXh0JyA/ICd0ZXh0LWJsdWUtMTAwIGJnLWJsdWUtODAwLzUwJyA6ICd0ZXh0LXB1cnBsZS0xMDAgYmctcHVycGxlLTgwMC81MCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IHB4LTIgcHktMSByb3VuZGVkIHNwYWNlLXktMSBmbGV4LTEgZmxleCBmbGV4LWNvbGB9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJsaW5lLWNsYW1wLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2NhcmQucHJvbXB0Py5zdWJzdHJpbmcoMCwgNTApIHx8ICdVbnRpdGxlZCd9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjYXJkLnByb21wdCAmJiBjYXJkLnByb21wdC5sZW5ndGggPiA1MCAmJiAnLi4uJ31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7LyogU2hvdyBHZW5lcmF0ZWQgUHJvbXB0cyBpZiBlbmFibGVkIC0gT25seSBvbiBsYXJnZXIgc2NyZWVucyAqL31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtzaG93UHJvbXB0cyAmJiBjYXJkLmdlbmVyYXRlZFByb21wdHMgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQteHMgb3BhY2l0eS04MCBib3JkZXItdCBib3JkZXItd2hpdGUvMjAgcHQtMSBzcGFjZS15LTEgaGlkZGVuIHNtOmJsb2NrXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2NhcmQuZ2VuZXJhdGVkUHJvbXB0cy5mcm9udENvdmVyICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGRcIj5Gcm9udDo8L3NwYW4+IHtjYXJkLmdlbmVyYXRlZFByb21wdHMuZnJvbnRDb3Zlci5zdWJzdHJpbmcoMCwgNjApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y2FyZC5nZW5lcmF0ZWRQcm9tcHRzLmZyb250Q292ZXIubGVuZ3RoID4gNjAgJiYgJy4uLid9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjYXJkLmdlbmVyYXRlZFByb21wdHMuYmFja0NvdmVyICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGRcIj5CYWNrOjwvc3Bhbj4ge2NhcmQuZ2VuZXJhdGVkUHJvbXB0cy5iYWNrQ292ZXIuc3Vic3RyaW5nKDAsIDYwKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2NhcmQuZ2VuZXJhdGVkUHJvbXB0cy5iYWNrQ292ZXIubGVuZ3RoID4gNjAgJiYgJy4uLid9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsvKiBBY3Rpb24gQnV0dG9ucyAqL31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCBnYXAtMSBwdC0yIG10LWF1dG9cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU9XCJzbVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyaWFudD1cIm91dGxpbmVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBoLTYgc206aC03IHRleHQteHMgYmctd2hpdGUvMTAgYm9yZGVyLXdoaXRlLzIwIHRleHQtd2hpdGUgaG92ZXI6Ymctd2hpdGUvMjBcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ29udmVydCBHYWxsZXJ5Q2FyZCB0byBHZW5lcmF0ZWRDYXJkIGZvcm1hdCBmb3IgYXBwbHlUZW1wbGF0ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcGxhdGU6IEdlbmVyYXRlZENhcmQgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBjYXJkLmlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9tcHQ6IGNhcmQucHJvbXB0IHx8ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcm9udENvdmVyOiBjYXJkLmZyb250Q292ZXIgfHwgJycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tDb3ZlcjogY2FyZC5iYWNrQ292ZXIgfHwgJycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxlZnRQYWdlOiBjYXJkLmxlZnRQYWdlIHx8ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByaWdodFBhZ2U6IGNhcmQucmlnaHRQYWdlIHx8ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVkQXQ6IG5ldyBEYXRlKGNhcmQuY3JlYXRlZEF0ICogMTAwMCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNoYXJlVXJsOiBjYXJkLnNoYXJlVXJsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnZW5lcmF0ZWRQcm9tcHRzOiBjYXJkLmdlbmVyYXRlZFByb21wdHNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcHBseVRlbXBsYXRlKHRlbXBsYXRlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFdhbmQyIGNsYXNzTmFtZT1cInctMiBoLTIgc206dy0zIHNtOmgtMyBtci0xXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJoaWRkZW4gc206aW5saW5lXCI+Q3VzdG9taXplPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInNtOmhpZGRlblwiPkN1c3RvbTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplPVwic21cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhcmlhbnQ9XCJvdXRsaW5lXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgaC02IHNtOmgtNyB0ZXh0LXhzIGJnLWJsdWUtNjAwLzgwIGJvcmRlci1ibHVlLTUwMC81MCB0ZXh0LXdoaXRlIGhvdmVyOmJnLWJsdWUtNjAwXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENvbnZlcnQgR2FsbGVyeUNhcmQgdG8gR2VuZXJhdGVkQ2FyZCBmb3JtYXQgZm9yIHByZXZpZXdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXBsYXRlOiBHZW5lcmF0ZWRDYXJkID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogY2FyZC5pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvbXB0OiBjYXJkLnByb21wdCB8fCAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnJvbnRDb3ZlcjogY2FyZC5mcm9udENvdmVyIHx8ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYWNrQ292ZXI6IGNhcmQuYmFja0NvdmVyIHx8ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZWZ0UGFnZTogY2FyZC5sZWZ0UGFnZSB8fCAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmlnaHRQYWdlOiBjYXJkLnJpZ2h0UGFnZSB8fCAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3JlYXRlZEF0OiBuZXcgRGF0ZShjYXJkLmNyZWF0ZWRBdCAqIDEwMDApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaGFyZVVybDogY2FyZC5zaGFyZVVybCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2VuZXJhdGVkUHJvbXB0czogY2FyZC5nZW5lcmF0ZWRQcm9tcHRzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFuZGxlVGVtcGxhdGVTZWxlY3QodGVtcGxhdGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8RXllIGNsYXNzTmFtZT1cInctMiBoLTIgc206dy0zIHNtOmgtMyBtci0xXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTZWxlY3RcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgIC8vIFNob3cgYWxsIHRlbXBsYXRlc1xuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0zIHNtOnNwYWNlLXktNFwiPlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiBzbTpnYXAtM1wiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctNiBoLTYgc206dy04IHNtOmgtOCBiZy1ncmFkaWVudC10by1iciBmcm9tLWJsdWUtMTAwIHRvLWN5YW4tMTAwIGRhcms6ZnJvbS1ibHVlLTkwMCBkYXJrOnRvLWN5YW4tOTAwIHJvdW5kZWQtbGcgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXNtIHNtOnRleHQtYmFzZVwiPvCfk5o8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJ0ZXh0LXNtIHNtOnRleHQtYmFzZSBmb250LXNlbWlib2xkIHRleHQtZ3JheS05MDAgZGFyazp0ZXh0LWdyYXktMTAwXCI+QWxsIFRlbXBsYXRlczwvaDM+XG4gICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LWdyYXktNjAwIGRhcms6dGV4dC1ncmF5LTQwMFwiPkJyb3dzZSBvdXIgZW50aXJlIGNvbGxlY3Rpb248L3A+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgXG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZmxleCBvdmVyZmxvdy14LXNjcm9sbCBnYXAtMyBzbTpnYXAtNCBwYi0zIC1teC0yIHB4LTIgbWluLXctZnVsbFwiXG4gICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjcm9sbEJlaGF2aW9yOiAnc21vb3RoJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIFdlYmtpdE92ZXJmbG93U2Nyb2xsaW5nOiAndG91Y2gnLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2Nyb2xsYmFyV2lkdGg6ICd0aGluJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjcm9sbFNuYXBUeXBlOiAneCBtYW5kYXRvcnknLFxuICAgICAgICAgICAgICAgICAgICAgICAgdG91Y2hBY3Rpb246ICdwYW4teCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBvdmVyZmxvd1g6ICdzY3JvbGwnLFxuICAgICAgICAgICAgICAgICAgICAgICAgb3ZlcmZsb3dZOiAnaGlkZGVuJ1xuICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICB7KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgZ2V0Q2FjaGVkQ2FyZHMsIGhhc0NhY2hlLCB0b3RhbENhcmRzIH0gPSB1c2VDYXJkQ2FjaGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGFsbENhcmRzID0gaGFzQ2FjaGUgPyBnZXRDYWNoZWRDYXJkcygxLCBNYXRoLm1heCh0b3RhbENhcmRzLCAxMDAwKSkgOiBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFsbENhcmRzLm1hcCgoY2FyZCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBmcm9udEltYWdlID0gY2FyZC5mcm9udENvdmVyIHx8IGNhcmQuYmFja0NvdmVyIHx8IGNhcmQubGVmdFBhZ2UgfHwgY2FyZC5yaWdodFBhZ2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17Y2FyZC5pZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZsZXgtc2hyaW5rLTAgdy00OCBzbTp3LTY0IHRvdWNoLXBhbi14XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IHNjcm9sbFNuYXBBbGlnbjogJ3N0YXJ0JyB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctZ3JheS05MDAgcm91bmRlZC14bCBwLTIgc2hhZG93LWlubmVyIHNwYWNlLXktMiBoLWZ1bGwgZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZnJvbnRJbWFnZSA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW1nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcmM9e2Zyb250SW1hZ2V9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbHQ9e2BUZW1wbGF0ZTogJHtjYXJkLnByb21wdCB8fCAnVW50aXRsZWQnfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJyb3VuZGVkLWxnIHNoYWRvdy1sZyB3LWZ1bGwgaC1hdXRvIG9iamVjdC1jb3ZlciBzZWxlY3Qtbm9uZSBwb2ludGVyLWV2ZW50cy1ub25lXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvYWRpbmc9XCJsYXp5XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJTZWxlY3Q6ICdub25lJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy1mdWxsIGgtMzIgc206aC00OCBiZy1ncmFkaWVudC10by1iciBmcm9tLWdyYXktMTAwIHRvLWdyYXktMjAwIHJvdW5kZWQtbGcgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXIgdGV4dC1ncmF5LTUwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SW1hZ2VJY29uIGNsYXNzTmFtZT1cInctNiBoLTYgc206dy04IHNtOmgtOCBteC1hdXRvIG1iLTJcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXhzIHNtOnRleHQtc21cIj5ObyBwcmV2aWV3PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtZ3JheS0xMDAgYmctZ3JheS04MDAvNTAgcHgtMiBweS0xIHJvdW5kZWQgc3BhY2UteS0xIGZsZXgtMSBmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJsaW5lLWNsYW1wLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjYXJkLnByb21wdD8uc3Vic3RyaW5nKDAsIDUwKSB8fCAnVW50aXRsZWQnfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2NhcmQucHJvbXB0ICYmIGNhcmQucHJvbXB0Lmxlbmd0aCA+IDUwICYmICcuLi4nfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsvKiBTaG93IEdlbmVyYXRlZCBQcm9tcHRzIGlmIGVuYWJsZWQgLSBPbmx5IG9uIGxhcmdlciBzY3JlZW5zICovfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtzaG93UHJvbXB0cyAmJiBjYXJkLmdlbmVyYXRlZFByb21wdHMgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXhzIG9wYWNpdHktODAgYm9yZGVyLXQgYm9yZGVyLXdoaXRlLzIwIHB0LTEgc3BhY2UteS0xIGhpZGRlbiBzbTpibG9ja1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y2FyZC5nZW5lcmF0ZWRQcm9tcHRzLmZyb250Q292ZXIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkXCI+RnJvbnQ6PC9zcGFuPiB7Y2FyZC5nZW5lcmF0ZWRQcm9tcHRzLmZyb250Q292ZXIuc3Vic3RyaW5nKDAsIDYwKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjYXJkLmdlbmVyYXRlZFByb21wdHMuZnJvbnRDb3Zlci5sZW5ndGggPiA2MCAmJiAnLi4uJ31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2NhcmQuZ2VuZXJhdGVkUHJvbXB0cy5iYWNrQ292ZXIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkXCI+QmFjazo8L3NwYW4+IHtjYXJkLmdlbmVyYXRlZFByb21wdHMuYmFja0NvdmVyLnN1YnN0cmluZygwLCA2MCl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y2FyZC5nZW5lcmF0ZWRQcm9tcHRzLmJhY2tDb3Zlci5sZW5ndGggPiA2MCAmJiAnLi4uJ31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgey8qIEFjdGlvbiBCdXR0b25zICovfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCBnYXAtMSBwdC0yIG10LWF1dG9cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZT1cInNtXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyaWFudD1cIm91dGxpbmVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgaC02IHNtOmgtNyB0ZXh0LXhzIGJnLXdoaXRlLzEwIGJvcmRlci13aGl0ZS8yMCB0ZXh0LXdoaXRlIGhvdmVyOmJnLXdoaXRlLzIwXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENvbnZlcnQgR2FsbGVyeUNhcmQgdG8gR2VuZXJhdGVkQ2FyZCBmb3JtYXQgZm9yIGFwcGx5VGVtcGxhdGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZW1wbGF0ZTogR2VuZXJhdGVkQ2FyZCA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBjYXJkLmlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvbXB0OiBjYXJkLnByb21wdCB8fCAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZyb250Q292ZXI6IGNhcmQuZnJvbnRDb3ZlciB8fCAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tDb3ZlcjogY2FyZC5iYWNrQ292ZXIgfHwgJycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZWZ0UGFnZTogY2FyZC5sZWZ0UGFnZSB8fCAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJpZ2h0UGFnZTogY2FyZC5yaWdodFBhZ2UgfHwgJycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVkQXQ6IG5ldyBEYXRlKGNhcmQuY3JlYXRlZEF0ICogMTAwMCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaGFyZVVybDogY2FyZC5zaGFyZVVybCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdlbmVyYXRlZFByb21wdHM6IGNhcmQuZ2VuZXJhdGVkUHJvbXB0c1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBwbHlUZW1wbGF0ZSh0ZW1wbGF0ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxXYW5kMiBjbGFzc05hbWU9XCJ3LTIgaC0yIHNtOnctMyBzbTpoLTMgbXItMVwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImhpZGRlbiBzbTppbmxpbmVcIj5DdXN0b21pemU8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInNtOmhpZGRlblwiPkN1c3RvbTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplPVwic21cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXJpYW50PVwib3V0bGluZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBoLTYgc206aC03IHRleHQteHMgYmctYmx1ZS02MDAvODAgYm9yZGVyLWJsdWUtNTAwLzUwIHRleHQtd2hpdGUgaG92ZXI6YmctYmx1ZS02MDBcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ29udmVydCBHYWxsZXJ5Q2FyZCB0byBHZW5lcmF0ZWRDYXJkIGZvcm1hdCBmb3IgcHJldmlld1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXBsYXRlOiBHZW5lcmF0ZWRDYXJkID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGNhcmQuaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9tcHQ6IGNhcmQucHJvbXB0IHx8ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnJvbnRDb3ZlcjogY2FyZC5mcm9udENvdmVyIHx8ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja0NvdmVyOiBjYXJkLmJhY2tDb3ZlciB8fCAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxlZnRQYWdlOiBjYXJkLmxlZnRQYWdlIHx8ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmlnaHRQYWdlOiBjYXJkLnJpZ2h0UGFnZSB8fCAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoY2FyZC5jcmVhdGVkQXQgKiAxMDAwKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNoYXJlVXJsOiBjYXJkLnNoYXJlVXJsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2VuZXJhdGVkUHJvbXB0czogY2FyZC5nZW5lcmF0ZWRQcm9tcHRzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVUZW1wbGF0ZVNlbGVjdCh0ZW1wbGF0ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxFeWUgY2xhc3NOYW1lPVwidy0yIGgtMiBzbTp3LTMgc206aC0zIG1yLTFcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTZWxlY3RcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgfSkoKX1cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctZ3JheS0xMDAgZGFyazpiZy1ncmF5LTgwMCBwLTMgc206cC00IHJvdW5kZWQtYi14bCAtbS0zIHNtOi1tLTYgbXQtNCBmbGV4LXNocmluay0wXCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCBzbTpmbGV4LXJvdyBqdXN0aWZ5LWJldHdlZW4gaXRlbXMtc3RhcnQgc206aXRlbXMtY2VudGVyIGdhcC0zIHNtOmdhcC0wXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTUgaC01IHNtOnctNiBzbTpoLTYgYmctZ3JhZGllbnQtdG8tYnIgZnJvbS1wdXJwbGUtMTAwIHRvLXBpbmstMTAwIGRhcms6ZnJvbS1wdXJwbGUtOTAwIGRhcms6dG8tcGluay05MDAgcm91bmRlZC1mdWxsIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQteHNcIj7wn5KhPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXhzIHNtOnRleHQtc20gdGV4dC1ncmF5LTcwMCBkYXJrOnRleHQtZ3JheS0zMDBcIj5cbiAgICAgICAgICAgICAgICAgICAge2FpRmlsdGVyZWRDYXJkcy5sZW5ndGggPiAwIFxuICAgICAgICAgICAgICAgICAgICAgID8gXCJBSSBoYXMgcmFua2VkIHRoZXNlIHRlbXBsYXRlcyBieSByZWxldmFuY2UgdG8geW91ciBzZWFyY2hcIlxuICAgICAgICAgICAgICAgICAgICAgIDogXCJVc2UgJ0N1c3RvbWl6ZScgdG8gcGVyc29uYWxpemUgdGVtcGxhdGVzIG9yICdTZWxlY3QnIHRvIHVzZSBhcy1pc1wiXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICB2YXJpYW50PVwib3V0bGluZVwiXG4gICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHNldFNob3dUZW1wbGF0ZUdhbGxlcnkoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICBjbGVhclRlbXBsYXRlU2VhcmNoKCk7XG4gICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZ2FwLTEgc206Z2FwLTIgYm9yZGVyLTIgaC04IHNtOmgtOSB0ZXh0LXhzIHNtOnRleHQtc20gdy1mdWxsIHNtOnctYXV0b1wiXG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgPFggY2xhc3NOYW1lPVwidy0zIGgtMyBzbTp3LTQgc206aC00XCIgLz5cbiAgICAgICAgICAgICAgICAgIENsb3NlXG4gICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L0RpYWxvZ0NvbnRlbnQ+XG4gICAgICAgIDwvRGlhbG9nPlxuXG4gICAgICAgIHsvKiBEcmFmdCBDYXJkIFByZXZpZXcgRGlhbG9nICovfVxuICAgICAgICA8RGlhbG9nIG9wZW49e3ByZXZpZXdpbmdEcmFmdEluZGV4ICE9PSAtMX0gb25PcGVuQ2hhbmdlPXsob3BlbikgPT4gIW9wZW4gJiYgc2V0UHJldmlld2luZ0RyYWZ0SW5kZXgoLTEpfT5cbiAgICAgICAgICA8RGlhbG9nQ29udGVudCBjbGFzc05hbWU9XCJzbTptYXgtdy00eGwgbWF4LWgtWzkwdmhdIG92ZXJmbG93LWF1dG9cIj5cbiAgICAgICAgICAgIDxEaWFsb2dIZWFkZXI+XG4gICAgICAgICAgICAgIDxEaWFsb2dUaXRsZSBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxuICAgICAgICAgICAgICAgIDxFeWUgY2xhc3NOYW1lPVwidy01IGgtNSB0ZXh0LXB1cnBsZS02MDBcIiAvPlxuICAgICAgICAgICAgICAgIEZyb250IENvdmVyIERlc2lnbiB7cHJldmlld2luZ0RyYWZ0SW5kZXggIT09IC0xID8gKGRyYWZ0SW5kZXhNYXBwaW5nW3ByZXZpZXdpbmdEcmFmdEluZGV4XSArIDEpIDogMX0gLSBQcmV2aWV3XG4gICAgICAgICAgICAgIDwvRGlhbG9nVGl0bGU+XG4gICAgICAgICAgICAgIDxEaWFsb2dEZXNjcmlwdGlvbj5cbiAgICAgICAgICAgICAgICBMb3cgcXVhbGl0eSBwcmV2aWV3IG9mIHRoZSBmcm9udCBjb3ZlciBkZXNpZ24uIFNlbGVjdCB0aGlzIGRlc2lnbiB0byBnZW5lcmF0ZSB0aGUgY29tcGxldGUgaGlnaC1xdWFsaXR5IGNhcmQuXG4gICAgICAgICAgICAgIDwvRGlhbG9nRGVzY3JpcHRpb24+XG4gICAgICAgICAgICA8L0RpYWxvZ0hlYWRlcj5cbiAgICAgICAgICAgIFxuICAgICAgICAgICAge3ByZXZpZXdpbmdEcmFmdEluZGV4ICE9PSAtMSAmJiBkcmFmdENhcmRzW3ByZXZpZXdpbmdEcmFmdEluZGV4XSAmJiAoXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS02XCI+XG4gICAgICAgICAgICAgICAgey8qIEZ1bGwgQ2FyZCBQcmV2aWV3ICovfVxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctZ3JheS01MCBkYXJrOmJnLWdyYXktODAwIHJvdW5kZWQtbGcgcC00XCI+XG4gICAgICAgICAgICAgICAgICA8Q2FyZFByZXZpZXcgXG4gICAgICAgICAgICAgICAgICAgIGNhcmQ9e2RyYWZ0Q2FyZHNbcHJldmlld2luZ0RyYWZ0SW5kZXhdfSBcbiAgICAgICAgICAgICAgICAgICAgb25DYXJkVXBkYXRlPXsoKSA9PiB7fX0gLy8gRHJhZnQgY2FyZHMgYXJlIHJlYWQtb25seVxuICAgICAgICAgICAgICAgICAgICBpc0Zyb250QmFja09ubHk9e3RydWV9XG4gICAgICAgICAgICAgICAgICAgIG9uUHJpbnQ9eygpID0+IHt9fSAvLyBObyBwcmludCBmdW5jdGlvbmFsaXR5IGZvciBkcmFmdCBwcmV2aWV3c1xuICAgICAgICAgICAgICAgICAgICBwYXBlckNvbmZpZz17cGFwZXJTaXplcy5maW5kKHNpemUgPT4gc2l6ZS5pZCA9PT0gc2VsZWN0ZWRQYXBlclNpemUpIHx8IHBhcGVyU2l6ZXNbMF19XG4gICAgICAgICAgICAgICAgICAgIHNlY3Rpb25Mb2FkaW5nU3RhdGVzPXt7XG4gICAgICAgICAgICAgICAgICAgICAgZnJvbnRDb3ZlcjogJ2NvbXBsZXRlZCcsXG4gICAgICAgICAgICAgICAgICAgICAgYmFja0NvdmVyOiAnaWRsZScsXG4gICAgICAgICAgICAgICAgICAgICAgbGVmdEludGVyaW9yOiAnaWRsZScsXG4gICAgICAgICAgICAgICAgICAgICAgcmlnaHRJbnRlcmlvcjogJ2lkbGUnXG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkUGFwZXJTaXplPXtzZWxlY3RlZFBhcGVyU2l6ZX1cbiAgICAgICAgICAgICAgICAgICAgb25QYXBlclNpemVDaGFuZ2U9eygpID0+IHt9fSAvLyBObyBwYXBlciBzaXplIGNoYW5nZSBmb3IgZHJhZnQgcHJldmlld3NcbiAgICAgICAgICAgICAgICAgICAgcGFwZXJTaXplcz17cGFwZXJTaXplc31cbiAgICAgICAgICAgICAgICAgICAgaXNDYXJkQ29tcGxldGVkPXtmYWxzZX1cbiAgICAgICAgICAgICAgICAgICAgZmFzdFByZXZpZXdNb2RlPXtmYWxzZX1cbiAgICAgICAgICAgICAgICAgICAgb25WaWV3RnVsbENhcmQ9eygpID0+IHt9fSAvLyBObyBmdWxsIGNhcmQgdmlldyBmb3IgZHJhZnQgcHJldmlld3NcbiAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgey8qIEFjdGlvbiBCdXR0b25zICovfVxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBnYXAtMyBqdXN0aWZ5LWNlbnRlciBwdC00IGJvcmRlci10XCI+XG4gICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgIHZhcmlhbnQ9XCJvdXRsaW5lXCJcbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0UHJldmlld2luZ0RyYWZ0SW5kZXgoLTEpfVxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICBDbG9zZSBQcmV2aWV3XG4gICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIHNldFNlbGVjdGVkRHJhZnRJbmRleChwcmV2aWV3aW5nRHJhZnRJbmRleCk7XG4gICAgICAgICAgICAgICAgICAgICAgc2V0UHJldmlld2luZ0RyYWZ0SW5kZXgoLTEpO1xuICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJiZy1wdXJwbGUtNjAwIGhvdmVyOmJnLXB1cnBsZS03MDAgdGV4dC13aGl0ZVwiXG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIDxDaGVja0NpcmNsZSBjbGFzc05hbWU9XCJ3LTQgaC00IG1yLTJcIiAvPlxuICAgICAgICAgICAgICAgICAgICBTZWxlY3QgVGhpcyBEZXNpZ25cbiAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgPC9EaWFsb2dDb250ZW50PlxuICAgICAgICA8L0RpYWxvZz5cblxuICAgICAgICB7LyogUHJpbnQgQ29uZmlybWF0aW9uIERpYWxvZyAqL31cbiAgICAgICAgPERpYWxvZyBvcGVuPXtzaG93UHJpbnRDb25maXJtYXRpb259IG9uT3BlbkNoYW5nZT17c2V0U2hvd1ByaW50Q29uZmlybWF0aW9ufT5cbiAgICAgICAgICA8RGlhbG9nQ29udGVudCBjbGFzc05hbWU9XCJzbTptYXgtdy1sZ1wiPlxuICAgICAgICAgICAgPERpYWxvZ0hlYWRlcj5cbiAgICAgICAgICAgICAgPERpYWxvZ1RpdGxlIGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XG4gICAgICAgICAgICAgICAgPEFsZXJ0VHJpYW5nbGUgY2xhc3NOYW1lPVwidy01IGgtNSB0ZXh0LWFtYmVyLTUwMFwiIC8+XG4gICAgICAgICAgICAgICAgR2V0IFlvdXIgQ2FyZFxuICAgICAgICAgICAgICA8L0RpYWxvZ1RpdGxlPlxuICAgICAgICAgICAgICA8RGlhbG9nRGVzY3JpcHRpb24+XG4gICAgICAgICAgICAgICAgSG93IHdvdWxkIHlvdSBsaWtlIHRvIHJlY2VpdmUgeW91ciBncmVldGluZyBjYXJkP1xuICAgICAgICAgICAgICA8L0RpYWxvZ0Rlc2NyaXB0aW9uPlxuICAgICAgICAgICAgPC9EaWFsb2dIZWFkZXI+XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS00XCI+XG4gICAgICAgICAgICAgIHsvKiBQcmludCBPcHRpb24gU2VsZWN0aW9uICovfVxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktM1wiPlxuICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJ0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZ3JheS03MDAgZGFyazp0ZXh0LWdyYXktMzAwXCI+XG4gICAgICAgICAgICAgICAgICBDaG9vc2UgZGVsaXZlcnkgbWV0aG9kOlxuICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgey8qIFBoeXNpY2FsIFByaW50IE9wdGlvbiAqL31cbiAgICAgICAgICAgICAgICA8ZGl2IFxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgcC00IHJvdW5kZWQtbGcgYm9yZGVyLTIgY3Vyc29yLXBvaW50ZXIgdHJhbnNpdGlvbi1hbGwgJHtcbiAgICAgICAgICAgICAgICAgICAgcHJpbnRPcHRpb24gPT09ICdwaHlzaWNhbCcgXG4gICAgICAgICAgICAgICAgICAgICAgPyAnYm9yZGVyLWJsdWUtNTAwIGJnLWJsdWUtNTAgZGFyazpiZy1ibHVlLTkwMC8yMCcgXG4gICAgICAgICAgICAgICAgICAgICAgOiAnYm9yZGVyLWdyYXktMjAwIGRhcms6Ym9yZGVyLWdyYXktNzAwIGhvdmVyOmJvcmRlci1ncmF5LTMwMCdcbiAgICAgICAgICAgICAgICAgIH1gfVxuICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0UHJpbnRPcHRpb24oJ3BoeXNpY2FsJyl9XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLXN0YXJ0IGdhcC0zXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJyYWRpb1wiXG4gICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtwcmludE9wdGlvbiA9PT0gJ3BoeXNpY2FsJ31cbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoKSA9PiBzZXRQcmludE9wdGlvbigncGh5c2ljYWwnKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctNCBoLTQgdGV4dC1ibHVlLTYwMFwiXG4gICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC0xXCI+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiBtYi0xXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8UHJpbnRlciBjbGFzc05hbWU9XCJ3LTUgaC01IHRleHQtYmx1ZS02MDBcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGg0IGNsYXNzTmFtZT1cImZvbnQtbWVkaXVtIHRleHQtYmx1ZS05MDAgZGFyazp0ZXh0LWJsdWUtMTAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIFBoeXNpY2FsIFByaW50ICYgUGlja3VwXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2g0PlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1ibHVlLTgwMCBkYXJrOnRleHQtYmx1ZS0yMDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIFByaW50IHlvdXIgY2FyZCBhdCBvdXIgbG9jYXRpb24uIFJlYWR5IGZvciBwaWNrdXAgaW4ganVzdCBhIGZldyBtaW51dGVzLlxuICAgICAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTIgc3BhY2UteS0xXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yIHRleHQteHMgdGV4dC1ncmF5LTYwMCBkYXJrOnRleHQtZ3JheS00MDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTEuNSBoLTEuNSBiZy1ncmVlbi01MDAgcm91bmRlZC1mdWxsXCI+PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPkhpZ2ggcXVhbGl0eSBjb2xvciBwcmludGluZzwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiB0ZXh0LXhzIHRleHQtZ3JheS02MDAgZGFyazp0ZXh0LWdyYXktNDAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0xLjUgaC0xLjUgYmctZ3JlZW4tNTAwIHJvdW5kZWQtZnVsbFwiPjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7aXNGcm9udEJhY2tPbmx5ID8gJ0Zyb250IGFuZCBiYWNrIG9ubHknIDogJ0Z1bGwgZ3JlZXRpbmcgY2FyZCB3aXRoIGludGVyaW9yIHBhZ2VzJ31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yIHRleHQteHMgdGV4dC1ncmF5LTYwMCBkYXJrOnRleHQtZ3JheS00MDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTEuNSBoLTEuNSBiZy1ncmVlbi01MDAgcm91bmRlZC1mdWxsXCI+PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPlJlYWR5IGZvciBwaWNrdXAgc2hvcnRseTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgey8qIEVtYWlsIFBERiBPcHRpb24gKi99XG4gICAgICAgICAgICAgICAgPGRpdiBcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YHAtNCByb3VuZGVkLWxnIGJvcmRlci0yIGN1cnNvci1wb2ludGVyIHRyYW5zaXRpb24tYWxsICR7XG4gICAgICAgICAgICAgICAgICAgIHByaW50T3B0aW9uID09PSAnZW1haWwnIFxuICAgICAgICAgICAgICAgICAgICAgID8gJ2JvcmRlci1ncmVlbi01MDAgYmctZ3JlZW4tNTAgZGFyazpiZy1ncmVlbi05MDAvMjAnIFxuICAgICAgICAgICAgICAgICAgICAgIDogJ2JvcmRlci1ncmF5LTIwMCBkYXJrOmJvcmRlci1ncmF5LTcwMCBob3Zlcjpib3JkZXItZ3JheS0zMDAnXG4gICAgICAgICAgICAgICAgICB9YH1cbiAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldFByaW50T3B0aW9uKCdlbWFpbCcpfVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1zdGFydCBnYXAtM1wiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwicmFkaW9cIlxuICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17cHJpbnRPcHRpb24gPT09ICdlbWFpbCd9XG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KCkgPT4gc2V0UHJpbnRPcHRpb24oJ2VtYWlsJyl9XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LTQgaC00IHRleHQtZ3JlZW4tNjAwXCJcbiAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4LTFcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yIG1iLTFcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxNZXNzYWdlQ2lyY2xlIGNsYXNzTmFtZT1cInctNSBoLTUgdGV4dC1ncmVlbi02MDBcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGg0IGNsYXNzTmFtZT1cImZvbnQtbWVkaXVtIHRleHQtZ3JlZW4tOTAwIGRhcms6dGV4dC1ncmVlbi0xMDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgRW1haWwgUERGXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2g0PlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1ncmVlbi04MDAgZGFyazp0ZXh0LWdyZWVuLTIwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgUmVjZWl2ZSBhIGhpZ2gtcXVhbGl0eSBQREYgb2YgeW91ciBjYXJkIGF0IHt1c2VyRW1haWx9LiBQcmludCBhdCBob21lIG9yIGFueSBwcmludCBzaG9wLlxuICAgICAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTIgc3BhY2UteS0xXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yIHRleHQteHMgdGV4dC1ncmF5LTYwMCBkYXJrOnRleHQtZ3JheS00MDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTEuNSBoLTEuNSBiZy1ncmVlbi01MDAgcm91bmRlZC1mdWxsXCI+PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPkluc3RhbnQgZGVsaXZlcnkgdG8geW91ciBpbmJveDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiB0ZXh0LXhzIHRleHQtZ3JheS02MDAgZGFyazp0ZXh0LWdyYXktNDAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0xLjUgaC0xLjUgYmctZ3JlZW4tNTAwIHJvdW5kZWQtZnVsbFwiPjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj5QcmludCBhbnl3aGVyZSwgYW55dGltZTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiB0ZXh0LXhzIHRleHQtZ3JheS02MDAgZGFyazp0ZXh0LWdyYXktNDAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0xLjUgaC0xLjUgYmctZ3JlZW4tNTAwIHJvdW5kZWQtZnVsbFwiPjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj5IaWdoLXJlc29sdXRpb24gUERGIG9wdGltaXplZCBmb3IgcHJpbnRpbmc8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAge3ByaW50T3B0aW9uID09PSAncGh5c2ljYWwnICYmIChcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLWFtYmVyLTUwIGRhcms6YmctYW1iZXItOTAwLzIwIHAtMyByb3VuZGVkLWxnXCI+XG4gICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtYW1iZXItODAwIGRhcms6dGV4dC1hbWJlci0yMDBcIj5cbiAgICAgICAgICAgICAgICAgICAgPHN0cm9uZz5QbGVhc2UgY29uZmlybTo8L3N0cm9uZz4gWW91IGFyZSByZWFkeSB0byBwaWNrIHVwIHlvdXIgcHJpbnRlZCBjYXJkIGZyb20gb3VyIGxvY2F0aW9uLlxuICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBnYXAtMyBtdC02XCI+XG4gICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICB2YXJpYW50PVwib3V0bGluZVwiXG4gICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0U2hvd1ByaW50Q29uZmlybWF0aW9uKGZhbHNlKX1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmbGV4LTFcIlxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgQ2FuY2VsXG4gICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlQ29uZmlybVByaW50fVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YGZsZXgtMSAke1xuICAgICAgICAgICAgICAgICAgcHJpbnRPcHRpb24gPT09ICdlbWFpbCcgXG4gICAgICAgICAgICAgICAgICAgID8gJ2JnLWdyZWVuLTYwMCBob3ZlcjpiZy1ncmVlbi03MDAnIFxuICAgICAgICAgICAgICAgICAgICA6ICdiZy1ibHVlLTYwMCBob3ZlcjpiZy1ibHVlLTcwMCdcbiAgICAgICAgICAgICAgICB9YH1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIHtwcmludE9wdGlvbiA9PT0gJ2VtYWlsJyA/IChcbiAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgIDxNZXNzYWdlQ2lyY2xlIGNsYXNzTmFtZT1cInctNCBoLTQgbXItMlwiIC8+XG4gICAgICAgICAgICAgICAgICAgIFNlbmQgUERGIHRvIEVtYWlsXG4gICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgPFByaW50ZXIgY2xhc3NOYW1lPVwidy00IGgtNCBtci0yXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgUHJpbnQgQ2FyZFxuICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L0RpYWxvZ0NvbnRlbnQ+XG4gICAgICAgIDwvRGlhbG9nPlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICk7XG59ICJdLCJuYW1lcyI6WyJSZWFjdCIsInVzZVN0YXRlIiwidXNlRWZmZWN0IiwiQnV0dG9uIiwiSW5wdXQiLCJUZXh0YXJlYSIsIkNhcmQiLCJDYXJkQ29udGVudCIsIkNhcmREZXNjcmlwdGlvbiIsIkNhcmRIZWFkZXIiLCJDYXJkVGl0bGUiLCJCYWRnZSIsIlNlcGFyYXRvciIsIlNlbGVjdCIsIlNlbGVjdENvbnRlbnQiLCJTZWxlY3RJdGVtIiwiU2VsZWN0VHJpZ2dlciIsIlNlbGVjdFZhbHVlIiwiQ29sbGFwc2libGUiLCJDb2xsYXBzaWJsZUNvbnRlbnQiLCJDb2xsYXBzaWJsZVRyaWdnZXIiLCJQb3BvdmVyIiwiUG9wb3ZlckNvbnRlbnQiLCJQb3BvdmVyVHJpZ2dlciIsIkRpYWxvZyIsIkRpYWxvZ0NvbnRlbnQiLCJEaWFsb2dEZXNjcmlwdGlvbiIsIkRpYWxvZ0hlYWRlciIsIkRpYWxvZ1RpdGxlIiwiQXJyb3dMZWZ0IiwiU3BhcmtsZXMiLCJQcmludGVyIiwiSGVhcnQiLCJHaWZ0IiwiR3JhZHVhdGlvbkNhcCIsIldhbmQyIiwiTWVzc2FnZVNxdWFyZVBsdXMiLCJDaGV2cm9uRG93biIsIlNldHRpbmdzIiwiUGFsZXR0ZSIsIlVwbG9hZCIsIlgiLCJDYWtlIiwiVGh1bWJzVXAiLCJUcm9waHkiLCJUcmVlUGluZSIsIlN0ZXRob3Njb3BlIiwiQ2xvdWRSYWluIiwiQmFieSIsIkNodXJjaCIsIkhvbWUiLCJNZXNzYWdlQ2lyY2xlIiwiRXllIiwiV3JlbmNoIiwiQ2xvY2siLCJVbmRvMiIsIlJlZG8yIiwiUmVmcmVzaEN3IiwiU2V0dGluZ3MyIiwiQWxlcnRUcmlhbmdsZSIsIkNoZWNrQ2lyY2xlIiwiSW1hZ2UiLCJJbWFnZUljb24iLCJNZXNzYWdlU3F1YXJlIiwiTGluayIsInRvYXN0IiwiQ2FyZFByZXZpZXciLCJRUkNvZGUiLCJ2NCIsInV1aWR2NCIsIk1vZGVUb2dnbGUiLCJSZWNlbnRDYXJkc1ByZXZpZXciLCJDcml0aWNhbFJlc291cmNlUHJlbG9hZGVyIiwiRWFybHlDYXJkUHJlbG9hZGVyIiwidXNlQ2FyZENhY2hlIiwiQkFDS0VORF9BUElfQkFTRV9VUkwiLCJwcm9jZXNzIiwiZW52IiwiTkVYVF9QVUJMSUNfQkFDS0VORF9BUElfVVJMIiwiY2FyZFR5cGVzIiwiaWQiLCJsYWJlbCIsImRlc2NyaXB0aW9uIiwiaWNvbiIsImNhcmRUb25lcyIsImFydGlzdGljU3R5bGVzIiwicHJvbXB0TW9kaWZpZXIiLCJwYXBlclNpemVzIiwiYXNwZWN0UmF0aW8iLCJkaW1lbnNpb25zIiwicHJpbnRXaWR0aCIsInByaW50SGVpZ2h0IiwiaW1hZ2VNb2RlbHMiLCJzZW5kVGhhbmtZb3VFbWFpbCIsInRvRW1haWwiLCJjYXJkVHlwZSIsImNhcmRVcmwiLCJ0cmltIiwiaHRtbEJvZHkiLCJ0ZXh0Qm9keSIsInVzZXJSZXNwb25zZSIsImZldGNoIiwibWV0aG9kIiwiaGVhZGVycyIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwidG8iLCJmcm9tIiwic3ViamVjdCIsInRleHQiLCJodG1sIiwiYWRtaW5SZXNwb25zZSIsIm9rIiwic3VjY2VzcyIsImVycm9yIiwiY29uc29sZSIsImNoYXRXaXRoQUkiLCJ1c2VyTWVzc2FnZSIsIm9wdGlvbnMiLCJzeXN0ZW1Qcm9tcHQiLCJtb2RlbCIsImluY2x1ZGVUaG91Z2h0cyIsImpzb25TY2hlbWEiLCJhdHRhY2htZW50cyIsInJlc3BvbnNlIiwidG9vbF9uYW1lIiwiYXJndW1lbnRzIiwibWVzc2FnZXMiLCJzeXN0ZW1fcHJvbXB0IiwiaW5jbHVkZV90aG91Z2h0cyIsImpzb25fc2NoZW1hIiwibGVuZ3RoIiwiRXJyb3IiLCJzdGF0dXMiLCJkYXRhIiwianNvbiIsInJlc3VsdCIsInBhcnNlIiwibWVzc2FnZSIsIkNhcmRTdHVkaW9QYWdlIiwicHJvbXB0Iiwic2V0UHJvbXB0IiwiZmluYWxDYXJkTWVzc2FnZSIsInNldEZpbmFsQ2FyZE1lc3NhZ2UiLCJ0b0ZpZWxkIiwic2V0VG9GaWVsZCIsImZyb21GaWVsZCIsInNldEZyb21GaWVsZCIsInNlbGVjdGVkVHlwZSIsInNldFNlbGVjdGVkVHlwZSIsImN1c3RvbUNhcmRUeXBlIiwic2V0Q3VzdG9tQ2FyZFR5cGUiLCJzZWxlY3RlZFRvbmUiLCJzZXRTZWxlY3RlZFRvbmUiLCJpc0dlbmVyYXRpbmciLCJzZXRJc0dlbmVyYXRpbmciLCJnZW5lcmF0ZWRDYXJkIiwic2V0R2VuZXJhdGVkQ2FyZCIsIm51bWJlck9mQ2FyZHMiLCJzZXROdW1iZXJPZkNhcmRzIiwiZ2VuZXJhdGVkQ2FyZHMiLCJzZXRHZW5lcmF0ZWRDYXJkcyIsInNlbGVjdGVkQ2FyZEluZGV4Iiwic2V0U2VsZWN0ZWRDYXJkSW5kZXgiLCJpc0dlbmVyYXRpbmdNZXNzYWdlIiwic2V0SXNHZW5lcmF0aW5nTWVzc2FnZSIsInNob3dBZHZhbmNlZCIsInNldFNob3dBZHZhbmNlZCIsInNlbGVjdGVkQXJ0aXN0aWNTdHlsZSIsInNldFNlbGVjdGVkQXJ0aXN0aWNTdHlsZSIsImN1c3RvbVN0eWxlRGVzY3JpcHRpb24iLCJzZXRDdXN0b21TdHlsZURlc2NyaXB0aW9uIiwic2VsZWN0ZWRJbWFnZU1vZGVsIiwic2V0U2VsZWN0ZWRJbWFnZU1vZGVsIiwic2VsZWN0ZWREcmFmdE1vZGVsIiwic2V0U2VsZWN0ZWREcmFmdE1vZGVsIiwiZ2VuZXJhdGlvblByb2dyZXNzIiwic2V0R2VuZXJhdGlvblByb2dyZXNzIiwiY291bnRkb3duIiwic2V0Q291bnRkb3duIiwiY291bnRkb3duSW50ZXJ2YWwiLCJzZXRDb3VudGRvd25JbnRlcnZhbCIsImlzQ2FyZENvbXBsZXRlZCIsInNldElzQ2FyZENvbXBsZXRlZCIsImN1cnJlbnRKb2JJZCIsInNldEN1cnJlbnRKb2JJZCIsImZhc3RQcmV2aWV3TW9kZSIsInNldEZhc3RQcmV2aWV3TW9kZSIsImlzRHJhZnRNb2RlIiwic2V0SXNEcmFmdE1vZGUiLCJkcmFmdENhcmRzIiwic2V0RHJhZnRDYXJkcyIsImRyYWZ0SW5kZXhNYXBwaW5nIiwic2V0RHJhZnRJbmRleE1hcHBpbmciLCJzZWxlY3RlZERyYWZ0SW5kZXgiLCJzZXRTZWxlY3RlZERyYWZ0SW5kZXgiLCJpc0dlbmVyYXRpbmdGaW5hbENhcmQiLCJzZXRJc0dlbmVyYXRpbmdGaW5hbENhcmQiLCJwcmV2aWV3aW5nRHJhZnRJbmRleCIsInNldFByZXZpZXdpbmdEcmFmdEluZGV4IiwiZHJhZnRDb21wbGV0aW9uU2hvd24iLCJzZXREcmFmdENvbXBsZXRpb25TaG93biIsImZvcm1hdENvdW50ZG93biIsInNlY29uZHMiLCJtaW51dGVzIiwiTWF0aCIsImZsb29yIiwicmVtYWluaW5nU2Vjb25kcyIsInRvU3RyaW5nIiwicGFkU3RhcnQiLCJzYXZlSm9iVG9TdG9yYWdlIiwiam9iSWQiLCJqb2JEYXRhIiwibG9jYWxTdG9yYWdlIiwic2V0SXRlbSIsImNyZWF0ZWRBdCIsIkRhdGUiLCJub3ciLCJwZW5kaW5nSm9icyIsImdldEl0ZW0iLCJpbmNsdWRlcyIsInB1c2giLCJyZW1vdmVKb2JGcm9tU3RvcmFnZSIsInJlbW92ZUl0ZW0iLCJ1cGRhdGVkSm9icyIsImZpbHRlciIsImNoZWNrSm9iU3RhdHVzIiwiY2hlY2tQZW5kaW5nSm9icyIsImpvYiIsInN0YXR1c1Jlc3BvbnNlIiwibG9nIiwiY2FyZERhdGEiLCJjYXJkV2l0aFFSIiwicmFuZG9tIiwic3Vic3RyIiwiZnJvbnRDb3ZlciIsImNhcmRTdG9yZVJlc3BvbnNlIiwiYmFja0NvdmVyIiwibGVmdFBhZ2UiLCJyaWdodFBhZ2UiLCJnZW5lcmF0ZWRQcm9tcHRzIiwiY2FyZFN0b3JlRGF0YSIsImFjdHVhbFNoYXJlVXJsIiwic2hhcmVfdXJsIiwib3JpZ2luYWxCYWNrQ292ZXIiLCJvdmVybGF5UVJDb2RlT25JbWFnZSIsInNoYXJlVXJsIiwid2FybiIsInNldFByb2dyZXNzUGVyY2VudGFnZSIsInNjcm9sbFRvQ2FyZFByZXZpZXciLCJzZXRTZWN0aW9uTG9hZGluZ1N0YXRlcyIsImxlZnRJbnRlcmlvciIsInJpZ2h0SW50ZXJpb3IiLCJnZW5lcmF0aW9uVGltZVNlY29uZHMiLCJzZXRHZW5lcmF0aW9uRHVyYXRpb24iLCJzdG9wRWxhcHNlZFRpbWVUcmFja2luZyIsImNhcmRGb3JTdG9yYWdlIiwic3RhcnRzV2l0aCIsImNhcmRzRGF0YSIsIm1vc3RSZWNlbnRDYXJkIiwiZ2VuZXJhdGlvbkR1cmF0aW9uIiwic3RvcmFnZUVycm9yIiwidXNlckVtYWlsIiwiY2FyZFR5cGVGb3JFbWFpbCIsImpvYlN0YXJ0VGltZSIsImdldFRpbWUiLCJzdGFydEVsYXBzZWRUaW1lVHJhY2tpbmciLCJwcm9tcHRzIiwibG9hZGluZ1N0YXRlcyIsImlzRnJvbnRCYWNrT25seSIsImluZm8iLCJwb2xsSm9iU3RhdHVzIiwiYXR0ZW1wdCIsImlzRHJhZnRKb2IiLCJkcmFmdEluZGV4IiwicGFyc2VJbnQiLCJzcGxpdCIsInN0eWxlSW5mbyIsInVuZGVmaW5lZCIsInByZWRlZmluZWRTdHlsZXMiLCJzdHlsZUxhYmVscyIsInN0eWxlTmFtZSIsInN0eWxlTGFiZWwiLCJkcmFmdENhcmQiLCJwcmV2IiwidXBkYXRlZCIsInVwZGF0ZWRNYXBwaW5nIiwibmV3Q29tcGxldGVkQ291bnQiLCJzZXRUaW1lb3V0IiwiZGVsYXkiLCJtaW4iLCJwb3ciLCJpbWFnZVVybCIsImxvZ29VcmwiLCJxckxvZ29VcmwiLCJsb2dvUmVzcG9uc2UiLCJsb2dvRGF0YSIsImxvZ29zIiwidXJsIiwibG9nb0Vycm9yIiwicXJDb2RlRGF0YVVybCIsInFyUmVzcG9uc2UiLCJsb2dvX3VybCIsInNpemUiLCJzZWFtbGVzcyIsInFyRGF0YSIsInFyX2NvZGUiLCJsb2dvUXJFcnJvciIsInRvRGF0YVVSTCIsIndpZHRoIiwibWFyZ2luIiwiY29sb3IiLCJkYXJrIiwibGlnaHQiLCJlcnJvckNvcnJlY3Rpb25MZXZlbCIsImNhbnZhcyIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImN0eCIsImdldENvbnRleHQiLCJiYWNrQ292ZXJJbWciLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsIm9ubG9hZCIsImhlaWdodCIsImRyYXdJbWFnZSIsInFySW1nIiwicXJTaXplIiwicGFkZGluZyIsIngiLCJ5IiwiY3V0b3V0UGFkZGluZyIsImN1dG91dFgiLCJjdXRvdXRZIiwiY3V0b3V0V2lkdGgiLCJjdXRvdXRIZWlnaHQiLCJmaWxsU3R5bGUiLCJiZWdpblBhdGgiLCJyb3VuZFJlY3QiLCJmaWxsIiwic3Ryb2tlU3R5bGUiLCJsaW5lV2lkdGgiLCJzdHJva2UiLCJmb250IiwidGV4dEFsaWduIiwidGV4dFgiLCJ0ZXh0WSIsImZpbGxUZXh0Iiwib25lcnJvciIsInNyYyIsImhhbmR3cml0aW5nU2FtcGxlIiwic2V0SGFuZHdyaXRpbmdTYW1wbGUiLCJoYW5kd3JpdGluZ1NhbXBsZVVybCIsInNldEhhbmR3cml0aW5nU2FtcGxlVXJsIiwicmVmZXJlbmNlSW1hZ2VzIiwic2V0UmVmZXJlbmNlSW1hZ2VzIiwicmVmZXJlbmNlSW1hZ2VVcmxzIiwic2V0UmVmZXJlbmNlSW1hZ2VVcmxzIiwiaW1hZ2VUcmFuc2Zvcm1hdGlvbiIsInNldEltYWdlVHJhbnNmb3JtYXRpb24iLCJpc1VwbG9hZGluZyIsInNldElzVXBsb2FkaW5nIiwic2V0VXNlckVtYWlsIiwiY3VycmVudENhcmRJZCIsInNldEN1cnJlbnRDYXJkSWQiLCJpc0hhbmR3cml0dGVuTWVzc2FnZSIsInNldElzSGFuZHdyaXR0ZW5NZXNzYWdlIiwic2V0SXNGcm9udEJhY2tPbmx5Iiwic2VsZWN0ZWRQYXBlclNpemUiLCJzZXRTZWxlY3RlZFBhcGVyU2l6ZSIsInNlY3Rpb25Mb2FkaW5nU3RhdGVzIiwicHJvZ3Jlc3NQZXJjZW50YWdlIiwiY2xlYXJJbnRlcnZhbCIsImlzSW5pdGlhbExvYWRDb21wbGV0ZSIsInNldElzSW5pdGlhbExvYWRDb21wbGV0ZSIsImlzVGV4dGFyZWFFeHBhbmRlZCIsInNldElzVGV4dGFyZWFFeHBhbmRlZCIsImlzTWVzc2FnZUV4cGFuZGVkIiwic2V0SXNNZXNzYWdlRXhwYW5kZWQiLCJtZXNzYWdlSGlzdG9yeSIsInNldE1lc3NhZ2VIaXN0b3J5IiwiY3VycmVudE1lc3NhZ2VJbmRleCIsInNldEN1cnJlbnRNZXNzYWdlSW5kZXgiLCJyZWZpbmVtZW50UHJvbXB0Iiwic2V0UmVmaW5lbWVudFByb21wdCIsImlzUmVmaW5pbmdNZXNzYWdlIiwic2V0SXNSZWZpbmluZ01lc3NhZ2UiLCJzaG93UmVmaW5lbWVudEJveCIsInNldFNob3dSZWZpbmVtZW50Qm94Iiwic2hvd1NldHRpbmdzIiwic2V0U2hvd1NldHRpbmdzIiwic2hvd1RlbXBsYXRlR2FsbGVyeSIsInNldFNob3dUZW1wbGF0ZUdhbGxlcnkiLCJ0ZW1wbGF0ZVNlYXJjaFF1ZXJ5Iiwic2V0VGVtcGxhdGVTZWFyY2hRdWVyeSIsImlzU2VhcmNoaW5nVGVtcGxhdGVzIiwic2V0SXNTZWFyY2hpbmdUZW1wbGF0ZXMiLCJhaUZpbHRlcmVkQ2FyZHMiLCJzZXRBaUZpbHRlcmVkQ2FyZHMiLCJzZWFyY2hNb2RlIiwic2V0U2VhcmNoTW9kZSIsInRleHRGaWx0ZXJlZENhcmRzIiwic2V0VGV4dEZpbHRlcmVkQ2FyZHMiLCJzaG93UHJvbXB0cyIsInNldFNob3dQcm9tcHRzIiwicHJpbnRPcHRpb24iLCJzZXRQcmludE9wdGlvbiIsInByZWxvYWRBbGxDYXJkcyIsImdldENhY2hlZENhcmRzIiwidG90YWxDYXJkcyIsInNob3dQcmludENvbmZpcm1hdGlvbiIsInNldFNob3dQcmludENvbmZpcm1hdGlvbiIsImdlbmVyYXRpb25TdGFydFRpbWUiLCJzZXRHZW5lcmF0aW9uU3RhcnRUaW1lIiwiY3VycmVudEVsYXBzZWRUaW1lIiwic2V0Q3VycmVudEVsYXBzZWRUaW1lIiwiZWxhcHNlZFRpbWVJbnRlcnZhbCIsInNldEVsYXBzZWRUaW1lSW50ZXJ2YWwiLCJmb3JtYXRHZW5lcmF0aW9uVGltZSIsImR1cmF0aW9uU2Vjb25kcyIsImNhcmRQcmV2aWV3RWxlbWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJzY3JvbGxJbnRvVmlldyIsImJlaGF2aW9yIiwiYmxvY2siLCJzdGFydFRpbWUiLCJlc3RpbWF0ZWRUb3RhbFNlY29uZHMiLCJzdGFydCIsImludGVydmFsIiwic2V0SW50ZXJ2YWwiLCJlbGFwc2VkIiwiZXN0aW1hdGVkVG90YWwiLCJwZXJjZW50YWdlIiwicmVzdG9yZUVsYXBzZWRUaW1lVHJhY2tpbmciLCJzYXZlZFN0YXJ0VGltZSIsImxvYWRTYXZlZFN0YXRlIiwic2F2ZWRGb3JtRGF0YSIsImZvcm1EYXRhIiwic2F2ZWRDYXJkcyIsImNhcmRzIiwiQXJyYXkiLCJpc0FycmF5Iiwic2VsZWN0ZWRJbmRleCIsIm5ld0NhcmRzRGF0YSIsImNhcmRXaXRoRGF0ZSIsImNsZWFudXBMb2NhbFN0b3JhZ2UiLCJrZWVwS2V5cyIsImtleXNUb0NoZWNrIiwiaSIsImtleSIsInJlbW92ZWRDb3VudCIsImZvckVhY2giLCJvbmVEYXlBZ28iLCJyZWNlbnRKb2JzIiwic2F2ZUZvcm1EYXRhIiwic2F2ZUdlbmVyYXRlZENhcmRzIiwidGltZW91dElkIiwiYWRkTWVzc2FnZVRvSGlzdG9yeSIsImNsZWFyVGltZW91dCIsImNsZWFyU2F2ZWREYXRhIiwiZ2V0U3RvcmFnZVVzYWdlIiwidG90YWxTaXplIiwiaGFzT3duUHJvcGVydHkiLCJ1c2VkIiwidXNlZE1CIiwidG9GaXhlZCIsInJvdW5kIiwic2hvd1RlbXBsYXRlQ3VzdG9taXphdGlvbiIsInNldFNob3dUZW1wbGF0ZUN1c3RvbWl6YXRpb24iLCJzZWxlY3RlZFRlbXBsYXRlIiwic2V0U2VsZWN0ZWRUZW1wbGF0ZSIsInRlbXBsYXRlQ3VzdG9taXphdGlvbnMiLCJzZXRUZW1wbGF0ZUN1c3RvbWl6YXRpb25zIiwicHJvbXB0Q2hhbmdlcyIsIm1lc3NhZ2VDaGFuZ2VzIiwidXNlUmVmZXJlbmNlSW1hZ2UiLCJyZWZlcmVuY2VJbWFnZUZpbGUiLCJyZWZlcmVuY2VJbWFnZVRyYW5zZm9ybWF0aW9uIiwiYXBwbHlUZW1wbGF0ZSIsInRlbXBsYXRlIiwiZ2VuZXJhdGVDYXJkV2l0aEV4aXN0aW5nUHJvbXB0cyIsImNhcmRUeXBlRm9yUHJvbXB0IiwicGFwZXJDb25maWciLCJmaW5kIiwibWVzc2FnZUNvbnRlbnQiLCJyZXBsYWNlIiwiaXNUZW1wbGF0ZUN1c3RvbWl6YXRpb24iLCJpbnB1dEltYWdlcyIsImVuaGFuY2VkUHJvbXB0cyIsInRvdGFsUmVmZXJlbmNlSW1hZ2VzIiwiY2hhcmFjdGVySW5zdHJ1Y3Rpb25zIiwiY29uZmlnIiwidXNlck51bWJlciIsIm1vZGVsVmVyc2lvbiIsInF1YWxpdHkiLCJvdXRwdXRGb3JtYXQiLCJvdXRwdXRDb21wcmVzc2lvbiIsIm1vZGVyYXRpb24iLCJpbnB1dF9pbWFnZXMiLCJpbnB1dF9pbWFnZXNfbW9kZSIsImhhbmRsZUFwcGx5VGVtcGxhdGVXaXRoQ3VzdG9taXphdGlvbnMiLCJmaW5hbFByb21wdCIsIm1vZGlmaWNhdGlvblF1ZXJ5IiwibW9kaWZpZWRQcm9tcHRzIiwidHlwZSIsInByb3BlcnRpZXMiLCJyZXF1aXJlZCIsInByb21wdExvd2VyIiwidG9Mb3dlckNhc2UiLCJkZXRlY3RlZFR5cGUiLCJGb3JtRGF0YSIsImFwcGVuZCIsInVwbG9hZFJlc3BvbnNlIiwidXBsb2FkUmVzdWx0IiwiY3VzdG9taXphdGlvblN1bW1hcnkiLCJzdW1tYXJ5VGV4dCIsImpvaW4iLCJoYW5kbGVHZW5lcmF0ZUNhcmRBc3luYyIsImhhbmRsZUNyZWF0ZU5ld0NhcmQiLCJoYW5kbGVSZWdlbmVyYXRlQ2FyZCIsImNsZWFuTWVzc2FnZSIsIm5ld0hpc3RvcnkiLCJzbGljZSIsInNoaWZ0IiwidW5kb01lc3NhZ2UiLCJuZXdJbmRleCIsInJlZG9NZXNzYWdlIiwiaGFuZGxlUmVmaW5lTWVzc2FnZSIsInNlbGVjdGVkVG9uZU9iaiIsInRvbmUiLCJ0b25lRGVzY3JpcHRpb24iLCJyZWZpbmVtZW50QVBJUHJvbXB0IiwicmVmaW5lZE1lc3NhZ2UiLCJjbGVhbmVkUmVmaW5lZE1lc3NhZ2UiLCJoYW5kbGVHZXRNZXNzYWdlSGVscCIsImVmZmVjdGl2ZVByb21wdCIsIm1lc3NhZ2VQcm9tcHQiLCJnZW5lcmF0ZWRNZXNzYWdlIiwibWVzc2FnZU1hdGNoIiwibWF0Y2giLCJleHRyYWN0ZWRNZXNzYWdlIiwiaGFuZGxlRmlsZVVwbG9hZCIsImZpbGUiLCJmaWxlTmFtZSIsIm5hbWUiLCJ0b3RhbEltYWdlcyIsImhhbmRsZVJlbW92ZVJlZmVyZW5jZUltYWdlIiwiaW5kZXgiLCJyZW1vdmVkSW1hZ2UiLCJyZW1vdmVkVXJsIiwiXyIsInJlbWFpbmluZ0ltYWdlcyIsImhhbmRsZUdlbmVyYXRlRHJhZnRDYXJkcyIsImVtYWlsUmVnZXgiLCJ0ZXN0IiwicmVmZXJlbmNlSW1hZ2VVcmxzTGVuZ3RoIiwicmVmZXJlbmNlSW1hZ2VzTGVuZ3RoIiwiY2xlYXJQaG90b3MiLCJzd2l0Y2hUb0dQVDEiLCJkaXYiLCJjbGFzc05hbWUiLCJwIiwibSIsImJ1dHRvbiIsIm9uQ2xpY2siLCJkdXJhdGlvbiIsInN0eWxlTWVzc2FnZSIsImRyYWZ0UHJvbWlzZXMiLCJzdHlsZU92ZXJyaWRlIiwiaGFuZGxlR2VuZXJhdGVDYXJkQXN5bmNJbnRlcm5hbCIsIm9uRHJhZnRDb21wbGV0ZSIsImNhcmQiLCJpZHgiLCJjb21wbGV0ZWRDb3VudCIsImMiLCJhbGxTZXR0bGVkIiwiaGFuZGxlR2VuZXJhdGVGaW5hbEZyb21EcmFmdCIsImRpc3BsYXlJbmRleCIsIm9yaWdpbmFsRHJhZnRJbmRleCIsInJlbWFpbmluZ0RyYWZ0cyIsInNlbGVjdGVkRHJhZnQiLCJzdG9yZWRGcm9udENvdmVyUHJvbXB0Iiwic3Vic3RyaW5nIiwiZHJhZnRTdHlsZUluZm8iLCJzdHlsZU1vZGlmaWVyIiwic2VsZWN0ZWRTdHlsZSIsInN0eWxlIiwiZ2VuZXJhdGVPdGhlclByb21wdHNRdWVyeSIsImZpbmFsUHJvbXB0cyIsImhhc0Zyb250Q292ZXIiLCJoYXNCYWNrQ292ZXIiLCJoYXNMZWZ0SW50ZXJpb3IiLCJoYXNSaWdodEludGVyaW9yIiwiaGFzT25EcmFmdENvbXBsZXRlIiwibW9kZWxUb1VzZSIsIm1vZGVUZXh0IiwiYXV0b01lc3NhZ2VQcm9tcHQiLCJlZmZlY3RpdmVBcnRpc3RpY1N0eWxlIiwicHJvbXB0R2VuZXJhdGlvblF1ZXJ5IiwiZnJvbnRDb3ZlclByb21wdCIsImVycm9yTWVzc2FnZSIsImhhbmRsZUdlbmVyYXRlQ2FyZCIsImNhcmRJZCIsInN0eWxlU2VsZWN0aW9uUHJvbXB0IiwiYWlTZWxlY3RlZFN0eWxlIiwibGVnYWN5UHJvbXB0R2VuZXJhdGlvblF1ZXJ5IiwicHJvbXB0R2VuZXJhdGlvblByb21pc2VzIiwiY2FyZEluZGV4IiwidW5pcXVlUHJvbXB0UXVlcnkiLCJhbGxHZW5lcmF0ZWRQcm9tcHRzIiwiYWxsIiwiZnJvbnRDb3ZlcklucHV0SW1hZ2VzIiwiYmFja0NvdmVySW5wdXRJbWFnZXMiLCJsZWZ0SW50ZXJpb3JJbnB1dEltYWdlcyIsInJpZ2h0SW50ZXJpb3JJbnB1dEltYWdlcyIsImFsbENhcmRQYXlsb2FkcyIsImVuaGFuY2VkRnJvbnRDb3ZlclByb21wdCIsImNhcmRQYXlsb2FkcyIsInVzZXJfbnVtYmVyIiwibW9kZWxfdmVyc2lvbiIsImFzcGVjdF9yYXRpbyIsIm91dHB1dF9mb3JtYXQiLCJvdXRwdXRfY29tcHJlc3Npb24iLCJ1c2VyX2lkX2NvbnRleHQiLCJzZWN0aW9uSW5kZXgiLCJzZWN0aW9uTmFtZSIsImNvbXBsZXRlZEltYWdlcyIsIk1hcCIsImNvbXBsZXRlZENhcmRzIiwicmVnZW5lcmF0ZVByb21wdElmTmVlZGVkIiwib3JpZ2luYWxQcm9tcHQiLCJyZWdlbmVyYXRpb25RdWVyeSIsIm5ld1Byb21wdCIsInByb2Nlc3NTaW5nbGVJbWFnZSIsInBheWxvYWQiLCJjdXJyZW50UGF5bG9hZCIsInJldHJ5Q291bnQiLCJtYXhSZXRyaWVzIiwiaGFzVHJpZWRUZXh0RmFsbGJhY2siLCJwYXJzZWRSZXN1bHQiLCJyZXN1bHRzIiwiaW1hZ2VLZXkiLCJzZXQiLCJuZXdTdGF0ZSIsInNlY3Rpb25zUGVyQ2FyZCIsImNhcmRTdGFydEluZGV4IiwiY2FyZEVuZEluZGV4IiwiaXNDYXJkQ29tcGxldGUiLCJjaGVja0tleSIsImhhcyIsInByZXZDYXJkcyIsInVwZGF0ZWRDYXJkcyIsInVwZGF0ZWRDYXJkIiwiZ2V0IiwiaW1hZ2VQcm9taXNlcyIsIm1hcCIsImZpbmFsQ2FyZHMiLCJoYXNDYXJkVXJsIiwiYmFja0NvdmVyTGVuZ3RoIiwiY2FyZFRvU3RvcmUiLCJzZXJ2ZXJFcnJvciIsImhhbmRsZVByaW50Q2xpY2siLCJoYW5kbGVUZW1wbGF0ZVNlbGVjdCIsImhhc0FsbEltYWdlcyIsImVuY29kZVVSSUNvbXBvbmVudCIsImZvdW5kQ2FyZCIsImNvbXBsZXRlQ2FyZCIsImZldGNoRXJyb3IiLCJmYWxsYmFja0NhcmQiLCJwZXJmb3JtQUlBbmFseXNpcyIsImNhcmRzVG9BbmFseXplIiwic2VhcmNoUXVlcnkiLCJhZGFwdGl2ZUJhdGNoU2l6ZSIsIm1heCIsImJhdGNoZXMiLCJhbmFseXNpc1Byb21wdCIsImJhdGNoUHJvbWlzZXMiLCJiYXRjaCIsImJhdGNoSW5kZXgiLCJ2YWxpZENhcmRzIiwidXJscyIsImJhdGNoUmVzdWx0cyIsInRleHRTY29yZSIsInNjb3JlIiwiYW5hbHlzaXMiLCJhbmFseXNpc19wcm9tcHQiLCJhbmFseXNpc1Jlc3VsdCIsInNjb3JlTWF0Y2giLCJhbGxCYXRjaFJlc3VsdHMiLCJmbGF0IiwiaGFuZGxlVGV4dFRlbXBsYXRlU2VhcmNoIiwiYWxsQ2FyZHMiLCJzZWFyY2hUZXJtcyIsInRlcm0iLCJzY29yZWRDYXJkcyIsIm1hdGNoU291cmNlcyIsInNlYXJjaGFibGVUZXh0cyIsIndlaWdodCIsInNvdXJjZSIsInRlcm1TY29yZSIsInBhcnRpYWxTY29yZSIsIm1hdGNoZWRUZXJtcyIsInNvbWUiLCJmaWx0ZXJlZENhcmRzIiwic29ydCIsImEiLCJiIiwiYXZnU2NvcmUiLCJyZWR1Y2UiLCJzdW0iLCJhaUFuYWx5emVkTWF0Y2hlcyIsInN1Y2Nlc3NNZXNzYWdlIiwiaGFuZGxlQUlUZW1wbGF0ZVNlYXJjaCIsImNhcmRUZXh0IiwiY29tbW9uIiwiZmlsdGVyTWVzc2FnZSIsInF1ZXJ5Q29tcGxleGl0eSIsImFuYWx5c2lzUmVzdWx0cyIsInJhbmtlZFJlc3VsdHMiLCJhaVNjb3JlIiwiYWlBbmFseXNpcyIsInIiLCJoYW5kbGVIeWJyaWRUZW1wbGF0ZVNlYXJjaCIsInRleHRDYW5kaWRhdGVzIiwiaHlicmlkUmVzdWx0cyIsImh5YnJpZFNjb3JlIiwiZmluYWxSZXN1bHRzIiwiaGFuZGxlVGVtcGxhdGVTZWFyY2giLCJjbGVhclRlbXBsYXRlU2VhcmNoIiwiaGFuZGxlQ29uZmlybVByaW50IiwiY2FyZFRvUHJpbnQiLCJmcm9udF9jb3ZlciIsImJhY2tfY292ZXIiLCJsZWZ0X3BhZ2UiLCJyaWdodF9wYWdlIiwiY2FyZF9uYW1lIiwicGFwZXJfc2l6ZSIsImlzX2Zyb250X2JhY2tfb25seSIsImNvcGllcyIsImNvbG9yX21vZGUiLCJlbWFpbERhdGEiLCJ1c2VyX2VtYWlsIiwic2VuZF9wZGYiLCJlcnJvclRleHQiLCJkdXBsZXhJbmZvIiwiZHVwbGV4IiwicG9sbENvdW50IiwibWF4UG9sbHMiLCJwb2xsU3RhdHVzIiwiam9iX2lkIiwic3RhdHVzUmVzdWx0IiwiaGVhZGVyIiwiaHJlZiIsInZhcmlhbnQiLCJoMSIsInNwYW4iLCJvcGVuIiwib25PcGVuQ2hhbmdlIiwiYXNDaGlsZCIsImFsaWduIiwiaDQiLCJ2YWx1ZSIsIm9uVmFsdWVDaGFuZ2UiLCJzZWxlY3RlZCIsIkljb25Db21wb25lbnQiLCJwbGFjZWhvbGRlciIsIm9uQ2hhbmdlIiwiZSIsInRhcmdldCIsImZvbnRTaXplIiwicm93cyIsInN0cm9uZyIsImRpc2FibGVkIiwib25LZXlEb3duIiwic2hpZnRLZXkiLCJwcmV2ZW50RGVmYXVsdCIsImlucHV0IiwiY2hlY2tlZCIsImh0bWxGb3IiLCJpbWciLCJhbHQiLCJhY2NlcHQiLCJmaWxlcyIsImltYWdlIiwibnVtIiwidWwiLCJsaSIsImJyIiwidG9Mb2NhbGVEYXRlU3RyaW5nIiwiZGF0YS1jYXJkLXByZXZpZXciLCJvcmlnaW5hbEluZGV4IiwiaXNMb2FkaW5nIiwic3RvcFByb3BhZ2F0aW9uIiwiaGFzR2VuZXJhdGVkQ2FyZCIsImdlbmVyYXRlZENhcmRzTGVuZ3RoIiwiZHJhZnRDYXJkc0xlbmd0aCIsInRpdGxlIiwib25DYXJkVXBkYXRlIiwib25QcmludCIsIm9uUGFwZXJTaXplQ2hhbmdlIiwib25WaWV3RnVsbENhcmQiLCJoMyIsIm1heENhcmRzIiwib25DYXJkU2VsZWN0IiwidXJsUGFydHMiLCJ3aW5kb3ciLCJzY3JvbGxCZWhhdmlvciIsIldlYmtpdE92ZXJmbG93U2Nyb2xsaW5nIiwic2Nyb2xsYmFyV2lkdGgiLCJzY3JvbGxTbmFwVHlwZSIsInRvdWNoQWN0aW9uIiwib3ZlcmZsb3dYIiwib3ZlcmZsb3dZIiwiZnJvbnRJbWFnZSIsInNjcm9sbFNuYXBBbGlnbiIsImxvYWRpbmciLCJ1c2VyU2VsZWN0IiwiaGFzQ2FjaGUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./app/page.tsx\n"));

/***/ })

});